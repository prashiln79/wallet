import{$ as du,$a as sf,A as Ns,Aa as rb,Ab as vb,B as Hr,Ba as uu,Bb as jd,C as IC,Ca as ef,Cb as bu,D as En,Da as Dr,Db as yb,E as ra,Ea as cr,Eb as Ob,F as DC,Fa as Vs,Fb as wb,G as FC,Ga as jn,Gb as Sb,H as RC,Ha as ab,Hb as tn,I as NC,Ia as vo,Ib as Ia,J as LC,Ja as Ui,Jb as nn,K as BC,Ka as Gi,Kb as Tb,L as VC,La as $s,Lb as Eb,M as $C,Ma as tf,Mb as Ab,N as jC,Na as ob,Nb as Ib,O as sr,Oa as nf,P as Aa,Pa as rf,Q as zC,Qa as Fr,R as YC,Ra as af,S as UC,Sa as Li,T as WC,Ta as js,U as Il,Ua as sb,V as Dl,Va as Rn,W as ou,Wa as of,X as su,Xa as Vd,Y as HC,Ya as mu,Z as cu,Za as zn,_ as lu,_a as pu,a as Qg,aa as bo,ab as cb,b as pC,ba as Yi,bb as bc,c as fC,ca as pt,cb as cf,d as hC,da as Ls,db as lb,e as Vt,ea as Bs,eb as lf,f as Ar,fa as Ee,fb as df,g as Tl,ga as st,gb as zs,h as _C,ha as Fl,hb as $d,i as xC,ia as qp,ib as gf,j as CC,ja as Kp,jb as uf,k as Hp,ka as Zp,kb as Nl,l as bC,la as Rl,lb as fu,m as Ta,ma as Bd,mb as db,n as nu,na as xc,nb as hu,o as vC,oa as QC,ob as _u,p as yC,pa as JC,pb as xu,q as iu,qa as Qp,qb as Cu,r as MC,ra as eb,rb as ub,s as wC,sa as tb,sb as mb,t as SC,ta as nb,tb as pb,u as kC,ua as Ni,ub as fb,v as gn,va as ib,vb as hb,w as Ir,wa as Jp,wb as _b,x as TC,xa as sn,xb,y as EC,ya as gu,yb as Cb,z as Rs,za as Cc,zb as bb}from"./chunk-6VWHZ5IH.js";import{a as ni,b as Bg,c as Vg,d as Es,e as xl,f as $g,g as As,h as Cl,i as jg,j as bl,k as Is,l as zg,m as Yg,n as Ug,o as Fd,p as Rx,q as PC,r as OC,s as pa,t as ia,u as Xp,v as GC,w as kb}from"./chunk-MRM6HUCM.js";import{$ as Mx,$a as Lx,$b as or,$c as Pl,A as li,Aa as Ts,Ab as di,Ad as Qe,B as Jn,Ba as Mg,Bb as Sr,Bd as ka,C as rr,Ca as Pg,Cb as Qx,Cd as Er,D as ll,Da as Og,E as ki,Ea as wg,Eb as ua,Ed as mC,F as _x,Fa as Sg,Fb as ar,Fd as ui,Ga as kg,Gb as qg,Gd as mi,H as Ti,Ha as Tx,Hb as $t,Hd as pi,I as dl,Ia as Tg,Ib as Jx,Id as xn,J as gl,Ja as Ex,Jb as bi,K as ul,Ka as fr,Kb as go,Kd as Jg,L as Ss,La as Eg,Lb as eC,Ld as eu,M as ks,Ma as Ag,Mb as Yp,Md as tu,N as ml,Na as hl,Nb as Up,O as pl,Oa as Ax,Ob as Gp,Od as ma,P as Ei,Pa as Ig,Pb as Ld,Pd as mo,Qa as wa,Qb as ta,R as xx,Ra as Ix,Rb as $n,Rd as Fn,S as en,Sa as Dg,Sd as ru,T as Cx,Ta as _l,Tb as Wp,Tc as Ii,Td as El,U as bx,Ua as Fg,V as Dt,Va as Rg,W as Rt,Wa as Ng,Wc as Zt,Wd as na,X as $p,Xa as Dx,Xc as cC,Xd as po,Y as gg,Ya as Lg,Yb as tC,Yc as Kg,Yd as au,Z as vx,Za as Fx,Zb as kr,Zc as lC,Zd as AC,_ as yx,_a as Nx,_b as ht,_c as dn,_d as fo,a as ax,aa as jp,ab as Bx,ac as Ai,ae as Di,b as ox,ba as Px,bb as Vx,bc as nC,c as sx,ca as Ox,cb as Gg,cc as Fs,ce as Fi,d as cx,da as mt,db as Wg,dc as uo,e as ag,ea as is,eb as vl,ec as Ut,f as lx,fa as ug,fb as Rd,fc as gi,fe as Ea,g as og,gb as Hg,gc as iC,h as dx,hb as yl,hc as rC,he as Al,i as gx,ia as wx,ib as Nd,ic as aC,ie as ho,j as ux,ja as Fe,jb as zp,jc as oC,je as _o,k as sg,ka as Oa,kb as Ds,kc as vi,ke as xo,l as mx,la as ea,lb as $x,lc as sC,m as cg,ma as mg,mb as jx,me as Ri,n as on,na as pg,nb as zx,ne as XC,o as lg,oa as fg,ob as Yx,od as dC,oe as qC,p as px,pa as Sx,pb as Ux,pe as KC,q as Id,qa as hg,qb as Xg,qe as ZC,r as fx,ra as _g,rb as Gx,re as Co,s as hx,sa as kx,sb as Wx,se as gb,t as Yt,ta as xg,tb as Hx,ua as fl,ub as Xx,ue as Mb,v as tt,va as Cg,vb as qx,vc as Tr,vd as gC,ve as Pb,w as Bt,wa as bg,wb as Mt,wc as Ml,x as Qn,xa as vg,xb as Kx,xd as Ct,y as dg,ya as yg,yb as Zx,yd as Sa,z as cl,za as Dd,zd as uC}from"./chunk-J32ER7RI.js";import{f as Db,g as zd,h as vu,m as Fb,n as yu,p as Rb,u as Nb}from"./chunk-IVULIB6O.js";import{$b as Ke,Aa as Le,Ab as eg,Ac as X_,Ad as nr,Ba as Pr,Bc as dt,Bd as ct,Ca as _c,Cb as Bp,Cc as gt,Db as Ji,Dc as ut,Dd as wi,Ea as sl,Ec as q_,Ed as ir,F as Fp,Fc as Jr,Fd as Si,Gc as K_,Gd as rx,H as Qi,Hc as Xa,Hd as Os,Ic as qa,Id as Pa,J as Ot,Ja as Z0,Jc as Z_,K as T_,Ka as j,Kc as Q_,Kd as rg,L as Ed,La as z,Lc as J_,Ld as ws,Ma as zi,Mc as se,N as yr,Na as Ma,Nc as pe,Oa as $_,Oc as vt,Pc as ex,Q as E_,Qa as j_,Qb as L,Qd as Zg,Ra as z_,Rb as ga,Rd as Ol,S as ol,Sb as O,Tb as kt,Td as wl,Ua as Lp,Ub as Ue,Ud as Sl,Va as Jo,Vb as Tt,Wa as es,Wd as kl,Xb as Oe,Ya as Mn,Yb as W_,Yc as tx,Zb as Or,_b as qe,a as Ki,aa as A_,ac as c,ba as I_,bb as Ps,bc as l,c as Jt,ca as D_,cb as Ad,cc as oe,dc as ts,dd as nx,ea as F_,ec as ns,ed as ix,f as It,fa as R_,g as un,ga as pr,gc as ue,h as Qo,ha as bt,j as P_,ja as Rp,jc as R,k as O_,ka as N_,l as w_,la as L_,lc as y,ma as B_,mc as H_,n as Ms,nc as tg,o as S_,oa as V_,oc as Ha,pa as xt,pb as Q0,pc as Vp,q as Vn,qa as Mr,qc as wr,r as _t,rb as Y_,rc as er,s as lo,sa as Wa,sb as J0,sc as tr,sd as ng,ua as Ne,ub as p,v as k_,va as ya,vb as W,vc as wn,w as Ye,wb as U_,wc as g,x as Zi,xa as Np,xc as V,xd as ig,y as Kt,yb as G_,yc as ee,zc as Wt,zd as Zn}from"./chunk-JESKCT2G.js";import{a as ce,b as de,c as y_,d as rl,e as al,f as M_,h as da,i as wt,k as ge}from"./chunk-LKDXID24.js";var fa=M_((xf,Wl)=>{"use strict";(function(n,t){typeof xf=="object"&&typeof Wl<"u"?Wl.exports=t():typeof define=="function"&&define.amd?define(t):n.moment=t()})(xf,function(){"use strict";var n;function t(){return n.apply(null,arguments)}function i(h){n=h}function e(h){return h instanceof Array||Object.prototype.toString.call(h)==="[object Array]"}function r(h){return h!=null&&Object.prototype.toString.call(h)==="[object Object]"}function a(h,C){return Object.prototype.hasOwnProperty.call(h,C)}function o(h){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(h).length===0;var C;for(C in h)if(a(h,C))return!1;return!0}function s(h){return h===void 0}function d(h){return typeof h=="number"||Object.prototype.toString.call(h)==="[object Number]"}function u(h){return h instanceof Date||Object.prototype.toString.call(h)==="[object Date]"}function m(h,C){var P=[],E,N=h.length;for(E=0;E<N;++E)P.push(C(h[E],E));return P}function f(h,C){for(var P in C)a(C,P)&&(h[P]=C[P]);return a(C,"toString")&&(h.toString=C.toString),a(C,"valueOf")&&(h.valueOf=C.valueOf),h}function _(h,C,P,E){return J1(h,C,P,E,!0).utc()}function x(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(h){return h._pf==null&&(h._pf=x()),h._pf}var b;Array.prototype.some?b=Array.prototype.some:b=function(h){var C=Object(this),P=C.length>>>0,E;for(E=0;E<P;E++)if(E in C&&h.call(this,C[E],E,C))return!0;return!1};function M(h){var C=null,P=!1,E=h._d&&!isNaN(h._d.getTime());if(E&&(C=v(h),P=b.call(C.parsedDateParts,function(N){return N!=null}),E=C.overflow<0&&!C.empty&&!C.invalidEra&&!C.invalidMonth&&!C.invalidWeekday&&!C.weekdayMismatch&&!C.nullInput&&!C.invalidFormat&&!C.userInvalidated&&(!C.meridiem||C.meridiem&&P),h._strict&&(E=E&&C.charsLeftOver===0&&C.unusedTokens.length===0&&C.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(h))h._isValid=E;else return E;return h._isValid}function S(h){var C=_(NaN);return h!=null?f(v(C),h):v(C).userInvalidated=!0,C}var w=t.momentProperties=[],T=!1;function F(h,C){var P,E,N,ae=w.length;if(s(C._isAMomentObject)||(h._isAMomentObject=C._isAMomentObject),s(C._i)||(h._i=C._i),s(C._f)||(h._f=C._f),s(C._l)||(h._l=C._l),s(C._strict)||(h._strict=C._strict),s(C._tzm)||(h._tzm=C._tzm),s(C._isUTC)||(h._isUTC=C._isUTC),s(C._offset)||(h._offset=C._offset),s(C._pf)||(h._pf=v(C)),s(C._locale)||(h._locale=C._locale),ae>0)for(P=0;P<ae;P++)E=w[P],N=C[E],s(N)||(h[E]=N);return h}function U(h){F(this,h),this._d=new Date(h._d!=null?h._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),T===!1&&(T=!0,t.updateOffset(this),T=!1)}function A(h){return h instanceof U||h!=null&&h._isAMomentObject!=null}function k(h){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+h)}function I(h,C){var P=!0;return f(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,h),P){var E=[],N,ae,Pe,rt=arguments.length;for(ae=0;ae<rt;ae++){if(N="",typeof arguments[ae]=="object"){N+=`
[`+ae+"] ";for(Pe in arguments[0])a(arguments[0],Pe)&&(N+=Pe+": "+arguments[0][Pe]+", ");N=N.slice(0,-2)}else N=arguments[ae];E.push(N)}k(h+`
Arguments: `+Array.prototype.slice.call(E).join("")+`
`+new Error().stack),P=!1}return C.apply(this,arguments)},C)}var B={};function X(h,C){t.deprecationHandler!=null&&t.deprecationHandler(h,C),B[h]||(k(C),B[h]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function J(h){return typeof Function<"u"&&h instanceof Function||Object.prototype.toString.call(h)==="[object Function]"}function te(h){var C,P;for(P in h)a(h,P)&&(C=h[P],J(C)?this[P]=C:this["_"+P]=C);this._config=h,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ye(h,C){var P=f({},h),E;for(E in C)a(C,E)&&(r(h[E])&&r(C[E])?(P[E]={},f(P[E],h[E]),f(P[E],C[E])):C[E]!=null?P[E]=C[E]:delete P[E]);for(E in h)a(h,E)&&!a(C,E)&&r(h[E])&&(P[E]=f({},P[E]));return P}function De(h){h!=null&&this.set(h)}var Ce;Object.keys?Ce=Object.keys:Ce=function(h){var C,P=[];for(C in h)a(h,C)&&P.push(C);return P};var Ve={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Se(h,C,P){var E=this._calendar[h]||this._calendar.sameElse;return J(E)?E.call(C,P):E}function je(h,C,P){var E=""+Math.abs(h),N=C-E.length,ae=h>=0;return(ae?P?"+":"":"-")+Math.pow(10,Math.max(0,N)).toString().substr(1)+E}var be=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Te=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,le={},Q={};function re(h,C,P,E){var N=E;typeof E=="string"&&(N=function(){return this[E]()}),h&&(Q[h]=N),C&&(Q[C[0]]=function(){return je(N.apply(this,arguments),C[1],C[2])}),P&&(Q[P]=function(){return this.localeData().ordinal(N.apply(this,arguments),h)})}function ne(h){return h.match(/\[[\s\S]/)?h.replace(/^\[|\]$/g,""):h.replace(/\\/g,"")}function ie(h){var C=h.match(be),P,E;for(P=0,E=C.length;P<E;P++)Q[C[P]]?C[P]=Q[C[P]]:C[P]=ne(C[P]);return function(N){var ae="",Pe;for(Pe=0;Pe<E;Pe++)ae+=J(C[Pe])?C[Pe].call(N,h):C[Pe];return ae}}function me(h,C){return h.isValid()?(C=Ae(C,h.localeData()),le[C]=le[C]||ie(C),le[C](h)):h.localeData().invalidDate()}function Ae(h,C){var P=5;function E(N){return C.longDateFormat(N)||N}for(Te.lastIndex=0;P>=0&&Te.test(h);)h=h.replace(Te,E),Te.lastIndex=0,P-=1;return h}var Ie={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ke(h){var C=this._longDateFormat[h],P=this._longDateFormat[h.toUpperCase()];return C||!P?C:(this._longDateFormat[h]=P.match(be).map(function(E){return E==="MMMM"||E==="MM"||E==="DD"||E==="dddd"?E.slice(1):E}).join(""),this._longDateFormat[h])}var ve="Invalid date";function lt(){return this._invalidDate}var K="%d",ft=/\d{1,2}/;function et(h){return this._ordinal.replace("%d",h)}var At={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function it(h,C,P,E){var N=this._relativeTime[P];return J(N)?N(h,C,P,E):N.replace(/%d/i,h)}function Be(h,C){var P=this._relativeTime[h>0?"future":"past"];return J(P)?P(C):P.replace(/%s/i,C)}var jt={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function fn(h){return typeof h=="string"?jt[h]||jt[h.toLowerCase()]:void 0}function Ln(h){var C={},P,E;for(E in h)a(h,E)&&(P=fn(E),P&&(C[P]=h[E]));return C}var mr={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Xn(h){var C=[],P;for(P in h)a(h,P)&&C.push({unit:P,priority:mr[P]});return C.sort(function(E,N){return E.priority-N.priority}),C}var si=/\d/,Nt=/\d\d/,In=/\d{3}/,ci=/\d{4}/,Kr=/[+-]?\d{6}/,zt=/\d\d?/,Oi=/\d\d\d\d?/,Pt=/\d\d\d\d\d\d?/,hn=/\d{1,3}/,ji=/\d{1,4}/,qn=/[+-]?\d{1,6}/,Zr=/\d+/,gc=/[+-]?\d+/,pp=/Z|[+-]\d\d:?\d\d/gi,Kc=/Z|[+-]\d\d(?::?\d\d)?/gi,V0=/[+-]?\d+(\.\d{1,3})?/,Cs=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Uo=/^[1-9]\d?/,vd=/^([1-9]\d|\d)/,Zc;Zc={};function nt(h,C,P){Zc[h]=J(C)?C:function(E,N){return E&&P?P:C}}function fp(h,C){return a(Zc,h)?Zc[h](C._strict,C._locale):new RegExp(hp(h))}function hp(h){return za(h.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(C,P,E,N,ae){return P||E||N||ae}))}function za(h){return h.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Qr(h){return h<0?Math.ceil(h)||0:Math.floor(h)}function an(h){var C=+h,P=0;return C!==0&&isFinite(C)&&(P=Qr(C)),P}var yd={};function yn(h,C){var P,E=C,N;for(typeof h=="string"&&(h=[h]),d(C)&&(E=function(ae,Pe){Pe[C]=an(ae)}),N=h.length,P=0;P<N;P++)yd[h[P]]=E}function uc(h,C){yn(h,function(P,E,N,ae){N._w=N._w||{},C(P,N._w,N,ae)})}function Md(h,C,P){C!=null&&a(yd,h)&&yd[h](C,P._a,P,h)}function Qc(h){return h%4===0&&h%100!==0||h%400===0}var qi=0,Ya=1,D=2,H=3,Y=4,G=5,q=6,Z=7,fe=8;re("Y",0,0,function(){var h=this.year();return h<=9999?je(h,4):"+"+h}),re(0,["YY",2],0,function(){return this.year()%100}),re(0,["YYYY",4],0,"year"),re(0,["YYYYY",5],0,"year"),re(0,["YYYYYY",6,!0],0,"year"),nt("Y",gc),nt("YY",zt,Nt),nt("YYYY",ji,ci),nt("YYYYY",qn,Kr),nt("YYYYYY",qn,Kr),yn(["YYYYY","YYYYYY"],qi),yn("YYYY",function(h,C){C[qi]=h.length===2?t.parseTwoDigitYear(h):an(h)}),yn("YY",function(h,C){C[qi]=t.parseTwoDigitYear(h)}),yn("Y",function(h,C){C[qi]=parseInt(h,10)});function Me(h){return Qc(h)?366:365}t.parseTwoDigitYear=function(h){return an(h)+(an(h)>68?1900:2e3)};var he=xe("FullYear",!0);function _e(){return Qc(this.year())}function xe(h,C){return function(P){return P!=null?(Ge(this,h,P),t.updateOffset(this,C),this):$e(this,h)}}function $e(h,C){if(!h.isValid())return NaN;var P=h._d,E=h._isUTC;switch(C){case"Milliseconds":return E?P.getUTCMilliseconds():P.getMilliseconds();case"Seconds":return E?P.getUTCSeconds():P.getSeconds();case"Minutes":return E?P.getUTCMinutes():P.getMinutes();case"Hours":return E?P.getUTCHours():P.getHours();case"Date":return E?P.getUTCDate():P.getDate();case"Day":return E?P.getUTCDay():P.getDay();case"Month":return E?P.getUTCMonth():P.getMonth();case"FullYear":return E?P.getUTCFullYear():P.getFullYear();default:return NaN}}function Ge(h,C,P){var E,N,ae,Pe,rt;if(!(!h.isValid()||isNaN(P))){switch(E=h._d,N=h._isUTC,C){case"Milliseconds":return void(N?E.setUTCMilliseconds(P):E.setMilliseconds(P));case"Seconds":return void(N?E.setUTCSeconds(P):E.setSeconds(P));case"Minutes":return void(N?E.setUTCMinutes(P):E.setMinutes(P));case"Hours":return void(N?E.setUTCHours(P):E.setHours(P));case"Date":return void(N?E.setUTCDate(P):E.setDate(P));case"FullYear":break;default:return}ae=P,Pe=h.month(),rt=h.date(),rt=rt===29&&Pe===1&&!Qc(ae)?28:rt,N?E.setUTCFullYear(ae,Pe,rt):E.setFullYear(ae,Pe,rt)}}function at(h){return h=fn(h),J(this[h])?this[h]():this}function He(h,C){if(typeof h=="object"){h=Ln(h);var P=Xn(h),E,N=P.length;for(E=0;E<N;E++)this[P[E].unit](h[P[E].unit])}else if(h=fn(h),J(this[h]))return this[h](C);return this}function Je(h,C){return(h%C+C)%C}var ot;Array.prototype.indexOf?ot=Array.prototype.indexOf:ot=function(h){var C;for(C=0;C<this.length;++C)if(this[C]===h)return C;return-1};function On(h,C){if(isNaN(h)||isNaN(C))return NaN;var P=Je(C,12);return h+=(C-P)/12,P===1?Qc(h)?29:28:31-P%7%2}re("M",["MM",2],"Mo",function(){return this.month()+1}),re("MMM",0,0,function(h){return this.localeData().monthsShort(this,h)}),re("MMMM",0,0,function(h){return this.localeData().months(this,h)}),nt("M",zt,Uo),nt("MM",zt,Nt),nt("MMM",function(h,C){return C.monthsShortRegex(h)}),nt("MMMM",function(h,C){return C.monthsRegex(h)}),yn(["M","MM"],function(h,C){C[Ya]=an(h)-1}),yn(["MMM","MMMM"],function(h,C,P,E){var N=P._locale.monthsParse(h,E,P._strict);N!=null?C[Ya]=N:v(P).invalidMonth=h});var br="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ti="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,mc=Cs,pc=Cs;function Go(h,C){return h?e(this._months)?this._months[h.month()]:this._months[(this._months.isFormat||vr).test(C)?"format":"standalone"][h.month()]:e(this._months)?this._months:this._months.standalone}function Pd(h,C){return h?e(this._monthsShort)?this._monthsShort[h.month()]:this._monthsShort[vr.test(C)?"format":"standalone"][h.month()]:e(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ua(h,C,P){var E,N,ae,Pe=h.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],E=0;E<12;++E)ae=_([2e3,E]),this._shortMonthsParse[E]=this.monthsShort(ae,"").toLocaleLowerCase(),this._longMonthsParse[E]=this.months(ae,"").toLocaleLowerCase();return P?C==="MMM"?(N=ot.call(this._shortMonthsParse,Pe),N!==-1?N:null):(N=ot.call(this._longMonthsParse,Pe),N!==-1?N:null):C==="MMM"?(N=ot.call(this._shortMonthsParse,Pe),N!==-1?N:(N=ot.call(this._longMonthsParse,Pe),N!==-1?N:null)):(N=ot.call(this._longMonthsParse,Pe),N!==-1?N:(N=ot.call(this._shortMonthsParse,Pe),N!==-1?N:null))}function UO(h,C,P){var E,N,ae;if(this._monthsParseExact)return Ua.call(this,h,C,P);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),E=0;E<12;E++){if(N=_([2e3,E]),P&&!this._longMonthsParse[E]&&(this._longMonthsParse[E]=new RegExp("^"+this.months(N,"").replace(".","")+"$","i"),this._shortMonthsParse[E]=new RegExp("^"+this.monthsShort(N,"").replace(".","")+"$","i")),!P&&!this._monthsParse[E]&&(ae="^"+this.months(N,"")+"|^"+this.monthsShort(N,""),this._monthsParse[E]=new RegExp(ae.replace(".",""),"i")),P&&C==="MMMM"&&this._longMonthsParse[E].test(h))return E;if(P&&C==="MMM"&&this._shortMonthsParse[E].test(h))return E;if(!P&&this._monthsParse[E].test(h))return E}}function j1(h,C){if(!h.isValid())return h;if(typeof C=="string"){if(/^\d+$/.test(C))C=an(C);else if(C=h.localeData().monthsParse(C),!d(C))return h}var P=C,E=h.date();return E=E<29?E:Math.min(E,On(h.year(),P)),h._isUTC?h._d.setUTCMonth(P,E):h._d.setMonth(P,E),h}function z1(h){return h!=null?(j1(this,h),t.updateOffset(this,!0),this):$e(this,"Month")}function GO(){return On(this.year(),this.month())}function WO(h){return this._monthsParseExact?(a(this,"_monthsRegex")||Y1.call(this),h?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=mc),this._monthsShortStrictRegex&&h?this._monthsShortStrictRegex:this._monthsShortRegex)}function HO(h){return this._monthsParseExact?(a(this,"_monthsRegex")||Y1.call(this),h?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=pc),this._monthsStrictRegex&&h?this._monthsStrictRegex:this._monthsRegex)}function Y1(){function h(Lt,cn){return cn.length-Lt.length}var C=[],P=[],E=[],N,ae,Pe,rt;for(N=0;N<12;N++)ae=_([2e3,N]),Pe=za(this.monthsShort(ae,"")),rt=za(this.months(ae,"")),C.push(Pe),P.push(rt),E.push(rt),E.push(Pe);C.sort(h),P.sort(h),E.sort(h),this._monthsRegex=new RegExp("^("+E.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+P.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+C.join("|")+")","i")}function XO(h,C,P,E,N,ae,Pe){var rt;return h<100&&h>=0?(rt=new Date(h+400,C,P,E,N,ae,Pe),isFinite(rt.getFullYear())&&rt.setFullYear(h)):rt=new Date(h,C,P,E,N,ae,Pe),rt}function Od(h){var C,P;return h<100&&h>=0?(P=Array.prototype.slice.call(arguments),P[0]=h+400,C=new Date(Date.UTC.apply(null,P)),isFinite(C.getUTCFullYear())&&C.setUTCFullYear(h)):C=new Date(Date.UTC.apply(null,arguments)),C}function $0(h,C,P){var E=7+C-P,N=(7+Od(h,0,E).getUTCDay()-C)%7;return-N+E-1}function U1(h,C,P,E,N){var ae=(7+P-E)%7,Pe=$0(h,E,N),rt=1+7*(C-1)+ae+Pe,Lt,cn;return rt<=0?(Lt=h-1,cn=Me(Lt)+rt):rt>Me(h)?(Lt=h+1,cn=rt-Me(h)):(Lt=h,cn=rt),{year:Lt,dayOfYear:cn}}function wd(h,C,P){var E=$0(h.year(),C,P),N=Math.floor((h.dayOfYear()-E-1)/7)+1,ae,Pe;return N<1?(Pe=h.year()-1,ae=N+Wo(Pe,C,P)):N>Wo(h.year(),C,P)?(ae=N-Wo(h.year(),C,P),Pe=h.year()+1):(Pe=h.year(),ae=N),{week:ae,year:Pe}}function Wo(h,C,P){var E=$0(h,C,P),N=$0(h+1,C,P);return(Me(h)-E+N)/7}re("w",["ww",2],"wo","week"),re("W",["WW",2],"Wo","isoWeek"),nt("w",zt,Uo),nt("ww",zt,Nt),nt("W",zt,Uo),nt("WW",zt,Nt),uc(["w","ww","W","WW"],function(h,C,P,E){C[E.substr(0,1)]=an(h)});function qO(h){return wd(h,this._week.dow,this._week.doy).week}var KO={dow:0,doy:6};function ZO(){return this._week.dow}function QO(){return this._week.doy}function JO(h){var C=this.localeData().week(this);return h==null?C:this.add((h-C)*7,"d")}function ew(h){var C=wd(this,1,4).week;return h==null?C:this.add((h-C)*7,"d")}re("d",0,"do","day"),re("dd",0,0,function(h){return this.localeData().weekdaysMin(this,h)}),re("ddd",0,0,function(h){return this.localeData().weekdaysShort(this,h)}),re("dddd",0,0,function(h){return this.localeData().weekdays(this,h)}),re("e",0,0,"weekday"),re("E",0,0,"isoWeekday"),nt("d",zt),nt("e",zt),nt("E",zt),nt("dd",function(h,C){return C.weekdaysMinRegex(h)}),nt("ddd",function(h,C){return C.weekdaysShortRegex(h)}),nt("dddd",function(h,C){return C.weekdaysRegex(h)}),uc(["dd","ddd","dddd"],function(h,C,P,E){var N=P._locale.weekdaysParse(h,E,P._strict);N!=null?C.d=N:v(P).invalidWeekday=h}),uc(["d","e","E"],function(h,C,P,E){C[E]=an(h)});function tw(h,C){return typeof h!="string"?h:isNaN(h)?(h=C.weekdaysParse(h),typeof h=="number"?h:null):parseInt(h,10)}function nw(h,C){return typeof h=="string"?C.weekdaysParse(h)%7||7:isNaN(h)?null:h}function _p(h,C){return h.slice(C,7).concat(h.slice(0,C))}var iw="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),G1="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),rw="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),aw=Cs,ow=Cs,sw=Cs;function cw(h,C){var P=e(this._weekdays)?this._weekdays:this._weekdays[h&&h!==!0&&this._weekdays.isFormat.test(C)?"format":"standalone"];return h===!0?_p(P,this._week.dow):h?P[h.day()]:P}function lw(h){return h===!0?_p(this._weekdaysShort,this._week.dow):h?this._weekdaysShort[h.day()]:this._weekdaysShort}function dw(h){return h===!0?_p(this._weekdaysMin,this._week.dow):h?this._weekdaysMin[h.day()]:this._weekdaysMin}function gw(h,C,P){var E,N,ae,Pe=h.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],E=0;E<7;++E)ae=_([2e3,1]).day(E),this._minWeekdaysParse[E]=this.weekdaysMin(ae,"").toLocaleLowerCase(),this._shortWeekdaysParse[E]=this.weekdaysShort(ae,"").toLocaleLowerCase(),this._weekdaysParse[E]=this.weekdays(ae,"").toLocaleLowerCase();return P?C==="dddd"?(N=ot.call(this._weekdaysParse,Pe),N!==-1?N:null):C==="ddd"?(N=ot.call(this._shortWeekdaysParse,Pe),N!==-1?N:null):(N=ot.call(this._minWeekdaysParse,Pe),N!==-1?N:null):C==="dddd"?(N=ot.call(this._weekdaysParse,Pe),N!==-1||(N=ot.call(this._shortWeekdaysParse,Pe),N!==-1)?N:(N=ot.call(this._minWeekdaysParse,Pe),N!==-1?N:null)):C==="ddd"?(N=ot.call(this._shortWeekdaysParse,Pe),N!==-1||(N=ot.call(this._weekdaysParse,Pe),N!==-1)?N:(N=ot.call(this._minWeekdaysParse,Pe),N!==-1?N:null)):(N=ot.call(this._minWeekdaysParse,Pe),N!==-1||(N=ot.call(this._weekdaysParse,Pe),N!==-1)?N:(N=ot.call(this._shortWeekdaysParse,Pe),N!==-1?N:null))}function uw(h,C,P){var E,N,ae;if(this._weekdaysParseExact)return gw.call(this,h,C,P);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),E=0;E<7;E++){if(N=_([2e3,1]).day(E),P&&!this._fullWeekdaysParse[E]&&(this._fullWeekdaysParse[E]=new RegExp("^"+this.weekdays(N,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[E]=new RegExp("^"+this.weekdaysShort(N,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[E]=new RegExp("^"+this.weekdaysMin(N,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[E]||(ae="^"+this.weekdays(N,"")+"|^"+this.weekdaysShort(N,"")+"|^"+this.weekdaysMin(N,""),this._weekdaysParse[E]=new RegExp(ae.replace(".",""),"i")),P&&C==="dddd"&&this._fullWeekdaysParse[E].test(h))return E;if(P&&C==="ddd"&&this._shortWeekdaysParse[E].test(h))return E;if(P&&C==="dd"&&this._minWeekdaysParse[E].test(h))return E;if(!P&&this._weekdaysParse[E].test(h))return E}}function mw(h){if(!this.isValid())return h!=null?this:NaN;var C=$e(this,"Day");return h!=null?(h=tw(h,this.localeData()),this.add(h-C,"d")):C}function pw(h){if(!this.isValid())return h!=null?this:NaN;var C=(this.day()+7-this.localeData()._week.dow)%7;return h==null?C:this.add(h-C,"d")}function fw(h){if(!this.isValid())return h!=null?this:NaN;if(h!=null){var C=nw(h,this.localeData());return this.day(this.day()%7?C:C-7)}else return this.day()||7}function hw(h){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||xp.call(this),h?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=aw),this._weekdaysStrictRegex&&h?this._weekdaysStrictRegex:this._weekdaysRegex)}function _w(h){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||xp.call(this),h?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ow),this._weekdaysShortStrictRegex&&h?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function xw(h){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||xp.call(this),h?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=sw),this._weekdaysMinStrictRegex&&h?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function xp(){function h(Wr,Zo){return Zo.length-Wr.length}var C=[],P=[],E=[],N=[],ae,Pe,rt,Lt,cn;for(ae=0;ae<7;ae++)Pe=_([2e3,1]).day(ae),rt=za(this.weekdaysMin(Pe,"")),Lt=za(this.weekdaysShort(Pe,"")),cn=za(this.weekdays(Pe,"")),C.push(rt),P.push(Lt),E.push(cn),N.push(rt),N.push(Lt),N.push(cn);C.sort(h),P.sort(h),E.sort(h),N.sort(h),this._weekdaysRegex=new RegExp("^("+N.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+E.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+P.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+C.join("|")+")","i")}function Cp(){return this.hours()%12||12}function Cw(){return this.hours()||24}re("H",["HH",2],0,"hour"),re("h",["hh",2],0,Cp),re("k",["kk",2],0,Cw),re("hmm",0,0,function(){return""+Cp.apply(this)+je(this.minutes(),2)}),re("hmmss",0,0,function(){return""+Cp.apply(this)+je(this.minutes(),2)+je(this.seconds(),2)}),re("Hmm",0,0,function(){return""+this.hours()+je(this.minutes(),2)}),re("Hmmss",0,0,function(){return""+this.hours()+je(this.minutes(),2)+je(this.seconds(),2)});function W1(h,C){re(h,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),C)})}W1("a",!0),W1("A",!1);function H1(h,C){return C._meridiemParse}nt("a",H1),nt("A",H1),nt("H",zt,vd),nt("h",zt,Uo),nt("k",zt,Uo),nt("HH",zt,Nt),nt("hh",zt,Nt),nt("kk",zt,Nt),nt("hmm",Oi),nt("hmmss",Pt),nt("Hmm",Oi),nt("Hmmss",Pt),yn(["H","HH"],H),yn(["k","kk"],function(h,C,P){var E=an(h);C[H]=E===24?0:E}),yn(["a","A"],function(h,C,P){P._isPm=P._locale.isPM(h),P._meridiem=h}),yn(["h","hh"],function(h,C,P){C[H]=an(h),v(P).bigHour=!0}),yn("hmm",function(h,C,P){var E=h.length-2;C[H]=an(h.substr(0,E)),C[Y]=an(h.substr(E)),v(P).bigHour=!0}),yn("hmmss",function(h,C,P){var E=h.length-4,N=h.length-2;C[H]=an(h.substr(0,E)),C[Y]=an(h.substr(E,2)),C[G]=an(h.substr(N)),v(P).bigHour=!0}),yn("Hmm",function(h,C,P){var E=h.length-2;C[H]=an(h.substr(0,E)),C[Y]=an(h.substr(E))}),yn("Hmmss",function(h,C,P){var E=h.length-4,N=h.length-2;C[H]=an(h.substr(0,E)),C[Y]=an(h.substr(E,2)),C[G]=an(h.substr(N))});function bw(h){return(h+"").toLowerCase().charAt(0)==="p"}var vw=/[ap]\.?m?\.?/i,yw=xe("Hours",!0);function Mw(h,C,P){return h>11?P?"pm":"PM":P?"am":"AM"}var X1={calendar:Ve,longDateFormat:Ie,invalidDate:ve,ordinal:K,dayOfMonthOrdinalParse:ft,relativeTime:At,months:br,monthsShort:ti,week:KO,weekdays:iw,weekdaysMin:rw,weekdaysShort:G1,meridiemParse:vw},Kn={},Sd={},kd;function Pw(h,C){var P,E=Math.min(h.length,C.length);for(P=0;P<E;P+=1)if(h[P]!==C[P])return P;return E}function q1(h){return h&&h.toLowerCase().replace("_","-")}function Ow(h){for(var C=0,P,E,N,ae;C<h.length;){for(ae=q1(h[C]).split("-"),P=ae.length,E=q1(h[C+1]),E=E?E.split("-"):null;P>0;){if(N=j0(ae.slice(0,P).join("-")),N)return N;if(E&&E.length>=P&&Pw(ae,E)>=P-1)break;P--}C++}return kd}function ww(h){return!!(h&&h.match("^[^/\\\\]*$"))}function j0(h){var C=null,P;if(Kn[h]===void 0&&typeof Wl<"u"&&Wl&&Wl.exports&&ww(h))try{C=kd._abbr,P=y_,P("./locale/"+h),bs(C)}catch{Kn[h]=null}return Kn[h]}function bs(h,C){var P;return h&&(s(C)?P=Ho(h):P=bp(h,C),P?kd=P:typeof console<"u"&&console.warn&&console.warn("Locale "+h+" not found. Did you forget to load it?")),kd._abbr}function bp(h,C){if(C!==null){var P,E=X1;if(C.abbr=h,Kn[h]!=null)X("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),E=Kn[h]._config;else if(C.parentLocale!=null)if(Kn[C.parentLocale]!=null)E=Kn[C.parentLocale]._config;else if(P=j0(C.parentLocale),P!=null)E=P._config;else return Sd[C.parentLocale]||(Sd[C.parentLocale]=[]),Sd[C.parentLocale].push({name:h,config:C}),null;return Kn[h]=new De(ye(E,C)),Sd[h]&&Sd[h].forEach(function(N){bp(N.name,N.config)}),bs(h),Kn[h]}else return delete Kn[h],null}function Sw(h,C){if(C!=null){var P,E,N=X1;Kn[h]!=null&&Kn[h].parentLocale!=null?Kn[h].set(ye(Kn[h]._config,C)):(E=j0(h),E!=null&&(N=E._config),C=ye(N,C),E==null&&(C.abbr=h),P=new De(C),P.parentLocale=Kn[h],Kn[h]=P),bs(h)}else Kn[h]!=null&&(Kn[h].parentLocale!=null?(Kn[h]=Kn[h].parentLocale,h===bs()&&bs(h)):Kn[h]!=null&&delete Kn[h]);return Kn[h]}function Ho(h){var C;if(h&&h._locale&&h._locale._abbr&&(h=h._locale._abbr),!h)return kd;if(!e(h)){if(C=j0(h),C)return C;h=[h]}return Ow(h)}function kw(){return Ce(Kn)}function vp(h){var C,P=h._a;return P&&v(h).overflow===-2&&(C=P[Ya]<0||P[Ya]>11?Ya:P[D]<1||P[D]>On(P[qi],P[Ya])?D:P[H]<0||P[H]>24||P[H]===24&&(P[Y]!==0||P[G]!==0||P[q]!==0)?H:P[Y]<0||P[Y]>59?Y:P[G]<0||P[G]>59?G:P[q]<0||P[q]>999?q:-1,v(h)._overflowDayOfYear&&(C<qi||C>D)&&(C=D),v(h)._overflowWeeks&&C===-1&&(C=Z),v(h)._overflowWeekday&&C===-1&&(C=fe),v(h).overflow=C),h}var Tw=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ew=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Aw=/Z|[+-]\d\d(?::?\d\d)?/,z0=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],yp=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Iw=/^\/?Date\((-?\d+)/i,Dw=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Fw={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function K1(h){var C,P,E=h._i,N=Tw.exec(E)||Ew.exec(E),ae,Pe,rt,Lt,cn=z0.length,Wr=yp.length;if(N){for(v(h).iso=!0,C=0,P=cn;C<P;C++)if(z0[C][1].exec(N[1])){Pe=z0[C][0],ae=z0[C][2]!==!1;break}if(Pe==null){h._isValid=!1;return}if(N[3]){for(C=0,P=Wr;C<P;C++)if(yp[C][1].exec(N[3])){rt=(N[2]||" ")+yp[C][0];break}if(rt==null){h._isValid=!1;return}}if(!ae&&rt!=null){h._isValid=!1;return}if(N[4])if(Aw.exec(N[4]))Lt="Z";else{h._isValid=!1;return}h._f=Pe+(rt||"")+(Lt||""),Pp(h)}else h._isValid=!1}function Rw(h,C,P,E,N,ae){var Pe=[Nw(h),ti.indexOf(C),parseInt(P,10),parseInt(E,10),parseInt(N,10)];return ae&&Pe.push(parseInt(ae,10)),Pe}function Nw(h){var C=parseInt(h,10);return C<=49?2e3+C:C<=999?1900+C:C}function Lw(h){return h.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Bw(h,C,P){if(h){var E=G1.indexOf(h),N=new Date(C[0],C[1],C[2]).getDay();if(E!==N)return v(P).weekdayMismatch=!0,P._isValid=!1,!1}return!0}function Vw(h,C,P){if(h)return Fw[h];if(C)return 0;var E=parseInt(P,10),N=E%100,ae=(E-N)/100;return ae*60+N}function Z1(h){var C=Dw.exec(Lw(h._i)),P;if(C){if(P=Rw(C[4],C[3],C[2],C[5],C[6],C[7]),!Bw(C[1],P,h))return;h._a=P,h._tzm=Vw(C[8],C[9],C[10]),h._d=Od.apply(null,h._a),h._d.setUTCMinutes(h._d.getUTCMinutes()-h._tzm),v(h).rfc2822=!0}else h._isValid=!1}function $w(h){var C=Iw.exec(h._i);if(C!==null){h._d=new Date(+C[1]);return}if(K1(h),h._isValid===!1)delete h._isValid;else return;if(Z1(h),h._isValid===!1)delete h._isValid;else return;h._strict?h._isValid=!1:t.createFromInputFallback(h)}t.createFromInputFallback=I("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(h){h._d=new Date(h._i+(h._useUTC?" UTC":""))});function Jc(h,C,P){return h!=null?h:C!=null?C:P}function jw(h){var C=new Date(t.now());return h._useUTC?[C.getUTCFullYear(),C.getUTCMonth(),C.getUTCDate()]:[C.getFullYear(),C.getMonth(),C.getDate()]}function Mp(h){var C,P,E=[],N,ae,Pe;if(!h._d){for(N=jw(h),h._w&&h._a[D]==null&&h._a[Ya]==null&&zw(h),h._dayOfYear!=null&&(Pe=Jc(h._a[qi],N[qi]),(h._dayOfYear>Me(Pe)||h._dayOfYear===0)&&(v(h)._overflowDayOfYear=!0),P=Od(Pe,0,h._dayOfYear),h._a[Ya]=P.getUTCMonth(),h._a[D]=P.getUTCDate()),C=0;C<3&&h._a[C]==null;++C)h._a[C]=E[C]=N[C];for(;C<7;C++)h._a[C]=E[C]=h._a[C]==null?C===2?1:0:h._a[C];h._a[H]===24&&h._a[Y]===0&&h._a[G]===0&&h._a[q]===0&&(h._nextDay=!0,h._a[H]=0),h._d=(h._useUTC?Od:XO).apply(null,E),ae=h._useUTC?h._d.getUTCDay():h._d.getDay(),h._tzm!=null&&h._d.setUTCMinutes(h._d.getUTCMinutes()-h._tzm),h._nextDay&&(h._a[H]=24),h._w&&typeof h._w.d<"u"&&h._w.d!==ae&&(v(h).weekdayMismatch=!0)}}function zw(h){var C,P,E,N,ae,Pe,rt,Lt,cn;C=h._w,C.GG!=null||C.W!=null||C.E!=null?(ae=1,Pe=4,P=Jc(C.GG,h._a[qi],wd(Bn(),1,4).year),E=Jc(C.W,1),N=Jc(C.E,1),(N<1||N>7)&&(Lt=!0)):(ae=h._locale._week.dow,Pe=h._locale._week.doy,cn=wd(Bn(),ae,Pe),P=Jc(C.gg,h._a[qi],cn.year),E=Jc(C.w,cn.week),C.d!=null?(N=C.d,(N<0||N>6)&&(Lt=!0)):C.e!=null?(N=C.e+ae,(C.e<0||C.e>6)&&(Lt=!0)):N=ae),E<1||E>Wo(P,ae,Pe)?v(h)._overflowWeeks=!0:Lt!=null?v(h)._overflowWeekday=!0:(rt=U1(P,E,N,ae,Pe),h._a[qi]=rt.year,h._dayOfYear=rt.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function Pp(h){if(h._f===t.ISO_8601){K1(h);return}if(h._f===t.RFC_2822){Z1(h);return}h._a=[],v(h).empty=!0;var C=""+h._i,P,E,N,ae,Pe,rt=C.length,Lt=0,cn,Wr;for(N=Ae(h._f,h._locale).match(be)||[],Wr=N.length,P=0;P<Wr;P++)ae=N[P],E=(C.match(fp(ae,h))||[])[0],E&&(Pe=C.substr(0,C.indexOf(E)),Pe.length>0&&v(h).unusedInput.push(Pe),C=C.slice(C.indexOf(E)+E.length),Lt+=E.length),Q[ae]?(E?v(h).empty=!1:v(h).unusedTokens.push(ae),Md(ae,E,h)):h._strict&&!E&&v(h).unusedTokens.push(ae);v(h).charsLeftOver=rt-Lt,C.length>0&&v(h).unusedInput.push(C),h._a[H]<=12&&v(h).bigHour===!0&&h._a[H]>0&&(v(h).bigHour=void 0),v(h).parsedDateParts=h._a.slice(0),v(h).meridiem=h._meridiem,h._a[H]=Yw(h._locale,h._a[H],h._meridiem),cn=v(h).era,cn!==null&&(h._a[qi]=h._locale.erasConvertYear(cn,h._a[qi])),Mp(h),vp(h)}function Yw(h,C,P){var E;return P==null?C:h.meridiemHour!=null?h.meridiemHour(C,P):(h.isPM!=null&&(E=h.isPM(P),E&&C<12&&(C+=12),!E&&C===12&&(C=0)),C)}function Uw(h){var C,P,E,N,ae,Pe,rt=!1,Lt=h._f.length;if(Lt===0){v(h).invalidFormat=!0,h._d=new Date(NaN);return}for(N=0;N<Lt;N++)ae=0,Pe=!1,C=F({},h),h._useUTC!=null&&(C._useUTC=h._useUTC),C._f=h._f[N],Pp(C),M(C)&&(Pe=!0),ae+=v(C).charsLeftOver,ae+=v(C).unusedTokens.length*10,v(C).score=ae,rt?ae<E&&(E=ae,P=C):(E==null||ae<E||Pe)&&(E=ae,P=C,Pe&&(rt=!0));f(h,P||C)}function Gw(h){if(!h._d){var C=Ln(h._i),P=C.day===void 0?C.date:C.day;h._a=m([C.year,C.month,P,C.hour,C.minute,C.second,C.millisecond],function(E){return E&&parseInt(E,10)}),Mp(h)}}function Ww(h){var C=new U(vp(Q1(h)));return C._nextDay&&(C.add(1,"d"),C._nextDay=void 0),C}function Q1(h){var C=h._i,P=h._f;return h._locale=h._locale||Ho(h._l),C===null||P===void 0&&C===""?S({nullInput:!0}):(typeof C=="string"&&(h._i=C=h._locale.preparse(C)),A(C)?new U(vp(C)):(u(C)?h._d=C:e(P)?Uw(h):P?Pp(h):Hw(h),M(h)||(h._d=null),h))}function Hw(h){var C=h._i;s(C)?h._d=new Date(t.now()):u(C)?h._d=new Date(C.valueOf()):typeof C=="string"?$w(h):e(C)?(h._a=m(C.slice(0),function(P){return parseInt(P,10)}),Mp(h)):r(C)?Gw(h):d(C)?h._d=new Date(C):t.createFromInputFallback(h)}function J1(h,C,P,E,N){var ae={};return(C===!0||C===!1)&&(E=C,C=void 0),(P===!0||P===!1)&&(E=P,P=void 0),(r(h)&&o(h)||e(h)&&h.length===0)&&(h=void 0),ae._isAMomentObject=!0,ae._useUTC=ae._isUTC=N,ae._l=P,ae._i=h,ae._f=C,ae._strict=E,Ww(ae)}function Bn(h,C,P,E){return J1(h,C,P,E,!1)}var Xw=I("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var h=Bn.apply(null,arguments);return this.isValid()&&h.isValid()?h<this?this:h:S()}),qw=I("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var h=Bn.apply(null,arguments);return this.isValid()&&h.isValid()?h>this?this:h:S()});function e_(h,C){var P,E;if(C.length===1&&e(C[0])&&(C=C[0]),!C.length)return Bn();for(P=C[0],E=1;E<C.length;++E)(!C[E].isValid()||C[E][h](P))&&(P=C[E]);return P}function Kw(){var h=[].slice.call(arguments,0);return e_("isBefore",h)}function Zw(){var h=[].slice.call(arguments,0);return e_("isAfter",h)}var Qw=function(){return Date.now?Date.now():+new Date},Td=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Jw(h){var C,P=!1,E,N=Td.length;for(C in h)if(a(h,C)&&!(ot.call(Td,C)!==-1&&(h[C]==null||!isNaN(h[C]))))return!1;for(E=0;E<N;++E)if(h[Td[E]]){if(P)return!1;parseFloat(h[Td[E]])!==an(h[Td[E]])&&(P=!0)}return!0}function eS(){return this._isValid}function tS(){return Ga(NaN)}function Y0(h){var C=Ln(h),P=C.year||0,E=C.quarter||0,N=C.month||0,ae=C.week||C.isoWeek||0,Pe=C.day||0,rt=C.hour||0,Lt=C.minute||0,cn=C.second||0,Wr=C.millisecond||0;this._isValid=Jw(C),this._milliseconds=+Wr+cn*1e3+Lt*6e4+rt*1e3*60*60,this._days=+Pe+ae*7,this._months=+N+E*3+P*12,this._data={},this._locale=Ho(),this._bubble()}function U0(h){return h instanceof Y0}function Op(h){return h<0?Math.round(-1*h)*-1:Math.round(h)}function nS(h,C,P){var E=Math.min(h.length,C.length),N=Math.abs(h.length-C.length),ae=0,Pe;for(Pe=0;Pe<E;Pe++)(P&&h[Pe]!==C[Pe]||!P&&an(h[Pe])!==an(C[Pe]))&&ae++;return ae+N}function t_(h,C){re(h,0,0,function(){var P=this.utcOffset(),E="+";return P<0&&(P=-P,E="-"),E+je(~~(P/60),2)+C+je(~~P%60,2)})}t_("Z",":"),t_("ZZ",""),nt("Z",Kc),nt("ZZ",Kc),yn(["Z","ZZ"],function(h,C,P){P._useUTC=!0,P._tzm=wp(Kc,h)});var iS=/([\+\-]|\d\d)/gi;function wp(h,C){var P=(C||"").match(h),E,N,ae;return P===null?null:(E=P[P.length-1]||[],N=(E+"").match(iS)||["-",0,0],ae=+(N[1]*60)+an(N[2]),ae===0?0:N[0]==="+"?ae:-ae)}function Sp(h,C){var P,E;return C._isUTC?(P=C.clone(),E=(A(h)||u(h)?h.valueOf():Bn(h).valueOf())-P.valueOf(),P._d.setTime(P._d.valueOf()+E),t.updateOffset(P,!1),P):Bn(h).local()}function kp(h){return-Math.round(h._d.getTimezoneOffset())}t.updateOffset=function(){};function rS(h,C,P){var E=this._offset||0,N;if(!this.isValid())return h!=null?this:NaN;if(h!=null){if(typeof h=="string"){if(h=wp(Kc,h),h===null)return this}else Math.abs(h)<16&&!P&&(h=h*60);return!this._isUTC&&C&&(N=kp(this)),this._offset=h,this._isUTC=!0,N!=null&&this.add(N,"m"),E!==h&&(!C||this._changeInProgress?a_(this,Ga(h-E,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?E:kp(this)}function aS(h,C){return h!=null?(typeof h!="string"&&(h=-h),this.utcOffset(h,C),this):-this.utcOffset()}function oS(h){return this.utcOffset(0,h)}function sS(h){return this._isUTC&&(this.utcOffset(0,h),this._isUTC=!1,h&&this.subtract(kp(this),"m")),this}function cS(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var h=wp(pp,this._i);h!=null?this.utcOffset(h):this.utcOffset(0,!0)}return this}function lS(h){return this.isValid()?(h=h?Bn(h).utcOffset():0,(this.utcOffset()-h)%60===0):!1}function dS(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function gS(){if(!s(this._isDSTShifted))return this._isDSTShifted;var h={},C;return F(h,this),h=Q1(h),h._a?(C=h._isUTC?_(h._a):Bn(h._a),this._isDSTShifted=this.isValid()&&nS(h._a,C.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function uS(){return this.isValid()?!this._isUTC:!1}function mS(){return this.isValid()?this._isUTC:!1}function n_(){return this.isValid()?this._isUTC&&this._offset===0:!1}var pS=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,fS=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ga(h,C){var P=h,E=null,N,ae,Pe;return U0(h)?P={ms:h._milliseconds,d:h._days,M:h._months}:d(h)||!isNaN(+h)?(P={},C?P[C]=+h:P.milliseconds=+h):(E=pS.exec(h))?(N=E[1]==="-"?-1:1,P={y:0,d:an(E[D])*N,h:an(E[H])*N,m:an(E[Y])*N,s:an(E[G])*N,ms:an(Op(E[q]*1e3))*N}):(E=fS.exec(h))?(N=E[1]==="-"?-1:1,P={y:fc(E[2],N),M:fc(E[3],N),w:fc(E[4],N),d:fc(E[5],N),h:fc(E[6],N),m:fc(E[7],N),s:fc(E[8],N)}):P==null?P={}:typeof P=="object"&&("from"in P||"to"in P)&&(Pe=hS(Bn(P.from),Bn(P.to)),P={},P.ms=Pe.milliseconds,P.M=Pe.months),ae=new Y0(P),U0(h)&&a(h,"_locale")&&(ae._locale=h._locale),U0(h)&&a(h,"_isValid")&&(ae._isValid=h._isValid),ae}Ga.fn=Y0.prototype,Ga.invalid=tS;function fc(h,C){var P=h&&parseFloat(h.replace(",","."));return(isNaN(P)?0:P)*C}function i_(h,C){var P={};return P.months=C.month()-h.month()+(C.year()-h.year())*12,h.clone().add(P.months,"M").isAfter(C)&&--P.months,P.milliseconds=+C-+h.clone().add(P.months,"M"),P}function hS(h,C){var P;return h.isValid()&&C.isValid()?(C=Sp(C,h),h.isBefore(C)?P=i_(h,C):(P=i_(C,h),P.milliseconds=-P.milliseconds,P.months=-P.months),P):{milliseconds:0,months:0}}function r_(h,C){return function(P,E){var N,ae;return E!==null&&!isNaN(+E)&&(X(C,"moment()."+C+"(period, number) is deprecated. Please use moment()."+C+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ae=P,P=E,E=ae),N=Ga(P,E),a_(this,N,h),this}}function a_(h,C,P,E){var N=C._milliseconds,ae=Op(C._days),Pe=Op(C._months);h.isValid()&&(E=E==null?!0:E,Pe&&j1(h,$e(h,"Month")+Pe*P),ae&&Ge(h,"Date",$e(h,"Date")+ae*P),N&&h._d.setTime(h._d.valueOf()+N*P),E&&t.updateOffset(h,ae||Pe))}var _S=r_(1,"add"),xS=r_(-1,"subtract");function o_(h){return typeof h=="string"||h instanceof String}function CS(h){return A(h)||u(h)||o_(h)||d(h)||vS(h)||bS(h)||h===null||h===void 0}function bS(h){var C=r(h)&&!o(h),P=!1,E=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],N,ae,Pe=E.length;for(N=0;N<Pe;N+=1)ae=E[N],P=P||a(h,ae);return C&&P}function vS(h){var C=e(h),P=!1;return C&&(P=h.filter(function(E){return!d(E)&&o_(h)}).length===0),C&&P}function yS(h){var C=r(h)&&!o(h),P=!1,E=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],N,ae;for(N=0;N<E.length;N+=1)ae=E[N],P=P||a(h,ae);return C&&P}function MS(h,C){var P=h.diff(C,"days",!0);return P<-6?"sameElse":P<-1?"lastWeek":P<0?"lastDay":P<1?"sameDay":P<2?"nextDay":P<7?"nextWeek":"sameElse"}function PS(h,C){arguments.length===1&&(arguments[0]?CS(arguments[0])?(h=arguments[0],C=void 0):yS(arguments[0])&&(C=arguments[0],h=void 0):(h=void 0,C=void 0));var P=h||Bn(),E=Sp(P,this).startOf("day"),N=t.calendarFormat(this,E)||"sameElse",ae=C&&(J(C[N])?C[N].call(this,P):C[N]);return this.format(ae||this.localeData().calendar(N,this,Bn(P)))}function OS(){return new U(this)}function wS(h,C){var P=A(h)?h:Bn(h);return this.isValid()&&P.isValid()?(C=fn(C)||"millisecond",C==="millisecond"?this.valueOf()>P.valueOf():P.valueOf()<this.clone().startOf(C).valueOf()):!1}function SS(h,C){var P=A(h)?h:Bn(h);return this.isValid()&&P.isValid()?(C=fn(C)||"millisecond",C==="millisecond"?this.valueOf()<P.valueOf():this.clone().endOf(C).valueOf()<P.valueOf()):!1}function kS(h,C,P,E){var N=A(h)?h:Bn(h),ae=A(C)?C:Bn(C);return this.isValid()&&N.isValid()&&ae.isValid()?(E=E||"()",(E[0]==="("?this.isAfter(N,P):!this.isBefore(N,P))&&(E[1]===")"?this.isBefore(ae,P):!this.isAfter(ae,P))):!1}function TS(h,C){var P=A(h)?h:Bn(h),E;return this.isValid()&&P.isValid()?(C=fn(C)||"millisecond",C==="millisecond"?this.valueOf()===P.valueOf():(E=P.valueOf(),this.clone().startOf(C).valueOf()<=E&&E<=this.clone().endOf(C).valueOf())):!1}function ES(h,C){return this.isSame(h,C)||this.isAfter(h,C)}function AS(h,C){return this.isSame(h,C)||this.isBefore(h,C)}function IS(h,C,P){var E,N,ae;if(!this.isValid())return NaN;if(E=Sp(h,this),!E.isValid())return NaN;switch(N=(E.utcOffset()-this.utcOffset())*6e4,C=fn(C),C){case"year":ae=G0(this,E)/12;break;case"month":ae=G0(this,E);break;case"quarter":ae=G0(this,E)/3;break;case"second":ae=(this-E)/1e3;break;case"minute":ae=(this-E)/6e4;break;case"hour":ae=(this-E)/36e5;break;case"day":ae=(this-E-N)/864e5;break;case"week":ae=(this-E-N)/6048e5;break;default:ae=this-E}return P?ae:Qr(ae)}function G0(h,C){if(h.date()<C.date())return-G0(C,h);var P=(C.year()-h.year())*12+(C.month()-h.month()),E=h.clone().add(P,"months"),N,ae;return C-E<0?(N=h.clone().add(P-1,"months"),ae=(C-E)/(E-N)):(N=h.clone().add(P+1,"months"),ae=(C-E)/(N-E)),-(P+ae)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function DS(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function FS(h){if(!this.isValid())return null;var C=h!==!0,P=C?this.clone().utc():this;return P.year()<0||P.year()>9999?me(P,C?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):J(Date.prototype.toISOString)?C?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",me(P,"Z")):me(P,C?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function RS(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var h="moment",C="",P,E,N,ae;return this.isLocal()||(h=this.utcOffset()===0?"moment.utc":"moment.parseZone",C="Z"),P="["+h+'("]',E=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",N="-MM-DD[T]HH:mm:ss.SSS",ae=C+'[")]',this.format(P+E+N+ae)}function NS(h){h||(h=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var C=me(this,h);return this.localeData().postformat(C)}function LS(h,C){return this.isValid()&&(A(h)&&h.isValid()||Bn(h).isValid())?Ga({to:this,from:h}).locale(this.locale()).humanize(!C):this.localeData().invalidDate()}function BS(h){return this.from(Bn(),h)}function VS(h,C){return this.isValid()&&(A(h)&&h.isValid()||Bn(h).isValid())?Ga({from:this,to:h}).locale(this.locale()).humanize(!C):this.localeData().invalidDate()}function $S(h){return this.to(Bn(),h)}function s_(h){var C;return h===void 0?this._locale._abbr:(C=Ho(h),C!=null&&(this._locale=C),this)}var c_=I("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(h){return h===void 0?this.localeData():this.locale(h)});function l_(){return this._locale}var W0=1e3,el=60*W0,H0=60*el,d_=(365*400+97)*24*H0;function tl(h,C){return(h%C+C)%C}function g_(h,C,P){return h<100&&h>=0?new Date(h+400,C,P)-d_:new Date(h,C,P).valueOf()}function u_(h,C,P){return h<100&&h>=0?Date.UTC(h+400,C,P)-d_:Date.UTC(h,C,P)}function jS(h){var C,P;if(h=fn(h),h===void 0||h==="millisecond"||!this.isValid())return this;switch(P=this._isUTC?u_:g_,h){case"year":C=P(this.year(),0,1);break;case"quarter":C=P(this.year(),this.month()-this.month()%3,1);break;case"month":C=P(this.year(),this.month(),1);break;case"week":C=P(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":C=P(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":C=P(this.year(),this.month(),this.date());break;case"hour":C=this._d.valueOf(),C-=tl(C+(this._isUTC?0:this.utcOffset()*el),H0);break;case"minute":C=this._d.valueOf(),C-=tl(C,el);break;case"second":C=this._d.valueOf(),C-=tl(C,W0);break}return this._d.setTime(C),t.updateOffset(this,!0),this}function zS(h){var C,P;if(h=fn(h),h===void 0||h==="millisecond"||!this.isValid())return this;switch(P=this._isUTC?u_:g_,h){case"year":C=P(this.year()+1,0,1)-1;break;case"quarter":C=P(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":C=P(this.year(),this.month()+1,1)-1;break;case"week":C=P(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":C=P(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":C=P(this.year(),this.month(),this.date()+1)-1;break;case"hour":C=this._d.valueOf(),C+=H0-tl(C+(this._isUTC?0:this.utcOffset()*el),H0)-1;break;case"minute":C=this._d.valueOf(),C+=el-tl(C,el)-1;break;case"second":C=this._d.valueOf(),C+=W0-tl(C,W0)-1;break}return this._d.setTime(C),t.updateOffset(this,!0),this}function YS(){return this._d.valueOf()-(this._offset||0)*6e4}function US(){return Math.floor(this.valueOf()/1e3)}function GS(){return new Date(this.valueOf())}function WS(){var h=this;return[h.year(),h.month(),h.date(),h.hour(),h.minute(),h.second(),h.millisecond()]}function HS(){var h=this;return{years:h.year(),months:h.month(),date:h.date(),hours:h.hours(),minutes:h.minutes(),seconds:h.seconds(),milliseconds:h.milliseconds()}}function XS(){return this.isValid()?this.toISOString():null}function qS(){return M(this)}function KS(){return f({},v(this))}function ZS(){return v(this).overflow}function QS(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}re("N",0,0,"eraAbbr"),re("NN",0,0,"eraAbbr"),re("NNN",0,0,"eraAbbr"),re("NNNN",0,0,"eraName"),re("NNNNN",0,0,"eraNarrow"),re("y",["y",1],"yo","eraYear"),re("y",["yy",2],0,"eraYear"),re("y",["yyy",3],0,"eraYear"),re("y",["yyyy",4],0,"eraYear"),nt("N",Tp),nt("NN",Tp),nt("NNN",Tp),nt("NNNN",lk),nt("NNNNN",dk),yn(["N","NN","NNN","NNNN","NNNNN"],function(h,C,P,E){var N=P._locale.erasParse(h,E,P._strict);N?v(P).era=N:v(P).invalidEra=h}),nt("y",Zr),nt("yy",Zr),nt("yyy",Zr),nt("yyyy",Zr),nt("yo",gk),yn(["y","yy","yyy","yyyy"],qi),yn(["yo"],function(h,C,P,E){var N;P._locale._eraYearOrdinalRegex&&(N=h.match(P._locale._eraYearOrdinalRegex)),P._locale.eraYearOrdinalParse?C[qi]=P._locale.eraYearOrdinalParse(h,N):C[qi]=parseInt(h,10)});function JS(h,C){var P,E,N,ae=this._eras||Ho("en")._eras;for(P=0,E=ae.length;P<E;++P){switch(typeof ae[P].since){case"string":N=t(ae[P].since).startOf("day"),ae[P].since=N.valueOf();break}switch(typeof ae[P].until){case"undefined":ae[P].until=1/0;break;case"string":N=t(ae[P].until).startOf("day").valueOf(),ae[P].until=N.valueOf();break}}return ae}function ek(h,C,P){var E,N,ae=this.eras(),Pe,rt,Lt;for(h=h.toUpperCase(),E=0,N=ae.length;E<N;++E)if(Pe=ae[E].name.toUpperCase(),rt=ae[E].abbr.toUpperCase(),Lt=ae[E].narrow.toUpperCase(),P)switch(C){case"N":case"NN":case"NNN":if(rt===h)return ae[E];break;case"NNNN":if(Pe===h)return ae[E];break;case"NNNNN":if(Lt===h)return ae[E];break}else if([Pe,rt,Lt].indexOf(h)>=0)return ae[E]}function tk(h,C){var P=h.since<=h.until?1:-1;return C===void 0?t(h.since).year():t(h.since).year()+(C-h.offset)*P}function nk(){var h,C,P,E=this.localeData().eras();for(h=0,C=E.length;h<C;++h)if(P=this.clone().startOf("day").valueOf(),E[h].since<=P&&P<=E[h].until||E[h].until<=P&&P<=E[h].since)return E[h].name;return""}function ik(){var h,C,P,E=this.localeData().eras();for(h=0,C=E.length;h<C;++h)if(P=this.clone().startOf("day").valueOf(),E[h].since<=P&&P<=E[h].until||E[h].until<=P&&P<=E[h].since)return E[h].narrow;return""}function rk(){var h,C,P,E=this.localeData().eras();for(h=0,C=E.length;h<C;++h)if(P=this.clone().startOf("day").valueOf(),E[h].since<=P&&P<=E[h].until||E[h].until<=P&&P<=E[h].since)return E[h].abbr;return""}function ak(){var h,C,P,E,N=this.localeData().eras();for(h=0,C=N.length;h<C;++h)if(P=N[h].since<=N[h].until?1:-1,E=this.clone().startOf("day").valueOf(),N[h].since<=E&&E<=N[h].until||N[h].until<=E&&E<=N[h].since)return(this.year()-t(N[h].since).year())*P+N[h].offset;return this.year()}function ok(h){return a(this,"_erasNameRegex")||Ep.call(this),h?this._erasNameRegex:this._erasRegex}function sk(h){return a(this,"_erasAbbrRegex")||Ep.call(this),h?this._erasAbbrRegex:this._erasRegex}function ck(h){return a(this,"_erasNarrowRegex")||Ep.call(this),h?this._erasNarrowRegex:this._erasRegex}function Tp(h,C){return C.erasAbbrRegex(h)}function lk(h,C){return C.erasNameRegex(h)}function dk(h,C){return C.erasNarrowRegex(h)}function gk(h,C){return C._eraYearOrdinalRegex||Zr}function Ep(){var h=[],C=[],P=[],E=[],N,ae,Pe,rt,Lt,cn=this.eras();for(N=0,ae=cn.length;N<ae;++N)Pe=za(cn[N].name),rt=za(cn[N].abbr),Lt=za(cn[N].narrow),C.push(Pe),h.push(rt),P.push(Lt),E.push(Pe),E.push(rt),E.push(Lt);this._erasRegex=new RegExp("^("+E.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+C.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+h.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+P.join("|")+")","i")}re(0,["gg",2],0,function(){return this.weekYear()%100}),re(0,["GG",2],0,function(){return this.isoWeekYear()%100});function X0(h,C){re(0,[h,h.length],0,C)}X0("gggg","weekYear"),X0("ggggg","weekYear"),X0("GGGG","isoWeekYear"),X0("GGGGG","isoWeekYear"),nt("G",gc),nt("g",gc),nt("GG",zt,Nt),nt("gg",zt,Nt),nt("GGGG",ji,ci),nt("gggg",ji,ci),nt("GGGGG",qn,Kr),nt("ggggg",qn,Kr),uc(["gggg","ggggg","GGGG","GGGGG"],function(h,C,P,E){C[E.substr(0,2)]=an(h)}),uc(["gg","GG"],function(h,C,P,E){C[E]=t.parseTwoDigitYear(h)});function uk(h){return m_.call(this,h,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function mk(h){return m_.call(this,h,this.isoWeek(),this.isoWeekday(),1,4)}function pk(){return Wo(this.year(),1,4)}function fk(){return Wo(this.isoWeekYear(),1,4)}function hk(){var h=this.localeData()._week;return Wo(this.year(),h.dow,h.doy)}function _k(){var h=this.localeData()._week;return Wo(this.weekYear(),h.dow,h.doy)}function m_(h,C,P,E,N){var ae;return h==null?wd(this,E,N).year:(ae=Wo(h,E,N),C>ae&&(C=ae),xk.call(this,h,C,P,E,N))}function xk(h,C,P,E,N){var ae=U1(h,C,P,E,N),Pe=Od(ae.year,0,ae.dayOfYear);return this.year(Pe.getUTCFullYear()),this.month(Pe.getUTCMonth()),this.date(Pe.getUTCDate()),this}re("Q",0,"Qo","quarter"),nt("Q",si),yn("Q",function(h,C){C[Ya]=(an(h)-1)*3});function Ck(h){return h==null?Math.ceil((this.month()+1)/3):this.month((h-1)*3+this.month()%3)}re("D",["DD",2],"Do","date"),nt("D",zt,Uo),nt("DD",zt,Nt),nt("Do",function(h,C){return h?C._dayOfMonthOrdinalParse||C._ordinalParse:C._dayOfMonthOrdinalParseLenient}),yn(["D","DD"],D),yn("Do",function(h,C){C[D]=an(h.match(zt)[0])});var p_=xe("Date",!0);re("DDD",["DDDD",3],"DDDo","dayOfYear"),nt("DDD",hn),nt("DDDD",In),yn(["DDD","DDDD"],function(h,C,P){P._dayOfYear=an(h)});function bk(h){var C=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return h==null?C:this.add(h-C,"d")}re("m",["mm",2],0,"minute"),nt("m",zt,vd),nt("mm",zt,Nt),yn(["m","mm"],Y);var vk=xe("Minutes",!1);re("s",["ss",2],0,"second"),nt("s",zt,vd),nt("ss",zt,Nt),yn(["s","ss"],G);var yk=xe("Seconds",!1);re("S",0,0,function(){return~~(this.millisecond()/100)}),re(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),re(0,["SSS",3],0,"millisecond"),re(0,["SSSS",4],0,function(){return this.millisecond()*10}),re(0,["SSSSS",5],0,function(){return this.millisecond()*100}),re(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),re(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),re(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),re(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),nt("S",hn,si),nt("SS",hn,Nt),nt("SSS",hn,In);var vs,f_;for(vs="SSSS";vs.length<=9;vs+="S")nt(vs,Zr);function Mk(h,C){C[q]=an(("0."+h)*1e3)}for(vs="S";vs.length<=9;vs+="S")yn(vs,Mk);f_=xe("Milliseconds",!1),re("z",0,0,"zoneAbbr"),re("zz",0,0,"zoneName");function Pk(){return this._isUTC?"UTC":""}function Ok(){return this._isUTC?"Coordinated Universal Time":""}var ze=U.prototype;ze.add=_S,ze.calendar=PS,ze.clone=OS,ze.diff=IS,ze.endOf=zS,ze.format=NS,ze.from=LS,ze.fromNow=BS,ze.to=VS,ze.toNow=$S,ze.get=at,ze.invalidAt=ZS,ze.isAfter=wS,ze.isBefore=SS,ze.isBetween=kS,ze.isSame=TS,ze.isSameOrAfter=ES,ze.isSameOrBefore=AS,ze.isValid=qS,ze.lang=c_,ze.locale=s_,ze.localeData=l_,ze.max=qw,ze.min=Xw,ze.parsingFlags=KS,ze.set=He,ze.startOf=jS,ze.subtract=xS,ze.toArray=WS,ze.toObject=HS,ze.toDate=GS,ze.toISOString=FS,ze.inspect=RS,typeof Symbol<"u"&&Symbol.for!=null&&(ze[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ze.toJSON=XS,ze.toString=DS,ze.unix=US,ze.valueOf=YS,ze.creationData=QS,ze.eraName=nk,ze.eraNarrow=ik,ze.eraAbbr=rk,ze.eraYear=ak,ze.year=he,ze.isLeapYear=_e,ze.weekYear=uk,ze.isoWeekYear=mk,ze.quarter=ze.quarters=Ck,ze.month=z1,ze.daysInMonth=GO,ze.week=ze.weeks=JO,ze.isoWeek=ze.isoWeeks=ew,ze.weeksInYear=hk,ze.weeksInWeekYear=_k,ze.isoWeeksInYear=pk,ze.isoWeeksInISOWeekYear=fk,ze.date=p_,ze.day=ze.days=mw,ze.weekday=pw,ze.isoWeekday=fw,ze.dayOfYear=bk,ze.hour=ze.hours=yw,ze.minute=ze.minutes=vk,ze.second=ze.seconds=yk,ze.millisecond=ze.milliseconds=f_,ze.utcOffset=rS,ze.utc=oS,ze.local=sS,ze.parseZone=cS,ze.hasAlignedHourOffset=lS,ze.isDST=dS,ze.isLocal=uS,ze.isUtcOffset=mS,ze.isUtc=n_,ze.isUTC=n_,ze.zoneAbbr=Pk,ze.zoneName=Ok,ze.dates=I("dates accessor is deprecated. Use date instead.",p_),ze.months=I("months accessor is deprecated. Use month instead",z1),ze.years=I("years accessor is deprecated. Use year instead",he),ze.zone=I("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",aS),ze.isDSTShifted=I("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",gS);function wk(h){return Bn(h*1e3)}function Sk(){return Bn.apply(null,arguments).parseZone()}function h_(h){return h}var _n=De.prototype;_n.calendar=Se,_n.longDateFormat=ke,_n.invalidDate=lt,_n.ordinal=et,_n.preparse=h_,_n.postformat=h_,_n.relativeTime=it,_n.pastFuture=Be,_n.set=te,_n.eras=JS,_n.erasParse=ek,_n.erasConvertYear=tk,_n.erasAbbrRegex=sk,_n.erasNameRegex=ok,_n.erasNarrowRegex=ck,_n.months=Go,_n.monthsShort=Pd,_n.monthsParse=UO,_n.monthsRegex=HO,_n.monthsShortRegex=WO,_n.week=qO,_n.firstDayOfYear=QO,_n.firstDayOfWeek=ZO,_n.weekdays=cw,_n.weekdaysMin=dw,_n.weekdaysShort=lw,_n.weekdaysParse=uw,_n.weekdaysRegex=hw,_n.weekdaysShortRegex=_w,_n.weekdaysMinRegex=xw,_n.isPM=bw,_n.meridiem=Mw;function q0(h,C,P,E){var N=Ho(),ae=_().set(E,C);return N[P](ae,h)}function __(h,C,P){if(d(h)&&(C=h,h=void 0),h=h||"",C!=null)return q0(h,C,P,"month");var E,N=[];for(E=0;E<12;E++)N[E]=q0(h,E,P,"month");return N}function Ap(h,C,P,E){typeof h=="boolean"?(d(C)&&(P=C,C=void 0),C=C||""):(C=h,P=C,h=!1,d(C)&&(P=C,C=void 0),C=C||"");var N=Ho(),ae=h?N._week.dow:0,Pe,rt=[];if(P!=null)return q0(C,(P+ae)%7,E,"day");for(Pe=0;Pe<7;Pe++)rt[Pe]=q0(C,(Pe+ae)%7,E,"day");return rt}function kk(h,C){return __(h,C,"months")}function Tk(h,C){return __(h,C,"monthsShort")}function Ek(h,C,P){return Ap(h,C,P,"weekdays")}function Ak(h,C,P){return Ap(h,C,P,"weekdaysShort")}function Ik(h,C,P){return Ap(h,C,P,"weekdaysMin")}bs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(h){var C=h%10,P=an(h%100/10)===1?"th":C===1?"st":C===2?"nd":C===3?"rd":"th";return h+P}}),t.lang=I("moment.lang is deprecated. Use moment.locale instead.",bs),t.langData=I("moment.langData is deprecated. Use moment.localeData instead.",Ho);var Xo=Math.abs;function Dk(){var h=this._data;return this._milliseconds=Xo(this._milliseconds),this._days=Xo(this._days),this._months=Xo(this._months),h.milliseconds=Xo(h.milliseconds),h.seconds=Xo(h.seconds),h.minutes=Xo(h.minutes),h.hours=Xo(h.hours),h.months=Xo(h.months),h.years=Xo(h.years),this}function x_(h,C,P,E){var N=Ga(C,P);return h._milliseconds+=E*N._milliseconds,h._days+=E*N._days,h._months+=E*N._months,h._bubble()}function Fk(h,C){return x_(this,h,C,1)}function Rk(h,C){return x_(this,h,C,-1)}function C_(h){return h<0?Math.floor(h):Math.ceil(h)}function Nk(){var h=this._milliseconds,C=this._days,P=this._months,E=this._data,N,ae,Pe,rt,Lt;return h>=0&&C>=0&&P>=0||h<=0&&C<=0&&P<=0||(h+=C_(Ip(P)+C)*864e5,C=0,P=0),E.milliseconds=h%1e3,N=Qr(h/1e3),E.seconds=N%60,ae=Qr(N/60),E.minutes=ae%60,Pe=Qr(ae/60),E.hours=Pe%24,C+=Qr(Pe/24),Lt=Qr(b_(C)),P+=Lt,C-=C_(Ip(Lt)),rt=Qr(P/12),P%=12,E.days=C,E.months=P,E.years=rt,this}function b_(h){return h*4800/146097}function Ip(h){return h*146097/4800}function Lk(h){if(!this.isValid())return NaN;var C,P,E=this._milliseconds;if(h=fn(h),h==="month"||h==="quarter"||h==="year")switch(C=this._days+E/864e5,P=this._months+b_(C),h){case"month":return P;case"quarter":return P/3;case"year":return P/12}else switch(C=this._days+Math.round(Ip(this._months)),h){case"week":return C/7+E/6048e5;case"day":return C+E/864e5;case"hour":return C*24+E/36e5;case"minute":return C*1440+E/6e4;case"second":return C*86400+E/1e3;case"millisecond":return Math.floor(C*864e5)+E;default:throw new Error("Unknown unit "+h)}}function qo(h){return function(){return this.as(h)}}var v_=qo("ms"),Bk=qo("s"),Vk=qo("m"),$k=qo("h"),jk=qo("d"),zk=qo("w"),Yk=qo("M"),Uk=qo("Q"),Gk=qo("y"),Wk=v_;function Hk(){return Ga(this)}function Xk(h){return h=fn(h),this.isValid()?this[h+"s"]():NaN}function hc(h){return function(){return this.isValid()?this._data[h]:NaN}}var qk=hc("milliseconds"),Kk=hc("seconds"),Zk=hc("minutes"),Qk=hc("hours"),Jk=hc("days"),e3=hc("months"),t3=hc("years");function n3(){return Qr(this.days()/7)}var Ko=Math.round,nl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function i3(h,C,P,E,N){return N.relativeTime(C||1,!!P,h,E)}function r3(h,C,P,E){var N=Ga(h).abs(),ae=Ko(N.as("s")),Pe=Ko(N.as("m")),rt=Ko(N.as("h")),Lt=Ko(N.as("d")),cn=Ko(N.as("M")),Wr=Ko(N.as("w")),Zo=Ko(N.as("y")),ys=ae<=P.ss&&["s",ae]||ae<P.s&&["ss",ae]||Pe<=1&&["m"]||Pe<P.m&&["mm",Pe]||rt<=1&&["h"]||rt<P.h&&["hh",rt]||Lt<=1&&["d"]||Lt<P.d&&["dd",Lt];return P.w!=null&&(ys=ys||Wr<=1&&["w"]||Wr<P.w&&["ww",Wr]),ys=ys||cn<=1&&["M"]||cn<P.M&&["MM",cn]||Zo<=1&&["y"]||["yy",Zo],ys[2]=C,ys[3]=+h>0,ys[4]=E,i3.apply(null,ys)}function a3(h){return h===void 0?Ko:typeof h=="function"?(Ko=h,!0):!1}function o3(h,C){return nl[h]===void 0?!1:C===void 0?nl[h]:(nl[h]=C,h==="s"&&(nl.ss=C-1),!0)}function s3(h,C){if(!this.isValid())return this.localeData().invalidDate();var P=!1,E=nl,N,ae;return typeof h=="object"&&(C=h,h=!1),typeof h=="boolean"&&(P=h),typeof C=="object"&&(E=Object.assign({},nl,C),C.s!=null&&C.ss==null&&(E.ss=C.s-1)),N=this.localeData(),ae=r3(this,!P,E,N),P&&(ae=N.pastFuture(+this,ae)),N.postformat(ae)}var Dp=Math.abs;function il(h){return(h>0)-(h<0)||+h}function K0(){if(!this.isValid())return this.localeData().invalidDate();var h=Dp(this._milliseconds)/1e3,C=Dp(this._days),P=Dp(this._months),E,N,ae,Pe,rt=this.asSeconds(),Lt,cn,Wr,Zo;return rt?(E=Qr(h/60),N=Qr(E/60),h%=60,E%=60,ae=Qr(P/12),P%=12,Pe=h?h.toFixed(3).replace(/\.?0+$/,""):"",Lt=rt<0?"-":"",cn=il(this._months)!==il(rt)?"-":"",Wr=il(this._days)!==il(rt)?"-":"",Zo=il(this._milliseconds)!==il(rt)?"-":"",Lt+"P"+(ae?cn+ae+"Y":"")+(P?cn+P+"M":"")+(C?Wr+C+"D":"")+(N||E||h?"T":"")+(N?Zo+N+"H":"")+(E?Zo+E+"M":"")+(h?Zo+Pe+"S":"")):"P0D"}var ln=Y0.prototype;ln.isValid=eS,ln.abs=Dk,ln.add=Fk,ln.subtract=Rk,ln.as=Lk,ln.asMilliseconds=v_,ln.asSeconds=Bk,ln.asMinutes=Vk,ln.asHours=$k,ln.asDays=jk,ln.asWeeks=zk,ln.asMonths=Yk,ln.asQuarters=Uk,ln.asYears=Gk,ln.valueOf=Wk,ln._bubble=Nk,ln.clone=Hk,ln.get=Xk,ln.milliseconds=qk,ln.seconds=Kk,ln.minutes=Zk,ln.hours=Qk,ln.days=Jk,ln.weeks=n3,ln.months=e3,ln.years=t3,ln.humanize=s3,ln.toISOString=K0,ln.toString=K0,ln.toJSON=K0,ln.locale=s_,ln.localeData=l_,ln.toIsoString=I("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",K0),ln.lang=c_,re("X",0,0,"unix"),re("x",0,0,"valueOf"),nt("x",gc),nt("X",V0),yn("X",function(h,C,P){P._d=new Date(parseFloat(h)*1e3)}),yn("x",function(h,C,P){P._d=new Date(an(h))});return t.version="2.30.1",i(Bn),t.fn=ze,t.min=Kw,t.max=Zw,t.now=Qw,t.utc=_,t.unix=wk,t.months=kk,t.isDate=u,t.locale=bs,t.invalid=S,t.duration=Ga,t.isMoment=A,t.weekdays=Ek,t.parseZone=Sk,t.localeData=Ho,t.isDuration=U0,t.monthsShort=Tk,t.weekdaysMin=Ik,t.defineLocale=bp,t.updateLocale=Sw,t.locales=kw,t.weekdaysShort=Ak,t.normalizeUnits=fn,t.relativeTimeRounding=a3,t.relativeTimeThreshold=o3,t.calendarFormat=MS,t.prototype=ze,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var ZP=M_((y1,M1)=>{"use strict";((n,t)=>{typeof define=="function"&&define.amd?define([],t):typeof M1=="object"&&typeof y1<"u"?M1.exports=t():n.Papa=t()})(y1,function n(){var t=typeof self<"u"?self:typeof window<"u"?window:t!==void 0?t:{},i,e=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,a={},o=0,s={};function d(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var I=T(k);I.chunkSize=parseInt(I.chunkSize),k.step||k.chunk||(I.chunkSize=null),this._handle=new x(I),(this._handle.streamer=this)._config=I}).call(this,A),this.parseChunk=function(k,I){var B=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<B){let J=this._config.newline;J||(X=this._config.quoteChar||'"',J=this._handle.guessLineEndings(k,X)),k=[...k.split(J).slice(B)].join(J)}this.isFirstChunk&&U(this._config.beforeFirstChunk)&&(X=this._config.beforeFirstChunk(k))!==void 0&&(k=X),this.isFirstChunk=!1,this._halted=!1;var B=this._partialLine+k,X=(this._partialLine="",this._handle.parse(B,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=X.meta.cursor,B=(this._finished||(this._partialLine=B.substring(k-this._baseIndex),this._baseIndex=k),X&&X.data&&(this._rowCount+=X.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),r)t.postMessage({results:X,workerId:s.WORKER_ID,finished:B});else if(U(this._config.chunk)&&!I){if(this._config.chunk(X,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=X=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(X.data),this._completeResults.errors=this._completeResults.errors.concat(X.errors),this._completeResults.meta=X.meta),this._completed||!B||!U(this._config.complete)||X&&X.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),B||X&&X.meta.paused||this._nextChunk(),X}this._halted=!0},this._sendError=function(k){U(this._config.error)?this._config.error(k):r&&this._config.error&&t.postMessage({workerId:s.WORKER_ID,error:k,finished:!1})}}function u(A){var k;(A=A||{}).chunkSize||(A.chunkSize=s.RemoteChunkSize),d.call(this,A),this._nextChunk=e?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),e||(k.onload=F(this._chunkLoaded,this),k.onerror=F(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!e),this._config.downloadRequestHeaders){var I,B=this._config.downloadRequestHeaders;for(I in B)k.setRequestHeader(I,B[I])}var X;this._config.chunkSize&&(X=this._start+this._config.chunkSize-1,k.setRequestHeader("Range","bytes="+this._start+"-"+X));try{k.send(this._config.downloadRequestBody)}catch(J){this._chunkError(J.message)}e&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(k),this.parseChunk(k.responseText)))},this._chunkError=function(I){I=k.statusText||I,this._sendError(new Error(I))}}function m(A){(A=A||{}).chunkSize||(A.chunkSize=s.LocalChunkSize),d.call(this,A);var k,I,B=typeof FileReader<"u";this.stream=function(X){this._input=X,I=X.slice||X.webkitSlice||X.mozSlice,B?((k=new FileReader).onload=F(this._chunkLoaded,this),k.onerror=F(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var X=this._input,J=(this._config.chunkSize&&(J=Math.min(this._start+this._config.chunkSize,this._input.size),X=I.call(X,this._start,J)),k.readAsText(X,this._config.encoding));B||this._chunkLoaded({target:{result:J}})},this._chunkLoaded=function(X){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(X.target.result)},this._chunkError=function(){this._sendError(k.error)}}function f(A){var k;d.call(this,A=A||{}),this.stream=function(I){return k=I,this._nextChunk()},this._nextChunk=function(){var I,B;if(!this._finished)return I=this._config.chunkSize,k=I?(B=k.substring(0,I),k.substring(I)):(B=k,""),this._finished=!k,this.parseChunk(B)}}function _(A){d.call(this,A=A||{});var k=[],I=!0,B=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(X){this._input=X,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){B&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):I=!0},this._streamData=F(function(X){try{k.push(typeof X=="string"?X:X.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(J){this._streamError(J)}},this),this._streamError=F(function(X){this._streamCleanUp(),this._sendError(X)},this),this._streamEnd=F(function(){this._streamCleanUp(),B=!0,this._streamData("")},this),this._streamCleanUp=F(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(A){var k,I,B,X,J=Math.pow(2,53),te=-J,ye=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,De=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Ce=this,Ve=0,Se=0,je=!1,be=!1,Te=[],le={data:[],errors:[],meta:{}};function Q(me){return A.skipEmptyLines==="greedy"?me.join("").trim()==="":me.length===1&&me[0].length===0}function re(){if(le&&B&&(ie("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),B=!1),A.skipEmptyLines&&(le.data=le.data.filter(function(ve){return!Q(ve)})),ne()){let ve=function(lt,K){U(A.transformHeader)&&(lt=A.transformHeader(lt,K)),Te.push(lt)};var ke=ve;if(le)if(Array.isArray(le.data[0])){for(var me=0;ne()&&me<le.data.length;me++)le.data[me].forEach(ve);le.data.splice(0,1)}else le.data.forEach(ve)}function Ae(ve,lt){for(var K=A.header?{}:[],ft=0;ft<ve.length;ft++){var et=ft,At=ve[ft],At=((it,Be)=>(jt=>(A.dynamicTypingFunction&&A.dynamicTyping[jt]===void 0&&(A.dynamicTyping[jt]=A.dynamicTypingFunction(jt)),(A.dynamicTyping[jt]||A.dynamicTyping)===!0))(it)?Be==="true"||Be==="TRUE"||Be!=="false"&&Be!=="FALSE"&&((jt=>{if(ye.test(jt)&&(jt=parseFloat(jt),te<jt&&jt<J))return 1})(Be)?parseFloat(Be):De.test(Be)?new Date(Be):Be===""?null:Be):Be)(et=A.header?ft>=Te.length?"__parsed_extra":Te[ft]:et,At=A.transform?A.transform(At,et):At);et==="__parsed_extra"?(K[et]=K[et]||[],K[et].push(At)):K[et]=At}return A.header&&(ft>Te.length?ie("FieldMismatch","TooManyFields","Too many fields: expected "+Te.length+" fields but parsed "+ft,Se+lt):ft<Te.length&&ie("FieldMismatch","TooFewFields","Too few fields: expected "+Te.length+" fields but parsed "+ft,Se+lt)),K}var Ie;le&&(A.header||A.dynamicTyping||A.transform)&&(Ie=1,!le.data.length||Array.isArray(le.data[0])?(le.data=le.data.map(Ae),Ie=le.data.length):le.data=Ae(le.data,0),A.header&&le.meta&&(le.meta.fields=Te),Se+=Ie)}function ne(){return A.header&&Te.length===0}function ie(me,Ae,Ie,ke){me={type:me,code:Ae,message:Ie},ke!==void 0&&(me.row=ke),le.errors.push(me)}U(A.step)&&(X=A.step,A.step=function(me){le=me,ne()?re():(re(),le.data.length!==0&&(Ve+=me.data.length,A.preview&&Ve>A.preview?I.abort():(le.data=le.data[0],X(le,Ce))))}),this.parse=function(me,Ae,Ie){var ke=A.quoteChar||'"',ke=(A.newline||(A.newline=this.guessLineEndings(me,ke)),B=!1,A.delimiter?U(A.delimiter)&&(A.delimiter=A.delimiter(me),le.meta.delimiter=A.delimiter):((ke=((ve,lt,K,ft,et)=>{var At,it,Be,jt;et=et||[",","	","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var fn=0;fn<et.length;fn++){for(var Ln,mr=et[fn],Xn=0,si=0,Nt=0,In=(Be=void 0,new b({comments:ft,delimiter:mr,newline:lt,preview:10}).parse(ve)),ci=0;ci<In.data.length;ci++)K&&Q(In.data[ci])?Nt++:(Ln=In.data[ci].length,si+=Ln,Be===void 0?Be=Ln:0<Ln&&(Xn+=Math.abs(Ln-Be),Be=Ln));0<In.data.length&&(si/=In.data.length-Nt),(it===void 0||Xn<=it)&&(jt===void 0||jt<si)&&1.99<si&&(it=Xn,At=mr,jt=si)}return{successful:!!(A.delimiter=At),bestDelimiter:At}})(me,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=ke.bestDelimiter:(B=!0,A.delimiter=s.DefaultDelimiter),le.meta.delimiter=A.delimiter),T(A));return A.preview&&A.header&&ke.preview++,k=me,I=new b(ke),le=I.parse(k,Ae,Ie),re(),je?{meta:{paused:!0}}:le||{meta:{paused:!1}}},this.paused=function(){return je},this.pause=function(){je=!0,I.abort(),k=U(A.chunk)?"":k.substring(I.getCharIndex())},this.resume=function(){Ce.streamer._halted?(je=!1,Ce.streamer.parseChunk(k,!0)):setTimeout(Ce.resume,3)},this.aborted=function(){return be},this.abort=function(){be=!0,I.abort(),le.meta.aborted=!0,U(A.complete)&&A.complete(le),k=""},this.guessLineEndings=function(ve,ke){ve=ve.substring(0,1048576);var ke=new RegExp(v(ke)+"([^]*?)"+v(ke),"gm"),Ie=(ve=ve.replace(ke,"")).split("\r"),ke=ve.split(`
`),ve=1<ke.length&&ke[0].length<Ie[0].length;if(Ie.length===1||ve)return`
`;for(var lt=0,K=0;K<Ie.length;K++)Ie[K][0]===`
`&&lt++;return lt>=Ie.length/2?`\r
`:"\r"}}function v(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(A){var k=(A=A||{}).delimiter,I=A.newline,B=A.comments,X=A.step,J=A.preview,te=A.fastMode,ye=null,De=!1,Ce=A.quoteChar==null?'"':A.quoteChar,Ve=Ce;if(A.escapeChar!==void 0&&(Ve=A.escapeChar),(typeof k!="string"||-1<s.BAD_DELIMITERS.indexOf(k))&&(k=","),B===k)throw new Error("Comment character same as delimiter");B===!0?B="#":(typeof B!="string"||-1<s.BAD_DELIMITERS.indexOf(B))&&(B=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var Se=0,je=!1;this.parse=function(be,Te,le){if(typeof be!="string")throw new Error("Input must be a string");var Q=be.length,re=k.length,ne=I.length,ie=B.length,me=U(X),Ae=[],Ie=[],ke=[],ve=Se=0;if(!be)return Xn();if(te||te!==!1&&be.indexOf(Ce)===-1){for(var lt=be.split(I),K=0;K<lt.length;K++){if(ke=lt[K],Se+=ke.length,K!==lt.length-1)Se+=I.length;else if(le)return Xn();if(!B||ke.substring(0,ie)!==B){if(me){if(Ae=[],jt(ke.split(k)),si(),je)return Xn()}else jt(ke.split(k));if(J&&J<=K)return Ae=Ae.slice(0,J),Xn(!0)}}return Xn()}for(var ft=be.indexOf(k,Se),et=be.indexOf(I,Se),At=new RegExp(v(Ve)+v(Ce),"g"),it=be.indexOf(Ce,Se);;)if(be[Se]===Ce)for(it=Se,Se++;;){if((it=be.indexOf(Ce,it+1))===-1)return le||Ie.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ae.length,index:Se}),Ln();if(it===Q-1)return Ln(be.substring(Se,it).replace(At,Ce));if(Ce===Ve&&be[it+1]===Ve)it++;else if(Ce===Ve||it===0||be[it-1]!==Ve){ft!==-1&&ft<it+1&&(ft=be.indexOf(k,it+1));var Be=fn((et=et!==-1&&et<it+1?be.indexOf(I,it+1):et)===-1?ft:Math.min(ft,et));if(be.substr(it+1+Be,re)===k){ke.push(be.substring(Se,it).replace(At,Ce)),be[Se=it+1+Be+re]!==Ce&&(it=be.indexOf(Ce,Se)),ft=be.indexOf(k,Se),et=be.indexOf(I,Se);break}if(Be=fn(et),be.substring(it+1+Be,it+1+Be+ne)===I){if(ke.push(be.substring(Se,it).replace(At,Ce)),mr(it+1+Be+ne),ft=be.indexOf(k,Se),it=be.indexOf(Ce,Se),me&&(si(),je))return Xn();if(J&&Ae.length>=J)return Xn(!0);break}Ie.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ae.length,index:Se}),it++}}else if(B&&ke.length===0&&be.substring(Se,Se+ie)===B){if(et===-1)return Xn();Se=et+ne,et=be.indexOf(I,Se),ft=be.indexOf(k,Se)}else if(ft!==-1&&(ft<et||et===-1))ke.push(be.substring(Se,ft)),Se=ft+re,ft=be.indexOf(k,Se);else{if(et===-1)break;if(ke.push(be.substring(Se,et)),mr(et+ne),me&&(si(),je))return Xn();if(J&&Ae.length>=J)return Xn(!0)}return Ln();function jt(Nt){Ae.push(Nt),ve=Se}function fn(Nt){var In=0;return In=Nt!==-1&&(Nt=be.substring(it+1,Nt))&&Nt.trim()===""?Nt.length:In}function Ln(Nt){return le||(Nt===void 0&&(Nt=be.substring(Se)),ke.push(Nt),Se=Q,jt(ke),me&&si()),Xn()}function mr(Nt){Se=Nt,jt(ke),ke=[],et=be.indexOf(I,Se)}function Xn(Nt){if(A.header&&!Te&&Ae.length&&!De){var In=Ae[0],ci=Object.create(null),Kr=new Set(In);let zt=!1;for(let Oi=0;Oi<In.length;Oi++){let Pt=In[Oi];if(ci[Pt=U(A.transformHeader)?A.transformHeader(Pt,Oi):Pt]){let hn,ji=ci[Pt];for(;hn=Pt+"_"+ji,ji++,Kr.has(hn););Kr.add(hn),In[Oi]=hn,ci[Pt]++,zt=!0,(ye=ye===null?{}:ye)[hn]=Pt}else ci[Pt]=1,In[Oi]=Pt;Kr.add(Pt)}zt&&console.warn("Duplicate headers found and renamed."),De=!0}return{data:Ae,errors:Ie,meta:{delimiter:k,linebreak:I,aborted:je,truncated:!!Nt,cursor:ve+(Te||0),renamedHeaders:ye}}}function si(){X(Xn()),Ae=[],Ie=[]}},this.abort=function(){je=!0},this.getCharIndex=function(){return Se}}function M(A){var k=A.data,I=a[k.workerId],B=!1;if(k.error)I.userError(k.error,k.file);else if(k.results&&k.results.data){var X={abort:function(){B=!0,S(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:w,resume:w};if(U(I.userStep)){for(var J=0;J<k.results.data.length&&(I.userStep({data:k.results.data[J],errors:k.results.errors,meta:k.results.meta},X),!B);J++);delete k.results}else U(I.userChunk)&&(I.userChunk(k.results,X,k.file),delete k.results)}k.finished&&!B&&S(k.workerId,k.results)}function S(A,k){var I=a[A];U(I.userComplete)&&I.userComplete(k),I.terminate(),delete a[A]}function w(){throw new Error("Not implemented.")}function T(A){if(typeof A!="object"||A===null)return A;var k,I=Array.isArray(A)?[]:{};for(k in A)I[k]=T(A[k]);return I}function F(A,k){return function(){A.apply(k,arguments)}}function U(A){return typeof A=="function"}return s.parse=function(A,k){var I=(k=k||{}).dynamicTyping||!1;if(U(I)&&(k.dynamicTypingFunction=I,I={}),k.dynamicTyping=I,k.transform=!!U(k.transform)&&k.transform,!k.worker||!s.WORKERS_SUPPORTED)return I=null,s.NODE_STREAM_INPUT,typeof A=="string"?(A=(B=>B.charCodeAt(0)!==65279?B:B.slice(1))(A),I=new(k.download?u:f)(k)):A.readable===!0&&U(A.read)&&U(A.on)?I=new _(k):(t.File&&A instanceof File||A instanceof Object)&&(I=new m(k)),I.stream(A);(I=(()=>{var B;return!!s.WORKERS_SUPPORTED&&(B=(()=>{var X=t.URL||t.webkitURL||null,J=n.toString();return s.BLOB_URL||(s.BLOB_URL=X.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",J,")();"],{type:"text/javascript"})))})(),(B=new t.Worker(B)).onmessage=M,B.id=o++,a[B.id]=B)})()).userStep=k.step,I.userChunk=k.chunk,I.userComplete=k.complete,I.userError=k.error,k.step=U(k.step),k.chunk=U(k.chunk),k.complete=U(k.complete),k.error=U(k.error),delete k.worker,I.postMessage({input:A,config:k,workerId:I.id})},s.unparse=function(A,k){var I=!1,B=!0,X=",",J=`\r
`,te='"',ye=te+te,De=!1,Ce=null,Ve=!1,Se=((()=>{if(typeof k=="object"){if(typeof k.delimiter!="string"||s.BAD_DELIMITERS.filter(function(Te){return k.delimiter.indexOf(Te)!==-1}).length||(X=k.delimiter),typeof k.quotes!="boolean"&&typeof k.quotes!="function"&&!Array.isArray(k.quotes)||(I=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(De=k.skipEmptyLines),typeof k.newline=="string"&&(J=k.newline),typeof k.quoteChar=="string"&&(te=k.quoteChar),typeof k.header=="boolean"&&(B=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");Ce=k.columns}k.escapeChar!==void 0&&(ye=k.escapeChar+te),k.escapeFormulae instanceof RegExp?Ve=k.escapeFormulae:typeof k.escapeFormulae=="boolean"&&k.escapeFormulae&&(Ve=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(te),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return je(null,A,De);if(typeof A[0]=="object")return je(Ce||Object.keys(A[0]),A,De)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||Ce),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),je(A.fields||[],A.data||[],De);throw new Error("Unable to serialize unrecognized input");function je(Te,le,Q){var re="",ne=(typeof Te=="string"&&(Te=JSON.parse(Te)),typeof le=="string"&&(le=JSON.parse(le)),Array.isArray(Te)&&0<Te.length),ie=!Array.isArray(le[0]);if(ne&&B){for(var me=0;me<Te.length;me++)0<me&&(re+=X),re+=be(Te[me],me);0<le.length&&(re+=J)}for(var Ae=0;Ae<le.length;Ae++){var Ie=(ne?Te:le[Ae]).length,ke=!1,ve=ne?Object.keys(le[Ae]).length===0:le[Ae].length===0;if(Q&&!ne&&(ke=Q==="greedy"?le[Ae].join("").trim()==="":le[Ae].length===1&&le[Ae][0].length===0),Q==="greedy"&&ne){for(var lt=[],K=0;K<Ie;K++){var ft=ie?Te[K]:K;lt.push(le[Ae][ft])}ke=lt.join("").trim()===""}if(!ke){for(var et=0;et<Ie;et++){0<et&&!ve&&(re+=X);var At=ne&&ie?Te[et]:et;re+=be(le[Ae][At],et)}Ae<le.length-1&&(!Q||0<Ie&&!ve)&&(re+=J)}}return re}function be(Te,le){var Q,re;return Te==null?"":Te.constructor===Date?JSON.stringify(Te).slice(1,25):(re=!1,Ve&&typeof Te=="string"&&Ve.test(Te)&&(Te="'"+Te,re=!0),Q=Te.toString().replace(Se,ye),(re=re||I===!0||typeof I=="function"&&I(Te,le)||Array.isArray(I)&&I[le]||((ne,ie)=>{for(var me=0;me<ie.length;me++)if(-1<ne.indexOf(ie[me]))return!0;return!1})(Q,s.BAD_DELIMITERS)||-1<Q.indexOf(X)||Q.charAt(0)===" "||Q.charAt(Q.length-1)===" ")?te+Q+te:Q)}},s.RECORD_SEP="",s.UNIT_SEP="",s.BYTE_ORDER_MARK="\uFEFF",s.BAD_DELIMITERS=["\r",`
`,'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!e&&!!t.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=b,s.ParserHandle=x,s.NetworkStreamer=u,s.FileStreamer=m,s.StringStreamer=f,s.ReadableStreamStreamer=_,t.jQuery&&((i=t.jQuery).fn.parse=function(A){var k=A.config||{},I=[];return this.each(function(J){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&t.FileReader)||!this.files||this.files.length===0)return!0;for(var te=0;te<this.files.length;te++)I.push({file:this.files[te],inputElem:this,instanceConfig:i.extend({},k)})}),B(),this;function B(){if(I.length===0)U(A.complete)&&A.complete();else{var J,te,ye,De,Ce=I[0];if(U(A.before)){var Ve=A.before(Ce.file,Ce.inputElem);if(typeof Ve=="object"){if(Ve.action==="abort")return J="AbortError",te=Ce.file,ye=Ce.inputElem,De=Ve.reason,void(U(A.error)&&A.error({name:J},te,ye,De));if(Ve.action==="skip")return void X();typeof Ve.config=="object"&&(Ce.instanceConfig=i.extend(Ce.instanceConfig,Ve.config))}else if(Ve==="skip")return void X()}var Se=Ce.instanceConfig.complete;Ce.instanceConfig.complete=function(je){U(Se)&&Se(je,Ce.file,Ce.inputElem),X()},s.parse(Ce.file,Ce.instanceConfig)}}function X(){I.splice(0,1),B()}}),r&&(t.onmessage=function(A){A=A.data,s.WORKER_ID===void 0&&A&&(s.WORKER_ID=A.workerId),typeof A.input=="string"?t.postMessage({workerId:s.WORKER_ID,results:s.parse(A.input,A.config),finished:!0}):(t.File&&A.input instanceof File||A.input instanceof Object)&&(A=s.parse(A.input,A.config))&&t.postMessage({workerId:s.WORKER_ID,results:A,finished:!0})}),(u.prototype=Object.create(d.prototype)).constructor=u,(m.prototype=Object.create(d.prototype)).constructor=m,(f.prototype=Object.create(f.prototype)).constructor=f,(_.prototype=Object.create(d.prototype)).constructor=_,s})});var yo=Dt("[Budgets] Load Budgets",Rt()),Mu=Dt("[Budgets] Load Budgets Success",Rt()),Pu=Dt("[Budgets] Load Budgets Failure",Rt()),vc=Dt("[Budgets] Create Budget",Rt()),Ou=Dt("[Budgets] Create Budget Success",Rt()),wu=Dt("[Budgets] Create Budget Failure",Rt()),Ll=Dt("[Budgets] Update Budget",Rt()),Su=Dt("[Budgets] Update Budget Success",Rt()),ku=Dt("[Budgets] Update Budget Failure",Rt()),Bl=Dt("[Budgets] Delete Budget",Rt()),Tu=Dt("[Budgets] Delete Budget Success",Rt()),Eu=Dt("[Budgets] Delete Budget Failure",Rt()),Vl=Dt("[Budgets] Update Spent",Rt()),Au=Dt("[Budgets] Update Spent Success",Rt()),Iu=Dt("[Budgets] Update Spent Failure",Rt());var Mo=Dt("[Goals] Load Goals",Rt()),Du=Dt("[Goals] Load Goals Success",Rt()),Fu=Dt("[Goals] Load Goals Failure",Rt()),$l=Dt("[Goals] Create Goal",Rt()),Ru=Dt("[Goals] Create Goal Success",Rt()),Nu=Dt("[Goals] Create Goal Failure",Rt()),Lu=Dt("[Goals] Update Goal",Rt()),Bu=Dt("[Goals] Update Goal Success",Rt()),Vu=Dt("[Goals] Update Goal Failure",Rt()),jl=Dt("[Goals] Delete Goal",Rt()),$u=Dt("[Goals] Delete Goal Success",Rt()),ju=Dt("[Goals] Delete Goal Failure",Rt()),zl=Dt("[Goals] Update Current Amount",Rt()),zu=Dt("[Goals] Update Current Amount Success",Rt()),Yu=Dt("[Goals] Update Current Amount Failure",Rt());var Po=Dt("[Profile] Load Profile",Rt()),Uu=Dt("[Profile] Load Profile Success",Rt()),Gu=Dt("[Profile] Load Profile Failure",Rt()),Yl=Dt("[Profile] Update Profile",Rt()),Wu=Dt("[Profile] Update Profile Success",Rt()),Hu=Dt("[Profile] Update Profile Failure",Rt()),Xu=Dt("[Profile] Create Profile",Rt()),qu=Dt("[Profile] Create Profile Success",Rt()),Ku=Dt("[Profile] Create Profile Failure",Rt()),Zu=Dt("[Profile] Delete Profile",Rt()),Qu=Dt("[Profile] Delete Profile Success"),Ju=Dt("[Profile] Delete Profile Failure",Rt()),rs=Dt("[Profile] Update Preferences",Rt()),em=Dt("[Profile] Update Preferences Success",Rt()),tm=Dt("[Profile] Update Preferences Failure",Rt());var Yn=function(n){return n.LOGIN_ATTEMPT="LOGIN_ATTEMPT",n.LOGIN_SUCCESS="LOGIN_SUCCESS",n.LOGIN_FAILED="LOGIN_FAILED",n.LOGOUT="LOGOUT",n.PASSWORD_CHANGE="PASSWORD_CHANGE",n.PASSWORD_RESET="PASSWORD_RESET",n.SUSPICIOUS_ACTIVITY="SUSPICIOUS_ACTIVITY",n.RATE_LIMIT_EXCEEDED="RATE_LIMIT_EXCEEDED",n.UNAUTHORIZED_ACCESS="UNAUTHORIZED_ACCESS",n.SESSION_EXPIRED="SESSION_EXPIRED",n.ACCOUNT_LOCKED="ACCOUNT_LOCKED",n.ACCOUNT_UNLOCKED="ACCOUNT_UNLOCKED",n.FORCE_LOGOUT="FORCE_LOGOUT",n.SECURITY_ALERT="SECURITY_ALERT",n}(Yn||{}),Un=function(n){return n.LOW="low",n.MEDIUM="medium",n.HIGH="high",n.CRITICAL="critical",n}(Un||{}),Lb=(()=>{let t=class t{constructor(e,r,a){this.router=e,this.userService=r,this.notificationService=a,this.securityEvents=new un([]),this.securityStatus=new un(null),this.securityConfig={SESSION_TIMEOUT:30*60*1e3,MAX_LOGIN_ATTEMPTS:5,LOCKOUT_DURATION:15*60*1e3,PASSWORD_MIN_LENGTH:8,REQUIRE_EMAIL_VERIFICATION:!0,ENABLE_TWO_FACTOR:!1,ENABLE_RATE_LIMITING:!0,ENABLE_AUDIT_LOGGING:!0,ENABLE_SECURITY_HEADERS:!0,ALLOWED_ORIGINS:["localhost","127.0.0.1","yourdomain.com"],BLOCKED_IPS:[]},this.securityEvents$=this.securityEvents.asObservable(),this.securityStatus$=this.securityStatus.asObservable(),this.initializeSecurityMonitoring()}initializeSecurityMonitoring(){this.userService.userAuth$.subscribe(e=>{this.updateSecurityStatus()}),setInterval(()=>{},6e4),this.monitorSuspiciousActivity()}logSecurityEvent(e,r,a={},o){let s={id:this.generateEventId(),type:e,level:r,userId:o,timestamp:new Date,details:a,userAgent:navigator.userAgent,ipAddress:this.getClientIP(),location:window.location.href,resolved:!1},d=this.securityEvents.value;d.push(s),d.length>1e3&&d.shift(),this.securityEvents.next(d),r===Un.CRITICAL&&this.handleCriticalSecurityEvent(s),console.log("Security Event:",s)}handleCriticalSecurityEvent(e){switch(e.type){case Yn.SUSPICIOUS_ACTIVITY:this.notificationService.error("Suspicious activity detected. Please review your account.");break;case Yn.UNAUTHORIZED_ACCESS:this.forceLogout("Unauthorized access detected");break;case Yn.ACCOUNT_LOCKED:this.notificationService.warning("Account locked due to multiple failed login attempts.");break;case Yn.SECURITY_ALERT:this.notificationService.error("Security alert: Please review your account immediately.");break}}updateSecurityStatus(){let e=this.userService.userAuth$.value,r=this.userService.getSecurityStatus(),a={isAuthenticated:!!e,sessionActive:(r==null?void 0:r.sessionActive)||!1,sessionAge:(r==null?void 0:r.sessionAge)||0,loginAttempts:(r==null?void 0:r.loginAttempts)||0,isAccountLocked:(r==null?void 0:r.isLocked)||!1,isEmailVerified:(r==null?void 0:r.isEmailVerified)||!1,twoFactorEnabled:!1,lastLoginTime:r!=null&&r.lastLogin?new Date(r.lastLogin):void 0,securityLevel:this.calculateSecurityLevel(r),recentSecurityEvents:this.getRecentSecurityEvents()};this.securityStatus.next(a)}calculateSecurityLevel(e){if(!e)return Un.LOW;let r=0;return e.isEmailVerified&&(r+=2),e.isLocked||(r+=1),e.loginAttempts<2&&(r+=1),e.sessionActive&&(r+=1),r>=4?Un.HIGH:r>=2?Un.MEDIUM:Un.LOW}getRecentSecurityEvents(){let e=this.securityEvents.value,r=new Date(Date.now()-60*60*1e3);return e.filter(a=>a.timestamp>r)}performSecurityChecks(){let e=this.userService.userAuth$.value;if(!e)return;let r=this.userService.getSecurityStatus();r&&!r.sessionActive&&(this.logSecurityEvent(Yn.SESSION_EXPIRED,Un.HIGH,{userId:e.uid},e.uid),this.forceLogout("Session expired")),this.detectSuspiciousActivityPatterns()}detectSuspiciousActivityPatterns(){let e=this.getRecentSecurityEvents(),r=this.userService.userAuth$.value;if(!r)return;let a=e.filter(s=>s.type===Yn.LOGIN_FAILED&&s.userId===r.uid);a.length>=3&&this.logSecurityEvent(Yn.SUSPICIOUS_ACTIVITY,Un.HIGH,{reason:"multiple_failed_logins",count:a.length},r.uid);let o=e.filter(s=>s.timestamp>new Date(Date.now()-5*60*1e3));o.length>10&&this.logSecurityEvent(Yn.SUSPICIOUS_ACTIVITY,Un.MEDIUM,{reason:"rapid_activity",count:o.length})}monitorSuspiciousActivity(){let e=0,r=Date.now();this.router.events.subscribe(()=>{let a=Date.now();a-r<1e3?(e++,e>10&&this.logSecurityEvent(Yn.SUSPICIOUS_ACTIVITY,Un.MEDIUM,{reason:"rapid_navigation",count:e})):e=0,r=a})}forceLogout(e){this.logSecurityEvent(Yn.FORCE_LOGOUT,Un.CRITICAL,{reason:e}),this.userService.forceLogout(e)}validateSecurityConfig(){let e=[];return this.securityConfig.PASSWORD_MIN_LENGTH<8&&e.push("Password minimum length should be at least 8 characters"),this.securityConfig.SESSION_TIMEOUT<5*60*1e3&&e.push("Session timeout should be at least 5 minutes"),this.securityConfig.MAX_LOGIN_ATTEMPTS<3&&e.push("Maximum login attempts should be at least 3"),e.length>0?(console.warn("Security configuration issues:",e),!1):!0}getSecurityConfig(){return ce({},this.securityConfig)}updateSecurityConfig(e){Object.assign(this.securityConfig,e),this.logSecurityEvent(Yn.SECURITY_ALERT,Un.MEDIUM,{reason:"config_updated",updates:e})}getSecurityEventsByType(e){return this.securityEvents.value.filter(r=>r.type===e)}getSecurityEventsByLevel(e){return this.securityEvents.value.filter(r=>r.level===e)}resolveSecurityEvent(e){let r=this.securityEvents.value,a=r.findIndex(o=>o.id===e);a!==-1&&(r[a].resolved=!0,this.securityEvents.next(r))}clearResolvedEvents(){let e=this.securityEvents.value.filter(r=>!r.resolved);this.securityEvents.next(e)}generateEventId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getClientIP(){return"client-side"}isOriginAllowed(e){return this.securityConfig.ALLOWED_ORIGINS.some(r=>e.includes(r))}isIPBlocked(e){return this.securityConfig.BLOCKED_IPS.includes(e)}blockIP(e,r){this.securityConfig.BLOCKED_IPS.includes(e)||(this.securityConfig.BLOCKED_IPS.push(e),this.logSecurityEvent(Yn.SECURITY_ALERT,Un.HIGH,{reason:r,ip:e}))}unblockIP(e){let r=this.securityConfig.BLOCKED_IPS.indexOf(e);r!==-1&&(this.securityConfig.BLOCKED_IPS.splice(r,1),this.logSecurityEvent(Yn.SECURITY_ALERT,Un.MEDIUM,{reason:"ip_unblocked",ip:e}))}};t.\u0275fac=function(r){return new(r||t)(Ne(on),Ne(ui),Ne(Ct))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var d3=(n,t,i,e)=>({"bg-red-500":n,"bg-yellow-500":t,"bg-blue-500":i,"bg-green-500":e});function g3(n,t){if(n&1&&(c(0,"p",41),g(1),l()),n&2){let i=y(2);p(),ee(" Time remaining: ",i.getLockoutTimeRemaining()," minutes ")}}function u3(n,t){if(n&1&&(c(0,"div",36)(1,"div",37),zi(),c(2,"svg",38),oe(3,"path",39),l(),Ma(),c(4,"span",40),g(5,"Account Temporarily Locked"),l()(),c(6,"p",41),g(7,"Too many failed login attempts. Please try again later."),l(),L(8,g3,2,1,"p",42),l()),n&2){let i=y();p(8),O("ngIf",i.lockoutTimeRemaining>0)}}function m3(n,t){if(n&1&&(c(0,"div",43)(1,"div",37),zi(),c(2,"svg",38),oe(3,"path",44),l(),Ma(),c(4,"span",40),g(5,"Login Attempts"),l()(),c(6,"p",41),g(7),l()()),n&2){let i=y();p(7),Wt(" Failed attempts: ",i.loginAttempts," / ",i.maxLoginAttempts," ")}}function p3(n,t){n&1&&(c(0,"span"),g(1),se(2,"translate"),l()),n&2&&(p(),V(pe(2,1,"emailRequired")))}function f3(n,t){n&1&&(c(0,"span"),g(1,"Please enter a valid email address"),l())}function h3(n,t){n&1&&(c(0,"span"),g(1,"Disposable email addresses are not allowed"),l())}function _3(n,t){if(n&1&&(c(0,"div",45),L(1,p3,3,3,"span",15)(2,f3,2,0,"span",15)(3,h3,2,0,"span",15),l()),n&2){let i,e,r,a=y();p(),O("ngIf",(i=a.signInForm.get("email"))==null||i.errors==null?null:i.errors.required),p(),O("ngIf",(e=a.signInForm.get("email"))==null||e.errors==null?null:e.errors.email),p(),O("ngIf",(r=a.signInForm.get("email"))==null||r.errors==null?null:r.errors.disposableEmail)}}function x3(n,t){n&1&&(c(0,"span"),g(1,"Full name is required"),l())}function C3(n,t){n&1&&(c(0,"span"),g(1,"Name must be at least 2 characters long"),l())}function b3(n,t){if(n&1&&(c(0,"div",45),L(1,x3,2,0,"span",15)(2,C3,2,0,"span",15),l()),n&2){let i,e,r=y(2);p(),O("ngIf",(i=r.signInForm.get("name"))==null||i.errors==null?null:i.errors.required),p(),O("ngIf",(e=r.signInForm.get("name"))==null||e.errors==null?null:e.errors.minLength)}}function v3(n,t){if(n&1&&(c(0,"div")(1,"label",46),g(2,"Full Name"),l(),oe(3,"input",47),L(4,b3,3,2,"div",14),l()),n&2){let i,e=y();p(3),ga("data-security-level",e.securityLevel),p(),O("ngIf",((i=e.signInForm.get("name"))==null?null:i.invalid)&&((i=e.signInForm.get("name"))==null?null:i.touched))}}function y3(n,t){n&1&&(c(0,"a",48),g(1,"Forget Password?"),l())}function M3(n,t){n&1&&(zi(),c(0,"svg",49),oe(1,"path",50)(2,"path",51),l())}function P3(n,t){n&1&&(zi(),c(0,"svg",49),oe(1,"path",52),l())}function O3(n,t){n&1&&(c(0,"span"),g(1,"Password must be at least 8 characters with uppercase, lowercase, number, and special character"),l())}function w3(n,t){if(n&1&&(c(0,"div",53)(1,"div",54)(2,"span"),g(3,"Password strength:"),l(),c(4,"span"),g(5),l()(),c(6,"div",55),oe(7,"div",56),l(),c(8,"div",57),L(9,O3,2,0,"span",15),l()()),n&2){let i=y();p(4),Tt(i.getPasswordStrengthColor()),p(),V(i.getPasswordStrengthText()),p(2),kt("width",i.passwordStrength/4*100,"%"),O("ngClass",J_(7,d3,i.passwordStrength<=1,i.passwordStrength===2,i.passwordStrength===3,i.passwordStrength>=4)),p(2),O("ngIf",i.passwordStrength<3)}}function S3(n,t){n&1&&(c(0,"span"),g(1),se(2,"translate"),l()),n&2&&(p(),V(pe(2,1,"passwordRequired")))}function k3(n,t){n&1&&(c(0,"span"),g(1,"Password must be at least 8 characters long"),l())}function T3(n,t){n&1&&(c(0,"span"),g(1,"Password must contain uppercase, lowercase, number, and special character"),l())}function E3(n,t){if(n&1&&(c(0,"div",45),L(1,S3,3,3,"span",15)(2,k3,2,0,"span",15)(3,T3,2,0,"span",15),l()),n&2){let i,e,r,a=y();p(),O("ngIf",(i=a.signInForm.get("password"))==null||i.errors==null?null:i.errors.required),p(),O("ngIf",(e=a.signInForm.get("password"))==null||e.errors==null?null:e.errors.minLength),p(),O("ngIf",(r=a.signInForm.get("password"))==null||r.errors==null?null:r.errors.passwordStrength)}}function A3(n,t){n&1&&(zi(),c(0,"svg",49),oe(1,"path",50)(2,"path",51),l())}function I3(n,t){n&1&&(zi(),c(0,"svg",49),oe(1,"path",52),l())}function D3(n,t){n&1&&(c(0,"span"),g(1),se(2,"translate"),l()),n&2&&(p(),ee("",pe(2,1,"confirmPassword")," is required"))}function F3(n,t){n&1&&(c(0,"span"),g(1,"Passwords do not match"),l())}function R3(n,t){if(n&1&&(c(0,"div",45),L(1,D3,3,3,"span",15)(2,F3,2,0,"span",15),l()),n&2){let i,e,r=y(2);p(),O("ngIf",(i=r.signInForm.get("confirmPassword"))==null||i.errors==null?null:i.errors.required),p(),O("ngIf",(e=r.signInForm.get("confirmPassword"))==null||e.errors==null?null:e.errors.notMatch)}}function N3(n,t){if(n&1){let i=ue();c(0,"div")(1,"label",58),g(2),se(3,"translate"),l(),c(4,"div",19),oe(5,"input",59),c(6,"button",21),R("click",function(){j(i);let r=y();return z(r.toggleConfirmPasswordVisibility())}),L(7,A3,3,0,"svg",22)(8,I3,2,0,"svg",22),l()(),L(9,R3,3,2,"div",14),l()}if(n&2){let i,e=y();p(2),V(pe(3,6,"confirmPassword")),p(3),O("type",e.showConfirmPassword?"text":"password"),ga("data-security-level",e.securityLevel),p(2),O("ngIf",!e.showConfirmPassword),p(),O("ngIf",e.showConfirmPassword),p(),O("ngIf",((i=e.signInForm.get("confirmPassword"))==null?null:i.invalid)&&((i=e.signInForm.get("confirmPassword"))==null?null:i.touched))}}function L3(n,t){n&1&&oe(0,"mat-spinner",60)}function B3(n,t){if(n&1&&(c(0,"span"),g(1),se(2,"translate"),se(3,"translate"),l()),n&2){let i=y();p(),V(i.isSignInPage?pe(2,1,"signIn"):pe(3,3,"signUp"))}}function V3(n,t){if(n&1&&(c(0,"span"),g(1),l()),n&2){let i=y();p(),V(i.isSignInPage?"Signing in...":"Creating account...")}}function $3(n,t){n&1&&(zi(),c(0,"svg",61),oe(1,"path",62)(2,"path",63)(3,"path",64)(4,"path",65),l())}function j3(n,t){n&1&&oe(0,"mat-spinner",66)}function z3(n,t){n&1&&(c(0,"div",67)(1,"div",37),zi(),c(2,"svg",68),oe(3,"path",69)(4,"path",70),l(),Ma(),c(5,"span",71),g(6,"Security"),l()(),c(7,"p",72),g(8," Enterprise-grade encryption and secure authentication protect your data. "),l()())}var ff=(()=>{let t=class t{constructor(e,r,a,o,s,d,u,m){this.fb=e,this.router=r,this.route=a,this.userService=o,this.notificationService=s,this.securityService=d,this.validationService=u,this.store=m,this.isSignInPage=!0,this.isLoading=!1,this.isAccountLocked=!1,this.lockoutTimeRemaining=0,this.loginAttempts=0,this.maxLoginAttempts=5,this.showPassword=!1,this.showConfirmPassword=!1,this.passwordStrength=0,this.securityLevel="moderate",this.showSecurityNotice=!1,this.destroy$=new It,this.loginAttemptCount=0,this.lastLoginAttempt=0,this.rateLimitWindow=6e4,this.maxAttemptsPerWindow=3,this.initializeForm(),this._setIsSignInPage(this.router.url.includes("/sign-in")),this.checkQueryParams()}ngOnInit(){this.setupFormValidation(),this.checkSecurityStatus(),this.startSecurityMonitoring(),setTimeout(()=>{this.showSecurityNotice=!0},100)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.signInForm=this.fb.group({email:["",[...this.validationService.getProfileEmailValidators(),this.emailDomainValidator.bind(this)]],password:["",[...this.validationService.getAuthPasswordValidators(),this.passwordStrengthValidator.bind(this)]]})}setupFormValidation(){var e,r;(e=this.signInForm.get("password"))==null||e.valueChanges.pipe(bt(this.destroy$),Ed(300),ol()).subscribe(a=>{this.passwordStrength=this.calculatePasswordStrength(a)}),(r=this.signInForm.get("email"))==null||r.valueChanges.pipe(bt(this.destroy$),Ed(500),ol()).subscribe(a=>{this.monitorEmailInput(a)})}checkQueryParams(){this.route.queryParams.subscribe(e=>{e.error&&this.handleSecurityError(e.error,e.message),e.session==="expired"&&this.notificationService.warning("Your session has expired. Please sign in again."),e.cacheUpdate==="true"&&this.notificationService.info("Application updated. Please sign in again.")})}checkSecurityStatus(){let e=this.userService.getSecurityStatus();e&&(this.isAccountLocked=e.isLocked,this.loginAttempts=e.loginAttempts,this.maxLoginAttempts=e.remainingAttempts+e.loginAttempts,this.isAccountLocked&&this.calculateLockoutTime())}startSecurityMonitoring(){setInterval(()=>{this.checkSecurityStatus()},1e4)}onSignIn(){return ge(this,null,function*(){var a,o;if(!this.signInForm.valid){this.notificationService.error("Please fill all required fields correctly"),this.markFormGroupTouched();return}if(this.isRateLimited()){this.notificationService.error("Too many login attempts. Please wait before trying again.");return}if(this.isAccountLocked){this.notificationService.error(`Account is temporarily locked. Please try again in ${Math.ceil(this.lockoutTimeRemaining/6e4)} minutes.`);return}let e=(a=this.signInForm.get("email"))==null?void 0:a.value,r=(o=this.signInForm.get("password"))==null?void 0:o.value;this.securityService.logSecurityEvent(Yn.LOGIN_ATTEMPT,Un.MEDIUM,{email:e,timestamp:new Date().toISOString()});try{this.isLoading=!0,this.loginAttemptCount++,this.lastLoginAttempt=Date.now(),yield this.userService.signIn(e,r),this.securityService.logSecurityEvent(Yn.LOGIN_SUCCESS,Un.LOW,{email:e,timestamp:new Date().toISOString()}),this.notificationService.success("Successfully signed in!"),yield this.loadUserData(),this.router.navigate(["/dashboard"])}catch(s){this.handleSignInError(s,e)}finally{this.isLoading=!1}})}onSignUp(){return ge(this,null,function*(){var o,s,d,u,m,f;if(!this.signInForm.valid){this.notificationService.error("Please fill all required fields correctly"),this.markFormGroupTouched();return}if(this.passwordStrength<3){this.notificationService.error("Password is too weak. Please choose a stronger password.");return}if(((o=this.signInForm.get("password"))==null?void 0:o.value)!==((s=this.signInForm.get("confirmPassword"))==null?void 0:s.value)){this.notificationService.error("Passwords do not match"),(d=this.signInForm.get("confirmPassword"))==null||d.setErrors({notMatch:!0});return}let e=(u=this.signInForm.get("email"))==null?void 0:u.value,r=(m=this.signInForm.get("password"))==null?void 0:m.value,a=((f=this.signInForm.get("name"))==null?void 0:f.value)||"User";this.securityService.logSecurityEvent(Yn.SECURITY_ALERT,Un.MEDIUM,{type:"registration_attempt",email:e,timestamp:new Date().toISOString()});try{this.isLoading=!0,yield this.userService.signUp(e,r,a),this.securityService.logSecurityEvent(Yn.SECURITY_ALERT,Un.LOW,{type:"registration_success",email:e,timestamp:new Date().toISOString()}),this.notificationService.success("Account created successfully! Please check your email for verification."),this._setIsSignInPage(!0)}catch(_){this.handleSignUpError(_,e)}finally{this.isLoading=!1}})}signInWithGoogle(){return ge(this,null,function*(){if(this.isRateLimited()){this.notificationService.error("Too many sign-in attempts. Please wait before trying again.");return}try{this.isLoading=!0,this.securityService.logSecurityEvent(Yn.LOGIN_ATTEMPT,Un.MEDIUM,{method:"google",timestamp:new Date().toISOString()}),yield this.userService.signInWithGoogle(),this.securityService.logSecurityEvent(Yn.LOGIN_SUCCESS,Un.LOW,{method:"google",timestamp:new Date().toISOString()}),this.notificationService.success("Successfully signed in with Google!"),yield this.loadUserData(),this.router.navigate(["/dashboard"])}catch(e){this.handleGoogleSignInError(e)}finally{this.isLoading=!1}})}loadUserData(){return ge(this,null,function*(){try{let e=this.userService.userAuth$.value;if(!(e!=null&&e.uid)){console.warn("No user ID available for loading data");return}yield Promise.all([this.store.dispatch(ni({userId:e.uid})),this.store.dispatch(fr({userId:e.uid})),this.store.dispatch(ea({userId:e.uid})),this.store.dispatch(yo({userId:e.uid})),this.store.dispatch(Mo({userId:e.uid})),this.store.dispatch(Po({userId:e.uid}))])}catch(e){console.error("Error loading user data:",e)}})}handleSignInError(e,r){switch(console.error("Sign-in error:",e),this.securityService.logSecurityEvent(Yn.LOGIN_FAILED,Un.HIGH,{email:r,error:e.message||"Unknown error",timestamp:new Date().toISOString()}),e.code){case"auth/user-not-found":this.notificationService.error("No account found with this email address.");break;case"auth/wrong-password":this.notificationService.error("Incorrect password. Please try again.");break;case"auth/too-many-requests":this.notificationService.error("Too many failed attempts. Please try again later."),this.isAccountLocked=!0;break;case"auth/user-disabled":this.notificationService.error("This account has been disabled. Please contact support.");break;case"auth/invalid-email":this.notificationService.error("Invalid email address format.");break;default:this.notificationService.error(e.message||"Sign-in failed. Please try again.")}}handleSignUpError(e,r){switch(console.error("Sign-up error:",e),this.securityService.logSecurityEvent(Yn.SECURITY_ALERT,Un.HIGH,{type:"registration_failed",email:r,error:e.message||"Unknown error",timestamp:new Date().toISOString()}),e.code){case"auth/email-already-in-use":this.notificationService.error("An account with this email already exists.");break;case"auth/weak-password":this.notificationService.error("Password is too weak. Please choose a stronger password.");break;case"auth/invalid-email":this.notificationService.error("Invalid email address format.");break;default:this.notificationService.error(e.message||"Registration failed. Please try again.")}}handleGoogleSignInError(e){console.error("Google sign-in error:",e),this.securityService.logSecurityEvent(Yn.LOGIN_FAILED,Un.MEDIUM,{method:"google",error:e.message||"Unknown error",timestamp:new Date().toISOString()}),e.code==="auth/popup-closed-by-user"?this.notificationService.error("Sign-in was cancelled. Please try again."):e.code==="auth/popup-blocked"?this.notificationService.error("Popup was blocked. Please allow popups for this site and try again."):e.code==="auth/cancelled-popup-request"?this.notificationService.error("Sign-in request was cancelled. Please try again."):this.notificationService.error("Google sign-in failed. Please try again or use email sign-in.")}handleSecurityError(e,r){switch(e){case"unauthorized":this.notificationService.error("Session expired. Please sign in again.");break;case"insufficient_permissions":this.notificationService.error("You do not have permission to access that page.");break;case"security_error":this.notificationService.error(r||"A security error occurred.");break;case"auth_failed":this.notificationService.error("Authentication failed. Please try again.");break;default:this.notificationService.error("An error occurred. Please try again.")}}isRateLimited(){let r=Date.now()-this.lastLoginAttempt;return r<this.rateLimitWindow&&this.loginAttemptCount>=this.maxAttemptsPerWindow?!0:(r>=this.rateLimitWindow&&(this.loginAttemptCount=0),!1)}calculateLockoutTime(){let e=this.userService.getSecurityStatus();if(e&&e.lockoutTime){let r=Date.now();this.lockoutTimeRemaining=Math.max(0,e.lockoutTime-r)}}calculatePasswordStrength(e){if(!e)return 0;let r=0;return e.length>=8&&r++,/[a-z]/.test(e)&&r++,/[A-Z]/.test(e)&&r++,/[0-9]/.test(e)&&r++,/[^A-Za-z0-9]/.test(e)&&r++,Math.min(r,4)}monitorEmailInput(e){if(!e)return;[/test/i,/admin/i,/root/i,/temp/i,/fake/i].some(a=>a.test(e))&&this.securityService.logSecurityEvent(Yn.SUSPICIOUS_ACTIVITY,Un.MEDIUM,{type:"suspicious_email",email:e,timestamp:new Date().toISOString()})}emailDomainValidator(e){if(!e.value)return null;let r=e.value.toLowerCase(),a=["tempmail.org","10minutemail.com","guerrillamail.com","mailinator.com","throwaway.email","temp-mail.org"],o=r.split("@")[1];return a.includes(o)?{disposableEmail:!0}:null}passwordStrengthValidator(e){if(!e.value)return null;let r=e.value,a=8,o=/[A-Z]/.test(r),s=/[a-z]/.test(r),d=/\d/.test(r),u=/[!@#$%^&*(),.?":{}|<>]/.test(r);return r.length<a?{minLength:{requiredLength:a,actualLength:r.length}}:!o||!s||!d||!u?{passwordStrength:!0}:null}markFormGroupTouched(){Object.keys(this.signInForm.controls).forEach(e=>{let r=this.signInForm.get(e);r==null||r.markAsTouched()})}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}getPasswordStrengthText(){switch(this.passwordStrength){case 0:return"Very Weak";case 1:return"Weak";case 2:return"Fair";case 3:return"Good";case 4:return"Strong";default:return"Very Weak"}}getPasswordStrengthColor(){switch(this.passwordStrength){case 0:return"text-red-500";case 1:return"text-orange-500";case 2:return"text-yellow-500";case 3:return"text-blue-500";case 4:return"text-green-500";default:return"text-red-500"}}getLockoutTimeRemaining(){return Math.ceil(this.lockoutTimeRemaining/6e4)}gotoPage(){this._setIsSignInPage(!this.isSignInPage)}_setIsSignInPage(e){this.isSignInPage=e,this.isSignInPage?(this.signInForm.removeControl("confirmPassword"),this.signInForm.removeControl("name")):(this.signInForm.addControl("confirmPassword",this.fb.control("",[tt.required])),this.signInForm.addControl("name",this.fb.control("",[tt.required,tt.minLength(2)])))}};t.\u0275fac=function(r){return new(r||t)(W(Ei),W(on),W(mx),W(ui),W(Ct),W(Lb),W(Sa),W(mt))},t.\u0275cmp=Le({type:t,selectors:[["app-sign-in"]],decls:56,vars:39,consts:[[1,"flex","items-center","min-h-screen","bg-primary-100","p-4"],[1,"flex","w-full","max-w-sm","mx-auto","bg-white","rounded-lg","shadow-lg","dark:bg-gray-800","lg:max-w-4xl","min-h-[600px]","max-h-[90vh]","overflow-hidden"],[1,"hidden","bg-cover","lg:flex","lg:w-1/2","items-center","bg-primary-50"],[1,"bg"],[1,"w-full","px-4","py-6","md:px-6","lg:w-1/2","lg:px-8","overflow-y-auto"],[1,"flex","justify-center","mx-auto"],["src","assets/images/logo.svg","alt","Logo","loading","eager",1,"w-auto","h-16","md:h-20"],[1,"mt-3","text-lg","md:text-xl","text-center","text-gray-600","dark:text-gray-200"],["class","mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",4,"ngIf"],["class","mt-4 p-3 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded-lg",4,"ngIf"],["appSecurity","moderate",1,"form-container","mt-6",3,"formGroup"],[1,"space-y-4"],["for","LoggingEmailAddress",1,"block","mb-2","text-sm","font-medium","text-gray-600","dark:text-gray-200"],["id","LoggingEmailAddress","formControlName","email","type","email","autocomplete","email",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","rounded-lg","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring","focus:ring-blue-300"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-between","items-center","mb-2"],["for","loggingPassword",1,"block","text-sm","font-medium","text-gray-600","dark:text-gray-200"],["class","text-xs text-gray-500 dark:text-gray-300 hover:underline",4,"ngIf"],[1,"relative"],["id","loggingPassword","formControlName","password","autocomplete","current-password",1,"block","w-full","px-4","py-2","pr-10","text-gray-700","bg-white","border","rounded-lg","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring","focus:ring-blue-300",3,"type"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-gray-400","hover:text-gray-600",3,"click"],["class","w-5 h-5","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"mt-6","space-y-4"],[1,"w-full","px-6","py-3","text-sm","font-medium","tracking-wide","text-white","capitalize","transition-colors","duration-300","transform","bg-primary","rounded-lg","hover:bg-primary800","focus:outline-none","focus:ring","focus:ring-gray-300","focus:ring-opacity-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"flex","items-center","justify-center"],["diameter","20","class","mr-2",4,"ngIf"],["type","button",1,"w-full","px-6","py-3","text-sm","font-medium","tracking-wide","text-gray-600","capitalize","transition-colors","duration-300","transform","border","border-gray-300","rounded-lg","hover:bg-gray-50","dark:border-gray-600","dark:text-gray-200","dark:hover:bg-gray-700","focus:outline-none","focus:ring","focus:ring-gray-300","focus:ring-opacity-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","w-5 h-5 mr-2 flex-shrink-0","viewBox","0 0 40 40",4,"ngIf"],["diameter","20","class","mr-2 text-blue-500",4,"ngIf"],[1,"whitespace-nowrap"],[1,"flex","items-center","justify-between","mt-6"],[1,"w-1/5","border-b","dark:border-gray-600","md:w-1/4"],[1,"text-xs","text-gray-500","uppercase","dark:text-gray-400","hover:underline","cursor-pointer",3,"click"],["class","mt-4 p-2 bg-gray-50 border border-gray-200 rounded-md security-notice",4,"ngIf"],[1,"mt-4","p-3","bg-red-100","border","border-red-400","text-red-700","rounded-lg"],[1,"flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","mr-2","flex-shrink-0"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"font-medium"],[1,"mt-1","text-sm"],["class","mt-1 text-sm",4,"ngIf"],[1,"mt-4","p-3","bg-yellow-100","border","border-yellow-400","text-yellow-700","rounded-lg"],["fill-rule","evenodd","d","M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"text-red-500","text-sm","mt-1"],["for","userName",1,"block","mb-2","text-sm","font-medium","text-gray-600","dark:text-gray-200"],["id","userName","formControlName","name","type","text","autocomplete","name",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","rounded-lg","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring","focus:ring-blue-300"],[1,"text-xs","text-gray-500","dark:text-gray-300","hover:underline"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"],[1,"mt-2"],[1,"flex","items-center","justify-between","text-sm"],[1,"mt-1","w-full","bg-gray-200","rounded-full","h-2"],[1,"h-2","rounded-full","transition-all","duration-300",3,"ngClass"],[1,"mt-1","text-xs","text-gray-500"],["for","confirmPassword",1,"block","mb-2","text-sm","font-medium","text-gray-600","dark:text-gray-200"],["id","confirmPassword","formControlName","confirmPassword","autocomplete","new-password",1,"block","w-full","px-4","py-2","pr-10","text-gray-700","bg-white","border","rounded-lg","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring","focus:ring-blue-300",3,"type"],["diameter","20",1,"mr-2"],["viewBox","0 0 40 40",1,"w-5","h-5","mr-2","flex-shrink-0"],["d","M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.045 27.2142 24.3525 30 20 30C14.4775 30 10 25.5225 10 20C10 14.4775 14.4775 9.99999 20 9.99999C22.5492 9.99999 24.8683 10.9617 26.6342 12.5325L31.3483 7.81833C28.3717 5.04416 24.39 3.33333 20 3.33333C10.7958 3.33333 3.33335 10.7958 3.33335 20C3.33335 29.2042 10.7958 36.6667 20 36.6667C29.2042 36.6667 36.6667 29.2042 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z","fill","#FFC107"],["d","M5.25497 12.2425L10.7308 16.2583C12.2125 12.59 15.8008 9.99999 20 9.99999C22.5491 9.99999 24.8683 10.9617 26.6341 12.5325L31.3483 7.81833C28.3716 5.04416 24.39 3.33333 20 3.33333C13.5983 3.33333 8.04663 6.94749 5.25497 12.2425Z","fill","#FF3D00"],["d","M20 36.6667C24.305 36.6667 28.2167 35.0192 31.1742 32.34L26.0159 27.975C24.3425 29.2425 22.2625 30 20 30C15.665 30 11.9842 27.2359 10.5975 23.3784L5.16254 27.5659C7.92087 32.9634 13.5225 36.6667 20 36.6667Z","fill","#4CAF50"],["d","M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.7592 25.1975 27.56 26.805 26.0133 27.9758C26.0142 27.975 26.015 27.975 26.0158 27.9742L31.1742 32.3392C30.8092 32.6708 36.6667 28.3333 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z","fill","#1976D2"],["diameter","20",1,"mr-2","text-blue-500"],[1,"mt-4","p-2","bg-gray-50","border","border-gray-200","rounded-md","security-notice"],["fill","currentColor","viewBox","0 0 16 16",1,"w-3","h-3","mr-1.5","text-gray-500","flex-shrink-0"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0-1A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"],["d","M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"],[1,"text-xs","text-gray-600","font-medium"],[1,"mt-0.5","text-xs","text-gray-500"]],template:function(r,a){if(r&1&&(c(0,"section",0)(1,"div",1)(2,"div",2),oe(3,"div",3),l(),c(4,"div",4)(5,"div",5),oe(6,"img",6),l(),c(7,"p",7),g(8),se(9,"translate"),l(),L(10,u3,9,1,"div",8)(11,m3,8,2,"div",9),c(12,"form",10)(13,"div",11)(14,"div")(15,"label",12),g(16),se(17,"translate"),l(),oe(18,"input",13),L(19,_3,4,3,"div",14),l(),L(20,v3,5,2,"div",15),c(21,"div")(22,"div",16)(23,"label",17),g(24),se(25,"translate"),l(),L(26,y3,2,0,"a",18),l(),c(27,"div",19),oe(28,"input",20),c(29,"button",21),R("click",function(){return a.togglePasswordVisibility()}),L(30,M3,3,0,"svg",22)(31,P3,2,0,"svg",22),l()(),L(32,w3,10,12,"div",23)(33,E3,4,3,"div",14),l(),L(34,N3,10,8,"div",15),l(),c(35,"div",24)(36,"button",25),R("click",function(){return a.isSignInPage?a.onSignIn():a.onSignUp()}),c(37,"div",26),L(38,L3,1,0,"mat-spinner",27)(39,B3,4,5,"span",15)(40,V3,2,1,"span",15),l()(),c(41,"button",28),R("click",function(){return a.signInWithGoogle()}),c(42,"div",26),L(43,$3,5,0,"svg",29)(44,j3,1,0,"mat-spinner",30),c(45,"span",31),g(46),se(47,"translate"),l()()()(),c(48,"div",32),oe(49,"span",33),c(50,"a",34),R("click",function(){return a.gotoPage()}),g(51),se(52,"translate"),se(53,"translate"),l(),oe(54,"span",33),l(),L(55,z3,9,0,"div",35),l()()()()),r&2){let o,s,d;p(8),ee(" ",pe(9,27,"welcomeBack")," "),p(2),O("ngIf",a.isAccountLocked),p(),O("ngIf",!a.isAccountLocked&&a.loginAttempts>0),p(),O("formGroup",a.signInForm),p(4),ee(" ",pe(17,29,"email")," Address "),p(2),ga("data-security-level",a.securityLevel),p(),O("ngIf",((o=a.signInForm.get("email"))==null?null:o.invalid)&&((o=a.signInForm.get("email"))==null?null:o.touched)),p(),O("ngIf",!a.isSignInPage),p(4),V(pe(25,31,"password")),p(2),O("ngIf",a.isSignInPage),p(2),O("type",a.showPassword?"text":"password"),ga("data-security-level",a.securityLevel),p(2),O("ngIf",!a.showPassword),p(),O("ngIf",a.showPassword),p(),O("ngIf",!a.isSignInPage&&((s=a.signInForm.get("password"))==null?null:s.value)),p(),O("ngIf",((d=a.signInForm.get("password"))==null?null:d.invalid)&&((d=a.signInForm.get("password"))==null?null:d.touched)),p(),O("ngIf",!a.isSignInPage),p(2),O("disabled",a.isLoading||a.isAccountLocked||a.signInForm.invalid),p(2),O("ngIf",a.isLoading),p(),O("ngIf",!a.isLoading),p(),O("ngIf",a.isLoading),p(),O("disabled",a.isLoading||a.isAccountLocked),p(2),O("ngIf",!a.isLoading),p(),O("ngIf",a.isLoading),p(2),V(a.isLoading?"Signing in...":pe(47,33,"signIn")+" with Google"),p(5),ee("or ",a.isSignInPage?pe(52,35,"signUp"):pe(53,37,"signIn"),""),p(4),O("ngIf",a.showSecurityNotice)}},dependencies:[Zn,ct,Jn,Yt,Bt,Qn,ki,Ti,Er,Qg],styles:['.bg[_ngcontent-%COMP%]{background-image:url("./media/sign-in-TAB6YH4B.png");background-size:contain;background-repeat:no-repeat;background-position:center;height:100%;width:100%;min-height:400px}.security-notice[_ngcontent-%COMP%]{opacity:0;transform:translateY(10px);animation:_ngcontent-%COMP%_fadeInUp .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeInUp{to{opacity:1;transform:translateY(0)}}.form-container[_ngcontent-%COMP%]{will-change:transform;contain:layout style paint}@media (max-width: 768px){.bg[_ngcontent-%COMP%]{min-height:300px}}@media (max-width: 480px){.bg[_ngcontent-%COMP%]{min-height:250px}}']});let n=t;return n})();var Vb=(()=>{let t=class t{constructor(e,r,a,o,s){this.dialog=e,this.store=r,this.splitwiseService=a,this.userService=o,this.dateService=s}checkAndShowInvitations(){return ge(this,null,function*(){try{let e=yield this.userService.getCurrentUser();if(!(e!=null&&e.uid))return;let r=yield this.splitwiseService.getUserInvitations(e.uid).toPromise();if(r&&r.length>0){let a=r.filter(o=>!this.isInvitationExpired(o));a.length>0&&this.showInvitationPopup(a)}}catch(e){console.error("Error checking invitations:",e)}})}showInvitationPopup(e){if(!e||e.length===0)return;let r=this.dialog.open(ma,{data:{title:"Invitations",message:`You have invitations to Splitwise Groups - ${e.map(a=>a.groupName).join(", ")}. Please accept or decline them.`,confirmText:"Accept",cancelText:"Decline",type:"warning"}});r.afterClosed().subscribe(()=>{r.componentInstance.data.confirmText==="Accept"?this.store.dispatch(fC({invitationId:e[0].id})):r.componentInstance.data.confirmText==="Decline"&&this.store.dispatch(hC({invitationId:e[0].id}))})}isInvitationExpired(e){if(!e.expiresAt)return!1;let r=null;return e.expiresAt instanceof Date?r=e.expiresAt:e.expiresAt.toDate?r=e.expiresAt.toDate():r=this.dateService.toDate(e.expiresAt),r?r<new Date:!1}showInvitationsAfterLogin(){return ge(this,null,function*(){setTimeout(()=>{this.checkAndShowInvitations()},1e3)})}};t.\u0275fac=function(r){return new(r||t)(Ne(xn),Ne(mt),Ne(Tl),Ne(ui),Ne(Vt))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var im=(()=>{let t=class t{constructor(e,r){this.firestore=e,this.auth=r,this.isOnlineSubject=new un(!0),this.isOnline$=this.isOnlineSubject.asObservable()}getCurrentUserId(){var e;return((e=this.auth.currentUser)==null?void 0:e.uid)||null}isAuthenticated(){return!!this.auth.currentUser}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getCollectionRef(e){let r=this.getCurrentUserId();if(!r)throw new Error(gi.AUTH.SESSION_EXPIRED);return ua(this.firestore,`users/${r}/${e}`)}getDocumentRef(e,r){let a=this.getCurrentUserId();if(!a)throw new Error(gi.AUTH.SESSION_EXPIRED);return $t(this.firestore,`users/${a}/${e}/${r}`)}handleError(e,r){console.error(`Error in ${r}:`,e);let a=gi.NETWORK.SERVER_ERROR;if(e.code)switch(e.code){case"auth/user-not-found":a=gi.AUTH.USER_NOT_FOUND;break;case"auth/wrong-password":a=gi.AUTH.INVALID_CREDENTIALS;break;case"auth/email-already-in-use":a=gi.AUTH.EMAIL_ALREADY_EXISTS;break;case"auth/weak-password":a=gi.AUTH.WEAK_PASSWORD;break;case"permission-denied":a=gi.PERMISSION.ACCESS_DENIED;break;case"unavailable":a=gi.NETWORK.CONNECTION_ERROR;break;default:a=e.message||gi.NETWORK.SERVER_ERROR}return lo(()=>new Error(a))}validateRequiredFields(e,r){let a=r.filter(o=>!e[o]);if(a.length>0)throw new Error(`${gi.VALIDATION.REQUIRED_FIELD}: ${a.join(", ")}`)}validateAmount(e){if(e<Ut.VALIDATION.MIN_AMOUNT||e>Ut.VALIDATION.MAX_AMOUNT)throw new Error(gi.VALIDATION.INVALID_AMOUNT)}validateStringLength(e,r,a,o){if(e.length<r)throw new Error(`${gi.VALIDATION.MIN_LENGTH.replace("{min}",r.toString())} for ${o}`);if(e.length>a)throw new Error(`${gi.VALIDATION.MAX_LENGTH.replace("{max}",a.toString())} for ${o}`)}addSyncStatus(e,r=Ai.SYNCED){return de(ce({},e),{syncStatus:r,lastSyncedAt:Ld()})}addMetadata(e,r){return de(ce({},e),{createdAt:Ld(),updatedAt:Ld(),createdBy:r,updatedBy:r})}updateMetadata(e,r){return de(ce({},e),{updatedAt:Ld(),updatedBy:r})}cacheData(e,r){try{let a={data:r,timestamp:Date.now(),expiry:Date.now()+Ut.OFFLINE.CACHE_EXPIRY};localStorage.setItem(e,JSON.stringify(a))}catch(a){console.error("Failed to cache data:",a)}}getCachedData(e){try{let r=localStorage.getItem(e);if(!r)return null;let a=JSON.parse(r);return Date.now()>a.expiry?(localStorage.removeItem(e),null):a.data}catch(r){return console.error("Failed to get cached data:",r),null}}clearCachedData(e){try{localStorage.removeItem(e)}catch(r){console.error("Failed to clear cached data:",r)}}debounce(e,r=Ut.PERFORMANCE.DEBOUNCE_DELAY){let a;return(...o)=>{clearTimeout(a),a=setTimeout(()=>e(...o),r)}}throttle(e,r=Ut.PERFORMANCE.THROTTLE_DELAY){let a=0;return(...o)=>{let s=Date.now();s-a>=r&&(a=s,e(...o))}}formatCurrency(e,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(e)}formatDate(e,r="MM/dd/yyyy"){let a={year:"numeric",month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-US",a).format(e)}isDataExpired(e,r=Ut.OFFLINE.CACHE_EXPIRY){return Date.now()-e>r}retryOperation(o){return ge(this,arguments,function*(e,r=Ut.OFFLINE.MAX_RETRY_ATTEMPTS,a=1e3){let s;for(let d=0;d<=r;d++)try{return yield e()}catch(u){if(s=u,d===r)throw u;let m=a*Math.pow(2,d);yield new Promise(f=>setTimeout(f,m))}throw s})}};t.\u0275fac=function(r){return new(r||t)(Ne(Sr),Ne(Mt))},t.\u0275prov=xt({token:t,factory:t.\u0275fac});let n=t;return n})();var Gl=(()=>{let t=class t{constructor(e,r){this.firestore=e,this.auth=r}createAccount(e,r){return new Jt(a=>{let o=this.generateAccountId(),s=de(ce({accountId:o,userId:e},r),{createdAt:new Date,isActive:!0}),d=$t(this.firestore,`users/${e}/accounts/${o}`);ta(d,s).then(()=>{a.next(o),a.complete()}).catch(u=>{a.error(u)})})}getAccounts(e){let r=ua(this.firestore,`users/${e}/accounts`);return new Jt(a=>{go(r).then(o=>{let s=[];o.forEach(d=>{s.push(d.data())}),a.next(s)})})}getAccount(e,r){return new Jt(a=>{let o=$t(this.firestore,`users/${e}/accounts/${r}`);bi(o).then(s=>{s.exists()?a.next(s.data()):a.next(void 0),a.complete()}).catch(s=>{a.error(s)})})}updateAccount(e,r,a){return new Jt(o=>{let s=$t(this.firestore,`users/${e}/accounts/${r}`),d=de(ce({},a),{updatedAt:new Date});$n(s,d).then(()=>{o.next(),o.complete()}).catch(u=>{o.error(u)})})}deleteAccount(e,r){return new Jt(a=>{let o=$t(this.firestore,`users/${e}/accounts/${r}`);ar(o).then(()=>{a.next(),a.complete()}).catch(s=>{a.error(s)})})}updateAccountBalanceForTransaction(e,r,a,o,s){return new Jt(d=>{ge(this,null,function*(){try{let m=$t(this.firestore,`users/${e}/accounts/${r}`),f=yield bi(m);if(!f.exists()){d.error("Account not found");return}let _=f.data(),x=0,v=0;switch(a){case"create":s&&(console.log("Creating transaction:",s),s.type==="income"?(x=s.amount,console.log("Income transaction - adding to balance:",s.amount)):s.type==="expense"&&(x=-s.amount,console.log("Expense transaction - subtracting from balance:",s.amount)),_.type==="loan"&&s.type==="expense"&&(v=-s.amount));break;case"update":if(o&&s){let w=o.type==="income"?o.amount:-o.amount;if(x=(s.type==="income"?s.amount:-s.amount)-w,_.type==="loan"){let F=o.type==="expense"?-o.amount:0;v=(s.type==="expense"?-s.amount:0)-F}}break;case"delete":o&&(o.type==="income"?x=-o.amount:o.type==="expense"&&(x=o.amount),_.type==="loan"&&o.type==="expense"&&(v=o.amount));break}let b=_.balance||0,M=b+x;console.log("Balance calculation:",{currentBalance:b,balanceChange:x,newBalance:M});let S={balance:M,updatedAt:new Date};if(_.type==="loan"&&_.loanDetails&&v!==0){let w=_.loanDetails.remainingBalance||0,T=Math.max(0,w+v);S["loanDetails.remainingBalance"]=T}yield $n(m,S),d.next(M),d.complete()}catch(m){d.error(m)}})})}updateAccountBalanceForTransactions(e,r){return new Jt(a=>{ge(this,null,function*(){try{let s=Wp(this.firestore),d=new Map,u=new Map;r.forEach(m=>{let f=d.get(m.accountId)||0,_=m.type==="income"?m.amount:-m.amount;if(d.set(m.accountId,f+_),m.type==="expense"){let x=u.get(m.accountId)||0;u.set(m.accountId,x+m.amount)}});for(let[m,f]of d){let _=$t(this.firestore,`users/${e}/accounts/${m}`),x=yield bi(_);if(x.exists()){let v=x.data(),M={balance:(v.balance||0)+f,updatedAt:new Date};if(v.type==="loan"&&v.loanDetails){let S=u.get(m)||0;if(S>0){let w=v.loanDetails.remainingBalance||0,T=Math.max(0,w-S);M["loanDetails.remainingBalance"]=T}}s.update(_,M)}}yield s.commit(),a.next(),a.complete()}catch(s){a.error(s)}})})}updateAccountBalanceForAccountTransfer(e,r,a,o){return new Jt(s=>{ge(this,null,function*(){try{let u=Wp(this.firestore),m=$t(this.firestore,`users/${e}/accounts/${r}`),f=$t(this.firestore,`users/${e}/accounts/${a}`),[_,x]=yield Promise.all([bi(m),bi(f)]);if(!_.exists()||!x.exists()){s.error("One or both accounts not found");return}let v=_.data(),b=x.data(),M=o.type==="income"?o.amount:-o.amount,S={balance:(v.balance||0)-M,updatedAt:new Date};if(v.type==="loan"&&v.loanDetails&&o.type==="expense"){let F=(v.loanDetails.remainingBalance||0)+o.amount;S["loanDetails.remainingBalance"]=F}let w={balance:(b.balance||0)+M,updatedAt:new Date};if(b.type==="loan"&&b.loanDetails&&o.type==="expense"){let T=b.loanDetails.remainingBalance||0,F=Math.max(0,T-o.amount);w["loanDetails.remainingBalance"]=F}u.update(m,S),u.update(f,w),yield u.commit(),s.next(),s.complete()}catch(u){s.error(u)}})})}generateAccountId(){return"acc_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}};t.\u0275fac=function(r){return new(r||t)(Ne(Sr),Ne(Mt))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Oo=(()=>{let t=class t extends im{constructor(e,r,a,o,s,d,u){super(e,r),this.dateService=a,this.store=o,this.accountsService=s,this.splitwiseService=d,this.commonSyncService=u,this.transactionsSubject=new un([])}createTransaction(e,r){return new Jt(a=>{let o=this.generateId(),s=de(ce({},r),{id:o,date:this.dateService.toDate(r.date),syncStatus:this.commonSyncService.isCurrentlyOnline()?"synced":"pending"});ge(this,null,function*(){try{if(this.commonSyncService.isCurrentlyOnline())try{let u=$t(this.firestore,`users/${e}/transactions/${o}`);yield ta(u,s),r.isSplitTransaction&&r.splitGroupId&&(yield this.createSplitTransaction(r.splitGroupId,r,u.id,e)),this.store.dispatch(Ts({userId:e,accountId:r.accountId,transactionType:"create",newTransaction:s})),this.store.dispatch(xl({transaction:s})),this.updateTransactionCache(e,"create",s),a.next(),a.complete()}catch(u){console.error("Failed to create transaction online:",u),yield this.addToSyncQueue("create",s),this.store.dispatch(xl({transaction:s})),this.updateTransactionCache(e,"create",s),a.next(),a.complete()}else yield this.addToSyncQueue("create",s),this.store.dispatch(xl({transaction:s})),this.updateTransactionCache(e,"create",s),a.next(),a.complete()}catch(u){console.error("Error in createTransaction:",u),a.error(u)}})})}updateTransaction(e,r,a){return new Jt(o=>{ge(this,null,function*(){try{let d=de(ce({},a),{updatedAt:new Date,updatedBy:e,syncStatus:this.commonSyncService.isCurrentlyOnline()?"synced":"pending"});if(this.commonSyncService.isCurrentlyOnline())try{let u=$t(this.firestore,`users/${e}/transactions/${r}`);yield $n(u,d),(a.amount||a.accountId)&&this.store.dispatch(Ts({userId:e,accountId:a.accountId||"",transactionType:"update",oldTransaction:{id:r},newTransaction:d})),this.store.dispatch(Cl({transaction:ce({id:r},d)})),this.updateTransactionCache(e,"update",ce({id:r},d)),o.next(),o.complete()}catch(u){console.error("Failed to update transaction online:",u),yield this.addToSyncQueue("update",ce({id:r},d)),this.store.dispatch(Cl({transaction:ce({id:r},d)})),this.updateTransactionCache(e,"update",ce({id:r},d)),o.next(),o.complete()}else yield this.addToSyncQueue("update",ce({id:r},d)),this.store.dispatch(Cl({transaction:ce({id:r},d)})),this.updateTransactionCache(e,"update",ce({id:r},d)),o.next(),o.complete()}catch(d){o.error(d)}})})}deleteTransaction(e,r){return new Jt(a=>{let o=$t(this.firestore,`users/${e}/transactions/${r}`);bi(o).then(s=>{let d=s.exists()?ce({id:s.id},s.data()):null;this.commonSyncService.isCurrentlyOnline()?ar(o).then(()=>{d&&(this.store.dispatch(Ts({userId:e,accountId:d.accountId,transactionType:"delete",oldTransaction:d})),d.isSplitTransaction&&this.splitwiseService.deleteSplitTransaction(d.id,e).catch(u=>{console.error("Failed to delete split transaction:",u)})),this.store.dispatch(Is({transactionId:r})),this.updateTransactionCache(e,"delete",{id:r}),a.next(),a.complete()}).catch(u=>{console.error("Failed to delete transaction online:",u),this.addToSyncQueue("delete",{id:r}).then(()=>{this.store.dispatch(Is({transactionId:r})),this.updateTransactionCache(e,"delete",{id:r}),a.next(),a.complete()}).catch(m=>{console.error("Failed to add to sync queue:",m),a.error(m)})}):this.addToSyncQueue("delete",{id:r}).then(()=>{this.store.dispatch(Is({transactionId:r})),this.updateTransactionCache(e,"delete",{id:r}),a.next(),a.complete()}).catch(u=>{console.error("Failed to add to sync queue:",u),a.error(u)})}).catch(s=>{console.error("Failed to get transaction for deletion:",s),a.error(s)})})}getTransactions(e){let r=Gp(ua(this.firestore,`users/${e}/transactions`),Up("date","desc"));return new Jt(a=>{let o=Yp(r,s=>{let d=[];if(s.forEach(u=>{let m=ce({id:u.id},u.data());d.push(m)}),!this.commonSyncService.isCurrentlyOnline()){let u=this.getCachedTransactions(e),m=u.map(x=>x.id),f=d.map(x=>x.id),_=u.filter(x=>x.id&&!f.includes(x.id));d.push(..._)}this.cacheTransactions(e,d),this.transactionsSubject.next(d),a.next(d)},s=>{if(console.error("Failed to fetch transactions:",s),this.commonSyncService.isCurrentlyOnline())a.next([]);else{let d=this.getCachedTransactions(e);this.transactionsSubject.next(d),a.next(d)}});return()=>o()})}getTransaction(e,r){return new Jt(a=>{ge(this,null,function*(){try{let s=$t(this.firestore,`users/${e}/transactions/${r}`),d=yield bi(s);if(d.exists()){let u=ce({id:d.id},d.data());a.next(u)}else a.next(void 0);a.complete()}catch(s){a.error(s)}})})}getSyncStatus(){let e=this.commonSyncService.syncStatus;return{count:e.pendingItems,hasPendingOperations:e.pendingItems>0}}forceSync(){return ge(this,null,function*(){yield this.commonSyncService.manualSync()})}getRecurringTransactions(e){let r=Gp(ua(this.firestore,`users/${e}/transactions`),Up("date","desc"));return new Jt(a=>{let o=Yp(r,s=>{let d=[];s.forEach(m=>{let f=ce({id:m.id},m.data());d.push(f)});let u=d.filter(m=>m.isRecurring===!0);a.next(u)},s=>{console.error("Failed to fetch recurring transactions:",s),a.next([])});return()=>o()})}getDueRecurringTransactions(e){return this.getRecurringTransactions(e).pipe(pr(r=>(console.log(`Checking ${r.length} recurring transactions for due status`),this.getTransactions(e).pipe(Ye(a=>{let o=new Date;return o.setHours(0,0,0,0),r.filter(s=>{if(!s.isRecurring)return console.log(`Transaction ${s.id} (${s.payee}) is no longer recurring, skipping`),!1;if(!s.nextOccurrence)return console.log(`Transaction ${s.id} (${s.payee}) has no next occurrence, skipping`),!1;let d=s.nextOccurrence instanceof Date?s.nextOccurrence:this.dateService.toDate(s.nextOccurrence);if(!d)return console.log(`Transaction ${s.id} (${s.payee}) has invalid next occurrence, skipping`),!1;let u=new Date(d);u.setHours(0,0,0,0);let m=u<=o;if(!m)return console.log(`Transaction ${s.id} (${s.payee}) is not due yet, next occurrence: ${u}`),!1;let f=this.checkExistingTransactionInPeriod(a,s,o);if(f)return console.log(`Transaction ${s.id} (${s.payee}) already has an entry for current period, skipping`),!1;if(s.recurringInterval===or.MONTHLY){let _=s.nextOccurrence instanceof Date?s.nextOccurrence:this.dateService.toDate(s.nextOccurrence);if(_){let x=this.isInSamePeriod(_,this.dateService.toDate(s.date),or.MONTHLY);if(console.log(`Monthly transaction ${s.id} (${s.payee}) next occurrence check:`,{nextOccurrence:_,currentMonth:o,isNextOccurrenceInCurrentMonth:x}),x)return!1}}return console.log(`Transaction ${s.id} (${s.payee}):`,{isRecurring:s.isRecurring,nextOccurrence:u,today:o,isDue:m,hasExistingTransaction:f}),!0})})))))}processRecurringTransaction(e,r){return new Jt(a=>{ge(this,null,function*(){try{let s=de(ce({},r),{date:new Date,nextOccurrence:null,isRecurring:!1,recurringInterval:null,recurringEndDate:null,createdAt:new Date,updatedAt:new Date,createdBy:e,updatedBy:e,syncStatus:Ai.SYNCED,isPending:!1,lastSyncedAt:new Date});if(yield this.createTransaction(e,s).toPromise(),r.recurringInterval){let d=new Date,u=this.calculateNextOccurrence(r.recurringInterval,d);console.log(`Processing recurring transaction ${r.id} (${r.payee}):`,{interval:r.recurringInterval,today:d,calculatedNextOccurrence:u});let m={nextOccurrence:u,updatedAt:new Date,updatedBy:e};r.recurringEndDate&&u>r.recurringEndDate&&(console.log(`Recurring transaction ${r.id} has reached end date, marking as non-recurring`),m.isRecurring=!1,m.recurringInterval=void 0,m.recurringEndDate=void 0),yield this.updateTransaction(e,r.id,m).toPromise(),console.log(`Successfully updated recurring transaction ${r.id} with next occurrence: ${u}`),yield new Promise(f=>setTimeout(f,1e3))}a.next(),a.complete()}catch(s){console.error("Failed to process recurring transaction:",s),a.error(s)}})})}checkExistingTransactionInPeriod(e,r,a){let o=e.filter(s=>{if(s.id===r.id||!(s.payee===r.payee&&s.amount===r.amount&&s.categoryId===r.categoryId&&s.accountId===r.accountId&&s.type===r.type))return!1;let u=s.date instanceof Date?s.date:this.dateService.toDate(s.date);return u?this.isInSamePeriod(u,a,r.recurringInterval):!1});return console.log(`Found ${o.length} existing transactions for ${r.payee} in current period:`,o.map(s=>({id:s.id,date:s.date,amount:s.amount}))),o.length>0}isInSamePeriod(e,r,a){let o=new Date(e),s=r?new Date(r):new Date;switch(o.setHours(0,0,0,0),s.setHours(0,0,0,0),a){case or.DAILY:return o.getTime()===s.getTime();case or.WEEKLY:let d=this.getWeekStart(o),u=this.getWeekStart(s);return d.getTime()===u.getTime();case or.MONTHLY:return o.getFullYear()===s.getFullYear()&&o.getMonth()===s.getMonth();case or.YEARLY:return o.getFullYear()===s.getFullYear();default:return!1}}getWeekStart(e){let r=new Date(e),a=r.getDay(),o=r.getDate()-a+(a===0?-6:1);return r.setDate(o),r.setHours(0,0,0,0),r}calculateNextOccurrence(e,r){let a=r instanceof Date?r:r.toDate(),o=new Date(a);switch(console.log(`Calculating next occurrence for interval ${e} from date ${a}`),e){case or.DAILY:o.setDate(o.getDate()+1);break;case or.WEEKLY:o.setDate(o.getDate()+7);break;case or.MONTHLY:o.setMonth(o.getMonth()+1);break;case or.YEARLY:o.setFullYear(o.getFullYear()+1);break;default:o.setDate(o.getDate()+1)}return console.log(`Calculated next occurrence: ${o}`),o}createSplitTransaction(e,r,a,o){return ge(this,null,function*(){try{let s={groupId:e,originalTransactionId:a,amount:r.amount,splits:r.splits||[]};yield this.splitwiseService.createSplitTransaction(s,o).toPromise()}catch(s){console.error("Failed to create split transaction:",s)}})}addToSyncQueue(e,r){return ge(this,null,function*(){let a={id:this.generateId(),type:"transaction",operation:e,data:r,maxRetries:3},o=yield this.commonSyncService.registerSyncItem(a);o.success||console.error("Failed to register transaction for sync:",o.errors)})}getCachedTransactions(e){try{let r=localStorage.getItem(`transactions-cache-${e}`);if(r)return JSON.parse(r).filter(o=>o&&o.id)}catch(r){console.error("Error loading cached transactions:",r)}return[]}cacheTransactions(e,r){try{localStorage.setItem(`transactions-cache-${e}`,JSON.stringify(r))}catch(a){console.error("Error caching transactions:",a)}}updateTransactionCache(e,r,a){try{let o=this.getCachedTransactions(e);switch(r){case"create":a&&o.push(a);break;case"update":if(a){let s=o.findIndex(d=>d.id===a.id);s!==-1&&(o[s]=a)}break;case"delete":if(a){let s=o.findIndex(d=>d.id===a.id);s!==-1&&o.splice(s,1)}break}this.cacheTransactions(e,o)}catch(o){console.error("Error updating transaction cache:",o)}}isFirebaseValidationError(e){var r,a;return e&&(e.code==="permission-denied"||e.code==="unavailable"||e.code==="invalid-argument"||((r=e.message)==null?void 0:r.includes("permission"))||((a=e.message)==null?void 0:a.includes("validation")))}};t.\u0275fac=function(r){return new(r||t)(Ne(Sr),Ne(Mt),Ne(Vt),Ne(mt),Ne(Gl),Ne(Tl),Ne(pa))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var $b=(()=>{let t=class t{constructor(e,r,a,o){this.transactionsService=e,this.userService=r,this.notificationService=a,this.dialog=o}checkDueRecurringTransactions(){var r;let e=(r=this.userService.userAuth$.value)==null?void 0:r.uid;return e?(console.log("Checking for due recurring transactions..."),this.transactionsService.getDueRecurringTransactions(e).pipe(pr(a=>(console.log(`Found ${a.length} due recurring transactions:`,a.map(o=>({id:o.id,payee:o.payee,nextOccurrence:o.nextOccurrence}))),a.length===0?(console.log("No due recurring transactions found"),_t(void 0)):this.showRecurringTransactionConfirmation(a))))):_t(void 0)}showRecurringTransactionConfirmation(e){return new Jt(r=>{this.dialog.open(MC,{width:"400px",data:{transactions:e},disableClose:!0}).afterClosed().subscribe(o=>{console.log("Recurring transaction confirmation dialog result:",o),o&&o.action==="confirm"?(console.log(`User confirmed processing of ${o.transactions.length} transactions`),this.processConfirmedTransactions(o.transactions).subscribe({next:()=>{console.log("All recurring transactions processed successfully"),this.notificationService.success("Recurring transactions processed successfully"),r.next(),r.complete()},error:s=>{console.error("Failed to process recurring transactions:",s),this.notificationService.error("Failed to process recurring transactions"),r.error(s)}})):(console.log("User cancelled or skipped recurring transaction processing"),r.next(),r.complete())})})}processConfirmedTransactions(e){var a;let r=(a=this.userService.userAuth$.value)==null?void 0:a.uid;return r?new Jt(o=>{let s=0,d=e.length,u=()=>{if(s>=d){o.next(),o.complete();return}let m=e[s];console.log(`Processing transaction ${s+1}/${d}: ${m.id} (${m.payee})`),this.transactionsService.processRecurringTransaction(r,m).subscribe({next:()=>{console.log(`Successfully processed transaction ${m.id}`),s++,u()},error:f=>{console.error(`Failed to process transaction ${m.id}:`,f),s++,u()}})};u()}):_t(void 0)}getRecurringTransactions(e){return this.transactionsService.getRecurringTransactions(e)}getRecurringTransactionsSummary(e){return this.transactionsService.getRecurringTransactions(e).pipe(Ye(r=>{let a=new Date;a.setHours(0,0,0,0);let o=r.filter(d=>{if(!d.isRecurring||!d.nextOccurrence)return!1;let u=d.nextOccurrence instanceof Date?d.nextOccurrence:d.nextOccurrence.toDate();if(!u)return!1;let m=new Date(u);return m.setHours(0,0,0,0),m<=a}).length,s=r.filter(d=>{if(!d.isRecurring||!d.nextOccurrence)return!1;let u=d.nextOccurrence instanceof Date?d.nextOccurrence:d.nextOccurrence.toDate();if(!u)return!1;let m=new Date(u);return m.setHours(0,0,0,0),m>a}).length;return{total:r.length,due:o,upcoming:s}}))}};t.\u0275fac=function(r){return new(r||t)(Ne(Oo),Ne(ui),Ne(Ct),Ne(xn))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var G3=[{label:"Navigation",icon:"navigation",order:1,isExpanded:!0,isCollapsible:!0,children:[{label:"dashboard",route:"/dashboard/home",icon:"dashboard",order:1},{label:"accounts",route:"/dashboard/accounts",icon:"account_balance",order:2},{label:"transactions",route:"/dashboard/transactions",icon:"receipt_long",order:3},{label:"categories",route:"/dashboard/category",icon:"category",order:4},{label:"budgets",route:"/dashboard/budgets",icon:"pie_chart",order:5},{label:"reports",route:"/dashboard/reports",icon:"analytics",order:7}]},{label:"Tools",icon:"build",order:2,isExpanded:!0,isCollapsible:!0,children:[{label:"tax",route:"/dashboard/tax",icon:"calculate",order:3,isPremium:!0},{label:"Splitwise",route:"/dashboard/splitwise",icon:"group",order:4,isPremium:!0},{label:"Google Sheets",route:"/dashboard/google-sheets",icon:"table_chart",order:5,isPremium:!0},{label:"OpenAI Integration",route:"/dashboard/openai-interaction",icon:"smart_toy",order:6,isPremium:!0}]},{label:"Account",icon:"person",order:3,isExpanded:!0,isCollapsible:!0,children:[{label:"Profile",route:"/dashboard/profile",icon:"account_circle",order:1},{label:"Notifications",route:"/dashboard/notifications",icon:"notifications",order:3},{label:"Feedback",route:"/dashboard/feedback",icon:"feedback",order:4}]},{label:"Admin",icon:"admin_panel_settings",order:4,isExpanded:!1,isCollapsible:!0,children:[{label:"admin_panel",route:"/admin",icon:"admin_panel_settings",order:1}]}],jb=()=>G3.sort((n,t)=>n.order-t.order);var W3=["drawer"],H3=(n,t)=>t.label,X3=(n,t)=>t.route;function q3(n,t){if(n&1&&(c(0,"mat-icon",32),g(1," expand_more "),l()),n&2){let i=y(2).$implicit;Ue("rotate-180",!i.isExpanded)}}function K3(n,t){if(n&1){let i=ue();c(0,"div",27),R("click",function(){j(i);let r=y().$implicit,a=y();return z(a.toggleSection(r))}),c(1,"div",28)(2,"mat-icon",29),g(3),l(),c(4,"h6",30),g(5),l()(),L(6,q3,2,2,"mat-icon",31),l()}if(n&2){let i=y().$implicit;Ue("cursor-pointer",i.isCollapsible)("cursor-default",!i.isCollapsible)("hover:bg-blue-50",i.isCollapsible),p(3),V(i.icon),p(2),V(i.label),p(),O("ngIf",i.isCollapsible)}}function Z3(n,t){n&1&&(c(0,"div",38)(1,"mat-icon",39),g(2,"star"),l()())}function Q3(n,t){if(n&1){let i=ue();c(0,"a",33),R("click",function(){j(i),y(2);let r=wn(2);return z(r.toggle())}),oe(1,"div",34),c(2,"mat-icon",35),g(3),l(),c(4,"span",36),g(5),se(6,"translate"),l(),L(7,Z3,3,0,"div",37),l()}if(n&2){let i=t.$implicit,e=y(2);O("routerLink",i.route),p(),Ue("opacity-100",e.router.isActive(i.route,!1)),p(2),V(i.icon),p(2),V(pe(6,6,i.label)),p(2),O("ngIf",i.isPremium)}}function J3(n,t){n&1&&oe(0,"div",40)}function e4(n,t){if(n&1&&(c(0,"div",12),L(1,K3,7,9,"div",23),c(2,"div",24),qe(3,Q3,8,8,"a",25,X3),l(),L(5,J3,1,0,"div",26),l()),n&2){let i=t.$implicit,e=y();p(),O("ngIf",i.label=="Admin"&&e.isAdmin),p(),Ue("max-h-0",!i.isExpanded)("max-h-96",i.isExpanded)("opacity-0",!i.isExpanded)("opacity-100",i.isExpanded),p(),Ke(i.children),p(2),O("ngIf",i!==e.navigationSections[e.navigationSections.length-1])}}var zb=(()=>{let t=class t{constructor(e,r,a,o){this.auth=e,this.router=r,this.elementRef=a,this.userService=o,this.isAdmin=!1,this.navigationSections=[],this.navigationSections=jb()}ngOnInit(){this.isAdmin=this.userService.isAdmin}toggleSection(e){e.isCollapsible&&(e.isExpanded=!e.isExpanded)}ngAfterViewInit(){document.addEventListener("click",this.handleDocumentClick.bind(this))}handleKeyDown(e){e.key==="Escape"&&this.drawer&&this.drawer.opened&&this.drawer.close()}handleDocumentClick(e){if(this.drawer&&this.drawer.opened){let r=e.target;this.elementRef.nativeElement.contains(r)||r.closest('button[aria-label="Open sidebar"]')||this.drawer.close()}}logout(){return ge(this,null,function*(){yield this.auth.signOut(),this.router.navigate(["/sign-in"],{queryParams:{loggedOut:"true"}})})}isPremiumRoute(e){return["/dashboard/google-sheets","/dashboard/reports","/dashboard/tax","/dashboard/goals","/dashboard/budgets"].includes(e)}};t.\u0275fac=function(r){return new(r||t)(W(Mt),W(on),W(es),W(ui))},t.\u0275cmp=Le({type:t,selectors:[["side-bar"]],viewQuery:function(r,a){if(r&1&&wr(W3,5),r&2){let o;er(o=tr())&&(a.drawer=o.first)}},hostBindings:function(r,a){r&1&&R("keydown",function(s){return a.handleKeyDown(s)},!1,J0)},decls:38,vars:7,consts:[["drawer",""],[1,"example-container","!z-[999]","h-screen"],[1,"!fixed","bg-white","shadow-2xl","w-72","border-r","border-gray-100","backdrop-blur-sm",3,"mode"],[1,"h-full","flex","flex-col","overflow-auto"],[1,"flex","items-center","justify-between","p-5","border-b","border-gray-100","bg-gradient-to-r","from-gray-50","to-white"],[1,"flex","items-center","gap-3"],["routerLink","/dashboard",1,"w-8","h-8","bg-gradient-to-br","bg-primary","rounded-lg","flex","items-center","justify-center","cursor-pointer"],[1,"text-[2rem]","!h-[33px]","!w-[33px]"],[1,"text-lg","font-semibold","text-gray-900"],["mat-icon-button","","routerLink","/dashboard","aria-label","Close sidebar",1,"text-gray-400","hover:text-gray-600","hover:bg-gray-50","rounded-lg","transition-colors",3,"click"],["mat-icon-button","","aria-label","Close sidebar",1,"text-gray-400","hover:text-gray-600","hover:bg-gray-50","rounded-lg","transition-colors",3,"click"],[1,"flex-1","p-4"],[1,"mb-6"],[1,"p-5","border-t","border-gray-100","bg-gradient-to-r","from-white","to-gray-50"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-2"],[1,"text-gray-400","text-sm"],[1,"text-xs","text-gray-500"],["mat-icon-button","","matTooltip","Logout",1,"text-gray-400","hover:text-red-600","hover:bg-red-50","rounded-lg","transition-colors",3,"click"],[1,"text-sm"],[1,"!overflow-hidden"],["aria-label","Open sidebar",1,"flex","items-center","gap-2","px-3","py-2","rounded-lg","hover:bg-gray-200","transition-colors",3,"click"],[1,"text-gray-600"],["class","flex items-center justify-between mb-3 cursor-pointer hover:bg-gray-50 rounded-lg p-2.5 transition-all duration-200 group",3,"cursor-pointer","cursor-default","hover:bg-blue-50","click",4,"ngIf"],[1,"space-y-1","overflow-hidden","transition-all","duration-300","ease-in-out"],["routerLinkActive","bg-blue-50 text-blue-700 border-r-2 border-blue-600 shadow-sm",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","hover:bg-gray-50","hover:shadow-sm","transition-all","duration-200","group","relative",3,"routerLink"],["class","mt-6 pt-4 border-t border-gray-100",4,"ngIf"],[1,"flex","items-center","justify-between","mb-3","cursor-pointer","hover:bg-gray-50","rounded-lg","p-2.5","transition-all","duration-200","group",3,"click"],[1,"flex","items-center","gap-2.5"],[1,"text-gray-500","text-[1.5rem]","group-hover:text-blue-600","transition-colors","relative","top-[-7px]"],[1,"text-xs","font-semibold","text-gray-600","uppercase","tracking-wider","group-hover:text-blue-700","transition-colors"],["class","text-gray-400 text-sm transition-all duration-200 group-hover:text-blue-600",3,"rotate-180",4,"ngIf"],[1,"text-gray-400","text-sm","transition-all","duration-200","group-hover:text-blue-600"],["routerLinkActive","bg-blue-50 text-blue-700 border-r-2 border-blue-600 shadow-sm",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","hover:bg-gray-50","hover:shadow-sm","transition-all","duration-200","group","relative",3,"click","routerLink"],[1,"absolute","left-0","top-1/2","transform","-translate-y-1/2","w-1","h-6","bg-blue-600","rounded-r-full","opacity-0","transition-opacity","duration-200"],[1,"text-gray-400","group-hover:text-blue-600","transition-colors","text-lg","ml-1"],[1,"font-medium","text-sm","text-gray-700","group-hover:text-blue-700","transition-colors"],["class","ml-auto",4,"ngIf"],[1,"ml-auto"],[1,"text-yellow-500","text-sm"],[1,"mt-6","pt-4","border-t","border-gray-100"]],template:function(r,a){if(r&1){let o=ue();c(0,"mat-drawer-container",1)(1,"mat-drawer",2,0)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"mat-icon",7),g(8,"account_balance_wallet"),l()(),c(9,"span",8),g(10),se(11,"translate"),l()(),c(12,"div",5)(13,"button",9),R("click",function(){j(o);let d=wn(2);return z(d.toggle())}),c(14,"mat-icon"),g(15,"home"),l()(),c(16,"button",10),R("click",function(){j(o);let d=wn(2);return z(d.toggle())}),c(17,"mat-icon"),g(18,"close"),l()()()(),c(19,"nav",11),qe(20,e4,6,10,"div",12,H3),l(),c(22,"div",13)(23,"div",14)(24,"div",15)(25,"mat-icon",16),g(26,"settings"),l(),c(27,"span",17),g(28),se(29,"translate"),l()(),c(30,"button",18),R("click",function(){return j(o),z(a.logout())}),c(31,"mat-icon",19),g(32,"logout"),l()()()()()(),c(33,"mat-drawer-content",20)(34,"div")(35,"button",21),R("click",function(){j(o);let d=wn(2);return z(d.toggle())}),c(36,"mat-icon",22),g(37,"menu"),l()()()()()}r&2&&(p(),O("mode","over"),p(9),V(pe(11,3,"moneyManager")),p(10),Ke(a.navigationSections),p(8),V(pe(29,5,"settings")))},dependencies:[ct,lg,px,dn,Qe,SC,kC,wC,Fn,Qg],styles:[".full-height[_ngcontent-%COMP%]{height:100vh}.color-ball[_ngcontent-%COMP%]{height:3rem;width:3rem;font-size:clamp(2.5rem,6vw,4rem)}"]});let n=t;return n})();var Yb=(()=>{let t=class t{constructor(e){this.elementRef=e,this.clickOutside=new Mn}onClick(e){this.elementRef.nativeElement.contains(e)||this.clickOutside.emit()}};t.\u0275fac=function(r){return new(r||t)(W(es))},t.\u0275dir=_c({type:t,selectors:[["","clickOutside",""]],hostBindings:function(r,a){r&1&&R("click",function(s){return a.onClick(s.target)},!1,J0)},outputs:{clickOutside:"clickOutside"}});let n=t;return n})();function i4(n,t){if(n&1&&oe(0,"img",6),n&2){let i=y();Ha("src",i.user.photoURL,Q0)}}function r4(n,t){if(n&1&&(c(0,"span",7),g(1),se(2,"titlecase"),l()),n&2){let i=y();p(),V(pe(2,1,i.user.displayName?i.user.displayName:"User"))}}function a4(n,t){if(n&1&&(zi(),c(0,"svg",8),oe(1,"path",9),l()),n&2){let i=y();Ue("rotate-180",i.isOpen)}}function o4(n,t){if(n&1){let i=ue();c(0,"div",10)(1,"div",11)(2,"button",12),R("click",function(){j(i);let r=y();return z(r.viewProfile())}),zi(),c(3,"svg",13),oe(4,"path",14)(5,"path",15),l(),Ma(),c(6,"span"),g(7,"View Profile"),l()(),c(8,"button",12),R("click",function(){j(i);let r=y();return z(r.openSettings())}),zi(),c(9,"svg",13),oe(10,"path",16),l(),Ma(),c(11,"span"),g(12,"Settings"),l()(),c(13,"button",12),R("click",function(){j(i);let r=y();return z(r.openCacheManager())}),zi(),c(14,"svg",13),oe(15,"path",17),l(),Ma(),c(16,"span"),g(17,"Cache Management"),l()(),c(18,"button",12),R("click",function(){j(i);let r=y();return z(r.shareApp())}),c(19,"mat-icon",18),g(20,"share"),l(),c(21,"span"),g(22,"Share App"),l()(),c(23,"button",12),R("click",function(){j(i);let r=y();return z(r.openHelp())}),zi(),c(24,"svg",13),oe(25,"path",19),l(),Ma(),c(26,"span"),g(27,"Help"),l()()(),oe(28,"div",20),c(29,"div",11)(30,"button",21),R("click",function(r){j(i);let a=y();return z(a.signOut(r))}),zi(),c(31,"svg",13),oe(32,"path",22),l(),Ma(),c(33,"span"),g(34,"Sign Out"),l()()()()}n&2&&O("@slideDown",void 0)}var Ub=(()=>{let t=class t{constructor(e,r,a,o,s){this.userService=e,this.notificationService=r,this.router=a,this.breakpointObserver=o,this.splitwiseService=s,this.isOpen=!1,this.isMobile=!1,this.user={displayName:"",photoURL:""},this.breakpointObserver.observe(Ml.Handset).subscribe(d=>{this.isMobile=d.matches})}ngOnInit(){this.userService.userAuth$.pipe(yr(1)).subscribe(e=>{this.user={displayName:e==null?void 0:e.displayName,photoURL:e==null?void 0:e.photoURL}})}toggle(e){e&&e.stopPropagation(),console.log("toggling"),this.isOpen=!this.isOpen}close(){this.isOpen=!1}viewProfile(){console.log("View profile clicked"),this.router.navigate(["/dashboard/profile"]),this.close()}openSettings(){console.log("Settings clicked"),this.notificationService.info("Settings feature coming soon"),this.close()}openCacheManager(){console.log("Cache management clicked"),this.notificationService.info("Opening cache management"),this.showCacheManagerDialog(),this.close()}showCacheManagerDialog(){let e=document.createElement("div");e.className="fixed inset-0 z-[9999] bg-black bg-opacity-50 flex items-center justify-center p-4",e.innerHTML=`
      <div class="bg-white rounded-lg shadow-xl max-w-md w-full max-h-[80vh] overflow-y-auto">
        <div class="p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-gray-900">Cache Management</h3>
            <button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-gray-600">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>
          
          <div class="space-y-4">
            <!-- Clear Cache Button -->
            <button 
              onclick="clearAppCache()"
              class="w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
              </svg>
              <span>Clear Cache</span>
            </button>

            <!-- Force Update Button -->
            <button 
              onclick="forceAppUpdate()"
              class="w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
              </svg>
              <span>Force Update</span>
            </button>

            <!-- App Info -->
            <div class="p-3 bg-gray-50 rounded-lg">
              <h4 class="font-medium text-gray-900 mb-2">App Information</h4>
              <div class="space-y-1">
                <div class="flex justify-between">
                  <span class="text-sm text-gray-600">Version:</span>
                  <span class="text-sm font-medium">${new Date().toISOString().split("T")[0]}</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-sm text-gray-600">Last Updated:</span>
                  <span class="text-sm font-medium">${new Date(localStorage.getItem("app-version")||new Date().toISOString().split("T")[0]).toLocaleDateString()}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    `,window.clearAppCache=()=>ge(this,null,function*(){try{if("caches"in window){let r=yield caches.keys();yield Promise.all(r.map(a=>caches.delete(a)))}"indexedDB"in window&&(yield indexedDB.databases()).forEach(a=>{a.name&&indexedDB.deleteDatabase(a.name)}),this.notificationService.success("Cache cleared successfully!"),e.remove()}catch(r){console.error("Failed to clear cache:",r),this.notificationService.error("Failed to clear cache. Please try again.")}}),window.forceAppUpdate=()=>{localStorage.setItem("app-version",new Date().toISOString().split("T")[0]),this.notificationService.info("App update initiated"),window.location.reload()},document.body.appendChild(e),e.addEventListener("click",r=>{r.target===e&&e.remove()})}openHelp(){console.log("Help clicked"),this.notificationService.info("Help feature coming soon"),this.close()}signOut(e){return ge(this,null,function*(){console.log("signing out");try{yield this.userService.signOut(),this.notificationService.success("Signed out successfully"),e.stopPropagation(),this.close()}catch(r){console.error("Error signing out:",r),this.notificationService.error("Failed to sign out")}})}shareApp(){this.splitwiseService.sharePWA(),this.close()}};t.\u0275fac=function(r){return new(r||t)(W(ui),W(Ct),W(on),W(Tr),W(Tl))},t.\u0275cmp=Le({type:t,selectors:[["app-user"]],decls:6,vars:4,consts:[[1,"relative","inline-block",3,"clickOutside"],["type","button",1,"relative","z-10","flex","items-center","p-2","text-sm","text-gray-600","bg-transparent","border","border-transparent","rounded-md","focus:border-blue-500","focus:ring-opacity-40","dark:focus:ring-opacity-40","focus:ring-blue-300","dark:focus:ring-blue-400","focus:ring","dark:text-white","dark:bg-gray-800","focus:outline-none","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors",3,"click"],["class","flex-shrink-0 object-cover mx-1 rounded-full w-9 h-9 border-2 border-gray-200 dark:border-gray-600","onerror","this.src='assets/images/profile.png'","alt","avatar",3,"src",4,"ngIf"],["class","mx-1 truncate max-w-100",4,"ngIf"],["class","w-5 h-5 mx-1 transition-transform duration-200","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",3,"rotate-180",4,"ngIf"],["class","absolute right-0 z-20 w-64 py-2 mt-2 overflow-hidden origin-top-right bg-white rounded-lg shadow-xl dark:bg-gray-800 border border-gray-200 dark:border-gray-700",4,"ngIf"],["onerror","this.src='assets/images/profile.png'","alt","avatar",1,"flex-shrink-0","object-cover","mx-1","rounded-full","w-9","h-9","border-2","border-gray-200","dark:border-gray-600",3,"src"],[1,"mx-1","truncate","max-w-100"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","mx-1","transition-transform","duration-200"],["d","M12 15.713L18.01 9.70299L16.597 8.28799L12 12.888L7.40399 8.28799L5.98999 9.70199L12 15.713Z","fill","currentColor"],[1,"absolute","right-0","z-20","w-64","py-2","mt-2","overflow-hidden","origin-top-right","bg-white","rounded-lg","shadow-xl","dark:bg-gray-800","border","border-gray-200","dark:border-gray-700"],[1,"py-1"],[1,"flex","items-center","w-full","px-4","py-2","text-sm","text-gray-600","capitalize","transition-colors","duration-200","dark:text-gray-300","hover:bg-gray-100","dark:hover:bg-gray-700","dark:hover:text-white","focus:outline-none","focus:bg-gray-100","dark:focus:bg-gray-700",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","mr-3"],["d","M7 8C7 5.23858 9.23858 3 12 3C14.7614 3 17 5.23858 17 8C17 10.7614 14.7614 13 12 13C9.23858 13 7 10.7614 7 8ZM12 11C13.6569 11 15 9.65685 15 8C15 6.34315 13.6569 5 12 5C10.3431 5 9 6.34315 9 8C9 9.65685 10.3431 11 12 11Z","fill","currentColor"],["d","M6.34315 16.3431C4.84285 17.8434 4 19.8783 4 22H6C6 20.4087 6.63214 18.8826 7.75736 17.7574C8.88258 16.6321 10.4087 16 12 16C13.5913 16 15.1174 16.6321 16.2426 17.7574C17.3679 18.8826 18 20.4087 18 22H20C20 19.8783 19.1571 17.8434 17.6569 16.3431C16.1566 14.8429 14.1217 14 12 14C9.87827 14 7.84344 14.8429 6.34315 16.3431Z","fill","currentColor"],["d","M13.8199 22H10.1799C9.71003 22 9.30347 21.673 9.20292 21.214L8.79592 19.33C8.25297 19.0921 7.73814 18.7946 7.26092 18.443L5.42392 19.028C4.97592 19.1709 4.48891 18.9823 4.25392 18.575L2.42992 15.424C2.19751 15.0165 2.27758 14.5025 2.62292 14.185L4.04792 12.885C3.98312 12.2961 3.98312 11.7019 4.04792 11.113L2.62292 9.816C2.27707 9.49837 2.19697 8.98372 2.42992 8.576L4.24992 5.423C4.48491 5.0157 4.97192 4.82714 5.41992 4.97L7.25692 5.555C7.50098 5.37416 7.75505 5.20722 8.01792 5.055C8.27026 4.91269 8.52995 4.78385 8.79592 4.669L9.20392 2.787C9.30399 2.32797 9.71011 2.00049 10.1799 2H13.8199C14.2897 2.00049 14.6958 2.32797 14.7959 2.787L15.2079 4.67C15.4887 4.79352 15.7622 4.93308 16.0269 5.088C16.2739 5.23081 16.5126 5.38739 16.7419 5.557L18.5799 4.972C19.0276 4.82967 19.514 5.01816 19.7489 5.425L21.5689 8.578C21.8013 8.98548 21.7213 9.49951 21.3759 9.817L19.9509 11.117C20.0157 11.7059 20.0157 12.3001 19.9509 12.889L21.3759 14.189C21.7213 14.5065 21.8013 15.0205 21.5689 15.428L19.7489 18.581C19.514 18.9878 19.0276 19.1763 18.5799 19.034L16.7419 18.449C16.5093 18.6203 16.2677 18.7789 16.0179 18.924C15.7557 19.0759 15.4853 19.2131 15.2079 19.335L14.7959 21.214C14.6954 21.6726 14.2894 21.9996 13.8199 22ZM7.61992 16.229L8.43992 16.829C8.62477 16.9652 8.81743 17.0904 9.01692 17.204C9.20462 17.3127 9.39788 17.4115 9.59592 17.5L10.5289 17.909L10.9859 20H13.0159L13.4729 17.908L14.4059 17.499C14.8132 17.3194 15.1998 17.0961 15.5589 16.833L16.3799 16.233L18.4209 16.883L19.4359 15.125L17.8529 13.682L17.9649 12.67C18.0141 12.2274 18.0141 11.7806 17.9649 11.338L17.8529 10.326L19.4369 8.88L18.4209 7.121L16.3799 7.771L15.5589 7.171C15.1997 6.90671 14.8132 6.68175 14.4059 6.5L13.4729 6.091L13.0159 4H10.9859L10.5269 6.092L9.59592 6.5C9.39772 6.58704 9.20444 6.68486 9.01692 6.793C8.81866 6.90633 8.62701 7.03086 8.44292 7.166L7.62192 7.766L5.58192 7.116L4.56492 8.88L6.14792 10.321L6.03592 11.334C5.98672 11.7766 5.98672 12.2234 6.03592 12.666L6.14792 13.678L4.56492 15.121L5.57992 16.879L7.61992 16.229ZM11.9959 16C9.78678 16 7.99592 14.2091 7.99592 12C7.99592 9.79086 9.78678 8 11.9959 8C14.2051 8 15.9959 9.79086 15.9959 12C15.9932 14.208 14.2039 15.9972 11.9959 16ZM11.9959 10C10.9033 10.0011 10.0138 10.8788 9.99815 11.9713C9.98249 13.0638 10.8465 13.9667 11.9386 13.9991C13.0307 14.0315 13.9468 13.1815 13.9959 12.09V12.49V12C13.9959 10.8954 13.1005 10 11.9959 10Z","fill","currentColor"],["d","M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3ZM19 19H5V5H19V19ZM17 13H7V11H17V13ZM13 17H7V15H13V17ZM7 9V7H17V9H7Z","fill","currentColor"],[1,"text-sm","mr-1"],["d","M12 22C6.47967 21.9939 2.00606 17.5203 2 12V11.8C2.10993 6.30452 6.63459 1.92794 12.1307 2.00087C17.6268 2.07379 22.0337 6.56887 21.9978 12.0653C21.9619 17.5618 17.4966 21.9989 12 22ZM11.984 20H12C16.4167 19.9956 19.9942 16.4127 19.992 11.996C19.9898 7.57928 16.4087 3.99999 11.992 3.99999C7.57528 3.99999 3.99421 7.57928 3.992 11.996C3.98979 16.4127 7.56729 19.9956 11.984 20ZM13 18H11V16H13V18ZM13 15H11C10.9684 13.6977 11.6461 12.4808 12.77 11.822C13.43 11.316 14 10.88 14 9.99999C14 8.89542 13.1046 7.99999 12 7.99999C10.8954 7.99999 10 8.89542 10 9.99999H8V9.90999C8.01608 8.48093 8.79333 7.16899 10.039 6.46839C11.2846 5.76778 12.8094 5.78493 14.039 6.51339C15.2685 7.24184 16.0161 8.57093 16 9.99999C15.9284 11.079 15.3497 12.0602 14.44 12.645C13.6177 13.1612 13.0847 14.0328 13 15Z","fill","currentColor"],[1,"border-t","border-gray-100","dark:border-gray-700","my-1"],[1,"flex","items-center","w-full","px-4","py-2","text-sm","text-red-600","capitalize","transition-colors","duration-200","dark:text-red-400","hover:bg-red-50","dark:hover:bg-red-900/20","focus:outline-none","focus:bg-red-50","dark:focus:bg-red-900/20",3,"click"],["d","M19 21H10C8.89543 21 8 20.1046 8 19V15H10V19H19V5H10V9H8V5C8 3.89543 8.89543 3 10 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21ZM12 16V13H3V11H12V8L17 12L12 16Z","fill","currentColor"]],template:function(r,a){r&1&&(c(0,"div",0),R("clickOutside",function(){return a.close()}),c(1,"button",1),R("click",function(s){return a.toggle(s)}),L(2,i4,1,1,"img",2)(3,r4,3,3,"span",3)(4,a4,2,2,"svg",4),l(),L(5,o4,35,1,"div",5),l()),r&2&&(p(2),O("ngIf",a.user==null?null:a.user.photoURL),p(),O("ngIf",!a.isMobile||!(a.user!=null&&a.user.photoURL)),p(),O("ngIf",!a.isMobile),p(),O("ngIf",a.isOpen))},dependencies:[ct,Qe,Yb,ir],data:{animation:[Zg("slideDown",[Sl("void",wl({opacity:0,transform:"translateY(-10px) scale(0.95)"})),Sl("*",wl({opacity:1,transform:"translateY(0) scale(1)"})),kl("void => *",[Ol("200ms ease-out")]),kl("* => void",[Ol("150ms ease-in")])])]}});let n=t;return n})();var Gb=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Le({type:t,selectors:[["app-header"]],decls:3,vars:0,consts:[[1,"header","flex","justify-between","p-2"]],template:function(r,a){r&1&&(c(0,"header",0),oe(1,"side-bar")(2,"app-user"),l())},dependencies:[zb,Ub]});let n=t;return n})();var vf=da(fa());function l4(n,t){if(n&1){let i=ue();c(0,"mat-list-item",7),R("click",function(){let r=j(i).$implicit,a=y();return z(a.selectCategory(r))}),c(1,"div",8)(2,"div",9)(3,"mat-icon",10),g(4),l()(),c(5,"div",11)(6,"span",12),g(7),l(),c(8,"span",13),g(9),se(10,"titlecase"),l()(),c(11,"mat-icon",14),g(12,"arrow_forward_ios"),l()()()}if(n&2){let i=t.$implicit,e=y();Ue("selected",e.selectedCategory===i),p(3),kt("color",i.color),p(),ee(" ",i.icon," "),p(3),V(i.name),p(2),V(pe(10,7,i.type))}}function d4(n,t){n&1&&(c(0,"div",15)(1,"mat-icon",16),g(2,"category"),l(),c(3,"p"),g(4,"No categories available"),l()())}var rm=(()=>{let t=class t{constructor(e,r){this.dialogRef=e,this.data=r,this.selectedCategory=null}ngOnInit(){}selectCategory(e){this.selectedCategory=e,this.dialogRef.close(e)}onCancel(){this.dialogRef.close(null)}trackByCategory(e,r){return r.id||e.toString()}};t.\u0275fac=function(r){return new(r||t)(W(mi),W(pi))},t.\u0275cmp=Le({type:t,selectors:[["app-parent-category-selector-dialog"]],decls:9,vars:6,consts:[[3,"closeButtonClick","title","showCloseButton"],[1,"dialog-message"],[1,"categories-container"],[1,"categories-list"],[1,"category-list"],["class","category-item",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","no-categories",4,"ngIf"],[1,"category-item",3,"click"],[1,"category-info"],[1,"category-icon-wrapper"],[1,"category-icon"],[1,"category-details"],[1,"category-name"],[1,"category-type"],[1,"select-icon"],[1,"no-categories"],[1,"no-categories-icon"]],template:function(r,a){r&1&&(c(0,"app-common-header",0),R("closeButtonClick",function(){return a.onCancel()}),l(),c(1,"app-common-body-content")(2,"p",1),g(3),l(),c(4,"div",2)(5,"div",3)(6,"mat-list",4),L(7,l4,13,9,"mat-list-item",5),l()(),L(8,d4,5,0,"div",6),l()()),r&2&&(O("title",a.data.title)("showCloseButton",!0),p(3),V(a.data.message),p(4),O("ngForOf",a.data.categories)("ngForTrackBy",a.trackByCategory),p(),O("ngIf",(a.data==null||a.data.categories==null?null:a.data.categories.length)===0))},dependencies:[nr,ct,TC,EC,Qe,Rs,Ns,ir],styles:[".parent-category-dialog[_ngcontent-%COMP%]{min-width:320px;max-width:90vw;width:100%;border-radius:12px;overflow:hidden;box-shadow:0 4px 20px #0000001a}@media (max-width: 599px){.parent-category-dialog[_ngcontent-%COMP%]{min-width:280px;max-width:95vw}}@media (min-width: 600px) and (max-width: 959px){.parent-category-dialog[_ngcontent-%COMP%]{min-width:400px;max-width:500px}}@media (min-width: 960px){.parent-category-dialog[_ngcontent-%COMP%]{min-width:450px;max-width:550px}}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px 16px;border-bottom:1px solid #e0e0e0;background:linear-gradient(135deg,#f8f9fa,#fff)}@media (max-width: 599px){.dialog-header[_ngcontent-%COMP%]{padding:16px 20px 12px}}.dialog-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}@media (max-width: 599px){.dialog-title[_ngcontent-%COMP%]{font-size:1.25rem}}.close-button[_ngcontent-%COMP%]{color:#666;transition:all .2s ease}.close-button[_ngcontent-%COMP%]:hover{color:#333;background-color:#0000000a;transform:scale(1.1)}.close-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #1976d233}.dialog-content[_ngcontent-%COMP%]{padding:20px 24px}@media (max-width: 599px){.dialog-content[_ngcontent-%COMP%]{padding:16px 20px}}.dialog-message[_ngcontent-%COMP%]{margin:0 0 20px;color:#666;font-size:.95rem;line-height:1.5}@media (max-width: 599px){.dialog-message[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:16px}}.categories-container[_ngcontent-%COMP%]{position:relative}.categories-list[_ngcontent-%COMP%]{max-height:350px;overflow-y:auto}@media (max-width: 599px){.categories-list[_ngcontent-%COMP%]{max-height:300px}}.categories-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.categories-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.categories-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.categories-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.category-list[_ngcontent-%COMP%]{padding:0}.category-item[_ngcontent-%COMP%]{cursor:pointer;border-radius:12px;margin-bottom:8px;transition:all .2s ease;border:1px solid transparent}.category-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;border-color:#e9ecef;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.category-item.selected[_ngcontent-%COMP%]{background-color:#1976d214;border-color:#1976d2}.category-item.selected[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{color:#1976d2;font-weight:600}.category-item.selected[_ngcontent-%COMP%]   .select-icon[_ngcontent-%COMP%]{color:#1976d2;transform:translate(2px)}.category-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}@media (max-width: 599px){.category-item[_ngcontent-%COMP%]{margin-bottom:6px}}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;width:100%;padding:4px 0}@media (max-width: 599px){.category-info[_ngcontent-%COMP%]{gap:12px}}.category-icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;background-color:#0000000a;flex-shrink:0}@media (max-width: 599px){.category-icon-wrapper[_ngcontent-%COMP%]{width:36px;height:36px}}.category-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}@media (max-width: 599px){.category-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}.category-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:0}.category-name[_ngcontent-%COMP%]{font-weight:500;font-size:1rem;color:#333;margin-bottom:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width: 599px){.category-name[_ngcontent-%COMP%]{font-size:.95rem}}.category-type[_ngcontent-%COMP%]{color:#666;font-size:.8rem;text-transform:uppercase;letter-spacing:.5px;font-weight:500}@media (max-width: 599px){.category-type[_ngcontent-%COMP%]{font-size:.75rem}}.select-icon[_ngcontent-%COMP%]{color:#ccc;font-size:16px;transition:all .2s ease;flex-shrink:0}@media (max-width: 599px){.select-icon[_ngcontent-%COMP%]{font-size:14px}}.no-categories[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center;color:#666}@media (max-width: 599px){.no-categories[_ngcontent-%COMP%]{padding:30px 16px}}.no-categories-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px;opacity:.5}@media (max-width: 599px){.no-categories-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;margin-bottom:12px}}.no-categories[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}@media (max-width: 599px){.no-categories[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}.dialog-actions[_ngcontent-%COMP%]{padding:16px 24px 20px;justify-content:flex-end;border-top:1px solid #e0e0e0;background-color:#fafafa}@media (max-width: 599px){.dialog-actions[_ngcontent-%COMP%]{padding:12px 20px 16px}}.cancel-button[_ngcontent-%COMP%]{min-width:80px;font-weight:500;border-radius:6px;transition:all .2s ease}.cancel-button[_ngcontent-%COMP%]:hover{background-color:#0000000a}@media (max-width: 599px){.cancel-button[_ngcontent-%COMP%]{min-width:70px;font-size:.9rem}}"]});let n=t;return n})();var So=(()=>{let t=class t{constructor(e,r,a,o,s){this.firestore=e,this.store=r,this.dialog=a,this.notificationService=o,this.hapticFeedback=s,this.categories={},this.store.select(gn).subscribe(d=>{d.forEach(u=>{u.id&&(this.categories[u.id]=u)})})}getUserCategoriesCollection(e){return ua(this.firestore,`users/${e}/categories`)}getCategories(e){let r=this.getUserCategoriesCollection(e);return new Jt(a=>{go(r).then(o=>{let s=[];o.forEach(d=>{let u=d.data(),m={id:d.id,name:u==null?void 0:u.name,type:u==null?void 0:u.type,icon:(u==null?void 0:u.icon)||"category",color:(u==null?void 0:u.color)||"#46777f",createdAt:u==null?void 0:u.createdAt,budget:(u==null?void 0:u.budget)||null,parentCategoryId:(u==null?void 0:u.parentCategoryId)||null,isSubCategory:(u==null?void 0:u.isSubCategory)||!1,subCategories:(u==null?void 0:u.subCategories)||[]};s.push(m)}),a.next(s),a.complete()}).catch(o=>{a.error(o)})})}createCategory(e,r,a,o,s){return new Jt(d=>{let u=this.generateCategoryId(),m=$t(this.firestore,`users/${e}/categories/${u}`);ta(m,{name:r,type:a,icon:o,color:s,createdAt:Date.now()}).then(()=>{d.next(u),d.complete()}).catch(f=>{d.error(f)})})}updateCategory(e,r,a,o,s,d,u,m,f){return new Jt(_=>{let x=$t(this.firestore,`users/${e}/categories/${r}`);bi(x).then(v=>{if(v.exists()){let b=v.data(),M={name:a,type:o,icon:s,color:d};if(u&&(M.budget=u),m!==void 0)if(m==null){if(b.parentCategoryId){let S=this.categories[b.parentCategoryId];if(S&&S.subCategories){let w=S.subCategories.filter(T=>T!==r);$n($t(this.firestore,`users/${e}/categories/${b.parentCategoryId}`),{subCategories:w})}}M.parentCategoryId=qg()}else{if(b.parentCategoryId&&b.parentCategoryId!==m){let w=this.categories[b.parentCategoryId];if(w&&w.subCategories){let T=w.subCategories.filter(F=>F!==r);$n($t(this.firestore,`users/${e}/categories/${b.parentCategoryId}`),{subCategories:T})}}let S=this.categories[m];if(S){let w=[...S.subCategories||[],r];$n($t(this.firestore,`users/${e}/categories/${m}`),{subCategories:w})}M.parentCategoryId=m}f!==void 0&&(M.isSubCategory=f),$n(x,M).then(()=>{_.next(),_.complete()}).catch(S=>{_.error(S)})}else _.error(new Error("Category not found"))}).catch(v=>{_.error(v)})})}deleteCategory(e,r){return new Jt(a=>{let o=$t(this.firestore,`users/${e}/categories/${r}`);bi(o).then(s=>{if(s.exists()){let d=s.data();if(d.isSubCategory&&d.parentCategoryId){let u=this.categories[d.parentCategoryId];if(u&&u.subCategories){let m=u.subCategories.filter(f=>f!==r);$n($t(this.firestore,`users/${e}/categories/${d.parentCategoryId}`),{subCategories:m}).then(()=>{ar(o).then(()=>{a.next(),a.complete()}).catch(f=>{a.error(f)})}).catch(f=>{a.error(f)})}else ar(o).then(()=>{a.next(),a.complete()}).catch(m=>{a.error(m)})}else if(d.subCategories&&d.subCategories.length>0){let u=d.subCategories.map(m=>ar($t(this.firestore,`users/${e}/categories/${m}`)));Promise.all(u).then(()=>{ar(o).then(()=>{a.next(),a.complete()}).catch(m=>{a.error(m)})}).catch(m=>{a.error(m)})}else ar(o).then(()=>{a.next(),a.complete()}).catch(u=>{a.error(u)})}else a.next(),a.complete()}).catch(s=>{a.error(s)})})}getCategoryNameById(e){var r;return((r=this.categories[e])==null?void 0:r.name)||""}removeFromParentCategory(e,r){return new Jt(a=>{let o=$t(this.firestore,`users/${e}/categories/${r}`);bi(o).then(s=>{if(s.exists()){let d=s.data();if(d.parentCategoryId){let u=this.categories[d.parentCategoryId];if(u&&u.subCategories){let m=u.subCategories.filter(f=>f!==r);$n($t(this.firestore,`users/${e}/categories/${d.parentCategoryId}`),{subCategories:m}).then(()=>{$n(o,{parentCategoryId:qg(),isSubCategory:!1}).then(()=>{a.next(),a.complete()}).catch(f=>{a.error(f)})}).catch(f=>{a.error(f)})}else $n(o,{parentCategoryId:qg(),isSubCategory:!1}).then(()=>{a.next(),a.complete()}).catch(m=>{a.error(m)})}else a.next(),a.complete()}else a.error(new Error("Category not found"))}).catch(s=>{a.error(s)})})}getCategoryWithSubCategories(e,r){return new Jt(a=>{this.getCategories(e).subscribe(o=>{a.next(o.find(s=>s.id===r)||null),a.complete()},o=>{a.error(o)})})}hasSubCategories(e){let r=this.categories[e];return(r==null?void 0:r.subCategories)&&r.subCategories.length>0||!1}getSubCategoriesCount(e){var a;let r=this.categories[e];return((a=r==null?void 0:r.subCategories)==null?void 0:a.length)||0}openParentCategorySelectorDialog(e){return new Jt(r=>{try{let o=Object.values(this.categories).filter(d=>d.id!==e.id&&!d.isSubCategory&&!d.parentCategoryId);this.dialog.open(rm,{width:"500px",maxWidth:"90vw",data:{title:"Select Parent Category",message:`Select a parent category for "${e.name}"`,categories:o},disableClose:!1}).afterClosed().subscribe(d=>{r.next(d),r.complete()})}catch(a){console.error("Error opening parent category selector dialog:",a),r.error(a)}})}generateCategoryId(){return"cat_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}performDelete(e,r){this.dialog.open(ma,{width:"400px",data:{title:"Delete Category",message:`Are you sure you want to delete "${e.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:"warn"}}).afterClosed().subscribe(o=>{if(o){if(!e.id){this.notificationService.error("Category ID not found");return}this.store.dispatch(_l({userId:r,categoryId:e.id})),this.notificationService.success("Category deleted successfully"),this.hapticFeedback.successVibration()}})}};t.\u0275fac=function(r){return new(r||t)(Ne(Sr),Ne(mt),Ne(xn),Ne(Ct),Ne(Ar))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var yf=(n,t)=>t.value;function g4(n,t){n&1&&(c(0,"p",6),g(1,"Account name is required"),l())}function u4(n,t){n&1&&(c(0,"p",6),g(1,"Account name must be less than 50 characters"),l())}function m4(n,t){if(n&1&&(c(0,"mat-option",10),g(1),l()),n&2){let i=t.$implicit;O("value",i.value),p(),V(i.label)}}function p4(n,t){n&1&&(c(0,"mat-error"),g(1,"Account type is required"),l())}function f4(n,t){if(n&1&&(c(0,"p",12),g(1),l()),n&2){let i=y();p(),V(i.getBalanceError())}}function h4(n,t){n&1&&(c(0,"p",12),g(1,"Lender name is required"),l())}function _4(n,t){if(n&1&&(c(0,"p",12),g(1),l()),n&2){let i=y(2);p(),V(i.getLoanAmountError())}}function x4(n,t){if(n&1&&(c(0,"p",12),g(1),l()),n&2){let i=y(2);p(),V(i.getInterestRateError())}}function C4(n,t){if(n&1&&(c(0,"p",12),g(1),l()),n&2){let i=y(2);p(),V(i.getDurationError())}}function b4(n,t){if(n&1&&(c(0,"div",38)(1,"span",39),g(2),se(3,"currency"),l(),c(4,"mat-icon",17),g(5,"calculate"),l()(),c(6,"p",33),g(7," Calculated using loan amortization formula "),l()),n&2){let i=y(2);p(2),ee(" ",pe(3,1,i.getCalculatedMonthlyPayment())," ")}}function v4(n,t){n&1&&(oe(0,"input",40),c(1,"p",33),g(2," Enter your actual monthly payment amount "),l())}function y4(n,t){if(n&1&&(c(0,"mat-option",10),g(1),l()),n&2){let i=t.$implicit;O("value",i.value),p(),V(i.label)}}function M4(n,t){if(n&1&&(c(0,"mat-option",10),g(1),l()),n&2){let i=t.$implicit;O("value",i.value),p(),V(i.label)}}function P4(n,t){if(n&1){let i=ue();c(0,"div",13)(1,"h4",16)(2,"mat-icon",17),g(3,"account_balance_wallet"),l(),g(4," Loan Details "),l(),c(5,"div",18)(6,"label",3),g(7," Lender Name * "),l(),oe(8,"input",19),L(9,h4,2,0,"p",12),l(),c(10,"div",18)(11,"label",3),g(12," Loan Amount * "),l(),oe(13,"input",20),L(14,_4,2,1,"p",12),l(),c(15,"div",18)(16,"label",3),g(17," Annual Interest Rate (%) * "),l(),oe(18,"input",21),L(19,x4,2,1,"p",12),l(),c(20,"div",18)(21,"label",3),g(22," Loan Start Date * "),l(),oe(23,"input",22),l(),c(24,"div",18)(25,"label",3),g(26," Loan Duration (months) * "),l(),oe(27,"input",23),L(28,C4,2,1,"p",12),l(),c(29,"div",18)(30,"label",3),g(31," Monthly Payment Amount "),l(),c(32,"div",24)(33,"label",25),oe(34,"input",26),c(35,"span",27),g(36," Use calculated payment amount "),l()()(),L(37,b4,8,3)(38,v4,3,0),l(),c(39,"div",18)(40,"label",3),g(41," Repayment Frequency * "),l(),c(42,"mat-form-field",8)(43,"mat-label"),g(44,"Select frequency"),l(),c(45,"mat-select",28),qe(46,y4,2,2,"mat-option",10,yf),l()()(),c(48,"div",18)(49,"label",3),g(50," Loan Status * "),l(),c(51,"mat-form-field",8)(52,"mat-label"),g(53,"Select status"),l(),c(54,"mat-select",29),qe(55,M4,2,2,"mat-option",10,yf),l()()(),c(57,"div",18)(58,"label",3),g(59," Calculated Remaining Balance "),l(),c(60,"div",30),oe(61,"input",31),c(62,"button",32),R("click",function(){j(i);let r=y();return z(r.updateRemainingBalance())}),g(63," Recalculate "),l()(),c(64,"p",33),g(65," Automatically calculated based on time elapsed since loan start date "),l()(),c(66,"div",18)(67,"label",3),g(68," Next Payment Due Date * "),l(),oe(69,"input",34),l(),c(70,"div",18)(71,"label",25),oe(72,"input",35),c(73,"span",27),g(74," Show payment reminders "),l()()(),c(75,"div",18)(76,"label",25),oe(77,"input",36),c(78,"span",27),g(79," Create recurring transaction for loan payments "),l()(),c(80,"p",37),g(81," Automatically creates a recurring transaction for monthly loan payments "),l()()()}if(n&2){let i,e,r,a=y();p(9),Oe((i=a.accountForm.get("lenderName"))!=null&&i.hasError("required")&&((i=a.accountForm.get("lenderName"))!=null&&i.touched)?9:-1),p(5),Oe(a.getLoanAmountError()?14:-1),p(5),Oe(a.getInterestRateError()?19:-1),p(9),Oe(a.getDurationError()?28:-1),p(9),Oe((e=a.accountForm.get("useCalculatedPayment"))!=null&&e.value?37:-1),p(),Oe((r=a.accountForm.get("useCalculatedPayment"))!=null&&r.value?-1:38),p(8),Ke(a.repaymentFrequencies),p(9),Ke(a.loanStatuses)}}function O4(n,t){n&1&&(c(0,"p",12),g(1,"Due date is required"),l())}function w4(n,t){n&1&&(c(0,"p",12),g(1,"Due date must be between 1 and 31"),l())}function S4(n,t){n&1&&(c(0,"p",12),g(1,"Billing cycle start is required"),l())}function k4(n,t){n&1&&(c(0,"p",12),g(1,"Billing cycle start must be between 1 and 31"),l())}function T4(n,t){if(n&1&&(c(0,"div",14)(1,"h4",41)(2,"mat-icon",42),g(3,"credit_card"),l(),g(4," Credit Card Details "),l(),c(5,"div",18)(6,"label",3),g(7," Payment Due Date (Day of Month) * "),l(),oe(8,"input",43),L(9,O4,2,0,"p",12)(10,w4,2,0,"p",12),l(),c(11,"div",18)(12,"label",3),g(13," Billing Cycle Start (Day of Month) * "),l(),oe(14,"input",44),L(15,S4,2,0,"p",12)(16,k4,2,0,"p",12),l(),c(17,"div",18)(18,"label",3),g(19," Credit Limit "),l(),oe(20,"input",45),c(21,"p",33),g(22," Optional: Set your credit limit for tracking "),l()(),c(23,"div",18)(24,"label",3),g(25," Minimum Payment "),l(),oe(26,"input",46),c(27,"p",33),g(28," Optional: Set your typical minimum payment amount "),l()(),c(29,"div",18)(30,"label",25),oe(31,"input",47),c(32,"span",27),g(33," Show payment reminders "),l()()()()),n&2){let i,e,r,a,o=y();p(9),Oe((i=o.accountForm.get("dueDate"))!=null&&i.hasError("required")&&((i=o.accountForm.get("dueDate"))!=null&&i.touched)?9:-1),p(),Oe((e=o.accountForm.get("dueDate"))!=null&&e.hasError("min")||(e=o.accountForm.get("dueDate"))!=null&&e.hasError("max")?10:-1),p(5),Oe((r=o.accountForm.get("billingCycleStart"))!=null&&r.hasError("required")&&((r=o.accountForm.get("billingCycleStart"))!=null&&r.touched)?15:-1),p(),Oe((a=o.accountForm.get("billingCycleStart"))!=null&&a.hasError("min")||(a=o.accountForm.get("billingCycleStart"))!=null&&a.hasError("max")?16:-1)}}var Hd=(()=>{let t=class t{constructor(e,r,a,o,s,d,u,m,f,_,x){var v,b,M,S,w,T,F,U,A,k,I;this.dialogData=e,this.fb=r,this.dialogRef=a,this.auth=o,this.notificationService=s,this.hapticFeedback=d,this.validationService=u,this.store=m,this.transactionsService=f,this.categoryService=_,this.accountsService=x,this.isSubmitting=!1,this.accountTypes=[{value:kr.BANK,label:"Bank Account (Checking/Savings)"},{value:kr.CASH,label:"Cash"},{value:kr.CREDIT,label:"Credit Card"},{value:kr.LOAN,label:"Loan"},{value:kr.INVESTMENT,label:"Investment"}],this.repaymentFrequencies=[{value:"monthly",label:"Monthly"},{value:"weekly",label:"Weekly"}],this.loanStatuses=[{value:"active",label:"Active"},{value:"closed",label:"Closed"},{value:"defaulted",label:"Defaulted"}],this.accountForm=this.fb.group({name:["",this.validationService.getAccountNameValidators()],type:["bank",tt.required],balance:[0,this.validationService.getAccountBalanceValidators()],description:[""],lenderName:[""],loanAmount:[0,this.validationService.getLoanAmountValidators()],interestRate:[0,this.validationService.getInterestRateValidators()],startDate:[new Date],durationMonths:[12,this.validationService.getDurationMonthsValidators()],repaymentFrequency:["monthly"],status:["active"],remainingBalance:[0,[tt.min(0)]],nextDueDate:[new Date],showReminder:[!0],useCalculatedPayment:[!0],customMonthlyPayment:[0,[tt.min(0)]],createRecurringTransaction:[!0],dueDate:[15,[tt.required,tt.min(1),tt.max(31)]],billingCycleStart:[1,[tt.required,tt.min(1),tt.max(31)]],creditLimit:[0,[tt.min(0)]],minimumPayment:[0,[tt.min(0)]],creditCardShowReminder:[!0]}),this.dialogData&&(this.accountForm.patchValue(ce(ce({name:this.dialogData.name,type:this.dialogData.type,balance:this.dialogData.balance||0,description:this.dialogData.description},this.dialogData.loanDetails&&{lenderName:this.dialogData.loanDetails.lenderName,loanAmount:this.dialogData.loanDetails.loanAmount,interestRate:this.dialogData.loanDetails.interestRate,startDate:this.dialogData.loanDetails.startDate,durationMonths:this.dialogData.loanDetails.durationMonths,repaymentFrequency:this.dialogData.loanDetails.repaymentFrequency,status:this.dialogData.loanDetails.status,remainingBalance:this.dialogData.loanDetails.remainingBalance,nextDueDate:this.dialogData.loanDetails.nextDueDate,showReminder:this.dialogData.loanDetails.showReminder,useCalculatedPayment:!0,customMonthlyPayment:this.dialogData.loanDetails.monthlyPayment||0,createRecurringTransaction:!0}),this.dialogData.creditCardDetails&&{dueDate:this.dialogData.creditCardDetails.dueDate,billingCycleStart:this.dialogData.creditCardDetails.billingCycleStart,creditLimit:this.dialogData.creditCardDetails.creditLimit,minimumPayment:this.dialogData.creditCardDetails.minimumPayment,creditCardShowReminder:this.dialogData.creditCardDetails.showReminder})),setTimeout(()=>{this.updateRemainingBalance()},100),(v=this.accountForm.get("loanAmount"))==null||v.valueChanges.subscribe(B=>{var X;((X=this.accountForm.get("type"))==null?void 0:X.value)==="loan"&&this.accountForm.patchValue({balance:-B},{emitEvent:!1})}),(b=this.accountForm.get("type"))==null||b.valueChanges.subscribe(B=>{let X=this.accountForm.get("lenderName"),J=this.accountForm.get("loanAmount"),te=this.accountForm.get("interestRate"),ye=this.accountForm.get("durationMonths"),De=this.accountForm.get("nextDueDate"),Ce=this.accountForm.get("dueDate"),Ve=this.accountForm.get("billingCycleStart"),Se=this.accountForm.get("creditLimit"),je=this.accountForm.get("minimumPayment");B==="loan"?(X==null||X.setValidators([tt.required]),J==null||J.setValidators([tt.required,...this.validationService.getLoanAmountValidators()]),te==null||te.setValidators([tt.required,...this.validationService.getInterestRateValidators()]),ye==null||ye.setValidators([tt.required,...this.validationService.getDurationMonthsValidators()]),De==null||De.setValidators([tt.required]),Ce==null||Ce.clearValidators(),Ve==null||Ve.clearValidators(),Se==null||Se.clearValidators(),je==null||je.clearValidators()):B==="credit"?(X==null||X.clearValidators(),J==null||J.clearValidators(),te==null||te.clearValidators(),ye==null||ye.clearValidators(),De==null||De.clearValidators(),Ce==null||Ce.setValidators([tt.required,tt.min(1),tt.max(31)]),Ve==null||Ve.setValidators([tt.required,tt.min(1),tt.max(31)]),Se==null||Se.setValidators([tt.min(0)]),je==null||je.setValidators([tt.min(0)])):(X==null||X.clearValidators(),J==null||J.clearValidators(),te==null||te.clearValidators(),ye==null||ye.clearValidators(),De==null||De.clearValidators(),Ce==null||Ce.clearValidators(),Ve==null||Ve.clearValidators(),Se==null||Se.clearValidators(),je==null||je.clearValidators()),X==null||X.updateValueAndValidity(),J==null||J.updateValueAndValidity(),te==null||te.updateValueAndValidity(),ye==null||ye.updateValueAndValidity(),De==null||De.updateValueAndValidity(),Ce==null||Ce.updateValueAndValidity(),Ve==null||Ve.updateValueAndValidity(),Se==null||Se.updateValueAndValidity(),je==null||je.updateValueAndValidity()}),(M=this.accountForm.get("loanAmount"))==null||M.valueChanges.subscribe(()=>{this.updateRemainingBalance()}),(S=this.accountForm.get("startDate"))==null||S.valueChanges.subscribe(()=>{this.updateRemainingBalance()}),(w=this.accountForm.get("interestRate"))==null||w.valueChanges.subscribe(()=>{this.updateRemainingBalance()}),(T=this.accountForm.get("durationMonths"))==null||T.valueChanges.subscribe(()=>{this.updateRemainingBalance()}),(F=this.accountForm.get("repaymentFrequency"))==null||F.valueChanges.subscribe(()=>{this.updateRemainingBalance()}),(U=this.accountForm.get("useCalculatedPayment"))==null||U.valueChanges.subscribe(B=>{if(B){let X=this.getCalculatedMonthlyPayment();this.accountForm.patchValue({customMonthlyPayment:X},{emitEvent:!1})}}),(A=this.accountForm.get("loanAmount"))==null||A.valueChanges.subscribe(()=>{var B;if((B=this.accountForm.get("useCalculatedPayment"))!=null&&B.value){let X=this.getCalculatedMonthlyPayment();this.accountForm.patchValue({customMonthlyPayment:X},{emitEvent:!1})}}),(k=this.accountForm.get("interestRate"))==null||k.valueChanges.subscribe(()=>{var B;if((B=this.accountForm.get("useCalculatedPayment"))!=null&&B.value){let X=this.getCalculatedMonthlyPayment();this.accountForm.patchValue({customMonthlyPayment:X},{emitEvent:!1})}}),(I=this.accountForm.get("durationMonths"))==null||I.valueChanges.subscribe(()=>{var B;if((B=this.accountForm.get("useCalculatedPayment"))!=null&&B.value){let X=this.getCalculatedMonthlyPayment();this.accountForm.patchValue({customMonthlyPayment:X},{emitEvent:!1})}}))}ngOnInit(){var e,r;this.userId=(e=this.auth.currentUser)==null?void 0:e.uid,!this.dialogData&&((r=this.accountForm.get("type"))==null?void 0:r.value)==="loan"&&this.updateRemainingBalance()}onSubmit(){return ge(this,null,function*(){var e,r,a;if(this.accountForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let o=this.accountForm.value,s=o.type==="loan",d={name:o.name.trim(),type:o.type,balance:Number(o.balance)||0,description:o.description||""};if(s&&(d.loanDetails={lenderName:o.lenderName.trim(),loanAmount:Number(o.loanAmount)||0,interestRate:Number(o.interestRate)||0,startDate:o.startDate,durationMonths:Number(o.durationMonths)||12,repaymentFrequency:o.repaymentFrequency,status:o.status,remainingBalance:Number(o.remainingBalance)+this.getCalculatedMonthlyPayment()||0,nextDueDate:o.nextDueDate,showReminder:o.showReminder}),o.type==="credit"&&(d.creditCardDetails={dueDate:Number(o.dueDate)||15,billingCycleStart:Number(o.billingCycleStart)||1,creditLimit:Number(o.creditLimit)||0,minimumPayment:Number(o.minimumPayment)||0,showReminder:o.creditCardShowReminder}),(e=this.dialogData)!=null&&e.accountId)yield this.accountsService.updateAccount(this.userId,this.dialogData.accountId,d).toPromise(),this.notificationService.success("Account updated successfully");else{let u=yield this.accountsService.createAccount(this.userId,d).toPromise();s&&d.loanDetails&&((r=this.accountForm.get("createRecurringTransaction"))!=null&&r.value)&&u&&this.createLoanPaymentRecurringTransactionAfterAccountCreation(d,u),s&&((a=this.accountForm.get("createRecurringTransaction"))!=null&&a.value)?this.notificationService.success("Loan account created successfully! A recurring transaction for loan payments has been set up."):s?this.notificationService.success("Loan account created successfully!"):this.notificationService.success("Account added successfully"),this.hapticFeedback.successVibration()}this.dialogRef.close(!0)}catch(o){this.notificationService.error("Failed to save account"),console.error("Error saving account:",o)}finally{this.isSubmitting=!1}}})}onClose(){this.dialogRef.close()}getNameError(){let e=this.accountForm.get("name");return e?this.validationService.getAccountNameError(e):""}getBalanceError(){let e=this.accountForm.get("balance");return e?this.validationService.getAccountBalanceError(e):""}isLoanAccount(){var e;return((e=this.accountForm.get("type"))==null?void 0:e.value)==="loan"}isCreditCardAccount(){var e;return((e=this.accountForm.get("type"))==null?void 0:e.value)==="credit"}getLoanAmountError(){let e=this.accountForm.get("loanAmount");return e?this.validationService.getLoanAmountError(e):""}getInterestRateError(){let e=this.accountForm.get("interestRate");return e?this.validationService.getInterestRateError(e):""}getDurationError(){let e=this.accountForm.get("durationMonths");return e?this.validationService.getDurationError(e):""}getCalculatedMonthlyPayment(){var s,d,u,m,f;if(!this.isLoanAccount())return 0;if(!((s=this.accountForm.get("useCalculatedPayment"))==null?void 0:s.value))return((d=this.accountForm.get("customMonthlyPayment"))==null?void 0:d.value)||0;let r=((u=this.accountForm.get("loanAmount"))==null?void 0:u.value)||0,a=((m=this.accountForm.get("interestRate"))==null?void 0:m.value)||0,o=((f=this.accountForm.get("durationMonths"))==null?void 0:f.value)||12;return this.calculateMonthlyPayment(r,a,o)}getCurrentRemainingBalance(){var e;return((e=this.accountForm.get("remainingBalance"))==null?void 0:e.value)||0}updateRemainingBalance(){var d,u,m,f;if(!this.isLoanAccount())return;let e=((d=this.accountForm.get("loanAmount"))==null?void 0:d.value)||0,r=(u=this.accountForm.get("startDate"))==null?void 0:u.value,a=((m=this.accountForm.get("durationMonths"))==null?void 0:m.value)||12,o=((f=this.accountForm.get("repaymentFrequency"))==null?void 0:f.value)||"monthly";if(console.log("Updating remaining balance:",{loanAmount:e,startDate:r,durationMonths:a,repaymentFrequency:o}),!r||e<=0){this.accountForm.patchValue({remainingBalance:e},{emitEvent:!1}),console.log("Setting remaining balance to loan amount:",e);return}let s=this.calculateRemainingBalance(e,r,a,o);console.log("Calculated remaining balance:",s),this.accountForm.patchValue({remainingBalance:s,balance:-s},{emitEvent:!1})}calculateRemainingBalance(e,r,a,o){var b;let s=new Date,d=new Date(r),u=Math.round((0,vf.default)(s).diff((0,vf.default)(d),"months",!0)),m=0;if(o==="weekly"){let M=Math.floor((s.getTime()-d.getTime())/6048e5);m=Math.max(0,M)}else m=Math.max(0,u);let f=((b=this.accountForm.get("interestRate"))==null?void 0:b.value)||0,_=this.calculateMonthlyPayment(e,f,a),x=m*_,v=Math.max(0,e-x);return console.log("Remaining balance calculation details:",{today:s.toISOString(),start:d.toISOString(),monthsElapsed:u,paymentsMade:m,interestRate:f,monthlyPayment:_,totalPaid:x,remainingBalance:v}),Math.round(v*100)/100}findOrCreateLoanPaymentCategory(e){return this.categoryService.getCategories(e).pipe(pr(r=>{let a=r.find(o=>o.name.toLowerCase().includes("loan")&&o.type===ht.EXPENSE);return a!=null&&a.id?_t(a.id):this.categoryService.createCategory(e,"Loan Payment",ht.EXPENSE,"account_balance","#ef4444")}))}calculateMonthlyPayment(e,r,a){if(a<=0||r<=0)return e/a;let o=r/(12*100),s=o*Math.pow(1+o,a),d=Math.pow(1+o,a)-1;if(d===0)return e/a;let u=e*(s/d);return Math.round(u*100)/100}createLoanPaymentRecurringTransaction(e,r,a){return this.findOrCreateLoanPaymentCategory(e).pipe(pr(o=>{if(!o)throw new Error("Failed to create loan payment category");let s=this.getCalculatedMonthlyPayment(),d={userId:e,accountId:r,categoryId:o,category:"Loan Payment",payee:a.lenderName,amount:s,type:ht.EXPENSE,date:new Date,notes:`Monthly payment for ${a.lenderName} loan`,status:uo.COMPLETED,paymentMethod:Fs.BANK_TRANSFER,isRecurring:!0,recurringInterval:a.repaymentFrequency==="weekly"?or.WEEKLY:or.MONTHLY,recurringEndDate:this.calculateLoanEndDate(a.startDate,a.durationMonths),nextOccurrence:a.nextDueDate,createdAt:new Date,updatedAt:new Date,createdBy:e,updatedBy:e,syncStatus:"synced",isPending:!1,lastSyncedAt:new Date};return this.transactionsService.createTransaction(e,d)}))}calculateLoanEndDate(e,r){let a=new Date(e);return a.setMonth(a.getMonth()+r),a}createLoanPaymentRecurringTransactionAfterAccountCreation(e,r){this.createLoanPaymentRecurringTransaction(this.userId,r,e.loanDetails).subscribe({next:()=>{this.notificationService.success("Loan payment recurring transaction created successfully")},error:a=>{console.error("Failed to create loan payment recurring transaction:",a),this.notificationService.warning("Account created but failed to create loan payment recurring transaction")}})}};t.\u0275fac=function(r){return new(r||t)(W(pi),W(Ei),W(mi),W(Mt),W(Ct),W(Ar),W(Sa),W(mt),W(Oo),W(So),W(Gl))},t.\u0275cmp=Le({type:t,selectors:[["app-add-account-dialog"]],decls:30,vars:13,consts:[["addButtonTooltip","Save Account",3,"addButtonClick","closeButtonClick","title","showAddButton","addButtonDisabled","isSubmitting"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-4","shadow-sm"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["type","text","formControlName","name","placeholder","e.g., Chase Checking",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"maxlength"],[1,"flex","justify-between","items-center","mt-1"],[1,"text-red-500","text-sm"],[1,"text-xs","text-gray-500"],["appearance","fill",1,"w-full"],["formControlName","type"],[3,"value"],["type","number","formControlName","balance","placeholder","0.00","step","0.01",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],[1,"text-red-500","text-sm","mt-1"],[1,"bg-amber-50","dark:bg-amber-900/20","border","border-amber-200","dark:border-amber-800","rounded-lg","p-4"],[1,"bg-blue-50","dark:bg-blue-900/20","border","border-blue-200","dark:border-blue-800","rounded-lg","p-4"],[1,"h-20"],[1,"text-sm","font-semibold","text-amber-800","dark:text-amber-200","mb-4","flex","items-center","gap-2"],[1,"text-amber-600","dark:text-amber-400"],[1,"mb-4"],["type","text","formControlName","lenderName","placeholder","e.g., Bank of America",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","number","formControlName","loanAmount","placeholder","0.00","step","0.01",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","number","formControlName","interestRate","placeholder","5.5","step","0.1",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","date","formControlName","startDate",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","number","formControlName","durationMonths","placeholder","12",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],[1,"mb-3"],[1,"flex","items-center","gap-2"],["type","checkbox","formControlName","useCalculatedPayment",1,"w-4","h-4","text-amber-600","bg-gray-100","border-gray-300","rounded","focus:ring-amber-500","dark:focus:ring-amber-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],["formControlName","repaymentFrequency"],["formControlName","status"],[1,"flex","gap-2"],["type","number","formControlName","remainingBalance","readonly","",1,"flex-1","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-gray-100","dark:bg-gray-700","text-gray-600","dark:text-gray-400"],["type","button",1,"px-4","py-3","bg-amber-600","text-white","rounded-lg","hover:bg-amber-700","focus:outline-none","focus:ring-2","focus:ring-amber-500",3,"click"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1"],["type","date","formControlName","nextDueDate",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","checkbox","formControlName","showReminder",1,"w-4","h-4","text-amber-600","bg-gray-100","border-gray-300","rounded","focus:ring-amber-500","dark:focus:ring-amber-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],["type","checkbox","formControlName","createRecurringTransaction",1,"w-4","h-4","text-amber-600","bg-gray-100","border-gray-300","rounded","focus:ring-amber-500","dark:focus:ring-amber-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1","ml-6"],[1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-gray-100","dark:bg-gray-700","text-gray-600","dark:text-gray-400","flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-amber-600","dark:text-amber-400"],["type","number","formControlName","customMonthlyPayment","placeholder","0.00","step","0.01",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],[1,"text-sm","font-semibold","text-blue-800","dark:text-blue-200","mb-4","flex","items-center","gap-2"],[1,"text-blue-600","dark:text-blue-400"],["type","number","formControlName","dueDate","placeholder","15","min","1","max","31",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","number","formControlName","billingCycleStart","placeholder","1","min","1","max","31",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","number","formControlName","creditLimit","placeholder","0.00","step","0.01","min","0",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","number","formControlName","minimumPayment","placeholder","0.00","step","0.01","min","0",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","checkbox","formControlName","creditCardShowReminder",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"]],template:function(r,a){if(r&1&&(c(0,"app-common-header",0),R("addButtonClick",function(){return a.onSubmit()})("closeButtonClick",function(){return a.onClose()}),l(),c(1,"app-common-body-content")(2,"form",1),R("ngSubmit",function(){return a.onSubmit()}),c(3,"div",2)(4,"label",3),g(5," Account Name * "),l(),oe(6,"input",4),c(7,"div",5),L(8,g4,2,0,"p",6)(9,u4,2,0,"p",6),c(10,"span",7),g(11),l()()(),c(12,"div",2)(13,"label",3),g(14," Account Type * "),l(),c(15,"mat-form-field",8)(16,"mat-label"),g(17,"Select account type"),l(),c(18,"mat-select",9),qe(19,m4,2,2,"mat-option",10,yf),l(),L(21,p4,2,0,"mat-error"),l()(),c(22,"div",2)(23,"label",3),g(24," Initial Balance * "),l(),oe(25,"input",11),L(26,f4,2,1,"p",12),l(),L(27,P4,82,6,"div",13)(28,T4,34,4,"div",14),oe(29,"div",15),l()()),r&2){let o,s,d,u;O("title",(a.dialogData!=null&&a.dialogData.accountId?"Edit":"Add")+" Account")("showAddButton",!0)("addButtonDisabled",a.accountForm.invalid)("isSubmitting",a.isSubmitting),p(2),O("formGroup",a.accountForm),p(4),O("maxlength",50),p(2),Oe((o=a.accountForm.get("name"))!=null&&o.hasError("required")&&((o=a.accountForm.get("name"))!=null&&o.touched)?8:-1),p(),Oe((s=a.accountForm.get("name"))!=null&&s.hasError("maxlength")?9:-1),p(2),ee(" ",((d=a.accountForm.get("name"))==null||d.value==null?null:d.value.length)||0,"/50 "),p(8),Ke(a.accountTypes),p(2),Oe((u=a.accountForm.get("type"))!=null&&u.hasError("required")&&((u=a.accountForm.get("type"))!=null&&u.touched)?21:-1),p(5),Oe(a.getBalanceError()?26:-1),p(),Oe(a.isLoanAccount()?27:-1),p(),Oe(a.isCreditCardAccount()?28:-1)}},dependencies:[Jn,Yt,rr,hx,Bt,Qn,pl,ks,Ss,ki,Ti,Qe,Di,na,po,Fi,Ii,Rs,Ns,Hr],styles:["[_nghost-%COMP%]{display:block;max-width:600px;width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}button[_ngcontent-%COMP%]:active{transform:translateY(0)}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.text-red-500[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.text-green-500[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}*[_ngcontent-%COMP%]{transition:background-color .3s ease,color .3s ease,border-color .3s ease}"]});let n=t;return n})();function E4(n,t){if(n&1){let i=ue();c(0,"button",14),R("click",function(){j(i);let r=y();return z(r.clearSearch())}),c(1,"mat-icon"),g(2,"clear"),l()()}}function A4(n,t){if(n&1){let i=ue();c(0,"div",15)(1,"mat-icon",16),g(2,"search_off"),l(),c(3,"p",17),g(4,"No icons found"),l(),c(5,"button",18),R("click",function(){j(i);let r=y();return z(r.clearSearch())}),g(6," Clear Search "),l()()}}function I4(n,t){if(n&1){let i=ue();c(0,"button",21),R("click",function(){let r=j(i).$implicit,a=y(2);return z(a.selectIcon(r))}),c(1,"mat-icon",22),g(2),l(),c(3,"span",23),g(4),l()()}if(n&2){let i=t.$implicit,e=y(2);Ue("selected",e.selectedIcon===i),ga("aria-label","Select "+i+" icon"),p(2),V(i),p(2),V(i)}}function D4(n,t){if(n&1&&(c(0,"div",19),L(1,I4,5,5,"button",20),l()),n&2){let i=y();p(),O("ngForOf",i.filteredIcons)("ngForTrackBy",i.trackByIcon)}}var Wb=(()=>{let t=class t{constructor(e,r){this.dialogRef=e,this.data=r,this.availableIcons=aC,this.searchTerm="",this.filteredIcons=[],this.selectedIcon=r.currentIcon||"category",this.filteredIcons=[...this.availableIcons]}ngOnInit(){this.data.availableIcons&&(this.availableIcons=this.data.availableIcons,this.filteredIcons=[...this.availableIcons])}selectIcon(e){this.selectedIcon=e,this.dialogRef.close(e)}onSearchChange(){this.searchTerm.trim()?this.filteredIcons=this.availableIcons.filter(e=>e.toLowerCase().includes(this.searchTerm.toLowerCase())):this.filteredIcons=[...this.availableIcons]}clearSearch(){this.searchTerm="",this.filteredIcons=[...this.availableIcons]}onCancel(){this.dialogRef.close()}trackByIcon(e,r){return r}};t.\u0275fac=function(r){return new(r||t)(W(mi),W(pi))},t.\u0275cmp=Le({type:t,selectors:[["app-icon-selector-dialog"]],decls:19,vars:4,consts:[[1,"icon-selector-dialog"],[1,"dialog-header"],[1,"dialog-title"],["mat-icon-button","","aria-label","Close",1,"close-button",3,"click"],[1,"search-container"],[1,"search-input-wrapper"],[1,"search-icon"],["type","text","placeholder","Search icons...","autocomplete","off","spellcheck","false",1,"search-input",3,"ngModelChange","input","ngModel"],["mat-icon-button","","class","clear-search-button","type","button","aria-label","Clear search",3,"click",4,"ngIf"],[1,"icons-container"],["class","no-results",4,"ngIf"],["class","icons-grid",4,"ngIf"],[1,"dialog-actions"],["mat-stroked-button","",1,"cancel-button",3,"click"],["mat-icon-button","","type","button","aria-label","Clear search",1,"clear-search-button",3,"click"],[1,"no-results"],[1,"no-results-icon"],[1,"no-results-text"],["mat-stroked-button","",1,"clear-search-btn",3,"click"],[1,"icons-grid"],["type","button","class","icon-option",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"icon-option",3,"click"],[1,"icon"],[1,"icon-name"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"div",1)(2,"h2",2),g(3,"Choose Icon"),l(),c(4,"button",3),R("click",function(){return a.onCancel()}),c(5,"mat-icon"),g(6,"close"),l()()(),c(7,"div",4)(8,"div",5)(9,"mat-icon",6),g(10,"search"),l(),c(11,"input",7),ut("ngModelChange",function(s){return gt(a.searchTerm,s)||(a.searchTerm=s),s}),R("input",function(){return a.onSearchChange()}),l(),L(12,E4,3,0,"button",8),l()(),c(13,"div",9),L(14,A4,7,0,"div",10)(15,D4,2,2,"div",11),l(),c(16,"div",12)(17,"button",13),R("click",function(){return a.onCancel()}),g(18," Cancel "),l()()()),r&2&&(p(11),dt("ngModel",a.searchTerm),p(),O("ngIf",a.searchTerm),p(2),O("ngIf",a.filteredIcons&&a.filteredIcons.length===0),p(),O("ngIf",a.filteredIcons&&a.filteredIcons.length>0))},dependencies:[nr,ct,Yt,Bt,li,Zt,dn,Qe],styles:[".icon-selector-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:90vh;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 10px 25px #0000001a}@media (max-width: 640px){.icon-selector-dialog[_ngcontent-%COMP%]{height:100vh;max-height:100vh;border-radius:0}}.dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.25rem 1.5rem;border-bottom:1px solid #f1f5f9;background:#fff}@media (max-width: 640px){.dialog-header[_ngcontent-%COMP%]{padding:1rem}}.dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#64748b;min-width:40px;min-height:40px;border-radius:8px}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:#334155;background:#f8fafc}.search-container[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #f1f5f9;background:#fff}@media (max-width: 640px){.search-container[_ngcontent-%COMP%]{padding:.75rem 1rem}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;color:#94a3b8;font-size:1.125rem;width:1.125rem;height:1.125rem;pointer-events:none}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem .75rem .75rem 2.25rem;border:1px solid #e2e8f0;border-radius:8px;font-size:.875rem;background:#f8fafc;transition:all .2s ease;min-height:40px}@media (max-width: 640px){.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{min-height:44px;font-size:16px}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;background:#fff;box-shadow:0 0 0 3px #3b82f61a}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .clear-search-button[_ngcontent-%COMP%]{position:absolute;right:.5rem;color:#94a3b8;min-width:28px;min-height:28px;border-radius:6px}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .clear-search-button[_ngcontent-%COMP%]:hover{color:#64748b;background:#f1f5f9}.icons-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem 1.5rem;background:#fafafa}@media (max-width: 640px){.icons-container[_ngcontent-%COMP%]{padding:.75rem 1rem}}.icons-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.icons-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.icons-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:2px}.icons-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.icons-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem}.icons-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#94a3b8;margin-bottom:.75rem}.icons-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .no-results-text[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin:0 0 1rem}.icons-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]{min-height:36px;padding:.5rem 1rem;font-size:.875rem}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(72px,1fr));gap:.5rem}@media (min-width: 768px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:.75rem}}@media (max-width: 640px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(64px,1fr));gap:.5rem}}@media (max-width: 480px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(56px,1fr));gap:.5rem}}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.75rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;cursor:pointer;transition:all .15s ease;min-height:72px;text-decoration:none}@media (min-width: 768px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{min-height:90px;padding:.75rem .5rem;justify-content:space-between}}@media (max-width: 640px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{min-height:64px;padding:.5rem}}@media (max-width: 480px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{min-height:56px;padding:.5rem}}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#f0f9ff;transform:translateY(-1px);box-shadow:0 2px 8px #3b82f61a}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#dbeafe;color:#1d4ed8;transform:translateY(-1px);box-shadow:0 2px 8px #3b82f626}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.75rem;width:1.75rem;height:1.75rem;color:inherit}@media (min-width: 768px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;margin-bottom:.25rem}}@media (max-width: 640px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}}@media (max-width: 480px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{display:none;font-size:.75rem;font-weight:500;color:#64748b;text-align:center;word-break:break-word;line-height:1.2;text-transform:capitalize;margin-top:.25rem}@media (min-width: 768px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{display:block}}.icon-option.selected[_ngcontent-%COMP%]   .icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{color:#1d4ed8;font-weight:600}.dialog-actions[_ngcontent-%COMP%]{display:flex;padding:1rem 1.5rem;border-top:1px solid #f1f5f9;background:#fff}@media (max-width: 640px){.dialog-actions[_ngcontent-%COMP%]{padding:.75rem 1rem}}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{width:100%;min-height:40px;padding:.75rem 1.5rem;font-weight:500;color:#64748b;border-color:#e2e8f0}@media (max-width: 640px){.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{min-height:44px}}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:hover{color:#334155;border-color:#cbd5e1;background:#f8fafc}@keyframes _ngcontent-%COMP%_fadeInUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.icon-selector-dialog[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .2s ease-out}"]});let n=t;return n})();function F4(n,t){if(n&1){let i=ue();c(0,"button",14),R("click",function(){j(i);let r=y();return z(r.clearSearch())}),c(1,"mat-icon"),g(2,"clear"),l()()}}function R4(n,t){if(n&1){let i=ue();c(0,"div",15)(1,"mat-icon",16),g(2,"search_off"),l(),c(3,"p",17),g(4,"No colors found"),l(),c(5,"button",18),R("click",function(){j(i);let r=y();return z(r.clearSearch())}),g(6," Clear Search "),l()()}}function N4(n,t){n&1&&(c(0,"mat-icon",23),g(1,"check"),l())}function L4(n,t){if(n&1){let i=ue();c(0,"button",21),R("click",function(){let r=j(i).$implicit,a=y(2);return z(a.selectColor(r.value))}),c(1,"span",22),g(2),l(),L(3,N4,2,0,"mat-icon",23),l()}if(n&2){let i=t.$implicit,e=y(2);kt("background-color",i.value),Ue("selected",e.selectedColor===i.value),ga("aria-label","Select "+i.label+" color"),p(2),V(i.label),p(),Oe(e.selectedColor===i.value?3:-1)}}function B4(n,t){if(n&1&&(c(0,"div",19),qe(1,L4,4,7,"button",20,Or),l()),n&2){let i=y();p(),Ke(i.filteredColors)}}var Hb=(()=>{let t=class t{constructor(e,r){this.dialogRef=e,this.data=r,this.availableColors=oC,this.searchTerm="",this.filteredColors=[],this.selectedColor=r.currentColor||"#46777f",this.filteredColors=[...this.availableColors]}ngOnInit(){}selectColor(e){this.selectedColor=e,this.dialogRef.close(e)}onSearchChange(){this.searchTerm.trim()?this.filteredColors=this.availableColors.filter(e=>e.label.toLowerCase().includes(this.searchTerm.toLowerCase())):this.filteredColors=[...this.availableColors]}clearSearch(){this.searchTerm="",this.filteredColors=[...this.availableColors]}onCancel(){this.dialogRef.close()}trackByColor(e,r){return r}};t.\u0275fac=function(r){return new(r||t)(W(mi),W(pi))},t.\u0275cmp=Le({type:t,selectors:[["app-color-selector-dialog"]],decls:19,vars:4,consts:[[1,"color-selector-dialog"],[1,"dialog-header"],[1,"dialog-title"],["mat-icon-button","","aria-label","Close",1,"close-button",3,"click"],[1,"search-container"],[1,"search-input-wrapper"],[1,"search-icon"],["type","text","placeholder","Search colors...","autocomplete","off","spellcheck","false",1,"search-input",3,"ngModelChange","input","ngModel"],["mat-icon-button","","class","clear-search-button","type","button","aria-label","Clear search",3,"click",4,"ngIf"],[1,"colors-container"],["class","no-results",4,"ngIf"],["class","colors-grid",4,"ngIf"],[1,"dialog-actions"],["mat-stroked-button","",1,"cancel-button",3,"click"],["mat-icon-button","","type","button","aria-label","Clear search",1,"clear-search-button",3,"click"],[1,"no-results"],[1,"no-results-icon"],[1,"no-results-text"],["mat-stroked-button","",1,"clear-search-btn",3,"click"],[1,"colors-grid"],["type","button",1,"color-option",3,"selected","background-color"],["type","button",1,"color-option",3,"click"],[1,"color-name"],[1,"check-icon"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"div",1)(2,"h2",2),g(3,"Choose Color"),l(),c(4,"button",3),R("click",function(){return a.onCancel()}),c(5,"mat-icon"),g(6,"close"),l()()(),c(7,"div",4)(8,"div",5)(9,"mat-icon",6),g(10,"search"),l(),c(11,"input",7),ut("ngModelChange",function(s){return gt(a.searchTerm,s)||(a.searchTerm=s),s}),R("input",function(){return a.onSearchChange()}),l(),L(12,F4,3,0,"button",8),l()(),c(13,"div",9),L(14,R4,7,0,"div",10)(15,B4,3,0,"div",11),l(),c(16,"div",12)(17,"button",13),R("click",function(){return a.onCancel()}),g(18," Cancel "),l()()()),r&2&&(p(11),dt("ngModel",a.searchTerm),p(),O("ngIf",a.searchTerm),p(2),O("ngIf",a.filteredColors.length===0),p(),O("ngIf",a.filteredColors.length>0))},dependencies:[ct,Yt,Bt,li,Zt,dn,Qe],styles:[".color-selector-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:90vh;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 10px 25px #0000001a}@media (max-width: 640px){.color-selector-dialog[_ngcontent-%COMP%]{height:100vh;max-height:100vh;border-radius:0}}.dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.25rem 1.5rem;border-bottom:1px solid #f1f5f9;background:#fff}@media (max-width: 640px){.dialog-header[_ngcontent-%COMP%]{padding:1rem}}.dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#64748b;min-width:40px;min-height:40px;border-radius:8px}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:#334155;background:#f8fafc}.search-container[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #f1f5f9;background:#fff}@media (max-width: 640px){.search-container[_ngcontent-%COMP%]{padding:.75rem 1rem}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;color:#94a3b8;font-size:1.125rem;width:1.125rem;height:1.125rem;pointer-events:none}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem .75rem .75rem 2.25rem;border:1px solid #e2e8f0;border-radius:8px;font-size:.875rem;background:#f8fafc;transition:all .2s ease;min-height:40px}@media (max-width: 640px){.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{min-height:44px;font-size:16px}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;background:#fff;box-shadow:0 0 0 3px #3b82f61a}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .clear-search-button[_ngcontent-%COMP%]{position:absolute;right:.5rem;color:#94a3b8;min-width:28px;min-height:28px;border-radius:6px}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .clear-search-button[_ngcontent-%COMP%]:hover{color:#64748b;background:#f1f5f9}.colors-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem 1.5rem;background:#fafafa}@media (max-width: 640px){.colors-container[_ngcontent-%COMP%]{padding:.75rem 1rem}}.colors-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.colors-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.colors-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:2px}.colors-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.colors-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem}.colors-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#94a3b8;margin-bottom:.75rem}.colors-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .no-results-text[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin:0 0 1rem}.colors-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]{min-height:36px;padding:.5rem 1rem;font-size:.875rem}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(72px,1fr));gap:.5rem}@media (min-width: 768px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:.75rem}}@media (max-width: 640px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(64px,1fr));gap:.5rem}}@media (max-width: 480px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(56px,1fr));gap:.5rem}}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.75rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;cursor:pointer;transition:all .15s ease;min-height:72px;position:relative}@media (min-width: 768px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{min-height:90px;padding:.75rem .5rem;justify-content:space-between}}@media (max-width: 640px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{min-height:64px;padding:.5rem}}@media (max-width: 480px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{min-height:56px;padding:.5rem}}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#f0f9ff;transform:translateY(-1px);box-shadow:0 2px 8px #3b82f61a}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;transform:translateY(-1px);box-shadow:0 2px 8px #3b82f626}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option.selected[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem;border-radius:50%;border:2px solid white;box-shadow:0 2px 4px #0000001a}@media (min-width: 768px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:2rem;height:2rem;margin-bottom:.25rem}}@media (max-width: 640px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}}@media (max-width: 480px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{display:none;font-size:.75rem;font-weight:500;font-family:Roboto Mono,monospace;color:#64748b;text-align:center;word-break:break-word;line-height:1.2;margin-top:.25rem;background-color:#ffffff80;padding:5px;border-radius:5px}@media (min-width: 768px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{display:block}}.color-option.selected[_ngcontent-%COMP%]   .colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{color:#1d4ed8;font-weight:600}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{position:absolute;top:.25rem;right:.25rem;color:#fff;font-size:.875rem;width:.875rem;height:.875rem;background:#000000b3;border-radius:50%;padding:.125rem;opacity:0;transform:scale(0);transition:all .15s ease}@media (min-width: 768px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}@media (max-width: 640px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{font-size:.75rem;width:.75rem;height:.75rem}}.dialog-actions[_ngcontent-%COMP%]{display:flex;padding:1rem 1.5rem;border-top:1px solid #f1f5f9;background:#fff}@media (max-width: 640px){.dialog-actions[_ngcontent-%COMP%]{padding:.75rem 1rem}}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{width:100%;min-height:40px;padding:.75rem 1.5rem;font-weight:500;color:#64748b;border-color:#e2e8f0}@media (max-width: 640px){.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{min-height:44px}}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:hover{color:#334155;border-color:#cbd5e1;background:#f8fafc}@keyframes _ngcontent-%COMP%_fadeInUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.color-selector-dialog[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .2s ease-out}"]});let n=t;return n})();function V4(n,t){if(n&1&&(c(0,"p",9),g(1),l()),n&2){let i=y();p(),V(i.getNameError())}}function $4(n,t){if(n&1&&(c(0,"p",9),g(1),l()),n&2){let i=y();p(),V(i.getTypeError())}}var wc=(()=>{let t=class t{constructor(e,r,a,o,s,d,u,m,f,_,x){this.dialogData=e,this.store=r,this.fb=a,this.dialogRef=o,this.auth=s,this.notificationService=d,this.router=u,this.hapticFeedback=m,this.dialog=f,this.validationService=_,this.ssrService=x,this.isSubmitting=!1,this.userId="",this.allCategories=[],this.categoryForm=this.fb.group({name:["",this.validationService.getCategoryNameValidators()],type:["expense",tt.required],icon:["category",tt.required],color:["#46777f",tt.required]}),this.destroy$=new It,this.store.select(gn).pipe(bt(this.destroy$)).subscribe(v=>{this.allCategories=v})}ngOnInit(){var e;this.userId=((e=this.auth.currentUser)==null?void 0:e.uid)||"",this.ssrService.isClientSide()&&window.addEventListener("popstate",r=>{this.dialogRef.close(),r.preventDefault()}),this.dialogData&&this.categoryForm.patchValue({name:this.dialogData.category.name,type:this.dialogData.category.type,icon:this.dialogData.category.icon||"category",color:this.dialogData.category.color||"#46777f"})}onSubmit(){return ge(this,null,function*(){var e,r;if(this.categoryForm.valid&&!this.isSubmitting&&!this.isCategoryPresent()){this.isSubmitting=!0;try{let a=this.categoryForm.value;(r=(e=this.dialogData)==null?void 0:e.category)!=null&&r.id?(yield this.store.dispatch(wa({userId:this.userId,categoryId:this.dialogData.category.id,name:a.name.trim(),categoryType:a.type,icon:a.icon,color:a.color})),this.notificationService.success("Category updated successfully")):(yield this.store.dispatch(hl({userId:this.userId,name:a.name.trim(),categoryType:a.type,icon:a.icon,color:a.color})),this.notificationService.success("Category added successfully"),this.hapticFeedback.successVibration()),this.dialogRef.close(!0)}catch(a){this.notificationService.error("Failed to save category"),console.error("Error saving category:",a)}finally{this.isSubmitting=!1}}})}onCancel(){this.dialogRef.close(!1)}selectType(e){this.categoryForm.patchValue({type:e})}getNameError(){let e=this.categoryForm.get("name");return e?this.validationService.getAccountNameError(e):""}getTypeError(){let e=this.categoryForm.get("type");return e!=null&&e.hasError("required")?"Category type is required":""}openIconSelectorDialog(){var e;this.dialog.open(Wb,{width:"90vw",maxWidth:"500px",height:"80vh",maxHeight:"600px",data:{currentIcon:(e=this.categoryForm.get("icon"))==null?void 0:e.value},disableClose:!1,autoFocus:!1}).afterClosed().subscribe(r=>{r&&(this.categoryForm.patchValue({icon:r}),this.hapticFeedback.lightVibration())})}openColorSelectorDialog(){var r;this.dialog.open(Hb,{width:"90vw",maxWidth:"500px",height:"80vh",maxHeight:"600px",data:{currentColor:(r=this.categoryForm.get("color"))==null?void 0:r.value},disableClose:!1,autoFocus:!1}).afterClosed().subscribe(a=>{a&&(this.categoryForm.patchValue({color:a}),this.hapticFeedback.lightVibration())})}isCategoryPresent(){var r,a;let e=this.allCategories.find(o=>{var s;return o.name.trim().toLowerCase()===((s=this.categoryForm.get("name"))==null?void 0:s.value.trim().toLowerCase())});return(a=(r=this.dialogData)==null?void 0:r.category)!=null&&a.id&&(e=this.allCategories.find(o=>{var s,d,u;return o.name.trim().toLowerCase()===((s=this.categoryForm.get("name"))==null?void 0:s.value.trim().toLowerCase())&&o.id!==((u=(d=this.dialogData)==null?void 0:d.category)==null?void 0:u.id)})),e&&this.notificationService.error("Category already exists"),!!e}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};t.\u0275fac=function(r){return new(r||t)(W(pi),W(mt),W(Ei),W(mi),W(Mt),W(Ct),W(on),W(Ar),W(xn),W(Sa),W(ia))},t.\u0275cmp=Le({type:t,selectors:[["app-mobile-category-add-edit-popup"]],decls:60,vars:24,consts:[[3,"addButtonClick","closeButtonClick","title","isSubmitting","showCloseButton","showAddButton","addButtonTooltip","addButtonDisabled","closeButtonTooltip"],[1,"mobile-content"],[1,"form-container"],[1,"category-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","text","formControlName","name","autofocus","","placeholder","e.g., Groceries","autofocus","",1,"form-input"],[1,"field-footer"],[1,"error-message"],[1,"character-count"],[1,"type-selector"],["type","button",1,"type-option",3,"click"],[1,"icon-selector"],["type","button",1,"icon-preview-button",3,"click"],[1,"icon-preview"],[1,"selected-icon"],[1,"icon-name"],[1,"dropdown-icon"],[1,"color-selector"],["type","button",1,"color-preview-button",3,"click"],[1,"color-preview"],[1,"color-swatch"],[1,"color-name"],[1,"bottom-spacing"]],template:function(r,a){if(r&1&&(c(0,"app-common-header",0),R("addButtonClick",function(){return a.onSubmit()})("closeButtonClick",function(){return a.onCancel()}),l(),c(1,"app-common-body-content")(2,"div",1)(3,"div",2)(4,"form",3),R("ngSubmit",function(){return a.onSubmit()}),c(5,"div",4)(6,"label",5)(7,"mat-icon",6),g(8,"label"),l(),g(9," Category Name * "),l(),oe(10,"input",7),c(11,"div",8),L(12,V4,2,1,"p",9),c(13,"span",10),g(14),l()()(),c(15,"div",4)(16,"label",5)(17,"mat-icon",6),g(18,"category"),l(),g(19," Category Type * "),l(),c(20,"div",11)(21,"button",12),R("click",function(){return a.selectType("expense")}),c(22,"mat-icon"),g(23,"trending_down"),l(),c(24,"span"),g(25,"Expense"),l()(),c(26,"button",12),R("click",function(){return a.selectType("income")}),c(27,"mat-icon"),g(28,"trending_up"),l(),c(29,"span"),g(30,"Income"),l()()(),L(31,$4,2,1,"p",9),l(),c(32,"div",4)(33,"label",5)(34,"mat-icon",6),g(35,"emoji_emotions"),l(),g(36," Category Icon * "),l(),c(37,"div",13)(38,"button",14),R("click",function(){return a.openIconSelectorDialog()}),c(39,"div",15)(40,"mat-icon",16),g(41),l(),c(42,"span",17),g(43),l()(),c(44,"mat-icon",18),g(45,"expand_more"),l()()()(),c(46,"div",4)(47,"label",5)(48,"mat-icon",6),g(49,"palette"),l(),g(50," Category Color * "),l(),c(51,"div",19)(52,"button",20),R("click",function(){return a.openColorSelectorDialog()}),c(53,"div",21),oe(54,"div",22),c(55,"span",23),g(56),l()(),c(57,"mat-icon",18),g(58,"expand_more"),l()()()(),oe(59,"div",24),l()()()()),r&2){let o,s,d,u,m,f,_,x,v,b,M;O("title",!(a.dialogData==null||a.dialogData.category==null)&&a.dialogData.category.id?"Edit":"Add Category")("isSubmitting",a.isSubmitting)("showCloseButton",!0)("showAddButton",!0)("addButtonTooltip",a.isSubmitting?"Saving...":"Save Category")("addButtonDisabled",a.categoryForm.invalid||a.isSubmitting)("closeButtonTooltip",a.isSubmitting?"Saving...":"Close"),p(4),O("formGroup",a.categoryForm),p(8),Oe(a.getNameError()&&((o=a.categoryForm.get("name"))!=null&&o.touched)?12:-1),p(2),ee(" ",((s=a.categoryForm.get("name"))==null||s.value==null?null:s.value.length)||0,"/50 "),p(7),Ue("selected",((d=a.categoryForm.get("type"))==null?null:d.value)==="expense"),p(5),Ue("selected",((u=a.categoryForm.get("type"))==null?null:u.value)==="income"),p(5),Oe(a.getTypeError()&&((m=a.categoryForm.get("type"))!=null&&m.touched)?31:-1),p(7),Ue("active",(f=a.categoryForm.get("icon"))==null?null:f.value),p(3),V(((_=a.categoryForm.get("icon"))==null?null:_.value)||"category"),p(2),V(((x=a.categoryForm.get("icon"))==null?null:x.value)||"category"),p(9),Ue("active",(v=a.categoryForm.get("color"))==null?null:v.value),p(2),kt("background-color",((b=a.categoryForm.get("color"))==null?null:b.value)||"#005cbb"),p(2),V(((M=a.categoryForm.get("color"))==null?null:M.value)||"#005cbb")}},dependencies:[Jn,Yt,Bt,Qn,ki,Ti,Qe,Rs,Ns],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto;margin-bottom:2rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .category-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .category-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;margin-top:.25rem;font-style:italic}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-hint[_ngcontent-%COMP%]{font-size:.7rem}}.type-selector[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.75rem}@media (max-width: 480px){.type-selector[_ngcontent-%COMP%]{gap:.5rem}}@media (max-width: 360px){.type-selector[_ngcontent-%COMP%]{gap:.375rem}}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:1rem;border:2px solid #e5e7eb;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:80px}@media (max-width: 480px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{padding:.75rem;min-height:70px;gap:.375rem}}@media (max-width: 360px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{padding:.625rem;min-height:60px;gap:.25rem}}.dark[_ngcontent-%COMP%]   .type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{border-color:#4b5563}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff}.type-selector[_ngcontent-%COMP%]   .type-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#dbeafe;color:#1d4ed8}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}@media (max-width: 480px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}@media (max-width: 360px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}@media (max-width: 480px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}}@media (max-width: 360px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}}.icon-selector[_ngcontent-%COMP%]{position:relative}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:48px}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px}}@media (max-width: 360px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]{border-color:#4b5563}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button.active[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]{gap:.5rem}}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;color:#3b82f6}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{color:#374151;font-family:Roboto Mono,monospace;font-size:.875rem}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{color:#f3f4f6}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{color:#6b7280;transition:transform .2s ease}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button.active[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;z-index:50;margin-top:.25rem;background:#fff;border:1px solid #d1d5db;border-radius:8px;box-shadow:0 10px 25px #00000026;max-height:300px;overflow:hidden;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]{max-height:250px}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]{background:#1f2937;border-color:#4b5563}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border-bottom:1px solid #e5e7eb}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]{padding:.625rem .875rem}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]{border-color:#374151}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151;margin:0}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.8rem}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#f3f4f6}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{min-width:32px;min-height:32px;color:#6b7280}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{min-width:28px;min-height:28px}}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]:hover{background:#f3f4f6}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]:hover{background:#374151}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);gap:.5rem;padding:1rem;max-height:250px;overflow-y:auto}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);gap:.375rem;padding:.75rem;max-height:200px}}@media (max-width: 360px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:.25rem;padding:.625rem}}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.75rem;border:1px solid #e5e7eb;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:44px}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{padding:.625rem;min-height:40px}}@media (max-width: 360px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{padding:.5rem;min-height:36px}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{border-color:#4b5563}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff;transform:scale(1.05)}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#dbeafe;color:#1d4ed8}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}}@media (max-width: 360px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.color-selector[_ngcontent-%COMP%]{position:relative}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:48px}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px}}@media (max-width: 360px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]{border-color:#4b5563}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.color-selector[_ngcontent-%COMP%]   .color-preview-button.active[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{gap:.5rem}}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-swatch[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:6px;border:2px solid #e5e7eb;flex-shrink:0}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-swatch[_ngcontent-%COMP%]{width:20px;height:20px}}@media (max-width: 360px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-swatch[_ngcontent-%COMP%]{width:18px;height:18px}}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{color:#374151;font-family:Roboto Mono,monospace;font-size:.875rem}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{color:#f3f4f6}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{color:#6b7280;transition:transform .2s ease}.color-selector[_ngcontent-%COMP%]   .color-preview-button.active[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;z-index:50;margin-top:.25rem;background:#fff;border:1px solid #d1d5db;border-radius:8px;box-shadow:0 10px 25px #00000026;max-height:300px;overflow:hidden;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]{max-height:250px}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]{background:#1f2937;border-color:#4b5563}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border-bottom:1px solid #e5e7eb}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]{padding:.625rem .875rem}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]{border-color:#374151}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151;margin:0}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.8rem}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#f3f4f6}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{min-width:32px;min-height:32px;color:#6b7280}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{min-width:28px;min-height:28px}}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]:hover{background:#f3f4f6}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]:hover{background:#374151}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(8,1fr);gap:.5rem;padding:1rem;max-height:250px;overflow-y:auto}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr);gap:.375rem;padding:.75rem;max-height:200px}}@media (max-width: 360px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);gap:.25rem;padding:.625rem}}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.75rem;border:2px solid #e5e7eb;border-radius:8px;cursor:pointer;transition:all .2s ease;min-height:44px;position:relative}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{padding:.625rem;min-height:40px}}@media (max-width: 360px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{padding:.5rem;min-height:36px}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{border-color:#4b5563}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:scale(1.1);box-shadow:0 4px 12px #00000026}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f64d}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option.selected[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-weight:700;font-size:14px;text-shadow:0 1px 2px rgba(0,0,0,.5)}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option.selected[_ngcontent-%COMP%]:after{font-size:12px}}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}.icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar, .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track, .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.dark[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track, .dark[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#374151}.icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.dark[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .dark[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6b7280}.icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.dark[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .dark[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:1rem;border:2px solid #e5e7eb;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:48px}@media (max-width: 480px){.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]{padding:.875rem;min-height:44px}}@media (max-width: 360px){.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]{padding:.75rem;min-height:40px}}.dark[_ngcontent-%COMP%]   .budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]{border-color:#4b5563}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#f0f9ff}.dark[_ngcontent-%COMP%]   .budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]:hover{background:#1e3a8a}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button.active[_ngcontent-%COMP%]{border-color:#3b82f6;background:#f0f9ff}.dark[_ngcontent-%COMP%]   .budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button.active[_ngcontent-%COMP%]{background:#1e3a8a}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{color:#6b7280;transition:transform .2s ease}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151}@media (max-width: 480px){.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{color:#f3f4f6}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .budget-icon[_ngcontent-%COMP%]{color:#3b82f6}.budget-section[_ngcontent-%COMP%]{background:#f8fafc;border-radius:8px;padding:1rem;margin-top:.5rem;border:1px solid #e2e8f0}@media (max-width: 480px){.budget-section[_ngcontent-%COMP%]{padding:.875rem;margin-top:.375rem}}@media (max-width: 360px){.budget-section[_ngcontent-%COMP%]{padding:.75rem;margin-top:.25rem}}.dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}.budget-section[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}@media (max-width: 480px){.budget-section[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{gap:.875rem}}@media (max-width: 360px){.budget-section[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{gap:.75rem}}.budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]{width:100%}.budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151}@media (max-width: 480px){.budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{color:#f3f4f6}.budget-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.budget-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.budget-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.budget-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}.form-field[_ngcontent-%COMP%]{padding:1rem}.type-selector[_ngcontent-%COMP%]{gap:.5rem}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{padding:.75rem;min-height:70px}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}.budget-section[_ngcontent-%COMP%]{padding:.75rem}.budget-section[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{gap:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}.form-field[_ngcontent-%COMP%]{padding:.875rem}.type-selector[_ngcontent-%COMP%]{gap:.375rem}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{padding:.625rem;min-height:60px}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}.budget-section[_ngcontent-%COMP%]{padding:.625rem}.budget-section[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{gap:.625rem}}@media (max-height: 500px) and (orientation: landscape){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}.form-field[_ngcontent-%COMP%]{padding:.75rem}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{min-height:60px;padding:.5rem}.budget-section[_ngcontent-%COMP%]{padding:.75rem}}@media (-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi){.form-field[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]{box-shadow:0 .5px 1.5px #0000001a}}@media (hover: none) and (pointer: coarse){.type-option[_ngcontent-%COMP%], .icon-option[_ngcontent-%COMP%], .color-option[_ngcontent-%COMP%], .budget-toggle-button[_ngcontent-%COMP%]{min-height:44px}.type-option[_ngcontent-%COMP%]:hover, .icon-option[_ngcontent-%COMP%]:hover, .color-option[_ngcontent-%COMP%]:hover, .budget-toggle-button[_ngcontent-%COMP%]:hover{transform:none}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{min-height:44px}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}']});let n=t;return n})();var ha=da(fa());var j4=["searchSelectInput"],z4=["innerSelectSearch"],Y4=[[["",8,"mat-select-search-custom-header-content"]],[["","ngxMatSelectSearchClear",""]],[["","ngxMatSelectNoEntriesFound",""]]],U4=[".mat-select-search-custom-header-content","[ngxMatSelectSearchClear]","[ngxMatSelectNoEntriesFound]"];function G4(n,t){if(n&1){let i=ue();c(0,"mat-checkbox",10),R("change",function(r){j(i);let a=y();return z(a._emitSelectAllBooleanToParent(r.checked))}),l()}if(n&2){let i=y();O("color",i.matFormField==null?null:i.matFormField.color)("checked",i.toggleAllCheckboxChecked)("indeterminate",i.toggleAllCheckboxIndeterminate)("matTooltip",i.toggleAllCheckboxTooltipMessage)("matTooltipPosition",i.toggleAllCheckboxTooltipPosition)}}function W4(n,t){n&1&&oe(0,"mat-spinner",7)}function H4(n,t){n&1&&tg(0,1)}function X4(n,t){if(n&1&&oe(0,"mat-icon",12),n&2){let i=y(2);O("svgIcon",i.closeSvgIcon)}}function q4(n,t){if(n&1&&(c(0,"mat-icon"),g(1),l()),n&2){let i=y(2);p(),ee(" ",i.closeIcon," ")}}function K4(n,t){if(n&1){let i=ue();c(0,"button",11),R("click",function(){j(i);let r=y();return z(r._reset(!0))}),L(1,H4,1,0)(2,X4,1,1,"mat-icon",12)(3,q4,2,1,"mat-icon"),l()}if(n&2){let i=y();p(),Oe(i.clearIcon?1:i.closeSvgIcon?2:3)}}function Z4(n,t){n&1&&tg(0,2)}function Q4(n,t){if(n&1&&g(0),n&2){let i=y(2);ee(" ",i.noEntriesFoundLabel," ")}}function J4(n,t){if(n&1&&(c(0,"div",9),L(1,Z4,1,0)(2,Q4,1,1),l()),n&2){let i=y();p(),Oe(i.noEntriesFound?1:2)}}var eT=(()=>{let t=class t{};wt(t,"\u0275fac",function(r){return new(r||t)}),wt(t,"\u0275dir",_c({type:t,selectors:[["","ngxMatSelectSearchClear",""]],standalone:!0}));let n=t;return n})(),tT=["ariaLabel","clearSearchInput","closeIcon","closeSvgIcon","disableInitialFocus","disableScrollToActiveOnOptionsChanged","enableClearOnEscapePressed","hideClearSearchButton","noEntriesFoundLabel","placeholderLabel","preventHomeEndKeyPropagation","searching"],nT=new Wa("mat-selectsearch-default-options"),iT=(()=>{let t=class t{};wt(t,"\u0275fac",function(r){return new(r||t)}),wt(t,"\u0275dir",_c({type:t,selectors:[["","ngxMatSelectNoEntriesFound",""]],standalone:!0}));let n=t;return n})(),Xd=(()=>{let t=class t{constructor(e,r,a,o,s,d){wt(this,"matSelect");wt(this,"changeDetectorRef");wt(this,"_viewportRuler");wt(this,"matOption");wt(this,"matFormField");wt(this,"placeholderLabel","Suche");wt(this,"type","text");wt(this,"closeIcon","close");wt(this,"closeSvgIcon");wt(this,"noEntriesFoundLabel","Keine Optionen gefunden");wt(this,"clearSearchInput",!0);wt(this,"searching",!1);wt(this,"disableInitialFocus",!1);wt(this,"enableClearOnEscapePressed",!1);wt(this,"preventHomeEndKeyPropagation",!1);wt(this,"disableScrollToActiveOnOptionsChanged",!1);wt(this,"ariaLabel","dropdown search");wt(this,"showToggleAllCheckbox",!1);wt(this,"toggleAllCheckboxChecked",!1);wt(this,"toggleAllCheckboxIndeterminate",!1);wt(this,"toggleAllCheckboxTooltipMessage","");wt(this,"toggleAllCheckboxTooltipPosition","below");wt(this,"hideClearSearchButton",!1);wt(this,"alwaysRestoreSelectedOptionsMulti",!1);wt(this,"recreateValuesArray",!1);wt(this,"toggleAll",new Mn);wt(this,"searchSelectInput");wt(this,"innerSelectSearch");wt(this,"clearIcon");wt(this,"noEntriesFound");wt(this,"_lastExternalInputValue");wt(this,"onTouched",()=>{});wt(this,"_options$",new un(null));wt(this,"optionsList$",this._options$.pipe(pr(e=>e?e.changes.pipe(Ye(r=>r.toArray()),R_(e.toArray())):_t(null))));wt(this,"optionsLength$",this.optionsList$.pipe(Ye(e=>e?e.length:0)));wt(this,"previousSelectedValues");wt(this,"_formControl",new cl("",{nonNullable:!0}));wt(this,"_showNoEntriesFound$",Zi([this._formControl.valueChanges,this.optionsLength$]).pipe(Ye(([e,r])=>!!(this.noEntriesFoundLabel&&e&&r===this.getOptionsLengthOffset()))));wt(this,"_onDestroy",new It);wt(this,"activeDescendant");this.matSelect=e,this.changeDetectorRef=r,this._viewportRuler=a,this.matOption=o,this.matFormField=s,this.applyDefaultOptions(d)}get value(){return this._formControl.value}set _options(e){this._options$.next(e)}get _options(){return this._options$.getValue()}applyDefaultOptions(e){if(e)for(let r of tT)Object.prototype.hasOwnProperty.call(e,r)&&(this[r]=e[r])}ngOnInit(){this.matOption?(this.matOption.disabled=!0,this.matOption._getHostElement().classList.add("contains-mat-select-search"),this.matOption._getHostElement().setAttribute("role","presentation")):console.error("<ngx-mat-select-search> must be placed inside a <mat-option> element"),this.matSelect.openedChange.pipe(E_(1),bt(this._onDestroy)).subscribe(e=>{e?(this.updateInputWidth(),this.disableInitialFocus||this._focus()):this.clearSearchInput&&this._reset()}),this.matSelect.openedChange.pipe(yr(1),pr(()=>{this._options=this.matSelect.options;let e=this._options.toArray()[this.getOptionsLengthOffset()];return this._options.changes.pipe(Rp(()=>{setTimeout(()=>{let r=this._options.toArray(),a=r[this.getOptionsLengthOffset()],o=this.matSelect._keyManager;o&&this.matSelect.panelOpen&&a&&((!e||!this.matSelect.compareWith(e.value,a.value)||!o.activeItem||!r.find(d=>{var u;return this.matSelect.compareWith(d.value,(u=o.activeItem)==null?void 0:u.value)}))&&o.setActiveItem(this.getOptionsLengthOffset()),setTimeout(()=>{this.updateInputWidth()})),e=a})}))})).pipe(bt(this._onDestroy)).subscribe(),this._showNoEntriesFound$.pipe(bt(this._onDestroy)).subscribe(e=>{this.matOption&&(e?this.matOption._getHostElement().classList.add("mat-select-search-no-entries-found"):this.matOption._getHostElement().classList.remove("mat-select-search-no-entries-found"))}),this._viewportRuler.change().pipe(bt(this._onDestroy)).subscribe(()=>{this.matSelect.panelOpen&&this.updateInputWidth()}),this.initMultipleHandling(),this.optionsList$.pipe(bt(this._onDestroy)).subscribe(()=>{this.changeDetectorRef.markForCheck()})}_emitSelectAllBooleanToParent(e){this.toggleAll.emit(e)}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}_isToggleAllCheckboxVisible(){return this.matSelect.multiple&&this.showToggleAllCheckbox}_handleKeydown(e){(e.key&&e.key.length===1||this.preventHomeEndKeyPropagation&&(e.key==="Home"||e.key==="End"))&&e.stopPropagation(),this.matSelect.multiple&&e.key&&e.key==="Enter"&&setTimeout(()=>this._focus()),this.enableClearOnEscapePressed&&e.key==="Escape"&&this.value&&(this._reset(!0),e.stopPropagation())}_handleKeyup(e){if(e.key==="ArrowUp"||e.key==="ArrowDown"){let r=this.matSelect._getAriaActiveDescendant(),a=this._options.toArray().findIndex(o=>o.id===r);a!==-1&&(this.unselectActiveDescendant(),this.activeDescendant=this._options.toArray()[a]._getHostElement(),this.activeDescendant.setAttribute("aria-selected","true"),this.searchSelectInput.nativeElement.setAttribute("aria-activedescendant",r))}}writeValue(e){this._lastExternalInputValue=e,this._formControl.setValue(e),this.changeDetectorRef.markForCheck()}onBlur(){this.unselectActiveDescendant(),this.onTouched()}registerOnChange(e){this._formControl.valueChanges.pipe(Qi(r=>r!==this._lastExternalInputValue),Rp(()=>this._lastExternalInputValue=void 0),bt(this._onDestroy)).subscribe(e)}registerOnTouched(e){this.onTouched=e}_focus(){if(!this.searchSelectInput||!this.matSelect.panel)return;let e=this.matSelect.panel.nativeElement,r=e.scrollTop;this.searchSelectInput.nativeElement.focus(),e.scrollTop=r}_reset(e){this._formControl.setValue(""),e&&this._focus()}initMultipleHandling(){if(!this.matSelect.ngControl){this.matSelect.multiple&&console.error("the mat-select containing ngx-mat-select-search must have a ngModel or formControl directive when multiple=true");return}this.previousSelectedValues=this.matSelect.ngControl.value,this.matSelect.ngControl.valueChanges&&this.matSelect.ngControl.valueChanges.pipe(bt(this._onDestroy)).subscribe(e=>{let r=!1;if(this.matSelect.multiple&&(this.alwaysRestoreSelectedOptionsMulti||this._formControl.value&&this._formControl.value.length)&&this.previousSelectedValues&&Array.isArray(this.previousSelectedValues)){(!e||!Array.isArray(e))&&(e=[]);let a=this.matSelect.options.map(o=>o.value);this.previousSelectedValues.forEach(o=>{!e.some(s=>this.matSelect.compareWith(s,o))&&!a.some(s=>this.matSelect.compareWith(s,o))&&(this.recreateValuesArray?e=[...e,o]:e.push(o),r=!0)})}this.previousSelectedValues=e,r&&this.matSelect._onChange(e)})}updateInputWidth(){if(!this.innerSelectSearch||!this.innerSelectSearch.nativeElement)return;let e=this.innerSelectSearch.nativeElement,r=null;for(;e&&e.parentElement;)if(e=e.parentElement,e.classList.contains("mat-select-panel")){r=e;break}r&&(this.innerSelectSearch.nativeElement.style.width=r.clientWidth+"px")}getOptionsLengthOffset(){return this.matOption?1:0}unselectActiveDescendant(){var e;(e=this.activeDescendant)==null||e.removeAttribute("aria-selected"),this.searchSelectInput.nativeElement.removeAttribute("aria-activedescendant")}};wt(t,"\u0275fac",function(r){return new(r||t)(W(Fi),W(ix),W(dC),W(Ii,8),W(Di,8),W(nT,8))}),wt(t,"\u0275cmp",Le({type:t,selectors:[["ngx-mat-select-search"]],contentQueries:function(r,a,o){if(r&1&&(Vp(o,eT,5),Vp(o,iT,5)),r&2){let s;er(s=tr())&&(a.clearIcon=s.first),er(s=tr())&&(a.noEntriesFound=s.first)}},viewQuery:function(r,a){if(r&1&&(wr(j4,7,es),wr(z4,7,es)),r&2){let o;er(o=tr())&&(a.searchSelectInput=o.first),er(o=tr())&&(a.innerSelectSearch=o.first)}},inputs:{placeholderLabel:"placeholderLabel",type:"type",closeIcon:"closeIcon",closeSvgIcon:"closeSvgIcon",noEntriesFoundLabel:"noEntriesFoundLabel",clearSearchInput:"clearSearchInput",searching:"searching",disableInitialFocus:"disableInitialFocus",enableClearOnEscapePressed:"enableClearOnEscapePressed",preventHomeEndKeyPropagation:"preventHomeEndKeyPropagation",disableScrollToActiveOnOptionsChanged:"disableScrollToActiveOnOptionsChanged",ariaLabel:"ariaLabel",showToggleAllCheckbox:"showToggleAllCheckbox",toggleAllCheckboxChecked:"toggleAllCheckboxChecked",toggleAllCheckboxIndeterminate:"toggleAllCheckboxIndeterminate",toggleAllCheckboxTooltipMessage:"toggleAllCheckboxTooltipMessage",toggleAllCheckboxTooltipPosition:"toggleAllCheckboxTooltipPosition",hideClearSearchButton:"hideClearSearchButton",alwaysRestoreSelectedOptionsMulti:"alwaysRestoreSelectedOptionsMulti",recreateValuesArray:"recreateValuesArray"},outputs:{toggleAll:"toggleAll"},standalone:!0,features:[q_([{provide:fx,useExisting:V_(()=>t),multi:!0}]),Jr],ngContentSelectors:U4,decls:13,vars:14,consts:[["innerSelectSearch",""],["searchSelectInput",""],["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner","mat-typography","mat-datepicker-content","mat-tab-header"],[1,"mat-select-search-inner-row"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"color","checked","indeterminate","matTooltip","matTooltipPosition"],["autocomplete","off",1,"mat-select-search-input",3,"keydown","keyup","blur","type","formControl","placeholder"],["diameter","16",1,"mat-select-search-spinner"],["mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear"],[1,"mat-select-search-no-entries-found"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"change","color","checked","indeterminate","matTooltip","matTooltipPosition"],["mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[3,"svgIcon"]],template:function(r,a){if(r&1){let o=ue();H_(Y4),oe(0,"input",2),c(1,"div",3,0)(3,"div",4),L(4,G4,1,5,"mat-checkbox",5),c(5,"input",6,1),R("keydown",function(d){return j(o),z(a._handleKeydown(d))})("keyup",function(d){return j(o),z(a._handleKeyup(d))})("blur",function(){return j(o),z(a.onBlur())}),l(),L(7,W4,1,0,"mat-spinner",7)(8,K4,4,1,"button",8),tg(9),l(),oe(10,"mat-divider"),l(),L(11,J4,3,1,"div",9),se(12,"async")}r&2&&(p(),Ue("mat-select-search-inner-multiple",a.matSelect.multiple)("mat-select-search-inner-toggle-all",a._isToggleAllCheckboxVisible()),p(3),Oe(a._isToggleAllCheckboxVisible()?4:-1),p(),O("type",a.type)("formControl",a._formControl)("placeholder",a.placeholderLabel),ga("aria-label",a.ariaLabel),p(2),Oe(a.searching?7:-1),p(),Oe(!a.hideClearSearchButton&&a.value&&!a.searching?8:-1),p(3),Oe(pe(12,12,a._showNoEntriesFound$)?11:-1))},dependencies:[wi,xx,Yt,Bt,ll,mo,El,Fn,Er,Qe,Pl,dn],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;z-index:100;font-size:inherit;box-shadow:none;background-color:var(--mat-sys-surface-container, var(--mat-select-panel-background-color, white))}.mat-select-search-inner.mat-select-search-inner-multiple.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]   .mat-select-search-inner-row[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-select-search-input[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;border:none;font-family:inherit;font-size:inherit;color:currentColor;outline:none;background-color:var(--mat-sys-surface-container, var(--mat-select-panel-background-color, white));padding:0 44px 0 16px;height:47px;line-height:47px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-right:16px;padding-left:44px}.mat-select-search-input[_ngcontent-%COMP%]::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-left:5px}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding-top:8px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:4px;top:0}[dir=rtl][_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{right:auto;left:4px}.mat-select-search-spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%]{right:auto;left:16px}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search{position:sticky;top:-8px;z-index:1;opacity:1;margin-top:-8px;pointer-events:all}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search .mat-icon{margin-right:0;margin-left:0}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search mat-pseudo-checkbox{display:none}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search .mdc-list-item__primary-text{opacity:1}.mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:5px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:0;padding-right:5px}"],changeDetection:0}));let n=t;return n})();var Xb=(()=>{let t=class t{};wt(t,"\u0275fac",function(r){return new(r||t)}),wt(t,"\u0275mod",Pr({type:t})),wt(t,"\u0275inj",Mr({imports:[Xd]}));let n=t;return n})();var rT=["amountInput"],aT=(n,t)=>t.accountId,oT=(n,t)=>t.value,sT=(n,t)=>t.id,cT=(n,t)=>t.categoryId;function lT(n,t){if(n&1&&(c(0,"p",6),g(1),l()),n&2){let i=y();p(),V(i.getAmountError())}}function dT(n,t){n&1&&(c(0,"p",9),g(1,"Description is required"),l())}function gT(n,t){if(n&1){let i=ue();c(0,"button",44),R("click",function(){j(i);let r=y();return z(r.openNewCategoryDialog())}),c(1,"mat-icon",45),g(2,"add"),l(),g(3,"Add "),l()}}function uT(n,t){if(n&1&&(c(0,"mat-option",24),g(1),l()),n&2){let i=t.$implicit;O("value",i.id),p(),ee(" ",i.name," ")}}function mT(n,t){if(n&1&&(c(0,"p",6),g(1),l()),n&2){let i=y();p(),V(i.getDateError())}}function pT(n,t){if(n&1){let i=ue();c(0,"button",44),R("click",function(){j(i);let r=y();return z(r.openNewAccountDialog())}),c(1,"mat-icon",45),g(2,"add"),l(),g(3," Add "),l()}}function fT(n,t){if(n&1&&(c(0,"mat-option",24),g(1),se(2,"titlecase"),l()),n&2){let i=t.$implicit;O("value",i.accountId),p(),Wt("",i.name," (",pe(2,3,i.type),")")}}function hT(n,t){n&1&&(c(0,"mat-error"),g(1,"Account is required"),l())}function _T(n,t){if(n&1&&(c(0,"mat-option",24)(1,"div",34)(2,"mat-icon",45),g(3),l(),c(4,"span"),g(5),l()()()),n&2){let i=t.$implicit;O("value",i.value),p(3),V(i.icon),p(2),V(i.label)}}function xT(n,t){if(n&1&&(c(0,"div",21)(1,"label",4),g(2," Payment Method "),l(),c(3,"mat-form-field",14)(4,"mat-label"),g(5,"Select payment method"),l(),c(6,"mat-select",46)(7,"mat-option",47),g(8,"None"),l(),qe(9,_T,6,3,"mat-option",24,oT),l()()()),n&2){let i=y();p(6),O("disabled",i.viewMode),p(3),Ke(i.paymentMethods)}}function CT(n,t){if(n&1&&(c(0,"mat-option",24)(1,"div",49)(2,"span"),g(3),l(),c(4,"span",10),g(5),l()()()),n&2){let i=t.$implicit;O("value",i.id),p(3),V(i.name),p(2),ee("",i.members.length," members")}}function bT(n,t){n&1&&(c(0,"mat-error"),g(1,"Please select a group for split transaction"),l())}function vT(n,t){if(n&1&&(c(0,"div",29)(1,"div")(2,"label",4),g(3," Select Group * "),l(),c(4,"mat-form-field",14)(5,"mat-label"),g(6,"Choose a group to split with"),l(),c(7,"mat-select",48),qe(8,CT,6,3,"mat-option",24,sT),se(10,"async"),l(),L(11,bT,2,0,"mat-error"),l()()()),n&2){let i,e=y();p(7),O("disabled",e.viewMode),p(),Ke(pe(10,2,e.groups$)),p(3),Oe((i=e.transactionForm.get("splitGroupId"))!=null&&i.hasError("required")&&((i=e.transactionForm.get("splitGroupId"))!=null&&i.touched)?11:-1)}}function yT(n,t){if(n&1&&(c(0,"div",55)(1,"span"),g(2),l(),c(3,"span",60),g(4),l()()),n&2){let i=t.$implicit;p(2),V(i.categoryName),p(2),Wt("\u20B9",i.amount.toFixed(2)," (",i.percentage.toFixed(1),"%)")}}function MT(n,t){if(n&1){let i=ue();c(0,"div",29)(1,"div",50)(2,"div",51)(3,"mat-icon",52),g(4,"category"),l(),c(5,"span",53),g(6,"Category Splits"),l()(),c(7,"div",54),qe(8,yT,5,3,"div",55,cT),c(10,"div",56)(11,"div",57)(12,"span"),g(13,"Total"),l(),c(14,"span"),g(15),l()()()()(),c(16,"div",58)(17,"button",59),R("click",function(){j(i);let r=y();return z(r.openCategorySplitDialog())}),c(18,"mat-icon",45),g(19,"edit"),l(),g(20," Edit Category Splits "),l()()()}if(n&2){let i=y();p(8),Ke(i.categorySplits),p(7),ee("\u20B9",i.getTotalSplitAmount().toFixed(2),"")}}function PT(n,t){if(n&1&&(c(0,"p"),g(1),l()),n&2){let i,e=y(2);p(),ee("\u2022 Until ",(i=e.transactionForm.get("recurringEndDate"))==null?null:i.value,"")}}function OT(n,t){if(n&1&&(c(0,"div",29)(1,"div")(2,"label",4),g(3," Repeat Every "),l(),c(4,"mat-form-field",14)(5,"mat-label"),g(6,"Select interval"),l(),c(7,"mat-select",61)(8,"mat-option",24),g(9,"Daily"),l(),c(10,"mat-option",24),g(11,"Weekly"),l(),c(12,"mat-option",24),g(13,"Monthly"),l(),c(14,"mat-option",24),g(15,"Yearly"),l()()()(),c(16,"div")(17,"label",4),g(18," Start Date "),l(),oe(19,"input",62),l(),c(20,"div")(21,"label",4),g(22," End Date (Optional) "),l(),oe(23,"input",63),c(24,"p",64),g(25,"Leave empty for unlimited recurrence"),l()(),c(26,"div",65)(27,"div",51)(28,"mat-icon",66),g(29,"info"),l(),c(30,"span",67),g(31,"Recurring Details"),l()(),c(32,"div",68)(33,"p"),g(34),l(),c(35,"p"),g(36),l(),L(37,PT,2,1,"p"),c(38,"p"),g(39,"\u2022 You'll be notified when each occurrence is due"),l()()()()),n&2){let i,e,r,a=y();p(7),O("disabled",a.viewMode),p(),O("value","daily"),p(2),O("value","weekly"),p(2),O("value","monthly"),p(2),O("value","yearly"),p(5),Ue("bg-gray-100",a.viewMode),O("min",a.recurringMinDate)("max",a.recurringMaxDate)("disabled",a.viewMode),p(4),Ue("bg-gray-100",a.viewMode),O("min",a.recurringMinDate)("max",a.recurringMaxDate)("disabled",a.viewMode),p(11),ee("\u2022 Transaction will repeat ",((i=a.transactionForm.get("recurringInterval"))==null?null:i.value)||"monthly",""),p(2),ee("\u2022 Starting from ",((e=a.transactionForm.get("recurringStartDate"))==null?null:e.value)||"today",""),p(),Oe((r=a.transactionForm.get("recurringEndDate"))!=null&&r.value?37:-1)}}function wT(n,t){if(n&1&&(c(0,"span",37),g(1),l()),n&2){let i,e=y();p(),ee(" \u20B9",(((i=e.transactionForm.get("taxAmount"))==null?null:i.value)||0).toFixed(2)," ")}}function ST(n,t){if(n&1&&(c(0,"div",72)(1,"span",70),g(2,"Tax Amount:"),l(),c(3,"span",73),g(4),l()(),c(5,"div",74)(6,"span",75),g(7,"Total Amount:"),l(),c(8,"span",76),g(9),l()()),n&2){let i,e,r=y(2);p(4),ee(" +\u20B9",(((i=r.transactionForm.get("taxAmount"))==null?null:i.value)||0).toFixed(2)," "),p(5),ee(" \u20B9",((((e=r.transactionForm.get("amount"))==null?null:e.value)||0)+(((e=r.transactionForm.get("taxAmount"))==null?null:e.value)||0)).toFixed(2)," ")}}function kT(n,t){if(n&1&&(c(0,"div",39)(1,"div",69)(2,"span",70),g(3,"Transaction Amount:"),l(),c(4,"span",71),g(5),l()(),L(6,ST,10,2),l()),n&2){let i,e,r=y();p(5),ee(" \u20B9",(((i=r.transactionForm.get("amount"))==null?null:i.value)||0).toFixed(2)," "),p(),Oe((((e=r.transactionForm.get("taxAmount"))==null?null:e.value)||0)>0?6:-1)}}function TT(n,t){n&1&&(c(0,"p",6),g(1,"Tax amount cannot be negative"),l())}function ET(n,t){n&1&&(c(0,"p",9),g(1,"Tax percentage cannot be negative"),l())}function AT(n,t){n&1&&(c(0,"p",9),g(1,"Tax percentage cannot exceed 100%"),l())}function IT(n,t){if(n&1){let i=ue();c(0,"button",78),R("click",function(){j(i);let r=y(2);return z(r.clearTaxFields())}),c(1,"mat-icon",79),g(2,"clear"),l(),g(3," Clear Tax Fields "),l()}}function DT(n,t){if(n&1&&(c(0,"div",42),L(1,IT,4,0,"button",77),l()),n&2){let i=y();p(),O("ngIf",!i.viewMode)}}var os=(()=>{let t=class t{constructor(e,r,a,o,s,d,u,m,f,_,x,v,b,M){this.dialogData=e,this.store=r,this.fb=a,this.dialogRef=o,this.auth=s,this.notificationService=d,this.router=u,this.hapticFeedback=m,this.dialog=f,this.loaderService=_,this.dateService=x,this.validationService=v,this.breakpointObserver=b,this.breakpointService=M,this.isSubmitting=!1,this.isMobile=!1,this.paymentMethods=[{value:Fs.CREDIT_CARD,label:"Credit Card",icon:"credit_card"},{value:Fs.DEBIT_CARD,label:"Debit Card",icon:"credit_card"},{value:Fs.BANK_TRANSFER,label:"Bank Transfer",icon:"account_balance"},{value:Fs.CASH,label:"Cash",icon:"money"},{value:Fs.DIGITAL_WALLET,label:"Digital Wallet",icon:"account_balance_wallet"}],this.editMode=!1,this.viewMode=!1,this.TransactionType=ht,this.categorySplits=[],this.isCategorySplit=!1,this.categoryFilterCtrl=new cl,this.filteredCategories=new Qo(1),this._onDestroy=new It,this.recurringMinDate=(0,ha.default)().add(1,"day").format("YYYY-MM-DD"),this.recurringMaxDate=(0,ha.default)().add(1,"year").format("YYYY-MM-DD"),this.store.dispatch(pC()),this.groups$=this.store.select(IC),this.categoryList$=this.store.select(gn),this.accountList$=this.store.select(Ta),this.categoryList$.subscribe(S=>{this.filteredCategories.next(S.slice())}),this.categoryFilterCtrl.valueChanges.pipe(bt(this._onDestroy)).subscribe(()=>{this.filterCategories()}),this.transactionForm=this.fb.group({payee:["",this.validationService.getTransactionPayeeValidators()],amount:["",this.validationService.getTransactionAmountValidators()],date:[(0,ha.default)().format("YYYY-MM-DD"),tt.required],description:[""],categoryId:["",tt.required],categoryName:["",tt.required],categoryType:["",tt.required],accountId:["",tt.required],taxAmount:[0,[tt.min(0)]],taxPercentage:[0,[tt.min(0),tt.max(100)]],taxes:[[]],paymentMethod:[""],isRecurring:[!1],recurringInterval:[or.MONTHLY],recurringStartDate:[(0,ha.default)().format("YYYY-MM-DD")],recurringEndDate:[(0,ha.default)().add(1,"year").format("YYYY-MM-DD")],recurringAmount:[0],recurringNotes:[""],recurringCategoryId:[""],recurringCategoryName:[""],isSplitTransaction:[!1],splitGroupId:[""],splitAmount:[0],isCategorySplit:[!1]}),this.isMobile=this.breakpointObserver.isMatched("(max-width: 640px)")}ngOnInit(){var e;this.userId=(e=this.auth.currentUser)==null?void 0:e.uid,this.initializeFormData(),window.addEventListener("popstate",r=>{this.dialogRef.close(),r.preventDefault()})}patchTransactionForm(e){var r,a,o;this.transactionForm.patchValue({payee:e.payee||"",amount:e.amount||"",date:e.date?(0,ha.default)(this.dateService.toDate(e.date)).format("YYYY-MM-DD"):(0,ha.default)().format("YYYY-MM-DD"),description:e.notes||"",categoryId:e.categoryId||"",categoryName:e.categoryName||"",categoryType:e.categoryType||e.type||"",accountId:e.accountId||"",taxAmount:e.taxAmount||0,taxPercentage:e.taxPercentage||0,taxes:e.taxes||[],paymentMethod:e.paymentMethod||"",isRecurring:e.isRecurring||!1,recurringInterval:e.recurringInterval||or.MONTHLY,recurringStartDate:e.nextOccurrence?(0,ha.default)(this.dateService.toDate(e.nextOccurrence)).format("YYYY-MM-DD"):(0,ha.default)().format("YYYY-MM-DD"),recurringEndDate:e.recurringEndDate?(0,ha.default)(this.dateService.toDate(e.recurringEndDate)).format("YYYY-MM-DD"):(0,ha.default)().add(1,"year").format("YYYY-MM-DD")}),(r=this.transactionForm.get("isSplitTransaction"))==null||r.setValue(e.isSplitTransaction||!1),(a=this.transactionForm.get("splitGroupId"))==null||a.setValue(e.splitGroupId||""),(o=this.transactionForm.get("splitAmount"))==null||o.setValue(e.splitAmount||0),this.onCategoryChange(e.categoryId)}initializeFormData(){var e,r,a;((e=this.dialogData)==null?void 0:e.mode)==="view"&&((r=this.dialogData)!=null&&r.transaction)?(this.viewMode=!0,this.editMode=!1,this.patchTransactionForm(this.dialogData.transaction),this.transactionForm.disable()):(a=this.dialogData)!=null&&a.id?(this.editMode=!0,this.patchTransactionForm(this.dialogData)):(this.transactionForm.patchValue({payee:"",amount:"",date:(0,ha.default)().format("YYYY-MM-DD"),description:"",categoryId:"",categoryName:"",categoryType:"",accountId:"",taxAmount:0,taxPercentage:0,taxes:[],paymentMethod:""}),this.getRecentTransaction())}getRecentTransaction(){this.store.select($C).pipe(yr(1)).subscribe(e=>{e&&this.transactionForm.patchValue({categoryName:e.category,categoryType:e.type,categoryId:e.categoryId,payee:e.payee,accountId:e.accountId,isSplitTransaction:e.isSplitTransaction,splitGroupId:e.splitGroupId})})}ngAfterViewInit(){this.viewMode||setTimeout(()=>{this.amountInput&&this.amountInput.nativeElement.focus()},200)}onSubmit(){return ge(this,null,function*(){var e,r,a,o,s,d,u,m;if(!this.viewMode){if(this.transactionForm.markAllAsTouched(),(e=this.transactionForm.get("isSplitTransaction"))!=null&&e.value&&!((r=this.transactionForm.get("splitGroupId"))!=null&&r.value)){this.notificationService.error("Please select a group for split transaction");return}if(this.transactionForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{this.loaderService.show();let f=this.transactionForm.value,_={payee:f.payee,accountId:f.accountId,amount:parseFloat(f.amount),category:f.categoryName,categoryId:f.categoryId,type:f.categoryType,date:new Date(f.date+" "+this.dateService.now().toDate().toLocaleTimeString()),notes:f.description,taxAmount:f.taxAmount||0,taxPercentage:f.taxPercentage||0,taxes:f.taxes||[],paymentMethod:f.paymentMethod||"",isRecurring:f.isRecurring||!1,recurringInterval:f.recurringInterval||or.MONTHLY,recurringEndDate:f.recurringEndDate?new Date(f.recurringEndDate):null,nextOccurrence:f.isRecurring?new Date(f.recurringStartDate||f.date):null,status:uo.COMPLETED,isSplitTransaction:f.isSplitTransaction||!1,splitGroupId:f.splitGroupId||"",isCategorySplit:this.isCategorySplit,categorySplits:this.categorySplits,totalSplitAmount:this.categorySplits.reduce((x,v)=>x+v.amount,0),updatedBy:this.userId,updatedAt:new Date};if((a=this.dialogData)!=null&&a.id)yield this.store.dispatch(As({userId:this.userId,transactionId:this.dialogData.id,transaction:_})),this.notificationService.success("Transaction updated successfully");else{let x=yield this.store.dispatch(Es({userId:this.userId,transaction:de(ce({userId:this.userId},_),{syncStatus:Ai.PENDING,createdAt:new Date,updatedAt:new Date,createdBy:this.userId,updatedBy:this.userId})}));this.notificationService.success("Transaction added successfully"),this.hapticFeedback.successVibration()}f.isSplitTransaction&&this.router.navigate(["/dashboard/splitwise/group",f.splitGroupId]),this.dialogRef.close(!0)}catch(f){console.error("Error saving transaction:",f),this.notificationService.error("Failed to save transaction")}finally{this.isSubmitting=!1,this.loaderService.hide()}}else(o=this.transactionForm.get("payee"))!=null&&o.errors,(s=this.transactionForm.get("amount"))!=null&&s.errors,(d=this.transactionForm.get("categoryId"))!=null&&d.errors,(u=this.transactionForm.get("categoryType"))!=null&&u.errors,(m=this.transactionForm.get("accountId"))!=null&&m.errors}})}onClose(){this.dialogRef.close()}getAmountError(){let e=this.transactionForm.get("amount");return e?this.validationService.getTransactionAmountError(e):""}getDateError(){let e=this.transactionForm.get("date");return e!=null&&e.hasError("required")?"Date is required":""}openNewAccountDialog(){this.dialog.open(Hd,{data:null,disableClose:!0,panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"desktop-dialog"})}openEditAccountDialog(e){this.dialog.open(Hd,{data:e,disableClose:!0,panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"desktop-dialog"})}openNewCategoryDialog(){this.dialog.open(wc,{data:null,disableClose:!0,panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"desktop-dialog"})}onCategoryChange(e){e&&this.categoryList$.pipe(yr(1),Ye(r=>r.find(a=>a.id===e)),Qi(r=>!!r)).subscribe(r=>{this.transactionForm.patchValue({categoryId:r.id,categoryName:r.name,categoryType:r.type,payee:this.editMode?this.dialogData.payee:r.name})})}onTaxPercentageChange(){var a,o;let e=((a=this.transactionForm.get("amount"))==null?void 0:a.value)||0,r=((o=this.transactionForm.get("taxPercentage"))==null?void 0:o.value)||0;if(e>0&&r>0){let s=e*r/100;this.transactionForm.patchValue({taxAmount:parseFloat(s.toFixed(2))},{emitEvent:!1})}}onTaxAmountChange(){var a,o;let e=((a=this.transactionForm.get("amount"))==null?void 0:a.value)||0,r=((o=this.transactionForm.get("taxAmount"))==null?void 0:o.value)||0;if(e>0&&r>0){let s=r/e*100;this.transactionForm.patchValue({taxPercentage:parseFloat(s.toFixed(2))},{emitEvent:!1})}}onAmountChange(){var a,o;let e=((a=this.transactionForm.get("amount"))==null?void 0:a.value)||0,r=((o=this.transactionForm.get("taxAmount"))==null?void 0:o.value)||0;if(e>0&&r>0){let s=r/e*100;this.transactionForm.patchValue({taxPercentage:parseFloat(s.toFixed(2))},{emitEvent:!1})}}clearTaxFields(){this.transactionForm.patchValue({taxAmount:0,taxPercentage:0,taxes:[]})}toggleSplitTransaction(){var r;let e=this.transactionForm.get("splitGroupId");(r=this.transactionForm.get("isSplitTransaction"))!=null&&r.value?e==null||e.setValidators([tt.required]):(e==null||e.clearValidators(),e==null||e.setValue("")),e==null||e.updateValueAndValidity()}openSplitwise(){this.router.navigate(["/dashboard/splitwise"])}openCategorySplitDialog(){var r,a;this.dialog.open(jC,{width:"600px",maxWidth:"90vw",data:{totalAmount:((r=this.transactionForm.get("amount"))==null?void 0:r.value)||0,existingSplits:this.categorySplits,transactionType:((a=this.transactionForm.get("categoryType"))==null?void 0:a.value)||"expense"}}).afterClosed().subscribe(o=>{o&&(this.categorySplits=o,this.isCategorySplit=!0,this.transactionForm.patchValue({isCategorySplit:!0}),this.notificationService.success("Category splits configured successfully"))})}clearCategorySplits(){this.categorySplits=[],this.isCategorySplit=!1,this.transactionForm.patchValue({isCategorySplit:!1})}getTotalSplitAmount(){return this.categorySplits.reduce((e,r)=>e+r.amount,0)}filterCategories(){this.categoryList$&&this.categoryList$.pipe(yr(1)).subscribe(e=>{let r=this.categoryFilterCtrl.value;if(r)r=r.toLowerCase();else{this.filteredCategories.next(e.slice());return}let a=e.filter(o=>o.name.toLowerCase().indexOf(r)>-1);this.filteredCategories.next(a)})}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}};t.\u0275fac=function(r){return new(r||t)(W(pi),W(mt),W(Ei),W(mi),W(Mt),W(Ct),W(on),W(Ar),W(xn),W(Al),W(Vt),W(Sa),W(Tr),W(sr))},t.\u0275cmp=Le({type:t,selectors:[["app-mobile-add-transaction"]],viewQuery:function(r,a){if(r&1&&wr(rT,5),r&2){let o;er(o=tr())&&(a.amountInput=o.first)}},decls:102,vars:54,consts:[["amountInput",""],["addButtonTooltip","Save Transaction",3,"addButtonClick","closeButtonClick","title","showAddButton","addButtonDisabled","isSubmitting"],[1,"space-y-6",3,"ngSubmit","keydown.enter","formGroup"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-4","shadow-sm","space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["type","number","formControlName","amount","placeholder","0.00","step","0.01",1,"w-full","text-2xl","font-bold","text-center","py-3","px-4","border-0","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","rounded-lg",3,"input","disabled"],[1,"text-red-500","text-sm","mt-1"],["type","text","formControlName","payee","placeholder","Enter description",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"maxlength","disabled"],[1,"flex","justify-between","items-center","mt-1"],[1,"text-red-500","text-sm"],[1,"text-xs","text-gray-500"],[1,"flex","items-center","justify-between","mb-2"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","button","class","text-xs text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium flex items-center gap-1",3,"click",4,"ngIf"],["appearance","fill",1,"w-full"],["formControlName","categoryId",3,"selectionChange","disabled"],["placeholderLabel","Search categories...","noEntriesFoundLabel","No categories found",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"relative"],["type","date","formControlName","date",1,"w-full","py-3","px-4","pr-10","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","[&::-webkit-calendar-picker-indicator]:bg-none","[&::-webkit-calendar-picker-indicator]:bg-transparent","[&::-webkit-calendar-picker-indicator]:opacity-0","[&::-webkit-calendar-picker-indicator]:absolute","[&::-webkit-calendar-picker-indicator]:right-0","[&::-webkit-calendar-picker-indicator]:top-0","[&::-webkit-calendar-picker-indicator]:w-full","[&::-webkit-calendar-picker-indicator]:h-full","[&::-webkit-calendar-picker-indicator]:cursor-pointer",3,"disabled"],[1,"absolute","right-3","top-1/2","transform","-translate-y-1/2","text-gray-400","pointer-events-none"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-4","shadow-sm"],[1,"space-y-2"],["formControlName","accountId",3,"disabled"],[3,"value"],["class","bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",4,"ngIf"],["formControlName","description","placeholder","Add any additional notes...",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","resize-none",3,"rows","disabled"],[1,"flex","items-center","justify-between","mb-4"],["formControlName","isSplitTransaction",3,"change","disabled"],[1,"space-y-4"],["formControlName","isCategorySplit",3,"change","disabled"],["formControlName","isRecurring",3,"disabled"],[1,"bg-white","dark:bg-gray-800","shadow-sm","border-0"],[1,"px-4","py-3"],[1,"flex","items-center","gap-2"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800","dark:bg-blue-900","dark:text-blue-200"],[1,"space-y-4","px-4","pb-4"],[1,"bg-gray-50","dark:bg-gray-700","rounded-lg","p-3"],["type","number","formControlName","taxAmount","placeholder","0.00","step","0.01",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input","disabled"],["type","number","formControlName","taxPercentage","placeholder","0","step","0.01","min","0","max","100",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input","disabled"],[1,"pt-2"],[1,"h-20"],["type","button",1,"text-xs","text-blue-600","dark:text-blue-400","hover:text-blue-800","dark:hover:text-blue-300","font-medium","flex","items-center","gap-1",3,"click"],[1,"text-sm"],["formControlName","paymentMethod",3,"disabled"],["value",""],["formControlName","splitGroupId",3,"disabled"],[1,"flex","items-center","justify-between","w-full"],[1,"bg-green-50","dark:bg-green-900/20","rounded-lg","p-3"],[1,"flex","items-center","gap-2","mb-2"],[1,"text-sm","text-green-600","dark:text-green-400"],[1,"text-sm","font-medium","text-green-800","dark:text-green-200"],[1,"text-sm","text-green-700","dark:text-green-300","space-y-1"],[1,"flex","justify-between","items-center"],[1,"border-t","border-green-200","dark:border-green-700","mt-2","pt-2"],[1,"flex","justify-between","items-center","font-medium"],[1,"flex","justify-center"],["type","button",1,"flex","items-center","gap-2","px-4","py-2","text-sm","font-medium","text-blue-600","bg-blue-50","hover:bg-blue-100","dark:text-blue-400","dark:bg-blue-900/20","dark:hover:bg-blue-900/40","rounded-lg","transition-colors","duration-200",3,"click"],[1,"font-medium"],["formControlName","recurringInterval",3,"disabled"],["type","date","formControlName","recurringStartDate",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"min","max","disabled"],["type","date","formControlName","recurringEndDate",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"min","max","disabled"],[1,"text-xs","text-gray-500","mt-1"],[1,"bg-blue-50","dark:bg-blue-900/20","rounded-lg","p-3"],[1,"text-sm","text-blue-600","dark:text-blue-400"],[1,"text-sm","font-medium","text-blue-800","dark:text-blue-200"],[1,"text-sm","text-blue-700","dark:text-blue-300","space-y-1"],[1,"flex","justify-between","items-center","text-sm"],[1,"text-gray-600","dark:text-gray-300"],[1,"font-medium","text-gray-900","dark:text-gray-100"],[1,"flex","justify-between","items-center","text-sm","mt-1"],[1,"font-medium","text-red-600","dark:text-red-400"],[1,"flex","justify-between","items-center","text-sm","mt-2","pt-2","border-t","border-gray-200","dark:border-gray-600"],[1,"font-medium","text-gray-700","dark:text-gray-300"],[1,"font-bold","text-green-600","dark:text-green-400"],["type","button","class","w-full py-2 px-4 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",3,"click",4,"ngIf"],["type","button",1,"w-full","py-2","px-4","text-sm","text-gray-600","dark:text-gray-400","hover:text-gray-800","dark:hover:text-gray-200","border","border-gray-300","dark:border-gray-600","rounded-lg","hover:bg-gray-50","dark:hover:bg-gray-700","transition-colors","duration-200",3,"click"],[1,"text-sm","mr-2"]],template:function(r,a){if(r&1){let o=ue();c(0,"app-common-header",1),R("addButtonClick",function(){return j(o),z(a.onSubmit())})("closeButtonClick",function(){return j(o),z(a.onClose())}),l(),c(1,"app-common-body-content")(2,"form",2),R("ngSubmit",function(){return j(o),z(a.onSubmit())})("keydown.enter",function(){return j(o),z(!a.viewMode&&a.onSubmit())}),c(3,"div",3)(4,"div")(5,"label",4),g(6," Amount * "),l(),c(7,"input",5,0),R("input",function(){return j(o),z(a.onAmountChange())}),l(),L(9,lT,2,1,"p",6),l(),c(10,"div")(11,"label",4),g(12," Description * "),l(),oe(13,"input",7),c(14,"div",8),L(15,dT,2,0,"p",9),c(16,"span",10),g(17),l()()(),c(18,"div")(19,"div",11)(20,"label",12),g(21," Category "),l(),L(22,gT,4,0,"button",13),l(),c(23,"mat-form-field",14)(24,"mat-label"),g(25,"Select a category"),l(),c(26,"mat-select",15),R("selectionChange",function(d){return j(o),z(a.onCategoryChange(d.value))}),c(27,"mat-option"),oe(28,"ngx-mat-select-search",16),l(),L(29,uT,2,2,"mat-option",17),se(30,"async"),l()()(),c(31,"div")(32,"label",4),g(33," Date * "),l(),c(34,"div",18),oe(35,"input",19),c(36,"mat-icon",20),g(37," calendar_today "),l()(),L(38,mT,2,1,"p",6),l()(),c(39,"div",21)(40,"div",11)(41,"label",12),g(42," Account * "),l(),L(43,pT,4,0,"button",13),l(),c(44,"div",22)(45,"mat-form-field",14)(46,"mat-label"),g(47,"Select an account"),l(),c(48,"mat-select",23),qe(49,fT,3,5,"mat-option",24,aT),se(51,"async"),l(),L(52,hT,2,0,"mat-error"),l()()(),L(53,xT,11,1,"div",25),c(54,"div",21)(55,"label",4),g(56," Notes "),l(),oe(57,"textarea",26),l(),c(58,"div",21)(59,"div",27)(60,"label",12),g(61," Split with Group "),l(),c(62,"mat-slide-toggle",28),R("change",function(){return j(o),z(a.toggleSplitTransaction())}),l()(),L(63,vT,12,4,"div",29),l(),c(64,"div",21)(65,"div",27)(66,"label",12),g(67," Split by Category "),l(),c(68,"mat-slide-toggle",30),R("change",function(){let d;return j(o),z((d=a.transactionForm.get("isCategorySplit"))!=null&&d.value?a.openCategorySplitDialog():a.clearCategorySplits())}),l()(),L(69,MT,21,1,"div",29),l(),c(70,"div",21)(71,"div",27)(72,"label",12),g(73," Recurring Transaction "),l(),oe(74,"mat-slide-toggle",31),l(),L(75,OT,40,18,"div",29),l(),c(76,"mat-expansion-panel",32)(77,"mat-expansion-panel-header",33)(78,"mat-panel-title",34)(79,"mat-icon",35),g(80,"receipt"),l(),c(81,"span",36),g(82," Tax Information (Optional) "),l(),L(83,wT,2,1,"span",37),l()(),c(84,"div",38),L(85,kT,7,2,"div",39),c(86,"div")(87,"label",4),g(88," Tax Amount "),l(),c(89,"input",40),R("input",function(){return j(o),z(a.onTaxAmountChange())}),l(),L(90,TT,2,0,"p",6),l(),c(91,"div")(92,"label",4),g(93," Tax Percentage (%) "),l(),c(94,"input",41),R("input",function(){return j(o),z(a.onTaxPercentageChange())}),l(),c(95,"div",8),L(96,ET,2,0,"p",9)(97,AT,2,0,"p",9),c(98,"span",10),g(99),l()()(),L(100,DT,2,1,"div",42),l()(),oe(101,"div",43),l()()}if(r&2){let o,s,d,u,m,f,_,x,v,b,M,S,w,T;O("title",a.viewMode?"View":(a.dialogData!=null&&a.dialogData.id?"Edit":"Add")+" Transaction")("showAddButton",!a.viewMode)("addButtonDisabled",a.transactionForm.invalid)("isSubmitting",a.isSubmitting),p(2),O("formGroup",a.transactionForm),p(5),Ue("bg-gray-100",a.viewMode),O("disabled",a.viewMode),p(2),Oe(a.getAmountError()&&((o=a.transactionForm.get("amount"))!=null&&o.touched)?9:-1),p(4),Ue("bg-gray-100",a.viewMode),O("maxlength",45)("disabled",a.viewMode),p(2),Oe((s=a.transactionForm.get("payee"))!=null&&s.hasError("required")&&((s=a.transactionForm.get("payee"))!=null&&s.touched)?15:-1),p(2),ee(" ",((d=a.transactionForm.get("payee"))==null||d.value==null?null:d.value.length)||0,"/45 "),p(5),O("ngIf",!a.viewMode),p(4),O("disabled",a.viewMode),p(2),O("formControl",a.categoryFilterCtrl),p(),O("ngForOf",pe(30,50,a.filteredCategories)),p(6),Ue("bg-gray-100",a.viewMode),O("disabled",a.viewMode),p(3),Oe(a.getDateError()?38:-1),p(5),O("ngIf",!a.viewMode),p(5),O("disabled",a.viewMode),p(),Ke(pe(51,52,a.accountList$)),p(3),Oe((u=a.transactionForm.get("accountId"))!=null&&u.hasError("required")&&((u=a.transactionForm.get("accountId"))!=null&&u.touched)?52:-1),p(),O("ngIf",((m=a.transactionForm.get("type"))==null?null:m.value)===a.TransactionType.EXPENSE),p(4),Ue("bg-gray-100",a.viewMode),O("rows",3)("disabled",a.viewMode),p(5),O("disabled",a.viewMode),p(),Oe((f=a.transactionForm.get("isSplitTransaction"))!=null&&f.value?63:-1),p(5),O("disabled",a.viewMode),p(),Oe(a.isCategorySplit&&a.categorySplits.length>0?69:-1),p(5),O("disabled",a.viewMode),p(),Oe((_=a.transactionForm.get("isRecurring"))!=null&&_.value?75:-1),p(8),Oe((((x=a.transactionForm.get("taxAmount"))==null?null:x.value)||0)>0||(((x=a.transactionForm.get("taxPercentage"))==null?null:x.value)||0)>0?83:-1),p(2),Oe((((v=a.transactionForm.get("amount"))==null?null:v.value)||0)>0?85:-1),p(4),Ue("bg-gray-100",a.viewMode),O("disabled",a.viewMode),p(),Oe((b=a.transactionForm.get("taxAmount"))!=null&&b.hasError("min")&&((b=a.transactionForm.get("taxAmount"))!=null&&b.touched)?90:-1),p(4),Ue("bg-gray-100",a.viewMode),O("disabled",a.viewMode),p(2),Oe((M=a.transactionForm.get("taxPercentage"))!=null&&M.hasError("min")&&((M=a.transactionForm.get("taxPercentage"))!=null&&M.touched)?96:-1),p(),Oe((S=a.transactionForm.get("taxPercentage"))!=null&&S.hasError("max")&&((S=a.transactionForm.get("taxPercentage"))!=null&&S.touched)?97:-1),p(2),ee(" ",((w=a.transactionForm.get("taxPercentage"))==null?null:w.value)||0,"% "),p(),Oe((((T=a.transactionForm.get("taxAmount"))==null?null:T.value)||0)>0||(((T=a.transactionForm.get("taxPercentage"))==null?null:T.value)||0)>0?100:-1)}},dependencies:[nr,ct,Jn,Yt,rr,Bt,Qn,pl,ks,Ss,ll,ki,Ti,Qe,Di,na,po,Fi,Ii,Aa,zC,YC,UC,Rs,Ns,Xd,wi,ir],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;font-size:16px}.dark   [_nghost-%COMP%]{background-color:#111827}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;transform:scale(1.01);transition:transform .15s ease-out}button[_ngcontent-%COMP%]{transition:transform .15s ease-out,opacity .15s ease-out;will-change:transform}button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px)}button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield;-webkit-appearance:none;appearance:none}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0}.overflow-y-auto[_ngcontent-%COMP%]{scroll-behavior:smooth;-webkit-overflow-scrolling:touch;overscroll-behavior:contain}.bg-white[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]{transition:transform .15s ease-out,box-shadow .15s ease-out;will-change:transform}.bg-white[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000014}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.text-red-500[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .4s ease-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-3px)}75%{transform:translate(3px)}}.text-green-500[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse .4s ease-out}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}@media (max-width: 768px){[_nghost-%COMP%]{font-size:16px}button[_ngcontent-%COMP%]{min-height:44px;min-width:44px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:16px;padding:12px 16px;border-radius:8px}.text-2xl[_ngcontent-%COMP%]{font-size:1.75rem;line-height:1.2}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{transform:none}button[_ngcontent-%COMP%]:hover:not(:disabled){transform:none}.bg-white[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]:hover{transform:none}}@media (max-width: 480px){[_nghost-%COMP%]{font-size:16px}.p-4[_ngcontent-%COMP%]{padding:1rem}button[_ngcontent-%COMP%]{min-height:48px;min-width:48px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:16px;padding:14px 16px}}@media (min-width: 769px){button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px)}.bg-white[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000014}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{transform:scale(1.01)}}@media (-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi){.bg-white[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000001a}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%], .bg-white[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]{transform:none!important;transition:none!important}}*[_ngcontent-%COMP%]{transition:background-color .2s ease,color .2s ease,border-color .2s ease}button[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px}"]});let n=t;return n})();var FT=n=>({"lg:pb-0":n});function RT(n,t){if(n&1){let i=ue();c(0,"footer",0)(1,"div",1)(2,"div",2)(3,"button",3),R("click",function(){j(i);let r=y();return z(r.home())}),c(4,"div",4),R("click",function(){j(i);let r=y();return z(r.home())}),c(5,"mat-icon",5),g(6,"home"),l()(),c(7,"span",6),g(8,"Home"),l()(),c(9,"button",3),R("click",function(){j(i);let r=y();return z(r.quickExpense())}),c(10,"div",4),R("click",function(){j(i);let r=y();return z(r.quickExpense())}),c(11,"mat-icon",5),g(12,"trending_down"),l()(),c(13,"span",6),g(14,"Expense"),l()(),c(15,"button",3),R("click",function(){j(i);let r=y();return z(r.addTransaction())}),c(16,"div",7)(17,"mat-icon",8),g(18,"add_circle"),l()(),c(19,"span",9),g(20,"Add"),l()(),c(21,"button",3),R("click",function(){j(i);let r=y();return z(r.navigateTo("/dashboard/category"))}),c(22,"div",4),R("click",function(){j(i);let r=y();return z(r.navigateTo("/dashboard/category"))}),c(23,"mat-icon",5),g(24,"layers"),l()(),c(25,"span",6),g(26,"Category"),l()(),c(27,"button",3),R("click",function(){j(i);let r=y();return z(r.navigateTo("/dashboard/accounts"))}),c(28,"div",4),R("click",function(){j(i);let r=y();return z(r.navigateTo("/dashboard/accounts"))}),c(29,"mat-icon",5),g(30,"account_balance"),l()(),c(31,"span",6),g(32,"Accounts"),l()()()()()}if(n&2){let i=y();p(),O("ngClass",qa(25,FT,i.breakpointService.device.isDesktop)),p(3),Tt(i.isHomeActive()?"bg-primary text-white hover:bg-primary/90":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"),p(),Tt(i.isHomeActive()?"text-white":"text-gray-600 dark:text-gray-400"),p(2),Tt(i.isHomeActive()?"text-primary dark:text-primary":"text-gray-700 dark:text-gray-300"),p(3),Tt(i.isExpenseActive()?"bg-primary text-white hover:bg-primary/90":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"),p(),Tt(i.isExpenseActive()?"text-white":"text-gray-600 dark:text-gray-400"),p(2),Tt(i.isExpenseActive()?"text-primary dark:text-primary":"text-gray-700 dark:text-gray-300"),p(9),Tt(i.isCategoryActive()?"bg-primary text-white hover:bg-primary/90":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"),p(),Tt(i.isCategoryActive()?"text-white":"text-gray-600 dark:text-gray-400"),p(2),Tt(i.isCategoryActive()?"text-primary dark:text-primary":"text-gray-700 dark:text-gray-300"),p(3),Tt(i.isAccountsActive()?"bg-primary text-white hover:bg-primary/90":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"),p(),Tt(i.isAccountsActive()?"text-white":"text-gray-600 dark:text-gray-400"),p(2),Tt(i.isAccountsActive()?"text-primary dark:text-primary":"text-gray-700 dark:text-gray-300")}}var Zb=(()=>{let t=class t{constructor(e,r,a,o,s){this.commonSyncService=e,this.router=r,this._dialog=a,this.hapticFeedback=o,this.breakpointService=s,this.hideFooter=!1,this.hideFooterForRoutes=[]}ngOnInit(){this.routeSubscription=this.router.events.pipe(Qi(e=>e instanceof sg)).subscribe(()=>{this.hideFooter=this.hideFooterForRoutes.includes(this.router.url)})}ngOnDestroy(){var e;(e=this.routeSubscription)==null||e.unsubscribe()}isHomeActive(){return this.router.url==="/dashboard"||this.router.url==="/dashboard/home"}isExpenseActive(){return this.router.url==="/dashboard/transactions"}isReportsActive(){return this.router.url==="/dashboard/reports"}isCategoryActive(){return this.router.url==="/dashboard/category"}isAccountsActive(){return this.router.url==="/dashboard/accounts"}isMoreActive(){return["/dashboard/accounts","/dashboard/budgets","/dashboard/goals","/dashboard/notes","/dashboard/tax","/dashboard/subscription"].includes(this.router.url)}addTransaction(){this._dialog.open(os,{panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"desktop-dialog"})}home(){this.router.navigate(["/dashboard/home"]),this.hapticFeedback.buttonClick()}quickExpense(){this.router.navigate(["/dashboard/transactions"])}reports(){console.log("Quick transfer clicked"),this.router.navigate(["/dashboard/reports"])}scanReceipt(){console.log("Scan receipt clicked"),alert("Receipt scanning feature coming soon!")}openAddTransactionModal(){console.log("Open add transaction modal clicked"),this.router.navigate(["/dashboard/add-transaction"])}openSettings(){console.log("Settings clicked"),this.router.navigate(["/dashboard/settings"])}openReports(){console.log("Reports clicked"),this.router.navigate(["/dashboard/reports"])}openSearch(){console.log("Search clicked"),alert("Search feature coming soon!")}onMoreMenuClick(){this.hapticFeedback.buttonClick(),console.log("More menu clicked")}navigateTo(e){this.router.navigate([e])}getAppVersion(){return new Date().toISOString().split("T")[0]}getNetworkStatusClass(){let e=this.commonSyncService.getCurrentNetworkStatus();return e.online?e.effectiveType==="4g"?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300":e.effectiveType==="3g"?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-300":"bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-300":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300"}getNetworkIndicatorClass(){let e=this.commonSyncService.getCurrentNetworkStatus();return e.online?e.effectiveType==="4g"?"bg-green-500":e.effectiveType==="3g"?"bg-yellow-500":"bg-gray-500":"bg-red-500"}getNetworkStatusText(){let e=this.commonSyncService.getCurrentNetworkStatus();return e.online?e.effectiveType==="4g"?"4G":e.effectiveType==="3g"?"3G":e.effectiveType==="2g"?"2G":"Online":"Offline"}};t.\u0275fac=function(r){return new(r||t)(W(pa),W(on),W(xn),W(Ar),W(sr))},t.\u0275cmp=Le({type:t,selectors:[["app-footer"]],decls:1,vars:1,consts:[[1,"flex-shrink-0","bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700"],[1,"px-2","py-3","lg:px-4","lg:py-2",3,"ngClass"],[1,"grid","grid-cols-5","gap-2","lg:max-w-md","lg:mx-auto","lg:gap-1"],[1,"group","flex","flex-col","items-center","gap-2","lg:gap-1",3,"click"],[1,"w-10","h-10","lg:w-8","lg:h-8","rounded-xl","flex","items-center","justify-center","shadow-md","transition-all","duration-200","hover:scale-105","hover:shadow-lg",3,"click"],[1,"text-lg","lg:text-base","relative","bottom-1"],[1,"text-xs","lg:text-[10px]","font-medium","transition-colors","duration-200"],[1,"w-12","h-12","lg:w-10","lg:h-10","bg-gray-500","rounded-xl","flex","items-center","justify-center","shadow-md","hover:scale-105","hover:shadow-lg","hover:bg-gray-600","transition-all","duration-200"],[1,"text-white","text-lg","lg:text-base","relative","bottom-1"],[1,"text-xs","lg:text-[10px]","font-medium","text-gray-700","dark:text-gray-300"]],template:function(r,a){r&1&&L(0,RT,33,27,"footer",0),r&2&&Oe(!a.hideFooter||a.breakpointService.device.isMobile||a.breakpointService.device.isTablePortrait?0:-1)},dependencies:[Zn,Qe],styles:["[_nghost-%COMP%]{display:block}footer[_ngcontent-%COMP%]{transition:all .3s ease}footer[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a}.hidden.md\\:flex[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#fffffff2}.dark[_ngcontent-%COMP%]   .hidden.md\\:flex[_ngcontent-%COMP%]{background:#1f2937f2}.md\\:hidden[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#fffffffa}.dark[_ngcontent-%COMP%]   .md\\:hidden[_ngcontent-%COMP%]{background:#1f2937fa}.md\\:hidden[_ngcontent-%COMP%]   .main-action[_ngcontent-%COMP%]{box-shadow:0 4px 12px #3b82f64d}.md\\:hidden[_ngcontent-%COMP%]   .main-action[_ngcontent-%COMP%]:hover{box-shadow:0 6px 16px #3b82f666}.md\\:hidden[_ngcontent-%COMP%]   .main-action[_ngcontent-%COMP%]:active{box-shadow:0 2px 8px #3b82f64d}.md\\:hidden[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]{transition:all .2s ease}.md\\:hidden[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.md\\:hidden[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]:active{transform:translateY(0)}.md\\:hidden[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{transition:all .2s ease}.md\\:hidden[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]:hover   .action-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.md\\:hidden[_ngcontent-%COMP%]   .network-status[_ngcontent-%COMP%]{transition:all .3s ease}.md\\:hidden[_ngcontent-%COMP%]   .network-status[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.action-income[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.action-income[_ngcontent-%COMP%]:hover{background:#10b9811a}.action-expense[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.action-expense[_ngcontent-%COMP%]:hover{background:#ef44441a}.action-scan[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed)}.action-scan[_ngcontent-%COMP%]:hover{background:#8b5cf61a}.action-search[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563)}.action-search[_ngcontent-%COMP%]:hover{background:#6b72801a}.action-more[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563)}.action-more[_ngcontent-%COMP%]:hover{background:#6b72801a}.network-online[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.network-offline[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.network-slow[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}@media (max-width: 640px){.mobile-footer[_ngcontent-%COMP%]   .main-action[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:.875rem}.mobile-footer[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{gap:.25rem}.mobile-footer[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}}.dark[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{border-color:#4b556380}.dark[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .network-status[_ngcontent-%COMP%]{background:#4b556333}.dark[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]:hover{background:#4b55631a}@keyframes _ngcontent-%COMP%_networkPulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.network-status-changing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_networkPulse .6s ease-in-out}button[_ngcontent-%COMP%]{transition:all .2s ease}button[_ngcontent-%COMP%]:focus{outline:none;ring:2px;ring-color:rgba(59,130,246,.5)}.footer-button[_ngcontent-%COMP%]{transition:all .2s ease}.footer-button.active[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);box-shadow:0 4px 12px #3b82f64d}.footer-button.active[_ngcontent-%COMP%]   .action-label[_ngcontent-%COMP%]{color:#3b82f6;font-weight:600}.footer-button[_ngcontent-%COMP%]:hover:not(.active)   .action-icon[_ngcontent-%COMP%]{transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-panel[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 8px 32px #0000001f;border:1px solid rgba(0,0,0,.08)}.dark[_ngcontent-%COMP%]   .more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-panel[_ngcontent-%COMP%]{background:#1f2937;border-color:#ffffff1a;box-shadow:0 8px 32px #0000004d}.more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;font-size:14px;font-weight:500;color:#374151;transition:all .2s ease}.dark[_ngcontent-%COMP%]   .more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]{color:#d1d5db}.more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]:hover{background:#3b82f614}.dark[_ngcontent-%COMP%]   .more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]:hover{background:#3b82f626}.more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280;font-size:20px;width:20px;height:20px}.dark[_ngcontent-%COMP%]   .more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af}.more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.menu-item[_ngcontent-%COMP%]{background-color:#ffffff80;border-radius:12px;margin:4px}.menu-item[_ngcontent-%COMP%]:hover{background-color:#ffffff80}"]});let n=t;return n})();var Qb=(()=>{let t=class t{constructor(e,r,a,o,s){this.breakpointObserver=e,this.store=r,this.userService=a,this.invitationPopupService=o,this.recurringTransactionService=s,this.isMobile=!1,this.breakpointObserver.observe([Ml.Handset]).subscribe(d=>{this.isMobile=d.matches})}ngOnInit(){var e,r,a,o,s,d;this.store.dispatch(Po({userId:((e=this.userService.userAuth$.value)==null?void 0:e.uid)||""})),this.store.dispatch(ea({userId:((r=this.userService.userAuth$.value)==null?void 0:r.uid)||""})),this.store.dispatch(fr({userId:((a=this.userService.userAuth$.value)==null?void 0:a.uid)||""})),this.store.dispatch(yo({userId:((o=this.userService.userAuth$.value)==null?void 0:o.uid)||""})),this.store.dispatch(Mo({userId:((s=this.userService.userAuth$.value)==null?void 0:s.uid)||""})),this.store.dispatch(ni({userId:((d=this.userService.userAuth$.value)==null?void 0:d.uid)||""})),this.invitationPopupService.showInvitationsAfterLogin(),setTimeout(()=>{this.recurringTransactionService.checkDueRecurringTransactions().subscribe()},2e3)}};t.\u0275fac=function(r){return new(r||t)(W(Tr),W(mt),W(ui),W(Vb),W($b))},t.\u0275cmp=Le({type:t,selectors:[["app-dashboard"]],decls:6,vars:0,consts:[[1,"h-[100vh]","flex","flex-col","bg-gray-50"],[1,"flex-1","overflow-y-auto","bg-primary-100"],[1,"mx-auto","px-4","py-1","lg:py-2"]],template:function(r,a){r&1&&(c(0,"div",0),oe(1,"app-header"),c(2,"main",1)(3,"div",2),oe(4,"router-outlet"),l()(),oe(5,"app-footer"),l())},dependencies:[cg,Gb,Zb]});let n=t;return n})();function BT(n,t){n&1&&(c(0,"div",14),oe(1,"mat-spinner",15),c(2,"p"),g(3,"Loading transactions..."),l()())}function VT(n,t){if(n&1&&(c(0,"div",16)(1,"mat-icon",17),g(2,"error"),l(),c(3,"p",18),g(4),l()()),n&2){let i=y();p(4),V(i.errorMessage)}}function $T(n,t){n&1&&(c(0,"div",40)(1,"mat-icon",41),g(2,"receipt_long"),l(),c(3,"p",42),g(4,"No transactions found for this account"),l()())}function jT(n,t){if(n&1&&(c(0,"span",57),g(1),l()),n&2){let i=y().$implicit;p(),ee(" ",i.category," ")}}function zT(n,t){if(n&1&&(c(0,"span",58),g(1),l()),n&2){let i=y().$implicit;p(),ee(" ",i.notes," ")}}function YT(n,t){if(n&1&&(c(0,"div",45)(1,"div",46)(2,"div",47)(3,"mat-icon"),g(4),l()(),c(5,"div",48)(6,"div",49)(7,"span",50),g(8),l(),c(9,"span",51),g(10),l()(),c(11,"div",52)(12,"span",53),g(13),l(),c(14,"span",54),g(15),se(16,"titlecase"),l(),L(17,jT,2,1,"span",55)(18,zT,2,1,"span",56),l()()()()),n&2){let i=t.$implicit,e=y(3);p(2),Tt(e.getTransactionTypeClass(i)),p(2),V(e.getTransactionTypeIcon(i)),p(4),V(i.payee||"Unknown"),p(),Tt(e.getTransactionTypeClass(i)),p(),ee(" ",e.formatAmount(i.amount||0)," "),p(3),V(e.formatDate(i.date)),p(),Tt(e.getTransactionTypeClass(i)),p(),ee(" ",pe(16,13,i.type)," "),p(2),O("ngIf",i.category),p(),O("ngIf",i.notes)}}function UT(n,t){if(n&1&&(c(0,"div",43),L(1,YT,19,15,"div",44),l()),n&2){let i=y(2);p(),O("ngForOf",i.transactions)("ngForTrackBy",i.trackByTransactionId)}}function GT(n,t){if(n&1){let i=ue();c(0,"div",19)(1,"div",20)(2,"h3",21)(3,"mat-icon"),g(4,"verified"),l(),g(5," Balance Verification "),l(),c(6,"div",22)(7,"div",23)(8,"span",24),g(9,"Recorded Balance:"),l(),c(10,"span",25),g(11),l()(),c(12,"div",23)(13,"span",24),g(14,"Calculated Balance:"),l(),c(15,"span",25),g(16),l()(),c(17,"div",26)(18,"span",24),g(19,"Difference:"),l(),c(20,"span",25),g(21),l()()(),c(22,"div",27)(23,"mat-icon"),g(24),l(),c(25,"span"),g(26),l()()(),c(27,"div",28)(28,"h3",21)(29,"mat-icon"),g(30,"analytics"),l(),g(31," Summary Statistics "),l(),c(32,"div",29)(33,"div",30)(34,"span",31),g(35,"Total Transactions"),l(),c(36,"span",32),g(37),l()(),c(38,"div",33)(39,"span",31),g(40,"Total Deposits"),l(),c(41,"span",32),g(42),l()(),c(43,"div",34)(44,"span",31),g(45,"Total Withdrawals"),l(),c(46,"span",32),g(47),l()(),c(48,"div",30)(49,"span",31),g(50,"Average Transaction"),l(),c(51,"span",32),g(52),l()(),c(53,"div",30)(54,"span",31),g(55,"Largest Transaction"),l(),c(56,"span",32),g(57),l()()()(),c(58,"div",35)(59,"div",36)(60,"h3",21)(61,"mat-icon"),g(62,"receipt_long"),l(),g(63),l(),c(64,"button",37),R("click",function(){j(i);let r=y();return z(r.exportStatement())}),c(65,"mat-icon"),g(66,"download"),l(),g(67," Export "),l()(),L(68,$T,5,0,"div",38)(69,UT,2,2,"div",39),l()()}if(n&2){let i=y();p(11),V(i.formatAmount(i.recordedBalance)),p(5),V(i.formatAmount(i.calculatedBalance)),p(),Tt(i.getBalanceClass()),p(4),V(i.formatAmount(i.balanceDifference)),p(),Tt(i.getBalanceClass()),p(2),V(i.isBalanceAccurate?"check_circle":"warning"),p(2),V(i.getBalanceStatusText()),p(11),V(i.totalTransactions),p(5),V(i.formatAmount(i.totalDeposits)),p(5),V(i.formatAmount(i.totalWithdrawals)),p(5),V(i.formatAmount(i.averageTransaction)),p(5),V(i.formatAmount(i.largestTransaction)),p(6),ee(" All Transactions (",i.transactions.length,") "),p(5),O("ngIf",i.transactions.length===0),p(),O("ngIf",i.transactions.length>0)}}var Jb=(()=>{let t=class t{constructor(e,r,a,o,s){this.data=e,this.dialogRef=r,this.store=a,this.dateService=o,this.currencyService=s,this.transactions=[],this.calculatedBalance=0,this.recordedBalance=0,this.balanceDifference=0,this.isBalanceAccurate=!0,this.isLoading=!0,this.errorMessage="",this.totalDeposits=0,this.totalWithdrawals=0,this.totalTransactions=0,this.averageTransaction=0,this.largestTransaction=0,this.destroy$=new It,this.account=e.account,this.recordedBalance=this.account.balance||0,this.transactions$=this.store.select(FC(this.account.accountId))}ngOnInit(){this.loadTransactions()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadTransactions(){this.transactions$.pipe(bt(this.destroy$)).subscribe({next:e=>{this.transactions=e,this.calculateBalanceFromTransactions(),this.calculateSummaryStatistics(),this.isLoading=!1},error:e=>{this.errorMessage="Failed to load transactions",this.isLoading=!1,console.error("Error loading transactions:",e)}})}calculateBalanceFromTransactions(){this.calculatedBalance=this.transactions.reduce((e,r)=>{let a=r.amount||0;switch(r.type){case ht.INCOME:return e+a;case ht.EXPENSE:return e-a;case ht.TRANSFER:return e;default:return e}},0),this.balanceDifference=this.calculatedBalance-this.recordedBalance,this.isBalanceAccurate=Math.abs(this.balanceDifference)<.01}calculateSummaryStatistics(){if(this.totalTransactions=this.transactions.length,this.totalTransactions===0){this.totalDeposits=0,this.totalWithdrawals=0,this.averageTransaction=0,this.largestTransaction=0;return}this.totalDeposits=this.transactions.filter(r=>r.type===ht.INCOME).reduce((r,a)=>r+(a.amount||0),0),this.totalWithdrawals=this.transactions.filter(r=>r.type===ht.EXPENSE).reduce((r,a)=>r+(a.amount||0),0);let e=this.transactions.reduce((r,a)=>r+Math.abs(a.amount||0),0);this.averageTransaction=e/this.totalTransactions,this.largestTransaction=Math.max(...this.transactions.map(r=>Math.abs(r.amount||0)))}getTransactionTypeIcon(e){switch(e.type){case ht.INCOME:return"trending_up";case ht.EXPENSE:return"trending_down";case ht.TRANSFER:return"swap_horiz";default:return"help"}}getTransactionTypeClass(e){switch(e.type){case ht.INCOME:return"positive";case ht.EXPENSE:return"negative";case ht.TRANSFER:return"transfer";default:return"neutral"}}getBalanceClass(){return this.isBalanceAccurate?"accurate":this.balanceDifference>0?"positive":"negative"}getBalanceStatusText(){return this.isBalanceAccurate?"Balance is accurate":this.balanceDifference>0?`Calculated balance is ${this.currencyService.formatAmount(this.balanceDifference)} higher than recorded`:`Calculated balance is ${this.currencyService.formatAmount(Math.abs(this.balanceDifference))} lower than recorded`}formatDate(e){var r;return((r=this.dateService.toDate(e))==null?void 0:r.toLocaleDateString())||"N/A"}formatAmount(e){return this.currencyService.formatAmount(e)}close(){this.dialogRef.close()}exportStatement(){console.log("Export statement functionality to be implemented")}trackByTransactionId(e,r){return r.id||e.toString()}};t.\u0275fac=function(r){return new(r||t)(W(pi),W(mi),W(mt),W(Vt),W(iu))},t.\u0275cmp=Le({type:t,selectors:[["app-account-statement-dialog"]],decls:23,vars:4,consts:[[1,"account-statement-dialog"],[1,"dialog-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],[1,"dialog-title"],[1,"account-name"],["mat-icon-button","",1,"close-button",3,"click"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","dialog-content",4,"ngIf"],[1,"dialog-actions"],["mat-button","",1,"cancel-button",3,"click"],["mat-raised-button","","color","primary",1,"export-button",3,"click"],[1,"loading-container"],["diameter","40"],[1,"error-container"],[1,"error-icon"],[1,"error-message"],[1,"dialog-content"],[1,"balance-verification-section"],[1,"section-title"],[1,"balance-comparison"],[1,"balance-item"],[1,"balance-label"],[1,"balance-value"],[1,"balance-item","difference"],[1,"balance-status"],[1,"summary-section"],[1,"summary-grid"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"summary-item","positive"],[1,"summary-item","negative"],[1,"transactions-section"],[1,"section-header"],["mat-stroked-button","",1,"export-button",3,"click"],["class","empty-state",4,"ngIf"],["class","transactions-list",4,"ngIf"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-text"],[1,"transactions-list"],["class","transaction-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"transaction-item"],[1,"transaction-main"],[1,"transaction-icon"],[1,"transaction-details"],[1,"transaction-header"],[1,"transaction-payee"],[1,"transaction-amount"],[1,"transaction-meta"],[1,"transaction-date"],[1,"transaction-type"],["class","transaction-category",4,"ngIf"],["class","transaction-notes",4,"ngIf"],[1,"transaction-category"],[1,"transaction-notes"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),g(4,"account_balance"),l(),c(5,"div",4)(6,"h2",5),g(7,"Account Statement"),l(),c(8,"p",6),g(9),l()()(),c(10,"button",7),R("click",function(){return a.close()}),c(11,"mat-icon"),g(12,"close"),l()()(),L(13,BT,4,0,"div",8)(14,VT,5,1,"div",9)(15,GT,70,17,"div",10),c(16,"div",11)(17,"button",12),R("click",function(){return a.close()}),g(18," Close "),l(),c(19,"button",13),R("click",function(){return a.exportStatement()}),c(20,"mat-icon"),g(21,"download"),l(),g(22," Export Statement "),l()()()),r&2&&(p(9),V(a.account.name),p(4),O("ngIf",a.isLoading),p(),O("ngIf",a.errorMessage),p(),O("ngIf",!a.isLoading&&!a.errorMessage))},dependencies:[nr,ct,Zt,dn,Qe,Er,ir],styles:[".account-statement-dialog[_ngcontent-%COMP%]{max-width:800px;width:90vw;max-height:90vh;display:flex;flex-direction:column;background:var(--surface-color, #ffffff);border-radius:16px;overflow:hidden;box-shadow:0 20px 60px #00000026}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px;background:var(--primary-color, #1976d2);color:#fff}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:600}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .account-name[_ngcontent-%COMP%]{margin:4px 0 0;font-size:16px;opacity:.9}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#fff}.account-statement-dialog[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 24px;gap:16px}.account-statement-dialog[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary, #666)}.account-statement-dialog[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 24px;gap:16px}.account-statement-dialog[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:var(--error-color, #f44336)}.account-statement-dialog[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin:0;color:var(--error-color, #f44336);text-align:center}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0 0 16px;font-size:18px;font-weight:600;color:var(--text-primary, #333)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .balance-verification-section[_ngcontent-%COMP%]{background:var(--surface-variant, #f5f5f5);border-radius:12px;padding:20px;margin-bottom:24px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .balance-verification-section[_ngcontent-%COMP%]   .balance-comparison[_ngcontent-%COMP%]{display:grid;gap:12px;margin-bottom:16px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .balance-verification-section[_ngcontent-%COMP%]   .balance-comparison[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .balance-verification-section[_ngcontent-%COMP%]   .balance-comparison[_ngcontent-%COMP%]   .balance-item.difference[_ngcontent-%COMP%]{border-top:1px solid var(--divider-color, #e0e0e0);padding-top:12px;font-weight:600}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .balance-verification-section[_ngcontent-%COMP%]   .balance-comparison[_ngcontent-%COMP%]   .balance-item.difference.accurate[_ngcontent-%COMP%], .account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .balance-verification-section[_ngcontent-%COMP%]   .balance-comparison[_ngcontent-%COMP%]   .balance-item.difference.positive[_ngcontent-%COMP%]{color:var(--success-color, #4caf50)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .balance-verification-section[_ngcontent-%COMP%]   .balance-comparison[_ngcontent-%COMP%]   .balance-item.difference.negative[_ngcontent-%COMP%]{color:var(--error-color, #f44336)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .balance-verification-section[_ngcontent-%COMP%]   .balance-comparison[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-label[_ngcontent-%COMP%]{font-weight:500;color:var(--text-secondary, #666)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .balance-verification-section[_ngcontent-%COMP%]   .balance-comparison[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-value[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .balance-verification-section[_ngcontent-%COMP%]   .balance-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px;border-radius:8px;font-weight:500}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .balance-verification-section[_ngcontent-%COMP%]   .balance-status.accurate[_ngcontent-%COMP%], .account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .balance-verification-section[_ngcontent-%COMP%]   .balance-status.positive[_ngcontent-%COMP%]{background:#4caf501a;color:var(--success-color, #4caf50)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .balance-verification-section[_ngcontent-%COMP%]   .balance-status.negative[_ngcontent-%COMP%]{background:#f443361a;color:var(--error-color, #f44336)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .balance-verification-section[_ngcontent-%COMP%]   .balance-status[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]{margin-bottom:24px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{background:var(--surface-variant, #f5f5f5);border-radius:8px;padding:16px;text-align:center}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item.positive[_ngcontent-%COMP%]{border-left:4px solid var(--success-color, #4caf50)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item.negative[_ngcontent-%COMP%]{border-left:4px solid var(--error-color, #f44336)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{display:block;font-size:12px;font-weight:500;color:var(--text-secondary, #666);margin-bottom:8px;text-transform:uppercase;letter-spacing:.5px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{display:block;font-size:18px;font-weight:600;color:var(--text-primary, #333)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .export-button[_ngcontent-%COMP%]{font-size:12px;padding:4px 12px;min-width:auto}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 24px;text-align:center}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:var(--text-secondary, #666);margin-bottom:16px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary, #666)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;border:1px solid var(--divider-color, #e0e0e0);border-radius:8px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid var(--divider-color, #e0e0e0)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;flex-shrink:0}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-icon.positive[_ngcontent-%COMP%]{background:#4caf501a;color:var(--success-color, #4caf50)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-icon.negative[_ngcontent-%COMP%]{background:#f443361a;color:var(--error-color, #f44336)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-icon.transfer[_ngcontent-%COMP%]{background:#9c27b01a;color:var(--transfer-color, #9c27b0)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-icon.neutral[_ngcontent-%COMP%]{background:#9e9e9e1a;color:var(--text-secondary, #666)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]{flex:1;min-width:0}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:4px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-payee[_ngcontent-%COMP%]{font-weight:500;color:var(--text-primary, #333);flex:1;margin-right:12px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-weight:600;font-size:16px;flex-shrink:0}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-amount.positive[_ngcontent-%COMP%]{color:var(--success-color, #4caf50)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-amount.negative[_ngcontent-%COMP%]{color:var(--error-color, #f44336)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-amount.transfer[_ngcontent-%COMP%]{color:var(--transfer-color, #9c27b0)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-amount.neutral[_ngcontent-%COMP%]{color:var(--text-secondary, #666)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;font-size:12px;color:var(--text-secondary, #666)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{font-weight:500}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-type[_ngcontent-%COMP%]{padding:2px 8px;border-radius:12px;font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-type.positive[_ngcontent-%COMP%]{background:#4caf501a;color:var(--success-color, #4caf50)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-type.negative[_ngcontent-%COMP%]{background:#f443361a;color:var(--error-color, #f44336)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-type.transfer[_ngcontent-%COMP%]{background:#9c27b01a;color:var(--transfer-color, #9c27b0)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-type.neutral[_ngcontent-%COMP%]{background:#9e9e9e1a;color:var(--text-secondary, #666)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-category[_ngcontent-%COMP%]{background:var(--surface-variant, #f5f5f5);padding:2px 8px;border-radius:12px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-notes[_ngcontent-%COMP%]{font-style:italic}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:24px;border-top:1px solid var(--divider-color, #e0e0e0);background:var(--surface-color, #ffffff)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{color:var(--text-secondary, #666)}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .export-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}@media (max-width: 768px){.account-statement-dialog[_ngcontent-%COMP%]{width:100vw;height:100vh;max-height:100vh;border-radius:0}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{padding:16px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-size:20px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .account-name[_ngcontent-%COMP%]{font-size:14px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:16px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]{max-height:300px}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{padding:16px;flex-direction:column}.account-statement-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}@media (prefers-color-scheme: dark){.account-statement-dialog[_ngcontent-%COMP%]{--surface-color: #1e1e1e;--surface-variant: #2d2d2d;--text-primary: #ffffff;--text-secondary: #b0b0b0;--divider-color: #404040;--primary-color: #90caf9;--success-color: #81c784;--error-color: #e57373;--transfer-color: #ba68c8}}"]});let n=t;return n})();var ql=[{id:"cash_bank",name:"Cash & Bank",icon:"account_balance",emoji:"\u{1F4B0}",color:"#10B981",description:"Savings Account, Checking Account, e-Wallets",accountTypes:[kr.BANK,kr.CASH]},{id:"credit_accounts",name:"Credit Accounts",icon:"credit_card",emoji:"\u{1F4B3}",color:"#F59E0B",description:"Credit Cards, BNPL (Buy Now Pay Later)",accountTypes:[kr.CREDIT]},{id:"liabilities",name:"Liabilities",icon:"trending_down",emoji:"\u{1F4C9}",color:"#EF4444",description:"Personal Loans, Car Loans, Home Loans, Student Loans",accountTypes:[kr.LOAN]},{id:"assets",name:"Assets",icon:"trending_up",emoji:"\u{1F4C8}",color:"#3B82F6",description:"Investment Accounts, Fixed Deposits, Retirement Funds",accountTypes:[kr.INVESTMENT]},{id:"other",name:"Other",icon:"more_horiz",emoji:"\u{1F504}",color:"#8B5CF6",description:"Expense Accounts, Income Accounts, Petty Cash",accountTypes:[]}];function Mf(n){return ql.find(t=>t.accountTypes.includes(n))}var WT=(n,t)=>t.id;function HT(n,t){if(n&1){let i=ue();c(0,"button",3),R("click",function(){j(i);let r=y();return z(r.onMainButtonClick())}),c(1,"mat-icon"),g(2),l()()}if(n&2){let i=y();O("color",i.effectiveConfig.mainButtonColor)("ngClass",i.getMainButtonClass())("matTooltip",i.effectiveConfig.mainButtonTooltip),p(2),V(i.effectiveConfig.mainButtonIcon)}}function XT(n,t){if(n&1&&(c(0,"div",8),g(1),l()),n&2){let i=y().$implicit;p(),ee(" ",i.label," ")}}function qT(n,t){if(n&1){let i=ue();c(0,"div",7),L(1,XT,2,1,"div",8),c(2,"button",9),R("click",function(){let r=j(i).$implicit,a=y(3);return z(a.onActionClick(r))}),c(3,"mat-icon",10),g(4),l()()()}if(n&2){let i=t.$implicit,e=y(3);p(),Oe(e.effectiveConfig.showLabels?1:-1),p(),O("color",i.color)("ngClass",e.getActionButtonClass(i))("matTooltip",i.tooltip)("disabled",i.disabled),p(),Ue("animate-spin",i.loading),p(),V(i.icon)}}function KT(n,t){if(n&1&&(c(0,"div",6),qe(1,qT,5,8,"div",7,WT),l()),n&2){let i=y(2);p(),Ke(i.effectiveConfig.actions)}}function ZT(n,t){if(n&1){let i=ue();c(0,"button",4),R("click",function(){j(i);let r=y();return z(r.toggleExpanded())}),c(1,"mat-icon"),g(2),l()(),L(3,KT,3,0,"div",5)}if(n&2){let i=y();O("color",i.effectiveConfig.mainButtonColor)("matTooltip",i.isExpanded?"Close":i.effectiveConfig.mainButtonTooltip),p(2),V(i.mainButtonIcon),p(),O("ngIf",i.isExpanded)}}var ko=(()=>{let t=class t{constructor(){this.config={title:"Quick Actions",mainButtonIcon:"add",mainButtonColor:"primary",mainButtonTooltip:"Quick Actions",showLabels:!1,animations:!0,autoHide:!1,autoHideDelay:3e3,theme:"auto",actions:[{id:"add-transaction",label:"Add Transaction",icon:"receipt",color:"accent",tooltip:"Add Transaction"},{id:"export-report",label:"Export Report",icon:"file_download",color:"warn",tooltip:"Export Report"},{id:"refresh-data",label:"Refresh Data",icon:"refresh",color:"primary",tooltip:"Refresh Data"}]},this.actionClick=new Mn,this.mainButtonClick=new Mn,this.isExpanded=!1}ngOnInit(){}ngOnDestroy(){this.autoHideTimer&&clearTimeout(this.autoHideTimer)}get effectiveConfig(){var e,r,a,o,s,d,u,m,f;return{title:(e=this.config.title)!=null?e:"Quick Actions",mainButtonIcon:(r=this.config.mainButtonIcon)!=null?r:"add",mainButtonColor:(a=this.config.mainButtonColor)!=null?a:"primary",mainButtonTooltip:(o=this.config.mainButtonTooltip)!=null?o:"Quick Actions",showLabels:(s=this.config.showLabels)!=null?s:!1,animations:(d=this.config.animations)!=null?d:!0,autoHide:(u=this.config.autoHide)!=null?u:!1,autoHideDelay:(m=this.config.autoHideDelay)!=null?m:3e3,theme:(f=this.config.theme)!=null?f:"auto",actions:this.config.actions||[],onActionClick:this.config.onActionClick,onMainButtonClick:this.config.onMainButtonClick}}get animationClass(){return this.effectiveConfig.animations?"fab-animated":""}get mainButtonIcon(){return this.isExpanded?"close":this.effectiveConfig.mainButtonIcon||"add"}toggleExpanded(){this.isExpanded=!this.isExpanded,this.effectiveConfig.onMainButtonClick&&this.effectiveConfig.onMainButtonClick(),this.mainButtonClick.emit(),this.effectiveConfig.autoHide&&this.isExpanded?this.autoHideTimer=setTimeout(()=>{this.isExpanded=!1},this.effectiveConfig.autoHideDelay):this.autoHideTimer&&clearTimeout(this.autoHideTimer)}onActionClick(e){e.disabled||(this.effectiveConfig.onActionClick&&this.effectiveConfig.onActionClick(e),this.actionClick.emit(e))}onMainButtonClick(){this.effectiveConfig.onMainButtonClick&&this.effectiveConfig.onMainButtonClick(),this.mainButtonClick.emit()}getActionButtonClass(e){let r="shadow-lg hover:shadow-xl transition-all duration-300 ease-in-out",a=e.disabled?"opacity-50 cursor-not-allowed":"hover:scale-110",o=e.loading?"animate-spin":"";return`${r} ${a} ${o}`}getMainButtonClass(){let e="shadow-lg hover:shadow-xl transition-all duration-300 ease-in-out",r=this.isExpanded?"rotate-45":"";return`${e} ${r}`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Le({type:t,selectors:[["app-quick-actions-fab"]],inputs:{config:"config"},outputs:{actionClick:"actionClick",mainButtonClick:"mainButtonClick"},standalone:!0,features:[Jr],decls:4,vars:3,consts:[[1,"quick-actions-fab","fixed","z-50","bottom-28","right-4","md:bottom-6","md:right-6","lg:bottom-32","lg:right-10"],[1,"flex","flex-col","space-y-2","md:space-y-3",3,"ngClass"],["mat-fab","",1,"shadow-lg","hover:shadow-xl","transition-all","duration-300","ease-in-out",3,"color","ngClass","matTooltip"],["mat-fab","",1,"shadow-lg","hover:shadow-xl","transition-all","duration-300","ease-in-out",3,"click","color","ngClass","matTooltip"],["mat-fab","",1,"shadow-lg","hover:shadow-xl","transition-all","duration-300","ease-in-out",3,"click","color","matTooltip"],["class","flex flex-col space-y-2 md:space-y-3",4,"ngIf"],[1,"flex","flex-col","space-y-2","md:space-y-3"],[1,"flex","items-center","space-x-2","md:space-x-3"],[1,"hidden","sm:block","bg-white","dark:bg-gray-800","px-3","py-2","rounded-lg","shadow-lg","text-sm","font-medium","text-gray-700","dark:text-gray-300","whitespace-nowrap","backdrop-blur-sm","border","border-gray-200","dark:border-gray-700"],["mat-mini-fab","",1,"shadow-lg","hover:shadow-xl","transition-all","duration-300","ease-in-out",3,"click","color","ngClass","matTooltip","disabled"],[1,"text-sm","md:text-base"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"div",1),L(2,HT,3,4,"button",2)(3,ZT,4,4),l()()),r&2&&(p(),O("ngClass",a.animationClass),p(),Oe(a.effectiveConfig.actions.length===0?2:-1),p(),Oe(a.effectiveConfig.actions.length>0?3:-1))},dependencies:[Pa,Zn,ct,Pl,lC,Kg,ka,Qe,ru,Fn],styles:[".quick-actions-fab[_ngcontent-%COMP%]{isolation:isolate;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.quick-actions-fab[_ngcontent-%COMP%]   .fab-animated[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.quick-actions-fab[_ngcontent-%COMP%]   .fab-animated[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .3s ease-out}.quick-actions-fab[_ngcontent-%COMP%]   .fab-animated[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.quick-actions-fab[_ngcontent-%COMP%]   .action-label[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .3s ease-out}.quick-actions-fab[_ngcontent-%COMP%]   .action-label[_ngcontent-%COMP%]:hover{transform:translate(-4px)}.quick-actions-fab[_ngcontent-%COMP%]   .animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.quick-actions-fab[_ngcontent-%COMP%]   .opacity-50[_ngcontent-%COMP%]{opacity:.5}.quick-actions-fab[_ngcontent-%COMP%]   .cursor-not-allowed[_ngcontent-%COMP%]{cursor:not-allowed}@media (max-width: 640px){.quick-actions-fab[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]{width:56px!important;height:56px!important}.quick-actions-fab[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]{width:40px!important;height:40px!important}}@media (min-width: 641px){.quick-actions-fab[_ngcontent-%COMP%]   .mat-fab[_ngcontent-%COMP%]{width:64px!important;height:64px!important}.quick-actions-fab[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]{width:48px!important;height:48px!important}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px) scale(.8)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]});let n=t;return n})();var tv=(n,t)=>t.group.id,nv=(n,t)=>t.accountId,eE=(n,t)=>t.id,iv=n=>({"!max-h-[100vh]":n});function tE(n,t){if(n&1){let i=ue();c(0,"div",16)(1,"p",17),g(2),l(),c(3,"button",18),R("click",function(){j(i);let r=y();return z(r.clearError())}),c(4,"mat-icon"),g(5,"close"),l()()()}if(n&2){let i=y();p(2),V(i.errorMessage)}}function nE(n,t){if(n&1){let i=ue();c(0,"mat-icon",19),R("click",function(){j(i);let r=y();return z(r.toggleListViewMode())}),g(1),l()}if(n&2){let i=y();O("matTooltip",i.isListViewMode?"Switch to detailed view":"Switch to list view"),p(),V(i.isListViewMode?"view_list":"list")}}function iE(n,t){if(n&1){let i=ue();c(0,"button",25),R("click",function(){j(i);let r=y(2);return z(r.addAccount())}),c(1,"mat-icon"),g(2,"add"),l(),g(3," Add Account "),l()}}function rE(n,t){if(n&1&&(c(0,"div",20)(1,"div",21)(2,"mat-icon"),g(3,"account_balance"),l()(),c(4,"h3",22),g(5,"No accounts yet"),l(),c(6,"p",23),g(7,"Add your first account to get started"),l(),L(8,iE,4,0,"button",24),l()),n&2){let i=y();p(8),O("ngIf",i.breakpointService.device.isMobile)}}function aE(n,t){if(n&1&&(c(0,"span",34),g(1),se(2,"currency"),l()),n&2){let i=y().$implicit;p(),ee(" (",pe(2,1,i.totalBalance),") ")}}function oE(n,t){if(n&1){let i=ue();c(0,"div",35)(1,"div",36)(2,"mat-icon",37),g(3),l(),c(4,"div",38)(5,"span",39),g(6),se(7,"titlecase"),l(),c(8,"span",40),g(9),se(10,"titlecase"),l(),c(11,"span",41),g(12),se(13,"currency"),se(14,"currency"),l()()(),c(15,"div",42)(16,"mat-menu",null,0)(18,"button",43),R("click",function(){let r=j(i).$implicit,a=y(4);return z(a.viewAccountStatement(r))}),c(19,"mat-icon"),g(20,"receipt_long"),l(),g(21," View Statement"),l(),c(22,"button",44),R("click",function(){let r=j(i).$implicit,a=y(4);return z(a.editAccount(r))}),c(23,"mat-icon"),g(24,"edit"),l(),g(25," Edit"),l(),c(26,"button",45),R("click",function(){let r=j(i).$implicit,a=y(4);return z(a.deleteAccount(r))}),c(27,"mat-icon",46),g(28,"delete"),l(),g(29," Delete"),l()(),c(30,"button",47)(31,"mat-icon"),g(32,"more_vert"),l()()()()}if(n&2){let i,e=t.$implicit,r=wn(17),a=y().$implicit,o=y(3);kt("border-left-color",a.group.color),p(2),kt("color",a.group.color),p(),V(o.getAccountIcon(e.type)),p(3),V(pe(7,11,e.name)),p(3),V(pe(10,13,e.type)),p(2),Tt(o.isLoanAccount(e)?"negative":e.balance>=0?"positive":"negative"),p(),ee(" ",o.isLoanAccount(e)?pe(13,15,-(((i=o.getLoanDetails(e))==null?null:i.remainingBalance)||0)):pe(14,17,e.balance)," "),p(18),O("matMenuTriggerFor",r)}}function sE(n,t){if(n&1&&(c(0,"div",30)(1,"span",31),g(2),l(),g(3),L(4,aE,3,3,"span",32),l(),qe(5,oE,33,19,"div",33,nv)),n&2){let i=t.$implicit,e=y(3);kt("color",i.group.color),p(2),V(i.group.emoji),p(),ee(" ",i.group.name," "),p(),O("ngIf",!e.breakpointService.device.isMobile),p(),Ke(i.accounts)}}function cE(n,t){if(n&1&&(c(0,"div",29),qe(1,sE,7,5,null,null,tv),l()),n&2){let i=y().ngIf,e=y();p(),Ke(e.getGroupedAccounts(i))}}function lE(n,t){if(n&1&&(c(0,"span",56),g(1),l()),n&2){let i=y().$implicit;p(),V(i.group.description)}}function dE(n,t){if(n&1&&(c(0,"div",34)(1,"span",57),g(2,"Total:"),l(),c(3,"span",58),g(4),se(5,"currency"),l()()),n&2){let i=y().$implicit;p(3),Tt(i.totalBalance>=0?"positive":"negative"),p(),ee(" ",pe(5,3,i.totalBalance)," ")}}function gE(n,t){if(n&1&&(c(0,"div",69)(1,"span",80),g(2,"Loan Interest Rate:"),l(),c(3,"span",81),g(4),l()()),n&2){let i,e=y().$implicit,r=y(4);p(4),ee("",(i=r.getLoanDetails(e))==null?null:i.interestRate,"%")}}function uE(n,t){if(n&1&&(c(0,"span",70),g(1),se(2,"titlecase"),l()),n&2){let i=y().$implicit;p(),V(pe(2,1,i.type))}}function mE(n,t){if(n&1){let i=ue();c(0,"div",82)(1,"button",83),R("click",function(){j(i);let r=y().$implicit,a=y(4);return z(a.toggleAccountExpansion(r))}),c(2,"mat-icon"),g(3),l(),c(4,"span"),g(5),l()()()}if(n&2){let i=y().$implicit,e=y(4);p(3),V((e.expandedAccount==null?null:e.expandedAccount.accountId)===i.accountId?"expand_less":"expand_more"),p(2),V((e.expandedAccount==null?null:e.expandedAccount.accountId)===i.accountId?"Show Less":"Show More")}}function pE(n,t){if(n&1&&(c(0,"div",88)(1,"span",89),g(2,"Description:"),l(),c(3,"span",90),g(4),l()()),n&2){let i=y(2).$implicit;p(4),V(i.description)}}function fE(n,t){if(n&1&&(c(0,"div",88)(1,"span",89),g(2,"Created:"),l(),c(3,"span",90),g(4),se(5,"date"),l()()),n&2){let i=y(2).$implicit,e=y(4);p(4),V(vt(5,1,e.dateService.toDate(i.createdAt),"shortDate"))}}function hE(n,t){if(n&1&&(c(0,"div",88)(1,"span",89),g(2,"Loan Term:"),l(),c(3,"span",90),g(4),l()()),n&2){let i,e=y(3).$implicit,r=y(4);p(4),ee("",(i=r.getLoanDetails(e))==null?null:i.durationMonths," months")}}function _E(n,t){if(n&1&&(c(0,"mat-tab",100)(1,"div",87)(2,"div",88)(3,"span",89),g(4,"Lender Name:"),l(),c(5,"span",90),g(6),l()(),c(7,"div",88)(8,"span",89),g(9,"Interest Rate:"),l(),c(10,"span",90),g(11),l()(),c(12,"div",88)(13,"span",89),g(14,"Monthly Interest:"),l(),c(15,"span",101),g(16),se(17,"currency"),l()(),c(18,"div",88)(19,"span",89),g(20,"Next Due Date:"),l(),c(21,"span",90),g(22),se(23,"date"),l()(),c(24,"div",88)(25,"span",89),g(26,"Remaining Balance:"),l(),c(27,"span",99),g(28),se(29,"currency"),l()(),c(30,"div",88)(31,"span",89),g(32,"Monthly Payment:"),l(),c(33,"span",90),g(34),se(35,"currency"),l()(),L(36,hE,5,1,"div",91),l()()),n&2){let i,e,r,a,o,s,d=y(2).$implicit,u=y(4);p(6),V(((i=u.getLoanDetails(d))==null?null:i.lenderName)||"N/A"),p(5),ee("",(e=u.getLoanDetails(d))==null?null:e.interestRate,"%"),p(5),V(pe(17,7,u.calculateMonthlyInterest(d))),p(6),V(vt(23,9,(r=u.getLoanDetails(d))==null?null:r.nextDueDate,"fullDate")),p(6),V(pe(29,12,-(((a=u.getLoanDetails(d))==null?null:a.remainingBalance)||0))),p(6),V(pe(35,14,(o=u.getLoanDetails(d))==null?null:o.monthlyPayment)),p(2),O("ngIf",(s=u.getLoanDetails(d))==null?null:s.durationMonths)}}function xE(n,t){if(n&1&&(c(0,"div",88)(1,"span",89),g(2,"Credit Limit:"),l(),c(3,"span",90),g(4),se(5,"currency"),l()()),n&2){let i,e=y(3).$implicit,r=y(4);p(4),V(pe(5,1,(i=r.getCreditCardDetails(e))==null?null:i.creditLimit))}}function CE(n,t){if(n&1&&(c(0,"div",88)(1,"span",89),g(2,"Minimum Payment:"),l(),c(3,"span",90),g(4),se(5,"currency"),l()()),n&2){let i,e=y(3).$implicit,r=y(4);p(4),V(pe(5,1,(i=r.getCreditCardDetails(e))==null?null:i.minimumPayment))}}function bE(n,t){if(n&1&&(c(0,"mat-tab",102)(1,"div",87)(2,"div",88)(3,"span",89),g(4,"Payment Due Date:"),l(),c(5,"span",90),g(6),l()(),c(7,"div",88)(8,"span",89),g(9,"Billing Cycle Start:"),l(),c(10,"span",90),g(11),l()(),L(12,xE,6,3,"div",91)(13,CE,6,3,"div",91),c(14,"div",88)(15,"span",89),g(16,"Next Due Date:"),l(),c(17,"span",90),g(18),se(19,"date"),l()(),c(20,"div",88)(21,"span",89),g(22,"Next Billing Date:"),l(),c(23,"span",90),g(24),se(25,"date"),l()()()()),n&2){let i,e,r,a,o=y(2).$implicit,s=y(4);p(6),Wt("",(i=s.getCreditCardDetails(o))==null?null:i.dueDate,"",s.getDaySuffix((i=s.getCreditCardDetails(o))==null?null:i.dueDate)," of each month"),p(5),Wt("",(e=s.getCreditCardDetails(o))==null?null:e.billingCycleStart,"",s.getDaySuffix((e=s.getCreditCardDetails(o))==null?null:e.billingCycleStart)," of each month"),p(),O("ngIf",(r=s.getCreditCardDetails(o))==null?null:r.creditLimit),p(),O("ngIf",(a=s.getCreditCardDetails(o))==null?null:a.minimumPayment),p(5),V(vt(19,8,s.calculateNextDueDate(o),"fullDate")),p(6),V(vt(25,11,s.calculateNextBillingDate(o),"fullDate"))}}function vE(n,t){n&1&&(c(0,"div",103)(1,"mat-icon"),g(2,"receipt_long"),l(),c(3,"p"),g(4,"No recent transactions"),l()())}function yE(n,t){if(n&1&&(c(0,"div",105)(1,"div",106)(2,"span",107),g(3),l(),c(4,"span",108),g(5),se(6,"date"),l()(),c(7,"div",109)(8,"span",110)(9,"mat-icon",111),g(10),l(),c(11,"span",112),g(12),l(),g(13),se(14,"currency"),l()()()),n&2){let i=t.$implicit,e=y(7);p(3),V(i==null?null:i.payee),p(2),V(vt(6,7,e.dateService.toDate(i==null?null:i.date),"shortDate")),p(3),Tt(i.type==="income"?"positive":"negative"),p(2),V(i.type==="income"?"trending_up":"trending_down"),p(2),V(i.type==="income"?"+":"-"),p(),ee(" ",i.amount>=0?i.amount:pe(14,10,-i.amount)," ")}}function ME(n,t){if(n&1&&(c(0,"div",104),qe(1,yE,15,12,"div",105,eE),l()),n&2){let i=y(2).$implicit,e=y(4);p(),Ke(e.getRecentTransactions(i))}}function PE(n,t){if(n&1&&(c(0,"div",84)(1,"mat-tab-group",85)(2,"mat-tab",86)(3,"div",87)(4,"div",88)(5,"span",89),g(6,"Account Name:"),l(),c(7,"span",90),g(8),l()(),c(9,"div",88)(10,"span",89),g(11,"Account Type:"),l(),c(12,"span",90),g(13),se(14,"titlecase"),l()(),c(15,"div",88)(16,"span",89),g(17,"Current Balance:"),l(),c(18,"span",90),g(19),se(20,"currency"),se(21,"currency"),l()(),L(22,pE,5,1,"div",91)(23,fE,6,4,"div",91),l()(),L(24,_E,37,16,"mat-tab",92)(25,bE,26,14,"mat-tab",93),c(26,"mat-tab",94)(27,"div",87),L(28,vE,5,0,"div",95)(29,ME,3,0,"div",96),l()(),c(30,"mat-tab",97)(31,"div",87)(32,"div",88)(33,"span",89),g(34,"Total Transactions:"),l(),c(35,"span",90),g(36),l()(),c(37,"div",88)(38,"span",89),g(39,"Total Deposits:"),l(),c(40,"span",98),g(41),se(42,"currency"),l()(),c(43,"div",88)(44,"span",89),g(45,"Total Withdrawals:"),l(),c(46,"span",99),g(47),se(48,"currency"),l()(),c(49,"div",88)(50,"span",89),g(51,"Average Transaction:"),l(),c(52,"span",90),g(53),se(54,"currency"),l()(),c(55,"div",88)(56,"span",89),g(57,"Largest Transaction:"),l(),c(58,"span",90),g(59),se(60,"currency"),l()(),c(61,"div",88)(62,"span",89),g(63,"This Month:"),l(),c(64,"span",90),g(65),se(66,"currency"),l()(),c(67,"div",88)(68,"span",89),g(69,"Last Month:"),l(),c(70,"span",90),g(71),se(72,"currency"),l()()()()()()),n&2){let i,e,r,a,o,s,d,u,m,f,_=y().$implicit,x=y(4);p(8),V(_.name),p(5),V(pe(14,18,_.type)),p(5),Tt(x.isLoanAccount(_)?"negative":_.balance>=0?"positive":"negative"),p(),ee(" ",x.isLoanAccount(_)?pe(20,20,-(((i=x.getLoanDetails(_))==null?null:i.remainingBalance)||0)):pe(21,22,_.balance)," "),p(3),O("ngIf",_.description),p(),O("ngIf",_.createdAt),p(),O("ngIf",x.isLoanAccount(_)),p(),O("ngIf",x.isCreditCardAccount(_)),p(3),O("ngIf",!((e=x.getRecentTransactions(_))!=null&&e.length)),p(),O("ngIf",(r=x.getRecentTransactions(_))==null?null:r.length),p(7),V(((a=x.getAccountStats(_))==null?null:a.totalTransactions)||0),p(5),V(pe(42,24,(o=x.getAccountStats(_))==null?null:o.totalDeposits)),p(6),V(pe(48,26,(s=x.getAccountStats(_))==null?null:s.totalWithdrawals)),p(6),V(pe(54,28,(d=x.getAccountStats(_))==null?null:d.averageTransaction)),p(6),V(pe(60,30,(u=x.getAccountStats(_))==null?null:u.largestTransaction)),p(6),V(pe(66,32,(m=x.getAccountStats(_))==null?null:m.thisMonth)),p(6),V(pe(72,34,(f=x.getAccountStats(_))==null?null:f.lastMonth))}}function OE(n,t){if(n&1){let i=ue();c(0,"div",59)(1,"div",60)(2,"div",61)(3,"div",62)(4,"div",63)(5,"mat-icon",64),g(6),l()(),c(7,"div",65)(8,"div",66)(9,"h3",67),g(10),se(11,"titlecase"),l()(),c(12,"div",68),L(13,gE,5,1,"div",69)(14,uE,3,3,"span",70),l(),c(15,"div",71)(16,"span",72),g(17,"Balance:"),l(),c(18,"span",73),g(19),se(20,"currency"),se(21,"currency"),l()()()()(),c(22,"div",74)(23,"mat-menu",null,1)(25,"button",75),R("click",function(){let r=j(i).$implicit,a=y(4);return z(a.viewAccountStatement(r))}),c(26,"mat-icon"),g(27,"receipt_long"),l(),g(28," View Statement"),l(),c(29,"button",76),R("click",function(){let r=j(i).$implicit,a=y(4);return z(a.editAccount(r))}),c(30,"mat-icon"),g(31,"edit"),l(),g(32," Edit"),l(),c(33,"button",77),R("click",function(){let r=j(i).$implicit,a=y(4);return z(a.deleteAccount(r))}),c(34,"mat-icon"),g(35,"delete"),l(),g(36," Delete"),l()(),c(37,"button",47)(38,"mat-icon"),g(39,"more_vert"),l()()()(),L(40,mE,6,2,"div",78)(41,PE,73,36,"div",79),l()}if(n&2){let i,e,r,a=t.$implicit,o=wn(24),s=y(4);Tt(s.getBalanceClass(a)),kt("--account-color",(i=s.getAccountGroup(a))==null?null:i.color)("--account-color-secondary",((e=s.getAccountGroup(a))==null?null:e.color)+"80"),Ue("expanded",(s.expandedAccount==null?null:s.expandedAccount.accountId)===a.accountId),p(6),V(s.getAccountIcon(a.type)),p(4),V(pe(11,17,a.name)),p(3),Oe(s.isLoanAccount(a)?13:14),p(5),Tt(s.isLoanAccount(a)?"negative":a.balance>=0?"positive":"negative"),p(),ee(" ",s.isLoanAccount(a)?pe(20,19,-(((r=s.getLoanDetails(a))==null?null:r.remainingBalance)||0)):pe(21,21,a.balance)," "),p(18),O("matMenuTriggerFor",o),p(3),O("ngIf",!s.breakpointService.device.isMobile),p(),O("ngIf",(s.expandedAccount==null?null:s.expandedAccount.accountId)===a.accountId)}}function wE(n,t){if(n&1&&(c(0,"div",49)(1,"div",50)(2,"div",51)(3,"span",31),g(4),l(),c(5,"h3",52),g(6),l(),L(7,lE,2,1,"span",53),l(),L(8,dE,6,5,"div",32),l(),c(9,"div",54),qe(10,OE,42,23,"div",55,nv),l()()),n&2){let i=t.$implicit,e=y(3);kt("--group-color",i.group.color),p(),kt("--group-color",i.group.color)("--group-color-secondary",i.group.color+"80"),p(3),V(i.group.emoji),p(2),V(i.group.name),p(),O("ngIf",!e.breakpointService.device.isMobile),p(),O("ngIf",!e.breakpointService.device.isMobile),p(2),Ke(i.accounts)}}function SE(n,t){if(n&1&&(c(0,"div"),qe(1,wE,12,10,"div",48,tv),l()),n&2){let i=y().ngIf,e=y();p(),Ke(e.getGroupedAccounts(i))}}function kE(n,t){if(n&1&&(c(0,"div",26),L(1,cE,3,0,"div",27)(2,SE,3,0,"div",28),l()),n&2){let i=y();O("ngClass",qa(3,iv,i.breakpointService.device.isTablePortrait)),p(),O("ngIf",i.isListViewMode),p(),O("ngIf",!i.isListViewMode)}}var sm=(()=>{let t=class t{constructor(e,r,a,o,s,d,u,m){this.auth=e,this.router=r,this.dialog=a,this.breakpointObserver=o,this.notificationService=s,this.store=d,this.dateService=u,this.breakpointService=m,this.quickActionsFabConfig={title:"Quick Actions",mainButtonIcon:"add",mainButtonColor:"primary",mainButtonTooltip:"Add Account",actions:[]},this.accounts$=_t([]),this.accounts=[],this.isLoading=!1,this.errorMessage="",this.selectedAccount=null,this.expandedAccount=null,this.isListViewMode=!1,this.transactions=[],this.userId="",this.destroy$=new It,this.breakpointService.device.isMobile&&(this.isListViewMode=!0),this.accounts$=this.store.select(Ta)||_t([]),this.isLoading$=this.store.select(nu),this.error$=this.store.select(vC),this.totalBalance$=this.store.select(yC)}ngOnInit(){this.initializeComponent()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeComponent(){return ge(this,null,function*(){let e=this.auth.currentUser;if(!e){this.errorMessage="User not authenticated";return}this.userId=e.uid,this.loadUserAccounts()})}loadUserAccounts(){this.store.dispatch(ea({userId:this.userId})),this.store.dispatch(ni({userId:this.userId})),this.accounts$.pipe(bt(this.destroy$)).subscribe(e=>{this.accounts=e}),this.isLoading$.pipe(bt(this.destroy$)).subscribe(e=>{this.isLoading=e}),this.error$.pipe(bt(this.destroy$)).subscribe(e=>{e&&(this.errorMessage="Failed to load accounts",console.error("Error loading accounts:",e))}),this.store.select(En).pipe(bt(this.destroy$)).subscribe(e=>{this.transactions=e||[]})}clearError(){this.errorMessage=""}toggleListViewMode(){this.isListViewMode=!this.isListViewMode}trackByAccountId(e,r){return r.accountId}openAccountDialog(e){this.dialog.open(Hd,{panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"desktop-dialog",data:e||null}).afterClosed().subscribe(a=>{a&&this.store.dispatch(ea({userId:this.userId}))})}editAccount(e){this.openAccountDialog(e)}deleteAccount(e){return ge(this,null,function*(){this.dialog.open(ma,{width:"400px",data:{title:"Delete Account",message:`Are you sure you want to delete "${e.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:"warn"}}).afterClosed().subscribe(a=>ge(this,null,function*(){if(a)try{this.store.dispatch(fl({userId:this.userId,accountId:e.accountId})),this.notificationService.success("Account deleted successfully")}catch(o){this.notificationService.error("Failed to delete account"),console.error("Error deleting account:",o)}}))})}addAccount(){this.openAccountDialog()}viewAccountStatement(e){this.dialog.open(Jb,{data:{account:e},width:"90vw",maxWidth:"800px",maxHeight:"90vh",panelClass:"account-statement-dialog"})}calculateMonthlyInterest(e){if(e.type!=="loan"||!e.loanDetails)return 0;let{interestRate:r,remainingBalance:a}=e.loanDetails;return r/12/100*a}isLoanAccount(e){return e.type==="loan"&&!!e.loanDetails}getLoanDetails(e){return e.loanDetails}isCreditCardAccount(e){return e.type===kr.CREDIT}getCreditCardDetails(e){return e.creditCardDetails}getDaySuffix(e){if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}calculateNextDueDate(e){var u;if(!((u=e.creditCardDetails)!=null&&u.dueDate))return new Date;let r=e.creditCardDetails.dueDate,a=new Date,o=a.getMonth(),s=a.getFullYear(),d=new Date(s,o,r);return d<a&&(d=new Date(s,o+1,r)),d}calculateNextBillingDate(e){var u;if(!((u=e.creditCardDetails)!=null&&u.billingCycleStart))return new Date;let r=e.creditCardDetails.billingCycleStart,a=new Date,o=a.getMonth(),s=a.getFullYear(),d=new Date(s,o,r);return d<a&&(d=new Date(s,o+1,r)),d}onAccountClick(e){var r;((r=this.selectedAccount)==null?void 0:r.accountId)===e.accountId?this.selectedAccount=null:this.selectedAccount=e}getBalanceClass(e){return e.type==="loan"?"loan-account":e.balance>=0?"positive-balance":"negative-balance"}getAccountIcon(e){switch(e){case"bank":return"account_balance";case"cash":return"payments";case"credit":return"credit_card";case"loan":return"account_balance_wallet";default:return"account_balance"}}toggleAccountExpansion(e){var r;((r=this.expandedAccount)==null?void 0:r.accountId)===e.accountId?this.expandedAccount=null:this.expandedAccount=e}getRecentTransactions(e){return this.transactions.filter(a=>a.accountId===e.accountId).filter(a=>a.date).sort((a,o)=>{if(!a.date||!o.date)return 0;let s=this.dateService.toDate(a.date),d=this.dateService.toDate(o.date);return!s||!d?0:d.getTime()-s.getTime()}).slice(0,10)}getAccountStats(e){let r=this.transactions.filter(w=>w.accountId===e.accountId);if(r.length===0)return{totalTransactions:0,totalDeposits:0,totalWithdrawals:0,averageTransaction:0,largestTransaction:0,thisMonth:0,lastMonth:0};let a=new Date,o=a.getMonth(),s=a.getFullYear(),d=o===0?11:o-1,u=o===0?s-1:s,m=r.filter(w=>w.amount>0).reduce((w,T)=>w+T.amount,0),f=r.filter(w=>w.amount<0).reduce((w,T)=>w+Math.abs(T.amount),0),_=r.length>0?r.reduce((w,T)=>w+Math.abs(T.amount),0)/r.length:0,x=r.length>0?Math.max(...r.map(w=>Math.abs(w.amount))):0,v=r.filter(w=>{if(!w.date)return!1;let T=this.dateService.toDate(w.date);return T&&T.getMonth()===o&&T.getFullYear()===s}),b=r.filter(w=>{if(!w.date)return!1;let T=this.dateService.toDate(w.date);return T&&T.getMonth()===d&&T.getFullYear()===u}),M=v.reduce((w,T)=>w+T.amount,0),S=b.reduce((w,T)=>w+T.amount,0);return{totalTransactions:r.length,totalDeposits:m,totalWithdrawals:f,averageTransaction:_,largestTransaction:x,thisMonth:M,lastMonth:S}}getAccountGroups(){return ql}getAccountGroup(e){return Mf(e.type)}getAccountsByGroup(e,r){let a=ql.find(o=>o.id===r);return a?e.filter(o=>a.accountTypes.includes(o.type)):[]}getGroupTotalBalance(e,r){return this.getAccountsByGroup(e,r).reduce((o,s)=>{let d=s.balance;return s.type===kr.LOAN&&s.loanDetails&&(d=-(s.loanDetails.remainingBalance||0)),o+d},0)}getGroupedAccounts(e){return ql.map(r=>{let a=this.getAccountsByGroup(e,r.id),o=this.getGroupTotalBalance(e,r.id);return{group:r,accounts:a,totalBalance:o}}).filter(r=>r.accounts.length>0)}};t.\u0275fac=function(r){return new(r||t)(W(Mt),W(on),W(xn),W(Tr),W(Ct),W(mt),W(Vt),W(sr))},t.\u0275cmp=Le({type:t,selectors:[["user-accounts"]],decls:21,vars:18,consts:[["listMenu","matMenu"],["menu","matMenu"],[3,"mainButtonClick","config"],[1,"accounts-container"],["class","error-message mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center justify-between",4,"ngIf"],[1,"accounts-grid"],[1,"accounts-list",3,"ngClass"],[1,"section-header"],[1,"header-content"],[1,"section-title"],[1,"flex","items-center","gap-2"],[1,"section-subtitle"],[3,"matTooltip","click",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","accounts-grid-list",3,"ngClass",4,"ngIf"],[1,"mt-5"],[1,"error-message","mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg","flex","items-center","justify-between"],[1,"text-red-700","text-sm"],["mat-icon-button","",1,"error-close-button",3,"click"],[3,"click","matTooltip"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-text"],["mat-raised-button","","color","primary","class","empty-state-button",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",1,"empty-state-button",3,"click"],[1,"accounts-grid-list",3,"ngClass"],["class","list-view-container pt-4",4,"ngIf"],[4,"ngIf"],[1,"list-view-container","pt-4"],[1,"group-header"],[1,"group-emoji"],["class","group-balance",4,"ngIf"],[1,"list-view-item",3,"border-left-color"],[1,"group-balance"],[1,"list-view-item"],[1,"list-view-content"],[1,"list-view-icon"],[1,"list-view-details"],[1,"list-view-name"],[1,"list-view-type"],[1,"list-view-balance"],[1,"list-view-actions"],["mat-menu-item","",1,"action-button","statement-button",3,"click"],["mat-menu-item","",1,"action-button","edit-button",3,"click"],["mat-menu-item","",1,"action-button","delete-button",3,"click"],[1,"!text-red-800"],["matIconButton","",3,"matMenuTriggerFor"],[1,"account-group-container",3,"--group-color"],[1,"account-group-container"],[1,"account-group-header"],[1,"group-info"],[1,"group-name"],["class","group-description",4,"ngIf"],[1,"group-accounts-grid"],[1,"account-item",3,"class","expanded","--account-color","--account-color-secondary"],[1,"group-description"],[1,"group-balance-label"],[1,"group-balance-value"],[1,"account-item"],[1,"account-content"],[1,"account-info"],[1,"account-icon-name"],[1,"account-icon-container"],[1,"account-icon"],[1,"account-details"],[1,"account-header"],[1,"account-name"],[1,"account-type-info"],[1,"loan-info"],[1,"account-type"],[1,"account-balance-info"],[1,"balance-label"],[1,"balance-value"],[1,"account-actions"],["mat-menu-item","","matTooltip","View account statement",1,"action-button","statement-button",3,"click"],["mat-menu-item","","matTooltip","Edit account",1,"action-button","edit-button",3,"click"],["mat-menu-item","","matTooltip","Delete account",1,"action-button","delete-button",3,"click"],["class","expand-section",4,"ngIf"],["class","account-details-expanded",4,"ngIf"],[1,"loan-label"],[1,"loan-value"],[1,"expand-section"],["mat-button","",1,"expand-btn",3,"click"],[1,"account-details-expanded"],[1,"details-tabs"],["label","Basic Details"],[1,"tab-content"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],["class","detail-row",4,"ngIf"],["label","Loan Details",4,"ngIf"],["label","Credit Card Details",4,"ngIf"],["label","Recent Transactions"],["class","no-transactions",4,"ngIf"],["class","transaction-list",4,"ngIf"],["label","Statistics"],[1,"detail-value","positive"],[1,"detail-value","negative"],["label","Loan Details"],[1,"detail-value","interest-amount"],["label","Credit Card Details"],[1,"no-transactions"],[1,"transaction-list"],[1,"transaction-item"],[1,"transaction-info"],[1,"transaction-description"],[1,"transaction-date"],[1,"transaction-amount-container"],[1,"transaction-amount"],[1,"amount-icon"],[1,"amount-sign"]],template:function(r,a){if(r&1&&(c(0,"app-quick-actions-fab",2),R("mainButtonClick",function(){return a.addAccount()}),l(),c(1,"div",3),L(2,tE,6,1,"div",4),c(3,"div",5)(4,"section",6)(5,"div",7)(6,"div",8)(7,"h2",9),g(8,"Manage Accounts"),l(),c(9,"span",10)(10,"p",11),g(11),se(12,"async"),se(13,"async"),l(),L(14,nE,2,2,"mat-icon",12),l()()(),L(15,rE,9,1,"div",13),se(16,"async"),L(17,kE,3,5,"div",14),se(18,"async"),c(19,"div",15),oe(20,"app-account-summary-card"),l()()()()),r&2){let o,s;O("config",a.quickActionsFabConfig),p(2),O("ngIf",a.errorMessage),p(2),O("ngClass",qa(16,iv,a.breakpointService.device.isTablePortrait)),p(7),Wt("(",((o=pe(12,8,a.accounts$))==null?null:o.length)||0," account",(((o=pe(13,10,a.accounts$))==null?null:o.length)||0)!==1?"s":"",")"),p(3),O("ngIf",!a.breakpointService.device.isMobile),p(),O("ngIf",((s=pe(16,12,a.accounts$))==null?null:s.length)===0),p(2),O("ngIf",pe(18,14,a.accounts$))}},dependencies:[Zn,ct,Zt,dn,Qe,_o,ho,xo,Il,Dl,Fn,ou,ko,wi,ir,Si,Hr],styles:['@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.accounts-container[_ngcontent-%COMP%]{padding:1rem;background:inherit;overflow:auto}@media (max-width: 640px){.accounts-container[_ngcontent-%COMP%]{padding:.5rem}}.error-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease}.error-message[_ngcontent-%COMP%]   .error-close-button[_ngcontent-%COMP%]{color:#dc2626;min-width:44px;min-height:44px}.add-account-btn[_ngcontent-%COMP%]{position:fixed;bottom:8rem;right:1rem;z-index:100;box-shadow:0 4px 12px #00000026;transition:all .2s ease}.add-account-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 16px #0003}.accounts-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;margin:0 auto;transition:opacity .3s ease}.accounts-grid.loading[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}@media (min-width: 768px){.accounts-grid[_ngcontent-%COMP%]{gap:2.5rem}}@media (max-width: 640px){.accounts-grid[_ngcontent-%COMP%]{gap:1.5rem}}.account-group-container[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1.5rem;background:#ffffff80;border-radius:5px;border:1px solid rgba(255,255,255,.3);box-shadow:0 4px 20px #0000000d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease}.account-group-container[_ngcontent-%COMP%]:hover{box-shadow:0 8px 30px #00000014}@media (max-width: 768px){.account-group-container[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1.5rem}}@media (max-width: 480px){.account-group-container[_ngcontent-%COMP%]{padding:.75rem;margin-bottom:1rem}}.group-accounts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.25rem;margin-top:1rem}@media (min-width: 1200px){.group-accounts-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:1.5rem}}@media (max-width: 768px){.group-accounts-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem}}@media (max-width: 640px){.group-accounts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.875rem}}.account-group-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:4px;margin:0 0 1rem;transition:all .3s ease;position:relative;overflow:hidden}.account-group-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.account-group-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-emoji[_ngcontent-%COMP%]{font-size:1.75rem;line-height:1;filter:drop-shadow(0 2px 4px rgba(0,0,0,.1))}.account-group-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text-primary);margin:0;letter-spacing:-.025em}.account-group-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-description[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary);opacity:.8;font-weight:500}.account-group-header[_ngcontent-%COMP%]   .group-balance[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem 1rem;border-radius:12px;background:#ffffff80;border:1px solid rgba(255,255,255,.3)}.account-group-header[_ngcontent-%COMP%]   .group-balance[_ngcontent-%COMP%]   .group-balance-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary);font-weight:600;text-transform:uppercase;letter-spacing:.05em}.account-group-header[_ngcontent-%COMP%]   .group-balance[_ngcontent-%COMP%]   .group-balance-value[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:8px}.account-group-header[_ngcontent-%COMP%]   .group-balance[_ngcontent-%COMP%]   .group-balance-value.positive[_ngcontent-%COMP%]{color:#059669;background:#0596691a;border-color:#0596694d}.account-group-header[_ngcontent-%COMP%]   .group-balance[_ngcontent-%COMP%]   .group-balance-value.negative[_ngcontent-%COMP%]{color:#dc2626;background:#dc26261a;border-color:#dc26264d}.accounts-list[_ngcontent-%COMP%]{width:100%;padding:.2rem}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]{max-height:100vh}}.accounts-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:2rem;position:relative}.accounts-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;flex:1}.accounts-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:clamp(1.25rem,3vw,2rem);font-weight:600;color:#1f2937;margin:0 0 .25rem;height:35px}.accounts-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:clamp(.75rem,2vw,1rem);margin:0}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;background:#fff;border-radius:12px;border:2px dashed #d1d5db}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{margin-bottom:1rem}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:clamp(2.5rem,6vw,4rem);width:clamp(2.5rem,6vw,4rem);height:clamp(2.5rem,6vw,4rem);color:#9ca3af}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.5rem);font-weight:500;color:#374151;margin:0 0 .5rem}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{color:#6b7280;font-size:clamp(.75rem,2vw,1rem);margin:0 0 1.5rem}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-state-button[_ngcontent-%COMP%]{min-height:44px;padding:.75rem 1.5rem;display:inline-flex;align-items:center;gap:.5rem}.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1rem;scrollbar-width:thin;scrollbar-color:#cbd5e1 #f1f5f9}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]{gap:1.5rem;max-height:60vh;overflow-y:auto}}.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;border:1px solid #e5e7eb;cursor:pointer;transition:all .3s ease;border-left:4px solid transparent;box-shadow:0 2px 8px #0000000a;position:relative;overflow:hidden}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--account-color, #3b82f6),var(--account-color-secondary, #8b5cf6));opacity:0;transition:opacity .3s ease}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]{padding:1.25rem;border-radius:12px}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 40px #0000001f;border-color:#d1d5db}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]:hover:before{opacity:1}.accounts-list[_ngcontent-%COMP%]   .account-item.positive-balance[_ngcontent-%COMP%]{border-left-color:#10b981;--account-color: #10b981;--account-color-secondary: #059669}.accounts-list[_ngcontent-%COMP%]   .account-item.negative-balance[_ngcontent-%COMP%]{border-left-color:#ef4444;--account-color: #ef4444;--account-color-secondary: #dc2626}.accounts-list[_ngcontent-%COMP%]   .account-item.loan-account[_ngcontent-%COMP%]{border-left-color:#f59e0b;--account-color: #f59e0b;--account-color-secondary: #d97706}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;position:relative}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-content[_ngcontent-%COMP%]{gap:.75rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]{padding:0 10px 10px;flex:1}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]{gap:.75rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-icon-container[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0;background:linear-gradient(135deg,#f3f4f6,#e5e7eb);box-shadow:0 2px 8px #0000001a;transition:all .3s ease}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-icon-container[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:10px}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-icon-container[_ngcontent-%COMP%]   .account-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem;color:#6b7280;transition:color .3s ease}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:.625rem}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]{gap:.5rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-header[_ngcontent-%COMP%]{gap:.125rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-header[_ngcontent-%COMP%]   .account-name[_ngcontent-%COMP%]{padding-top:8px;font-size:clamp(1rem,2.5vw,1.25rem);color:#1f2937;margin:0;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:80%}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-header[_ngcontent-%COMP%]   .account-name[_ngcontent-%COMP%]{font-size:1rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-type-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-type-info[_ngcontent-%COMP%]   .account-type[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-type-info[_ngcontent-%COMP%]   .loan-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;flex-wrap:wrap}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-type-info[_ngcontent-%COMP%]   .loan-info[_ngcontent-%COMP%]   .loan-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-type-info[_ngcontent-%COMP%]   .loan-info[_ngcontent-%COMP%]   .loan-value[_ngcontent-%COMP%]{font-size:.75rem;color:#dc2626;font-weight:600}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-balance-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;flex-wrap:wrap}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-balance-info[_ngcontent-%COMP%]   .balance-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-balance-info[_ngcontent-%COMP%]   .balance-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-balance-info[_ngcontent-%COMP%]   .balance-value.positive[_ngcontent-%COMP%]{color:#10b981}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-balance-info[_ngcontent-%COMP%]   .balance-value.negative[_ngcontent-%COMP%]{color:#ef4444}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]{color:#3b82f6}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3b82f6}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]{color:#dc2626}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#dc2626}.expand-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:8px 0;border-top:1px solid #e5e7eb}.expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover{color:#374151;background:#f3f4f6}.account-details-expanded[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;background:#f9fafb;animation:_ngcontent-%COMP%_slideDown .3s ease}.account-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-header{background:#fff;border-bottom:1px solid #e5e7eb}.account-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label{color:#6b7280;font-weight:500}.account-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label.mat-mdc-tab-label-active{color:#3b82f6}.account-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-ink-bar{background-color:#3b82f6}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:16px;background:#fff;min-height:200px}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f3f4f6}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-weight:500;color:#6b7280;font-size:.875rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-weight:600;color:#111827;font-size:.875rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.positive[_ngcontent-%COMP%]{color:#10b981}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.negative[_ngcontent-%COMP%]{color:#ef4444}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.interest-amount[_ngcontent-%COMP%]{color:#dc2626;font-weight:700}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]{text-align:center;padding:32px 16px;color:#6b7280}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;margin-bottom:8px;opacity:.5}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:#f9fafb;border-radius:6px;transition:background .2s ease}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background:#f3f4f6}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-description[_ngcontent-%COMP%]{font-weight:500;color:#111827;font-size:.875rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;display:flex;align-items:center;gap:4px;padding:4px 8px;border-radius:4px;transition:all .2s ease;cursor:pointer}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]   .amount-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]   .amount-sign[_ngcontent-%COMP%]{font-weight:700;font-size:.75rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.positive[_ngcontent-%COMP%]{color:#10b981;background:#10b9811a}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.positive[_ngcontent-%COMP%]   .amount-icon[_ngcontent-%COMP%], .account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.positive[_ngcontent-%COMP%]   .amount-sign[_ngcontent-%COMP%]{color:#059669}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.positive[_ngcontent-%COMP%]:hover{background:#10b98126;box-shadow:0 2px 8px #10b98133}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.negative[_ngcontent-%COMP%]{color:#ef4444;background:#ef44441a}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.negative[_ngcontent-%COMP%]   .amount-icon[_ngcontent-%COMP%], .account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.negative[_ngcontent-%COMP%]   .amount-sign[_ngcontent-%COMP%]{color:#dc2626}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.negative[_ngcontent-%COMP%]:hover{background:#ef444426;box-shadow:0 2px 8px #ef444433}@media (max-width: 768px){.accounts-container[_ngcontent-%COMP%]{padding:.5rem}.accounts-grid[_ngcontent-%COMP%]{gap:1rem}}@media (max-width: 480px){.accounts-container[_ngcontent-%COMP%]{padding:.25rem}.account-item[_ngcontent-%COMP%]{padding:.75rem}.account-item[_ngcontent-%COMP%]   .account-content[_ngcontent-%COMP%]{gap:.5rem}.account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]{padding:0 5px 5px}}.list-view-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.list-view-container[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;font-size:1rem;margin-bottom:.5rem;padding:.5rem 0;border-bottom:1px solid #e5e7eb}.list-view-container[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-emoji[_ngcontent-%COMP%]{font-size:1.25rem}.list-view-container[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-balance[_ngcontent-%COMP%]{font-weight:400;font-size:.875rem;color:#6b7280}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#fff;border:1px solid #e5e7eb;border-left:4px solid;border-radius:8px;transition:all .2s ease;margin-bottom:.5rem}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a;transform:translateY(-1px)}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem;min-width:1.5rem}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-details[_ngcontent-%COMP%]   .list-view-name[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#111827}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-details[_ngcontent-%COMP%]   .list-view-type[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-details[_ngcontent-%COMP%]   .list-view-balance[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-details[_ngcontent-%COMP%]   .list-view-balance.positive[_ngcontent-%COMP%]{color:#10b981}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-details[_ngcontent-%COMP%]   .list-view-balance.negative[_ngcontent-%COMP%]{color:#ef4444}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]{color:#3b82f6}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]{color:#ef4444}@media (prefers-color-scheme: dark){.list-view-container[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{border-bottom-color:#374151;color:#f9fafb}.list-view-container[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-balance[_ngcontent-%COMP%]{color:#9ca3af}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000004d}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-details[_ngcontent-%COMP%]   .list-view-name[_ngcontent-%COMP%]{color:#f9fafb}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-details[_ngcontent-%COMP%]   .list-view-type[_ngcontent-%COMP%]{color:#9ca3af}}@media (max-width: 768px){.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]{padding:.75rem}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]{gap:.75rem}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;min-width:1.25rem}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-details[_ngcontent-%COMP%]   .list-view-name[_ngcontent-%COMP%]{font-size:.875rem}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-details[_ngcontent-%COMP%]   .list-view-type[_ngcontent-%COMP%], .list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-details[_ngcontent-%COMP%]   .list-view-balance[_ngcontent-%COMP%]{font-size:.75rem}}']});let n=t;return n})();var Of=da(fa());var Kl=(()=>{let t=class t{constructor(e,r,a){this.fb=e,this.dateService=r,this.validationService=a}createBudgetForm(){return this.fb.group({hasBudget:[!1],budgetAmount:[0,this.validationService.getBudgetAmountValidators()],budgetPeriod:["monthly",tt.required],budgetStartDate:[new Date,tt.required],budgetEndDate:[null],budgetAlertThreshold:[80,this.validationService.getBudgetThresholdValidators()],budgetAlertEnabled:[!0]})}initializeBudgetForm(e,r){var a,o,s,d,u,m,f,_,x,v;(a=r==null?void 0:r.budget)!=null&&a.hasBudget&&e.patchValue({hasBudget:(o=r.budget)==null?void 0:o.hasBudget,budgetAmount:((s=r.budget)==null?void 0:s.budgetAmount)||0,budgetPeriod:((d=r.budget)==null?void 0:d.budgetPeriod)||"monthly",budgetStartDate:(u=r.budget)!=null&&u.budgetStartDate?this.dateService.toDate((m=r.budget)==null?void 0:m.budgetStartDate):new Date,budgetEndDate:(f=r.budget)!=null&&f.budgetEndDate?this.dateService.toDate((_=r.budget)==null?void 0:_.budgetEndDate):null,budgetAlertThreshold:((x=r.budget)==null?void 0:x.budgetAlertThreshold)||80,budgetAlertEnabled:((v=r.budget)==null?void 0:v.budgetAlertEnabled)!==!1}),this.setupBudgetFormValidation(e)}setupBudgetFormValidation(e){var r,a;(r=e.get("hasBudget"))==null||r.valueChanges.subscribe(o=>{var s,d,u,m,f,_,x,v,b,M,S,w;o?((s=e.get("budgetAmount"))==null||s.enable(),(d=e.get("budgetPeriod"))==null||d.enable(),(u=e.get("budgetStartDate"))==null||u.enable(),(m=e.get("budgetEndDate"))==null||m.enable(),(f=e.get("budgetAlertThreshold"))==null||f.enable(),(_=e.get("budgetAlertEnabled"))==null||_.enable()):((x=e.get("budgetAmount"))==null||x.disable(),(v=e.get("budgetPeriod"))==null||v.disable(),(b=e.get("budgetStartDate"))==null||b.disable(),(M=e.get("budgetEndDate"))==null||M.disable(),(S=e.get("budgetAlertThreshold"))==null||S.disable(),(w=e.get("budgetAlertEnabled"))==null||w.disable())}),(a=e.get("hasBudget"))==null||a.updateValueAndValidity()}getBudgetDataFromForm(e){var a;let r=e.value;return{hasBudget:r.hasBudget||!1,budgetAmount:r.hasBudget&&(r==null?void 0:r.budgetAmount)||0,budgetPeriod:r.hasBudget&&(r==null?void 0:r.budgetPeriod)||"monthly",budgetStartDate:r.hasBudget&&((a=r==null?void 0:r.budgetStartDate)==null?void 0:a.getTime())||null,budgetEndDate:r.hasBudget&&r.budgetEndDate?r.budgetEndDate.getTime():null,budgetAlertThreshold:r.hasBudget&&(r==null?void 0:r.budgetAlertThreshold)||80,budgetAlertEnabled:r.hasBudget&&(r==null?void 0:r.budgetAlertEnabled)||!0}}isBudgetFormValid(e){var r;return(r=e.get("hasBudget"))!=null&&r.value?e.valid:!0}getBudgetPeriods(){return[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}]}formatBudgetAmount(e){return e?e.toLocaleString(Ut.LANGUAGE.DEFAULT,{minimumFractionDigits:2,maximumFractionDigits:2}):"0"}formatBudgetPeriod(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}getBudgetProgressColor(e,r,a){var o;return!((o=e.budget)!=null&&o.hasBudget)||!r?"#6b7280":r>=100?"#ef4444":r>=a?"#f59e0b":r>=60?"#3b82f6":"#10b981"}};t.\u0275fac=function(r){return new(r||t)(Ne(Ei),Ne(Vt),Ne(Sa))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var rv=(n,t)=>t.id,EE=()=>[];function AE(n,t){n&1&&(c(0,"div",39)(1,"mat-icon"),g(2,"receipt_long"),l(),c(3,"p"),g(4,"No recent transactions"),l()())}function IE(n,t){if(n&1&&(c(0,"div",42)(1,"div",43)(2,"span",44),g(3),l(),c(4,"span",45),g(5),se(6,"date"),l()(),c(7,"span",46),g(8),se(9,"currency"),l()()),n&2){let i=t.$implicit,e=y(2);p(3),V(i.payee),p(2),V(vt(6,5,e.dateService.toDate(i.date),"shortDate")),p(2),Tt(i.amount>=0?"positive":"negative"),p(),ee(" ",pe(9,8,i.amount)," ")}}function DE(n,t){if(n&1&&(c(0,"div",40),L(1,IE,10,10,"div",41),l()),n&2){let i=y();p(),O("ngForOf",i.data.recentTransactions)}}function FE(n,t){if(n&1&&(c(0,"div",18)(1,"div",19)(2,"mat-icon"),g(3,"account_balance_wallet"),l(),c(4,"h3"),g(5,"Budget Summary"),l()(),c(6,"div",47)(7,"div",48)(8,"span",46),g(9),se(10,"currency"),l(),c(11,"span",49),g(12),l()(),c(13,"div",50)(14,"div",51),oe(15,"div",52),l(),c(16,"div",53)(17,"span",54),g(18),se(19,"currency"),l(),c(20,"span",55),g(21),l()()(),c(22,"div",56)(23,"div",57)(24,"span",22),g(25,"Remaining"),l(),c(26,"span",23),g(27),se(28,"currency"),l()()()()()),n&2){let i=y();p(9),V(pe(10,11,i.data.category.budget==null?null:i.data.category.budget.budgetAmount)),p(3),ee("/ ",i.formatBudgetPeriod(i.data.category.budget==null?null:i.data.category.budget.budgetPeriod),""),p(3),kt("width",i.Math.min(i.calculateBudgetProgressPercentage(i.data.category),100),"%")("background-color",i.getBudgetProgressColor(i.data.category)),p(3),ee("",pe(19,13,i.calculateBudgetSpent(i.data.category))," spent"),p(3),ee("",i.calculateBudgetProgressPercentage(i.data.category).toFixed(1),"%"),p(5),Tt(i.getRemainingBudgetClass(i.data.category)),p(),ee(" ",pe(28,15,i.calculateBudgetRemaining(i.data.category))," ")}}function RE(n,t){if(n&1&&(c(0,"div",21)(1,"span",22),g(2,"Transactions"),l(),c(3,"span",23),g(4),l()()),n&2){let i=y();p(4),V(i.data.categoryStats.totalTransactions)}}function NE(n,t){if(n&1&&(c(0,"div",25),oe(1,"app-category-card",58),l()),n&2){let i=t.$implicit,e=y();p(),O("category",i)("isMobile",!0)("recentTransactions",e.data.recentTransactions)("categoryStats",e.data.categoryStats)("allTransactions",e.data.allTransactions)("subCategories",Xa(8,EE))("subCategoryCount",0)("Math",e.Math)}}function LE(n,t){n&1&&(c(0,"div",28)(1,"span",22),g(2,"Parent Category"),l(),c(3,"span",23)(4,"mat-icon"),g(5,"account_tree"),l(),g(6," Subcategory "),l()())}function BE(n,t){if(n&1&&(c(0,"div",28)(1,"span",22),g(2,"Start Date"),l(),c(3,"span",23),g(4),se(5,"date"),l()()),n&2){let i=y(2);p(4),V(vt(5,1,i.dateService.toDate(i.data.category.budget==null?null:i.data.category.budget.budgetStartDate),"shortDate"))}}function VE(n,t){if(n&1&&(c(0,"div",27)(1,"h4"),g(2,"Budget Details"),l(),c(3,"div",28)(4,"span",22),g(5,"Budget Amount"),l(),c(6,"span",23),g(7),se(8,"currency"),l()(),c(9,"div",28)(10,"span",22),g(11,"Period"),l(),c(12,"span",23),g(13),l()(),L(14,BE,6,4,"div",30),l()),n&2){let i=y();p(7),V(pe(8,3,i.data.category.budget==null?null:i.data.category.budget.budgetAmount)),p(6),V(i.formatBudgetPeriod(i.data.category.budget==null?null:i.data.category.budget.budgetPeriod)),p(),O("ngIf",i.data.category.budget==null?null:i.data.category.budget.budgetStartDate)}}function $E(n,t){if(n&1&&oe(0,"app-category-card",58),n&2){let i=t.$implicit,e=y(2);O("category",i)("isMobile",!0)("recentTransactions",e.data.recentTransactions)("categoryStats",e.data.categoryStats)("allTransactions",e.data.allTransactions)("subCategories",e.data.subCategories)("subCategoryCount",e.data.subCategories.length)("Math",e.Math)}}function jE(n,t){if(n&1&&(c(0,"mat-tab",59)(1,"div",12)(2,"div",60),qe(3,$E,1,8,"app-category-card",58,rv),l()()()),n&2){let i=y();p(3),Ke(i.data.subCategories)}}var cm=(()=>{let t=class t{constructor(e,r,a){this.dialogRef=e,this.data=r,this.dateService=a,this.selectedTabIndex=0,this.Math=Math}ngOnInit(){}onClose(){this.dialogRef.close()}calculateBudgetSpent(e){var d,u;if(!((d=e.budget)!=null&&d.hasBudget)||!((u=e.budget)!=null&&u.budgetAmount))return 0;let r=this.data.allTransactions.filter(m=>m.categoryId===e.id&&m.type===ht.EXPENSE),a=e.budget.budgetStartDate,o=e.budget.budgetEndDate,s=r;if(a){let m=this.dateService.toDate(a);if(!m)return 0;s=s.filter(f=>{let _=this.dateService.toDate(f.date);return _&&_>=m})}if(o){let m=this.dateService.toDate(o);if(!m)return 0;s=s.filter(f=>{let _=this.dateService.toDate(f.date);return _&&_<=m})}return s.reduce((m,f)=>m+Math.abs(f.amount),0)}calculateBudgetRemaining(e){var a,o;if(!((a=e.budget)!=null&&a.hasBudget)||!((o=e.budget)!=null&&o.budgetAmount))return 0;let r=this.calculateBudgetSpent(e);return Math.max(0,(e.budget.budgetAmount||0)-r)}calculateBudgetProgressPercentage(e){var o,s;if(!((o=e.budget)!=null&&o.hasBudget)||!((s=e.budget)!=null&&s.budgetAmount))return 0;let r=this.calculateBudgetSpent(e),a=e.budget.budgetAmount||0;return a===0?0:r/a*100}getBudgetProgressColor(e){var o;let r=this.calculateBudgetProgressPercentage(e),a=((o=e.budget)==null?void 0:o.budgetAlertThreshold)||80;return r>=100?"#f44336":r>=a?"#ff9800":"#4caf50"}formatBudgetPeriod(e){return e?{daily:"Day",weekly:"Week",monthly:"Month",yearly:"Year"}[e]||e:""}getBudgetStatusClass(e){var o;let r=this.calculateBudgetProgressPercentage(e),a=((o=e.budget)==null?void 0:o.budgetAlertThreshold)||80;return r>=100?"budget-exceeded":r>=a?"budget-warning":"budget-ok"}getRemainingBudgetClass(e){return this.calculateBudgetRemaining(e)<=0?"budget-exceeded":"budget-ok"}calculateTotalSpentPerMonth(e){let r=this.data.allTransactions.filter(s=>s.categoryId===e.id&&s.type===ht.EXPENSE),a=new Date().getMonth(),o=new Date().getFullYear();return r.filter(s=>{let d=this.dateService.toDate(s.date);return d&&d.getMonth()===a&&d.getFullYear()===o}).reduce((s,d)=>s+Math.abs(d.amount),0)}calculateTotalIncomePerMonth(e){let r=this.data.allTransactions.filter(s=>s.categoryId===e.id&&s.type===ht.INCOME),a=new Date().getMonth(),o=new Date().getFullYear();return r.filter(s=>{let d=this.dateService.toDate(s.date);return d&&d.getMonth()===a&&d.getFullYear()===o}).reduce((s,d)=>s+d.amount,0)}getSubCategoryStats(e){let r=this.data.allTransactions.filter(x=>x.categoryId===e.id),a=r.length,o=r.filter(x=>x.type===ht.EXPENSE).reduce((x,v)=>x+Math.abs(v.amount),0),s=a>0?o/a:0,d=r.length>0?Math.max(...r.map(x=>Math.abs(x.amount))):0,u=new Date().getMonth(),m=new Date().getFullYear(),f=r.filter(x=>{let v=this.dateService.toDate(x.date);return v&&v.getMonth()===u&&v.getFullYear()===m}).filter(x=>x.type===ht.EXPENSE).reduce((x,v)=>x+Math.abs(v.amount),0),_=r.filter(x=>{let v=this.dateService.toDate(x.date);return v&&v.getMonth()===(u-1+12)%12&&v.getFullYear()===m}).filter(x=>x.type===ht.EXPENSE).reduce((x,v)=>x+Math.abs(v.amount),0);return{totalTransactions:a,totalSpent:o,averageTransaction:s,largestTransaction:d,thisMonth:f,lastMonth:_}}};t.\u0275fac=function(r){return new(r||t)(W(mi),W(pi),W(Vt))},t.\u0275cmp=Le({type:t,selectors:[["app-category-details-dialog"]],decls:113,vars:50,consts:[[1,"category-details-dialog"],["mat-fab","","aria-label","Close dialog",1,"floating-close-button",3,"click"],[1,"dialog-header"],[1,"category-header-info"],[1,"category-icon-container"],[1,"category-icon"],[1,"category-title"],[1,"category-type"],["mat-icon-button","",1,"close-button","desktop-close",3,"click"],[1,"dialog-content"],[1,"details-tabs",3,"selectedIndexChange","selectedIndex"],["label","Transactions"],[1,"tab-content"],[1,"transactions-section"],["class","no-transactions",4,"ngIf"],["class","transaction-list",4,"ngIf"],["label","Overview"],["class","summary-card",4,"ngIf"],[1,"summary-card"],[1,"card-header"],[1,"monthly-summary"],[1,"stat-row"],[1,"label"],[1,"value"],["class","stat-row",4,"ngIf"],[1,"mb-2"],["label","Details"],[1,"details-section"],[1,"detail-item"],[1,"color-preview"],["class","detail-item",4,"ngIf"],["class","details-section",4,"ngIf"],["label","Subcategories",4,"ngIf"],["label","Statistics"],[1,"statistics-grid"],[1,"stat-card"],[1,"stat-label"],[1,"stat-value"],[1,"stat-value","negative"],[1,"no-transactions"],[1,"transaction-list"],["class","transaction-item",4,"ngFor","ngForOf"],[1,"transaction-item"],[1,"transaction-info"],[1,"description"],[1,"date"],[1,"amount"],[1,"budget-overview"],[1,"budget-amount"],[1,"period"],[1,"budget-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-info"],[1,"spent"],[1,"percentage"],[1,"budget-stats"],[1,"stat"],[3,"category","isMobile","recentTransactions","categoryStats","allTransactions","subCategories","subCategoryCount","Math"],["label","Subcategories"],[1,"subcategories-list"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"button",1),R("click",function(){return a.onClose()}),c(2,"mat-icon"),g(3,"close"),l()(),c(4,"div",2)(5,"div",3)(6,"div",4)(7,"mat-icon",5),g(8),l()(),c(9,"div",6)(10,"h2"),g(11),l(),c(12,"span",7),g(13),se(14,"titlecase"),l()()(),c(15,"button",8),R("click",function(){return a.onClose()}),c(16,"mat-icon"),g(17,"close"),l()()(),c(18,"div",9)(19,"mat-tab-group",10),ut("selectedIndexChange",function(s){return gt(a.selectedTabIndex,s)||(a.selectedTabIndex=s),s}),c(20,"mat-tab",11)(21,"div",12)(22,"div",13),L(23,AE,5,0,"div",14)(24,DE,2,1,"div",15),l()()(),c(25,"mat-tab",16)(26,"div",12),L(27,FE,29,17,"div",17),c(28,"div",18)(29,"div",19)(30,"mat-icon"),g(31,"calendar_today"),l(),c(32,"h3"),g(33,"This Month"),l()(),c(34,"div",20)(35,"div",21)(36,"span",22),g(37),l(),c(38,"span",23),g(39),se(40,"currency"),se(41,"currency"),l()(),L(42,RE,5,1,"div",24),l()(),qe(43,NE,2,9,"div",25,rv),l()(),c(45,"mat-tab",26)(46,"div",12)(47,"div",27)(48,"div",28)(49,"span",22),g(50,"Category Name"),l(),c(51,"span",23),g(52),l()(),c(53,"div",28)(54,"span",22),g(55,"Type"),l(),c(56,"span",23),g(57),se(58,"titlecase"),l()(),c(59,"div",28)(60,"span",22),g(61,"Icon"),l(),c(62,"span",23)(63,"mat-icon"),g(64),l(),g(65),l()(),c(66,"div",28)(67,"span",22),g(68,"Color"),l(),c(69,"span",23),oe(70,"div",29),g(71),l()(),L(72,LE,7,0,"div",30),l(),L(73,VE,15,5,"div",31),l()(),L(74,jE,5,0,"mat-tab",32),c(75,"mat-tab",33)(76,"div",12)(77,"div",34)(78,"div",35)(79,"span",36),g(80,"Total Transactions"),l(),c(81,"span",37),g(82),l()(),c(83,"div",35)(84,"span",36),g(85,"Total Spent"),l(),c(86,"span",38),g(87),se(88,"currency"),l()(),c(89,"div",35)(90,"span",36),g(91,"Average Transaction"),l(),c(92,"span",37),g(93),se(94,"currency"),l()(),c(95,"div",35)(96,"span",36),g(97,"Largest Transaction"),l(),c(98,"span",38),g(99),se(100,"currency"),l()(),c(101,"div",35)(102,"span",36),g(103,"This Month"),l(),c(104,"span",38),g(105),se(106,"currency"),l()(),c(107,"div",35)(108,"span",36),g(109,"Last Month"),l(),c(110,"span",38),g(111),se(112,"currency"),l()()()()()()()()),r&2&&(p(7),kt("color",a.data.category.color),p(),ee(" ",a.data.category.icon||"category"," "),p(3),V(a.data.category.name),p(2),V(pe(14,32,a.data.category.type)),p(6),dt("selectedIndex",a.selectedTabIndex),p(4),O("ngIf",!(a.data.recentTransactions!=null&&a.data.recentTransactions.length)),p(),O("ngIf",a.data.recentTransactions==null?null:a.data.recentTransactions.length),p(3),O("ngIf",a.data.category==null||a.data.category.budget==null?null:a.data.category.budget.hasBudget),p(10),V(a.data.category.type==="expense"?"Spent":"Earned"),p(),Tt(a.data.category.type==="expense"?"negative":"positive"),p(),ee(" ",a.data.category.type==="expense"?pe(40,34,a.calculateTotalSpentPerMonth(a.data.category)):pe(41,36,a.calculateTotalIncomePerMonth(a.data.category))," "),p(3),O("ngIf",a.data.categoryStats==null?null:a.data.categoryStats.totalTransactions),p(),Ke(a.data.subCategories),p(9),V(a.data.category.name),p(5),V(pe(58,38,a.data.category.type)),p(6),kt("color",a.data.category.color),p(),V(a.data.category.icon||"category"),p(),ee(" ",a.data.category.icon||"category"," "),p(5),kt("background-color",a.data.category.color),p(),ee(" ",a.data.category.color," "),p(),O("ngIf",a.data.category.parentCategoryId),p(),O("ngIf",a.data.category==null||a.data.category.budget==null?null:a.data.category.budget.hasBudget),p(),O("ngIf",a.data.subCategories==null?null:a.data.subCategories.length),p(8),V((a.data.categoryStats==null?null:a.data.categoryStats.totalTransactions)||0),p(5),V(pe(88,40,a.data.categoryStats==null?null:a.data.categoryStats.totalSpent)),p(6),V(pe(94,42,a.data.categoryStats==null?null:a.data.categoryStats.averageTransaction)),p(6),V(pe(100,44,a.data.categoryStats==null?null:a.data.categoryStats.largestTransaction)),p(6),V(pe(106,46,a.data.categoryStats==null?null:a.data.categoryStats.thisMonth)),p(6),V(pe(112,48,a.data.categoryStats==null?null:a.data.categoryStats.lastMonth)))},styles:[".category-details-dialog[_ngcontent-%COMP%]{max-width:700px;width:90vw;max-height:85vh;display:flex;flex-direction:column;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 20px 40px #0000001a;position:relative}.category-details-dialog[_ngcontent-%COMP%]   .floating-close-button[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;z-index:1000;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(0,0,0,.1);box-shadow:0 4px 12px #00000026;width:48px;height:48px;display:none}.category-details-dialog[_ngcontent-%COMP%]   .floating-close-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#64748b;font-size:20px;width:20px;height:20px}.category-details-dialog[_ngcontent-%COMP%]   .floating-close-button[_ngcontent-%COMP%]:hover{background:#fff;transform:scale(1.05)}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px 32px;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-bottom:1px solid #e2e8f0;flex-shrink:0}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .category-header-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .category-header-info[_ngcontent-%COMP%]   .category-icon-container[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:16px;background:#fffc;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #0000001a}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .category-header-info[_ngcontent-%COMP%]   .category-icon-container[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .category-header-info[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 4px;font-size:24px;font-weight:700;color:#1e293b;line-height:1.2}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .category-header-info[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]   .category-type[_ngcontent-%COMP%]{font-size:14px;color:#64748b;text-transform:capitalize;font-weight:500}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#64748b;transition:all .2s ease}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:#1e293b;background:#0000000d}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-button.desktop-close[_ngcontent-%COMP%]{display:block}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{flex:1;overflow:hidden;display:flex;flex-direction:column;min-height:0}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-height:0}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-header{background:#f8fafc;border-bottom:1px solid #e2e8f0;flex-shrink:0}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-header .mat-tab-label{color:#64748b;font-weight:500;min-width:120px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-header .mat-tab-label.mat-tab-label-active{color:#3b82f6}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-header .mat-ink-bar{background-color:#3b82f6}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-body-wrapper{flex:1;overflow:hidden}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-body{height:100%;overflow:hidden;display:flex;flex-direction:column}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-body-content{height:100%;overflow:hidden;display:flex;flex-direction:column}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:24px 32px;min-height:0}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:12px;padding:24px;margin-bottom:20px;box-shadow:0 2px 8px #0000000a;transition:all .2s ease}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000014;transform:translateY(-1px)}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:20px;width:20px;height:20px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1e293b}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:8px;margin-bottom:16px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1e293b}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]   .period[_ngcontent-%COMP%]{font-size:16px;color:#64748b;font-weight:500}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]{margin-bottom:20px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#f1f5f9;border-radius:4px;overflow:hidden;margin-bottom:12px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease;border-radius:4px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .spent[_ngcontent-%COMP%]{font-size:14px;color:#64748b;font-weight:500}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;font-size:14px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#f8fafc;border-radius:8px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;font-weight:500}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#1e293b}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value.budget-ok[_ngcontent-%COMP%]{color:#059669}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value.budget-warning[_ngcontent-%COMP%]{color:#d97706}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value.budget-exceeded[_ngcontent-%COMP%]{color:#dc2626}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .monthly-summary[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f1f5f9}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .monthly-summary[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .monthly-summary[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;font-weight:500}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .monthly-summary[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#1e293b}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .monthly-summary[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .value.positive[_ngcontent-%COMP%]{color:#059669}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .monthly-summary[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .value.negative[_ngcontent-%COMP%]{color:#dc2626}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .subcategories-summary[_ngcontent-%COMP%]   .subcategory-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f1f5f9}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .subcategories-summary[_ngcontent-%COMP%]   .subcategory-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .subcategories-summary[_ngcontent-%COMP%]   .subcategory-item[_ngcontent-%COMP%]   .subcategory-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .subcategories-summary[_ngcontent-%COMP%]   .subcategory-item[_ngcontent-%COMP%]   .subcategory-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .subcategories-summary[_ngcontent-%COMP%]   .subcategory-item[_ngcontent-%COMP%]   .subcategory-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500;color:#1e293b;font-size:14px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .subcategories-summary[_ngcontent-%COMP%]   .subcategory-item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .subcategories-summary[_ngcontent-%COMP%]   .subcategory-item[_ngcontent-%COMP%]   .amount.positive[_ngcontent-%COMP%]{color:#059669}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .subcategories-summary[_ngcontent-%COMP%]   .subcategory-item[_ngcontent-%COMP%]   .amount.negative[_ngcontent-%COMP%]{color:#dc2626}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .subcategories-summary[_ngcontent-%COMP%]   .more-indicator[_ngcontent-%COMP%]{text-align:center;padding:12px 0;color:#64748b;font-size:14px;font-weight:500}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]{margin-bottom:32px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600;color:#1e293b;padding-bottom:8px;border-bottom:2px solid #e2e8f0}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 0;border-bottom:1px solid #f1f5f9}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;font-weight:500}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;display:flex;align-items:center;gap:8px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:6px;border:2px solid #e2e8f0}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:12px;padding:20px;transition:all .2s ease}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000014;transform:translateY(-1px)}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-header[_ngcontent-%COMP%]   .subcategory-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:#f8fafc;display:flex;align-items:center;justify-content:center}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-header[_ngcontent-%COMP%]   .subcategory-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-header[_ngcontent-%COMP%]   .subcategory-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;font-size:16px;display:block}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-header[_ngcontent-%COMP%]   .subcategory-info[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{font-size:12px;color:#64748b;text-transform:capitalize}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;padding:12px;background:#f8fafc;border-radius:8px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#64748b;font-weight:500}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#1e293b}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value.positive[_ngcontent-%COMP%]{color:#059669}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value.negative[_ngcontent-%COMP%]{color:#dc2626}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value.budget-ok[_ngcontent-%COMP%]{color:#059669}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value.budget-warning[_ngcontent-%COMP%]{color:#d97706}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value.budget-exceeded[_ngcontent-%COMP%]{color:#dc2626}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#94a3b8}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px;opacity:.5}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:#fff;border:1px solid #e2e8f0;border-radius:10px;transition:all .2s ease}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000000f}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;font-size:14px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .amount.positive[_ngcontent-%COMP%]{color:#059669}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .amount.negative[_ngcontent-%COMP%]{color:#dc2626}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:12px;padding:20px;text-align:center;transition:all .2s ease}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000014;transform:translateY(-2px)}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#64748b;font-weight:500;text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-size:24px;font-weight:700;color:#1e293b}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value.negative[_ngcontent-%COMP%]{color:#dc2626}.budget-ok[_ngcontent-%COMP%]{color:#059669!important}.budget-warning[_ngcontent-%COMP%]{color:#d97706!important}.budget-exceeded[_ngcontent-%COMP%]{color:#dc2626!important}@media (max-width: 768px){.category-details-dialog[_ngcontent-%COMP%]{width:100vw;height:100vh;max-height:100vh;border-radius:0;margin:0}.category-details-dialog[_ngcontent-%COMP%]   .floating-close-button[_ngcontent-%COMP%]{display:flex!important;align-items:center;justify-content:center}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{padding:60px 20px 16px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .category-header-info[_ngcontent-%COMP%]{gap:12px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .category-header-info[_ngcontent-%COMP%]   .category-icon-container[_ngcontent-%COMP%]{width:44px;height:44px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .category-header-info[_ngcontent-%COMP%]   .category-icon-container[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .category-header-info[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;line-height:1.3}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .category-header-info[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]   .category-type[_ngcontent-%COMP%]{font-size:13px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-button.desktop-close[_ngcontent-%COMP%]{display:none}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-header .mat-tab-label{min-width:80px;font-size:13px;padding:0 12px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:16px 20px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:16px;margin-bottom:16px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:16px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:24px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .budget-overview[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]   .period[_ngcontent-%COMP%]{font-size:14px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .monthly-summary[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{padding:10px 0}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .monthly-summary[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .monthly-summary[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .subcategories-summary[_ngcontent-%COMP%]   .subcategory-item[_ngcontent-%COMP%]{padding:10px 0}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .subcategories-summary[_ngcontent-%COMP%]   .subcategory-item[_ngcontent-%COMP%]   .subcategory-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .subcategories-summary[_ngcontent-%COMP%]   .subcategory-item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:13px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]{margin-bottom:24px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px;margin-bottom:12px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{padding:12px 0}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:13px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:20px;height:20px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]{gap:12px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]{padding:16px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-header[_ngcontent-%COMP%]{margin-bottom:12px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-header[_ngcontent-%COMP%]   .subcategory-icon[_ngcontent-%COMP%]{width:36px;height:36px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-header[_ngcontent-%COMP%]   .subcategory-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-header[_ngcontent-%COMP%]   .subcategory-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-header[_ngcontent-%COMP%]   .subcategory-info[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{font-size:11px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-stats[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:8px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{padding:10px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:11px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .subcategories-list[_ngcontent-%COMP%]   .subcategory-card[_ngcontent-%COMP%]   .subcategory-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:13px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]{gap:10px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{padding:14px 16px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:13px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:11px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:16px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:11px;margin-bottom:6px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:18px}}@media (min-width: 769px) and (max-width: 1024px){.category-details-dialog[_ngcontent-%COMP%]{width:85vw;max-width:800px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:20px 28px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:20px}.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1025px){.category-details-dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}"]});let n=t;return n})();var zE=(n,t)=>t.value;function YE(n,t){n&1&&(c(0,"mat-error"),g(1," Budget amount is required "),l())}function UE(n,t){n&1&&(c(0,"mat-error"),g(1," Budget amount must be greater than 0 "),l())}function GE(n,t){if(n&1&&(c(0,"div",16)(1,"label",17),g(2,"Budget Amount"),l(),c(3,"mat-form-field",18),oe(4,"input",19),L(5,YE,2,0,"mat-error",20)(6,UE,2,0,"mat-error",20),l()()),n&2){let i=y();p(5),O("ngIf",i.budgetAmountControl==null?null:i.budgetAmountControl.hasError("required")),p(),O("ngIf",i.budgetAmountControl==null?null:i.budgetAmountControl.hasError("min"))}}function WE(n,t){if(n&1&&(c(0,"mat-option",22),g(1),l()),n&2){let i=t.$implicit;O("value",i.value),p(),ee(" ",i.label," ")}}function HE(n,t){n&1&&(c(0,"mat-error"),g(1," Budget period is required "),l())}function XE(n,t){if(n&1&&(c(0,"div",16)(1,"label",17),g(2,"Budget Period"),l(),c(3,"mat-form-field",18)(4,"mat-select",21),qe(5,WE,2,2,"mat-option",22,zE),l(),L(7,HE,2,0,"mat-error",20),l()()),n&2){let i=y();p(5),Ke(i.budgetPeriods),p(2),O("ngIf",i.budgetPeriodControl==null?null:i.budgetPeriodControl.hasError("required"))}}function qE(n,t){n&1&&(c(0,"mat-error"),g(1," Start date is required "),l())}function KE(n,t){if(n&1&&(c(0,"div",16)(1,"label",17),g(2,"Start Date"),l(),c(3,"mat-form-field",18),oe(4,"input",23)(5,"mat-datepicker-toggle",24)(6,"mat-datepicker",null,0),L(8,qE,2,0,"mat-error",20),l()()),n&2){let i,e=wn(7),r=y();p(4),O("matDatepicker",e)("min",r.minDate)("max",r.maxDate),p(),O("for",e),p(3),O("ngIf",(i=r.budgetForm.get("budgetStartDate"))==null?null:i.hasError("required"))}}function ZE(n,t){if(n&1&&(c(0,"div",16)(1,"label",17),g(2,"End Date (Optional)"),l(),c(3,"mat-form-field",18),oe(4,"input",25)(5,"mat-datepicker-toggle",24)(6,"mat-datepicker",null,1),l()()),n&2){let i=wn(7),e=y();p(4),O("matDatepicker",i)("min",e.minDate)("max",e.maxDate),p(),O("for",i)}}function QE(n,t){n&1&&(c(0,"mat-error"),g(1," Threshold must be at least 0% "),l())}function JE(n,t){n&1&&(c(0,"mat-error"),g(1," Threshold cannot exceed 100% "),l())}function e5(n,t){if(n&1&&(c(0,"div",16)(1,"label",17),g(2,"Alert Threshold (%)"),l(),c(3,"mat-form-field",18),oe(4,"input",26),c(5,"mat-hint"),g(6,"Get notified when you reach this percentage of your budget"),l(),L(7,QE,2,0,"mat-error",20)(8,JE,2,0,"mat-error",20),l()()),n&2){let i,e,r=y();p(7),O("ngIf",(i=r.budgetForm.get("budgetAlertThreshold"))==null?null:i.hasError("min")),p(),O("ngIf",(e=r.budgetForm.get("budgetAlertThreshold"))==null?null:e.hasError("max"))}}function t5(n,t){n&1&&(c(0,"div",16)(1,"mat-slide-toggle",27)(2,"span",28),g(3,"Enable budget alerts"),l()()())}var ov=(()=>{let t=class t{constructor(e,r,a){this.dialogRef=e,this.data=r,this.budgetService=a,this.minDate=new Date,this.maxDate=new Date(new Date().getFullYear()+1,11,31),this.budgetForm=this.budgetService.createBudgetForm(),this.budgetPeriods=this.budgetService.getBudgetPeriods()}ngOnInit(){this.budgetService.initializeBudgetForm(this.budgetForm,this.data.category)}onCancel(){this.dialogRef.close()}onSave(){if(this.budgetService.isBudgetFormValid(this.budgetForm)){let e=this.budgetService.getBudgetDataFromForm(this.budgetForm);this.dialogRef.close(e)}}get isFormValid(){return this.budgetService.isBudgetFormValid(this.budgetForm)}get budgetAmountControl(){return this.budgetForm.get("budgetAmount")}get budgetPeriodControl(){return this.budgetForm.get("budgetPeriod")}};t.\u0275fac=function(r){return new(r||t)(W(mi),W(pi),W(Kl))},t.\u0275cmp=Le({type:t,selectors:[["app-category-budget-dialog"]],decls:30,vars:11,consts:[["startPicker",""],["endPicker",""],[1,"budget-dialog-container"],[1,"dialog-header"],["mat-dialog-title",""],[1,"header-icon"],["mat-icon-button","",1,"close-button",3,"click"],[1,"dialog-content"],[1,"budget-form",3,"formGroup"],[1,"form-field-toggle"],[1,"toggle-label","text-sm","font-semibold"],["formControlName","hasBudget","color","primary",1,"budget-toggle"],["class","form-field",4,"ngIf"],[1,"dialog-actions"],["mat-button","",1,"cancel-button",3,"click"],["mat-raised-button","","color","primary",1,"save-button",3,"click","disabled"],[1,"form-field"],[1,"field-label"],["appearance","fill",1,"form-input-field"],["matInput","","type","number","formControlName","budgetAmount","placeholder","0.00","step","0.01",1,"form-input"],[4,"ngIf"],["formControlName","budgetPeriod",1,"form-select"],[3,"value"],["matInput","","formControlName","budgetStartDate","placeholder","Choose start date",1,"form-input",3,"matDatepicker","min","max"],["matSuffix","",3,"for"],["matInput","","formControlName","budgetEndDate","placeholder","Choose end date (optional)",1,"form-input",3,"matDatepicker","min","max"],["matInput","","type","number","formControlName","budgetAlertThreshold","placeholder","80",1,"form-input"],["formControlName","budgetAlertEnabled","color","primary",1,"alert-toggle"],[1,"toggle-label"]],template:function(r,a){if(r&1&&(c(0,"div",2)(1,"div",3)(2,"h2",4)(3,"mat-icon",5),g(4,"account_balance_wallet"),l(),g(5),l(),c(6,"button",6),R("click",function(){return a.onCancel()}),c(7,"mat-icon"),g(8,"close"),l()()(),c(9,"mat-dialog-content",7)(10,"form",8)(11,"div",9)(12,"span",10),g(13),l(),oe(14,"mat-slide-toggle",11),l(),L(15,GE,7,2,"div",12)(16,XE,8,1,"div",12)(17,KE,9,5,"div",12)(18,ZE,8,4,"div",12)(19,e5,9,2,"div",12)(20,t5,4,0,"div",12),l()(),c(21,"mat-dialog-actions",13)(22,"button",14),R("click",function(){return a.onCancel()}),c(23,"mat-icon"),g(24,"cancel"),l(),g(25," Cancel "),l(),c(26,"button",15),R("click",function(){return a.onSave()}),c(27,"mat-icon"),g(28,"save"),l(),g(29),l()()()),r&2){let o,s,d,u,m,f;p(5),ee(" ",a.data.isEdit?"Edit":"Set"," Budget "),p(5),O("formGroup",a.budgetForm),p(3),ee("Set budget for ",a.data.category.name,""),p(2),O("ngIf",(o=a.budgetForm.get("hasBudget"))==null?null:o.value),p(),O("ngIf",(s=a.budgetForm.get("hasBudget"))==null?null:s.value),p(),O("ngIf",(d=a.budgetForm.get("hasBudget"))==null?null:d.value),p(),O("ngIf",(u=a.budgetForm.get("hasBudget"))==null?null:u.value),p(),O("ngIf",(m=a.budgetForm.get("hasBudget"))==null?null:m.value),p(),O("ngIf",(f=a.budgetForm.get("hasBudget"))==null?null:f.value),p(6),O("disabled",!a.isFormValid),p(3),ee(" ",a.data.isEdit?"Update":"Set"," Budget ")}},dependencies:[ct,Jn,Yt,rr,Bt,Qn,ki,Ti,Zt,dn,Qe,cu,lu,du,Di,au,po,fo,Fi,Ii,Ea,Jg,tu,eu,Aa],styles:["@media (max-width: 640px){.budget-dialog-container[_ngcontent-%COMP%]{min-width:320px;max-width:100vw}}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem 0;border-bottom:1px solid #e5e7eb}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-left:0!important;margin:0;display:flex;align-items:center;gap:.5rem;font-size:1.25rem;font-weight:600;color:#1f2937}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{color:#3b82f6}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#6b7280}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:#374151;background-color:#f3f4f6}.dialog-content[_ngcontent-%COMP%]{padding:1.5rem;max-height:70vh;overflow-y:auto}.dialog-content[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-weight:500;color:#374151;font-size:.875rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]{width:100%}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:.875rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%], .dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]{margin-top:.5rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-weight:500;color:#374151;margin-left:.5rem}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;padding:1rem 1.5rem 1.5rem;border-top:1px solid #e5e7eb}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{color:#6b7280}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:hover{color:#374151;background-color:#f3f4f6}.dialog-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.dialog-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb}.dialog-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{background-color:#9ca3af;color:#6b7280}.form-field-toggle[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline}"]});let n=t;return n})();var n5=()=>({round:!0});function i5(n,t){if(n&1&&oe(0,"div",34),n&2){let i=y(3);kt("width",i.getTimeProgressPercentage(i.category.budget==null?null:i.category.budget.budgetPeriod),"%")}}function r5(n,t){if(n&1&&(c(0,"span",37),g(1),se(2,"currency"),l()),n&2){let i=y(4);p(),ee(" Spent: ",vt(2,1,i.calculateBudgetSpent(i.category),Xa(4,n5))," ")}}function a5(n,t){if(n&1&&(c(0,"div",35),L(1,r5,3,5,"span",36),l()),n&2){let i=y(3);p(),O("ngIf",!i.isSpendingOnTrack(i.category))}}function o5(n,t){if(n&1&&(c(0,"div",28)(1,"div",29),L(2,i5,1,2,"div",30),oe(3,"div",31),l(),c(4,"span",32),g(5),se(6,"currency"),l(),L(7,a5,2,1,"div",33),l()),n&2){let i=y(2);p(),O("matTooltip",i.getProgressComparisonTooltip(i.category)),p(),O("ngIf",i.category.budget==null?null:i.category.budget.budgetPeriod),p(),kt("width",i.Math.min(i.calculateBudgetProgressPercentage(i.category),100),"%")("background-color",i.getBudgetProgressColor(i.category)),p(2),Wt(" ",pe(6,9,i.calculateBudgetSpent(i.category))," (",i.calculateBudgetProgressPercentage(i.category).toFixed(1),"%) "),p(2),O("ngIf",i.category.budget==null?null:i.category.budget.budgetPeriod)}}function s5(n,t){if(n&1&&(c(0,"div",22)(1,"div",23)(2,"span",24),g(3,"Budget:"),l(),c(4,"span",25),g(5),se(6,"currency"),l(),c(7,"span",26),g(8),l()(),L(9,o5,8,11,"div",27),l()),n&2){let i=y();p(5),V(pe(6,3,i.category.budget==null?null:i.category.budget.budgetAmount)),p(3),ee("/ ",i.getCurrentBudgetPeriodText(i.category.budget==null?null:i.category.budget.budgetPeriod),""),p(),O("ngIf",i.category.budget==null?null:i.category.budget.hasBudget)}}function c5(n,t){if(n&1&&(c(0,"div",38)(1,"span",39),g(2),l(),c(3,"span",40),g(4),se(5,"currency"),se(6,"currency"),l()()),n&2){let i=y();p(2),V(i.category.type==="expense"?"Spent:":"Income:"),p(2),V(i.category.type==="expense"?pe(5,2,i.calculateTotalSpentPerMonth(i.category)):pe(6,4,i.calculateTotalIncomePerMonth(i.category)))}}function l5(n,t){if(n&1&&(c(0,"div",38)(1,"span",39),g(2,"Total sub-categories:"),l(),c(3,"span",40),g(4),l()()),n&2){let i=y();p(4),V(i.subCategoryCount)}}function d5(n,t){if(n&1){let i=ue();c(0,"button",41),R("click",function(){j(i);let r=y();return z(r.onOpenBudgetDialog())}),c(1,"mat-icon"),g(2,"account_balance_wallet"),l(),g(3),l()}if(n&2){let i=y();O("matTooltip",i.category.budget!=null&&i.category.budget.hasBudget?"Edit budget":"Set budget"),p(3),ee(" ",i.category.budget!=null&&i.category.budget.hasBudget?"Edit Budget":"Set Budget"," ")}}function g5(n,t){if(n&1){let i=ue();c(0,"button",42),R("click",function(){j(i);let r=y();return z(r.onSelectParentCategory())}),c(1,"mat-icon"),g(2,"account_tree"),l(),g(3," Select Parent Category "),l()}}function u5(n,t){if(n&1){let i=ue();c(0,"button",43),R("click",function(){j(i);let r=y();return z(r.onRemoveFromParentCategory())}),c(1,"mat-icon"),g(2,"account_tree_off"),l(),g(3," Remove from Parent "),l()}}function m5(n,t){if(n&1){let i=ue();c(0,"div",44)(1,"button",45),R("click",function(){j(i);let r=y();return z(r.onOpenDetailsDialog())}),c(2,"mat-icon"),g(3,"expand_more"),l(),c(4,"span"),g(5,"Show More"),l()()()}}var lm=(()=>{let t=class t{constructor(e,r,a,o,s,d,u,m,f){this.dateService=e,this.dialog=r,this.notificationService=a,this.hapticFeedback=o,this.categoryService=s,this.budgetService=d,this.store=u,this.auth=m,this.breakpointService=f,this.isMobile=!1,this.recentTransactions=[],this.subCategoryCount=0,this.allTransactions=[],this.subCategories=[],this.userId="",this.initializeUserId(),this.subCategoryCount=this.subCategories.length||0}initializeUserId(){return ge(this,null,function*(){let e=yield this.auth.currentUser;e&&(this.userId=e.uid)})}calculateBudgetSpent(e){var d,u;if(!((d=e.budget)!=null&&d.hasBudget)||!((u=e.budget)!=null&&u.budgetAmount))return 0;let r=this.allTransactions.filter(m=>m.categoryId===e.id&&m.type===ht.EXPENSE),{startDate:a,endDate:o}=this.getDynamicBudgetPeriodDates(e.budget.budgetPeriod);return!a||!o?0:r.filter(m=>{let f=this.dateService.toDate(m.date);return f&&f>=a&&f<=o}).reduce((m,f)=>m+Math.abs(f.amount),0)}getDynamicBudgetPeriodDates(e){if(!e)return{startDate:null,endDate:null};let r=new Date,a,o;switch(e){case"daily":a=new Date(r.getFullYear(),r.getMonth(),r.getDate()),o=new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999);break;case"weekly":let s=r.getDay(),d=s===0?6:s-1;a=new Date(r.getFullYear(),r.getMonth(),r.getDate()-d),o=new Date(a.getTime()+6*24*60*60*1e3),o.setHours(23,59,59,999);break;case"monthly":a=new Date(r.getFullYear(),r.getMonth(),1),o=new Date(r.getFullYear(),r.getMonth()+1,0,23,59,59,999);break;case"yearly":a=new Date(r.getFullYear(),0,1),o=new Date(r.getFullYear(),11,31,23,59,59,999);break;default:return{startDate:null,endDate:null}}return{startDate:a,endDate:o}}getCurrentBudgetPeriodText(e){if(!e)return"";let{startDate:r,endDate:a}=this.getDynamicBudgetPeriodDates(e);if(!r||!a)return this.formatBudgetPeriod(e);let o=s=>s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:r.getFullYear()!==a.getFullYear()?"numeric":void 0});switch(e){case"daily":return"Day";case"weekly":return"Week";case"monthly":return"Month";case"yearly":return"Year";default:return this.formatBudgetPeriod(e)}}getRemainingDaysInBudgetPeriod(e){if(!e)return 0;let{endDate:r}=this.getDynamicBudgetPeriodDates(e);if(!r)return 0;let a=new Date,o=r.getTime()-a.getTime(),s=Math.ceil(o/(1e3*3600*24));return Math.max(0,s)}getTotalDaysInBudgetPeriod(e){if(!e)return 0;let{startDate:r,endDate:a}=this.getDynamicBudgetPeriodDates(e);if(!r||!a)return 0;let o=a.getTime()-r.getTime(),s=Math.ceil(o/(1e3*3600*24));return Math.max(1,s+1)}getDailyAverageSpending(e){var u;if(!((u=e.budget)!=null&&u.budgetPeriod))return 0;let r=this.calculateBudgetSpent(e),{startDate:a}=this.getDynamicBudgetPeriodDates(e.budget.budgetPeriod);if(!a)return 0;let s=new Date().getTime()-a.getTime(),d=Math.max(1,Math.ceil(s/(1e3*3600*24)));return r/d}getProjectedSpending(e){var o;if(!((o=e.budget)!=null&&o.budgetPeriod))return 0;let r=this.getDailyAverageSpending(e),a=this.getTotalDaysInBudgetPeriod(e.budget.budgetPeriod);return r*a}isSpendingOnTrack(e){var o,s;if(!((o=e.budget)!=null&&o.budgetAmount)||!((s=e.budget)!=null&&s.budgetPeriod))return!0;let r=this.getProjectedSpending(e),a=e.budget.budgetAmount;return r<=a}getTimeProgressPercentage(e){if(!e)return 0;let{startDate:r,endDate:a}=this.getDynamicBudgetPeriodDates(e);if(!r||!a)return 0;let o=new Date,s=a.getTime()-r.getTime(),d=o.getTime()-r.getTime();if(s<=0)return 0;let u=d/s*100;return Math.min(100,Math.max(0,u))}getTimeProgressTooltip(e){if(!e)return"";let{startDate:r,endDate:a}=this.getDynamicBudgetPeriodDates(e);if(!r||!a)return"";let o=this.getTimeProgressPercentage(e),s=this.getRemainingDaysInBudgetPeriod(e),u=this.getTotalDaysInBudgetPeriod(e)-s,m=f=>f.toLocaleDateString("en-US",{month:"short",day:"numeric",year:r.getFullYear()!==a.getFullYear()?"numeric":void 0});return`Time Progress: ${o.toFixed(1)}%
Period: ${m(r)} - ${m(a)}
Elapsed: ${u} days
Remaining: ${s} days`}getProgressComparisonTooltip(e){var m;if(!((m=e.budget)!=null&&m.budgetPeriod))return"";let r=this.calculateBudgetProgressPercentage(e),a=this.getTimeProgressPercentage(e.budget.budgetPeriod),o=this.calculateBudgetSpent(e),s=e.budget.budgetAmount||0,d=this.getRemainingDaysInBudgetPeriod(e.budget.budgetPeriod),u="";return r>a?u="\u26A0\uFE0F Spending  crossed":r<a?u="\u2705 Spending on track":u="\u2696\uFE0F Spending matches time",u}calculateBudgetRemaining(e){var a,o;if(!((a=e.budget)!=null&&a.hasBudget)||!((o=e.budget)!=null&&o.budgetAmount))return 0;let r=this.calculateBudgetSpent(e);return Math.max(0,(e.budget.budgetAmount||0)-r)}calculateBudgetProgressPercentage(e){var o,s;if(!((o=e.budget)!=null&&o.hasBudget)||!((s=e.budget)!=null&&s.budgetAmount))return 0;let r=this.calculateBudgetSpent(e),a=e.budget.budgetAmount||0;return a===0?0:Math.min(100,r/a*100)}calculateTotalSpentPerMonth(e){var s;if(!this.allTransactions||this.allTransactions.length===0)return 0;let r=this.allTransactions.filter(d=>d.categoryId===e.id&&d.type===ht.EXPENSE);if((s=e.budget)!=null&&s.budgetPeriod){let{startDate:d,endDate:u}=this.getDynamicBudgetPeriodDates(e.budget.budgetPeriod);if(d&&u)return r.filter(f=>{let _=this.dateService.toDate(f.date);return _&&_>=d&&_<=u}).reduce((f,_)=>f+Math.abs(_.amount),0)}let a=new Date().getMonth(),o=new Date().getFullYear();return r.filter(d=>{let u=this.dateService.toDate(d.date);return u?u.getMonth()===a&&u.getFullYear()===o:!1}).reduce((d,u)=>d+Math.abs(u.amount),0)}calculateTotalIncomePerMonth(e){var s;if(!this.allTransactions||this.allTransactions.length===0)return 0;let r=this.allTransactions.filter(d=>d.categoryId===e.id&&d.type===ht.INCOME);if((s=e.budget)!=null&&s.budgetPeriod){let{startDate:d,endDate:u}=this.getDynamicBudgetPeriodDates(e.budget.budgetPeriod);if(d&&u)return r.filter(f=>{let _=this.dateService.toDate(f.date);return _&&_>=d&&_<=u}).reduce((f,_)=>f+Math.abs(_.amount),0)}let a=new Date().getMonth(),o=new Date().getFullYear();return r.filter(d=>{let u=this.dateService.toDate(d.date);return u?d.amount>0&&u.getMonth()===a&&u.getFullYear()===o:!1}).reduce((d,u)=>d+u.amount,0)}getBudgetProgressColor(e){let r=this.calculateBudgetProgressPercentage(e);return r>=100?"#ef4444":r>=80?"#f59e0b":r>=60?"#3b82f6":"#10b981"}formatBudgetPeriod(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}getBudgetStatusClass(e){let r=this.calculateBudgetProgressPercentage(e);return r>=100?"danger":r>=80?"warning":"safe"}getRemainingBudgetClass(e){return this.calculateBudgetRemaining(e)<0?"danger":"safe"}onEditCategory(){this.isMobile?this.openMobileEditDialog():this.openEditDialog()}onDeleteCategory(){this.categoryService.performDelete(this.category,this.userId)}onOpenBudgetDialog(){this.openBudgetDialog()}onSelectParentCategory(){this.openParentCategorySelectorDialog()}onRemoveFromParentCategory(){this.removeFromParentCategory()}onOpenDetailsDialog(){let e={category:this.category,subCategories:this.subCategories,recentTransactions:this.recentTransactions,categoryStats:this.categoryStats,allTransactions:this.allTransactions};this.dialog.open(cm,{data:e,width:"90vw",maxWidth:"700px",height:"85vh",maxHeight:"85vh",disableClose:!1,autoFocus:!1,hasBackdrop:!0,backdropClass:"dialog-backdrop",panelClass:"category-details-dialog-panel"})}openMobileEditDialog(){this.dialog.open(wc,{width:"100vw",height:"100vh",maxWidth:"100vw",maxHeight:"100vh",data:{category:ce({},this.category),isEdit:!0},disableClose:!1,autoFocus:!1,hasBackdrop:!0,backdropClass:"dialog-backdrop",panelClass:"mobile-category-dialog-panel"}).afterClosed().subscribe(r=>{r&&(this.notificationService.success("Category updated successfully"),this.hapticFeedback.successVibration())})}openEditDialog(){this.dialog.open(wc,{width:"500px",maxWidth:"90vw",data:{category:ce({},this.category),isEdit:!0},disableClose:!1}).afterClosed().subscribe(r=>{r&&this.notificationService.success("Category updated successfully")})}openBudgetDialog(){var r;this.dialog.open(ov,{width:"500px",maxWidth:"90vw",data:{category:this.category,isEdit:((r=this.category.budget)==null?void 0:r.hasBudget)||!1},disableClose:!1}).afterClosed().subscribe(a=>{a&&this.updateCategoryBudget(a)})}updateCategoryBudget(e){if(!this.category.id){this.notificationService.error("Category ID not found");return}this.store.dispatch(wa({userId:this.userId,categoryId:this.category.id,name:this.category.name,categoryType:this.category.type,icon:this.category.icon,color:this.category.color,budgetData:e})),this.notificationService.success(e.hasBudget?"Budget set successfully for "+this.category.name:"Budget removed from "+this.category.name)}openParentCategorySelectorDialog(){this.categoryService.openParentCategorySelectorDialog(this.category).subscribe(e=>{e&&this.convertToSubCategory(e)})}convertToSubCategory(e){if(!this.category.id||!e.id){this.notificationService.error("Category ID not found");return}this.store.dispatch(wa({userId:this.userId,categoryId:this.category.id,name:this.category.name,categoryType:this.category.type,icon:this.category.icon,color:this.category.color,parentCategoryId:e.id,isSubCategory:!0})),this.notificationService.success(`${this.category.name} is now a sub-category of ${e.name}`)}removeFromParentCategory(){if(!this.category.id){this.notificationService.error("Category ID not found");return}this.store.dispatch(wa({userId:this.userId,categoryId:this.category.id,name:this.category.name,categoryType:this.category.type,icon:this.category.icon,color:this.category.color,parentCategoryId:null,isSubCategory:!1})),this.category.parentCategoryId&&this.notificationService.success(`${this.category.name} is no longer a sub-category`)}};t.\u0275fac=function(r){return new(r||t)(W(Vt),W(xn),W(Ct),W(Ar),W(So),W(Kl),W(mt),W(Mt),W(sr))},t.\u0275cmp=Le({type:t,selectors:[["app-category-card"]],inputs:{category:"category",isMobile:"isMobile",recentTransactions:"recentTransactions",categoryStats:"categoryStats",subCategoryCount:"subCategoryCount",Math:"Math",allTransactions:"allTransactions",subCategories:"subCategories"},decls:35,vars:17,consts:[["menu","matMenu"],[1,"category-item"],[1,"category-content"],[1,"category-info"],[1,"category-icon-name"],[1,"category-icon-container"],[1,"category-icon"],[1,"category-header"],[1,"category-name"],[1,"text-[0.6rem]","text-gray-400","italic"],[1,"category-details"],["class","budget-info",4,"ngIf"],["class","category-spent",4,"ngIf"],[1,"category-actions"],["mat-menu-item","","class","action-button budget-button",3,"matTooltip","click",4,"ngIf"],["mat-menu-item","","matTooltip","Edit category",1,"action-button","edit-button",3,"click"],["mat-menu-item","","class","action-button parent-button","matTooltip","Select parent category",3,"click",4,"ngIf"],["mat-menu-item","","class","action-button remove-parent-button","matTooltip","Remove from parent category",3,"click",4,"ngIf"],["mat-menu-item","","matTooltip","Delete category",1,"action-button","delete-button",3,"click"],[1,"!text-red-800"],["matIconButton","",3,"matMenuTriggerFor"],["class","expand-section",4,"ngIf"],[1,"budget-info"],[1,"budget-amount"],[1,"budget-label"],[1,"budget-value"],[1,"budget-period"],["class","budget-progress",4,"ngIf"],[1,"budget-progress"],["matTooltipPosition","above",1,"progress-bar",3,"matTooltip"],["class","time-progress-bg",3,"width",4,"ngIf"],[1,"spending-progress-fill"],[1,"progress-text"],["class","budget-details",4,"ngIf"],[1,"time-progress-bg"],[1,"budget-details"],["class","budget-detail-item text-red-600",4,"ngIf"],[1,"budget-detail-item","text-red-600"],[1,"category-spent"],[1,"category-spent-label"],[1,"category-spent-value"],["mat-menu-item","",1,"action-button","budget-button",3,"click","matTooltip"],["mat-menu-item","","matTooltip","Select parent category",1,"action-button","parent-button",3,"click"],["mat-menu-item","","matTooltip","Remove from parent category",1,"action-button","remove-parent-button",3,"click"],[1,"expand-section"],["mat-button","",1,"expand-btn",3,"click"]],template:function(r,a){if(r&1){let o=ue();c(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"mat-icon",6),g(6),l()(),c(7,"div",7)(8,"h3",8),g(9),c(10,"span",9),g(11),se(12,"titlecase"),l()()()(),c(13,"div",10),L(14,s5,10,5,"div",11)(15,c5,7,6,"div",12)(16,l5,5,1,"div",12),l()(),c(17,"div",13)(18,"mat-menu",null,0),L(20,d5,4,2,"button",14),c(21,"button",15),R("click",function(){return j(o),z(a.onEditCategory())}),c(22,"mat-icon"),g(23,"edit"),l(),g(24," Edit "),l(),L(25,g5,4,0,"button",16)(26,u5,4,0,"button",17),c(27,"button",18),R("click",function(){return j(o),z(a.onDeleteCategory())}),c(28,"mat-icon",19),g(29,"delete"),l(),g(30," Delete "),l()(),c(31,"button",20)(32,"mat-icon"),g(33,"more_vert"),l()()()(),L(34,m5,6,0,"div",21),l()}if(r&2){let o=wn(19);kt("border-left-color",a.category.color),p(5),kt("color",a.category.color),p(),V(a.category.icon||"category"),p(3),ee("",a.category.name," "),p(2),ee(" ",pe(12,15,a.category.type),""),p(3),O("ngIf",a.category==null||a.category.budget==null?null:a.category.budget.hasBudget),p(),O("ngIf",!(!(a.category==null||a.category.budget==null)&&a.category.budget.hasBudget)),p(),O("ngIf",a.breakpointService.device.isDesktop&&a.subCategoryCount>0),p(4),O("ngIf",a.category.type==="expense"),p(5),O("ngIf",!a.category.isSubCategory&&!(a.category.subCategories!=null&&a.category.subCategories.length)),p(),O("ngIf",a.category.isSubCategory||a.category.parentCategoryId),p(5),O("matMenuTriggerFor",o),p(3),O("ngIf",!a.isMobile)}},dependencies:[ct,Zt,Qe,_o,ho,xo,Fn,ir,Hr],styles:["@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.category-item[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:12px;padding:1.25rem;border:1px solid #e5e7eb;cursor:pointer;transition:all .2s ease;border-left:4px solid transparent;min-height:12.6rem}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]{padding:.5rem;border-radius:10px;min-height:inherit}}.category-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a;border-color:#d1d5db}.category-item.expanded[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;position:relative}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]{gap:.75rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{flex:1;min-width:0;padding-right:3rem}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{padding-right:1.5rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;margin-bottom:.75rem}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:.5rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-icon-container[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-icon-container[_ngcontent-%COMP%]{width:2rem;height:2rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-icon-container[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem;color:#fff}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-icon-container[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;flex:1;min-width:0}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{gap:.125rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.25rem);font-weight:600;color:#1f2937;margin:0;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:.5rem}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]{gap:.375rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.375rem;width:100%}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]{gap:.25rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;flex-wrap:wrap}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]   .budget-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]   .budget-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]   .budget-period[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background-color:#e5e7eb;border-radius:4px;overflow:hidden;position:relative}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .time-progress-bg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;background:linear-gradient(90deg,#d1d5db,#9ca3af);border-radius:4px;transition:width .3s ease;opacity:.6;z-index:1}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .spending-progress-fill[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;transition:width .3s ease;border-radius:4px;z-index:2;box-shadow:0 1px 2px #0000001a}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;display:block;line-height:1.2}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-legend[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-top:.25rem}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:2px}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color.spending[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#1d4ed8)}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color.time[_ngcontent-%COMP%]{background:linear-gradient(90deg,#d1d5db,#9ca3af)}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-text[_ngcontent-%COMP%]{font-size:.625rem;color:#6b7280;font-weight:500}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .budget-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem;margin-top:.25rem}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .budget-details[_ngcontent-%COMP%]   .budget-detail-item[_ngcontent-%COMP%]{font-size:.85rem;color:#6b7280;line-height:1.2}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .budget-details[_ngcontent-%COMP%]   .budget-detail-item.text-red-600[_ngcontent-%COMP%]{color:#dc2626;font-weight:500}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-spent[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.25rem;flex-wrap:wrap;padding:.25rem 0}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-spent[_ngcontent-%COMP%]   .category-spent-label[_ngcontent-%COMP%]{font-size:.775rem;color:#6b7280;font-weight:500}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-spent[_ngcontent-%COMP%]   .category-spent-value[_ngcontent-%COMP%]{font-size:.775rem;font-weight:600;color:#6b7280;position:relative;left:.3rem}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0;align-items:flex-start;position:absolute;right:0;top:0}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]{gap:.25rem}}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   button[matIconButton][_ngcontent-%COMP%]{min-width:44px;min-height:44px}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   button[matIconButton][_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   button[matIconButton][_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1)}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   button[matIconButton][_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1)}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.budget-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#dbeafe}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.budget-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:#2563eb}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.budget-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#fef3c7}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:#d97706}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#fee2e2}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:#dc2626}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.parent-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#e0e7ff}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.parent-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:#6366f1}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.parent-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.remove-parent-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#fef3c7}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.remove-parent-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:#f59e0b}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.remove-parent-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.expand-section[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;font-weight:500;transition:all .2s ease}.expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover{color:#3b82f6;background:#eff6ff}.expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;margin-right:.5rem}.category-details-expanded[_ngcontent-%COMP%]{margin-top:1.5rem;border-top:1px solid #e5e7eb;padding-top:1.5rem}.category-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-header{border-bottom:1px solid #e5e7eb}.category-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-header .mat-mdc-tab-label-container .mat-mdc-tab-label{color:#6b7280;font-weight:500;min-width:120px}.category-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-header .mat-mdc-tab-label-container .mat-mdc-tab-label.mat-mdc-tab-label-active{color:#3b82f6}.category-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-header .mat-mdc-tab-label-container .mat-mdc-tab-header-pagination{display:none}.category-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-header .mat-mdc-ink-bar{background-color:#3b82f6}.category-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-body-wrapper .mat-mdc-tab-body .mat-mdc-tab-body-content{padding:1rem 0}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;border-bottom:1px solid #f3f4f6}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.875rem;color:#1f2937;font-weight:600;display:flex;align-items:center;gap:.5rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.danger[_ngcontent-%COMP%]{color:#dc2626}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.warning[_ngcontent-%COMP%]{color:#f59e0b}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.safe[_ngcontent-%COMP%]{color:#10b981}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.negative[_ngcontent-%COMP%]{color:#dc2626}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:50%;border:1px solid #d1d5db}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-budget-details[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-budget-details[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:#9ca3af;margin-bottom:1rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-budget-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#374151;margin:0 0 .5rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-budget-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0 0 1.5rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#9ca3af;margin-bottom:1rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;border-bottom:1px solid #f3f4f6}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-description[_ngcontent-%COMP%]{font-size:.875rem;color:#1f2937;font-weight:500}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.positive[_ngcontent-%COMP%]{color:#10b981}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.negative[_ngcontent-%COMP%]{color:#dc2626}"]});let n=t;return n})();var dm=(n,t)=>t.id,h5=n=>({"px-10":n}),_5=(n,t)=>({"!max-h-[100vh]":n,"!max-h-[75vh]":t}),x5=n=>({"lg:grid-cols-4":n});function C5(n,t){if(n&1){let i=ue();c(0,"div",15)(1,"p",16),g(2),l(),c(3,"button",17),R("click",function(){j(i);let r=y();return z(r.clearError())}),c(4,"mat-icon"),g(5,"close"),l()()()}if(n&2){let i=y();p(2),V(i.errorMessage)}}function b5(n,t){if(n&1){let i=ue();c(0,"button",23),R("click",function(){j(i);let r=y(2);return z(r.openAddMobileDialog())}),c(1,"mat-icon"),g(2,"add"),l(),g(3," Add Category "),l()}}function v5(n,t){if(n&1&&(c(0,"div",18)(1,"div",19)(2,"mat-icon"),g(3,"local_offer"),l()(),c(4,"h3",20),g(5,"No categories yet"),l(),c(6,"p",21),g(7,"Add your first category to get started"),l(),L(8,b5,4,0,"button",22),l()),n&2){let i=y();p(8),O("ngIf",i.breakpointService.device.isMobile)}}function y5(n,t){if(n&1){let i=ue();c(0,"div",31)(1,"div",32)(2,"mat-icon",33),g(3),l(),c(4,"span",34),g(5),l(),c(6,"span",35),g(7),se(8,"titlecase"),l()(),c(9,"div",36)(10,"mat-menu",null,0)(12,"button",37),R("click",function(){j(i);let r=y().$implicit,a=y(3);return z(a.openMobileDialog(r))}),c(13,"mat-icon"),g(14,"edit"),l(),g(15," Edit"),l(),c(16,"button",38),R("click",function(){j(i);let r=y().$implicit,a=y(3);return z(a.deleteCategory(r))}),c(17,"mat-icon",39),g(18,"delete"),l(),g(19," Delete"),l()(),c(20,"button",40)(21,"mat-icon"),g(22,"more_vert"),l()()()()}if(n&2){let i=wn(11),e=y().$implicit;kt("border-left-color",e.color),p(2),kt("color",e.color),p(),V(e.icon||"category"),p(2),V(e.name),p(2),V(pe(8,8,e.type)),p(13),O("matMenuTriggerFor",i)}}function M5(n,t){if(n&1){let i=ue();c(0,"div",43)(1,"div",32)(2,"mat-icon",33),g(3),l(),c(4,"span",34),g(5),l(),c(6,"span",35),g(7),se(8,"titlecase"),l()(),c(9,"div",36)(10,"mat-menu",null,1)(12,"button",37),R("click",function(){let r=j(i).$implicit,a=y(5);return z(a.openMobileDialog(r))}),c(13,"mat-icon"),g(14,"edit"),l(),g(15," Edit"),l(),c(16,"button",38),R("click",function(){let r=j(i).$implicit,a=y(5);return z(a.openMobileDialog(r))}),c(17,"mat-icon",39),g(18,"delete"),l(),g(19," Delete"),l()(),c(20,"button",40)(21,"mat-icon"),g(22,"more_vert"),l()()()()}if(n&2){let i=t.$implicit,e=wn(11);kt("border-left-color",i.color),p(2),kt("color",i.color),p(),V(i.icon||"category"),p(2),V(i.name),p(2),V(pe(8,8,i.type)),p(13),O("matMenuTriggerFor",e)}}function P5(n,t){if(n&1&&(c(0,"div",30)(1,"div",41),g(2,"Sub-categories"),l(),qe(3,M5,23,10,"div",42,dm),l()),n&2){let i=y().$implicit,e=y(3);p(3),Ke(e.getSubCategoriesForCategory(i.id))}}function O5(n,t){if(n&1&&L(0,y5,23,10,"div",29)(1,P5,5,0,"div",30),n&2){let i=t.$implicit,e=y(3);Oe(!i.isSubCategory&&!i.parentCategoryId?0:-1),p(),Oe(e.getSubCategoriesForCategory(i.id).length>0&&e.breakpointService.device.isMobile?1:-1)}}function w5(n,t){if(n&1&&(c(0,"div",28),qe(1,O5,2,2,null,null,dm),l()),n&2){let i=y(2);p(),Ke(i.categories)}}function S5(n,t){if(n&1&&oe(0,"app-category-card",45),n&2){let i=y().$implicit,e=y(3);O("category",i)("isMobile",e.breakpointService.device.isMobile)("recentTransactions",e.getRecentTransactions(i))("categoryStats",e.getCategoryStats(i))("allTransactions",e.transactions)("subCategories",e.getSubCategoriesForCategory(i.id))("Math",e.Math)}}function k5(n,t){if(n&1&&oe(0,"app-category-card",48),n&2){let i=t.$implicit,e=y(2).$implicit,r=y(3);O("category",i)("isMobile",r.breakpointService.device.isMobile)("recentTransactions",r.getRecentTransactions(i))("categoryStats",r.getCategoryStats(i))("allTransactions",r.transactions)("subCategories",r.getSubCategoriesForCategory(e.id))("subCategoryCount",0)("Math",r.Math)}}function T5(n,t){if(n&1&&(c(0,"div",46)(1,"div",41),g(2,"Sub-categories"),l(),c(3,"div",47),qe(4,k5,1,8,"app-category-card",48,dm),l()()),n&2){let i=y().$implicit,e=y(3);p(4),Ke(e.getSubCategoriesForCategory(i.id))}}function E5(n,t){if(n&1&&L(0,S5,1,7,"app-category-card",45)(1,T5,6,0,"div",46),n&2){let i=t.$implicit,e=y(3);Oe(!i.isSubCategory&&!i.parentCategoryId?0:-1),p(),Oe(e.getSubCategoriesForCategory(i.id).length>0&&e.breakpointService.device.isMobile?1:-1)}}function A5(n,t){if(n&1&&(c(0,"div",44),qe(1,E5,2,2,null,null,dm),l()),n&2){let i=y(2);O("ngClass",qa(1,x5,!i.isChildView)),p(),Ke(i.categories)}}function I5(n,t){if(n&1&&(c(0,"div",24),oe(1,"app-budget-card",25),L(2,w5,3,0,"div",26)(3,A5,3,3,"div",27),l()),n&2){let i=y();O("ngClass",Z_(5,_5,i.breakpointService.device.isTablePortrait,!i.isChildView)),p(),O("isHomeView",!1)("isChildView",i.isChildView),p(),O("ngIf",i.isListViewMode),p(),O("ngIf",!i.isListViewMode)}}var gm=(()=>{let t=class t{constructor(e,r,a,o,s,d,u,m,f,_){this.auth=e,this.dialog=r,this.notificationService=a,this.hapticFeedback=o,this.breakpointObserver=s,this.store=d,this.budgetService=u,this.dateService=m,this.breakpointService=f,this.categoryService=_,this.quickActionsFabConfig={title:"Quick Actions",mainButtonIcon:"add",mainButtonColor:"primary",mainButtonTooltip:"Add Category",actions:[]},this.isChildView=!1,this.Math=Math,this.transactions=[],this.isLoading=!1,this.errorMessage="",this.isListViewMode=!1,this.userId="",this.destroy$=new It,this.isLoading$=this.store.select(Ir),this.transactions$=this.store.select(En)}ngOnInit(){this.initializeComponent(),this.subscribeToStoreData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeComponent(){return ge(this,null,function*(){let e=yield this.auth.currentUser;if(!e){this.errorMessage="User not authenticated";return}this.userId=e.uid,this.loadUserCategories(),this.loadUserTransactions(),this.loadUserProfile()})}loadUserCategories(){this.store.dispatch(fr({userId:this.userId}))}loadUserTransactions(){this.store.dispatch(ni({userId:this.userId}))}loadUserProfile(){this.store.dispatch(Po({userId:this.userId}))}subscribeToStoreData(){this.store.select(gn).subscribe(e=>{this.categories=e.sort((r,a)=>{var d,u,m,f,_,x,v,b,M,S,w,T;let o=(u=(d=r.budget)==null?void 0:d.hasBudget)!=null?u:!1,s=(f=(m=a.budget)==null?void 0:m.hasBudget)!=null?f:!1;if(o!==s)return o?-1:1;if(this.breakpointService.device.isDesktop){let F=((x=(_=r.subCategories)==null?void 0:_.length)!=null?x:0)>0,U=((b=(v=a.subCategories)==null?void 0:v.length)!=null?b:0)>0;if(F!==U)return F?1:-1}else{let F=((S=(M=r.subCategories)==null?void 0:M.length)!=null?S:0)>0,U=((T=(w=a.subCategories)==null?void 0:w.length)!=null?T:0)>0;if(F!==U)return F?-1:1}return r.name.localeCompare(a.name)})}),this.transactions$.pipe(bt(this.destroy$)).subscribe(e=>{this.transactions=e}),this.isLoading$.pipe(bt(this.destroy$)).subscribe(e=>{this.isLoading=e}),this.store.select(Hp).pipe(yr(1)).subscribe(e=>{var r;e&&this.isListViewMode!=e.categoryListViewMode&&(this.isListViewMode=(r=e.categoryListViewMode)!=null?r:!1)})}trackByCategoryId(e,r){return r.id||e}clearError(){this.errorMessage=""}openMobileDialog(e){this.dialog.open(wc,{panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"desktop-dialog",data:{category:e?ce({},e):null,isEdit:!!e,allCategories:this.categories}}).afterClosed().pipe(bt(this.destroy$)).subscribe(a=>{a&&this.loadUserCategories()})}openAddMobileDialog(){this.breakpointService.device.isMobile&&this.hapticFeedback.lightVibration(),this.openMobileDialog()}getSubCategoriesForCategory(e){return this.categories.filter(r=>r.isSubCategory&&r.parentCategoryId===e)}calculateBudgetSpent(e){var d,u;if(!((d=e.budget)!=null&&d.hasBudget)||!((u=e.budget)!=null&&u.budgetAmount))return 0;let r=this.transactions.filter(m=>m.categoryId===e.id&&m.type===ht.EXPENSE),a=e.budget.budgetStartDate,o=e.budget.budgetEndDate,s=r;if(a){let m=this.dateService.toDate(a);if(!m)return 0;s=s.filter(f=>{let _=this.dateService.toDate(f.date);return _&&_>=m})}if(o){let m=this.dateService.toDate(o);if(!m)return 0;s=s.filter(f=>{let _=this.dateService.toDate(f.date);return _&&_<=m})}return s.reduce((m,f)=>m+Math.abs(f.amount),0)}calculateBudgetProgressPercentage(e){var o,s;if(!((o=e.budget)!=null&&o.hasBudget)||!((s=e.budget)!=null&&s.budgetAmount))return 0;let r=this.calculateBudgetSpent(e),a=e.budget.budgetAmount||0;return a===0?0:Math.min(100,r/a*100)}getBudgetProgressColor(e,r,a){var d;let o=r!=null?r:this.calculateBudgetProgressPercentage(e),s=a!=null?a:((d=e.budget)==null?void 0:d.budgetAlertThreshold)||80;return this.budgetService.getBudgetProgressColor(e,o,s)}formatBudgetPeriod(e){return this.budgetService.formatBudgetPeriod(e)}toggleListViewMode(){this.isListViewMode=!this.isListViewMode,this.store.select(Hp).pipe(bt(this.destroy$)).subscribe(e=>{if(e){let r=de(ce({},e),{categoryListViewMode:this.isListViewMode});this.store.dispatch(rs({userId:this.userId,preferences:r}))}})}getRecentTransactions(e){return!e||!e.name?[]:this.transactions.filter(r=>r.categoryId===e.id&&(0,Of.default)(this.dateService.toDate(r.date)).isSame((0,Of.default)(),"month"))}getCategoryStats(e){if(!e||!e.name)return{totalTransactions:0,totalSpent:0,averageTransaction:0,largestTransaction:0,thisMonth:0,lastMonth:0};let r=this.transactions.filter(w=>w.categoryId===e.id);if(r.length===0)return{totalTransactions:0,totalSpent:0,averageTransaction:0,largestTransaction:0,thisMonth:0,lastMonth:0};let a=r.length,o=r.reduce((w,T)=>w+Math.abs(T.amount),0),s=o/a,d=Math.max(...r.map(w=>Math.abs(w.amount))),u=new Date,m=u.getMonth(),f=u.getFullYear(),_=m===0?11:m-1,x=m===0?f-1:f,v=r.filter(w=>{let T=this.dateService.toDate(w.date)||new Date;return T.getMonth()===m&&T.getFullYear()===f}),b=r.filter(w=>{let T=this.dateService.toDate(w.date)||new Date;return T.getMonth()===_&&T.getFullYear()===x}),M=v.reduce((w,T)=>w+Math.abs(T.amount),0),S=b.reduce((w,T)=>w+Math.abs(T.amount),0);return{totalTransactions:a,totalSpent:o,averageTransaction:s,largestTransaction:d,thisMonth:M,lastMonth:S}}getBudgetStatusClass(e,r){var o;if(!((o=e.budget)!=null&&o.hasBudget))return"";let a=r!=null?r:this.calculateBudgetProgressPercentage(e);return a>=90?"danger":a>=75?"warning":"safe"}getRemainingBudgetClass(e,r){var s,d,u;if(!((s=e.budget)!=null&&s.hasBudget))return"";let a=r!=null?r:this.calculateBudgetSpent(e),o=(((d=e.budget)==null?void 0:d.budgetAmount)||0)-a;return o<=0?"danger":o<(((u=e.budget)==null?void 0:u.budgetAmount)||0)*.1?"warning":"safe"}calculateTotalSpentPerMonth(e){return this.transactions.filter(o=>o.categoryId===e.id).reduce((o,s)=>o+Math.abs(s.amount),0)}calculateTotalIncomePerMonth(e){return this.transactions.filter(o=>o.categoryId===e.id).reduce((o,s)=>o+s.amount,0)}deleteCategory(e){this.categoryService.performDelete(e,this.userId)}};t.\u0275fac=function(r){return new(r||t)(W(Mt),W(xn),W(Ct),W(Ar),W(Tr),W(mt),W(Kl),W(Vt),W(sr),W(So))},t.\u0275cmp=Le({type:t,selectors:[["user-category"]],inputs:{isChildView:"isChildView"},decls:16,vars:11,consts:[["listMenu","matMenu"],["subListMenu","matMenu"],[3,"mainButtonClick","config"],[1,"categories-container"],["class","error-message mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center justify-between",4,"ngIf"],[1,"categories-grid",3,"ngClass"],[1,"categories-list"],[1,"section-header"],[1,"header-content"],[1,"section-title"],[1,"flex","items-center","gap-2"],[1,"section-subtitle"],[3,"click","matTooltip"],["class","empty-state",4,"ngIf"],["class","categories-grid-list",3,"ngClass",4,"ngIf"],[1,"error-message","mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg","flex","items-center","justify-between"],[1,"text-red-700","text-sm"],["mat-icon-button","",1,"error-close-button",3,"click"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-text"],["mat-raised-button","","color","primary","class","empty-state-button",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",1,"empty-state-button",3,"click"],[1,"categories-grid-list",3,"ngClass"],[3,"isHomeView","isChildView"],["class","list-view-container pt-4",4,"ngIf"],["class","grid lg:grid-cols-2 xxl:grid-cols-3 gap-4 lg:my-16 pt-4 lg:px-10",3,"ngClass",4,"ngIf"],[1,"list-view-container","pt-4"],[1,"list-view-item",3,"border-left-color"],[1,"sub-category-list-wrapper"],[1,"list-view-item"],[1,"list-view-content"],[1,"list-view-icon"],[1,"list-view-name"],[1,"list-view-type"],[1,"list-view-actions"],["mat-menu-item","",1,"action-button","edit-button",3,"click"],["mat-menu-item","",1,"action-button","delete-button",3,"click"],[1,"!text-red-800"],["matIconButton","",3,"matMenuTriggerFor"],[1,"group-header"],[1,"list-view-item","sub-category-item",3,"border-left-color"],[1,"list-view-item","sub-category-item"],[1,"grid","lg:grid-cols-2","xxl:grid-cols-3","gap-4","lg:my-16","pt-4","lg:px-10",3,"ngClass"],[3,"category","isMobile","recentTransactions","categoryStats","allTransactions","subCategories","Math"],[1,"sub-category-wrapper"],[1,"sub-categories-container"],[3,"category","isMobile","recentTransactions","categoryStats","allTransactions","subCategories","subCategoryCount","Math"]],template:function(r,a){r&1&&(c(0,"app-quick-actions-fab",2),R("mainButtonClick",function(){return a.openAddMobileDialog()}),l(),c(1,"div",3),L(2,C5,6,1,"div",4),c(3,"div",5)(4,"section",6)(5,"div",7)(6,"div",8)(7,"h2",9),g(8,"Manage Categories"),l(),c(9,"span",10)(10,"p",11),g(11),l(),c(12,"mat-icon",12),R("click",function(){return a.toggleListViewMode()}),g(13),l()()()(),L(14,v5,9,1,"div",13)(15,I5,4,8,"div",14),l()()()),r&2&&(O("config",a.quickActionsFabConfig),p(2),O("ngIf",a.errorMessage),p(),O("ngClass",qa(9,h5,!a.breakpointService.device.isMobile)),p(8),Wt("(",a.categories.length," categor",a.categories.length!==1?"ies":"y",")"),p(),O("matTooltip",a.isListViewMode?"Switch to detailed view":"Switch to list view"),p(),V(a.isListViewMode?"view_list":"list"),p(),O("ngIf",a.categories&&a.categories.length===0),p(),O("ngIf",a.categories.length>0))},dependencies:[Zn,ct,Zt,dn,Qe,_o,ho,xo,Fn,su,ko,lm,ir],styles:['@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.categories-container[_ngcontent-%COMP%]{background:inherit;overflow:auto;position:relative}@media (max-width: 640px){.categories-container[_ngcontent-%COMP%]{padding:.5rem}}.error-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease}.error-message[_ngcontent-%COMP%]   .error-close-button[_ngcontent-%COMP%]{color:#dc2626;min-width:44px;min-height:44px}.loading-indicator[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:linear-gradient(90deg,#f8fafc,#e2e8f0,#f8fafc);border-bottom:1px solid #e2e8f0;box-shadow:0 2px 4px #0000000d;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.loading-indicator[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{height:3px}.loading-indicator[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]     .mat-progress-bar-fill:after{background:linear-gradient(90deg,#3b82f6,#1d4ed8,#3b82f6);animation:_ngcontent-%COMP%_shimmer 2s ease-in-out infinite}.loading-indicator[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]     .mat-progress-bar-buffer{background:#3b82f61a}.categories-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;margin:0 auto;transition:opacity .3s ease}.categories-grid.loading[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}@media (min-width: 768px){.categories-grid[_ngcontent-%COMP%]{gap:3rem}}@media (max-width: 640px){.categories-grid[_ngcontent-%COMP%]{gap:1.5rem}}.categories-list[_ngcontent-%COMP%]{width:100%}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;position:relative;display:flex;justify-content:space-between;align-items:flex-start}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;flex:1}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-left:1rem}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle-btn[_ngcontent-%COMP%]{color:#6b7280;transition:color .2s ease}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle-btn[_ngcontent-%COMP%]:hover{color:#374151}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .view-toggle-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:clamp(1.25rem,3vw,2rem);font-weight:600;color:#1f2937;margin:0 0 .25rem;height:35px}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:clamp(.75rem,2vw,1rem);margin:0}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .mobile-add-button[_ngcontent-%COMP%]{flex-shrink:0;margin-left:1rem;box-shadow:0 4px 12px #00000026;transition:all .2s ease;min-width:56px;min-height:56px}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .mobile-add-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 16px #0003}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .mobile-add-button[_ngcontent-%COMP%]{min-width:48px;min-height:48px}}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;background:#fff;border-radius:12px;border:2px dashed #d1d5db}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{margin-bottom:1rem}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:clamp(2.5rem,6vw,4rem);width:clamp(2.5rem,6vw,4rem);height:clamp(2.5rem,6vw,4rem);color:#9ca3af}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.5rem);font-weight:500;color:#374151;margin:0 0 .5rem}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{color:#6b7280;font-size:clamp(.75rem,2vw,1rem);margin:0 0 1.5rem}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-state-button[_ngcontent-%COMP%]{min-height:44px;padding:.75rem 1.5rem;display:inline-flex;align-items:center;gap:.5rem}.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]{max-height:calc(92vh - 250px);overflow-y:auto;scrollbar-width:thin;scrollbar-color:#cbd5e1 #f1f5f9}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]{max-height:100vh;gap:.75rem;padding-bottom:2rem}}.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.categories-list[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]{width:100%}.sub-category-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;margin-top:1.5rem;margin-bottom:.5rem;background:#f8fafc;border:2.8px dashed #d4d5d7;border-radius:12px;padding:1rem;box-shadow:0 1px 3px #0000000d}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]{border-radius:10px;margin-top:0;margin-bottom:1rem0}}.sub-category-wrapper[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{position:absolute;top:-.75rem;left:1rem;background:#f8fafc;padding:0 .5rem;font-size:.75rem;font-weight:600;color:#6b7280;border:1px solid #e2e8f0;border-radius:6px;z-index:1}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{font-size:.7rem;padding:0 .375rem;top:-.625rem;left:.75rem}}.sub-category-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;left:2rem;top:-1.5rem;width:2px;height:1rem;z-index:0}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]:before{left:1.5rem;top:-.95rem;width:1.5px;height:3.75rem;background:linear-gradient(to bottom,#3b82f6,#d1d5db)}}.sub-category-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;left:2rem;top:-.5rem;width:1rem;height:2px;background:#3b82f6;z-index:0}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]:after{left:1.5rem;width:.75rem;height:1.5px}}.sub-category-wrapper[_ngcontent-%COMP%]   .sub-categories-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-top:.5rem;position:relative}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]   .sub-categories-container[_ngcontent-%COMP%]{gap:.5rem}}.sub-category-wrapper[_ngcontent-%COMP%]   .sub-categories-container[_ngcontent-%COMP%]:before{content:"";position:absolute;left:1.5rem;top:0;bottom:0;width:2px;background:linear-gradient(to bottom,#d1d5db,#e5e7eb);z-index:0}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]   .sub-categories-container[_ngcontent-%COMP%]:before{left:1rem;width:1.5px}}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]{width:100%;transform:scale(.98);opacity:.95;transition:all .3s ease;position:relative}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:hover{transform:scale(1);opacity:1;z-index:10;border-left-color:#3b82f6}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(1){transform:scale(1);opacity:1;z-index:3}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(2){transform:scale(.99);opacity:.98;z-index:2}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(3){transform:scale(.98);opacity:.95;z-index:1}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(n+4){transform:scale(.97);opacity:.9}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-.75rem;top:50%;width:8px;height:8px;background:#3b82f6;border:2px solid #f8fafc;border-radius:50%;transform:translateY(-50%);z-index:1;box-shadow:0 1px 3px #0000001a}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:before{left:-.5rem;width:6px;height:6px;border-width:1.5px}}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:after{content:"";position:absolute;left:-.5rem;top:50%;width:.5rem;height:2px;background:#3b82f6;transform:translateY(-50%);z-index:0}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:after{left:-.375rem;width:.375rem;height:1.5px}.sub-category-wrapper[_ngcontent-%COMP%]{gap:.25rem}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]{transform:scale(.99)}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:hover{transform:scale(1)}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(1){transform:scale(1)}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(2){transform:scale(.995)}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(3){transform:scale(.99)}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(n+4){transform:scale(.985)}}.budget-summary-card[_ngcontent-%COMP%]{width:100%;background:#dbfbff4a;border-radius:12px;padding:1.25rem;border:1px solid #e5e7eb;transition:all .2s ease;border-left:4px solid #4d98a4;position:relative;overflow:hidden}@media (max-width: 640px){.budget-summary-card[_ngcontent-%COMP%]{padding:.5rem;border-radius:10px}}.budget-summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a;border-color:#d1d5db}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin:.65rem 0 .5rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-header[_ngcontent-%COMP%]   .budget-icon[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;width:1.5rem;height:1.5rem;--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));border-radius:8px;padding:.5rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-header[_ngcontent-%COMP%]   .budget-summary-title[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.25rem);font-weight:600;color:#1f2937;margin:0;line-height:1.2}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:.5rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#6b7280}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.spent[_ngcontent-%COMP%], .budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.danger[_ngcontent-%COMP%]{color:#dc2626}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.warning[_ngcontent-%COMP%]{color:#f59e0b}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.safe[_ngcontent-%COMP%]{color:#10b981}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;margin-bottom:1rem}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:6px;background-color:#e5e7eb;border-radius:3px;overflow:hidden}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease;border-radius:3px}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;display:block;line-height:1.2}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:.75rem;border-top:1px solid #e5e7eb}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-footer[_ngcontent-%COMP%]   .budget-categories-count[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]{display:flex;justify-content:center;border-top:1px solid #e5e7eb}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;display:flex;align-items:center;gap:.5rem;transition:color .2s ease}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover{color:#3b82f6}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid #e5e7eb}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-group .mat-tab-header{border-bottom:1px solid #e5e7eb;margin-bottom:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-group .mat-tab-header .mat-tab-label{color:#6b7280;font-weight:500;min-width:120px}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-group .mat-tab-header .mat-tab-label.mat-tab-label-active{color:#3b82f6}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-group .mat-tab-header .mat-ink-bar{background-color:#3b82f6}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:.5rem 0}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid #f3f4f6}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.875rem;color:#1f2937;font-weight:600;display:flex;align-items:center;gap:.5rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1f2937}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem;margin-bottom:.75rem}@media (max-width: 480px){.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]{grid-template-columns:1fr}}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.spent[_ngcontent-%COMP%], .budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.danger[_ngcontent-%COMP%]{color:#dc2626}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.warning[_ngcontent-%COMP%]{color:#f59e0b}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.safe[_ngcontent-%COMP%]{color:#10b981}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:6px;background-color:#e5e7eb;border-radius:3px;overflow:hidden}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease;border-radius:3px}.no-budget-card[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:12px;padding:1.25rem;border:1px solid #e5e7eb;transition:all .2s ease;border-left:4px solid #f59e0b;margin-bottom:1rem}@media (max-width: 640px){.no-budget-card[_ngcontent-%COMP%]{padding:.5rem;border-radius:10px}}.no-budget-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a;border-color:#d1d5db}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]{display:flex;align-items:center;align-items:flex-start;gap:.75rem}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-icon[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;width:1.5rem;height:1.5rem;background:#f59e0b;border-radius:12px;padding:.5rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]{flex:1}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-title[_ngcontent-%COMP%]{font-size:clamp(.8rem,2.5vw,1.25rem);font-weight:600;color:#1f2937;margin:0 0 .25rem;line-height:1.2}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin:0;line-height:1.2}.add-category-btn[_ngcontent-%COMP%]{position:fixed!important;bottom:8rem;right:1rem;z-index:100;box-shadow:0 4px 12px #00000026;transition:all .2s ease}.add-category-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 16px #0003}  .mat-autocomplete-panel{border-radius:8px;box-shadow:0 4px 12px #00000026;border:1px solid #e5e7eb;max-height:200px}  .mat-autocomplete-panel .mat-option{padding:.75rem 1rem;font-size:.875rem;color:#374151;transition:all .2s ease}  .mat-autocomplete-panel .mat-option:hover{background:#f3f4f6}  .mat-autocomplete-panel .mat-option.mat-selected{background:#dbeafe;color:#1d4ed8}.list-view-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:.75rem 1rem;border-left:4px solid;box-shadow:0 1px 3px #0000001a;transition:all .2s ease;display:flex;justify-content:space-between;align-items:center}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;flex-shrink:0}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-name[_ngcontent-%COMP%]{font-weight:500;color:#1f2937;font-size:.875rem}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-type[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;background:#f3f4f6;padding:.25rem .5rem;border-radius:4px;text-transform:uppercase;letter-spacing:.025em}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#6b7280;transition:color .2s ease}.list-view-container[_ngcontent-%COMP%]   .list-view-item[_ngcontent-%COMP%]   .list-view-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#374151}.list-view-container[_ngcontent-%COMP%]   .list-view-item.sub-category-item[_ngcontent-%COMP%]{margin-left:1rem;background:#f9fafb;border-left-width:3px}.list-view-container[_ngcontent-%COMP%]   .list-view-item.sub-category-item[_ngcontent-%COMP%]   .list-view-content[_ngcontent-%COMP%]   .list-view-name[_ngcontent-%COMP%]{font-size:.8rem}.list-view-container[_ngcontent-%COMP%]   .sub-category-list-wrapper[_ngcontent-%COMP%]{margin-top:.5rem}.list-view-container[_ngcontent-%COMP%]   .sub-category-list-wrapper[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:#6b7280;margin-bottom:.5rem;padding-left:1rem;text-transform:uppercase;letter-spacing:.025em}']});let n=t;return n})();var F5=(n,t)=>t.category;function R5(n,t){if(n&1&&(c(0,"p",5),g(1),l()),n&2){let i=y();p(),ee(" ",i.effectiveConfig.subtitle," ")}}function N5(n,t){if(n&1&&(c(0,"div",6)(1,"mat-icon",10),g(2),l()()),n&2){let i=y();p(2),ee(" ",i.effectiveConfig.headerIcon||"category"," ")}}function L5(n,t){n&1&&(c(0,"div",7)(1,"div",11),oe(2,"div",12),l(),c(3,"p",13),g(4,"Loading category data..."),l()())}function B5(n,t){if(n&1&&(c(0,"div",7)(1,"div",14)(2,"mat-icon",15),g(3,"error"),l()(),c(4,"p",16),g(5),l()()),n&2){let i=y();p(5),V(i.effectiveConfig.error)}}function V5(n,t){if(n&1){let i=ue();c(0,"div",20),R("click",function(){let r=j(i).$implicit,a=y(3);return z(a.onCategoryClick(r))}),c(1,"div",21)(2,"div",22)(3,"mat-icon",23),g(4),l()(),c(5,"div",24)(6,"span",25),g(7),l(),c(8,"div",26),g(9),l()()(),c(10,"span",27),g(11),l()()}if(n&2){let i=t.$implicit,e=y(3);Ue("cursor-pointer",e.effectiveConfig.clickable)("cursor-default",!e.effectiveConfig.clickable),p(3),kt("color",i.color),p(),V(i.icon),p(3),V(i.category),p(2),ee("",i.percentage.toFixed(1),"% of total"),p(2),V(e.formatCurrency(i.amount))}}function $5(n,t){if(n&1&&(c(0,"div",17),qe(1,V5,12,10,"div",19,F5),se(3,"async"),l()),n&2){let i=y(2);p(),Ke(pe(3,0,i.topCategories$))}}function j5(n,t){if(n&1&&(c(0,"div",18)(1,"div",28)(2,"mat-icon",29),g(3,"bar_chart"),l()(),c(4,"h4",30),g(5,"No Data Available"),l(),c(6,"p",31),g(7),l()()),n&2){let i=y(2);p(7),V(i.effectiveConfig.emptyStateMessage)}}function z5(n,t){if(n&1&&(c(0,"div",8),L(1,$5,4,2,"div",17),se(2,"async"),L(3,j5,8,1,"div",18),se(4,"async"),l()),n&2){let i,e=y();p(),Oe((i=pe(2,2,e.topCategories$))!=null&&i.length?1:-1),p(2),Oe(pe(4,4,e.isEmpty)?3:-1)}}function Y5(n,t){n&1&&(c(0,"span",34),g(1,"Top Categories"),l())}function U5(n,t){if(n&1&&(c(0,"div",9)(1,"div",32)(2,"span"),g(3),l(),c(4,"div",33),L(5,Y5,2,0,"span",34),c(6,"span"),g(7),l()()()()),n&2){let i=y();p(3),V(i.effectiveConfig.footerText||"Last updated"),p(2),Oe(i.effectiveConfig.showDebugInfo?5:-1),p(2),V(i.getLastUpdatedTime())}}var Zl=(()=>{let t=class t{constructor(e){this.store=e,this.config={title:"Top Spending Categories",subtitle:"Your highest expense areas",currency:"INR",showHeaderIcon:!0,headerIcon:"category",headerIconColor:"purple",showFooter:!1,footerText:"Last updated",cardHeight:"medium",theme:"auto",animations:!0,clickable:!0,loading:!1,error:"",emptyStateMessage:"Add transactions to see category breakdown",showDebugInfo:!1,maxItems:5,period:"monthly",transactionType:"expense"},this.destroy$=new It,this.transactions$=this.store.select(En),this.categories$=this.store.select(gn),this.transactionsLoading$=this.store.select(ra),this.categoriesLoading$=this.store.select(Ir),this.isLoading$=Zi([this.transactionsLoading$,this.categoriesLoading$]).pipe(Ye(([r,a])=>r||a)),this.topCategories$=this.calculateTopCategories()}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calculateTopCategories(){return Zi([this.transactions$,this.categories$]).pipe(Ye(([e,r])=>{let a=new Date,o;switch(this.effectiveConfig.period){case"daily":o=new Date(a.getFullYear(),a.getMonth(),a.getDate());break;case"weekly":let f=a.getDay(),_=f===0?6:f-1;o=new Date(a.getFullYear(),a.getMonth(),a.getDate()-_);break;case"yearly":o=new Date(a.getFullYear(),0,1);break;default:o=new Date(a.getFullYear(),a.getMonth(),1);break}let s=e.filter(f=>{let _=this.convertToDate(f.date),x=_>=o&&_<=a,v=this.effectiveConfig.transactionType==="all"||f.type===(this.effectiveConfig.transactionType==="income"?ht.INCOME:ht.EXPENSE);return x&&v}),d=new Map;s.forEach(f=>{let _=r.find(x=>x.id===f.categoryId);if(_){let x=d.get(f.categoryId)||{amount:0,category:_};x.amount+=f.amount,d.set(f.categoryId,x)}});let u=Array.from(d.values()).reduce((f,_)=>f+_.amount,0);return Array.from(d.values()).filter(f=>f.amount>0).map(f=>({category:f.category.name,amount:f.amount,percentage:u>0?f.amount/u*100:0,color:f.category.color||"#6B7280",icon:f.category.icon||"category"})).sort((f,_)=>_.amount-f.amount).slice(0,this.effectiveConfig.maxItems||5)}))}convertToDate(e){return e instanceof Date?e:e!=null&&e.seconds?new Date(e.seconds*1e3):new Date(e)}get effectiveConfig(){var e,r,a,o,s,d,u,m,f,_,x,v,b,M,S,w,T,F,U;return{title:(e=this.config.title)!=null?e:"Top Spending Categories",subtitle:(r=this.config.subtitle)!=null?r:"Your highest expense areas",currency:(a=this.config.currency)!=null?a:"INR",showHeaderIcon:(o=this.config.showHeaderIcon)!=null?o:!0,headerIcon:(s=this.config.headerIcon)!=null?s:"category",headerIconColor:(d=this.config.headerIconColor)!=null?d:"purple",showFooter:(u=this.config.showFooter)!=null?u:!1,footerText:(m=this.config.footerText)!=null?m:"Last updated",cardHeight:(f=this.config.cardHeight)!=null?f:"medium",theme:(_=this.config.theme)!=null?_:"auto",animations:(x=this.config.animations)!=null?x:!0,clickable:(v=this.config.clickable)!=null?v:!0,loading:(b=this.config.loading)!=null?b:!1,error:(M=this.config.error)!=null?M:"",emptyStateMessage:(S=this.config.emptyStateMessage)!=null?S:"Add transactions to see category breakdown",showDebugInfo:(w=this.config.showDebugInfo)!=null?w:!1,maxItems:(T=this.config.maxItems)!=null?T:5,period:(F=this.config.period)!=null?F:"monthly",transactionType:(U=this.config.transactionType)!=null?U:"expense",onCategoryClick:this.config.onCategoryClick,onRefresh:this.config.onRefresh}}get cardHeightClass(){switch(this.effectiveConfig.cardHeight){case"small":return"min-h-20";case"large":return"min-h-32";case"auto":return"min-h-0";default:return"min-h-24"}}get headerIconColorClass(){let e=this.effectiveConfig.headerIconColor||"purple";return`bg-${e}-500/10 text-${e}-600 dark:text-${e}-400`}formatCurrency(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:this.effectiveConfig.currency,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}onCategoryClick(e){this.effectiveConfig.clickable&&this.effectiveConfig.onCategoryClick&&this.effectiveConfig.onCategoryClick(e)}getLastUpdatedTime(){return new Date().toLocaleString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}onRefreshClick(){this.effectiveConfig.onRefresh&&this.effectiveConfig.onRefresh()}get isEmpty(){return this.topCategories$.pipe(Ye(e=>e.length===0))}get hasError(){return!!(this.effectiveConfig.error&&this.effectiveConfig.error.trim())}};t.\u0275fac=function(r){return new(r||t)(W(mt))},t.\u0275cmp=Le({type:t,selectors:[["app-top-categories-card"]],inputs:{config:"config"},standalone:!0,features:[Jr],decls:14,vars:11,consts:[[1,"top-categories-card","bg-white","dark:bg-gray-800","shadow-lg","border-0","rounded-xl","overflow-hidden","h-full"],[1,"p-4","sm:p-6"],[1,"flex","items-center","justify-between","mb-4","sm:mb-6"],[1,"flex-1","min-w-0"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","dark:text-white","truncate"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-1"],[1,"bg-purple-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-center","py-8"],[1,"space-y-4"],[1,"mt-4","sm:mt-6","pt-4","border-t","border-gray-200","dark:border-gray-700"],[1,"text-purple-600","dark:text-purple-400"],[1,"inline-flex","items-center","justify-center","w-12","h-12","bg-blue-100","dark:bg-blue-900/20","rounded-full","mb-4"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-blue-600"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"bg-red-100","dark:bg-red-900/20","w-12","h-12","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-red-600","dark:text-red-400"],[1,"text-sm","text-red-600","dark:text-red-400"],[1,"space-y-3"],[1,"text-center","py-8","sm:py-12"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors",3,"cursor-pointer","cursor-default"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors",3,"click"],[1,"flex","items-center","space-x-3","min-w-0","flex-1"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","flex-shrink-0","bg-gray-100","dark:bg-gray-600"],[1,"text-sm"],[1,"min-w-0","flex-1"],[1,"text-gray-700","dark:text-gray-300","font-medium","truncate","block"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"font-semibold","text-gray-900","dark:text-white","ml-3","text-right"],[1,"bg-gray-100","dark:bg-gray-700","w-16","h-16","sm:w-20","sm:h-20","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-gray-400","text-2xl","sm:text-3xl"],[1,"text-base","sm:text-lg","font-medium","text-gray-900","dark:text-white","mb-2"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","justify-between","text-xs","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-4"],[1,"text-xs","opacity-75"]],template:function(r,a){r&1&&(c(0,"mat-card",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),g(5),l(),L(6,R5,2,1,"p",5),l(),L(7,N5,3,1,"div",6),l(),L(8,L5,5,0,"div",7),se(9,"async"),L(10,B5,6,1,"div",7)(11,z5,5,6,"div",8),se(12,"async"),L(13,U5,8,3,"div",9),l()()),r&2&&(p(5),ee(" ",a.effectiveConfig.title," "),p(),Oe(a.effectiveConfig.subtitle?6:-1),p(),Oe(a.effectiveConfig.showHeaderIcon!==!1?7:-1),p(),Oe(pe(9,7,a.isLoading$)?8:-1),p(2),Oe(a.hasError?10:-1),p(),Oe(!pe(12,9,a.isLoading$)&&!a.hasError?11:-1),p(2),Oe(a.effectiveConfig.showFooter?13:-1))},dependencies:[Pa,wi,Co,Ri,ka,Qe],styles:[".top-categories-card[_ngcontent-%COMP%]{transition:all .3s ease}.top-categories-card[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden}.top-categories-card.dark[_ngcontent-%COMP%]{background-color:#1f2937;color:#f9fafb}.top-categories-card[_ngcontent-%COMP%]   .fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.top-categories-card[_ngcontent-%COMP%]   .slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .3s ease-out}@media (max-width: 640px){.top-categories-card[_ngcontent-%COMP%]   .p-4[_ngcontent-%COMP%]{padding:1rem}.top-categories-card[_ngcontent-%COMP%]   .text-lg[_ngcontent-%COMP%]{font-size:1.125rem}.top-categories-card[_ngcontent-%COMP%]   .w-8[_ngcontent-%COMP%]{width:2rem}.top-categories-card[_ngcontent-%COMP%]   .h-8[_ngcontent-%COMP%]{height:2rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}.category-item[_ngcontent-%COMP%]{transition:all .2s ease}.category-item[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.dark[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background-color:#374151}.icon-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-radius:50%;background-color:#f3f4f6}.dark[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{background-color:#4b5563}.progress-bar[_ngcontent-%COMP%]{height:4px;border-radius:2px;background-color:#e5e7eb;overflow:hidden}.dark[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#4b5563}.progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#3b82f6;transition:width .3s ease}"]});let n=t;return n})();var G5=(n,t)=>t.id;function W5(n,t){if(n&1&&(c(0,"p",5),g(1),l()),n&2){let i=y();p(),ee(" ",i.effectiveConfig.subtitle," ")}}function H5(n,t){if(n&1&&(c(0,"div",6)(1,"mat-icon",10),g(2),l()()),n&2){let i=y();p(2),ee(" ",i.effectiveConfig.headerIcon||"schedule"," ")}}function X5(n,t){n&1&&(c(0,"div",7)(1,"div",11),oe(2,"div",12),l(),c(3,"p",13),g(4,"Loading recent activity..."),l()())}function q5(n,t){if(n&1&&(c(0,"div",7)(1,"div",14)(2,"mat-icon",15),g(3,"error"),l()(),c(4,"p",16),g(5),l()()),n&2){let i=y();p(5),V(i.effectiveConfig.error)}}function K5(n,t){if(n&1){let i=ue();c(0,"div",20),R("click",function(){let r=j(i).$implicit,a=y(3);return z(a.onTransactionClick(r))}),c(1,"div",21)(2,"mat-icon",22),g(3),l(),c(4,"div",23)(5,"span",24),g(6),l(),c(7,"div",25),g(8),l()()(),c(9,"div",26)(10,"span",27),g(11),l(),c(12,"div",28),g(13),l()()()}if(n&2){let i=t.$implicit,e=y(3);Ue("cursor-pointer",e.effectiveConfig.clickable)("cursor-default",!e.effectiveConfig.clickable),p(2),O("ngClass",e.getTransactionColor(i)),p(),V(e.getTransactionIcon(i)),p(3),V(i.payee),p(2),V(i.category),p(2),O("ngClass",e.getTransactionColor(i)),p(),Wt(" ",i.type==="income"?"+":"-","",e.formatCurrency(i.amount)," "),p(2),ee(" ",e.formatDate(i.date)," ")}}function Z5(n,t){if(n&1&&(c(0,"div",17),qe(1,K5,14,12,"div",19,G5),se(3,"async"),l()),n&2){let i=y(2);p(),Ke(pe(3,0,i.recentTransactions$))}}function Q5(n,t){if(n&1&&(c(0,"div",18)(1,"div",29)(2,"mat-icon",30),g(3,"receipt_long"),l()(),c(4,"h4",31),g(5,"No Recent Transactions"),l(),c(6,"p",32),g(7),l()()),n&2){let i=y(2);p(7),V(i.effectiveConfig.emptyStateMessage)}}function J5(n,t){if(n&1&&(c(0,"div",8),L(1,Z5,4,2,"div",17),se(2,"async"),L(3,Q5,8,1,"div",18),se(4,"async"),l()),n&2){let i,e=y();p(),Oe((i=pe(2,2,e.recentTransactions$))!=null&&i.length?1:-1),p(2),Oe(pe(4,4,e.isEmpty)?3:-1)}}function e6(n,t){n&1&&(c(0,"span",35),g(1,"Recent Activity"),l())}function t6(n,t){if(n&1&&(c(0,"div",9)(1,"div",33)(2,"span"),g(3),l(),c(4,"div",34),L(5,e6,2,0,"span",35),c(6,"span"),g(7),l()()()()),n&2){let i=y();p(3),V(i.effectiveConfig.footerText||"Last updated"),p(2),Oe(i.effectiveConfig.showDebugInfo?5:-1),p(2),V(i.getLastUpdatedTime())}}var Ql=(()=>{let t=class t{constructor(e){this.store=e,this.config={title:"Recent Activity",subtitle:"Latest transactions",currency:"INR",showHeaderIcon:!0,headerIcon:"schedule",headerIconColor:"orange",showFooter:!1,footerText:"Last updated",cardHeight:"medium",theme:"auto",animations:!0,clickable:!0,loading:!1,error:"",emptyStateMessage:"Your recent activity will appear here",showDebugInfo:!1,maxItems:5,period:"monthly",transactionType:"all"},this.destroy$=new It,this.transactions$=this.store.select(En),this.categories$=this.store.select(gn),this.transactionsLoading$=this.store.select(ra),this.categoriesLoading$=this.store.select(Ir),this.isLoading$=Zi([this.transactionsLoading$,this.categoriesLoading$]).pipe(Ye(([r,a])=>r||a)),this.recentTransactions$=this.calculateRecentTransactions()}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calculateRecentTransactions(){return Zi([this.transactions$,this.categories$]).pipe(Ye(([e,r])=>{let a=new Date,o;switch(this.effectiveConfig.period){case"daily":o=new Date(a.getFullYear(),a.getMonth(),a.getDate());break;case"weekly":let u=a.getDay(),m=u===0?6:u-1;o=new Date(a.getFullYear(),a.getMonth(),a.getDate()-m);break;case"yearly":o=new Date(a.getFullYear(),0,1);break;default:o=new Date(a.getFullYear(),a.getMonth(),1);break}return e.filter(u=>{let m=this.convertToDate(u.date),f=m>=o&&m<=a,_=this.effectiveConfig.transactionType==="all"||u.type===(this.effectiveConfig.transactionType==="income"?ht.INCOME:ht.EXPENSE);return f&&_}).map(u=>{let m=r.find(f=>f.id===u.categoryId);return{id:u.id||"",payee:u.payee||"Unknown",category:(m==null?void 0:m.name)||"Uncategorized",amount:u.amount,type:u.type===ht.INCOME?"income":"expense",date:this.convertToDate(u.date),icon:(m==null?void 0:m.icon)||"receipt",color:(m==null?void 0:m.color)||"#6B7280"}}).sort((u,m)=>m.date.getTime()-u.date.getTime()).slice(0,this.effectiveConfig.maxItems||5)}))}convertToDate(e){return e instanceof Date?e:e!=null&&e.seconds?new Date(e.seconds*1e3):new Date(e)}get effectiveConfig(){var e,r,a,o,s,d,u,m,f,_,x,v,b,M,S,w,T,F,U;return{title:(e=this.config.title)!=null?e:"Recent Activity",subtitle:(r=this.config.subtitle)!=null?r:"Latest transactions",currency:(a=this.config.currency)!=null?a:"INR",showHeaderIcon:(o=this.config.showHeaderIcon)!=null?o:!0,headerIcon:(s=this.config.headerIcon)!=null?s:"schedule",headerIconColor:(d=this.config.headerIconColor)!=null?d:"orange",showFooter:(u=this.config.showFooter)!=null?u:!1,footerText:(m=this.config.footerText)!=null?m:"Last updated",cardHeight:(f=this.config.cardHeight)!=null?f:"medium",theme:(_=this.config.theme)!=null?_:"auto",animations:(x=this.config.animations)!=null?x:!0,clickable:(v=this.config.clickable)!=null?v:!0,loading:(b=this.config.loading)!=null?b:!1,error:(M=this.config.error)!=null?M:"",emptyStateMessage:(S=this.config.emptyStateMessage)!=null?S:"Your recent activity will appear here",showDebugInfo:(w=this.config.showDebugInfo)!=null?w:!1,maxItems:(T=this.config.maxItems)!=null?T:5,period:(F=this.config.period)!=null?F:"monthly",transactionType:(U=this.config.transactionType)!=null?U:"all",onTransactionClick:this.config.onTransactionClick,onRefresh:this.config.onRefresh}}get cardHeightClass(){switch(this.effectiveConfig.cardHeight){case"small":return"min-h-20";case"large":return"min-h-32";case"auto":return"min-h-0";default:return"min-h-24"}}get headerIconColorClass(){let e=this.effectiveConfig.headerIconColor||"orange";return`bg-${e}-500/10 text-${e}-600 dark:text-${e}-400`}formatCurrency(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:this.effectiveConfig.currency,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}getTransactionColor(e){return e.type==="income"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}getTransactionIcon(e){return e.icon}formatDate(e){return e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}onTransactionClick(e){this.effectiveConfig.clickable&&this.effectiveConfig.onTransactionClick&&this.effectiveConfig.onTransactionClick(e)}getLastUpdatedTime(){return new Date().toLocaleString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}onRefreshClick(){this.effectiveConfig.onRefresh&&this.effectiveConfig.onRefresh()}get isEmpty(){return this.recentTransactions$.pipe(Ye(e=>e.length===0))}get hasError(){return!!(this.effectiveConfig.error&&this.effectiveConfig.error.trim())}};t.\u0275fac=function(r){return new(r||t)(W(mt))},t.\u0275cmp=Le({type:t,selectors:[["app-recent-activity-card"]],inputs:{config:"config"},standalone:!0,features:[Jr],decls:14,vars:11,consts:[[1,"recent-activity-card","bg-white","dark:bg-gray-800","shadow-lg","border-0","rounded-xl","overflow-hidden","h-full"],[1,"p-4","sm:p-6"],[1,"flex","items-center","justify-between","mb-4","sm:mb-6"],[1,"flex-1","min-w-0"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","dark:text-white","truncate"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-1"],[1,"bg-orange-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-center","py-8"],[1,"space-y-4"],[1,"mt-4","sm:mt-6","pt-4","border-t","border-gray-200","dark:border-gray-700"],[1,"text-orange-600","dark:text-orange-400"],[1,"inline-flex","items-center","justify-center","w-12","h-12","bg-blue-100","dark:bg-blue-900/20","rounded-full","mb-4"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-blue-600"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"bg-red-100","dark:bg-red-900/20","w-12","h-12","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-red-600","dark:text-red-400"],[1,"text-sm","text-red-600","dark:text-red-400"],[1,"space-y-3"],[1,"text-center","py-8","sm:py-12"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors",3,"cursor-pointer","cursor-default"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors",3,"click"],[1,"flex","items-center","space-x-3","min-w-0","flex-1"],[1,"flex-shrink-0",3,"ngClass"],[1,"min-w-0","flex-1"],[1,"text-gray-700","dark:text-gray-300","font-medium","truncate","block"],[1,"text-xs","text-gray-500","dark:text-gray-400","truncate"],[1,"text-right","ml-3","flex-shrink-0"],[1,"font-semibold","block",3,"ngClass"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"bg-gray-100","dark:bg-gray-700","w-16","h-16","sm:w-20","sm:h-20","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-gray-400","text-2xl","sm:text-3xl"],[1,"text-base","sm:text-lg","font-medium","text-gray-900","dark:text-white","mb-2"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","justify-between","text-xs","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-4"],[1,"text-xs","opacity-75"]],template:function(r,a){r&1&&(c(0,"mat-card",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),g(5),l(),L(6,W5,2,1,"p",5),l(),L(7,H5,3,1,"div",6),l(),L(8,X5,5,0,"div",7),se(9,"async"),L(10,q5,6,1,"div",7)(11,J5,5,6,"div",8),se(12,"async"),L(13,t6,8,3,"div",9),l()()),r&2&&(p(5),ee(" ",a.effectiveConfig.title," "),p(),Oe(a.effectiveConfig.subtitle?6:-1),p(),Oe(a.effectiveConfig.showHeaderIcon!==!1?7:-1),p(),Oe(pe(9,7,a.isLoading$)?8:-1),p(2),Oe(a.hasError?10:-1),p(),Oe(!pe(12,9,a.isLoading$)&&!a.hasError?11:-1),p(2),Oe(a.effectiveConfig.showFooter?13:-1))},dependencies:[Pa,Zn,wi,Co,Ri,ka,Qe],styles:[".recent-activity-card[_ngcontent-%COMP%]{transition:all .3s ease}.recent-activity-card[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden}.recent-activity-card[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{transition:all .2s ease}.recent-activity-card[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{transform:translate(4px)}.recent-activity-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.recent-activity-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.recent-activity-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.recent-activity-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#9ca3af80;border-radius:2px}.recent-activity-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3afcc}@media (max-width: 640px){.recent-activity-card[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{padding:.75rem}.recent-activity-card[_ngcontent-%COMP%]   .transaction-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}}.dark[_ngcontent-%COMP%]   .recent-activity-card[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background-color:#4b5563cc}"]});let n=t;return n})();var Cn=da(fa());var um=class extends mu{setupDefaultRules(){super.setupDefaultRules();let t=this._root.interfaceColors,i=this._root.language,e=this.rule.bind(this);e("XYChart").setAll({colors:Nl.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),e("XYSeries").setAll({legendLabelText:"{name}"}),e("Rectangle",["plotbackground","xy","background"]).setAll({fill:rb.fromHex(0),fillOpacity:0}),e("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:Nl.new(this._root,{saturation:0})});{let d=e("Graphics",["scrollbar","overlay"]);d.setAll({fillOpacity:.5}),zn(d,"fill",t,"background")}e("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),e("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),e("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),e("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),e("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),e("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),e("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:pt,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),e("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),e("AxisLabel",["x"]).setAll({centerY:0}),e("AxisLabel",["x","inside"]).setAll({centerY:pt}),e("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),e("AxisLabel",["x","opposite"]).setAll({centerY:pt}),e("AxisLabel",["y"]).setAll({centerX:pt}),e("AxisLabel",["y","inside"]).setAll({centerX:0}),e("AxisLabel",["y","inside","opposite"]).setAll({centerX:pt}),e("AxisLabel",["y","opposite"]).setAll({centerX:0}),e("AxisLabel",["minor"]).setAll({fontSize:"0.6em"}),e("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),e("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),e("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),e("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{let d=e("Grid",["cursor","x"]);d.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:i.translate("Use left and right arrows to move selection")}),zn(d,"stroke",t,"alternativeBackground")}{let d=e("Grid",["cursor","y"]);d.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:i.translate("Use up and down arrows to move selection")}),zn(d,"stroke",t,"alternativeBackground")}{let d=e("Graphics",["cursor","selection"]);d.setAll({fillOpacity:.15}),zn(d,"fill",t,"alternativeBackground")}e("Axis").setAll({zoomOut:!0,start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),e("AxisLabel").setAll({location:.5,multiLocation:0,centerX:Ls,centerY:Ls,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),e("Container",["axis","header"]).setAll({layer:30}),e("Rectangle",["axis","header","background"]).setAll({crisp:!0});{let d=e("AxisRenderer");d.setAll({crisp:!0,strokeOpacity:0}),zn(d,"stroke",t,"grid")}e("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:pt}),e("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:pt});{let d=e("Rectangle",["axis","thumb","zoomgrip"]);d.setAll({fillOpacity:0}),zn(d,"fill",t,"alternativeBackground"),d.states.create("hover",{fillOpacity:.1})}e("Rectangle",["axis","thumb","x","zoomgrip"]).setAll({cursorOverStyle:"ew-resize"}),e("Rectangle",["axis","thumb","y","zoomgrip"]).setAll({cursorOverStyle:"ns-resize"});{let d=e("Grid");d.setAll({location:0,strokeOpacity:.15,crisp:!0}),zn(d,"stroke",t,"grid")}{let d=e("Grid",["minor"]);d.setAll({location:0,strokeOpacity:.07,crisp:!0}),zn(d,"stroke",t,"grid")}e("Grid",["base"]).setAll({strokeOpacity:.3});{let d=e("Graphics",["axis","fill"]);d.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),zn(d,"fill",t,"alternativeBackground")}e("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),e("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),e("Grid",["series","range"]).setAll({visible:!1}),e("AxisTick",["series","range"]).setAll({visible:!1}),e("AxisLabel",["series","range"]).setAll({visible:!1});{let d=e("AxisTick");d.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),zn(d,"stroke",t,"grid")}e("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(d,u)=>{let m=d.get("axisFill");m&&(!Ee(u)||u%2==0?m.setPrivate("visible",!0):m.setPrivate("visible",!1))}});let r=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],a={millisecond:i.translate("_date_millisecond"),second:i.translate("_date_second"),minute:i.translate("_date_minute"),hour:i.translate("_date_hour"),day:i.translate("_date_day"),week:i.translate("_date_day"),month:i.translate("_date_month"),year:i.translate("_date_year")},o={millisecond:i.translate("_date_millisecond"),second:i.translate("_date_second"),minute:i.translate("_date_minute"),hour:i.translate("_date_day"),day:i.translate("_date_day"),week:i.translate("_date_day"),month:i.translate("_date_month")+" "+i.translate("_date_year"),year:i.translate("_date_year")},s={millisecond:i.translate("_date_millisecond_full"),second:i.translate("_date_second_full"),minute:i.translate("_date_minute_full"),hour:i.translate("_date_hour_full"),day:i.translate("_date_day_full"),week:i.translate("_date_week_full"),month:i.translate("_date_month_full"),year:i.translate("_date_year")};e("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:Zp(r),dateFormats:Bd(a),periodChangeDateFormats:Bd(o)}),e("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,skipFirstMinor:!0,weekLabelLocation:0,gridIntervals:Zp(r),dateFormats:Bd(a),periodChangeDateFormats:Bd(o),tooltipDateFormats:s,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:d=>{let u=d.get("axisFill");if(u){let m=d.component,f=d.get("value"),_=d.get("endValue"),x=m.intervalDuration(),v=m.getPrivate("baseInterval"),b=m.getPrivate("gridInterval",v),M=m.getPrivate("min",0);if(M=lb(new Date(M),b.timeUnit,b.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),f!=null&&_!=null){let S=Math.round(Math.round((f-M)/x))/2;S==Math.round(S)?u.setPrivate("visible",!0):u.setPrivate("visible",!1)}}}}),e("GaplessDateAxis").setAll({fillRule:d=>{let u=d.get("axisFill");if(u){let m=d.get("index"),f=!1;(!Ee(m)||m%2==0)&&(f=!0),u.setPrivate("visible",f)}}}),e("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:d=>{let u=d.get("axisFill");if(u){let m=d.component,f=d.get("value"),_=m.getPrivate("step");Ee(f)&&Ee(_)&&(jn(f/_/2,5)==Math.round(f/_/2)?u.setPrivate("visible",!1):u.setPrivate("visible",!0))}}}),e("DurationAxis").setAll({baseUnit:"second"}),e("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),e("BaseColumnSeries").setAll({adjustBulletPosition:!0}),e("ColumnSeries").setAll({clustered:!0}),e("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:Yi(70),height:Yi(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),e("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),e("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),e("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),e("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(d,u)=>{let m=u.parent;if(m){let f=m.height(),_=m.width();d.moveTo(0,f/2),d.lineTo(_,f/2)}}});{let d=e("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});zn(d,"stroke",t,"disabled")}e("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(d,u)=>{let m=u.parent;if(m){let f=m.height(),_=m.width();d.moveTo(0,0),d.lineTo(_,0),d.lineTo(_,f),d.lineTo(0,f),d.lineTo(0,0)}}});{let d=e("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});zn(d,"stroke",t,"disabled")}e("SmoothedXYLineSeries").setAll({tension:.5}),e("SmoothedXLineSeries").setAll({tension:.5}),e("SmoothedYLineSeries").setAll({tension:.5}),e("Candlestick").setAll({position:"absolute",isMeasured:!1,width:Yi(50),height:Yi(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),e("OHLC").setAll({width:Yi(80),height:Yi(80)}),e("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{let d=e("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});zn(d,"fill",t,"positive"),zn(d,"stroke",t,"positive")}{let d=e("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});zn(d,"fill",t,"negative"),zn(d,"stroke",t,"negative")}e("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),e("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{let d=e("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});zn(d,"fill",t,"positive"),zn(d,"stroke",t,"positive")}{let d=e("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});zn(d,"fill",t,"negative"),zn(d,"stroke",t,"negative")}e("RoundedRectangle",["rangegrip"]).setAll({strokeOpacity:0,fillOpacity:0,strokeWidth:1,width:12,height:12});{let d=e("Graphics",["rangegrip","button","icon"]);d.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:u=>{u.moveTo(0,.5),u.lineTo(0,12.5),u.moveTo(2,.5),u.lineTo(2,12.5),u.moveTo(4,.5),u.lineTo(4,12.5)}}),zn(d,"stroke",t,"secondaryButtonText")}e("Button",["rangegrip"]).setAll({draggable:!0,paddingTop:0,paddingBottom:0}),e("Button",["rangegrip","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize",centerX:Ls}),e("Button",["rangegrip","horizontal"]).setAll({cursorOverStyle:"ew-resize",centerX:Ls}),e("Button",["rangegrip","vertical","left"]).setAll({centerY:pt}),e("Button",["rangegrip","vertical","right"]).setAll({centerY:0}),e("Button",["rangegrip","horizontal","top"]).setAll({centerY:0}),e("Button",["rangegrip","horizontal","bottom"]).setAll({centerY:pt})}};var Qa=class extends gf{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new ef}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new ef}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Rn.new(this._root,{width:pt,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Rn.new(this._root,{width:pt,height:pt,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Rn.new(this._root,{width:pt,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Rn.new(this._root,{height:pt,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Rn.new(this._root,{width:pt,height:pt,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(Rn.new(this._root,{width:pt,height:pt}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(Rn.new(this._root,{width:pt,height:pt}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Rn.new(this._root,{width:pt,height:pt,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Rn.new(this._root,{width:pt,height:pt,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Rn.new(this._root,{height:pt,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Rn.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(cb.new(this._root,{themeTags:["zoom"],icon:Li.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(um.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);let t=this._root,i=this._root.verticalLayout,e=this.zoomOutButton;e.events.on("click",()=>{this.zoomOut()}),e.hide(0),e.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",i);let r=this.plotContainer;r.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),r.children.push(this.topGridContainer),r.children.push(this.bulletsContainer),r.set("interactive",!0),r.set("interactiveChildren",!1),r.set("background",js.new(t,{themeTags:["plotbackground","xy","background"]})),this._disposers.push(r.events.on("pointerdown",a=>{this._handlePlotDown(a)})),this._disposers.push(r.events.on("globalpointerup",a=>{this._handlePlotUp(a)})),this._disposers.push(r.events.on("globalpointermove",a=>{this._handlePlotMove(a)})),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(t){t._unstack(),t._posXDp&&t._posXDp.dispose(),t._posYDp&&t._posYDp.dispose(),t.set("baseAxis",void 0);let i=t.get("xAxis");i&&(Fl(i.series,t),i.markDirtyExtremes());let e=t.get("yAxis");e&&(Fl(e.series,t),e.markDirtyExtremes());let r=this.get("cursor");if(r){let a=r.get("snapToSeries");a&&Fl(a,t)}super._removeSeries(t)}handleWheel(t){let i=this.get("wheelX"),e=this.get("wheelY"),r=this.plotContainer,a=t.originalEvent,o=!1;if(tb(a,this))o=!0;else return;let s=r.toLocal(t.point),d=this.get("wheelStep",.2),u=a.deltaY/100,m=a.deltaX/100,f=this.get("wheelZoomPositionX"),_=this.get("wheelZoomPositionY");(i==="zoomX"||i==="zoomXY")&&m!=0&&this.xAxes.each(x=>{if(x.get("zoomX")){let v=x.get("start"),b=x.get("end"),M=x.fixPosition(s.x/r.width());f!=null&&(M=f);let S=x.get("maxDeviation",0),w=Math.min(1+S,Math.max(-S,v-d*(b-v)*m*M)),T=Math.max(-S,Math.min(1+S,b+d*(b-v)*m*(1-M)));w==v&&T==b&&(o=!1),1/(T-w)<x.getPrivate("maxZoomFactor",1/0)/x.get("minZoomCount",1)?this._handleWheelAnimation(x.zoom(w,T)):o=!1}}),(e==="zoomX"||e==="zoomXY")&&u!=0&&this.xAxes.each(x=>{if(x.get("zoomX")){let v=x.get("start"),b=x.get("end"),M=x.fixPosition(s.x/r.width());f!=null&&(M=f);let S=x.get("maxDeviation",0),w=Math.min(1+S,Math.max(-S,v-d*(b-v)*u*M)),T=Math.max(-S,Math.min(1+S,b+d*(b-v)*u*(1-M)));w==v&&T==b&&(o=!1),1/(T-w)<x.getPrivate("maxZoomFactor",1/0)/x.get("minZoomCount",1)?this._handleWheelAnimation(x.zoom(w,T)):o=!1}}),(i==="zoomY"||i==="zoomXY")&&m!=0&&this.yAxes.each(x=>{if(x.get("zoomY")){let v=x.get("start"),b=x.get("end"),M=x.fixPosition(s.y/r.height());_!=null&&(M=_);let S=x.get("maxDeviation",0),w=Math.min(1+S,Math.max(-S,v-d*(b-v)*m*M)),T=Math.max(-S,Math.min(1+S,b+d*(b-v)*m*(1-M)));w==v&&T==b&&(o=!1),1/(T-w)<x.getPrivate("maxZoomFactor",1/0)/x.get("minZoomCount",1)?this._handleWheelAnimation(x.zoom(w,T)):o=!1}}),(e==="zoomY"||e==="zoomXY")&&u!=0&&this.yAxes.each(x=>{if(x.get("zoomY")){let v=x.get("start"),b=x.get("end"),M=x.fixPosition(s.y/r.height());_!=null&&(M=_);let S=x.get("maxDeviation",0),w=Math.min(1+S,Math.max(-S,v-d*(b-v)*u*M)),T=Math.max(-S,Math.min(1+S,b+d*(b-v)*u*(1-M)));w==v&&T==b&&(o=!1),1/(T-w)<x.getPrivate("maxZoomFactor",1/0)/x.get("minZoomCount",1)?this._handleWheelAnimation(x.zoom(w,T)):o=!1}}),(i==="panX"||i==="panXY")&&m!=0&&this.xAxes.each(x=>{if(x.get("panX")){let v=x.get("start"),b=x.get("end"),M=this._getWheelSign(x)*d*(b-v)*m,S=v+M,w=b+M,T=this._fixWheel(S,w);S=T[0],w=T[1],S==v&&w==b&&(o=!1),this._handleWheelAnimation(x.zoom(S,w))}}),(e==="panX"||e==="panXY")&&u!=0&&this.xAxes.each(x=>{if(x.get("panX")){let v=x.get("start"),b=x.get("end"),M=this._getWheelSign(x)*d*(b-v)*u,S=v+M,w=b+M,T=this._fixWheel(S,w);S=T[0],w=T[1],S==v&&w==b&&(o=!1),this._handleWheelAnimation(x.zoom(S,w))}}),(i==="panY"||i==="panXY")&&m!=0&&this.yAxes.each(x=>{if(x.get("panY")){let v=x.get("start"),b=x.get("end"),M=this._getWheelSign(x)*d*(b-v)*m,S=v+M,w=b+M,T=this._fixWheel(S,w);S=T[0],w=T[1],S==v&&w==b&&(o=!1),this._handleWheelAnimation(x.zoom(S,w))}}),(e==="panY"||e==="panXY")&&u!=0&&this.yAxes.each(x=>{if(x.get("panY")){let v=x.get("start"),b=x.get("end"),M=this._getWheelSign(x)*d*(b-v)*u,S=v-M,w=b-M,T=this._fixWheel(S,w);S=T[0],w=T[1],S==v&&w==b&&(o=!1),this._handleWheelAnimation(x.zoom(S,w))}}),o&&a.preventDefault()}_handleSetWheel(){let t=this.get("wheelX"),i=this.get("wheelY"),e=this.plotContainer;t!=="none"||i!=="none"?(this._wheelDp=e.events.on("wheel",r=>{let a=r.originalEvent;(t!=="none"&&Math.abs(a.deltaX)!=0||i!=="none"&&Math.abs(a.deltaY)!=0)&&this.handleWheel(r)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(t){let i=1;return t.get("renderer").get("inversed")&&(i=-1),i}_fixWheel(t,i){let e=i-t;return t<0&&(t=0,i=t+e),i>1&&(i=1,t=i-e),[t,i]}_handlePlotDown(t){let i=t.originalEvent;if(i.button==2)return;let e=this.plotContainer,r=e.toLocal(t.point);if((this.get("pinchZoomX")||this.get("pinchZoomY"))&&i.pointerId&&Rl(e._downPoints).length>0){let o=this.xAxes.getIndex(0),s=this.yAxes.getIndex(0);o&&(this._downStartX=o.get("start",0),this._downEndX=o.get("end",1)),s&&(this._downStartY=s.get("start",0),this._downEndY=s.get("end",1))}if((this.get("panX")||this.get("panY"))&&r.x>=0&&r.y>=0&&r.x<=e.width()&&r.y<=this.height()){this._downPoint={x:i.clientX,y:i.clientY};let a=this.get("panX"),o=this.get("panY");a&&this.xAxes.each(d=>{d._panStart=d.get("start"),d._panEnd=d.get("end")}),o&&this.yAxes.each(d=>{d._panStart=d.get("start"),d._panEnd=d.get("end")});let s="panstarted";this.events.isEnabled(s)&&this.events.dispatch(s,{type:s,target:this,originalEvent:t.originalEvent})}}_handleWheelAnimation(t){t?t.events.on("stopped",()=>{this._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){let t="wheelended";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}_handlePlotUp(t){let i=this._downPoint;if(i&&(this.get("panX")||this.get("panY"))){if(t.originalEvent.clientX==i.x&&t.originalEvent.clientY==i.y){let r="pancancelled";this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this,originalEvent:t.originalEvent})}let e="panended";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent})}this._downPoint=void 0,this.xAxes.each(e=>{e._isPanning=!1}),this.yAxes.each(e=>{e._isPanning=!1})}_handlePlotMove(t){let i=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){let a=t.originalEvent.pointerId;if(a&&(this._movePoints[a]=t.point,Rl(i._downPoints).length>1)){this._handlePinch();return}}let e=this._downPoint;if(e){e=i.toLocal(this._root.documentPointToRoot(e));let r=i.toLocal(t.point),a=this.get("panX"),o=this.get("panY");if(a){let s=this.get("scrollbarX");s&&s.events.disableType("rangechanged"),this.xAxes.each(d=>{if(d.get("panX")){d._isPanning=!0;let u=d._panStart,m=d._panEnd,_=(m-u)*(e.x-r.x)/i.width();d.get("renderer").get("inversed")&&(_*=-1);let x=u+_,v=m+_;v-x<1+d.get("maxDeviation",1)*2&&(d.set("start",x),d.set("end",v))}}),s&&s.events.enableType("rangechanged")}if(o){let s=this.get("scrollbarY");s&&s.events.disableType("rangechanged"),this.yAxes.each(d=>{if(d.get("panY")){d._isPanning=!0;let u=d._panStart,m=d._panEnd,_=(m-u)*(e.y-r.y)/i.height();d.get("renderer").get("inversed")&&(_*=-1);let x=u-_,v=m-_;v-x<1+d.get("maxDeviation",1)*2&&(d.set("start",x),d.set("end",v))}}),s&&s.events.enableType("rangechanged")}}}_handlePinch(){let t=this.plotContainer,i=0,e=[],r=[];if(xc(t._downPoints,(a,o)=>{e[i]=o;let s=this._movePoints[a];s&&(r[i]=s),i++}),e.length>1&&r.length>1){let a=t.width(),o=t.height(),s=e[0],d=e[1],u=r[0],m=r[1];if(s&&d&&u&&m){if(u=t.toLocal(u),m=t.toLocal(m),s=t.toLocal(s),d=t.toLocal(d),this.get("pinchZoomX")){let f=this._downStartX,_=this._downEndX;if(f!=null&&_!=null){s.x>d.x&&([s,d]=[d,s],[u,m]=[m,u]);let x=f+s.x/a*(_-f),v=f+d.x/a*(_-f),b=f+u.x/a*(_-f),M=f+m.x/a*(_-f),S=Math.max(.001,v-x),w=Math.max(.001,M-b),T=S/w,F=f*T+x-b*T,U=_*T+v-M*T;this.xAxes.each(A=>{let k=A.fixPosition(F),I=A.fixPosition(U);A.zoom(k,I,0)})}}if(this.get("pinchZoomY")){let f=this._downStartY,_=this._downEndY;if(f!=null&&_!=null){s.y<d.y&&([s,d]=[d,s],[u,m]=[m,u]);let x=f+(1-s.y/o)*(_-f),v=f+(1-d.y/o)*(_-f),b=f+(1-u.y/o)*(_-f),M=f+(1-m.y/o)*(_-f),S=Math.max(.001,v-x),w=Math.max(.001,M-b),T=S/w,F=f*T+x-b*T,U=_*T+v-M*T;this.yAxes.each(A=>{let k=A.fixPosition(F),I=A.fixPosition(U);A.zoom(k,I,0)})}}}}}_handleCursorPosition(){let t=this.get("cursor");if(t){let i=t.getPrivate("point"),e=t.get("snapToSeries");if(t._downPoint&&(e=void 0),e&&i){let r=t.get("snapToSeriesBy"),a=[];st(e,d=>{if(!d.isHidden()&&!d.isHiding())if(r!="x!"&&r!="y!"){let u=d.startIndex(),m=d.endIndex();for(let f=u;f<m;f++){let _=d.dataItems[f];_&&!_.isHidden()&&a.push(_)}}else{let u=d.get("tooltipDataItem");u&&a.push(u)}});let o=1/0,s;if(st(a,d=>{let u=d.get("point");if(u){let m=0;r=="x"||r=="x!"?m=Math.abs(i.x-u.x):r=="y"||r=="y!"?m=Math.abs(i.y-u.y):m=Math.hypot(i.x-u.x,i.y-u.y),m<o&&(o=m,s=d)}}),st(e,d=>{let u=d.get("tooltip");u&&u._setDataItem(void 0)}),s){let d=s.component;d.showDataItemTooltip(s),d.setRaw("tooltipDataItem",s);let u=s.get("point");u&&t.handleMove(d.toGlobal({x:u.x-d.x(),y:u.y-d.y()}),!0)}}}}_updateCursor(){let t=this.get("cursor");t&&t.updateCursor()}_addCursor(t){this.plotContainer.children.push(t)}_prepareChildren(){if(super._prepareChildren(),this.series.each(t=>{this._colorize(t)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){let t=this._prevSettings.cursor,i=this.get("cursor");i!==t&&(this._disposeProperty("cursor"),t&&t.dispose(),i&&(i._setChart(this),this._addCursor(i),this._pushPropertyDisposer("cursor",i.events.on("selectended",()=>{this._handleCursorSelectEnd()}))),this._prevSettings.cursor=i)}if(this.isDirty("scrollbarX")){let t=this._prevSettings.scrollbarX,i=this.get("scrollbarX");i!==t&&(this._disposeProperty("scrollbarX"),t&&t.dispose(),i&&(i.parent||this.topAxesContainer.children.push(i),this._pushPropertyDisposer("scrollbarX",i.events.on("rangechanged",e=>{this._handleScrollbar(this.xAxes,e.start,e.end,e.grip)})),this._pushPropertyDisposer("scrollbarX",i.events.on("released",()=>{this.xAxes.each(e=>{e.get("zoomable")&&this._handleAxisSelection(e)})})),i.setPrivate("positionTextFunction",e=>{let r=this.xAxes.getIndex(0);return r&&r.getTooltipText(e,!1)||""})),this._prevSettings.scrollbarX=i)}if(this.isDirty("scrollbarY")){let t=this._prevSettings.scrollbarY,i=this.get("scrollbarY");i!==t&&(this._disposeProperty("scrollbarY"),t&&t.dispose(),i&&(i.parent||this.rightAxesContainer.children.push(i),this._pushPropertyDisposer("scrollbarY",i.events.on("rangechanged",e=>{this._handleScrollbar(this.yAxes,e.start,e.end,e.grip)})),this._pushPropertyDisposer("scrollbarY",i.events.on("released",()=>{this.yAxes.each(e=>{e.get("zoomable")&&this._handleAxisSelection(e)})})),i.setPrivate("positionTextFunction",e=>{let r=this.yAxes.getIndex(0);return r&&r.getTooltipText(e,!1)||""})),this._prevSettings.scrollbarY=i)}this._handleZoomOut()}_processSeries(t){super._processSeries(t);let i=t.get("xAxis"),e=t.get("yAxis");Kp(i.series,t),Kp(e.series,t),t._posXDp=t.addDisposer(i.events.on("positionchanged",()=>{t._fixPosition()})),t._posXDp=t.addDisposer(e.events.on("positionchanged",()=>{t._fixPosition()})),t.get("baseAxis")||(e.isType("CategoryAxis")||e.isType("DateAxis")?t.set("baseAxis",e):t.set("baseAxis",i)),t.get("stacked")&&(t._markDirtyKey("stacked"),st(t.dataItems,r=>{r.set("stackToItemY",void 0),r.set("stackToItemX",void 0)})),t._markDirtyAxes(),e.markDirtyExtremes(),i.markDirtyExtremes(),i._seriesAdded=!0,e._seriesAdded=!0,this._colorize(t)}_colorize(t){let i=this.get("colors");if(i&&t.get("fill")==null){let r=i.next();t._setSoft("stroke",r),t._setSoft("fill",r)}let e=this.get("patterns");if(e&&t.get("fillPattern")==null){let r=e.next();t._setSoft("fillPattern",r)}}_handleCursorSelectEnd(){let t=this.get("cursor"),i=t.get("behavior"),e=t.getPrivate("downPositionX",0),r=t.getPrivate("downPositionY",0),a=Math.min(1,Math.max(0,t.getPrivate("positionX",.5))),o=Math.min(1,Math.max(0,t.getPrivate("positionY",.5)));this.xAxes.each(s=>{if(i==="zoomX"||i==="zoomXY"){let d=s.toAxisPosition(e),u=s.toAxisPosition(a);s.zoom(d,u)}s.setPrivate("updateScrollbar",!0)}),this.yAxes.each(s=>{if(i==="zoomY"||i==="zoomXY"){let d=s.toAxisPosition(r),u=s.toAxisPosition(o);s.zoom(d,u)}s.setPrivate("updateScrollbar",!0)})}_handleScrollbar(t,i,e,r){t.each(a=>{let o=a.fixPosition(i),s=a.fixPosition(e),d=a.zoom(o,s,void 0,r),u="updateScrollbar";a.setPrivateRaw(u,!1),d?d.events.on("stopped",()=>{a.setPrivateRaw(u,!0)}):a.setPrivateRaw(u,!0)})}_processAxis(t,i){return t.events.onAll(e=>{if(e.type==="clear")st(e.oldValues,r=>{this._removeAxis(r)});else if(e.type==="push")i.children.push(e.newValue),e.newValue.processChart(this);else if(e.type==="setIndex")i.children.setIndex(e.index,e.newValue),e.newValue.processChart(this);else if(e.type==="insertIndex")i.children.insertIndex(e.index,e.newValue),e.newValue.processChart(this);else if(e.type==="removeIndex")this._removeAxis(e.oldValue);else if(e.type==="moveIndex")i.children.moveValue(e.value,e.newIndex),e.value.processChart(this);else throw new Error("Unknown IListEvent type")})}_removeAxis(t){if(!t.isDisposed()){let i=t.parent;i&&i.children.removeValue(t);let e=t.gridContainer,r=e.parent;r&&r.children.removeValue(e);let a=t.topGridContainer,o=a.parent;o&&o.children.removeValue(a)}}_updateChartLayout(){let t=this.leftAxesContainer.width(),i=this.rightAxesContainer.width(),e=this.bottomAxesContainer;e.set("paddingLeft",t),e.set("paddingRight",i);let r=this.topAxesContainer;r.set("paddingLeft",t),r.set("paddingRight",i)}processAxis(t){var i=this.get("cursor");i&&(this.addDisposer(t.on("start",()=>{this._updateCursor()})),this.addDisposer(t.on("end",()=>{this._updateCursor()})))}_handleAxisSelection(t,i){let e=t.fixPosition(t.get("start",0)),r=t.fixPosition(t.get("end",1));if(e>r&&([e,r]=[r,e]),this.xAxes.indexOf(t)!=-1){if(i||t.getPrivate("updateScrollbar")){let a=this.get("scrollbarX");a&&(!a.getPrivate("isBusy")||i)&&(a.setRaw("start",e),a.setRaw("end",r),a.updateGrips())}}else if(this.yAxes.indexOf(t)!=-1&&(i||t.getPrivate("updateScrollbar"))){let a=this.get("scrollbarY");a&&(!a.getPrivate("isBusy")||i)&&(a.setRaw("start",e),a.setRaw("end",r),a.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let t=this.zoomOutButton;if(t&&t.parent){let i=!1;this.xAxes.each(e=>{e.get("zoomOut",!0)&&(jn(e.get("start",0),5)!=0||jn(e.get("end",1),5)!=1)&&(i=!0)}),this.yAxes.each(e=>{e.get("zoomOut",!0)&&(jn(e.get("start",0),5)!=0||jn(e.get("end",1),5)!=1)&&(i=!0)}),i?t.isHidden()&&t.show():t.hide()}}inPlot(t){let i=this.plotContainer,e=this.getPrivate("otherCharts",this._otherCharts),r=i.toGlobal(t);if(t.x>=-.5&&t.y>=-.5&&t.x<=i.width()+.5&&t.y<=i.height()+.5)return!0;if(e)for(let a=e.length-1;a>=0;a--){let o=e[a];if(o!=this){let s=o.plotContainer,d=this._root.rootPointToDocument(r),u=o._root.documentPointToRoot(d),m=s.toLocal(u);if(m.x>=-.1&&m.y>=-.1&&m.x<=s.width()+.1&&m.y<=s.height()+.1)return!0}}return!1}arrangeTooltips(){let t=this.plotContainer,i=t.width(),e=t.height(),r=this.height(),a=this._root.tooltipContainer.get("layerMargin");a&&a.bottom>r&&(r=a.bottom);let o=t._display.toGlobal({x:0,y:0}),s=t._display.toGlobal({x:i,y:e}),d=[],u=0,m=1/0,f=this._movePoint,_=this.get("maxTooltipDistance"),x=this.get("maxTooltipDistanceBy","xy"),v,b;Ee(_)&&this.series.each(S=>{if(!S.isHidden()){let w=S.get("tooltip");if(w){let T=w.get("pointTo");if(T){let F=Math.hypot(f.x-T.x,f.y-T.y);x=="x"?F=Math.abs(f.x-T.x):x=="y"&&(F=Math.abs(f.y-T.y)),F<m&&(m=F,v=S,b=T)}}}});let M=[];if(this.series.each(S=>{let w=S.get("tooltip");if(w&&!w.get("forceHidden")){let T=!1,F=w.get("pointTo");if(F){if(_>=0){let U=w.get("pointTo");if(U&&b&&S!=v){let A=Math.hypot(b.x-U.x,b.y-U.y);x=="x"?A=Math.abs(b.x-U.x):x=="y"&&(A=Math.abs(b.y-U.y)),A>_&&(T=!0)}}else _==-1&&S!=v&&(T=!0);!this.inPlot(this._tooltipToLocal(F))||!w.dataItem?T=!0:T||(u+=F.y),T||S.isHidden()||S.isHiding()?w.hide(0):(w.show(),d.push(w),M.push(S))}}}),this.setPrivate("tooltipSeries",M),this.get("arrangeTooltips")){let S=0,w=0,T=this._root.tooltipContainer,F=d.length;if(u/F>e/2+o.y){d.sort((k,I)=>rf(I.get("pointTo").y,k.get("pointTo").y));let A=s.y;if(st(d,k=>{let I=k.height();w++,S+=I;let B=k.get("centerY");B instanceof bo&&(I*=B.value),I+=k.get("marginBottom",0),k.set("bounds",{left:o.x,top:o.y,right:s.x,bottom:A}),k.setPrivate("customData",{left:o.x,top:o.y,right:s.x,bottom:A}),A=Math.min(A-I,k._fy-I),k.parent==T&&T.children.moveValue(k,0)}),A<0){d.reverse();let k=A;st(d,I=>{w++;let B=I.get("bounds");if(B){let X=B.top-A,J=B.bottom-A;X<k&&(X=k,J=X+I.height()),I.set("bounds",{left:B.left,top:X,right:B.right,bottom:J}),k=B.bottom-A+I.get("marginBottom",0)}})}}else{d.reverse(),d.sort((k,I)=>rf(k.get("pointTo").y,I.get("pointTo").y));let A=0;if(st(d,k=>{w++;let I=k.height();S+=I;let B=k.get("centerY");B instanceof bo&&(I*=B.value),I+=k.get("marginBottom",0),k.set("bounds",{left:o.x,top:A,right:s.x,bottom:Math.max(o.y+r,A+I)}),k.parent==T&&T.children.moveValue(k,0),A=Math.max(A+I,k._fy+I)}),A>r){d.reverse();let k=r;st(d,I=>{w++;let B=I.get("bounds");if(B){let X=B.top-(r-A),J=B.bottom-(r-A);J>k&&(J=k,X=J-I.height()),I.set("bounds",{left:B.left,top:X,right:B.right,bottom:J}),k=J-I.height()-I.get("marginBottom",0)}})}}S==0&&w>0&&this._disposers.push(this.root.events.once("frameended",()=>{this.arrangeTooltips()}))}}_tooltipToLocal(t){return this.plotContainer.toLocal(t)}zoomOut(){this.xAxes.each(t=>{t.get("zoomOut",!0)&&(t.setPrivate("updateScrollbar",!0),t.zoom(0,1))}),this.yAxes.each(t=>{t.get("zoomOut",!0)&&(t.setPrivate("updateScrollbar",!0),t.zoom(0,1))})}_dispose(){super._dispose();let t=this.get("cursor");t&&t.dispose()}};Object.defineProperty(Qa,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"});Object.defineProperty(Qa,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gf.classNames.concat([Qa.className])});var Eo=class extends Li{_beforeChanged(){super._beforeChanged(),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}};Object.defineProperty(Eo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"});Object.defineProperty(Eo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Li.classNames.concat([Eo.className])});var qs=class extends Rn{constructor(){super(...arguments),Object.defineProperty(this,"_alwaysShow",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Eo.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Eo.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Li.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_lastPoint2",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=sn(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:pt,height:pt,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(()=>{this.setPrivate("visible",!0)},500)),this._disposers.push(this.lineX.events.on("positionchanged",()=>{this._handleXLine()})),this._disposers.push(this.lineY.events.on("positionchanged",()=>{this._handleYLine()})),this._disposers.push(this.lineX.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineX.events.on("blur",()=>this._handleLineBlur())),this._disposers.push(this.lineY.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineY.events.on("blur",()=>this._handleLineBlur())),Qp("keyboardevents")&&this._disposers.push(JC(document,"keydown",t=>{this._handleLineMove(nb(t),t.ctrlKey)}))}_setUpTouch(){let t=this.chart;t&&(t.plotContainer._display.cancelTouch=this.get("behavior")!="none")}_handleXLine(){let t=this.lineX.x(),i=!0;(t<0||t>this.width())&&(i=!1),this.lineX.setPrivate("visible",i)}_handleYLine(){let t=this.lineY.y(),i=!0;(t<0||t>this.height())&&(i=!1),this.lineY.setPrivate("visible",i)}_handleLineMove(t,i){let e="",r=this.chart,a;if(r&&r.xAxes.length){this._root.focused(this.lineX)?(e="positionX",a=r.xAxes.getIndex(0)):this._root.focused(this.lineY)&&(a=r.yAxes.getIndex(0),e="positionY");let o=1;if(i&&(o=5),a){let s=a.get("renderer").get("inversed",!1),d;t=="ArrowRight"||t=="ArrowDown"?d=1:t=="ArrowLeft"||t=="ArrowUp"?d=-1:t=="Tab"&&(d=0),d!=null&&(s&&(d*=-1),this.set(e,a.nextPosition(d*o)))}}}_handleLineFocus(){this._alwaysShow=this.get("alwaysShow",!1),this.setAll({positionX:this.getPrivate("positionX",0),positionY:this.getPrivate("positionY",0),alwaysShow:!0}),this._handleLineMove("Tab")}_handleLineBlur(){(this.lineX.isFocus()||this.lineY.isFocus())&&this.setAll({positionX:void 0,positionY:void 0,alwaysShow:this._alwaysShow})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;let t=this.get("xAxis");if(t){let i=t.get("tooltip");i&&(this._tooltipX=!0,this._disposers.push(i.on("pointTo",()=>{this._updateXLine(i)})))}}if(this.isDirty("yAxis")){this._tooltipY=!1;let t=this.get("yAxis");if(t){let i=t.get("tooltip");i&&(this._tooltipY=!0,this._disposers.push(i.on("pointTo",()=>{this._updateYLine(i)})))}}}_handleSyncWith(){let t=this.chart;if(t){let i=this.get("syncWith"),e=[];i&&st(i,r=>{let a=r.chart;a&&e.push(a)}),t._otherCharts=e}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){let t=this.get("positionX"),i=this.get("positionY");t==null&&i==null?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(t){let i=jn(this._display.toLocal(t.get("pointTo",{x:0,y:0})).x,3);this._toX!=i&&(this.lineX.animate({key:"x",to:i,duration:t.get("animationDuration",0),easing:t.get("animationEasing")}),this._toX=i)}_updateYLine(t){let i=jn(this._display.toLocal(t.get("pointTo",{x:0,y:0})).y,3);this._toY!=i&&(this.lineY.animate({key:"y",to:i,duration:t.get("animationDuration",0),easing:t.get("animationEasing")}),this._toY=i)}_drawLines(){this.lineX.set("draw",t=>{t.moveTo(0,0),t.lineTo(0,this.height())}),this.lineY.set("draw",t=>{t.moveTo(0,0),t.lineTo(this.width(),0)})}updateCursor(){this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0)))),this.handleMove()}_setChart(t){this.chart=t,this._handleSyncWith();let i=t.plotContainer;this.events.on("boundschanged",()=>{this._disposers.push(this.setTimeout(()=>{this.updateCursor()},50))}),Qp("touchevents")&&(this._disposers.push(i.events.on("click",r=>{eb(r.originalEvent)&&this._handleMove(r)})),this._setUpTouch()),this._disposers.push(i.events.on("pointerdown",r=>{this._handleCursorDown(r)})),this._disposers.push(i.events.on("globalpointerup",r=>{this._handleCursorUp(r),!r.native&&!this.isHidden()&&this._handleMove(r)})),this._disposers.push(i.events.on("globalpointermove",r=>{!this.get("syncWith")&&Rl(i._downPoints).length==0&&!r.native&&this.isHidden()||(this._handleMove(r),Math.hypot(this._lastPoint2.x-r.point.x,this._lastPoint2.y-r.point.y)>1&&(this._handleLineBlur(),this._lastPoint2=r.point))}));let e=this.parent;e&&e.children.moveValue(this.selection)}_inPlot(t){let i=this.chart;return i?i.inPlot(t):!1}_handleCursorDown(t){if(t.originalEvent.button==2)return;let i=t.point,e=this._display.toLocal(i),r=this.chart;if(this.selection.set("draw",()=>{}),r&&this._inPlot(e)){if(this._downPoint=e,this.get("behavior")!="none"){this.selection.show();let s="selectstarted";this.events.isEnabled(s)&&this.events.dispatch(s,{type:s,target:this,originalEvent:t.originalEvent})}let a=this._getPosition(e).x,o=this._getPosition(e).y;this.setPrivate("downPositionX",a),this.setPrivate("downPositionY",o)}}_handleCursorUp(t){if(this._downPoint){let i=this.get("behavior","none");if(i!="none"){i.charAt(0)==="z"&&this.selection.hide();let e=t.point,r=this._display.toLocal(e),a=this._downPoint,o=this.get("moveThreshold",1);if(r&&a){let s=!1;if((i==="zoomX"||i==="zoomXY"||i==="selectX"||i==="selectXY")&&Math.abs(r.x-a.x)>o&&(s=!0),(i==="zoomY"||i==="zoomXY"||i==="selectY"||i==="selectXY")&&Math.abs(r.y-a.y)>o&&(s=!0),s){let d="selectended";this.events.isEnabled(d)&&this.events.dispatch(d,{type:d,target:this,originalEvent:t.originalEvent})}else{let d="selectcancelled";this.events.isEnabled(d)&&this.events.dispatch(d,{type:d,target:this,originalEvent:t.originalEvent})}}}}this._downPoint=void 0}_handleMove(t){if(this.getPrivate("visible")){let i=this.chart;if(i&&Rl(i.plotContainer._downPoints).length>1){this.set("forceHidden",!0);return}else this.set("forceHidden",!1);let e=t.point,r=this._lastPoint;if(Math.round(r.x)===Math.round(e.x)&&Math.round(r.y)===Math.round(e.y))return;this._lastPoint=e,this.setPrivate("lastPoint",e),this.handleMove({x:e.x,y:e.y},!1,t.originalEvent)}}_getPosition(t){return{x:t.x/this.width(),y:t.y/this.height()}}handleMove(t,i,e){t||(t=this._movePoint);let r=this.get("alwaysShow");if(!t){this.hide(0);return}this._movePoint=t;let a=this._display.toLocal(t),o=this.chart;if(o&&(this._inPlot(a)||this._downPoint)){o._movePoint=t,this.isHidden()&&(this.show(),this.get("behavior","").charAt(0)=="z"&&this.selection.set("draw",()=>{}));let s=a.x,d=a.y,u=this._getPosition(a);this.setPrivate("point",a);let m=this.get("snapToSeries");this._downPoint&&(m=void 0);let f=this.get("positionX"),_=u.x;Ee(f)&&(_=f);let x=this.get("positionY"),v=u.y;Ee(x)&&(v=x),this.setPrivate("positionX",_),this.setPrivate("positionY",v);let b=this._getPoint(_,v);if(s=b.x,d=b.y,o.xAxes.each(M=>{M._handleCursorPosition(_,m),r&&M.handleCursorShow()}),o.yAxes.each(M=>{M._handleCursorPosition(v,m),r&&M.handleCursorShow()}),!i){o._handleCursorPosition();let M="cursormoved";this.events.isEnabled(M)&&this.events.dispatch(M,{type:M,target:this,point:t,originalEvent:e})}this._updateLines(s,d),o.arrangeTooltips()}else if(!this._downPoint&&!r){this.hide(0);let s="cursorhidden";this.events.isEnabled(s)&&this.events.dispatch(s,{type:s,target:this})}this._downPoint&&this.get("behavior")!="none"&&this._updateSelection(a)}_getPoint(t,i){return{x:this.width()*t,y:this.height()*i}}_updateLines(t,i){this._tooltipX||this.lineX.set("x",t),this._tooltipY||this.lineY.set("y",i),this._drawLines()}_updateSelection(t){let i=this.selection,e=this.get("behavior"),r=this.width(),a=this.height();t.x<0&&(t.x=0),t.x>r&&(t.x=r),t.y<0&&(t.y=0),t.y>a&&(t.y=a),i.set("draw",o=>{let s=this._downPoint;s&&(e==="zoomXY"||e==="selectXY"?(o.moveTo(s.x,s.y),o.lineTo(s.x,t.y),o.lineTo(t.x,t.y),o.lineTo(t.x,s.y),o.lineTo(s.x,s.y)):e==="zoomX"||e==="selectX"?(o.moveTo(s.x,0),o.lineTo(s.x,a),o.lineTo(t.x,a),o.lineTo(t.x,0),o.lineTo(s.x,0)):(e==="zoomY"||e==="selectY")&&(o.moveTo(0,s.y),o.lineTo(r,s.y),o.lineTo(r,t.y),o.lineTo(0,t.y),o.lineTo(0,s.y)))})}_onHide(){if(this.isHidden()){let t=this.chart;t&&(t.xAxes.each(i=>{i.handleCursorHide()}),t.yAxes.each(i=>{i.handleCursorHide()}),t.series.each(i=>{i.handleCursorHide()}))}super._onHide()}_onShow(){if(!this.isHidden()){let t=this.chart;t&&(t.xAxes.each(i=>{i.handleCursorShow()}),t.yAxes.each(i=>{i.handleCursorShow()}))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}};Object.defineProperty(qs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"});Object.defineProperty(qs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Rn.classNames.concat([qs.className])});function n6(n,t){return n==null?t:t==null?n:t<n?t:n}function i6(n,t){return n==null?t:t==null||n>t?n:t}var Ks=class extends lf{constructor(){super(...arguments),Object.defineProperty(this,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Rn.new(this._root,{}))}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new uu}),Object.defineProperty(this,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(this,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(this,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new bc(this,void 0,{})}),Object.defineProperty(this,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posXDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posYDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),super._afterNew(),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll(t=>{if(t.type==="clear")st(t.oldValues,i=>{this._removeAxisRange(i)});else if(t.type==="push")this._processAxisRange(t.newValue);else if(t.type==="setIndex")this._processAxisRange(t.newValue);else if(t.type==="insertIndex")this._processAxisRange(t.newValue);else if(t.type==="removeIndex")this._removeAxisRange(t.oldValue);else if(t.type==="moveIndex")this._processAxisRange(t.value);else throw new Error("Unknown IStreamEvent type")})),this.states.create("hidden",{opacity:1,visible:!1}),this.onPrivate("startIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this.onPrivate("endIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this._makeFieldNames()}_processAxisRange(t){let i=Rn.new(this._root,{});t.container=i,this.children.push(i),t.series=this;let e=t.axisDataItem;e.setRaw("isRange",!0);let r=e.component;if(r){r._processAxisRange(e,["range","series"]);let a=e.get("bullet");if(a){let s=a.get("sprite");s&&s.setPrivate("visible",!1)}let o=e.get("axisFill");o&&i.set("mask",o),r._seriesAxisRanges.push(e)}}_onDataClear(){super._onDataClear(),xc(this._dataSets,(t,i)=>{st(i,e=>{e.dispose()}),i.length=0})}_removeAxisRange(t){let i=t.axisDataItem,e=i.component;i.dispose(),Fl(e._seriesAxisRanges,i);let r=t.container;r&&r.dispose()}_updateFields(){super._updateFields(),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&st(this.valueXFields,t=>{if(this.get(t+"Field")){this._valueXFields.push(t);let e=this.get(t+"Show");this.__valueXShowFields.push(e),e.indexOf("Working")!=-1?this._valueXShowFields.push(e.split("Working")[0]):this._valueXShowFields.push(e)}}),this.valueYFields&&st(this.valueYFields,t=>{if(this.get(t+"Field")){this._valueYFields.push(t);let e=this.get(t+"Show");this.__valueYShowFields.push(e),e.indexOf("Working")!=-1?this._valueYShowFields.push(e.split("Working")[0]):this._valueYShowFields.push(e)}})}_dispose(){super._dispose(),this._bullets={};let t=this.chart;t&&t.series.removeValue(this),qp(this.get("xAxis").series,this),qp(this.get("yAxis").series,this)}_min(t,i){let e=n6(this.getPrivate(t),i);this.setPrivate(t,e)}_max(t,i){let e=i6(this.getPrivate(t),i);this.setPrivate(t,e)}_shouldMakeBullet(t){let i=this.get("xAxis"),e=this.get("yAxis"),r=this.get("baseAxis");if(!i.inited||!e.inited)return!1;let a=this.get("minBulletDistance",0);if(a>0){let o=this.startIndex(),d=this.endIndex()-o;if(i==r){if(i.get("renderer").axisLength()/d<a/5)return!1}else if(e==r&&e.get("renderer").axisLength()/d<a/5)return!1}return t.get(this._xField)!=null&&t.get(this._yField)!=null}_makeFieldNames(){let t=this.get("xAxis"),i=this.get("yAxis"),e=t.getPrivate("name"),r=Jp(e),a=i.getPrivate("name"),o=Jp(a),s=t.get("renderer").getPrivate("letter"),d=i.get("renderer").getPrivate("letter"),u="open",m="low",f="high",_="Show";t.className==="ValueAxis"?(this._xField=this.get(e+s+_),this._xOpenField=this.get(u+r+s+_),this._xLowField=this.get(m+r+s+_),this._xHighField=this.get(f+r+s+_)):(this._xField=e+s,this._xOpenField=u+r+s,this._xLowField=m+r+s,this._xHighField=f+r+s),i.className==="ValueAxis"?(this._yField=this.get(a+d+_),this._yOpenField=this.get(u+o+d+_),this._yLowField=this.get(m+o+d+_),this._yHighField=this.get(f+o+d+_)):(this._yField=a+d,this._yOpenField=u+o+d,this._yLowField=m+o+d,this._yHighField=f+o+d)}_fixVC(){let t=this.get("xAxis"),i=this.get("yAxis"),e=this.get("baseAxis"),r=this.states.lookup("hidden"),a=this.get("sequencedInterpolation");if(r){let o=0;a&&(o=.999999999999),t===e?r.set("vcy",o):(i===e||r.set("vcy",o),r.set("vcx",o))}}_handleMaskBullets(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}_fixPosition(){let t=this.get("xAxis"),i=this.get("yAxis");this.set("x",t.x()-Ni(t.get("centerX",0),t.width())-t.parent.get("paddingLeft",0)),this.set("y",i.y()-Ni(i.get("centerY",0),i.height())-i.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x())}_prepareChildren(){super._prepareChildren(),this._bullets={},(this.isDirty("valueYShow")||this.isDirty("valueXShow")||this.isDirty("openValueYShow")||this.isDirty("openValueXShow")||this.isDirty("lowValueYShow")||this.isDirty("lowValueXShow")||this.isDirty("highValueYShow")||this.isDirty("highValueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),(this.isDirty("xAxis")||this.isDirty("yAxis"))&&(this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();let t=this.get("xAxis"),i=this.get("yAxis"),e=this.get("baseAxis"),r=this.get("tooltipPositionX"),a;switch(r){case"open":a=this._xOpenField;break;case"low":a=this._xLowField;break;case"high":a=this._xHighField;break;default:a=this._xField}this._tooltipFieldX=a;let o=this.get("tooltipPositionY"),s;switch(o){case"open":s=this._yOpenField;break;case"low":s=this._yLowField;break;case"high":s=this._yHighField;break;default:s=this._yField}this._tooltipFieldY=s,this.isDirty("baseAxis")&&this._fixVC(),this._fixPosition();let d=this.get("stacked");if(this.isDirty("stacked")&&(d?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,d&&this._stack(),st(this.dataItems,u=>{st(this._valueXShowFields,m=>{let f=u.get(m);f!=null&&(d&&(f+=this.getStackedXValue(u,m)),this._min("minX",f),this._max("maxX",f))}),st(this._valueYShowFields,m=>{let f=u.get(m);f!=null&&(d&&(f+=this.getStackedYValue(u,m)),this._min("minY",f),this._max("maxY",f))}),t.processSeriesDataItem(u,this._valueXFields),i.processSeriesDataItem(u,this._valueYFields)}),t._seriesValuesDirty=!0,i._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&t.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&i.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(t._groupSeriesData(this),i._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("adjustedStartIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._sizeDirty){let u=this.startIndex(),m=this.endIndex(),f=this.get("minBulletDistance",0);if(f>0&&e&&(e.get("renderer").axisLength()/(m-u)>f?this._showBullets=!0:this._showBullets=!1),(this._psi!=u||this._pei!=m||this.isDirty("vcx")||this.isDirty("vcy")||this.isPrivateDirty("adjustedStartIndex")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;let _=this.get("vcx",1),x=this.get("vcy",1),v=this.get("stacked",!1),b=this.getPrivate("outOfSelection");if(e===t||!e)if(i._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),b)i.markDirtySelectionExtremes();else for(let M=u;M<m;M++)this.processYSelectionDataItem(this.dataItems[M],x,v);if(e===i||!e)if(t._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),b)i.markDirtySelectionExtremes();else for(let M=u;M<m;M++)this.processXSelectionDataItem(this.dataItems[M],_,v);if((e===t||!e)&&(this.get("valueYShow")!=="valueYWorking"||this.get("useSelectionExtremes"))){let M=this.getPrivate("selectionMinY");M!=null&&(this.setPrivateRaw("minY",M),i.markDirtyExtremes());let S=this.getPrivate("selectionMaxY");S!=null&&(this.setPrivateRaw("maxY",S),i.markDirtyExtremes())}if((e===i||!e)&&(this.get("valueXShow")!=="valueXWorking"||this.get("useSelectionExtremes"))){let M=this.getPrivate("selectionMinX");M!=null&&(this.setPrivateRaw("minX",M),i.markDirtyExtremes());let S=this.getPrivate("selectionMaxX");S!=null&&(this.setPrivateRaw("maxX",S),t.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&t.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&i.markDirtySelectionExtremes()}}}_makeRangeMask(){if(this.axisRanges.length>0){let t=this._mainContainerMask;t==null&&(t=this.children.push(Li.new(this._root,{})),this._mainContainerMask=t,t.set("draw",(i,e)=>{let r=this.parent;if(r){let a=this._root.container.width(),o=this._root.container.height();i.moveTo(-a,-o),i.lineTo(-a,o*2),i.lineTo(a*2,o*2),i.lineTo(a*2,-o),i.lineTo(-a,-o),this.axisRanges.each(s=>{let d=s.axisDataItem.get("axisFill");if(r&&d){let u=d.get("draw");u&&u(i,e)}})}this.mainContainer._display.mask=t._display})),t.markDirty(),t._markDirtyKey("fill")}else this.mainContainer._display.mask=null}_updateChildren(){super._updateChildren(),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}_stack(){let t=this.chart;if(t){let i=t.series.indexOf(this);if(this._couldStackTo=[],i>0){let e;for(let r=i-1;r>=0&&(e=t.series.getIndex(r),!(e.get("xAxis")===this.get("xAxis")&&e.get("yAxis")===this.get("yAxis")&&e.className===this.className&&(this._couldStackTo.push(e),!e.get("stacked"))));r--);}this._stackDataItems()}}_unstack(){xc(this._reallyStackedTo,(t,i)=>{delete i._stackedSeries[this.uid]}),this._reallyStackedTo={},st(this.dataItems,t=>{t.setRaw("stackToItemY",void 0),t.setRaw("stackToItemX",void 0)})}_handleRemoved(){let t=this.get("xAxis");t&&t._handleSeriesRemoved();let i=this.get("yAxis");i&&i._handleSeriesRemoved()}_stackDataItems(){let t=this.get("baseAxis"),i=this.get("xAxis"),e=this.get("yAxis"),r,a;t===i?(r="valueY",a="stackToItemY"):t===e&&(r="valueX",a="stackToItemX");let o=this._couldStackTo.length,s=0,d=this.get("stackToNegative");this._reallyStackedTo={},st(this.dataItems,u=>{for(let m=0;m<o;m++){let f=this._couldStackTo[m],_=f.dataItems[s],x=u.get(r);if(_){let v=_.get(r);if(d)if(Ee(x)){if(Ee(v)){if(m==o-1&&u.setRaw(a,void 0),x>=0&&v>=0){u.setRaw(a,_),this._reallyStackedTo[f.uid]=f,f._stackedSeries[this.uid]=this;break}if(x<0&&v<0){u.setRaw(a,_),this._reallyStackedTo[f.uid]=f,f._stackedSeries[this.uid]=this;break}}}else break;else if(Ee(x)&&Ee(v)){u.setRaw(a,_),this._reallyStackedTo[f.uid]=f,f._stackedSeries[this.uid]=this;break}}}s++})}processXSelectionDataItem(t,i,e){st(this.__valueXShowFields,r=>{let a=t.get(r);a!=null&&(e&&(a+=this.getStackedXValueWorking(t,r)),this._min("selectionMinX",a),this._max("selectionMaxX",a*i))})}processYSelectionDataItem(t,i,e){st(this.__valueYShowFields,r=>{let a=t.get(r);a!=null&&(e&&(a+=this.getStackedYValueWorking(t,r)),this._min("selectionMinY",a),this._max("selectionMaxY",a*i))})}getStackedYValueWorking(t,i){let e=t.get("stackToItemY");if(e){let r=e.component;return e.get(i,0)*r.get("vcy",1)+this.getStackedYValueWorking(e,i)}return 0}getStackedXValueWorking(t,i){let e=t.get("stackToItemX");if(e){let r=e.component;return e.get(i,0)*r.get("vcx",1)+this.getStackedXValueWorking(e,i)}return 0}getStackedYValue(t,i){let e=t.get("stackToItemY");return e?e.get(i,0)+this.getStackedYValue(e,i):0}getStackedXValue(t,i){let e=t.get("stackToItemX");return e?e.get(i,0)+this.getStackedXValue(e,i):0}createLegendMarker(t){this.updateLegendMarker()}_markDirtyAxes(){this._axesDirty=!0,this.markDirty()}_markDataSetDirty(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}_clearDirty(){super._clearDirty(),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}_positionBullet(t){let i=t.get("sprite");if(i){let e=i.dataItem,r=t.get("locationX",e.get("locationX",.5)),a=t.get("locationY",e.get("locationY",.5)),o=this.get("xAxis"),s=this.get("yAxis"),d=this.get("exactLocationX",!1),u=this.get("exactLocationY",!1),m=o.getDataItemPositionX(e,this._xField,r,this.get("vcx",1),d),f=s.getDataItemPositionY(e,this._yField,a,this.get("vcy",1),u),_=this.getPoint(m,f),x=e.get("left",_.x),v=e.get("right",_.x),b=e.get("top",_.y),M=e.get("bottom",_.y),S=0,w=0,T=v-x,F=M-b;if(this._shouldShowBullet(m,f)){i.setPrivate("visible",!t.getPrivate("hidden"));let U=t.get("field"),A=this.get("baseAxis"),k=this.get("xAxis"),I=this.get("yAxis");if(U!=null){let X;A==k?(U=="value"?X=this._yField:U=="open"?X=this._yOpenField:U=="high"?X=this._yHighField:U=="low"&&(X=this._yLowField),X&&(f=I.getDataItemPositionY(e,X,0,this.get("vcy",1),u),_=I.get("renderer").positionToPoint(f),w=_.y,S=x+T*r)):(U=="value"?X=this._xField:U=="open"?X=this._xOpenField:U=="high"?X=this._xHighField:U=="low"&&(X=this._xLowField),X&&(m=k.getDataItemPositionX(e,X,0,this.get("vcx",1),d),_=k.get("renderer").positionToPoint(m),S=_.x,w=M-F*a))}else S=x+T*r,w=M-F*a;let B=t.get("stacked");if(B){let X=this.chart;if(A==k){let J=this._bullets[m+"_"+f];if(J){let te=J.bounds(),ye=i.localBounds(),De=w;w=te.top,B=="down"?w=te.bottom-ye.top:B=="auto"?X&&(De<X.plotContainer.height()/2?w=te.bottom-ye.top:w+=ye.bottom):w+=ye.bottom}this._bullets[m+"_"+f]=i}else{let J=this._bullets[m+"_"+f];if(J){let te=J.bounds(),ye=i.localBounds(),De=S;S=te.right,B=="down"?S=te.left-ye.right:B=="auto"?X&&(De<X.plotContainer.width()/2?S=te.left-ye.right:S-=ye.left):S-=ye.left}this._bullets[m+"_"+f]=i}}i.isType("Label")&&(i.setPrivate("maxWidth",Math.abs(T)),i.setPrivate("maxHeight",Math.abs(F))),i.setAll({x:S,y:w})}else i.setPrivate("visible",!1)}}_shouldShowBullet(t,i){return this._showBullets}setDataSet(t){if(this._dataSets[t]){this._handleDataSetChange(),this._dataItems=this._dataSets[t],this._markDataSetDirty(),this._dataSetId=t;let i="datasetchanged";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,id:t})}}resetGrouping(){xc(this._dataSets,(t,i)=>{i!=this._mainDataItems&&st(i,e=>{e.dispose()})}),this._dataSets={},this._dataItems=this.mainDataItems}_handleDataSetChange(){st(this._dataItems,t=>{let i=t.bullets;i&&st(i,e=>{if(e){let r=e.get("sprite");r&&r.setPrivate("visible",!1)}})}),this._selectionProcessed=!1}show(t){let i=Object.create(null,{show:{get:()=>super.show}});return Ms(this,void 0,void 0,function*(){this._fixVC();let e=[];e.push(i.show.call(this,t).then(()=>{this._isShowing=!1;let r=this.get("xAxis"),a=this.get("yAxis"),o=this.get("baseAxis");a!==o&&a.markDirtySelectionExtremes(),r!==o&&r.markDirtySelectionExtremes()})),e.push(this.bulletsContainer.show(t)),e.push(this._sequencedShowHide(!0,t)),yield Promise.all(e)})}hide(t){let i=Object.create(null,{hide:{get:()=>super.hide}});return Ms(this,void 0,void 0,function*(){this._fixVC();let e=[];e.push(i.hide.call(this,t).then(()=>{this._isHiding=!1})),e.push(this.bulletsContainer.hide(t)),e.push(this._sequencedShowHide(!1,t)),yield Promise.all(e)})}showDataItem(t,i){let e=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return Ms(this,void 0,void 0,function*(){let r=[e.showDataItem.call(this,t,i)];Ee(i)||(i=this.get("stateAnimationDuration",0));let a=this.get("stateAnimationEasing");st(this._valueFields,o=>{r.push(t.animate({key:o+"Working",to:t.get(o),duration:i,easing:a}).waitForStop())}),yield Promise.all(r)})}hideDataItem(t,i){let e=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return Ms(this,void 0,void 0,function*(){let r=[e.hideDataItem.call(this,t,i)],a=this.states.lookup("hidden");a||(a=this.states.create("hidden",{})),Ee(i)||(i=a.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));let o=a.get("stateAnimationEasing",this.get("stateAnimationEasing")),s=this.get("xAxis"),d=this.get("yAxis"),u=this.get("baseAxis"),m=this.get("stacked");if((u===s||!u)&&st(this._valueYFields,f=>{let _=d.getPrivate("min"),x=d.baseValue();Ee(_)&&_>x&&(x=_),m&&(x=0),t.get(f)!=null&&r.push(t.animate({key:f+"Working",to:x,duration:i,easing:o}).waitForStop())}),u===d||!u){let f=s.getPrivate("min"),_=s.baseValue();Ee(f)&&f>_&&(_=f),m&&(_=0),st(this._valueXFields,x=>{t.get(x)!=null&&r.push(t.animate({key:x+"Working",to:_,duration:i,easing:o}).waitForStop())})}yield Promise.all(r)})}_markDirtyStack(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}_markStakedDirtyStack(){let t=this._stackedSeries;t&&xc(t,(i,e)=>{e._stackDirty||e._markDirtyStack()})}_afterChanged(){super._afterChanged(),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}showDataItemTooltip(t){this.getPrivate("doNotUpdateLegend")||(this.updateLegendMarker(t),this.updateLegendValue(t));let i=this.get("tooltip"),e=this.get("exactLocationX",!1),r=this.get("exactLocationY",!1);if(i)if(!this.isHidden()&&this.get("visible")){if(i._setDataItem(t),t){let a=this.get("locationX",0),o=this.get("locationY",1),s=t.get("locationX",a),d=t.get("locationY",o),u=this.get("xAxis"),m=this.get("yAxis"),f=this.get("vcx",1),_=this.get("vcy",1),x=u.getDataItemPositionX(t,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*s,f,e),v=m.getDataItemPositionY(t,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*d,_,r),b=this.getPoint(x,v),M=!0;if(st(this._valueFields,S=>{t.get(S)==null&&(M=!1)}),M){let S=this.chart;S&&S.inPlot(b)?(i.label.text.markDirtyText(),i.set("tooltipTarget",this._getTooltipTarget(t)),i.set("pointTo",this._display.toGlobal({x:b.x,y:b.y}))):i._setDataItem(void 0)}else i._setDataItem(void 0)}}else this.hideTooltip()}hideTooltip(){let t=this.get("tooltip");return t&&t.set("tooltipTarget",this),super.hideTooltip()}_getTooltipTarget(t){if(this.get("seriesTooltipTarget")=="bullet"){let i=t.bullets;if(i&&i.length>0){let r=i[0].get("sprite");if(r)return r}}return this}updateLegendValue(t){let i=this.get("legendDataItem");if(i){let e=i.get("label");if(e){let a="";t?(e._setDataItem(t),a=this.get("legendLabelText",e.get("text",this.get("name","")))):(e._setDataItem(this._emptyDataItem),a=this.get("legendRangeLabelText",this.get("legendLabelText",e.get("text",this.get("name",""))))),e.set("text",a)}let r=i.get("valueLabel");if(r){let a="";t?(r._setDataItem(t),a=this.get("legendValueText",r.get("text",""))):(r._setDataItem(this._emptyDataItem),a=this.get("legendRangeValueText",r.get("text",""))),r.set("text",a)}}}_getItemReaderLabel(){let t="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(t+=".formatDate()"),t+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(t+=".formatDate()"),t+="}",t}getPoint(t,i){let e=this.get("xAxis").get("renderer").positionToCoordinate(t),r=this.get("yAxis").get("renderer").positionToCoordinate(i),a=999999999;return r<-a&&(r=-a),r>a&&(r=a),e<-a&&(e=-a),e>a&&(e=a),{x:e,y:r}}_shouldInclude(t){return!0}handleCursorHide(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}_afterDataChange(){super._afterDataChange(),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}resetExtremes(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}createAxisRange(t){return this.axisRanges.push({axisDataItem:t})}get mainDataItems(){return this._mainDataItems}_adjustStartIndex(t){let i=this.get("xAxis");if(this.get("baseAxis")==i&&i.isType("DateAxis")){let r=i.baseDuration(),a=i.getPrivate("selectionMin",i.getPrivate("min",0)),o=r*this.get("locationX",.5),s=-1/0;for(;s<a;){let d=this.dataItems[t];if(d){let u=d.open;if(u?s=u.valueX:s=d.get("valueX",0),s+=o,s<a)t++;else break}else break}}return t}};Object.defineProperty(Ks,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"});Object.defineProperty(Ks,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lf.classNames.concat([Ks.className])});var Ja=class n extends Ks{constructor(){super(...arguments),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_columnsUpdated",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_makeGraphics(t,i){return this.makeColumn(i,t)}_makeFieldNames(){super._makeFieldNames();let t=this.get("xAxis"),i=this.get("yAxis"),e="CategoryAxis",r="ValueAxis";t.isType(e)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),t.isType(r)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),i.isType(e)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),i.isType(r)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}_prepareChildren(){super._prepareChildren();let t=this.get("xAxis"),i=this.get("yAxis"),e=this.dataItems.length,r=Math.max(0,this.startIndex()-2),a=Math.min(this.endIndex()+2,e-1);if(t.inited&&i.inited)for(let o=r;o<=a;o++){let s=this.dataItems[o];this._createGraphics(s)}}_updateChildren(){let t=this.chart;t&&(this._ph=t.plotContainer.height(),this._pw=t.plotContainer.width());let i=this.get("xAxis"),e=this.get("yAxis"),r=this.get("baseAxis"),a=this.columns.template;this.isDirty("fill")&&a.get("fill")==null&&a.set("fill",this.get("fill")),this.isDirty("fillPattern")&&a.get("fillPattern")==null&&a.set("fillPattern",this.get("fillPattern")),this.isDirty("stroke")&&a.get("stroke")==null&&a.set("stroke",this.get("stroke"));let o=0,s=0,d=0;st(r.series,S=>{if(S instanceof n){let w=S.get("stacked");w&&d==0&&s++,!w&&S.get("clustered")&&s++}S===this&&(o=s-1),d++}),this.get("clustered")||(o=0,s=1),s===0&&(s=1,o=0);let u=i.get("renderer"),m=e.get("renderer"),f="cellStartLocation",_="cellEndLocation",x=u.get(f,0),v=u.get(_,1),b=m.get(f,0),M=m.get(_,1);if(this._aLocationX0=x+o/s*(v-x),this._aLocationX1=x+(o+1)/s*(v-x),this._aLocationY0=b+o/s*(M-b),this._aLocationY1=b+(o+1)/s*(M-b),i.inited&&e.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){let S=this.dataItems.length,w=Math.max(0,this.startIndex()-2),T=Math.min(this.endIndex()+2,S-1);for(let A=0;A<w;A++)this._toggleColumn(this.dataItems[A],!1);let F=this.dataItems[w];for(let A=w;A<=T;A++){let k=this.dataItems[A];if(k.get("valueX")!=null&&k.get("valueY")!=null){if(F=k,A>0&&w>0)for(let I=A-1;I>=0;I--){let B=this.dataItems[I];if(B.get("valueX")!=null&&B.get("valueY")!=null){F=B;break}}break}else this._toggleColumn(k,!1)}this._beforeColumnsDraw();let U=0;e.isType("CategoryAxis")&&i.isType("CategoryAxis")?U=2:i===r?U=0:e===r&&(U=1);for(let A=w;A<=T;A++){let k=this.dataItems[A];this._updateGraphics(k,F,U),k.get("valueX")!=null&&k.get("valueY")!=null&&(F=k)}this._afterColumnsDraw();for(let A=T+1;A<S;A++)this._toggleColumn(this.dataItems[A],!1);this._columnsUpdated=!0}}else this._skipped=!0;this.getPrivate("doNotUpdateLegend")||this.updateLegendMarker(this.get("tooltipDataItem")),super._updateChildren()}_afterChanged(){super._afterChanged(),this._columnsUpdated=!1}_beforeColumnsDraw(){}_afterColumnsDraw(){}_createGraphics(t){let i=t.get("graphics");if(!i){i=this._makeGraphics(this.columns,t),t.set("graphics",i),i._setDataItem(t);let e=t.get("legendDataItem");if(e){let a=e.get("markerRectangle");if(a){let o=a.states.lookup("default");st(af,s=>{let d=i.get(s,this.get(s));a.set(s,d),o.set(s,d)})}}let r=t.get("rangeGraphics");r&&st(r,a=>{a.dispose()}),r=[],t.setRaw("rangeGraphics",r),this.axisRanges.each(a=>{let o=a.container,s=this._makeGraphics(a.columns,t);r&&r.push(s),s.setPrivate("list",a.columns),o.children.push(s)})}}createAxisRange(t){return st(this.dataItems,i=>{let e=i.get("graphics");e&&(e.dispose(),i.set("graphics",void 0))}),super.createAxisRange(t)}_updateGraphics(t,i,e){let r=t.get("graphics"),a=this._xField,o=this._yField,s=t.get(a),d=t.get(o),u=this.get("exactLocationX",!1);if(s!=null&&d!=null){let m=this._xOpenField,f=this._yOpenField,_=this.get("locationX",t.get("locationX",.5)),x=this.get("locationY",t.get("locationY",.5)),v=this.get("openLocationX",t.get("openLocationX",_)),b=this.get("openLocationY",t.get("openLocationY",x)),M=r.get("width"),S=r.get("height"),w=this.get("stacked"),T=this.get("xAxis"),F=this.get("yAxis"),U=T.get("start"),A=T.get("end"),k=F.get("start"),I=F.get("end"),B,X,J,te,ye=this.get("vcy",1),De=this.get("vcx",1),Ce=!1,Ve=!1;if(e==0){let je=this._aLocationX0+v-.5,be=this._aLocationX1+_-.5;if(M instanceof bo){let Te=(be-je)*(1-M.value)/2;je+=Te,be-=Te}if(B=T.getDataItemPositionX(t,m,je,De,u),X=T.getDataItemPositionX(t,a,be,De,u),J=F.getDataItemPositionY(t,o,x,ye),this._yOpenField!==this._yField)te=F.getDataItemPositionY(t,f,b,ye);else if(w){let Te=t.get("stackToItemY");Te?te=F.getDataItemPositionY(Te,o,b,Te.component.get("vcy")):te=F.basePosition()}else te=F.basePosition();t.setRaw("point",{x:B+(X-B)/2,y:J}),Ve=!0}else if(e==1){let je=this._aLocationY0+b-.5,be=this._aLocationY1+x-.5;if(S instanceof bo){let Te=(be-je)*(1-S.value)/2;je+=Te,be-=Te}if(J=F.getDataItemPositionY(t,f,je,ye),te=F.getDataItemPositionY(t,o,be,ye),X=T.getDataItemPositionX(t,a,_,De,u),this._xOpenField!==this._xField)B=T.getDataItemPositionX(t,m,v,De,u);else if(w){let Te=t.get("stackToItemX");Te?B=T.getDataItemPositionX(Te,a,v,Te.component.get("vcx"),u):B=T.basePosition()}else B=T.basePosition();Ce=!0,t.setRaw("point",{x:X,y:J+(te-J)/2})}else if(e==2){let je=this._aLocationX0+v-.5,be=this._aLocationX1+_-.5;if(M instanceof bo){let Te=(be-je)*(1-M.value)/2;je+=Te,be-=Te}if(B=T.getDataItemPositionX(t,m,je,De),X=T.getDataItemPositionX(t,a,be,De),je=this._aLocationY0+b-.5,be=this._aLocationY1+x-.5,S instanceof bo){let Te=(be-je)*(1-S.value)/2;je+=Te,be-=Te}J=F.getDataItemPositionY(t,f,je,ye),te=F.getDataItemPositionY(t,o,be,ye),t.setRaw("point",{x:B+(X-B)/2,y:J+(te-J)/2})}this._applyGraphicsStates(t,i),this._updateSeriesGraphics(t,r,B,X,J,te,Ce,Ve),B<U&&X<U||B>A&&X>A||J<k&&te<=k||J>=I&&te>I||Bs(B)||Bs(J)?this._toggleColumn(t,!1):this._toggleColumn(t,!0);let Se=t.get("rangeGraphics");Se&&st(Se,je=>{this._updateSeriesGraphics(t,je,B,X,J,te,Ce,Ve)})}else this._toggleColumn(t,!1)}_updateSeriesGraphics(t,i,e,r,a,o,s,d){let u=i.get("width"),m=i.get("height"),f=i.get("maxWidth"),_=i.get("maxHeight"),x=this.getPoint(e,a),v=this.getPoint(r,o),b=t.get("point");if(b){let M=this.getPoint(b.x,b.y);b.x=M.x+this._x,b.y=M.y+this._y}if(e=x.x,r=v.x,a=x.y,o=v.y,Ee(u)){let M=(r-e-u)/2;e+=M,r-=M}if(Ee(f)&&f<Math.abs(r-e)){let M=(r-e-f)/2;e+=M,r-=M}if(Ee(m)){let M=(o-a-m)/2;a+=M,o-=M}if(Ee(_)&&_<Math.abs(o-a)){let M=(o-a-_)/2;a+=M,o-=M}this.get("adjustBulletPosition")&&(s&&(r=Math.min(Math.max(0,r),this._pw),e=Math.min(Math.max(0,e),this._pw)),d&&(a=Math.min(Math.max(0,a),this._ph),o=Math.min(Math.max(0,o),this._ph))),t.setRaw("left",e),t.setRaw("right",r),t.setRaw("top",a),t.setRaw("bottom",o),i.setPrivate("width",r-e),i.setPrivate("height",o-a),i.set("x",e),i.set("y",o-(o-a))}_handleDataSetChange(){super._handleDataSetChange(),st(this._dataItems,t=>{this._toggleColumn(t,!1)})}_applyGraphicsStates(t,i){let e=t.get("graphics"),r=e.states.lookup("dropFromOpen"),a=e.states.lookup("riseFromOpen"),o=e.states.lookup("dropFromPrevious"),s=e.states.lookup("riseFromPrevious");if(r||o||a||s){let d=this.get("xAxis"),u=this.get("yAxis"),m=this.get("baseAxis"),f,_,x;m===d&&u.isType("ValueAxis")?(f=t.get(this._yOpenField),_=t.get(this._yField),x=i.get(this._yField)):m===u&&d.isType("ValueAxis")&&(f=t.get(this._xOpenField),_=t.get(this._xField),x=i.get(this._xField)),Ee(f)&&Ee(_)&&(_<f?r&&r.apply():a&&a.apply(),Ee(x)&&(_<x?o&&o.apply():s&&s.apply()))}}disposeDataItem(t){super.disposeDataItem(t);let i=t.get("graphics");i&&(this.columns.removeValue(i),i.dispose());let e=t.get("rangeGraphics");e&&st(e,r=>{let a=r.getPrivate("list");a&&a.removeValue(r),r.dispose()})}hideDataItem(t,i){let e=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return Ms(this,void 0,void 0,function*(){let r=[e.hideDataItem.call(this,t,i)],a=t.get("graphics");a&&r.push(a.hide(i));let o=t.get("rangeGraphics");o&&st(o,s=>{r.push(s.hide(i))}),yield Promise.all(r)})}_toggleColumn(t,i){let e=t.get("graphics");e&&e.setPrivate("visible",i);let r=t.get("rangeGraphics");r&&st(r,o=>{o.setPrivate("visible",i)});let a=t.bullets;a&&st(a,o=>{o.setPrivate("hidden",!i)})}showDataItem(t,i){let e=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return Ms(this,void 0,void 0,function*(){let r=[e.showDataItem.call(this,t,i)],a=t.get("graphics");a&&r.push(a.show(i));let o=t.get("rangeGraphics");o&&st(o,s=>{r.push(s.show(i))}),yield Promise.all(r)})}updateLegendMarker(t){let i=this.get("legendDataItem");if(this.get("useLastColorForLegendMarker")&&!t){let e=this.dataItems[this.endIndex()-1];e&&(t=e)}if(i){let e=this.columns.template;if(t){let a=t.get("graphics");a&&(e=a)}let r=i.get("markerRectangle");if(r&&!i.get("itemContainer").get("disabled")){let a=r.states.lookup("default");st(af,o=>{let s=e.get(o,this.get(o));r.set(o,s),a.set(o,s)})}}}_getTooltipTarget(t){if(this.get("seriesTooltipTarget")=="bullet")return super._getTooltipTarget(t);let i=t.get("graphics");return i||this}};Object.defineProperty(Ja,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"});Object.defineProperty(Ja,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ks.classNames.concat([Ja.className])});var eo=class extends cf{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"minorDataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Rn.new(this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Rn.new(this._root,{width:pt,height:pt})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Rn.new(this._root,{width:pt,height:pt})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Rn.new(this._root,{isMeasured:!1,width:pt,height:pt,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new uu}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesAdded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Rn.new(this._root,{themeTags:["axis","header"],position:"absolute",background:js.new(this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll(i=>{if(i.type==="clear")st(i.oldValues,e=>{e.dispose()});else if(i.type==="push")this._processAxisRange(i.newValue,["range"]);else if(i.type==="setIndex")this._processAxisRange(i.newValue,["range"]);else if(i.type==="insertIndex")this._processAxisRange(i.newValue,["range"]);else if(i.type==="removeIndex")this.disposeDataItem(i.oldValue);else if(i.type==="moveIndex")this._processAxisRange(i.value,["range"]);else throw new Error("Unknown IStreamEvent type")}));let t=this.get("renderer");t&&(t.axis=this,t.processAxis()),this.children.push(t),this._createGhostLabel()}_createGhostLabel(){let i=this.get("renderer").makeLabel(new bc(this,void 0,{}),[]);i.adapters.disable("text"),i.setAll({opacity:0,tooltipText:void 0,tooltipHTML:void 0,interactive:!1}),i.events.disable(),this.ghostLabel=i}_updateFinals(t,i){}zoom(t,i,e,r){if(this.get("zoomable",!0))if(this._updateFinals(t,i),this.get("start")!==t||this.get("end")!=i){let a=this._sAnimation,o=this._eAnimation;t>i&&([t,i]=[i,t]);let s=this.get("maxDeviation",.5)*Math.min(1,i-t);t<-s&&(t=-s),i>1+s&&(i=1+s);let d=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),u=d;Ee(e)||(e=this.get("interpolationDuration",0)),r||(r="end"),i===1&&t!==0&&(t<this.get("start",0)?r="start":r="end"),t===0&&i!==1&&(i>this.get("end",1)?r="end":r="start");let m=this.get("minZoomCount",0),f=this.dataItems;f&&f.length<m&&(m=f.length);let _=this.get("maxZoomCount",1/0);Ee(m)&&(d=u/m);let x=1;if(Ee(_)&&(x=u/_),t>i&&([t,i]=[i,t]),r==="start"?(_>0&&1/(i-t)<x&&(i=t+1/x),1/(i-t)>d&&(i=t+1/d),i>1&&i-t<1/d&&(t=i-1/d)):(_>0&&1/(i-t)<x&&(t=i-1/x),1/(i-t)>d&&(t=i-1/d),t<0&&i-t<1/d&&(i=t+1/d)),1/(i-t)>d&&(i=t+1/d),1/(i-t)>d&&(t=i-1/d),_!=null&&m!=null&&t==this.get("start")&&i==this.get("end")){let v=this.chart;v&&v._handleAxisSelection(this,!0)}if((a&&a.playing&&a.to==t||this.get("start")==t)&&(o&&o.playing&&o.to==i||this.get("end")==i))return;if(e>0){let v=this.get("interpolationEasing"),b,M;if(this.get("start")!=t&&(b=this.animate({key:"start",to:t,duration:e,easing:v})),this.get("end")!=i&&(M=this.animate({key:"end",to:i,duration:e,easing:v})),this._sAnimation=b,this._eAnimation=M,b)return b;if(M)return M}else this.set("start",t),this.set("end",i),this.root.events.once("frameended",()=>{this.markDirtyKey("start")})}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(t,i){t.setRaw("isRange",!0),this._createAssets(t,i),this._rangesDirty=!0,this._prepareDataItem(t);let e=t.get("above"),r=this.topGridContainer,a=t.get("grid");e&&a&&r.children.moveValue(a);let o=t.get("axisFill");e&&o&&r.children.moveValue(o)}_prepareDataItem(t,i){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each(t=>{this._prepareDataItem(t)}),st(this._seriesAxisRanges,t=>{this._prepareDataItem(t)})}_prepareChildren(){super._prepareChildren();let t=this.ghostLabel;if(t&&(this.get("fixAxisSize")?t.set("visible",!0):t.set("visible",!1)),this.isDirty("start")||this.isDirty("end")){let e=this.chart;e&&e._updateCursor();let r=this.get("start",0),a=this.get("end",1),o=this.get("maxDeviation",.5)*Math.min(1,a-r);if(r<-o){let s=r+o;r=-o,this.setRaw("start",r),this.isDirty("end")&&this.setRaw("end",a-s)}if(a>1+o){let s=a-1-o;a=1+o,this.setRaw("end",a),this.isDirty("start")&&this.setRaw("start",r-s)}}let i=this.get("renderer");if(i._start=this.get("start"),i._end=this.get("end"),i._inversed=i.get("inversed",!1),i._axisLength=i.axisLength()/(i._end-i._start),i._updateLC(),this.isDirty("tooltip")){let e=this.get("tooltip");if(e){let r=i.get("themeTags");e.addTag("axis"),e.addTag(this.className.toLowerCase()),e._applyThemes(),r&&(e.set("themeTags",sn(e.get("themeTags"),r)),e.label._applyThemes())}}}_updateTooltipBounds(){let t=this.get("tooltip");t&&this.get("renderer").updateTooltipBounds(t)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(t){this.chart=t;let i=this.get("renderer");i.chart=t,t.gridContainer.children.push(this.gridContainer),t.topGridContainer.children.push(this.topGridContainer),t.axisHeadersContainer.children.push(this.axisHeader),this.on("start",()=>{t._handleAxisSelection(this)}),this.on("end",()=>{t._handleAxisSelection(this)}),t.plotContainer.onPrivate("width",()=>{this.markDirtySize()}),t.plotContainer.onPrivate("height",()=>{this.markDirtySize()}),t.processAxis(this)}hideDataItem(t){return this._toggleFHDataItem(t,!0),super.hideDataItem(t)}showDataItem(t){return this._toggleFHDataItem(t,!1),super.showDataItem(t)}_toggleFHDataItem(t,i){let e="forceHidden",r=t.get("label");r&&r.set(e,i);let a=t.get("grid");a&&a.set(e,i);let o=t.get("tick");o&&o.set(e,i);let s=t.get("axisFill");s&&s.set(e,i);let d=t.get("bullet");if(d){let u=d.get("sprite");u&&u.set(e,i)}}_toggleDataItem(t,i){let e=t.get("label"),r="visible";e&&e.setPrivate(r,i);let a=t.get("grid");a&&a.setPrivate(r,i);let o=t.get("tick");o&&o.setPrivate(r,i);let s=t.get("axisFill");s&&s.setPrivate(r,i);let d=t.get("bullet");if(d){let u=d.get("sprite");u&&u.setPrivate(r,i)}}_createAssets(t,i,e){var r,a,o;let s=this.get("renderer"),d="minor",u=t.get("label");if(!u)s.makeLabel(t,i);else{let _=u.get("themeTags"),x=!1;e?(_==null?void 0:_.indexOf(d))==-1&&(x=!0):(_==null?void 0:_.indexOf(d))!=-1&&(x=!0),x&&((r=u.parent)===null||r===void 0||r.children.removeValue(u),s.makeLabel(t,i),u.dispose(),s.labels.removeValue(u))}let m=t.get("grid");if(!m)s.makeGrid(t,i);else{let _=m.get("themeTags"),x=!1;e?(_==null?void 0:_.indexOf(d))==-1&&(x=!0):(_==null?void 0:_.indexOf(d))!=-1&&(x=!0),x&&((a=m.parent)===null||a===void 0||a.children.removeValue(m),s.makeGrid(t,i),m.dispose(),s.grid.removeValue(m))}let f=t.get("tick");if(!f)s.makeTick(t,i);else{let _=!1,x=f.get("themeTags");e?(x==null?void 0:x.indexOf(d))==-1&&(_=!0):(x==null?void 0:x.indexOf(d))!=-1&&(_=!0),_&&((o=f.parent)===null||o===void 0||o.children.removeValue(f),s.makeTick(t,i),f.dispose(),s.ticks.removeValue(f))}(!e&&!t.get("axisFill")||e&&!t.get("axisFill")&&this.get("minorAxisFillsEnabled"))&&s.makeAxisFill(t,i),this._processBullet(t)}_processBullet(t){let i=t.get("bullet"),e=this.get("bullet");if(!i&&e&&!t.get("isRange")&&(i=e(this._root,this,t)),i){i.axis=this;let r=i.get("sprite");r&&(r._setDataItem(t),t.setRaw("bullet",i),r.parent||this.bulletsContainer.children.push(r))}}_afterChanged(){super._afterChanged();let t=this.chart;t&&(t._updateChartLayout(),t.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions(),this._seriesAdded=!1}disposeDataItem(t){super.disposeDataItem(t);let i=this.get("renderer"),e=t.get("label");e&&(i.labels.removeValue(e),e.dispose());let r=t.get("tick");r&&(i.ticks.removeValue(r),r.dispose());let a=t.get("grid");a&&(i.grid.removeValue(a),a.dispose());let o=t.get("axisFill");o&&(i.axisFills.removeValue(o),o.dispose());let s=t.get("bullet");s&&s.dispose()}_updateGhost(){this.setPrivate("cellWidth",this.getCellWidthPosition()*this.get("renderer").axisLength());let t=this.ghostLabel;if(t){if(!t.isHidden()){let r=t.localBounds(),a=Math.ceil(r.right-r.left),o=t.get("text");st(this.dataItems,s=>{let d=s.get("label");if(d&&!d.isHidden()){let u=d.localBounds();Math.ceil(u.right-u.left)>a&&(o=d.text._getText())}}),t.set("text",o)}let i=this.get("start",0),e=this.get("end",1);this.get("renderer").updateLabel(t,i+(e-i)*.5)}}_handleCursorPosition(t,i){t=this.get("renderer").toAxisPosition(t),this._cursorPosition=t,this._snapToSeries=i,this.updateTooltip()}updateTooltip(){let t=this._snapToSeries,i=this._cursorPosition,e=this.get("tooltip"),r=this.get("renderer");Ee(i)&&(st(this.series,a=>{if(a.get("baseAxis")===this){let o=this.getSeriesItem(a,i,this.get("tooltipLocation"));t&&t.indexOf(a)!=-1?(a.updateLegendMarker(o),a.updateLegendValue(o),a._settings.tooltipDataItem=o):(a.showDataItemTooltip(o),a.setRaw("tooltipDataItem",o))}}),this.get("snapTooltip")&&(i=this.roundAxisPosition(i,this.get("tooltipLocation",.5))),this.setPrivateRaw("tooltipPosition",i),e&&(r.updateTooltipBounds(e),Bs(i)?e.hide(0):(this._updateTooltipText(e,i),r.positionTooltip(e,i),i<this.get("start",0)||i>this.get("end",1)?e.hide(0):e.show(0))))}_updateTooltipText(t,i){t.label.set("text",this.getTooltipText(i))}roundAxisPosition(t,i){return t}_handleSeriesRemoved(){}handleCursorShow(){let t=this.get("tooltip");t&&t.show()}handleCursorHide(){let t=this.get("tooltip");t&&t.hide()}processSeriesDataItem(t,i){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(t){let i=this.get("renderer");return i.toAxisPosition(t/i.axisLength())}toAxisPosition(t){return this.get("renderer").toAxisPosition(t)}toGlobalPosition(t){return this.get("renderer").toGlobalPosition(t)}fixPosition(t){return this.get("renderer").fixPosition(t)}shouldGap(t,i,e,r){return!1}createAxisRange(t){return this.axisRanges.push(t)}_groupSeriesData(t){}getCellWidthPosition(){return .05}};Object.defineProperty(eo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"});Object.defineProperty(eo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cf.classNames.concat([eo.className])});var _a=class extends eo{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dseHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minRealLog",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=sn(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){var t;if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let r=this.get("syncWithAxis");r&&(this._syncDp=new QC([r.onPrivate("selectionMinFinal",()=>{this._dirtySelectionExtremes=!0}),r.onPrivate("selectionMaxFinal",()=>{this._dirtySelectionExtremes=!0})]))}let i=!1;if((this.isDirty("min")||this.isDirty("max")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(i=!0,(t=this.ghostLabel)===null||t===void 0||t.set("text","")),(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||i||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection"))&&(this._getMinMax(),this._dirtyExtremes=!1),this._handleSizeDirty(),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)){let e=this.chart,r=!1;if(e){let a=this.get("renderer").getPrivate("letter");a=="Y"?e.xAxes.each(o=>{o.className!="ValueAxis"&&(r=!0)}):a=="X"&&e.yAxes.each(o=>{o.className!="ValueAxis"&&(r=!0)})}r&&this._getSelectionMinMax(),this._dirtySelectionExtremes=!1}this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_handleSizeDirty(){this._sizeDirty&&!this._dseHandled&&(this._dirtySelectionExtremes=!0,this._dseHandled=!0,(this.getPrivate("selectionMinFinal")!=this.getPrivate("selectionMin")||this.getPrivate("selectionMaxFinal")!=this.getPrivate("selectionMax"))&&(this._dirtySelectionExtremes=!1))}_clearDirty(){super._clearDirty(),this._dseHandled=!1}_groupData(){}_formatText(t){let i=this.get("numberFormat"),e=this.getNumberFormatter(),r="";return i?r=e.format(t,i):r=e.format(t,void 0,this.getPrivate("stepDecimalPlaces")),r}_prepareAxisItems(){let t=this.getPrivate("min"),i=this.getPrivate("max");if(Ee(t)&&Ee(i)){let e=this.get("logarithmic"),r=this.getPrivate("step"),a=this.getPrivate("selectionMin"),o=this.getPrivate("selectionMax")+r,s=a-r,d=1,u=t;if(e){if(s=this._minLogAdjusted,s<a)for(;s<a;)s+=r;if(u=s,u<=0){let F=this._minRealLog;Ee(F)||(F=1),u=Math.pow(10,Math.log(F)*Math.LOG10E),r<1&&(Ee(this._minRealLog)?u=this._minRealLog:u=Math.pow(10,-50))}d=Math.log(o-r)*Math.LOG10E-Math.log(u)*Math.LOG10E,d>2&&(s=Math.pow(10,Math.log(u)*Math.LOG10E-50))}let m=this.get("renderer"),f=m.get("minorLabelsEnabled"),_=m.get("minorGridEnabled",f),x=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E)),v=Math.round(r/x),b=2;jn(v/5,10)%1==0&&(b=5),jn(v/10,10)%1==0&&(b=10);let M=r/b,S=0,w=0,T=-1/0;for(;s<o;){let F;this.dataItems.length<S+1?(F=new bc(this,void 0,{}),this._dataItems.push(F),this.processDataItem(F)):F=this.dataItems[S],this._createAssets(F,[]),this._toggleDataItem(F,!0),F.setRaw("value",s);let U=F.get("label");U&&U.set("text",this._formatText(s)),this._prepareDataItem(F);let A=s;if(e&&d>2?A=Math.pow(10,Math.log(u)*Math.LOG10E+S-50):A+=r,_){let I=s+M;for(e&&(d>2&&(M=this._adjustMinMax(s,A,10).step),I=s+M);I<A-r*1e-11;){let B;this.minorDataItems.length<w+1?(B=new bc(this,void 0,{}),this.minorDataItems.push(B),this.processDataItem(B)):B=this.minorDataItems[w],this._createAssets(B,["minor"],!0),this._toggleDataItem(B,!0),B.setRaw("value",I);let X=B.get("label");X&&(f?X.set("text",this._formatText(I)):X.setPrivate("visible",!1)),this._prepareDataItem(B),I+=M,w++}}if(s=A,T==s)break;let k=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E));if(k<1&&!e){let I=Math.round(Math.abs(Math.log(Math.abs(k))*Math.LOG10E))+2;s=jn(s,I)}S++,e&&d<=2&&s-r<r&&(s=r),T=s}for(let F=S;F<this.dataItems.length;F++)this._toggleDataItem(this.dataItems[F],!1);for(let F=w;F<this.minorDataItems.length;F++)this._toggleDataItem(this.minorDataItems[F],!1);st(this.series,F=>{F.inited&&F._markDirtyAxes()}),this._updateGhost()}}_prepareDataItem(t,i){let e=this.get("renderer"),r=t.get("value"),a=t.get("endValue"),o=this.valueToPosition(r),s=o,d=this.valueToPosition(r+this.getPrivate("step"));Ee(a)&&(s=this.valueToPosition(a),d=s),t.get("isRange")&&a==null&&(d=o);let u=s,m=t.get("labelEndValue");m!=null&&(u=this.valueToPosition(m)),e.updateLabel(t.get("label"),o,u,i);let f=t.get("grid");if(e.updateGrid(f,o,s),f&&(r==this.get("baseValue",0)?(f.addTag("base"),f._applyThemes()):f.hasTag("base")&&(f.removeTag("base"),f._applyThemes())),e.updateTick(t.get("tick"),o,u,i),e.updateFill(t.get("axisFill"),o,d),this._processBullet(t),e.updateBullet(t.get("bullet"),o,s),!t.get("isRange")){let _=this.get("fillRule");_&&_(t)}}_handleRangeChange(){let t=this.positionToValue(this.get("start",0)),i=this.positionToValue(this.get("end",1)),e=this.get("renderer").gridCount(),r=this._adjustMinMax(t,i,e,!0),a=ib(r.step);this.setPrivateRaw("stepDecimalPlaces",a),t=jn(t,a),i=jn(i,a),r=this._adjustMinMax(t,i,e,!0);let o=r.step;t=r.min,i=r.max,(this.getPrivate("selectionMin")!==t||this.getPrivate("selectionMax")!==i||this.getPrivate("step")!==o)&&(this.setPrivateRaw("selectionMin",t),this.setPrivateRaw("selectionMax",i),this.setPrivateRaw("step",o))}positionToValue(t){let i=this.getPrivate("min"),e=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(t*(Math.log(e)*Math.LOG10E-Math.log(i)*Math.LOG10E)+Math.log(i)*Math.LOG10E)/Math.LOG10E):t*(e-i)+i}valueToPosition(t){let i=this.getPrivate("min"),e=this.getPrivate("max");if(this.get("logarithmic")){if(t<=0){let r=this.get("treatZeroAs");Ee(r)&&(t=r)}return(Math.log(t)*Math.LOG10E-Math.log(i)*Math.LOG10E)/(Math.log(e)*Math.LOG10E-Math.log(i)*Math.LOG10E)}else return(t-i)/(e-i)}valueToFinalPosition(t){let i=this.getPrivate("minFinal"),e=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(t<=0){let r=this.get("treatZeroAs");Ee(r)&&(t=r)}return(Math.log(t)*Math.LOG10E-Math.log(i)*Math.LOG10E)/(Math.log(e)*Math.LOG10E-Math.log(i)*Math.LOG10E)}else return(t-i)/(e-i)}getX(t,i,e){t=e+(t-e)*i;let r=this.valueToPosition(t);return this._settings.renderer.positionToCoordinate(r)}getY(t,i,e){t=e+(t-e)*i;let r=this.valueToPosition(t);return this._settings.renderer.positionToCoordinate(r)}getDataItemCoordinateX(t,i,e,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,i,e,r))}getDataItemPositionX(t,i,e,r){let a=t.get(i);if(t.get("stackToItemX")){let s=t.component;a=a*r+s.getStackedXValueWorking(t,i)}else a=this._baseValue+(a-this._baseValue)*r;return this.valueToPosition(a)}getDataItemCoordinateY(t,i,e,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,i,e,r))}getDataItemPositionY(t,i,e,r){let a=t.get(i);if(t.get("stackToItemY")){let s=t.component;a=a*r+s.getStackedYValueWorking(t,i)}else a=this._baseValue+(a-this._baseValue)*r;return this.valueToPosition(a)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){let t=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),i=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0)),e=this.get("baseValue",0);return e<t&&(e=t),e>i&&(e=i),e}cellEndValue(t){return t}fixSmallStep(t){return 1+t===1?(t*=2,this.fixSmallStep(t)):t}_fixMin(t){return t}_fixMax(t){return t}_calculateTotals(){if(this.get("calculateTotals")){let t=this.series[0];if(t){let i=t.startIndex();if(t.dataItems.length>0){i>0&&i--;let e=t.endIndex();e<t.dataItems.length&&e++;let r,a;t.get("yAxis")==this?(r="valueY",a="vcy"):t.get("xAxis")==this&&(r="valueX",a="vcx");let o=r+"Working";if(r)for(let s=i;s<e;s++){let d=0,u=0;st(this.series,m=>{if(!m.get("excludeFromTotal")){let f=m.dataItems[s];if(f){let _=f.get(o)*m.get(a);Bs(_)||(d+=_,u+=Math.abs(_))}}}),st(this.series,m=>{if(!m.get("excludeFromTotal")){let f=m.dataItems[s];if(f){let _=f.get(o)*m.get(a);if(!Bs(_)){f.set(r+"Total",u),f.set(r+"Sum",d);let x=_/u*100;u==0&&(x=0),f.set(r+"TotalPercent",x)}}}})}}}}}_getSelectionMinMax(){let t=this.getPrivate("minFinal"),i=this.getPrivate("maxFinal"),e=this.get("min"),r=this.get("max"),a=this.get("extraMin",0),o=this.get("extraMax",0);this.get("logarithmic")&&(this.get("extraMin")==null&&(a=.1),this.get("extraMax")==null&&(o=.2));let s=this.get("renderer").gridCount(),d=this.get("strictMinMaxSelection"),u=this.get("strictMinMax");if(Ee(t)&&Ee(i)){let m=i,f=t;if(st(this.series,F=>{if(!F.get("ignoreMinMax")){let U,A,k=F.getPrivate("outOfSelection");if(F.get("xAxis")===this){if(!k){let I=F.getPrivate("minX"),B=F.getPrivate("maxX");(F.startIndex()!=0||F.endIndex()!=F.dataItems.length)&&(I=void 0,B=void 0),U=F.getPrivate("selectionMinX",I),A=F.getPrivate("selectionMaxX",B)}}else if(F.get("yAxis")===this&&!k){let I=F.getPrivate("minY"),B=F.getPrivate("maxY");(F.startIndex()!=0||F.endIndex()!=F.dataItems.length)&&(I=void 0,B=void 0),U=F.getPrivate("selectionMinY",I),A=F.getPrivate("selectionMaxY",B)}!F.isHidden()&&!F.isShowing()&&(Ee(U)&&(m=Math.min(m,U)),Ee(A)&&(f=Math.max(f,A)))}}),this.axisRanges.each(F=>{if(F.get("affectsMinMax")){let U=F.get("value");U!=null&&(m=Math.min(m,U),f=Math.max(f,U)),U=F.get("endValue"),U!=null&&(m=Math.min(m,U),f=Math.max(f,U))}}),m>f&&([m,f]=[f,m]),Ee(e)?u?m=e:m=t:u&&Ee(this._minReal)&&(m=this._minReal),Ee(r)?u?f=r:f=i:u&&Ee(this._maxReal)&&(f=this._maxReal),m===f){let F=m;if(m-=this._deltaMinMax,f+=this._deltaMinMax,m<t){let A=F-t;A==0&&(A=this._deltaMinMax),m=F-A,f=F+A,u=!0}let U=this._adjustMinMax(m,f,s,u);m=U.min,f=U.max}let _=m,x=f,v=f-m;m-=v*a,f+=v*o;let b=this._adjustMinMax(m,f,s);m=b.min,f=b.max,m=vo(m,t,i),f=vo(f,t,i),b=this._adjustMinMax(m,f,s,!0),u||(m=b.min,f=b.max);let M=this.get("syncWithAxis");if(M&&(b=this._syncAxes(m,f,b.step,M.getPrivate("selectionMinFinal",M.getPrivate("minFinal",0)),M.getPrivate("selectionMaxFinal",M.getPrivate("maxFinal",1)),M.getPrivate("selectionStepFinal",M.getPrivate("step",1))),b.min<t&&(b.min=t),b.max>i&&(b.max=i),m=b.min,f=b.max),u&&(Ee(e)&&(m=Math.max(m,e)),Ee(r)&&(f=Math.min(f,r))),d&&(m=_-(x-_)*a,f=x+(x-_)*o),u){Ee(e)?m=e:m=_,Ee(r)?f=r:f=x,f-m<=1e-8&&(m-=this._deltaMinMax,f+=this._deltaMinMax);let F=f-m;m-=F*a,f+=F*o}this.get("logarithmic")&&(m<=0&&(m=_*(1-Math.min(a,.99))),m<t&&(m=t),f>i&&(f=i));let S=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),w=jn(this.valueToFinalPosition(m),S),T=jn(this.valueToFinalPosition(f),S);this.setPrivateRaw("selectionMinFinal",m),this.setPrivateRaw("selectionMaxFinal",f),this.setPrivateRaw("selectionStepFinal",b.step),this.zoom(w,T)}}_getMinMax(){let t=this.get("min"),i=this.get("max"),e=1/0,r=-1/0,a=this.get("extraMin",0),o=this.get("extraMax",0);this.get("logarithmic")&&(this.get("strictMinMax")||(this.get("extraMin")==null&&(a=.1),this.get("extraMax")==null&&(o=.2)));let s=1/0;if(st(this.series,T=>{if(!T.get("ignoreMinMax")){let F,U;if(T.get("xAxis")===this?(F=T.getPrivate("minX"),U=T.getPrivate("maxX")):T.get("yAxis")===this&&(F=T.getPrivate("minY"),U=T.getPrivate("maxY")),Ee(F)&&Ee(U)){e=Math.min(e,F),r=Math.max(r,U);let A=U-F;A<=0&&(A=Math.abs(U/100)),A<s&&(s=A)}}}),this.axisRanges.each(T=>{if(T.get("affectsMinMax")){let F=T.get("value");F!=null&&(e=Math.min(e,F),r=Math.max(r,F)),F=T.get("endValue"),F!=null&&(e=Math.min(e,F),r=Math.max(r,F))}}),this.get("logarithmic")){let T=this.get("treatZeroAs");Ee(T)&&e<=0&&(e=T),e<=0&&new Error("Logarithmic value axis can not have values <= 0.")}if(e===0&&r===0&&(r=.9,e=-.9),Ee(t)&&(e=t),Ee(i)&&(r=i),e===1/0||r===-1/0){this.setPrivate("minFinal",void 0),this.setPrivate("maxFinal",void 0);return}e>r&&([e,r]=[r,e]);let d=e,u=r,m=this.adapters.fold("min",e),f=this.adapters.fold("max",r);this._minRealLog=e,Ee(m)&&(e=m),Ee(f)&&(r=f),e=this._fixMin(e),r=this._fixMax(r),r-e<=1/Math.pow(10,15)&&(r-e!==0?this._deltaMinMax=(r-e)/2:this._getDelta(r),e-=this._deltaMinMax,r+=this._deltaMinMax),e-=(r-e)*a,r+=(r-e)*o,this.get("logarithmic")&&(e<0&&d>=0&&(e=0),r>0&&u<=0&&(r=0)),this._minReal=e,this._maxReal=r;let _=this.get("strictMinMax"),x=this.get("strictMinMaxSelection",!1);x&&(_=x);let v=_;Ee(i)&&(v=!0);let b=this.get("renderer").gridCount(),M=this._adjustMinMax(e,r,b,v);if(e=M.min,r=M.max,M=this._adjustMinMax(e,r,b,!0),e=M.min,r=M.max,_){Ee(t)?e=t:e=this._minReal,Ee(i)?r=i:r=this._maxReal,r-e<=1e-8&&(e-=this._deltaMinMax,r+=this._deltaMinMax);let T=r-e;e-=T*a,r+=T*o}m=this.adapters.fold("min",e),f=this.adapters.fold("max",r),Ee(m)&&(e=m),Ee(f)&&(r=f),s==1/0&&(s=r-e);let S=Math.round(Math.abs(Math.log(Math.abs(r-e))*Math.LOG10E))+5;e=jn(e,S),r=jn(r,S);let w=this.get("syncWithAxis");if(w&&(M=this._syncAxes(e,r,M.step,w.getPrivate("minFinal",w.getPrivate("min",0)),w.getPrivate("maxFinal",w.getPrivate("max",1)),w.getPrivate("step",1)),e=M.min,r=M.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((r-e)/s*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=e,e=this._minReal,r=this._maxReal,e<=0&&(e=d*(1-Math.min(a,.99)))),Ee(e)&&Ee(r)&&(this.getPrivate("minFinal")!==e||this.getPrivate("maxFinal")!==r)){this.setPrivate("minFinal",e),this.setPrivate("maxFinal",r),this._saveMinMax(e,r);let T=this.get("interpolationDuration",0),F=this.get("interpolationEasing");this.animatePrivate({key:"min",to:e,duration:T,easing:F}),this.animatePrivate({key:"max",to:r,duration:T,easing:F})}}_fixZoomFactor(){}_getDelta(t){let i=Math.log(Math.abs(t))*Math.LOG10E,e=Math.pow(10,Math.floor(i));e=e/10,this._deltaMinMax=e}_saveMinMax(t,i){}_adjustMinMax(t,i,e,r){e<=1&&(e=1),e=Math.round(e);let a=t,o=i,s=i-t;s===0&&(s=Math.abs(i));let d=Math.log(Math.abs(s))*Math.LOG10E,u=Math.pow(10,Math.floor(d));u=u/10;let m=u;r&&(m=0),r?(t=Math.floor(t/u)*u,i=Math.ceil(i/u)*u):(t=Math.ceil(t/u)*u-m,i=Math.floor(i/u)*u+m),t<0&&a>=0&&(t=0),i>0&&o<=0&&(i=0),d=Math.log(Math.abs(s))*Math.LOG10E,u=Math.pow(10,Math.floor(d)),u=u/100;let f=Math.ceil(s/e/u)*u,_=Math.pow(10,Math.floor(Math.log(Math.abs(f))*Math.LOG10E)),x=Math.ceil(f/_);x>5?x=10:x<=5&&x>2&&(x=5),f=Math.ceil(f/(_*x))*_*x;let v=this.get("maxPrecision");if(Ee(v)){let w=ab(f,v);v<Number.MAX_VALUE&&f!==w&&(f=w,f==0&&(f=1))}let b=0;_<1&&(b=Math.round(Math.abs(Math.log(Math.abs(_))*Math.LOG10E))+1,f=jn(f,b));let M=Math.floor(t/f);t=jn(f*M,b);let S;return r?S=Math.floor(i/f):S=Math.ceil(i/f),S===M&&S++,i=jn(f*S,b),i<o&&(i=i+f),t>a&&(t=t-f),f=this.fixSmallStep(f),{min:t,max:i,step:f}}getTooltipText(t,i){let e=this.get("tooltipNumberFormat",this.get("numberFormat")),r=this.getNumberFormatter(),a=this.get("extraTooltipPrecision",0),o=this.getPrivate("stepDecimalPlaces",0)+a,s=jn(this.positionToValue(t),o);return e?r.format(s,e):r.format(s,void 0,o)}getSeriesItem(t,i){let e=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),r=this.positionToValue(i),a,o;if(st(t.dataItems,(s,d)=>{let u=Math.abs(s.get(e)-r);(a===void 0||u<o)&&(a=d,o=u)}),a!=null)return t.dataItems[a]}zoomToValues(t,i,e){let r=this.getPrivate("minFinal",this.getPrivate("min",0)),a=this.getPrivate("maxFinal",this.getPrivate("max",1));this.getPrivate("min")!=null&&this.getPrivate("max")!=null&&this.zoom((t-r)/(a-r),(i-r)/(a-r),e)}_syncAxes(t,i,e,r,a,o){if(this.get("syncWithAxis")){let d=Math.round(a-r)/o,u=Math.round((i-t)/e),m=this.get("renderer").gridCount();if(Ee(d)&&Ee(u)){let f=!1,_=0,x=(i-t)*.01,v=t,b=i,M=e;for(;f!=!0;)if(f=this._checkSync(v,b,M,d),_++,_>500&&(f=!0),f)t=v,i=b,e=M;else{_/3==Math.round(_/3)?(v=t-x*_,t>=0&&v<0&&(v=0)):(b=i+x*_,b<=0&&b>0&&(b=0));let S=this._adjustMinMax(v,b,m,!0);v=S.min,b=S.max,M=S.step}}}return{min:t,max:i,step:e}}_checkSync(t,i,e,r){let a=(i-t)/e;for(let o=1;o<r;o++)if(jn(a/o,1)==r||a*o==r)return!0;return!1}getCellWidthPosition(){let t=this.getPrivate("selectionMax",this.getPrivate("max")),i=this.getPrivate("selectionMin",this.getPrivate("min"));return Ee(t)&&Ee(i)?this.getPrivate("step",1)/(t-i):.05}nextPosition(t){t==null&&(t=1),this.get("renderer").getPrivate("letter")=="Y"&&(t*=-1);let i=this.positionToValue(this.getPrivate("tooltipPosition",0));return i+=this.getPrivate("step",1)*t,i=vo(i,this.getPrivate("selectionMin",0),this.getPrivate("selectionMax",1)),this.toGlobalPosition(this.valueToPosition(i))}};Object.defineProperty(_a,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"});Object.defineProperty(_a,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:eo.classNames.concat([_a.className])});var to=class n extends eo{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=sn(this._settings.themeTags,["axis"]),this.fields.push("category","id","cellSize"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_afterDataChange(){super._afterDataChange();let t=this.dataItems.length;t>0&&this.setPrivateRaw("maxZoomFactor",t),this.setPrivateRaw("startIndex",Math.min(this.getPrivate("startIndex",0),t)),this.setPrivateRaw("endIndex",Math.min(this.getPrivate("endIndex",t),1))}_prepareChildren(){super._prepareChildren();let t=this.dataItems.length,i=0;this._valuesDirty&&(this._itemMap={},st(this.dataItems,o=>{o.setRaw("index",i),this._itemMap[o.get("category")]=o,i++}),this.setPrivateRaw("maxZoomFactor",t));let e=this.get("start",0),r=this.get("end",1),a=this._getIndices(e,r);this.setPrivateRaw("startIndex",a.startIndex),this.setPrivateRaw("endIndex",a.endIndex),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}adjustZoom(){let t=this.dataItems.length;if(t>1){let i=this.get("maxZoomCount",this.dataItems.length),e=this.get("minZoomCount",1),r=0,a=this.getPrivate("startIndex",0),o=this.getPrivate("endIndex",0),s=this._sAnimation,d=this._eAnimation,u=this.get("start",0),m=!1;s&&!s.stopped&&(u=Number(s.to),m=!0);let f=this.get("end",1);if(d&&!d.stopped&&(f=Number(d.to),m=!0),m){let _=this._getIndices(u,f);a=_.startIndex,o=_.endIndex}for(let _=a;_<o;_++){let x=this.dataItems[_];r+=x.get("finalCellSize",1)}if(r<=e){let _=0;for(let x=a;x<t;x++){let v=this.dataItems[x];if(_+=v.get("finalCellSize",1),o=x+1,_>=e)break}if(_<e)for(let x=a-1;x>=0;x--){let v=this.dataItems[x];if(_+=v.get("finalCellSize",1),a=x,_>=e)break}this.zoomToIndexes(a,o)}else if(r>=i){let _=r;for(let x=o-1;x>=a;x--){let v=this.dataItems[x];if(_-=v.get("finalCellSize",1),_<=i){o=x+1;break}}this.zoomToIndexes(a,o)}}}_handleRangeChange(){st(this.series,t=>{let i=this.dataItems[this.startIndex()].get("category"),e=this.dataItems[this.endIndex()-1].get("category"),r=t.get("baseAxis"),a=t.get("xAxis"),o=t.get("yAxis");if(a instanceof n&&o instanceof n)t._markDirtyAxes();else if(r===this){let d,u,m=o;if(a===r?(t.get("categoryXField")&&(d="categoryX"),t.get("openCategoryXField")&&(u="openCategoryX")):o===r&&(t.get("categoryYField")&&(d="categoryY"),t.get("openCategoryYField")&&(u="openCategoryY"),m=a),m instanceof _a&&(d||u)){let x=function(S,w,T,F,U,A){let k,I=w.categoryToIndex(U);for(;!k&&I>=0&&I<w.dataItems.length;){let B=w.dataItems[I].get("category");if(A=="previous")for(let X=S.dataItems.length-1;X>=0;X--){let J=S.dataItems[X];if(T&&J.get(T)===B){k=J;break}if(F&&J.get(F)===B){k=J;break}}else for(let X=0,J=S.dataItems.length;X<J;X++){let te=S.dataItems[X];if(T&&te.get(T)===B){k=te;break}if(F&&te.get(F)===B){k=te;break}}k||(I+=A==="previous"?-1:1)}return k};var s=x;let f,_;f=x(t,this,d,u,i,"next"),_=x(t,this,d,u,e,"previous");let v=0,b=t.dataItems.length;f&&(v=t.dataItems.indexOf(f)),_&&(b=t.dataItems.indexOf(_)+1),t.setPrivate("startIndex",v),t.setPrivate("endIndex",b);let M=!1;for(let S=v;S<b;S++){let w=t.dataItems[S];if(st(t.__valueXShowFields,T=>{w.get(T)!=null&&(M=!0)}),st(t.__valueYShowFields,T=>{w.get(T)!=null&&(M=!0)}),M)break}t.setPrivate("outOfSelection",!M)}t._markDirtyAxes()}})}_prepareAxisItems(){var t;let i=this.get("renderer"),e=this.dataItems.length,r=this.startIndex();r>0&&r--;let a=this.endIndex();a<e&&a++;let o=i.get("minorLabelsEnabled"),s=i.get("minorGridEnabled",o),d=i.axisLength()/Math.max(i.get("minGridDistance"),1),u=Math.max(1,Math.min(e,Math.ceil((a-r)/d)));r=Math.floor(r/u)*u,this._frequency=u;for(let f=0;f<e;f++)this._toggleDataItem(this.dataItems[f],!1);let m=this.dataItems[r].get("index",0);for(let f=r;f<a;f=f+u){let _=this.dataItems[f];this._createAssets(_,[]),this._toggleDataItem(_,!0);let x=u;s&&(x=1),this._prepareDataItem(_,m,x),m++}if(i.get("minorGridEnabled"))for(let f=r;f<a;f++){let _=this.dataItems[f];f%u!=0&&(this._createAssets(_,["minor"],!0),this._toggleDataItem(_,!0),this._prepareDataItem(_,0,1),o||(t=_.get("label"))===null||t===void 0||t.setPrivate("visible",!1))}this._updateGhost()}_prepareDataItem(t,i,e){let r=this.get("renderer"),a=t.get("categoryLocation",0),o=t.get("endCategoryLocation",1),s=t.get("index");Ee(s)||(s=this.categoryToIndex(t.get("category")));let d=this.indexToPosition(s,a),u=t.get("endCategory"),m;u?(m=this.categoryToIndex(u),Ee(m)||(m=s)):m=s;let f=this.indexToPosition(m,o),_,x;if(t.get("isRange")){if(_=m,!Ee(s)){this._toggleDataItem(t,!1);return}}else _=s+this._frequency-1;x=this.indexToPosition(_,o),r.updateLabel(t.get("label"),d,f,e),r.updateGrid(t.get("grid"),d,f),r.updateTick(t.get("tick"),d,f,e),r.updateFill(t.get("axisFill"),d,x),this._processBullet(t),r.updateBullet(t.get("bullet"),d,f);let v=this.get("fillRule");v&&v(t,i)}startIndex(){let t=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),t-1)}endIndex(){let t=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",t),t))}baseValue(){}basePosition(){return 0}getX(t){let i=this._itemMap[t];return i?this._settings.renderer.positionToCoordinate(this.indexToPosition(i.get("index",0))):NaN}getY(t){let i=this._itemMap[t];return i?this._settings.renderer.positionToCoordinate(this.indexToPosition(i.get("index",0))):NaN}getDataItemPositionX(t,i,e,r){let a=t.get(i),o=this._itemMap[a];return o?this.indexToPosition(o.get("index",0),e):NaN}getDataItemCoordinateX(t,i,e,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,i,e,r))}getDataItemPositionY(t,i,e,r){let a=t.get(i),o=this._itemMap[a];return o?this.indexToPosition(o.get("index",0),e):NaN}getDataItemCoordinateY(t,i,e,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,i,e,r))}indexToPosition(t,i,e){let r=this.dataItems.length,a=0;if(r==0||(t>=r&&(t=r-1,i=1),Ee(i)||(i=.5),!Ee(t)))return 0;let o=this.get("startLocation",0),s=this.get("endLocation",1);if(!this.get("cellSizeField"))r-=o,r-=1-s,a=(t+i-o)/r;else{let d=e?"finalCellSize":"cellSize",u=this.dataItems,m=0;st(this.dataItems,x=>{m+=x.get(d,1)}),m-=o*u[0].get(d,1),m-=(1-s)*u[u.length-1].get(d,1);let f=0;for(let x=0;x<t;x++)f+=u[x].get(d,1);let _=u[t].get(d,1);a=(f+i*_-o*u[0].get(d,1))/m}if(!e){let d=this.dataItems[t];d&&(a+=d.get("deltaPosition",0))}return a}categoryToPosition(t){let i=this._itemMap[t];return i?this.indexToPosition(i.get("index")):NaN}categoryToIndex(t){let i=this._itemMap[t];return i?i.get("index"):NaN}dataItemToPosition(t){return this.indexToPosition(t.get("index"))}roundAxisPosition(t,i){return t+=(.5-i)/this.dataItems.length,this.indexToPosition(this.axisPositionToIndex(t),i)}axisPositionToIndex(t){let i=this.dataItems.length;if(i===0)return 0;if(this.get("cellSizeField")){let e=0,r=[];st(this.dataItems,u=>{let m=u.get("cellSize",1);r.push(m),e+=m});let a=this.get("startLocation",0),o=this.get("endLocation",1);e-=a,e-=1-o;let s=t*e+a,d=0;for(let u=0;u<i;u++){let m=r[u];if(s<d+m)return u;d+=m}return i-1}else return vo(Math.floor(t*i),0,i-1)}getTooltipText(t,i){let e=this.dataItems[this.axisPositionToIndex(t)];if(e){let r=e.get("label");if(r)return sb(r,this.get("tooltipText",""))}}_updateTooltipText(t,i){t._setDataItem(this.dataItems[this.axisPositionToIndex(i)]),t.label.text.markDirtyText()}getSeriesItem(t,i){if(this.dataItems.length>0){let e=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),r=this.axisPositionToIndex(i),a=t.dataItems[r],o=this.dataItems[r],s=o.get("category");if(a&&o&&a.get(e)===s)return a;for(let d=0,u=t.dataItems.length;d<u;d++){let m=t.dataItems[d];if(m.get(e)===s)return m}}}_getIndices(t,i){let e=this.dataItems.length,r=0,a=e,o="cellSize";if(this.get("cellSizeField")){let s=0,d=this.dataItems;if(d.length==0)return{startIndex:0,endIndex:0};st(d,m=>{s+=m.get(o,1)}),s-=this.get("startLocation",0)*d[0].get(o,1),s-=(1-this.get("endLocation",1))*d[d.length-1].get(o,1);let u=0;for(let m=0;m<e;m++)if(u+=this.dataItems[m].get(o,1),Math.round(u)>Math.round(t*s)){r=m;break}for(let m=r+1;m<e;m++)if(u+=this.dataItems[m].get(o,1),Math.round(u)>=Math.round(i*s)){a=m+1;break}r=Math.max(r,0),a=Math.min(a,e)}else r=Math.max(Math.round(this.get("start",0)*e),0),a=Math.min(Math.round(this.get("end",1)*e),e);return{startIndex:r,endIndex:a}}zoomToIndexes(t,i,e){let r=this.dataItems.length;this.get("cellSizeField")?(t=Math.min(Math.max(t,0),r),i=Math.max(Math.min(i,r),1),this.setPrivateRaw("startIndex",t),this.setPrivateRaw("endIndex",i),this.zoom(this.indexToPosition(t,0,!0),this.indexToPosition(i,0,!0),e)):this.zoom(t/r,i/r,e)}zoomToCategories(t,i,e){this.zoomToIndexes(this.categoryToIndex(t),this.categoryToIndex(i)+1,e)}getCellWidthPosition(){return this._frequency/this.dataItems.length/(this.get("end",1)-this.get("start",0))}nextPosition(t){t==null&&(t=1),this.get("renderer").getPrivate("letter")=="Y"&&(t*=-1);let i=this.getPrivate("tooltipPosition",0),e=vo(this.axisPositionToIndex(i)+t,0,this.dataItems.length-1);return this.toGlobalPosition(this.indexToPosition(e))}};Object.defineProperty(to,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"});Object.defineProperty(to,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:eo.classNames.concat([to.className])});var Sc=class extends of{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}};Object.defineProperty(Sc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"});Object.defineProperty(Sc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:of.classNames.concat([Sc.className])});var ls=class extends df{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}};Object.defineProperty(ls,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabelRadial"});Object.defineProperty(ls,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:df.classNames.concat([ls.className])});var kc=class extends uf{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}};Object.defineProperty(kc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"});Object.defineProperty(kc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:uf.classNames.concat([kc.className])});var hr=class extends Li{constructor(){super(...arguments),Object.defineProperty(this,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Dr(Fr.new({}),()=>kc._new(this._root,{themeTags:sn(this.ticks.template.get("themeTags",[]),this.get("themeTags",[]))},[this.ticks.template])))}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Dr(Fr.new({}),()=>Eo._new(this._root,{themeTags:sn(this.grid.template.get("themeTags",[]),this.get("themeTags",[]))},[this.grid.template])))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Dr(Fr.new({}),()=>Li._new(this._root,{themeTags:sn(this.axisFills.template.get("themeTags",["axis","fill"]),this.get("themeTags",[]))},[this.axisFills.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Dr(Fr.new({}),()=>Sc._new(this._root,{themeTags:sn(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template])))}),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeTick(t,i){let e=this.ticks.make();return e._setDataItem(t),t.setRaw("tick",e),e.set("themeTags",sn(e.get("themeTags"),i)),this.axis.labelsContainer.children.push(e),this.ticks.push(e),e}makeGrid(t,i){let e=this.grid.make();return e._setDataItem(t),t.setRaw("grid",e),e.set("themeTags",sn(e.get("themeTags"),i)),this.axis.gridContainer.children.push(e),this.grid.push(e),e}makeAxisFill(t,i){let e=this.axisFills.make();return e._setDataItem(t),e.set("themeTags",sn(e.get("themeTags"),i)),this.axis.gridContainer.children.push(e),t.setRaw("axisFill",e),this.axisFills.push(e),e}makeLabel(t,i){let e=this.labels.make();return e.set("themeTags",sn(e.get("themeTags"),i)),this.axis.labelsContainer.children.moveValue(e,0),e._setDataItem(t),t.setRaw("label",e),this.labels.push(e),e}axisLength(){return 0}gridCount(){return this.axisLength()/this.get("minGridDistance",50)}_updatePositions(){}_afterNew(){super._afterNew(),this.set("isMeasured",!1);let t=this.thumb;t&&(this._disposers.push(t.events.on("pointerdown",i=>{this._handleThumbDown(i)})),this._disposers.push(t.events.on("globalpointerup",i=>{this._handleThumbUp(i)})),this._disposers.push(t.events.on("globalpointermove",i=>{this._handleThumbMove(i)})))}_beforeChanged(){super._beforeChanged(),this.isDirty("minGridDistance")&&this.root.events.once("frameended",()=>{this.axis.markDirtySize()})}_changed(){if(super._changed(),this.isDirty("pan")){let t=this.thumb;if(t){let i=this.axis.labelsContainer,e=this.get("pan");e=="zoom"?i.children.push(t):e=="none"&&i.children.removeValue(t)}}}_handleThumbDown(t){this._thumbDownPoint=this.toLocal(t.point);let i=this.axis;this._downStart=i.get("start"),this._downEnd=i.get("end")}_handleThumbUp(t){this._thumbDownPoint=void 0}_handleThumbMove(t){let i=this._thumbDownPoint;if(i){let e=this.toLocal(t.point),r=this._downStart,a=this._downEnd,o=this._getPan(e,i)*Math.min(1,a-r)/2*this.get("panSensitivity",1);this.axis.zoom(r-o,a+o,0)}}_getPan(t,i){return 0}positionToCoordinate(t){return this._inversed?(this._end-t)*this._axisLength:(t-this._start)*this._axisLength}updateTooltipBounds(t){}_updateSize(){this.markDirty(),this._clear=!0}toAxisPosition(t){let i=this._start||0,e=this._end||1;return t=t*(e-i),this.get("inversed")?t=e-t:t=i+t,t}toGlobalPosition(t){let i=this._start||0,e=this._end||1;return this.get("inversed")?t=e-t:t=t-i,t=t/(e-i),t}fixPosition(t){return this.get("inversed")?1-t:t}_updateLC(){}toggleVisibility(t,i,e,r){let a=this.axis,o=a.get("start",0),s=a.get("end",1),d=o+(s-o)*(e-1e-4),u=o+(s-o)*(r+1e-4);i<d||i>u?t.setPrivate("visible",!1):t.setPrivate("visible",!0)}_positionTooltip(t,i){let e=this.chart;e&&(t.set("pointTo",this._display.toGlobal(i)),e.inPlot(i)||t.hide())}processAxis(){}};Object.defineProperty(hr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"});Object.defineProperty(hr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Li.classNames.concat([hr.className])});var Zs=class extends hr{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:js.new(this._root,{width:pt,isMeasured:!1,themeTags:["axis","x","thumb","zoomgrip"]})})}_afterNew(){this._settings.themeTags=sn(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");let t=this.grid.template;t.set("height",pt),t.set("width",0),t.set("draw",(i,e)=>{i.moveTo(0,0),i.lineTo(0,e.height())}),this.set("draw",(i,e)=>{i.moveTo(0,0),i.lineTo(e.width(),0)})}_changed(){var t;super._changed();let i=this.axis,e=i.ghostLabel;e&&(e.setPrivate("visible",!this.get("inside")),e.set("x",-1e3));let r="opposite",a="inside";if(this.isDirty(r)||this.isDirty(a)){let o=this.chart,s=i.children;if(this.get(a)?i.addTag(a):i.removeTag(a),o){if(this.get(r)){let d=o.topAxesContainer.children;d.indexOf(i)==-1&&d.insertIndex(0,i),i.addTag(r),s.moveValue(this)}else{let d=o.bottomAxesContainer.children;d.indexOf(i)==-1&&d.moveValue(i),i.removeTag(r),s.moveValue(this,0)}(t=i.ghostLabel)===null||t===void 0||t._applyThemes(),this.labels.each(d=>{d._applyThemes()}),this.root._markDirtyRedraw()}i.markDirtySize()}this.thumb.setPrivate("height",i.labelsContainer.height())}_getPan(t,i){return(i.x-t.x)/this.width()}toAxisPosition(t){let i=this._start||0,e=this._end||1;return t-=this._ls,t=t*(e-i)/this._lc,this.get("inversed")?t=e-t:t=i+t,t}toGlobalPosition(t){let i=this._start||0,e=this._end||1;return this.get("inversed")?t=e-t:t=t-i,t=t/(e-i)*this._lc,t+=this._ls,t}_updateLC(){let t=this.axis,i=t.parent;if(i){let e=i.innerWidth();this._lc=this.axisLength()/e,this._ls=(t.x()-i.get("paddingLeft",0))/e}}_updatePositions(){let t=this.axis,i=t.x()-Ni(t.get("centerX",0),t.width())-t.parent.get("paddingLeft",0);t.gridContainer.set("x",i),t.topGridContainer.set("x",i),t.bulletsContainer.set("y",this.y());let e=t.chart;if(e){let r=e.plotContainer,a=t.axisHeader,o=t.get("marginLeft",0),s=t.x()-o,d=t.parent;d&&(s-=d.get("paddingLeft",0)),a.children.length>0?(o=t.axisHeader.width(),t.set("marginLeft",o+1)):a.set("width",o),a.setAll({x:s,y:-1,height:r.height()+2})}}processAxis(){super.processAxis();let t=this.axis;t.get("width")==null&&t.set("width",pt);let i=this._root.verticalLayout;t.set("layout",i),t.labelsContainer.set("width",pt),t.axisHeader.setAll({layout:i})}axisLength(){return this.axis.width()}positionToPoint(t){return{x:this.positionToCoordinate(t),y:0}}updateTick(t,i,e,r){if(t){Ee(i)||(i=0);let a=.5;Ee(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),Ee(e)&&e!=i&&(i=i+(e-i)*a),t.set("x",this.positionToCoordinate(i));let o=t.get("length",0),s=t.get("inside",this.get("inside",!1));this.get("opposite")?(t.set("y",pt),s||(o*=-1)):(t.set("y",0),s&&(o*=-1)),t.set("draw",d=>{d.moveTo(0,0),d.lineTo(0,o)}),this.toggleVisibility(t,i,t.get("minPosition",0),t.get("maxPosition",1))}}updateLabel(t,i,e,r){if(t){let a=.5;Ee(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),Ee(i)||(i=0);let o=t.get("inside",this.get("inside",!1));this.get("opposite")?o?(t.set("position","absolute"),t.set("y",0)):(t.set("position","relative"),t.set("y",pt)):o?(t.set("y",0),t.set("position","absolute")):(t.set("y",void 0),t.set("position","relative")),Ee(e)&&e!=i&&(i=i+(e-i)*a),t.set("x",this.positionToCoordinate(i)),this.toggleVisibility(t,i,t.get("minPosition",0),t.get("maxPosition",1))}}updateGrid(t,i,e){if(t){Ee(i)||(i=0);let r=t.get("location",.5);Ee(e)&&e!=i&&(i=i+(e-i)*r),t.set("x",this.positionToCoordinate(i)),this.toggleVisibility(t,i,0,1)}}updateBullet(t,i,e){if(t){let r=t.get("sprite");if(r){Ee(i)||(i=0);let a=t.get("location",.5);Ee(e)&&e!=i&&(i=i+(e-i)*a);let o=this.axis.roundAxisPosition(i,a),s=this.axis._bullets[o],d=-1;if(this.get("opposite")&&(d=1),t.get("stacked"))if(s){let u=s.get("sprite");u&&r.set("y",u.y()+u.height()*d)}else r.set("y",0);this.axis._bullets[o]=t,r.set("x",this.positionToCoordinate(i)),this.toggleVisibility(r,i,0,1)}}}updateFill(t,i,e){if(t){Ee(i)||(i=0),Ee(e)||(e=1);let r=this.positionToCoordinate(i),a=this.positionToCoordinate(e);this.fillDrawMethod(t,r,a)}}fillDrawMethod(t,i,e){t.set("draw",r=>{let a=this.axis.gridContainer.height(),o=this.width();e<i&&([e,i]=[i,e]),!(i>o||e<0)&&(r.moveTo(i,0),r.lineTo(e,0),r.lineTo(e,a),r.lineTo(i,a),r.lineTo(i,0))})}positionTooltip(t,i){this._positionTooltip(t,{x:this.positionToCoordinate(i),y:0})}updateTooltipBounds(t){let i=this.get("inside"),e=1e5,r=this._display.toGlobal({x:0,y:0}),a=r.x,o=0,s=this.axisLength(),d=e,u="up";this.get("opposite")?i?(u="up",o=r.y,d=e):(u="down",o=r.y-e,d=e):i?(u="down",o=r.y-e,d=e):(u="up",o=r.y,d=e);let m={left:a,right:a+s,top:o,bottom:o+d},f=t.get("bounds");gu(m,f)||(t.set("bounds",m),t.set("pointerOrientation",u))}};Object.defineProperty(Zs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"});Object.defineProperty(Zs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:hr.classNames.concat([Zs.className])});var Qs=class extends hr{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:js.new(this._root,{height:pt,isMeasured:!1,themeTags:["axis","y","thumb","zoomgrip"]})})}_afterNew(){this._settings.themeTags=sn(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");let t=this.grid.template;t.set("width",pt),t.set("height",0),t.set("draw",(i,e)=>{i.moveTo(0,0),i.lineTo(e.width(),0)}),this.set("draw",(i,e)=>{i.moveTo(0,0),i.lineTo(0,e.height())})}_getPan(t,i){return(t.y-i.y)/this.height()}_changed(){var t;super._changed();let i=this.axis,e=i.ghostLabel;e&&(e.setPrivate("visible",!this.get("inside")),e.set("y",-1e3));let r=this.thumb,a="opposite",o="inside",s=this.chart;if(this.isDirty(a)||this.isDirty(o)){let u=i.children;if(this.get(o)?i.addTag(o):i.removeTag(o),s){if(this.get(a)){let m=s.rightAxesContainer.children;m.indexOf(i)==-1&&m.moveValue(i,0),i.addTag(a),u.moveValue(this,0)}else{let m=s.leftAxesContainer.children;m.indexOf(i)==-1&&m.moveValue(i),i.removeTag(a),u.moveValue(this)}(t=i.ghostLabel)===null||t===void 0||t._applyThemes(),this.labels.each(m=>{m._applyThemes()}),this.root._markDirtyRedraw()}i.markDirtySize()}let d=i.labelsContainer.width();s&&(this.get(a)?r.set("centerX",0):r.set("centerX",d)),r.setPrivate("width",d)}processAxis(){super.processAxis();let t=this.axis;t.get("height")==null&&t.set("height",pt);let i=this._root.horizontalLayout;t.set("layout",i),t.labelsContainer.set("height",pt),t.axisHeader.set("layout",i)}_updatePositions(){let t=this.axis,i=t.y()-Ni(t.get("centerY",0),t.height());t.gridContainer.set("y",i),t.topGridContainer.set("y",i),t.bulletsContainer.set("x",this.x());let e=t.chart;if(e){let r=e.plotContainer,a=t.axisHeader,o=t.get("marginTop",0);a.children.length>0?(o=t.axisHeader.height(),t.set("marginTop",o+1)):a.set("height",o),a.setAll({y:t.y()-o,x:-1,width:r.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(t){return{x:0,y:this.positionToCoordinate(t)}}updateLabel(t,i,e,r){if(t){Ee(i)||(i=0);let a=.5;Ee(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a);let o=this.get("opposite"),s=t.get("inside",this.get("inside",!1));o?(t.set("x",0),s?t.set("position","absolute"):t.set("position","relative")):s?(t.set("x",0),t.set("position","absolute")):(t.set("x",void 0),t.set("position","relative")),Ee(e)&&e!=i&&(i=i+(e-i)*a),t.set("y",this.positionToCoordinate(i)),this.toggleVisibility(t,i,t.get("minPosition",0),t.get("maxPosition",1))}}updateGrid(t,i,e){if(t){Ee(i)||(i=0);let r=t.get("location",.5);Ee(e)&&e!=i&&(i=i+(e-i)*r),t.set("y",this.positionToCoordinate(i)),this.toggleVisibility(t,i,0,1)}}updateTick(t,i,e,r){if(t){Ee(i)||(i=0);let a=.5;Ee(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),Ee(e)&&e!=i&&(i=i+(e-i)*a),t.set("y",this.positionToCoordinate(i));let o=t.get("length",0),s=t.get("inside",this.get("inside",!1));this.get("opposite")?(t.set("x",0),s&&(o*=-1)):s||(o*=-1),t.set("draw",d=>{d.moveTo(0,0),d.lineTo(o,0)}),this.toggleVisibility(t,i,t.get("minPosition",0),t.get("maxPosition",1))}}updateBullet(t,i,e){if(t){let r=t.get("sprite");if(r){Ee(i)||(i=0);let a=t.get("location",.5);Ee(e)&&e!=i&&(i=i+(e-i)*a);let o=this.axis.roundAxisPosition(i,a),s=this.axis._bullets[o],d=1;if(this.get("opposite")&&(d=-1),t.get("stacked"))if(s){let u=s.get("sprite");u&&r.set("x",u.x()+u.width()*d)}else r.set("x",0);this.axis._bullets[o]=t,r.set("y",this.positionToCoordinate(i)),this.toggleVisibility(r,i,0,1)}}}updateFill(t,i,e){if(t){Ee(i)||(i=0),Ee(e)||(e=1);let r=this.positionToCoordinate(i),a=this.positionToCoordinate(e);this.fillDrawMethod(t,r,a)}}fillDrawMethod(t,i,e){t.set("draw",r=>{let a=this.axis.gridContainer.width(),o=this.height();e<i&&([e,i]=[i,e]),!(i>o||e<0)&&(r.moveTo(0,i),r.lineTo(a,i),r.lineTo(a,e),r.lineTo(0,e),r.lineTo(0,i))})}positionToCoordinate(t){return this._inversed?(t-this._start)*this._axisLength:(this._end-t)*this._axisLength}positionTooltip(t,i){this._positionTooltip(t,{x:0,y:this.positionToCoordinate(i)})}updateTooltipBounds(t){let i=this.get("inside"),e=1e5,r=this._display.toGlobal({x:0,y:0}),a=r.y,o=0,s=this.axisLength(),d=e,u="right";this.get("opposite")?i?(u="right",o=r.x-e,d=e):(u="left",o=r.x,d=e):i?(u="left",o=r.x,d=e):(u="right",o=r.x-e,d=e);let m={left:o,right:o+d,top:a,bottom:a+s},f=t.get("bounds");gu(m,f)||(t.set("bounds",m),t.set("pointerOrientation",u))}_updateLC(){let t=this.axis,i=t.parent;if(i){let e=i.innerHeight();this._lc=this.axisLength()/e,this._ls=t.y()/e}}toAxisPosition(t){let i=this._start||0,e=this._end||1;return t-=this._ls,t=t*(e-i)/this._lc,this.get("inversed")?t=i+t:t=e-t,t}toGlobalPosition(t){let i=this._start||0,e=this._end||1;return this.get("inversed")?t=t-i:t=e-t,t=t/(e-i)*this._lc,t+=this._ls,t}fixPosition(t){return this.get("inversed")?t:1-t}};Object.defineProperty(Qs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"});Object.defineProperty(Qs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:hr.classNames.concat([Qs.className])});var Js=class extends Ja{constructor(){super(...arguments),Object.defineProperty(this,"allColumns",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Li.new(this._root,{}))}),Object.defineProperty(this,"allColumnsData",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Dr(Fr.new({}),()=>sf._new(this._root,{position:"absolute",themeTags:sn(this.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template])))})}makeColumn(t,i){let e=i.make();return this.get("turboMode")?e.virtualParent=this.chart:this.mainContainer.children.push(e),e._setDataItem(t),i.push(e),e}_processAxisRange(t){super._processAxisRange(t),t.columns=new Dr(Fr.new({}),()=>sf._new(this._root,{position:"absolute",themeTags:sn(t.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template,t.columns.template]))}_beforeColumnsDraw(){this.allColumnsData=[]}_afterColumnsDraw(){this.get("turboMode")&&this.allColumns.set("draw",t=>{t.clear(),st(this.allColumnsData,i=>{let e=i.width,r=i.height,a=i.x,o=i.y,s=i.stroke,d=i.fill,u=i.strokeWidth,m=i.strokeOpacity,f=i.fillOpacity;t.beginFill(d,f),t.beginPath(),t.lineStyle(u,s,m),t.drawRect(a,o,e,r),t.endStroke(),t.endFill()})})}_updateSeriesGraphics(t,i,e,r,a,o,s,d){if(this.get("turboMode")){let u=i.get("stroke"),m=i.get("fillOpacity",1),f=i.get("strokeOpacity",1),_=i.get("strokeWidth",1),x=i.get("fill"),v=this.getPoint(e,a),b=this.getPoint(r,o),M=t.get("point");if(M){let S=this.getPoint(M.x,M.y);M.x=S.x+this._x,M.y=S.y+this._y}e=v.x,r=b.x,a=v.y,o=b.y,t.setRaw("left",e),t.setRaw("right",r),t.setRaw("top",a),t.setRaw("bottom",o),this.allColumnsData.push({width:r-e,height:o-a,x:e,y:a,stroke:u,fill:x,strokeWidth:_,strokeOpacity:f,fillOpacity:m})}else super._updateSeriesGraphics(t,i,e,r,a,o,s,d)}};Object.defineProperty(Js,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"});Object.defineProperty(Js,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ja.classNames.concat([Js.className])});var Ao=class extends hr{constructor(){super(...arguments),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Dr(Fr.new({}),()=>ls._new(this._root,{themeTags:sn(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template])))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Dr(Fr.new({}),()=>$d._new(this._root,{themeTags:sn(this.axisFills.template.get("themeTags",["fill"]),this.get("themeTags",[]))},[this.axisFills.template])))}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:zs()})}_afterNew(){this._settings.themeTags=sn(this._settings.themeTags,["renderer","circular"]),super._afterNew(),this.setPrivateRaw("letter","X"),this.setRaw("position","absolute")}_changed(){super._changed(),(this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle"))&&this.updateLayout()}processAxis(){super.processAxis(),this.axis.labelsContainer.set("isMeasured",!1)}updateLayout(){let t=this.chart;if(t){let i=t.getPrivate("radius",0),e=Ni(this.get("radius",pt),i);e<0&&(e=i+e),this.setPrivate("radius",e);let r=Ni(this.get("innerRadius",t.getPrivate("innerRadius",0)),i)*t.getPrivate("irModifyer",1);r<0&&(r=e+r),this.setPrivate("innerRadius",r);let a=this.get("startAngle",t.get("startAngle",-90)),o=this.get("endAngle",t.get("endAngle",270));this.setPrivate("startAngle",a),this.setPrivate("endAngle",o),this.set("draw",s=>{let d=this.positionToPoint(0);s.moveTo(d.x,d.y),a>o&&([a,o]=[o,a]),s.arc(0,0,e,a*cr,o*cr)}),this.axis.markDirtySize()}}updateGrid(t,i,e){if(t){i==null&&(i=0);let r=t.get("location",.5);e!=null&&e!=i&&(i=i+(e-i)*r);let a=this.getPrivate("radius",0),o=this.getPrivate("innerRadius",0),s=this.positionToAngle(i);this.toggleVisibility(t,i,0,1),a!=null&&t.set("draw",d=>{d.moveTo(o*Gi(s),o*Ui(s)),d.lineTo(a*Gi(s),a*Ui(s))})}}positionToAngle(t){let i=this.axis,e=this.getPrivate("startAngle",0),r=this.getPrivate("endAngle",360),a=i.get("start",0),o=i.get("end",1),s=(r-e)/(o-a),d;return this.get("inversed")?d=e+(o-t)*s:d=e+(t-a)*s,d}_handleOpposite(){}positionToPoint(t){let i=this.getPrivate("radius",0),e=this.positionToAngle(t);return{x:i*Gi(e),y:i*Ui(e)}}updateLabel(t,i,e,r){if(t){i==null&&(i=0);let a=.5;r!=null&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),e!=null&&e!=i&&(i=i+(e-i)*a);let o=this.getPrivate("radius",0),s=this.getPrivate("innerRadius",0),d=this.positionToAngle(i);t.setPrivate("radius",o),t.setPrivate("innerRadius",s),t.set("labelAngle",d),this.toggleVisibility(t,i,t.get("minPosition",0),t.get("maxPosition",1))}}fillDrawMethod(t,i,e){t.set("draw",r=>{i==null&&(i=this.getPrivate("startAngle",0)),e==null&&(e=this.getPrivate("endAngle",0));let a=this.getPrivate("innerRadius",0),o=this.getPrivate("radius",0);this._fillGenerator.context(r),this._fillGenerator({innerRadius:a,outerRadius:o,startAngle:(i+90)*cr,endAngle:(e+90)*cr})})}updateTick(t,i,e,r){if(t){i==null&&(i=0);let a=.5;r!=null&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),e!=null&&e!=i&&(i=i+(e-i)*a);let o=t.get("length",0);t.get("inside")&&(o*=-1);let d=this.getPrivate("radius",0),u=this.positionToAngle(i);this.toggleVisibility(t,i,t.get("minPosition",0),t.get("maxPosition",1)),d!=null&&t.set("draw",m=>{m.moveTo(d*Gi(u),d*Ui(u)),d+=o,m.lineTo(d*Gi(u),d*Ui(u))})}}updateBullet(t,i,e){if(t){let r=t.get("sprite");if(r){i==null&&(i=0);let a=t.get("location",.5);e!=null&&e!=i&&(i=i+(e-i)*a);let o=this.getPrivate("radius",0),s=this.positionToAngle(i);this.toggleVisibility(r,i,0,1),r.setAll({rotation:s,x:o*Gi(s),y:o*Ui(s)})}}}updateFill(t,i,e){if(t){i==null&&(i=0),e==null&&(e=1);let r=this.fitAngle(this.positionToAngle(i)),a=this.fitAngle(this.positionToAngle(e));t.setAll({startAngle:r,arc:a-r}),t._setSoft("innerRadius",this.getPrivate("innerRadius")),t._setSoft("radius",this.getPrivate("radius"))}}fitAngle(t){let i=this.getPrivate("startAngle",0),e=this.getPrivate("endAngle",0),r=Math.min(i,e),a=Math.max(i,e);return t<r&&(t=r),t>a&&(t=a),t}axisLength(){return Math.abs(this.getPrivate("radius",0)*Math.PI*2*(this.getPrivate("endAngle",360)-this.getPrivate("startAngle",0))/360)}positionTooltip(t,i){let e=this.getPrivate("radius",0),r=this.positionToAngle(i);this._positionTooltip(t,{x:e*Gi(r),y:e*Ui(r)})}updateTooltipBounds(t){}};Object.defineProperty(Ao,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererCircular"});Object.defineProperty(Ao,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:hr.classNames.concat([Ao.className])});var Io=class extends hr{constructor(){super(...arguments),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:zs()}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Dr(Fr.new({}),()=>ls._new(this._root,{themeTags:sn(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template])))})}_afterNew(){this._settings.themeTags=sn(this._settings.themeTags,["renderer","radial"]),super._afterNew(),this.setPrivate("letter","Y"),this.setRaw("position","absolute")}_changed(){super._changed(),(this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle"))&&this.updateLayout()}processAxis(){super.processAxis()}updateLayout(){let t=this.chart;if(t){let i=t.getPrivate("radius",0),e=Ni(this.get("radius",pt),i),r=Ni(this.get("innerRadius",t.getPrivate("innerRadius",0)),i)*t.getPrivate("irModifyer",1);r<0&&(r=e+r),this.setPrivate("radius",e),this.setPrivate("innerRadius",r);let a=this.get("startAngle",t.get("startAngle",-90)),o=this.get("endAngle",t.get("endAngle",270));this.setPrivate("startAngle",a),this.setPrivate("endAngle",o);let s=this.get("axisAngle",0);this.set("draw",d=>{d.moveTo(r*Gi(s),r*Ui(s)),d.lineTo(e*Gi(s),e*Ui(s))}),this.axis.markDirtySize()}}updateGrid(t,i,e){if(t){Ee(i)||(i=0);let r=t.get("location",.5);Ee(e)&&e!=i&&(i=i+(e-i)*r);let a=this.positionToCoordinate(i)+this.getPrivate("innerRadius",0);this.toggleVisibility(t,i,0,1),Ee(a)&&t.set("draw",o=>{let s=this.getPrivate("startAngle",0)*cr,d=this.getPrivate("endAngle",0)*cr;o.arc(0,0,Math.max(0,a),Math.min(s,d),Math.max(s,d))})}}_handleOpposite(){}positionToPoint(t){let i=this.getPrivate("innerRadius",0),e=this.positionToCoordinate(t)+i,r=this.get("axisAngle",0);return{x:e*Gi(r),y:e*Ui(r)}}updateLabel(t,i,e,r){if(t){Ee(i)||(i=0);let a=.5;Ee(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),Ee(e)&&e!=i&&(i=i+(e-i)*a);let o=this.positionToPoint(i),s=Math.hypot(o.x,o.y);t.setPrivate("radius",s),t.setPrivate("innerRadius",s),t.set("labelAngle",this.get("axisAngle")),this.toggleVisibility(t,i,t.get("minPosition",0),t.get("maxPosition",1))}}fillDrawMethod(t,i,e){t.set("draw",r=>{i=Math.max(0,i),e=Math.max(0,e),this._fillGenerator.context(r);let a=(this.getPrivate("startAngle",0)+90)*cr,o=(this.getPrivate("endAngle",0)+90)*cr;o<a&&([a,o]=[o,a]),this._fillGenerator({innerRadius:i,outerRadius:e,startAngle:a,endAngle:o})})}updateTick(t,i,e,r){if(t){Ee(i)||(i=0);let a=.5;Ee(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),Ee(e)&&e!=i&&(i=i+(e-i)*a);let o=this.positionToPoint(i);t.set("x",o.x),t.set("y",o.y);let s=t.get("length",0);t.get("inside")&&(s*=-1);let u=this.get("axisAngle",0)+90;t.set("draw",m=>{m.moveTo(0,0),m.lineTo(s*Gi(u),s*Ui(u))}),this.toggleVisibility(t,i,t.get("minPosition",0),t.get("maxPosition",1))}}updateBullet(t,i,e){if(t){let r=t.get("sprite");if(r){Ee(i)||(i=0);let a=t.get("location",.5);Ee(e)&&e!=i&&(i=i+(e-i)*a);let o=this.positionToPoint(i);r.setAll({x:o.x,y:o.y}),this.toggleVisibility(r,i,0,1)}}}updateFill(t,i,e){if(t){Ee(i)||(i=0),Ee(e)||(e=1);let r=this.getPrivate("innerRadius",0),a=this.positionToCoordinate(i)+r,o=this.positionToCoordinate(e)+r;this.fillDrawMethod(t,a,o)}}axisLength(){return this.getPrivate("radius",0)-this.getPrivate("innerRadius",0)}updateTooltipBounds(t){}positionToCoordinate(t){return this._inversed?(t=Math.min(this._end,t),(this._end-t)*this._axisLength):(t=Math.max(this._start,t),(t-this._start)*this._axisLength)}positionTooltip(t,i){let e=this.getPrivate("innerRadius",0)+this.positionToCoordinate(i),r=this.get("axisAngle",0);this._positionTooltip(t,{x:e*Gi(r),y:e*Ui(r)})}};Object.defineProperty(Io,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererRadial"});Object.defineProperty(Io,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:hr.classNames.concat([Io.className])});var mm=class extends mu{setupDefaultRules(){super.setupDefaultRules();let t=this.rule.bind(this),i=this._root.interfaceColors;t("RadarChart").setAll({radius:Yi(80),innerRadius:0,startAngle:-90,endAngle:270}),t("RadarColumnSeries").setAll({clustered:!0}),t("Slice",["radar","column","series"]).setAll({width:Yi(80),height:Yi(80)}),t("RadarLineSeries").setAll({connectEnds:!0}),t("SmoothedRadarLineSeries").setAll({tension:.5}),t("AxisRendererRadial").setAll({minGridDistance:40,axisAngle:-90,inversed:!1,cellStartLocation:0,cellEndLocation:1}),t("AxisRendererCircular").setAll({minGridDistance:100,inversed:!1,cellStartLocation:0,cellEndLocation:1}),t("RadialLabel",["circular"]).setAll({textType:"circular",paddingTop:1,paddingRight:0,paddingBottom:1,paddingLeft:0,centerX:0,centerY:0,radius:8}),t("AxisLabelRadial",["category"]).setAll({text:"{category}",populateText:!0}),t("RadialLabel",["radial"]).setAll({textType:"regular",centerX:0,textAlign:"right"}),t("RadarChart",["gauge"]).setAll({startAngle:180,endAngle:360,innerRadius:Yi(90)}),t("ClockHand").setAll({topWidth:1,bottomWidth:10,radius:Yi(90),pinRadius:10});{let e=t("Graphics",["clock","hand"]);e.setAll({fillOpacity:1}),zn(e,"fill",i,"alternativeBackground")}{let e=t("Graphics",["clock","pin"]);e.setAll({fillOpacity:1}),zn(e,"fill",i,"alternativeBackground")}}};var Do=class extends Qa{constructor(){super(...arguments),Object.defineProperty(this,"radarContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Rn.new(this._root,{x:Ls,y:Ls}))}),Object.defineProperty(this,"_arcGenerator",{enumerable:!0,configurable:!0,writable:!0,value:zs()}),Object.defineProperty(this,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){this._defaultThemes.push(mm.new(this._root)),super._afterNew();let t=this.radarContainer,i=this.gridContainer,e=this.topGridContainer,r=this.seriesContainer,a=this.bulletsContainer;t.children.pushAll([i,r,e,a]),r.set("mask",Li.new(this._root,{})),i.set("mask",Li.new(this._root,{})),this._disposers.push(this.plotContainer.events.on("boundschanged",()=>{this._updateRadius()}))}_maskGrid(){}_prepareChildren(){if(super._prepareChildren(),this._sizeDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")){let t=this.chartContainer,i=t.innerWidth(),e=t.innerHeight(),r=this.get("startAngle",0),a=this.get("endAngle",0),o=this.get("innerRadius"),s=tf(0,0,r,a,1),d=i/(s.right-s.left),u=e/(s.bottom-s.top),m={left:0,right:0,top:0,bottom:0};if(o instanceof bo){let _=o.value,x=Math.min(d,u);_=Math.max(x*_,x-Math.min(e,i))/x,m=tf(0,0,r,a,_),this.setPrivateRaw("irModifyer",_/o.value)}s=ob([s,m]),this._maxRadius=Math.max(0,Math.min(d,u));let f=Ni(this.get("radius",0),this._maxRadius);this.radarContainer.setAll({dy:-f*(s.bottom+s.top)/2,dx:-f*(s.right+s.left)/2}),this._updateRadius()}}_addCursor(t){this.radarContainer.children.push(t)}_updateRadius(){let t=Ni(this.get("radius",Yi(80)),this._maxRadius);this.setPrivateRaw("radius",t);let i=Ni(this.get("innerRadius",0),t);i<0&&(i=t+i),this.setPrivateRaw("innerRadius",i),this.xAxes.each(r=>{r.get("renderer").updateLayout()}),this.yAxes.each(r=>{r.get("renderer").updateLayout()}),this._updateMask(this.seriesContainer,i,t),this._updateMask(this.gridContainer,i,t),this.series.each(r=>{r.get("maskBullets")?this._updateMask(r.bulletsContainer,i,t):r.bulletsContainer.remove("mask")});let e=this.get("cursor");e&&e.updateLayout()}_updateMask(t,i,e){let r=t.get("mask");r&&r.set("draw",a=>{this._arcGenerator.context(a),this._arcGenerator({innerRadius:i,outerRadius:e+.5,startAngle:(this.get("startAngle",0)+90)*cr,endAngle:(this.get("endAngle",0)+90)*cr})})}processAxis(t){this.radarContainer.children.push(t)}_processSeries(t){super._processSeries(t),this._updateRadius()}inPlot(t,i,e){let r=Math.hypot(t.x,t.y),a=$s(Math.atan2(t.y,t.x)*Vs),o=$s(this.get("startAngle",0)),s=$s(this.get("endAngle",0)),d=!1;return o<s&&o<a&&a<s&&(d=!0),o>s&&(a>o&&(d=!0),a<s&&(d=!0)),o==s&&(d=!0),d?(i==null&&(i=this.getPrivate("radius",0)),e==null&&(e=this.getPrivate("innerRadius",0)),e>i&&([e,i]=[i,e]),r<=i+.5&&r>=e-.5):!1}_tooltipToLocal(t){return this.radarContainer._display.toLocal(t)}_handlePinch(){}};Object.defineProperty(Do,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadarChart"});Object.defineProperty(Do,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Qa.classNames.concat([Do.className])});var no=class extends Ja{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Dr(Fr.new({}),()=>$d._new(this._root,{position:"absolute",themeTags:sn(this.columns.template.get("themeTags",[]),["radar","series","column"])},[this.columns.template])))})}makeColumn(t,i){let e=this.mainContainer.children.push(i.make());return e._setDataItem(t),i.push(e),e}_afterNew(){super._afterNew(),this.set("maskContent",!1),this.bulletsContainer.set("maskContent",!1),this.bulletsContainer.set("mask",Li.new(this._root,{}))}getPoint(t,i){let e=this.get("yAxis"),r=this.get("xAxis"),a=r.get("renderer"),o=e.get("renderer").positionToCoordinate(i)+a.getPrivate("innerRadius",0),d=r.get("renderer").positionToAngle(t);return{x:o*Gi(d),y:o*Ui(d)}}_updateSeriesGraphics(t,i,e,r,a,o){i.setPrivate("visible",!0);let s=this.get("xAxis"),d=this.get("yAxis"),u=s.get("renderer"),m=d.get("renderer"),f=m.getPrivate("innerRadius",0),_=u.fitAngle(u.positionToAngle(e)),x=u.fitAngle(u.positionToAngle(r)),v=m.positionToCoordinate(o)+f,b=m.positionToCoordinate(a)+f,M=i;t.setRaw("startAngle",_),t.setRaw("endAngle",x),t.setRaw("innerRadius",v),t.setRaw("radius",b);let S=0,w=360;d==this.get("baseAxis")?(S=m.getPrivate("startAngle",0),w=m.getPrivate("endAngle",360)):(S=u.getPrivate("startAngle",0),w=u.getPrivate("endAngle",360)),S>w&&([S,w]=[w,S]),(x<=S||_>=w||b<=f&&v<=f)&&M.setPrivate("visible",!1),M.setAll({innerRadius:v,radius:b,startAngle:_,arc:x-_})}_shouldInclude(t){let i=this.get("xAxis");return!(t<i.get("start")||t>i.get("end"))}_shouldShowBullet(t,i){let e=this.get("xAxis");return t<e.get("start")||t>e.get("end")?!1:this._showBullets}_positionBullet(t){let i=t.get("sprite");if(i){let e=i.dataItem,r=t.get("locationX",e.get("locationX",.5)),a=t.get("locationY",e.get("locationY",.5)),o=e.component,s=o.get("xAxis"),d=o.get("yAxis"),u=s.getDataItemPositionX(e,o._xField,r,o.get("vcx",1)),m=d.getDataItemPositionY(e,o._yField,a,o.get("vcy",1)),f=e.get("startAngle",0),_=e.get("endAngle",0),x=e.get("radius",0),v=e.get("innerRadius",0);if(o._shouldShowBullet(u,m)){i.setPrivate("visible",!0);let b=f+(_-f)*r,M=v+(x-v)*a;i.set("x",Gi(b)*M),i.set("y",Ui(b)*M)}else i.setPrivate("visible",!1)}}_handleMaskBullets(){}_processAxisRange(t){super._processAxisRange(t),t.columns=new Dr(Fr.new({}),()=>$d._new(this._root,{position:"absolute",themeTags:sn(t.columns.template.get("themeTags",[]),["radar","series","column"])},[this.columns.template,t.columns.template]))}};Object.defineProperty(no,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadarColumnSeries"});Object.defineProperty(no,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ja.classNames.concat([no.className])});var Fo=class extends qs{constructor(){super(...arguments),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:zs()})}_afterNew(){this._settings.themeTags=sn(this._settings.themeTags,["radar","cursor"]),super._afterNew()}_handleXLine(){}_handleYLine(){}_getPosition(t){let i=Math.hypot(t.x,t.y),e=$s(Math.atan2(t.y,t.x)*Vs),r=this.getPrivate("innerRadius"),a=$s(this.getPrivate("startAngle")),o=$s(this.getPrivate("endAngle"));(o<a||o==a)&&(e<a&&(e+=360),o=o+360);let s=(e-a)/(o-a);return s<0&&(s=1+s),s<.003&&(s=0),s>.997&&(s=1),{x:s,y:(i-r)/(this.getPrivate("radius")-r)}}_getPoint(t,i){let e=this.getPrivate("innerRadius"),r=this.getPrivate("startAngle"),a=this.getPrivate("endAngle"),o=this.getPrivate("radius"),s=r+t*(a-r),d=e+(o-e)*i;return{x:d*Gi(s),y:d*Ui(s)}}updateLayout(){let t=this.chart;if(t){let i=t.getPrivate("radius",0);this.setPrivate("radius",Ni(this.get("radius",pt),i));let e=Ni(this.get("innerRadius",t.getPrivate("innerRadius",0)),i);e<0&&(e=i+e),this.setPrivate("innerRadius",e);let r=this.get("startAngle",t.get("startAngle",-90)),a=this.get("endAngle",t.get("endAngle",270));this.setPrivate("startAngle",r),this.setPrivate("endAngle",a)}}_updateLines(t,i){this._tooltipX||this._drawXLine(t,i),this._tooltipY||this._drawYLine(t,i)}_drawXLine(t,i){let e=this.getPrivate("innerRadius"),r=this.getPrivate("radius"),a=Math.atan2(i,t);this.lineX.set("draw",o=>{o.moveTo(e*Math.cos(a),e*Math.sin(a)),o.lineTo(r*Math.cos(a),r*Math.sin(a))})}_drawYLine(t,i){let e=Math.hypot(t,i);this.lineY.set("draw",r=>{r.arc(0,0,e,this.getPrivate("startAngle",0)*cr,this.getPrivate("endAngle",0)*cr)})}_updateXLine(t){let i=t.get("pointTo");i&&(i=this._display.toLocal(i),this._drawXLine(i.x,i.y))}_updateYLine(t){let i=t.get("pointTo");i&&(i=this._display.toLocal(i),this._drawYLine(i.x,i.y))}_inPlot(t){let i=this.chart;return i?i.inPlot(t,this.getPrivate("radius"),this.getPrivate("innerRadius")):!1}_updateSelection(t){this.selection.set("draw",i=>{let e=this.get("behavior"),r=this._downPoint,a=this.getPrivate("startAngle"),o=this.getPrivate("endAngle"),s=this.getPrivate("radius"),d=this.getPrivate("innerRadius");s<d&&([s,d]=[d,s]);let u=a,m=o,f=s,_=d;r&&(e=="zoomXY"||e=="selectXY"?(u=Math.atan2(r.y,r.x)*Vs,m=Math.atan2(t.y,t.x)*Vs,_=Math.hypot(r.x,r.y),f=Math.hypot(t.x,t.y)):e=="zoomX"||e=="selectX"?(u=Math.atan2(r.y,r.x)*Vs,m=Math.atan2(t.y,t.x)*Vs):(e=="zoomY"||e=="selectY")&&(_=Math.hypot(r.x,r.y),f=Math.hypot(t.x,t.y))),_=vo(_,d,s),f=vo(f,d,s),u=nf(u,a,o),m=nf(m,a,o),u==m&&(m=u+360),u*=cr,m*=cr,this._fillGenerator.context(i),this._fillGenerator({innerRadius:_,outerRadius:f,startAngle:u+Math.PI/2,endAngle:m+Math.PI/2})})}};Object.defineProperty(Fo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadarCursor"});Object.defineProperty(Fo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:qs.classNames.concat([Fo.className])});var oa=da(fa());var Ro=(()=>{let t=class t{constructor(){this.selectedDateSubject=new un(null),this.selectedDateRangeSubject=new un(null),this.selectedYearSubject=new un(null),this.categoryFilterSubject=new un(null),this.searchTermSubject=new un(""),this.selectedCategorySubject=new un(["all"]),this.selectedTypeSubject=new un("all"),this.accountFilterSubject=new un([]),this.amountRangeSubject=new un({min:null,max:null}),this.statusFilterSubject=new un([]),this.tagsSubject=new un([]),this.filterStateSubject=new un(this.getDefaultFilterState()),this.filterHistorySubject=new un([]),this.filterPresetsSubject=new un([]),this.activePresetSubject=new un(null),this.selectedDate$=this.selectedDateSubject.asObservable(),this.selectedDateRange$=this.selectedDateRangeSubject.asObservable(),this.selectedYear$=this.selectedYearSubject.asObservable(),this.categoryFilter$=this.categoryFilterSubject.asObservable(),this.searchTerm$=this.searchTermSubject.asObservable(),this.selectedCategory$=this.selectedCategorySubject.asObservable(),this.selectedType$=this.selectedTypeSubject.asObservable(),this.accountFilter$=this.accountFilterSubject.asObservable(),this.amountRange$=this.amountRangeSubject.asObservable(),this.statusFilter$=this.statusFilterSubject.asObservable(),this.tags$=this.tagsSubject.asObservable(),this.filterState$=this.filterStateSubject.asObservable(),this.filterHistory$=this.filterHistorySubject.asObservable(),this.filterPresets$=this.filterPresetsSubject.asObservable(),this.activePreset$=this.activePresetSubject.asObservable(),this.hasActiveFilters$=this.filterState$.pipe(Ye(e=>this.hasActiveFilters(e)),ol()),this.activeFiltersCount$=this.filterState$.pipe(Ye(e=>this.getActiveFiltersCount(e)),ol()),this.initializePresets(),this.setupFilterStateUpdates()}setSelectedDate(e){this.selectedDateSubject.next(e),this.selectedDateRangeSubject.next(null)}getSelectedDate(){return this.selectedDateSubject.value}setSelectedDateRange(e,r){if(!e||!r){console.warn("Invalid date range provided");return}this.selectedDateRangeSubject.next({startDate:e,endDate:r}),this.selectedDateSubject.next(null);let a=(0,oa.default)(e),o=(0,oa.default)(r),s=a.year(),d=o.year();s===d&&a.isSame(a.clone().startOf("month"))&&o.isSame(o.clone().endOf("month"))||this.selectedYearSubject.next(null)}getSelectedDateRange(){return this.selectedDateRangeSubject.value}setSelectedYear(e,r){if(!e||!r||e>r){console.warn("Invalid year range provided");return}this.selectedYearSubject.next({startYear:e,endYear:r}),this.selectedDateSubject.next(null);let a=this.selectedDateRangeSubject.value;if(a){let o=(0,oa.default)(a.startDate),s=(0,oa.default)(a.endDate),d=o.year(),u=s.year();if(d===u&&d===e&&o.isSame(o.clone().startOf("month"))&&s.isSame(s.clone().endOf("month")))return}this.selectedDateRangeSubject.next(null)}getSelectedYear(){return this.selectedYearSubject.value}setCategoryFilter(e,r,a,o){if(!e||r===void 0||a===void 0||!o){console.warn("Invalid category filter parameters provided");return}let s={categoryId:e,year:r,month:a,monthName:o};this.categoryFilterSubject.next(s)}getCategoryFilter(){return this.categoryFilterSubject.value}setSearchTerm(e){this.searchTermSubject.next(e||"")}getSearchTerm(){return this.searchTermSubject.value}setSelectedCategory(e){if(!Array.isArray(e)||e.length===0){console.warn("Invalid categories array provided");return}this.selectedCategorySubject.next(e)}getSelectedCategory(){return this.selectedCategorySubject.value}setSelectedType(e){this.selectedTypeSubject.next(e||"all")}getSelectedType(){return this.selectedTypeSubject.value}setAccountFilter(e){if(!Array.isArray(e)){console.warn("Invalid accounts array provided");return}this.accountFilterSubject.next(e)}getAccountFilter(){return this.accountFilterSubject.value}setAmountRange(e,r){this.amountRangeSubject.next({min:e,max:r})}getAmountRange(){return this.amountRangeSubject.value}setStatusFilter(e){if(!Array.isArray(e)){console.warn("Invalid statuses array provided");return}this.statusFilterSubject.next(e)}getStatusFilter(){return this.statusFilterSubject.value}setTags(e){if(!Array.isArray(e)){console.warn("Invalid tags array provided");return}this.tagsSubject.next(e)}getTags(){return this.tagsSubject.value}clearSelectedDate(){this.selectedDateSubject.next(null),this.selectedDateRangeSubject.next(null)}clearSelectedYear(){this.selectedYearSubject.next(null)}clearCategoryFilter(){this.categoryFilterSubject.next(null)}clearSearchTerm(){this.searchTermSubject.next("")}clearSelectedCategory(){this.selectedCategorySubject.next(["all"])}clearSelectedType(){this.selectedTypeSubject.next("all")}clearAccountFilter(){this.accountFilterSubject.next([])}clearAmountRange(){this.amountRangeSubject.next({min:null,max:null})}clearStatusFilter(){this.statusFilterSubject.next([])}clearTags(){this.tagsSubject.next([])}clearAllFilters(){this.clearSelectedDate(),this.clearSelectedYear(),this.clearCategoryFilter(),this.clearSearchTerm(),this.clearSelectedCategory(),this.clearSelectedType(),this.clearAccountFilter(),this.clearAmountRange(),this.clearStatusFilter(),this.clearTags(),this.activePresetSubject.next(null)}setupFilterStateUpdates(){Zi([this.selectedDate$,this.selectedDateRange$,this.selectedYear$,this.categoryFilter$,this.searchTerm$,this.selectedCategory$,this.selectedType$,this.accountFilter$,this.amountRange$,this.statusFilter$,this.tags$]).subscribe(([e,r,a,o,s,d,u,m,f,_,x])=>{let v={searchTerm:s,selectedCategory:d,selectedType:u,selectedDate:e,selectedDateRange:r,selectedYear:a,categoryFilter:o,accountFilter:m,amountRange:f,statusFilter:_,tags:x};this.filterStateSubject.next(v),this.addToHistory(v)})}saveAsPreset(e,r){if(!e||!r){console.warn("Preset name and description are required");return}let a=this.getCurrentFilterState(),o={id:this.generatePresetId(),name:e,description:r,filter:a},s=[...this.filterPresetsSubject.value,o];this.filterPresetsSubject.next(s),this.savePresetsToStorage(s)}applyPreset(e){let a=this.filterPresetsSubject.value.find(o=>o.id===e);a?(this.applyFilterState(a.filter),this.activePresetSubject.next(e)):console.warn(`Preset with id ${e} not found`)}deletePreset(e){let r=this.filterPresetsSubject.value.filter(a=>a.id!==e);this.filterPresetsSubject.next(r),this.savePresetsToStorage(r)}addToHistory(e){let r={timestamp:new Date,filter:e,description:this.generateFilterDescription(e)},a=this.filterHistorySubject.value,o=[r,...a.slice(0,9)];this.filterHistorySubject.next(o)}getFilterHistory(){return this.filterHistorySubject.value}clearFilterHistory(){this.filterHistorySubject.next([])}getCurrentFilterState(){return this.filterStateSubject.value}hasActiveFilters(e){let r=e||this.getCurrentFilterState();return!!(r.searchTerm||!r.selectedCategory.includes("all")||r.selectedType!=="all"||r.selectedDate||r.selectedDateRange||r.categoryFilter||r.accountFilter.length>0||r.amountRange.min!==null||r.amountRange.max!==null||r.statusFilter.length>0||r.tags.length>0||r.selectedYear)}getActiveFiltersCount(e){let r=e||this.getCurrentFilterState(),a=0;return r.searchTerm&&a++,r.selectedCategory.includes("all")||a++,r.selectedType!=="all"&&a++,r.selectedDate&&a++,r.selectedDateRange&&a++,r.categoryFilter&&a++,r.accountFilter.length>0&&a++,(r.amountRange.min!==null||r.amountRange.max!==null)&&a++,r.statusFilter.length>0&&a++,r.tags.length>0&&a++,r.selectedYear&&a++,a}applyFilterState(e){e.searchTerm!==void 0&&this.setSearchTerm(e.searchTerm),e.selectedCategory!==void 0&&this.setSelectedCategory(e.selectedCategory),e.selectedType!==void 0&&this.setSelectedType(e.selectedType),e.selectedDate!==void 0&&this.setSelectedDate(e.selectedDate),e.selectedDateRange!==void 0&&e.selectedDateRange&&this.setSelectedDateRange(e.selectedDateRange.startDate,e.selectedDateRange.endDate),e.selectedYear!==void 0&&e.selectedYear&&this.setSelectedYear(e.selectedYear.startYear,e.selectedYear.endYear),e.categoryFilter!==void 0&&this.categoryFilterSubject.next(e.categoryFilter),e.accountFilter!==void 0&&this.setAccountFilter(e.accountFilter),e.amountRange!==void 0&&this.setAmountRange(e.amountRange.min,e.amountRange.max),e.statusFilter!==void 0&&this.setStatusFilter(e.statusFilter),e.tags!==void 0&&this.setTags(e.tags)}resetToDefaults(){this.applyFilterState(this.getDefaultFilterState())}getDefaultFilterState(){return{searchTerm:"",selectedCategory:["all"],selectedType:"all",selectedDate:null,selectedDateRange:null,selectedYear:null,categoryFilter:null,accountFilter:[],amountRange:{min:null,max:null},statusFilter:[],tags:[]}}getDefaultPresets(){return[{id:"default-all",name:"All Transactions",description:"Show all transactions without filters",filter:this.getDefaultFilterState(),isDefault:!0},{id:"default-current-month",name:"Current Month",description:"Show transactions from current month",filter:de(ce({},this.getDefaultFilterState()),{selectedDateRange:{startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)}})}]}initializePresets(){let e=this.loadPresetsFromStorage();this.filterPresetsSubject.next(e)}generatePresetId(){return`preset-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}generateFilterDescription(e){let r=[];return e.searchTerm&&r.push(`Search: "${e.searchTerm}"`),e.selectedCategory.includes("all")||r.push(`Category: ${e.selectedCategory.join(", ")}`),e.selectedType!=="all"&&r.push(`Type: ${e.selectedType}`),e.selectedDate&&r.push(`Date: ${e.selectedDate.toLocaleDateString()}`),e.selectedDateRange&&r.push(`Date Range: ${e.selectedDateRange.startDate.toLocaleDateString()} - ${e.selectedDateRange.endDate.toLocaleDateString()}`),e.categoryFilter&&r.push(`Category Filter: ${e.categoryFilter.categoryId} (${e.categoryFilter.monthName} ${e.categoryFilter.year})`),e.selectedYear&&r.push(`Year Range: ${e.selectedYear.startYear} - ${e.selectedYear.endYear}`),r.length>0?r.join(", "):"No filters applied"}savePresetsToStorage(e){try{localStorage.setItem("money-manager-filter-presets",JSON.stringify(e))}catch(r){console.warn("Failed to save filter presets to localStorage:",r)}}loadPresetsFromStorage(){try{let e=localStorage.getItem("money-manager-filter-presets");return e?JSON.parse(e):this.getDefaultPresets()}catch(e){return console.warn("Failed to load filter presets from localStorage:",e),this.getDefaultPresets()}}filterTransactions(e,r){let a=r||this.getCurrentFilterState(),o=[...e];if(a.searchTerm&&a.searchTerm.trim()){let s=a.searchTerm.toLowerCase().trim();o=o.filter(d=>{var u,m;return((u=d.payee)==null?void 0:u.toLowerCase().includes(s))||((m=d.category)==null?void 0:m.toLowerCase().includes(s))||d.notes&&d.notes.toLowerCase().includes(s)})}if(a.selectedCategory&&!a.selectedCategory.includes("all")&&(o=o.filter(s=>a.selectedCategory.includes(s.categoryId))),a.selectedType&&a.selectedType!=="all"&&(o=o.filter(s=>s.type===a.selectedType)),a.selectedDate){let s=(0,oa.default)(a.selectedDate).startOf("day");o=o.filter(d=>{let u=this.getTransactionDate(d.date);return u?(0,oa.default)(u).startOf("day").isSame(s,"day"):!1})}if(a.selectedDateRange&&a.selectedDateRange.startDate&&a.selectedDateRange.endDate){let s=(0,oa.default)(a.selectedDateRange.startDate).startOf("day"),d=(0,oa.default)(a.selectedDateRange.endDate).endOf("day");o=o.filter(u=>{let m=this.getTransactionDate(u.date);return m?(0,oa.default)(m).isBetween(s,d,"day","[]"):!1})}return a.selectedYear&&a.selectedYear.startYear&&a.selectedYear.endYear&&(o=o.filter(s=>{let d=this.getTransactionDate(s.date);if(!d)return!1;let u=(0,oa.default)(d).year();return u>=a.selectedYear.startYear&&u<=a.selectedYear.endYear})),a.accountFilter&&a.accountFilter.length>0&&(o=o.filter(s=>a.accountFilter.includes(s.accountId))),a.amountRange&&(a.amountRange.min!==null&&(o=o.filter(s=>s.amount>=(a.amountRange.min||0))),a.amountRange.max!==null&&(o=o.filter(s=>s.amount<=(a.amountRange.max||0)))),a.statusFilter&&a.statusFilter.length>0&&(o=o.filter(s=>a.statusFilter.includes(s.status))),a.tags&&a.tags.length>0&&(o=o.filter(s=>s.tags&&a.tags.some(d=>s.tags.includes(d)))),o}filterTransactionsWithCustomFilters(e,r){let a={searchTerm:r.searchTerm||"",selectedCategory:r.selectedCategory||["all"],selectedType:r.selectedType||"all",selectedDate:r.selectedDate||null,selectedDateRange:r.selectedDateRange||null,selectedYear:null,categoryFilter:null,accountFilter:r.accountFilter||[],amountRange:r.amountRange||{min:null,max:null},statusFilter:r.statusFilter||[],tags:r.tags||[]};return this.filterTransactions(e,a)}sortTransactions(e,r="date-desc"){let a=[...e];switch(r){case"date-desc":return a.sort((o,s)=>{var m,f;let d=this.getTransactionDate(o.date),u=this.getTransactionDate(s.date);return((m=u==null?void 0:u.getTime())!=null?m:0)-((f=d==null?void 0:d.getTime())!=null?f:0)});case"date-asc":return a.sort((o,s)=>{var m,f;let d=this.getTransactionDate(o.date),u=this.getTransactionDate(s.date);return((m=d==null?void 0:d.getTime())!=null?m:0)-((f=u==null?void 0:u.getTime())!=null?f:0)});case"amount-desc":return a.sort((o,s)=>s.amount-o.amount);case"amount-asc":return a.sort((o,s)=>o.amount-s.amount);case"payee-asc":return a.sort((o,s)=>o.payee.localeCompare(s.payee));case"category-asc":return a.sort((o,s)=>o.category.localeCompare(s.category));default:return a.sort((o,s)=>{var m,f;let d=this.getTransactionDate(o.date),u=this.getTransactionDate(s.date);return((m=u==null?void 0:u.getTime())!=null?m:0)-((f=d==null?void 0:d.getTime())!=null?f:0)})}}filterAndSortTransactions(e,r,a="date-desc"){let o=this.filterTransactions(e,r);return this.sortTransactions(o,a)}getTransactionDate(e){if(!e)return null;if(e&&typeof e=="object"&&"seconds"in e)return new Date(e.seconds*1e3);if(e instanceof Date)return e;if(typeof e=="string"){let r=new Date(e);return isNaN(r.getTime())?null:r}else if(typeof e=="number")return new Date(e);return null}filterCurrentYearTransactions(e,r){let a=(0,oa.default)().year(),o=e.filter(s=>{let d=this.getTransactionDate(s.date);return d?(0,oa.default)(d).year()===a:!1});return this.filterTransactions(o,r)}filterYearTransactions(e,r,a){let o=e.filter(s=>{let d=this.getTransactionDate(s.date);return d?(0,oa.default)(d).year()===r:!1});return this.filterTransactions(o,a)}getFilteredCount(e,r){return this.filterTransactions(e,r).length}getCurrentYearFilteredCount(e,r){return this.filterCurrentYearTransactions(e,r).length}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Qd=da(fa());var pm=()=>({round:!0}),uv=(()=>{let t=class t{constructor(e,r,a,o){this.auth=e,this.notificationService=r,this.currencyService=a,this.store=o,this.totalSpendAmt=0,this.totalIncomeAmt=0,this.showYearly=!1,this.userCurrency=this.currencyService.getDefaultCurrency(),this.subscriptions=new Ki,this.totalIncome$=this.store.select(RC),this.totalIncomeByMonth$=this.store.select(NC((0,Qd.default)().month(),(0,Qd.default)().year())),this.totalExpenses$=this.store.select(LC),this.totalExpensesByMonth$=this.store.select(BC((0,Qd.default)().month(),(0,Qd.default)().year())),this.netBalance$=this.store.select(VC)}ngOnInit(){var r;this.subscriptions.add(this.currencyService.currentCurrency$.subscribe(a=>{this.userCurrency=a}));let e=(r=this.auth.currentUser)==null?void 0:r.uid;e&&this.store.dispatch(ni({userId:e})),this.subscriptions.add(this.totalIncome$.subscribe(a=>{this.totalIncomeAmt=a})),this.subscriptions.add(this.totalExpenses$.subscribe(a=>{this.totalSpendAmt=a}))}ngOnDestroy(){this.subscriptions.unsubscribe()}toggleExpenseIncome(){this.showYearly=!this.showYearly}};t.\u0275fac=function(r){return new(r||t)(W(Mt),W(Ct),W(iu),W(mt))},t.\u0275cmp=Le({type:t,selectors:[["total-balance"]],decls:17,vars:26,consts:[[1,"text-center","mb-2","pt-5","md:pt-0","mt-2"],[1,"grid","grid-cols-1","gap-4"],[1,"text-center",3,"click"],[1,"text-lg","text-muted","text-gray-500"],[1,"text-responsive-lg","mt-1","font-bold","text-primary"],[1,"text-gray-500"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2),R("click",function(){return a.toggleExpenseIncome()}),c(3,"div",3),g(4,"You Expense | Income"),l(),c(5,"div",4),g(6),se(7,"async"),se(8,"currency"),se(9,"async"),se(10,"currency"),c(11,"span",5),g(12),se(13,"async"),se(14,"currency"),se(15,"async"),se(16,"currency"),l()()()()()),r&2&&(p(6),ee(" ",a.showYearly?vt(8,4,pe(7,2,a.totalExpenses$),Xa(22,pm)):vt(10,9,pe(9,7,a.totalExpensesByMonth$),Xa(23,pm))," \xA0 | \xA0 "),p(6),V(a.showYearly?vt(14,14,pe(13,12,a.totalIncome$),Xa(24,pm)):vt(16,19,pe(15,17,a.totalIncomeByMonth$),Xa(25,pm))))},dependencies:[wi,Hr]});let n=t;return n})();var o6=["calendar"],s6=(n,t)=>t.value;function c6(n,t){n&1&&(c(0,"div",21),oe(1,"total-balance",22),l())}function l6(n,t){if(n&1){let i=ue();c(0,"button",23),R("click",function(){j(i);let r=y();return z(r.clearAll())}),c(1,"mat-icon"),g(2,"clear"),l()()}}function d6(n,t){if(n&1){let i=ue();c(0,"button",24),R("click",function(){j(i);let r=y();return z(r.toggleControls())}),c(1,"mat-icon"),g(2,"expand_more"),l()()}if(n&2){let i=y();Ue("rotated",i.isControlsExpanded),Ha("matTooltip",i.isControlsExpanded?"Hide controls":"Show controls")}}function g6(n,t){if(n&1){let i=ue();c(0,"div",25)(1,"button",12),R("click",function(){j(i);let r=y();return z(r.toggleChartViewMode())}),c(2,"mat-icon"),g(3,"category"),l(),g(4," Category View "),l(),c(5,"button",12),R("click",function(){j(i);let r=y();return z(r.toggleChartViewMode())}),c(6,"mat-icon"),g(7,"compare_arrows"),l(),g(8," Income vs Expense "),l()()}if(n&2){let i=y();p(),O("color",i.chartViewMode==="category"?"primary":"basic"),p(4),O("color",i.chartViewMode==="income-expense"?"primary":"basic")}}function u6(n,t){if(n&1&&(c(0,"mat-option",30),g(1),l()),n&2){let i=t.$implicit;O("value",i),p(),ee(" ",i," ")}}function m6(n,t){if(n&1&&(c(0,"mat-option",30),g(1),l()),n&2){let i=t.$implicit;O("value",i.value),p(),ee(" ",i.label," ")}}function p6(n,t){if(n&1){let i=ue();c(0,"div",26)(1,"div",27)(2,"mat-form-field",28)(3,"mat-label"),g(4,"Year"),l(),c(5,"mat-select",29),ut("valueChange",function(r){j(i);let a=y();return gt(a.selectedYear,r)||(a.selectedYear=r),z(r)}),R("selectionChange",function(r){j(i);let a=y();return z(a.onYearChange(r.value))}),qe(6,u6,2,2,"mat-option",30,Or),l()(),c(8,"mat-form-field",31)(9,"mat-label"),g(10,"Month"),l(),c(11,"mat-select",29),ut("valueChange",function(r){j(i);let a=y();return gt(a.selectedMonth,r)||(a.selectedMonth=r),z(r)}),R("selectionChange",function(r){j(i);let a=y();return z(a.onMonthChange(r.value))}),qe(12,m6,2,2,"mat-option",30,s6),l()()()()}if(n&2){let i=y();p(5),dt("value",i.selectedYear),p(),Ke(i.availableYears),p(5),dt("value",i.selectedMonth),p(),Ke(i.availableMonths)}}function f6(n,t){if(n&1){let i=ue();c(0,"div",32)(1,"button",33),R("click",function(){j(i);let r=y();return z(r.goToPreviousMonth())}),c(2,"mat-icon"),g(3,"chevron_left"),l()(),c(4,"button",34),R("click",function(){j(i);let r=y();return z(r.goToToday())}),c(5,"mat-icon"),g(6,"today"),l(),g(7," Today "),l(),c(8,"button",35),R("click",function(){j(i);let r=y();return z(r.goToNextMonth())}),c(9,"mat-icon"),g(10,"chevron_right"),l()()()}}function h6(n,t){if(n&1&&(c(0,"span",46),g(1),se(2,"date"),l()),n&2){let i=y(2);p(),ee(" ",vt(2,1,i.startDate,"MMM dd, yyyy")," ")}}function _6(n,t){n&1&&(c(0,"span",47),g(1,"Not selected"),l())}function x6(n,t){if(n&1&&(c(0,"span",48),g(1),se(2,"date"),l()),n&2){let i=y(2);p(),ee(" ",vt(2,1,i.endDate,"MMM dd, yyyy")," ")}}function C6(n,t){n&1&&(c(0,"span",47),g(1,"Not selected"),l())}function b6(n,t){if(n&1&&(c(0,"div",49)(1,"div",50)(2,"div",51)(3,"div",52),g(4,"Income"),l(),c(5,"div",53),g(6),se(7,"number"),l()(),c(8,"div",51)(9,"div",52),g(10,"Expenses"),l(),c(11,"div",54),g(12),se(13,"number"),l()(),c(14,"div",51)(15,"div",52),g(16,"Net"),l(),c(17,"div",55),g(18),se(19,"number"),l()()(),c(20,"div",56),g(21),l()()),n&2){let i=y(2);p(6),ee("\u20B9",vt(7,7,i.getRangeTotalIncome(),"1.2-2"),""),p(6),ee("\u20B9",vt(13,10,i.getRangeTotalExpenses(),"1.2-2"),""),p(5),O("ngClass",i.getRangeNetAmount()>=0?"positive":"negative"),p(),ee(" \u20B9",vt(19,13,i.getRangeNetAmount(),"1.2-2")," "),p(3),X_(" ",i.rangeTransactions.length," transactions in ",i.getDaysInRange()," day",i.getDaysInRange()!==1?"s":""," ")}}function v6(n,t){if(n&1&&(c(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"span",40),g(5,"Start:"),l(),L(6,h6,3,4,"span",41)(7,_6,2,0,"span",42),l(),c(8,"mat-icon",43),g(9,"arrow_forward"),l(),c(10,"div",39)(11,"span",40),g(12,"End:"),l(),L(13,x6,3,4,"span",44)(14,C6,2,0,"span",42),l()(),L(15,b6,22,16,"div",45),l()()),n&2){let i=y();p(6),O("ngIf",i.startDate),p(),O("ngIf",!i.startDate),p(6),O("ngIf",i.endDate),p(),O("ngIf",!i.endDate),p(),O("ngIf",i.startDate&&i.endDate)}}function y6(n,t){if(n&1&&(c(0,"div",36)(1,"div",57)(2,"div",58)(3,"mat-icon",59),g(4,"event"),l(),c(5,"span",60),g(6),se(7,"date"),l()(),c(8,"div",61)(9,"div",50)(10,"div",51)(11,"div",52),g(12,"Income"),l(),c(13,"div",53),g(14),se(15,"number"),l()(),c(16,"div",51)(17,"div",52),g(18,"Expenses"),l(),c(19,"div",54),g(20),se(21,"number"),l()(),c(22,"div",51)(23,"div",52),g(24,"Net"),l(),c(25,"div",55),g(26),se(27,"number"),l()()(),c(28,"div",56),g(29),l()()()()),n&2){let i=y();p(6),V(vt(7,6,i.selectedDate,"fullDate")),p(8),ee("\u20B9",vt(15,9,i.getTotalIncome(),"1.2-2"),""),p(6),ee("\u20B9",vt(21,12,i.getTotalExpenses(),"1.2-2"),""),p(5),O("ngClass",i.getNetAmount()>=0?"positive":"negative"),p(),ee(" \u20B9",vt(27,15,i.getNetAmount(),"1.2-2")," "),p(3),ee(" ",i.selectedDateTransactions.length," transactions ")}}function M6(n,t){if(n&1){let i=ue();c(0,"div",62)(1,"mat-calendar",63,0),R("selectedChange",function(r){j(i);let a=y();return z(a.onDateSelected(r))}),l()()}if(n&2){let i=y();p(),O("dateClass",i.dateClass)("selected",i.selectedDate)}}var mv=(()=>{let t=class t{constructor(e,r,a,o,s,d,u){this.breakpointObserver=e,this.filterService=r,this.notificationService=a,this.dateService=o,this.store=s,this.platformId=d,this.zone=u,this.isMobile=!1,this.transactions=[],this.categories=[],this.selectedDate=null,this.selectedDateTransactions=[],this.isRangeMode=!1,this.startDate=null,this.endDate=null,this.rangeTransactions=[],this.isControlsExpanded=!1,this.chartContainerId="calendar-gauge-chart",this.showPieChart=!1,this.showCalendar=!0,this.chartViewMode="category",this.currentViewDate=new Date,this.selectedYear=new Date().getFullYear(),this.selectedMonth=new Date().getMonth(),this.availableYears=[],this.availableMonths=[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}],this.premiumColors=["#6366F1","#8B5CF6","#EC4899","#EF4444","#F97316","#EAB308","#22C55E","#06B6D4","#3B82F6","#84CC16","#F59E0B","#10B981","#8B5A2B","#6B7280","#1F2937","#DC2626"],this.subscription=new Ki,this.dateClass=(m,f)=>{if(f==="month"){let _=(0,Cn.default)(m).startOf("day"),x="",v=this.transactions.some(M=>(0,Cn.default)(this.dateService.toDate(M.date)).startOf("day").isSame(_,"day")&&M.type===ht.INCOME);if(this.transactions.some(M=>(0,Cn.default)(this.dateService.toDate(M.date)).startOf("day").isSame(_,"day"))&&(v?x+="has-transactions has-income ":x+="has-transactions has-expense "),this.isRangeMode){if(this.startDate&&(0,Cn.default)(this.startDate).startOf("day").isSame(_,"day")&&(x+="range-start "),this.endDate&&(0,Cn.default)(this.endDate).startOf("day").isSame(_,"day")&&(x+="range-end "),this.startDate&&this.endDate){let M=(0,Cn.default)(this.startDate).startOf("day"),S=(0,Cn.default)(this.endDate).endOf("day");_.isBetween(M,S,"day","[]")&&(x+="range-in-between ")}}else this.selectedDate&&(0,Cn.default)(this.selectedDate).startOf("day").isSame(_,"day")&&(x+="selected-date ");return x.trim()}return""},this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(m=>{this.isMobile=m.matches})}ngOnInit(){this.loadTransactions(),this.loadCategories(),this.generateAvailableYears(),this.subscribeToFilterService()}ngAfterViewInit(){this.browserOnly(()=>{this.initializeChart()})}ngOnDestroy(){this.subscription.unsubscribe(),this.browserOnly(()=>{this.root&&this.root.dispose()})}browserOnly(e){rg(this.platformId)&&this.zone.runOutsideAngular(()=>{e()})}initializeChart(){try{this.root=pu.new(this.chartContainerId),this.root.setThemes([fu.new(this.root)]),this.chart=this.root.container.children.push(Do.new(this.root,{panX:!1,panY:!1,wheelX:"panX",wheelY:"zoomX",innerRadius:Yi(20),startAngle:-90,endAngle:180})),this.chart.set("cursor",Fo.new(this.root,{behavior:"zoomX"})).lineY.set("visible",!1);let r=Ao.new(this.root,{});r.labels.template.setAll({radius:10}),r.grid.template.setAll({forceHidden:!0});let a=this.chart.xAxes.push(_a.new(this.root,{renderer:r,min:0,max:100,strictMinMax:!0,numberFormat:"\u20B9#'",tooltip:Vd.new(this.root,{})})),o=Io.new(this.root,{minGridDistance:20});o.labels.template.setAll({centerX:pt,fontWeight:"500",fontSize:18,templateField:"columnSettings"}),o.grid.template.setAll({forceHidden:!0});let s=this.chart.yAxes.push(to.new(this.root,{categoryField:"category",renderer:o}));this.series1=this.chart.series.push(no.new(this.root,{xAxis:a,yAxis:s,clustered:!1,valueXField:"full",categoryYField:"category",fill:this.root.interfaceColors.get("alternativeBackground")})),this.series1.columns.template.setAll({width:pt,fillOpacity:.08,strokeOpacity:0,cornerRadius:20}),this.series2=this.chart.series.push(no.new(this.root,{xAxis:a,yAxis:s,clustered:!1,valueXField:"value",categoryYField:"category"})),this.series2.columns.template.setAll({width:pt,strokeOpacity:0,tooltipText:`[bold]{category}[/]
Amount: \u20B9{valueX.formatNumber('#,###.##')}`,cornerRadius:20,templateField:"columnSettings"}),this.series2.columns.template.events.on("click",d=>{let u=d.target.dataItem;if(u&&this.chartViewMode==="category"&&!this.isMobile){let m=u.dataContext;this.applyCategoryFilter(m.categoryId||m.category)}}),console.log("Solid gauge chart initialized successfully")}catch(e){console.error("Error initializing AM Charts:",e)}}loadTransactions(){this.subscription.add(this.store.select(En).subscribe({next:e=>{this.transactions=e,this.updatePieChart(),this.updateCalendar()},error:e=>{console.error("Error loading transactions:",e),this.notificationService.error("Failed to load calendar data")}}))}loadCategories(){this.subscription.add(this.store.select(gn).subscribe({next:e=>{this.categories=e,this.updatePieChart()},error:e=>{console.error("Error loading categories:",e)}}))}generateAvailableYears(){let e=new Date().getFullYear();this.availableYears=[];for(let r=e-5;r<=e+1;r++)this.availableYears.push(r)}updatePieChart(){this.chartViewMode==="category"?this.updateCategoryChart():this.updateIncomeExpenseChart()}updateCategoryChart(){let e=this.getFilteredTransactions(),r=this.getCategorySpendingData(e);this.browserOnly(()=>{if(this.series1&&this.series2&&this.chart){let a=Math.max(...r.map(u=>u.value),1),o=this.chart.xAxes.getIndex(0);o&&o.set("max",a);let s=r.map((u,m)=>({category:u.name,categoryId:u.categoryId,value:u.value,full:a,columnSettings:{fill:Cc(this.premiumColors[m%this.premiumColors.length])}}));this.series1.data.setAll(s),this.series2.data.setAll(s);let d=this.chart.yAxes.getIndex(0);d&&d.data.setAll(s),this.series1.appear(1e3),this.series2.appear(1e3),this.chart.appear(1e3,100)}})}applyCategoryFilter(e){let r=this.categories.find(d=>d.id===e),a=r?r.name:e;this.filterService.setSelectedCategory([e]);let o=(0,Cn.default)([this.selectedYear,this.selectedMonth,1]).startOf("month").toDate(),s=(0,Cn.default)([this.selectedYear,this.selectedMonth,1]).endOf("month").toDate();this.filterService.setSelectedDateRange(o,s),this.notificationService.success(`Filtering transactions for ${a} in ${this.availableMonths[this.selectedMonth].label} ${this.selectedYear}`)}updateIncomeExpenseChart(){let e=0,r=0;this.isRangeMode&&this.startDate&&this.endDate?(e=this.getRangeTotalIncome(),r=this.getRangeTotalExpenses()):this.selectedDate&&(e=this.getTotalIncome(),r=this.getTotalExpenses());let a=Math.max(e,r,1),o=[{category:"Income",value:e,full:a,columnSettings:{fill:Cc("#10b981")}},{category:"Expenses",value:r,full:a,columnSettings:{fill:Cc("#ef4444")}}];this.browserOnly(()=>{if(this.series1&&this.series2&&this.chart){let s=this.chart.xAxes.getIndex(0);s&&s.set("max",a),this.series1.data.setAll(o),this.series2.data.setAll(o);let d=this.chart.yAxes.getIndex(0);d&&d.data.setAll(o),this.series1.appear(1e3),this.series2.appear(1e3),this.chart.appear(1e3,100)}})}getFilteredTransactions(){let e=(0,Cn.default)([this.selectedYear,this.selectedMonth,1]),r=(0,Cn.default)(e).endOf("month");return this.transactions.filter(a=>(0,Cn.default)(this.dateService.toDate(a.date)).isBetween(e,r,"day","[]")&&a.type==="expense")}getCategorySpendingData(e){let r=new Map;e.forEach(o=>{let s=o.categoryId,d=this.categories.find(m=>m.id===s),u=d?d.name:"";if(u&&s)if(r.has(s)){let m=r.get(s);m.amount+=o.amount}else r.set(s,{name:u,id:s,amount:o.amount})});let a=Math.max(...Array.from(r.values()).map(o=>o.amount),1);return Array.from(r.values()).map((o,s)=>({name:o.name,categoryId:o.id,value:o.amount,maxValue:a,itemStyle:{color:this.premiumColors[s%this.premiumColors.length]}}))}togglePieChart(){this.showPieChart=!this.showPieChart,this.showCalendar=!this.showCalendar,this.showPieChart&&this.updatePieChart()}toggleCalendar(){this.showCalendar=!this.showCalendar,this.showPieChart=!this.showCalendar}toggleChartViewMode(){this.chartViewMode=this.chartViewMode==="category"?"income-expense":"category",this.updatePieChart()}onYearChange(e){this.selectedYear=e,this.updatePieChart()}onMonthChange(e){this.selectedMonth=e,this.updatePieChart()}goToPreviousMonth(){this.currentViewDate=(0,Cn.default)(this.currentViewDate).subtract(1,"month").toDate()}goToNextMonth(){this.currentViewDate=(0,Cn.default)(this.currentViewDate).add(1,"month").toDate()}goToToday(){this.currentViewDate=new Date}onDateSelected(e){this.isRangeMode?this.handleRangeSelection(e):this.handleSingleDateSelection(e),this.updatePieChart()}handleSingleDateSelection(e){this.selectedDate=e,e?(this.selectedDateTransactions=this.getTransactionsForDate(e),this.filterService.setSelectedDate(e)):(this.selectedDateTransactions=[],this.filterService.clearSelectedDate())}handleRangeSelection(e){e&&(!this.startDate||this.startDate&&this.endDate?(this.startDate=e,this.endDate=null,this.rangeTransactions=[]):(e>=this.startDate?this.endDate=e:(this.endDate=this.startDate,this.startDate=e),this.rangeTransactions=this.getTransactionsForDateRange(this.startDate,this.endDate),this.filterService.setSelectedDateRange(this.startDate,this.endDate)))}getTransactionsForDate(e){let r=(0,Cn.default)(e).startOf("day");return this.transactions.filter(a=>(0,Cn.default)(this.dateService.toDate(a.date)).startOf("day").isSame(r,"day"))}getTransactionsForDateRange(e,r){let a=(0,Cn.default)(e).startOf("day"),o=(0,Cn.default)(r).endOf("day");return this.transactions.filter(s=>(0,Cn.default)(this.dateService.toDate(s.date)).isBetween(a,o,"day","[]"))}formatDate(e){return(0,Cn.default)(e).format("YYYY-MM-DD")}getTotalIncome(){return this.selectedDateTransactions.filter(e=>e.type===ht.INCOME).reduce((e,r)=>e+r.amount,0)}getTotalExpenses(){return this.selectedDateTransactions.filter(e=>e.type==="expense").reduce((e,r)=>e+r.amount,0)}getNetAmount(){return this.getTotalIncome()-this.getTotalExpenses()}toggleRangeMode(){this.isRangeMode=!this.isRangeMode,this.clearSelections()}toggleControls(){this.isControlsExpanded=!this.isControlsExpanded}hasSelection(){return this.isRangeMode?this.startDate!==null||this.endDate!==null:this.selectedDate!==null}clearSelections(){this.selectedDate=null,this.selectedDateTransactions=[],this.startDate=null,this.endDate=null,this.rangeTransactions=[],this.filterService.clearSelectedDate(),this.updatePieChart()}getRangeTotalIncome(){return this.rangeTransactions.filter(e=>e.type===ht.INCOME).reduce((e,r)=>e+r.amount,0)}getRangeTotalExpenses(){return this.rangeTransactions.filter(e=>e.type==="expense").reduce((e,r)=>e+r.amount,0)}getRangeNetAmount(){return this.getRangeTotalIncome()-this.getRangeTotalExpenses()}getFormattedDateRange(){if(!this.startDate||!this.endDate)return"";let e=(0,Cn.default)(this.startDate),r=(0,Cn.default)(this.endDate);return e.isSame(r,"day")?e.format("MMM DD, YYYY"):e.isSame(r,"year")?`${e.format("MMM DD")} - ${r.format("MMM DD, YYYY")}`:`${e.format("MMM DD, YYYY")} - ${r.format("MMM DD, YYYY")}`}getDaysInRange(){if(!this.startDate||!this.endDate)return 0;let e=(0,Cn.default)(this.startDate);return(0,Cn.default)(this.endDate).diff(e,"days")+1}isToday(e){return(0,Cn.default)(e).isSame((0,Cn.default)(),"day")}isPastDate(e){return(0,Cn.default)(e).isBefore((0,Cn.default)(),"day")}isFutureDate(e){return(0,Cn.default)(e).isAfter((0,Cn.default)(),"day")}clearAll(){this.clearSelections(),this.isControlsExpanded=this.isRangeMode=!1,this.filterService.clearSelectedDate()}subscribeToFilterService(){this.subscription.add(this.filterService.selectedDateRange$.subscribe(e=>{e&&(this.selectedMonth=e.startDate.getMonth(),this.selectedYear=e.startDate.getFullYear()),this.updatePieChart()}))}updateCalendar(){this.calendar&&this.calendar.updateTodaysDate()}};t.\u0275fac=function(r){return new(r||t)(W(Tr),W(Ro),W(Ct),W(Vt),W(mt),W(Ps),W(Ji))},t.\u0275cmp=Le({type:t,selectors:[["calendar-view"]],viewQuery:function(r,a){if(r&1&&wr(o6,5),r&2){let o;er(o=tr())&&(a.calendar=o.first)}},decls:37,vars:20,consts:[["calendar",""],[1,"demo-inline-calendar-card"],["class","m-4 flex justify-around",4,"ngIf"],[1,"calendar-header"],[1,"header-main"],[1,"header-title","sm:text-sm","text-xs"],[1,"header-actions"],["mat-icon-button","","color","warn","matTooltip","Clear selection",3,"click",4,"ngIf"],["mat-icon-button","",3,"click","color","matTooltip"],["mat-icon-button","",3,"rotated","matTooltip","click",4,"ngIf"],[1,"controls-section"],[1,"mode-toggle"],["mat-raised-button","",3,"click","color"],["class","chart-mode-toggle",4,"ngIf"],["class","date-filters",4,"ngIf"],["class","calendar-navigation",4,"ngIf"],[1,"gauge-chart-section"],[1,"chart-container"],[1,"amcharts-container",3,"id"],["class","status-section",4,"ngIf"],["class","calendar-container",4,"ngIf"],[1,"m-4","flex","justify-around"],[1,"md:col-span-2","lg:col-span-7"],["mat-icon-button","","color","warn","matTooltip","Clear selection",3,"click"],["mat-icon-button","",3,"click","matTooltip"],[1,"chart-mode-toggle"],[1,"date-filters"],[1,"filter-row"],["appearance","fill",1,"year-select"],[3,"valueChange","selectionChange","value"],[3,"value"],["appearance","fill",1,"month-select"],[1,"calendar-navigation"],["mat-icon-button","","matTooltip","Previous month",3,"click"],["mat-raised-button","","color","primary","matTooltip","Go to today",3,"click"],["mat-icon-button","","matTooltip","Next month",3,"click"],[1,"status-section"],[1,"range-status"],[1,"date-range-display"],[1,"date-item"],[1,"date-label"],["class","date-value start-date",4,"ngIf"],["class","date-placeholder",4,"ngIf"],[1,"arrow-icon"],["class","date-value end-date",4,"ngIf"],["class","range-summary",4,"ngIf"],[1,"date-value","start-date"],[1,"date-placeholder"],[1,"date-value","end-date"],[1,"range-summary"],[1,"summary-grid"],[1,"summary-item"],[1,"summary-label"],[1,"summary-amount","income"],[1,"summary-amount","expense"],[1,"summary-amount",3,"ngClass"],[1,"transaction-count"],[1,"single-date-status"],[1,"selected-date-display"],[1,"date-icon"],[1,"selected-date-text"],[1,"date-summary"],[1,"calendar-container"],[3,"selectedChange","dateClass","selected"]],template:function(r,a){r&1&&(c(0,"mat-card",1),L(1,c6,2,0,"div",2),c(2,"div",3)(3,"div",4)(4,"div",5)(5,"mat-icon"),g(6,"calendar_today"),l(),c(7,"span"),g(8,"Calendar"),l()(),c(9,"div",6),L(10,l6,3,0,"button",7),c(11,"button",8),R("click",function(){return a.togglePieChart()}),c(12,"mat-icon"),g(13,"pie_chart"),l()(),c(14,"button",8),R("click",function(){return a.toggleCalendar()}),c(15,"mat-icon"),g(16,"calendar_month"),l()(),L(17,d6,3,3,"button",9),l()(),c(18,"div",10)(19,"div",11)(20,"button",12),R("click",function(){return a.toggleRangeMode()}),c(21,"mat-icon"),g(22,"event"),l(),g(23," Single Date "),l(),c(24,"button",12),R("click",function(){return a.toggleRangeMode()}),c(25,"mat-icon"),g(26,"date_range"),l(),g(27," Date Range "),l()(),L(28,g6,9,2,"div",13)(29,p6,14,2,"div",14)(30,f6,11,0,"div",15),l()(),c(31,"div",16)(32,"div",17),oe(33,"div",18),l()(),L(34,v6,16,5,"div",19)(35,y6,30,18,"div",19)(36,M6,3,2,"div",20),l()),r&2&&(p(),O("ngIf",!a.isRangeMode&&!a.selectedDate),p(9),O("ngIf",a.hasSelection()),p(),Ha("matTooltip",a.showPieChart?"Hide gauge chart":"Show gauge chart"),O("color",a.showPieChart?"primary":"basic"),p(3),Ha("matTooltip",a.showCalendar&&!a.showPieChart?"Hide calendar":"Show calendar"),O("color",a.showCalendar&&!a.showPieChart?"primary":"basic"),p(3),O("ngIf",!a.isMobile),p(),Ue("expanded",a.isControlsExpanded),p(2),O("color",a.isRangeMode?"basic":"primary"),p(4),O("color",a.isRangeMode?"primary":"basic"),p(4),O("ngIf",a.showPieChart),p(),O("ngIf",a.showPieChart&&a.chartViewMode==="category"),p(),O("ngIf",a.showCalendar),p(),kt("display",a.showPieChart?"block":"none"),p(2),O("id",a.chartContainerId),p(),O("ngIf",a.isRangeMode&&a.showCalendar),p(),O("ngIf",!a.isRangeMode&&a.selectedDate&&a.showCalendar),p(),O("ngIf",a.showCalendar&&!a.showPieChart))},dependencies:[Zn,ct,Ri,Zt,dn,Qe,HC,Di,na,Fi,Ii,Fn,uv,Os,Si],styles:[".demo-inline-calendar-card[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto;overflow:hidden}.calendar-header[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;color:#374151}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.25rem}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:transform .2s ease}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button.rotated[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .3s ease,padding .3s ease;padding:0 1rem}.calendar-header[_ngcontent-%COMP%]   .controls-section.expanded[_ngcontent-%COMP%]{max-height:400px;padding:1rem;background-color:#f0f8ff}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .mode-toggle[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;margin-bottom:1rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;max-width:150px}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .chart-mode-toggle[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;margin-bottom:1rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .chart-mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;max-width:150px;font-size:.75rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .chart-mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;margin-right:.25rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]{margin-bottom:1rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%], .calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]{flex:1;max-width:120px}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]     .mat-mdc-form-field, .calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]     .mat-mdc-form-field{font-size:.875rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]     .mat-mdc-select, .calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]     .mat-mdc-select{font-size:.875rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .calendar-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .calendar-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .2s ease}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .calendar-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.gauge-chart-section[_ngcontent-%COMP%]{padding:1rem 0;border-bottom:1px solid #f3f4f6;background:#f4f3f6}.gauge-chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.gauge-chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]{width:100%;height:450px;max-width:450px;cursor:pointer}@media (max-width: 480px){.gauge-chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]{width:100%;height:350px;max-width:350px}}.gauge-chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]     canvas{width:100%!important;height:100%!important}.gauge-chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]     .am5-root{width:100%!important;height:100%!important}.gauge-chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]     .am5-chart-root{width:100%!important;height:100%!important}.gauge-chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]     .am5-radar-chart{width:100%!important;height:100%!important}.gauge-chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]     .am5-tooltip{background:#000000e6!important;color:#fff!important;border-radius:8px!important;padding:8px 12px!important;font-size:12px!important}.status-section[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #f3f4f6}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%]{font-weight:600}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.start-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.start-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.start-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.start-date[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(70 119 127 / var(--tw-text-opacity))}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.end-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.end-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.end-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.end-date[_ngcontent-%COMP%]{color:#10b981}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-placeholder[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-placeholder[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-placeholder[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-placeholder[_ngcontent-%COMP%]{color:#9ca3af;font-style:italic}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:1rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%]{color:#10b981}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .selected-date-text[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .selected-date-text[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .selected-date-text[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .selected-date-text[_ngcontent-%COMP%]{font-weight:600;color:#374151}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]{background:#f8fafc;border-radius:8px;padding:1rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:.5rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{text-align:center}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin-bottom:.25rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.income[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.income[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.income[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.income[_ngcontent-%COMP%]{color:#10b981}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.expense[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.expense[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.expense[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.expense[_ngcontent-%COMP%]{color:#ef4444}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.positive[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.positive[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.positive[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.positive[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(70 119 127 / var(--tw-text-opacity))}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.negative[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.negative[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.negative[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.negative[_ngcontent-%COMP%]{color:#f59e0b}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]{text-align:center;font-size:.75rem;color:#6b7280}.calendar-container[_ngcontent-%COMP%]{padding:1rem}  .mat-calendar-body-cell.has-transactions.has-income .mat-calendar-body-cell-content{background-color:#a6eeb3!important}  .mat-calendar-body-cell.has-transactions.has-expense{color:#fff!important;font-weight:700;border-radius:50%}  .mat-calendar-body-cell.has-transactions.has-expense .mat-calendar-body-cell-content{background-color:#c8dbdf!important}  .mat-calendar-body-cell.has-transactions:hover .mat-calendar-body-cell-content{--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity))}  .mat-calendar-body-cell.mat-calendar-body-active .mat-calendar-body-cell-content{--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));color:#fff!important}  .mat-calendar-body-cell.range-start .mat-calendar-body-cell-content{background-color:#059669!important;color:#fff!important;font-weight:700}  .mat-calendar-body-cell.range-end .mat-calendar-body-cell-content{background-color:#dc2626!important;color:#fff!important;font-weight:700}  .mat-calendar-body-cell.range-in-between .mat-calendar-body-cell-content{background-color:#fbbf24!important;color:#1f2937!important;font-weight:500}  .mat-calendar-body-cell.selected-date .mat-calendar-body-cell-content{background-color:#7c3aed!important;color:#fff!important;font-weight:700}.transaction-summary[_ngcontent-%COMP%]   .income-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dcfce7,#bbf7d0)}.transaction-summary[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fee2e2,#fecaca)}.transaction-summary[_ngcontent-%COMP%]   .net-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe)}.transaction-item[_ngcontent-%COMP%]{transition:all .2s ease}.transaction-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a}@media (max-width: 768px){.demo-inline-calendar-card[_ngcontent-%COMP%]{max-width:100%}.transaction-summary[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}"]});let n=t;return n})();var Sf=(()=>{let t=class t{constructor(e,r,a){this.router=e,this._dialog=r,this.breakpointService=a,this.topCategoriesConfig={title:"Top Categories",subtitle:"Top categories by spending",currency:"INR",showHeaderIcon:!0,headerIcon:"category",headerIconColor:"blue",showFooter:!0,footerText:"Last updated",cardHeight:"small",theme:"auto",animations:!0,clickable:!0},this.recentActivityConfig={title:"Recent Activity",subtitle:"Recent activity",currency:"INR",showHeaderIcon:!0},this.monthlyTrendsConfig={title:"Monthly Trends",subtitle:"Monthly trends",currency:"INR",showHeaderIcon:!0},this.categoryBreakdownConfig={title:"Category Breakdown",subtitle:"Spending by category",currency:"INR",showHeaderIcon:!0,headerIcon:"category",headerIconColor:"blue",maxItems:5,chartType:"bar"},this.categoryPieBreakdownConfig={title:"Category Breakdown",subtitle:"Spending by category",currency:"INR",showHeaderIcon:!0,headerIcon:"category",headerIconColor:"blue",maxItems:5,chartType:"radial"},this.quickActionsFabConfig={title:"Quick Actions",mainButtonIcon:"add",mainButtonColor:"primary",mainButtonTooltip:"Quick Actions",showLabels:!1,animations:!0,autoHide:!1,autoHideDelay:3e3,theme:"auto",actions:[{id:"add-transaction",label:"Add Transaction",icon:"add",color:"accent",tooltip:"Add Transaction"},{id:"category",label:"Category",icon:"category",color:"warn",tooltip:"Category"},{id:"accounts",label:"Accounts",icon:"account_balance",color:"primary",tooltip:"Accounts",loading:!1}],onActionClick:o=>{switch(console.log("Quick action clicked:",o),o.id){case"add-transaction":this._dialog.open(os,{panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"desktop-dialog"});break;case"category":this.router.navigate(["/dashboard/category"]);break;case"accounts":this.router.navigate(["/dashboard/accounts"]);break}},onMainButtonClick:()=>{console.log("Main FAB clicked")}},this.keyMetricsConfig={title:"",subtitle:"",currency:"INR",showHeaderIcon:!1,columns:3,cardsPerRow:{xs:1,sm:2,md:4,lg:5,xl:6},showPeriod:!1},this.upcomingTransactionsConfig={title:"Upcoming Transactions",subtitle:"Upcoming transactions",currency:"INR",showHeaderIcon:!0},this.financialMetricsConfig={title:"Monthly Financial Summary",subtitle:"",currency:"INR",showHeaderIcon:!0,headerIcon:"pie_chart",showFooter:!0,footerText:"Last updated",cardHeight:"medium",theme:"auto",animations:!0,loading:!1,error:"",onRefresh:()=>{console.log("Refreshing financial data...")}}}};t.\u0275fac=function(r){return new(r||t)(W(on),W(xn),W(sr))},t.\u0275cmp=Le({type:t,selectors:[["app-home"]],decls:15,vars:5,consts:[[1,"grid","grid-cols-1","gap-4","sm:grid-cols-2","sm:gap-6","lg:grid-cols-12","lg:gap-5","xl:gap-5","mt-10"],[1,"col-span-1","sm:col-span-2","lg:col-span-12"],[1,"col-span-1","sm:hidden"],[1,"col-span-1","sm:col-span-1","lg:col-span-4"],[3,"config"],[3,"isHomeView"],[1,"col-span-1","sm:col-span-1","lg:col-span-7"]],template:function(r,a){r&1&&(c(0,"section",0)(1,"div",1),oe(2,"app-account-summary-card"),l(),c(3,"div",2),oe(4,"calendar-view"),l(),c(5,"div",3),oe(6,"app-top-categories-card",4),l(),c(7,"div",3),oe(8,"app-financial-metrics-card",4),l(),c(9,"div",3),oe(10,"app-recent-activity-card",4),l(),c(11,"div",3),oe(12,"app-budget-card",5),l(),oe(13,"div",6)(14,"app-quick-actions-fab",4),l()),r&2&&(p(6),O("config",a.topCategoriesConfig),p(2),O("config",a.financialMetricsConfig),p(2),O("config",a.recentActivityConfig),p(2),O("isHomeView",!0),p(2),O("config",a.quickActionsFabConfig))},dependencies:[su,ou,db,Zl,Ql,ko,mv]});let n=t;return n})();var pv=new Wa("NGX_ECHARTS_CONFIG"),kf=class{constructor(){this.subject=new Qo(1),this.subscriptions=new Ki}doFilter(t){this.subject.next(t)}dispose(){this.subscriptions.unsubscribe()}notEmpty(t,i){this.subscriptions.add(this.subject.subscribe(e=>{if(e[t]){let r=e[t].currentValue;r!=null&&i(r)}}))}has(t,i){this.subscriptions.add(this.subject.subscribe(e=>{if(e[t]){let r=e[t].currentValue;i(r)}}))}notFirst(t,i){this.subscriptions.add(this.subject.subscribe(e=>{if(e[t]&&!e[t].isFirstChange()){let r=e[t].currentValue;i(r)}}))}notFirstAndEmpty(t,i){this.subscriptions.add(this.subject.subscribe(e=>{if(e[t]&&!e[t].isFirstChange()){let r=e[t].currentValue;r!=null&&i(r)}}))}},fv=(()=>{let t=class t{constructor(){var e;this.el=ya(es),this.ngZone=ya(Ji),this.config=ya(pv),this.options=Jo(null),this.theme=Jo((e=this.config.theme)!=null?e:null),this.initOpts=Jo(null),this.merge=Jo(null),this.autoResize=Jo(!0),this.loading=Jo(!1),this.loadingType=Jo("default"),this.loadingOpts=Jo(null),this.chartInit=Lp(),this.optionsError=Lp(),this.chartClick=en(this.createLazyEvent("click")),this.chartDblClick=en(this.createLazyEvent("dblclick")),this.chartMouseDown=en(this.createLazyEvent("mousedown")),this.chartMouseMove=en(this.createLazyEvent("mousemove")),this.chartMouseUp=en(this.createLazyEvent("mouseup")),this.chartMouseOver=en(this.createLazyEvent("mouseover")),this.chartMouseOut=en(this.createLazyEvent("mouseout")),this.chartGlobalOut=en(this.createLazyEvent("globalout")),this.chartContextMenu=en(this.createLazyEvent("contextmenu")),this.chartHighlight=en(this.createLazyEvent("highlight")),this.chartDownplay=en(this.createLazyEvent("downplay")),this.chartSelectChanged=en(this.createLazyEvent("selectchanged")),this.chartLegendSelectChanged=en(this.createLazyEvent("legendselectchanged")),this.chartLegendSelected=en(this.createLazyEvent("legendselected")),this.chartLegendUnselected=en(this.createLazyEvent("legendunselected")),this.chartLegendLegendSelectAll=en(this.createLazyEvent("legendselectall")),this.chartLegendLegendInverseSelect=en(this.createLazyEvent("legendinverseselect")),this.chartLegendScroll=en(this.createLazyEvent("legendscroll")),this.chartDataZoom=en(this.createLazyEvent("datazoom")),this.chartDataRangeSelected=en(this.createLazyEvent("datarangeselected")),this.chartGraphRoam=en(this.createLazyEvent("graphroam")),this.chartGeoRoam=en(this.createLazyEvent("georoam")),this.chartTreeRoam=en(this.createLazyEvent("treeroam")),this.chartTimelineChanged=en(this.createLazyEvent("timelinechanged")),this.chartTimelinePlayChanged=en(this.createLazyEvent("timelineplaychanged")),this.chartRestore=en(this.createLazyEvent("restore")),this.chartDataViewChanged=en(this.createLazyEvent("dataviewchanged")),this.chartMagicTypeChanged=en(this.createLazyEvent("magictypechanged")),this.chartGeoSelectChanged=en(this.createLazyEvent("geoselectchanged")),this.chartGeoSelected=en(this.createLazyEvent("geoselected")),this.chartGeoUnselected=en(this.createLazyEvent("geounselected")),this.chartAxisAreaSelected=en(this.createLazyEvent("axisareaselected")),this.chartBrush=en(this.createLazyEvent("brush")),this.chartBrushEnd=en(this.createLazyEvent("brushend")),this.chartBrushSelected=en(this.createLazyEvent("brushselected")),this.chartGlobalCursorTaken=en(this.createLazyEvent("globalcursortaken")),this.chartRendered=en(this.createLazyEvent("rendered")),this.chartFinished=en(this.createLazyEvent("finished")),this.animationFrameID=null,this.chart$=new Qo(1),this.resize$=new It,this.changeFilter=new kf,this.resizeObFired=!1,this.echarts=this.config.echarts}ngOnChanges(e){this.changeFilter.doFilter(e)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(N_(100,P_,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize()&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(e=>{for(let r of e)r.target===this.el.nativeElement&&(this.resizeObFired?this.animationFrameID=window.requestAnimationFrame(()=>{this.resize$.next()}):this.resizeObFired=!0)})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",e=>this.onOptionsChange(e)),this.changeFilter.notFirstAndEmpty("merge",e=>this.setOption(e)),this.changeFilter.has("loading",e=>this.toggleLoading(!!e)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(e){this.chart?e?this.chart.showLoading(this.loadingType(),this.loadingOpts()):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(r=>e?r.showLoading(this.loadingType(),this.loadingOpts()):r.hideLoading())}setOption(e,r){if(this.chart)try{this.chart.setOption(e,r)}catch(a){console.error(a),this.optionsError.emit(a)}}refreshChart(){return ge(this,null,function*(){this.dispose(),yield this.initChart()})}createChart(){let e=this.el.nativeElement;if(window&&window.getComputedStyle){let r=window.getComputedStyle(e,null).getPropertyValue("height");(!r||r==="0px")&&(!e.style.height||e.style.height==="0px")&&(e.style.height="400px")}return this.ngZone.runOutsideAngular(()=>(typeof this.echarts=="function"?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:a})=>{var o,s;return a(e,(s=this.theme())!=null?s:(o=this.config)==null?void 0:o.theme,this.initOpts())}))}initChart(){return ge(this,null,function*(){yield this.onOptionsChange(this.options());let e=this.merge();e&&this.chart&&this.setOption(e)})}onOptionsChange(e){return ge(this,null,function*(){e&&(this.chart?this.setOption(this.options(),!0):(this.chart=yield this.createChart(),this.chart$.next(this.chart),this.chartInit.emit(this.chart),this.setOption(this.options(),!0)))})}createLazyEvent(e){return Cx(this.chartInit).pipe(pr(r=>new Jt(a=>(r.on(e,o=>this.ngZone.run(()=>a.next(o))),()=>{this.chart&&(this.chart.isDisposed()||r.off(e))}))))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=_c({type:t,selectors:[["echarts"],["","echarts",""]],inputs:{options:[1,"options"],theme:[1,"theme"],initOpts:[1,"initOpts"],merge:[1,"merge"],autoResize:[1,"autoResize"],loading:[1,"loading"],loadingType:[1,"loadingType"],loadingOpts:[1,"loadingOpts"]},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],standalone:!0,features:[Z0]});let n=t;return n})();function O6(n){return{provide:pv,useValue:n}}var hv=(()=>{let t=class t{static forRoot(e){return{ngModule:t,providers:[O6(e)]}}static forChild(){return{ngModule:t}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pr({type:t}),t.\u0275inj=Mr({});let n=t;return n})();var S6=(n,t)=>t.month;function k6(n,t){if(n&1&&(c(0,"p",5),g(1),l()),n&2){let i=y();p(),ee(" ",i.effectiveConfig.subtitle," ")}}function T6(n,t){if(n&1&&(c(0,"div",6)(1,"mat-icon",10),g(2),l()()),n&2){let i=y();p(2),ee(" ",i.effectiveConfig.headerIcon||"trending_up"," ")}}function E6(n,t){n&1&&(c(0,"div",7)(1,"div",11),oe(2,"div",12),l(),c(3,"p",13),g(4,"Loading monthly trends..."),l()())}function A6(n,t){if(n&1&&(c(0,"div",7)(1,"div",14)(2,"mat-icon",15),g(3,"error"),l()(),c(4,"p",16),g(5),l()()),n&2){let i=y();p(5),V(i.effectiveConfig.error)}}function I6(n,t){if(n&1&&(c(0,"div",22),g(1),l()),n&2){let i=y().$implicit,e=y(3);p(),V(e.formatCurrency(i.income))}}function D6(n,t){if(n&1&&(c(0,"div",23),g(1),l()),n&2){let i=y().$implicit,e=y(3);p(),V(e.formatCurrency(i.expenses))}}function F6(n,t){if(n&1&&(c(0,"div",24),g(1),l()),n&2){let i=y().$implicit,e=y(3);O("ngClass",e.getChangeColor(i.savings)),p(),Wt(" ",i.savings>=0?"+":"","",e.formatCurrency(i.savings)," ")}}function R6(n,t){if(n&1&&(c(0,"div",25)(1,"mat-icon",26),g(2),l(),c(3,"span",27),g(4),l()()),n&2){let i=y().$implicit,e=y(3);p(),O("ngClass",e.getChangeColor(i.change)),p(),V(e.getChangeIcon(i.change)),p(),O("ngClass",e.getChangeColor(i.change)),p(),Wt(" ",i.change>=0?"+":"","",e.formatCurrency(i.change)," ")}}function N6(n,t){if(n&1){let i=ue();c(0,"div",20),R("click",function(){let r=j(i).$implicit,a=y(3);return z(a.onMonthClick(r))}),c(1,"div",21),g(2),l(),L(3,I6,2,1,"div",22)(4,D6,2,1,"div",23)(5,F6,2,3,"div",24)(6,R6,5,5,"div",25),l()}if(n&2){let i=t.$implicit,e=y(3);Ue("cursor-pointer",e.effectiveConfig.clickable)("cursor-default",!e.effectiveConfig.clickable),p(2),V(i.month),p(),Oe(e.effectiveConfig.showIncome?3:-1),p(),Oe(e.effectiveConfig.showExpenses?4:-1),p(),Oe(e.effectiveConfig.showSavings?5:-1),p(),Oe(e.effectiveConfig.showChange&&i.change!==void 0?6:-1)}}function L6(n,t){if(n&1&&(c(0,"div",17),qe(1,N6,7,9,"div",19,S6),se(3,"async"),l()),n&2){let i=y(2);O("ngClass",i.layoutClass),p(),Ke(pe(3,1,i.monthlyTrends$))}}function B6(n,t){if(n&1&&(c(0,"div",18)(1,"div",28)(2,"mat-icon",29),g(3,"trending_up"),l()(),c(4,"h4",30),g(5,"No Monthly Data"),l(),c(6,"p",31),g(7),l()()),n&2){let i=y(2);p(7),V(i.effectiveConfig.emptyStateMessage)}}function V6(n,t){if(n&1&&(c(0,"div",8),L(1,L6,4,3,"div",17),se(2,"async"),L(3,B6,8,1,"div",18),se(4,"async"),l()),n&2){let i,e=y();p(),Oe((i=pe(2,2,e.monthlyTrends$))!=null&&i.length?1:-1),p(2),Oe(pe(4,4,e.isEmpty)?3:-1)}}function $6(n,t){n&1&&(c(0,"span",34),g(1,"Monthly Trends"),l())}function j6(n,t){if(n&1&&(c(0,"div",9)(1,"div",32)(2,"span"),g(3),l(),c(4,"div",33),L(5,$6,2,0,"span",34),c(6,"span"),g(7),l()()()()),n&2){let i=y();p(3),V(i.effectiveConfig.footerText||"Last updated"),p(2),Oe(i.effectiveConfig.showDebugInfo?5:-1),p(2),V(i.getLastUpdatedTime())}}var fm=(()=>{let t=class t{constructor(e){this.store=e,this.config={title:"Monthly Trends",subtitle:"Compare monthly performance",currency:"INR",showHeaderIcon:!0,headerIcon:"trending_up",headerIconColor:"green",showFooter:!1,footerText:"Last updated",cardHeight:"medium",theme:"auto",animations:!0,clickable:!0,loading:!1,error:"",emptyStateMessage:"Add transactions to see monthly trends",showDebugInfo:!1,maxItems:6,period:"monthly",transactionType:"all",showIncome:!0,showExpenses:!0,showSavings:!0,showChange:!0,layout:"grid"},this.destroy$=new It,this.transactions$=this.store.select(En),this.categories$=this.store.select(gn),this.transactionsLoading$=this.store.select(ra),this.categoriesLoading$=this.store.select(Ir),this.isLoading$=Zi([this.transactionsLoading$,this.categoriesLoading$]).pipe(Ye(([r,a])=>r||a)),this.monthlyTrends$=this.calculateMonthlyTrends()}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calculateMonthlyTrends(){return this.transactions$.pipe(Ye(e=>{let r=new Date,a=new Map;e.forEach(s=>{let d=this.convertToDate(s.date),u=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}`,m=d.toLocaleDateString("en-US",{month:"short",year:"numeric"});a.has(u)||a.set(u,{income:0,expenses:0,savings:0});let f=a.get(u);s.type===ht.INCOME?f.income+=s.amount:f.expenses+=s.amount,f.savings=f.income-f.expenses});let o=Array.from(a.entries()).map(([s,d])=>{let[u,m]=s.split("-");return{month:new Date(parseInt(u),parseInt(m)-1).toLocaleDateString("en-US",{month:"short",year:"numeric"}),income:d.income,expenses:d.expenses,savings:d.savings}}).sort((s,d)=>{let u=new Date(s.month);return new Date(d.month).getTime()-u.getTime()}).slice(0,this.effectiveConfig.maxItems||6);if(o.length>1)for(let s=0;s<o.length-1;s++){let d=o[s],u=o[s+1],m=d.savings-u.savings,f=u.savings!==0?m/Math.abs(u.savings)*100:0;d.change=m,d.changePercentage=f}return o}))}convertToDate(e){return e instanceof Date?e:e!=null&&e.seconds?new Date(e.seconds*1e3):new Date(e)}get effectiveConfig(){var e,r,a,o,s,d,u,m,f,_,x,v,b,M,S,w,T,F,U,A,k,I,B,X;return{title:(e=this.config.title)!=null?e:"Monthly Trends",subtitle:(r=this.config.subtitle)!=null?r:"Compare monthly performance",currency:(a=this.config.currency)!=null?a:"INR",showHeaderIcon:(o=this.config.showHeaderIcon)!=null?o:!0,headerIcon:(s=this.config.headerIcon)!=null?s:"trending_up",headerIconColor:(d=this.config.headerIconColor)!=null?d:"green",showFooter:(u=this.config.showFooter)!=null?u:!1,footerText:(m=this.config.footerText)!=null?m:"Last updated",cardHeight:(f=this.config.cardHeight)!=null?f:"medium",theme:(_=this.config.theme)!=null?_:"auto",animations:(x=this.config.animations)!=null?x:!0,clickable:(v=this.config.clickable)!=null?v:!0,loading:(b=this.config.loading)!=null?b:!1,error:(M=this.config.error)!=null?M:"",emptyStateMessage:(S=this.config.emptyStateMessage)!=null?S:"Add transactions to see monthly trends",showDebugInfo:(w=this.config.showDebugInfo)!=null?w:!1,maxItems:(T=this.config.maxItems)!=null?T:6,period:(F=this.config.period)!=null?F:"monthly",transactionType:(U=this.config.transactionType)!=null?U:"all",showIncome:(A=this.config.showIncome)!=null?A:!0,showExpenses:(k=this.config.showExpenses)!=null?k:!0,showSavings:(I=this.config.showSavings)!=null?I:!0,showChange:(B=this.config.showChange)!=null?B:!0,layout:(X=this.config.layout)!=null?X:"grid",onMonthClick:this.config.onMonthClick,onRefresh:this.config.onRefresh}}get cardHeightClass(){switch(this.effectiveConfig.cardHeight){case"small":return"min-h-20";case"large":return"min-h-32";case"auto":return"min-h-0";default:return"min-h-24"}}get headerIconColorClass(){let e=this.effectiveConfig.headerIconColor||"green";return`bg-${e}-500/10 text-${e}-600 dark:text-${e}-400`}get layoutClass(){switch(this.effectiveConfig.layout){case"list":return"grid-cols-1";case"compact":return"grid-cols-3 sm:grid-cols-4 md:grid-cols-6";default:return"grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6"}}formatCurrency(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:this.effectiveConfig.currency,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}getChangeColor(e){return e>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}getChangeIcon(e){return e>=0?"trending_up":"trending_down"}onMonthClick(e){this.effectiveConfig.clickable&&this.effectiveConfig.onMonthClick&&this.effectiveConfig.onMonthClick(e)}getLastUpdatedTime(){return new Date().toLocaleString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}onRefreshClick(){this.effectiveConfig.onRefresh&&this.effectiveConfig.onRefresh()}get isEmpty(){return this.monthlyTrends$.pipe(Ye(e=>e.length===0))}get hasError(){return!!(this.effectiveConfig.error&&this.effectiveConfig.error.trim())}};t.\u0275fac=function(r){return new(r||t)(W(mt))},t.\u0275cmp=Le({type:t,selectors:[["app-monthly-trends-card"]],inputs:{config:"config"},standalone:!0,features:[Jr],decls:14,vars:11,consts:[[1,"monthly-trends-card","bg-white","dark:bg-gray-800","shadow-lg","border-0","rounded-xl","overflow-hidden","h-full"],[1,"p-4","sm:p-6"],[1,"flex","items-center","justify-between","mb-4","sm:mb-6"],[1,"flex-1","min-w-0"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","dark:text-white","truncate"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-1"],[1,"bg-green-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-center","py-8"],[1,"space-y-4"],[1,"mt-4","sm:mt-6","pt-4","border-t","border-gray-200","dark:border-gray-700"],[1,"text-green-600","dark:text-green-400"],[1,"inline-flex","items-center","justify-center","w-12","h-12","bg-blue-100","dark:bg-blue-900/20","rounded-full","mb-4"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-blue-600"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"bg-red-100","dark:bg-red-900/20","w-12","h-12","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-red-600","dark:text-red-400"],[1,"text-sm","text-red-600","dark:text-red-400"],[1,"grid","gap-3","sm:gap-4",3,"ngClass"],[1,"text-center","py-8","sm:py-12"],[1,"text-center","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors",3,"cursor-pointer","cursor-default"],[1,"text-center","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors",3,"click"],[1,"text-xs","sm:text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2","truncate"],[1,"text-sm","sm:text-lg","font-bold","text-green-600","dark:text-green-400","truncate"],[1,"text-xs","sm:text-sm","text-red-600","dark:text-red-400","truncate"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1","truncate",3,"ngClass"],[1,"flex","items-center","justify-center","mt-1"],[1,"text-xs",3,"ngClass"],[1,"text-xs","ml-1",3,"ngClass"],[1,"bg-gray-100","dark:bg-gray-700","w-16","h-16","sm:w-20","sm:h-20","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-gray-400","text-2xl","sm:text-3xl"],[1,"text-base","sm:text-lg","font-medium","text-gray-900","dark:text-white","mb-2"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","justify-between","text-xs","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-4"],[1,"text-xs","opacity-75"]],template:function(r,a){r&1&&(c(0,"mat-card",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),g(5),l(),L(6,k6,2,1,"p",5),l(),L(7,T6,3,1,"div",6),l(),L(8,E6,5,0,"div",7),se(9,"async"),L(10,A6,6,1,"div",7)(11,V6,5,6,"div",8),se(12,"async"),L(13,j6,8,3,"div",9),l()()),r&2&&(p(5),ee(" ",a.effectiveConfig.title," "),p(),Oe(a.effectiveConfig.subtitle?6:-1),p(),Oe(a.effectiveConfig.showHeaderIcon!==!1?7:-1),p(),Oe(pe(9,7,a.isLoading$)?8:-1),p(2),Oe(a.hasError?10:-1),p(),Oe(!pe(12,9,a.isLoading$)&&!a.hasError?11:-1),p(2),Oe(a.effectiveConfig.showFooter?13:-1))},dependencies:[Pa,Zn,wi,Co,Ri,ka,Qe],styles:['.monthly-trends-card[_ngcontent-%COMP%]{transition:all .3s ease}.monthly-trends-card[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden}.monthly-trends-card[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]{transition:all .2s ease}.monthly-trends-card[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.monthly-trends-card[_ngcontent-%COMP%]   .grid.grid-cols-1[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]{padding:1rem}.monthly-trends-card[_ngcontent-%COMP%]   .grid.grid-cols-2[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]{padding:.75rem}.monthly-trends-card[_ngcontent-%COMP%]   .grid.grid-cols-3[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%], .monthly-trends-card[_ngcontent-%COMP%]   .grid.grid-cols-4[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%], .monthly-trends-card[_ngcontent-%COMP%]   .grid.grid-cols-6[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]{padding:.5rem}@media (max-width: 640px){.monthly-trends-card[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]{padding:.75rem}.monthly-trends-card[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{gap:.5rem}}.dark[_ngcontent-%COMP%]   .monthly-trends-card[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]:hover{background-color:#4b5563cc;box-shadow:0 4px 12px #0000004d}.monthly-trends-card[_ngcontent-%COMP%]   .trend-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem}.monthly-trends-card[_ngcontent-%COMP%]   .trend-indicator.positive[_ngcontent-%COMP%]{color:#10b981}.monthly-trends-card[_ngcontent-%COMP%]   .trend-indicator.negative[_ngcontent-%COMP%]{color:#ef4444}.monthly-trends-card[_ngcontent-%COMP%]   .currency-value[_ngcontent-%COMP%]{font-variant-numeric:tabular-nums;font-feature-settings:"tnum"}']});let n=t;return n})();function Y6(n,t){if(n&1&&(c(0,"p",5),g(1),l()),n&2){let i=y();p(),ee(" ",i.effectiveConfig.subtitle," ")}}function U6(n,t){if(n&1&&(c(0,"div",7)(1,"mat-icon",13),g(2),l()()),n&2){let i=y();p(2),ee(" ",i.effectiveConfig.headerIcon||"category"," ")}}function G6(n,t){n&1&&(c(0,"div",8)(1,"div",14),oe(2,"div",15),l(),c(3,"p",16),g(4,"Loading category data..."),l()())}function W6(n,t){if(n&1&&(c(0,"div",8)(1,"div",17)(2,"mat-icon",18),g(3,"error"),l()(),c(4,"p",19),g(5),l()()),n&2){let i=y();p(5),V(i.effectiveConfig.error)}}function H6(n,t){if(n&1&&(c(0,"div",11)(1,"div",20)(2,"mat-icon",21),g(3,"category"),l()(),c(4,"h4",22),g(5,"No Categories Found"),l(),c(6,"p",23),g(7),l()()),n&2){let i=y();p(7),V(i.effectiveConfig.emptyStateMessage)}}function X6(n,t){n&1&&(c(0,"span",26),g(1,"Category Breakdown"),l())}function q6(n,t){if(n&1&&(c(0,"div",12)(1,"div",24)(2,"span"),g(3),l(),c(4,"div",25),L(5,X6,2,0,"span",26),c(6,"span"),g(7),l()()()()),n&2){let i=y();p(3),V(i.effectiveConfig.footerText||"Last updated"),p(2),Oe(i.effectiveConfig.showDebugInfo?5:-1),p(2),V(i.getLastUpdatedTime())}}var hm=(()=>{let t=class t{constructor(e,r,a){this.store=e,this.platformId=r,this.zone=a,this.config={title:"Category Breakdown",subtitle:"Spending by category",currency:"INR",showHeaderIcon:!0,headerIcon:"category",headerIconColor:"blue",showFooter:!1,footerText:"Last updated",cardHeight:"large",theme:"auto",animations:!0,clickable:!0,loading:!1,error:"",emptyStateMessage:"Add transactions to see category breakdown",showDebugInfo:!1,maxItems:8,period:"monthly",transactionType:"expense",showProgressBar:!0,showPercentage:!0,showCount:!1,showAverage:!1,layout:"list",chartType:"radial"},this.currentChartType="radial",this.premiumColors=["#6366F1","#8B5CF6","#EC4899","#EF4444","#F97316","#EAB308","#22C55E","#06B6D4","#3B82F6","#84CC16","#F59E0B","#10B981","#8B5A2B","#6B7280","#1F2937","#DC2626"],this.destroy$=new It,this.chartContainerId=`category-breakdown-chart-${this.currentChartType}`,this.transactions$=this.store.select(En),this.categories$=this.store.select(gn),this.transactionsLoading$=this.store.select(ra),this.categoriesLoading$=this.store.select(Ir),this.isLoading$=Zi([this.transactionsLoading$,this.categoriesLoading$]).pipe(Ye(([o,s])=>o||s)),this.categoryBreakdown$=this.calculateCategoryBreakdown()}ngOnInit(){this.currentChartType=this.effectiveConfig.chartType||"radial",this.updateChartContainerId()}updateChartContainerId(){let e=`category-breakdown-chart-${this.currentChartType}`;this.chartContainerId=e}ngAfterViewInit(){this.browserOnly(()=>{this.initializeChart(),this.subscribeToData()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.browserOnly(()=>{this.root&&this.root.dispose()})}browserOnly(e){rg(this.platformId)&&this.zone.runOutsideAngular(()=>{e()})}initializeChart(){try{this.root=pu.new(this.chartContainerId),this.root.setThemes([fu.new(this.root)]),this.currentChartType==="radial"?this.createRadialChart():this.createBarChart()}catch(e){console.error("Error initializing chart:",e)}}createBarChart(){if(!this.root)return;console.log("Creating bar chart..."),this.chart&&(this.chart.dispose(),this.chart=void 0),this.chart=this.root.container.children.push(Qa.new(this.root,{layout:this.root.verticalLayout,paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20}));let e=this.chart.xAxes.push(to.new(this.root,{categoryField:"category",renderer:Zs.new(this.root,{minGridDistance:30,cellStartLocation:.1,cellEndLocation:.9})})),r=this.chart.yAxes.push(_a.new(this.root,{renderer:Qs.new(this.root,{})})),a=this.chart.series.push(Js.new(this.root,{name:"Amount",xAxis:e,yAxis:r,valueYField:"amount",categoryXField:"category",tooltip:Vd.new(this.root,{labelText:"{categoryX}: {valueY}"})}));a.columns.template.setAll({cornerRadiusTL:5,cornerRadiusTR:5,strokeOpacity:0,fillOpacity:.8});let o=Nl.new(this.root,{});o.set("colors",this.premiumColors.map(s=>Cc(s))),a.columns.template.set("fill",o.next()),a.columns.template.states.create("hover",{fillOpacity:1,scale:1.05}),this.xAxis=e,this.yAxis=r,this.series=a,console.log("Bar chart created successfully"),a.appear(1e3),this.chart.appear(1e3,100)}createRadialChart(){if(!this.root)return;console.log("Creating radial bar chart..."),this.chart&&(this.chart.dispose(),this.chart=void 0),this.chart=this.root.container.children.push(Do.new(this.root,{panX:!1,panY:!1,wheelX:"panX",wheelY:"zoomX",innerRadius:Yi(40)}));let e=this.chart;e.set("cursor",Fo.new(this.root,{behavior:"zoomX"})).lineY.set("visible",!1);let a=Ao.new(this.root,{strokeOpacity:.1,minGridDistance:50});a.labels.template.setAll({radius:10,maxPosition:.98});let o=e.xAxes.push(_a.new(this.root,{renderer:a,extraMax:.1,tooltip:Vd.new(this.root,{})})),s=e.yAxes.push(to.new(this.root,{categoryField:"category",renderer:Io.new(this.root,{minGridDistance:20})})),d=e.series.push(no.new(this.root,{name:"Amount",xAxis:o,yAxis:s,valueXField:"amount",categoryYField:"category"}));d.set("stroke",this.root.interfaceColors.get("background")),d.columns.template.setAll({width:pt,strokeOpacity:.1,tooltipText:`[bold]{category}[/]
Amount: {valueX}
Percentage: {valuePercentTotal.formatNumber('#.0')}%`});let u=Nl.new(this.root,{});u.set("colors",this.premiumColors.map(m=>Cc(m))),d.columns.template.set("fill",u.next()),d.columns.template.states.create("hover",{fillOpacity:1,scale:1.05}),this.radarXAxis=o,this.radarYAxis=s,this.radarSeries=d,console.log("Radial bar chart created successfully"),d.appear(1e3),this.chart.appear(1e3,100)}subscribeToData(){this.categoryBreakdown$.pipe(bt(this.destroy$)).subscribe(e=>{console.log("Category breakdown data received:",e),this.browserOnly(()=>{e&&e.length>0?(console.log("Setting real chart data:",e),this.updateChartData(e)):(console.log("No real data available, clearing chart"),this.clearChartData())})})}updateChartData(e){if(!this.root){console.error("Root not available for data update");return}let r=e.map(a=>({category:a.category,amount:a.amount,count:a.count,percentage:a.percentage,color:a.color}));console.log("Updating chart data:",r),this.currentChartType==="radial"?this.radarSeries&&this.radarYAxis?(console.log("Setting radial chart data"),this.radarYAxis.data.setAll(r),this.radarSeries.data.setAll(r),this.radarSeries.appear(1e3,100)):console.error("Radar series not available"):this.series&&this.xAxis?(console.log("Setting bar chart data"),this.xAxis.data.setAll(r),this.series.data.setAll(r)):console.error("Bar series or axis not available")}clearChartData(){this.root&&(this.currentChartType==="radial"?(this.radarSeries&&this.radarSeries.data.clear(),this.radarYAxis&&this.radarYAxis.data.clear()):this.series&&this.xAxis&&(this.xAxis.data.clear(),this.series.data.clear()))}calculateCategoryBreakdown(){return Zi([this.transactions$,this.categories$]).pipe(Ye(([e,r])=>{let a=new Date,o;switch(this.effectiveConfig.period){case"daily":o=new Date(a.getFullYear(),a.getMonth(),a.getDate());break;case"weekly":let f=a.getDay(),_=f===0?6:f-1;o=new Date(a.getFullYear(),a.getMonth(),a.getDate()-_);break;case"yearly":o=new Date(a.getFullYear(),0,1);break;default:o=new Date(a.getFullYear(),a.getMonth(),1);break}let s=e.filter(f=>{let _=this.convertToDate(f.date),x=_>=o&&_<=a,v=this.effectiveConfig.transactionType==="all"||f.type===(this.effectiveConfig.transactionType==="income"?ht.INCOME:ht.EXPENSE);return x&&v}),d=new Map;s.forEach(f=>{let _=r.find(x=>x.id===f.categoryId);if(_){let x=d.get(f.categoryId)||{amount:0,count:0,category:_};x.amount+=f.amount,x.count+=1,d.set(f.categoryId,x)}});let u=Array.from(d.values()).reduce((f,_)=>f+_.amount,0);return Array.from(d.values()).filter(f=>f.amount>0).map(f=>({category:f.category.name,amount:f.amount,percentage:u>0?f.amount/u*100:0,icon:f.category.icon||"category",color:f.category.color||"#6B7280",count:f.count,averageAmount:f.count>0?f.amount/f.count:0})).sort((f,_)=>_.amount-f.amount).slice(0,this.effectiveConfig.maxItems||8)}))}convertToDate(e){return e instanceof Date?e:e!=null&&e.seconds?new Date(e.seconds*1e3):new Date(e)}get effectiveConfig(){var e,r,a,o,s,d,u,m,f,_,x,v,b,M,S,w,T,F,U,A,k,I,B,X,J;return{title:(e=this.config.title)!=null?e:"Category Breakdown",subtitle:(r=this.config.subtitle)!=null?r:"Spending by category",currency:(a=this.config.currency)!=null?a:"INR",showHeaderIcon:(o=this.config.showHeaderIcon)!=null?o:!0,headerIcon:(s=this.config.headerIcon)!=null?s:"category",headerIconColor:(d=this.config.headerIconColor)!=null?d:"blue",showFooter:(u=this.config.showFooter)!=null?u:!1,footerText:(m=this.config.footerText)!=null?m:"Last updated",cardHeight:(f=this.config.cardHeight)!=null?f:"medium",theme:(_=this.config.theme)!=null?_:"auto",animations:(x=this.config.animations)!=null?x:!0,clickable:(v=this.config.clickable)!=null?v:!0,loading:(b=this.config.loading)!=null?b:!1,error:(M=this.config.error)!=null?M:"",emptyStateMessage:(S=this.config.emptyStateMessage)!=null?S:"Add transactions to see category breakdown",showDebugInfo:(w=this.config.showDebugInfo)!=null?w:!1,maxItems:(T=this.config.maxItems)!=null?T:8,period:(F=this.config.period)!=null?F:"monthly",transactionType:(U=this.config.transactionType)!=null?U:"expense",showProgressBar:(A=this.config.showProgressBar)!=null?A:!0,showPercentage:(k=this.config.showPercentage)!=null?k:!0,showCount:(I=this.config.showCount)!=null?I:!1,showAverage:(B=this.config.showAverage)!=null?B:!1,layout:(X=this.config.layout)!=null?X:"list",chartType:(J=this.config.chartType)!=null?J:"radial",onCategoryClick:this.config.onCategoryClick,onRefresh:this.config.onRefresh}}get cardHeightClass(){switch(this.effectiveConfig.cardHeight){case"small":return"min-h-20";case"large":return"min-h-40";case"auto":return"min-h-0";default:return"min-h-32"}}get headerIconColorClass(){let e=this.effectiveConfig.headerIconColor||"blue";return`bg-${e}-500/10 text-${e}-600 dark:text-${e}-400`}formatCurrency(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:this.effectiveConfig.currency,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}getProgressBarColor(e){return e>50?"bg-red-500":e>25?"bg-yellow-500":"bg-blue-500"}onCategoryClick(e){this.effectiveConfig.clickable&&this.effectiveConfig.onCategoryClick&&this.effectiveConfig.onCategoryClick(e)}getLastUpdatedTime(){return new Date().toLocaleString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}onRefreshClick(){this.effectiveConfig.onRefresh&&this.effectiveConfig.onRefresh()}get isEmpty(){return this.categoryBreakdown$.pipe(Ye(e=>e.length===0))}get hasError(){return!!(this.effectiveConfig.error&&this.effectiveConfig.error.trim())}get chartOptions(){return new Jt(e=>{this.chart?(e.next(this.chart),e.complete()):(e.next(null),e.complete())})}refreshChartData(){this.categoryBreakdown$.pipe(bt(this.destroy$)).subscribe(e=>{this.browserOnly(()=>{e&&e.length>0?(console.log("Refreshing chart data:",e),this.updateChartData(e)):(console.log("No data to refresh"),this.clearChartData())})})}};t.\u0275fac=function(r){return new(r||t)(W(mt),W(Ps),W(Ji))},t.\u0275cmp=Le({type:t,selectors:[["app-category-breakdown-card"]],inputs:{config:"config"},standalone:!0,features:[Jr],decls:18,vars:15,consts:[[1,"category-breakdown-card","bg-white","dark:bg-gray-800","shadow-lg","border-0","rounded-xl","overflow-hidden","h-full"],[1,"p-4","sm:p-6"],[1,"flex","items-start","justify-between","mb-4","sm:mb-6"],[1,"flex-1","min-w-0"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","dark:text-white","truncate"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-1"],[1,"flex","items-center","space-x-1"],[1,"bg-blue-500/10","p-1","sm:p-3","rounded-lg","flex-shrink-0"],[1,"text-center","py-8"],[1,"w-full",3,"ngClass"],[1,"amcharts-container",3,"id","ngClass"],[1,"text-center","py-8","sm:py-12"],[1,"mt-4","sm:mt-6","pt-4","border-t","border-gray-200","dark:border-gray-700"],[1,"text-blue-600","dark:text-blue-400"],[1,"inline-flex","items-center","justify-center","w-12","h-12","bg-blue-100","dark:bg-blue-900/20","rounded-full","mb-4"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-blue-600"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"bg-red-100","dark:bg-red-900/20","w-12","h-12","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-red-600","dark:text-red-400"],[1,"text-sm","text-red-600","dark:text-red-400"],[1,"bg-gray-100","dark:bg-gray-700","w-16","h-16","sm:w-20","sm:h-20","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-gray-400","text-2xl","sm:text-3xl"],[1,"text-base","sm:text-lg","font-medium","text-gray-900","dark:text-white","mb-2"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","justify-between","text-xs","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-4"],[1,"text-xs","opacity-75"]],template:function(r,a){r&1&&(c(0,"mat-card",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),g(5," Spending Breakdown "),l(),L(6,Y6,2,1,"p",5),l(),c(7,"div",6),L(8,U6,3,1,"div",7),l()(),L(9,G6,5,0,"div",8),se(10,"async"),L(11,W6,6,1,"div",8),c(12,"div",9),oe(13,"div",10),l(),L(14,H6,8,1,"div",11),se(15,"async"),se(16,"async"),L(17,q6,8,3,"div",12),l()()),r&2&&(p(6),Oe(a.effectiveConfig.subtitle?6:-1),p(2),Oe(a.effectiveConfig.showHeaderIcon!==!1?8:-1),p(),Oe(pe(10,9,a.isLoading$)?9:-1),p(2),Oe(a.hasError?11:-1),p(),O("ngClass",a.cardHeightClass),p(),O("id",a.chartContainerId)("ngClass",a.chartContainerId),p(),Oe(!pe(15,11,a.isLoading$)&&!a.hasError&&pe(16,13,a.isEmpty)?14:-1),p(3),Oe(a.effectiveConfig.showFooter?17:-1))},dependencies:[Pa,Zn,wi,Co,Ri,ka,Qe,Pl,ru],styles:['.category-breakdown-card[_ngcontent-%COMP%]{transition:all .3s ease}.category-breakdown-card[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden}.category-breakdown-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{transition:all .2s ease}.category-breakdown-card[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{transition:width .6s ease-in-out}.category-breakdown-card[_ngcontent-%COMP%]   .progress-bar.bg-red-500[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#dc2626)}.category-breakdown-card[_ngcontent-%COMP%]   .progress-bar.bg-yellow-500[_ngcontent-%COMP%]{background:linear-gradient(90deg,#eab308,#ca8a04)}.category-breakdown-card[_ngcontent-%COMP%]   .progress-bar.bg-blue-500[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#2563eb)}.category-breakdown-card[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{transition:all .2s ease}.category-breakdown-card[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@media (max-width: 640px){.category-breakdown-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{padding:.75rem}.category-breakdown-card[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:4rem}}.dark[_ngcontent-%COMP%]   .category-breakdown-card[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background-color:#4b5563cc}.dark[_ngcontent-%COMP%]   .category-breakdown-card[_ngcontent-%COMP%]   .progress-bar.bg-red-500[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f87171,#ef4444)}.dark[_ngcontent-%COMP%]   .category-breakdown-card[_ngcontent-%COMP%]   .progress-bar.bg-yellow-500[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fbbf24,#f59e0b)}.dark[_ngcontent-%COMP%]   .category-breakdown-card[_ngcontent-%COMP%]   .progress-bar.bg-blue-500[_ngcontent-%COMP%]{background:linear-gradient(90deg,#60a5fa,#3b82f6)}.category-breakdown-card[_ngcontent-%COMP%]   .percentage-display[_ngcontent-%COMP%]{font-variant-numeric:tabular-nums;font-feature-settings:"tnum"}.category-breakdown-card[_ngcontent-%COMP%]   .amount-display[_ngcontent-%COMP%]{font-variant-numeric:tabular-nums;font-feature-settings:"tnum";font-weight:600}.category-breakdown-card[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]{width:100%;min-height:24rem;height:35rem;margin-top:-5rem}.category-breakdown-card[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]     canvas{width:100%!important;height:100%!important}.category-breakdown-card[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]     .am5-root{width:100%!important;height:100%!important}.category-breakdown-card[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]     .am5-chart-root{width:100%!important;height:100%!important}.category-breakdown-card[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]     .am5-pie-chart{width:100%!important;height:100%!important}.category-breakdown-card[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]     .am5-radar-chart{width:100%!important;height:100%!important}.category-breakdown-card[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]     .am5-legend{font-size:12px}.category-breakdown-card[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]     .am5-legend .am5-legend-item{margin:4px 0}.category-breakdown-card[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]     .am5-tooltip{background:#000000e6!important;color:#fff!important;border-radius:8px!important;padding:8px 12px!important;font-size:12px!important}.category-breakdown-card[_ngcontent-%COMP%]   .amcharts-container[_ngcontent-%COMP%]:hover{cursor:pointer}.category-breakdown-card[_ngcontent-%COMP%]   .min-h-32[_ngcontent-%COMP%]{min-height:24rem}.category-breakdown-chart-pie[_ngcontent-%COMP%]{width:fit-content;height:500px;display:flex;justify-content:center;align-items:center}.category-breakdown-chart-radial[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.category-breakdown-chart-bar[_ngcontent-%COMP%]{height:100%}']});let n=t;return n})();var J6=(n,t)=>t.month,_v=(n,t)=>t.name;function eA(n,t){n&1&&(c(0,"div",7)(1,"div",8)(2,"div",9),oe(3,"div",10),l(),c(4,"h3",11),g(5,"Loading Financial Data"),l(),c(6,"p",12),g(7,"Please wait while we prepare your reports..."),l()()())}function tA(n,t){n&1&&(c(0,"mat-icon",80),g(1,"check"),l())}function nA(n,t){if(n&1){let i=ue();c(0,"button",38),R("click",function(){let r=j(i).$implicit,a=y(2);return z(a.onChartTypeChange(r))}),c(1,"mat-icon",39),g(2),l(),c(3,"span",39),g(4),l(),L(5,tA,2,0,"mat-icon",80),l()}if(n&2){let i=t.$implicit,e=y(2);Ue("bg-blue-50",e.selectedChartType===i),p(2),V(i==="pie"?"pie_chart":i==="bar"?"bar_chart":i==="line"?"show_chart":i==="area"?"area_chart":i==="radar"?"radar":i==="funnel"?"filter_alt":i==="scatter"?"scatter_plot":"grid_on"),p(2),V(i.charAt(0).toUpperCase()+i.slice(1)),p(),Oe(e.selectedChartType===i?5:-1)}}function iA(n,t){n&1&&(c(0,"mat-icon",81),g(1,"check"),l())}function rA(n,t){if(n&1){let i=ue();c(0,"button",38),R("click",function(){let r=j(i).$implicit,a=y(2);return z(a.onAnalyticsViewChange(r))}),c(1,"mat-icon",39),g(2),l(),c(3,"span",39),g(4),l(),L(5,iA,2,0,"mat-icon",81),l()}if(n&2){let i=t.$implicit,e=y(2);Ue("bg-green-50",e.selectedAnalyticsView===i),p(2),V(i==="overview"?"dashboard":i==="trends"?"trending_up":i==="categories"?"category":i==="accounts"?"account_balance":i==="comparison"?"compare":"timeline"),p(2),V(i.charAt(0).toUpperCase()+i.slice(1)),p(),Oe(e.selectedAnalyticsView===i?5:-1)}}function aA(n,t){if(n&1&&(c(0,"mat-option",97),g(1),l()),n&2){let i=t.$implicit;O("value",i.name),p(),V(i.name)}}function oA(n,t){if(n&1&&(c(0,"mat-option",97),g(1),l()),n&2){let i=t.$implicit;O("value",i.name),p(),V(i.name)}}function sA(n,t){if(n&1){let i=ue();c(0,"div",82)(1,"div",83)(2,"div",84)(3,"div",85)(4,"mat-icon",50),g(5,"filter_list"),l()(),c(6,"div")(7,"h3",86),g(8,"Quick Filters"),l(),c(9,"p",87),g(10,"Filter your financial data"),l()()(),c(11,"button",88),R("click",function(){j(i);let r=y(2);return z(r.toggleQuickFilters())}),c(12,"mat-icon"),g(13,"expand_less"),l()()(),c(14,"div",89)(15,"div")(16,"label",90),g(17,"Date Range"),l(),c(18,"mat-form-field",91)(19,"mat-select")(20,"mat-option",92),g(21,"Last 7 days"),l(),c(22,"mat-option",93),g(23,"Last 30 days"),l(),c(24,"mat-option",94),g(25,"Last 3 months"),l(),c(26,"mat-option",95),g(27,"Last year"),l()()()(),c(28,"div")(29,"label",90),g(30,"Category"),l(),c(31,"mat-form-field",91)(32,"mat-select")(33,"mat-option",96),g(34,"All Categories"),l(),qe(35,aA,2,2,"mat-option",97,_v),l()()(),c(37,"div")(38,"label",90),g(39,"Account"),l(),c(40,"mat-form-field",91)(41,"mat-select")(42,"mat-option",96),g(43,"All Accounts"),l(),qe(44,oA,2,2,"mat-option",97,_v),l()()(),c(46,"div")(47,"label",90),g(48,"Transaction Type"),l(),c(49,"mat-form-field",91)(50,"mat-select")(51,"mat-option",96),g(52,"All Types"),l(),c(53,"mat-option",98),g(54,"Income"),l(),c(55,"mat-option",99),g(56,"Expense"),l()()()()(),c(57,"div",100)(58,"button",101),R("click",function(){j(i);let r=y(2);return z(r.toggleQuickFilters())}),g(59," Cancel "),l(),c(60,"button",102),R("click",function(){j(i);let r=y(2);return z(r.applyFilters())}),g(61," Apply Filters "),l()()()}if(n&2){let i=y(2);p(35),Ke(i.categories),p(9),Ke(i.accounts)}}function cA(n,t){if(n&1){let i=ue();c(0,"div",103)(1,"button",104),R("click",function(){j(i);let r=y(2);return z(r.toggleQuickFilters())}),c(2,"mat-icon"),g(3,"filter_list"),l(),c(4,"span"),g(5,"Show Filters"),l()()()}}function lA(n,t){if(n&1&&(c(0,"div",89)(1,"div",105)(2,"div",106)(3,"div",18)(4,"p",107),g(5,"Avg Daily Spending"),l(),c(6,"p",108),g(7),l()(),c(8,"div",109)(9,"mat-icon",110),g(10,"schedule"),l()()()(),c(11,"div",111)(12,"div",106)(13,"div",18)(14,"p",112),g(15,"Avg Monthly Spending"),l(),c(16,"p",113),g(17),l()(),c(18,"div",114)(19,"mat-icon",115),g(20,"calendar_month"),l()()()(),c(21,"div",116)(22,"div",106)(23,"div",18)(24,"p",117),g(25,"Savings Rate"),l(),c(26,"p",118),g(27),l()(),c(28,"div",119)(29,"mat-icon",120),g(30,"trending_up"),l()()()(),c(31,"div",121)(32,"div",106)(33,"div",18)(34,"p",122),g(35,"Expense Growth"),l(),c(36,"p",123),g(37),l()(),c(38,"div",124)(39,"mat-icon",125),g(40,"analytics"),l()()()()()),n&2){let i=y(2);p(7),V(i.formatCurrency(i.averageDailySpending)),p(10),V(i.formatCurrency(i.averageMonthlySpending)),p(10),ee("",i.savingsRate.toFixed(1),"%"),p(9),O("ngClass",i.expenseGrowthRate>=0?"text-rose-600":"text-green-600"),p(),Wt(" ",i.expenseGrowthRate>=0?"+":"","",i.expenseGrowthRate.toFixed(1),"% ")}}function dA(n,t){if(n&1&&(c(0,"div",60)(1,"span",63),g(2),l(),c(3,"span",126),g(4),l()()),n&2){let i=t.$implicit,e=y(2);p(2),V(i.month),p(2),V(e.formatCurrency(i.savings))}}function gA(n,t){if(n&1){let i=ue();c(0,"div",82)(1,"div",83)(2,"div",84)(3,"div",127)(4,"mat-icon",70),g(5,"file_download"),l()(),c(6,"div")(7,"h3",86),g(8,"Export Options"),l(),c(9,"p",87),g(10,"Export your financial reports"),l()()(),c(11,"button",88),R("click",function(){j(i);let r=y(2);return z(r.toggleExportOptions())}),c(12,"mat-icon"),g(13,"expand_less"),l()()(),c(14,"div",89)(15,"div")(16,"label",90),g(17,"Export Format"),l(),c(18,"mat-form-field",91)(19,"mat-select",128),ut("ngModelChange",function(r){j(i);let a=y(2);return gt(a.userPreferences.exportFormat,r)||(a.userPreferences.exportFormat=r),z(r)}),c(20,"mat-option",129),g(21,"PDF Report"),l(),c(22,"mat-option",130),g(23,"Excel Spreadsheet"),l(),c(24,"mat-option",131),g(25,"CSV Data"),l(),c(26,"mat-option",132),g(27,"JSON Data"),l()()()(),c(28,"div")(29,"label",90),g(30,"Date Range"),l(),c(31,"mat-form-field",91)(32,"mat-select")(33,"mat-option",133),g(34,"Current Month"),l(),c(35,"mat-option",134),g(36,"Last 3 Months"),l(),c(37,"mat-option",135),g(38,"Last 6 Months"),l(),c(39,"mat-option",136),g(40,"Last 12 Months"),l(),c(41,"mat-option",137),g(42,"Custom Range"),l()()()(),c(43,"div")(44,"label",90),g(45,"Include Charts"),l(),c(46,"mat-slide-toggle",138),g(47,"Include Visualizations"),l()(),c(48,"div",139)(49,"button",140),R("click",function(){j(i);let r=y(2);return z(r.exportReport())}),c(50,"mat-icon",141),g(51,"download"),l(),g(52," Export Report "),l()()(),c(53,"div",100)(54,"button",101),R("click",function(){j(i);let r=y(2);return z(r.toggleExportOptions())}),g(55," Cancel "),l(),c(56,"button",142),R("click",function(){j(i);let r=y(2);return z(r.generateReport())}),c(57,"mat-icon",141),g(58,"description"),l(),g(59," Generate Report "),l()()()}if(n&2){let i=y(2);p(19),dt("ngModel",i.userPreferences.exportFormat)}}function uA(n,t){if(n&1){let i=ue();c(0,"div",103)(1,"button",104),R("click",function(){j(i);let r=y(2);return z(r.toggleExportOptions())}),c(2,"mat-icon"),g(3,"file_download"),l(),c(4,"span"),g(5,"Export Options"),l()()()}}function mA(n,t){if(n&1&&(c(0,"div",143),oe(1,"app-monthly-trends-card",14)(2,"app-category-breakdown-card",14),l()),n&2){let i=y(2);p(),O("config",i.monthlyTrendsConfig),p(),O("config",i.categoryBreakdownConfig)}}function pA(n,t){if(n&1){let i=ue();c(0,"div",144)(1,"div",145)(2,"mat-icon",146),g(3,"analytics"),l()(),c(4,"h4",147),g(5,"No Data Available"),l(),c(6,"p",148),g(7," Start adding transactions to see detailed reports and insights about your financial patterns. "),l(),c(8,"button",149),R("click",function(){j(i);let r=y(2);return z(r.addTransaction())}),c(9,"mat-icon"),g(10,"add"),l(),c(11,"span"),g(12,"Add Transaction"),l()()()}}function fA(n,t){if(n&1){let i=ue();c(0,"div",13),oe(1,"app-key-metrics-summary-card",14),c(2,"div",15)(3,"div",16)(4,"div",17)(5,"div",18)(6,"h2",19),g(7),l(),c(8,"p",20),g(9,"Interactive financial visualization"),l()(),c(10,"div",21)(11,"mat-button-toggle-group",22),R("change",function(r){j(i);let a=y();return z(a.onPeriodChange(r.value))}),c(12,"mat-button-toggle",23),g(13,"D"),l(),c(14,"mat-button-toggle",24),g(15,"W"),l(),c(16,"mat-button-toggle",25),g(17,"M"),l(),c(18,"mat-button-toggle",26),g(19,"Y"),l()(),c(20,"button",27)(21,"mat-icon"),g(22),l()(),c(23,"mat-menu",28,0)(25,"div",29)(26,"div",30),g(27,"Chart Type"),l(),qe(28,nA,6,5,"button",31,Or),l()(),c(30,"button",32)(31,"mat-icon"),g(32,"analytics"),l()(),c(33,"mat-menu",33,1)(35,"div",29)(36,"div",30),g(37,"Analytics View"),l(),qe(38,rA,6,5,"button",34,Or),l()(),c(40,"button",35),R("click",function(){j(i);let r=y();return z(r.toggleAdvancedAnalytics())}),c(41,"mat-icon"),g(42),l()(),c(43,"button",36)(44,"mat-icon"),g(45,"more_vert"),l()(),c(46,"mat-menu",37,2)(48,"button",38),R("click",function(){j(i);let r=y();return z(r.openPreferencesDialog())}),c(49,"mat-icon",39),g(50,"settings"),l(),c(51,"span",39),g(52,"Preferences"),l()(),c(53,"button",40),R("click",function(){j(i);let r=y();return z(r.refreshData())}),c(54,"mat-icon",39),g(55,"refresh"),l(),c(56,"span",39),g(57),l()(),c(58,"button",38),R("click",function(){j(i);let r=y();return z(r.toggleHelpTooltip())}),c(59,"mat-icon",39),g(60,"help_outline"),l(),c(61,"span",39),g(62,"Help"),l()(),oe(63,"mat-divider"),c(64,"button",38),R("click",function(){j(i);let r=y();return z(r.toggleQuickFilters())}),c(65,"mat-icon",39),g(66,"filter_list"),l(),c(67,"span",39),g(68),l()(),c(69,"button",38),R("click",function(){j(i);let r=y();return z(r.toggleExportOptions())}),c(70,"mat-icon",39),g(71,"file_download"),l(),c(72,"span",39),g(73),l()()()()()(),c(74,"div",41)(75,"div",42),oe(76,"div",43),l()()(),c(77,"div",44)(78,"div",45),oe(79,"app-analytics-summary-card",14),l(),c(80,"div",46)(81,"mat-card",47)(82,"div",41)(83,"div",48)(84,"div",18)(85,"h3",19),g(86,"Quick Actions"),l(),c(87,"p",20),g(88,"Common tasks"),l()(),c(89,"div",49)(90,"mat-icon",50),g(91,"bolt"),l()()(),c(92,"div",51)(93,"button",52),R("click",function(){j(i);let r=y();return z(r.addTransaction())}),c(94,"mat-icon",53),g(95,"add"),l(),g(96," Add Transaction "),l(),c(97,"button",52),R("click",function(){j(i);let r=y();return z(r.exportReport())}),c(98,"mat-icon",53),g(99,"file_download"),l(),g(100," Export Report "),l(),c(101,"button",54),R("click",function(){j(i);let r=y();return z(r.refreshData())}),c(102,"mat-icon",53),g(103,"refresh"),l(),g(104),l(),c(105,"button",52),R("click",function(){j(i);let r=y();return z(r.toggleQuickFilters())}),c(106,"mat-icon",53),g(107,"filter_list"),l(),g(108),l(),c(109,"button",52),R("click",function(){j(i);let r=y();return z(r.openPreferencesDialog())}),c(110,"mat-icon",53),g(111,"settings"),l(),g(112," Preferences "),l()()()()()(),L(113,sA,62,0,"div",55)(114,cA,6,0,"div",56)(115,lA,41,6,"div",57),c(116,"div",58)(117,"mat-card",15)(118,"div",41)(119,"div",48)(120,"div",18)(121,"h3",19),g(122,"Spending Overview"),l(),c(123,"p",20),g(124,"Your financial summary"),l()(),c(125,"div",49)(126,"mat-icon",50),g(127,"pie_chart"),l()()(),c(128,"div",59)(129,"div",60)(130,"div",61),oe(131,"div",62),c(132,"span",63),g(133,"Total Income"),l()(),c(134,"span",64),g(135),l()(),c(136,"div",60)(137,"div",61),oe(138,"div",65),c(139,"span",63),g(140,"Total Expenses"),l()(),c(141,"span",66),g(142),l()(),c(143,"div",60)(144,"div",61),oe(145,"div",67),c(146,"span",63),g(147,"Net Savings"),l()(),c(148,"span",68),g(149),l()()()()(),c(150,"mat-card",15)(151,"div",41)(152,"div",48)(153,"div",18)(154,"h3",19),g(155,"Monthly Trends"),l(),c(156,"p",20),g(157,"Compare monthly performance"),l()(),c(158,"div",69)(159,"mat-icon",70),g(160,"trending_up"),l()()(),c(161,"div",59),qe(162,dA,5,2,"div",60,J6),c(164,"div",71)(165,"span",72),g(166,"Change"),l(),c(167,"span",64),g(168),l()()()()(),oe(169,"app-top-categories-card",14)(170,"app-recent-activity-card",14),l(),L(171,gA,60,1,"div",55)(172,uA,6,0,"div",56),c(173,"mat-card",15)(174,"div",41)(175,"div",73)(176,"div",18)(177,"h3",74),g(178,"Detailed Analysis"),l(),c(179,"p",20),g(180,"Deep dive into your financial data"),l()(),c(181,"div",75)(182,"button",76),R("click",function(){j(i);let r=y();return z(r.onPeriodChange("daily"))}),g(183," Daily "),l(),c(184,"button",76),R("click",function(){j(i);let r=y();return z(r.onPeriodChange("weekly"))}),g(185," Weekly "),l(),c(186,"button",77),R("click",function(){j(i);let r=y();return z(r.onPeriodChange("monthly"))}),g(187," Monthly "),l(),c(188,"button",76),R("click",function(){j(i);let r=y();return z(r.onPeriodChange("yearly"))}),g(189," Yearly "),l()()(),L(190,mA,3,2,"div",78)(191,pA,13,0,"div",79),l()()()}if(n&2){let i=wn(24),e=wn(34),r=wn(47),a=y();p(),O("config",a.keyMetricsConfig),p(6),V(a.getChartTitle()),p(4),O("value",a.selectedPeriod),p(9),O("matMenuTriggerFor",i),p(2),V(a.selectedChartType==="pie"?"pie_chart":a.selectedChartType==="bar"?"bar_chart":a.selectedChartType==="line"?"show_chart":a.selectedChartType==="area"?"area_chart":a.selectedChartType==="radar"?"radar":a.selectedChartType==="funnel"?"filter_alt":a.selectedChartType==="scatter"?"scatter_plot":"grid_on"),p(6),Ke(a.availableChartTypes),p(2),O("matMenuTriggerFor",e),p(8),Ke(a.availableAnalyticsViews),p(2),Ue("text-purple-600",a.showAdvancedAnalytics)("text-gray-600",!a.showAdvancedAnalytics),O("matTooltip",a.showAdvancedAnalytics?"Switch to Basic":"Switch to Advanced"),p(2),V(a.showAdvancedAnalytics?"visibility_off":"visibility"),p(),O("matMenuTriggerFor",r),p(10),O("disabled",a.isRefreshing),p(),Ue("animate-spin",a.isRefreshing),p(3),V(a.isRefreshing?"Refreshing...":"Refresh Data"),p(11),ee("",a.showQuickFilters?"Hide":"Show"," Filters"),p(5),ee("",a.showExportOptions?"Hide":"Show"," Export"),p(2),O("ngClass",a.getChartHeight()),p(),O("options",a.getCurrentChartOption()),p(3),O("config",a.analyticsSummaryConfig),p(22),O("disabled",a.isRefreshing),p(),Ue("animate-spin",a.isRefreshing),p(2),ee(" ",a.isRefreshing?"Refreshing...":"Refresh Data"," "),p(4),ee(" ",a.showQuickFilters?"Hide":"Show"," Filters "),p(5),O("ngIf",a.showQuickFilters),p(),O("ngIf",!a.showQuickFilters),p(),O("ngIf",a.showAdvancedAnalytics),p(20),V(a.formatCurrency(a.totalIncome)),p(7),V(a.formatCurrency(a.totalExpenses)),p(7),V(a.formatCurrency(a.netSavings)),p(13),Ke(a.monthlyTrends.slice(-2)),p(6),V(a.getMonthlyChangeDisplay()),p(),O("config",a.topCategoriesConfig),p(),O("config",a.recentActivityConfig),p(),O("ngIf",a.showExportOptions),p(),O("ngIf",!a.showExportOptions),p(10),Ue("bg-blue-50",a.selectedPeriod==="daily"),p(2),Ue("bg-blue-50",a.selectedPeriod==="weekly"),p(2),Ue("bg-blue-600",a.selectedPeriod==="monthly"),p(2),Ue("bg-blue-50",a.selectedPeriod==="yearly"),p(2),O("ngIf",a.hasData),p(),O("ngIf",!a.hasData)}}function hA(n,t){if(n&1&&(c(0,"mat-option",97),g(1),l()),n&2){let i=t.$implicit;O("value",i),p(),ee(" ",i.charAt(0).toUpperCase()+i.slice(1)," ")}}function _A(n,t){if(n&1&&(c(0,"mat-option",97),g(1),l()),n&2){let i=t.$implicit;O("value",i),p(),ee(" ",i.charAt(0).toUpperCase()+i.slice(1)," ")}}function xA(n,t){if(n&1){let i=ue();c(0,"div")(1,"label",90),g(2,"Email Frequency"),l(),c(3,"mat-form-field",91)(4,"mat-select",128),ut("ngModelChange",function(r){j(i);let a=y(2);return gt(a.userPreferences.emailFrequency,r)||(a.userPreferences.emailFrequency=r),z(r)}),c(5,"mat-option",160),g(6,"Daily"),l(),c(7,"mat-option",161),g(8,"Weekly"),l(),c(9,"mat-option",162),g(10,"Monthly"),l(),c(11,"mat-option",179),g(12,"Never"),l()()()()}if(n&2){let i=y(2);p(4),dt("ngModel",i.userPreferences.emailFrequency)}}function CA(n,t){if(n&1){let i=ue();c(0,"div",150)(1,"div",151)(2,"div",152)(3,"div",106)(4,"h2",153),g(5,"Analytics Preferences"),l(),c(6,"button",154),R("click",function(){j(i);let r=y();return z(r.closePreferencesDialog())}),c(7,"mat-icon"),g(8,"close"),l()()(),c(9,"p",155),g(10,"Customize your analytics dashboard experience"),l()(),c(11,"div",156)(12,"div",157)(13,"div")(14,"h3",158),g(15,"Default Settings"),l(),c(16,"div",159)(17,"div")(18,"label",90),g(19,"Default Chart Type"),l(),c(20,"mat-form-field",91)(21,"mat-select",128),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.userPreferences.defaultChartType,r)||(a.userPreferences.defaultChartType=r),z(r)}),qe(22,hA,2,2,"mat-option",97,Or),l()()(),c(24,"div")(25,"label",90),g(26,"Default Analytics View"),l(),c(27,"mat-form-field",91)(28,"mat-select",128),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.userPreferences.defaultAnalyticsView,r)||(a.userPreferences.defaultAnalyticsView=r),z(r)}),qe(29,_A,2,2,"mat-option",97,Or),l()()(),c(31,"div")(32,"label",90),g(33,"Default Period"),l(),c(34,"mat-form-field",91)(35,"mat-select",128),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.userPreferences.defaultPeriod,r)||(a.userPreferences.defaultPeriod=r),z(r)}),c(36,"mat-option",160),g(37,"Daily"),l(),c(38,"mat-option",161),g(39,"Weekly"),l(),c(40,"mat-option",162),g(41,"Monthly"),l(),c(42,"mat-option",163),g(43,"Yearly"),l()()()()()(),c(44,"div")(45,"h3",158),g(46,"Display Options"),l(),c(47,"div",159)(48,"div")(49,"label",90),g(50,"Chart Height"),l(),c(51,"mat-form-field",91)(52,"mat-select",128),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.userPreferences.chartHeight,r)||(a.userPreferences.chartHeight=r),z(r)}),c(53,"mat-option",164),g(54,"Small"),l(),c(55,"mat-option",165),g(56,"Medium"),l(),c(57,"mat-option",166),g(58,"Large"),l()()()(),c(59,"div")(60,"label",90),g(61,"Currency Format"),l(),c(62,"mat-form-field",91)(63,"mat-select",128),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.userPreferences.currencyFormat,r)||(a.userPreferences.currencyFormat=r),z(r)}),c(64,"mat-option",167),g(65,"Indian Rupee (\u20B9)"),l(),c(66,"mat-option",168),g(67,"US Dollar ($)"),l(),c(68,"mat-option",169),g(69,"Euro (\u20AC)"),l()()()(),c(70,"div")(71,"label",90),g(72,"Date Format"),l(),c(73,"mat-form-field",91)(74,"mat-select",128),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.userPreferences.dateFormat,r)||(a.userPreferences.dateFormat=r),z(r)}),c(75,"mat-option",170),g(76,"DD/MM/YYYY"),l(),c(77,"mat-option",171),g(78,"MM/DD/YYYY"),l(),c(79,"mat-option",172),g(80,"YYYY-MM-DD"),l()()()()()()(),c(81,"div")(82,"h3",158),g(83,"Chart Options"),l(),c(84,"div",157)(85,"div",159)(86,"mat-slide-toggle",173),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.userPreferences.showTooltips,r)||(a.userPreferences.showTooltips=r),z(r)}),g(87," Show Tooltips "),l(),c(88,"mat-slide-toggle",173),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.userPreferences.showAnimations,r)||(a.userPreferences.showAnimations=r),z(r)}),g(89," Show Animations "),l(),c(90,"mat-slide-toggle",173),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.userPreferences.showAdvancedAnalytics,r)||(a.userPreferences.showAdvancedAnalytics=r),z(r)}),g(91," Show Advanced Analytics "),l()(),c(92,"div",159)(93,"div")(94,"label",90),g(95,"Refresh Interval (minutes)"),l(),c(96,"mat-form-field",91)(97,"input",174),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.userPreferences.refreshInterval,r)||(a.userPreferences.refreshInterval=r),z(r)}),l()()(),c(98,"div")(99,"label",90),g(100,"Export Format"),l(),c(101,"mat-form-field",91)(102,"mat-select",128),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.userPreferences.exportFormat,r)||(a.userPreferences.exportFormat=r),z(r)}),c(103,"mat-option",129),g(104,"PDF"),l(),c(105,"mat-option",130),g(106,"Excel"),l(),c(107,"mat-option",131),g(108,"CSV"),l(),c(109,"mat-option",132),g(110,"JSON"),l()()()()()()(),c(111,"div")(112,"h3",158),g(113,"Email Reports"),l(),c(114,"div",157)(115,"mat-slide-toggle",173),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.userPreferences.emailReports,r)||(a.userPreferences.emailReports=r),z(r)}),g(116," Enable Email Reports "),l(),L(117,xA,13,1,"div",175),l()()(),c(118,"div",176)(119,"button",177),R("click",function(){j(i);let r=y();return z(r.resetPreferences())}),g(120," Reset to Default "),l(),c(121,"div",178)(122,"button",101),R("click",function(){j(i);let r=y();return z(r.closePreferencesDialog())}),g(123," Cancel "),l(),c(124,"button",102),R("click",function(){j(i);let r=y();return r.savePreferences(),z(r.closePreferencesDialog())}),g(125," Save Preferences "),l()()()()()}if(n&2){let i=y();p(21),dt("ngModel",i.userPreferences.defaultChartType),p(),Ke(i.availableChartTypes),p(6),dt("ngModel",i.userPreferences.defaultAnalyticsView),p(),Ke(i.availableAnalyticsViews),p(6),dt("ngModel",i.userPreferences.defaultPeriod),p(17),dt("ngModel",i.userPreferences.chartHeight),p(11),dt("ngModel",i.userPreferences.currencyFormat),p(11),dt("ngModel",i.userPreferences.dateFormat),p(12),dt("ngModel",i.userPreferences.showTooltips),p(2),dt("ngModel",i.userPreferences.showAnimations),p(2),dt("ngModel",i.userPreferences.showAdvancedAnalytics),p(7),dt("ngModel",i.userPreferences.refreshInterval),p(5),dt("ngModel",i.userPreferences.exportFormat),p(13),dt("ngModel",i.userPreferences.emailReports),p(2),O("ngIf",i.userPreferences.emailReports)}}function bA(n,t){if(n&1){let i=ue();c(0,"div",150)(1,"div",180)(2,"div",152)(3,"div",106)(4,"h2",153),g(5,"Analytics Help"),l(),c(6,"button",154),R("click",function(){j(i);let r=y();return z(r.toggleHelpTooltip())}),c(7,"mat-icon"),g(8,"close"),l()()()(),c(9,"div",181)(10,"div")(11,"h3",11),g(12,"Chart Types"),l(),c(13,"div",182)(14,"p")(15,"strong"),g(16,"Pie Chart:"),l(),g(17," Shows spending breakdown by category"),l(),c(18,"p")(19,"strong"),g(20,"Bar Chart:"),l(),g(21," Displays monthly financial trends"),l(),c(22,"p")(23,"strong"),g(24,"Line Chart:"),l(),g(25," Shows trends over time with smooth curves"),l(),c(26,"p")(27,"strong"),g(28,"Area Chart:"),l(),g(29," Displays daily spending patterns"),l(),c(30,"p")(31,"strong"),g(32,"Radar Chart:"),l(),g(33," Compares category performance"),l(),c(34,"p")(35,"strong"),g(36,"Funnel Chart:"),l(),g(37," Shows spending funnel analysis"),l(),c(38,"p")(39,"strong"),g(40,"Scatter Chart:"),l(),g(41," Shows income vs expenses correlation"),l(),c(42,"p")(43,"strong"),g(44,"Heatmap:"),l(),g(45," Displays weekly spending patterns"),l()()(),c(46,"div")(47,"h3",11),g(48,"Analytics Views"),l(),c(49,"div",182)(50,"p")(51,"strong"),g(52,"Overview:"),l(),g(53," General financial summary"),l(),c(54,"p")(55,"strong"),g(56,"Trends:"),l(),g(57," Historical data analysis"),l(),c(58,"p")(59,"strong"),g(60,"Categories:"),l(),g(61," Category-wise breakdown"),l(),c(62,"p")(63,"strong"),g(64,"Accounts:"),l(),g(65," Account-specific data"),l(),c(66,"p")(67,"strong"),g(68,"Comparison:"),l(),g(69," Period-over-period analysis"),l(),c(70,"p")(71,"strong"),g(72,"Forecast:"),l(),g(73," Future predictions"),l()()(),c(74,"div")(75,"h3",11),g(76,"Tips"),l(),c(77,"div",182)(78,"p"),g(79,"\u2022 Use different chart types to view data from various perspectives"),l(),c(80,"p"),g(81,"\u2022 Switch between time periods to analyze trends"),l(),c(82,"p"),g(83,"\u2022 Enable advanced analytics for detailed insights"),l(),c(84,"p"),g(85,"\u2022 Customize preferences to match your workflow"),l(),c(86,"p"),g(87,"\u2022 Export reports for sharing or offline analysis"),l()()()(),c(88,"div",183)(89,"button",140),R("click",function(){j(i);let r=y();return z(r.toggleHelpTooltip())}),g(90," Got it! "),l()()()()}}var _m=(()=>{let t=class t{constructor(e,r,a,o,s,d){this.router=e,this.auth=r,this.notificationService=a,this.store=o,this.dateService=s,this.ssrService=d,this.totalIncome=0,this.totalExpenses=0,this.netSavings=0,this.monthlyChange=0,this.monthlyChangePercentage=0,this.keyMetricsConfig={title:"",subtitle:"",showHeaderIcon:!1,currency:"INR",showTrends:!0,showIcons:!0,showPeriod:!0,cardHeight:"medium",layout:"grid",columns:2,theme:"auto",animations:!0,clickable:!0,onMetricClick:u=>this.onMetricClick(u)},this.analyticsSummaryConfig={title:"Analytics Summary",subtitle:"Key insights and trends",currency:"INR",showHeaderIcon:!0,headerIcon:"insights",showFooter:!1,cardHeight:"medium",theme:"auto",animations:!0,clickable:!0,loading:!1,maxItems:{categoryTrends:3,spendingTrends:3,accountBalances:3},onCategoryClick:u=>this.onCategoryTrendClick(u),onSpendingClick:u=>this.onSpendingTrendClick(u),onAccountClick:u=>this.onAccountBalanceClick(u)},this.topCategoriesConfig={title:"Top Spending Categories",subtitle:"Your highest expense areas",currency:"INR",showHeaderIcon:!0,headerIcon:"category",headerIconColor:"purple",showFooter:!1,cardHeight:"medium",theme:"auto",animations:!0,clickable:!0,loading:!1,maxItems:5,period:"monthly",transactionType:"expense",onCategoryClick:u=>{console.log("Top category clicked:",u)},onRefresh:()=>{this.refreshData()}},this.recentActivityConfig={title:"Recent Activity",subtitle:"Latest transactions",currency:"INR",showHeaderIcon:!0,headerIcon:"schedule",headerIconColor:"orange",showFooter:!1,cardHeight:"medium",theme:"auto",animations:!0,clickable:!0,loading:!1,maxItems:5,period:"monthly",transactionType:"all",onTransactionClick:u=>{console.log("Transaction clicked:",u)},onRefresh:()=>{this.refreshData()}},this.monthlyTrendsConfig={title:"Monthly Trends",subtitle:"Compare monthly performance",currency:"INR",showHeaderIcon:!0,headerIcon:"trending_up",headerIconColor:"green",showFooter:!1,cardHeight:"medium",theme:"auto",animations:!0,clickable:!0,loading:!1,maxItems:6,period:"monthly",transactionType:"all",showIncome:!0,showExpenses:!0,showSavings:!0,showChange:!0,layout:"grid",onMonthClick:u=>{console.log("Month clicked:",u)},onRefresh:()=>{this.refreshData()}},this.categoryBreakdownConfig={title:"Category Breakdown",subtitle:"Spending by category",currency:"INR",showHeaderIcon:!0,headerIcon:"category",headerIconColor:"blue",showFooter:!1,cardHeight:"medium",theme:"auto",animations:!0,clickable:!0,loading:!1,maxItems:8,period:"monthly",transactionType:"expense",showProgressBar:!0,showPercentage:!0,showCount:!1,showAverage:!1,layout:"list",chartType:"bar",onCategoryClick:u=>{console.log("Category clicked:",u)},onRefresh:()=>{this.refreshData()}},this.quickActionsFabConfig={title:"Quick Actions",mainButtonIcon:"add",mainButtonColor:"primary",mainButtonTooltip:"Quick Actions",showLabels:!1,animations:!0,autoHide:!1,autoHideDelay:3e3,theme:"auto",actions:[{id:"add-transaction",label:"Add Transaction",icon:"receipt",color:"accent",tooltip:"Add Transaction"},{id:"export-report",label:"Export Report",icon:"file_download",color:"warn",tooltip:"Export Report"},{id:"refresh-data",label:"Refresh Data",icon:"refresh",color:"primary",tooltip:"Refresh Data",loading:!1}],onActionClick:u=>{switch(console.log("Quick action clicked:",u),u.id){case"add-transaction":this.addTransaction();break;case"export-report":this.exportReport();break;case"refresh-data":this.refreshData();break}},onMainButtonClick:()=>{console.log("Main FAB clicked")}},this.transactions=[],this.accounts=[],this.categories=[],this.topCategories=[],this.recentTransactions=[],this.monthlyTrends=[],this.dailyData=[],this.weeklyData=[],this.yearlyData=[],this.accountBalances=[],this.spendingTrends=[],this.categoryTrends=[],this.averageDailySpending=0,this.averageMonthlySpending=0,this.savingsRate=0,this.expenseGrowthRate=0,this.incomeGrowthRate=0,this.selectedPeriod="monthly",this.selectedChartType="pie",this.selectedAnalyticsView="overview",this.showAdvancedAnalytics=!1,this.availableChartTypes=["pie","bar","line","area","radar","funnel","scatter","heatmap"],this.availableAnalyticsViews=["overview","trends","categories","accounts","comparison","forecast"],this.isLoading=!0,this.hasData=!1,this.pieChartOption={},this.barChartOption={},this.lineChartOption={},this.areaChartOption={},this.radarChartOption={},this.funnelChartOption={},this.scatterChartOption={},this.heatmapChartOption={},this.isDarkMode=!1,this.userPreferences={defaultChartType:"pie",defaultAnalyticsView:"overview",defaultPeriod:"monthly",showAdvancedAnalytics:!1,chartHeight:"medium",refreshInterval:5,currencyFormat:"INR",dateFormat:"DD/MM/YYYY",theme:"auto",showTooltips:!0,showAnimations:!0,exportFormat:"pdf",emailReports:!1,emailFrequency:"never"},this.showPreferencesDialog=!1,this.showQuickFilters=!1,this.showExportOptions=!1,this.showHelpTooltip=!1,this.showQuickActions=!1,this.isRefreshing=!1,this.subscriptions=[],this.transactions$=this.store.select(En),this.accounts$=this.store.select(Ta),this.categories$=this.store.select(gn),this.transactionsLoading$=this.store.select(ra),this.accountsLoading$=this.store.select(nu),this.categoriesLoading$=this.store.select(Ir)}ngOnInit(){this.loadPreferences(),this.detectTheme(),this.loadData()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadData(){if(!this.auth.currentUser){this.isLoading=!1,this.notificationService.error("User not authenticated");return}let r=this.transactions$.subscribe(s=>{this.transactions=s,this.calculateFinancialMetrics(),this.calculateTopCategories(),this.getRecentTransactions(),this.calculateMonthlyTrends(),this.calculateEnhancedAnalytics(),this.updateCharts(),this.isLoading=!1,this.hasData=this.transactions.length>0}),a=this.accounts$.subscribe(s=>{this.accounts=s}),o=this.categories$.subscribe(s=>{this.categories=s});this.subscriptions.push(r,a,o)}calculateFinancialMetrics(){let e=new Date,r=e.getMonth(),a=e.getFullYear(),o=r===0?11:r-1,s=r===0?a-1:a,d=this.transactions.filter(x=>{let v=this.dateService.toDate(x.date);return(v==null?void 0:v.getMonth())===r&&(v==null?void 0:v.getFullYear())===a}),u=this.transactions.filter(x=>{let v=this.dateService.toDate(x.date);return(v==null?void 0:v.getMonth())===o&&(v==null?void 0:v.getFullYear())===s});this.totalIncome=d.filter(x=>x.type==="income").reduce((x,v)=>x+v.amount,0),this.totalExpenses=d.filter(x=>x.type==="expense").reduce((x,v)=>x+v.amount,0),this.netSavings=this.totalIncome-this.totalExpenses;let m=u.filter(x=>x.type==="income").reduce((x,v)=>x+v.amount,0),f=u.filter(x=>x.type==="expense").reduce((x,v)=>x+v.amount,0),_=m-f;this.monthlyChange=this.netSavings-_,this.monthlyChangePercentage=_!==0?this.monthlyChange/_*100:0}calculateTopCategories(){let e=new Date().getMonth(),r=new Date().getFullYear(),a=this.transactions.filter(d=>{let u=this.dateService.toDate(d.date);return d.type==="expense"&&(u==null?void 0:u.getMonth())===e&&(u==null?void 0:u.getFullYear())===r}),o=new Map;a.forEach(d=>{let u=o.get(d.categoryId)||0;o.set(d.categoryId,u+d.amount)});let s=this.totalExpenses;this.topCategories=Array.from(o.entries()).map(([d,u])=>{let m=this.categories.find(f=>f.id===d);return{category:(m==null?void 0:m.name)||"Unknown",amount:u,percentage:s>0?u/s*100:0,icon:(m==null?void 0:m.icon)||"category"}}).sort((d,u)=>u.amount-d.amount).slice(0,5)}getRecentTransactions(){this.recentTransactions=this.transactions.sort((e,r)=>{var a,o,s,d;return((o=(a=this.dateService.toDate(r.date))==null?void 0:a.getTime())!=null?o:0)-((d=(s=this.dateService.toDate(e.date))==null?void 0:s.getTime())!=null?d:0)}).slice(0,5)}calculateMonthlyTrends(){let e=new Date,r=[];for(let a=5;a>=0;a--){let o=new Date(e.getFullYear(),e.getMonth()-a,1),s=o.toLocaleDateString(Ut.LANGUAGE.DEFAULT,{month:"short"}),d=this.transactions.filter(f=>{let _=this.dateService.toDate(f.date);return(_==null?void 0:_.getMonth())===o.getMonth()&&(_==null?void 0:_.getFullYear())===o.getFullYear()}),u=d.filter(f=>f.type==="income").reduce((f,_)=>f+_.amount,0),m=d.filter(f=>f.type==="expense").reduce((f,_)=>f+_.amount,0);r.push({month:s,income:u,expenses:m,savings:u-m})}this.monthlyTrends=r}calculateEnhancedAnalytics(){this.calculateDailyData(),this.calculateWeeklyData(),this.calculateYearlyData(),this.calculateAccountBalances(),this.calculateSpendingTrends(),this.calculateCategoryTrends(),this.calculateGrowthRates(),this.populateAnalyticsSummary()}calculateDailyData(){let e=new Date,r=[];for(let a=29;a>=0;a--){let o=new Date(e.getTime()-a*24*60*60*1e3),s=o.toISOString().split("T")[0],d=this.transactions.filter(f=>{let _=this.dateService.toDate(f.date);return(_==null?void 0:_.toDateString())===o.toDateString()}),u=d.filter(f=>f.type==="income").reduce((f,_)=>f+_.amount,0),m=d.filter(f=>f.type==="expense").reduce((f,_)=>f+_.amount,0);r.push({date:s,income:u,expenses:m,savings:u-m})}this.dailyData=r}calculateWeeklyData(){let e=new Date,r=[];for(let a=11;a>=0;a--){let o=new Date(e.getTime()-a*7*24*60*60*1e3),s=new Date(o.getTime()+6*24*60*60*1e3),d=`Week ${Math.ceil((o.getTime()-new Date(o.getFullYear(),0,1).getTime())/(7*24*60*60*1e3))}`,u=this.transactions.filter(_=>{let x=this.dateService.toDate(_.date);return x&&x>=o&&x<=s}),m=u.filter(_=>_.type==="income").reduce((_,x)=>_+x.amount,0),f=u.filter(_=>_.type==="expense").reduce((_,x)=>_+x.amount,0);r.push({week:d,income:m,expenses:f,savings:m-f})}this.weeklyData=r}calculateYearlyData(){let e=new Date,r=[];for(let a=4;a>=0;a--){let o=e.getFullYear()-a,s=o.toString(),d=this.transactions.filter(f=>{let _=this.dateService.toDate(f.date);return(_==null?void 0:_.getFullYear())===o}),u=d.filter(f=>f.type==="income").reduce((f,_)=>f+_.amount,0),m=d.filter(f=>f.type==="expense").reduce((f,_)=>f+_.amount,0);r.push({year:s,income:u,expenses:m,savings:u-m})}this.yearlyData=r}calculateAccountBalances(){let e=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"];this.accountBalances=this.accounts.map((r,a)=>{let s=this.transactions.filter(d=>d.accountId===r.accountId).reduce((d,u)=>d+(u.type==="income"?u.amount:-u.amount),r.balance||0);return r.type==="loan"&&r.loanDetails&&(s=-(r.loanDetails.remainingBalance||0)),{account:r.name,balance:s,color:e[a%e.length]}})}calculateSpendingTrends(){let e=["Last 7 Days","Last 30 Days","Last 3 Months","Last 6 Months","Last Year"],r=[];e.forEach((a,o)=>{let s=[7,30,90,180,365][o],d=new Date,u=new Date(d.getTime()-s*24*60*60*1e3),f=this.transactions.filter(S=>{let w=this.dateService.toDate(S.date);return w&&w>=u&&w<=d}).filter(S=>S.type==="expense").reduce((S,w)=>S+w.amount,0),_=new Date(u.getTime()-s*24*60*60*1e3),v=this.transactions.filter(S=>{let w=this.dateService.toDate(S.date);return w&&w>=_&&w<u}).filter(S=>S.type==="expense").reduce((S,w)=>S+w.amount,0),b=f-v,M=v>0?b/v*100:0;r.push({period:a,amount:f,change:b,percentage:M})}),this.spendingTrends=r}calculateCategoryTrends(){let e=new Date,r=e.getMonth(),a=e.getFullYear(),o=r===0?11:r-1,s=r===0?a-1:a,d=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#EC4899","#84CC16"];this.categoryTrends=this.categories.map((u,m)=>{let _=this.transactions.filter(S=>{let w=this.dateService.toDate(S.date);return S.categoryId===u.id&&S.type==="expense"&&(w==null?void 0:w.getMonth())===r&&(w==null?void 0:w.getFullYear())===a}).reduce((S,w)=>S+w.amount,0),v=this.transactions.filter(S=>{let w=this.dateService.toDate(S.date);return S.categoryId===u.id&&S.type==="expense"&&(w==null?void 0:w.getMonth())===o&&(w==null?void 0:w.getFullYear())===s}).reduce((S,w)=>S+w.amount,0),b=_-v,M=v>0?b/v*100:0;return{category:u.name,currentAmount:_,previousAmount:v,change:b,percentage:M,color:d[m%d.length]}}).filter(u=>u.currentAmount>0||u.previousAmount>0).sort((u,m)=>Math.abs(m.change)-Math.abs(u.change)).slice(0,8)}calculateGrowthRates(){var m;let e=this.transactions.filter(f=>f.type==="expense").reduce((f,_)=>f+_.amount,0),r=this.transactions.length>0?Math.max(1,Math.ceil((new Date().getTime()-(((m=this.dateService.toDate(this.transactions[0].date))==null?void 0:m.getTime())||0))/(24*60*60*1e3))):30;this.averageDailySpending=e/r,this.averageMonthlySpending=this.averageDailySpending*30;let a=this.transactions.filter(f=>f.type==="income").reduce((f,_)=>f+_.amount,0);this.savingsRate=a>0?this.netSavings/a*100:0;let o=this.totalExpenses,s=this.transactions.filter(f=>{let _=this.dateService.toDate(f.date),x=new Date().getMonth()===0?11:new Date().getMonth()-1,v=new Date().getMonth()===0?new Date().getFullYear()-1:new Date().getFullYear();return f.type==="expense"&&(_==null?void 0:_.getMonth())===x&&(_==null?void 0:_.getFullYear())===v}).reduce((f,_)=>f+_.amount,0);this.expenseGrowthRate=s>0?(o-s)/s*100:0;let d=this.totalIncome,u=this.transactions.filter(f=>{let _=this.dateService.toDate(f.date),x=new Date().getMonth()===0?11:new Date().getMonth()-1,v=new Date().getMonth()===0?new Date().getFullYear()-1:new Date().getFullYear();return f.type==="income"&&(_==null?void 0:_.getMonth())===x&&(_==null?void 0:_.getFullYear())===v}).reduce((f,_)=>f+_.amount,0);this.incomeGrowthRate=u>0?(d-u)/u*100:0}populateAnalyticsSummary(){let e=this.categoryTrends.map(o=>({category:o.category,change:o.change,percentage:o.percentage,color:o.color,icon:"category"})),r=this.spendingTrends.map(o=>({period:o.period,amount:o.amount,change:o.change,percentage:o.percentage})),a=this.accountBalances.map(o=>({account:o.account,balance:o.balance,color:o.color,icon:"account_balance"}));this.analyticsSummaryConfig=de(ce({},this.analyticsSummaryConfig),{loading:!1})}onPeriodChange(e){this.selectedPeriod=e,this.notificationService.info(`Report period changed to ${e}`),console.log("Period changed to:",e),this.updateCharts()}onChartTypeChange(e){this.selectedChartType=e,this.notificationService.info(`Chart type changed to ${e}`),this.updateCharts()}onAnalyticsViewChange(e){this.selectedAnalyticsView=e,this.notificationService.info(`Analytics view changed to ${e}`),this.updateCharts()}toggleAdvancedAnalytics(){this.showAdvancedAnalytics=!this.showAdvancedAnalytics,this.userPreferences.showAdvancedAnalytics=this.showAdvancedAnalytics,this.savePreferences(),this.notificationService.info(this.showAdvancedAnalytics?"Advanced analytics enabled":"Advanced analytics disabled")}openPreferencesDialog(){this.showPreferencesDialog=!0}closePreferencesDialog(){this.showPreferencesDialog=!1}savePreferences(){localStorage.setItem("reports-preferences",JSON.stringify(this.userPreferences)),this.notificationService.success("Preferences saved successfully")}loadPreferences(){let e=localStorage.getItem("reports-preferences");e&&(this.userPreferences=ce(ce({},this.userPreferences),JSON.parse(e)),this.selectedChartType=this.userPreferences.defaultChartType,this.selectedAnalyticsView=this.userPreferences.defaultAnalyticsView,this.selectedPeriod=this.userPreferences.defaultPeriod,this.showAdvancedAnalytics=this.userPreferences.showAdvancedAnalytics)}resetPreferences(){this.userPreferences={defaultChartType:"pie",defaultAnalyticsView:"overview",defaultPeriod:"monthly",showAdvancedAnalytics:!1,chartHeight:"medium",refreshInterval:5,currencyFormat:"INR",dateFormat:"DD/MM/YYYY",theme:"auto",showTooltips:!0,showAnimations:!0,exportFormat:"pdf",emailReports:!1,emailFrequency:"never"},this.savePreferences(),this.notificationService.info("Preferences reset to default")}toggleQuickFilters(){this.showQuickFilters=!this.showQuickFilters}applyFilters(){this.notificationService.info("Filters applied successfully"),this.toggleQuickFilters(),this.refreshData()}toggleExportOptions(){this.showExportOptions=!this.showExportOptions}toggleHelpTooltip(){this.showHelpTooltip=!this.showHelpTooltip}toggleQuickActions(){this.showQuickActions=!this.showQuickActions}refreshData(){this.isRefreshing=!0,setTimeout(()=>{this.loadData(),this.isRefreshing=!1,this.notificationService.success("Data refreshed successfully")},1e3)}getChartHeight(){switch(this.userPreferences.chartHeight){case"small":return"h-48 sm:h-56";case"large":return"h-80 sm:h-96";default:return"h-64 sm:h-80"}}formatCurrencyWithPreference(e){switch(this.userPreferences.currencyFormat){case"USD":return`$${e.toLocaleString("en-US")}`;case"EUR":return`\u20AC${e.toLocaleString("de-DE")}`;default:return`\u20B9${e.toLocaleString("en-IN")}`}}exportReport(){try{console.log("Export report clicked"),this.notificationService.info("Export feature coming soon")}catch(e){console.error("Error exporting report:",e),this.notificationService.error("Failed to export report")}}generateReport(){try{console.log("Generate report clicked"),this.notificationService.info("Report generation feature coming soon")}catch(e){console.error("Error generating report:",e),this.notificationService.error("Failed to generate report")}}addTransaction(){this.router.navigate(["/dashboard/transaction-list/add-transaction"])}onMetricClick(e){switch(console.log("Metric clicked:",e),e.title){case"Total Income":break;case"Total Expenses":break;case"Net Savings":break;case"Monthly Change":break}}onCategoryTrendClick(e){console.log("Category trend clicked:",e),this.notificationService.info(`Category: ${e.category} - ${e.change>=0?"+":""}${e.percentage.toFixed(1)}%`)}onSpendingTrendClick(e){console.log("Spending trend clicked:",e),this.notificationService.info(`Period: ${e.period} - ${this.formatCurrency(e.amount)}`)}onAccountBalanceClick(e){console.log("Account balance clicked:",e),this.notificationService.info(`Account: ${e.account} - ${this.formatCurrency(e.balance)}`)}getMonthlyChangeDisplay(){return`${this.monthlyChange>=0?"+":""}${this.monthlyChangePercentage.toFixed(1)}%`}getMonthlyChangeColor(){return this.monthlyChange>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}getMonthlyChangeIcon(){return this.monthlyChange>=0?"trending_up":"trending_down"}formatCurrency(e){return`\u20B9${e.toLocaleString("en-IN")}`}getTransactionIcon(e){return e.type==="income"?"trending_up":"trending_down"}getTransactionColor(e){return e.type==="income"?"text-green-600":"text-red-600"}getCurrentChartOption(){switch(this.selectedChartType){case"pie":return this.pieChartOption;case"bar":return this.barChartOption;case"line":return this.lineChartOption;case"area":return this.areaChartOption;case"radar":return this.radarChartOption;case"funnel":return this.funnelChartOption;case"scatter":return this.scatterChartOption;case"heatmap":return this.heatmapChartOption;default:return this.pieChartOption}}getChartTitle(){switch(this.selectedChartType){case"pie":return"Spending by Category";case"bar":return"Monthly Financial Trends";case"line":return"Financial Trends Over Time";case"area":return"Daily Spending Patterns";case"radar":return"Category Performance Comparison";case"funnel":return"Spending Funnel Analysis";case"scatter":return"Income vs Expenses Correlation";case"heatmap":return"Weekly Spending Heatmap";default:return"Financial Analytics"}}initializePieChart(){if(this.topCategories.length===0){this.pieChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let e=this.topCategories.map(r=>({name:r.category,value:r.amount,itemStyle:{color:r.color}}));this.pieChartOption={title:{text:"Spending by Category",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"item",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"},formatter:r=>{let a=(r.value/this.totalExpenses*100).toFixed(1);return`${r.name}<br/>${this.formatCurrency(r.value)} (${a}%)`}},legend:{orient:"vertical",left:"left",top:"middle",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"}},series:[{name:"Spending",type:"pie",radius:["40%","70%"],center:["60%","50%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"18",fontWeight:"bold",color:this.isDarkMode?"#F9FAFB":"#333"}},labelLine:{show:!1},data:e}]}}initializeBarChart(){if(this.monthlyTrends.length===0){this.barChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let e=this.monthlyTrends.map(s=>s.month),r=this.monthlyTrends.map(s=>s.income),a=this.monthlyTrends.map(s=>s.expenses),o=this.monthlyTrends.map(s=>s.savings);this.barChartOption={title:{text:"Monthly Financial Trends",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"},formatter:s=>{let d=`${s[0].axisValue}<br/>`;return s.forEach(u=>{d+=`${u.marker} ${u.seriesName}: ${this.formatCurrency(u.value)}<br/>`}),d}},legend:{data:["Income","Expenses","Savings"],top:"bottom",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"}},grid:{left:"3%",right:"4%",bottom:"15%",top:"15%",containLabel:!0},xAxis:{type:"category",data:e,axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},yAxis:{type:"value",axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333",formatter:s=>this.formatCurrency(s)},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},series:[{name:"Income",type:"bar",data:r,itemStyle:{color:"#10B981"},emphasis:{itemStyle:{color:"#059669"}}},{name:"Expenses",type:"bar",data:a,itemStyle:{color:"#EF4444"},emphasis:{itemStyle:{color:"#DC2626"}}},{name:"Savings",type:"bar",data:o,itemStyle:{color:"#3B82F6"},emphasis:{itemStyle:{color:"#2563EB"}}}]}}initializeLineChart(){if(this.monthlyTrends.length===0){this.lineChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let e=this.monthlyTrends.map(s=>s.month),r=this.monthlyTrends.map(s=>s.income),a=this.monthlyTrends.map(s=>s.expenses),o=this.monthlyTrends.map(s=>s.savings);this.lineChartOption={title:{text:"Financial Trends Over Time",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"axis",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"}},legend:{data:["Income","Expenses","Savings"],top:"bottom",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"}},grid:{left:"3%",right:"4%",bottom:"15%",top:"15%",containLabel:!0},xAxis:{type:"category",data:e,axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},yAxis:{type:"value",axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333",formatter:s=>this.formatCurrency(s)},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},series:[{name:"Income",type:"line",data:r,smooth:!0,itemStyle:{color:"#10B981"},lineStyle:{color:"#10B981",width:3},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(16, 185, 129, 0.3)"},{offset:1,color:"rgba(16, 185, 129, 0.1)"}]}}},{name:"Expenses",type:"line",data:a,smooth:!0,itemStyle:{color:"#EF4444"},lineStyle:{color:"#EF4444",width:3},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(239, 68, 68, 0.3)"},{offset:1,color:"rgba(239, 68, 68, 0.1)"}]}}},{name:"Savings",type:"line",data:o,smooth:!0,itemStyle:{color:"#3B82F6"},lineStyle:{color:"#3B82F6",width:3},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(59, 130, 246, 0.3)"},{offset:1,color:"rgba(59, 130, 246, 0.1)"}]}}}]}}initializeAreaChart(){if(this.dailyData.length===0){this.areaChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let e=this.dailyData.map(o=>o.date),r=this.dailyData.map(o=>o.income),a=this.dailyData.map(o=>o.expenses);this.areaChartOption={title:{text:"Daily Spending Patterns",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"axis",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"}},legend:{data:["Income","Expenses"],top:"bottom",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"}},grid:{left:"3%",right:"4%",bottom:"15%",top:"15%",containLabel:!0},xAxis:{type:"category",data:e,axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},yAxis:{type:"value",axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333",formatter:o=>this.formatCurrency(o)},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},series:[{name:"Income",type:"line",stack:"Total",data:r,areaStyle:{color:"#10B981"},itemStyle:{color:"#10B981"}},{name:"Expenses",type:"line",stack:"Total",data:a,areaStyle:{color:"#EF4444"},itemStyle:{color:"#EF4444"}}]}}initializeRadarChart(){if(this.categoryTrends.length===0){this.radarChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let e=this.categoryTrends.map(o=>o.category),r=this.categoryTrends.map(o=>o.currentAmount),a=this.categoryTrends.map(o=>o.previousAmount);this.radarChartOption={title:{text:"Category Performance Comparison",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"}},legend:{data:["Current Month","Previous Month"],top:"bottom",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"}},radar:{indicator:e.map(o=>({name:o,max:Math.max(...r,...a)*1.2})),center:["50%","50%"],radius:"60%",axisName:{color:this.isDarkMode?"#F9FAFB":"#333"},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitArea:{show:!1}},series:[{name:"Category Performance",type:"radar",data:[{value:r,name:"Current Month",itemStyle:{color:"#3B82F6"},areaStyle:{color:"rgba(59, 130, 246, 0.3)"}},{value:a,name:"Previous Month",itemStyle:{color:"#10B981"},areaStyle:{color:"rgba(16, 185, 129, 0.3)"}}]}]}}initializeFunnelChart(){if(this.spendingTrends.length===0){this.funnelChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let e=this.spendingTrends.map(r=>({name:r.period,value:r.amount}));this.funnelChartOption={title:{text:"Spending Funnel Analysis",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"item",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"},formatter:r=>`${r.name}<br/>${this.formatCurrency(r.value)}`},series:[{name:"Spending",type:"funnel",left:"10%",top:60,width:"80%",height:"80%",min:0,max:Math.max(...e.map(r=>r.value)),minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside",color:this.isDarkMode?"#F9FAFB":"#333"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:this.isDarkMode?"#374151":"#FFFFFF",borderWidth:1},emphasis:{label:{fontSize:20}},data:e}]}}initializeScatterChart(){if(this.dailyData.length===0){this.scatterChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let e=this.dailyData.map((r,a)=>[a,r.expenses,r.income]);this.scatterChartOption={title:{text:"Income vs Expenses Correlation",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"item",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"},formatter:r=>`Day ${r.data[0]+1}<br/>Expenses: ${this.formatCurrency(r.data[1])}<br/>Income: ${this.formatCurrency(r.data[2])}`},xAxis:{type:"value",name:"Day",axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},yAxis:{type:"value",name:"Amount",axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333",formatter:r=>this.formatCurrency(r)},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},series:[{name:"Income vs Expenses",type:"scatter",data:e,symbolSize:8,itemStyle:{color:"#3B82F6"}}]}}initializeHeatmapChart(){if(this.dailyData.length===0){this.heatmapChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let e=this.dailyData.map((r,a)=>[Math.floor(a/7),a%7,r.expenses]);this.heatmapChartOption={title:{text:"Weekly Spending Heatmap",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{position:"top",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"},formatter:r=>{let a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return`Week ${r.data[0]+1}, ${a[r.data[1]]}<br/>${this.formatCurrency(r.data[2])}`}},grid:{height:"50%",top:"10%"},xAxis:{type:"category",data:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],splitArea:{show:!0},axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"}},yAxis:{type:"category",data:["Week 1","Week 2","Week 3","Week 4"],splitArea:{show:!0},axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"}},visualMap:{min:0,max:Math.max(...this.dailyData.map(r=>r.expenses)),calculable:!0,orient:"horizontal",left:"center",bottom:"15%",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"},inRange:{color:["#EBF8FF","#3B82F6"]}},series:[{name:"Spending",type:"heatmap",data:e,label:{show:!0,color:this.isDarkMode?"#F9FAFB":"#333"},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}updateCharts(){this.initializePieChart(),this.initializeBarChart(),this.initializeLineChart(),this.initializeAreaChart(),this.initializeRadarChart(),this.initializeFunnelChart(),this.initializeScatterChart(),this.initializeHeatmapChart()}detectTheme(){this.isDarkMode=document.documentElement.classList.contains("dark"),new MutationObserver(()=>{this.isDarkMode=document.documentElement.classList.contains("dark"),this.updateCharts()}).observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),this.ssrService.isClientSide()&&window.addEventListener("resize",()=>{setTimeout(()=>this.updateCharts(),100)})}};t.\u0275fac=function(r){return new(r||t)(W(on),W(Mt),W(Ct),W(mt),W(Vt),W(ia))},t.\u0275cmp=Le({type:t,selectors:[["app-reports"]],decls:5,vars:4,consts:[["chartTypeMenu","matMenu"],["analyticsViewMenu","matMenu"],["moreOptionsMenu","matMenu"],[1,"min-h-screen","bg-gray-50","dark:bg-gray-900"],["class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",4,"ngIf"],["class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-12"],[1,"text-center"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-blue-100","dark:bg-blue-900/20","rounded-full","mb-6"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6","space-y-6"],[3,"config"],[1,"bg-white","dark:bg-gray-800","shadow-lg","border-0","rounded-xl","overflow-hidden"],[1,"p-4","sm:p-6","border-b","border-gray-200","dark:border-gray-700","bg-gray-50","dark:bg-gray-700/50"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","gap-4"],[1,"flex-1","min-w-0"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","dark:text-white","truncate"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-1"],[1,"flex","items-center","space-x-2","compact-control-bar"],[1,"hidden","sm:flex",3,"change","value"],["value","daily",1,"text-xs"],["value","weekly",1,"text-xs"],["value","monthly",1,"text-xs"],["value","yearly",1,"text-xs"],["mat-icon-button","","matTooltip","Chart Type",1,"text-gray-600","dark:text-gray-400","hover:text-blue-600","dark:hover:text-blue-400",3,"matMenuTriggerFor"],[1,"chart-type-menu"],[1,"p-2"],[1,"text-xs","font-medium","text-gray-500","dark:text-gray-400","mb-2","px-3"],["mat-menu-item","",1,"flex","items-center","space-x-3",3,"bg-blue-50"],["mat-icon-button","","matTooltip","Analytics View",1,"text-gray-600","dark:text-gray-400","hover:text-green-600","dark:hover:text-green-400",3,"matMenuTriggerFor"],[1,"analytics-view-menu"],["mat-menu-item","",1,"flex","items-center","space-x-3",3,"bg-green-50"],["mat-icon-button","",1,"hover:text-purple-600","dark:hover:text-purple-400",3,"click","matTooltip"],["mat-icon-button","","matTooltip","More Options",1,"text-gray-600","dark:text-gray-400","hover:text-gray-800","dark:hover:text-gray-200",3,"matMenuTriggerFor"],[1,"more-options-menu"],["mat-menu-item","",1,"flex","items-center","space-x-3",3,"click"],[1,"text-sm"],["mat-menu-item","",1,"flex","items-center","space-x-3",3,"click","disabled"],[1,"p-4","sm:p-6"],[1,"w-full","chart-transition",3,"ngClass"],["echarts","",1,"w-full","h-full",3,"options"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2"],[1,"lg:col-span-1"],[1,"bg-white","dark:bg-gray-800","shadow-lg","border-0","rounded-xl","overflow-hidden","h-full"],[1,"flex","items-center","justify-between","mb-4","sm:mb-6"],[1,"bg-blue-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-blue-600","dark:text-blue-400"],[1,"space-y-3"],["mat-stroked-button","",1,"w-full","justify-start",3,"click"],[1,"mr-3"],["mat-stroked-button","",1,"w-full","justify-start",3,"click","disabled"],["class","bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6",4,"ngIf"],["class","flex justify-center",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-4","sm:gap-6","mb-8"],[1,"space-y-3","sm:space-y-4"],[1,"flex","justify-between","items-center","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg"],[1,"flex","items-center","space-x-3","min-w-0","flex-1"],[1,"w-3","h-3","bg-green-500","rounded-full","flex-shrink-0"],[1,"text-gray-700","dark:text-gray-300","truncate"],[1,"font-semibold","text-green-600","dark:text-green-400","ml-3","text-right"],[1,"w-3","h-3","bg-red-500","rounded-full","flex-shrink-0"],[1,"font-semibold","text-red-600","dark:text-red-400","ml-3","text-right"],[1,"w-3","h-3","bg-blue-500","rounded-full","flex-shrink-0"],[1,"font-semibold","text-blue-600","dark:text-blue-400","ml-3","text-right"],[1,"bg-green-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-green-600","dark:text-green-400"],[1,"flex","justify-between","items-center","p-3","bg-green-50","dark:bg-green-900/20","rounded-lg","border","border-green-200","dark:border-green-700"],[1,"text-gray-700","dark:text-gray-300"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","gap-4","mb-6","sm:mb-8"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"flex","flex-wrap","gap-2","justify-center","lg:justify-end"],["mat-stroked-button","",1,"px-3","sm:px-4","py-2","text-xs","sm:text-sm","border","border-gray-300","dark:border-gray-600","rounded-lg","hover:bg-gray-50","dark:hover:bg-gray-700","transition-colors",3,"click"],["mat-raised-button","","color","primary",1,"px-3","sm:px-4","py-2","text-xs","sm:text-sm","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow",3,"click"],["class","space-y-6",4,"ngIf"],["class","text-center py-12 sm:py-16",4,"ngIf"],[1,"text-blue-600","text-sm"],[1,"text-green-600","text-sm"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-lg","p-4","sm:p-6"],[1,"flex","items-center","justify-between","mb-6"],[1,"flex","items-center","space-x-3"],[1,"bg-blue-500/10","p-2","rounded-lg"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-600","dark:text-gray-400"],["mat-icon-button","",1,"text-gray-600","dark:text-gray-400","hover:text-gray-800","dark:hover:text-gray-200",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["appearance","fill",1,"w-full"],["value","7"],["value","30"],["value","90"],["value","365"],["value","all"],[3,"value"],["value","income"],["value","expense"],[1,"flex","justify-end","space-x-3","mt-6"],["mat-stroked-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"flex","justify-center"],["mat-stroked-button","",1,"flex","items-center","space-x-2","px-6","py-3",3,"click"],[1,"bg-gradient-to-br","from-orange-50","to-orange-100","dark:from-orange-900/20","dark:to-orange-800/20","rounded-xl","p-4","sm:p-6","border","border-orange-200","dark:border-orange-700"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-orange-600","dark:text-orange-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-orange-900","dark:text-orange-100","truncate"],[1,"bg-orange-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-orange-600","dark:text-orange-400","text-lg","sm:text-xl"],[1,"bg-gradient-to-br","from-indigo-50","to-indigo-100","dark:from-indigo-900/20","dark:to-indigo-800/20","rounded-xl","p-4","sm:p-6","border","border-indigo-200","dark:border-indigo-700"],[1,"text-sm","font-medium","text-indigo-600","dark:text-indigo-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-indigo-900","dark:text-indigo-100","truncate"],[1,"bg-indigo-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-indigo-600","dark:text-indigo-400","text-lg","sm:text-xl"],[1,"bg-gradient-to-br","from-emerald-50","to-emerald-100","dark:from-emerald-900/20","dark:to-emerald-800/20","rounded-xl","p-4","sm:p-6","border","border-emerald-200","dark:border-emerald-700"],[1,"text-sm","font-medium","text-emerald-600","dark:text-emerald-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-emerald-900","dark:text-emerald-100","truncate"],[1,"bg-emerald-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-emerald-600","dark:text-emerald-400","text-lg","sm:text-xl"],[1,"bg-gradient-to-br","from-rose-50","to-rose-100","dark:from-rose-900/20","dark:to-rose-800/20","rounded-xl","p-4","sm:p-6","border","border-rose-200","dark:border-rose-700"],[1,"text-sm","font-medium","text-rose-600","dark:text-rose-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-rose-900","dark:text-rose-100","truncate",3,"ngClass"],[1,"bg-rose-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-rose-600","dark:text-rose-400","text-lg","sm:text-xl"],[1,"font-semibold","text-gray-900","dark:text-white","ml-3","text-right"],[1,"bg-green-500/10","p-2","rounded-lg"],[3,"ngModelChange","ngModel"],["value","pdf"],["value","excel"],["value","csv"],["value","json"],["value","current"],["value","last3"],["value","last6"],["value","last12"],["value","custom"],[1,"w-full"],[1,"flex","items-end"],["mat-raised-button","","color","primary",1,"w-full",3,"click"],[1,"mr-2"],["mat-raised-button","","color","accent",3,"click"],[1,"space-y-6"],[1,"text-center","py-12","sm:py-16"],[1,"bg-gray-100","dark:bg-gray-700","w-20","h-20","sm:w-24","sm:h-24","rounded-full","flex","items-center","justify-center","mx-auto","mb-6"],[1,"text-gray-400","text-4xl","sm:text-5xl"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-900","dark:text-white","mb-3"],[1,"text-sm","sm:text-base","text-gray-600","dark:text-gray-400","mb-6","max-w-md","mx-auto"],["mat-raised-button","","color","primary",1,"flex","items-center","space-x-2","px-4","sm:px-6","py-3","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","mx-auto",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","max-w-4xl","w-full","max-h-[90vh]","overflow-y-auto"],[1,"p-6","border-b","border-gray-200","dark:border-gray-700"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],["mat-icon-button","",3,"click"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-2"],[1,"p-6","space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-4"],[1,"space-y-4"],["value","daily"],["value","weekly"],["value","monthly"],["value","yearly"],["value","small"],["value","medium"],["value","large"],["value","INR"],["value","USD"],["value","EUR"],["value","DD/MM/YYYY"],["value","MM/DD/YYYY"],["value","YYYY-MM-DD"],[1,"w-full",3,"ngModelChange","ngModel"],["matInput","","type","number","min","1","max","60",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"p-6","border-t","border-gray-200","dark:border-gray-700","flex","justify-between"],["mat-stroked-button","",1,"text-red-600","border-red-600","hover:bg-red-50",3,"click"],[1,"space-x-3"],["value","never"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","max-w-2xl","w-full"],[1,"p-6","space-y-4"],[1,"space-y-2","text-sm","text-gray-600","dark:text-gray-400"],[1,"p-6","border-t","border-gray-200","dark:border-gray-700"]],template:function(r,a){r&1&&(c(0,"div",3),L(1,eA,8,0,"div",4)(2,fA,192,48,"div",5)(3,CA,126,13,"div",6)(4,bA,91,0,"div",6),l()),r&2&&(p(),O("ngIf",a.isLoading),p(),O("ngIf",!a.isLoading),p(),O("ngIf",a.showPreferencesDialog),p(),O("ngIf",a.showHelpTooltip))},dependencies:[Zn,ct,Yt,rr,Bt,ks,Ss,li,Ri,El,Zt,dn,Qe,Di,Fi,Ii,_o,ho,xo,hu,_u,Ea,Fn,Aa,xu,Cu,fv,Zl,Ql,fm,hm],styles:['.chart-type-menu[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%], .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%], .more-options-menu[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]{padding:0}.chart-type-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%], .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%], .more-options-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{min-height:40px;height:40px;padding:0 16px}.chart-type-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover, .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover, .more-options-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover{background-color:#3b82f61a}.chart-type-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%], .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%], .more-options-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%]{background-color:#3b82f626}.mat-button-toggle-group[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden;border:1px solid #e5e7eb}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]{border:none;min-width:40px;height:36px}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]   .mat-button-toggle-label-content[_ngcontent-%COMP%]{padding:0 8px;font-size:12px;font-weight:500}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:not(.mat-button-toggle-checked){background-color:#fff;color:#6b7280}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:not(.mat-button-toggle-checked):hover{background-color:#f3f4f6}.dark[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]{border-color:#4b5563}.dark[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:not(.mat-button-toggle-checked){background-color:#374151;color:#d1d5db}.dark[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:not(.mat-button-toggle-checked):hover{background-color:#4b5563}.dark[_ngcontent-%COMP%]   .chart-type-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .more-options-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover{background-color:#3b82f633}.dark[_ngcontent-%COMP%]   .chart-type-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .more-options-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%]{background-color:#3b82f640}.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:36px;height:36px;line-height:36px}.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px}.chart-container[_ngcontent-%COMP%]{min-height:400px}.chart-container.small[_ngcontent-%COMP%]{min-height:300px}.chart-container.medium[_ngcontent-%COMP%]{min-height:400px}.chart-container.large[_ngcontent-%COMP%]{min-height:500px}@media (max-width: 640px){.mat-button-toggle-group[_ngcontent-%COMP%]{display:none!important}.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:32px;height:32px;line-height:32px}.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;line-height:18px}}.chart-transition[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.mat-menu-panel[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 10px 25px #00000026;border:1px solid #e5e7eb}.dark[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{border-color:#4b5563;box-shadow:0 10px 25px #0000004d}.mat-tooltip[_ngcontent-%COMP%]{font-size:12px;padding:4px 8px;border-radius:6px}.chart-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:200px}.chart-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #f3f4f6;border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.mat-card[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.mat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.mat-stroked-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.mat-stroked-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a}.mat-raised-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.mat-raised-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 8px 15px -3px #0000001a}.metric-card[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 25px 50px -12px #00000040}.chart-container[_ngcontent-%COMP%]{position:relative}.chart-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,#3b82f60d,#9333ea0d);border-radius:inherit;opacity:0;transition:opacity .3s ease-in-out;pointer-events:none}.chart-container[_ngcontent-%COMP%]:hover:before{opacity:1}.loading-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background:#ffffffe6;display:flex;align-items:center;justify-content:center;border-radius:inherit;z-index:10}@media (max-width: 768px){.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px}.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;line-height:16px}.metric-card[_ngcontent-%COMP%]:hover{transform:none}}.mat-focus-indicator[_ngcontent-%COMP%]{border-radius:8px}.dark[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]:hover{box-shadow:0 20px 25px -5px #0000004d,0 10px 10px -5px #0003}.dark[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]{background:#111827e6}']});let n=t;return n})();var u0={};u0.version="0.18.5";var $o=1200,ld=1252,yA=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],th={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},nh=function(n){yA.indexOf(n)!=-1&&(ld=th[0]=n)};function MA(){nh(1252)}var ro=function(n){$o=n,nh(n)};function ih(){ro(1200),MA()}function Yf(n){for(var t=[],i=0,e=n.length;i<e;++i)t[i]=n.charCodeAt(i);return t}function PA(n){for(var t=[],i=0;i<n.length>>1;++i)t[i]=String.fromCharCode(n.charCodeAt(2*i)+(n.charCodeAt(2*i+1)<<8));return t.join("")}function wy(n){for(var t=[],i=0;i<n.length>>1;++i)t[i]=String.fromCharCode(n.charCodeAt(2*i+1)+(n.charCodeAt(2*i)<<8));return t.join("")}var t0=function(n){var t=n.charCodeAt(0),i=n.charCodeAt(1);return t==255&&i==254?PA(n.slice(2)):t==254&&i==255?wy(n.slice(2)):t==65279?n.slice(1):n},xm=function(t){return String.fromCharCode(t)},xv=function(t){return String.fromCharCode(t)},Pn;var xi=null,Jd=!0,tc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function m0(n){for(var t="",i=0,e=0,r=0,a=0,o=0,s=0,d=0,u=0;u<n.length;)i=n.charCodeAt(u++),a=i>>2,e=n.charCodeAt(u++),o=(i&3)<<4|e>>4,r=n.charCodeAt(u++),s=(e&15)<<2|r>>6,d=r&63,isNaN(e)?s=d=64:isNaN(r)&&(d=64),t+=tc.charAt(a)+tc.charAt(o)+tc.charAt(s)+tc.charAt(d);return t}function va(n){var t="",i=0,e=0,r=0,a=0,o=0,s=0,d=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<n.length;)a=tc.indexOf(n.charAt(u++)),o=tc.indexOf(n.charAt(u++)),i=a<<2|o>>4,t+=String.fromCharCode(i),s=tc.indexOf(n.charAt(u++)),e=(o&15)<<4|s>>2,s!==64&&(t+=String.fromCharCode(e)),d=tc.indexOf(n.charAt(u++)),r=(s&3)<<6|d,d!==64&&(t+=String.fromCharCode(r));return t}var rn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),fs=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(t,i){return i?new Buffer(t,i):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function ic(n){return rn?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function Cv(n){return rn?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var Ca=function(t){return rn?fs(t,"binary"):t.split("").map(function(i){return i.charCodeAt(0)&255})};function zm(n){if(typeof ArrayBuffer>"u")return Ca(n);for(var t=new ArrayBuffer(n.length),i=new Uint8Array(t),e=0;e!=n.length;++e)i[e]=n.charCodeAt(e)&255;return t}function sc(n){if(Array.isArray(n))return n.map(function(e){return String.fromCharCode(e)}).join("");for(var t=[],i=0;i<n.length;++i)t[i]=String.fromCharCode(n[i]);return t.join("")}function OA(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}function rh(n){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(n instanceof ArrayBuffer)return rh(new Uint8Array(n));for(var t=new Array(n.length),i=0;i<n.length;++i)t[i]=n[i];return t}var gr=rn?function(n){return Buffer.concat(n.map(function(t){return Buffer.isBuffer(t)?t:fs(t)}))}:function(n){if(typeof Uint8Array<"u"){var t=0,i=0;for(t=0;t<n.length;++t)i+=n[t].length;var e=new Uint8Array(i),r=0;for(t=0,i=0;t<n.length;i+=r,++t)if(r=n[t].length,n[t]instanceof Uint8Array)e.set(n[t],i);else{if(typeof n[t]=="string")throw"wtf";e.set(new Uint8Array(n[t]),i)}return e}return[].concat.apply([],n.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function wA(n){for(var t=[],i=0,e=n.length+250,r=ic(n.length+255),a=0;a<n.length;++a){var o=n.charCodeAt(a);if(o<128)r[i++]=o;else if(o<2048)r[i++]=192|o>>6&31,r[i++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=n.charCodeAt(++a)&1023;r[i++]=240|o>>8&7,r[i++]=128|o>>2&63,r[i++]=128|s>>6&15|(o&3)<<4,r[i++]=128|s&63}else r[i++]=224|o>>12&15,r[i++]=128|o>>6&63,r[i++]=128|o&63;i>e&&(t.push(r.slice(0,i)),i=0,r=ic(65535),e=65530)}return t.push(r.slice(0,i)),gr(t)}var $r=/\u0000/g,n0=/[\u0001-\u0006]/g;function ad(n){for(var t="",i=n.length-1;i>=0;)t+=n.charAt(i--);return t}function ao(n,t){var i=""+n;return i.length>=t?i:hi("0",t-i.length)+i}function ah(n,t){var i=""+n;return i.length>=t?i:hi(" ",t-i.length)+i}function Tm(n,t){var i=""+n;return i.length>=t?i:i+hi(" ",t-i.length)}function SA(n,t){var i=""+Math.round(n);return i.length>=t?i:hi("0",t-i.length)+i}function kA(n,t){var i=""+n;return i.length>=t?i:hi("0",t-i.length)+i}var bv=Math.pow(2,32);function Jl(n,t){if(n>bv||n<-bv)return SA(n,t);var i=Math.round(n);return kA(i,t)}function Em(n,t){return t=t||0,n.length>=7+t&&(n.charCodeAt(t)|32)===103&&(n.charCodeAt(t+1)|32)===101&&(n.charCodeAt(t+2)|32)===110&&(n.charCodeAt(t+3)|32)===101&&(n.charCodeAt(t+4)|32)===114&&(n.charCodeAt(t+5)|32)===97&&(n.charCodeAt(t+6)|32)===108}var vv=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Tf=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function TA(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',n}var St={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},yv={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},EA={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Am(n,t,i){for(var e=n<0?-1:1,r=n*e,a=0,o=1,s=0,d=1,u=0,m=0,f=Math.floor(r);u<t&&(f=Math.floor(r),s=f*o+a,m=f*u+d,!(r-f<5e-8));)r=1/(r-f),a=o,o=s,d=u,u=m;if(m>t&&(u>t?(m=d,s=a):(m=u,s=o)),!i)return[0,e*s,m];var _=Math.floor(e*s/m);return[_,e*s-_*m,m]}function Ec(n,t,i){if(n>2958465||n<0)return null;var e=n|0,r=Math.floor(86400*(n-e)),a=0,o=[],s={D:e,T:r,u:86400*(n-e)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(e+=1462),s.u>.9999&&(s.u=0,++r==86400&&(s.T=r=0,++e,++s.D)),e===60)o=i?[1317,10,29]:[1900,2,29],a=3;else if(e===0)o=i?[1317,8,29]:[1900,1,0],a=6;else{e>60&&--e;var d=new Date(1900,0,1);d.setDate(d.getDate()+e-1),o=[d.getFullYear(),d.getMonth()+1,d.getDate()],a=d.getDay(),e<60&&(a=(a+6)%7),i&&(a=NA(d,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=r%60,r=Math.floor(r/60),s.M=r%60,r=Math.floor(r/60),s.H=r,s.q=a,s}var Sy=new Date(1899,11,31,0,0,0),AA=Sy.getTime(),IA=new Date(1900,2,1,0,0,0);function ky(n,t){var i=n.getTime();return t?i-=1461*24*60*60*1e3:n>=IA&&(i+=24*60*60*1e3),(i-(AA+(n.getTimezoneOffset()-Sy.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function oh(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function DA(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function FA(n){var t=n<0?12:11,i=oh(n.toFixed(12));return i.length<=t||(i=n.toPrecision(10),i.length<=t)?i:n.toExponential(5)}function RA(n){var t=oh(n.toFixed(11));return t.length>(n<0?12:11)||t==="0"||t==="-0"?n.toPrecision(6):t}function p0(n){var t=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),i;return t>=-4&&t<=-1?i=n.toPrecision(10+t):Math.abs(t)<=9?i=FA(n):t===10?i=n.toFixed(10).substr(0,12):i=RA(n),oh(DA(i.toUpperCase()))}function Rc(n,t){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):p0(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return $a(14,ky(n,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+n)}function NA(n,t){t[0]-=581;var i=n.getDay();return n<60&&(i=(i+6)%7),i}function LA(n,t,i,e){var r="",a=0,o=0,s=i.y,d,u=0;switch(n){case 98:s=i.y+543;case 121:switch(t.length){case 1:case 2:d=s%100,u=2;break;default:d=s%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:d=i.m,u=t.length;break;case 3:return Tf[i.m-1][1];case 5:return Tf[i.m-1][0];default:return Tf[i.m-1][2]}break;case 100:switch(t.length){case 1:case 2:d=i.d,u=t.length;break;case 3:return vv[i.q][0];default:return vv[i.q][1]}break;case 104:switch(t.length){case 1:case 2:d=1+(i.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:d=i.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:d=i.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return i.u===0&&(t=="s"||t=="ss")?ao(i.S,t.length):(e>=2?o=e===3?1e3:100:o=e===1?10:1,a=Math.round(o*(i.S+i.u)),a>=60*o&&(a=0),t==="s"?a===0?"0":""+a/o:(r=ao(a,2+e),t==="ss"?r.substr(0,2):"."+r.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":d=i.D*24+i.H;break;case"[m]":case"[mm]":d=(i.D*24+i.H)*60+i.M;break;case"[s]":case"[ss]":d=((i.D*24+i.H)*60+i.M)*60+Math.round(i.S+i.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:d=s,u=1;break}var m=u>0?ao(d,u):"";return m}function nc(n){var t=3;if(n.length<=t)return n;for(var i=n.length%t,e=n.substr(0,i);i!=n.length;i+=t)e+=(e.length>0?",":"")+n.substr(i,t);return e}var Ty=/%/g;function BA(n,t,i){var e=t.replace(Ty,""),r=t.length-e.length;return gs(n,e,i*Math.pow(10,2*r))+hi("%",r)}function VA(n,t,i){for(var e=t.length-1;t.charCodeAt(e-1)===44;)--e;return gs(n,t.substr(0,e),i/Math.pow(10,3*(t.length-e)))}function Ey(n,t){var i,e=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Ey(n,-t);var r=n.indexOf(".");r===-1&&(r=n.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%r;if(a<0&&(a+=r),i=(t/Math.pow(10,a)).toPrecision(e+1+(r+a)%r),i.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(i.indexOf(".")===-1?i=i.charAt(0)+"."+i.substr(1)+"E+"+(o-i.length+a):i+="E+"+(o-a);i.substr(0,2)==="0.";)i=i.charAt(0)+i.substr(2,r)+"."+i.substr(2+r),i=i.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");i=i.replace(/\+-/,"-")}i=i.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,d,u,m){return d+u+m.substr(0,(r+a)%r)+"."+m.substr(a)+"E"})}else i=t.toExponential(e);return n.match(/E\+00$/)&&i.match(/e[+-]\d$/)&&(i=i.substr(0,i.length-1)+"0"+i.charAt(i.length-1)),n.match(/E\-/)&&i.match(/e\+/)&&(i=i.replace(/e\+/,"e")),i.replace("e","E")}var Ay=/# (\?+)( ?)\/( ?)(\d+)/;function $A(n,t,i){var e=parseInt(n[4],10),r=Math.round(t*e),a=Math.floor(r/e),o=r-a*e,s=e;return i+(a===0?"":""+a)+" "+(o===0?hi(" ",n[1].length+1+n[4].length):ah(o,n[1].length)+n[2]+"/"+n[3]+ao(s,n[4].length))}function jA(n,t,i){return i+(t===0?"":""+t)+hi(" ",n[1].length+2+n[4].length)}var Iy=/^#*0*\.([0#]+)/,Dy=/\).*[0#]/,Fy=/\(###\) ###\\?-####/;function Xr(n){for(var t="",i,e=0;e!=n.length;++e)switch(i=n.charCodeAt(e)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(i)}return t}function Mv(n,t){var i=Math.pow(10,t);return""+Math.round(n*i)/i}function Pv(n,t){var i=n-Math.floor(n),e=Math.pow(10,t);return t<(""+Math.round(i*e)).length?0:Math.round(i*e)}function zA(n,t){return t<(""+Math.round((n-Math.floor(n))*Math.pow(10,t))).length?1:0}function YA(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Fa(n,t,i){if(n.charCodeAt(0)===40&&!t.match(Dy)){var e=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return i>=0?Fa("n",e,i):"("+Fa("n",e,-i)+")"}if(t.charCodeAt(t.length-1)===44)return VA(n,t,i);if(t.indexOf("%")!==-1)return BA(n,t,i);if(t.indexOf("E")!==-1)return Ey(t,i);if(t.charCodeAt(0)===36)return"$"+Fa(n,t.substr(t.charAt(1)==" "?2:1),i);var r,a,o,s,d=Math.abs(i),u=i<0?"-":"";if(t.match(/^00+$/))return u+Jl(d,t.length);if(t.match(/^[#?]+$/))return r=Jl(i,0),r==="0"&&(r=""),r.length>t.length?r:Xr(t.substr(0,t.length-r.length))+r;if(a=t.match(Ay))return $A(a,d,u);if(t.match(/^#+0+$/))return u+Jl(d,t.length-t.indexOf("0"));if(a=t.match(Iy))return r=Mv(i,a[1].length).replace(/^([^\.]+)$/,"$1."+Xr(a[1])).replace(/\.$/,"."+Xr(a[1])).replace(/\.(\d*)$/,function(v,b){return"."+b+hi("0",Xr(a[1]).length-b.length)}),t.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+Mv(d,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+nc(Jl(d,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return i<0?"-"+Fa(n,t,-i):nc(""+(Math.floor(i)+zA(i,a[1].length)))+"."+ao(Pv(i,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Fa(n,t.replace(/^#,#*,/,""),i);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=ad(Fa(n,t.replace(/[\\-]/g,""),i)),o=0,ad(ad(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<r.length?r.charAt(o++):v==="0"?"0":""}));if(t.match(Fy))return r=Fa(n,"##########",i),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var m="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=Am(d,Math.pow(10,o)-1,!1),r=""+u,m=gs("n",a[1],s[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),r+=m+a[2]+"/"+a[3],m=Tm(s[2],o),m.length<a[4].length&&(m=Xr(a[4].substr(a[4].length-m.length))+m),r+=m,r;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=Am(d,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?ah(s[1],o)+a[2]+"/"+a[3]+Tm(s[2],o):hi(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return r=Jl(i,0),t.length<=r.length?r:Xr(t.substr(0,t.length-r.length))+r;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){r=""+i.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var f=t.indexOf(".")-o,_=t.length-r.length-f;return Xr(t.substr(0,f)+r+t.substr(t.length-_))}if(a=t.match(/^00,000\.([#0]*0)$/))return o=Pv(i,a[1].length),i<0?"-"+Fa(n,t,-i):nc(YA(i)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ao(0,3-v.length):"")+v})+"."+ao(o,a[1].length);switch(t){case"###,##0.00":return Fa(n,"#,##0.00",i);case"###,###":case"##,###":case"#,###":var x=nc(Jl(d,0));return x!=="0"?u+x:"";case"###,###.00":return Fa(n,"###,##0.00",i).replace(/^0\./,".");case"#,###.00":return Fa(n,"#,##0.00",i).replace(/^0\./,".");default:}throw new Error("unsupported format |"+t+"|")}function UA(n,t,i){for(var e=t.length-1;t.charCodeAt(e-1)===44;)--e;return gs(n,t.substr(0,e),i/Math.pow(10,3*(t.length-e)))}function GA(n,t,i){var e=t.replace(Ty,""),r=t.length-e.length;return gs(n,e,i*Math.pow(10,2*r))+hi("%",r)}function Ry(n,t){var i,e=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Ry(n,-t);var r=n.indexOf(".");r===-1&&(r=n.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%r;if(a<0&&(a+=r),i=(t/Math.pow(10,a)).toPrecision(e+1+(r+a)%r),!i.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);i.indexOf(".")===-1?i=i.charAt(0)+"."+i.substr(1)+"E+"+(o-i.length+a):i+="E+"+(o-a),i=i.replace(/\+-/,"-")}i=i.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,d,u,m){return d+u+m.substr(0,(r+a)%r)+"."+m.substr(a)+"E"})}else i=t.toExponential(e);return n.match(/E\+00$/)&&i.match(/e[+-]\d$/)&&(i=i.substr(0,i.length-1)+"0"+i.charAt(i.length-1)),n.match(/E\-/)&&i.match(/e\+/)&&(i=i.replace(/e\+/,"e")),i.replace("e","E")}function Lo(n,t,i){if(n.charCodeAt(0)===40&&!t.match(Dy)){var e=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return i>=0?Lo("n",e,i):"("+Lo("n",e,-i)+")"}if(t.charCodeAt(t.length-1)===44)return UA(n,t,i);if(t.indexOf("%")!==-1)return GA(n,t,i);if(t.indexOf("E")!==-1)return Ry(t,i);if(t.charCodeAt(0)===36)return"$"+Lo(n,t.substr(t.charAt(1)==" "?2:1),i);var r,a,o,s,d=Math.abs(i),u=i<0?"-":"";if(t.match(/^00+$/))return u+ao(d,t.length);if(t.match(/^[#?]+$/))return r=""+i,i===0&&(r=""),r.length>t.length?r:Xr(t.substr(0,t.length-r.length))+r;if(a=t.match(Ay))return jA(a,d,u);if(t.match(/^#+0+$/))return u+ao(d,t.length-t.indexOf("0"));if(a=t.match(Iy))return r=(""+i).replace(/^([^\.]+)$/,"$1."+Xr(a[1])).replace(/\.$/,"."+Xr(a[1])),r=r.replace(/\.(\d*)$/,function(v,b){return"."+b+hi("0",Xr(a[1]).length-b.length)}),t.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+nc(""+d);if(a=t.match(/^#,##0\.([#0]*0)$/))return i<0?"-"+Lo(n,t,-i):nc(""+i)+"."+hi("0",a[1].length);if(a=t.match(/^#,#*,#0/))return Lo(n,t.replace(/^#,#*,/,""),i);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=ad(Lo(n,t.replace(/[\\-]/g,""),i)),o=0,ad(ad(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<r.length?r.charAt(o++):v==="0"?"0":""}));if(t.match(Fy))return r=Lo(n,"##########",i),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var m="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=Am(d,Math.pow(10,o)-1,!1),r=""+u,m=gs("n",a[1],s[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),r+=m+a[2]+"/"+a[3],m=Tm(s[2],o),m.length<a[4].length&&(m=Xr(a[4].substr(a[4].length-m.length))+m),r+=m,r;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=Am(d,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?ah(s[1],o)+a[2]+"/"+a[3]+Tm(s[2],o):hi(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return r=""+i,t.length<=r.length?r:Xr(t.substr(0,t.length-r.length))+r;if(a=t.match(/^([#0]+)\.([#0]+)$/)){r=""+i.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var f=t.indexOf(".")-o,_=t.length-r.length-f;return Xr(t.substr(0,f)+r+t.substr(t.length-_))}if(a=t.match(/^00,000\.([#0]*0)$/))return i<0?"-"+Lo(n,t,-i):nc(""+i).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ao(0,3-v.length):"")+v})+"."+ao(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=nc(""+d);return x!=="0"?u+x:"";default:if(t.match(/\.[0#?]*$/))return Lo(n,t.slice(0,t.lastIndexOf(".")),i)+Xr(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function gs(n,t,i){return(i|0)===i?Lo(n,t,i):Fa(n,t,i)}function WA(n){for(var t=[],i=!1,e=0,r=0;e<n.length;++e)switch(n.charCodeAt(e)){case 34:i=!i;break;case 95:case 42:case 92:++e;break;case 59:t[t.length]=n.substr(r,e-r),r=e+1}if(t[t.length]=n.substr(r),i===!0)throw new Error("Format |"+n+"| unterminated string ");return t}var Ny=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function md(n){for(var t=0,i="",e="";t<n.length;)switch(i=n.charAt(t)){case"G":Em(n,t)&&(t+=6),t++;break;case'"':for(;n.charCodeAt(++t)!==34&&t<n.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(n.charAt(t+1)==="1"||n.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(n.substr(t,3).toUpperCase()==="A/P"||n.substr(t,5).toUpperCase()==="AM/PM"||n.substr(t,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++t;break;case"[":for(e=i;n.charAt(t++)!=="]"&&t<n.length;)e+=n.charAt(t);if(e.match(Ny))return!0;break;case".":case"0":case"#":for(;t<n.length&&("0#?.,E+-%".indexOf(i=n.charAt(++t))>-1||i=="\\"&&n.charAt(t+1)=="-"&&"0#".indexOf(n.charAt(t+2))>-1););break;case"?":for(;n.charAt(++t)===i;);break;case"*":++t,(n.charAt(t)==" "||n.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<n.length&&"0123456789".indexOf(n.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function HA(n,t,i,e){for(var r=[],a="",o=0,s="",d="t",u,m,f,_="H";o<n.length;)switch(s=n.charAt(o)){case"G":if(!Em(n,o))throw new Error("unrecognized character "+s+" in "+n);r[r.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(f=n.charCodeAt(++o))!==34&&o<n.length;)a+=String.fromCharCode(f);r[r.length]={t:"t",v:a},++o;break;case"\\":var x=n.charAt(++o),v=x==="("||x===")"?x:"t";r[r.length]={t:v,v:x},++o;break;case"_":r[r.length]={t:"t",v:" "},o+=2;break;case"@":r[r.length]={t:"T",v:t},++o;break;case"B":case"b":if(n.charAt(o+1)==="1"||n.charAt(o+1)==="2"){if(u==null&&(u=Ec(t,i,n.charAt(o+1)==="2"),u==null))return"";r[r.length]={t:"X",v:n.substr(o,2)},d=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Ec(t,i),u==null))return"";for(a=s;++o<n.length&&n.charAt(o).toLowerCase()===s;)a+=s;s==="m"&&d.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=_),r[r.length]={t:s,v:a},d=s;break;case"A":case"a":case"\u4E0A":var b={t:s,v:s};if(u==null&&(u=Ec(t,i)),n.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(b.v=u.H>=12?"P":"A"),b.t="T",_="h",o+=3):n.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(b.v=u.H>=12?"PM":"AM"),b.t="T",o+=5,_="h"):n.substr(o,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(u!=null&&(b.v=u.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),b.t="T",o+=5,_="h"):(b.t="t",++o),u==null&&b.t==="T")return"";r[r.length]=b,d=s;break;case"[":for(a=s;n.charAt(o++)!=="]"&&o<n.length;)a+=n.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(Ny)){if(u==null&&(u=Ec(t,i),u==null))return"";r[r.length]={t:"Z",v:a.toLowerCase()},d=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",md(n)||(r[r.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=s;++o<n.length&&(s=n.charAt(o))==="0";)a+=s;r[r.length]={t:"s",v:a};break}case"0":case"#":for(a=s;++o<n.length&&"0#?.,E+-%".indexOf(s=n.charAt(o))>-1;)a+=s;r[r.length]={t:"n",v:a};break;case"?":for(a=s;n.charAt(++o)===s;)a+=s;r[r.length]={t:s,v:a},d=s;break;case"*":++o,(n.charAt(o)==" "||n.charAt(o)=="*")&&++o;break;case"(":case")":r[r.length]={t:e===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=s;o<n.length&&"0123456789".indexOf(n.charAt(++o))>-1;)a+=n.charAt(o);r[r.length]={t:"D",v:a};break;case" ":r[r.length]={t:s,v:s},++o;break;case"$":r[r.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+n);r[r.length]={t:"t",v:s},++o;break}var M=0,S=0,w;for(o=r.length-1,d="t";o>=0;--o)switch(r[o].t){case"h":case"H":r[o].t=_,d="h",M<1&&(M=1);break;case"s":(w=r[o].v.match(/\.0+$/))&&(S=Math.max(S,w[0].length-1)),M<3&&(M=3);case"d":case"y":case"M":case"e":d=r[o].t;break;case"m":d==="s"&&(r[o].t="M",M<2&&(M=2));break;case"X":break;case"Z":M<1&&r[o].v.match(/[Hh]/)&&(M=1),M<2&&r[o].v.match(/[Mm]/)&&(M=2),M<3&&r[o].v.match(/[Ss]/)&&(M=3)}switch(M){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var T="",F;for(o=0;o<r.length;++o)switch(r[o].t){case"t":case"T":case" ":case"D":break;case"X":r[o].v="",r[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[o].v=LA(r[o].t.charCodeAt(0),r[o].v,u,S),r[o].t="t";break;case"n":case"?":for(F=o+1;r[F]!=null&&((s=r[F].t)==="?"||s==="D"||(s===" "||s==="t")&&r[F+1]!=null&&(r[F+1].t==="?"||r[F+1].t==="t"&&r[F+1].v==="/")||r[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(r[F].v==="/"||r[F].v===" "&&r[F+1]!=null&&r[F+1].t=="?"));)r[o].v+=r[F].v,r[F]={v:"",t:";"},++F;T+=r[o].v,o=F-1;break;case"G":r[o].t="t",r[o].v=Rc(t,i);break}var U="",A,k;if(T.length>0){T.charCodeAt(0)==40?(A=t<0&&T.charCodeAt(0)===45?-t:t,k=gs("n",T,A)):(A=t<0&&e>1?-t:t,k=gs("n",T,A),A<0&&r[0]&&r[0].t=="t"&&(k=k.substr(1),r[0].v="-"+r[0].v)),F=k.length-1;var I=r.length;for(o=0;o<r.length;++o)if(r[o]!=null&&r[o].t!="t"&&r[o].v.indexOf(".")>-1){I=o;break}var B=r.length;if(I===r.length&&k.indexOf("E")===-1){for(o=r.length-1;o>=0;--o)r[o]==null||"n?".indexOf(r[o].t)===-1||(F>=r[o].v.length-1?(F-=r[o].v.length,r[o].v=k.substr(F+1,r[o].v.length)):F<0?r[o].v="":(r[o].v=k.substr(0,F+1),F=-1),r[o].t="t",B=o);F>=0&&B<r.length&&(r[B].v=k.substr(0,F+1)+r[B].v)}else if(I!==r.length&&k.indexOf("E")===-1){for(F=k.indexOf(".")-1,o=I;o>=0;--o)if(!(r[o]==null||"n?".indexOf(r[o].t)===-1)){for(m=r[o].v.indexOf(".")>-1&&o===I?r[o].v.indexOf(".")-1:r[o].v.length-1,U=r[o].v.substr(m+1);m>=0;--m)F>=0&&(r[o].v.charAt(m)==="0"||r[o].v.charAt(m)==="#")&&(U=k.charAt(F--)+U);r[o].v=U,r[o].t="t",B=o}for(F>=0&&B<r.length&&(r[B].v=k.substr(0,F+1)+r[B].v),F=k.indexOf(".")+1,o=I;o<r.length;++o)if(!(r[o]==null||"n?(".indexOf(r[o].t)===-1&&o!==I)){for(m=r[o].v.indexOf(".")>-1&&o===I?r[o].v.indexOf(".")+1:0,U=r[o].v.substr(0,m);m<r[o].v.length;++m)F<k.length&&(U+=k.charAt(F++));r[o].v=U,r[o].t="t",B=o}}}for(o=0;o<r.length;++o)r[o]!=null&&"n?".indexOf(r[o].t)>-1&&(A=e>1&&t<0&&o>0&&r[o-1].v==="-"?-t:t,r[o].v=gs(r[o].t,r[o].v,A),r[o].t="t");var X="";for(o=0;o!==r.length;++o)r[o]!=null&&(X+=r[o].v);return X}var Ov=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function wv(n,t){if(t==null)return!1;var i=parseFloat(t[2]);switch(t[1]){case"=":if(n==i)return!0;break;case">":if(n>i)return!0;break;case"<":if(n<i)return!0;break;case"<>":if(n!=i)return!0;break;case">=":if(n>=i)return!0;break;case"<=":if(n<=i)return!0;break}return!1}function XA(n,t){var i=WA(n),e=i.length,r=i[e-1].indexOf("@");if(e<4&&r>-1&&--e,i.length>4)throw new Error("cannot find right format for |"+i.join("|")+"|");if(typeof t!="number")return[4,i.length===4||r>-1?i[i.length-1]:"@"];switch(i.length){case 1:i=r>-1?["General","General","General",i[0]]:[i[0],i[0],i[0],"@"];break;case 2:i=r>-1?[i[0],i[0],i[0],i[1]]:[i[0],i[1],i[0],"@"];break;case 3:i=r>-1?[i[0],i[1],i[0],i[2]]:[i[0],i[1],i[2],"@"];break;case 4:break}var a=t>0?i[0]:t<0?i[1]:i[2];if(i[0].indexOf("[")===-1&&i[1].indexOf("[")===-1)return[e,a];if(i[0].match(/\[[=<>]/)!=null||i[1].match(/\[[=<>]/)!=null){var o=i[0].match(Ov),s=i[1].match(Ov);return wv(t,o)?[e,i[0]]:wv(t,s)?[e,i[1]]:[e,i[o!=null&&s!=null?2:1]]}return[e,a]}function $a(n,t,i){i==null&&(i={});var e="";switch(typeof n){case"string":n=="m/d/yy"&&i.dateNF?e=i.dateNF:e=n;break;case"number":n==14&&i.dateNF?e=i.dateNF:e=(i.table!=null?i.table:St)[n],e==null&&(e=i.table&&i.table[yv[n]]||St[yv[n]]),e==null&&(e=EA[n]||"General");break}if(Em(e,0))return Rc(t,i);t instanceof Date&&(t=ky(t,i.date1904));var r=XA(e,t);if(Em(r[1]))return Rc(t,i);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return HA(r[1],t,i,r[0])}function us(n,t){if(typeof t!="number"){t=+t||-1;for(var i=0;i<392;++i){if(St[i]==null){t<0&&(t=i);continue}if(St[i]==n){t=i;break}}t<0&&(t=391)}return St[t]=n,t}function Ym(n){for(var t=0;t!=392;++t)n[t]!==void 0&&us(n[t],t)}function pd(){St=TA()}var qA={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Ly=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function KA(n){var t=typeof n=="number"?St[n]:n;return t=t.replace(Ly,"(\\d+)"),new RegExp("^"+t+"$")}function ZA(n,t,i){var e=-1,r=-1,a=-1,o=-1,s=-1,d=-1;(t.match(Ly)||[]).forEach(function(f,_){var x=parseInt(i[_+1],10);switch(f.toLowerCase().charAt(0)){case"y":e=x;break;case"d":a=x;break;case"h":o=x;break;case"s":d=x;break;case"m":o>=0?s=x:r=x;break}}),d>=0&&s==-1&&r>=0&&(s=r,r=-1);var u=(""+(e>=0?e:new Date().getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var m=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return o==-1&&s==-1&&d==-1?u:e==-1&&r==-1&&a==-1?m:u+"T"+m}var QA=function(){var n={};n.version="1.2.0";function t(){for(var k=0,I=new Array(256),B=0;B!=256;++B)k=B,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,I[B]=k;return typeof Int32Array<"u"?new Int32Array(I):I}var i=t();function e(k){var I=0,B=0,X=0,J=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(X=0;X!=256;++X)J[X]=k[X];for(X=0;X!=256;++X)for(B=k[X],I=256+X;I<4096;I+=256)B=J[I]=B>>>8^k[B&255];var te=[];for(X=1;X!=16;++X)te[X-1]=typeof Int32Array<"u"?J.subarray(X*256,X*256+256):J.slice(X*256,X*256+256);return te}var r=e(i),a=r[0],o=r[1],s=r[2],d=r[3],u=r[4],m=r[5],f=r[6],_=r[7],x=r[8],v=r[9],b=r[10],M=r[11],S=r[12],w=r[13],T=r[14];function F(k,I){for(var B=I^-1,X=0,J=k.length;X<J;)B=B>>>8^i[(B^k.charCodeAt(X++))&255];return~B}function U(k,I){for(var B=I^-1,X=k.length-15,J=0;J<X;)B=T[k[J++]^B&255]^w[k[J++]^B>>8&255]^S[k[J++]^B>>16&255]^M[k[J++]^B>>>24]^b[k[J++]]^v[k[J++]]^x[k[J++]]^_[k[J++]]^f[k[J++]]^m[k[J++]]^u[k[J++]]^d[k[J++]]^s[k[J++]]^o[k[J++]]^a[k[J++]]^i[k[J++]];for(X+=15;J<X;)B=B>>>8^i[(B^k[J++])&255];return~B}function A(k,I){for(var B=I^-1,X=0,J=k.length,te=0,ye=0;X<J;)te=k.charCodeAt(X++),te<128?B=B>>>8^i[(B^te)&255]:te<2048?(B=B>>>8^i[(B^(192|te>>6&31))&255],B=B>>>8^i[(B^(128|te&63))&255]):te>=55296&&te<57344?(te=(te&1023)+64,ye=k.charCodeAt(X++)&1023,B=B>>>8^i[(B^(240|te>>8&7))&255],B=B>>>8^i[(B^(128|te>>2&63))&255],B=B>>>8^i[(B^(128|ye>>6&15|(te&3)<<4))&255],B=B>>>8^i[(B^(128|ye&63))&255]):(B=B>>>8^i[(B^(224|te>>12&15))&255],B=B>>>8^i[(B^(128|te>>6&63))&255],B=B>>>8^i[(B^(128|te&63))&255]);return~B}return n.table=i,n.bstr=F,n.buf=U,n.str=A,n}(),yt=function(){var t={};t.version="1.2.1";function i(D,H){for(var Y=D.split("/"),G=H.split("/"),q=0,Z=0,fe=Math.min(Y.length,G.length);q<fe;++q){if(Z=Y[q].length-G[q].length)return Z;if(Y[q]!=G[q])return Y[q]<G[q]?-1:1}return Y.length-G.length}function e(D){if(D.charAt(D.length-1)=="/")return D.slice(0,-1).indexOf("/")===-1?D:e(D.slice(0,-1));var H=D.lastIndexOf("/");return H===-1?D:D.slice(0,H+1)}function r(D){if(D.charAt(D.length-1)=="/")return r(D.slice(0,-1));var H=D.lastIndexOf("/");return H===-1?D:D.slice(H+1)}function a(D,H){typeof H=="string"&&(H=new Date(H));var Y=H.getHours();Y=Y<<6|H.getMinutes(),Y=Y<<5|H.getSeconds()>>>1,D.write_shift(2,Y);var G=H.getFullYear()-1980;G=G<<4|H.getMonth()+1,G=G<<5|H.getDate(),D.write_shift(2,G)}function o(D){var H=D.read_shift(2)&65535,Y=D.read_shift(2)&65535,G=new Date,q=Y&31;Y>>>=5;var Z=Y&15;Y>>>=4,G.setMilliseconds(0),G.setFullYear(Y+1980),G.setMonth(Z-1),G.setDate(q);var fe=H&31;H>>>=5;var Me=H&63;return H>>>=6,G.setHours(H),G.setMinutes(Me),G.setSeconds(fe<<1),G}function s(D){xr(D,0);for(var H={},Y=0;D.l<=D.length-4;){var G=D.read_shift(2),q=D.read_shift(2),Z=D.l+q,fe={};switch(G){case 21589:Y=D.read_shift(1),Y&1&&(fe.mtime=D.read_shift(4)),q>5&&(Y&2&&(fe.atime=D.read_shift(4)),Y&4&&(fe.ctime=D.read_shift(4))),fe.mtime&&(fe.mt=new Date(fe.mtime*1e3));break}D.l=Z,H[G]=fe}return H}var d;function u(){return d||(d={})}function m(D,H){if(D[0]==80&&D[1]==75)return Uo(D,H);if((D[0]|32)==109&&(D[1]|32)==105)return yd(D,H);if(D.length<512)throw new Error("CFB file size "+D.length+" < 512");var Y=3,G=512,q=0,Z=0,fe=0,Me=0,he=0,_e=[],xe=D.slice(0,512);xr(xe,0);var $e=f(xe);switch(Y=$e[0],Y){case 3:G=512;break;case 4:G=4096;break;case 0:if($e[1]==0)return Uo(D,H);default:throw new Error("Major Version: Expected 3 or 4 saw "+Y)}G!==512&&(xe=D.slice(0,G),xr(xe,28));var Ge=D.slice(0,G);_(xe,Y);var at=xe.read_shift(4,"i");if(Y===3&&at!==0)throw new Error("# Directory Sectors: Expected 0 saw "+at);xe.l+=4,fe=xe.read_shift(4,"i"),xe.l+=4,xe.chk("00100000","Mini Stream Cutoff Size: "),Me=xe.read_shift(4,"i"),q=xe.read_shift(4,"i"),he=xe.read_shift(4,"i"),Z=xe.read_shift(4,"i");for(var He=-1,Je=0;Je<109&&(He=xe.read_shift(4,"i"),!(He<0));++Je)_e[Je]=He;var ot=x(D,G);M(he,Z,ot,G,_e);var On=w(ot,fe,_e,G);On[fe].name="!Directory",q>0&&Me!==ye&&(On[Me].name="!MiniFAT"),On[_e[0]].name="!FAT",On.fat_addrs=_e,On.ssz=G;var br={},ti=[],vr=[],mc=[];T(fe,On,ot,ti,q,br,vr,Me),v(vr,mc,ti),ti.shift();var pc={FileIndex:vr,FullPaths:mc};return H&&H.raw&&(pc.raw={header:Ge,sectors:ot}),pc}function f(D){if(D[D.l]==80&&D[D.l+1]==75)return[0,0];D.chk(De,"Header Signature: "),D.l+=16;var H=D.read_shift(2,"u");return[D.read_shift(2,"u"),H]}function _(D,H){var Y=9;switch(D.l+=2,Y=D.read_shift(2)){case 9:if(H!=3)throw new Error("Sector Shift: Expected 9 saw "+Y);break;case 12:if(H!=4)throw new Error("Sector Shift: Expected 12 saw "+Y);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Y)}D.chk("0600","Mini Sector Shift: "),D.chk("000000000000","Reserved: ")}function x(D,H){for(var Y=Math.ceil(D.length/H)-1,G=[],q=1;q<Y;++q)G[q-1]=D.slice(q*H,(q+1)*H);return G[Y-1]=D.slice(Y*H),G}function v(D,H,Y){for(var G=0,q=0,Z=0,fe=0,Me=0,he=Y.length,_e=[],xe=[];G<he;++G)_e[G]=xe[G]=G,H[G]=Y[G];for(;Me<xe.length;++Me)G=xe[Me],q=D[G].L,Z=D[G].R,fe=D[G].C,_e[G]===G&&(q!==-1&&_e[q]!==q&&(_e[G]=_e[q]),Z!==-1&&_e[Z]!==Z&&(_e[G]=_e[Z])),fe!==-1&&(_e[fe]=G),q!==-1&&G!=_e[G]&&(_e[q]=_e[G],xe.lastIndexOf(q)<Me&&xe.push(q)),Z!==-1&&G!=_e[G]&&(_e[Z]=_e[G],xe.lastIndexOf(Z)<Me&&xe.push(Z));for(G=1;G<he;++G)_e[G]===G&&(Z!==-1&&_e[Z]!==Z?_e[G]=_e[Z]:q!==-1&&_e[q]!==q&&(_e[G]=_e[q]));for(G=1;G<he;++G)if(D[G].type!==0){if(Me=G,Me!=_e[Me])do Me=_e[Me],H[G]=H[Me]+"/"+H[G];while(Me!==0&&_e[Me]!==-1&&Me!=_e[Me]);_e[G]=-1}for(H[0]+="/",G=1;G<he;++G)D[G].type!==2&&(H[G]+="/")}function b(D,H,Y){for(var G=D.start,q=D.size,Z=[],fe=G;Y&&q>0&&fe>=0;)Z.push(H.slice(fe*te,fe*te+te)),q-=te,fe=Tc(Y,fe*4);return Z.length===0?we(0):gr(Z).slice(0,D.size)}function M(D,H,Y,G,q){var Z=ye;if(D===ye){if(H!==0)throw new Error("DIFAT chain shorter than expected")}else if(D!==-1){var fe=Y[D],Me=(G>>>2)-1;if(!fe)return;for(var he=0;he<Me&&(Z=Tc(fe,he*4))!==ye;++he)q.push(Z);M(Tc(fe,G-4),H-1,Y,G,q)}}function S(D,H,Y,G,q){var Z=[],fe=[];q||(q=[]);var Me=G-1,he=0,_e=0;for(he=H;he>=0;){q[he]=!0,Z[Z.length]=he,fe.push(D[he]);var xe=Y[Math.floor(he*4/G)];if(_e=he*4&Me,G<4+_e)throw new Error("FAT boundary crossed: "+he+" 4 "+G);if(!D[xe])break;he=Tc(D[xe],_e)}return{nodes:Z,data:Bv([fe])}}function w(D,H,Y,G){var q=D.length,Z=[],fe=[],Me=[],he=[],_e=G-1,xe=0,$e=0,Ge=0,at=0;for(xe=0;xe<q;++xe)if(Me=[],Ge=xe+H,Ge>=q&&(Ge-=q),!fe[Ge]){he=[];var He=[];for($e=Ge;$e>=0;){He[$e]=!0,fe[$e]=!0,Me[Me.length]=$e,he.push(D[$e]);var Je=Y[Math.floor($e*4/G)];if(at=$e*4&_e,G<4+at)throw new Error("FAT boundary crossed: "+$e+" 4 "+G);if(!D[Je]||($e=Tc(D[Je],at),He[$e]))break}Z[Ge]={nodes:Me,data:Bv([he])}}return Z}function T(D,H,Y,G,q,Z,fe,Me){for(var he=0,_e=G.length?2:0,xe=H[D].data,$e=0,Ge=0,at;$e<xe.length;$e+=128){var He=xe.slice($e,$e+128);xr(He,64),Ge=He.read_shift(2),at=Hm(He,0,Ge-_e),G.push(at);var Je={name:at,type:He.read_shift(1),color:He.read_shift(1),L:He.read_shift(4,"i"),R:He.read_shift(4,"i"),C:He.read_shift(4,"i"),clsid:He.read_shift(16),state:He.read_shift(4,"i"),start:0,size:0},ot=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);ot!==0&&(Je.ct=F(He,He.l-8));var On=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);On!==0&&(Je.mt=F(He,He.l-8)),Je.start=He.read_shift(4,"i"),Je.size=He.read_shift(4,"i"),Je.size<0&&Je.start<0&&(Je.size=Je.type=0,Je.start=ye,Je.name=""),Je.type===5?(he=Je.start,q>0&&he!==ye&&(H[he].name="!StreamData")):Je.size>=4096?(Je.storage="fat",H[Je.start]===void 0&&(H[Je.start]=S(Y,Je.start,H.fat_addrs,H.ssz)),H[Je.start].name=Je.name,Je.content=H[Je.start].data.slice(0,Je.size)):(Je.storage="minifat",Je.size<0?Je.size=0:he!==ye&&Je.start!==ye&&H[he]&&(Je.content=b(Je,H[he].data,(H[Me]||{}).data))),Je.content&&xr(Je.content,0),Z[at]=Je,fe.push(Je)}}function F(D,H){return new Date((dr(D,H+4)/1e7*Math.pow(2,32)+dr(D,H)/1e7-11644473600)*1e3)}function U(D,H){return u(),m(d.readFileSync(D),H)}function A(D,H){var Y=H&&H.type;switch(Y||rn&&Buffer.isBuffer(D)&&(Y="buffer"),Y||"base64"){case"file":return U(D,H);case"base64":return m(Ca(va(D)),H);case"binary":return m(Ca(D),H)}return m(D,H)}function k(D,H){var Y=H||{},G=Y.root||"Root Entry";if(D.FullPaths||(D.FullPaths=[]),D.FileIndex||(D.FileIndex=[]),D.FullPaths.length!==D.FileIndex.length)throw new Error("inconsistent CFB structure");D.FullPaths.length===0&&(D.FullPaths[0]=G+"/",D.FileIndex[0]={name:G,type:5}),Y.CLSID&&(D.FileIndex[0].clsid=Y.CLSID),I(D)}function I(D){var H="Sh33tJ5";if(!yt.find(D,"/"+H)){var Y=we(4);Y[0]=55,Y[1]=Y[3]=50,Y[2]=54,D.FileIndex.push({name:H,type:2,content:Y,size:4,L:69,R:69,C:69}),D.FullPaths.push(D.FullPaths[0]+H),B(D)}}function B(D,H){k(D);for(var Y=!1,G=!1,q=D.FullPaths.length-1;q>=0;--q){var Z=D.FileIndex[q];switch(Z.type){case 0:G?Y=!0:(D.FileIndex.pop(),D.FullPaths.pop());break;case 1:case 2:case 5:G=!0,isNaN(Z.R*Z.L*Z.C)&&(Y=!0),Z.R>-1&&Z.L>-1&&Z.R==Z.L&&(Y=!0);break;default:Y=!0;break}}if(!(!Y&&!H)){var fe=new Date(1987,1,19),Me=0,he=Object.create?Object.create(null):{},_e=[];for(q=0;q<D.FullPaths.length;++q)he[D.FullPaths[q]]=!0,D.FileIndex[q].type!==0&&_e.push([D.FullPaths[q],D.FileIndex[q]]);for(q=0;q<_e.length;++q){var xe=e(_e[q][0]);G=he[xe],G||(_e.push([xe,{name:r(xe).replace("/",""),type:1,clsid:Ve,ct:fe,mt:fe,content:null}]),he[xe]=!0)}for(_e.sort(function(at,He){return i(at[0],He[0])}),D.FullPaths=[],D.FileIndex=[],q=0;q<_e.length;++q)D.FullPaths[q]=_e[q][0],D.FileIndex[q]=_e[q][1];for(q=0;q<_e.length;++q){var $e=D.FileIndex[q],Ge=D.FullPaths[q];if($e.name=r(Ge).replace("/",""),$e.L=$e.R=$e.C=-($e.color=1),$e.size=$e.content?$e.content.length:0,$e.start=0,$e.clsid=$e.clsid||Ve,q===0)$e.C=_e.length>1?1:-1,$e.size=0,$e.type=5;else if(Ge.slice(-1)=="/"){for(Me=q+1;Me<_e.length&&e(D.FullPaths[Me])!=Ge;++Me);for($e.C=Me>=_e.length?-1:Me,Me=q+1;Me<_e.length&&e(D.FullPaths[Me])!=e(Ge);++Me);$e.R=Me>=_e.length?-1:Me,$e.type=1}else e(D.FullPaths[q+1]||"")==e(Ge)&&($e.R=q+1),$e.type=2}}}function X(D,H){var Y=H||{};if(Y.fileType=="mad")return yn(D,Y);switch(B(D),Y.fileType){case"zip":return Zc(D,Y)}var G=function(at){for(var He=0,Je=0,ot=0;ot<at.FileIndex.length;++ot){var On=at.FileIndex[ot];if(On.content){var br=On.content.length;br>0&&(br<4096?He+=br+63>>6:Je+=br+511>>9)}}for(var ti=at.FullPaths.length+3>>2,vr=He+7>>3,mc=He+127>>7,pc=vr+Je+ti+mc,Go=pc+127>>7,Pd=Go<=109?0:Math.ceil((Go-109)/127);pc+Go+Pd+127>>7>Go;)Pd=++Go<=109?0:Math.ceil((Go-109)/127);var Ua=[1,Pd,Go,mc,ti,Je,He,0];return at.FileIndex[0].size=He<<6,Ua[7]=(at.FileIndex[0].start=Ua[0]+Ua[1]+Ua[2]+Ua[3]+Ua[4]+Ua[5])+(Ua[6]+7>>3),Ua}(D),q=we(G[7]<<9),Z=0,fe=0;{for(Z=0;Z<8;++Z)q.write_shift(1,Ce[Z]);for(Z=0;Z<8;++Z)q.write_shift(2,0);for(q.write_shift(2,62),q.write_shift(2,3),q.write_shift(2,65534),q.write_shift(2,9),q.write_shift(2,6),Z=0;Z<3;++Z)q.write_shift(2,0);for(q.write_shift(4,0),q.write_shift(4,G[2]),q.write_shift(4,G[0]+G[1]+G[2]+G[3]-1),q.write_shift(4,0),q.write_shift(4,4096),q.write_shift(4,G[3]?G[0]+G[1]+G[2]-1:ye),q.write_shift(4,G[3]),q.write_shift(-4,G[1]?G[0]-1:ye),q.write_shift(4,G[1]),Z=0;Z<109;++Z)q.write_shift(-4,Z<G[2]?G[1]+Z:-1)}if(G[1])for(fe=0;fe<G[1];++fe){for(;Z<236+fe*127;++Z)q.write_shift(-4,Z<G[2]?G[1]+Z:-1);q.write_shift(-4,fe===G[1]-1?ye:fe+1)}var Me=function(at){for(fe+=at;Z<fe-1;++Z)q.write_shift(-4,Z+1);at&&(++Z,q.write_shift(-4,ye))};for(fe=Z=0,fe+=G[1];Z<fe;++Z)q.write_shift(-4,Se.DIFSECT);for(fe+=G[2];Z<fe;++Z)q.write_shift(-4,Se.FATSECT);Me(G[3]),Me(G[4]);for(var he=0,_e=0,xe=D.FileIndex[0];he<D.FileIndex.length;++he)xe=D.FileIndex[he],xe.content&&(_e=xe.content.length,!(_e<4096)&&(xe.start=fe,Me(_e+511>>9)));for(Me(G[6]+7>>3);q.l&511;)q.write_shift(-4,Se.ENDOFCHAIN);for(fe=Z=0,he=0;he<D.FileIndex.length;++he)xe=D.FileIndex[he],xe.content&&(_e=xe.content.length,!(!_e||_e>=4096)&&(xe.start=fe,Me(_e+63>>6)));for(;q.l&511;)q.write_shift(-4,Se.ENDOFCHAIN);for(Z=0;Z<G[4]<<2;++Z){var $e=D.FullPaths[Z];if(!$e||$e.length===0){for(he=0;he<17;++he)q.write_shift(4,0);for(he=0;he<3;++he)q.write_shift(4,-1);for(he=0;he<12;++he)q.write_shift(4,0);continue}xe=D.FileIndex[Z],Z===0&&(xe.start=xe.size?xe.start-1:ye);var Ge=Z===0&&Y.root||xe.name;if(_e=2*(Ge.length+1),q.write_shift(64,Ge,"utf16le"),q.write_shift(2,_e),q.write_shift(1,xe.type),q.write_shift(1,xe.color),q.write_shift(-4,xe.L),q.write_shift(-4,xe.R),q.write_shift(-4,xe.C),xe.clsid)q.write_shift(16,xe.clsid,"hex");else for(he=0;he<4;++he)q.write_shift(4,0);q.write_shift(4,xe.state||0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,0),q.write_shift(4,xe.start),q.write_shift(4,xe.size),q.write_shift(4,0)}for(Z=1;Z<D.FileIndex.length;++Z)if(xe=D.FileIndex[Z],xe.size>=4096)if(q.l=xe.start+1<<9,rn&&Buffer.isBuffer(xe.content))xe.content.copy(q,q.l,0,xe.size),q.l+=xe.size+511&-512;else{for(he=0;he<xe.size;++he)q.write_shift(1,xe.content[he]);for(;he&511;++he)q.write_shift(1,0)}for(Z=1;Z<D.FileIndex.length;++Z)if(xe=D.FileIndex[Z],xe.size>0&&xe.size<4096)if(rn&&Buffer.isBuffer(xe.content))xe.content.copy(q,q.l,0,xe.size),q.l+=xe.size+63&-64;else{for(he=0;he<xe.size;++he)q.write_shift(1,xe.content[he]);for(;he&63;++he)q.write_shift(1,0)}if(rn)q.l=q.length;else for(;q.l<q.length;)q.write_shift(1,0);return q}function J(D,H){var Y=D.FullPaths.map(function(he){return he.toUpperCase()}),G=Y.map(function(he){var _e=he.split("/");return _e[_e.length-(he.slice(-1)=="/"?2:1)]}),q=!1;H.charCodeAt(0)===47?(q=!0,H=Y[0].slice(0,-1)+H):q=H.indexOf("/")!==-1;var Z=H.toUpperCase(),fe=q===!0?Y.indexOf(Z):G.indexOf(Z);if(fe!==-1)return D.FileIndex[fe];var Me=!Z.match(n0);for(Z=Z.replace($r,""),Me&&(Z=Z.replace(n0,"!")),fe=0;fe<Y.length;++fe)if((Me?Y[fe].replace(n0,"!"):Y[fe]).replace($r,"")==Z||(Me?G[fe].replace(n0,"!"):G[fe]).replace($r,"")==Z)return D.FileIndex[fe];return null}var te=64,ye=-2,De="d0cf11e0a1b11ae1",Ce=[208,207,17,224,161,177,26,225],Ve="00000000000000000000000000000000",Se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ye,FREESECT:-1,HEADER_SIGNATURE:De,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Ve,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function je(D,H,Y){u();var G=X(D,Y);d.writeFileSync(H,G)}function be(D){for(var H=new Array(D.length),Y=0;Y<D.length;++Y)H[Y]=String.fromCharCode(D[Y]);return H.join("")}function Te(D,H){var Y=X(D,H);switch(H&&H.type||"buffer"){case"file":return u(),d.writeFileSync(H.filename,Y),Y;case"binary":return typeof Y=="string"?Y:be(Y);case"base64":return m0(typeof Y=="string"?Y:be(Y));case"buffer":if(rn)return Buffer.isBuffer(Y)?Y:fs(Y);case"array":return typeof Y=="string"?Ca(Y):Y}return Y}var le;function Q(D){try{var H=D.InflateRaw,Y=new H;if(Y._processChunk(new Uint8Array([3,0]),Y._finishFlushFlag),Y.bytesRead)le=D;else throw new Error("zlib does not expose bytesRead")}catch(G){console.error("cannot use native zlib: "+(G.message||G))}}function re(D,H){if(!le)return V0(D,H);var Y=le.InflateRaw,G=new Y,q=G._processChunk(D.slice(D.l),G._finishFlushFlag);return D.l+=G.bytesRead,q}function ne(D){return le?le.deflateRawSync(D):Pt(D)}var ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],me=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ie(D){var H=(D<<1|D<<11)&139536|(D<<5|D<<15)&558144;return(H>>16|H>>8|H)&255}for(var ke=typeof Uint8Array<"u",ve=ke?new Uint8Array(256):[],lt=0;lt<256;++lt)ve[lt]=Ie(lt);function K(D,H){var Y=ve[D&255];return H<=8?Y>>>8-H:(Y=Y<<8|ve[D>>8&255],H<=16?Y>>>16-H:(Y=Y<<8|ve[D>>16&255],Y>>>24-H))}function ft(D,H){var Y=H&7,G=H>>>3;return(D[G]|(Y<=6?0:D[G+1]<<8))>>>Y&3}function et(D,H){var Y=H&7,G=H>>>3;return(D[G]|(Y<=5?0:D[G+1]<<8))>>>Y&7}function At(D,H){var Y=H&7,G=H>>>3;return(D[G]|(Y<=4?0:D[G+1]<<8))>>>Y&15}function it(D,H){var Y=H&7,G=H>>>3;return(D[G]|(Y<=3?0:D[G+1]<<8))>>>Y&31}function Be(D,H){var Y=H&7,G=H>>>3;return(D[G]|(Y<=1?0:D[G+1]<<8))>>>Y&127}function jt(D,H,Y){var G=H&7,q=H>>>3,Z=(1<<Y)-1,fe=D[q]>>>G;return Y<8-G||(fe|=D[q+1]<<8-G,Y<16-G)||(fe|=D[q+2]<<16-G,Y<24-G)||(fe|=D[q+3]<<24-G),fe&Z}function fn(D,H,Y){var G=H&7,q=H>>>3;return G<=5?D[q]|=(Y&7)<<G:(D[q]|=Y<<G&255,D[q+1]=(Y&7)>>8-G),H+3}function Ln(D,H,Y){var G=H&7,q=H>>>3;return Y=(Y&1)<<G,D[q]|=Y,H+1}function mr(D,H,Y){var G=H&7,q=H>>>3;return Y<<=G,D[q]|=Y&255,Y>>>=8,D[q+1]=Y,H+8}function Xn(D,H,Y){var G=H&7,q=H>>>3;return Y<<=G,D[q]|=Y&255,Y>>>=8,D[q+1]=Y&255,D[q+2]=Y>>>8,H+16}function si(D,H){var Y=D.length,G=2*Y>H?2*Y:H+5,q=0;if(Y>=H)return D;if(rn){var Z=Cv(G);if(D.copy)D.copy(Z);else for(;q<D.length;++q)Z[q]=D[q];return Z}else if(ke){var fe=new Uint8Array(G);if(fe.set)fe.set(D);else for(;q<Y;++q)fe[q]=D[q];return fe}return D.length=G,D}function Nt(D){for(var H=new Array(D),Y=0;Y<D;++Y)H[Y]=0;return H}function In(D,H,Y){var G=1,q=0,Z=0,fe=0,Me=0,he=D.length,_e=ke?new Uint16Array(32):Nt(32);for(Z=0;Z<32;++Z)_e[Z]=0;for(Z=he;Z<Y;++Z)D[Z]=0;he=D.length;var xe=ke?new Uint16Array(he):Nt(he);for(Z=0;Z<he;++Z)_e[q=D[Z]]++,G<q&&(G=q),xe[Z]=0;for(_e[0]=0,Z=1;Z<=G;++Z)_e[Z+16]=Me=Me+_e[Z-1]<<1;for(Z=0;Z<he;++Z)Me=D[Z],Me!=0&&(xe[Z]=_e[Me+16]++);var $e=0;for(Z=0;Z<he;++Z)if($e=D[Z],$e!=0)for(Me=K(xe[Z],G)>>G-$e,fe=(1<<G+4-$e)-1;fe>=0;--fe)H[Me|fe<<$e]=$e&15|Z<<4;return G}var ci=ke?new Uint16Array(512):Nt(512),Kr=ke?new Uint16Array(32):Nt(32);if(!ke){for(var zt=0;zt<512;++zt)ci[zt]=0;for(zt=0;zt<32;++zt)Kr[zt]=0}(function(){for(var D=[],H=0;H<32;H++)D.push(5);In(D,Kr,32);var Y=[];for(H=0;H<=143;H++)Y.push(8);for(;H<=255;H++)Y.push(9);for(;H<=279;H++)Y.push(7);for(;H<=287;H++)Y.push(8);In(Y,ci,288)})();var Oi=function(){for(var H=ke?new Uint8Array(32768):[],Y=0,G=0;Y<Ae.length-1;++Y)for(;G<Ae[Y+1];++G)H[G]=Y;for(;G<32768;++G)H[G]=29;var q=ke?new Uint8Array(259):[];for(Y=0,G=0;Y<me.length-1;++Y)for(;G<me[Y+1];++G)q[G]=Y;function Z(Me,he){for(var _e=0;_e<Me.length;){var xe=Math.min(65535,Me.length-_e),$e=_e+xe==Me.length;for(he.write_shift(1,+$e),he.write_shift(2,xe),he.write_shift(2,~xe&65535);xe-- >0;)he[he.l++]=Me[_e++]}return he.l}function fe(Me,he){for(var _e=0,xe=0,$e=ke?new Uint16Array(32768):[];xe<Me.length;){var Ge=Math.min(65535,Me.length-xe);if(Ge<10){for(_e=fn(he,_e,+(xe+Ge==Me.length)),_e&7&&(_e+=8-(_e&7)),he.l=_e/8|0,he.write_shift(2,Ge),he.write_shift(2,~Ge&65535);Ge-- >0;)he[he.l++]=Me[xe++];_e=he.l*8;continue}_e=fn(he,_e,+(xe+Ge==Me.length)+2);for(var at=0;Ge-- >0;){var He=Me[xe];at=(at<<5^He)&32767;var Je=-1,ot=0;if((Je=$e[at])&&(Je|=xe&-32768,Je>xe&&(Je-=32768),Je<xe))for(;Me[Je+ot]==Me[xe+ot]&&ot<250;)++ot;if(ot>2){He=q[ot],He<=22?_e=mr(he,_e,ve[He+1]>>1)-1:(mr(he,_e,3),_e+=5,mr(he,_e,ve[He-23]>>5),_e+=3);var On=He<8?0:He-4>>2;On>0&&(Xn(he,_e,ot-me[He]),_e+=On),He=H[xe-Je],_e=mr(he,_e,ve[He]>>3),_e-=3;var br=He<4?0:He-2>>1;br>0&&(Xn(he,_e,xe-Je-Ae[He]),_e+=br);for(var ti=0;ti<ot;++ti)$e[at]=xe&32767,at=(at<<5^Me[xe])&32767,++xe;Ge-=ot-1}else He<=143?He=He+48:_e=Ln(he,_e,1),_e=mr(he,_e,ve[He]),$e[at]=xe&32767,++xe}_e=mr(he,_e,0)-1}return he.l=(_e+7)/8|0,he.l}return function(he,_e){return he.length<8?Z(he,_e):fe(he,_e)}}();function Pt(D){var H=we(50+Math.floor(D.length*1.1)),Y=Oi(D,H);return H.slice(0,Y)}var hn=ke?new Uint16Array(32768):Nt(32768),ji=ke?new Uint16Array(32768):Nt(32768),qn=ke?new Uint16Array(128):Nt(128),Zr=1,gc=1;function pp(D,H){var Y=it(D,H)+257;H+=5;var G=it(D,H)+1;H+=5;var q=At(D,H)+4;H+=4;for(var Z=0,fe=ke?new Uint8Array(19):Nt(19),Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],he=1,_e=ke?new Uint8Array(8):Nt(8),xe=ke?new Uint8Array(8):Nt(8),$e=fe.length,Ge=0;Ge<q;++Ge)fe[ie[Ge]]=Z=et(D,H),he<Z&&(he=Z),_e[Z]++,H+=3;var at=0;for(_e[0]=0,Ge=1;Ge<=he;++Ge)xe[Ge]=at=at+_e[Ge-1]<<1;for(Ge=0;Ge<$e;++Ge)(at=fe[Ge])!=0&&(Me[Ge]=xe[at]++);var He=0;for(Ge=0;Ge<$e;++Ge)if(He=fe[Ge],He!=0){at=ve[Me[Ge]]>>8-He;for(var Je=(1<<7-He)-1;Je>=0;--Je)qn[at|Je<<He]=He&7|Ge<<3}var ot=[];for(he=1;ot.length<Y+G;)switch(at=qn[Be(D,H)],H+=at&7,at>>>=3){case 16:for(Z=3+ft(D,H),H+=2,at=ot[ot.length-1];Z-- >0;)ot.push(at);break;case 17:for(Z=3+et(D,H),H+=3;Z-- >0;)ot.push(0);break;case 18:for(Z=11+Be(D,H),H+=7;Z-- >0;)ot.push(0);break;default:ot.push(at),he<at&&(he=at);break}var On=ot.slice(0,Y),br=ot.slice(Y);for(Ge=Y;Ge<286;++Ge)On[Ge]=0;for(Ge=G;Ge<30;++Ge)br[Ge]=0;return Zr=In(On,hn,286),gc=In(br,ji,30),H}function Kc(D,H){if(D[0]==3&&!(D[1]&3))return[ic(H),2];for(var Y=0,G=0,q=Cv(H||1<<18),Z=0,fe=q.length>>>0,Me=0,he=0;!(G&1);){if(G=et(D,Y),Y+=3,G>>>1)G>>1==1?(Me=9,he=5):(Y=pp(D,Y),Me=Zr,he=gc);else{Y&7&&(Y+=8-(Y&7));var _e=D[Y>>>3]|D[(Y>>>3)+1]<<8;if(Y+=32,_e>0)for(!H&&fe<Z+_e&&(q=si(q,Z+_e),fe=q.length);_e-- >0;)q[Z++]=D[Y>>>3],Y+=8;continue}for(;;){!H&&fe<Z+32767&&(q=si(q,Z+32767),fe=q.length);var xe=jt(D,Y,Me),$e=G>>>1==1?ci[xe]:hn[xe];if(Y+=$e&15,$e>>>=4,!($e>>>8&255))q[Z++]=$e;else{if($e==256)break;$e-=257;var Ge=$e<8?0:$e-4>>2;Ge>5&&(Ge=0);var at=Z+me[$e];Ge>0&&(at+=jt(D,Y,Ge),Y+=Ge),xe=jt(D,Y,he),$e=G>>>1==1?Kr[xe]:ji[xe],Y+=$e&15,$e>>>=4;var He=$e<4?0:$e-2>>1,Je=Ae[$e];for(He>0&&(Je+=jt(D,Y,He),Y+=He),!H&&fe<at&&(q=si(q,at+100),fe=q.length);Z<at;)q[Z]=q[Z-Je],++Z}}}return H?[q,Y+7>>>3]:[q.slice(0,Z),Y+7>>>3]}function V0(D,H){var Y=D.slice(D.l||0),G=Kc(Y,H);return D.l+=G[1],G[0]}function Cs(D,H){if(D)typeof console<"u"&&console.error(H);else throw new Error(H)}function Uo(D,H){var Y=D;xr(Y,0);var G=[],q=[],Z={FileIndex:G,FullPaths:q};k(Z,{root:H.root});for(var fe=Y.length-4;(Y[fe]!=80||Y[fe+1]!=75||Y[fe+2]!=5||Y[fe+3]!=6)&&fe>=0;)--fe;Y.l=fe+4,Y.l+=4;var Me=Y.read_shift(2);Y.l+=6;var he=Y.read_shift(4);for(Y.l=he,fe=0;fe<Me;++fe){Y.l+=20;var _e=Y.read_shift(4),xe=Y.read_shift(4),$e=Y.read_shift(2),Ge=Y.read_shift(2),at=Y.read_shift(2);Y.l+=8;var He=Y.read_shift(4),Je=s(Y.slice(Y.l+$e,Y.l+$e+Ge));Y.l+=$e+Ge+at;var ot=Y.l;Y.l=He+4,vd(Y,_e,xe,Z,Je),Y.l=ot}return Z}function vd(D,H,Y,G,q){D.l+=2;var Z=D.read_shift(2),fe=D.read_shift(2),Me=o(D);if(Z&8257)throw new Error("Unsupported ZIP encryption");for(var he=D.read_shift(4),_e=D.read_shift(4),xe=D.read_shift(4),$e=D.read_shift(2),Ge=D.read_shift(2),at="",He=0;He<$e;++He)at+=String.fromCharCode(D[D.l++]);if(Ge){var Je=s(D.slice(D.l,D.l+Ge));(Je[21589]||{}).mt&&(Me=Je[21589].mt),((q||{})[21589]||{}).mt&&(Me=q[21589].mt)}D.l+=Ge;var ot=D.slice(D.l,D.l+_e);switch(fe){case 8:ot=re(D,xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+fe)}var On=!1;Z&8&&(he=D.read_shift(4),he==134695760&&(he=D.read_shift(4),On=!0),_e=D.read_shift(4),xe=D.read_shift(4)),_e!=H&&Cs(On,"Bad compressed size: "+H+" != "+_e),xe!=Y&&Cs(On,"Bad uncompressed size: "+Y+" != "+xe),Md(G,at,ot,{unsafe:!0,mt:Me})}function Zc(D,H){var Y=H||{},G=[],q=[],Z=we(1),fe=Y.compression?8:0,Me=0,he=!1;he&&(Me|=8);var _e=0,xe=0,$e=0,Ge=0,at=D.FullPaths[0],He=at,Je=D.FileIndex[0],ot=[],On=0;for(_e=1;_e<D.FullPaths.length;++_e)if(He=D.FullPaths[_e].slice(at.length),Je=D.FileIndex[_e],!(!Je.size||!Je.content||He=="Sh33tJ5")){var br=$e,ti=we(He.length);for(xe=0;xe<He.length;++xe)ti.write_shift(1,He.charCodeAt(xe)&127);ti=ti.slice(0,ti.l),ot[Ge]=QA.buf(Je.content,0);var vr=Je.content;fe==8&&(vr=ne(vr)),Z=we(30),Z.write_shift(4,67324752),Z.write_shift(2,20),Z.write_shift(2,Me),Z.write_shift(2,fe),Je.mt?a(Z,Je.mt):Z.write_shift(4,0),Z.write_shift(-4,Me&8?0:ot[Ge]),Z.write_shift(4,Me&8?0:vr.length),Z.write_shift(4,Me&8?0:Je.content.length),Z.write_shift(2,ti.length),Z.write_shift(2,0),$e+=Z.length,G.push(Z),$e+=ti.length,G.push(ti),$e+=vr.length,G.push(vr),Me&8&&(Z=we(12),Z.write_shift(-4,ot[Ge]),Z.write_shift(4,vr.length),Z.write_shift(4,Je.content.length),$e+=Z.l,G.push(Z)),Z=we(46),Z.write_shift(4,33639248),Z.write_shift(2,0),Z.write_shift(2,20),Z.write_shift(2,Me),Z.write_shift(2,fe),Z.write_shift(4,0),Z.write_shift(-4,ot[Ge]),Z.write_shift(4,vr.length),Z.write_shift(4,Je.content.length),Z.write_shift(2,ti.length),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(4,0),Z.write_shift(4,br),On+=Z.l,q.push(Z),On+=ti.length,q.push(ti),++Ge}return Z=we(22),Z.write_shift(4,101010256),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,Ge),Z.write_shift(2,Ge),Z.write_shift(4,On),Z.write_shift(4,$e),Z.write_shift(2,0),gr([gr(G),gr(q),Z])}var nt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function fp(D,H){if(D.ctype)return D.ctype;var Y=D.name||"",G=Y.match(/\.([^\.]+)$/);return G&&nt[G[1]]||H&&(G=(Y=H).match(/[\.\\]([^\.\\])+$/),G&&nt[G[1]])?nt[G[1]]:"application/octet-stream"}function hp(D){for(var H=m0(D),Y=[],G=0;G<H.length;G+=76)Y.push(H.slice(G,G+76));return Y.join(`\r
`)+`\r
`}function za(D){var H=D.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(_e){var xe=_e.charCodeAt(0).toString(16).toUpperCase();return"="+(xe.length==1?"0"+xe:xe)});H=H.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),H.charAt(0)==`
`&&(H="=0D"+H.slice(1)),H=H.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Y=[],G=H.split(`\r
`),q=0;q<G.length;++q){var Z=G[q];if(Z.length==0){Y.push("");continue}for(var fe=0;fe<Z.length;){var Me=76,he=Z.slice(fe,fe+Me);he.charAt(Me-1)=="="?Me--:he.charAt(Me-2)=="="?Me-=2:he.charAt(Me-3)=="="&&(Me-=3),he=Z.slice(fe,fe+Me),fe+=Me,fe<Z.length&&(he+="="),Y.push(he)}}return Y.join(`\r
`)}function Qr(D){for(var H=[],Y=0;Y<D.length;++Y){for(var G=D[Y];Y<=D.length&&G.charAt(G.length-1)=="=";)G=G.slice(0,G.length-1)+D[++Y];H.push(G)}for(var q=0;q<H.length;++q)H[q]=H[q].replace(/[=][0-9A-Fa-f]{2}/g,function(Z){return String.fromCharCode(parseInt(Z.slice(1),16))});return Ca(H.join(`\r
`))}function an(D,H,Y){for(var G="",q="",Z="",fe,Me=0;Me<10;++Me){var he=H[Me];if(!he||he.match(/^\s*$/))break;var _e=he.match(/^(.*?):\s*([^\s].*)$/);if(_e)switch(_e[1].toLowerCase()){case"content-location":G=_e[2].trim();break;case"content-type":Z=_e[2].trim();break;case"content-transfer-encoding":q=_e[2].trim();break}}switch(++Me,q.toLowerCase()){case"base64":fe=Ca(va(H.slice(Me).join("")));break;case"quoted-printable":fe=Qr(H.slice(Me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+q)}var xe=Md(D,G.slice(Y.length),fe,{unsafe:!0});Z&&(xe.ctype=Z)}function yd(D,H){if(be(D.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Y=H&&H.root||"",G=(rn&&Buffer.isBuffer(D)?D.toString("binary"):be(D)).split(`\r
`),q=0,Z="";for(q=0;q<G.length;++q)if(Z=G[q],!!/^Content-Location:/i.test(Z)&&(Z=Z.slice(Z.indexOf("file")),Y||(Y=Z.slice(0,Z.lastIndexOf("/")+1)),Z.slice(0,Y.length)!=Y))for(;Y.length>0&&(Y=Y.slice(0,Y.length-1),Y=Y.slice(0,Y.lastIndexOf("/")+1),Z.slice(0,Y.length)!=Y););var fe=(G[1]||"").match(/boundary="(.*?)"/);if(!fe)throw new Error("MAD cannot find boundary");var Me="--"+(fe[1]||""),he=[],_e=[],xe={FileIndex:he,FullPaths:_e};k(xe);var $e,Ge=0;for(q=0;q<G.length;++q){var at=G[q];at!==Me&&at!==Me+"--"||(Ge++&&an(xe,G.slice($e,q),Y),$e=q)}return xe}function yn(D,H){var Y=H||{},G=Y.boundary||"SheetJS";G="------="+G;for(var q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+G.slice(2)+'"',"","",""],Z=D.FullPaths[0],fe=Z,Me=D.FileIndex[0],he=1;he<D.FullPaths.length;++he)if(fe=D.FullPaths[he].slice(Z.length),Me=D.FileIndex[he],!(!Me.size||!Me.content||fe=="Sh33tJ5")){fe=fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ot){return"_x"+ot.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ot){return"_u"+ot.charCodeAt(0).toString(16)+"_"});for(var _e=Me.content,xe=rn&&Buffer.isBuffer(_e)?_e.toString("binary"):be(_e),$e=0,Ge=Math.min(1024,xe.length),at=0,He=0;He<=Ge;++He)(at=xe.charCodeAt(He))>=32&&at<128&&++$e;var Je=$e>=Ge*4/5;q.push(G),q.push("Content-Location: "+(Y.root||"file:///C:/SheetJS/")+fe),q.push("Content-Transfer-Encoding: "+(Je?"quoted-printable":"base64")),q.push("Content-Type: "+fp(Me,fe)),q.push(""),q.push(Je?za(xe):hp(xe))}return q.push(G+`--\r
`),q.join(`\r
`)}function uc(D){var H={};return k(H,D),H}function Md(D,H,Y,G){var q=G&&G.unsafe;q||k(D);var Z=!q&&yt.find(D,H);if(!Z){var fe=D.FullPaths[0];H.slice(0,fe.length)==fe?fe=H:(fe.slice(-1)!="/"&&(fe+="/"),fe=(fe+H).replace("//","/")),Z={name:r(H),type:2},D.FileIndex.push(Z),D.FullPaths.push(fe),q||yt.utils.cfb_gc(D)}return Z.content=Y,Z.size=Y?Y.length:0,G&&(G.CLSID&&(Z.clsid=G.CLSID),G.mt&&(Z.mt=G.mt),G.ct&&(Z.ct=G.ct)),Z}function Qc(D,H){k(D);var Y=yt.find(D,H);if(Y){for(var G=0;G<D.FileIndex.length;++G)if(D.FileIndex[G]==Y)return D.FileIndex.splice(G,1),D.FullPaths.splice(G,1),!0}return!1}function qi(D,H,Y){k(D);var G=yt.find(D,H);if(G){for(var q=0;q<D.FileIndex.length;++q)if(D.FileIndex[q]==G)return D.FileIndex[q].name=r(Y),D.FullPaths[q]=Y,!0}return!1}function Ya(D){B(D,!0)}return t.find=J,t.read=A,t.parse=m,t.write=Te,t.writeFile=je,t.utils={cfb_new:uc,cfb_add:Md,cfb_del:Qc,cfb_mov:qi,cfb_gc:Ya,ReadShift:r0,CheckField:tM,prep_blob:xr,bconcat:gr,use_zlib:Q,_deflateRaw:Pt,_inflateRaw:V0,consts:Se},t}(),id;function JA(n){return typeof n=="string"?zm(n):Array.isArray(n)?OA(n):n}function w0(n,t,i){if(typeof id<"u"&&id.writeFileSync)return i?id.writeFileSync(n,t,i):id.writeFileSync(n,t);if(typeof Deno<"u"){if(i&&typeof t=="string")switch(i){case"utf8":t=new TextEncoder(i).encode(t);break;case"binary":t=zm(t);break;default:throw new Error("Unsupported encoding "+i)}return Deno.writeFileSync(n,t)}var e=i=="utf8"?Vo(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(e,n);if(typeof Blob<"u"){var r=new Blob([JA(e)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,n);if(typeof saveAs<"u")return saveAs(r,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(r);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:n,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=n,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(n);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=sc(t)),s.write(t),s.close(),t}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+n)}function eI(n){if(typeof id<"u")return id.readFileSync(n);if(typeof Deno<"u")return Deno.readFileSync(n);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(n);t.open("r"),t.encoding="binary";var i=t.read();return t.close(),i}catch(e){if(!e.message||!e.message.match(/onstruct/))throw e}throw new Error("Cannot access file "+n)}function Ci(n){for(var t=Object.keys(n),i=[],e=0;e<t.length;++e)Object.prototype.hasOwnProperty.call(n,t[e])&&i.push(t[e]);return i}function Sv(n,t){for(var i=[],e=Ci(n),r=0;r!==e.length;++r)i[n[e[r]][t]]==null&&(i[n[e[r]][t]]=e[r]);return i}function Um(n){for(var t=[],i=Ci(n),e=0;e!==i.length;++e)t[n[i[e]]]=i[e];return t}function Gm(n){for(var t=[],i=Ci(n),e=0;e!==i.length;++e)t[n[i[e]]]=parseInt(i[e],10);return t}function tI(n){for(var t=[],i=Ci(n),e=0;e!==i.length;++e)t[n[i[e]]]==null&&(t[n[i[e]]]=[]),t[n[i[e]]].push(i[e]);return t}var Im=new Date(1899,11,30,0,0,0);function Xi(n,t){var i=n.getTime();t&&(i-=1462*24*60*60*1e3);var e=Im.getTime()+(n.getTimezoneOffset()-Im.getTimezoneOffset())*6e4;return(i-e)/(24*60*60*1e3)}var By=new Date,nI=Im.getTime()+(By.getTimezoneOffset()-Im.getTimezoneOffset())*6e4,kv=By.getTimezoneOffset();function Wm(n){var t=new Date;return t.setTime(n*24*60*60*1e3+nI),t.getTimezoneOffset()!==kv&&t.setTime(t.getTime()+(t.getTimezoneOffset()-kv)*6e4),t}function iI(n){var t=0,i=0,e=!1,r=n.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!r)throw new Error("|"+n+"| is not an ISO8601 Duration");for(var a=1;a!=r.length;++a)if(r[a]){switch(i=1,a>3&&(e=!0),r[a].slice(r[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+r[a].slice(r[a].length-1));case"D":i*=24;case"H":i*=60;case"M":if(e)i*=60;else throw new Error("Unsupported ISO Duration Field: M");case"S":break}t+=i*parseInt(r[a],10)}return t}var Tv=new Date("2017-02-19T19:06:09.000Z"),Vy=isNaN(Tv.getFullYear())?new Date("2/19/17"):Tv,rI=Vy.getFullYear()==2017;function Wn(n,t){var i=new Date(n);if(rI)return t>0?i.setTime(i.getTime()+i.getTimezoneOffset()*60*1e3):t<0&&i.setTime(i.getTime()-i.getTimezoneOffset()*60*1e3),i;if(n instanceof Date)return n;if(Vy.getFullYear()==1917&&!isNaN(i.getFullYear())){var e=i.getFullYear();return n.indexOf(""+e)>-1||i.setFullYear(i.getFullYear()+100),i}var r=n.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+r[0],+r[1]-1,+r[2],+r[3]||0,+r[4]||0,+r[5]||0);return n.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Nc(n,t){if(rn&&Buffer.isBuffer(n)){if(t){if(n[0]==255&&n[1]==254)return Vo(n.slice(2).toString("utf16le"));if(n[1]==254&&n[2]==255)return Vo(wy(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(n[0]==255&&n[1]==254)return Vo(new TextDecoder("utf-16le").decode(n.slice(2)));if(n[0]==254&&n[1]==255)return Vo(new TextDecoder("utf-16be").decode(n.slice(2)))}var i={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(a){return i[a]||a})}catch{}for(var e=[],r=0;r!=n.length;++r)e.push(String.fromCharCode(n[r]));return e.join("")}function Hn(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=Hn(n[i]));return t}function hi(n,t){for(var i="";i.length<t;)i+=n;return i}function oo(n){var t=Number(n);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(n))return t;var i=1,e=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return i*=100,""});return!isNaN(t=Number(e))||(e=e.replace(/[(](.*)[)]/,function(r,a){return i=-i,a}),!isNaN(t=Number(e)))?t/i:t}var aI=["january","february","march","april","may","june","july","august","september","october","november","december"];function dd(n){var t=new Date(n),i=new Date(NaN),e=t.getYear(),r=t.getMonth(),a=t.getDate();if(isNaN(a))return i;var o=n.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&aI.indexOf(o)==-1)return i}else if(o.match(/[a-z]/))return i;return e<0||e>8099?i:(r>0||a>1)&&e!=101?t:n.match(/[^-0-9:,\/\\]/)?i:t}var oI=function(){var n="abacaba".split(/(:?b)/i).length==5;return function(i,e,r){if(n||typeof e=="string")return i.split(e);for(var a=i.split(e),o=[a[0]],s=1;s<a.length;++s)o.push(r),o.push(a[s]);return o}}();function $y(n){return n?n.content&&n.type?Nc(n.content,!0):n.data?t0(n.data):n.asNodeBuffer&&rn?t0(n.asNodeBuffer().toString("binary")):n.asBinary?t0(n.asBinary()):n._data&&n._data.getContent?t0(Nc(Array.prototype.slice.call(n._data.getContent(),0))):null:null}function jy(n){if(!n)return null;if(n.data)return Yf(n.data);if(n.asNodeBuffer&&rn)return n.asNodeBuffer();if(n._data&&n._data.getContent){var t=n._data.getContent();return typeof t=="string"?Yf(t):Array.prototype.slice.call(t)}return n.content&&n.type?n.content:null}function sI(n){return n&&n.name.slice(-4)===".bin"?jy(n):$y(n)}function La(n,t){for(var i=n.FullPaths||Ci(n.files),e=t.toLowerCase().replace(/[\/]/g,"\\"),r=e.replace(/\\/g,"/"),a=0;a<i.length;++a){var o=i[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(e==o||r==o)return n.files?n.files[i[a]]:n.FileIndex[a]}return null}function sh(n,t){var i=La(n,t);if(i==null)throw new Error("Cannot find file "+t+" in zip");return i}function Vi(n,t,i){if(!i)return sI(sh(n,t));if(!t)return null;try{return Vi(n,t)}catch{return null}}function ba(n,t,i){if(!i)return $y(sh(n,t));if(!t)return null;try{return ba(n,t)}catch{return null}}function zy(n,t,i){if(!i)return jy(sh(n,t));if(!t)return null;try{return zy(n,t)}catch{return null}}function Ev(n){for(var t=n.FullPaths||Ci(n.files),i=[],e=0;e<t.length;++e)t[e].slice(-1)!="/"&&i.push(t[e].replace(/^Root Entry[\/]/,""));return i.sort()}function Xt(n,t,i){if(n.FullPaths){if(typeof i=="string"){var e;return rn?e=fs(i):e=wA(i),yt.utils.cfb_add(n,t,e)}yt.utils.cfb_add(n,t,i)}else n.file(t,i)}function ch(){return yt.utils.cfb_new()}function Yy(n,t){switch(t.type){case"base64":return yt.read(n,{type:"base64"});case"binary":return yt.read(n,{type:"binary"});case"buffer":case"array":return yt.read(n,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function i0(n,t){if(n.charAt(0)=="/")return n.slice(1);var i=t.split("/");t.slice(-1)!="/"&&i.pop();for(var e=n.split("/");e.length!==0;){var r=e.shift();r===".."?i.pop():r!=="."&&i.push(r)}return i.join("/")}var Pi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,cI=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Av=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,lI=/<[^>]*>/g,Yr=Pi.match(Av)?Av:lI,dI=/<\w*:/,gI=/<(\/?)\w+:/;function Ft(n,t,i){for(var e={},r=0,a=0;r!==n.length&&!((a=n.charCodeAt(r))===32||a===10||a===13);++r);if(t||(e[0]=n.slice(0,r)),r===n.length)return e;var o=n.match(cI),s=0,d="",u=0,m="",f="",_=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],a=0;a!=f.length&&f.charCodeAt(a)!==61;++a);for(m=f.slice(0,a).trim();f.charCodeAt(a+1)==32;)++a;for(_=(r=f.charCodeAt(a+1))==34||r==39?1:0,d=f.slice(a+1+_,f.length-_),s=0;s!=m.length&&m.charCodeAt(s)!==58;++s);if(s===m.length)m.indexOf("_")>0&&(m=m.slice(0,m.indexOf("_"))),e[m]=d,i||(e[m.toLowerCase()]=d);else{var x=(s===5&&m.slice(0,5)==="xmlns"?"xmlns":"")+m.slice(s+1);if(e[x]&&m.slice(s-3,s)=="ext")continue;e[x]=d,i||(e[x.toLowerCase()]=d)}}return e}function jo(n){return n.replace(gI,"<$1")}var Uy={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},lh=Um(Uy),mn=function(){var n=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function i(e){var r=e+"",a=r.indexOf("<![CDATA[");if(a==-1)return r.replace(n,function(s,d){return Uy[s]||String.fromCharCode(parseInt(d,s.indexOf("x")>-1?16:10))||s}).replace(t,function(s,d){return String.fromCharCode(parseInt(d,16))});var o=r.indexOf("]]>");return i(r.slice(0,a))+r.slice(a+9,o)+i(r.slice(o+3))}}(),dh=/[&<>'"]/g,uI=/[\u0000-\u0008\u000b-\u001f]/g;function Tn(n){var t=n+"";return t.replace(dh,function(i){return lh[i]}).replace(uI,function(i){return"_x"+("000"+i.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Iv(n){return Tn(n).replace(/ /g,"_x0020_")}var Gy=/[\u0000-\u001f]/g;function gh(n){var t=n+"";return t.replace(dh,function(i){return lh[i]}).replace(/\n/g,"<br/>").replace(Gy,function(i){return"&#x"+("000"+i.charCodeAt(0).toString(16)).slice(-4)+";"})}function mI(n){var t=n+"";return t.replace(dh,function(i){return lh[i]}).replace(Gy,function(i){return"&#x"+i.charCodeAt(0).toString(16).toUpperCase()+";"})}var Dv=function(){var n=/&#(\d+);/g;function t(i,e){return String.fromCharCode(parseInt(e,10))}return function(e){return e.replace(n,t)}}();function pI(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function Gn(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Ef(n){for(var t="",i=0,e=0,r=0,a=0,o=0,s=0;i<n.length;){if(e=n.charCodeAt(i++),e<128){t+=String.fromCharCode(e);continue}if(r=n.charCodeAt(i++),e>191&&e<224){o=(e&31)<<6,o|=r&63,t+=String.fromCharCode(o);continue}if(a=n.charCodeAt(i++),e<240){t+=String.fromCharCode((e&15)<<12|(r&63)<<6|a&63);continue}o=n.charCodeAt(i++),s=((e&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(s&1023))}return t}function Fv(n){var t=ic(2*n.length),i,e,r=1,a=0,o=0,s;for(e=0;e<n.length;e+=r)r=1,(s=n.charCodeAt(e))<128?i=s:s<224?(i=(s&31)*64+(n.charCodeAt(e+1)&63),r=2):s<240?(i=(s&15)*4096+(n.charCodeAt(e+1)&63)*64+(n.charCodeAt(e+2)&63),r=3):(r=4,i=(s&7)*262144+(n.charCodeAt(e+1)&63)*4096+(n.charCodeAt(e+2)&63)*64+(n.charCodeAt(e+3)&63),i-=65536,o=55296+(i>>>10&1023),i=56320+(i&1023)),o!==0&&(t[a++]=o&255,t[a++]=o>>>8,o=0),t[a++]=i%256,t[a++]=i>>>8;return t.slice(0,a).toString("ucs2")}function Rv(n){return fs(n,"binary").toString("utf8")}var Cm="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",An=rn&&(Rv(Cm)==Ef(Cm)&&Rv||Fv(Cm)==Ef(Cm)&&Fv)||Ef,Vo=rn?function(n){return fs(n,"utf8").toString("binary")}:function(n){for(var t=[],i=0,e=0,r=0;i<n.length;)switch(e=n.charCodeAt(i++),!0){case e<128:t.push(String.fromCharCode(e));break;case e<2048:t.push(String.fromCharCode(192+(e>>6))),t.push(String.fromCharCode(128+(e&63)));break;case(e>=55296&&e<57344):e-=55296,r=n.charCodeAt(i++)-56320+(e<<10),t.push(String.fromCharCode(240+(r>>18&7))),t.push(String.fromCharCode(144+(r>>12&63))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)));break;default:t.push(String.fromCharCode(224+(e>>12))),t.push(String.fromCharCode(128+(e>>6&63))),t.push(String.fromCharCode(128+(e&63)))}return t.join("")},f0=function(){var n={};return function(i,e){var r=i+"|"+(e||"");return n[r]?n[r]:n[r]=new RegExp("<(?:\\w+:)?"+i+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+i+">",e||"")}}(),Wy=function(){var n=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(i){for(var e=i.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),r=0;r<n.length;++r)e=e.replace(n[r][0],n[r][1]);return e}}(),fI=function(){var n={};return function(i){return n[i]!==void 0?n[i]:n[i]=new RegExp("<(?:vt:)?"+i+">([\\s\\S]*?)</(?:vt:)?"+i+">","g")}}(),hI=/<\/?(?:vt:)?variant>/g,_I=/<(?:vt:)([^>]*)>([\s\S]*)</;function Nv(n,t){var i=Ft(n),e=n.match(fI(i.baseType))||[],r=[];if(e.length!=i.size){if(t.WTF)throw new Error("unexpected vector length "+e.length+" != "+i.size);return r}return e.forEach(function(a){var o=a.replace(hI,"").match(_I);o&&r.push({v:An(o[2]),t:o[1]})}),r}var Hy=/(^\s|\s$|\n)/;function Cr(n,t){return"<"+n+(t.match(Hy)?' xml:space="preserve"':"")+">"+t+"</"+n+">"}function h0(n){return Ci(n).map(function(t){return" "+t+'="'+n[t]+'"'}).join("")}function Xe(n,t,i){return"<"+n+(i!=null?h0(i):"")+(t!=null?(t.match(Hy)?' xml:space="preserve"':"")+">"+t+"</"+n:"/")+">"}function Uf(n,t){try{return n.toISOString().replace(/\.\d*/,"")}catch(i){if(t)throw i}return""}function xI(n,t){switch(typeof n){case"string":var i=Xe("vt:lpwstr",Tn(n));return t&&(i=i.replace(/&quot;/g,"_x0022_")),i;case"number":return Xe((n|0)==n?"vt:i4":"vt:r8",Tn(String(n)));case"boolean":return Xe("vt:bool",n?"true":"false")}if(n instanceof Date)return Xe("vt:filetime",Uf(n));throw new Error("Unable to serialize "+n)}function uh(n){if(rn&&Buffer.isBuffer(n))return n.toString("utf8");if(typeof n=="string")return n;if(typeof Uint8Array<"u"&&n instanceof Uint8Array)return An(sc(rh(n)));throw new Error("Bad input format: expected Buffer or string")}var _0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Hi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},jc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],xa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function CI(n,t){for(var i=1-2*(n[t+7]>>>7),e=((n[t+7]&127)<<4)+(n[t+6]>>>4&15),r=n[t+6]&15,a=5;a>=0;--a)r=r*256+n[t+a];return e==2047?r==0?i*(1/0):NaN:(e==0?e=-1022:(e-=1023,r+=Math.pow(2,52)),i*Math.pow(2,e-52)*r)}function bI(n,t,i){var e=(t<0||1/t==-1/0?1:0)<<7,r=0,a=0,o=e?-t:t;isFinite(o)?o==0?r=a=0:(r=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-r),r<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?r=-1022:(a-=Math.pow(2,52),r+=1023)):(r=2047,a=isNaN(t)?26985:0);for(var s=0;s<=5;++s,a/=256)n[i+s]=a&255;n[i+6]=(r&15)<<4|a&15,n[i+7]=r>>4|e}var Lv=function(n){for(var t=[],i=10240,e=0;e<n[0].length;++e)if(n[0][e])for(var r=0,a=n[0][e].length;r<a;r+=i)t.push.apply(t,n[0][e].slice(r,r+i));return t},Bv=rn?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(t){return Buffer.isBuffer(t)?t:fs(t)})):Lv(n)}:Lv,Vv=function(n,t,i){for(var e=[],r=t;r<i;r+=2)e.push(String.fromCharCode(ds(n,r)));return e.join("").replace($r,"")},Hm=rn?function(n,t,i){return Buffer.isBuffer(n)?n.toString("utf16le",t,i).replace($r,""):Vv(n,t,i)}:Vv,$v=function(n,t,i){for(var e=[],r=t;r<t+i;++r)e.push(("0"+n[r].toString(16)).slice(-2));return e.join("")},Xy=rn?function(n,t,i){return Buffer.isBuffer(n)?n.toString("hex",t,t+i):$v(n,t,i)}:$v,jv=function(n,t,i){for(var e=[],r=t;r<i;r++)e.push(String.fromCharCode(nd(n,r)));return e.join("")},fd=rn?function(t,i,e){return Buffer.isBuffer(t)?t.toString("utf8",i,e):jv(t,i,e)}:jv,qy=function(n,t){var i=dr(n,t);return i>0?fd(n,t+4,t+4+i-1):""},mh=qy,Ky=function(n,t){var i=dr(n,t);return i>0?fd(n,t+4,t+4+i-1):""},ph=Ky,Zy=function(n,t){var i=2*dr(n,t);return i>0?fd(n,t+4,t+4+i-1):""},fh=Zy,Qy=function(t,i){var e=dr(t,i);return e>0?Hm(t,i+4,i+4+e):""},hh=Qy,Jy=function(n,t){var i=dr(n,t);return i>0?fd(n,t+4,t+4+i):""},_h=Jy,eM=function(n,t){return CI(n,t)},Dm=eM,xh=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};rn&&(mh=function(t,i){if(!Buffer.isBuffer(t))return qy(t,i);var e=t.readUInt32LE(i);return e>0?t.toString("utf8",i+4,i+4+e-1):""},ph=function(t,i){if(!Buffer.isBuffer(t))return Ky(t,i);var e=t.readUInt32LE(i);return e>0?t.toString("utf8",i+4,i+4+e-1):""},fh=function(t,i){if(!Buffer.isBuffer(t))return Zy(t,i);var e=2*t.readUInt32LE(i);return t.toString("utf16le",i+4,i+4+e-1)},hh=function(t,i){if(!Buffer.isBuffer(t))return Qy(t,i);var e=t.readUInt32LE(i);return t.toString("utf16le",i+4,i+4+e)},_h=function(t,i){if(!Buffer.isBuffer(t))return Jy(t,i);var e=t.readUInt32LE(i);return t.toString("utf8",i+4,i+4+e)},Dm=function(t,i){return Buffer.isBuffer(t)?t.readDoubleLE(i):eM(t,i)},xh=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});function vI(){Hm=function(n,t,i){return Pn.utils.decode(1200,n.slice(t,i)).replace($r,"")},fd=function(n,t,i){return Pn.utils.decode(65001,n.slice(t,i))},mh=function(n,t){var i=dr(n,t);return i>0?Pn.utils.decode(ld,n.slice(t+4,t+4+i-1)):""},ph=function(n,t){var i=dr(n,t);return i>0?Pn.utils.decode($o,n.slice(t+4,t+4+i-1)):""},fh=function(n,t){var i=2*dr(n,t);return i>0?Pn.utils.decode(1200,n.slice(t+4,t+4+i-1)):""},hh=function(n,t){var i=dr(n,t);return i>0?Pn.utils.decode(1200,n.slice(t+4,t+4+i)):""},_h=function(n,t){var i=dr(n,t);return i>0?Pn.utils.decode(65001,n.slice(t+4,t+4+i)):""}}typeof Pn<"u"&&vI();var nd=function(n,t){return n[t]},ds=function(n,t){return n[t+1]*256+n[t]},yI=function(n,t){var i=n[t+1]*256+n[t];return i<32768?i:(65535-i+1)*-1},dr=function(n,t){return n[t+3]*(1<<24)+(n[t+2]<<16)+(n[t+1]<<8)+n[t]},Tc=function(n,t){return n[t+3]<<24|n[t+2]<<16|n[t+1]<<8|n[t]},MI=function(n,t){return n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3]};function r0(n,t){var i="",e,r,a=[],o,s,d,u;switch(t){case"dbcs":if(u=this.l,rn&&Buffer.isBuffer(this))i=this.slice(this.l,this.l+2*n).toString("utf16le");else for(d=0;d<n;++d)i+=String.fromCharCode(ds(this,u)),u+=2;n*=2;break;case"utf8":i=fd(this,this.l,this.l+n);break;case"utf16le":n*=2,i=Hm(this,this.l,this.l+n);break;case"wstr":if(typeof Pn<"u")i=Pn.utils.decode($o,this.slice(this.l,this.l+2*n));else return r0.call(this,n,"dbcs");n=2*n;break;case"lpstr-ansi":i=mh(this,this.l),n=4+dr(this,this.l);break;case"lpstr-cp":i=ph(this,this.l),n=4+dr(this,this.l);break;case"lpwstr":i=fh(this,this.l),n=4+2*dr(this,this.l);break;case"lpp4":n=4+dr(this,this.l),i=hh(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+dr(this,this.l),i=_h(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,i="";(o=nd(this,this.l+n++))!==0;)a.push(xm(o));i=a.join("");break;case"_wstr":for(n=0,i="";(o=ds(this,this.l+n))!==0;)a.push(xm(o)),n+=2;n+=2,i=a.join("");break;case"dbcs-cont":for(i="",u=this.l,d=0;d<n;++d){if(this.lens&&this.lens.indexOf(u)!==-1)return o=nd(this,u),this.l=u+1,s=r0.call(this,n-d,o?"dbcs-cont":"sbcs-cont"),a.join("")+s;a.push(xm(ds(this,u))),u+=2}i=a.join(""),n*=2;break;case"cpstr":if(typeof Pn<"u"){i=Pn.utils.decode($o,this.slice(this.l,this.l+n));break}case"sbcs-cont":for(i="",u=this.l,d=0;d!=n;++d){if(this.lens&&this.lens.indexOf(u)!==-1)return o=nd(this,u),this.l=u+1,s=r0.call(this,n-d,o?"dbcs-cont":"sbcs-cont"),a.join("")+s;a.push(xm(nd(this,u))),u+=1}i=a.join("");break;default:switch(n){case 1:return e=nd(this,this.l),this.l++,e;case 2:return e=(t==="i"?yI:ds)(this,this.l),this.l+=2,e;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(e=(n>0?Tc:MI)(this,this.l),this.l+=4,e):(r=dr(this,this.l),this.l+=4,r);case 8:case-8:if(t==="f")return n==8?r=Dm(this,this.l):r=Dm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;n=8;case 16:i=Xy(this,this.l,n);break}}return this.l+=n,i}var PI=function(n,t,i){n[i]=t&255,n[i+1]=t>>>8&255,n[i+2]=t>>>16&255,n[i+3]=t>>>24&255},OI=function(n,t,i){n[i]=t&255,n[i+1]=t>>8&255,n[i+2]=t>>16&255,n[i+3]=t>>24&255},wI=function(n,t,i){n[i]=t&255,n[i+1]=t>>>8&255};function SI(n,t,i){var e=0,r=0;if(i==="dbcs"){for(r=0;r!=t.length;++r)wI(this,t.charCodeAt(r),this.l+2*r);e=2*t.length}else if(i==="sbcs"){if(typeof Pn<"u"&&ld==874)for(r=0;r!=t.length;++r){var a=Pn.utils.encode(ld,t.charAt(r));this[this.l+r]=a[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=t.length;++r)this[this.l+r]=t.charCodeAt(r)&255;e=t.length}else if(i==="hex"){for(;r<n;++r)this[this.l++]=parseInt(t.slice(2*r,2*r+2),16)||0;return this}else if(i==="utf16le"){var o=Math.min(this.l+n,this.length);for(r=0;r<Math.min(t.length,n);++r){var s=t.charCodeAt(r);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(n){case 1:e=1,this[this.l]=t&255;break;case 2:e=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:e=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:e=4,PI(this,t,this.l);break;case 8:if(e=8,i==="f"){bI(this,t,this.l);break}case 16:break;case-4:e=4,OI(this,t,this.l);break}return this.l+=e,this}function tM(n,t){var i=Xy(this,this.l,n.length>>1);if(i!==n)throw new Error(t+"Expected "+n+" saw "+i);this.l+=n.length>>1}function xr(n,t){n.l=t,n.read_shift=r0,n.chk=tM,n.write_shift=SI}function zr(n,t){n.l+=t}function we(n){var t=ic(n);return xr(t,0),t}function hs(n,t,i){if(n){var e,r,a;xr(n,n.l||0);for(var o=n.length,s=0,d=0;n.l<o;){s=n.read_shift(1),s&128&&(s=(s&127)+((n.read_shift(1)&127)<<7));var u=M0[s]||M0[65535];for(e=n.read_shift(1),a=e&127,r=1;r<4&&e&128;++r)a+=((e=n.read_shift(1))&127)<<7*r;d=n.l+a;var m=u.f&&u.f(n,a,i);if(n.l=d,t(m,u,s))return}}}function ca(){var n=[],t=rn?256:2048,i=function(u){var m=we(u);return xr(m,0),m},e=i(t),r=function(){e&&(e.length>e.l&&(e=e.slice(0,e.l),e.l=e.length),e.length>0&&n.push(e),e=null)},a=function(u){return e&&u<e.length-e.l?e:(r(),e=i(Math.max(u+1,t)))},o=function(){return r(),gr(n)},s=function(u){r(),e=u,e.l==null&&(e.l=e.length),a(t)};return{next:a,push:s,end:o,_bufs:n}}function Re(n,t,i,e){var r=+t,a;if(!isNaN(r)){e||(e=M0[r].p||(i||[]).length||0),a=1+(r>=128?1:0)+1,e>=128&&++a,e>=16384&&++a,e>=2097152&&++a;var o=n.next(a);r<=127?o.write_shift(1,r):(o.write_shift(1,(r&127)+128),o.write_shift(1,r>>7));for(var s=0;s!=4;++s)if(e>=128)o.write_shift(1,(e&127)+128),e>>=7;else{o.write_shift(1,e);break}e>0&&xh(i)&&n.push(i)}}function a0(n,t,i){var e=Hn(n);if(t.s?(e.cRel&&(e.c+=t.s.c),e.rRel&&(e.r+=t.s.r)):(e.cRel&&(e.c+=t.c),e.rRel&&(e.r+=t.r)),!i||i.biff<12){for(;e.c>=256;)e.c-=256;for(;e.r>=65536;)e.r-=65536}return e}function zv(n,t,i){var e=Hn(n);return e.s=a0(e.s,t.s,i),e.e=a0(e.e,t.s,i),e}function o0(n,t){if(n.cRel&&n.c<0)for(n=Hn(n);n.c<0;)n.c+=t>8?16384:256;if(n.rRel&&n.r<0)for(n=Hn(n);n.r<0;)n.r+=t>8?1048576:t>5?65536:16384;var i=Et(n);return!n.cRel&&n.cRel!=null&&(i=EI(i)),!n.rRel&&n.rRel!=null&&(i=kI(i)),i}function Af(n,t){return n.s.r==0&&!n.s.rRel&&n.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+ai(n.s.c)+":"+(n.e.cRel?"":"$")+ai(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(t.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+Mi(n.s.r)+":"+(n.e.rRel?"":"$")+Mi(n.e.r):o0(n.s,t.biff)+":"+o0(n.e,t.biff)}function Ch(n){return parseInt(TI(n),10)-1}function Mi(n){return""+(n+1)}function kI(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function TI(n){return n.replace(/\$(\d+)$/,"$1")}function bh(n){for(var t=AI(n),i=0,e=0;e!==t.length;++e)i=26*i+t.charCodeAt(e)-64;return i-1}function ai(n){if(n<0)throw new Error("invalid column "+n);var t="";for(++n;n;n=Math.floor((n-1)/26))t=String.fromCharCode((n-1)%26+65)+t;return t}function EI(n){return n.replace(/^([A-Z])/,"$$$1")}function AI(n){return n.replace(/^\$([A-Z])/,"$1")}function II(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function oi(n){for(var t=0,i=0,e=0;e<n.length;++e){var r=n.charCodeAt(e);r>=48&&r<=57?t=10*t+(r-48):r>=65&&r<=90&&(i=26*i+(r-64))}return{c:i-1,r:t-1}}function Et(n){for(var t=n.c+1,i="";t;t=(t-1)/26|0)i=String.fromCharCode((t-1)%26+65)+i;return i+(n.r+1)}function la(n){var t=n.indexOf(":");return t==-1?{s:oi(n),e:oi(n)}:{s:oi(n.slice(0,t)),e:oi(n.slice(t+1))}}function Gt(n,t){return typeof t>"u"||typeof t=="number"?Gt(n.s,n.e):(typeof n!="string"&&(n=Et(n)),typeof t!="string"&&(t=Et(t)),n==t?n:n+":"+t)}function pn(n){var t={s:{c:0,r:0},e:{c:0,r:0}},i=0,e=0,r=0,a=n.length;for(i=0;e<a&&!((r=n.charCodeAt(e)-64)<1||r>26);++e)i=26*i+r;for(t.s.c=--i,i=0;e<a&&!((r=n.charCodeAt(e)-48)<0||r>9);++e)i=10*i+r;if(t.s.r=--i,e===a||r!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++e,i=0;e!=a&&!((r=n.charCodeAt(e)-64)<1||r>26);++e)i=26*i+r;for(t.e.c=--i,i=0;e!=a&&!((r=n.charCodeAt(e)-48)<0||r>9);++e)i=10*i+r;return t.e.r=--i,t}function Yv(n,t){var i=n.t=="d"&&t instanceof Date;if(n.z!=null)try{return n.w=$a(n.z,i?Xi(t):t)}catch{}try{return n.w=$a((n.XF||{}).numFmtId||(i?14:0),i?Xi(t):t)}catch{return""+t}}function ps(n,t,i){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&i&&i.dateNF&&(n.z=i.dateNF),n.t=="e"?_s[n.v]||n.v:t==null?Yv(n,n.v):Yv(n,t))}function cc(n,t){var i=t&&t.sheet?t.sheet:"Sheet1",e={};return e[i]=n,{SheetNames:[i],Sheets:e}}function nM(n,t,i){var e=i||{},r=n?Array.isArray(n):e.dense;xi!=null&&r==null&&(r=xi);var a=n||(r?[]:{}),o=0,s=0;if(a&&e.origin!=null){if(typeof e.origin=="number")o=e.origin;else{var d=typeof e.origin=="string"?oi(e.origin):e.origin;o=d.r,s=d.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var m=pn(a["!ref"]);u.s.c=m.s.c,u.s.r=m.s.r,u.e.c=Math.max(u.e.c,m.e.c),u.e.r=Math.max(u.e.r,m.e.r),o==-1&&(u.e.r=o=m.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var _=0;_!=t[f].length;++_)if(!(typeof t[f][_]>"u")){var x={v:t[f][_]},v=o+f,b=s+_;if(u.s.r>v&&(u.s.r=v),u.s.c>b&&(u.s.c=b),u.e.r<v&&(u.e.r=v),u.e.c<b&&(u.e.c=b),t[f][_]&&typeof t[f][_]=="object"&&!Array.isArray(t[f][_])&&!(t[f][_]instanceof Date))x=t[f][_];else if(Array.isArray(x.v)&&(x.f=t[f][_][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(e.nullError)x.t="e",x.v=0;else if(e.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=e.dateNF||St[14],e.cellDates?(x.t="d",x.w=$a(x.z,Xi(x.v))):(x.t="n",x.v=Xi(x.v),x.w=$a(x.z,x.v))):x.t="s";if(r)a[v]||(a[v]=[]),a[v][b]&&a[v][b].z&&(x.z=a[v][b].z),a[v][b]=x;else{var M=Et({c:b,r:v});a[M]&&a[M].z&&(x.z=a[M].z),a[M]=x}}}return u.s.c<1e7&&(a["!ref"]=Gt(u)),a}function hd(n,t){return nM(null,n,t)}function DI(n){return n.read_shift(4,"i")}function so(n,t){return t||(t=we(4)),t.write_shift(4,n),t}function jr(n){var t=n.read_shift(4);return t===0?"":n.read_shift(t,"dbcs")}function ur(n,t){var i=!1;return t==null&&(i=!0,t=we(4+2*n.length)),t.write_shift(4,n.length),n.length>0&&t.write_shift(0,n,"dbcs"),i?t.slice(0,t.l):t}function FI(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function RI(n,t){return t||(t=we(4)),t.write_shift(2,n.ich||0),t.write_shift(2,n.ifnt||0),t}function vh(n,t){var i=n.l,e=n.read_shift(1),r=jr(n),a=[],o={t:r,h:r};if(e&1){for(var s=n.read_shift(4),d=0;d!=s;++d)a.push(FI(n));o.r=a}else o.r=[{ich:0,ifnt:0}];return n.l=i+t,o}function NI(n,t){var i=!1;return t==null&&(i=!0,t=we(15+4*n.t.length)),t.write_shift(1,0),ur(n.t,t),i?t.slice(0,t.l):t}var LI=vh;function BI(n,t){var i=!1;return t==null&&(i=!0,t=we(23+4*n.t.length)),t.write_shift(1,1),ur(n.t,t),t.write_shift(4,1),RI({ich:0,ifnt:0},t),i?t.slice(0,t.l):t}function ja(n){var t=n.read_shift(4),i=n.read_shift(2);return i+=n.read_shift(1)<<16,n.l++,{c:t,iStyleRef:i}}function zc(n,t){return t==null&&(t=we(8)),t.write_shift(-4,n.c),t.write_shift(3,n.iStyleRef||n.s),t.write_shift(1,0),t}function Yc(n){var t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:t}}function Uc(n,t){return t==null&&(t=we(4)),t.write_shift(3,n.iStyleRef||n.s),t.write_shift(1,0),t}var VI=jr,iM=ur;function yh(n){var t=n.read_shift(4);return t===0||t===4294967295?"":n.read_shift(t,"dbcs")}function Fm(n,t){var i=!1;return t==null&&(i=!0,t=we(127)),t.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&t.write_shift(0,n,"dbcs"),i?t.slice(0,t.l):t}var $I=jr,Gf=yh,Mh=Fm;function Ph(n){var t=n.slice(n.l,n.l+4),i=t[0]&1,e=t[0]&2;n.l+=4;var r=e===0?Dm([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Tc(t,0)>>2;return i?r/100:r}function rM(n,t){t==null&&(t=we(4));var i=0,e=0,r=n*100;if(n==(n|0)&&n>=-(1<<29)&&n<1<<29?e=1:r==(r|0)&&r>=-(1<<29)&&r<1<<29&&(e=1,i=1),e)t.write_shift(-4,((i?r:n)<<2)+(i+2));else throw new Error("unsupported RkNumber "+n)}function aM(n){var t={s:{},e:{}};return t.s.r=n.read_shift(4),t.e.r=n.read_shift(4),t.s.c=n.read_shift(4),t.e.c=n.read_shift(4),t}function jI(n,t){return t||(t=we(16)),t.write_shift(4,n.s.r),t.write_shift(4,n.e.r),t.write_shift(4,n.s.c),t.write_shift(4,n.e.c),t}var Gc=aM,_d=jI;function Vr(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Lc(n,t){return(t||we(8)).write_shift(8,n,"f")}function zI(n){var t={},i=n.read_shift(1),e=i>>>1,r=n.read_shift(1),a=n.read_shift(2,"i"),o=n.read_shift(1),s=n.read_shift(1),d=n.read_shift(1);switch(n.l++,e){case 0:t.auto=1;break;case 1:t.index=r;var u=Ac[r];u&&(t.rgb=C0(u));break;case 2:t.rgb=C0([o,s,d]);break;case 3:t.theme=r;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function Rm(n,t){if(t||(t=we(8)),!n||n.auto)return t.write_shift(4,0),t.write_shift(4,0),t;n.index!=null?(t.write_shift(1,2),t.write_shift(1,n.index)):n.theme!=null?(t.write_shift(1,6),t.write_shift(1,n.theme)):(t.write_shift(1,5),t.write_shift(1,0));var i=n.tint||0;if(i>0?i*=32767:i<0&&(i*=32768),t.write_shift(2,i),!n.rgb||n.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var e=n.rgb||"FFFFFF";typeof e=="number"&&(e=("000000"+e.toString(16)).slice(-6)),t.write_shift(1,parseInt(e.slice(0,2),16)),t.write_shift(1,parseInt(e.slice(2,4),16)),t.write_shift(1,parseInt(e.slice(4,6),16)),t.write_shift(1,255)}return t}function YI(n){var t=n.read_shift(1);n.l++;var i={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return i}function UI(n,t){t||(t=we(2));var i=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return t.write_shift(1,i),t.write_shift(1,0),t}function oM(n,t){var i={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},e=n.read_shift(4);switch(e){case 0:return"";case 4294967295:case 4294967294:return i[n.read_shift(4)]||""}if(e>400)throw new Error("Unsupported Clipboard: "+e.toString(16));return n.l-=4,n.read_shift(0,t==1?"lpstr":"lpwstr")}function GI(n){return oM(n,1)}function WI(n){return oM(n,2)}var Oh=2,sa=3,bm=11,Uv=12,Nm=19;var vm=64,HI=65,XI=71;var qI=4108,KI=4126,lr=80,sM=81,ZI=[lr,sM],Wf={1:{n:"CodePage",t:Oh},2:{n:"Category",t:lr},3:{n:"PresentationFormat",t:lr},4:{n:"ByteCount",t:sa},5:{n:"LineCount",t:sa},6:{n:"ParagraphCount",t:sa},7:{n:"SlideCount",t:sa},8:{n:"NoteCount",t:sa},9:{n:"HiddenCount",t:sa},10:{n:"MultimediaClipCount",t:sa},11:{n:"ScaleCrop",t:bm},12:{n:"HeadingPairs",t:qI},13:{n:"TitlesOfParts",t:KI},14:{n:"Manager",t:lr},15:{n:"Company",t:lr},16:{n:"LinksUpToDate",t:bm},17:{n:"CharacterCount",t:sa},19:{n:"SharedDoc",t:bm},22:{n:"HyperlinksChanged",t:bm},23:{n:"AppVersion",t:sa,p:"version"},24:{n:"DigSig",t:HI},26:{n:"ContentType",t:lr},27:{n:"ContentStatus",t:lr},28:{n:"Language",t:lr},29:{n:"Version",t:lr},255:{},2147483648:{n:"Locale",t:Nm},2147483651:{n:"Behavior",t:Nm},1919054434:{}},Hf={1:{n:"CodePage",t:Oh},2:{n:"Title",t:lr},3:{n:"Subject",t:lr},4:{n:"Author",t:lr},5:{n:"Keywords",t:lr},6:{n:"Comments",t:lr},7:{n:"Template",t:lr},8:{n:"LastAuthor",t:lr},9:{n:"RevNumber",t:lr},10:{n:"EditTime",t:vm},11:{n:"LastPrinted",t:vm},12:{n:"CreatedDate",t:vm},13:{n:"ModifiedDate",t:vm},14:{n:"PageCount",t:sa},15:{n:"WordCount",t:sa},16:{n:"CharCount",t:sa},17:{n:"Thumbnail",t:XI},18:{n:"Application",t:lr},19:{n:"DocSecurity",t:sa},255:{},2147483648:{n:"Locale",t:Nm},2147483651:{n:"Behavior",t:Nm},1919054434:{}},Gv={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},QI=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function JI(n){return n.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var eD=JI([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ac=Hn(eD),_s={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},cM={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Xf={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ym={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function wh(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function tD(n){var t=wh();if(!n||!n.match)return t;var i={};if((n.match(Yr)||[]).forEach(function(e){var r=Ft(e);switch(r[0].replace(dI,"<")){case"<?xml":break;case"<Types":t.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":i[r.Extension]=r.ContentType;break;case"<Override":t[Xf[r.ContentType]]!==void 0&&t[Xf[r.ContentType]].push(r.PartName);break}}),t.xmlns!==Hi.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=i,delete t.calcchains,t}function lM(n,t){var i=tI(Xf),e=[],r;e[e.length]=Pi,e[e.length]=Xe("Types",null,{xmlns:Hi.CT,"xmlns:xsd":Hi.xsd,"xmlns:xsi":Hi.xsi}),e=e.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Xe("Default",null,{Extension:d[0],ContentType:d[1]})}));var a=function(d){n[d]&&n[d].length>0&&(r=n[d][0],e[e.length]=Xe("Override",null,{PartName:(r[0]=="/"?"":"/")+r,ContentType:ym[d][t.bookType]||ym[d].xlsx}))},o=function(d){(n[d]||[]).forEach(function(u){e[e.length]=Xe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:ym[d][t.bookType]||ym[d].xlsx})})},s=function(d){(n[d]||[]).forEach(function(u){e[e.length]=Xe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:i[d][0]})})};return a("workbooks"),o("sheets"),o("charts"),s("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),o("metadata"),s("people"),e.length>2&&(e[e.length]="</Types>",e[1]=e[1].replace("/>",">")),e.join("")}var qt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function x0(n){var t=n.lastIndexOf("/");return n.slice(0,t+1)+"_rels/"+n.slice(t+1)+".rels"}function s0(n,t){var i={"!id":{}};if(!n)return i;t.charAt(0)!=="/"&&(t="/"+t);var e={};return(n.match(Yr)||[]).forEach(function(r){var a=Ft(r);if(a[0]==="<Relationship"){var o={};o.Type=a.Type,o.Target=a.Target,o.Id=a.Id,a.TargetMode&&(o.TargetMode=a.TargetMode);var s=a.TargetMode==="External"?a.Target:i0(a.Target,t);i[s]=o,e[a.Id]=o}}),i["!id"]=e,i}function od(n){var t=[Pi,Xe("Relationships",null,{xmlns:Hi.RELS})];return Ci(n["!id"]).forEach(function(i){t[t.length]=Xe("Relationship",null,n["!id"][i])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function kn(n,t,i,e,r,a){if(r||(r={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),t<0)for(t=n["!idx"];n["!id"]["rId"+t];++t);if(n["!idx"]=t+1,r.Id="rId"+t,r.Type=e,r.Target=i,a?r.TargetMode=a:[qt.HLINK,qt.XPATH,qt.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),n["!id"][r.Id])throw new Error("Cannot rewrite rId "+t);return n["!id"][r.Id]=r,n[("/"+r.Target).replace("//","/")]=r,t}var nD="application/vnd.oasis.opendocument.spreadsheet";function iD(n,t){for(var i=uh(n),e,r;e=_0.exec(i);)switch(e[3]){case"manifest":break;case"file-entry":if(r=Ft(e[0],!1),r.path=="/"&&r.type!==nD)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw e}}function rD(n){var t=[Pi];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var i=0;i<n.length;++i)t.push('  <manifest:file-entry manifest:full-path="'+n[i][0]+'" manifest:media-type="'+n[i][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function Wv(n,t,i){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(i||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function aD(n,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function oD(n){var t=[Pi];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var i=0;i!=n.length;++i)t.push(Wv(n[i][0],n[i][1])),t.push(aD("",n[i][0]));return t.push(Wv("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function dM(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+u0.version+"</meta:generator></office:meta></office:document-meta>"}var Va=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],sD=function(){for(var n=new Array(Va.length),t=0;t<Va.length;++t){var i=Va[t],e="(?:"+i[0].slice(0,i[0].indexOf(":"))+":)"+i[0].slice(i[0].indexOf(":")+1);n[t]=new RegExp("<"+e+"[^>]*>([\\s\\S]*?)</"+e+">")}return n}();function gM(n){var t={};n=An(n);for(var i=0;i<Va.length;++i){var e=Va[i],r=n.match(sD[i]);r!=null&&r.length>0&&(t[e[1]]=mn(r[1])),e[2]==="date"&&t[e[1]]&&(t[e[1]]=Wn(t[e[1]]))}return t}function If(n,t,i,e,r){r[n]!=null||t==null||t===""||(r[n]=t,t=Tn(t),e[e.length]=i?Xe(n,t,i):Cr(n,t))}function uM(n,t){var i=t||{},e=[Pi,Xe("cp:coreProperties",null,{"xmlns:cp":Hi.CORE_PROPS,"xmlns:dc":Hi.dc,"xmlns:dcterms":Hi.dcterms,"xmlns:dcmitype":Hi.dcmitype,"xmlns:xsi":Hi.xsi})],r={};if(!n&&!i.Props)return e.join("");n&&(n.CreatedDate!=null&&If("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:Uf(n.CreatedDate,i.WTF),{"xsi:type":"dcterms:W3CDTF"},e,r),n.ModifiedDate!=null&&If("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:Uf(n.ModifiedDate,i.WTF),{"xsi:type":"dcterms:W3CDTF"},e,r));for(var a=0;a!=Va.length;++a){var o=Va[a],s=i.Props&&i.Props[o[1]]!=null?i.Props[o[1]]:n?n[o[1]]:null;s===!0?s="1":s===!1?s="0":typeof s=="number"&&(s=String(s)),s!=null&&If(o[0],s,null,e,r)}return e.length>2&&(e[e.length]="</cp:coreProperties>",e[1]=e[1].replace("/>",">")),e.join("")}var Ic=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],mM=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function pM(n,t,i,e){var r=[];if(typeof n=="string")r=Nv(n,e);else for(var a=0;a<n.length;++a)r=r.concat(n[a].map(function(m){return{v:m}}));var o=typeof t=="string"?Nv(t,e).map(function(m){return m.v}):t,s=0,d=0;if(o.length>0)for(var u=0;u!==r.length;u+=2){switch(d=+r[u+1].v,r[u].v){case"Worksheets":case"\u5DE5\u4F5C\u8868":case"\u041B\u0438\u0441\u0442\u044B":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30EF\u30FC\u30AF\u30B7\u30FC\u30C8":case"\u05D2\u05DC\u05D9\u05D5\u05E0\u05D5\u05EA \u05E2\u05D1\u05D5\u05D3\u05D4":case"Arbeitsbl\xE4tter":case"\xC7al\u0131\u015Fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xE1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xE1lculo":case"Werkbladen":i.Worksheets=d,i.SheetNames=o.slice(s,s+d);break;case"Named Ranges":case"Rangos con nombre":case"\u540D\u524D\u4ED8\u304D\u4E00\u89A7":case"Benannte Bereiche":case"Navngivne omr\xE5der":i.NamedRanges=d,i.DefinedNames=o.slice(s,s+d);break;case"Charts":case"Diagramme":i.Chartsheets=d,i.ChartNames=o.slice(s,s+d);break}s+=d}}function cD(n,t,i){var e={};return t||(t={}),n=An(n),Ic.forEach(function(r){var a=(n.match(f0(r[0]))||[])[1];switch(r[2]){case"string":a&&(t[r[1]]=mn(a));break;case"bool":t[r[1]]=a==="true";break;case"raw":var o=n.match(new RegExp("<"+r[0]+"[^>]*>([\\s\\S]*?)</"+r[0]+">"));o&&o.length>0&&(e[r[1]]=o[1]);break}}),e.HeadingPairs&&e.TitlesOfParts&&pM(e.HeadingPairs,e.TitlesOfParts,t,i),t}function fM(n){var t=[],i=Xe;return n||(n={}),n.Application="SheetJS",t[t.length]=Pi,t[t.length]=Xe("Properties",null,{xmlns:Hi.EXT_PROPS,"xmlns:vt":Hi.vt}),Ic.forEach(function(e){if(n[e[1]]!==void 0){var r;switch(e[2]){case"string":r=Tn(String(n[e[1]]));break;case"bool":r=n[e[1]]?"true":"false";break}r!==void 0&&(t[t.length]=i(e[0],r))}}),t[t.length]=i("HeadingPairs",i("vt:vector",i("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+i("vt:variant",i("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=i("TitlesOfParts",i("vt:vector",n.SheetNames.map(function(e){return"<vt:lpstr>"+Tn(e)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var lD=/<[^>]+>[^<]*/g;function dD(n,t){var i={},e="",r=n.match(lD);if(r)for(var a=0;a!=r.length;++a){var o=r[a],s=Ft(o);switch(s[0]){case"<?xml":break;case"<Properties":break;case"<property":e=mn(s.name);break;case"</property>":e=null;break;default:if(o.indexOf("<vt:")===0){var d=o.split(">"),u=d[0].slice(4),m=d[1];switch(u){case"lpstr":case"bstr":case"lpwstr":i[e]=mn(m);break;case"bool":i[e]=Gn(m);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":i[e]=parseInt(m,10);break;case"r4":case"r8":case"decimal":i[e]=parseFloat(m);break;case"filetime":case"date":i[e]=Wn(m);break;case"cy":case"error":i[e]=mn(m);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,d)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return i}function hM(n){var t=[Pi,Xe("Properties",null,{xmlns:Hi.CUST_PROPS,"xmlns:vt":Hi.vt})];if(!n)return t.join("");var i=1;return Ci(n).forEach(function(r){++i,t[t.length]=Xe("property",xI(n[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:i,name:Tn(r)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var qf={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Df;function gD(n,t,i){Df||(Df=Um(qf)),t=Df[t]||t,n[t]=i}function uD(n,t){var i=[];return Ci(qf).map(function(e){for(var r=0;r<Va.length;++r)if(Va[r][1]==e)return Va[r];for(r=0;r<Ic.length;++r)if(Ic[r][1]==e)return Ic[r];throw e}).forEach(function(e){if(n[e[1]]!=null){var r=t&&t.Props&&t.Props[e[1]]!=null?t.Props[e[1]]:n[e[1]];switch(e[2]){case"date":r=new Date(r).toISOString().replace(/\.\d*Z/,"Z");break}typeof r=="number"?r=String(r):r===!0||r===!1?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),i.push(Cr(qf[e[1]]||e[1],r))}}),Xe("DocumentProperties",i.join(""),{xmlns:xa.o})}function mD(n,t){var i=["Worksheets","SheetNames"],e="CustomDocumentProperties",r=[];return n&&Ci(n).forEach(function(a){if(Object.prototype.hasOwnProperty.call(n,a)){for(var o=0;o<Va.length;++o)if(a==Va[o][1])return;for(o=0;o<Ic.length;++o)if(a==Ic[o][1])return;for(o=0;o<i.length;++o)if(a==i[o])return;var s=n[a],d="string";typeof s=="number"?(d="float",s=String(s)):s===!0||s===!1?(d="boolean",s=s?"1":"0"):s=String(s),r.push(Xe(Iv(a),s,{"dt:dt":d}))}}),t&&Ci(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(n&&Object.prototype.hasOwnProperty.call(n,a))){var o=t[a],s="string";typeof o=="number"?(s="float",o=String(o)):o===!0||o===!1?(s="boolean",o=o?"1":"0"):o instanceof Date?(s="dateTime.tz",o=o.toISOString()):o=String(o),r.push(Xe(Iv(a),o,{"dt:dt":s}))}}),"<"+e+' xmlns="'+xa.o+'">'+r.join("")+"</"+e+">"}function Sh(n){var t=n.read_shift(4),i=n.read_shift(4);return new Date((i/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function pD(n){var t=typeof n=="string"?new Date(Date.parse(n)):n,i=t.getTime()/1e3+11644473600,e=i%Math.pow(2,32),r=(i-e)/Math.pow(2,32);e*=1e7,r*=1e7;var a=e/Math.pow(2,32)|0;a>0&&(e=e%Math.pow(2,32),r+=a);var o=we(8);return o.write_shift(4,e),o.write_shift(4,r),o}function _M(n,t,i){var e=n.l,r=n.read_shift(0,"lpstr-cp");if(i)for(;n.l-e&3;)++n.l;return r}function xM(n,t,i){var e=n.read_shift(0,"lpwstr");return i&&(n.l+=4-(e.length+1&3)&3),e}function CM(n,t,i){return t===31?xM(n):_M(n,t,i)}function Kf(n,t,i){return CM(n,t,i===!1?0:4)}function fD(n,t){if(!t)throw new Error("VtUnalignedString must have positive length");return CM(n,t,0)}function hD(n){for(var t=n.read_shift(4),i=[],e=0;e!=t;++e){var r=n.l;i[e]=n.read_shift(0,"lpwstr").replace($r,""),n.l-r&2&&(n.l+=2)}return i}function _D(n){for(var t=n.read_shift(4),i=[],e=0;e!=t;++e)i[e]=n.read_shift(0,"lpstr-cp").replace($r,"");return i}function xD(n){var t=n.l,i=Lm(n,sM);n[n.l]==0&&n[n.l+1]==0&&n.l-t&2&&(n.l+=2);var e=Lm(n,sa);return[i,e]}function CD(n){for(var t=n.read_shift(4),i=[],e=0;e<t/2;++e)i.push(xD(n));return i}function Hv(n,t){for(var i=n.read_shift(4),e={},r=0;r!=i;++r){var a=n.read_shift(4),o=n.read_shift(4);e[a]=n.read_shift(o,t===1200?"utf16le":"utf8").replace($r,"").replace(n0,"!"),t===1200&&o%2&&(n.l+=2)}return n.l&3&&(n.l=n.l>>3<<2),e}function bM(n){var t=n.read_shift(4),i=n.slice(n.l,n.l+t);return n.l+=t,(t&3)>0&&(n.l+=4-(t&3)&3),i}function bD(n){var t={};return t.Size=n.read_shift(4),n.l+=t.Size+3-(t.Size-1)%4,t}function Lm(n,t,i){var e=n.read_shift(2),r,a=i||{};if(n.l+=2,t!==Uv&&e!==t&&ZI.indexOf(t)===-1&&!((t&65534)==4126&&(e&65534)==4126))throw new Error("Expected type "+t+" saw "+e);switch(t===Uv?e:t){case 2:return r=n.read_shift(2,"i"),a.raw||(n.l+=2),r;case 3:return r=n.read_shift(4,"i"),r;case 11:return n.read_shift(4)!==0;case 19:return r=n.read_shift(4),r;case 30:return _M(n,e,4).replace($r,"");case 31:return xM(n);case 64:return Sh(n);case 65:return bM(n);case 71:return bD(n);case 80:return Kf(n,e,!a.raw).replace($r,"");case 81:return fD(n,e).replace($r,"");case 4108:return CD(n);case 4126:case 4127:return e==4127?hD(n):_D(n);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}}function Xv(n,t){var i=we(4),e=we(4);switch(i.write_shift(4,n==80?31:n),n){case 3:e.write_shift(-4,t);break;case 5:e=we(8),e.write_shift(8,t,"f");break;case 11:e.write_shift(4,t?1:0);break;case 64:e=pD(t);break;case 31:case 80:for(e=we(4+2*(t.length+1)+(t.length%2?0:2)),e.write_shift(4,t.length+1),e.write_shift(0,t,"dbcs");e.l!=e.length;)e.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+t)}return gr([i,e])}function qv(n,t){var i=n.l,e=n.read_shift(4),r=n.read_shift(4),a=[],o=0,s=0,d=-1,u={};for(o=0;o!=r;++o){var m=n.read_shift(4),f=n.read_shift(4);a[o]=[m,f+i]}a.sort(function(w,T){return w[1]-T[1]});var _={};for(o=0;o!=r;++o){if(n.l!==a[o][1]){var x=!0;if(o>0&&t)switch(t[a[o-1][0]].t){case 2:n.l+2===a[o][1]&&(n.l+=2,x=!1);break;case 80:n.l<=a[o][1]&&(n.l=a[o][1],x=!1);break;case 4108:n.l<=a[o][1]&&(n.l=a[o][1],x=!1);break}if((!t||o==0)&&n.l<=a[o][1]&&(x=!1,n.l=a[o][1]),x)throw new Error("Read Error: Expected address "+a[o][1]+" at "+n.l+" :"+o)}if(t){var v=t[a[o][0]];if(_[v.n]=Lm(n,v.t,{raw:!0}),v.p==="version"&&(_[v.n]=String(_[v.n]>>16)+"."+("0000"+String(_[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(_[v.n]){case 0:_[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ro(s=_[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+_[v.n])}}else if(a[o][0]===1){if(s=_.CodePage=Lm(n,Oh),ro(s),d!==-1){var b=n.l;n.l=a[d][1],u=Hv(n,s),n.l=b}}else if(a[o][0]===0){if(s===0){d=o,n.l=a[o+1][1];continue}u=Hv(n,s)}else{var M=u[a[o][0]],S;switch(n[n.l]){case 65:n.l+=4,S=bM(n);break;case 30:n.l+=4,S=Kf(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 31:n.l+=4,S=Kf(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 3:n.l+=4,S=n.read_shift(4,"i");break;case 19:n.l+=4,S=n.read_shift(4);break;case 5:n.l+=4,S=n.read_shift(8,"f");break;case 11:n.l+=4,S=yi(n,4);break;case 64:n.l+=4,S=Wn(Sh(n));break;default:throw new Error("unparsed value: "+n[n.l])}_[M]=S}}return n.l=i+e,_}var vM=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function vD(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function Kv(n,t,i){var e=we(8),r=[],a=[],o=8,s=0,d=we(8),u=we(8);if(d.write_shift(4,2),d.write_shift(4,1200),u.write_shift(4,1),a.push(d),r.push(u),o+=8+d.length,!t){u=we(8),u.write_shift(4,0),r.unshift(u);var m=[we(4)];for(m[0].write_shift(4,n.length),s=0;s<n.length;++s){var f=n[s][0];for(d=we(8+2*(f.length+1)+(f.length%2?0:2)),d.write_shift(4,s+2),d.write_shift(4,f.length+1),d.write_shift(0,f,"dbcs");d.l!=d.length;)d.write_shift(1,0);m.push(d)}d=gr(m),a.unshift(d),o+=8+d.length}for(s=0;s<n.length;++s)if(!(t&&!t[n[s][0]])&&!(vM.indexOf(n[s][0])>-1||mM.indexOf(n[s][0])>-1)&&n[s][1]!=null){var _=n[s][1],x=0;if(t){x=+t[n[s][0]];var v=i[x];if(v.p=="version"&&typeof _=="string"){var b=_.split(".");_=(+b[0]<<16)+(+b[1]||0)}d=Xv(v.t,_)}else{var M=vD(_);M==-1&&(M=31,_=String(_)),d=Xv(M,_)}a.push(d),u=we(8),u.write_shift(4,t?x:2+s),r.push(u),o+=8+d.length}var S=8*(a.length+1);for(s=0;s<a.length;++s)r[s].write_shift(4,S),S+=a[s].length;return e.write_shift(4,o),e.write_shift(4,a.length),gr([e].concat(r).concat(a))}function Zv(n,t,i){var e=n.content;if(!e)return{};xr(e,0);var r,a,o,s,d=0;e.chk("feff","Byte Order: "),e.read_shift(2);var u=e.read_shift(4),m=e.read_shift(16);if(m!==yt.utils.consts.HEADER_CLSID&&m!==i)throw new Error("Bad PropertySet CLSID "+m);if(r=e.read_shift(4),r!==1&&r!==2)throw new Error("Unrecognized #Sets: "+r);if(a=e.read_shift(16),s=e.read_shift(4),r===1&&s!==e.l)throw new Error("Length mismatch: "+s+" !== "+e.l);r===2&&(o=e.read_shift(16),d=e.read_shift(4));var f=qv(e,t),_={SystemIdentifier:u};for(var x in f)_[x]=f[x];if(_.FMTID=a,r===1)return _;if(d-e.l==2&&(e.l+=2),e.l!==d)throw new Error("Length mismatch 2: "+e.l+" !== "+d);var v;try{v=qv(e,null)}catch{}for(x in v)_[x]=v[x];return _.FMTID=[a,o],_}function Qv(n,t,i,e,r,a){var o=we(r?68:48),s=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,yt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,r?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,r?68:48);var d=Kv(n,i,e);if(s.push(d),r){var u=Kv(r,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+d.length),s.push(u)}return gr(s)}function ec(n,t){return n.read_shift(t),null}function yD(n,t){t||(t=we(n));for(var i=0;i<n;++i)t.write_shift(1,0);return t}function MD(n,t,i){for(var e=[],r=n.l+t;n.l<r;)e.push(i(n,r-n.l));if(r!==n.l)throw new Error("Slurp error");return e}function yi(n,t){return n.read_shift(t)===1}function qr(n,t){return t||(t=we(2)),t.write_shift(2,+!!n),t}function $i(n){return n.read_shift(2,"u")}function Ba(n,t){return t||(t=we(2)),t.write_shift(2,n),t}function yM(n,t){return MD(n,t,$i)}function PD(n){var t=n.read_shift(1),i=n.read_shift(1);return i===1?t:t===1}function MM(n,t,i){return i||(i=we(2)),i.write_shift(1,t=="e"?+n:+!!n),i.write_shift(1,t=="e"?1:0),i}function S0(n,t,i){var e=n.read_shift(i&&i.biff>=12?2:1),r="sbcs-cont",a=$o;if(i&&i.biff>=8&&($o=1200),!i||i.biff==8){var o=n.read_shift(1);o&&(r="dbcs-cont")}else i.biff==12&&(r="wstr");i.biff>=2&&i.biff<=5&&(r="cpstr");var s=e?n.read_shift(e,r):"";return $o=a,s}function OD(n){var t=$o;$o=1200;var i=n.read_shift(2),e=n.read_shift(1),r=e&4,a=e&8,o=1+(e&1),s=0,d,u={};a&&(s=n.read_shift(2)),r&&(d=n.read_shift(4));var m=o==2?"dbcs-cont":"sbcs-cont",f=i===0?"":n.read_shift(i,m);return a&&(n.l+=4*s),r&&(n.l+=d),u.t=f,a||(u.raw="<t>"+u.t+"</t>",u.r=u.t),$o=t,u}function wD(n){var t=n.t||"",i=1,e=we(3+(i>1?2:0));e.write_shift(2,t.length),e.write_shift(1,(i>1?8:0)|1),i>1&&e.write_shift(2,i);var r=we(2*t.length);r.write_shift(2*t.length,t,"utf16le");var a=[e,r];return gr(a)}function Bc(n,t,i){var e;if(i){if(i.biff>=2&&i.biff<=5)return n.read_shift(t,"cpstr");if(i.biff>=12)return n.read_shift(t,"dbcs-cont")}var r=n.read_shift(1);return r===0?e=n.read_shift(t,"sbcs-cont"):e=n.read_shift(t,"dbcs-cont"),e}function k0(n,t,i){var e=n.read_shift(i&&i.biff==2?1:2);return e===0?(n.l++,""):Bc(n,e,i)}function Wc(n,t,i){if(i.biff>5)return k0(n,t,i);var e=n.read_shift(1);return e===0?(n.l++,""):n.read_shift(e,i.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function PM(n,t,i){return i||(i=we(3+2*n.length)),i.write_shift(2,n.length),i.write_shift(1,1),i.write_shift(31,n,"utf16le"),i}function SD(n){var t=n.read_shift(1);n.l++;var i=n.read_shift(2);return n.l+=2,[t,i]}function kD(n){var t=n.read_shift(4),i=n.l,e=!1;t>24&&(n.l+=t-24,n.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(e=!0),n.l=i);var r=n.read_shift((e?t-24:t)>>1,"utf16le").replace($r,"");return e&&(n.l+=24),r}function TD(n){for(var t=n.read_shift(2),i="";t-- >0;)i+="../";var e=n.read_shift(0,"lpstr-ansi");if(n.l+=2,n.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var r=n.read_shift(4);if(r===0)return i+e.replace(/\\/g,"/");var a=n.read_shift(4);if(n.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=n.read_shift(a>>1,"utf16le").replace($r,"");return i+o}function ED(n,t){var i=n.read_shift(16);switch(t-=16,i){case"e0c9ea79f9bace118c8200aa004ba90b":return kD(n,t);case"0303000000000000c000000000000046":return TD(n,t);default:throw new Error("Unsupported Moniker "+i)}}function Mm(n){var t=n.read_shift(4),i=t>0?n.read_shift(t,"utf16le").replace($r,""):"";return i}function Jv(n,t){t||(t=we(6+n.length*2)),t.write_shift(4,1+n.length);for(var i=0;i<n.length;++i)t.write_shift(2,n.charCodeAt(i));return t.write_shift(2,0),t}function AD(n,t){var i=n.l+t,e=n.read_shift(4);if(e!==2)throw new Error("Unrecognized streamVersion: "+e);var r=n.read_shift(2);n.l+=2;var a,o,s,d,u="",m,f;r&16&&(a=Mm(n,i-n.l)),r&128&&(o=Mm(n,i-n.l)),(r&257)===257&&(s=Mm(n,i-n.l)),(r&257)===1&&(d=ED(n,i-n.l)),r&8&&(u=Mm(n,i-n.l)),r&32&&(m=n.read_shift(16)),r&64&&(f=Sh(n)),n.l=i;var _=o||s||d||"";_&&u&&(_+="#"+u),_||(_="#"+u),r&2&&_.charAt(0)=="/"&&_.charAt(1)!="/"&&(_="file://"+_);var x={Target:_};return m&&(x.guid=m),f&&(x.time=f),a&&(x.Tooltip=a),x}function ID(n){var t=we(512),i=0,e=n.Target;e.slice(0,7)=="file://"&&(e=e.slice(7));var r=e.indexOf("#"),a=r>-1?31:23;switch(e.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(i=0;i<o.length;++i)t.write_shift(4,o[i]);if(a==28)e=e.slice(1),Jv(e,t);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<o.length;++i)t.write_shift(1,parseInt(o[i],16));var s=r>-1?e.slice(0,r):e;for(t.write_shift(4,2*(s.length+1)),i=0;i<s.length;++i)t.write_shift(2,s.charCodeAt(i));t.write_shift(2,0),a&8&&Jv(r>-1?e.slice(r+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),i=0;i<o.length;++i)t.write_shift(1,parseInt(o[i],16));for(var d=0;e.slice(d*3,d*3+3)=="../"||e.slice(d*3,d*3+3)=="..\\";)++d;for(t.write_shift(2,d),t.write_shift(4,e.length-3*d+1),i=0;i<e.length-3*d;++i)t.write_shift(1,e.charCodeAt(i+3*d)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),i=0;i<6;++i)t.write_shift(4,0)}return t.slice(0,t.l)}function OM(n){var t=n.read_shift(1),i=n.read_shift(1),e=n.read_shift(1),r=n.read_shift(1);return[t,i,e,r]}function wM(n,t){var i=OM(n,t);return i[3]=0,i}function zo(n){var t=n.read_shift(2),i=n.read_shift(2),e=n.read_shift(2);return{r:t,c:i,ixfe:e}}function Vc(n,t,i,e){return e||(e=we(6)),e.write_shift(2,n),e.write_shift(2,t),e.write_shift(2,i||0),e}function DD(n){var t=n.read_shift(2),i=n.read_shift(2);return n.l+=8,{type:t,flags:i}}function FD(n,t,i){return t===0?"":Wc(n,t,i)}function RD(n,t,i){var e=i.biff>8?4:2,r=n.read_shift(e),a=n.read_shift(e,"i"),o=n.read_shift(e,"i");return[r,a,o]}function SM(n){var t=n.read_shift(2),i=Ph(n);return[t,i]}function ND(n,t,i){n.l+=4,t-=4;var e=n.l+t,r=S0(n,t,i),a=n.read_shift(2);if(e-=n.l,a!==e)throw new Error("Malformed AddinUdf: padding = "+e+" != "+a);return n.l+=a,r}function Xm(n){var t=n.read_shift(2),i=n.read_shift(2),e=n.read_shift(2),r=n.read_shift(2);return{s:{c:e,r:t},e:{c:r,r:i}}}function kM(n,t){return t||(t=we(8)),t.write_shift(2,n.s.r),t.write_shift(2,n.e.r),t.write_shift(2,n.s.c),t.write_shift(2,n.e.c),t}function TM(n){var t=n.read_shift(2),i=n.read_shift(2),e=n.read_shift(1),r=n.read_shift(1);return{s:{c:e,r:t},e:{c:r,r:i}}}var LD=TM;function EM(n){n.l+=4;var t=n.read_shift(2),i=n.read_shift(2),e=n.read_shift(2);return n.l+=12,[i,t,e]}function BD(n){var t={};return n.l+=4,n.l+=16,t.fSharedNote=n.read_shift(2),n.l+=4,t}function VD(n){var t={};return n.l+=4,n.cf=n.read_shift(2),t}function Rr(n){n.l+=2,n.l+=n.read_shift(2)}var $D={0:Rr,4:Rr,5:Rr,6:Rr,7:VD,8:Rr,9:Rr,10:Rr,11:Rr,12:Rr,13:BD,14:Rr,15:Rr,16:Rr,17:Rr,18:Rr,19:Rr,20:Rr,21:EM};function jD(n,t){for(var i=n.l+t,e=[];n.l<i;){var r=n.read_shift(2);n.l-=2;try{e.push($D[r](n,i-n.l))}catch{return n.l=i,e}}return n.l!=i&&(n.l=i),e}function Pm(n,t){var i={BIFFVer:0,dt:0};switch(i.BIFFVer=n.read_shift(2),t-=2,t>=2&&(i.dt=n.read_shift(2),n.l-=2),i.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+i.BIFFVer)}return n.read_shift(t),i}function kh(n,t,i){var e=1536,r=16;switch(i.bookType){case"biff8":break;case"biff5":e=1280,r=8;break;case"biff4":e=4,r=6;break;case"biff3":e=3,r=6;break;case"biff2":e=2,r=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=we(r);return a.write_shift(2,e),a.write_shift(2,t),r>4&&a.write_shift(2,29282),r>6&&a.write_shift(2,1997),r>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function zD(n,t){return t===0||n.read_shift(2),1200}function YD(n,t,i){if(i.enc)return n.l+=t,"";var e=n.l,r=Wc(n,0,i);return n.read_shift(t+e-n.l),r}function UD(n,t){var i=!t||t.biff==8,e=we(i?112:54);for(e.write_shift(t.biff==8?2:1,7),i&&e.write_shift(1,0),e.write_shift(4,859007059),e.write_shift(4,5458548|(i?0:536870912));e.l<e.length;)e.write_shift(1,i?0:32);return e}function GD(n,t,i){var e=i&&i.biff==8||t==2?n.read_shift(2):(n.l+=t,0);return{fDialog:e&16,fBelow:e&64,fRight:e&128}}function WD(n,t,i){var e=n.read_shift(4),r=n.read_shift(1)&3,a=n.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var o=S0(n,0,i);return o.length===0&&(o="Sheet1"),{pos:e,hs:r,dt:a,name:o}}function HD(n,t){var i=!t||t.biff>=8?2:1,e=we(8+i*n.name.length);e.write_shift(4,n.pos),e.write_shift(1,n.hs||0),e.write_shift(1,n.dt),e.write_shift(1,n.name.length),t.biff>=8&&e.write_shift(1,1),e.write_shift(i*n.name.length,n.name,t.biff<8?"sbcs":"utf16le");var r=e.slice(0,e.l);return r.l=e.l,r}function XD(n,t){for(var i=n.l+t,e=n.read_shift(4),r=n.read_shift(4),a=[],o=0;o!=r&&n.l<i;++o)a.push(OD(n));return a.Count=e,a.Unique=r,a}function qD(n,t){var i=we(8);i.write_shift(4,n.Count),i.write_shift(4,n.Unique);for(var e=[],r=0;r<n.length;++r)e[r]=wD(n[r],t);var a=gr([i].concat(e));return a.parts=[i.length].concat(e.map(function(o){return o.length})),a}function KD(n,t){var i={};return i.dsst=n.read_shift(2),n.l+=t-2,i}function ZD(n){var t={};t.r=n.read_shift(2),t.c=n.read_shift(2),t.cnt=n.read_shift(2)-t.c;var i=n.read_shift(2);n.l+=4;var e=n.read_shift(1);return n.l+=3,e&7&&(t.level=e&7),e&32&&(t.hidden=!0),e&64&&(t.hpt=i/20),t}function QD(n){var t=DD(n);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var i=n.read_shift(4);return i!==0}function JD(n){return n.read_shift(2),n.read_shift(4)}function ey(n,t,i){var e=0;i&&i.biff==2||(e=n.read_shift(2));var r=n.read_shift(2);i&&i.biff==2&&(e=1-(r>>15),r&=32767);var a={Unsynced:e&1,DyZero:(e&2)>>1,ExAsc:(e&4)>>2,ExDsc:(e&8)>>3};return[a,r]}function e8(n){var t=n.read_shift(2),i=n.read_shift(2),e=n.read_shift(2),r=n.read_shift(2),a=n.read_shift(2),o=n.read_shift(2),s=n.read_shift(2),d=n.read_shift(2),u=n.read_shift(2);return{Pos:[t,i],Dim:[e,r],Flags:a,CurTab:o,FirstTab:s,Selected:d,TabRatio:u}}function t8(){var n=we(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function n8(n,t,i){if(i&&i.biff>=2&&i.biff<5)return{};var e=n.read_shift(2);return{RTL:e&64}}function i8(n){var t=we(18),i=1718;return n&&n.RTL&&(i|=64),t.write_shift(2,i),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function r8(){}function a8(n,t,i){var e={dyHeight:n.read_shift(2),fl:n.read_shift(2)};switch(i&&i.biff||8){case 2:break;case 3:case 4:n.l+=2;break;default:n.l+=10;break}return e.name=S0(n,0,i),e}function o8(n,t){var i=n.name||"Arial",e=t&&t.biff==5,r=e?15+i.length:16+2*i.length,a=we(r);return a.write_shift(2,(n.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,i.length),e||a.write_shift(1,1),a.write_shift((e?1:2)*i.length,i,e?"sbcs":"utf16le"),a}function s8(n){var t=zo(n);return t.isst=n.read_shift(4),t}function c8(n,t,i,e){var r=we(10);return Vc(n,t,e,r),r.write_shift(4,i),r}function l8(n,t,i){i.biffguess&&i.biff==2&&(i.biff=5);var e=n.l+t,r=zo(n,6);i.biff==2&&n.l++;var a=k0(n,e-n.l,i);return r.val=a,r}function d8(n,t,i,e,r){var a=!r||r.biff==8,o=we(8+ +a+(1+a)*i.length);return Vc(n,t,e,o),o.write_shift(2,i.length),a&&o.write_shift(1,1),o.write_shift((1+a)*i.length,i,a?"utf16le":"sbcs"),o}function g8(n,t,i){var e=n.read_shift(2),r=Wc(n,0,i);return[e,r]}function u8(n,t,i,e){var r=i&&i.biff==5;e||(e=we(r?3+t.length:5+2*t.length)),e.write_shift(2,n),e.write_shift(r?1:2,t.length),r||e.write_shift(1,1),e.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le");var a=e.length>e.l?e.slice(0,e.l):e;return a.l==null&&(a.l=a.length),a}var m8=Wc;function ty(n,t,i){var e=n.l+t,r=i.biff==8||!i.biff?4:2,a=n.read_shift(r),o=n.read_shift(r),s=n.read_shift(2),d=n.read_shift(2);return n.l=e,{s:{r:a,c:s},e:{r:o,c:d}}}function p8(n,t){var i=t.biff==8||!t.biff?4:2,e=we(2*i+6);return e.write_shift(i,n.s.r),e.write_shift(i,n.e.r+1),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c+1),e.write_shift(2,0),e}function f8(n){var t=n.read_shift(2),i=n.read_shift(2),e=SM(n);return{r:t,c:i,ixfe:e[0],rknum:e[1]}}function h8(n,t){for(var i=n.l+t-2,e=n.read_shift(2),r=n.read_shift(2),a=[];n.l<i;)a.push(SM(n));if(n.l!==i)throw new Error("MulRK read error");var o=n.read_shift(2);if(a.length!=o-r+1)throw new Error("MulRK length mismatch");return{r:e,c:r,C:o,rkrec:a}}function _8(n,t){for(var i=n.l+t-2,e=n.read_shift(2),r=n.read_shift(2),a=[];n.l<i;)a.push(n.read_shift(2));if(n.l!==i)throw new Error("MulBlank read error");var o=n.read_shift(2);if(a.length!=o-r+1)throw new Error("MulBlank length mismatch");return{r:e,c:r,C:o,ixfe:a}}function x8(n,t,i,e){var r={},a=n.read_shift(4),o=n.read_shift(4),s=n.read_shift(4),d=n.read_shift(2);return r.patternType=QI[s>>26],e.cellStyles&&(r.alc=a&7,r.fWrap=a>>3&1,r.alcV=a>>4&7,r.fJustLast=a>>7&1,r.trot=a>>8&255,r.cIndent=a>>16&15,r.fShrinkToFit=a>>20&1,r.iReadOrder=a>>22&2,r.fAtrNum=a>>26&1,r.fAtrFnt=a>>27&1,r.fAtrAlc=a>>28&1,r.fAtrBdr=a>>29&1,r.fAtrPat=a>>30&1,r.fAtrProt=a>>31&1,r.dgLeft=o&15,r.dgRight=o>>4&15,r.dgTop=o>>8&15,r.dgBottom=o>>12&15,r.icvLeft=o>>16&127,r.icvRight=o>>23&127,r.grbitDiag=o>>30&3,r.icvTop=s&127,r.icvBottom=s>>7&127,r.icvDiag=s>>14&127,r.dgDiag=s>>21&15,r.icvFore=d&127,r.icvBack=d>>7&127,r.fsxButton=d>>14&1),r}function C8(n,t,i){var e={};return e.ifnt=n.read_shift(2),e.numFmtId=n.read_shift(2),e.flags=n.read_shift(2),e.fStyle=e.flags>>2&1,t-=6,e.data=x8(n,t,e.fStyle,i),e}function ny(n,t,i,e){var r=i&&i.biff==5;e||(e=we(r?16:20)),e.write_shift(2,0),n.style?(e.write_shift(2,n.numFmtId||0),e.write_shift(2,65524)):(e.write_shift(2,n.numFmtId||0),e.write_shift(2,t<<4));var a=0;return n.numFmtId>0&&r&&(a|=1024),e.write_shift(4,a),e.write_shift(4,0),r||e.write_shift(4,0),e.write_shift(2,0),e}function b8(n){n.l+=4;var t=[n.read_shift(2),n.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function v8(n){var t=we(8);return t.write_shift(4,0),t.write_shift(2,n[0]?n[0]+1:0),t.write_shift(2,n[1]?n[1]+1:0),t}function iy(n,t,i){var e=zo(n,6);(i.biff==2||t==9)&&++n.l;var r=PD(n,2);return e.val=r,e.t=r===!0||r===!1?"b":"e",e}function y8(n,t,i,e,r,a){var o=we(8);return Vc(n,t,e,o),MM(i,a,o),o}function M8(n,t,i){i.biffguess&&i.biff==2&&(i.biff=5);var e=zo(n,6),r=Vr(n,8);return e.val=r,e}function P8(n,t,i,e){var r=we(14);return Vc(n,t,e,r),Lc(i,r),r}var ry=FD;function O8(n,t,i){var e=n.l+t,r=n.read_shift(2),a=n.read_shift(2);if(i.sbcch=a,a==1025||a==14849)return[a,r];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var o=Bc(n,a),s=[];e>n.l;)s.push(k0(n));return[a,r,o,s]}function ay(n,t,i){var e=n.read_shift(2),r,a={fBuiltIn:e&1,fWantAdvise:e>>>1&1,fWantPict:e>>>2&1,fOle:e>>>3&1,fOleLink:e>>>4&1,cf:e>>>5&1023,fIcon:e>>>15&1};return i.sbcch===14849&&(r=ND(n,t-2,i)),a.body=r||n.read_shift(t-2),typeof r=="string"&&(a.Name=r),a}var w8=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function oy(n,t,i){var e=n.l+t,r=n.read_shift(2),a=n.read_shift(1),o=n.read_shift(1),s=n.read_shift(i&&i.biff==2?1:2),d=0;(!i||i.biff>=5)&&(i.biff!=5&&(n.l+=2),d=n.read_shift(2),i.biff==5&&(n.l+=2),n.l+=4);var u=Bc(n,o,i);r&32&&(u=w8[u.charCodeAt(0)]);var m=e-n.l;i&&i.biff==2&&--m;var f=e==n.l||s===0||!(m>0)?[]:jR(n,m,i,s);return{chKey:a,Name:u,itab:d,rgce:f}}function AM(n,t,i){if(i.biff<8)return S8(n,t,i);for(var e=[],r=n.l+t,a=n.read_shift(i.biff>8?4:2);a--!==0;)e.push(RD(n,i.biff>8?12:6,i));if(n.l!=r)throw new Error("Bad ExternSheet: "+n.l+" != "+r);return e}function S8(n,t,i){n[n.l+1]==3&&n[n.l]++;var e=S0(n,t,i);return e.charCodeAt(0)==3?e.slice(1):e}function k8(n,t,i){if(i.biff<8){n.l+=t;return}var e=n.read_shift(2),r=n.read_shift(2),a=Bc(n,e,i),o=Bc(n,r,i);return[a,o]}function T8(n,t,i){var e=TM(n,6);n.l++;var r=n.read_shift(1);return t-=8,[zR(n,t,i),r,e]}function sy(n,t,i){var e=LD(n,6);switch(i.biff){case 2:n.l++,t-=7;break;case 3:case 4:n.l+=2,t-=8;break;default:n.l+=6,t-=12}return[e,VR(n,t,i,e)]}function E8(n){var t=n.read_shift(4)!==0,i=n.read_shift(4)!==0,e=n.read_shift(4);return[t,i,e]}function A8(n,t,i){if(!(i.biff<8)){var e=n.read_shift(2),r=n.read_shift(2),a=n.read_shift(2),o=n.read_shift(2),s=Wc(n,0,i);return i.biff<8&&n.read_shift(1),[{r:e,c:r},s,o,a]}}function I8(n,t,i){return A8(n,t,i)}function D8(n,t){for(var i=[],e=n.read_shift(2);e--;)i.push(Xm(n,t));return i}function F8(n){var t=we(2+n.length*8);t.write_shift(2,n.length);for(var i=0;i<n.length;++i)kM(n[i],t);return t}function R8(n,t,i){if(i&&i.biff<8)return L8(n,t,i);var e=EM(n,22),r=jD(n,t-22,e[1]);return{cmo:e,ft:r}}var N8={8:function(n,t){var i=n.l+t;n.l+=10;var e=n.read_shift(2);n.l+=4,n.l+=2,n.l+=2,n.l+=2,n.l+=4;var r=n.read_shift(1);return n.l+=r,n.l=i,{fmt:e}}};function L8(n,t,i){n.l+=4;var e=n.read_shift(2),r=n.read_shift(2),a=n.read_shift(2);n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=6,t-=36;var o=[];return o.push((N8[e]||zr)(n,t,i)),{cmo:[r,e,a],ft:o}}function B8(n,t,i){var e=n.l,r="";try{n.l+=4;var a=(i.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(a)==-1?n.l+=6:o=SD(n,6,i);var s=n.read_shift(2);n.read_shift(2),$i(n,2);var d=n.read_shift(2);n.l+=d;for(var u=1;u<n.lens.length-1;++u){if(n.l-e!=n.lens[u])throw new Error("TxO: bad continue record");var m=n[n.l],f=Bc(n,n.lens[u+1]-n.lens[u]-1);if(r+=f,r.length>=(m?s:2*s))break}if(r.length!==s&&r.length!==s*2)throw new Error("cchText: "+s+" != "+r.length);return n.l=e+t,{t:r}}catch{return n.l=e+t,{t:r}}}function V8(n,t){var i=Xm(n,8);n.l+=16;var e=AD(n,t-24);return[i,e]}function $8(n){var t=we(24),i=oi(n[0]);t.write_shift(2,i.r),t.write_shift(2,i.r),t.write_shift(2,i.c),t.write_shift(2,i.c);for(var e="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)t.write_shift(1,parseInt(e[r],16));return gr([t,ID(n[1])])}function j8(n,t){n.read_shift(2);var i=Xm(n,8),e=n.read_shift((t-10)/2,"dbcs-cont");return e=e.replace($r,""),[i,e]}function z8(n){var t=n[1].Tooltip,i=we(10+2*(t.length+1));i.write_shift(2,2048);var e=oi(n[0]);i.write_shift(2,e.r),i.write_shift(2,e.r),i.write_shift(2,e.c),i.write_shift(2,e.c);for(var r=0;r<t.length;++r)i.write_shift(2,t.charCodeAt(r));return i.write_shift(2,0),i}function Y8(n){var t=[0,0],i;return i=n.read_shift(2),t[0]=Gv[i]||i,i=n.read_shift(2),t[1]=Gv[i]||i,t}function U8(n){return n||(n=we(4)),n.write_shift(2,1),n.write_shift(2,1),n}function G8(n){for(var t=n.read_shift(2),i=[];t-- >0;)i.push(wM(n,8));return i}function W8(n){for(var t=n.read_shift(2),i=[];t-- >0;)i.push(wM(n,8));return i}function H8(n){n.l+=2;var t={cxfs:0,crc:0};return t.cxfs=n.read_shift(2),t.crc=n.read_shift(4),t}function IM(n,t,i){if(!i.cellStyles)return zr(n,t);var e=i&&i.biff>=12?4:2,r=n.read_shift(e),a=n.read_shift(e),o=n.read_shift(e),s=n.read_shift(e),d=n.read_shift(2);e==2&&(n.l+=2);var u={s:r,e:a,w:o,ixfe:s,flags:d};return(i.biff>=5||!i.biff)&&(u.level=d>>8&7),u}function X8(n,t){var i=we(12);i.write_shift(2,t),i.write_shift(2,t),i.write_shift(2,n.width*256),i.write_shift(2,0);var e=0;return n.hidden&&(e|=1),i.write_shift(1,e),e=n.level||0,i.write_shift(1,e),i.write_shift(2,0),i}function q8(n,t){var i={};return t<32||(n.l+=16,i.header=Vr(n,8),i.footer=Vr(n,8),n.l+=2),i}function K8(n,t,i){var e={area:!1};if(i.biff!=5)return n.l+=t,e;var r=n.read_shift(1);return n.l+=3,r&16&&(e.area=!0),e}function Z8(n){for(var t=we(2*n),i=0;i<n;++i)t.write_shift(2,i+1);return t}var Q8=zo,J8=yM,eF=k0;function tF(n){var t=n.read_shift(2),i=n.read_shift(2),e=n.read_shift(4),r={fmt:t,env:i,len:e,data:n.slice(n.l,n.l+e)};return n.l+=e,r}function nF(n,t,i){i.biffguess&&i.biff==5&&(i.biff=2);var e=zo(n,6);++n.l;var r=Wc(n,t-7,i);return e.t="str",e.val=r,e}function iF(n){var t=zo(n,6);++n.l;var i=Vr(n,8);return t.t="n",t.val=i,t}function rF(n,t,i){var e=we(15);return I0(e,n,t),e.write_shift(8,i,"f"),e}function aF(n){var t=zo(n,6);++n.l;var i=n.read_shift(2);return t.t="n",t.val=i,t}function oF(n,t,i){var e=we(9);return I0(e,n,t),e.write_shift(2,i),e}function sF(n){var t=n.read_shift(1);return t===0?(n.l++,""):n.read_shift(t,"sbcs-cont")}function cF(n,t){n.l+=6,n.l+=2,n.l+=1,n.l+=3,n.l+=1,n.l+=t-13}function lF(n,t,i){var e=n.l+t,r=zo(n,6),a=n.read_shift(2),o=Bc(n,a,i);return n.l=e,r.t="str",r.val=o,r}var dF=[2,3,48,49,131,139,140,245],Zf=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Um({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function i(s,d){var u=[],m=ic(1);switch(d.type){case"base64":m=Ca(va(s));break;case"binary":m=Ca(s);break;case"buffer":case"array":m=s;break}xr(m,0);var f=m.read_shift(1),_=!!(f&136),x=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:x=!0,_=!0;break;case 49:x=!0,_=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var b=0,M=521;f==2&&(b=m.read_shift(2)),m.l+=3,f!=2&&(b=m.read_shift(4)),b>1048576&&(b=1e6),f!=2&&(M=m.read_shift(2));var S=m.read_shift(2),w=d.codepage||1252;f!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(w=n[m[m.l]]),m.l+=1,m.l+=2),v&&(m.l+=36);for(var T=[],F={},U=Math.min(m.length,f==2?521:M-10-(x?264:0)),A=v?32:11;m.l<U&&m[m.l]!=13;)switch(F={},F.name=Pn.utils.decode(w,m.slice(m.l,m.l+A)).replace(/[\u0000\r\n].*$/g,""),m.l+=A,F.type=String.fromCharCode(m.read_shift(1)),f!=2&&!v&&(F.offset=m.read_shift(4)),F.len=m.read_shift(1),f==2&&(F.offset=m.read_shift(2)),F.dec=m.read_shift(1),F.name.length&&T.push(F),f!=2&&(m.l+=v?13:14),F.type){case"B":(!x||F.len!=8)&&d.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+F.type)}if(m[m.l]!==13&&(m.l=M-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=M;var k=0,I=0;for(u[0]=[],I=0;I!=T.length;++I)u[0][I]=T[I].name;for(;b-- >0;){if(m[m.l]===42){m.l+=S;continue}for(++m.l,u[++k]=[],I=0,I=0;I!=T.length;++I){var B=m.slice(m.l,m.l+T[I].len);m.l+=T[I].len,xr(B,0);var X=Pn.utils.decode(w,B);switch(T[I].type){case"C":X.trim().length&&(u[k][I]=X.replace(/\s+$/,""));break;case"D":X.length===8?u[k][I]=new Date(+X.slice(0,4),+X.slice(4,6)-1,+X.slice(6,8)):u[k][I]=X;break;case"F":u[k][I]=parseFloat(X.trim());break;case"+":case"I":u[k][I]=v?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(X.trim().toUpperCase()){case"Y":case"T":u[k][I]=!0;break;case"N":case"F":u[k][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+X+"|")}break;case"M":if(!_)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[k][I]="##MEMO##"+(v?parseInt(X.trim(),10):B.read_shift(4));break;case"N":X=X.replace(/\u0000/g,"").trim(),X&&X!="."&&(u[k][I]=+X||0);break;case"@":u[k][I]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":u[k][I]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":u[k][I]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[k][I]=-B.read_shift(-8,"f");break;case"B":if(x&&T[I].len==8){u[k][I]=B.read_shift(8,"f");break}case"G":case"P":B.l+=T[I].len;break;case"0":if(T[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[I].type)}}}if(f!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return d&&d.sheetRows&&(u=u.slice(0,d.sheetRows)),d.DBF=T,u}function e(s,d){var u=d||{};u.dateNF||(u.dateNF="yyyymmdd");var m=hd(i(s,u),u);return m["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,m}function r(s,d){try{return cc(e(s,d),d)}catch(u){if(d&&d.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,d){var u=d||{};if(+u.codepage>=0&&ro(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var m=ca(),f=jm(s,{header:1,raw:!0,cellDates:!0}),_=f[0],x=f.slice(1),v=s["!cols"]||[],b=0,M=0,S=0,w=1;for(b=0;b<_.length;++b){if(((v[b]||{}).DBF||{}).name){_[b]=v[b].DBF.name,++S;continue}if(_[b]!=null){if(++S,typeof _[b]=="number"&&(_[b]=_[b].toString(10)),typeof _[b]!="string")throw new Error("DBF Invalid column name "+_[b]+" |"+typeof _[b]+"|");if(_.indexOf(_[b])!==b){for(M=0;M<1024;++M)if(_.indexOf(_[b]+"_"+M)==-1){_[b]+="_"+M;break}}}}var T=pn(s["!ref"]),F=[],U=[],A=[];for(b=0;b<=T.e.c-T.s.c;++b){var k="",I="",B=0,X=[];for(M=0;M<x.length;++M)x[M][b]!=null&&X.push(x[M][b]);if(X.length==0||_[b]==null){F[b]="?";continue}for(M=0;M<X.length;++M){switch(typeof X[M]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=X[M]instanceof Date?"D":"C";break;default:I="C"}B=Math.max(B,String(X[M]).length),k=k&&k!=I?"C":I}B>250&&(B=250),I=((v[b]||{}).DBF||{}).type,I=="C"&&v[b].DBF.len>B&&(B=v[b].DBF.len),k=="B"&&I=="N"&&(k="N",A[b]=v[b].DBF.dec,B=v[b].DBF.len),U[b]=k=="C"||I=="N"?B:a[k]||0,w+=U[b],F[b]=k}var J=m.next(32);for(J.write_shift(4,318902576),J.write_shift(4,x.length),J.write_shift(2,296+32*S),J.write_shift(2,w),b=0;b<4;++b)J.write_shift(4,0);for(J.write_shift(4,0|(+t[ld]||3)<<8),b=0,M=0;b<_.length;++b)if(_[b]!=null){var te=m.next(32),ye=(_[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);te.write_shift(1,ye,"sbcs"),te.write_shift(1,F[b]=="?"?"C":F[b],"sbcs"),te.write_shift(4,M),te.write_shift(1,U[b]||a[F[b]]||0),te.write_shift(1,A[b]||0),te.write_shift(1,2),te.write_shift(4,0),te.write_shift(1,0),te.write_shift(4,0),te.write_shift(4,0),M+=U[b]||a[F[b]]||0}var De=m.next(264);for(De.write_shift(4,13),b=0;b<65;++b)De.write_shift(4,0);for(b=0;b<x.length;++b){var Ce=m.next(w);for(Ce.write_shift(1,0),M=0;M<_.length;++M)if(_[M]!=null)switch(F[M]){case"L":Ce.write_shift(1,x[b][M]==null?63:x[b][M]?84:70);break;case"B":Ce.write_shift(8,x[b][M]||0,"f");break;case"N":var Ve="0";for(typeof x[b][M]=="number"&&(Ve=x[b][M].toFixed(A[M]||0)),S=0;S<U[M]-Ve.length;++S)Ce.write_shift(1,32);Ce.write_shift(1,Ve,"sbcs");break;case"D":x[b][M]?(Ce.write_shift(4,("0000"+x[b][M].getFullYear()).slice(-4),"sbcs"),Ce.write_shift(2,("00"+(x[b][M].getMonth()+1)).slice(-2),"sbcs"),Ce.write_shift(2,("00"+x[b][M].getDate()).slice(-2),"sbcs")):Ce.write_shift(8,"00000000","sbcs");break;case"C":var Se=String(x[b][M]!=null?x[b][M]:"").slice(0,U[M]);for(Ce.write_shift(1,Se,"sbcs"),S=0;S<U[M]-Se.length;++S)Ce.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:r,to_sheet:e,from_sheet:o}}(),DM=function(){var n={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ci(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),i=function(_,x){var v=n[x];return typeof v=="number"?xv(v):v},e=function(_,x,v){var b=x.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return b==59?_:xv(b)};n["|"]=254;function r(_,x){switch(x.type){case"base64":return a(va(_),x);case"binary":return a(_,x);case"buffer":return a(rn&&Buffer.isBuffer(_)?_.toString("binary"):sc(_),x);case"array":return a(Nc(_),x)}throw new Error("Unrecognized type "+x.type)}function a(_,x){var v=_.split(/[\n\r]+/),b=-1,M=-1,S=0,w=0,T=[],F=[],U=null,A={},k=[],I=[],B=[],X=0,J;for(+x.codepage>=0&&ro(+x.codepage);S!==v.length;++S){X=0;var te=v[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,e).replace(t,i),ye=te.replace(/;;/g,"\0").split(";").map(function(ie){return ie.replace(/\u0000/g,";")}),De=ye[0],Ce;if(te.length>0)switch(De){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ye[1].charAt(0)=="P"&&F.push(te.slice(3).replace(/;;/g,";"));break;case"C":var Ve=!1,Se=!1,je=!1,be=!1,Te=-1,le=-1;for(w=1;w<ye.length;++w)switch(ye[w].charAt(0)){case"A":break;case"X":M=parseInt(ye[w].slice(1))-1,Se=!0;break;case"Y":for(b=parseInt(ye[w].slice(1))-1,Se||(M=0),J=T.length;J<=b;++J)T[J]=[];break;case"K":Ce=ye[w].slice(1),Ce.charAt(0)==='"'?Ce=Ce.slice(1,Ce.length-1):Ce==="TRUE"?Ce=!0:Ce==="FALSE"?Ce=!1:isNaN(oo(Ce))?isNaN(dd(Ce).getDate())||(Ce=Wn(Ce)):(Ce=oo(Ce),U!==null&&md(U)&&(Ce=Wm(Ce))),typeof Pn<"u"&&typeof Ce=="string"&&(x||{}).type!="string"&&(x||{}).codepage&&(Ce=Pn.utils.decode(x.codepage,Ce)),Ve=!0;break;case"E":be=!0;var Q=sd(ye[w].slice(1),{r:b,c:M});T[b][M]=[T[b][M],Q];break;case"S":je=!0,T[b][M]=[T[b][M],"S5S"];break;case"G":break;case"R":Te=parseInt(ye[w].slice(1))-1;break;case"C":le=parseInt(ye[w].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+te)}if(Ve&&(T[b][M]&&T[b][M].length==2?T[b][M][0]=Ce:T[b][M]=Ce,U=null),je){if(be)throw new Error("SYLK shared formula cannot have own formula");var re=Te>-1&&T[Te][le];if(!re||!re[1])throw new Error("SYLK shared formula cannot find base");T[b][M][1]=ZM(re[1],{r:b-Te,c:M-le})}break;case"F":var ne=0;for(w=1;w<ye.length;++w)switch(ye[w].charAt(0)){case"X":M=parseInt(ye[w].slice(1))-1,++ne;break;case"Y":for(b=parseInt(ye[w].slice(1))-1,J=T.length;J<=b;++J)T[J]=[];break;case"M":X=parseInt(ye[w].slice(1))/20;break;case"F":break;case"G":break;case"P":U=F[parseInt(ye[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=ye[w].slice(1).split(" "),J=parseInt(B[0],10);J<=parseInt(B[1],10);++J)X=parseInt(B[2],10),I[J-1]=X===0?{hidden:!0}:{wch:X},rc(I[J-1]);break;case"C":M=parseInt(ye[w].slice(1))-1,I[M]||(I[M]={});break;case"R":b=parseInt(ye[w].slice(1))-1,k[b]||(k[b]={}),X>0?(k[b].hpt=X,k[b].hpx=ud(X)):X===0&&(k[b].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+te)}ne<1&&(U=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+te)}}return k.length>0&&(A["!rows"]=k),I.length>0&&(A["!cols"]=I),x&&x.sheetRows&&(T=T.slice(0,x.sheetRows)),[T,A]}function o(_,x){var v=r(_,x),b=v[0],M=v[1],S=hd(b,x);return Ci(M).forEach(function(w){S[w]=M[w]}),S}function s(_,x){return cc(o(_,x),x)}function d(_,x,v,b){var M="C;Y"+(v+1)+";X"+(b+1)+";K";switch(_.t){case"n":M+=_.v||0,_.f&&!_.F&&(M+=";E"+Fh(_.f,{r:v,c:b}));break;case"b":M+=_.v?"TRUE":"FALSE";break;case"e":M+=_.w||_.v;break;case"d":M+='"'+(_.w||_.v)+'"';break;case"s":M+='"'+_.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return M}function u(_,x){x.forEach(function(v,b){var M="F;W"+(b+1)+" "+(b+1)+" ";v.hidden?M+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=b0(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=v0(v.wpx)),typeof v.wch=="number"&&(M+=Math.round(v.wch))),M.charAt(M.length-1)!=" "&&_.push(M)})}function m(_,x){x.forEach(function(v,b){var M="F;";v.hidden?M+="M0;":v.hpt?M+="M"+20*v.hpt+";":v.hpx&&(M+="M"+20*y0(v.hpx)+";"),M.length>2&&_.push(M+"R"+(b+1))})}function f(_,x){var v=["ID;PWXL;N;E"],b=[],M=pn(_["!ref"]),S,w=Array.isArray(_),T=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),_["!cols"]&&u(v,_["!cols"]),_["!rows"]&&m(v,_["!rows"]),v.push("B;Y"+(M.e.r-M.s.r+1)+";X"+(M.e.c-M.s.c+1)+";D"+[M.s.c,M.s.r,M.e.c,M.e.r].join(" "));for(var F=M.s.r;F<=M.e.r;++F)for(var U=M.s.c;U<=M.e.c;++U){var A=Et({r:F,c:U});S=w?(_[F]||[])[U]:_[A],!(!S||S.v==null&&(!S.f||S.F))&&b.push(d(S,_,F,U,x))}return v.join(T)+T+b.join(T)+T+"E"+T}return{to_workbook:s,to_sheet:o,from_sheet:f}}(),FM=function(){function n(a,o){switch(o.type){case"base64":return t(va(a),o);case"binary":return t(a,o);case"buffer":return t(rn&&Buffer.isBuffer(a)?a.toString("binary"):sc(a),o);case"array":return t(Nc(a),o)}throw new Error("Unrecognized type "+o.type)}function t(a,o){for(var s=a.split(`
`),d=-1,u=-1,m=0,f=[];m!==s.length;++m){if(s[m].trim()==="BOT"){f[++d]=[],u=0;continue}if(!(d<0)){var _=s[m].trim().split(","),x=_[0],v=_[1];++m;for(var b=s[m]||"";(b.match(/["]/g)||[]).length&1&&m<s.length-1;)b+=`
`+s[++m];switch(b=b.trim(),+x){case-1:if(b==="BOT"){f[++d]=[],u=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?f[d][u]=!0:b==="FALSE"?f[d][u]=!1:isNaN(oo(v))?isNaN(dd(v).getDate())?f[d][u]=v:f[d][u]=Wn(v):f[d][u]=oo(v),++u;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),Jd&&b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),f[d][u++]=b!==""?b:null;break}if(b==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function i(a,o){return hd(n(a,o),o)}function e(a,o){return cc(i(a,o),o)}var r=function(){var a=function(d,u,m,f,_){d.push(u),d.push(m+","+f),d.push('"'+_.replace(/"/g,'""')+'"')},o=function(d,u,m,f){d.push(u+","+m),d.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(d){var u=[],m=pn(d["!ref"]),f,_=Array.isArray(d);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,m.e.r-m.s.r+1,""),a(u,"TUPLES",0,m.e.c-m.s.c+1,""),a(u,"DATA",0,0,"");for(var x=m.s.r;x<=m.e.r;++x){o(u,-1,0,"BOT");for(var v=m.s.c;v<=m.e.c;++v){var b=Et({r:x,c:v});if(f=_?(d[x]||[])[v]:d[b],!f){o(u,1,0,"");continue}switch(f.t){case"n":var M=Jd?f.w:f.v;!M&&f.v!=null&&(M=f.v),M==null?Jd&&f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,M,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,!Jd||isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=$a(f.z||St[14],Xi(Wn(f.v)))),Jd?o(u,0,f.w,"V"):o(u,1,0,f.w);break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var S=`\r
`,w=u.join(S);return w}}();return{to_workbook:e,to_sheet:i,from_sheet:r}}(),RM=function(){function n(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function i(f,_){for(var x=f.split(`
`),v=-1,b=-1,M=0,S=[];M!==x.length;++M){var w=x[M].trim().split(":");if(w[0]==="cell"){var T=oi(w[1]);if(S.length<=T.r)for(v=S.length;v<=T.r;++v)S[v]||(S[v]=[]);switch(v=T.r,b=T.c,w[2]){case"t":S[v][b]=n(w[3]);break;case"v":S[v][b]=+w[3];break;case"vtf":var F=w[w.length-1];case"vtc":switch(w[3]){case"nl":S[v][b]=!!+w[4];break;default:S[v][b]=+w[4];break}w[2]=="vtf"&&(S[v][b]=[S[v][b],F])}}}return _&&_.sheetRows&&(S=S.slice(0,_.sheetRows)),S}function e(f,_){return hd(i(f,_),_)}function r(f,_){return cc(e(f,_),_)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var _=[],x=[],v,b="",M=la(f["!ref"]),S=Array.isArray(f),w=M.s.r;w<=M.e.r;++w)for(var T=M.s.c;T<=M.e.c;++T)if(b=Et({r:w,c:T}),v=S?(f[w]||[])[T]:f[b],!(!v||v.v==null||v.t==="z")){switch(x=["cell",b,"t"],v.t){case"s":case"str":x.push(t(v.v));break;case"n":v.f?(x[2]="vtf",x[3]="n",x[4]=v.v,x[5]=t(v.f)):(x[2]="v",x[3]=v.v);break;case"b":x[2]="vt"+(v.f?"f":"c"),x[3]="nl",x[4]=v.v?"1":"0",x[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var F=Xi(Wn(v.v));x[2]="vtc",x[3]="nd",x[4]=""+F,x[5]=v.w||$a(v.z||St[14],F);break;case"e":continue}_.push(x.join(":"))}return _.push("sheet:c:"+(M.e.c-M.s.c+1)+":r:"+(M.e.r-M.s.r+1)+":tvf:1"),_.push("valueformat:1:text-wiki"),_.join(`
`)}function m(f){return[a,o,s,o,u(f),d].join(`
`)}return{to_workbook:r,to_sheet:e,from_sheet:m}}(),gd=function(){function n(m,f,_,x,v){v.raw?f[_][x]=m:m===""||(m==="TRUE"?f[_][x]=!0:m==="FALSE"?f[_][x]=!1:isNaN(oo(m))?isNaN(dd(m).getDate())?f[_][x]=m:f[_][x]=Wn(m):f[_][x]=oo(m))}function t(m,f){var _=f||{},x=[];if(!m||m.length===0)return x;for(var v=m.split(/[\r\n]/),b=v.length-1;b>=0&&v[b].length===0;)--b;for(var M=10,S=0,w=0;w<=b;++w)S=v[w].indexOf(" "),S==-1?S=v[w].length:S++,M=Math.max(M,S);for(w=0;w<=b;++w){x[w]=[];var T=0;for(n(v[w].slice(0,M).trim(),x,w,T,_),T=1;T<=(v[w].length-M)/10+1;++T)n(v[w].slice(M+(T-1)*10,M+T*10).trim(),x,w,T,_)}return _.sheetRows&&(x=x.slice(0,_.sheetRows)),x}var i={44:",",9:"	",59:";",124:"|"},e={44:3,9:2,59:1,124:0};function r(m){for(var f={},_=!1,x=0,v=0;x<m.length;++x)(v=m.charCodeAt(x))==34?_=!_:!_&&v in i&&(f[v]=(f[v]||0)+1);v=[];for(x in f)Object.prototype.hasOwnProperty.call(f,x)&&v.push([f[x],x]);if(!v.length){f=e;for(x in f)Object.prototype.hasOwnProperty.call(f,x)&&v.push([f[x],x])}return v.sort(function(b,M){return b[0]-M[0]||e[b[1]]-e[M[1]]}),i[v.pop()[1]]||44}function a(m,f){var _=f||{},x="";xi!=null&&_.dense==null&&(_.dense=xi);var v=_.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(x=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(x=m.charAt(4),m=m.slice(6)):x=r(m.slice(0,1024)):_&&_.FS?x=_.FS:x=r(m.slice(0,1024));var M=0,S=0,w=0,T=0,F=0,U=x.charCodeAt(0),A=!1,k=0,I=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var B=_.dateNF!=null?KA(_.dateNF):null;function X(){var J=m.slice(T,F),te={};if(J.charAt(0)=='"'&&J.charAt(J.length-1)=='"'&&(J=J.slice(1,-1).replace(/""/g,'"')),J.length===0)te.t="z";else if(_.raw)te.t="s",te.v=J;else if(J.trim().length===0)te.t="s",te.v=J;else if(J.charCodeAt(0)==61)J.charCodeAt(1)==34&&J.charCodeAt(J.length-1)==34?(te.t="s",te.v=J.slice(2,-1).replace(/""/g,'"')):O9(J)?(te.t="n",te.f=J.slice(1)):(te.t="s",te.v=J);else if(J=="TRUE")te.t="b",te.v=!0;else if(J=="FALSE")te.t="b",te.v=!1;else if(!isNaN(w=oo(J)))te.t="n",_.cellText!==!1&&(te.w=J),te.v=w;else if(!isNaN(dd(J).getDate())||B&&J.match(B)){te.z=_.dateNF||St[14];var ye=0;B&&J.match(B)&&(J=ZA(J,_.dateNF,J.match(B)||[]),ye=1),_.cellDates?(te.t="d",te.v=Wn(J,ye)):(te.t="n",te.v=Xi(Wn(J,ye))),_.cellText!==!1&&(te.w=$a(te.z,te.v instanceof Date?Xi(te.v):te.v)),_.cellNF||delete te.z}else te.t="s",te.v=J;if(te.t=="z"||(_.dense?(v[M]||(v[M]=[]),v[M][S]=te):v[Et({c:S,r:M})]=te),T=F+1,I=m.charCodeAt(T),b.e.c<S&&(b.e.c=S),b.e.r<M&&(b.e.r=M),k==U)++S;else if(S=0,++M,_.sheetRows&&_.sheetRows<=M)return!0}e:for(;F<m.length;++F)switch(k=m.charCodeAt(F)){case 34:I===34&&(A=!A);break;case U:case 10:case 13:if(!A&&X())break e;break;default:break}return F-T>0&&X(),v["!ref"]=Gt(b),v}function o(m,f){return!(f&&f.PRN)||f.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?a(m,f):hd(t(m,f),f)}function s(m,f){var _="",x=f.type=="string"?[0,0,0,0]:zh(m,f);switch(f.type){case"base64":_=va(m);break;case"binary":_=m;break;case"buffer":f.codepage==65001?_=m.toString("utf8"):f.codepage&&typeof Pn<"u"?_=Pn.utils.decode(f.codepage,m):_=rn&&Buffer.isBuffer(m)?m.toString("binary"):sc(m);break;case"array":_=Nc(m);break;case"string":_=m;break;default:throw new Error("Unrecognized type "+f.type)}return x[0]==239&&x[1]==187&&x[2]==191?_=An(_.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?_=An(_):f.type=="binary"&&typeof Pn<"u"&&f.codepage&&(_=Pn.utils.decode(f.codepage,Pn.utils.encode(28591,_))),_.slice(0,19)=="socialcalc:version:"?RM.to_sheet(f.type=="string"?_:An(_),f):o(_,f)}function d(m,f){return cc(s(m,f),f)}function u(m){for(var f=[],_=pn(m["!ref"]),x,v=Array.isArray(m),b=_.s.r;b<=_.e.r;++b){for(var M=[],S=_.s.c;S<=_.e.c;++S){var w=Et({r:b,c:S});if(x=v?(m[b]||[])[S]:m[w],!x||x.v==null){M.push("          ");continue}for(var T=(x.w||(ps(x),x.w)||"").slice(0,10);T.length<10;)T+=" ";M.push(T+(S===0?" ":""))}f.push(M.join(""))}return f.join(`
`)}return{to_workbook:d,to_sheet:s,from_sheet:u}}();function gF(n,t){var i=t||{},e=!!i.WTF;i.WTF=!0;try{var r=DM.to_workbook(n,i);return i.WTF=e,r}catch(a){if(i.WTF=e,!a.message.match(/SYLK bad record ID/)&&e)throw a;return gd.to_workbook(n,t)}}var Dc=function(){function n(Q,re,ne){if(Q){xr(Q,Q.l||0);for(var ie=ne.Enum||Te;Q.l<Q.length;){var me=Q.read_shift(2),Ae=ie[me]||ie[65535],Ie=Q.read_shift(2),ke=Q.l+Ie,ve=Ae.f&&Ae.f(Q,Ie,ne);if(Q.l=ke,re(ve,Ae,me))return}}}function t(Q,re){switch(re.type){case"base64":return i(Ca(va(Q)),re);case"binary":return i(Ca(Q),re);case"buffer":case"array":return i(Q,re)}throw"Unsupported type "+re.type}function i(Q,re){if(!Q)return Q;var ne=re||{};xi!=null&&ne.dense==null&&(ne.dense=xi);var ie=ne.dense?[]:{},me="Sheet1",Ae="",Ie=0,ke={},ve=[],lt=[],K={s:{r:0,c:0},e:{r:0,c:0}},ft=ne.sheetRows||0;if(Q[2]==0&&(Q[3]==8||Q[3]==9)&&Q.length>=16&&Q[14]==5&&Q[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(Q[2]==2)ne.Enum=Te,n(Q,function(Be,jt,fn){switch(fn){case 0:ne.vers=Be,Be>=4096&&(ne.qpro=!0);break;case 6:K=Be;break;case 204:Be&&(Ae=Be);break;case 222:Ae=Be;break;case 15:case 51:ne.qpro||(Be[1].v=Be[1].v.slice(1));case 13:case 14:case 16:fn==14&&(Be[2]&112)==112&&(Be[2]&15)>1&&(Be[2]&15)<15&&(Be[1].z=ne.dateNF||St[14],ne.cellDates&&(Be[1].t="d",Be[1].v=Wm(Be[1].v))),ne.qpro&&Be[3]>Ie&&(ie["!ref"]=Gt(K),ke[me]=ie,ve.push(me),ie=ne.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},Ie=Be[3],me=Ae||"Sheet"+(Ie+1),Ae="");var Ln=ne.dense?(ie[Be[0].r]||[])[Be[0].c]:ie[Et(Be[0])];if(Ln){Ln.t=Be[1].t,Ln.v=Be[1].v,Be[1].z!=null&&(Ln.z=Be[1].z),Be[1].f!=null&&(Ln.f=Be[1].f);break}ne.dense?(ie[Be[0].r]||(ie[Be[0].r]=[]),ie[Be[0].r][Be[0].c]=Be[1]):ie[Et(Be[0])]=Be[1];break;default:}},ne);else if(Q[2]==26||Q[2]==14)ne.Enum=le,Q[2]==14&&(ne.qpro=!0,Q.l=0),n(Q,function(Be,jt,fn){switch(fn){case 204:me=Be;break;case 22:Be[1].v=Be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Be[3]>Ie&&(ie["!ref"]=Gt(K),ke[me]=ie,ve.push(me),ie=ne.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},Ie=Be[3],me="Sheet"+(Ie+1)),ft>0&&Be[0].r>=ft)break;ne.dense?(ie[Be[0].r]||(ie[Be[0].r]=[]),ie[Be[0].r][Be[0].c]=Be[1]):ie[Et(Be[0])]=Be[1],K.e.c<Be[0].c&&(K.e.c=Be[0].c),K.e.r<Be[0].r&&(K.e.r=Be[0].r);break;case 27:Be[14e3]&&(lt[Be[14e3][0]]=Be[14e3][1]);break;case 1537:lt[Be[0]]=Be[1],Be[0]==Ie&&(me=Be[1]);break;default:break}},ne);else throw new Error("Unrecognized LOTUS BOF "+Q[2]);if(ie["!ref"]=Gt(K),ke[Ae||me]=ie,ve.push(Ae||me),!lt.length)return{SheetNames:ve,Sheets:ke};for(var et={},At=[],it=0;it<lt.length;++it)ke[ve[it]]?(At.push(lt[it]||ve[it]),et[lt[it]]=ke[lt[it]]||ke[ve[it]]):(At.push(lt[it]),et[lt[it]]={"!ref":"A1"});return{SheetNames:At,Sheets:et}}function e(Q,re){var ne=re||{};if(+ne.codepage>=0&&ro(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK1 to JS string");var ie=ca(),me=pn(Q["!ref"]),Ae=Array.isArray(Q),Ie=[];Ze(ie,0,a(1030)),Ze(ie,6,d(me));for(var ke=Math.min(me.e.r,8191),ve=me.s.r;ve<=ke;++ve)for(var lt=Mi(ve),K=me.s.c;K<=me.e.c;++K){ve===me.s.r&&(Ie[K]=ai(K));var ft=Ie[K]+lt,et=Ae?(Q[ve]||[])[K]:Q[ft];if(!(!et||et.t=="z"))if(et.t=="n")(et.v|0)==et.v&&et.v>=-32768&&et.v<=32767?Ze(ie,13,x(ve,K,et.v)):Ze(ie,14,b(ve,K,et.v));else{var At=ps(et);Ze(ie,15,f(ve,K,At.slice(0,239)))}}return Ze(ie,1),ie.end()}function r(Q,re){var ne=re||{};if(+ne.codepage>=0&&ro(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK3 to JS string");var ie=ca();Ze(ie,0,o(Q));for(var me=0,Ae=0;me<Q.SheetNames.length;++me)(Q.Sheets[Q.SheetNames[me]]||{})["!ref"]&&Ze(ie,27,be(Q.SheetNames[me],Ae++));var Ie=0;for(me=0;me<Q.SheetNames.length;++me){var ke=Q.Sheets[Q.SheetNames[me]];if(!(!ke||!ke["!ref"])){for(var ve=pn(ke["!ref"]),lt=Array.isArray(ke),K=[],ft=Math.min(ve.e.r,8191),et=ve.s.r;et<=ft;++et)for(var At=Mi(et),it=ve.s.c;it<=ve.e.c;++it){et===ve.s.r&&(K[it]=ai(it));var Be=K[it]+At,jt=lt?(ke[et]||[])[it]:ke[Be];if(!(!jt||jt.t=="z"))if(jt.t=="n")Ze(ie,23,X(et,it,Ie,jt.v));else{var fn=ps(jt);Ze(ie,22,k(et,it,Ie,fn.slice(0,239)))}}++Ie}}return Ze(ie,1),ie.end()}function a(Q){var re=we(2);return re.write_shift(2,Q),re}function o(Q){var re=we(26);re.write_shift(2,4096),re.write_shift(2,4),re.write_shift(4,0);for(var ne=0,ie=0,me=0,Ae=0;Ae<Q.SheetNames.length;++Ae){var Ie=Q.SheetNames[Ae],ke=Q.Sheets[Ie];if(!(!ke||!ke["!ref"])){++me;var ve=la(ke["!ref"]);ne<ve.e.r&&(ne=ve.e.r),ie<ve.e.c&&(ie=ve.e.c)}}return ne>8191&&(ne=8191),re.write_shift(2,ne),re.write_shift(1,me),re.write_shift(1,ie),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(1,1),re.write_shift(1,2),re.write_shift(4,0),re.write_shift(4,0),re}function s(Q,re,ne){var ie={s:{c:0,r:0},e:{c:0,r:0}};return re==8&&ne.qpro?(ie.s.c=Q.read_shift(1),Q.l++,ie.s.r=Q.read_shift(2),ie.e.c=Q.read_shift(1),Q.l++,ie.e.r=Q.read_shift(2),ie):(ie.s.c=Q.read_shift(2),ie.s.r=Q.read_shift(2),re==12&&ne.qpro&&(Q.l+=2),ie.e.c=Q.read_shift(2),ie.e.r=Q.read_shift(2),re==12&&ne.qpro&&(Q.l+=2),ie.s.c==65535&&(ie.s.c=ie.e.c=ie.s.r=ie.e.r=0),ie)}function d(Q){var re=we(8);return re.write_shift(2,Q.s.c),re.write_shift(2,Q.s.r),re.write_shift(2,Q.e.c),re.write_shift(2,Q.e.r),re}function u(Q,re,ne){var ie=[{c:0,r:0},{t:"n",v:0},0,0];return ne.qpro&&ne.vers!=20768?(ie[0].c=Q.read_shift(1),ie[3]=Q.read_shift(1),ie[0].r=Q.read_shift(2),Q.l+=2):(ie[2]=Q.read_shift(1),ie[0].c=Q.read_shift(2),ie[0].r=Q.read_shift(2)),ie}function m(Q,re,ne){var ie=Q.l+re,me=u(Q,re,ne);if(me[1].t="s",ne.vers==20768){Q.l++;var Ae=Q.read_shift(1);return me[1].v=Q.read_shift(Ae,"utf8"),me}return ne.qpro&&Q.l++,me[1].v=Q.read_shift(ie-Q.l,"cstr"),me}function f(Q,re,ne){var ie=we(7+ne.length);ie.write_shift(1,255),ie.write_shift(2,re),ie.write_shift(2,Q),ie.write_shift(1,39);for(var me=0;me<ie.length;++me){var Ae=ne.charCodeAt(me);ie.write_shift(1,Ae>=128?95:Ae)}return ie.write_shift(1,0),ie}function _(Q,re,ne){var ie=u(Q,re,ne);return ie[1].v=Q.read_shift(2,"i"),ie}function x(Q,re,ne){var ie=we(7);return ie.write_shift(1,255),ie.write_shift(2,re),ie.write_shift(2,Q),ie.write_shift(2,ne,"i"),ie}function v(Q,re,ne){var ie=u(Q,re,ne);return ie[1].v=Q.read_shift(8,"f"),ie}function b(Q,re,ne){var ie=we(13);return ie.write_shift(1,255),ie.write_shift(2,re),ie.write_shift(2,Q),ie.write_shift(8,ne,"f"),ie}function M(Q,re,ne){var ie=Q.l+re,me=u(Q,re,ne);if(me[1].v=Q.read_shift(8,"f"),ne.qpro)Q.l=ie;else{var Ae=Q.read_shift(2);F(Q.slice(Q.l,Q.l+Ae),me),Q.l+=Ae}return me}function S(Q,re,ne){var ie=re&32768;return re&=-32769,re=(ie?Q:0)+(re>=8192?re-16384:re),(ie?"":"$")+(ne?ai(re):Mi(re))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function F(Q,re){xr(Q,0);for(var ne=[],ie=0,me="",Ae="",Ie="",ke="";Q.l<Q.length;){var ve=Q[Q.l++];switch(ve){case 0:ne.push(Q.read_shift(8,"f"));break;case 1:Ae=S(re[0].c,Q.read_shift(2),!0),me=S(re[0].r,Q.read_shift(2),!1),ne.push(Ae+me);break;case 2:{var lt=S(re[0].c,Q.read_shift(2),!0),K=S(re[0].r,Q.read_shift(2),!1);Ae=S(re[0].c,Q.read_shift(2),!0),me=S(re[0].r,Q.read_shift(2),!1),ne.push(lt+K+":"+Ae+me)}break;case 3:if(Q.l<Q.length){console.error("WK1 premature formula end");return}break;case 4:ne.push("("+ne.pop()+")");break;case 5:ne.push(Q.read_shift(2));break;case 6:{for(var ft="";ve=Q[Q.l++];)ft+=String.fromCharCode(ve);ne.push('"'+ft.replace(/"/g,'""')+'"')}break;case 8:ne.push("-"+ne.pop());break;case 23:ne.push("+"+ne.pop());break;case 22:ne.push("NOT("+ne.pop()+")");break;case 20:case 21:ke=ne.pop(),Ie=ne.pop(),ne.push(["AND","OR"][ve-20]+"("+Ie+","+ke+")");break;default:if(ve<32&&T[ve])ke=ne.pop(),Ie=ne.pop(),ne.push(Ie+T[ve]+ke);else if(w[ve]){if(ie=w[ve][1],ie==69&&(ie=Q[Q.l++]),ie>ne.length){console.error("WK1 bad formula parse 0x"+ve.toString(16)+":|"+ne.join("|")+"|");return}var et=ne.slice(-ie);ne.length-=ie,ne.push(w[ve][0]+"("+et.join(",")+")")}else return ve<=7?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=24?console.error("WK1 unsupported op "+ve.toString(16)):ve<=30?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=115?console.error("WK1 unsupported function opcode "+ve.toString(16)):console.error("WK1 unrecognized opcode "+ve.toString(16))}}ne.length==1?re[1].f=""+ne[0]:console.error("WK1 bad formula parse |"+ne.join("|")+"|")}function U(Q){var re=[{c:0,r:0},{t:"n",v:0},0];return re[0].r=Q.read_shift(2),re[3]=Q[Q.l++],re[0].c=Q[Q.l++],re}function A(Q,re){var ne=U(Q,re);return ne[1].t="s",ne[1].v=Q.read_shift(re-4,"cstr"),ne}function k(Q,re,ne,ie){var me=we(6+ie.length);me.write_shift(2,Q),me.write_shift(1,ne),me.write_shift(1,re),me.write_shift(1,39);for(var Ae=0;Ae<ie.length;++Ae){var Ie=ie.charCodeAt(Ae);me.write_shift(1,Ie>=128?95:Ie)}return me.write_shift(1,0),me}function I(Q,re){var ne=U(Q,re);ne[1].v=Q.read_shift(2);var ie=ne[1].v>>1;if(ne[1].v&1)switch(ie&7){case 0:ie=(ie>>3)*5e3;break;case 1:ie=(ie>>3)*500;break;case 2:ie=(ie>>3)/20;break;case 3:ie=(ie>>3)/200;break;case 4:ie=(ie>>3)/2e3;break;case 5:ie=(ie>>3)/2e4;break;case 6:ie=(ie>>3)/16;break;case 7:ie=(ie>>3)/64;break}return ne[1].v=ie,ne}function B(Q,re){var ne=U(Q,re),ie=Q.read_shift(4),me=Q.read_shift(4),Ae=Q.read_shift(2);if(Ae==65535)return ie===0&&me===3221225472?(ne[1].t="e",ne[1].v=15):ie===0&&me===3489660928?(ne[1].t="e",ne[1].v=42):ne[1].v=0,ne;var Ie=Ae&32768;return Ae=(Ae&32767)-16446,ne[1].v=(1-Ie*2)*(me*Math.pow(2,Ae+32)+ie*Math.pow(2,Ae)),ne}function X(Q,re,ne,ie){var me=we(14);if(me.write_shift(2,Q),me.write_shift(1,ne),me.write_shift(1,re),ie==0)return me.write_shift(4,0),me.write_shift(4,0),me.write_shift(2,65535),me;var Ae=0,Ie=0,ke=0,ve=0;return ie<0&&(Ae=1,ie=-ie),Ie=Math.log2(ie)|0,ie/=Math.pow(2,Ie-31),ve=ie>>>0,ve&2147483648||(ie/=2,++Ie,ve=ie>>>0),ie-=ve,ve|=2147483648,ve>>>=0,ie*=Math.pow(2,32),ke=ie>>>0,me.write_shift(4,ke),me.write_shift(4,ve),Ie+=16383+(Ae?32768:0),me.write_shift(2,Ie),me}function J(Q,re){var ne=B(Q,14);return Q.l+=re-14,ne}function te(Q,re){var ne=U(Q,re),ie=Q.read_shift(4);return ne[1].v=ie>>6,ne}function ye(Q,re){var ne=U(Q,re),ie=Q.read_shift(8,"f");return ne[1].v=ie,ne}function De(Q,re){var ne=ye(Q,14);return Q.l+=re-10,ne}function Ce(Q,re){return Q[Q.l+re-1]==0?Q.read_shift(re,"cstr"):""}function Ve(Q,re){var ne=Q[Q.l++];ne>re-1&&(ne=re-1);for(var ie="";ie.length<ne;)ie+=String.fromCharCode(Q[Q.l++]);return ie}function Se(Q,re,ne){if(!(!ne.qpro||re<21)){var ie=Q.read_shift(1);Q.l+=17,Q.l+=1,Q.l+=2;var me=Q.read_shift(re-21,"cstr");return[ie,me]}}function je(Q,re){for(var ne={},ie=Q.l+re;Q.l<ie;){var me=Q.read_shift(2);if(me==14e3){for(ne[me]=[0,""],ne[me][0]=Q.read_shift(2);Q[Q.l];)ne[me][1]+=String.fromCharCode(Q[Q.l]),Q.l++;Q.l++}}return ne}function be(Q,re){var ne=we(5+Q.length);ne.write_shift(2,14e3),ne.write_shift(2,re);for(var ie=0;ie<Q.length;++ie){var me=Q.charCodeAt(ie);ne[ne.l++]=me>127?95:me}return ne[ne.l++]=0,ne}var Te={0:{n:"BOF",f:$i},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:_},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:M},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ce},222:{n:"SHEETNAMELP",f:Ve},65535:{n:""}},le={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:A},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:J},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:je},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:te},38:{n:"??"},39:{n:"NUMBER27",f:ye},40:{n:"FORMULA28",f:De},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ce},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:e,book_to_wk3:r,to_workbook:t}}();function uF(n){var t={},i=n.match(Yr),e=0,r=!1;if(i)for(;e!=i.length;++e){var a=Ft(i[e]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=th[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(a[0].charCodeAt(1)!==47&&!r)throw new Error("Unrecognized rich format "+a[0])}}return t}var mF=function(){var n=f0("t"),t=f0("rPr");function i(a){var o=a.match(n);if(!o)return{t:"s",v:""};var s={t:"s",v:mn(o[1])},d=a.match(t);return d&&(s.s=uF(d[1])),s}var e=/<(?:\w+:)?r>/g,r=/<\/(?:\w+:)?r>/;return function(o){return o.replace(e,"").split(r).map(i).filter(function(s){return s.v})}}(),pF=function(){var t=/(\r\n|\n)/g;function i(r,a,o){var s=[];r.u&&s.push("text-decoration: underline;"),r.uval&&s.push("text-underline-style:"+r.uval+";"),r.sz&&s.push("font-size:"+r.sz+"pt;"),r.outline&&s.push("text-effect: outline;"),r.shadow&&s.push("text-shadow: auto;"),a.push('<span style="'+s.join("")+'">'),r.b&&(a.push("<b>"),o.push("</b>")),r.i&&(a.push("<i>"),o.push("</i>")),r.strike&&(a.push("<s>"),o.push("</s>"));var d=r.valign||"";return d=="superscript"||d=="super"?d="sup":d=="subscript"&&(d="sub"),d!=""&&(a.push("<"+d+">"),o.push("</"+d+">")),o.push("</span>"),r}function e(r){var a=[[],r.v,[]];return r.v?(r.s&&i(r.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(e).join("")}}(),fF=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,hF=/<(?:\w+:)?r>/,_F=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Th(n,t){var i=t?t.cellHTML:!0,e={};return n?(n.match(/^\s*<(?:\w+:)?t[^>]*>/)?(e.t=mn(An(n.slice(n.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),e.r=An(n),i&&(e.h=gh(e.t))):n.match(hF)&&(e.r=An(n),e.t=mn(An((n.replace(_F,"").match(fF)||[]).join("").replace(Yr,""))),i&&(e.h=pF(mF(e.r)))),e):{t:""}}var xF=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,CF=/<(?:\w+:)?(?:si|sstItem)>/g,bF=/<\/(?:\w+:)?(?:si|sstItem)>/;function vF(n,t){var i=[],e="";if(!n)return i;var r=n.match(xF);if(r){e=r[2].replace(CF,"").split(bF);for(var a=0;a!=e.length;++a){var o=Th(e[a].trim(),t);o!=null&&(i[i.length]=o)}r=Ft(r[1]),i.Count=r.count,i.Unique=r.uniqueCount}return i}var yF=/^\s|\s$|[\t\n\r]/;function NM(n,t){if(!t.bookSST)return"";var i=[Pi];i[i.length]=Xe("sst",null,{xmlns:jc[0],count:n.Count,uniqueCount:n.Unique});for(var e=0;e!=n.length;++e)if(n[e]!=null){var r=n[e],a="<si>";r.r?a+=r.r:(a+="<t",r.t||(r.t=""),r.t.match(yF)&&(a+=' xml:space="preserve"'),a+=">"+Tn(r.t)+"</t>"),a+="</si>",i[i.length]=a}return i.length>2&&(i[i.length]="</sst>",i[1]=i[1].replace("/>",">")),i.join("")}function MF(n){return[n.read_shift(4),n.read_shift(4)]}function PF(n,t){var i=[],e=!1;return hs(n,function(a,o,s){switch(s){case 159:i.Count=a[0],i.Unique=a[1];break;case 19:i.push(a);break;case 160:return!0;case 35:e=!0;break;case 36:e=!1;break;default:if(o.T,!e||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}}),i}function OF(n,t){return t||(t=we(8)),t.write_shift(4,n.Count),t.write_shift(4,n.Unique),t}var wF=NI;function SF(n){var t=ca();Re(t,159,OF(n));for(var i=0;i<n.length;++i)Re(t,19,wF(n[i]));return Re(t,160),t.end()}function LM(n){if(typeof Pn<"u")return Pn.utils.encode(ld,n);for(var t=[],i=n.split(""),e=0;e<i.length;++e)t[e]=i[e].charCodeAt(0);return t}function ms(n,t){var i={};return i.Major=n.read_shift(2),i.Minor=n.read_shift(2),t>=4&&(n.l+=t-4),i}function kF(n){var t={};return t.id=n.read_shift(0,"lpp4"),t.R=ms(n,4),t.U=ms(n,4),t.W=ms(n,4),t}function TF(n){for(var t=n.read_shift(4),i=n.l+t-4,e={},r=n.read_shift(4),a=[];r-- >0;)a.push({t:n.read_shift(4),v:n.read_shift(0,"lpp4")});if(e.name=n.read_shift(0,"lpp4"),e.comps=a,n.l!=i)throw new Error("Bad DataSpaceMapEntry: "+n.l+" != "+i);return e}function EF(n){var t=[];n.l+=4;for(var i=n.read_shift(4);i-- >0;)t.push(TF(n));return t}function AF(n){var t=[];n.l+=4;for(var i=n.read_shift(4);i-- >0;)t.push(n.read_shift(0,"lpp4"));return t}function IF(n){var t={};return n.read_shift(4),n.l+=4,t.id=n.read_shift(0,"lpp4"),t.name=n.read_shift(0,"lpp4"),t.R=ms(n,4),t.U=ms(n,4),t.W=ms(n,4),t}function DF(n){var t=IF(n);if(t.ename=n.read_shift(0,"8lpp4"),t.blksz=n.read_shift(4),t.cmode=n.read_shift(4),n.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function BM(n,t){var i=n.l+t,e={};e.Flags=n.read_shift(4)&63,n.l+=4,e.AlgID=n.read_shift(4);var r=!1;switch(e.AlgID){case 26126:case 26127:case 26128:r=e.Flags==36;break;case 26625:r=e.Flags==4;break;case 0:r=e.Flags==16||e.Flags==4||e.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+e.AlgID}if(!r)throw new Error("Encryption Flags/AlgID mismatch");return e.AlgIDHash=n.read_shift(4),e.KeySize=n.read_shift(4),e.ProviderType=n.read_shift(4),n.l+=8,e.CSPName=n.read_shift(i-n.l>>1,"utf16le"),n.l=i,e}function VM(n,t){var i={},e=n.l+t;return n.l+=4,i.Salt=n.slice(n.l,n.l+16),n.l+=16,i.Verifier=n.slice(n.l,n.l+16),n.l+=16,n.read_shift(4),i.VerifierHash=n.slice(n.l,e),n.l=e,i}function FF(n){var t=ms(n);switch(t.Minor){case 2:return[t.Minor,RF(n,t)];case 3:return[t.Minor,NF(n,t)];case 4:return[t.Minor,LF(n,t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function RF(n){var t=n.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var i=n.read_shift(4),e=BM(n,i),r=VM(n,n.length-n.l);return{t:"Std",h:e,v:r}}function NF(){throw new Error("File is password-protected: ECMA-376 Extensible")}function LF(n){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];n.l+=4;var i=n.read_shift(n.length-n.l,"utf8"),e={};return i.replace(Yr,function(a){var o=Ft(a);switch(jo(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(s){e[s]=o[s]});break;case"<dataIntegrity":e.encryptedHmacKey=o.encryptedHmacKey,e.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":e.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":e.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":e.encs.push(o);break;default:throw o[0]}}),e}function BF(n,t){var i={},e=i.EncryptionVersionInfo=ms(n,4);if(t-=4,e.Minor!=2)throw new Error("unrecognized minor version code: "+e.Minor);if(e.Major>4||e.Major<2)throw new Error("unrecognized major version code: "+e.Major);i.Flags=n.read_shift(4),t-=4;var r=n.read_shift(4);return t-=4,i.EncryptionHeader=BM(n,r),t-=r,i.EncryptionVerifier=VM(n,t),i}function VF(n){var t={},i=t.EncryptionVersionInfo=ms(n,4);if(i.Major!=1||i.Minor!=1)throw"unrecognized version code "+i.Major+" : "+i.Minor;return t.Salt=n.read_shift(16),t.EncryptedVerifier=n.read_shift(16),t.EncryptedVerifierHash=n.read_shift(16),t}function Eh(n){var t=0,i,e=LM(n),r=e.length+1,a,o,s,d,u;for(i=ic(r),i[0]=e.length,a=1;a!=r;++a)i[a]=e[a-1];for(a=r-1;a>=0;--a)o=i[a],s=t&16384?1:0,d=t<<1&32767,u=s|d,t=u^o;return t^52811}var $M=function(){var n=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],i=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],e=function(o){return(o/2|o*128)&255},r=function(o,s){return e(o^s)},a=function(o){for(var s=t[o.length-1],d=104,u=o.length-1;u>=0;--u)for(var m=o[u],f=0;f!=7;++f)m&64&&(s^=i[d]),m*=2,--d;return s};return function(o){for(var s=LM(o),d=a(s),u=s.length,m=ic(16),f=0;f!=16;++f)m[f]=0;var _,x,v;for((u&1)===1&&(_=d>>8,m[u]=r(n[0],_),--u,_=d&255,x=s[s.length-1],m[u]=r(x,_));u>0;)--u,_=d>>8,m[u]=r(s[u],_),--u,_=d&255,m[u]=r(s[u],_);for(u=15,v=15-s.length;v>0;)_=d>>8,m[u]=r(n[v],_),--u,--v,_=d&255,m[u]=r(s[u],_),--u,--v;return m}}(),$F=function(n,t,i,e,r){r||(r=t),e||(e=$M(n));var a,o;for(a=0;a!=t.length;++a)o=t[a],o^=e[i],o=(o>>5|o<<3)&255,r[a]=o,++i;return[r,i,e]},jF=function(n){var t=0,i=$M(n);return function(e){var r=$F("",e,t,i);return t=r[1],r[0]}};function zF(n,t,i,e){var r={key:$i(n),verificationBytes:$i(n)};return i.password&&(r.verifier=Eh(i.password)),e.valid=r.verificationBytes===r.verifier,e.valid&&(e.insitu=jF(i.password)),r}function YF(n,t,i){var e=i||{};return e.Info=n.read_shift(2),n.l-=2,e.Info===1?e.Data=VF(n,t):e.Data=BF(n,t),e}function UF(n,t,i){var e={Type:i.biff>=8?n.read_shift(2):0};return e.Type?YF(n,t-2,e):zF(n,i.biff>=8?t:t-2,i,e),e}var jM=function(){function n(r,a){switch(a.type){case"base64":return t(va(r),a);case"binary":return t(r,a);case"buffer":return t(rn&&Buffer.isBuffer(r)?r.toString("binary"):sc(r),a);case"array":return t(Nc(r),a)}throw new Error("Unrecognized type "+a.type)}function t(r,a){var o=a||{},s=o.dense?[]:{},d=r.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(m,f){Array.isArray(s)&&(s[f]=[]);for(var _=/\\\w+\b/g,x=0,v,b=-1;v=_.exec(m);){switch(v[0]){case"\\cell":var M=m.slice(x,_.lastIndex-v[0].length);if(M[0]==" "&&(M=M.slice(1)),++b,M.length){var S={v:M,t:"s"};Array.isArray(s)?s[f][b]=S:s[Et({r:f,c:b})]=S}break}x=_.lastIndex}b>u.e.c&&(u.e.c=b)}),s["!ref"]=Gt(u),s}function i(r,a){return cc(n(r,a),a)}function e(r){for(var a=["{\\rtf1\\ansi"],o=pn(r["!ref"]),s,d=Array.isArray(r),u=o.s.r;u<=o.e.r;++u){a.push("\\trowd\\trautofit1");for(var m=o.s.c;m<=o.e.c;++m)a.push("\\cellx"+(m+1));for(a.push("\\pard\\intbl"),m=o.s.c;m<=o.e.c;++m){var f=Et({r:u,c:m});s=d?(r[u]||[])[m]:r[f],!(!s||s.v==null&&(!s.f||s.F))&&(a.push(" "+(s.w||(ps(s),s.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:i,to_sheet:n,from_sheet:e}}();function GF(n){var t=n.slice(n[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function C0(n){for(var t=0,i=1;t!=3;++t)i=i*256+(n[t]>255?255:n[t]<0?0:n[t]);return i.toString(16).toUpperCase().slice(1)}function WF(n){var t=n[0]/255,i=n[1]/255,e=n[2]/255,r=Math.max(t,i,e),a=Math.min(t,i,e),o=r-a;if(o===0)return[0,0,t];var s=0,d=0,u=r+a;switch(d=o/(u>1?2-u:u),r){case t:s=((i-e)/o+6)%6;break;case i:s=(e-t)/o+2;break;case e:s=(t-i)/o+4;break}return[s/6,d,u/2]}function HF(n){var t=n[0],i=n[1],e=n[2],r=i*2*(e<.5?e:1-e),a=e-r/2,o=[a,a,a],s=6*t,d;if(i!==0)switch(s|0){case 0:case 6:d=r*s,o[0]+=r,o[1]+=d;break;case 1:d=r*(2-s),o[0]+=d,o[1]+=r;break;case 2:d=r*(s-2),o[1]+=r,o[2]+=d;break;case 3:d=r*(4-s),o[1]+=d,o[2]+=r;break;case 4:d=r*(s-4),o[2]+=r,o[0]+=d;break;case 5:d=r*(6-s),o[2]+=d,o[0]+=r;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function Bm(n,t){if(t===0)return n;var i=WF(GF(n));return t<0?i[2]=i[2]*(1+t):i[2]=1-(1-i[2])*(1-t),C0(HF(i))}var zM=6,XF=15,qF=1,Br=zM;function b0(n){return Math.floor((n+Math.round(128/Br)/256)*Br)}function v0(n){return Math.floor((n-5)/Br*100+.5)/100}function Vm(n){return Math.round((n*Br+5)/Br*256)/256}function Ff(n){return Vm(v0(b0(n)))}function Ah(n){var t=Math.abs(n-Ff(n)),i=Br;if(t>.005)for(Br=qF;Br<XF;++Br)Math.abs(n-Ff(n))<=t&&(t=Math.abs(n-Ff(n)),i=Br);Br=i}function rc(n){n.width?(n.wpx=b0(n.width),n.wch=v0(n.wpx),n.MDW=Br):n.wpx?(n.wch=v0(n.wpx),n.width=Vm(n.wch),n.MDW=Br):typeof n.wch=="number"&&(n.width=Vm(n.wch),n.wpx=b0(n.width),n.MDW=Br),n.customWidth&&delete n.customWidth}var KF=96,YM=KF;function y0(n){return n*96/YM}function ud(n){return n*YM/96}var ZF={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function QF(n,t,i,e){t.Borders=[];var r={},a=!1;(n[0].match(Yr)||[]).forEach(function(o){var s=Ft(o);switch(jo(s[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":r={},s.diagonalUp&&(r.diagonalUp=Gn(s.diagonalUp)),s.diagonalDown&&(r.diagonalDown=Gn(s.diagonalDown)),t.Borders.push(r);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(e&&e.WTF&&!a)throw new Error("unrecognized "+s[0]+" in borders")}})}function JF(n,t,i,e){t.Fills=[];var r={},a=!1;(n[0].match(Yr)||[]).forEach(function(o){var s=Ft(o);switch(jo(s[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":r={},t.Fills.push(r);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(r),r={};break;case"<patternFill":case"<patternFill>":s.patternType&&(r.patternType=s.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":r.bgColor||(r.bgColor={}),s.indexed&&(r.bgColor.indexed=parseInt(s.indexed,10)),s.theme&&(r.bgColor.theme=parseInt(s.theme,10)),s.tint&&(r.bgColor.tint=parseFloat(s.tint)),s.rgb&&(r.bgColor.rgb=s.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":r.fgColor||(r.fgColor={}),s.theme&&(r.fgColor.theme=parseInt(s.theme,10)),s.tint&&(r.fgColor.tint=parseFloat(s.tint)),s.rgb!=null&&(r.fgColor.rgb=s.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(e&&e.WTF&&!a)throw new Error("unrecognized "+s[0]+" in fills")}})}function e7(n,t,i,e){t.Fonts=[];var r={},a=!1;(n[0].match(Yr)||[]).forEach(function(o){var s=Ft(o);switch(jo(s[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(r),r={};break;case"<name":s.val&&(r.name=An(s.val));break;case"<name/>":case"</name>":break;case"<b":r.bold=s.val?Gn(s.val):1;break;case"<b/>":r.bold=1;break;case"<i":r.italic=s.val?Gn(s.val):1;break;case"<i/>":r.italic=1;break;case"<u":switch(s.val){case"none":r.underline=0;break;case"single":r.underline=1;break;case"double":r.underline=2;break;case"singleAccounting":r.underline=33;break;case"doubleAccounting":r.underline=34;break}break;case"<u/>":r.underline=1;break;case"<strike":r.strike=s.val?Gn(s.val):1;break;case"<strike/>":r.strike=1;break;case"<outline":r.outline=s.val?Gn(s.val):1;break;case"<outline/>":r.outline=1;break;case"<shadow":r.shadow=s.val?Gn(s.val):1;break;case"<shadow/>":r.shadow=1;break;case"<condense":r.condense=s.val?Gn(s.val):1;break;case"<condense/>":r.condense=1;break;case"<extend":r.extend=s.val?Gn(s.val):1;break;case"<extend/>":r.extend=1;break;case"<sz":s.val&&(r.sz=+s.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":s.val&&(r.vertAlign=s.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":s.val&&(r.family=parseInt(s.val,10));break;case"<family/>":case"</family>":break;case"<scheme":s.val&&(r.scheme=s.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(s.val=="1")break;s.codepage=th[parseInt(s.val,10)];break;case"<color":if(r.color||(r.color={}),s.auto&&(r.color.auto=Gn(s.auto)),s.rgb)r.color.rgb=s.rgb.slice(-6);else if(s.indexed){r.color.index=parseInt(s.indexed,10);var d=Ac[r.color.index];r.color.index==81&&(d=Ac[1]),d||(d=Ac[1]),r.color.rgb=d[0].toString(16)+d[1].toString(16)+d[2].toString(16)}else s.theme&&(r.color.theme=parseInt(s.theme,10),s.tint&&(r.color.tint=parseFloat(s.tint)),s.theme&&i.themeElements&&i.themeElements.clrScheme&&(r.color.rgb=Bm(i.themeElements.clrScheme[r.color.theme].rgb,r.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(e&&e.WTF&&!a)throw new Error("unrecognized "+s[0]+" in fonts")}})}function t7(n,t,i){t.NumberFmt=[];for(var e=Ci(St),r=0;r<e.length;++r)t.NumberFmt[e[r]]=St[e[r]];var a=n[0].match(Yr);if(a)for(r=0;r<a.length;++r){var o=Ft(a[r]);switch(jo(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var s=mn(An(o.formatCode)),d=parseInt(o.numFmtId,10);if(t.NumberFmt[d]=s,d>0){if(d>392){for(d=392;d>60&&t.NumberFmt[d]!=null;--d);t.NumberFmt[d]=s}us(s,d)}}break;case"</numFmt>":break;default:if(i.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function n7(n){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var e=i[0];e<=i[1];++e)n[e]!=null&&(t[t.length]=Xe("numFmt",null,{numFmtId:e,formatCode:Tn(n[e])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Xe("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Om=["numFmtId","fillId","fontId","borderId","xfId"],wm=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function i7(n,t,i){t.CellXf=[];var e,r=!1;(n[0].match(Yr)||[]).forEach(function(a){var o=Ft(a),s=0;switch(jo(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(e=o,delete e[0],s=0;s<Om.length;++s)e[Om[s]]&&(e[Om[s]]=parseInt(e[Om[s]],10));for(s=0;s<wm.length;++s)e[wm[s]]&&(e[wm[s]]=Gn(e[wm[s]]));if(t.NumberFmt&&e.numFmtId>392){for(s=392;s>60;--s)if(t.NumberFmt[e.numFmtId]==t.NumberFmt[s]){e.numFmtId=s;break}}t.CellXf.push(e);break;case"</xf>":break;case"<alignment":case"<alignment/>":var d={};o.vertical&&(d.vertical=o.vertical),o.horizontal&&(d.horizontal=o.horizontal),o.textRotation!=null&&(d.textRotation=o.textRotation),o.indent&&(d.indent=o.indent),o.wrapText&&(d.wrapText=Gn(o.wrapText)),e.alignment=d;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":r=!0;break;case"</AlternateContent>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(i&&i.WTF&&!r)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function r7(n){var t=[];return t[t.length]=Xe("cellXfs",null),n.forEach(function(i){t[t.length]=Xe("xf",null,i)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Xe("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var a7=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,i=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,e=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,r=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,d,u){var m={};if(!s)return m;s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=s.match(t))&&t7(f,m,u),(f=s.match(r))&&e7(f,m,d,u),(f=s.match(e))&&JF(f,m,d,u),(f=s.match(a))&&QF(f,m,d,u),(f=s.match(i))&&i7(f,m,u),m}}();function UM(n,t){var i=[Pi,Xe("styleSheet",null,{xmlns:jc[0],"xmlns:vt":Hi.vt})],e;return n.SSF&&(e=n7(n.SSF))!=null&&(i[i.length]=e),i[i.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',i[i.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',i[i.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',i[i.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(e=r7(t.cellXfs))&&(i[i.length]=e),i[i.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',i[i.length]='<dxfs count="0"/>',i[i.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',i.length>2&&(i[i.length]="</styleSheet>",i[1]=i[1].replace("/>",">")),i.join("")}function o7(n,t){var i=n.read_shift(2),e=jr(n,t-2);return[i,e]}function s7(n,t,i){i||(i=we(6+4*t.length)),i.write_shift(2,n),ur(t,i);var e=i.length>i.l?i.slice(0,i.l):i;return i.l==null&&(i.l=i.length),e}function c7(n,t,i){var e={};e.sz=n.read_shift(2)/20;var r=YI(n,2,i);r.fItalic&&(e.italic=1),r.fCondense&&(e.condense=1),r.fExtend&&(e.extend=1),r.fShadow&&(e.shadow=1),r.fOutline&&(e.outline=1),r.fStrikeout&&(e.strike=1);var a=n.read_shift(2);switch(a===700&&(e.bold=1),n.read_shift(2)){case 1:e.vertAlign="superscript";break;case 2:e.vertAlign="subscript";break}var o=n.read_shift(1);o!=0&&(e.underline=o);var s=n.read_shift(1);s>0&&(e.family=s);var d=n.read_shift(1);switch(d>0&&(e.charset=d),n.l++,e.color=zI(n,8),n.read_shift(1)){case 1:e.scheme="major";break;case 2:e.scheme="minor";break}return e.name=jr(n,t-21),e}function l7(n,t){t||(t=we(25+4*32)),t.write_shift(2,n.sz*20),UI(n,t),t.write_shift(2,n.bold?700:400);var i=0;n.vertAlign=="superscript"?i=1:n.vertAlign=="subscript"&&(i=2),t.write_shift(2,i),t.write_shift(1,n.underline||0),t.write_shift(1,n.family||0),t.write_shift(1,n.charset||0),t.write_shift(1,0),Rm(n.color,t);var e=0;return n.scheme=="major"&&(e=1),n.scheme=="minor"&&(e=2),t.write_shift(1,e),ur(n.name,t),t.length>t.l?t.slice(0,t.l):t}var d7=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Rf,g7=zr;function cy(n,t){t||(t=we(4*3+8*7+16*1)),Rf||(Rf=Um(d7));var i=Rf[n.patternType];i==null&&(i=40),t.write_shift(4,i);var e=0;if(i!=40)for(Rm({auto:1},t),Rm({auto:1},t);e<12;++e)t.write_shift(4,0);else{for(;e<4;++e)t.write_shift(4,0);for(;e<12;++e)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function u7(n,t){var i=n.l+t,e=n.read_shift(2),r=n.read_shift(2);return n.l=i,{ixfe:e,numFmtId:r}}function GM(n,t,i){i||(i=we(16)),i.write_shift(2,t||0),i.write_shift(2,n.numFmtId||0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(1,0),i.write_shift(1,0);var e=0;return i.write_shift(1,e),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(1,0),i}function e0(n,t){return t||(t=we(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var m7=zr;function p7(n,t){return t||(t=we(51)),t.write_shift(1,0),e0(null,t),e0(null,t),e0(null,t),e0(null,t),e0(null,t),t.length>t.l?t.slice(0,t.l):t}function f7(n,t){return t||(t=we(12+4*10)),t.write_shift(4,n.xfId),t.write_shift(2,1),t.write_shift(1,+n.builtinId),t.write_shift(1,0),Fm(n.name||"",t),t.length>t.l?t.slice(0,t.l):t}function h7(n,t,i){var e=we(2052);return e.write_shift(4,n),Fm(t,e),Fm(i,e),e.length>e.l?e.slice(0,e.l):e}function _7(n,t,i){var e={};e.NumberFmt=[];for(var r in St)e.NumberFmt[r]=St[r];e.CellXf=[],e.Fonts=[];var a=[],o=!1;return hs(n,function(d,u,m){switch(m){case 44:e.NumberFmt[d[0]]=d[1],us(d[1],d[0]);break;case 43:e.Fonts.push(d),d.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(d.color.rgb=Bm(t.themeElements.clrScheme[d.color.theme].rgb,d.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&e.CellXf.push(d);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:a.push(m),o=!0;break;case 38:a.pop(),o=!1;break;default:if(u.T>0)a.push(m);else if(u.T<0)a.pop();else if(!o||i.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+m.toString(16))}}),e}function x7(n,t){if(t){var i=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)t[r]!=null&&++i}),i!=0&&(Re(n,615,so(i)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)t[r]!=null&&Re(n,44,s7(r,t[r]))}),Re(n,616))}}function C7(n){var t=1;t!=0&&(Re(n,611,so(t)),Re(n,43,l7({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Re(n,612))}function b7(n){var t=2;t!=0&&(Re(n,603,so(t)),Re(n,45,cy({patternType:"none"})),Re(n,45,cy({patternType:"gray125"})),Re(n,604))}function v7(n){var t=1;t!=0&&(Re(n,613,so(t)),Re(n,46,p7({})),Re(n,614))}function y7(n){var t=1;Re(n,626,so(t)),Re(n,47,GM({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Re(n,627)}function M7(n,t){Re(n,617,so(t.length)),t.forEach(function(i){Re(n,47,GM(i,0))}),Re(n,618)}function P7(n){var t=1;Re(n,619,so(t)),Re(n,48,f7({xfId:0,builtinId:0,name:"Normal"})),Re(n,620)}function O7(n){var t=0;Re(n,505,so(t)),Re(n,506)}function w7(n){var t=0;Re(n,508,h7(t,"TableStyleMedium9","PivotStyleMedium4")),Re(n,509)}function S7(n,t){var i=ca();return Re(i,278),x7(i,n.SSF),C7(i,n),b7(i,n),v7(i,n),y7(i,n),M7(i,t.cellXfs),P7(i,n),O7(i,n),w7(i,n),Re(i,279),i.end()}var k7=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function T7(n,t,i){t.themeElements.clrScheme=[];var e={};(n[0].match(Yr)||[]).forEach(function(r){var a=Ft(r);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":e.rgb=a.val;break;case"<a:sysClr":e.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[k7.indexOf(a[0])]=e,e={}):e.name=a[0].slice(3,a[0].length-1);break;default:if(i&&i.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function E7(){}function A7(){}var I7=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,D7=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,F7=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function R7(n,t,i){t.themeElements={};var e;[["clrScheme",I7,T7],["fontScheme",D7,E7],["fmtScheme",F7,A7]].forEach(function(r){if(!(e=n.match(r[1])))throw new Error(r[0]+" not found in themeElements");r[2](e,t,i)})}var N7=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function WM(n,t){(!n||n.length===0)&&(n=Ih());var i,e={};if(!(i=n.match(N7)))throw new Error("themeElements not found in theme");return R7(i[0],e,t),e.raw=n,e}function Ih(n,t){if(t&&t.themeXLSX)return t.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var i=[Pi];return i[i.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',i[i.length]="<a:themeElements>",i[i.length]='<a:clrScheme name="Office">',i[i.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',i[i.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',i[i.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',i[i.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',i[i.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',i[i.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',i[i.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',i[i.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',i[i.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',i[i.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',i[i.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',i[i.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',i[i.length]="</a:clrScheme>",i[i.length]='<a:fontScheme name="Office">',i[i.length]="<a:majorFont>",i[i.length]='<a:latin typeface="Cambria"/>',i[i.length]='<a:ea typeface=""/>',i[i.length]='<a:cs typeface=""/>',i[i.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',i[i.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',i[i.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',i[i.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',i[i.length]='<a:font script="Arab" typeface="Times New Roman"/>',i[i.length]='<a:font script="Hebr" typeface="Times New Roman"/>',i[i.length]='<a:font script="Thai" typeface="Tahoma"/>',i[i.length]='<a:font script="Ethi" typeface="Nyala"/>',i[i.length]='<a:font script="Beng" typeface="Vrinda"/>',i[i.length]='<a:font script="Gujr" typeface="Shruti"/>',i[i.length]='<a:font script="Khmr" typeface="MoolBoran"/>',i[i.length]='<a:font script="Knda" typeface="Tunga"/>',i[i.length]='<a:font script="Guru" typeface="Raavi"/>',i[i.length]='<a:font script="Cans" typeface="Euphemia"/>',i[i.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',i[i.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',i[i.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',i[i.length]='<a:font script="Thaa" typeface="MV Boli"/>',i[i.length]='<a:font script="Deva" typeface="Mangal"/>',i[i.length]='<a:font script="Telu" typeface="Gautami"/>',i[i.length]='<a:font script="Taml" typeface="Latha"/>',i[i.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',i[i.length]='<a:font script="Orya" typeface="Kalinga"/>',i[i.length]='<a:font script="Mlym" typeface="Kartika"/>',i[i.length]='<a:font script="Laoo" typeface="DokChampa"/>',i[i.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',i[i.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',i[i.length]='<a:font script="Viet" typeface="Times New Roman"/>',i[i.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',i[i.length]='<a:font script="Geor" typeface="Sylfaen"/>',i[i.length]="</a:majorFont>",i[i.length]="<a:minorFont>",i[i.length]='<a:latin typeface="Calibri"/>',i[i.length]='<a:ea typeface=""/>',i[i.length]='<a:cs typeface=""/>',i[i.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',i[i.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',i[i.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',i[i.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',i[i.length]='<a:font script="Arab" typeface="Arial"/>',i[i.length]='<a:font script="Hebr" typeface="Arial"/>',i[i.length]='<a:font script="Thai" typeface="Tahoma"/>',i[i.length]='<a:font script="Ethi" typeface="Nyala"/>',i[i.length]='<a:font script="Beng" typeface="Vrinda"/>',i[i.length]='<a:font script="Gujr" typeface="Shruti"/>',i[i.length]='<a:font script="Khmr" typeface="DaunPenh"/>',i[i.length]='<a:font script="Knda" typeface="Tunga"/>',i[i.length]='<a:font script="Guru" typeface="Raavi"/>',i[i.length]='<a:font script="Cans" typeface="Euphemia"/>',i[i.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',i[i.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',i[i.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',i[i.length]='<a:font script="Thaa" typeface="MV Boli"/>',i[i.length]='<a:font script="Deva" typeface="Mangal"/>',i[i.length]='<a:font script="Telu" typeface="Gautami"/>',i[i.length]='<a:font script="Taml" typeface="Latha"/>',i[i.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',i[i.length]='<a:font script="Orya" typeface="Kalinga"/>',i[i.length]='<a:font script="Mlym" typeface="Kartika"/>',i[i.length]='<a:font script="Laoo" typeface="DokChampa"/>',i[i.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',i[i.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',i[i.length]='<a:font script="Viet" typeface="Arial"/>',i[i.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',i[i.length]='<a:font script="Geor" typeface="Sylfaen"/>',i[i.length]="</a:minorFont>",i[i.length]="</a:fontScheme>",i[i.length]='<a:fmtScheme name="Office">',i[i.length]="<a:fillStyleLst>",i[i.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:lin ang="16200000" scaled="1"/>',i[i.length]="</a:gradFill>",i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:lin ang="16200000" scaled="0"/>',i[i.length]="</a:gradFill>",i[i.length]="</a:fillStyleLst>",i[i.length]="<a:lnStyleLst>",i[i.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',i[i.length]="</a:lnStyleLst>",i[i.length]="<a:effectStyleLst>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]="</a:effectStyle>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]="</a:effectStyle>",i[i.length]="<a:effectStyle>",i[i.length]="<a:effectLst>",i[i.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',i[i.length]="</a:effectLst>",i[i.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',i[i.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',i[i.length]="</a:effectStyle>",i[i.length]="</a:effectStyleLst>",i[i.length]="<a:bgFillStyleLst>",i[i.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',i[i.length]="</a:gradFill>",i[i.length]='<a:gradFill rotWithShape="1">',i[i.length]="<a:gsLst>",i[i.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',i[i.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',i[i.length]="</a:gsLst>",i[i.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',i[i.length]="</a:gradFill>",i[i.length]="</a:bgFillStyleLst>",i[i.length]="</a:fmtScheme>",i[i.length]="</a:themeElements>",i[i.length]="<a:objectDefaults>",i[i.length]="<a:spDef>",i[i.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',i[i.length]="</a:spDef>",i[i.length]="<a:lnDef>",i[i.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',i[i.length]="</a:lnDef>",i[i.length]="</a:objectDefaults>",i[i.length]="<a:extraClrSchemeLst/>",i[i.length]="</a:theme>",i.join("")}function L7(n,t,i){var e=n.l+t,r=n.read_shift(4);if(r!==124226){if(!i.cellStyles){n.l=e;return}var a=n.slice(n.l);n.l=e;var o;try{o=Yy(a,{type:"array"})}catch{return}var s=ba(o,"theme/theme/theme1.xml",!0);if(s)return WM(s,i)}}function B7(n){return n.read_shift(4)}function V7(n){var t={};switch(t.xclrType=n.read_shift(2),t.nTintShade=n.read_shift(2),t.xclrType){case 0:n.l+=4;break;case 1:t.xclrValue=$7(n,4);break;case 2:t.xclrValue=OM(n,4);break;case 3:t.xclrValue=B7(n,4);break;case 4:n.l+=4;break}return n.l+=8,t}function $7(n,t){return zr(n,t)}function j7(n,t){return zr(n,t)}function z7(n){var t=n.read_shift(2),i=n.read_shift(2)-4,e=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:e[1]=V7(n,i);break;case 6:e[1]=j7(n,i);break;case 14:case 15:e[1]=n.read_shift(i===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+i)}return e}function Y7(n,t){var i=n.l+t;n.l+=2;var e=n.read_shift(2);n.l+=2;for(var r=n.read_shift(2),a=[];r-- >0;)a.push(z7(n,i-n.l));return{ixfe:e,ext:a}}function U7(n,t){t.forEach(function(i){switch(i[0]){case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:break;case 13:break;case 14:break;case 15:break}})}function G7(n,t){return{flags:n.read_shift(4),version:n.read_shift(4),name:jr(n,t-8)}}function W7(n){var t=we(12+2*n.name.length);return t.write_shift(4,n.flags),t.write_shift(4,n.version),ur(n.name,t),t.slice(0,t.l)}function H7(n){for(var t=[],i=n.read_shift(4);i-- >0;)t.push([n.read_shift(4),n.read_shift(4)]);return t}function X7(n){var t=we(4+8*n.length);t.write_shift(4,n.length);for(var i=0;i<n.length;++i)t.write_shift(4,n[i][0]),t.write_shift(4,n[i][1]);return t}function q7(n,t){var i=we(8+2*t.length);return i.write_shift(4,n),ur(t,i),i.slice(0,i.l)}function K7(n){return n.l+=4,n.read_shift(4)!=0}function Z7(n,t){var i=we(8);return i.write_shift(4,n),i.write_shift(4,t?1:0),i}function Q7(n,t,i){var e={Types:[],Cell:[],Value:[]},r=i||{},a=[],o=!1,s=2;return hs(n,function(d,u,m){switch(m){case 335:e.Types.push({name:d.name});break;case 51:d.forEach(function(f){s==1?e.Cell.push({type:e.Types[f[0]-1].name,index:f[1]}):s==0&&e.Value.push({type:e.Types[f[0]-1].name,index:f[1]})});break;case 337:s=d?1:0;break;case 338:s=2;break;case 35:a.push(m),o=!0;break;case 36:a.pop(),o=!1;break;default:if(!u.T){if(!o||r.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}}),e}function J7(){var n=ca();return Re(n,332),Re(n,334,so(1)),Re(n,335,W7({name:"XLDAPR",version:12e4,flags:3496657072})),Re(n,336),Re(n,339,q7(1,"XLDAPR")),Re(n,52),Re(n,35,so(514)),Re(n,4096,so(0)),Re(n,4097,Ba(1)),Re(n,36),Re(n,53),Re(n,340),Re(n,337,Z7(1,!0)),Re(n,51,X7([[1,0]])),Re(n,338),Re(n,333),n.end()}function e9(n,t,i){var e={Types:[],Cell:[],Value:[]};if(!n)return e;var r=!1,a=2,o;return n.replace(Yr,function(s){var d=Ft(s);switch(jo(d[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":e.Types.push({name:d.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<e.Types.length;++u)e.Types[u].name==d.name&&(o=e.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?e.Cell.push({type:e.Types[d.t-1].name,index:+d.v}):a==0&&e.Value.push({type:e.Types[d.t-1].name,index:+d.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+d.i);break;default:if(!r&&i.WTF)throw new Error("unrecognized "+d[0]+" in metadata")}return s}),e}function HM(){var n=[Pi];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function t9(n){var t=[];if(!n)return t;var i=1;return(n.match(Yr)||[]).forEach(function(e){var r=Ft(e);switch(r[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?i=r.i:r.i=i,t.push(r);break}}),t}function n9(n){var t={};t.i=n.read_shift(4);var i={};i.r=n.read_shift(4),i.c=n.read_shift(4),t.r=Et(i);var e=n.read_shift(1);return e&2&&(t.l="1"),e&8&&(t.a="1"),t}function i9(n,t,i){var e=[],r=!1;return hs(n,function(o,s,d){switch(d){case 63:e.push(o);break;default:if(!s.T){if(!r||i.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),e}function r9(n,t,i,e){if(!n)return n;var r=e||{},a=!1,o=!1;hs(n,function(d,u,m){if(!o)switch(m){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!u.T){if(!a||r.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}},r)}function a9(n,t){if(!n)return"??";var i=(n.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][i].Target}var rd=1024;function XM(n,t){for(var i=[21600,21600],e=["m0,0l0",i[1],i[0],i[1],i[0],"0xe"].join(","),r=[Xe("xml",null,{"xmlns:v":xa.v,"xmlns:o":xa.o,"xmlns:x":xa.x,"xmlns:mv":xa.mv}).replace(/\/>/,">"),Xe("o:shapelayout",Xe("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Xe("v:shapetype",[Xe("v:stroke",null,{joinstyle:"miter"}),Xe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:i.join(","),path:e})];rd<n*1e3;)rd+=1e3;return t.forEach(function(a){var o=oi(a[0]),s={color2:"#BEFF82",type:"gradient"};s.type=="gradient"&&(s.angle="-180");var d=s.type=="gradient"?Xe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Xe("v:fill",d,s),m={on:"t",obscured:"t"};++rd,r=r.concat(["<v:shape"+h0({id:"_x0000_s"+rd,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Xe("v:shadow",null,m),Xe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Cr("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Cr("x:AutoFill","False"),Cr("x:Row",String(o.r)),Cr("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),r.push("</xml>"),r.join("")}function ly(n,t,i,e){var r=Array.isArray(n),a;t.forEach(function(o){var s=oi(o.ref);if(r?(n[s.r]||(n[s.r]=[]),a=n[s.r][s.c]):a=n[o.ref],!a){a={t:"z"},r?n[s.r][s.c]=a:n[o.ref]=a;var d=pn(n["!ref"]||"BDWGO1000001:A1");d.s.r>s.r&&(d.s.r=s.r),d.e.r<s.r&&(d.e.r=s.r),d.s.c>s.c&&(d.s.c=s.c),d.e.c<s.c&&(d.e.c=s.c);var u=Gt(d);u!==n["!ref"]&&(n["!ref"]=u)}a.c||(a.c=[]);var m={a:o.author,t:o.t,r:o.r,T:i};o.h&&(m.h=o.h);for(var f=a.c.length-1;f>=0;--f){if(!i&&a.c[f].T)return;i&&!a.c[f].T&&a.c.splice(f,1)}if(i&&e){for(f=0;f<e.length;++f)if(m.a==e[f].id){m.a=e[f].name||m.a;break}}a.c.push(m)})}function o9(n,t){if(n.match(/<(?:\w+:)?comments *\/>/))return[];var i=[],e=[],r=n.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);r&&r[1]&&r[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?author[^>]*>(.*)/);s&&i.push(s[1])}});var a=n.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?comment[^>]*>/);if(s){var d=Ft(s[0]),u={author:d.authorId&&i[d.authorId]||"sheetjsghost",ref:d.ref,guid:d.guid},m=oi(d.ref);if(!(t.sheetRows&&t.sheetRows<=m.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),_=!!f&&!!f[1]&&Th(f[1])||{r:"",t:"",h:""};u.r=_.r,_.r=="<t></t>"&&(_.t=_.h=""),u.t=(_.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=_.h),e.push(u)}}}}),e}function qM(n){var t=[Pi,Xe("comments",null,{xmlns:jc[0]})],i=[];return t.push("<authors>"),n.forEach(function(e){e[1].forEach(function(r){var a=Tn(r.a);i.indexOf(a)==-1&&(i.push(a),t.push("<author>"+a+"</author>")),r.T&&r.ID&&i.indexOf("tc="+r.ID)==-1&&(i.push("tc="+r.ID),t.push("<author>tc="+r.ID+"</author>"))})}),i.length==0&&(i.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),n.forEach(function(e){var r=0,a=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?r=i.indexOf("tc="+e[1][0].ID):e[1].forEach(function(d){d.a&&(r=i.indexOf(Tn(d.a))),a.push(d.t||"")}),t.push('<comment ref="'+e[0]+'" authorId="'+r+'"><text>'),a.length<=1)t.push(Cr("t",Tn(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,s=1;s<a.length;++s)o+=`Reply:
    `+a[s]+`
`;t.push(Cr("t",Tn(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function s9(n,t){var i=[],e=!1,r={},a=0;return n.replace(Yr,function(s,d){var u=Ft(s);switch(jo(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":r={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":r.t!=null&&i.push(r);break;case"<text>":case"<text":a=d+s.length;break;case"</text>":r.t=n.slice(a,d).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":e=!0;break;case"</mentions>":e=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":e=!0;break;case"</ext>":e=!1;break;default:if(!e&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return s}),i}function c9(n,t,i){var e=[Pi,Xe("ThreadedComments",null,{xmlns:Hi.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(r){var a="";(r[1]||[]).forEach(function(o,s){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var d={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+i.tcid++).slice(-12)+"}"};s==0?a=d.id:d.parentId=a,o.ID=d.id,o.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),e.push(Xe("threadedComment",Cr("text",o.t||""),d))})}),e.push("</ThreadedComments>"),e.join("")}function l9(n,t){var i=[],e=!1;return n.replace(Yr,function(a){var o=Ft(a);switch(jo(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":i.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":e=!0;break;case"</ext>":e=!1;break;default:if(!e&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return a}),i}function d9(n){var t=[Pi,Xe("personList",null,{xmlns:Hi.TCMNT,"xmlns:x":jc[0]}).replace(/[\/]>/,">")];return n.forEach(function(i,e){t.push(Xe("person",null,{displayName:i,id:"{54EE7950-7262-4200-6969-"+("000000000000"+e).slice(-12)+"}",userId:i,providerId:"None"}))}),t.push("</personList>"),t.join("")}function g9(n){var t={};t.iauthor=n.read_shift(4);var i=Gc(n,16);return t.rfx=i.s,t.ref=Et(i.s),n.l+=16,t}function u9(n,t){return t==null&&(t=we(36)),t.write_shift(4,n[1].iauthor),_d(n[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var m9=jr;function p9(n){return ur(n.slice(0,54))}function f9(n,t){var i=[],e=[],r={},a=!1;return hs(n,function(s,d,u){switch(u){case 632:e.push(s);break;case 635:r=s;break;case 637:r.t=s.t,r.h=s.h,r.r=s.r;break;case 636:if(r.author=e[r.iauthor],delete r.iauthor,t.sheetRows&&r.rfx&&t.sheetRows<=r.rfx.r)break;r.t||(r.t=""),delete r.rfx,i.push(r);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!d.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),i}function h9(n){var t=ca(),i=[];return Re(t,628),Re(t,630),n.forEach(function(e){e[1].forEach(function(r){i.indexOf(r.a)>-1||(i.push(r.a.slice(0,54)),Re(t,632,p9(r.a)))})}),Re(t,631),Re(t,633),n.forEach(function(e){e[1].forEach(function(r){r.iauthor=i.indexOf(r.a);var a={s:oi(e[0]),e:oi(e[0])};Re(t,635,u9([a,r])),r.t&&r.t.length>0&&Re(t,637,BI(r)),Re(t,636),delete r.iauthor})}),Re(t,634),Re(t,629),t.end()}var _9="application/vnd.ms-office.vbaProject";function x9(n){var t=yt.utils.cfb_new({root:"R"});return n.FullPaths.forEach(function(i,e){if(!(i.slice(-1)==="/"||!i.match(/_VBA_PROJECT_CUR/))){var r=i.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");yt.utils.cfb_add(t,r,n.FileIndex[e].content)}}),yt.write(t)}function C9(n,t){t.FullPaths.forEach(function(i,e){if(e!=0){var r=i.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");r.slice(-1)!=="/"&&yt.utils.cfb_add(n,r,t.FileIndex[e].content)}})}var KM=["xlsb","xlsm","xlam","biff8","xla"];function b9(){return{"!type":"dialog"}}function v9(){return{"!type":"dialog"}}function y9(){return{"!type":"macro"}}function M9(){return{"!type":"macro"}}var sd=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function i(e,r,a,o){var s=!1,d=!1;a.length==0?d=!0:a.charAt(0)=="["&&(d=!0,a=a.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,m=o.length>0?parseInt(o,10)|0:0;return s?m+=t.c:--m,d?u+=t.r:--u,r+(s?"":"$")+ai(m)+(d?"":"$")+Mi(u)}return function(r,a){return t=a,r.replace(n,i)}}(),Dh=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Fh=function(){return function(t,i){return t.replace(Dh,function(e,r,a,o,s,d){var u=bh(o)-(a?0:i.c),m=Ch(d)-(s?0:i.r),f=m==0?"":s?m+1:"["+m+"]",_=u==0?"":a?u+1:"["+u+"]";return r+"R"+f+"C"+_})}}();function ZM(n,t){return n.replace(Dh,function(i,e,r,a,o,s){return e+(r=="$"?r+a:ai(bh(a)+t.c))+(o=="$"?o+s:Mi(Ch(s)+t.r))})}function P9(n,t,i){var e=la(t),r=e.s,a=oi(i),o={r:a.r-r.r,c:a.c-r.c};return ZM(n,o)}function O9(n){return n.length!=1}function dy(n){return n.replace(/_xlfn\./g,"")}function Bi(n){n.l+=1}function ac(n,t){var i=n.read_shift(t==1?1:2);return[i&16383,i>>14&1,i>>15&1]}function QM(n,t,i){var e=2;if(i){if(i.biff>=2&&i.biff<=5)return JM(n,t,i);i.biff==12&&(e=4)}var r=n.read_shift(e),a=n.read_shift(e),o=ac(n,2),s=ac(n,2);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function JM(n){var t=ac(n,2),i=ac(n,2),e=n.read_shift(1),r=n.read_shift(1);return{s:{r:t[0],c:e,cRel:t[1],rRel:t[2]},e:{r:i[0],c:r,cRel:i[1],rRel:i[2]}}}function w9(n,t,i){if(i.biff<8)return JM(n,t,i);var e=n.read_shift(i.biff==12?4:2),r=n.read_shift(i.biff==12?4:2),a=ac(n,2),o=ac(n,2);return{s:{r:e,c:a[0],cRel:a[1],rRel:a[2]},e:{r,c:o[0],cRel:o[1],rRel:o[2]}}}function e2(n,t,i){if(i&&i.biff>=2&&i.biff<=5)return S9(n,t,i);var e=n.read_shift(i&&i.biff==12?4:2),r=ac(n,2);return{r:e,c:r[0],cRel:r[1],rRel:r[2]}}function S9(n){var t=ac(n,2),i=n.read_shift(1);return{r:t[0],c:i,cRel:t[1],rRel:t[2]}}function k9(n){var t=n.read_shift(2),i=n.read_shift(2);return{r:t,c:i&255,fQuoted:!!(i&16384),cRel:i>>15,rRel:i>>15}}function T9(n,t,i){var e=i&&i.biff?i.biff:8;if(e>=2&&e<=5)return E9(n,t,i);var r=n.read_shift(e>=12?4:2),a=n.read_shift(2),o=(a&16384)>>14,s=(a&32768)>>15;if(a&=16383,s==1)for(;r>524287;)r-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r,c:a,cRel:o,rRel:s}}function E9(n){var t=n.read_shift(2),i=n.read_shift(1),e=(t&32768)>>15,r=(t&16384)>>14;return t&=16383,e==1&&t>=8192&&(t=t-16384),r==1&&i>=128&&(i=i-256),{r:t,c:i,cRel:r,rRel:e}}function A9(n,t,i){var e=(n[n.l++]&96)>>5,r=QM(n,i.biff>=2&&i.biff<=5?6:8,i);return[e,r]}function I9(n,t,i){var e=(n[n.l++]&96)>>5,r=n.read_shift(2,"i"),a=8;if(i)switch(i.biff){case 5:n.l+=12,a=6;break;case 12:a=12;break}var o=QM(n,a,i);return[e,r,o]}function D9(n,t,i){var e=(n[n.l++]&96)>>5;return n.l+=i&&i.biff>8?12:i.biff<8?6:8,[e]}function F9(n,t,i){var e=(n[n.l++]&96)>>5,r=n.read_shift(2),a=8;if(i)switch(i.biff){case 5:n.l+=12,a=6;break;case 12:a=12;break}return n.l+=a,[e,r]}function R9(n,t,i){var e=(n[n.l++]&96)>>5,r=w9(n,t-1,i);return[e,r]}function N9(n,t,i){var e=(n[n.l++]&96)>>5;return n.l+=i.biff==2?6:i.biff==12?14:7,[e]}function gy(n){var t=n[n.l+1]&1,i=1;return n.l+=4,[t,i]}function L9(n,t,i){n.l+=2;for(var e=n.read_shift(i&&i.biff==2?1:2),r=[],a=0;a<=e;++a)r.push(n.read_shift(i&&i.biff==2?1:2));return r}function B9(n,t,i){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(i&&i.biff==2?1:2)]}function V9(n,t,i){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(i&&i.biff==2?1:2)]}function $9(n){var t=n[n.l+1]&255?1:0;return n.l+=2,[t,n.read_shift(2)]}function j9(n,t,i){var e=n[n.l+1]&255?1:0;return n.l+=i&&i.biff==2?3:4,[e]}function t2(n){var t=n.read_shift(1),i=n.read_shift(1);return[t,i]}function z9(n){return n.read_shift(2),t2(n,2)}function Y9(n){return n.read_shift(2),t2(n,2)}function U9(n,t,i){var e=(n[n.l]&96)>>5;n.l+=1;var r=e2(n,0,i);return[e,r]}function G9(n,t,i){var e=(n[n.l]&96)>>5;n.l+=1;var r=T9(n,0,i);return[e,r]}function W9(n,t,i){var e=(n[n.l]&96)>>5;n.l+=1;var r=n.read_shift(2);i&&i.biff==5&&(n.l+=12);var a=e2(n,0,i);return[e,r,a]}function H9(n,t,i){var e=(n[n.l]&96)>>5;n.l+=1;var r=n.read_shift(i&&i.biff<=3?1:2);return[KR[r],r2[r],e]}function X9(n,t,i){var e=n[n.l++],r=n.read_shift(1),a=i&&i.biff<=3?[e==88?-1:0,n.read_shift(1)]:q9(n);return[r,(a[0]===0?r2:qR)[a[1]]]}function q9(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function K9(n,t,i){n.l+=i&&i.biff==2?3:4}function Z9(n,t,i){if(n.l++,i&&i.biff==12)return[n.read_shift(4,"i"),0];var e=n.read_shift(2),r=n.read_shift(i&&i.biff==2?1:2);return[e,r]}function Q9(n){return n.l++,_s[n.read_shift(1)]}function J9(n){return n.l++,n.read_shift(2)}function eR(n){return n.l++,n.read_shift(1)!==0}function tR(n){return n.l++,Vr(n,8)}function nR(n,t,i){return n.l++,S0(n,t-1,i)}function iR(n,t){var i=[n.read_shift(1)];if(t==12)switch(i[0]){case 2:i[0]=4;break;case 4:i[0]=16;break;case 0:i[0]=1;break;case 1:i[0]=2;break}switch(i[0]){case 4:i[1]=yi(n,1)?"TRUE":"FALSE",t!=12&&(n.l+=7);break;case 37:case 16:i[1]=_s[n[n.l]],n.l+=t==12?4:8;break;case 0:n.l+=8;break;case 1:i[1]=Vr(n,8);break;case 2:i[1]=Wc(n,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+i[0])}return i}function rR(n,t,i){for(var e=n.read_shift(i.biff==12?4:2),r=[],a=0;a!=e;++a)r.push((i.biff==12?Gc:Xm)(n,8));return r}function aR(n,t,i){var e=0,r=0;i.biff==12?(e=n.read_shift(4),r=n.read_shift(4)):(r=1+n.read_shift(1),e=1+n.read_shift(2)),i.biff>=2&&i.biff<8&&(--e,--r==0&&(r=256));for(var a=0,o=[];a!=e&&(o[a]=[]);++a)for(var s=0;s!=r;++s)o[a][s]=iR(n,i.biff);return o}function oR(n,t,i){var e=n.read_shift(1)>>>5&3,r=!i||i.biff>=8?4:2,a=n.read_shift(r);switch(i.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[e,0,a]}function sR(n,t,i){if(i.biff==5)return cR(n,t,i);var e=n.read_shift(1)>>>5&3,r=n.read_shift(2),a=n.read_shift(4);return[e,r,a]}function cR(n){var t=n.read_shift(1)>>>5&3,i=n.read_shift(2,"i");n.l+=8;var e=n.read_shift(2);return n.l+=12,[t,i,e]}function lR(n,t,i){var e=n.read_shift(1)>>>5&3;n.l+=i&&i.biff==2?3:4;var r=n.read_shift(i&&i.biff==2?1:2);return[e,r]}function dR(n,t,i){var e=n.read_shift(1)>>>5&3,r=n.read_shift(i&&i.biff==2?1:2);return[e,r]}function gR(n,t,i){var e=n.read_shift(1)>>>5&3;return n.l+=4,i.biff<8&&n.l--,i.biff==12&&(n.l+=2),[e]}function uR(n,t,i){var e=(n[n.l++]&96)>>5,r=n.read_shift(2),a=4;if(i)switch(i.biff){case 5:a=15;break;case 12:a=6;break}return n.l+=a,[e,r]}var mR=zr,pR=zr,fR=zr;function T0(n,t,i){return n.l+=2,[k9(n,4,i)]}function Rh(n){return n.l+=6,[]}var hR=T0,_R=Rh,xR=Rh,CR=T0;function n2(n){return n.l+=2,[$i(n),n.read_shift(2)&1]}var bR=T0,vR=n2,yR=Rh,MR=T0,PR=T0,OR=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function wR(n){n.l+=2;var t=n.read_shift(2),i=n.read_shift(2),e=n.read_shift(4),r=n.read_shift(2),a=n.read_shift(2),o=OR[i>>2&31];return{ixti:t,coltype:i&3,rt:o,idx:e,c:r,C:a}}function SR(n){return n.l+=2,[n.read_shift(4)]}function kR(n,t,i){return n.l+=5,n.l+=2,n.l+=i.biff==2?1:4,["PTGSHEET"]}function TR(n,t,i){return n.l+=i.biff==2?4:5,["PTGENDSHEET"]}function ER(n){var t=n.read_shift(1)>>>5&3,i=n.read_shift(2);return[t,i]}function AR(n){var t=n.read_shift(1)>>>5&3,i=n.read_shift(2);return[t,i]}function IR(n){return n.l+=4,[0,0]}var uy={1:{n:"PtgExp",f:Z9},2:{n:"PtgTbl",f:fR},3:{n:"PtgAdd",f:Bi},4:{n:"PtgSub",f:Bi},5:{n:"PtgMul",f:Bi},6:{n:"PtgDiv",f:Bi},7:{n:"PtgPower",f:Bi},8:{n:"PtgConcat",f:Bi},9:{n:"PtgLt",f:Bi},10:{n:"PtgLe",f:Bi},11:{n:"PtgEq",f:Bi},12:{n:"PtgGe",f:Bi},13:{n:"PtgGt",f:Bi},14:{n:"PtgNe",f:Bi},15:{n:"PtgIsect",f:Bi},16:{n:"PtgUnion",f:Bi},17:{n:"PtgRange",f:Bi},18:{n:"PtgUplus",f:Bi},19:{n:"PtgUminus",f:Bi},20:{n:"PtgPercent",f:Bi},21:{n:"PtgParen",f:Bi},22:{n:"PtgMissArg",f:Bi},23:{n:"PtgStr",f:nR},26:{n:"PtgSheet",f:kR},27:{n:"PtgEndSheet",f:TR},28:{n:"PtgErr",f:Q9},29:{n:"PtgBool",f:eR},30:{n:"PtgInt",f:J9},31:{n:"PtgNum",f:tR},32:{n:"PtgArray",f:N9},33:{n:"PtgFunc",f:H9},34:{n:"PtgFuncVar",f:X9},35:{n:"PtgName",f:oR},36:{n:"PtgRef",f:U9},37:{n:"PtgArea",f:A9},38:{n:"PtgMemArea",f:lR},39:{n:"PtgMemErr",f:mR},40:{n:"PtgMemNoMem",f:pR},41:{n:"PtgMemFunc",f:dR},42:{n:"PtgRefErr",f:gR},43:{n:"PtgAreaErr",f:D9},44:{n:"PtgRefN",f:G9},45:{n:"PtgAreaN",f:R9},46:{n:"PtgMemAreaN",f:ER},47:{n:"PtgMemNoMemN",f:AR},57:{n:"PtgNameX",f:sR},58:{n:"PtgRef3d",f:W9},59:{n:"PtgArea3d",f:I9},60:{n:"PtgRefErr3d",f:uR},61:{n:"PtgAreaErr3d",f:F9},255:{}},DR={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},FR={1:{n:"PtgElfLel",f:n2},2:{n:"PtgElfRw",f:MR},3:{n:"PtgElfCol",f:hR},6:{n:"PtgElfRwV",f:PR},7:{n:"PtgElfColV",f:CR},10:{n:"PtgElfRadical",f:bR},11:{n:"PtgElfRadicalS",f:yR},13:{n:"PtgElfColS",f:_R},15:{n:"PtgElfColSV",f:xR},16:{n:"PtgElfRadicalLel",f:vR},25:{n:"PtgList",f:wR},29:{n:"PtgSxName",f:SR},255:{}},RR={0:{n:"PtgAttrNoop",f:IR},1:{n:"PtgAttrSemi",f:j9},2:{n:"PtgAttrIf",f:V9},4:{n:"PtgAttrChoose",f:L9},8:{n:"PtgAttrGoto",f:B9},16:{n:"PtgAttrSum",f:K9},32:{n:"PtgAttrBaxcel",f:gy},33:{n:"PtgAttrBaxcel",f:gy},64:{n:"PtgAttrSpace",f:z9},65:{n:"PtgAttrSpaceSemi",f:Y9},128:{n:"PtgAttrIfError",f:$9},255:{}};function E0(n,t,i,e){if(e.biff<8)return zr(n,t);for(var r=n.l+t,a=[],o=0;o!==i.length;++o)switch(i[o][0]){case"PtgArray":i[o][1]=aR(n,0,e),a.push(i[o][1]);break;case"PtgMemArea":i[o][2]=rR(n,i[o][1],e),a.push(i[o][2]);break;case"PtgExp":e&&e.biff==12&&(i[o][1][1]=n.read_shift(4),a.push(i[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+i[o][0];default:break}return t=r-n.l,t!==0&&a.push(zr(n,t)),a}function A0(n,t,i){for(var e=n.l+t,r,a,o=[];e!=n.l;)t=e-n.l,a=n[n.l],r=uy[a]||uy[DR[a]],(a===24||a===25)&&(r=(a===24?FR:RR)[n[n.l+1]]),!r||!r.f?zr(n,t):o.push([r.n,r.f(n,t,i)]);return o}function NR(n){for(var t=[],i=0;i<n.length;++i){for(var e=n[i],r=[],a=0;a<e.length;++a){var o=e[a];if(o)switch(o[0]){case 2:r.push('"'+o[1].replace(/"/g,'""')+'"');break;default:r.push(o[1])}else r.push("")}t.push(r.join(","))}return t.join(";")}var LR={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function BR(n,t){if(!n&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function i2(n,t,i){if(!n)return"SH33TJSERR0";if(i.biff>8&&(!n.XTI||!n.XTI[t]))return n.SheetNames[t];if(!n.XTI)return"SH33TJSERR6";var e=n.XTI[t];if(i.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":n.XTI[t-1];if(!e)return"SH33TJSERR1";var r="";if(i.biff>8)switch(n[e[0]][0]){case 357:return r=e[1]==-1?"#REF":n.SheetNames[e[1]],e[1]==e[2]?r:r+":"+n.SheetNames[e[2]];case 358:return i.SID!=null?n.SheetNames[i.SID]:"SH33TJSSAME"+n[e[0]][0];case 355:default:return"SH33TJSSRC"+n[e[0]][0]}switch(n[e[0]][0][0]){case 1025:return r=e[1]==-1?"#REF":n.SheetNames[e[1]]||"SH33TJSERR3",e[1]==e[2]?r:r+":"+n.SheetNames[e[2]];case 14849:return n[e[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return n[e[0]][0][3]?(r=e[1]==-1?"#REF":n[e[0]][0][3][e[1]]||"SH33TJSERR4",e[1]==e[2]?r:r+":"+n[e[0]][0][3][e[2]]):"SH33TJSERR2"}}function my(n,t,i){var e=i2(n,t,i);return e=="#REF"?e:BR(e,i)}function Lr(n,t,i,e,r){var a=r&&r.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},s=[],d,u,m,f=0,_=0,x,v="";if(!n[0]||!n[0][0])return"";for(var b=-1,M="",S=0,w=n[0].length;S<w;++S){var T=n[0][S];switch(T[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=s.pop(),u=s.pop(),b>=0){switch(n[0][b][1][0]){case 0:M=hi(" ",n[0][b][1][1]);break;case 1:M=hi("\r",n[0][b][1][1]);break;default:if(M="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][b][1][0])}u=u+M,b=-1}s.push(u+LR[T[0]]+d);break;case"PtgIsect":d=s.pop(),u=s.pop(),s.push(u+" "+d);break;case"PtgUnion":d=s.pop(),u=s.pop(),s.push(u+","+d);break;case"PtgRange":d=s.pop(),u=s.pop(),s.push(u+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=a0(T[1][1],o,r),s.push(o0(m,a));break;case"PtgRefN":m=i?a0(T[1][1],i,r):T[1][1],s.push(o0(m,a));break;case"PtgRef3d":f=T[1][1],m=a0(T[1][2],o,r),v=my(e,f,r);var F=v;s.push(v+"!"+o0(m,a));break;case"PtgFunc":case"PtgFuncVar":var U=T[1][0],A=T[1][1];U||(U=0),U&=127;var k=U==0?[]:s.slice(-U);s.length-=U,A==="User"&&(A=k.shift()),s.push(A+"("+k.join(",")+")");break;case"PtgBool":s.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(T[1]);break;case"PtgNum":s.push(String(T[1]));break;case"PtgStr":s.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(T[1]);break;case"PtgAreaN":x=zv(T[1][1],i?{s:i}:o,r),s.push(Af(x,r));break;case"PtgArea":x=zv(T[1][1],o,r),s.push(Af(x,r));break;case"PtgArea3d":f=T[1][1],x=T[1][2],v=my(e,f,r),s.push(v+"!"+Af(x,r));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":_=T[1][2];var I=(e.names||[])[_-1]||(e[0]||[])[_],B=I?I.Name:"SH33TJSNAME"+String(_);B&&B.slice(0,6)=="_xlfn."&&!r.xlfn&&(B=B.slice(6)),s.push(B);break;case"PtgNameX":var X=T[1][1];_=T[1][2];var J;if(r.biff<=5)X<0&&(X=-X),e[X]&&(J=e[X][_]);else{var te="";if(((e[X]||[])[0]||[])[0]==14849||(((e[X]||[])[0]||[])[0]==1025?e[X][_]&&e[X][_].itab>0&&(te=e.SheetNames[e[X][_].itab-1]+"!"):te=e.SheetNames[_-1]+"!"),e[X]&&e[X][_])te+=e[X][_].Name;else if(e[0]&&e[0][_])te+=e[0][_].Name;else{var ye=(i2(e,X,r)||"").split(";;");ye[_-1]?te=ye[_-1]:te+="SH33TJSERRX"}s.push(te);break}J||(J={Name:"SH33TJSERRY"}),s.push(J.Name);break;case"PtgParen":var De="(",Ce=")";if(b>=0){switch(M="",n[0][b][1][0]){case 2:De=hi(" ",n[0][b][1][1])+De;break;case 3:De=hi("\r",n[0][b][1][1])+De;break;case 4:Ce=hi(" ",n[0][b][1][1])+Ce;break;case 5:Ce=hi("\r",n[0][b][1][1])+Ce;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][b][1][0])}b=-1}s.push(De+s.pop()+Ce);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":m={c:T[1][1],r:T[1][0]};var Ve={c:i.c,r:i.r};if(e.sharedf[Et(m)]){var Se=e.sharedf[Et(m)];s.push(Lr(Se,o,Ve,e,r))}else{var je=!1;for(d=0;d!=e.arrayf.length;++d)if(u=e.arrayf[d],!(m.c<u[0].s.c||m.c>u[0].e.c)&&!(m.r<u[0].s.r||m.r>u[0].e.r)){s.push(Lr(u[1],o,Ve,e,r)),je=!0;break}je||s.push(T[1])}break;case"PtgArray":s.push("{"+NR(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var be=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(r.biff!=3&&b>=0&&be.indexOf(n[0][S][0])==-1){T=n[0][b];var Te=!0;switch(T[1][0]){case 4:Te=!1;case 0:M=hi(" ",T[1][1]);break;case 5:Te=!1;case 1:M=hi("\r",T[1][1]);break;default:if(M="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}s.push((Te?M:"")+s.pop()+(Te?"":M)),b=-1}}if(s.length>1&&r.WTF)throw new Error("bad formula stack");return s[0]}function VR(n,t,i){var e=n.l+t,r=i.biff==2?1:2,a,o=n.read_shift(r);if(o==65535)return[[],zr(n,t-2)];var s=A0(n,o,i);return t!==o+r&&(a=E0(n,t-o-r,s,i)),n.l=e,[s,a]}function $R(n,t,i){var e=n.l+t,r=i.biff==2?1:2,a,o=n.read_shift(r);if(o==65535)return[[],zr(n,t-2)];var s=A0(n,o,i);return t!==o+r&&(a=E0(n,t-o-r,s,i)),n.l=e,[s,a]}function jR(n,t,i,e){var r=n.l+t,a=A0(n,e,i),o;return r!==n.l&&(o=E0(n,r-n.l,a,i)),[a,o]}function zR(n,t,i){var e=n.l+t,r,a=n.read_shift(2),o=A0(n,a,i);return a==65535?[[],zr(n,t-2)]:(t!==a+2&&(r=E0(n,e-a-2,o,i)),[o,r])}function YR(n){var t;if(ds(n,n.l+6)!==65535)return[Vr(n),"n"];switch(n[n.l]){case 0:return n.l+=8,["String","s"];case 1:return t=n[n.l+2]===1,n.l+=8,[t,"b"];case 2:return t=n[n.l+2],n.l+=8,[t,"e"];case 3:return n.l+=8,["","s"]}return[]}function UR(n){if(n==null){var t=we(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof n=="number")return Lc(n);return Lc(0)}function Nf(n,t,i){var e=n.l+t,r=zo(n,6);i.biff==2&&++n.l;var a=YR(n,8),o=n.read_shift(1);i.biff!=2&&(n.read_shift(1),i.biff>=5&&n.read_shift(4));var s=$R(n,e-n.l,i);return{cell:r,val:a[0],formula:s,shared:o>>3&1,tt:a[1]}}function GR(n,t,i,e,r){var a=Vc(t,i,r),o=UR(n.v),s=we(6),d=33;s.write_shift(2,d),s.write_shift(4,0);for(var u=we(n.bf.length),m=0;m<n.bf.length;++m)u[m]=n.bf[m];var f=gr([a,o,s,u]);return f}function qm(n,t,i){var e=n.read_shift(4),r=A0(n,e,i),a=n.read_shift(4),o=a>0?E0(n,a,r,i):null;return[r,o]}var WR=qm,Km=qm,HR=qm,XR=qm,qR={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},r2={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},KR={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function py(n){return n.slice(0,3)=="of:"&&(n=n.slice(3)),n.charCodeAt(0)==61&&(n=n.slice(1),n.charCodeAt(0)==61&&(n=n.slice(1))),n=n.replace(/COM\.MICROSOFT\./g,""),n=n.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,i){return i.replace(/\./g,"")}),n=n.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),n.replace(/[;~]/g,",").replace(/\|/g,";")}function ZR(n){var t="of:="+n.replace(Dh,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Lf(n){var t=n.split(":"),i=t[0].split(".")[0];return[i,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function QR(n){return n.replace(/\./,"!")}var c0={},cd={},l0=typeof Map<"u";function Nh(n,t,i){var e=0,r=n.length;if(i){if(l0?i.has(t):Object.prototype.hasOwnProperty.call(i,t)){for(var a=l0?i.get(t):i[t];e<a.length;++e)if(n[a[e]].t===t)return n.Count++,a[e]}}else for(;e<r;++e)if(n[e].t===t)return n.Count++,e;return n[r]={t},n.Count++,n.Unique++,i&&(l0?(i.has(t)||i.set(t,[]),i.get(t).push(r)):(Object.prototype.hasOwnProperty.call(i,t)||(i[t]=[]),i[t].push(r))),r}function Zm(n,t){var i={min:n+1,max:n+1},e=-1;return t.MDW&&(Br=t.MDW),t.width!=null?i.customWidth=1:t.wpx!=null?e=v0(t.wpx):t.wch!=null&&(e=t.wch),e>-1?(i.width=Vm(e),i.customWidth=1):t.width!=null&&(i.width=t.width),t.hidden&&(i.hidden=!0),t.level!=null&&(i.outlineLevel=i.level=t.level),i}function Fc(n,t){if(n){var i=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(i=[1,1,1,1,.5,.5]),n.left==null&&(n.left=i[0]),n.right==null&&(n.right=i[1]),n.top==null&&(n.top=i[2]),n.bottom==null&&(n.bottom=i[3]),n.header==null&&(n.header=i[4]),n.footer==null&&(n.footer=i[5])}}function lc(n,t,i){var e=i.revssf[t.z!=null?t.z:"General"],r=60,a=n.length;if(e==null&&i.ssf){for(;r<392;++r)if(i.ssf[r]==null){us(t.z,r),i.ssf[r]=t.z,i.revssf[t.z]=e=r;break}}for(r=0;r!=a;++r)if(n[r].numFmtId===e)return r;return n[a]={numFmtId:e,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function a2(n,t,i,e,r,a){try{e.cellNF&&(n.z=St[t])}catch(s){if(e.WTF)throw s}if(!(n.t==="z"&&!e.cellStyles)){if(n.t==="d"&&typeof n.v=="string"&&(n.v=Wn(n.v)),(!e||e.cellText!==!1)&&n.t!=="z")try{if(St[t]==null&&us(qA[t]||"General",t),n.t==="e")n.w=n.w||_s[n.v];else if(t===0)if(n.t==="n")(n.v|0)===n.v?n.w=n.v.toString(10):n.w=p0(n.v);else if(n.t==="d"){var o=Xi(n.v);(o|0)===o?n.w=o.toString(10):n.w=p0(o)}else{if(n.v===void 0)return"";n.w=Rc(n.v,cd)}else n.t==="d"?n.w=$a(t,Xi(n.v),cd):n.w=$a(t,n.v,cd)}catch(s){if(e.WTF)throw s}if(e.cellStyles&&i!=null)try{n.s=a.Fills[i],n.s.fgColor&&n.s.fgColor.theme&&!n.s.fgColor.rgb&&(n.s.fgColor.rgb=Bm(r.themeElements.clrScheme[n.s.fgColor.theme].rgb,n.s.fgColor.tint||0),e.WTF&&(n.s.fgColor.raw_rgb=r.themeElements.clrScheme[n.s.fgColor.theme].rgb)),n.s.bgColor&&n.s.bgColor.theme&&(n.s.bgColor.rgb=Bm(r.themeElements.clrScheme[n.s.bgColor.theme].rgb,n.s.bgColor.tint||0),e.WTF&&(n.s.bgColor.raw_rgb=r.themeElements.clrScheme[n.s.bgColor.theme].rgb))}catch(s){if(e.WTF&&a.Fills)throw s}}}function JR(n,t,i){if(n&&n["!ref"]){var e=pn(n["!ref"]);if(e.e.c<e.s.c||e.e.r<e.s.r)throw new Error("Bad range ("+i+"): "+n["!ref"])}}function eN(n,t){var i=pn(t);i.s.r<=i.e.r&&i.s.c<=i.e.c&&i.s.r>=0&&i.s.c>=0&&(n["!ref"]=Gt(i))}var tN=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,nN=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,iN=/<(?:\w:)?hyperlink [^>]*>/mg,rN=/"(\w*:\w*)"/,aN=/<(?:\w:)?col\b[^>]*[\/]?>/g,oN=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,sN=/<(?:\w:)?pageMargins[^>]*\/>/g,o2=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,cN=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,lN=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function dN(n,t,i,e,r,a,o){if(!n)return n;e||(e={"!id":{}}),xi!=null&&t.dense==null&&(t.dense=xi);var s=t.dense?[]:{},d={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",m="",f=n.match(nN);f?(u=n.slice(0,f.index),m=n.slice(f.index+f[0].length)):u=m=n;var _=u.match(o2);_?Lh(_[0],s,r,i):(_=u.match(cN))&&uN(_[0],_[1]||"",s,r,i,o,a);var x=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var v=u.slice(x,x+50).match(rN);v&&eN(s,v[1])}var b=u.match(lN);b&&b[1]&&ON(b[1],r);var M=[];if(t.cellStyles){var S=u.match(aN);S&&bN(M,S)}f&&kN(f[1],s,t,d,a,o);var w=m.match(oN);w&&(s["!autofilter"]=yN(w[0]));var T=[],F=m.match(tN);if(F)for(x=0;x!=F.length;++x)T[x]=pn(F[x].slice(F[x].indexOf('"')+1));var U=m.match(iN);U&&_N(s,U,e);var A=m.match(sN);if(A&&(s["!margins"]=xN(Ft(A[0]))),!s["!ref"]&&d.e.c>=d.s.c&&d.e.r>=d.s.r&&(s["!ref"]=Gt(d)),t.sheetRows>0&&s["!ref"]){var k=pn(s["!ref"]);t.sheetRows<=+k.e.r&&(k.e.r=t.sheetRows-1,k.e.r>d.e.r&&(k.e.r=d.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>d.e.c&&(k.e.c=d.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),s["!fullref"]=s["!ref"],s["!ref"]=Gt(k))}return M.length>0&&(s["!cols"]=M),T.length>0&&(s["!merges"]=T),s}function gN(n){if(n.length===0)return"";for(var t='<mergeCells count="'+n.length+'">',i=0;i!=n.length;++i)t+='<mergeCell ref="'+Gt(n[i])+'"/>';return t+"</mergeCells>"}function Lh(n,t,i,e){var r=Ft(n);i.Sheets[e]||(i.Sheets[e]={}),r.codeName&&(i.Sheets[e].CodeName=mn(An(r.codeName)))}function uN(n,t,i,e,r){Lh(n.slice(0,n.indexOf(">")),i,e,r)}function mN(n,t,i,e,r){var a=!1,o={},s=null;if(e.bookType!=="xlsx"&&t.vbaraw){var d=t.SheetNames[i];try{t.Workbook&&(d=t.Workbook.Sheets[i].CodeName||d)}catch{}a=!0,o.codeName=Vo(Tn(d))}if(n&&n["!outline"]){var u={summaryBelow:1,summaryRight:1};n["!outline"].above&&(u.summaryBelow=0),n["!outline"].left&&(u.summaryRight=0),s=(s||"")+Xe("outlinePr",null,u)}!a&&!s||(r[r.length]=Xe("sheetPr",s,o))}var pN=["objects","scenarios","selectLockedCells","selectUnlockedCells"],fN=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function hN(n){var t={sheet:1};return pN.forEach(function(i){n[i]!=null&&n[i]&&(t[i]="1")}),fN.forEach(function(i){n[i]!=null&&!n[i]&&(t[i]="0")}),n.password&&(t.password=Eh(n.password).toString(16).toUpperCase()),Xe("sheetProtection",null,t)}function _N(n,t,i){for(var e=Array.isArray(n),r=0;r!=t.length;++r){var a=Ft(An(t[r]),!0);if(!a.ref)return;var o=((i||{})["!id"]||[])[a.id];o?(a.Target=o.Target,a.location&&(a.Target+="#"+mn(a.location))):(a.Target="#"+mn(a.location),o={Target:a.Target,TargetMode:"Internal"}),a.Rel=o,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var s=pn(a.ref),d=s.s.r;d<=s.e.r;++d)for(var u=s.s.c;u<=s.e.c;++u){var m=Et({c:u,r:d});e?(n[d]||(n[d]=[]),n[d][u]||(n[d][u]={t:"z",v:void 0}),n[d][u].l=a):(n[m]||(n[m]={t:"z",v:void 0}),n[m].l=a)}}}function xN(n){var t={};return["left","right","top","bottom","header","footer"].forEach(function(i){n[i]&&(t[i]=parseFloat(n[i]))}),t}function CN(n){return Fc(n),Xe("pageMargins",null,n)}function bN(n,t){for(var i=!1,e=0;e!=t.length;++e){var r=Ft(t[e],!0);r.hidden&&(r.hidden=Gn(r.hidden));var a=parseInt(r.min,10)-1,o=parseInt(r.max,10)-1;for(r.outlineLevel&&(r.level=+r.outlineLevel||0),delete r.min,delete r.max,r.width=+r.width,!i&&r.width&&(i=!0,Ah(r.width)),rc(r);a<=o;)n[a++]=Hn(r)}}function vN(n,t){for(var i=["<cols>"],e,r=0;r!=t.length;++r)(e=t[r])&&(i[i.length]=Xe("col",null,Zm(r,e)));return i[i.length]="</cols>",i.join("")}function yN(n){var t={ref:(n.match(/ref="([^"]*)"/)||[])[1]};return t}function MN(n,t,i,e){var r=typeof n.ref=="string"?n.ref:Gt(n.ref);i.Workbook||(i.Workbook={Sheets:[]}),i.Workbook.Names||(i.Workbook.Names=[]);var a=i.Workbook.Names,o=la(r);o.s.r==o.e.r&&(o.e.r=la(t["!ref"]).e.r,r=Gt(o));for(var s=0;s<a.length;++s){var d=a[s];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==e){d.Ref="'"+i.SheetNames[e]+"'!"+r;break}}return s==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:e,Ref:"'"+i.SheetNames[e]+"'!"+r}),Xe("autoFilter",null,{ref:r})}var PN=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function ON(n,t){t.Views||(t.Views=[{}]),(n.match(PN)||[]).forEach(function(i,e){var r=Ft(i);t.Views[e]||(t.Views[e]={}),+r.zoomScale&&(t.Views[e].zoom=+r.zoomScale),Gn(r.rightToLeft)&&(t.Views[e].RTL=!0)})}function wN(n,t,i,e){var r={workbookViewId:"0"};return(((e||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=e.Workbook.Views[0].RTL?"1":"0"),Xe("sheetViews",Xe("sheetView",null,r),{})}function SN(n,t,i,e){if(n.c&&i["!comments"].push([t,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var r="",a=n.t,o=n.v;if(n.t!=="z")switch(n.t){case"b":r=n.v?"1":"0";break;case"n":r=""+n.v;break;case"e":r=_s[n.v];break;case"d":e&&e.cellDates?r=Wn(n.v,-1).toISOString():(n=Hn(n),n.t="n",r=""+(n.v=Xi(Wn(n.v)))),typeof n.z>"u"&&(n.z=St[14]);break;default:r=n.v;break}var s=Cr("v",Tn(r)),d={r:t},u=lc(e.cellXfs,n,e);switch(u!==0&&(d.s=u),n.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(e&&e.bookSST){s=Cr("v",""+Nh(e.Strings,n.v,e.revStrings)),d.t="s";break}d.t="str";break}if(n.t!=a&&(n.t=a,n.v=o),typeof n.f=="string"&&n.f){var m=n.F&&n.F.slice(0,t.length)==t?{t:"array",ref:n.F}:null;s=Xe("f",Tn(n.f),m)+(n.v!=null?s:"")}return n.l&&i["!links"].push([t,n.l]),n.D&&(d.cm=1),Xe("c",s,d)}var kN=function(){var n=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,i=/r=["']([^"']*)["']/,e=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,r=/ref=["']([^"']*)["']/,a=f0("v"),o=f0("f");return function(d,u,m,f,_,x){for(var v=0,b="",M=[],S=[],w=0,T=0,F=0,U="",A,k,I=0,B=0,X,J,te=0,ye=0,De=Array.isArray(x.CellXf),Ce,Ve=[],Se=[],je=Array.isArray(u),be=[],Te={},le=!1,Q=!!m.sheetStubs,re=d.split(t),ne=0,ie=re.length;ne!=ie;++ne){b=re[ne].trim();var me=b.length;if(me!==0){var Ae=0;e:for(v=0;v<me;++v)switch(b[v]){case">":if(b[v-1]!="/"){++v;break e}if(m&&m.cellStyles){if(k=Ft(b.slice(Ae,v),!0),I=k.r!=null?parseInt(k.r,10):I+1,B=-1,m.sheetRows&&m.sheetRows<I)continue;Te={},le=!1,k.ht&&(le=!0,Te.hpt=parseFloat(k.ht),Te.hpx=ud(Te.hpt)),k.hidden=="1"&&(le=!0,Te.hidden=!0),k.outlineLevel!=null&&(le=!0,Te.level=+k.outlineLevel),le&&(be[I-1]=Te)}break;case"<":Ae=v;break}if(Ae>=v)break;if(k=Ft(b.slice(Ae,v),!0),I=k.r!=null?parseInt(k.r,10):I+1,B=-1,!(m.sheetRows&&m.sheetRows<I)){f.s.r>I-1&&(f.s.r=I-1),f.e.r<I-1&&(f.e.r=I-1),m&&m.cellStyles&&(Te={},le=!1,k.ht&&(le=!0,Te.hpt=parseFloat(k.ht),Te.hpx=ud(Te.hpt)),k.hidden=="1"&&(le=!0,Te.hidden=!0),k.outlineLevel!=null&&(le=!0,Te.level=+k.outlineLevel),le&&(be[I-1]=Te)),M=b.slice(v).split(n);for(var Ie=0;Ie!=M.length&&M[Ie].trim().charAt(0)=="<";++Ie);for(M=M.slice(Ie),v=0;v!=M.length;++v)if(b=M[v].trim(),b.length!==0){if(S=b.match(i),w=v,T=0,F=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,S!=null&&S.length===2){for(w=0,U=S[1],T=0;T!=U.length&&!((F=U.charCodeAt(T)-64)<1||F>26);++T)w=26*w+F;--w,B=w}else++B;for(T=0;T!=b.length&&b.charCodeAt(T)!==62;++T);if(++T,k=Ft(b.slice(0,T),!0),k.r||(k.r=Et({r:I-1,c:B})),U=b.slice(T),A={t:""},(S=U.match(a))!=null&&S[1]!==""&&(A.v=mn(S[1])),m.cellFormula){if((S=U.match(o))!=null&&S[1]!==""){if(A.f=mn(An(S[1])).replace(/\r\n/g,`
`),m.xlfn||(A.f=dy(A.f)),S[0].indexOf('t="array"')>-1)A.F=(U.match(r)||[])[1],A.F.indexOf(":")>-1&&Ve.push([pn(A.F),A.F]);else if(S[0].indexOf('t="shared"')>-1){J=Ft(S[0]);var ke=mn(An(S[1]));m.xlfn||(ke=dy(ke)),Se[parseInt(J.si,10)]=[J,ke,k.r]}}else(S=U.match(/<f[^>]*\/>/))&&(J=Ft(S[0]),Se[J.si]&&(A.f=P9(Se[J.si][1],Se[J.si][2],k.r)));var ve=oi(k.r);for(T=0;T<Ve.length;++T)ve.r>=Ve[T][0].s.r&&ve.r<=Ve[T][0].e.r&&ve.c>=Ve[T][0].s.c&&ve.c<=Ve[T][0].e.c&&(A.F=Ve[T][1])}if(k.t==null&&A.v===void 0)if(A.f||A.F)A.v=0,A.t="n";else if(Q)A.t="z";else continue;else A.t=k.t||"n";switch(f.s.c>B&&(f.s.c=B),f.e.c<B&&(f.e.c=B),A.t){case"n":if(A.v==""||A.v==null){if(!Q)continue;A.t="z"}else A.v=parseFloat(A.v);break;case"s":if(typeof A.v>"u"){if(!Q)continue;A.t="z"}else X=c0[parseInt(A.v,10)],A.v=X.t,A.r=X.r,m.cellHTML&&(A.h=X.h);break;case"str":A.t="s",A.v=A.v!=null?An(A.v):"",m.cellHTML&&(A.h=gh(A.v));break;case"inlineStr":S=U.match(e),A.t="s",S!=null&&(X=Th(S[1]))?(A.v=X.t,m.cellHTML&&(A.h=X.h)):A.v="";break;case"b":A.v=Gn(A.v);break;case"d":m.cellDates?A.v=Wn(A.v,1):(A.v=Xi(Wn(A.v,1)),A.t="n");break;case"e":(!m||m.cellText!==!1)&&(A.w=A.v),A.v=cM[A.v];break}if(te=ye=0,Ce=null,De&&k.s!==void 0&&(Ce=x.CellXf[k.s],Ce!=null&&(Ce.numFmtId!=null&&(te=Ce.numFmtId),m.cellStyles&&Ce.fillId!=null&&(ye=Ce.fillId))),a2(A,te,ye,m,_,x),m.cellDates&&De&&A.t=="n"&&md(St[te])&&(A.t="d",A.v=Wm(A.v)),k.cm&&m.xlmeta){var lt=(m.xlmeta.Cell||[])[+k.cm-1];lt&&lt.type=="XLDAPR"&&(A.D=!0)}if(je){var K=oi(k.r);u[K.r]||(u[K.r]=[]),u[K.r][K.c]=A}else u[k.r]=A}}}}be.length>0&&(u["!rows"]=be)}}();function TN(n,t,i,e){var r=[],a=[],o=pn(n["!ref"]),s="",d,u="",m=[],f=0,_=0,x=n["!rows"],v=Array.isArray(n),b={r:u},M,S=-1;for(_=o.s.c;_<=o.e.c;++_)m[_]=ai(_);for(f=o.s.r;f<=o.e.r;++f){for(a=[],u=Mi(f),_=o.s.c;_<=o.e.c;++_){d=m[_]+u;var w=v?(n[f]||[])[_]:n[d];w!==void 0&&(s=SN(w,d,n,t,i,e))!=null&&a.push(s)}(a.length>0||x&&x[f])&&(b={r:u},x&&x[f]&&(M=x[f],M.hidden&&(b.hidden=1),S=-1,M.hpx?S=y0(M.hpx):M.hpt&&(S=M.hpt),S>-1&&(b.ht=S,b.customHeight=1),M.level&&(b.outlineLevel=M.level)),r[r.length]=Xe("row",a.join(""),b))}if(x)for(;f<x.length;++f)x&&x[f]&&(b={r:f+1},M=x[f],M.hidden&&(b.hidden=1),S=-1,M.hpx?S=y0(M.hpx):M.hpt&&(S=M.hpt),S>-1&&(b.ht=S,b.customHeight=1),M.level&&(b.outlineLevel=M.level),r[r.length]=Xe("row","",b));return r.join("")}function s2(n,t,i,e){var r=[Pi,Xe("worksheet",null,{xmlns:jc[0],"xmlns:r":Hi.r})],a=i.SheetNames[n],o=0,s="",d=i.Sheets[a];d==null&&(d={});var u=d["!ref"]||"A1",m=pn(u);if(m.e.c>16383||m.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),u=Gt(m)}e||(e={}),d["!comments"]=[];var f=[];mN(d,i,n,t,r),r[r.length]=Xe("dimension",null,{ref:u}),r[r.length]=wN(d,t,n,i),t.sheetFormat&&(r[r.length]=Xe("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(r[r.length]=vN(d,d["!cols"])),r[o=r.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(s=TN(d,t,n,i,e),s.length>0&&(r[r.length]=s)),r.length>o+1&&(r[r.length]="</sheetData>",r[o]=r[o].replace("/>",">")),d["!protect"]&&(r[r.length]=hN(d["!protect"])),d["!autofilter"]!=null&&(r[r.length]=MN(d["!autofilter"],d,i,n)),d["!merges"]!=null&&d["!merges"].length>0&&(r[r.length]=gN(d["!merges"]));var _=-1,x,v=-1;return d["!links"].length>0&&(r[r.length]="<hyperlinks>",d["!links"].forEach(function(b){b[1].Target&&(x={ref:b[0]},b[1].Target.charAt(0)!="#"&&(v=kn(e,-1,Tn(b[1].Target).replace(/#.*$/,""),qt.HLINK),x["r:id"]="rId"+v),(_=b[1].Target.indexOf("#"))>-1&&(x.location=Tn(b[1].Target.slice(_+1))),b[1].Tooltip&&(x.tooltip=Tn(b[1].Tooltip)),r[r.length]=Xe("hyperlink",null,x))}),r[r.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(r[r.length]=CN(d["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(r[r.length]=Cr("ignoredErrors",Xe("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(v=kn(e,-1,"../drawings/drawing"+(n+1)+".xml",qt.DRAW),r[r.length]=Xe("drawing",null,{"r:id":"rId"+v}),d["!drawing"]=f),d["!comments"].length>0&&(v=kn(e,-1,"../drawings/vmlDrawing"+(n+1)+".vml",qt.VML),r[r.length]=Xe("legacyDrawing",null,{"r:id":"rId"+v}),d["!legacy"]=v),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function EN(n,t){var i={},e=n.l+t;i.r=n.read_shift(4),n.l+=4;var r=n.read_shift(2);n.l+=1;var a=n.read_shift(1);return n.l=e,a&7&&(i.level=a&7),a&16&&(i.hidden=!0),a&32&&(i.hpt=r/20),i}function AN(n,t,i){var e=we(145),r=(i["!rows"]||[])[n]||{};e.write_shift(4,n),e.write_shift(4,0);var a=320;r.hpx?a=y0(r.hpx)*20:r.hpt&&(a=r.hpt*20),e.write_shift(2,a),e.write_shift(1,0);var o=0;r.level&&(o|=r.level),r.hidden&&(o|=16),(r.hpx||r.hpt)&&(o|=32),e.write_shift(1,o),e.write_shift(1,0);var s=0,d=e.l;e.l+=4;for(var u={r:n,c:0},m=0;m<16;++m)if(!(t.s.c>m+1<<10||t.e.c<m<<10)){for(var f=-1,_=-1,x=m<<10;x<m+1<<10;++x){u.c=x;var v=Array.isArray(i)?(i[u.r]||[])[u.c]:i[Et(u)];v&&(f<0&&(f=x),_=x)}f<0||(++s,e.write_shift(4,f),e.write_shift(4,_))}var b=e.l;return e.l=d,e.write_shift(4,s),e.l=b,e.length>e.l?e.slice(0,e.l):e}function IN(n,t,i,e){var r=AN(e,i,t);(r.length>17||(t["!rows"]||[])[e])&&Re(n,0,r)}var DN=Gc,FN=_d;function RN(){}function NN(n,t){var i={},e=n[n.l];return++n.l,i.above=!(e&64),i.left=!(e&128),n.l+=18,i.name=VI(n,t-19),i}function LN(n,t,i){i==null&&(i=we(84+4*n.length));var e=192;t&&(t.above&&(e&=-65),t.left&&(e&=-129)),i.write_shift(1,e);for(var r=1;r<3;++r)i.write_shift(1,0);return Rm({auto:1},i),i.write_shift(-4,-1),i.write_shift(-4,-1),iM(n,i),i.slice(0,i.l)}function BN(n){var t=ja(n);return[t]}function VN(n,t,i){return i==null&&(i=we(8)),zc(t,i)}function $N(n){var t=Yc(n);return[t]}function jN(n,t,i){return i==null&&(i=we(4)),Uc(t,i)}function zN(n){var t=ja(n),i=n.read_shift(1);return[t,i,"b"]}function YN(n,t,i){return i==null&&(i=we(9)),zc(t,i),i.write_shift(1,n.v?1:0),i}function UN(n){var t=Yc(n),i=n.read_shift(1);return[t,i,"b"]}function GN(n,t,i){return i==null&&(i=we(5)),Uc(t,i),i.write_shift(1,n.v?1:0),i}function WN(n){var t=ja(n),i=n.read_shift(1);return[t,i,"e"]}function HN(n,t,i){return i==null&&(i=we(9)),zc(t,i),i.write_shift(1,n.v),i}function XN(n){var t=Yc(n),i=n.read_shift(1);return[t,i,"e"]}function qN(n,t,i){return i==null&&(i=we(8)),Uc(t,i),i.write_shift(1,n.v),i.write_shift(2,0),i.write_shift(1,0),i}function KN(n){var t=ja(n),i=n.read_shift(4);return[t,i,"s"]}function ZN(n,t,i){return i==null&&(i=we(12)),zc(t,i),i.write_shift(4,t.v),i}function QN(n){var t=Yc(n),i=n.read_shift(4);return[t,i,"s"]}function JN(n,t,i){return i==null&&(i=we(8)),Uc(t,i),i.write_shift(4,t.v),i}function eL(n){var t=ja(n),i=Vr(n);return[t,i,"n"]}function tL(n,t,i){return i==null&&(i=we(16)),zc(t,i),Lc(n.v,i),i}function c2(n){var t=Yc(n),i=Vr(n);return[t,i,"n"]}function nL(n,t,i){return i==null&&(i=we(12)),Uc(t,i),Lc(n.v,i),i}function iL(n){var t=ja(n),i=Ph(n);return[t,i,"n"]}function rL(n,t,i){return i==null&&(i=we(12)),zc(t,i),rM(n.v,i),i}function aL(n){var t=Yc(n),i=Ph(n);return[t,i,"n"]}function oL(n,t,i){return i==null&&(i=we(8)),Uc(t,i),rM(n.v,i),i}function sL(n){var t=ja(n),i=vh(n);return[t,i,"is"]}function cL(n){var t=ja(n),i=jr(n);return[t,i,"str"]}function lL(n,t,i){return i==null&&(i=we(12+4*n.v.length)),zc(t,i),ur(n.v,i),i.length>i.l?i.slice(0,i.l):i}function dL(n){var t=Yc(n),i=jr(n);return[t,i,"str"]}function gL(n,t,i){return i==null&&(i=we(8+4*n.v.length)),Uc(t,i),ur(n.v,i),i.length>i.l?i.slice(0,i.l):i}function uL(n,t,i){var e=n.l+t,r=ja(n);r.r=i["!row"];var a=n.read_shift(1),o=[r,a,"b"];if(i.cellFormula){n.l+=2;var s=Km(n,e-n.l,i);o[3]=Lr(s,null,r,i.supbooks,i)}else n.l=e;return o}function mL(n,t,i){var e=n.l+t,r=ja(n);r.r=i["!row"];var a=n.read_shift(1),o=[r,a,"e"];if(i.cellFormula){n.l+=2;var s=Km(n,e-n.l,i);o[3]=Lr(s,null,r,i.supbooks,i)}else n.l=e;return o}function pL(n,t,i){var e=n.l+t,r=ja(n);r.r=i["!row"];var a=Vr(n),o=[r,a,"n"];if(i.cellFormula){n.l+=2;var s=Km(n,e-n.l,i);o[3]=Lr(s,null,r,i.supbooks,i)}else n.l=e;return o}function fL(n,t,i){var e=n.l+t,r=ja(n);r.r=i["!row"];var a=jr(n),o=[r,a,"str"];if(i.cellFormula){n.l+=2;var s=Km(n,e-n.l,i);o[3]=Lr(s,null,r,i.supbooks,i)}else n.l=e;return o}var hL=Gc,_L=_d;function xL(n,t){return t==null&&(t=we(4)),t.write_shift(4,n),t}function CL(n,t){var i=n.l+t,e=Gc(n,16),r=yh(n),a=jr(n),o=jr(n),s=jr(n);n.l=i;var d={rfx:e,relId:r,loc:a,display:s};return o&&(d.Tooltip=o),d}function bL(n,t){var i=we(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));_d({s:oi(n[0]),e:oi(n[0])},i),Mh("rId"+t,i);var e=n[1].Target.indexOf("#"),r=e==-1?"":n[1].Target.slice(e+1);return ur(r||"",i),ur(n[1].Tooltip||"",i),ur("",i),i.slice(0,i.l)}function vL(){}function yL(n,t,i){var e=n.l+t,r=aM(n,16),a=n.read_shift(1),o=[r];if(o[2]=a,i.cellFormula){var s=WR(n,e-n.l,i);o[1]=s}else n.l=e;return o}function ML(n,t,i){var e=n.l+t,r=Gc(n,16),a=[r];if(i.cellFormula){var o=XR(n,e-n.l,i);a[1]=o,n.l=e}else n.l=e;return a}function PL(n,t,i){i==null&&(i=we(18));var e=Zm(n,t);i.write_shift(-4,n),i.write_shift(-4,n),i.write_shift(4,(e.width||10)*256),i.write_shift(4,0);var r=0;return t.hidden&&(r|=1),typeof e.width=="number"&&(r|=2),t.level&&(r|=t.level<<8),i.write_shift(2,r),i}var l2=["left","right","top","bottom","header","footer"];function OL(n){var t={};return l2.forEach(function(i){t[i]=Vr(n,8)}),t}function wL(n,t){return t==null&&(t=we(6*8)),Fc(n),l2.forEach(function(i){Lc(n[i],t)}),t}function SL(n){var t=n.read_shift(2);return n.l+=28,{RTL:t&32}}function kL(n,t,i){i==null&&(i=we(30));var e=924;return(((t||{}).Views||[])[0]||{}).RTL&&(e|=32),i.write_shift(2,e),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(1,0),i.write_shift(1,0),i.write_shift(2,0),i.write_shift(2,100),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(4,0),i}function TL(n){var t=we(24);return t.write_shift(4,4),t.write_shift(4,1),_d(n,t),t}function EL(n,t){return t==null&&(t=we(16*4+2)),t.write_shift(2,n.password?Eh(n.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(i){i[1]?t.write_shift(4,n[i[0]]!=null&&!n[i[0]]?1:0):t.write_shift(4,n[i[0]]!=null&&n[i[0]]?0:1)}),t}function AL(){}function IL(){}function DL(n,t,i,e,r,a,o){if(!n)return n;var s=t||{};e||(e={"!id":{}}),xi!=null&&s.dense==null&&(s.dense=xi);var d=s.dense?[]:{},u,m={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=[],_=!1,x=!1,v,b,M,S,w,T,F,U,A,k=[];s.biff=12,s["!row"]=0;var I=0,B=!1,X=[],J={},te=s.supbooks||r.supbooks||[[]];if(te.sharedf=J,te.arrayf=X,te.SheetNames=r.SheetNames||r.Sheets.map(function(Te){return Te.name}),!s.supbooks&&(s.supbooks=te,r.Names))for(var ye=0;ye<r.Names.length;++ye)te[0][ye+1]=r.Names[ye];var De=[],Ce=[],Ve=!1;M0[16]={n:"BrtShortReal",f:c2};var Se,je;if(hs(n,function(le,Q,re){if(!x)switch(re){case 148:u=le;break;case 0:v=le,s.sheetRows&&s.sheetRows<=v.r&&(x=!0),U=Mi(S=v.r),s["!row"]=v.r,(le.hidden||le.hpt||le.level!=null)&&(le.hpt&&(le.hpx=ud(le.hpt)),Ce[le.r]=le);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:le[2]},le[2]){case"n":b.v=le[1];break;case"s":F=c0[le[1]],b.v=F.t,b.r=F.r;break;case"b":b.v=!!le[1];break;case"e":b.v=le[1],s.cellText!==!1&&(b.w=_s[b.v]);break;case"str":b.t="s",b.v=le[1];break;case"is":b.t="s",b.v=le[1].t;break}if((M=o.CellXf[le[0].iStyleRef])&&a2(b,M.numFmtId,null,s,a,o),w=le[0].c==-1?w+1:le[0].c,s.dense?(d[S]||(d[S]=[]),d[S][w]=b):d[ai(w)+U]=b,s.cellFormula){for(B=!1,I=0;I<X.length;++I){var ne=X[I];v.r>=ne[0].s.r&&v.r<=ne[0].e.r&&w>=ne[0].s.c&&w<=ne[0].e.c&&(b.F=Gt(ne[0]),B=!0)}!B&&le.length>3&&(b.f=le[3])}if(m.s.r>v.r&&(m.s.r=v.r),m.s.c>w&&(m.s.c=w),m.e.r<v.r&&(m.e.r=v.r),m.e.c<w&&(m.e.c=w),s.cellDates&&M&&b.t=="n"&&md(St[M.numFmtId])){var ie=Ec(b.v);ie&&(b.t="d",b.v=new Date(ie.y,ie.m-1,ie.d,ie.H,ie.M,ie.S,ie.u))}Se&&(Se.type=="XLDAPR"&&(b.D=!0),Se=void 0),je&&(je=void 0);break;case 1:case 12:if(!s.sheetStubs||_)break;b={t:"z",v:void 0},w=le[0].c==-1?w+1:le[0].c,s.dense?(d[S]||(d[S]=[]),d[S][w]=b):d[ai(w)+U]=b,m.s.r>v.r&&(m.s.r=v.r),m.s.c>w&&(m.s.c=w),m.e.r<v.r&&(m.e.r=v.r),m.e.c<w&&(m.e.c=w),Se&&(Se.type=="XLDAPR"&&(b.D=!0),Se=void 0),je&&(je=void 0);break;case 176:k.push(le);break;case 49:Se=((s.xlmeta||{}).Cell||[])[le-1];break;case 494:var me=e["!id"][le.relId];for(me?(le.Target=me.Target,le.loc&&(le.Target+="#"+le.loc),le.Rel=me):le.relId==""&&(le.Target="#"+le.loc),S=le.rfx.s.r;S<=le.rfx.e.r;++S)for(w=le.rfx.s.c;w<=le.rfx.e.c;++w)s.dense?(d[S]||(d[S]=[]),d[S][w]||(d[S][w]={t:"z",v:void 0}),d[S][w].l=le):(T=Et({c:w,r:S}),d[T]||(d[T]={t:"z",v:void 0}),d[T].l=le);break;case 426:if(!s.cellFormula)break;X.push(le),A=s.dense?d[S][w]:d[ai(w)+U],A.f=Lr(le[1],m,{r:v.r,c:w},te,s),A.F=Gt(le[0]);break;case 427:if(!s.cellFormula)break;J[Et(le[0].s)]=le[1],A=s.dense?d[S][w]:d[ai(w)+U],A.f=Lr(le[1],m,{r:v.r,c:w},te,s);break;case 60:if(!s.cellStyles)break;for(;le.e>=le.s;)De[le.e--]={width:le.w/256,hidden:!!(le.flags&1),level:le.level},Ve||(Ve=!0,Ah(le.w/256)),rc(De[le.e+1]);break;case 161:d["!autofilter"]={ref:Gt(le)};break;case 476:d["!margins"]=le;break;case 147:r.Sheets[i]||(r.Sheets[i]={}),le.name&&(r.Sheets[i].CodeName=le.name),(le.above||le.left)&&(d["!outline"]={above:le.above,left:le.left});break;case 137:r.Views||(r.Views=[{}]),r.Views[0]||(r.Views[0]={}),le.RTL&&(r.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:_=!0;break;case 36:_=!1;break;case 37:f.push(re),_=!0;break;case 38:f.pop(),_=!1;break;default:if(!Q.T){if(!_||s.WTF)throw new Error("Unexpected record 0x"+re.toString(16))}}},s),delete s.supbooks,delete s["!row"],!d["!ref"]&&(m.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(d["!ref"]=Gt(u||m)),s.sheetRows&&d["!ref"]){var be=pn(d["!ref"]);s.sheetRows<=+be.e.r&&(be.e.r=s.sheetRows-1,be.e.r>m.e.r&&(be.e.r=m.e.r),be.e.r<be.s.r&&(be.s.r=be.e.r),be.e.c>m.e.c&&(be.e.c=m.e.c),be.e.c<be.s.c&&(be.s.c=be.e.c),d["!fullref"]=d["!ref"],d["!ref"]=Gt(be))}return k.length>0&&(d["!merges"]=k),De.length>0&&(d["!cols"]=De),Ce.length>0&&(d["!rows"]=Ce),d}function FL(n,t,i,e,r,a,o){if(t.v===void 0)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":t=Hn(t),t.z=t.z||St[14],t.v=Xi(Wn(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v;break}var d={r:i,c:e};switch(d.s=lc(r.cellXfs,t,r),t.l&&a["!links"].push([Et(d),t.l]),t.c&&a["!comments"].push([Et(d),t.c]),t.t){case"s":case"str":return r.bookSST?(s=Nh(r.Strings,t.v,r.revStrings),d.t="s",d.v=s,o?Re(n,18,JN(t,d)):Re(n,7,ZN(t,d))):(d.t="str",o?Re(n,17,gL(t,d)):Re(n,6,lL(t,d))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Re(n,13,oL(t,d)):Re(n,2,rL(t,d)):o?Re(n,16,nL(t,d)):Re(n,5,tL(t,d)),!0;case"b":return d.t="b",o?Re(n,15,GN(t,d)):Re(n,4,YN(t,d)),!0;case"e":return d.t="e",o?Re(n,14,qN(t,d)):Re(n,3,HN(t,d)),!0}return o?Re(n,12,jN(t,d)):Re(n,1,VN(t,d)),!0}function RL(n,t,i,e){var r=pn(t["!ref"]||"A1"),a,o="",s=[];Re(n,145);var d=Array.isArray(t),u=r.e.r;t["!rows"]&&(u=Math.max(r.e.r,t["!rows"].length-1));for(var m=r.s.r;m<=u;++m){o=Mi(m),IN(n,t,r,m);var f=!1;if(m<=r.e.r)for(var _=r.s.c;_<=r.e.c;++_){m===r.s.r&&(s[_]=ai(_)),a=s[_]+o;var x=d?(t[m]||[])[_]:t[a];if(!x){f=!1;continue}f=FL(n,x,m,_,e,t,f)}}Re(n,146)}function NL(n,t){!t||!t["!merges"]||(Re(n,177,xL(t["!merges"].length)),t["!merges"].forEach(function(i){Re(n,176,_L(i))}),Re(n,178))}function LL(n,t){!t||!t["!cols"]||(Re(n,390),t["!cols"].forEach(function(i,e){i&&Re(n,60,PL(e,i))}),Re(n,391))}function BL(n,t){!t||!t["!ref"]||(Re(n,648),Re(n,649,TL(pn(t["!ref"]))),Re(n,650))}function VL(n,t,i){t["!links"].forEach(function(e){if(e[1].Target){var r=kn(i,-1,e[1].Target.replace(/#.*$/,""),qt.HLINK);Re(n,494,bL(e,r))}}),delete t["!links"]}function $L(n,t,i,e){if(t["!comments"].length>0){var r=kn(e,-1,"../drawings/vmlDrawing"+(i+1)+".vml",qt.VML);Re(n,551,Mh("rId"+r)),t["!legacy"]=r}}function jL(n,t,i,e){if(t["!autofilter"]){var r=t["!autofilter"],a=typeof r.ref=="string"?r.ref:Gt(r.ref);i.Workbook||(i.Workbook={Sheets:[]}),i.Workbook.Names||(i.Workbook.Names=[]);var o=i.Workbook.Names,s=la(a);s.s.r==s.e.r&&(s.e.r=la(t["!ref"]).e.r,a=Gt(s));for(var d=0;d<o.length;++d){var u=o[d];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==e){u.Ref="'"+i.SheetNames[e]+"'!"+a;break}}d==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:e,Ref:"'"+i.SheetNames[e]+"'!"+a}),Re(n,161,_d(pn(a))),Re(n,162)}}function zL(n,t,i){Re(n,133),Re(n,137,kL(t,i)),Re(n,138),Re(n,134)}function YL(n,t){t["!protect"]&&Re(n,535,EL(t["!protect"]))}function UL(n,t,i,e){var r=ca(),a=i.SheetNames[n],o=i.Sheets[a]||{},s=a;try{i&&i.Workbook&&(s=i.Workbook.Sheets[n].CodeName||s)}catch{}var d=pn(o["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Re(r,129),(i.vbaraw||o["!outline"])&&Re(r,147,LN(s,o["!outline"])),Re(r,148,FN(d)),zL(r,o,i.Workbook),LL(r,o,n,t,i),RL(r,o,n,t,i),YL(r,o),jL(r,o,i,n),NL(r,o),VL(r,o,e),o["!margins"]&&Re(r,476,wL(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&BL(r,o),$L(r,o,n,e),Re(r,130),r.end()}function GL(n){var t=[],i=n.match(/^<c:numCache>/),e;(n.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var o=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=i?+o[2]:o[2])});var r=mn((n.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(n.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){e=a.replace(/<.*?>/g,"")}),[t,r,e]}function WL(n,t,i,e,r,a){var o=a||{"!type":"chart"};if(!n)return a;var s=0,d=0,u="A",m={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(n.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var _=GL(f);m.s.r=m.s.c=0,m.e.c=s,u=ai(s),_[0].forEach(function(x,v){o[u+Mi(v)]={t:"n",v:x,z:_[1]},d=v}),m.e.r<d&&(m.e.r=d),++s}),s>0&&(o["!ref"]=Gt(m)),o}function HL(n,t,i,e,r){if(!n)return n;e||(e={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},o,s=n.match(o2);return s&&Lh(s[0],a,r,i),(o=n.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=o[1]),e["!id"][a["!rel"]]&&(a["!drawel"]=e["!id"][a["!rel"]]),a}function XL(n,t){n.l+=10;var i=jr(n,t-10);return{name:i}}function qL(n,t,i,e,r){if(!n)return n;e||(e={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},o=[],s=!1;return hs(n,function(u,m,f){switch(f){case 550:a["!rel"]=u;break;case 651:r.Sheets[i]||(r.Sheets[i]={}),u.name&&(r.Sheets[i].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:o.push(f);break;case 38:o.pop();break;default:if(m.T>0)o.push(f);else if(m.T<0)o.pop();else if(!s||t.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}},t),e["!id"][a["!rel"]]&&(a["!drawel"]=e["!id"][a["!rel"]]),a}var Bh=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],KL=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],ZL=[],QL=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function fy(n,t){for(var i=0;i!=n.length;++i)for(var e=n[i],r=0;r!=t.length;++r){var a=t[r];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=Gn(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function hy(n,t){for(var i=0;i!=t.length;++i){var e=t[i];if(n[e[0]]==null)n[e[0]]=e[1];else switch(e[2]){case"bool":typeof n[e[0]]=="string"&&(n[e[0]]=Gn(n[e[0]]));break;case"int":typeof n[e[0]]=="string"&&(n[e[0]]=parseInt(n[e[0]],10));break}}}function d2(n){hy(n.WBProps,Bh),hy(n.CalcPr,QL),fy(n.WBView,KL),fy(n.Sheets,ZL),cd.date1904=Gn(n.WBProps.date1904)}function JL(n){return!n.Workbook||!n.Workbook.WBProps?"false":Gn(n.Workbook.WBProps.date1904)?"true":"false"}var eB="][*?/\\".split("");function g2(n,t){if(n.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var i=!0;return eB.forEach(function(e){if(n.indexOf(e)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");i=!1}}),i}function tB(n,t,i){n.forEach(function(e,r){g2(e);for(var a=0;a<r;++a)if(e==n[a])throw new Error("Duplicate Sheet Name: "+e);if(i){var o=t&&t[r]&&t[r].CodeName||e;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function nB(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var t=n.Workbook&&n.Workbook.Sheets||[];tB(n.SheetNames,t,!!n.vbaraw);for(var i=0;i<n.SheetNames.length;++i)JR(n.Sheets[n.SheetNames[i]],n.SheetNames[i],i)}var iB=/<\w+:workbook/;function rB(n,t){if(!n)throw new Error("Could not find file");var i={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},e=!1,r="xmlns",a={},o=0;if(n.replace(Yr,function(d,u){var m=Ft(d);switch(jo(m[0])){case"<?xml":break;case"<workbook":d.match(iB)&&(r="xmlns"+d.match(/<(\w+):/)[1]),i.xmlns=m[r];break;case"</workbook>":break;case"<fileVersion":delete m[0],i.AppVersion=m;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Bh.forEach(function(f){if(m[f[0]]!=null)switch(f[2]){case"bool":i.WBProps[f[0]]=Gn(m[f[0]]);break;case"int":i.WBProps[f[0]]=parseInt(m[f[0]],10);break;default:i.WBProps[f[0]]=m[f[0]]}}),m.codeName&&(i.WBProps.CodeName=An(m.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete m[0],i.WBView.push(m);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(m.state){case"hidden":m.Hidden=1;break;case"veryHidden":m.Hidden=2;break;default:m.Hidden=0}delete m.state,m.name=mn(An(m.name)),delete m[0],i.Sheets.push(m);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":e=!0;break;case"</definedNames>":e=!1;break;case"<definedName":a={},a.Name=An(m.name),m.comment&&(a.Comment=m.comment),m.localSheetId&&(a.Sheet=+m.localSheetId),Gn(m.hidden||"0")&&(a.Hidden=!0),o=u+d.length;break;case"</definedName>":a.Ref=mn(An(n.slice(o,u))),i.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete m[0],i.CalcPr=m;break;case"<calcPr/>":delete m[0],i.CalcPr=m;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":e=!0;break;case"</ext>":e=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":e=!0;break;case"</AlternateContent>":e=!1;break;case"<revisionPtr":break;default:if(!e&&t.WTF)throw new Error("unrecognized "+m[0]+" in workbook")}return d}),jc.indexOf(i.xmlns)===-1)throw new Error("Unknown Namespace: "+i.xmlns);return d2(i),i}function u2(n){var t=[Pi];t[t.length]=Xe("workbook",null,{xmlns:jc[0],"xmlns:r":Hi.r});var i=n.Workbook&&(n.Workbook.Names||[]).length>0,e={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(Bh.forEach(function(s){n.Workbook.WBProps[s[0]]!=null&&n.Workbook.WBProps[s[0]]!=s[1]&&(e[s[0]]=n.Workbook.WBProps[s[0]])}),n.Workbook.WBProps.CodeName&&(e.codeName=n.Workbook.WBProps.CodeName,delete e.CodeName)),t[t.length]=Xe("workbookPr",null,e);var r=n.Workbook&&n.Workbook.Sheets||[],a=0;if(r&&r[0]&&r[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=n.SheetNames.length&&!(!r[a]||!r[a].Hidden);++a);a==n.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=n.SheetNames.length;++a){var o={name:Tn(n.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),r[a])switch(r[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Xe("sheet",null,o)}return t[t.length]="</sheets>",i&&(t[t.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(s){var d={name:s.Name};s.Comment&&(d.comment=s.Comment),s.Sheet!=null&&(d.localSheetId=""+s.Sheet),s.Hidden&&(d.hidden="1"),s.Ref&&(t[t.length]=Xe("definedName",Tn(s.Ref),d))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function aB(n,t){var i={};return i.Hidden=n.read_shift(4),i.iTabID=n.read_shift(4),i.strRelID=Gf(n,t-8),i.name=jr(n),i}function oB(n,t){return t||(t=we(127)),t.write_shift(4,n.Hidden),t.write_shift(4,n.iTabID),Mh(n.strRelID,t),ur(n.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function sB(n,t){var i={},e=n.read_shift(4);i.defaultThemeVersion=n.read_shift(4);var r=t>8?jr(n):"";return r.length>0&&(i.CodeName=r),i.autoCompressPictures=!!(e&65536),i.backupFile=!!(e&64),i.checkCompatibility=!!(e&4096),i.date1904=!!(e&1),i.filterPrivacy=!!(e&8),i.hidePivotFieldList=!!(e&1024),i.promptedSolutions=!!(e&16),i.publishItems=!!(e&2048),i.refreshAllConnections=!!(e&262144),i.saveExternalLinkValues=!!(e&128),i.showBorderUnselectedTables=!!(e&4),i.showInkAnnotation=!!(e&32),i.showObjects=["all","placeholders","none"][e>>13&3],i.showPivotChartFilter=!!(e&32768),i.updateLinks=["userSet","never","always"][e>>8&3],i}function cB(n,t){t||(t=we(72));var i=0;return n&&n.filterPrivacy&&(i|=8),t.write_shift(4,i),t.write_shift(4,0),iM(n&&n.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function lB(n,t){var i={};return n.read_shift(4),i.ArchID=n.read_shift(4),n.l+=t-8,i}function dB(n,t,i){var e=n.l+t;n.l+=4,n.l+=1;var r=n.read_shift(4),a=$I(n),o=HR(n,0,i),s=yh(n);n.l=e;var d={Name:a,Ptg:o};return r<268435455&&(d.Sheet=r),s&&(d.Comment=s),d}function gB(n,t){var i={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},e=[],r=!1;t||(t={}),t.biff=12;var a=[],o=[[]];return o.SheetNames=[],o.XTI=[],M0[16]={n:"BrtFRTArchID$",f:lB},hs(n,function(d,u,m){switch(m){case 156:o.SheetNames.push(d.name),i.Sheets.push(d);break;case 153:i.WBProps=d;break;case 39:d.Sheet!=null&&(t.SID=d.Sheet),d.Ref=Lr(d.Ptg,null,null,o,t),delete t.SID,delete d.Ptg,a.push(d);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([m,d]):o[0]=[m,d],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(d),o.XTI=o.XTI.concat(d);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:e.push(m),r=!0;break;case 36:e.pop(),r=!1;break;case 37:e.push(m),r=!0;break;case 38:e.pop(),r=!1;break;case 16:break;default:if(!u.T){if(!r||t.WTF&&e[e.length-1]!=37&&e[e.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}},t),d2(i),i.Names=a,i.supbooks=o,i}function uB(n,t){Re(n,143);for(var i=0;i!=t.SheetNames.length;++i){var e=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[i]&&t.Workbook.Sheets[i].Hidden||0,r={Hidden:e,iTabID:i+1,strRelID:"rId"+(i+1),name:t.SheetNames[i]};Re(n,156,oB(r))}Re(n,144)}function mB(n,t){t||(t=we(127));for(var i=0;i!=4;++i)t.write_shift(4,0);return ur("SheetJS",t),ur(u0.version,t),ur(u0.version,t),ur("7262",t),t.length>t.l?t.slice(0,t.l):t}function pB(n,t){t||(t=we(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,n),t.write_shift(4,n);var i=120;return t.write_shift(1,i),t.length>t.l?t.slice(0,t.l):t}function fB(n,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var i=t.Workbook.Sheets,e=0,r=-1,a=-1;e<i.length;++e)!i[e]||!i[e].Hidden&&r==-1?r=e:i[e].Hidden==1&&a==-1&&(a=e);a>r||(Re(n,135),Re(n,158,pB(r)),Re(n,136))}}function hB(n,t){var i=ca();return Re(i,131),Re(i,128,mB()),Re(i,153,cB(n.Workbook&&n.Workbook.WBProps||null)),fB(i,n,t),uB(i,n,t),Re(i,132),i.end()}function _B(n,t,i){return t.slice(-4)===".bin"?gB(n,i):rB(n,i)}function xB(n,t,i,e,r,a,o,s){return t.slice(-4)===".bin"?DL(n,e,i,r,a,o,s):dN(n,e,i,r,a,o,s)}function CB(n,t,i,e,r,a,o,s){return t.slice(-4)===".bin"?qL(n,e,i,r,a,o,s):HL(n,e,i,r,a,o,s)}function bB(n,t,i,e,r,a,o,s){return t.slice(-4)===".bin"?y9(n,e,i,r,a,o,s):M9(n,e,i,r,a,o,s)}function vB(n,t,i,e,r,a,o,s){return t.slice(-4)===".bin"?b9(n,e,i,r,a,o,s):v9(n,e,i,r,a,o,s)}function yB(n,t,i,e){return t.slice(-4)===".bin"?_7(n,i,e):a7(n,i,e)}function MB(n,t,i){return WM(n,i)}function PB(n,t,i){return t.slice(-4)===".bin"?PF(n,i):vF(n,i)}function OB(n,t,i){return t.slice(-4)===".bin"?f9(n,i):o9(n,i)}function wB(n,t,i){return t.slice(-4)===".bin"?i9(n,t,i):t9(n,t,i)}function SB(n,t,i,e){return i.slice(-4)===".bin"?r9(n,t,i,e):void 0}function kB(n,t,i){return t.slice(-4)===".bin"?Q7(n,t,i):e9(n,t,i)}function TB(n,t,i){return(t.slice(-4)===".bin"?hB:u2)(n,i)}function EB(n,t,i,e,r){return(t.slice(-4)===".bin"?UL:s2)(n,i,e,r)}function AB(n,t,i){return(t.slice(-4)===".bin"?S7:UM)(n,i)}function IB(n,t,i){return(t.slice(-4)===".bin"?SF:NM)(n,i)}function DB(n,t,i){return(t.slice(-4)===".bin"?h9:qM)(n,i)}function FB(n){return(n.slice(-4)===".bin"?J7:HM)()}var m2=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,p2=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function io(n,t){var i=n.split(/\s+/),e=[];if(t||(e[0]=i[0]),i.length===1)return e;var r=n.match(m2),a,o,s,d;if(r)for(d=0;d!=r.length;++d)a=r[d].match(p2),(o=a[1].indexOf(":"))===-1?e[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(o+1),e[s]=a[2].slice(1,a[2].length-1));return e}function RB(n){var t=n.split(/\s+/),i={};if(t.length===1)return i;var e=n.match(m2),r,a,o,s;if(e)for(s=0;s!=e.length;++s)r=e[s].match(p2),(a=r[1].indexOf(":"))===-1?i[r[1]]=r[2].slice(1,r[2].length-1):(r[1].slice(0,6)==="xmlns:"?o="xmlns"+r[1].slice(6):o=r[1].slice(a+1),i[o]=r[2].slice(1,r[2].length-1));return i}var d0;function NB(n,t){var i=d0[n]||mn(n);return i==="General"?Rc(t):$a(i,t)}function LB(n,t,i,e){var r=e;switch((i[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":r=Gn(e);break;case"i2":case"int":r=parseInt(e,10);break;case"r4":case"float":r=parseFloat(e);break;case"date":case"dateTime.tz":r=Wn(e);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+i[0])}n[mn(t)]=r}function BB(n,t,i){if(n.t!=="z"){if(!i||i.cellText!==!1)try{n.t==="e"?n.w=n.w||_s[n.v]:t==="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=p0(n.v):n.w=Rc(n.v):n.w=NB(t||"General",n.v)}catch(a){if(i.WTF)throw a}try{var e=d0[t]||t||"General";if(i.cellNF&&(n.z=e),i.cellDates&&n.t=="n"&&md(e)){var r=Ec(n.v);r&&(n.t="d",n.v=new Date(r.y,r.m-1,r.d,r.H,r.M,r.S,r.u))}}catch(a){if(i.WTF)throw a}}}function VB(n,t,i){if(i.cellStyles&&t.Interior){var e=t.Interior;e.Pattern&&(e.patternType=ZF[e.Pattern]||e.Pattern)}n[t.ID]=t}function $B(n,t,i,e,r,a,o,s,d,u){var m="General",f=e.StyleID,_={};u=u||{};var x=[],v=0;for(f===void 0&&s&&(f=s.StyleID),f===void 0&&o&&(f=o.StyleID);a[f]!==void 0&&(a[f].nf&&(m=a[f].nf),a[f].Interior&&x.push(a[f].Interior),!!a[f].Parent);)f=a[f].Parent;switch(i.Type){case"Boolean":e.t="b",e.v=Gn(n);break;case"String":e.t="s",e.r=Dv(mn(n)),e.v=n.indexOf("<")>-1?mn(t||n).replace(/<.*?>/g,""):e.r;break;case"DateTime":n.slice(-1)!="Z"&&(n+="Z"),e.v=(Wn(n)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),e.v!==e.v?e.v=mn(n):e.v<60&&(e.v=e.v-1),(!m||m=="General")&&(m="yyyy-mm-dd");case"Number":e.v===void 0&&(e.v=+n),e.t||(e.t="n");break;case"Error":e.t="e",e.v=cM[n],u.cellText!==!1&&(e.w=n);break;default:n==""&&t==""?e.t="z":(e.t="s",e.v=Dv(t||n));break}if(BB(e,m,u),u.cellFormula!==!1)if(e.Formula){var b=mn(e.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),e.f=sd(b,r),delete e.Formula,e.ArrayRange=="RC"?e.F=sd("RC:RC",r):e.ArrayRange&&(e.F=sd(e.ArrayRange,r),d.push([pn(e.F),e.F]))}else for(v=0;v<d.length;++v)r.r>=d[v][0].s.r&&r.r<=d[v][0].e.r&&r.c>=d[v][0].s.c&&r.c<=d[v][0].e.c&&(e.F=d[v][1]);u.cellStyles&&(x.forEach(function(M){!_.patternType&&M.patternType&&(_.patternType=M.patternType)}),e.s=_),e.StyleID!==void 0&&(e.ixfe=e.StyleID)}function jB(n){n.t=n.v||"",n.t=n.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),n.v=n.w=n.ixfe=void 0}function Bf(n,t){var i=t||{};pd();var e=t0(uh(n));(i.type=="binary"||i.type=="array"||i.type=="base64")&&(typeof Pn<"u"?e=Pn.utils.decode(65001,Yf(e)):e=An(e));var r=e.slice(0,1024).toLowerCase(),a=!1;if(r=r.replace(/".*?"/g,""),(r.indexOf(">")&1023)>Math.min(r.indexOf(",")&1023,r.indexOf(";")&1023)){var o=Hn(i);return o.type="string",gd.to_workbook(e,o)}if(r.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(jt){r.indexOf("<"+jt)>=0&&(a=!0)}),a)return wV(e,i);d0={"General Number":"General","General Date":St[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":St[15],"Short Date":St[14],"Long Time":St[19],"Medium Time":St[18],"Short Time":St[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:St[2],Standard:St[4],Percent:St[10],Scientific:St[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var s,d=[],u;xi!=null&&i.dense==null&&(i.dense=xi);var m={},f=[],_=i.dense?[]:{},x="",v={},b={},M=io('<Data ss:Type="String">'),S=0,w=0,T=0,F={s:{r:2e6,c:2e6},e:{r:0,c:0}},U={},A={},k="",I=0,B=[],X={},J={},te=0,ye=[],De=[],Ce={},Ve=[],Se,je=!1,be=[],Te=[],le={},Q=0,re=0,ne={Sheets:[],WBProps:{date1904:!1}},ie={};_0.lastIndex=0,e=e.replace(/<!--([\s\S]*?)-->/mg,"");for(var me="";s=_0.exec(e);)switch(s[3]=(me=s[3]).toLowerCase()){case"data":if(me=="data"){if(s[1]==="/"){if((u=d.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&d.push([s[3],!0]);break}if(d[d.length-1][1])break;s[1]==="/"?$B(e.slice(S,s.index),k,M,d[d.length-1][0]=="comment"?Ce:v,{c:w,r:T},U,Ve[w],b,be,i):(k="",M=io(s[0]),S=s.index+s[0].length);break;case"cell":if(s[1]==="/")if(De.length>0&&(v.c=De),(!i.sheetRows||i.sheetRows>T)&&v.v!==void 0&&(i.dense?(_[T]||(_[T]=[]),_[T][w]=v):_[ai(w)+Mi(T)]=v),v.HRef&&(v.l={Target:mn(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(Q=w+(parseInt(v.MergeAcross,10)|0),re=T+(parseInt(v.MergeDown,10)|0),B.push({s:{c:w,r:T},e:{c:Q,r:re}})),!i.sheetStubs)v.MergeAcross?w=Q+1:++w;else if(v.MergeAcross||v.MergeDown){for(var Ae=w;Ae<=Q;++Ae)for(var Ie=T;Ie<=re;++Ie)(Ae>w||Ie>T)&&(i.dense?(_[Ie]||(_[Ie]=[]),_[Ie][Ae]={t:"z"}):_[ai(Ae)+Mi(Ie)]={t:"z"});w=Q+1}else++w;else v=RB(s[0]),v.Index&&(w=+v.Index-1),w<F.s.c&&(F.s.c=w),w>F.e.c&&(F.e.c=w),s[0].slice(-2)==="/>"&&++w,De=[];break;case"row":s[1]==="/"||s[0].slice(-2)==="/>"?(T<F.s.r&&(F.s.r=T),T>F.e.r&&(F.e.r=T),s[0].slice(-2)==="/>"&&(b=io(s[0]),b.Index&&(T=+b.Index-1)),w=0,++T):(b=io(s[0]),b.Index&&(T=+b.Index-1),le={},(b.AutoFitHeight=="0"||b.Height)&&(le.hpx=parseInt(b.Height,10),le.hpt=y0(le.hpx),Te[T]=le),b.Hidden=="1"&&(le.hidden=!0,Te[T]=le));break;case"worksheet":if(s[1]==="/"){if((u=d.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));f.push(x),F.s.r<=F.e.r&&F.s.c<=F.e.c&&(_["!ref"]=Gt(F),i.sheetRows&&i.sheetRows<=F.e.r&&(_["!fullref"]=_["!ref"],F.e.r=i.sheetRows-1,_["!ref"]=Gt(F))),B.length&&(_["!merges"]=B),Ve.length>0&&(_["!cols"]=Ve),Te.length>0&&(_["!rows"]=Te),m[x]=_}else F={s:{r:2e6,c:2e6},e:{r:0,c:0}},T=w=0,d.push([s[3],!1]),u=io(s[0]),x=mn(u.Name),_=i.dense?[]:{},B=[],be=[],Te=[],ie={name:x,Hidden:0},ne.Sheets.push(ie);break;case"table":if(s[1]==="/"){if((u=d.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else{if(s[0].slice(-2)=="/>")break;d.push([s[3],!1]),Ve=[],je=!1}break;case"style":s[1]==="/"?VB(U,A,i):A=io(s[0]);break;case"numberformat":A.nf=mn(io(s[0]).Format||"General"),d0[A.nf]&&(A.nf=d0[A.nf]);for(var ke=0;ke!=392&&St[ke]!=A.nf;++ke);if(ke==392){for(ke=57;ke!=392;++ke)if(St[ke]==null){us(A.nf,ke);break}}break;case"column":if(d[d.length-1][0]!=="table")break;if(Se=io(s[0]),Se.Hidden&&(Se.hidden=!0,delete Se.Hidden),Se.Width&&(Se.wpx=parseInt(Se.Width,10)),!je&&Se.wpx>10){je=!0,Br=zM;for(var ve=0;ve<Ve.length;++ve)Ve[ve]&&rc(Ve[ve])}je&&rc(Se),Ve[Se.Index-1||Ve.length]=Se;for(var lt=0;lt<+Se.Span;++lt)Ve[Ve.length]=Hn(Se);break;case"namedrange":if(s[1]==="/")break;ne.Names||(ne.Names=[]);var K=Ft(s[0]),ft={Name:K.Name,Ref:sd(K.RefersTo.slice(1),{r:0,c:0})};ne.Sheets.length>0&&(ft.Sheet=ne.Sheets.length-1),ne.Names.push(ft);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(s[0].slice(-2)==="/>")break;s[1]==="/"?k+=e.slice(I,s.index):I=s.index+s[0].length;break;case"interior":if(!i.cellStyles)break;A.Interior=io(s[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(s[0].slice(-2)==="/>")break;s[1]==="/"?gD(X,me,e.slice(te,s.index)):te=s.index+s[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(s[1]==="/"){if((u=d.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else d.push([s[3],!1]);break;case"comment":if(s[1]==="/"){if((u=d.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));jB(Ce),De.push(Ce)}else d.push([s[3],!1]),u=io(s[0]),Ce={a:u.Author};break;case"autofilter":if(s[1]==="/"){if((u=d.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else if(s[0].charAt(s[0].length-2)!=="/"){var et=io(s[0]);_["!autofilter"]={ref:sd(et.Range).replace(/\$/g,"")},d.push([s[3],!0])}break;case"name":break;case"datavalidation":if(s[1]==="/"){if((u=d.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&d.push([s[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(s[1]==="/"){if((u=d.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&d.push([s[3],!0]);break;case"null":break;default:if(d.length==0&&s[3]=="document"||d.length==0&&s[3]=="uof")return vy(e,i);var At=!0;switch(d[d.length-1][0]){case"officedocumentsettings":switch(s[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:At=!1}break;case"componentoptions":switch(s[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:At=!1}break;case"excelworkbook":switch(s[3]){case"date1904":ne.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:At=!1}break;case"workbookoptions":switch(s[3]){case"owcversion":break;case"height":break;case"width":break;default:At=!1}break;case"worksheetoptions":switch(s[3]){case"visible":if(s[0].slice(-2)!=="/>")if(s[1]==="/")switch(e.slice(te,s.index)){case"SheetHidden":ie.Hidden=1;break;case"SheetVeryHidden":ie.Hidden=2;break}else te=s.index+s[0].length;break;case"header":_["!margins"]||Fc(_["!margins"]={},"xlml"),isNaN(+Ft(s[0]).Margin)||(_["!margins"].header=+Ft(s[0]).Margin);break;case"footer":_["!margins"]||Fc(_["!margins"]={},"xlml"),isNaN(+Ft(s[0]).Margin)||(_["!margins"].footer=+Ft(s[0]).Margin);break;case"pagemargins":var it=Ft(s[0]);_["!margins"]||Fc(_["!margins"]={},"xlml"),isNaN(+it.Top)||(_["!margins"].top=+it.Top),isNaN(+it.Left)||(_["!margins"].left=+it.Left),isNaN(+it.Right)||(_["!margins"].right=+it.Right),isNaN(+it.Bottom)||(_["!margins"].bottom=+it.Bottom);break;case"displayrighttoleft":ne.Views||(ne.Views=[]),ne.Views[0]||(ne.Views[0]={}),ne.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":_["!outline"]||(_["!outline"]={}),_["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":_["!outline"]||(_["!outline"]={}),_["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:At=!1}break;case"pivottable":case"pivotcache":switch(s[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:At=!1}break;case"pagebreaks":switch(s[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:At=!1}break;case"autofilter":switch(s[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:At=!1}break;case"querytable":switch(s[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:At=!1}break;case"datavalidation":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:At=!1}break;case"sorting":case"conditionalformatting":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:At=!1}break;case"mapinfo":case"schema":case"data":switch(s[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:At=!1}break;case"smarttags":break;default:At=!1;break}if(At||s[3].match(/!\[CDATA/))break;if(!d[d.length-1][1])throw"Unrecognized tag: "+s[3]+"|"+d.join("|");if(d[d.length-1][0]==="customdocumentproperties"){if(s[0].slice(-2)==="/>")break;s[1]==="/"?LB(J,me,ye,e.slice(te,s.index)):(ye=s,te=s.index+s[0].length);break}if(i.WTF)throw"Unrecognized tag: "+s[3]+"|"+d.join("|")}var Be={};return!i.bookSheets&&!i.bookProps&&(Be.Sheets=m),Be.SheetNames=f,Be.Workbook=ne,Be.SSF=Hn(St),Be.Props=X,Be.Custprops=J,Be}function Qf(n,t){switch($h(t=t||{}),t.type||"base64"){case"base64":return Bf(va(n),t);case"binary":case"buffer":case"file":return Bf(n,t);case"array":return Bf(sc(n),t)}}function zB(n,t){var i=[];return n.Props&&i.push(uD(n.Props,t)),n.Custprops&&i.push(mD(n.Props,n.Custprops,t)),i.join("")}function YB(){return""}function UB(n,t){var i=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(e,r){var a=[];a.push(Xe("NumberFormat",null,{"ss:Format":Tn(St[e.numFmtId])}));var o={"ss:ID":"s"+(21+r)};i.push(Xe("Style",a.join(""),o))}),Xe("Styles",i.join(""))}function f2(n){return Xe("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+Fh(n.Ref,{r:0,c:0})})}function GB(n){if(!((n||{}).Workbook||{}).Names)return"";for(var t=n.Workbook.Names,i=[],e=0;e<t.length;++e){var r=t[e];r.Sheet==null&&(r.Name.match(/^_xlfn\./)||i.push(f2(r)))}return Xe("Names",i.join(""))}function WB(n,t,i,e){if(!n||!((e||{}).Workbook||{}).Names)return"";for(var r=e.Workbook.Names,a=[],o=0;o<r.length;++o){var s=r[o];s.Sheet==i&&(s.Name.match(/^_xlfn\./)||a.push(f2(s)))}return a.join("")}function HB(n,t,i,e){if(!n)return"";var r=[];if(n["!margins"]&&(r.push("<PageSetup>"),n["!margins"].header&&r.push(Xe("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&r.push(Xe("Footer",null,{"x:Margin":n["!margins"].footer})),r.push(Xe("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),r.push("</PageSetup>")),e&&e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[i])if(e.Workbook.Sheets[i].Hidden)r.push(Xe("Visible",e.Workbook.Sheets[i].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<i&&!(e.Workbook.Sheets[a]&&!e.Workbook.Sheets[a].Hidden);++a);a==i&&r.push("<Selected/>")}return((((e||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),n["!protect"]&&(r.push(Cr("ProtectContents","True")),n["!protect"].objects&&r.push(Cr("ProtectObjects","True")),n["!protect"].scenarios&&r.push(Cr("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?r.push(Cr("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&r.push(Cr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){n["!protect"][o[0]]&&r.push("<"+o[1]+"/>")})),r.length==0?"":Xe("WorksheetOptions",r.join(""),{xmlns:xa.x})}function XB(n){return n.map(function(t){var i=pI(t.t||""),e=Xe("ss:Data",i,{xmlns:"http://www.w3.org/TR/REC-html40"});return Xe("Comment",e,{"ss:Author":t.a})}).join("")}function qB(n,t,i,e,r,a,o){if(!n||n.v==null&&n.f==null)return"";var s={};if(n.f&&(s["ss:Formula"]="="+Tn(Fh(n.f,o))),n.F&&n.F.slice(0,t.length)==t){var d=oi(n.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(d.r==o.r?"":"["+(d.r-o.r)+"]")+"C"+(d.c==o.c?"":"["+(d.c-o.c)+"]")}if(n.l&&n.l.Target&&(s["ss:HRef"]=Tn(n.l.Target),n.l.Tooltip&&(s["x:HRefScreenTip"]=Tn(n.l.Tooltip))),i["!merges"])for(var u=i["!merges"],m=0;m!=u.length;++m)u[m].s.c!=o.c||u[m].s.r!=o.r||(u[m].e.c>u[m].s.c&&(s["ss:MergeAcross"]=u[m].e.c-u[m].s.c),u[m].e.r>u[m].s.r&&(s["ss:MergeDown"]=u[m].e.r-u[m].s.r));var f="",_="";switch(n.t){case"z":if(!e.sheetStubs)return"";break;case"n":f="Number",_=String(n.v);break;case"b":f="Boolean",_=n.v?"1":"0";break;case"e":f="Error",_=_s[n.v];break;case"d":f="DateTime",_=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||St[14]);break;case"s":f="String",_=mI(n.v||"");break}var x=lc(e.cellXfs,n,e);s["ss:StyleID"]="s"+(21+x),s["ss:Index"]=o.c+1;var v=n.v!=null?_:"",b=n.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(n.c||[]).length>0&&(b+=XB(n.c)),Xe("Cell",b,s)}function KB(n,t){var i='<Row ss:Index="'+(n+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=ud(t.hpt)),t.hpx&&(i+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(i+=' ss:Hidden="1"')),i+">"}function ZB(n,t,i,e){if(!n["!ref"])return"";var r=pn(n["!ref"]),a=n["!merges"]||[],o=0,s=[];n["!cols"]&&n["!cols"].forEach(function(M,S){rc(M);var w=!!M.width,T=Zm(S,M),F={"ss:Index":S+1};w&&(F["ss:Width"]=b0(T.width)),M.hidden&&(F["ss:Hidden"]="1"),s.push(Xe("Column",null,F))});for(var d=Array.isArray(n),u=r.s.r;u<=r.e.r;++u){for(var m=[KB(u,(n["!rows"]||[])[u])],f=r.s.c;f<=r.e.c;++f){var _=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>f)&&!(a[o].s.r>u)&&!(a[o].e.c<f)&&!(a[o].e.r<u)){(a[o].s.c!=f||a[o].s.r!=u)&&(_=!0);break}if(!_){var x={r:u,c:f},v=Et(x),b=d?(n[u]||[])[f]:n[v];m.push(qB(b,v,n,t,i,e,x))}}m.push("</Row>"),m.length>2&&s.push(m.join(""))}return s.join("")}function QB(n,t,i){var e=[],r=i.SheetNames[n],a=i.Sheets[r],o=a?WB(a,t,n,i):"";return o.length>0&&e.push("<Names>"+o+"</Names>"),o=a?ZB(a,t,n,i):"",o.length>0&&e.push("<Table>"+o+"</Table>"),e.push(HB(a,t,n,i)),e.join("")}function JB(n,t){t||(t={}),n.SSF||(n.SSF=Hn(St)),n.SSF&&(pd(),Ym(n.SSF),t.revssf=Gm(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF,t.cellXfs=[],lc(t.cellXfs,{},{revssf:{General:0}}));var i=[];i.push(zB(n,t)),i.push(YB(n,t)),i.push(""),i.push("");for(var e=0;e<n.SheetNames.length;++e)i.push(Xe("Worksheet",QB(e,t,n),{"ss:Name":Tn(n.SheetNames[e])}));return i[2]=UB(n,t),i[3]=GB(n,t),Pi+Xe("Workbook",i.join(""),{xmlns:xa.ss,"xmlns:o":xa.o,"xmlns:x":xa.x,"xmlns:ss":xa.ss,"xmlns:dt":xa.dt,"xmlns:html":xa.html})}function eV(n){var t={},i=n.content;if(i.l=28,t.AnsiUserType=i.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=GI(i),i.length-i.l<=4)return t;var e=i.read_shift(4);if(e==0||e>40||(i.l-=4,t.Reserved1=i.read_shift(0,"lpstr-ansi"),i.length-i.l<=4)||(e=i.read_shift(4),e!==1907505652)||(t.UnicodeClipboardFormat=WI(i),e=i.read_shift(4),e==0||e>40))return t;i.l-=4,t.Reserved2=i.read_shift(0,"lpwstr")}var tV=[60,1084,2066,2165,2175];function nV(n,t,i,e,r){var a=e,o=[],s=i.slice(i.l,i.l+a);if(r&&r.enc&&r.enc.insitu&&s.length>0)switch(n){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:r.enc.insitu(s)}o.push(s),i.l+=a;for(var d=ds(i,i.l),u=Jf[d],m=0;u!=null&&tV.indexOf(d)>-1;)a=ds(i,i.l+2),m=i.l+4,d==2066?m+=4:(d==2165||d==2175)&&(m+=12),s=i.slice(m,i.l+4+a),o.push(s),i.l+=4+a,u=Jf[d=ds(i,i.l)];var f=gr(o);xr(f,0);var _=0;f.lens=[];for(var x=0;x<o.length;++x)f.lens.push(_),_+=o[x].length;if(f.length<e)throw"XLS Record 0x"+n.toString(16)+" Truncated: "+f.length+" < "+e;return t.f(f,f.length,r)}function No(n,t,i){if(n.t!=="z"&&n.XF){var e=0;try{e=n.z||n.XF.numFmtId||0,t.cellNF&&(n.z=St[e])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{n.t==="e"?n.w=n.w||_s[n.v]:e===0||e=="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=p0(n.v):n.w=Rc(n.v):n.w=$a(e,n.v,{date1904:!!i,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&e&&n.t=="n"&&md(St[e]||String(e))){var r=Ec(n.v);r&&(n.t="d",n.v=new Date(r.y,r.m-1,r.d,r.H,r.M,r.S,r.u))}}}function Sm(n,t,i){return{v:n,ixfe:t,t:i}}function iV(n,t){var i={opts:{}},e={};xi!=null&&t.dense==null&&(t.dense=xi);var r=t.dense?[]:{},a={},o={},s=null,d=[],u="",m={},f,_="",x,v,b,M,S={},w=[],T,F,U=[],A=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},B=function(Pt){return Pt<8?Ac[Pt]:Pt<64&&A[Pt-8]||Ac[Pt]},X=function(Pt,hn,ji){var qn=hn.XF.data;if(!(!qn||!qn.patternType||!ji||!ji.cellStyles)){hn.s={},hn.s.patternType=qn.patternType;var Zr;(Zr=C0(B(qn.icvFore)))&&(hn.s.fgColor={rgb:Zr}),(Zr=C0(B(qn.icvBack)))&&(hn.s.bgColor={rgb:Zr})}},J=function(Pt,hn,ji){if(!(le>1)&&!(ji.sheetRows&&Pt.r>=ji.sheetRows)){if(ji.cellStyles&&hn.XF&&hn.XF.data&&X(Pt,hn,ji),delete hn.ixfe,delete hn.XF,f=Pt,_=Et(Pt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Pt.r<o.s.r&&(o.s.r=Pt.r),Pt.c<o.s.c&&(o.s.c=Pt.c),Pt.r+1>o.e.r&&(o.e.r=Pt.r+1),Pt.c+1>o.e.c&&(o.e.c=Pt.c+1),ji.cellFormula&&hn.f){for(var qn=0;qn<w.length;++qn)if(!(w[qn][0].s.c>Pt.c||w[qn][0].s.r>Pt.r)&&!(w[qn][0].e.c<Pt.c||w[qn][0].e.r<Pt.r)){hn.F=Gt(w[qn][0]),(w[qn][0].s.c!=Pt.c||w[qn][0].s.r!=Pt.r)&&delete hn.f,hn.f&&(hn.f=""+Lr(w[qn][1],o,Pt,be,te));break}}ji.dense?(r[Pt.r]||(r[Pt.r]=[]),r[Pt.r][Pt.c]=hn):r[_]=hn}},te={enc:!1,sbcch:0,snames:[],sharedf:S,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(te.password=t.password);var ye,De=[],Ce=[],Ve=[],Se=[],je=!1,be=[];be.SheetNames=te.snames,be.sharedf=te.sharedf,be.arrayf=te.arrayf,be.names=[],be.XTI=[];var Te=0,le=0,Q=0,re=[],ne=[],ie;te.codepage=1200,ro(1200);for(var me=!1;n.l<n.length-1;){var Ae=n.l,Ie=n.read_shift(2);if(Ie===0&&Te===10)break;var ke=n.l===n.length?0:n.read_shift(2),ve=Jf[Ie];if(ve&&ve.f){if(t.bookSheets&&Te===133&&Ie!==133)break;if(Te=Ie,ve.r===2||ve.r==12){var lt=n.read_shift(2);if(ke-=2,!te.enc&&lt!==Ie&&((lt&255)<<8|lt>>8)!==Ie)throw new Error("rt mismatch: "+lt+"!="+Ie);ve.r==12&&(n.l+=10,ke-=10)}var K={};if(Ie===10?K=ve.f(n,ke,te):K=nV(Ie,ve,n,ke,te),le==0&&[9,521,1033,2057].indexOf(Te)===-1)continue;switch(Ie){case 34:i.opts.Date1904=k.WBProps.date1904=K;break;case 134:i.opts.WriteProtect=!0;break;case 47:if(te.enc||(n.l=0),te.enc=K,!t.password)throw new Error("File is password-protected");if(K.valid==null)throw new Error("Encryption scheme unsupported");if(!K.valid)throw new Error("Password is incorrect");break;case 92:te.lastuser=K;break;case 66:var ft=Number(K);switch(ft){case 21010:ft=1200;break;case 32768:ft=1e4;break;case 32769:ft=1252;break}ro(te.codepage=ft),me=!0;break;case 317:te.rrtabid=K;break;case 25:te.winlocked=K;break;case 439:i.opts.RefreshAll=K;break;case 12:i.opts.CalcCount=K;break;case 16:i.opts.CalcDelta=K;break;case 17:i.opts.CalcIter=K;break;case 13:i.opts.CalcMode=K;break;case 14:i.opts.CalcPrecision=K;break;case 95:i.opts.CalcSaveRecalc=K;break;case 15:te.CalcRefMode=K;break;case 2211:i.opts.FullCalc=K;break;case 129:K.fDialog&&(r["!type"]="dialog"),K.fBelow||((r["!outline"]||(r["!outline"]={})).above=!0),K.fRight||((r["!outline"]||(r["!outline"]={})).left=!0);break;case 224:U.push(K);break;case 430:be.push([K]),be[be.length-1].XTI=[];break;case 35:case 547:be[be.length-1].push(K);break;case 24:case 536:ie={Name:K.Name,Ref:Lr(K.rgce,o,null,be,te)},K.itab>0&&(ie.Sheet=K.itab-1),be.names.push(ie),be[0]||(be[0]=[],be[0].XTI=[]),be[be.length-1].push(K),K.Name=="_xlnm._FilterDatabase"&&K.itab>0&&K.rgce&&K.rgce[0]&&K.rgce[0][0]&&K.rgce[0][0][0]=="PtgArea3d"&&(ne[K.itab-1]={ref:Gt(K.rgce[0][0][1][2])});break;case 22:te.ExternCount=K;break;case 23:be.length==0&&(be[0]=[],be[0].XTI=[]),be[be.length-1].XTI=be[be.length-1].XTI.concat(K),be.XTI=be.XTI.concat(K);break;case 2196:if(te.biff<8)break;ie!=null&&(ie.Comment=K[1]);break;case 18:r["!protect"]=K;break;case 19:K!==0&&te.WTF&&console.error("Password verifier: "+K);break;case 133:a[K.pos]=K,te.snames.push(K.name);break;case 10:{if(--le)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,r["!ref"]=Gt(o),t.sheetRows&&t.sheetRows<=o.e.r){var et=o.e.r;o.e.r=t.sheetRows-1,r["!fullref"]=r["!ref"],r["!ref"]=Gt(o),o.e.r=et}o.e.r++,o.e.c++}De.length>0&&(r["!merges"]=De),Ce.length>0&&(r["!objects"]=Ce),Ve.length>0&&(r["!cols"]=Ve),Se.length>0&&(r["!rows"]=Se),k.Sheets.push(I)}u===""?m=r:e[u]=r,r=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(te.biff===8&&(te.biff={9:2,521:3,1033:4}[Ie]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[K.BIFFVer]||8),te.biffguess=K.BIFFVer==0,K.BIFFVer==0&&K.dt==4096&&(te.biff=5,me=!0,ro(te.codepage=28591)),te.biff==8&&K.BIFFVer==0&&K.dt==16&&(te.biff=2),le++)break;if(r=t.dense?[]:{},te.biff<8&&!me&&(me=!0,ro(te.codepage=t.codepage||1252)),te.biff<5||K.BIFFVer==0&&K.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var At={pos:n.l-ke,name:u};a[At.pos]=At,te.snames.push(u)}else u=(a[Ae]||{name:""}).name;K.dt==32&&(r["!type"]="chart"),K.dt==64&&(r["!type"]="macro"),De=[],Ce=[],te.arrayf=w=[],Ve=[],Se=[],je=!1,I={Hidden:(a[Ae]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:r["!type"]=="chart"&&(t.dense?(r[K.r]||[])[K.c]:r[Et({c:K.c,r:K.r})])&&++K.c,T={ixfe:K.ixfe,XF:U[K.ixfe]||{},v:K.val,t:"n"},Q>0&&(T.z=re[T.ixfe>>8&63]),No(T,t,i.opts.Date1904),J({c:K.c,r:K.r},T,t);break;case 5:case 517:T={ixfe:K.ixfe,XF:U[K.ixfe],v:K.val,t:K.t},Q>0&&(T.z=re[T.ixfe>>8&63]),No(T,t,i.opts.Date1904),J({c:K.c,r:K.r},T,t);break;case 638:T={ixfe:K.ixfe,XF:U[K.ixfe],v:K.rknum,t:"n"},Q>0&&(T.z=re[T.ixfe>>8&63]),No(T,t,i.opts.Date1904),J({c:K.c,r:K.r},T,t);break;case 189:for(var it=K.c;it<=K.C;++it){var Be=K.rkrec[it-K.c][0];T={ixfe:Be,XF:U[Be],v:K.rkrec[it-K.c][1],t:"n"},Q>0&&(T.z=re[T.ixfe>>8&63]),No(T,t,i.opts.Date1904),J({c:it,r:K.r},T,t)}break;case 6:case 518:case 1030:{if(K.val=="String"){s=K;break}if(T=Sm(K.val,K.cell.ixfe,K.tt),T.XF=U[T.ixfe],t.cellFormula){var jt=K.formula;if(jt&&jt[0]&&jt[0][0]&&jt[0][0][0]=="PtgExp"){var fn=jt[0][0][1][0],Ln=jt[0][0][1][1],mr=Et({r:fn,c:Ln});S[mr]?T.f=""+Lr(K.formula,o,K.cell,be,te):T.F=((t.dense?(r[fn]||[])[Ln]:r[mr])||{}).F}else T.f=""+Lr(K.formula,o,K.cell,be,te)}Q>0&&(T.z=re[T.ixfe>>8&63]),No(T,t,i.opts.Date1904),J(K.cell,T,t),s=K}break;case 7:case 519:if(s)s.val=K,T=Sm(K,s.cell.ixfe,"s"),T.XF=U[T.ixfe],t.cellFormula&&(T.f=""+Lr(s.formula,o,s.cell,be,te)),Q>0&&(T.z=re[T.ixfe>>8&63]),No(T,t,i.opts.Date1904),J(s.cell,T,t),s=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(K);var Xn=Et(K[0].s);if(x=t.dense?(r[K[0].s.r]||[])[K[0].s.c]:r[Xn],t.cellFormula&&x){if(!s||!Xn||!x)break;x.f=""+Lr(K[1],o,K[0],be,te),x.F=Gt(K[0])}}break;case 1212:{if(!t.cellFormula)break;if(_){if(!s)break;S[Et(s.cell)]=K[0],x=t.dense?(r[s.cell.r]||[])[s.cell.c]:r[Et(s.cell)],(x||{}).f=""+Lr(K[0],o,f,be,te)}}break;case 253:T=Sm(d[K.isst].t,K.ixfe,"s"),d[K.isst].h&&(T.h=d[K.isst].h),T.XF=U[T.ixfe],Q>0&&(T.z=re[T.ixfe>>8&63]),No(T,t,i.opts.Date1904),J({c:K.c,r:K.r},T,t);break;case 513:t.sheetStubs&&(T={ixfe:K.ixfe,XF:U[K.ixfe],t:"z"},Q>0&&(T.z=re[T.ixfe>>8&63]),No(T,t,i.opts.Date1904),J({c:K.c,r:K.r},T,t));break;case 190:if(t.sheetStubs)for(var si=K.c;si<=K.C;++si){var Nt=K.ixfe[si-K.c];T={ixfe:Nt,XF:U[Nt],t:"z"},Q>0&&(T.z=re[T.ixfe>>8&63]),No(T,t,i.opts.Date1904),J({c:si,r:K.r},T,t)}break;case 214:case 516:case 4:T=Sm(K.val,K.ixfe,"s"),T.XF=U[T.ixfe],Q>0&&(T.z=re[T.ixfe>>8&63]),No(T,t,i.opts.Date1904),J({c:K.c,r:K.r},T,t);break;case 0:case 512:le===1&&(o=K);break;case 252:d=K;break;case 1054:if(te.biff==4){re[Q++]=K[1];for(var In=0;In<Q+163&&St[In]!=K[1];++In);In>=163&&us(K[1],Q+163)}else us(K[1],K[0]);break;case 30:{re[Q++]=K;for(var ci=0;ci<Q+163&&St[ci]!=K;++ci);ci>=163&&us(K,Q+163)}break;case 229:De=De.concat(K);break;case 93:Ce[K.cmo[0]]=te.lastobj=K;break;case 438:te.lastobj.TxO=K;break;case 127:te.lastobj.ImData=K;break;case 440:for(M=K[0].s.r;M<=K[0].e.r;++M)for(b=K[0].s.c;b<=K[0].e.c;++b)x=t.dense?(r[M]||[])[b]:r[Et({c:b,r:M})],x&&(x.l=K[1]);break;case 2048:for(M=K[0].s.r;M<=K[0].e.r;++M)for(b=K[0].s.c;b<=K[0].e.c;++b)x=t.dense?(r[M]||[])[b]:r[Et({c:b,r:M})],x&&x.l&&(x.l.Tooltip=K[1]);break;case 28:{if(te.biff<=5&&te.biff>=2)break;x=t.dense?(r[K[0].r]||[])[K[0].c]:r[Et(K[0])];var Kr=Ce[K[2]];x||(t.dense?(r[K[0].r]||(r[K[0].r]=[]),x=r[K[0].r][K[0].c]={t:"z"}):x=r[Et(K[0])]={t:"z"},o.e.r=Math.max(o.e.r,K[0].r),o.s.r=Math.min(o.s.r,K[0].r),o.e.c=Math.max(o.e.c,K[0].c),o.s.c=Math.min(o.s.c,K[0].c)),x.c||(x.c=[]),v={a:K[1],t:Kr.TxO.t},x.c.push(v)}break;case 2173:U7(U[K.ixfe],K.ext);break;case 125:{if(!te.cellStyles)break;for(;K.e>=K.s;)Ve[K.e--]={width:K.w/256,level:K.level||0,hidden:!!(K.flags&1)},je||(je=!0,Ah(K.w/256)),rc(Ve[K.e+1])}break;case 520:{var zt={};K.level!=null&&(Se[K.r]=zt,zt.level=K.level),K.hidden&&(Se[K.r]=zt,zt.hidden=!0),K.hpt&&(Se[K.r]=zt,zt.hpt=K.hpt,zt.hpx=ud(K.hpt))}break;case 38:case 39:case 40:case 41:r["!margins"]||Fc(r["!margins"]={}),r["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ie]]=K;break;case 161:r["!margins"]||Fc(r["!margins"]={}),r["!margins"].header=K.header,r["!margins"].footer=K.footer;break;case 574:K.RTL&&(k.Views[0].RTL=!0);break;case 146:A=K;break;case 2198:ye=K;break;case 140:F=K;break;case 442:u?I.CodeName=K||I.name:k.WBProps.CodeName=K||"ThisWorkbook";break}}else ve||console.error("Missing Info for XLS Record 0x"+Ie.toString(16)),n.l+=ke}return i.SheetNames=Ci(a).sort(function(Oi,Pt){return Number(Oi)-Number(Pt)}).map(function(Oi){return a[Oi].name}),t.bookSheets||(i.Sheets=e),!i.SheetNames.length&&m["!ref"]?(i.SheetNames.push("Sheet1"),i.Sheets&&(i.Sheets.Sheet1=m)):i.Preamble=m,i.Sheets&&ne.forEach(function(Oi,Pt){i.Sheets[i.SheetNames[Pt]]["!autofilter"]=Oi}),i.Strings=d,i.SSF=Hn(St),te.enc&&(i.Encryption=te.enc),ye&&(i.Themes=ye),i.Metadata={},F!==void 0&&(i.Metadata.Country=F),be.names.length>0&&(k.Names=be.names),i.Workbook=k,i}var g0={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function rV(n,t,i){var e=yt.find(n,"/!DocumentSummaryInformation");if(e&&e.size>0)try{var r=Zv(e,Wf,g0.DSI);for(var a in r)t[a]=r[a]}catch(u){if(i.WTF)throw u}var o=yt.find(n,"/!SummaryInformation");if(o&&o.size>0)try{var s=Zv(o,Hf,g0.SI);for(var d in s)t[d]==null&&(t[d]=s[d])}catch(u){if(i.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(pM(t.HeadingPairs,t.TitlesOfParts,t,i),delete t.HeadingPairs,delete t.TitlesOfParts)}function aV(n,t){var i=[],e=[],r=[],a=0,o,s=Sv(Wf,"n"),d=Sv(Hf,"n");if(n.Props)for(o=Ci(n.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(s,o[a])?i:Object.prototype.hasOwnProperty.call(d,o[a])?e:r).push([o[a],n.Props[o[a]]]);if(n.Custprops)for(o=Ci(n.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(n.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(s,o[a])?i:Object.prototype.hasOwnProperty.call(d,o[a])?e:r).push([o[a],n.Custprops[o[a]]]);var u=[];for(a=0;a<r.length;++a)vM.indexOf(r[a][0])>-1||mM.indexOf(r[a][0])>-1||r[a][1]!=null&&u.push(r[a]);e.length&&yt.utils.cfb_add(t,"/SummaryInformation",Qv(e,g0.SI,d,Hf)),(i.length||u.length)&&yt.utils.cfb_add(t,"/DocumentSummaryInformation",Qv(i,g0.DSI,s,Wf,u.length?u:null,g0.UDI))}function h2(n,t){t||(t={}),$h(t),ih(),t.codepage&&nh(t.codepage);var i,e;if(n.FullPaths){if(yt.find(n,"/encryption"))throw new Error("File is password-protected");i=yt.find(n,"!CompObj"),e=yt.find(n,"/Workbook")||yt.find(n,"/Book")}else{switch(t.type){case"base64":n=Ca(va(n));break;case"binary":n=Ca(n);break;case"buffer":break;case"array":Array.isArray(n)||(n=Array.prototype.slice.call(n));break}xr(n,0),e={content:n}}var r,a;if(i&&eV(i),t.bookProps&&!t.bookSheets)r={};else{var o=rn?"buffer":"array";if(e&&e.content)r=iV(e.content,t);else if((a=yt.find(n,"PerfectOffice_MAIN"))&&a.content)r=Dc.to_workbook(a.content,(t.type=o,t));else if((a=yt.find(n,"NativeContent_MAIN"))&&a.content)r=Dc.to_workbook(a.content,(t.type=o,t));else throw(a=yt.find(n,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&n.FullPaths&&yt.find(n,"/_VBA_PROJECT_CUR/VBA/dir")&&(r.vbaraw=x9(n))}var s={};return n.FullPaths&&rV(n,s,t),r.Props=r.Custprops=s,t.bookFiles&&(r.cfb=n),r}function oV(n,t){var i=t||{},e=yt.utils.cfb_new({root:"R"}),r="/Workbook";switch(i.bookType||"xls"){case"xls":i.bookType="biff8";case"xla":i.bookType||(i.bookType="xla");case"biff8":r="/Workbook",i.biff=8;break;case"biff5":r="/Book",i.biff=5;break;default:throw new Error("invalid type "+i.bookType+" for XLS CFB")}return yt.utils.cfb_add(e,r,_2(n,i)),i.biff==8&&(n.Props||n.Custprops)&&aV(n,e),i.biff==8&&n.vbaraw&&C9(e,yt.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),e}var M0={0:{f:EN},1:{f:BN},2:{f:iL},3:{f:WN},4:{f:zN},5:{f:eL},6:{f:cL},7:{f:KN},8:{f:fL},9:{f:pL},10:{f:uL},11:{f:mL},12:{f:$N},13:{f:aL},14:{f:XN},15:{f:UN},16:{f:c2},17:{f:dL},18:{f:QN},19:{f:vh},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:dB},40:{},42:{},43:{f:c7},44:{f:o7},45:{f:g7},46:{f:m7},47:{f:u7},48:{},49:{f:DI},50:{},51:{f:H7},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:IM},62:{f:sL},63:{f:n9},64:{f:AL},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:zr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:SL},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:NN},148:{f:DN,p:16},151:{f:vL},152:{},153:{f:sB},154:{},155:{},156:{f:aB},157:{},158:{},159:{T:1,f:MF},160:{T:-1},161:{T:1,f:Gc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:hL},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:G7},336:{T:-1},337:{f:K7,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Gf},357:{},358:{},359:{},360:{T:1},361:{},362:{f:AM},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:yL},427:{f:ML},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:OL},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:RN},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:CL},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Gf},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:m9},633:{T:1},634:{T:-1},635:{T:1,f:g9},636:{T:-1},637:{f:LI},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:XL},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:IL},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Jf={6:{f:Nf},10:{f:ec},12:{f:$i},13:{f:$i},14:{f:yi},15:{f:yi},16:{f:Vr},17:{f:yi},18:{f:yi},19:{f:$i},20:{f:ry},21:{f:ry},23:{f:AM},24:{f:oy},25:{f:yi},26:{},27:{},28:{f:I8},29:{},34:{f:yi},35:{f:ay},38:{f:Vr},39:{f:Vr},40:{f:Vr},41:{f:Vr},42:{f:yi},43:{f:yi},47:{f:UF},49:{f:a8},51:{f:$i},60:{},61:{f:e8},64:{f:yi},65:{f:r8},66:{f:$i},77:{},80:{},81:{},82:{},85:{f:$i},89:{},90:{},91:{},92:{f:YD},93:{f:R8},94:{},95:{f:yi},96:{},97:{},99:{f:yi},125:{f:IM},128:{f:b8},129:{f:GD},130:{f:$i},131:{f:yi},132:{f:yi},133:{f:WD},134:{},140:{f:Y8},141:{f:$i},144:{},146:{f:W8},151:{},152:{},153:{},154:{},155:{},156:{f:$i},157:{},158:{},160:{f:J8},161:{f:q8},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:h8},190:{f:_8},193:{f:ec},197:{},198:{},199:{},200:{},201:{},202:{f:yi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:$i},220:{},221:{f:yi},222:{},224:{f:C8},225:{f:zD},226:{f:ec},227:{},229:{f:D8},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:XD},253:{f:s8},255:{f:KD},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:yM},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:yi},353:{f:ec},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:O8},431:{f:yi},432:{},433:{},434:{},437:{},438:{f:B8},439:{f:yi},440:{f:V8},441:{},442:{f:k0},443:{},444:{f:$i},445:{},446:{},448:{f:ec},449:{f:JD,r:2},450:{f:ec},512:{f:ty},513:{f:Q8},515:{f:M8},516:{f:l8},517:{f:iy},519:{f:eF},520:{f:ZD},523:{},545:{f:sy},549:{f:ey},566:{},574:{f:n8},638:{f:f8},659:{},1048:{},1054:{f:g8},1084:{},1212:{f:T8},2048:{f:j8},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Pm},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ec},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:H8,r:12},2173:{f:Y7,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:yi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:k8,r:12},2197:{},2198:{f:L7,r:12},2199:{},2200:{},2201:{},2202:{f:E8,r:12},2203:{f:ec},2204:{},2205:{},2206:{},2207:{},2211:{f:QD},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:$i},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:K8},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:G8},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:ty},1:{},2:{f:aF},3:{f:iF},4:{f:nF},5:{f:iy},7:{f:sF},8:{},9:{f:Pm},11:{},22:{f:$i},30:{f:m8},31:{},32:{},33:{f:sy},36:{},37:{f:ey},50:{f:cF},62:{},52:{},67:{},68:{f:$i},69:{},86:{},126:{},127:{f:tF},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:lF},223:{},234:{},354:{},421:{},518:{f:Nf},521:{f:Pm},536:{f:oy},547:{f:ay},561:{},579:{},1030:{f:Nf},1033:{f:Pm},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ze(n,t,i,e){var r=t;if(!isNaN(r)){var a=e||(i||[]).length||0,o=n.next(4);o.write_shift(2,r),o.write_shift(2,a),a>0&&xh(i)&&n.push(i)}}function sV(n,t,i,e){var r=e||(i||[]).length||0;if(r<=8224)return Ze(n,t,i,r);var a=t;if(!isNaN(a)){for(var o=i.parts||[],s=0,d=0,u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;var m=n.next(4);for(m.write_shift(2,a),m.write_shift(2,u),n.push(i.slice(d,d+u)),d+=u;d<r;){for(m=n.next(4),m.write_shift(2,60),u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;m.write_shift(2,u),n.push(i.slice(d,d+u)),d+=u}}}function I0(n,t,i){return n||(n=we(7)),n.write_shift(2,t),n.write_shift(2,i),n.write_shift(2,0),n.write_shift(1,0),n}function cV(n,t,i,e){var r=we(9);return I0(r,n,t),MM(i,e||"b",r),r}function lV(n,t,i){var e=we(8+2*i.length);return I0(e,n,t),e.write_shift(1,i.length),e.write_shift(i.length,i,"sbcs"),e.l<e.length?e.slice(0,e.l):e}function dV(n,t,i,e){if(t.v!=null)switch(t.t){case"d":case"n":var r=t.t=="d"?Xi(Wn(t.v)):t.v;r==(r|0)&&r>=0&&r<65536?Ze(n,2,oF(i,e,r)):Ze(n,3,rF(i,e,r));return;case"b":case"e":Ze(n,5,cV(i,e,t.v,t.t));return;case"s":case"str":Ze(n,4,lV(i,e,(t.v||"").slice(0,255)));return}Ze(n,1,I0(null,i,e))}function gV(n,t,i,e){var r=Array.isArray(t),a=pn(t["!ref"]||"A1"),o,s="",d=[];if(a.e.c>255||a.e.r>16383){if(e.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=Gt(a)}for(var u=a.s.r;u<=a.e.r;++u){s=Mi(u);for(var m=a.s.c;m<=a.e.c;++m){u===a.s.r&&(d[m]=ai(m)),o=d[m]+s;var f=r?(t[u]||[])[m]:t[o];f&&dV(n,f,u,m,e)}}}function uV(n,t){var i=t||{};xi!=null&&i.dense==null&&(i.dense=xi);for(var e=ca(),r=0,a=0;a<n.SheetNames.length;++a)n.SheetNames[a]==i.sheet&&(r=a);if(r==0&&i.sheet&&n.SheetNames[0]!=i.sheet)throw new Error("Sheet not found: "+i.sheet);return Ze(e,i.biff==4?1033:i.biff==3?521:9,kh(n,16,i)),gV(e,n.Sheets[n.SheetNames[r]],r,i,n),Ze(e,10),e.end()}function mV(n,t,i){Ze(n,49,o8({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},i))}function pV(n,t,i){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)t[r]!=null&&Ze(n,1054,u8(r,t[r],i))})}function fV(n,t){var i=we(19);i.write_shift(4,2151),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,3),i.write_shift(1,1),i.write_shift(4,0),Ze(n,2151,i),i=we(39),i.write_shift(4,2152),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,3),i.write_shift(1,0),i.write_shift(4,0),i.write_shift(2,1),i.write_shift(4,4),i.write_shift(2,0),kM(pn(t["!ref"]||"A1"),i),i.write_shift(4,4),Ze(n,2152,i)}function hV(n,t){for(var i=0;i<16;++i)Ze(n,224,ny({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(e){Ze(n,224,ny(e,0,t))})}function _V(n,t){for(var i=0;i<t["!links"].length;++i){var e=t["!links"][i];Ze(n,440,$8(e)),e[1].Tooltip&&Ze(n,2048,z8(e))}delete t["!links"]}function xV(n,t){if(t){var i=0;t.forEach(function(e,r){++i<=256&&e&&Ze(n,125,X8(Zm(r,e),r))})}}function CV(n,t,i,e,r){var a=16+lc(r.cellXfs,t,r);if(t.v==null&&!t.bf){Ze(n,513,Vc(i,e,a));return}if(t.bf)Ze(n,6,GR(t,i,e,r,a));else switch(t.t){case"d":case"n":var o=t.t=="d"?Xi(Wn(t.v)):t.v;Ze(n,515,P8(i,e,o,a,r));break;case"b":case"e":Ze(n,517,y8(i,e,t.v,a,r,t.t));break;case"s":case"str":if(r.bookSST){var s=Nh(r.Strings,t.v,r.revStrings);Ze(n,253,c8(i,e,s,a,r))}else Ze(n,516,d8(i,e,(t.v||"").slice(0,255),a,r));break;default:Ze(n,513,Vc(i,e,a))}}function bV(n,t,i){var e=ca(),r=i.SheetNames[n],a=i.Sheets[r]||{},o=(i||{}).Workbook||{},s=(o.Sheets||[])[n]||{},d=Array.isArray(a),u=t.biff==8,m,f="",_=[],x=pn(a["!ref"]||"A1"),v=u?65536:16384;if(x.e.c>255||x.e.r>=v){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,v-1)}Ze(e,2057,kh(i,16,t)),Ze(e,13,Ba(1)),Ze(e,12,Ba(100)),Ze(e,15,qr(!0)),Ze(e,17,qr(!1)),Ze(e,16,Lc(.001)),Ze(e,95,qr(!0)),Ze(e,42,qr(!1)),Ze(e,43,qr(!1)),Ze(e,130,Ba(1)),Ze(e,128,v8([0,0])),Ze(e,131,qr(!1)),Ze(e,132,qr(!1)),u&&xV(e,a["!cols"]),Ze(e,512,p8(x,t)),u&&(a["!links"]=[]);for(var b=x.s.r;b<=x.e.r;++b){f=Mi(b);for(var M=x.s.c;M<=x.e.c;++M){b===x.s.r&&(_[M]=ai(M)),m=_[M]+f;var S=d?(a[b]||[])[M]:a[m];S&&(CV(e,S,b,M,t),u&&S.l&&a["!links"].push([m,S.l]))}}var w=s.CodeName||s.name||r;return u&&Ze(e,574,i8((o.Views||[])[0])),u&&(a["!merges"]||[]).length&&Ze(e,229,F8(a["!merges"])),u&&_V(e,a),Ze(e,442,PM(w,t)),u&&fV(e,a),Ze(e,10),e.end()}function vV(n,t,i){var e=ca(),r=(n||{}).Workbook||{},a=r.Sheets||[],o=r.WBProps||{},s=i.biff==8,d=i.biff==5;if(Ze(e,2057,kh(n,5,i)),i.bookType=="xla"&&Ze(e,135),Ze(e,225,s?Ba(1200):null),Ze(e,193,yD(2)),d&&Ze(e,191),d&&Ze(e,192),Ze(e,226),Ze(e,92,UD("SheetJS",i)),Ze(e,66,Ba(s?1200:1252)),s&&Ze(e,353,Ba(0)),s&&Ze(e,448),Ze(e,317,Z8(n.SheetNames.length)),s&&n.vbaraw&&Ze(e,211),s&&n.vbaraw){var u=o.CodeName||"ThisWorkbook";Ze(e,442,PM(u,i))}Ze(e,156,Ba(17)),Ze(e,25,qr(!1)),Ze(e,18,qr(!1)),Ze(e,19,Ba(0)),s&&Ze(e,431,qr(!1)),s&&Ze(e,444,Ba(0)),Ze(e,61,t8(i)),Ze(e,64,qr(!1)),Ze(e,141,Ba(0)),Ze(e,34,qr(JL(n)=="true")),Ze(e,14,qr(!0)),s&&Ze(e,439,qr(!1)),Ze(e,218,Ba(0)),mV(e,n,i),pV(e,n.SSF,i),hV(e,i),s&&Ze(e,352,qr(!1));var m=e.end(),f=ca();s&&Ze(f,140,U8()),s&&i.Strings&&sV(f,252,qD(i.Strings,i)),Ze(f,10);var _=f.end(),x=ca(),v=0,b=0;for(b=0;b<n.SheetNames.length;++b)v+=(s?12:11)+(s?2:1)*n.SheetNames[b].length;var M=m.length+v+_.length;for(b=0;b<n.SheetNames.length;++b){var S=a[b]||{};Ze(x,133,HD({pos:M,hs:S.Hidden||0,dt:0,name:n.SheetNames[b]},i)),M+=t[b].length}var w=x.end();if(v!=w.length)throw new Error("BS8 "+v+" != "+w.length);var T=[];return m.length&&T.push(m),w.length&&T.push(w),_.length&&T.push(_),gr(T)}function yV(n,t){var i=t||{},e=[];n&&!n.SSF&&(n.SSF=Hn(St)),n&&n.SSF&&(pd(),Ym(n.SSF),i.revssf=Gm(n.SSF),i.revssf[n.SSF[65535]]=0,i.ssf=n.SSF),i.Strings=[],i.Strings.Count=0,i.Strings.Unique=0,jh(i),i.cellXfs=[],lc(i.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var r=0;r<n.SheetNames.length;++r)e[e.length]=bV(r,i,n);return e.unshift(vV(n,e,i)),gr(e)}function _2(n,t){for(var i=0;i<=n.SheetNames.length;++i){var e=n.Sheets[n.SheetNames[i]];if(!(!e||!e["!ref"])){var r=la(e["!ref"]);r.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[i]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return yV(n,t);case 4:case 3:case 2:return uV(n,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function _y(n,t){var i=t||{};xi!=null&&i.dense==null&&(i.dense=xi);var e=i.dense?[]:{};n=n.replace(/<!--.*?-->/g,"");var r=n.match(/<table/i);if(!r)throw new Error("Invalid HTML: could not find <table>");var a=n.match(/<\/table/i),o=r.index,s=a&&a.index||n.length,d=oI(n.slice(o,s),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,m=0,f=0,_=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(o=0;o<d.length;++o){var b=d[o].trim(),M=b.slice(0,3).toLowerCase();if(M=="<tr"){if(++u,i.sheetRows&&i.sheetRows<=u){--u;break}m=0;continue}if(!(M!="<td"&&M!="<th")){var S=b.split(/<\/t[dh]>/i);for(s=0;s<S.length;++s){var w=S[s].trim();if(w.match(/<t[dh]/i)){for(var T=w,F=0;T.charAt(0)=="<"&&(F=T.indexOf(">"))>-1;)T=T.slice(F+1);for(var U=0;U<v.length;++U){var A=v[U];A.s.c==m&&A.s.r<u&&u<=A.e.r&&(m=A.e.c+1,U=-1)}var k=Ft(w.slice(0,w.indexOf(">")));_=k.colspan?+k.colspan:1,((f=+k.rowspan)>1||_>1)&&v.push({s:{r:u,c:m},e:{r:u+(f||1)-1,c:m+_-1}});var I=k.t||k["data-t"]||"";if(!T.length){m+=_;continue}if(T=Wy(T),x.s.r>u&&(x.s.r=u),x.e.r<u&&(x.e.r=u),x.s.c>m&&(x.s.c=m),x.e.c<m&&(x.e.c=m),!T.length){m+=_;continue}var B={t:"s",v:T};i.raw||!T.trim().length||I=="s"||(T==="TRUE"?B={t:"b",v:!0}:T==="FALSE"?B={t:"b",v:!1}:isNaN(oo(T))?isNaN(dd(T).getDate())||(B={t:"d",v:Wn(T)},i.cellDates||(B={t:"n",v:Xi(B.v)}),B.z=i.dateNF||St[14]):B={t:"n",v:oo(T)}),i.dense?(e[u]||(e[u]=[]),e[u][m]=B):e[Et({r:u,c:m})]=B,m+=_}}}}return e["!ref"]=Gt(x),v.length&&(e["!merges"]=v),e}function MV(n,t,i,e){for(var r=n["!merges"]||[],a=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,d=0,u=0;u<r.length;++u)if(!(r[u].s.r>i||r[u].s.c>o)&&!(r[u].e.r<i||r[u].e.c<o)){if(r[u].s.r<i||r[u].s.c<o){s=-1;break}s=r[u].e.r-r[u].s.r+1,d=r[u].e.c-r[u].s.c+1;break}if(!(s<0)){var m=Et({r:i,c:o}),f=e.dense?(n[i]||[])[o]:n[m],_=f&&f.v!=null&&(f.h||gh(f.w||(ps(f),f.w)||""))||"",x={};s>1&&(x.rowspan=s),d>1&&(x.colspan=d),e.editable?_='<span contenteditable="true">'+_+"</span>":f&&(x["data-t"]=f&&f.t||"z",f.v!=null&&(x["data-v"]=f.v),f.z!=null&&(x["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(_='<a href="'+f.l.Target+'">'+_+"</a>")),x.id=(e.id||"sjs")+"-"+m,a.push(Xe("td",_,x))}}var v="<tr>";return v+a.join("")+"</tr>"}var PV='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',OV="</body></html>";function wV(n,t){var i=n.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!i||i.length==0)throw new Error("Invalid HTML: could not find <table>");if(i.length==1)return cc(_y(i[0],t),t);var e=Gh();return i.forEach(function(r,a){Wh(e,_y(r,t),"Sheet"+(a+1))}),e}function SV(n,t,i){var e=[];return e.join("")+"<table"+(i&&i.id?' id="'+i.id+'"':"")+">"}function x2(n,t){var i=t||{},e=i.header!=null?i.header:PV,r=i.footer!=null?i.footer:OV,a=[e],o=la(n["!ref"]);i.dense=Array.isArray(n),a.push(SV(n,o,i));for(var s=o.s.r;s<=o.e.r;++s)a.push(MV(n,o,s,i));return a.push("</table>"+r),a.join("")}function C2(n,t,i){var e=i||{};xi!=null&&(e.dense=xi);var r=0,a=0;if(e.origin!=null)if(typeof e.origin=="number")r=e.origin;else{var o=typeof e.origin=="string"?oi(e.origin):e.origin;r=o.r,a=o.c}var s=t.getElementsByTagName("tr"),d=Math.min(e.sheetRows||1e7,s.length),u={s:{r:0,c:0},e:{r,c:a}};if(n["!ref"]){var m=la(n["!ref"]);u.s.r=Math.min(u.s.r,m.s.r),u.s.c=Math.min(u.s.c,m.s.c),u.e.r=Math.max(u.e.r,m.e.r),u.e.c=Math.max(u.e.c,m.e.c),r==-1&&(u.e.r=r=m.e.r+1)}var f=[],_=0,x=n["!rows"]||(n["!rows"]=[]),v=0,b=0,M=0,S=0,w=0,T=0;for(n["!cols"]||(n["!cols"]=[]);v<s.length&&b<d;++v){var F=s[v];if(xy(F)){if(e.display)continue;x[b]={hidden:!0}}var U=F.children;for(M=S=0;M<U.length;++M){var A=U[M];if(!(e.display&&xy(A))){var k=A.hasAttribute("data-v")?A.getAttribute("data-v"):A.hasAttribute("v")?A.getAttribute("v"):Wy(A.innerHTML),I=A.getAttribute("data-z")||A.getAttribute("z");for(_=0;_<f.length;++_){var B=f[_];B.s.c==S+a&&B.s.r<b+r&&b+r<=B.e.r&&(S=B.e.c+1-a,_=-1)}T=+A.getAttribute("colspan")||1,((w=+A.getAttribute("rowspan")||1)>1||T>1)&&f.push({s:{r:b+r,c:S+a},e:{r:b+r+(w||1)-1,c:S+a+(T||1)-1}});var X={t:"s",v:k},J=A.getAttribute("data-t")||A.getAttribute("t")||"";k!=null&&(k.length==0?X.t=J||"z":e.raw||k.trim().length==0||J=="s"||(k==="TRUE"?X={t:"b",v:!0}:k==="FALSE"?X={t:"b",v:!1}:isNaN(oo(k))?isNaN(dd(k).getDate())||(X={t:"d",v:Wn(k)},e.cellDates||(X={t:"n",v:Xi(X.v)}),X.z=e.dateNF||St[14]):X={t:"n",v:oo(k)})),X.z===void 0&&I!=null&&(X.z=I);var te="",ye=A.getElementsByTagName("A");if(ye&&ye.length)for(var De=0;De<ye.length&&!(ye[De].hasAttribute("href")&&(te=ye[De].getAttribute("href"),te.charAt(0)!="#"));++De);te&&te.charAt(0)!="#"&&(X.l={Target:te}),e.dense?(n[b+r]||(n[b+r]=[]),n[b+r][S+a]=X):n[Et({c:S+a,r:b+r})]=X,u.e.c<S+a&&(u.e.c=S+a),S+=T}}++b}return f.length&&(n["!merges"]=(n["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,b-1+r),n["!ref"]=Gt(u),b>=d&&(n["!fullref"]=Gt((u.e.r=s.length-v+b-1+r,u))),n}function b2(n,t){var i=t||{},e=i.dense?[]:{};return C2(e,n,t)}function kV(n,t){return cc(b2(n,t),t)}function xy(n){var t="",i=TV(n);return i&&(t=i(n).getPropertyValue("display")),t||(t=n.style&&n.style.display),t==="none"}function TV(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function EV(n){var t=n.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(e,r){return Array(parseInt(r,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),i=mn(t.replace(/<[^>]*>/g,""));return[i]}var Cy={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function v2(n,t){var i=t||{};xi!=null&&i.dense==null&&(i.dense=xi);var e=uh(n),r=[],a,o,s={name:""},d="",u=0,m,f,_={},x=[],v=i.dense?[]:{},b,M,S={value:""},w="",T=0,F,U=[],A=-1,k=-1,I={s:{r:1e6,c:1e7},e:{r:0,c:0}},B=0,X={},J=[],te={},ye=0,De=0,Ce=[],Ve=1,Se=1,je=[],be={Names:[]},Te={},le=["",""],Q=[],re={},ne="",ie=0,me=!1,Ae=!1,Ie=0;for(_0.lastIndex=0,e=e.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=_0.exec(e);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"\u5DE5\u4F5C\u8868":b[1]==="/"?(I.e.c>=I.s.c&&I.e.r>=I.s.r?v["!ref"]=Gt(I):v["!ref"]="A1:A1",i.sheetRows>0&&i.sheetRows<=I.e.r&&(v["!fullref"]=v["!ref"],I.e.r=i.sheetRows-1,v["!ref"]=Gt(I)),J.length&&(v["!merges"]=J),Ce.length&&(v["!rows"]=Ce),m.name=m.\u540D\u79F0||m.name,typeof JSON<"u"&&JSON.stringify(m),x.push(m.name),_[m.name]=v,Ae=!1):b[0].charAt(b[0].length-2)!=="/"&&(m=Ft(b[0],!1),A=k=-1,I.s.r=I.s.c=1e7,I.e.r=I.e.c=0,v=i.dense?[]:{},J=[],Ce=[],Ae=!0);break;case"table-row-group":b[1]==="/"?--B:++B;break;case"table-row":case"\u884C":if(b[1]==="/"){A+=Ve,Ve=1;break}if(f=Ft(b[0],!1),f.\u884C\u53F7?A=f.\u884C\u53F7-1:A==-1&&(A=0),Ve=+f["number-rows-repeated"]||1,Ve<10)for(Ie=0;Ie<Ve;++Ie)B>0&&(Ce[A+Ie]={level:B});k=-1;break;case"covered-table-cell":b[1]!=="/"&&++k,i.sheetStubs&&(i.dense?(v[A]||(v[A]=[]),v[A][k]={t:"z"}):v[Et({r:A,c:k})]={t:"z"}),w="",U=[];break;case"table-cell":case"\u6570\u636E":if(b[0].charAt(b[0].length-2)==="/")++k,S=Ft(b[0],!1),Se=parseInt(S["number-columns-repeated"]||"1",10),M={t:"z",v:null},S.formula&&i.cellFormula!=!1&&(M.f=py(mn(S.formula))),(S.\u6570\u636E\u7C7B\u578B||S["value-type"])=="string"&&(M.t="s",M.v=mn(S["string-value"]||""),i.dense?(v[A]||(v[A]=[]),v[A][k]=M):v[Et({r:A,c:k})]=M),k+=Se-1;else if(b[1]!=="/"){++k,w="",T=0,U=[],Se=1;var ke=Ve?A+Ve-1:A;if(k>I.e.c&&(I.e.c=k),k<I.s.c&&(I.s.c=k),A<I.s.r&&(I.s.r=A),ke>I.e.r&&(I.e.r=ke),S=Ft(b[0],!1),Q=[],re={},M={t:S.\u6570\u636E\u7C7B\u578B||S["value-type"],v:null},i.cellFormula)if(S.formula&&(S.formula=mn(S.formula)),S["number-matrix-columns-spanned"]&&S["number-matrix-rows-spanned"]&&(ye=parseInt(S["number-matrix-rows-spanned"],10)||0,De=parseInt(S["number-matrix-columns-spanned"],10)||0,te={s:{r:A,c:k},e:{r:A+ye-1,c:k+De-1}},M.F=Gt(te),je.push([te,M.F])),S.formula)M.f=py(S.formula);else for(Ie=0;Ie<je.length;++Ie)A>=je[Ie][0].s.r&&A<=je[Ie][0].e.r&&k>=je[Ie][0].s.c&&k<=je[Ie][0].e.c&&(M.F=je[Ie][1]);switch((S["number-columns-spanned"]||S["number-rows-spanned"])&&(ye=parseInt(S["number-rows-spanned"],10)||0,De=parseInt(S["number-columns-spanned"],10)||0,te={s:{r:A,c:k},e:{r:A+ye-1,c:k+De-1}},J.push(te)),S["number-columns-repeated"]&&(Se=parseInt(S["number-columns-repeated"],10)),M.t){case"boolean":M.t="b",M.v=Gn(S["boolean-value"]);break;case"float":M.t="n",M.v=parseFloat(S.value);break;case"percentage":M.t="n",M.v=parseFloat(S.value);break;case"currency":M.t="n",M.v=parseFloat(S.value);break;case"date":M.t="d",M.v=Wn(S["date-value"]),i.cellDates||(M.t="n",M.v=Xi(M.v)),M.z="m/d/yy";break;case"time":M.t="n",M.v=iI(S["time-value"])/86400,i.cellDates&&(M.t="d",M.v=Wm(M.v)),M.z="HH:MM:SS";break;case"number":M.t="n",M.v=parseFloat(S.\u6570\u636E\u6570\u503C);break;default:if(M.t==="string"||M.t==="text"||!M.t)M.t="s",S["string-value"]!=null&&(w=mn(S["string-value"]),U=[]);else throw new Error("Unsupported value type "+M.t)}}else{if(me=!1,M.t==="s"&&(M.v=w||"",U.length&&(M.R=U),me=T==0),Te.Target&&(M.l=Te),Q.length>0&&(M.c=Q,Q=[]),w&&i.cellText!==!1&&(M.w=w),me&&(M.t="z",delete M.v),(!me||i.sheetStubs)&&!(i.sheetRows&&i.sheetRows<=A))for(var ve=0;ve<Ve;++ve){if(Se=parseInt(S["number-columns-repeated"]||"1",10),i.dense)for(v[A+ve]||(v[A+ve]=[]),v[A+ve][k]=ve==0?M:Hn(M);--Se>0;)v[A+ve][k+Se]=Hn(M);else for(v[Et({r:A+ve,c:k})]=M;--Se>0;)v[Et({r:A+ve,c:k+Se})]=Hn(M);I.e.c<=k&&(I.e.c=k)}Se=parseInt(S["number-columns-repeated"]||"1",10),k+=Se-1,Se=0,M={},w="",U=[]}Te={};break;case"document":case"document-content":case"\u7535\u5B50\u8868\u683C\u6587\u6863":case"spreadsheet":case"\u4E3B\u4F53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((a=r.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&r.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((a=r.pop())[0]!==b[3])throw"Bad state: "+a;re.t=w,U.length&&(re.R=U),re.a=ne,Q.push(re)}else b[0].charAt(b[0].length-2)!=="/"&&r.push([b[3],!1]);ne="",ie=0,w="",T=0,U=[];break;case"creator":b[1]==="/"?ne=e.slice(ie,b.index):ie=b.index+b[0].length;break;case"meta":case"\u5143\u6570\u636E":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((a=r.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&r.push([b[3],!1]);w="",T=0,U=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(X[s.name]=d,(a=r.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&(d="",s=Ft(b[0],!1),r.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(r[r.length-1][0]){case"time-style":case"date-style":o=Ft(b[0],!1),d+=Cy[b[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(r[r.length-1][0]){case"time-style":case"date-style":o=Ft(b[0],!1),d+=Cy[b[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(r[r.length-1][0]){case"number-style":case"date-style":case"time-style":d+=e.slice(u,b.index);break}else u=b.index+b[0].length;break;case"named-range":o=Ft(b[0],!1),le=Lf(o["cell-range-address"]);var lt={Name:o.name,Ref:le[0]+"!"+le[1]};Ae&&(lt.Sheet=x.length),be.Names.push(lt);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"\u7535\u5B50\u8868\u683C":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"\u6587\u672C\u4E32":if(["master-styles"].indexOf(r[r.length-1][0])>-1)break;if(b[1]==="/"&&(!S||!S["string-value"])){var K=EV(e.slice(T,b.index),F);w=(w.length>0?w+`
`:"")+K[0]}else F=Ft(b[0],!1),T=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{le=Lf(Ft(b[0])["target-range-address"]),_[le[0]]["!autofilter"]={ref:le[1]}}catch{}break;case"date":break;case"object":break;case"title":case"\u6807\u9898":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(Te=Ft(b[0],!1),!Te.href)break;Te.Target=mn(Te.href),delete Te.href,Te.Target.charAt(0)=="#"&&Te.Target.indexOf(".")>-1?(le=Lf(Te.Target.slice(1)),Te.Target="#"+le[0]+"!"+le[1]):Te.Target.match(/^\.\.[\\\/]/)&&(Te.Target=Te.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5B57:":break;default:if(i.WTF)throw new Error(b)}}var ft={Sheets:_,SheetNames:x,Workbook:be};return i.bookSheets&&delete ft.Sheets,ft}function by(n,t){t=t||{},La(n,"META-INF/manifest.xml")&&iD(Vi(n,"META-INF/manifest.xml"),t);var i=ba(n,"content.xml");if(!i)throw new Error("Missing content.xml in ODS / UOF file");var e=v2(An(i),t);return La(n,"meta.xml")&&(e.Props=gM(Vi(n,"meta.xml"))),e}function vy(n,t){return v2(n,t)}var AV=function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+h0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return Pi+t}}(),yy=function(){var n=function(a){return Tn(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,i=`          <table:covered-table-cell/>
`,e=function(a,o,s){var d=[];d.push('      <table:table table:name="'+Tn(o.SheetNames[s])+`" table:style-name="ta1">
`);var u=0,m=0,f=la(a["!ref"]||"A1"),_=a["!merges"]||[],x=0,v=Array.isArray(a);if(a["!cols"])for(m=0;m<=f.e.c;++m)d.push("        <table:table-column"+(a["!cols"][m]?' table:style-name="co'+a["!cols"][m].ods+'"':"")+`></table:table-column>
`);var b="",M=a["!rows"]||[];for(u=0;u<f.s.r;++u)b=M[u]?' table:style-name="ro'+M[u].ods+'"':"",d.push("        <table:table-row"+b+`></table:table-row>
`);for(;u<=f.e.r;++u){for(b=M[u]?' table:style-name="ro'+M[u].ods+'"':"",d.push("        <table:table-row"+b+`>
`),m=0;m<f.s.c;++m)d.push(t);for(;m<=f.e.c;++m){var S=!1,w={},T="";for(x=0;x!=_.length;++x)if(!(_[x].s.c>m)&&!(_[x].s.r>u)&&!(_[x].e.c<m)&&!(_[x].e.r<u)){(_[x].s.c!=m||_[x].s.r!=u)&&(S=!0),w["table:number-columns-spanned"]=_[x].e.c-_[x].s.c+1,w["table:number-rows-spanned"]=_[x].e.r-_[x].s.r+1;break}if(S){d.push(i);continue}var F=Et({r:u,c:m}),U=v?(a[u]||[])[m]:a[F];if(U&&U.f&&(w["table:formula"]=Tn(ZR(U.f)),U.F&&U.F.slice(0,F.length)==F)){var A=la(U.F);w["table:number-matrix-columns-spanned"]=A.e.c-A.s.c+1,w["table:number-matrix-rows-spanned"]=A.e.r-A.s.r+1}if(!U){d.push(t);continue}switch(U.t){case"b":T=U.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=U.v?"true":"false";break;case"n":T=U.w||String(U.v||0),w["office:value-type"]="float",w["office:value"]=U.v||0;break;case"s":case"str":T=U.v==null?"":U.v,w["office:value-type"]="string";break;case"d":T=U.w||Wn(U.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Wn(U.v).toISOString(),w["table:style-name"]="ce1";break;default:d.push(t);continue}var k=n(T);if(U.l&&U.l.Target){var I=U.l.Target;I=I.charAt(0)=="#"?"#"+QR(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),k=Xe("text:a",k,{"xlink:href":I.replace(/&/g,"&amp;")})}d.push("          "+Xe("table:table-cell",Xe("text:p",k,{}),w)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},r=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var s=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var m=0;m<u["!cols"].length;++m)if(u["!cols"][m]){var f=u["!cols"][m];if(f.width==null&&f.wpx==null&&f.wch==null)continue;rc(f),f.ods=s;var _=u["!cols"][m].wpx+"px";a.push('  <style:style style:name="co'+s+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+_+`"/>
`),a.push(`  </style:style>
`),++s}}});var d=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var m=0;m<u["!rows"].length;++m)if(u["!rows"][m]){u["!rows"][m].ods=d;var f=u["!rows"][m].hpx+"px";a.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),a.push(`  </style:style>
`),++d}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,s){var d=[Pi],u=h0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=h0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});s.bookType=="fods"?(d.push("<office:document"+u+m+`>
`),d.push(dM().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+u+`>
`),r(d,o),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)d.push(e(o.Sheets[o.SheetNames[f]],o,f,s));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),s.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}}();function y2(n,t){if(t.bookType=="fods")return yy(n,t);var i=ch(),e="",r=[],a=[];return e="mimetype",Xt(i,e,"application/vnd.oasis.opendocument.spreadsheet"),e="content.xml",Xt(i,e,yy(n,t)),r.push([e,"text/xml"]),a.push([e,"ContentFile"]),e="styles.xml",Xt(i,e,AV(n,t)),r.push([e,"text/xml"]),a.push([e,"StylesFile"]),e="meta.xml",Xt(i,e,Pi+dM()),r.push([e,"text/xml"]),a.push([e,"MetadataFile"]),e="manifest.rdf",Xt(i,e,oD(a)),r.push([e,"application/rdf+xml"]),e="META-INF/manifest.xml",Xt(i,e,rD(r)),i}function $c(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function eh(n){return typeof TextDecoder<"u"?new TextDecoder().decode(n):An(sc(n))}function IV(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):Ca(Vo(n))}function DV(n,t){e:for(var i=0;i<=n.length-t.length;++i){for(var e=0;e<t.length;++e)if(n[i+e]!=t[e])continue e;return!0}return!1}function oc(n){var t=n.reduce(function(r,a){return r+a.length},0),i=new Uint8Array(t),e=0;return n.forEach(function(r){i.set(r,e),e+=r.length}),i}function My(n){return n-=n>>1&1431655765,n=(n&858993459)+(n>>2&858993459),(n+(n>>4)&252645135)*16843009>>>24}function FV(n,t){for(var i=(n[t+15]&127)<<7|n[t+14]>>1,e=n[t+14]&1,r=t+13;r>=t;--r)e=e*256+n[r];return(n[t+15]&128?-e:e)*Math.pow(10,i-6176)}function RV(n,t,i){var e=Math.floor(i==0?0:Math.LOG10E*Math.log(Math.abs(i)))+6176-20,r=i/Math.pow(10,e-6176);n[t+15]|=e>>7,n[t+14]|=(e&127)<<1;for(var a=0;r>=1;++a,r/=256)n[t+a]=r&255;n[t+15]|=i>=0?0:128}function P0(n,t){var i=t?t[0]:0,e=n[i]&127;e:if(n[i++]>=128&&(e|=(n[i]&127)<<7,n[i++]<128||(e|=(n[i]&127)<<14,n[i++]<128)||(e|=(n[i]&127)<<21,n[i++]<128)||(e+=(n[i]&127)*Math.pow(2,28),++i,n[i++]<128)||(e+=(n[i]&127)*Math.pow(2,35),++i,n[i++]<128)||(e+=(n[i]&127)*Math.pow(2,42),++i,n[i++]<128)))break e;return t&&(t[0]=i),e}function Sn(n){var t=new Uint8Array(7);t[0]=n&127;var i=1;e:if(n>127){if(t[i-1]|=128,t[i]=n>>7&127,++i,n<=16383||(t[i-1]|=128,t[i]=n>>14&127,++i,n<=2097151)||(t[i-1]|=128,t[i]=n>>21&127,++i,n<=268435455)||(t[i-1]|=128,t[i]=n/256>>>21&127,++i,n<=34359738367)||(t[i-1]|=128,t[i]=n/65536>>>21&127,++i,n<=4398046511103))break e;t[i-1]|=128,t[i]=n/16777216>>>21&127,++i}return t.slice(0,i)}function _i(n){var t=0,i=n[t]&127;e:if(n[t++]>=128){if(i|=(n[t]&127)<<7,n[t++]<128||(i|=(n[t]&127)<<14,n[t++]<128)||(i|=(n[t]&127)<<21,n[t++]<128))break e;i|=(n[t]&127)<<28}return i}function bn(n){for(var t=[],i=[0];i[0]<n.length;){var e=i[0],r=P0(n,i),a=r&7;r=Math.floor(r/8);var o=0,s;if(r==0)break;switch(a){case 0:{for(var d=i[0];n[i[0]++]>=128;);s=n.slice(d,i[0])}break;case 5:o=4,s=n.slice(i[0],i[0]+o),i[0]+=o;break;case 1:o=8,s=n.slice(i[0],i[0]+o),i[0]+=o;break;case 2:o=P0(n,i),s=n.slice(i[0],i[0]+o),i[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(r," at offset ").concat(e))}var u={data:s,type:a};t[r]==null?t[r]=[u]:t[r].push(u)}return t}function _r(n){var t=[];return n.forEach(function(i,e){i.forEach(function(r){r.data&&(t.push(Sn(e*8+r.type)),r.type==2&&t.push(Sn(r.data.length)),t.push(r.data))})}),oc(t)}function Vh(n,t){return(n==null?void 0:n.map(function(i){return t(i.data)}))||[]}function Ra(n){for(var t,i=[],e=[0];e[0]<n.length;){var r=P0(n,e),a=bn(n.slice(e[0],e[0]+r));e[0]+=r;var o={id:_i(a[1][0].data),messages:[]};a[2].forEach(function(s){var d=bn(s.data),u=_i(d[3][0].data);o.messages.push({meta:d,data:n.slice(e[0],e[0]+u)}),e[0]+=u}),(t=a[3])!=null&&t[0]&&(o.merge=_i(a[3][0].data)>>>0>0),i.push(o)}return i}function ed(n){var t=[];return n.forEach(function(i){var e=[];e[1]=[{data:Sn(i.id),type:0}],e[2]=[],i.merge!=null&&(e[3]=[{data:Sn(+!!i.merge),type:0}]);var r=[];i.messages.forEach(function(o){r.push(o.data),o.meta[3]=[{type:0,data:Sn(o.data.length)}],e[2].push({data:_r(o.meta),type:2})});var a=_r(e);t.push(Sn(a.length)),t.push(a),r.forEach(function(o){return t.push(o)})}),oc(t)}function NV(n,t){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var i=[0],e=P0(t,i),r=[];i[0]<t.length;){var a=t[i[0]]&3;if(a==0){var o=t[i[0]++]>>2;if(o<60)++o;else{var s=o-59;o=t[i[0]],s>1&&(o|=t[i[0]+1]<<8),s>2&&(o|=t[i[0]+2]<<16),s>3&&(o|=t[i[0]+3]<<24),o>>>=0,o++,i[0]+=s}r.push(t.slice(i[0],i[0]+o)),i[0]+=o;continue}else{var d=0,u=0;if(a==1?(u=(t[i[0]]>>2&7)+4,d=(t[i[0]++]&224)<<3,d|=t[i[0]++]):(u=(t[i[0]++]>>2)+1,a==2?(d=t[i[0]]|t[i[0]+1]<<8,i[0]+=2):(d=(t[i[0]]|t[i[0]+1]<<8|t[i[0]+2]<<16|t[i[0]+3]<<24)>>>0,i[0]+=4)),r=[oc(r)],d==0)throw new Error("Invalid offset 0");if(d>r[0].length)throw new Error("Invalid offset beyond length");if(u>=d)for(r.push(r[0].slice(-d)),u-=d;u>=r[r.length-1].length;)r.push(r[r.length-1]),u-=r[r.length-1].length;r.push(r[0].slice(-d,-d+u))}}var m=oc(r);if(m.length!=e)throw new Error("Unexpected length: ".concat(m.length," != ").concat(e));return m}function Na(n){for(var t=[],i=0;i<n.length;){var e=n[i++],r=n[i]|n[i+1]<<8|n[i+2]<<16;i+=3,t.push(NV(e,n.slice(i,i+r))),i+=r}if(i!==n.length)throw new Error("data is not a valid framed stream!");return oc(t)}function td(n){for(var t=[],i=0;i<n.length;){var e=Math.min(n.length-i,268435455),r=new Uint8Array(4);t.push(r);var a=Sn(e),o=a.length;t.push(a),e<=60?(o++,t.push(new Uint8Array([e-1<<2]))):e<=256?(o+=2,t.push(new Uint8Array([240,e-1&255]))):e<=65536?(o+=3,t.push(new Uint8Array([244,e-1&255,e-1>>8&255]))):e<=16777216?(o+=4,t.push(new Uint8Array([248,e-1&255,e-1>>8&255,e-1>>16&255]))):e<=4294967296&&(o+=5,t.push(new Uint8Array([252,e-1&255,e-1>>8&255,e-1>>16&255,e-1>>>24&255]))),t.push(n.slice(i,i+e)),o+=e,r[0]=0,r[1]=o&255,r[2]=o>>8&255,r[3]=o>>16&255,i+=e}return oc(t)}function LV(n,t,i,e){var r=$c(n),a=r.getUint32(4,!0),o=(e>1?12:8)+My(a&(e>1?3470:398))*4,s=-1,d=-1,u=NaN,m=new Date(2001,0,1);a&512&&(s=r.getUint32(o,!0),o+=4),o+=My(a&(e>1?12288:4096))*4,a&16&&(d=r.getUint32(o,!0),o+=4),a&32&&(u=r.getFloat64(o,!0),o+=8),a&64&&(m.setTime(m.getTime()+r.getFloat64(o,!0)*1e3),o+=8);var f;switch(n[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[d]};break;case 5:f={t:"d",v:m};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:i[s]};else if(d>-1)f={t:"s",v:t[d]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(n.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(n.slice(0,4)))}return f}function BV(n,t,i){var e=$c(n),r=e.getUint32(8,!0),a=12,o=-1,s=-1,d=NaN,u=NaN,m=new Date(2001,0,1);r&1&&(d=FV(n,a),a+=16),r&2&&(u=e.getFloat64(a,!0),a+=8),r&4&&(m.setTime(m.getTime()+e.getFloat64(a,!0)*1e3),a+=8),r&8&&(s=e.getUint32(a,!0),a+=4),r&16&&(o=e.getUint32(a,!0),a+=4);var f;switch(n[1]){case 0:break;case 2:f={t:"n",v:d};break;case 3:f={t:"s",v:t[s]};break;case 5:f={t:"d",v:m};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:i[o]};else throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(r&31," : ").concat(n.slice(0,4)));break;case 10:f={t:"n",v:d};break;default:throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(r&31," : ").concat(n.slice(0,4)))}return f}function Vf(n,t){var i=new Uint8Array(32),e=$c(i),r=12,a=0;switch(i[0]=5,n.t){case"n":i[1]=2,RV(i,r,n.v),a|=1,r+=16;break;case"b":i[1]=6,e.setFloat64(r,n.v?1:0,!0),a|=2,r+=8;break;case"s":if(t.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));i[1]=3,e.setUint32(r,t.indexOf(n.v),!0),a|=8,r+=4;break;default:throw"unsupported cell type "+n.t}return e.setUint32(8,a,!0),i.slice(0,r)}function $f(n,t){var i=new Uint8Array(32),e=$c(i),r=12,a=0;switch(i[0]=3,n.t){case"n":i[2]=2,e.setFloat64(r,n.v,!0),a|=32,r+=8;break;case"b":i[2]=6,e.setFloat64(r,n.v?1:0,!0),a|=32,r+=8;break;case"s":if(t.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));i[2]=3,e.setUint32(r,t.indexOf(n.v),!0),a|=16,r+=4;break;default:throw"unsupported cell type "+n.t}return e.setUint32(4,a,!0),i.slice(0,r)}function VV(n,t,i){switch(n[0]){case 0:case 1:case 2:case 3:return LV(n,t,i,n[0]);case 5:return BV(n,t,i);default:throw new Error("Unsupported payload version ".concat(n[0]))}}function Nr(n){var t=bn(n);return P0(t[1][0].data)}function Py(n,t){var i=bn(t.data),e=_i(i[1][0].data),r=i[3],a=[];return(r||[]).forEach(function(o){var s=bn(o.data),d=_i(s[1][0].data)>>>0;switch(e){case 1:a[d]=eh(s[3][0].data);break;case 8:{var u=n[Nr(s[9][0].data)][0],m=bn(u.data),f=n[Nr(m[1][0].data)][0],_=_i(f.meta[1][0].data);if(_!=2001)throw new Error("2000 unexpected reference to ".concat(_));var x=bn(f.data);a[d]=x[3].map(function(v){return eh(v.data)}).join("")}break}}),a}function $V(n,t){var i,e,r,a,o,s,d,u,m,f,_,x,v,b,M=bn(n),S=_i(M[1][0].data)>>>0,w=_i(M[2][0].data)>>>0,T=((e=(i=M[8])==null?void 0:i[0])==null?void 0:e.data)&&_i(M[8][0].data)>0||!1,F,U;if((a=(r=M[7])==null?void 0:r[0])!=null&&a.data&&t!=0)F=(s=(o=M[7])==null?void 0:o[0])==null?void 0:s.data,U=(u=(d=M[6])==null?void 0:d[0])==null?void 0:u.data;else if((f=(m=M[4])==null?void 0:m[0])!=null&&f.data&&t!=1)F=(x=(_=M[4])==null?void 0:_[0])==null?void 0:x.data,U=(b=(v=M[3])==null?void 0:v[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var A=T?4:1,k=$c(F),I=[],B=0;B<F.length/2;++B){var X=k.getUint16(B*2,!0);X<65535&&I.push([B,X])}if(I.length!=w)throw"Expected ".concat(w," cells, found ").concat(I.length);var J=[];for(B=0;B<I.length-1;++B)J[I[B][0]]=U.subarray(I[B][1]*A,I[B+1][1]*A);return I.length>=1&&(J[I[I.length-1][0]]=U.subarray(I[I.length-1][1]*A)),{R:S,cells:J}}function jV(n,t){var i,e=bn(t.data),r=(i=e==null?void 0:e[7])!=null&&i[0]?_i(e[7][0].data)>>>0>0?1:0:-1,a=Vh(e[5],function(o){return $V(o,r)});return{nrows:_i(e[4][0].data)>>>0,data:a.reduce(function(o,s){return o[s.R]||(o[s.R]=[]),s.cells.forEach(function(d,u){if(o[s.R][u])throw new Error("Duplicate cell r=".concat(s.R," c=").concat(u));o[s.R][u]=d}),o},[])}}function zV(n,t,i){var e,r=bn(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(_i(r[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(r[6][0].data));if(a.e.c=(_i(r[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(r[7][0].data));i["!ref"]=Gt(a);var o=bn(r[4][0].data),s=Py(n,n[Nr(o[4][0].data)][0]),d=(e=o[17])!=null&&e[0]?Py(n,n[Nr(o[17][0].data)][0]):[],u=bn(o[3][0].data),m=0;u[1].forEach(function(f){var _=bn(f.data),x=n[Nr(_[2][0].data)][0],v=_i(x.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var b=jV(n,x);b.data.forEach(function(M,S){M.forEach(function(w,T){var F=Et({r:m+S,c:T}),U=VV(w,s,d);U&&(i[F]=U)})}),m+=b.nrows})}function YV(n,t){var i=bn(t.data),e={"!ref":"A1"},r=n[Nr(i[2][0].data)],a=_i(r[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return zV(n,r[0],e),e}function UV(n,t){var i,e=bn(t.data),r={name:(i=e[1])!=null&&i[0]?eh(e[1][0].data):"",sheets:[]},a=Vh(e[2],Nr);return a.forEach(function(o){n[o].forEach(function(s){var d=_i(s.meta[1][0].data);d==6e3&&r.sheets.push(YV(n,s))})}),r}function GV(n,t){var i=Gh(),e=bn(t.data),r=Vh(e[1],Nr);if(r.forEach(function(a){n[a].forEach(function(o){var s=_i(o.meta[1][0].data);if(s==2){var d=UV(n,o);d.sheets.forEach(function(u,m){Wh(i,u,m==0?d.name:d.name+"_"+m,!0)})}})}),i.SheetNames.length==0)throw new Error("Empty NUMBERS file");return i}function jf(n){var t,i,e,r,a={},o=[];if(n.FullPaths.forEach(function(d){if(d.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),n.FileIndex.forEach(function(d){if(d.name.match(/\.iwa$/)){var u;try{u=Na(d.content)}catch(f){return console.log("?? "+d.content.length+" "+(f.message||f))}var m;try{m=Ra(u)}catch(f){return console.log("## "+(f.message||f))}m.forEach(function(f){a[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var s=((r=(e=(i=(t=a==null?void 0:a[1])==null?void 0:t[0])==null?void 0:i.meta)==null?void 0:e[1])==null?void 0:r[0].data)&&_i(a[1][0].meta[1][0].data)==1&&a[1][0];if(s||o.forEach(function(d){a[d].forEach(function(u){var m=_i(u.meta[1][0].data)>>>0;if(m==1)if(!s)s=u;else throw new Error("Document has multiple roots")})}),!s)throw new Error("Cannot find Document root");return GV(a,s)}function WV(n,t,i){var e,r,a,o;if(!((e=n[6])!=null&&e[0])||!((r=n[7])!=null&&r[0]))throw"Mutation only works on post-BNC storages!";var s=((o=(a=n[8])==null?void 0:a[0])==null?void 0:o.data)&&_i(n[8][0].data)>0||!1;if(s)throw"Math only works with normal offsets";for(var d=0,u=$c(n[7][0].data),m=0,f=[],_=$c(n[4][0].data),x=0,v=[],b=0;b<t.length;++b){if(t[b]==null){u.setUint16(b*2,65535,!0),_.setUint16(b*2,65535);continue}u.setUint16(b*2,m,!0),_.setUint16(b*2,x,!0);var M,S;switch(typeof t[b]){case"string":M=Vf({t:"s",v:t[b]},i),S=$f({t:"s",v:t[b]},i);break;case"number":M=Vf({t:"n",v:t[b]},i),S=$f({t:"n",v:t[b]},i);break;case"boolean":M=Vf({t:"b",v:t[b]},i),S=$f({t:"b",v:t[b]},i);break;default:throw new Error("Unsupported value "+t[b])}f.push(M),m+=M.length,v.push(S),x+=S.length,++d}for(n[2][0].data=Sn(d);b<n[7][0].data.length/2;++b)u.setUint16(b*2,65535,!0),_.setUint16(b*2,65535,!0);return n[6][0].data=oc(f),n[3][0].data=oc(v),d}function HV(n,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var i=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var e=la(i["!ref"]);e.s.r=e.s.c=0;var r=!1;e.e.c>9&&(r=!0,e.e.c=9),e.e.r>49&&(r=!0,e.e.r=49),r&&console.error("The Numbers writer is currently limited to ".concat(Gt(e)));var a=jm(i,{range:e,header:1}),o=["~Sh33tJ5~"];a.forEach(function(ne){return ne.forEach(function(ie){typeof ie=="string"&&o.push(ie)})});var s={},d=[],u=yt.read(t.numbers,{type:"base64"});u.FileIndex.map(function(ne,ie){return[ne,u.FullPaths[ie]]}).forEach(function(ne){var ie=ne[0],me=ne[1];if(ie.type==2&&ie.name.match(/\.iwa/)){var Ae=ie.content,Ie=Na(Ae),ke=Ra(Ie);ke.forEach(function(ve){d.push(ve.id),s[ve.id]={deps:[],location:me,type:_i(ve.messages[0].meta[1][0].data)}})}}),d.sort(function(ne,ie){return ne-ie});var m=d.filter(function(ne){return ne>1}).map(function(ne){return[ne,Sn(ne)]});u.FileIndex.map(function(ne,ie){return[ne,u.FullPaths[ie]]}).forEach(function(ne){var ie=ne[0],me=ne[1];if(ie.name.match(/\.iwa/)){var Ae=Ra(Na(ie.content));Ae.forEach(function(Ie){Ie.messages.forEach(function(ke){m.forEach(function(ve){Ie.messages.some(function(lt){return _i(lt.meta[1][0].data)!=11006&&DV(lt.data,ve[1])})&&s[ve[0]].deps.push(Ie.id)})})})}});function f(){for(var ne=927262;ne<2e6;++ne)if(!s[ne])return ne;throw new Error("Too many messages")}for(var _=yt.find(u,s[1].location),x=Ra(Na(_.content)),v,b=0;b<x.length;++b){var M=x[b];M.id==1&&(v=M)}var S=Nr(bn(v.messages[0].data)[1][0].data);for(_=yt.find(u,s[S].location),x=Ra(Na(_.content)),b=0;b<x.length;++b)M=x[b],M.id==S&&(v=M);for(S=Nr(bn(v.messages[0].data)[2][0].data),_=yt.find(u,s[S].location),x=Ra(Na(_.content)),b=0;b<x.length;++b)M=x[b],M.id==S&&(v=M);for(S=Nr(bn(v.messages[0].data)[2][0].data),_=yt.find(u,s[S].location),x=Ra(Na(_.content)),b=0;b<x.length;++b)M=x[b],M.id==S&&(v=M);var w=bn(v.messages[0].data);{w[6][0].data=Sn(e.e.r+1),w[7][0].data=Sn(e.e.c+1);var T=Nr(w[46][0].data),F=yt.find(u,s[T].location),U=Ra(Na(F.content));{for(var A=0;A<U.length&&U[A].id!=T;++A);if(U[A].id!=T)throw"Bad ColumnRowUIDMapArchive";var k=bn(U[A].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var I=0;I<=e.e.c;++I){var B=[];B[1]=B[2]=[{type:0,data:Sn(I+420690)}],k[1].push({type:2,data:_r(B)}),k[2].push({type:0,data:Sn(I)}),k[3].push({type:0,data:Sn(I)})}k[4]=[],k[5]=[],k[6]=[];for(var X=0;X<=e.e.r;++X)B=[],B[1]=B[2]=[{type:0,data:Sn(X+726270)}],k[4].push({type:2,data:_r(B)}),k[5].push({type:0,data:Sn(X)}),k[6].push({type:0,data:Sn(X)});U[A].messages[0].data=_r(k)}F.content=td(ed(U)),F.size=F.content.length,delete w[46];var J=bn(w[4][0].data);{J[7][0].data=Sn(e.e.r+1);var te=bn(J[1][0].data),ye=Nr(te[2][0].data);F=yt.find(u,s[ye].location),U=Ra(Na(F.content));{if(U[0].id!=ye)throw"Bad HeaderStorageBucket";var De=bn(U[0].messages[0].data);for(X=0;X<a.length;++X){var Ce=bn(De[2][0].data);Ce[1][0].data=Sn(X),Ce[4][0].data=Sn(a[X].length),De[2][X]={type:De[2][0].type,data:_r(Ce)}}U[0].messages[0].data=_r(De)}F.content=td(ed(U)),F.size=F.content.length;var Ve=Nr(J[2][0].data);F=yt.find(u,s[Ve].location),U=Ra(Na(F.content));{if(U[0].id!=Ve)throw"Bad HeaderStorageBucket";for(De=bn(U[0].messages[0].data),I=0;I<=e.e.c;++I)Ce=bn(De[2][0].data),Ce[1][0].data=Sn(I),Ce[4][0].data=Sn(e.e.r+1),De[2][I]={type:De[2][0].type,data:_r(Ce)};U[0].messages[0].data=_r(De)}F.content=td(ed(U)),F.size=F.content.length;var Se=Nr(J[4][0].data);(function(){for(var ne=yt.find(u,s[Se].location),ie=Ra(Na(ne.content)),me,Ae=0;Ae<ie.length;++Ae){var Ie=ie[Ae];Ie.id==Se&&(me=Ie)}var ke=bn(me.messages[0].data);{ke[3]=[];var ve=[];o.forEach(function(ft,et){ve[1]=[{type:0,data:Sn(et)}],ve[2]=[{type:0,data:Sn(1)}],ve[3]=[{type:2,data:IV(ft)}],ke[3].push({type:2,data:_r(ve)})})}me.messages[0].data=_r(ke);var lt=ed(ie),K=td(lt);ne.content=K,ne.size=ne.content.length})();var je=bn(J[3][0].data);{var be=je[1][0];delete je[2];var Te=bn(be.data);{var le=Nr(Te[2][0].data);(function(){for(var ne=yt.find(u,s[le].location),ie=Ra(Na(ne.content)),me,Ae=0;Ae<ie.length;++Ae){var Ie=ie[Ae];Ie.id==le&&(me=Ie)}var ke=bn(me.messages[0].data);{delete ke[6],delete je[7];var ve=new Uint8Array(ke[5][0].data);ke[5]=[];for(var lt=0,K=0;K<=e.e.r;++K){var ft=bn(ve);lt+=WV(ft,a[K],o),ft[1][0].data=Sn(K),ke[5].push({data:_r(ft),type:2})}ke[1]=[{type:0,data:Sn(e.e.c+1)}],ke[2]=[{type:0,data:Sn(e.e.r+1)}],ke[3]=[{type:0,data:Sn(lt)}],ke[4]=[{type:0,data:Sn(e.e.r+1)}]}me.messages[0].data=_r(ke);var et=ed(ie),At=td(et);ne.content=At,ne.size=ne.content.length})()}be.data=_r(Te)}J[3][0].data=_r(je)}w[4][0].data=_r(J)}v.messages[0].data=_r(w);var Q=ed(x),re=td(Q);return _.content=re,_.size=_.content.length,u}function M2(n){return function(i){for(var e=0;e!=n.length;++e){var r=n[e];i[r[0]]===void 0&&(i[r[0]]=r[1]),r[2]==="n"&&(i[r[0]]=Number(i[r[0]]))}}}function $h(n){M2([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(n)}function jh(n){M2([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function XV(n){return qt.WS.indexOf(n)>-1?"sheet":qt.CS&&n==qt.CS?"chart":qt.DS&&n==qt.DS?"dialog":qt.MS&&n==qt.MS?"macro":n&&n.length?n:"sheet"}function qV(n,t){if(!n)return 0;try{n=t.map(function(e){return e.id||(e.id=e.strRelID),[e.name,n["!id"][e.id].Target,XV(n["!id"][e.id].Type)]})}catch{return null}return!n||n.length===0?null:n}function KV(n,t,i,e,r,a,o,s,d,u,m,f){try{a[e]=s0(ba(n,i,!0),t);var _=Vi(n,t),x;switch(s){case"sheet":x=xB(_,t,r,d,a[e],u,m,f);break;case"chart":if(x=CB(_,t,r,d,a[e],u,m,f),!x||!x["!drawel"])break;var v=i0(x["!drawel"].Target,t),b=x0(v),M=a9(ba(n,v,!0),s0(ba(n,b,!0),v)),S=i0(M,v),w=x0(S);x=WL(ba(n,S,!0),S,d,s0(ba(n,w,!0),S),u,x);break;case"macro":x=bB(_,t,r,d,a[e],u,m,f);break;case"dialog":x=vB(_,t,r,d,a[e],u,m,f);break;default:throw new Error("Unrecognized sheet type "+s)}o[e]=x;var T=[];a&&a[e]&&Ci(a[e]).forEach(function(F){var U="";if(a[e][F].Type==qt.CMNT){U=i0(a[e][F].Target,t);var A=OB(Vi(n,U,!0),U,d);if(!A||!A.length)return;ly(x,A,!1)}a[e][F].Type==qt.TCMNT&&(U=i0(a[e][F].Target,t),T=T.concat(s9(Vi(n,U,!0),d)))}),T&&T.length&&ly(x,T,!0,d.people||[])}catch(F){if(d.WTF)throw F}}function Da(n){return n.charAt(0)=="/"?n.slice(1):n}function ZV(n,t){if(pd(),t=t||{},$h(t),La(n,"META-INF/manifest.xml")||La(n,"objectdata.xml"))return by(n,t);if(La(n,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof jf<"u"){if(n.FileIndex)return jf(n);var i=yt.utils.cfb_new();return Ev(n).forEach(function(De){Xt(i,De,zy(n,De))}),jf(i)}throw new Error("Unsupported NUMBERS file")}if(!La(n,"[Content_Types].xml"))throw La(n,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):La(n,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var e=Ev(n),r=tD(ba(n,"[Content_Types].xml")),a=!1,o,s;if(r.workbooks.length===0&&(s="xl/workbook.xml",Vi(n,s,!0)&&r.workbooks.push(s)),r.workbooks.length===0){if(s="xl/workbook.bin",!Vi(n,s,!0))throw new Error("Could not find workbook");r.workbooks.push(s),a=!0}r.workbooks[0].slice(-3)=="bin"&&(a=!0);var d={},u={};if(!t.bookSheets&&!t.bookProps){if(c0=[],r.sst)try{c0=PB(Vi(n,Da(r.sst)),r.sst,t)}catch(De){if(t.WTF)throw De}t.cellStyles&&r.themes.length&&(d=MB(ba(n,r.themes[0].replace(/^\//,""),!0)||"",r.themes[0],t)),r.style&&(u=yB(Vi(n,Da(r.style)),r.style,d,t))}r.links.map(function(De){try{var Ce=s0(ba(n,x0(Da(De))),De);return SB(Vi(n,Da(De)),Ce,De,t)}catch{}});var m=_B(Vi(n,Da(r.workbooks[0])),r.workbooks[0],t),f={},_="";r.coreprops.length&&(_=Vi(n,Da(r.coreprops[0]),!0),_&&(f=gM(_)),r.extprops.length!==0&&(_=Vi(n,Da(r.extprops[0]),!0),_&&cD(_,f,t)));var x={};(!t.bookSheets||t.bookProps)&&r.custprops.length!==0&&(_=ba(n,Da(r.custprops[0]),!0),_&&(x=dD(_,t)));var v={};if((t.bookSheets||t.bookProps)&&(m.Sheets?o=m.Sheets.map(function(Ce){return Ce.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(v.Props=f,v.Custprops=x),t.bookSheets&&typeof o<"u"&&(v.SheetNames=o),t.bookSheets?v.SheetNames:t.bookProps))return v;o={};var b={};t.bookDeps&&r.calcchain&&(b=wB(Vi(n,Da(r.calcchain)),r.calcchain,t));var M=0,S={},w,T;{var F=m.Sheets;f.Worksheets=F.length,f.SheetNames=[];for(var U=0;U!=F.length;++U)f.SheetNames[U]=F[U].name}var A=a?"bin":"xml",k=r.workbooks[0].lastIndexOf("/"),I=(r.workbooks[0].slice(0,k+1)+"_rels/"+r.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");La(n,I)||(I="xl/_rels/workbook."+A+".rels");var B=s0(ba(n,I,!0),I.replace(/_rels.*/,"s5s"));(r.metadata||[]).length>=1&&(t.xlmeta=kB(Vi(n,Da(r.metadata[0])),r.metadata[0],t)),(r.people||[]).length>=1&&(t.people=l9(Vi(n,Da(r.people[0])),t)),B&&(B=qV(B,m.Sheets));var X=Vi(n,"xl/worksheets/sheet.xml",!0)?1:0;e:for(M=0;M!=f.Worksheets;++M){var J="sheet";if(B&&B[M]?(w="xl/"+B[M][1].replace(/[\/]?xl\//,""),La(n,w)||(w=B[M][1]),La(n,w)||(w=I.replace(/_rels\/.*$/,"")+B[M][1]),J=B[M][2]):(w="xl/worksheets/sheet"+(M+1-X)+"."+A,w=w.replace(/sheet0\./,"sheet.")),T=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(M!=t.sheets)continue e;break;case"string":if(f.SheetNames[M].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var te=!1,ye=0;ye!=t.sheets.length;++ye)typeof t.sheets[ye]=="number"&&t.sheets[ye]==M&&(te=1),typeof t.sheets[ye]=="string"&&t.sheets[ye].toLowerCase()==f.SheetNames[M].toLowerCase()&&(te=1);if(!te)continue e}}KV(n,w,T,f.SheetNames[M],M,S,o,J,t,m,d,u)}return v={Directory:r,Workbook:m,Props:f,Custprops:x,Deps:b,Sheets:o,SheetNames:f.SheetNames,Strings:c0,Styles:u,Themes:d,SSF:Hn(St)},t&&t.bookFiles&&(n.files?(v.keys=e,v.files=n.files):(v.keys=[],v.files={},n.FullPaths.forEach(function(De,Ce){De=De.replace(/^Root Entry[\/]/,""),v.keys.push(De),v.files[De]=n.FileIndex[Ce]}))),t&&t.bookVBA&&(r.vba.length>0?v.vbaraw=Vi(n,Da(r.vba[0]),!0):r.defaults&&r.defaults.bin===_9&&(v.vbaraw=Vi(n,"xl/vbaProject.bin",!0))),v}function QV(n,t){var i=t||{},e="Workbook",r=yt.find(n,e);try{if(e="/!DataSpaces/Version",r=yt.find(n,e),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+e);if(kF(r.content),e="/!DataSpaces/DataSpaceMap",r=yt.find(n,e),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+e);var a=EF(r.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+e);if(e="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",r=yt.find(n,e),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+e);var o=AF(r.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+e);if(e="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",r=yt.find(n,e),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+e);DF(r.content)}catch{}if(e="/EncryptionInfo",r=yt.find(n,e),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+e);var s=FF(r.content);if(e="/EncryptedPackage",r=yt.find(n,e),!r||!r.content)throw new Error("ECMA-376 Encrypted file missing "+e);if(s[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(s[1],r.content,i.password||"",i);if(s[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(s[1],r.content,i.password||"",i);throw new Error("File is password-protected")}function JV(n,t){return t.bookType=="ods"?y2(n,t):t.bookType=="numbers"?HV(n,t):t.bookType=="xlsb"?e$(n,t):t$(n,t)}function e$(n,t){rd=1024,n&&!n.SSF&&(n.SSF=Hn(St)),n&&n.SSF&&(pd(),Ym(n.SSF),t.revssf=Gm(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,l0?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var i=t.bookType=="xlsb"?"bin":"xml",e=KM.indexOf(t.bookType)>-1,r=wh();jh(t=t||{});var a=ch(),o="",s=0;if(t.cellXfs=[],lc(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Xt(a,o,uM(n.Props,t)),r.coreprops.push(o),kn(t.rels,2,o,qt.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var d=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&d.push(n.SheetNames[u]);n.Props.SheetNames=d}for(n.Props.Worksheets=n.Props.SheetNames.length,Xt(a,o,fM(n.Props,t)),r.extprops.push(o),kn(t.rels,3,o,qt.EXT_PROPS),n.Custprops!==n.Props&&Ci(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Xt(a,o,hM(n.Custprops,t)),r.custprops.push(o),kn(t.rels,4,o,qt.CUST_PROPS)),s=1;s<=n.SheetNames.length;++s){var m={"!id":{}},f=n.Sheets[n.SheetNames[s-1]],_=(f||{})["!type"]||"sheet";switch(_){case"chart":default:o="xl/worksheets/sheet"+s+"."+i,Xt(a,o,EB(s-1,o,t,n,m)),r.sheets.push(o),kn(t.wbrels,-1,"worksheets/sheet"+s+"."+i,qt.WS[0])}if(f){var x=f["!comments"],v=!1,b="";x&&x.length>0&&(b="xl/comments"+s+"."+i,Xt(a,b,DB(x,b,t)),r.comments.push(b),kn(m,-1,"../comments"+s+"."+i,qt.CMNT),v=!0),f["!legacy"]&&v&&Xt(a,"xl/drawings/vmlDrawing"+s+".vml",XM(s,f["!comments"])),delete f["!comments"],delete f["!legacy"]}m["!id"].rId1&&Xt(a,x0(o),od(m))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+i,Xt(a,o,IB(t.Strings,o,t)),r.strs.push(o),kn(t.wbrels,-1,"sharedStrings."+i,qt.SST)),o="xl/workbook."+i,Xt(a,o,TB(n,o,t)),r.workbooks.push(o),kn(t.rels,1,o,qt.WB),o="xl/theme/theme1.xml",Xt(a,o,Ih(n.Themes,t)),r.themes.push(o),kn(t.wbrels,-1,"theme/theme1.xml",qt.THEME),o="xl/styles."+i,Xt(a,o,AB(n,o,t)),r.styles.push(o),kn(t.wbrels,-1,"styles."+i,qt.STY),n.vbaraw&&e&&(o="xl/vbaProject.bin",Xt(a,o,n.vbaraw),r.vba.push(o),kn(t.wbrels,-1,"vbaProject.bin",qt.VBA)),o="xl/metadata."+i,Xt(a,o,FB(o)),r.metadata.push(o),kn(t.wbrels,-1,"metadata."+i,qt.XLMETA),Xt(a,"[Content_Types].xml",lM(r,t)),Xt(a,"_rels/.rels",od(t.rels)),Xt(a,"xl/_rels/workbook."+i+".rels",od(t.wbrels)),delete t.revssf,delete t.ssf,a}function t$(n,t){rd=1024,n&&!n.SSF&&(n.SSF=Hn(St)),n&&n.SSF&&(pd(),Ym(n.SSF),t.revssf=Gm(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,l0?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var i="xml",e=KM.indexOf(t.bookType)>-1,r=wh();jh(t=t||{});var a=ch(),o="",s=0;if(t.cellXfs=[],lc(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Xt(a,o,uM(n.Props,t)),r.coreprops.push(o),kn(t.rels,2,o,qt.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var d=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&d.push(n.SheetNames[u]);n.Props.SheetNames=d}n.Props.Worksheets=n.Props.SheetNames.length,Xt(a,o,fM(n.Props,t)),r.extprops.push(o),kn(t.rels,3,o,qt.EXT_PROPS),n.Custprops!==n.Props&&Ci(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Xt(a,o,hM(n.Custprops,t)),r.custprops.push(o),kn(t.rels,4,o,qt.CUST_PROPS));var m=["SheetJ5"];for(t.tcid=0,s=1;s<=n.SheetNames.length;++s){var f={"!id":{}},_=n.Sheets[n.SheetNames[s-1]],x=(_||{})["!type"]||"sheet";switch(x){case"chart":default:o="xl/worksheets/sheet"+s+"."+i,Xt(a,o,s2(s-1,t,n,f)),r.sheets.push(o),kn(t.wbrels,-1,"worksheets/sheet"+s+"."+i,qt.WS[0])}if(_){var v=_["!comments"],b=!1,M="";if(v&&v.length>0){var S=!1;v.forEach(function(w){w[1].forEach(function(T){T.T==!0&&(S=!0)})}),S&&(M="xl/threadedComments/threadedComment"+s+"."+i,Xt(a,M,c9(v,m,t)),r.threadedcomments.push(M),kn(f,-1,"../threadedComments/threadedComment"+s+"."+i,qt.TCMNT)),M="xl/comments"+s+"."+i,Xt(a,M,qM(v,t)),r.comments.push(M),kn(f,-1,"../comments"+s+"."+i,qt.CMNT),b=!0}_["!legacy"]&&b&&Xt(a,"xl/drawings/vmlDrawing"+s+".vml",XM(s,_["!comments"])),delete _["!comments"],delete _["!legacy"]}f["!id"].rId1&&Xt(a,x0(o),od(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+i,Xt(a,o,NM(t.Strings,t)),r.strs.push(o),kn(t.wbrels,-1,"sharedStrings."+i,qt.SST)),o="xl/workbook."+i,Xt(a,o,u2(n,t)),r.workbooks.push(o),kn(t.rels,1,o,qt.WB),o="xl/theme/theme1.xml",Xt(a,o,Ih(n.Themes,t)),r.themes.push(o),kn(t.wbrels,-1,"theme/theme1.xml",qt.THEME),o="xl/styles."+i,Xt(a,o,UM(n,t)),r.styles.push(o),kn(t.wbrels,-1,"styles."+i,qt.STY),n.vbaraw&&e&&(o="xl/vbaProject.bin",Xt(a,o,n.vbaraw),r.vba.push(o),kn(t.wbrels,-1,"vbaProject.bin",qt.VBA)),o="xl/metadata."+i,Xt(a,o,HM()),r.metadata.push(o),kn(t.wbrels,-1,"metadata."+i,qt.XLMETA),m.length>1&&(o="xl/persons/person.xml",Xt(a,o,d9(m,t)),r.people.push(o),kn(t.wbrels,-1,"persons/person.xml",qt.PEOPLE)),Xt(a,"[Content_Types].xml",lM(r,t)),Xt(a,"_rels/.rels",od(t.rels)),Xt(a,"xl/_rels/workbook."+i+".rels",od(t.wbrels)),delete t.revssf,delete t.ssf,a}function zh(n,t){var i="";switch((t||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":i=va(n.slice(0,12));break;case"binary":i=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[i.charCodeAt(0),i.charCodeAt(1),i.charCodeAt(2),i.charCodeAt(3),i.charCodeAt(4),i.charCodeAt(5),i.charCodeAt(6),i.charCodeAt(7)]}function n$(n,t){return yt.find(n,"EncryptedPackage")?QV(n,t):h2(n,t)}function i$(n,t){var i,e=n,r=t||{};return r.type||(r.type=rn&&Buffer.isBuffer(n)?"buffer":"base64"),i=Yy(e,r),ZV(i,r)}function P2(n,t){var i=0;e:for(;i<n.length;)switch(n.charCodeAt(i)){case 10:case 13:case 32:++i;break;case 60:return Qf(n.slice(i),t);default:break e}return gd.to_workbook(n,t)}function r$(n,t){var i="",e=zh(n,t);switch(t.type){case"base64":i=va(n);break;case"binary":i=n;break;case"buffer":i=n.toString("binary");break;case"array":i=Nc(n);break;default:throw new Error("Unrecognized type "+t.type)}return e[0]==239&&e[1]==187&&e[2]==191&&(i=An(i)),t.type="binary",P2(i,t)}function a$(n,t){var i=n;return t.type=="base64"&&(i=va(i)),i=Pn.utils.decode(1200,i.slice(2),"str"),t.type="binary",P2(i,t)}function o$(n){return n.match(/[^\x00-\x7F]/)?Vo(n):n}function zf(n,t,i,e){return e?(i.type="string",gd.to_workbook(n,i)):gd.to_workbook(t,i)}function $m(n,t){ih();var i=t||{};if(typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer)return $m(new Uint8Array(n),(i=Hn(i),i.type="array",i));typeof Uint8Array<"u"&&n instanceof Uint8Array&&!i.type&&(i.type=typeof Deno<"u"?"buffer":"array");var e=n,r=[0,0,0,0],a=!1;if(i.cellStyles&&(i.cellNF=!0,i.sheetStubs=!0),cd={},i.dateNF&&(cd.dateNF=i.dateNF),i.type||(i.type=rn&&Buffer.isBuffer(n)?"buffer":"base64"),i.type=="file"&&(i.type=rn?"buffer":"binary",e=eI(n),typeof Uint8Array<"u"&&!rn&&(i.type="array")),i.type=="string"&&(a=!0,i.type="binary",i.codepage=65001,e=o$(n)),i.type=="array"&&typeof Uint8Array<"u"&&n instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),s=new Uint8Array(o);if(s.foo="bar",!s.foo)return i=Hn(i),i.type="array",$m(rh(e),i)}switch((r=zh(e,i))[0]){case 208:if(r[1]===207&&r[2]===17&&r[3]===224&&r[4]===161&&r[5]===177&&r[6]===26&&r[7]===225)return n$(yt.read(e,i),i);break;case 9:if(r[1]<=8)return h2(e,i);break;case 60:return Qf(e,i);case 73:if(r[1]===73&&r[2]===42&&r[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(r[1]===68)return gF(e,i);break;case 84:if(r[1]===65&&r[2]===66&&r[3]===76)return FM.to_workbook(e,i);break;case 80:return r[1]===75&&r[2]<9&&r[3]<9?i$(e,i):zf(n,e,i,a);case 239:return r[3]===60?Qf(e,i):zf(n,e,i,a);case 255:if(r[1]===254)return a$(e,i);if(r[1]===0&&r[2]===2&&r[3]===0)return Dc.to_workbook(e,i);break;case 0:if(r[1]===0&&(r[2]>=2&&r[3]===0||r[2]===0&&(r[3]===8||r[3]===9)))return Dc.to_workbook(e,i);break;case 3:case 131:case 139:case 140:return Zf.to_workbook(e,i);case 123:if(r[1]===92&&r[2]===114&&r[3]===116)return jM.to_workbook(e,i);break;case 10:case 13:case 32:return r$(e,i);case 137:if(r[1]===80&&r[2]===78&&r[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return dF.indexOf(r[0])>-1&&r[2]<=12&&r[3]<=31?Zf.to_workbook(e,i):zf(n,e,i,a)}function O2(n,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return w0(t.file,yt.write(n,{type:rn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return yt.write(n,t)}function s$(n,t){var i=Hn(t||{}),e=JV(n,i);return c$(e,i)}function c$(n,t){var i={},e=rn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(i.compression="DEFLATE"),t.password)i.type=e;else switch(t.type){case"base64":i.type="base64";break;case"binary":i.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":i.type=e;break;default:throw new Error("Unrecognized type "+t.type)}var r=n.FullPaths?yt.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[i.type]||i.type,compression:!!t.compression}):n.generate(i);if(typeof Deno<"u"&&typeof r=="string"){if(t.type=="binary"||t.type=="base64")return r;r=new Uint8Array(zm(r))}return t.password&&typeof encrypt_agile<"u"?O2(encrypt_agile(r,t.password),t):t.type==="file"?w0(t.file,r):t.type=="string"?An(r):r}function l$(n,t){var i=t||{},e=oV(n,i);return O2(e,i)}function Bo(n,t,i){i||(i="");var e=i+n;switch(t.type){case"base64":return m0(Vo(e));case"binary":return Vo(e);case"string":return n;case"file":return w0(t.file,e,"utf8");case"buffer":return rn?fs(e,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(e):Bo(e,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function d$(n,t){switch(t.type){case"base64":return m0(n);case"binary":return n;case"string":return n;case"file":return w0(t.file,n,"binary");case"buffer":return rn?fs(n,"binary"):n.split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function km(n,t){switch(t.type){case"string":case"base64":case"binary":for(var i="",e=0;e<n.length;++e)i+=String.fromCharCode(n[e]);return t.type=="base64"?m0(i):t.type=="string"?An(i):i;case"file":return w0(t.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+t.type)}}function Yh(n,t){ih(),nB(n);var i=Hn(t||{});if(i.cellStyles&&(i.cellNF=!0,i.sheetStubs=!0),i.type=="array"){i.type="binary";var e=Yh(n,i);return i.type="array",zm(e)}var r=0;if(i.sheet&&(typeof i.sheet=="number"?r=i.sheet:r=n.SheetNames.indexOf(i.sheet),!n.SheetNames[r]))throw new Error("Sheet not found: "+i.sheet+" : "+typeof i.sheet);switch(i.bookType||"xlsb"){case"xml":case"xlml":return Bo(JB(n,i),i);case"slk":case"sylk":return Bo(DM.from_sheet(n.Sheets[n.SheetNames[r]],i),i);case"htm":case"html":return Bo(x2(n.Sheets[n.SheetNames[r]],i),i);case"txt":return d$(w2(n.Sheets[n.SheetNames[r]],i),i);case"csv":return Bo(Uh(n.Sheets[n.SheetNames[r]],i),i,"\uFEFF");case"dif":return Bo(FM.from_sheet(n.Sheets[n.SheetNames[r]],i),i);case"dbf":return km(Zf.from_sheet(n.Sheets[n.SheetNames[r]],i),i);case"prn":return Bo(gd.from_sheet(n.Sheets[n.SheetNames[r]],i),i);case"rtf":return Bo(jM.from_sheet(n.Sheets[n.SheetNames[r]],i),i);case"eth":return Bo(RM.from_sheet(n.Sheets[n.SheetNames[r]],i),i);case"fods":return Bo(y2(n,i),i);case"wk1":return km(Dc.sheet_to_wk1(n.Sheets[n.SheetNames[r]],i),i);case"wk3":return km(Dc.book_to_wk3(n,i),i);case"biff2":i.biff||(i.biff=2);case"biff3":i.biff||(i.biff=3);case"biff4":return i.biff||(i.biff=4),km(_2(n,i),i);case"biff5":i.biff||(i.biff=5);case"biff8":case"xla":case"xls":return i.biff||(i.biff=8),l$(n,i);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return s$(n,i);default:throw new Error("Unrecognized bookType |"+i.bookType+"|")}}function g$(n,t,i,e,r,a,o,s){var d=Mi(i),u=s.defval,m=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),f=!0,_=r===1?[]:{};if(r!==1)if(Object.defineProperty)try{Object.defineProperty(_,"__rowNum__",{value:i,enumerable:!1})}catch{_.__rowNum__=i}else _.__rowNum__=i;if(!o||n[i])for(var x=t.s.c;x<=t.e.c;++x){var v=o?n[i][x]:n[e[x]+d];if(v===void 0||v.t===void 0){if(u===void 0)continue;a[x]!=null&&(_[a[x]]=u);continue}var b=v.v;switch(v.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(a[x]!=null){if(b==null)if(v.t=="e"&&b===null)_[a[x]]=null;else if(u!==void 0)_[a[x]]=u;else if(m&&b===null)_[a[x]]=null;else continue;else _[a[x]]=m&&(v.t!=="n"||v.t==="n"&&s.rawNumbers!==!1)?b:ps(v,b,s);b!=null&&(f=!1)}}return{row:_,isempty:f}}function jm(n,t){if(n==null||n["!ref"]==null)return[];var i={t:"n",v:0},e=0,r=1,a=[],o=0,s="",d={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},m=u.range!=null?u.range:n["!ref"];switch(u.header===1?e=1:u.header==="A"?e=2:Array.isArray(u.header)?e=3:u.header==null&&(e=0),typeof m){case"string":d=pn(m);break;case"number":d=pn(n["!ref"]),d.s.r=m;break;default:d=m}e>0&&(r=0);var f=Mi(d.s.r),_=[],x=[],v=0,b=0,M=Array.isArray(n),S=d.s.r,w=0,T={};M&&!n[S]&&(n[S]=[]);var F=u.skipHidden&&n["!cols"]||[],U=u.skipHidden&&n["!rows"]||[];for(w=d.s.c;w<=d.e.c;++w)if(!(F[w]||{}).hidden)switch(_[w]=ai(w),i=M?n[S][w]:n[_[w]+f],e){case 1:a[w]=w-d.s.c;break;case 2:a[w]=_[w];break;case 3:a[w]=u.header[w-d.s.c];break;default:if(i==null&&(i={w:"__EMPTY",t:"s"}),s=o=ps(i,null,u),b=T[o]||0,!b)T[o]=1;else{do s=o+"_"+b++;while(T[s]);T[o]=b,T[s]=1}a[w]=s}for(S=d.s.r+r;S<=d.e.r;++S)if(!(U[S]||{}).hidden){var A=g$(n,d,S,_,e,a,M,u);(A.isempty===!1||(e===1?u.blankrows!==!1:u.blankrows))&&(x[v++]=A.row)}return x.length=v,x}var Oy=/"/g;function u$(n,t,i,e,r,a,o,s){for(var d=!0,u=[],m="",f=Mi(i),_=t.s.c;_<=t.e.c;++_)if(e[_]){var x=s.dense?(n[i]||[])[_]:n[e[_]+f];if(x==null)m="";else if(x.v!=null){d=!1,m=""+(s.rawNumbers&&x.t=="n"?x.v:ps(x,null,s));for(var v=0,b=0;v!==m.length;++v)if((b=m.charCodeAt(v))===r||b===a||b===34||s.forceQuotes){m='"'+m.replace(Oy,'""')+'"';break}m=="ID"&&(m='"ID"')}else x.f!=null&&!x.F?(d=!1,m="="+x.f,m.indexOf(",")>=0&&(m='"'+m.replace(Oy,'""')+'"')):m="";u.push(m)}return s.blankrows===!1&&d?null:u.join(o)}function Uh(n,t){var i=[],e=t==null?{}:t;if(n==null||n["!ref"]==null)return"";var r=pn(n["!ref"]),a=e.FS!==void 0?e.FS:",",o=a.charCodeAt(0),s=e.RS!==void 0?e.RS:`
`,d=s.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),m="",f=[];e.dense=Array.isArray(n);for(var _=e.skipHidden&&n["!cols"]||[],x=e.skipHidden&&n["!rows"]||[],v=r.s.c;v<=r.e.c;++v)(_[v]||{}).hidden||(f[v]=ai(v));for(var b=0,M=r.s.r;M<=r.e.r;++M)(x[M]||{}).hidden||(m=u$(n,r,M,f,o,d,a,e),m!=null&&(e.strip&&(m=m.replace(u,"")),(m||e.blankrows!==!1)&&i.push((b++?s:"")+m)));return delete e.dense,i.join("")}function w2(n,t){t||(t={}),t.FS="	",t.RS=`
`;var i=Uh(n,t);if(typeof Pn>"u"||t.type=="string")return i;var e=Pn.utils.encode(1200,i,"str");return"\xFF\xFE"+e}function m$(n){var t="",i,e="";if(n==null||n["!ref"]==null)return[];var r=pn(n["!ref"]),a="",o=[],s,d=[],u=Array.isArray(n);for(s=r.s.c;s<=r.e.c;++s)o[s]=ai(s);for(var m=r.s.r;m<=r.e.r;++m)for(a=Mi(m),s=r.s.c;s<=r.e.c;++s)if(t=o[s]+a,i=u?(n[m]||[])[s]:n[t],e="",i!==void 0){if(i.F!=null){if(t=i.F,!i.f)continue;e=i.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(i.f!=null)e=i.f;else{if(i.t=="z")continue;if(i.t=="n"&&i.v!=null)e=""+i.v;else if(i.t=="b")e=i.v?"TRUE":"FALSE";else if(i.w!==void 0)e="'"+i.w;else{if(i.v===void 0)continue;i.t=="s"?e="'"+i.v:e=""+i.v}}d[d.length]=t+"="+e}return d}function S2(n,t,i){var e=i||{},r=+!e.skipHeader,a=n||{},o=0,s=0;if(a&&e.origin!=null)if(typeof e.origin=="number")o=e.origin;else{var d=typeof e.origin=="string"?oi(e.origin):e.origin;o=d.r,s=d.c}var u,m={s:{c:0,r:0},e:{c:s,r:o+t.length-1+r}};if(a["!ref"]){var f=pn(a["!ref"]);m.e.c=Math.max(m.e.c,f.e.c),m.e.r=Math.max(m.e.r,f.e.r),o==-1&&(o=f.e.r+1,m.e.r=o+t.length-1+r)}else o==-1&&(o=0,m.e.r=t.length-1+r);var _=e.header||[],x=0;t.forEach(function(b,M){Ci(b).forEach(function(S){(x=_.indexOf(S))==-1&&(_[x=_.length]=S);var w=b[S],T="z",F="",U=Et({c:s+x,r:o+M+r});u=O0(a,U),w&&typeof w=="object"&&!(w instanceof Date)?a[U]=w:(typeof w=="number"?T="n":typeof w=="boolean"?T="b":typeof w=="string"?T="s":w instanceof Date?(T="d",e.cellDates||(T="n",w=Xi(w)),F=e.dateNF||St[14]):w===null&&e.nullError&&(T="e",w=0),u?(u.t=T,u.v=w,delete u.w,delete u.R,F&&(u.z=F)):a[U]=u={t:T,v:w},F&&(u.z=F))})}),m.e.c=Math.max(m.e.c,s+_.length-1);var v=Mi(o);if(r)for(x=0;x<_.length;++x)a[ai(x+s)+v]={t:"s",v:_[x]};return a["!ref"]=Gt(m),a}function p$(n,t){return S2(null,n,t)}function O0(n,t,i){if(typeof t=="string"){if(Array.isArray(n)){var e=oi(t);return n[e.r]||(n[e.r]=[]),n[e.r][e.c]||(n[e.r][e.c]={t:"z"})}return n[t]||(n[t]={t:"z"})}return typeof t!="number"?O0(n,Et(t)):O0(n,Et({r:t,c:i||0}))}function f$(n,t){if(typeof t=="number"){if(t>=0&&n.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var i=n.SheetNames.indexOf(t);if(i>-1)return i;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Gh(){return{SheetNames:[],Sheets:{}}}function Wh(n,t,i,e){var r=1;if(!i)for(;r<=65535&&n.SheetNames.indexOf(i="Sheet"+r)!=-1;++r,i=void 0);if(!i||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(e&&n.SheetNames.indexOf(i)>=0){var a=i.match(/(^.*?)(\d+)$/);r=a&&+a[2]||0;var o=a&&a[1]||i;for(++r;r<=65535&&n.SheetNames.indexOf(i=o+r)!=-1;++r);}if(g2(i),n.SheetNames.indexOf(i)>=0)throw new Error("Worksheet with name |"+i+"| already exists!");return n.SheetNames.push(i),n.Sheets[i]=t,i}function h$(n,t,i){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var e=f$(n,t);switch(n.Workbook.Sheets[e]||(n.Workbook.Sheets[e]={}),i){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+i)}n.Workbook.Sheets[e].Hidden=i}function _$(n,t){return n.z=t,n}function k2(n,t,i){return t?(n.l={Target:t},i&&(n.l.Tooltip=i)):delete n.l,n}function x$(n,t,i){return k2(n,"#"+t,i)}function C$(n,t,i){n.c||(n.c=[]),n.c.push({t,a:i||"SheetJS"})}function b$(n,t,i,e){for(var r=typeof t!="string"?t:pn(t),a=typeof t=="string"?t:Gt(t),o=r.s.r;o<=r.e.r;++o)for(var s=r.s.c;s<=r.e.c;++s){var d=O0(n,o,s);d.t="n",d.F=a,delete d.v,o==r.s.r&&s==r.s.c&&(d.f=i,e&&(d.D=!0))}return n}var dc={encode_col:ai,encode_row:Mi,encode_cell:Et,encode_range:Gt,decode_col:bh,decode_row:Ch,split_cell:II,decode_cell:oi,decode_range:la,format_cell:ps,sheet_add_aoa:nM,sheet_add_json:S2,sheet_add_dom:C2,aoa_to_sheet:hd,json_to_sheet:p$,table_to_sheet:b2,table_to_book:kV,sheet_to_csv:Uh,sheet_to_txt:w2,sheet_to_json:jm,sheet_to_html:x2,sheet_to_formulae:m$,sheet_to_row_object_array:jm,sheet_get_cell:O0,book_new:Gh,book_append_sheet:Wh,book_set_sheet_visibility:h$,cell_set_number_format:_$,cell_set_hyperlink:k2,cell_set_internal_link:x$,cell_add_comment:C$,sheet_set_array_formula:b$,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var oee=u0.version;var y$=["fileUploadContainer"],M$=(n,t)=>t.accountId,P$=(n,t)=>t.id;function O$(n,t){if(n&1&&(c(0,"mat-option",18),g(1),l()),n&2){let i=t.$implicit;O("value",i.accountId),p(),Wt(" ",i.name," (",i.type,") ")}}function w$(n,t){if(n&1){let i=ue();c(0,"div",13)(1,"div",14)(2,"div",15)(3,"label",16),g(4,"Default Account"),l(),c(5,"mat-select",17),ut("valueChange",function(r){j(i);let a=y();return gt(a.defaultAccountId,r)||(a.defaultAccountId=r),z(r)}),qe(6,O$,2,3,"mat-option",18,M$),l()()()()}if(n&2){let i=y();p(5),dt("value",i.defaultAccountId),p(),Ke(i.accounts)}}function S$(n,t){if(n&1){let i=ue();c(0,"div",19)(1,"button",20),R("click",function(){j(i);let r=y();return z(r.downloadTemplate())}),c(2,"mat-icon"),g(3,"download"),l(),g(4," Download Excel Template "),l()()}}function k$(n,t){if(n&1&&(c(0,"div",30)(1,"mat-icon",31),g(2,"file_present"),l(),g(3),l()),n&2){let i=y(2);p(3),Wt(" ",i.selectedFile.name," (",i.fileType,") ")}}function T$(n,t){if(n&1&&(c(0,"div",32)(1,"mat-icon",33),g(2,"error"),l(),c(3,"span",34),g(4),l()()),n&2){let i=y(2);p(4),V(i.error)}}function E$(n,t){if(n&1){let i=ue();c(0,"div",21)(1,"div",22,0)(3,"input",23),R("change",function(r){j(i);let a=y();return z(a.onFileSelected(r))}),l(),c(4,"div",24)(5,"mat-icon",25),g(6,"cloud_upload"),l(),c(7,"p",26),g(8),l(),c(9,"p",27),g(10,"Supports Excel (XLSX, XLS) files only"),l(),L(11,k$,4,2,"div",28),l()(),L(12,T$,5,1,"div",29),l()}if(n&2){let i=y();p(),Ue("drag-over",i.isDragOver),p(2),O("disabled",i.isLoading),p(5),ee(" ",i.isLoading?"Processing...":"Click to select file or drag and drop"," "),p(3),O("ngIf",i.selectedFile),p(),O("ngIf",i.error)}}function A$(n,t){n&1&&(c(0,"div",35),oe(1,"mat-spinner",36),c(2,"p",37),g(3,"Processing file..."),l()())}function I$(n,t){n&1&&(c(0,"div",49)(1,"div",50)(2,"mat-icon",51),g(3,"info"),l(),c(4,"span",52),g(5," Data imported from Google Sheets. Review and select the transactions you want to import into your account. "),l()()())}function D$(n,t){if(n&1&&(c(0,"mat-option",18)(1,"div",62)(2,"span",63),g(3),l()()()),n&2){let i=t.$implicit;O("value",i.id+"-"+i.name),p(3),V(i.name)}}function F$(n,t){if(n&1){let i=ue();c(0,"tr",48)(1,"td",46)(2,"mat-checkbox",53),R("change",function(){let r=j(i).$index,a=y(2);return z(a.toggleSelect(r))}),l()(),c(3,"td",54)(4,"span"),g(5),se(6,"number"),l()(),c(7,"td",55),g(8),l(),c(9,"td",56)(10,"span",57),g(11),l()(),c(12,"td",58)(13,"mat-select",59),R("selectionChange",function(r){let a=j(i).$index,o=y(2);return z(o.updateCategory(a,r.value))}),c(14,"mat-option"),oe(15,"ngx-mat-select-search",60),l(),qe(16,D$,4,2,"mat-option",18,P$),se(18,"async"),l()(),c(19,"td",61),g(20),se(21,"date"),l()()}if(n&2){let i=t.$implicit,e=t.$index,r=y(2);p(2),O("checked",r.selectedToImport.has(e)),p(2),Ue("income",i.type==="income")("expense",i.type==="expense"),p(),Wt(" ",i.type==="income"?"+":"-","\u20B9",vt(6,16,i.amount,"1.2-2")," "),p(3),V(i.description),p(2),Ue("income",i.type==="income")("expense",i.type==="expense"),p(),ee(" ",i.type," "),p(2),O("value",i.categoryId+"-"+i.category),p(2),O("formControl",r.categoryFilterCtrl),p(),Ke(pe(18,19,r.filteredCategories)),p(4),V(vt(21,21,i.date,"dd MMM yyyy"))}}function R$(n,t){if(n&1){let i=ue();c(0,"div",38),L(1,I$,6,0,"div",39),c(2,"div",40)(3,"h3",41),g(4),l(),c(5,"div",42)(6,"button",43),R("click",function(){j(i);let r=y();return z(r.toggleSelectAll())}),g(7),l(),c(8,"span",26),g(9),l()()(),c(10,"div",44)(11,"table",45)(12,"thead")(13,"tr")(14,"th",46)(15,"mat-checkbox",47),R("change",function(){j(i);let r=y();return z(r.toggleSelectAll())}),l()(),c(16,"th"),g(17,"Amount"),l(),c(18,"th"),g(19,"Description"),l(),c(20,"th"),g(21,"Type"),l(),c(22,"th"),g(23,"Category"),l(),c(24,"th"),g(25,"Date"),l()()(),c(26,"tbody"),qe(27,F$,22,24,"tr",48,W_),l()()()()}if(n&2){let i=y();p(),O("ngIf",i.data==null?null:i.data.transactions),p(3),ee(" ",i.data.transactions?"Google Sheets Data Preview":"Preview & Select Transactions"," "),p(3),ee(" ",i.selectedToImport.size===i.parsedTransactions.length?"Deselect All":"Select All"," "),p(2),Wt(" ",i.selectedToImport.size," of ",i.parsedTransactions.length," selected "),p(6),O("checked",i.selectedToImport.size===i.parsedTransactions.length)("indeterminate",i.selectedToImport.size>0&&i.selectedToImport.size<i.parsedTransactions.length),p(12),Ke(i.parsedTransactions)}}var xd=(()=>{let t=class t{constructor(e,r,a,o,s,d){this.dialogRef=e,this.data=r,this.notificationService=a,this.auth=o,this.store=s,this.ssrService=d,this.selectedFile=null,this.parsedTransactions=[],this.selectedToImport=new Set,this.error="",this.isLoading=!1,this.isDragOver=!1,this.fileType="",this.accounts=[],this.categories$=_t([]),this.categories=[],this.defaultAccountId="",this.categoryFilterCtrl=new cl,this.filteredCategories=new Qo(1),this._onDestroy=new It,this.categories=this.data.categories,this.setupDragAndDrop(),this.loadAccountsAndCategories(),this.categories$.subscribe(u=>{this.filteredCategories.next(u.slice())}),this.categoryFilterCtrl.valueChanges.pipe(bt(this._onDestroy)).subscribe(()=>{this.filterCategories()}),r&&r.transactions&&Array.isArray(r.transactions)&&(this.parsedTransactions=this.setCategory(r.transactions),this.selectedToImport=new Set(this.parsedTransactions.map((u,m)=>m)),this.notificationService.success(`Loaded ${this.parsedTransactions.length} transactions from Google Sheets`))}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}filterCategories(){this.categories$&&this.categories$.pipe(yr(1)).subscribe(e=>{let r=this.categoryFilterCtrl.value;if(r)r=r.toLowerCase();else{this.filteredCategories.next(e.slice());return}let a=e.filter(o=>o.name.toLowerCase().indexOf(r)>-1);this.filteredCategories.next(a)})}loadAccountsAndCategories(){return ge(this,null,function*(){var r;if((r=this.auth.currentUser)!=null&&r.uid)try{this.store.select(Ta).subscribe(a=>{this.accounts=a,a.length>0&&(this.defaultAccountId=a[0].accountId)}),this.categories$=this.store.select(gn)}catch(a){console.error("Error loading accounts and categories:",a)}})}updateCategory(e,r){e!==-1&&(this.parsedTransactions[e].categoryId=r.split("-")[0],this.parsedTransactions[e].category=r.split("-")[1])}setupDragAndDrop(){var r;let e=(r=this.fileUploadContainer)==null?void 0:r.nativeElement;e&&(e.addEventListener("dragover",a=>{a.preventDefault(),a.stopPropagation(),this.isDragOver=!0}),e.addEventListener("dragleave",a=>{a.preventDefault(),a.stopPropagation(),this.isDragOver=!1}),e.addEventListener("drop",a=>{var s;a.preventDefault(),a.stopPropagation(),this.isDragOver=!1;let o=(s=a.dataTransfer)==null?void 0:s.files;o&&o.length>0&&this.handleFile(o[0])}))}onFileSelected(e){let r=e.target.files[0];r&&this.handleFile(r)}handleFile(e){if(!e){this.notificationService.warning("Please select a file");return}let r=[".xlsx",".xls"],a=e.name.toLowerCase().substring(e.name.lastIndexOf("."));if(!r.includes(a)){this.notificationService.error("Please select an Excel file (XLSX or XLS)");return}this.selectedFile=e,this.fileType=a.toUpperCase(),this.error="",this.isLoading=!0,this.notificationService.info(`Processing ${this.fileType} file...`),this.parseExcelFile(e)}parseExcelFile(e){let r=new FileReader;r.onload=a=>{try{let o=new Uint8Array(a.target.result),s=$m(o,{type:"array"});if(s.SheetNames.length===0){this.isLoading=!1,this.error="Excel file contains no sheets.",this.notificationService.error("No sheets found in Excel file");return}let d=s.SheetNames[0],u=s.Sheets[d],m=dc.sheet_to_json(u,{header:1});if(m.length<2){this.isLoading=!1,this.error="Excel file is empty or has no data rows.",this.notificationService.error("No data found in Excel file");return}let f=m[0],_=m.slice(1);if(!f||f.length===0){this.isLoading=!1,this.error="Excel file must have a header row.",this.notificationService.error("Invalid Excel format - missing headers");return}let x=dc.sheet_to_json(u,{defval:"",raw:!0});if(x.length===0){this.isLoading=!1,this.error="No valid data rows found in Excel file.",this.notificationService.error("No valid data in Excel file");return}this.isLoading=!1,this.processParsedData(x),this.notificationService.success(`Successfully parsed ${this.parsedTransactions.length} transactions from Excel file`)}catch(o){this.isLoading=!1,this.error="Error parsing Excel file. Please check the format.",this.notificationService.error("Failed to parse Excel file"),console.error("Excel parsing error:",o)}},r.onerror=()=>{this.isLoading=!1,this.error="Error reading Excel file.",this.notificationService.error("Failed to read Excel file")},r.readAsArrayBuffer(e)}processParsedData(e){if(!e||e.length===0){this.error="No valid data found in the file.",this.notificationService.error("No transactions found in the file");return}if(this.parseStandardFormat(e),this.parsedTransactions.length===0){this.error="No valid transactions found in the file.",this.notificationService.error("No valid transactions found");return}this.selectedToImport=new Set(this.parsedTransactions.map((r,a)=>a))}parseStandardFormat(e){this.parsedTransactions=e.map(r=>({type:(r.type||r.Type||r.TYPE||"expense").toLowerCase(),category:r.category||r.Category||r.CATEGORY||"Other",date:r.date||r.Date||r.DATE||new Date().toISOString().split("T")[0],description:r.description||r.Description||r.DESCRIPTION||r.payee||r.Payee||r.PAYEE||"",amount:parseFloat(r.amount||r.Amount||r.AMOUNT||"0")}))}toggleSelect(e){this.selectedToImport.has(e)?this.selectedToImport.delete(e):this.selectedToImport.add(e)}toggleSelectAll(){this.selectedToImport.size===this.parsedTransactions.length?this.selectedToImport.clear():this.selectedToImport=new Set(this.parsedTransactions.map((e,r)=>r))}downloadTemplate(){try{if(this.ssrService.isClientSide()){let e=[["Payee","Amount","Type","Category","Date","Notes"],["Salary Payment",5e4,"income","Salary","2024-01-15","Monthly salary"]],r=dc.aoa_to_sheet(e);r["!cols"]=[{width:20},{width:12},{width:10},{width:18},{width:12},{width:25}];let a=dc.book_new();dc.book_append_sheet(a,r,"Transactions");let o=[["Transaction Import Template - Instructions"],[""],["Column Descriptions:"],["Payee","Name of the person, merchant, or company"],["Amount","Transaction amount (positive number)"],["Type",'Must be either "income" or "expense"'],["Category","Transaction category (e.g., Salary, Food & Dining, etc.)"],["Date","Transaction date in YYYY-MM-DD format"],["Notes","Optional description or notes"],[""],["Important Notes:"],["- Keep the header row as is (Row 1)"],["- Use YYYY-MM-DD format for dates"],["- Delete sample row (Row 2) before adding your data"]],s=dc.aoa_to_sheet(o);s["!cols"]=[{width:60}],dc.book_append_sheet(a,s,"Instructions");let d=Yh(a,{bookType:"xlsx",type:"array"}),u=new Blob([d],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),m=window.URL.createObjectURL(u),f=document.createElement("a");f.href=m,f.download="transaction_import_template.xlsx",f.click(),window.URL.revokeObjectURL(m),this.notificationService.success("Excel template downloaded successfully")}}catch(e){console.error("Error downloading template:",e),this.notificationService.error("Failed to download template")}}importSelected(){let e=this.parsedTransactions.filter((o,s)=>this.selectedToImport.has(s));if(e.length===0){this.notificationService.warning("Please select at least one transaction to import");return}let r=e.filter((o,s)=>!o.description||!o.description.trim()?(this.notificationService.warning(`Transaction ${s+1}: Description is required`),!1):!o.amount||o.amount<=0?(this.notificationService.warning(`Transaction ${s+1}: Amount must be greater than 0`),!1):!o.type||!["income","expense"].includes(o.type)?(this.notificationService.warning(`Transaction ${s+1}: Invalid transaction type`),!1):!o.category||!o.category.trim()?(this.notificationService.warning(`Transaction ${s+1}: Category is required`),!1):o.date?!0:(this.notificationService.warning(`Transaction ${s+1}: Date is required`),!1));if(r.length===0){this.notificationService.error("No valid transactions to import");return}r.length<e.length&&this.notificationService.warning(`${e.length-r.length} transactions were skipped due to validation errors`);let a=r.map(o=>de(ce({},o),{accountId:this.defaultAccountId||"default",categoryId:o.categoryId||"default",category:o.category||"default"}));this.notificationService.success(`Importing ${r.length} transactions`),this.dialogRef.close(a)}close(){this.dialogRef.close()}setCategory(e){return e.map(r=>{let a=this.categories.find(o=>o.name.toLowerCase()===r.category.toLowerCase());return a&&(r.categoryId=a.id,r.category=a.name),r})}};t.\u0275fac=function(r){return new(r||t)(W(mi),W(pi),W(Ct),W(Mt),W(mt),W(ia))},t.\u0275cmp=Le({type:t,selectors:[["import-transactions"]],viewQuery:function(r,a){if(r&1&&wr(y$,5),r&2){let o;er(o=tr())&&(a.fileUploadContainer=o.first)}},decls:18,vars:11,consts:[["fileUploadContainer",""],[1,"import-dialog"],["mat-dialog-title","",1,"text-lg","font-semibold","mb-4"],[1,"mr-2"],["mat-dialog-content","",1,"max-h-[70vh]","overflow-y-auto"],["class","mb-6 p-4 bg-gray-50 rounded-lg",4,"ngIf"],["class","mb-2 flex justify-end",4,"ngIf"],["class","mb-6",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","transactions-preview",4,"ngIf"],["mat-dialog-actions","","align","end",1,"dialog-actions"],["mat-button","",1,"mr-2",3,"click"],["mat-raised-button","","color","primary",1,"import-button",3,"click","disabled"],[1,"mb-6","p-4","bg-gray-50","rounded-lg"],[1,"flex","flex-col","sm:flex-row","gap-4"],[1,"flex-1"],[1,"block","text-sm","font-medium","text-gray-600","mb-1"],["placeholder","Select account for imported transactions",1,"w-full",3,"valueChange","value"],[3,"value"],[1,"mb-2","flex","justify-end"],["mat-stroked-button","","color","primary",1,"w-full","sm:w-auto",3,"click"],[1,"mb-6"],[1,"file-upload-container"],["type","file","accept",".xlsx,.xls",1,"file-input",3,"change","disabled"],[1,"file-upload-overlay"],[1,"text-4xl","mb-2"],[1,"text-sm","text-gray-600"],[1,"text-xs","text-gray-500","mt-1"],["class","mt-2 p-2 bg-blue-50 rounded text-xs text-blue-700",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"mt-2","p-2","bg-blue-50","rounded","text-xs","text-blue-700"],[1,"text-sm","mr-1"],[1,"error-message"],[1,"text-red-500"],[1,"text-red-600","text-sm"],[1,"loading-container"],["diameter","40"],[1,"mt-2","text-gray-600"],[1,"transactions-preview"],["class","mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",4,"ngIf"],[1,"preview-header"],[1,"font-semibold","mb-2"],[1,"preview-actions"],["mat-button","","color","primary",1,"text-sm",3,"click"],[1,"table-container"],[1,"transactions-table"],[1,"checkbox-col"],[3,"change","checked","indeterminate"],[1,"transaction-row"],[1,"mb-4","p-3","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"flex","items-center","gap-2"],[1,"text-blue-600","text-sm"],[1,"text-sm","text-blue-800"],[3,"change","checked"],[1,"amount-cell"],[1,"payee-cell"],[1,"type-cell"],[1,"type-badge"],[1,"category-cell"],[1,"category-select",3,"selectionChange","value"],["placeholderLabel","Search categories...","noEntriesFoundLabel","No categories found",3,"formControl"],[1,"date-cell"],[1,"option-content"],[1,"option-text"]],template:function(r,a){r&1&&(c(0,"div",1)(1,"h2",2)(2,"mat-icon",3),g(3),l(),g(4),l(),c(5,"div",4),L(6,w$,8,1,"div",5)(7,S$,5,0,"div",6)(8,E$,13,6,"div",7)(9,A$,4,0,"div",8)(10,R$,29,7,"div",9),l(),c(11,"div",10)(12,"button",11),R("click",function(){return a.close()}),g(13,"Cancel"),l(),c(14,"button",12),R("click",function(){return a.importSelected()}),c(15,"mat-icon"),g(16),l(),g(17),l()()()),r&2&&(p(3),V(a.data.transactions?"table_chart":"upload_file"),p(),ee(" ",a.data.transactions?"Import from Google Sheets":"Import Transactions"," "),p(2),O("ngIf",a.accounts.length>0),p(),O("ngIf",!(a.data!=null&&a.data.transactions)),p(),O("ngIf",!(a.data!=null&&a.data.transactions)),p(),O("ngIf",a.isLoading&&!(a.data!=null&&a.data.transactions)),p(),O("ngIf",a.parsedTransactions.length&&!a.isLoading),p(4),O("disabled",!a.parsedTransactions.length||a.selectedToImport.size===0),p(2),V(a.data.transactions?"table_chart":"cloud_upload"),p(),Wt(" ",a.data.transactions?"Import from Sheets":"Import Selected"," (",a.selectedToImport.size,") "))},dependencies:[ct,Bt,ll,Zt,Qe,Er,Fi,Ii,Jg,tu,eu,mo,Xd,wi,Os,Si],styles:["mat-dialog-content[_ngcontent-%COMP%]{min-width:350px}.import-dialog[_ngcontent-%COMP%]{padding:.5rem}.import-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid #e5e7eb}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem}@media (max-width: 640px){.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem}}.title-section[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;flex:1}.title-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.75rem;width:1.75rem;height:1.75rem;margin-top:.125rem}@media (max-width: 640px){.title-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}}.title-text[_ngcontent-%COMP%]{flex:1}.dialog-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#111827;line-height:1.2}@media (max-width: 640px){.dialog-title[_ngcontent-%COMP%]{font-size:1.25rem}}.dialog-subtitle[_ngcontent-%COMP%]{margin:.25rem 0 0;font-size:.875rem;color:#6b7280;line-height:1.4}@media (max-width: 640px){.dialog-subtitle[_ngcontent-%COMP%]{font-size:.8rem}}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center}@media (max-width: 640px){.header-actions[_ngcontent-%COMP%]{justify-content:stretch}}.download-template-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.625rem 1rem;border-radius:8px;font-weight:500;transition:all .2s ease;border:2px solid #3b82f6;background:transparent;color:#3b82f6}.download-template-btn[_ngcontent-%COMP%]:hover{background:#3b82f6;color:#fff;transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}.download-template-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 640px){.download-template-btn[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:.75rem 1rem}}.btn-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}.btn-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}@media (max-width: 640px){.btn-text[_ngcontent-%COMP%]{font-size:.9rem}}.file-upload-container[_ngcontent-%COMP%]{position:relative;border:2px dashed #d1d5db;border-radius:8px;padding:2rem;text-align:center;transition:all .3s ease;background:#f9fafb;cursor:pointer}.file-upload-container[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#f0f9ff}.file-upload-container.drag-over[_ngcontent-%COMP%]{border-color:#3b82f6;background:#dbeafe}.file-input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer;z-index:2}.file-upload-overlay[_ngcontent-%COMP%]{pointer-events:none;z-index:1}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.5rem;padding:.75rem;background:#fef2f2;border:1px solid #fecaca;border-radius:6px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;text-align:center}.transactions-preview[_ngcontent-%COMP%]{margin-top:1.5rem}.preview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap;gap:.5rem}@media (max-width: 640px){.preview-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}.preview-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}@media (max-width: 640px){.preview-actions[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}.table-container[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:8px;overflow:hidden;background:#fff;overflow-x:auto}.transactions-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.875rem;min-width:600px}.transactions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .transactions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #f3f4f6}.transactions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f9fafb;font-weight:600;color:#374151;position:sticky;top:0;z-index:10}.transactions-table[_ngcontent-%COMP%]   .checkbox-col[_ngcontent-%COMP%]{width:48px;text-align:center}.transactions-table[_ngcontent-%COMP%]   .payee-cell[_ngcontent-%COMP%]{max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.transactions-table[_ngcontent-%COMP%]   .amount-cell[_ngcontent-%COMP%]{font-weight:600;text-align:right}.transactions-table[_ngcontent-%COMP%]   .amount-cell[_ngcontent-%COMP%]   .income[_ngcontent-%COMP%]{color:#059669}.transactions-table[_ngcontent-%COMP%]   .amount-cell[_ngcontent-%COMP%]   .expense[_ngcontent-%COMP%]{color:#dc2626}.transactions-table[_ngcontent-%COMP%]   .type-cell[_ngcontent-%COMP%]{text-align:center}.transactions-table[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:12px;font-size:.75rem;font-weight:500;text-transform:capitalize}.transactions-table[_ngcontent-%COMP%]   .type-badge.income[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.transactions-table[_ngcontent-%COMP%]   .type-badge.expense[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.transactions-table[_ngcontent-%COMP%]   .category-cell[_ngcontent-%COMP%]{max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.transactions-table[_ngcontent-%COMP%]   .category-select[_ngcontent-%COMP%]{width:100%;font-size:.75rem}.transactions-table[_ngcontent-%COMP%]   .category-select[_ngcontent-%COMP%]     .mat-mdc-select-trigger{height:auto;min-height:32px;padding:.25rem .5rem;background:#f8fafc;border:1px solid transparent;border-radius:4px;transition:all .2s ease}.transactions-table[_ngcontent-%COMP%]   .category-select[_ngcontent-%COMP%]     .mat-mdc-select-trigger:hover{background:#e2e8f0;border-color:#cbd5e1}.transactions-table[_ngcontent-%COMP%]   .category-select[_ngcontent-%COMP%]     .mat-mdc-select-value{color:#374151;font-size:.75rem}.transactions-table[_ngcontent-%COMP%]   .category-select[_ngcontent-%COMP%]     .mat-mdc-select-arrow{color:#6b7280}.transactions-table[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.transactions-table[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{font-size:.75rem;color:#374151;flex:1}.transactions-table[_ngcontent-%COMP%]   .option-badge[_ngcontent-%COMP%]{font-size:.625rem;padding:.125rem .375rem;border-radius:8px;font-weight:500;margin-left:.5rem;text-transform:capitalize}.transactions-table[_ngcontent-%COMP%]   .option-badge.original[_ngcontent-%COMP%]{background:#fbbf24;color:#92400e}.transactions-table[_ngcontent-%COMP%]   .option-badge.income[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.transactions-table[_ngcontent-%COMP%]   .option-badge.expense[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.transactions-table[_ngcontent-%COMP%]   .no-categories-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-style:italic}.transactions-table[_ngcontent-%COMP%]     .keep-original-option{background:#fef3c7}.transactions-table[_ngcontent-%COMP%]     .keep-original-option:hover{background:#fde68a!important}.transactions-table[_ngcontent-%COMP%]     .keep-original-option.mat-mdc-option-active{background:#fde68a!important}.transactions-table[_ngcontent-%COMP%]   .date-cell[_ngcontent-%COMP%]{text-align:center;white-space:nowrap}.transactions-table[_ngcontent-%COMP%]   .transaction-row[_ngcontent-%COMP%]{transition:background-color .2s ease}.transactions-table[_ngcontent-%COMP%]   .transaction-row[_ngcontent-%COMP%]:hover{background:#f9fafb}.dialog-actions[_ngcontent-%COMP%]{padding:1rem 0 0;border-top:1px solid #e5e7eb;margin-top:1rem}@media (max-width: 640px){.dialog-actions[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:.5rem}.dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}@media (max-width: 640px){.import-button[_ngcontent-%COMP%]{margin-bottom:.5rem}}@media (max-width: 768px){.transactions-table[_ngcontent-%COMP%]{font-size:.75rem}.transactions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .transactions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}.transactions-table[_ngcontent-%COMP%]   .payee-cell[_ngcontent-%COMP%]{max-width:120px}.transactions-table[_ngcontent-%COMP%]   .category-cell[_ngcontent-%COMP%]{max-width:80px}.file-upload-container[_ngcontent-%COMP%]{padding:1.5rem}}@media (max-width: 480px){.transactions-table[_ngcontent-%COMP%]{font-size:.7rem}.transactions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .transactions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.375rem}.transactions-table[_ngcontent-%COMP%]   .payee-cell[_ngcontent-%COMP%]{max-width:100px}.transactions-table[_ngcontent-%COMP%]   .category-cell[_ngcontent-%COMP%]{max-width:60px}.file-upload-container[_ngcontent-%COMP%]{padding:1rem}.preview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}}"]});let n=t;return n})();var Yo=da(fa());var T2=(()=>{let t=class t{constructor(e){this.dateService=e,this.oldRegimeSlabs=[{minIncome:0,maxIncome:25e4,rate:0,description:"Up to \u20B92,50,000"},{minIncome:250001,maxIncome:5e5,rate:5,description:"\u20B92,50,001 - \u20B95,00,000"},{minIncome:500001,maxIncome:1e6,rate:20,description:"\u20B95,00,001 - \u20B910,00,000"},{minIncome:1000001,maxIncome:1/0,rate:30,description:"Above \u20B910,00,000"}],this.newRegimeSlabs=[{minIncome:0,maxIncome:3e5,rate:0,description:"Up to \u20B93,00,000"},{minIncome:300001,maxIncome:6e5,rate:5,description:"\u20B93,00,001 - \u20B96,00,000"},{minIncome:600001,maxIncome:9e5,rate:10,description:"\u20B96,00,001 - \u20B99,00,000"},{minIncome:900001,maxIncome:12e5,rate:15,description:"\u20B99,00,001 - \u20B912,00,000"},{minIncome:1200001,maxIncome:15e5,rate:20,description:"\u20B912,00,001 - \u20B915,00,000"},{minIncome:1500001,maxIncome:1/0,rate:30,description:"Above \u20B915,00,000"}],this.NEW_REGIME_STANDARD_DEDUCTION=Ut.VALIDATION.MAX_AMOUNT*.05}calculateTotalIncome(e,r=2025){let a=new Date(r-1,3,1),o=new Date(r,2,31);return e.filter(s=>{let d=this.dateService.toDate(s.date)||new Date;return s.type==="income"&&d>=a&&d<=o}).reduce((s,d)=>s+d.amount,0)}getDefaultDeductions(){return[{section:"80C",description:"ELSS, PPF, EPF, Life Insurance, etc.",maxAmount:15e4,currentAmount:0},{section:"80D",description:"Health Insurance Premium",maxAmount:25e3,currentAmount:0},{section:"80G",description:"Donations to Charitable Institutions",maxAmount:1e5,currentAmount:0},{section:"80TTA",description:"Interest on Savings Account",maxAmount:1e4,currentAmount:0},{section:"HRA",description:"House Rent Allowance Exemption",maxAmount:0,currentAmount:0},{section:"LTA",description:"Leave Travel Allowance",maxAmount:0,currentAmount:0}]}calculateOldRegimeTax(e,r){let a=r.reduce((m,f)=>m+f.currentAmount,0),o=Math.max(0,e-a),s=this.calculateTaxBySlabs(o,this.oldRegimeSlabs),d=s*.04,u=s+d;return{totalIncome:e,deductions:r,totalDeductions:a,taxableIncome:o,incomeTax:s,cess:d,totalTaxLiability:u,regime:"old"}}calculateNewRegimeTax(e){let r=Math.max(0,e-this.NEW_REGIME_STANDARD_DEDUCTION),a=this.calculateTaxBySlabs(r,this.newRegimeSlabs),o=a*.04,s=a+o;return{totalIncome:e,deductions:[{section:"Standard",description:"Standard Deduction",maxAmount:this.NEW_REGIME_STANDARD_DEDUCTION,currentAmount:this.NEW_REGIME_STANDARD_DEDUCTION}],totalDeductions:this.NEW_REGIME_STANDARD_DEDUCTION,taxableIncome:r,incomeTax:a,cess:o,totalTaxLiability:s,regime:"new"}}calculateTaxBySlabs(e,r){let a=0,o=e;for(let s of r){if(o<=0)break;let d=Math.min(o,s.maxIncome===1/0?o:s.maxIncome-s.minIncome+1);a+=d*s.rate/100,o-=d}return a}calculateGST(e,r=18){let a=e*r/100,o=a/2,s=a/2;return{baseAmount:e,cgst:o,sgst:s,totalGST:a}}getTaxSlabs(e){return e==="old"?this.oldRegimeSlabs:this.newRegimeSlabs}compareRegimes(e,r){let a=this.calculateOldRegimeTax(e,r),o=this.calculateNewRegimeTax(e),s=a.totalTaxLiability-o.totalTaxLiability,d=s>0?"new":"old";return{oldRegime:a,newRegime:o,recommendation:d,savings:Math.abs(s)}}generateTaxReport(e,r){return`
INDIAN TAX ANALYSIS REPORT
Financial Year: 2024-25
Tax Regime: ${e.regime==="old"?"Old Regime (With Deductions)":"New Regime (Simplified)"}

INCOME DETAILS:
Total Income: \u20B9${e.totalIncome.toLocaleString("en-IN")}

${e.regime==="old"?`
DEDUCTIONS:
${e.deductions.map(o=>`${o.section}: \u20B9${o.currentAmount.toLocaleString("en-IN")}`).join(`
`)}
Total Deductions: \u20B9${e.totalDeductions.toLocaleString("en-IN")}
`:`
STANDARD DEDUCTION:
Standard Deduction: \u20B9${e.totalDeductions.toLocaleString("en-IN")}
`}

TAXABLE INCOME: \u20B9${e.taxableIncome.toLocaleString("en-IN")}

TAX CALCULATION:
Income Tax: \u20B9${e.incomeTax.toLocaleString("en-IN")}
Cess (4%): \u20B9${e.cess.toLocaleString("en-IN")}
TOTAL TAX LIABILITY: \u20B9${e.totalTaxLiability.toLocaleString("en-IN")}

${r?`
GST ANALYSIS:
Base Amount: \u20B9${r.baseAmount.toLocaleString("en-IN")}
CGST (9%): \u20B9${r.cgst.toLocaleString("en-IN")}
SGST (9%): \u20B9${r.sgst.toLocaleString("en-IN")}
Total GST (18%): \u20B9${r.totalGST.toLocaleString("en-IN")}
`:""}

Generated on: ${new Date().toLocaleDateString("en-IN")}
    `}};t.\u0275fac=function(r){return new(r||t)(Ne(Vt))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function L$(n,t){n&1&&(c(0,"div",44),g(1," Please enter a valid income amount "),l())}function B$(n,t){if(n&1){let i=ue();c(0,"div",38)(1,"form",39)(2,"div")(3,"label",40),g(4,"Annual Income (\u20B9)"),l(),c(5,"input",41),R("input",function(r){j(i);let a=y();return z(a.onInputChange(r))})("blur",function(){j(i);let r=y();return z(r.onManualIncomeChange())}),l(),c(6,"div",42),g(7),l(),L(8,L$,2,0,"div",43),l()()()}if(n&2){let i,e=y();p(),O("formGroup",e.taxForm),p(6),Wt(" Enter your total annual income for FY ",e.currentYear,"-",e.currentYear+1," "),p(),O("ngIf",((i=e.taxForm.get("manualIncome"))==null?null:i.invalid)&&((i=e.taxForm.get("manualIncome"))==null?null:i.touched))}}function V$(n,t){if(n&1&&(c(0,"div",45)(1,"div",46)(2,"div")(3,"div",47),g(4,"Income from Transactions"),l(),c(5,"div",48),g(6),l(),c(7,"div",49),g(8),l()(),c(9,"mat-icon",50),g(10,"check_circle"),l()()()),n&2){let i=y();p(6),V(i.formatCurrency(i.totalIncome)),p(2),Wt(" Calculated from your income transactions for FY ",i.currentYear,"-",i.currentYear+1," ")}}function $$(n,t){n&1&&(c(0,"div",51)(1,"div",52),oe(2,"mat-spinner",53),c(3,"span",54),g(4,"Calculating tax from your transactions..."),l()()())}function j$(n,t){if(n&1&&(c(0,"div",55)(1,"div",22)(2,"h4",56)(3,"mat-icon",57),g(4,"account_balance"),l(),g(5," Tax Calculation Summary "),l(),c(6,"div",58)(7,"div",59)(8,"span",54),g(9),l(),c(10,"span",60),g(11),l()(),c(12,"div",59)(13,"span",54),g(14,"Standard Deduction"),l(),c(15,"span",61),g(16),l()(),c(17,"div",62)(18,"span",63),g(19,"Taxable Income"),l(),c(20,"span",64),g(21),l()(),c(22,"div",59)(23,"span",54),g(24,"Income Tax"),l(),c(25,"span",65),g(26),l()(),c(27,"div",59)(28,"span",54),g(29,"Cess (4%)"),l(),c(30,"span",65),g(31),l()(),c(32,"div",66)(33,"span",67),g(34,"Total Tax Liability"),l(),c(35,"span",68),g(36),l()()()(),c(37,"div",22)(38,"h4",56)(39,"mat-icon",11),g(40,"info"),l(),g(41," Tax Details "),l(),c(42,"div",58)(43,"div",59)(44,"span",54),g(45,"Current Tax Slab"),l(),c(46,"span",69),g(47),l()(),c(48,"div",59)(49,"span",54),g(50,"Effective Tax Rate"),l(),c(51,"span",69),g(52),l()(),c(53,"div",59)(54,"span",54),g(55,"Monthly Tax"),l(),c(56,"span",70),g(57),l()(),c(58,"div",59)(59,"span",54),g(60,"Net Income After Tax"),l(),c(61,"span",71),g(62),l()(),c(63,"div",38)(64,"div",72)(65,"strong"),g(66,"Note:"),l(),g(67," This calculation uses the new tax regime with simplified rates and standard deduction of \u20B950,000. "),l()()()()()),n&2){let i=y();p(9),Wt("Total Income (FY ",i.currentYear,"-",i.currentYear+1,")"),p(2),V(i.formatCurrency(i.taxCalculation.totalIncome)),p(5),V(i.formatCurrency(i.taxCalculation.totalDeductions)),p(5),V(i.formatCurrency(i.taxCalculation.taxableIncome)),p(5),V(i.formatCurrency(i.taxCalculation.incomeTax)),p(5),V(i.formatCurrency(i.taxCalculation.cess)),p(5),V(i.formatCurrency(i.taxCalculation.totalTaxLiability)),p(11),V(i.getCurrentTaxSlab()),p(5),ee("",i.taxCalculation.totalIncome>0?(i.taxCalculation.totalTaxLiability/i.taxCalculation.totalIncome*100).toFixed(2):"0","%"),p(5),V(i.formatCurrency(i.taxCalculation.totalTaxLiability/12)),p(5),V(i.formatCurrency(i.taxCalculation.totalIncome-i.taxCalculation.totalTaxLiability))}}function z$(n,t){if(n&1&&(c(0,"div",51)(1,"div",73)(2,"mat-icon",74),g(3,"account_balance_wallet"),l(),c(4,"h3",75),g(5),l(),c(6,"p",76),g(7),l(),c(8,"p",77),g(9),l()()()),n&2){let i=y();p(5),ee(" ",i.useManualIncome?"No Income Entered":"No Income Transactions Found"," "),p(2),ee(" ",i.useManualIncome?"Please enter your annual income to see the tax calculation.":"We couldn't find any income transactions for FY "+i.currentYear+"-"+(i.currentYear+1)+"."," "),p(2),ee(" ",i.useManualIncome?"Enter your income in the manual input field above.":"Add income transactions to see your tax calculation."," ")}}var Qm=(()=>{let t=class t{constructor(e,r,a,o,s){this.auth=e,this.taxService=r,this.notificationService=a,this.store=o,this.fb=s,this.taxCalculation=null,this.transactions=[],this.totalIncome=0,this.currentYear=new Date().getFullYear(),this.useManualIncome=!1,this.isLoading=!1,this.subscriptions=[],this.taxForm=this.fb.group({manualIncome:[0,[tt.required,tt.min(0)]]})}ngOnInit(){this.loadTransactions()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadTransactions(){var r;if((r=this.auth.currentUser)==null?void 0:r.uid){let a=this.store.select(En).pipe(yr(1)).subscribe({next:o=>{this.transactions=o,this.calculateTaxFromTransactions()},error:o=>{console.error("Error loading transactions:",o),this.notificationService.error("Failed to load transaction data")}});this.subscriptions.push(a)}}calculateTaxFromTransactions(){this.isLoading=!0;try{this.totalIncome=this.taxService.calculateTotalIncome(this.transactions,this.currentYear),this.calculateTax(),this.totalIncome>0&&this.notificationService.success("Tax calculation completed successfully!")}catch(e){console.error("Error calculating tax:",e),this.notificationService.error("Failed to calculate tax.")}finally{this.isLoading=!1}}calculateTax(){let e=this.getCurrentIncome();this.taxCalculation=this.taxService.calculateNewRegimeTax(e)}toggleIncomeSource(){if(this.useManualIncome=!this.useManualIncome,this.useManualIncome){let e=this.totalIncome>0?this.totalIncome:0;this.taxForm.patchValue({manualIncome:e}),setTimeout(()=>this.calculateTax(),0)}else this.calculateTax()}onManualIncomeChange(){if(this.useManualIncome){let e=this.taxForm.value.manualIncome;e!=null&&e>=0&&this.calculateTax()}}onInputChange(e){let r=e.target.value;if(this.useManualIncome&&r!==""){let a=parseFloat(r);!isNaN(a)&&a>=0&&(this.taxForm.patchValue({manualIncome:a}),this.calculateTax())}}getCurrentIncome(){if(this.useManualIncome){let e=this.taxForm.value.manualIncome;return e!=null&&e>=0?e:0}return this.totalIncome}formatCurrency(e){return`\u20B9${e.toLocaleString("en-IN")}`}getCurrentTaxSlab(){if(!this.taxCalculation)return"N/A";let e=this.taxService.getTaxSlabs("new"),r=this.taxCalculation.taxableIncome;for(let a of e)if(r<=a.maxIncome)return`${a.description} (${a.rate}%)`;return"Above \u20B915,00,000 (30%)"}isManualIncomeValid(){var e;return((e=this.taxForm.get("manualIncome"))==null?void 0:e.valid)||!1}};t.\u0275fac=function(r){return new(r||t)(W(Mt),W(T2),W(Ct),W(mt),W(Ei))},t.\u0275cmp=Le({type:t,selectors:[["app-tax"]],decls:127,vars:27,consts:[[1,"min-h-screen","bg-gray-50","p-4","sm:p-6","lg:p-8"],[1,"max-w-7xl","mx-auto"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-6","mb-6"],[1,"flex","flex-col","sm:flex-row","sm:justify-between","sm:items-center","gap-4"],[1,"flex-1"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600","text-sm","sm:text-base"],[1,"flex","items-center"],[1,"text-blue-600","mr-2"],[1,"text-blue-600","font-medium"],[1,"text-xl","font-semibold","text-gray-900","mb-4","flex","items-center"],[1,"text-green-600","mr-3"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","mb-6"],["mat-raised-button","",1,"flex","items-center","justify-center","space-x-3","p-4","h-auto","min-h-[60px]","transition-all","duration-200","hover:shadow-md",3,"click","color"],[1,"text-xl"],[1,"text-left"],[1,"font-semibold"],[1,"text-xs","opacity-80"],["class","bg-blue-50 p-4 rounded-lg border border-blue-200",4,"ngIf"],["class","bg-green-50 p-4 rounded-lg border border-green-200",4,"ngIf"],["class","bg-white rounded-xl shadow-sm border border-gray-100 p-8 mb-6",4,"ngIf"],["class","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",4,"ngIf"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-6"],[1,"text-lg","font-semibold","text-gray-900","mb-6","flex","items-center"],[1,"text-purple-600","mr-3"],[1,"overflow-x-auto","rounded-lg","border","border-gray-200"],[1,"w-full"],[1,"bg-gray-50"],[1,"px-4","py-3","text-left","font-semibold","text-gray-700","text-sm"],[1,"divide-y","divide-gray-200"],[1,"hover:bg-gray-50","transition-colors"],[1,"px-4","py-3","text-sm"],[1,"px-4","py-3","text-green-600","font-medium","text-sm"],[1,"hover:bg-red-50","transition-colors","bg-red-50"],[1,"px-4","py-3","font-medium","text-sm"],[1,"mt-6","p-4","bg-blue-50","rounded-lg","border","border-blue-200"],[1,"font-semibold","text-blue-800","mb-2"],[1,"text-sm","text-blue-700","space-y-1"],[1,"bg-blue-50","p-4","rounded-lg","border","border-blue-200"],[1,"space-y-4",3,"formGroup"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","number","formControlName","manualIncome","placeholder","Enter your annual income",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input","blur"],[1,"text-xs","text-gray-500","mt-1"],["class","text-red-500 text-xs mt-1",4,"ngIf"],[1,"text-red-500","text-xs","mt-1"],[1,"bg-green-50","p-4","rounded-lg","border","border-green-200"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-green-800"],[1,"text-2xl","font-bold","text-green-700"],[1,"text-xs","text-green-600","mt-1"],[1,"text-green-600","text-3xl"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-8","mb-6"],[1,"flex","items-center","justify-center"],["diameter","40",1,"mr-4"],[1,"text-gray-600"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4","flex","items-center"],[1,"text-blue-600","mr-3"],[1,"space-y-4"],[1,"flex","justify-between","items-center","py-3","border-b","border-gray-100"],[1,"font-semibold","text-gray-900","text-lg"],[1,"font-semibold","text-green-600","text-lg"],[1,"flex","justify-between","items-center","py-3","border-b-2","border-blue-200","bg-blue-50","px-4","rounded-lg"],[1,"text-gray-700","font-medium"],[1,"font-bold","text-blue-700","text-lg"],[1,"font-semibold","text-red-600","text-lg"],[1,"flex","justify-between","items-center","py-4","bg-red-50","px-4","rounded-lg","border-2","border-red-200"],[1,"text-gray-700","font-semibold"],[1,"font-bold","text-red-700","text-xl"],[1,"font-semibold","text-blue-600"],[1,"font-semibold","text-red-600"],[1,"font-semibold","text-green-600"],[1,"text-sm","text-blue-800"],[1,"text-center"],[1,"text-gray-400","text-6xl","mb-4"],[1,"text-xl","font-semibold","text-gray-700","mb-2"],[1,"text-gray-500","mb-4"],[1,"text-sm","text-gray-400"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),g(6,"Tax Analysis"),l(),c(7,"p",6),g(8),l()(),c(9,"div",7)(10,"mat-icon",8),g(11,"new_releases"),l(),c(12,"span",9),g(13,"New Regime"),l()()()(),c(14,"div",2)(15,"h3",10)(16,"mat-icon",11),g(17,"account_balance_wallet"),l(),g(18," Income Source "),l(),c(19,"div",12)(20,"button",13),R("click",function(){return a.toggleIncomeSource()}),c(21,"mat-icon",14),g(22,"sync"),l(),c(23,"div",15)(24,"div",16),g(25,"Auto from Transactions"),l(),c(26,"div",17),g(27,"Use your transaction data"),l()()(),c(28,"button",13),R("click",function(){return a.toggleIncomeSource()}),c(29,"mat-icon",14),g(30,"edit"),l(),c(31,"div",15)(32,"div",16),g(33,"Manual Entry"),l(),c(34,"div",17),g(35,"Enter income manually"),l()()()(),L(36,B$,9,4,"div",18)(37,V$,11,3,"div",19),l(),L(38,$$,5,0,"div",20)(39,j$,68,12,"div",21)(40,z$,10,3,"div",20),c(41,"div",22)(42,"h4",23)(43,"mat-icon",24),g(44,"table_chart"),l(),g(45),l(),c(46,"div",25)(47,"table",26)(48,"thead")(49,"tr",27)(50,"th",28),g(51,"Income Range"),l(),c(52,"th",28),g(53,"Tax Rate"),l(),c(54,"th",28),g(55,"Cess"),l(),c(56,"th",28),g(57,"Effective Rate"),l()()(),c(58,"tbody",29)(59,"tr",30)(60,"td",31),g(61,"Up to \u20B93,00,000"),l(),c(62,"td",32),g(63,"Nil"),l(),c(64,"td",31),g(65,"-"),l(),c(66,"td",32),g(67,"0%"),l()(),c(68,"tr",30)(69,"td",31),g(70,"\u20B93,00,001 - \u20B96,00,000"),l(),c(71,"td",31),g(72,"5%"),l(),c(73,"td",31),g(74,"4%"),l(),c(75,"td",31),g(76,"5.2%"),l()(),c(77,"tr",30)(78,"td",31),g(79,"\u20B96,00,001 - \u20B99,00,000"),l(),c(80,"td",31),g(81,"10%"),l(),c(82,"td",31),g(83,"4%"),l(),c(84,"td",31),g(85,"10.4%"),l()(),c(86,"tr",30)(87,"td",31),g(88,"\u20B99,00,001 - \u20B912,00,000"),l(),c(89,"td",31),g(90,"15%"),l(),c(91,"td",31),g(92,"4%"),l(),c(93,"td",31),g(94,"15.6%"),l()(),c(95,"tr",30)(96,"td",31),g(97,"\u20B912,00,001 - \u20B915,00,000"),l(),c(98,"td",31),g(99,"20%"),l(),c(100,"td",31),g(101,"4%"),l(),c(102,"td",31),g(103,"20.8%"),l()(),c(104,"tr",33)(105,"td",34),g(106,"Above \u20B915,00,000"),l(),c(107,"td",34),g(108,"30%"),l(),c(109,"td",31),g(110,"4%"),l(),c(111,"td",34),g(112,"31.2%"),l()()()()(),c(113,"div",35)(114,"h5",36),g(115,"New Regime Benefits:"),l(),c(116,"ul",37)(117,"li"),g(118,"\u2022 Standard deduction of \u20B950,000 automatically applied"),l(),c(119,"li"),g(120,"\u2022 Lower tax rates compared to old regime"),l(),c(121,"li"),g(122,"\u2022 No need to maintain investment proofs"),l(),c(123,"li"),g(124,"\u2022 Simplified tax filing process"),l(),c(125,"li"),g(126,"\u2022 No deductions except standard deduction"),l()()()()()()),r&2&&(p(8),Wt("New Tax Regime calculation for FY ",a.currentYear,"-",a.currentYear+1,""),p(12),Ue("bg-blue-600",!a.useManualIncome)("text-white",!a.useManualIncome)("bg-gray-100",a.useManualIncome)("text-gray-700",a.useManualIncome),O("color",a.useManualIncome?"basic":"primary"),p(8),Ue("bg-blue-600",a.useManualIncome)("text-white",a.useManualIncome)("bg-gray-100",!a.useManualIncome)("text-gray-700",!a.useManualIncome),O("color",a.useManualIncome?"primary":"basic"),p(8),O("ngIf",a.useManualIncome),p(),O("ngIf",!a.useManualIncome),p(),O("ngIf",a.isLoading),p(),O("ngIf",!a.isLoading&&a.taxCalculation&&(a.useManualIncome?a.isManualIncomeValid():!0)),p(),O("ngIf",!a.isLoading&&a.getCurrentIncome()===0),p(5),Wt(" New Tax Regime Slabs (FY ",a.currentYear,"-",a.currentYear+1,") "))},dependencies:[ct,Jn,Yt,rr,Bt,Qn,ki,Ti,Zt,Qe,Er]});let n=t;return n})();var E2=(n,t)=>t.value,U$=(n,t)=>t.id;function G$(n,t){if(n&1&&(c(0,"option",12),g(1),l()),n&2){let i=t.$implicit;O("value",i.value),p(),ee(" ",i.label," ")}}function W$(n,t){if(n&1&&(c(0,"option",12),g(1),l()),n&2){let i=t.$implicit;O("value",i.value),p(),ee(" ",i.label," ")}}function H$(n,t){if(n&1){let i=ue();c(0,"span",29),g(1),c(2,"button",35),R("click",function(){let r=j(i).$implicit,a=y(2);return z(a.removeTag(r))}),c(3,"mat-icon",36),g(4,"close"),l()()()}if(n&2){let i=t.$implicit;p(),ee(" ",i," ")}}function X$(n,t){if(n&1){let i=ue();c(0,"div",16)(1,"mat-card",17)(2,"div",18)(3,"h3",19),g(4,"Add New Note"),l(),c(5,"button",20),R("click",function(){j(i);let r=y();return z(r.cancelAddNote())}),c(6,"mat-icon"),g(7,"close"),l()()(),c(8,"div",21)(9,"div")(10,"label",22),g(11,"Title"),l(),c(12,"input",23),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.newNote.title,r)||(a.newNote.title=r),z(r)}),l()(),c(13,"div")(14,"label",22),g(15,"Content"),l(),c(16,"textarea",24),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.newNote.content,r)||(a.newNote.content=r),z(r)}),l()(),c(17,"div",25)(18,"div")(19,"label",22),g(20,"Category"),l(),c(21,"select",26),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.newNote.category,r)||(a.newNote.category=r),z(r)}),qe(22,W$,2,2,"option",12,E2),l()(),c(24,"div")(25,"label",22),g(26,"Tags"),l(),c(27,"input",27),R("keyup.enter",function(r){j(i);let a=y();return z(a.addTag(r))}),l(),c(28,"div",28),qe(29,H$,5,1,"span",29,Or),l()()(),c(31,"div",30)(32,"mat-checkbox",31),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.newNote.isImportant,r)||(a.newNote.isImportant=r),z(r)}),g(33," Mark as Important "),l()(),c(34,"div",32)(35,"button",33),R("click",function(){j(i);let r=y();return z(r.cancelAddNote())}),g(36,"Cancel"),l(),c(37,"button",34),R("click",function(){j(i);let r=y();return z(r.saveNote())}),g(38,"Save Note"),l()()()()()}if(n&2){let i=y();p(12),dt("ngModel",i.newNote.title),p(4),dt("ngModel",i.newNote.content),p(5),dt("ngModel",i.newNote.category),p(),Ke(i.categories.slice(1)),p(7),Ke(i.newNote.tags),p(3),dt("ngModel",i.newNote.isImportant)}}function q$(n,t){if(n&1&&(c(0,"span",47),g(1),l()),n&2){let i=t.$implicit;p(),ee(" ",i," ")}}function K$(n,t){if(n&1){let i=ue();c(0,"div",8)(1,"mat-card",37)(2,"div",0)(3,"div",38)(4,"div",39)(5,"h3",40),g(6),l(),c(7,"div",41)(8,"mat-icon",36),g(9),l(),c(10,"span"),g(11),l(),c(12,"span"),g(13,"\u2022"),l(),c(14,"span"),g(15),se(16,"date"),l()()(),c(17,"div",42)(18,"button",43),R("click",function(){let r=j(i).$implicit,a=y();return z(a.toggleImportant(r))}),c(19,"mat-icon"),g(20),l()(),c(21,"button",44),R("click",function(){let r=j(i).$implicit,a=y();return z(a.deleteNote(r.id))}),c(22,"mat-icon"),g(23,"delete"),l()()()(),c(24,"p",45),g(25),l(),c(26,"div",46),qe(27,q$,2,1,"span",47,Or),l(),c(29,"div",48),g(30),se(31,"date"),l()()()()}if(n&2){let i=t.$implicit,e=y();p(),Ue("border-l-4",i.isImportant)("border-l-red-500",i.isImportant),p(5),V(i.title),p(3),V(e.getCategoryInfo(i.category).icon),p(2),V(e.getCategoryInfo(i.category).label),p(4),V(vt(16,13,i.createdAt,"MMM dd, yyyy")),p(3),Ue("text-red-500",i.isImportant),p(2),V(i.isImportant?"star":"star_border"),p(5),V(i.content),p(2),Ke(i.tags),p(3),ee(" Last updated: ",vt(31,16,i.updatedAt,"MMM dd, yyyy HH:mm")," ")}}function Z$(n,t){if(n&1){let i=ue();c(0,"div",49)(1,"mat-icon",50),g(2,"note"),l(),c(3,"h3",51),g(4,"No notes found"),l(),c(5,"p",52),g(6),l(),c(7,"button",53),R("click",function(){j(i);let r=y();return z(r.addNote())}),c(8,"mat-icon"),g(9,"add"),l(),c(10,"span"),g(11,"Add Note"),l()()()}if(n&2){let i=y();p(6),ee(" ",i.searchTerm||i.selectedCategory!=="all"?"Try adjusting your search or filter criteria.":"Start by adding your first note to keep track of important information."," ")}}var Jm=(()=>{let t=class t{constructor(e){this.notificationService=e,this.notes=[],this.filteredNotes=[],this.selectedCategory="all",this.searchTerm="",this.isAddingNote=!1,this.newNote={title:"",content:"",category:"personal",tags:[],isImportant:!1},this.categories=[{value:"all",label:"All Notes",icon:"note"},{value:"personal",label:"Personal",icon:"person"},{value:"financial",label:"Financial",icon:"account_balance_wallet"},{value:"tax",label:"Tax Related",icon:"receipt_long"},{value:"investment",label:"Investment",icon:"trending_up"},{value:"expenses",label:"Expenses",icon:"money_off"},{value:"goals",label:"Goals",icon:"flag"},{value:"documents",label:"Documents",icon:"description"}]}ngOnInit(){this.loadNotes()}loadNotes(){try{this.notes=[{id:"1",title:"Tax Planning Notes",content:"Remember to invest in ELSS for tax saving under section 80C. Also consider health insurance for 80D benefits.",category:"tax",tags:["tax","investment","planning"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),isImportant:!0},{id:"2",title:"Monthly Budget Goals",content:"Target: Save 30% of income. Track expenses daily. Review budget every weekend.",category:"financial",tags:["budget","savings","goals"],createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-10"),isImportant:!0}],this.filteredNotes=[...this.notes]}catch(e){console.error("Error loading notes:",e),this.notificationService.error("Failed to load notes")}}filterNotes(){this.filteredNotes=this.notes.filter(e=>{let r=this.selectedCategory==="all"||e.category===this.selectedCategory,a=e.title.toLowerCase().includes(this.searchTerm.toLowerCase())||e.content.toLowerCase().includes(this.searchTerm.toLowerCase())||e.tags.some(o=>o.toLowerCase().includes(this.searchTerm.toLowerCase()));return r&&a})}onCategoryChange(){this.filterNotes()}onSearchChange(){this.filterNotes()}addNote(){this.isAddingNote=!0}saveNote(){if(!this.newNote.title||!this.newNote.content){this.notificationService.warning("Please fill in title and content");return}try{let e={id:Date.now().toString(),title:this.newNote.title,content:this.newNote.content,category:this.newNote.category,tags:this.newNote.tags,createdAt:new Date,updatedAt:new Date,isImportant:this.newNote.isImportant};this.notes.unshift(e),this.filterNotes(),this.resetNewNote(),this.isAddingNote=!1,this.notificationService.success("Note saved successfully")}catch(e){console.error("Error saving note:",e),this.notificationService.error("Failed to save note")}}cancelAddNote(){this.resetNewNote(),this.isAddingNote=!1,this.notificationService.info("Note creation cancelled")}resetNewNote(){this.newNote={title:"",content:"",category:"personal",tags:[],isImportant:!1}}deleteNote(e){try{let r=this.notes.find(a=>a.id===e);this.notes=this.notes.filter(a=>a.id!==e),this.filterNotes(),this.notificationService.success(`Note "${r==null?void 0:r.title}" deleted successfully`)}catch(r){console.error("Error deleting note:",r),this.notificationService.error("Failed to delete note")}}toggleImportant(e){try{e.isImportant=!e.isImportant,e.updatedAt=new Date;let r=e.isImportant?"marked as important":"unmarked as important";this.notificationService.success(`Note "${e.title}" ${r}`)}catch(r){console.error("Error updating note importance:",r),this.notificationService.error("Failed to update note importance")}}addTag(e){let r=e.target.value;r&&!this.newNote.tags.includes(r)?(this.newNote.tags.push(r),this.notificationService.info(`Tag "${r}" added`)):this.newNote.tags.includes(r)&&this.notificationService.warning("Tag already exists")}removeTag(e){this.newNote.tags=this.newNote.tags.filter(r=>r!==e),this.notificationService.info(`Tag "${e}" removed`)}exportNotes(){try{console.log("Export notes clicked"),this.notificationService.info("Export feature coming soon")}catch(e){console.error("Error exporting notes:",e),this.notificationService.error("Failed to export notes")}}importNotes(){try{console.log("Import notes clicked"),this.notificationService.info("Import feature coming soon")}catch(e){console.error("Error importing notes:",e),this.notificationService.error("Failed to import notes")}}getCategoryInfo(e){let r=this.categories.find(a=>a.value===e);return r?{icon:r.icon,label:r.label}:{icon:"note",label:"Unknown"}}};t.\u0275fac=function(r){return new(r||t)(W(Ct))},t.\u0275cmp=Le({type:t,selectors:[["app-notes"]],decls:37,vars:4,consts:[[1,"p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800","mb-1"],[1,"text-gray-600"],[1,"flex","space-x-3"],["mat-stroked-button","",1,"flex","items-center","space-x-2",3,"click"],["mat-raised-button","","color","primary",1,"flex","items-center","space-x-2",3,"click"],[1,"mb-6","grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400"],["type","text","placeholder","Search notes...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","input","ngModel"],[1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","change","ngModel"],[3,"value"],["class","mb-6",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-2","xl:grid-cols-3","gap-6"],["class","text-center py-12",4,"ngIf"],[1,"mb-6"],[1,"p-6","shadow-lg","border-0","rounded-xl"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-semibold","text-gray-800"],["mat-icon-button","",3,"click"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","placeholder","Enter note title...",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["placeholder","Enter note content...","rows","4",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["type","text","placeholder","Add tags (comma separated)...",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"keyup.enter"],[1,"flex","flex-wrap","gap-2","mt-2"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"flex","items-center"],[1,"mr-2",3,"ngModelChange","ngModel"],[1,"flex","justify-end","space-x-3"],["mat-stroked-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"ml-1","text-blue-600","hover:text-blue-800",3,"click"],[1,"text-xs"],[1,"h-full","shadow-lg","border-0","rounded-xl","hover:shadow-xl","transition-shadow"],[1,"flex","justify-between","items-start","mb-3"],[1,"flex-1"],[1,"text-lg","font-semibold","text-gray-800","mb-1"],[1,"flex","items-center","space-x-2","text-sm","text-gray-500"],[1,"flex","space-x-1"],["mat-icon-button","","matTooltip","Mark as important",3,"click"],["mat-icon-button","","color","warn","matTooltip","Delete note",3,"click"],[1,"text-gray-600","mb-4","line-clamp-3"],[1,"flex","flex-wrap","gap-2","mb-3"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-gray-100","text-gray-700"],[1,"text-xs","text-gray-400"],[1,"text-center","py-12"],[1,"text-gray-400","text-6xl","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-4"],["mat-raised-button","","color","primary",1,"flex","items-center","space-x-2","mx-auto",3,"click"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),g(4,"Notes & Documents"),l(),c(5,"p",3),g(6,"Store and organize your financial notes, documents, and important information"),l()(),c(7,"div",4)(8,"button",5),R("click",function(){return a.importNotes()}),c(9,"mat-icon"),g(10,"upload"),l(),c(11,"span"),g(12,"Import"),l()(),c(13,"button",5),R("click",function(){return a.exportNotes()}),c(14,"mat-icon"),g(15,"download"),l(),c(16,"span"),g(17,"Export"),l()(),c(18,"button",6),R("click",function(){return a.addNote()}),c(19,"mat-icon"),g(20,"add"),l(),c(21,"span"),g(22,"Add Note"),l()()()(),c(23,"div",7)(24,"div",8)(25,"mat-icon",9),g(26,"search"),l(),c(27,"input",10),ut("ngModelChange",function(s){return gt(a.searchTerm,s)||(a.searchTerm=s),s}),R("input",function(){return a.onSearchChange()}),l()(),c(28,"div")(29,"select",11),ut("ngModelChange",function(s){return gt(a.selectedCategory,s)||(a.selectedCategory=s),s}),R("change",function(){return a.onCategoryChange()}),qe(30,G$,2,2,"option",12,E2),l()()(),L(32,X$,39,4,"div",13),c(33,"div",14),qe(34,K$,32,19,"div",8,U$),l(),L(36,Z$,12,1,"div",15),l()),r&2&&(p(27),dt("ngModel",a.searchTerm),p(2),dt("ngModel",a.selectedCategory),p(),Ke(a.categories),p(2),O("ngIf",a.isAddingNote),p(2),Ke(a.filteredNotes),p(2),O("ngIf",a.filteredNotes.length===0&&!a.isAddingNote))},dependencies:[ct,gl,ul,Yt,dl,Bt,li,Ri,Zt,dn,Qe,mo,Fn,Si],styles:[".line-clamp-3[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}"]});let n=t;return n})();var Ur=da(fa());var Xh=da(fa());function J$(n,t){if(n&1&&(c(0,"div",33)(1,"mat-icon",34),g(2,"error_outline"),l(),c(3,"span",35),g(4),l()()),n&2){let i=y();p(4),V(i.errorMessage)}}var qh=(()=>{let t=class t{constructor(e,r){this.dialogRef=e,this.data=r,this.startDate=null,this.endDate=null,this.errorMessage=""}ngOnInit(){var e,r;(e=this.data)!=null&&e.startDate&&(this.startDate=new Date(this.data.startDate)),(r=this.data)!=null&&r.endDate&&(this.endDate=new Date(this.data.endDate))}applyDateRange(){if(this.errorMessage="",!this.startDate||!this.endDate){this.errorMessage="Please select both start and end dates.";return}let e=(0,Xh.default)(this.startDate),r=(0,Xh.default)(this.endDate);if(!e.isValid()||!r.isValid()){this.errorMessage="Please enter valid dates.";return}if(r.isBefore(e)){this.errorMessage="End date must be on or after start date.";return}this.dialogRef.close({start:this.startDate,end:this.endDate})}onCancel(){this.dialogRef.close()}selectLast7Days(){let e=new Date,r=new Date;r.setDate(e.getDate()-6),this.startDate=r,this.endDate=e,this.errorMessage=""}selectLast30Days(){let e=new Date,r=new Date;r.setDate(e.getDate()-29),this.startDate=r,this.endDate=e,this.errorMessage=""}selectThisMonth(){let e=new Date,r=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0);this.startDate=r,this.endDate=a,this.errorMessage=""}};t.\u0275fac=function(r){return new(r||t)(W(mi),W(pi))},t.\u0275cmp=Le({type:t,selectors:[["app-custom-date-range-dialog"]],decls:76,vars:5,consts:[[1,"custom-date-range-dialog"],[1,"mobile-header"],[1,"header-content"],[1,"header-title"],[1,"header-actions"],["mat-icon-button","","color","primary","matTooltip","Apply Range",1,"apply-btn",3,"click","disabled"],["mat-icon-button","","matTooltip","Close",1,"close-btn",3,"click"],[1,"mobile-content"],[1,"content-wrapper"],[1,"date-range-card"],[1,"card-header"],[1,"card-icon"],[1,"card-title"],[1,"date-inputs-container"],[1,"date-input-group"],[1,"input-label"],[1,"label-icon"],[1,"date-input-wrapper"],["type","date","aria-label","Start date",1,"date-input",3,"ngModelChange","ngModel"],[1,"input-icon"],[1,"date-separator"],[1,"separator-line"],[1,"separator-icon"],["type","date","aria-label","End date",1,"date-input",3,"ngModelChange","ngModel"],["class","error-card","role","alert",4,"ngIf"],[1,"quick-actions-card"],[1,"quick-buttons"],["mat-stroked-button","","aria-label","Select last 7 days",1,"quick-btn",3,"click"],["mat-stroked-button","","aria-label","Select last 30 days",1,"quick-btn",3,"click"],["mat-stroked-button","","aria-label","Select this month",1,"quick-btn",3,"click"],[1,"action-buttons"],["mat-button","","aria-label","Cancel date selection",1,"cancel-btn",3,"click"],["mat-raised-button","","color","primary","aria-label","Apply selected date range",1,"apply-range-btn",3,"click","disabled"],["role","alert",1,"error-card"],[1,"error-icon"],[1,"error-text"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),g(4,"Select Date Range"),l(),c(5,"div",4)(6,"button",5),R("click",function(){return a.applyDateRange()}),c(7,"mat-icon"),g(8,"check"),l()(),c(9,"button",6),R("click",function(){return a.onCancel()}),c(10,"mat-icon"),g(11,"close"),l()()()()(),c(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10)(16,"mat-icon",11),g(17,"calendar_today"),l(),c(18,"span",12),g(19,"Date Range"),l()(),c(20,"div",13)(21,"div",14)(22,"label",15)(23,"mat-icon",16),g(24,"event"),l(),c(25,"span"),g(26,"Start Date"),l()(),c(27,"div",17)(28,"input",18),ut("ngModelChange",function(s){return gt(a.startDate,s)||(a.startDate=s),s}),l(),c(29,"mat-icon",19),g(30,"calendar_today"),l()()(),c(31,"div",20),oe(32,"div",21),c(33,"mat-icon",22),g(34,"arrow_downward"),l(),oe(35,"div",21),l(),c(36,"div",14)(37,"label",15)(38,"mat-icon",16),g(39,"event"),l(),c(40,"span"),g(41,"End Date"),l()(),c(42,"div",17)(43,"input",23),ut("ngModelChange",function(s){return gt(a.endDate,s)||(a.endDate=s),s}),l(),c(44,"mat-icon",19),g(45,"calendar_today"),l()()()()(),L(46,J$,5,1,"div",24),c(47,"div",25)(48,"div",10)(49,"mat-icon",11),g(50,"flash_on"),l(),c(51,"span",12),g(52,"Quick Select"),l()(),c(53,"div",26)(54,"button",27),R("click",function(){return a.selectLast7Days()}),c(55,"mat-icon"),g(56,"today"),l(),c(57,"span"),g(58,"Last 7 days"),l()(),c(59,"button",28),R("click",function(){return a.selectLast30Days()}),c(60,"mat-icon"),g(61,"calendar_month"),l(),c(62,"span"),g(63,"Last 30 days"),l()(),c(64,"button",29),R("click",function(){return a.selectThisMonth()}),c(65,"mat-icon"),g(66,"date_range"),l(),c(67,"span"),g(68,"This month"),l()()()(),c(69,"div",30)(70,"button",31),R("click",function(){return a.onCancel()}),g(71," Cancel "),l(),c(72,"button",32),R("click",function(){return a.applyDateRange()}),c(73,"mat-icon"),g(74,"check"),l(),g(75," Apply Range "),l()()()()()),r&2&&(p(6),O("disabled",!a.startDate||!a.endDate),p(22),dt("ngModel",a.startDate),p(15),dt("ngModel",a.endDate),p(3),O("ngIf",a.errorMessage),p(26),O("disabled",!a.startDate||!a.endDate))},dependencies:[ct,Yt,Bt,li,Zt,dn,Qe,Fn],styles:[".custom-date-range-dialog[_ngcontent-%COMP%]{width:100%;height:100vh;max-width:100vw;background:#f8fafc;display:flex;flex-direction:column;overflow:hidden}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e2e8f0;box-shadow:0 1px 3px #0000001a;padding:12px 16px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1f2937;flex:1}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;background:#3b82f6;color:#fff;transition:all .2s ease}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb;transform:translateY(-1px);box-shadow:0 2px 8px #3b82f64d}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]:disabled{background:#9ca3af;color:#6b7280}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;color:#6b7280;transition:all .2s ease}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f8fafc}.mobile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:16px}.date-range-card[_ngcontent-%COMP%], .quick-actions-card[_ngcontent-%COMP%], .error-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:16px;border-bottom:1px solid #f3f4f6}.card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#3b82f6}.card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1f2937}.date-range-card[_ngcontent-%COMP%]   .date-inputs-container[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:20px}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;font-weight:500;color:#374151}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#3b82f6}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{width:100%;padding:12px 48px 12px 16px;border:1px solid #d1d5db;border-radius:8px;font-size:16px;color:#1f2937;background:#fff;transition:all .2s ease}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{opacity:0;position:absolute;right:0;top:0;width:100%;height:100%;cursor:pointer}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;right:12px;color:#9ca3af;font-size:20px;width:20px;height:20px;pointer-events:none}.date-range-card[_ngcontent-%COMP%]   .date-separator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;margin:8px 0}.date-range-card[_ngcontent-%COMP%]   .date-separator[_ngcontent-%COMP%]   .separator-line[_ngcontent-%COMP%]{flex:1;height:1px;background:linear-gradient(90deg,transparent,#d1d5db,transparent);max-width:60px}.date-range-card[_ngcontent-%COMP%]   .date-separator[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#9ca3af;transform:rotate(90deg)}.error-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:16px;background:#fef2f2;border:1px solid #fecaca}.error-card[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#dc2626;flex-shrink:0;margin-top:2px}.error-card[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{font-size:14px;color:#dc2626;line-height:1.4;flex:1}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:12px}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;border:1px solid #d1d5db;border-radius:8px;background:#fff;color:#374151;font-size:14px;font-weight:500;transition:all .2s ease;text-align:left}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#3b82f6;color:#3b82f6;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6b7280}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:16px 0}.action-buttons[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{padding:12px 24px;border:1px solid #d1d5db;border-radius:8px;background:#fff;color:#6b7280;font-size:16px;font-weight:500;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#9ca3af;color:#374151}.action-buttons[_ngcontent-%COMP%]   .apply-range-btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;background:#3b82f6;color:#fff;font-size:16px;font-weight:500;display:flex;align-items:center;justify-content:center;gap:8px;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .apply-range-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb;transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}.action-buttons[_ngcontent-%COMP%]   .apply-range-btn[_ngcontent-%COMP%]:disabled{background:#9ca3af;color:#6b7280}.action-buttons[_ngcontent-%COMP%]   .apply-range-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]{padding:12px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:16px}.mobile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:12px;gap:12px}.date-range-card[_ngcontent-%COMP%]   .date-inputs-container[_ngcontent-%COMP%]{padding:12px;gap:16px}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]{padding:12px;gap:8px}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]{padding:10px 12px;font-size:13px}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.action-buttons[_ngcontent-%COMP%]{gap:8px}.action-buttons[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .apply-range-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]{padding:8px 12px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:8px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:15px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{gap:4px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:36px;height:36px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.mobile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:8px;gap:8px}.card-header[_ngcontent-%COMP%]{padding:12px}.card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:14px}}"]});let n=t;return n})();var A2=(n,t)=>t.id,ej=(n,t)=>t.value,tj=(n,t)=>t.categoryId;function nj(n,t){if(n&1){let i=ue();c(0,"div",31)(1,"div",32)(2,"mat-icon",33),g(3,"filter_alt"),l(),c(4,"span",34),g(5),l()(),c(6,"div",35)(7,"mat-icon",36),R("click",function(){j(i);let r=y(2);return z(r.quickClearFilters())}),g(8,"clear"),l()()()}if(n&2){let i=y(2);p(5),Wt("",i.getActiveFiltersCount()," Filter",i.getActiveFiltersCount()>1?"s":""," Active")}}function ij(n,t){if(n&1){let i=ue();c(0,"button",37),R("click",function(){j(i);let r=y(2);return z(r.onSearchChange(""))}),c(1,"mat-icon"),g(2,"close"),l()()}}function rj(n,t){n&1&&(c(0,"mat-icon",38),g(1,"check"),l())}function aj(n,t){if(n&1){let i=ue();c(0,"button",24),R("click",function(){let r=j(i).$implicit,a=y(2);return z(a.onSortChange(r.value))}),c(1,"mat-icon"),g(2),l(),c(3,"span"),g(4),l(),L(5,rj,2,0,"mat-icon",38),l()}if(n&2){let i=t.$implicit,e=y(2);Ue("active-menu-item",e.selectedSort===i.value),p(2),V(i.icon),p(2),V(i.label),p(),Oe(e.selectedSort===i.value?5:-1)}}function oj(n,t){n&1&&(c(0,"mat-icon",38),g(1,"check"),l())}function sj(n,t){n&1&&(c(0,"mat-icon",38),g(1,"check"),l())}function cj(n,t){n&1&&(c(0,"mat-icon",38),g(1,"check"),l())}function lj(n,t){n&1&&(c(0,"mat-icon",38),g(1,"check"),l())}function dj(n,t){n&1&&(c(0,"mat-icon",38),g(1,"check"),l())}function gj(n,t){if(n&1){let i=ue();c(0,"button",24),R("click",function(){let r=j(i).$implicit,a=y(2);return z(a.onCategoryChange(r.id))}),c(1,"mat-icon"),g(2),l(),c(3,"span"),g(4),l(),L(5,dj,2,0,"mat-icon",38),l()}if(n&2){let i=t.$implicit,e=y(2);Ue("active-menu-item",e.isCategorySelected(i.id)),p(2),V(i.icon),p(2),V(i.name),p(),Oe(e.isCategorySelected(i.id)?5:-1)}}function uj(n,t){n&1&&(c(0,"mat-icon",38),g(1,"check"),l())}function mj(n,t){n&1&&(c(0,"mat-icon",38),g(1,"check"),l())}function pj(n,t){n&1&&(c(0,"mat-icon",38),g(1,"check"),l())}function fj(n,t){n&1&&(c(0,"mat-icon",38),g(1,"check"),l())}function hj(n,t){n&1&&(c(0,"mat-icon",38),g(1,"check"),l())}function _j(n,t){if(n&1){let i=ue();c(0,"div",11),L(1,nj,9,2,"div",12),c(2,"div",13)(3,"div",14)(4,"mat-icon",15),g(5,"search"),l(),c(6,"input",16),R("ngModelChange",function(r){j(i);let a=y();return z(a.onSearchChange(r))}),l(),L(7,ij,3,0,"button",17),l()(),c(8,"div",18)(9,"button",19)(10,"mat-icon"),g(11,"sort"),l(),c(12,"span",20),g(13),l()(),c(14,"mat-menu",21,0),qe(16,aj,6,5,"button",22,ej),l(),c(18,"button",23)(19,"mat-icon"),g(20,"account_balance_wallet"),l(),c(21,"span",20),g(22),l()(),c(23,"mat-menu",21,1)(25,"button",24),R("click",function(){j(i);let r=y();return z(r.onTypeChange("all"))}),c(26,"mat-icon"),g(27,"list"),l(),c(28,"span"),g(29,"All Types"),l(),L(30,oj,2,0,"mat-icon",25),l(),c(31,"button",24),R("click",function(){j(i);let r=y();return z(r.onTypeChange("income"))}),c(32,"mat-icon",26),g(33,"trending_up"),l(),c(34,"span"),g(35,"Income"),l(),L(36,sj,2,0,"mat-icon",25),l(),c(37,"button",24),R("click",function(){j(i);let r=y();return z(r.onTypeChange("expense"))}),c(38,"mat-icon",27),g(39,"trending_down"),l(),c(40,"span"),g(41,"Expense"),l(),L(42,cj,2,0,"mat-icon",25),l()(),c(43,"button",28)(44,"mat-icon"),g(45,"category"),l(),c(46,"span",20),g(47),l()(),c(48,"mat-menu",21,2)(50,"button",24),R("click",function(){j(i);let r=y();return z(r.onCategoryChange("all"))}),c(51,"mat-icon"),g(52,"list"),l(),c(53,"span"),g(54,"All Categories"),l(),L(55,lj,2,0,"mat-icon",25),l(),oe(56,"mat-divider"),qe(57,gj,6,5,"button",22,A2),l(),c(59,"button",29)(60,"mat-icon"),g(61,"calendar_today"),l(),c(62,"span",20),g(63),l()(),c(64,"mat-menu",21,3)(66,"button",24),R("click",function(){j(i);let r=y();return z(r.onDateRangeChange(null))}),c(67,"mat-icon"),g(68,"all_inclusive"),l(),c(69,"span"),g(70,"All Time"),l(),L(71,uj,2,0,"mat-icon",25),l(),c(72,"button",24),R("click",function(){j(i);let r=y();return z(r.onDateRangeChange("this-month"))}),c(73,"mat-icon"),g(74,"calendar_month"),l(),c(75,"span"),g(76,"This Month"),l(),L(77,mj,2,0,"mat-icon",25),l(),c(78,"button",24),R("click",function(){j(i);let r=y();return z(r.onDateRangeChange("last-month"))}),c(79,"mat-icon"),g(80,"calendar_view_month"),l(),c(81,"span"),g(82,"Last Month"),l(),L(83,pj,2,0,"mat-icon",25),l(),c(84,"button",24),R("click",function(){j(i);let r=y();return z(r.onDateRangeChange("this-year"))}),c(85,"mat-icon"),g(86,"calendar_today"),l(),c(87,"span"),g(88,"This Year"),l(),L(89,fj,2,0,"mat-icon",25),l(),oe(90,"mat-divider"),c(91,"button",24),R("click",function(){j(i);let r=y();return z(r.openCustomDateRangeDialog())}),c(92,"mat-icon"),g(93,"date_range"),l(),c(94,"span"),g(95,"Custom Range"),l(),L(96,hj,2,0,"mat-icon",25),l()(),c(97,"button",30),R("click",function(){j(i);let r=y();return z(r.openImportDialog())}),c(98,"mat-icon"),g(99,"upload_file"),l(),c(100,"span",20),g(101,"Import"),l()()()()}if(n&2){let i=wn(15),e=wn(24),r=wn(49),a=wn(65),o=y();p(),O("ngIf",o.hasActiveFilters()),p(5),O("ngModel",o.searchTerm),p(),O("ngIf",o.searchTerm),p(2),Ha("matTooltip",o.getCurrentSortLabel()),O("matMenuTriggerFor",i),p(4),V(o.getCurrentSortLabel()),p(3),Ke(o.sortOptions),p(2),Ha("matTooltip",o.getCurrentTypeLabel()),O("matMenuTriggerFor",e),p(4),V(o.getCurrentTypeLabel()),p(3),Ue("active-menu-item",o.selectedType==="all"),p(5),O("ngIf",o.selectedType==="all"),p(),Ue("active-menu-item",o.selectedType==="income"),p(5),O("ngIf",o.selectedType==="income"),p(),Ue("active-menu-item",o.selectedType==="expense"),p(5),O("ngIf",o.selectedType==="expense"),p(),Ha("matTooltip",o.getCurrentCategoryLabel()),O("matMenuTriggerFor",r),p(4),V(o.getCurrentCategoryLabel()),p(3),Ue("active-menu-item",o.selectedCategory.includes("all")),p(5),O("ngIf",o.selectedCategory.includes("all")),p(2),Ke(o.getCategoriesList()),p(2),Ha("matTooltip",o.getCurrentDateLabel()),O("matMenuTriggerFor",a),p(4),V(o.getCurrentDateLabel()),p(3),Ue("active-menu-item",o.selectedDateRange===null),p(5),O("ngIf",o.selectedDateRange===null),p(),Ue("active-menu-item",o.isCurrentMonth()),p(5),O("ngIf",o.isCurrentMonth()),p(),Ue("active-menu-item",o.isLastMonth()),p(5),O("ngIf",o.isLastMonth()),p(),Ue("active-menu-item",o.isCurrentYear()),p(5),O("ngIf",o.isCurrentYear()),p(2),Ue("active-menu-item",o.isCustomDateRange()),p(5),O("ngIf",o.isCustomDateRange())}}function xj(n,t){if(n&1&&(c(0,"div",39)(1,"div",40)(2,"div",41)(3,"span",42),g(4),l(),c(5,"span",43),g(6),l()(),c(7,"div",41)(8,"span",44),g(9),se(10,"number"),l()(),c(11,"div",41)(12,"span",45),g(13),se(14,"number"),l()()()()),n&2){let i=y();p(4),V(i.getFilteredCount()),p(2),ee("/ ",i.getTotalCount(),""),p(3),ee("+\u20B9",vt(10,4,i.getTotalIncome(),"1.0-0"),""),p(4),ee("-\u20B9",vt(14,7,i.getTotalExpenses(),"1.0-0"),"")}}function Cj(n,t){if(n&1){let i=ue();c(0,"button",52),R("click",function(){j(i);let r=y(2);return z(r.onAddTransaction())}),c(1,"mat-icon"),g(2,"add"),l(),c(3,"span",53),g(4,"Add First Transaction"),l()()}}function bj(n,t){if(n&1){let i=ue();c(0,"button",54),R("click",function(){j(i);let r=y(2);return z(r.clearAllFilters())}),c(1,"mat-icon"),g(2,"clear"),l(),c(3,"span",53),g(4,"Clear Filters"),l()()}}function vj(n,t){if(n&1&&(c(0,"div",46)(1,"div",47)(2,"mat-icon"),g(3,"receipt_long"),l()(),c(4,"h3",48),g(5,"No transactions found"),l(),c(6,"p",49),g(7),l(),L(8,Cj,5,0,"button",50)(9,bj,5,0,"button",51),l()),n&2){let i=y();p(7),ee(" ",i.allTransactions.length===0?"Start by adding your first transaction":"No transactions match your current filters. Try adjusting your search or filters."," "),p(),O("ngIf",i.allTransactions.length===0),p(),O("ngIf",i.allTransactions.length>0&&i.hasActiveFilters())}}function yj(n,t){n&1&&(c(0,"mat-icon",59),g(1,"bookmark"),l())}function Mj(n,t){n&1&&(c(0,"mat-icon",60),g(1,"category"),l())}function Pj(n,t){if(n&1&&(c(0,"div",70),g(1),l()),n&2){let i=y().$implicit;p(),ee(" ",i.notes," ")}}function Oj(n,t){if(n&1){let i=ue();c(0,"div",71)(1,"div",72)(2,"button",73),R("click",function(){j(i);let r=y().$implicit,a=y();return z(a.onEditTransaction(r))}),c(3,"mat-icon"),g(4,"edit"),l()(),c(5,"button",74),R("click",function(){j(i);let r=y().$implicit,a=y();return z(a.onDeleteTransaction(r))}),c(6,"mat-icon"),g(7,"delete"),l()()()()}}function wj(n,t){if(n&1&&(c(0,"span",87),g(1),l()),n&2){let i=y(2).$implicit,e=y();p(),ee("(",e.getAccountType(i.accountId),")")}}function Sj(n,t){if(n&1&&(c(0,"div",77)(1,"div",78)(2,"mat-icon",79),g(3,"fingerprint"),l(),c(4,"span"),g(5,"Transaction ID"),l()(),c(6,"div",80)(7,"span",88),g(8),l()()()),n&2){let i=y(2).$implicit;p(8),V(i.id)}}function kj(n,t){if(n&1&&(c(0,"div",77)(1,"div",78)(2,"mat-icon",79),g(3,"repeat"),l(),c(4,"span"),g(5,"Recurring"),l()(),c(6,"div",80)(7,"span",89),g(8),l()()()),n&2){let i=y(2).$implicit,e=y();p(8),V(e.getRecurringInfo(i))}}function Tj(n,t){if(n&1&&(c(0,"div",77)(1,"div",78)(2,"mat-icon",79),g(3,"note"),l(),c(4,"span"),g(5,"Notes"),l()(),c(6,"div",80)(7,"span",90),g(8),l()()()),n&2){let i=y(2).$implicit;p(8),V(i.notes)}}function Ej(n,t){if(n&1&&(c(0,"div",77)(1,"div",78)(2,"mat-icon",79),g(3,"payment"),l(),c(4,"span"),g(5,"Payment Method"),l()(),c(6,"div",80)(7,"span",91),g(8),l()()()),n&2){let i=y(2).$implicit;p(8),V(i.paymentMethod)}}function Aj(n,t){if(n&1&&(c(0,"div",77)(1,"div",78)(2,"mat-icon",79),g(3,"payment"),l(),c(4,"span"),g(5,"Tax Amount"),l()(),oe(6,"div",80),c(7,"span",92),g(8),se(9,"number"),l()()),n&2){let i=y(2).$implicit;p(8),V(vt(9,1,i.taxAmount,"1.0-0"))}}function Ij(n,t){if(n&1&&(c(0,"div",77)(1,"div",78)(2,"mat-icon",79),g(3,"payment"),l(),c(4,"span"),g(5,"Tax Percentage"),l()(),c(6,"div",80)(7,"span",93),g(8),l()()()),n&2){let i=y(2).$implicit;p(8),ee("",i.taxPercentage,"%")}}function Dj(n,t){if(n&1&&(c(0,"div",95)(1,"span",96),g(2),l(),c(3,"span",97),g(4),l()()),n&2){let i=t.$implicit;p(2),V(i.categoryName),p(2),Wt("\u20B9",i.amount.toFixed(2)," (",i.percentage.toFixed(1),"%)")}}function Fj(n,t){if(n&1&&(c(0,"div",77)(1,"div",78)(2,"mat-icon",79),g(3,"category"),l(),c(4,"span"),g(5,"Category Splits"),l()(),c(6,"div",80)(7,"div",94),qe(8,Dj,5,3,"div",95,tj),l()()()),n&2){let i=y(2).$implicit;p(8),Ke(i.categorySplits)}}function Rj(n,t){if(n&1&&(c(0,"div",75)(1,"div",76)(2,"div",77)(3,"div",78)(4,"mat-icon",79),g(5,"account_balance"),l(),c(6,"span"),g(7,"Account"),l()(),c(8,"div",80)(9,"span",81),g(10),l(),L(11,wj,2,1,"span",82),l()(),L(12,Sj,9,1,"div",83)(13,kj,9,1,"div",83),c(14,"div",77)(15,"div",78)(16,"mat-icon",79),g(17),l(),c(18,"span"),g(19,"Status"),l()(),c(20,"div",80)(21,"span",84),g(22),l()()(),c(23,"div",77)(24,"div",78)(25,"mat-icon",79),g(26,"schedule"),l(),c(27,"span"),g(28,"Created Date"),l()(),c(29,"div",80)(30,"span",85),g(31),se(32,"date"),l()()(),c(33,"div",77)(34,"div",78)(35,"mat-icon",79),g(36,"schedule"),l(),c(37,"span"),g(38,"Created Time"),l()(),c(39,"div",80)(40,"span",86),g(41),se(42,"date"),l()()(),L(43,Tj,9,1,"div",83)(44,Ej,9,1,"div",83)(45,Aj,10,4,"div",83),l(),L(46,Ij,9,1,"div",83)(47,Fj,10,0,"div",83),l()),n&2){let i=y().$implicit,e=y();p(10),V(e.getAccountName(i.accountId)),p(),O("ngIf",e.getAccountType(i.accountId)),p(),O("ngIf",i.id),p(),O("ngIf",i.isRecurring),p(3),kt("color",e.getSyncStatusColor(i)),p(),V(e.getSyncStatusIcon(i)),p(4),kt("color",e.getSyncStatusColor(i)),p(),V(e.getSyncStatusInfo(i)),p(9),V(vt(32,17,e.dateService.toDate(i.date),"fullDate")),p(10),V(vt(42,20,e.dateService.toDate(i.date),"shortTime")),p(2),O("ngIf",i.notes&&i.notes.trim()),p(),O("ngIf",i.paymentMethod),p(),O("ngIf",i.taxAmount),p(),O("ngIf",i.taxPercentage),p(),O("ngIf",i.isCategorySplit&&(i.categorySplits==null?null:i.categorySplits.length))}}function Nj(n,t){if(n&1){let i=ue();c(0,"div",55),R("click",function(){let r=j(i).$implicit,a=y();return z(a.onLongPress(r))}),c(1,"div",56)(2,"div",57)(3,"div",58)(4,"mat-icon"),g(5),l(),L(6,yj,2,0,"mat-icon",59)(7,Mj,2,0,"mat-icon",60),l()(),c(8,"div",61)(9,"div",62),g(10),se(11,"titlecase"),l(),c(12,"div",63),g(13),se(14,"date"),l(),L(15,Pj,2,1,"div",64),l(),c(16,"div",65)(17,"div",66),g(18),se(19,"number"),l(),c(20,"div",67),g(21),l()()(),L(22,Oj,8,0,"div",68)(23,Rj,48,23,"div",69),l()}if(n&2){let i=t.$implicit,e=y();Ue("selected",(e.selectedTx==null?null:e.selectedTx.id)===i.id),p(4),kt("color",e.getCategoryColor(i.categoryId)),p(),ee(" ",e.getCategoryIcon(i.categoryId)," "),p(),Oe(i.isSplitTransaction?6:-1),p(),Oe(i.isCategorySplit?7:-1),p(3),ee(" ",pe(11,16,i.payee)," "),p(3),ee(" ",vt(14,18,e.dateService.toDate(i.date),"dd MMM - hh:mm")," "),p(2),O("ngIf",i.notes),p(2),O("ngClass",i.type==="income"?"income-text":"expense-text"),p(),Wt(" ",i.type==="income"?"+":"-","\u20B9",vt(19,21,i.amount,"1.0-0")," "),p(3),ee(" ",e.getCategoryName(i.categoryId)," "),p(),O("ngIf",(e.selectedTx==null?null:e.selectedTx.id)===i.id),p(),O("ngIf",(e.selectedTx==null?null:e.selectedTx.id)===i.id)}}var I2=(()=>{let t=class t{constructor(e,r,a,o,s,d,u){this.auth=e,this.route=r,this.dialog=a,this.dateService=o,this.store=s,this.filterService=d,this.categoryService=u,this.editTransaction=new Mn,this.deleteTransaction=new Mn,this.addTransaction=new Mn,this.importTransactions=new Mn,this.selectedTx=null,this.filteredTransactions=[],this.selectedSort="date-desc",this.showFilters=!1,this.accounts=[],this.searchTerm="",this.selectedCategory=["all"],this.selectedType="all",this.selectedDate=null,this.selectedDateRange=null,this.sortOptions=[{value:"date-desc",label:"Newest First",icon:"schedule"},{value:"date-asc",label:"Oldest First",icon:"schedule"},{value:"amount-desc",label:"Highest Amount",icon:"trending_up"},{value:"amount-asc",label:"Lowest Amount",icon:"trending_down"},{value:"payee-asc",label:"Payee A-Z",icon:"sort_by_alpha"},{value:"category-asc",label:"Category A-Z",icon:"category"}],this.subscription=new Ki,this.destroy$=new It,this.categories=[],this.transactions$=this.store.select(En),this.allTransactions=[]}ngOnInit(){this.setupFilterServiceSubscriptions(),this.setupTransactionSubscriptions(),this.loadUserCategories(),this.loadUserAccounts(),this.route.url.includes("transactions")&&(this.showFilters=!0)}ngOnDestroy(){this.subscription.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}setupTransactionSubscriptions(){this.subscription.add(this.transactions$.subscribe(e=>{this.allTransactions=e.sort((r,a)=>{var d,u;let o=this.dateService.toDate(r.date),s=this.dateService.toDate(a.date);return((d=s==null?void 0:s.getTime())!=null?d:0)-((u=o==null?void 0:o.getTime())!=null?u:0)}),this.filterTransactions()}))}setupFilterServiceSubscriptions(){this.subscription.add(this.filterService.searchTerm$.subscribe(e=>{this.searchTerm=e,this.filterTransactions()})),this.subscription.add(this.filterService.selectedCategory$.subscribe(e=>{this.selectedCategory=e,this.filterTransactions()})),this.subscription.add(this.filterService.selectedType$.subscribe(e=>{this.selectedType=e,this.filterTransactions()})),this.subscription.add(this.filterService.selectedDate$.subscribe(e=>{this.selectedDate=e,this.filterTransactions()})),this.subscription.add(this.filterService.selectedDateRange$.subscribe(e=>{this.selectedDateRange=e,this.filterTransactions()}))}filterTransactions(){let e;this.filterService.getSelectedDate()||this.filterService.getSelectedDateRange()||this.filterService.getSelectedYear()?e=this.filterService.filterTransactions(this.allTransactions,this.filterService.getCurrentFilterState()):e=this.filterService.filterCurrentYearTransactions(this.allTransactions,this.filterService.getCurrentFilterState());let a=this.filterService.sortTransactions(e,this.selectedSort);this.filteredTransactions=a}onSearchChange(e){this.filterService.setSearchTerm(e)}onSortChange(e){this.selectedSort=e,this.filterTransactions()}onTypeChange(e){this.filterService.setSelectedType(e)}onCategoryChange(e){e==="all"?this.filterService.setSelectedCategory(["all"]):this.filterService.setSelectedCategory([e])}onDateRangeChange(e){if(!e){this.filterService.clearSelectedDate();return}let r=(0,Ur.default)(),a,o;switch(e){case"today":a=r.startOf("day").toDate(),o=r.endOf("day").toDate();break;case"yesterday":a=r.subtract(1,"day").startOf("day").toDate(),o=r.endOf("day").toDate();break;case"this-week":a=r.startOf("week").toDate(),o=r.endOf("week").toDate();break;case"last-week":a=r.subtract(1,"week").startOf("week").toDate(),o=r.subtract(1,"week").endOf("week").toDate();break;case"this-month":a=r.startOf("month").toDate(),o=r.endOf("month").toDate();break;case"last-month":a=r.subtract(1,"month").startOf("month").toDate(),o=r.subtract(1,"month").endOf("month").toDate();break;case"this-year":a=r.startOf("year").toDate(),o=r.endOf("year").toDate();break;default:return}this.filterService.setSelectedDateRange(a,o)}isCurrentMonth(){let e=(0,Ur.default)().month(),r=(0,Ur.default)().year();return this.filteredTransactions.some(a=>{let o=(0,Ur.default)(this.dateService.toDate(a.date));return o.month()===e&&o.year()===r})}isLastMonth(){let e=(0,Ur.default)().subtract(1,"month").month(),r=(0,Ur.default)().subtract(1,"month").year();return this.filteredTransactions.some(a=>{let o=(0,Ur.default)(this.dateService.toDate(a.date));return o.month()===e&&o.year()===r})}isCurrentYear(){let e=(0,Ur.default)().year();return this.filteredTransactions.some(r=>(0,Ur.default)(this.dateService.toDate(r.date)).year()===e)}hasActiveFilters(){return this.filterService.hasActiveFilters()}getCurrentSortLabel(){let e=this.sortOptions.find(r=>r.value===this.selectedSort);return e?e.label:"Sort"}getCurrentTypeLabel(){switch(this.selectedType){case"income":return"Income";case"expense":return"Expense";default:return"All Types"}}getCurrentCategoryLabel(){if(this.selectedCategory.includes("all"))return"All Categories";let e=this.categories.find(r=>r.id===this.selectedCategory[0]);return e?e.name:"Unknown Category"}getCurrentDateLabel(){if(this.selectedDate)return(0,Ur.default)(this.selectedDate).format("MMM DD, YYYY");if(this.selectedDateRange){let e=(0,Ur.default)(this.selectedDateRange.startDate).format("MMM DD"),r=(0,Ur.default)(this.selectedDateRange.endDate).format("MMM DD, YYYY");return`${e} - ${r}`}return"All Dates"}onLongPress(e){this.selectedTx=e}onEditTransaction(e){this.editTransaction.emit(e)}onDeleteTransaction(e){this.dialog.open(ma,{width:"300px",data:{title:"Delete Transaction",message:"Are you sure you want to delete this transaction?",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(r=>{r&&this.deleteTransaction.emit(e)})}onAddTransaction(){this.addTransaction.emit()}onImportTransactions(){this.importTransactions.emit()}getTotalIncome(){return this.filteredTransactions.filter(e=>e.type==="income").reduce((e,r)=>e+r.amount,0)}getTotalExpenses(){return this.filteredTransactions.filter(e=>e.type==="expense").reduce((e,r)=>e+r.amount,0)}getNetAmount(){return this.getTotalIncome()-this.getTotalExpenses()}getCategoriesList(){return this.categories.map(e=>de(ce({},e),{id:e.id||""}))}getFilteredCount(){return this.filteredTransactions.length}getTotalCount(){return this.allTransactions.length}getCurrentYear(){return(0,Ur.default)().year()}getCategoryIcon(e){let r=this.categories.find(a=>a.id===e);return(r==null?void 0:r.icon)||"category"}getCategoryColor(e){let r=this.categories.find(a=>a.id===e);return(r==null?void 0:r.color)||"#46777f"}loadUserCategories(){return ge(this,null,function*(){this.subscription.add(this.store.select(gn).subscribe(e=>{this.categories=e}))})}loadUserAccounts(){return ge(this,null,function*(){this.subscription.add(this.store.select(Ta).subscribe(e=>{this.accounts=e}))})}getAccountName(e){let r=this.accounts.find(a=>a.accountId===e);return(r==null?void 0:r.name)||"Unknown Account"}getAccountType(e){let r=this.accounts.find(a=>a.accountId===e);return(r==null?void 0:r.type)||"Unknown"}getRecurringInfo(e){return e.recurringInterval?`Repeats ${e.recurringInterval.toLowerCase()}`:""}getSyncStatusInfo(e){switch(e.syncStatus){case Ai.PENDING:return"Pending sync";case Ai.SYNCED:return"Synced";case Ai.FAILED:return"Sync failed";default:return""}}getSyncStatusIcon(e){switch(e.syncStatus){case Ai.PENDING:return"schedule";case Ai.SYNCED:return"check_circle";case Ai.FAILED:return"error";default:return"help"}}getSyncStatusColor(e){switch(e.syncStatus){case Ai.PENDING:return"orange";case Ai.SYNCED:return"green";case Ai.FAILED:return"red";default:return"gray"}}clearAllFilters(){this.filterService.clearAllFilters(),this.selectedSort="date-desc"}quickClearFilters(){this.filterService.clearAllFilters()}onClearDateFilter(){this.filterService.clearSelectedDate()}getActiveFiltersCount(){return this.filterService.getActiveFiltersCount()}isCategorySelected(e){return this.selectedCategory.includes(e)}isCustomDateRange(){return!!(this.selectedDate||this.selectedDateRange&&(this.selectedDateRange.startDate!==(0,Ur.default)().startOf("month").toDate()||this.selectedDateRange.endDate!==(0,Ur.default)().endOf("month").toDate()))}openCustomDateRangeDialog(){var r,a,o,s;this.dialog.open(qh,{width:"400px",data:{startDate:(a=(r=this.selectedDateRange)==null?void 0:r.startDate)!=null?a:new Date,endDate:(s=(o=this.selectedDateRange)==null?void 0:o.endDate)!=null?s:new Date}}).afterClosed().subscribe(d=>{d&&this.filterService.setSelectedDateRange(d.start,d.end)})}openImportDialog(){this.importTransactions.emit()}getCategoryName(e){let r=this.categories.find(a=>a.id===e);return(r==null?void 0:r.name)||e}};t.\u0275fac=function(r){return new(r||t)(W(Mt),W(on),W(xn),W(Vt),W(mt),W(Ro),W(So))},t.\u0275cmp=Le({type:t,selectors:[["mobile-transaction-list"]],outputs:{editTransaction:"editTransaction",deleteTransaction:"deleteTransaction",addTransaction:"addTransaction",importTransactions:"importTransactions"},decls:8,vars:3,consts:[["sortMenu","matMenu"],["typeMenu","matMenu"],["categoryMenu","matMenu"],["dateMenu","matMenu"],[1,"mobile-transaction-container"],["class","mobile-filter-header",4,"ngIf"],["class","transaction-summary",4,"ngIf"],[1,"transaction-list-container"],[1,"transaction-scroll"],["class","empty-state",4,"ngIf"],[1,"transaction-card",3,"selected"],[1,"mobile-filter-header"],["class","active-filters-indicator flex justify-between items-center",4,"ngIf"],[1,"search-container"],[1,"search-input-wrapper"],[1,"search-icon"],["type","text","placeholder","Search transactions...",1,"search-input",3,"ngModelChange","ngModel"],["mat-icon-button","","class","clear-search-btn",3,"click",4,"ngIf"],[1,"filter-menu-container","md:justify-center"],["mat-icon-button","","aria-label","Sort transactions",1,"filter-menu-btn",3,"matMenuTriggerFor","matTooltip"],[1,"filter-btn-text"],[1,"filter-menu"],["mat-menu-item","",3,"active-menu-item"],["mat-icon-button","","aria-label","Filter by transaction type",1,"filter-menu-btn",3,"matMenuTriggerFor","matTooltip"],["mat-menu-item","",3,"click"],["class","check-icon",4,"ngIf"],[1,"income-icon"],[1,"expense-icon"],["mat-icon-button","","aria-label","Filter by category",1,"filter-menu-btn",3,"matMenuTriggerFor","matTooltip"],["mat-icon-button","","aria-label","Filter by date range",1,"filter-menu-btn",3,"matMenuTriggerFor","matTooltip"],["mat-icon-button","","matTooltip","Import transactions","aria-label","Import transactions",1,"filter-menu-btn","import-btn",3,"click"],[1,"active-filters-indicator","flex","justify-between","items-center"],[1,"filter-icon-container"],[1,"filter-icon"],[1,"filter-text"],[1,""],[1,"text-black","relative","top-1","!text-blue-700","text-sm",3,"click"],["mat-icon-button","",1,"clear-search-btn",3,"click"],[1,"check-icon"],[1,"transaction-summary"],[1,"summary-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-total"],[1,"stat-value","income"],[1,"stat-value","expense"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title","text-base"],[1,"empty-description","text-base"],["mat-raised-button","","color","primary","class","add-first-btn",3,"click",4,"ngIf"],["mat-stroked-button","","class","clear-filters-btn-large",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",1,"add-first-btn",3,"click"],[1,"text-base"],["mat-stroked-button","",1,"clear-filters-btn-large",3,"click"],[1,"transaction-card",3,"click"],[1,"transaction-main"],[1,"transaction-icon"],[1,"icon-container"],[1,"split-transaction"],[1,"category-split-transaction"],[1,"transaction-details"],[1,"transaction-title","text-base"],[1,"transaction-date","text-base"],["class","transaction-notes text-base",4,"ngIf"],[1,"transaction-amount"],[1,"amount-value","text-base",3,"ngClass"],[1,"amount-type","text-base"],["class","transaction-actions",4,"ngIf"],["class","transaction-details-expanded",4,"ngIf"],[1,"transaction-notes","text-base"],[1,"transaction-actions"],[1,"actions-container"],["mat-icon-button","","matTooltip","Edit transaction",1,"action-button","edit-btn",3,"click"],["mat-icon-button","","matTooltip","Delete transaction",1,"action-button","delete-btn",3,"click"],[1,"transaction-details-expanded"],[1,"details-container"],[1,"detail-row"],[1,"detail-label"],[1,"detail-icon"],[1,"detail-value"],[1,"account-name"],["class","account-type",4,"ngIf"],["class","detail-row",4,"ngIf"],[1,"sync-status"],[1,"created-date"],[1,"created-time"],[1,"account-type"],[1,"transaction-id"],[1,"recurring-info"],[1,"transaction-notes"],[1,"payment-method"],[1,"tax-amount"],[1,"tax-percentage"],[1,"category-splits-list"],[1,"category-split-item"],[1,"split-category"],[1,"split-amount"]],template:function(r,a){r&1&&(c(0,"div",4),L(1,_j,102,42,"div",5)(2,xj,15,10,"div",6),c(3,"div",7)(4,"div",8),L(5,vj,10,3,"div",9),qe(6,Nj,24,24,"div",10,A2),l()()()),r&2&&(p(),O("ngIf",a.showFilters),p(),O("ngIf",a.showFilters&&a.filteredTransactions.length>0),p(3),O("ngIf",!a.filteredTransactions.length),p(),Ke(a.filteredTransactions))},dependencies:[Zn,ct,Yt,Bt,li,El,Zt,dn,Qe,_o,ho,xo,Fn,Os,ir,Si],styles:[".mobile-transaction-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;background:#f8fafc;position:relative}.mobile-filter-header[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e2e8f0;padding:12px;box-shadow:0 1px 3px #0000001a;z-index:10}.active-filters-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 12px;background:#eff6ff;border:1px solid #bfdbfe;border-radius:8px;margin-bottom:8px;animation:_ngcontent-%COMP%_fadeIn .3s ease}.active-filters-indicator[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{color:#2563eb;font-size:16px;width:16px;height:16px}.active-filters-indicator[_ngcontent-%COMP%]   .filter-text[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#2563eb}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.search-container[_ngcontent-%COMP%]{margin-bottom:12px}.search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:0 12px;transition:all .2s ease}.search-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#3b82f6;background:#fff;box-shadow:0 0 0 3px #3b82f61a}.search-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:20px;width:20px;height:20px;margin-right:8px}.search-input[_ngcontent-%COMP%]{flex:1;border:none;background:transparent;padding:12px 0;font-size:16px;color:#1f2937;outline:none}.search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.clear-search-btn[_ngcontent-%COMP%]{color:#9ca3af;width:32px;height:32px;margin-left:8px}.clear-search-btn[_ngcontent-%COMP%]:hover{color:#6b7280;background:#f3f4f6}.filter-menu-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.filter-menu-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;border:1px solid #e2e8f0;background:#fff;color:#374151;transition:all .2s ease;flex-shrink:0;position:relative;display:flex;align-items:center;justify-content:center}.filter-menu-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#cbd5e1;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.filter-menu-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 1px 2px #0000001a}.filter-menu-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.filter-menu-btn[_ngcontent-%COMP%]   .filter-btn-text[_ngcontent-%COMP%]{display:none;font-size:12px;font-weight:500;margin-left:4px;white-space:nowrap}.filter-menu-btn.import-btn[_ngcontent-%COMP%]{background:#f0f9ff;border-color:#0ea5e9;color:#0ea5e9}.filter-menu-btn.import-btn[_ngcontent-%COMP%]:hover{background:#e0f2fe;border-color:#0284c7;color:#0284c7;transform:translateY(-1px);box-shadow:0 2px 4px #0ea5e933}.filter-menu-btn.import-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 1px 2px #0ea5e91a}@media (min-width: 768px){.filter-menu-btn[_ngcontent-%COMP%]{width:auto;min-width:120px;height:40px;padding:0 12px;justify-content:flex-start}.filter-menu-btn[_ngcontent-%COMP%]   .filter-btn-text[_ngcontent-%COMP%]{display:inline-block}.filter-menu-container[_ngcontent-%COMP%]{gap:12px}}@media (min-width: 1024px){.filter-menu-btn[_ngcontent-%COMP%]{min-width:140px;padding:0 16px}}.clear-filters-btn[_ngcontent-%COMP%]{color:#ef4444;width:40px;height:40px;border-radius:8px;background:#fef2f2;border:1px solid #fecaca;flex-shrink:0}.clear-filters-btn[_ngcontent-%COMP%]:hover{background:#fee2e2;border-color:#fca5a5;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.clear-filters-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 1px 2px #0000001a}.clear-filters-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.filter-menu[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]{padding:0}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;font-size:14px;color:#374151;transition:all .2s ease}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item.active-menu-item[_ngcontent-%COMP%]{background:#eff6ff;color:#1d4ed8}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item.active-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1d4ed8}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6b7280}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon.income-icon[_ngcontent-%COMP%]{color:#10b981}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon.expense-icon[_ngcontent-%COMP%]{color:#ef4444}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon.check-icon[_ngcontent-%COMP%]{margin-left:auto;color:#1d4ed8}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.filter-menu[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin:4px 0}.transaction-summary[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e2e8f0;padding:8px 12px}.summary-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;flex:1;justify-content:center}.stat-value[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1f2937}.stat-value.income[_ngcontent-%COMP%]{color:#10b981}.stat-value.expense[_ngcontent-%COMP%]{color:#ef4444}.stat-total[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af;font-weight:400}.transaction-list-container[_ngcontent-%COMP%]{flex:1;overflow:hidden;position:relative}.transaction-scroll[_ngcontent-%COMP%]{height:100%;padding:12px;overflow-y:auto;max-height:70vh}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#6b7280}.empty-icon[_ngcontent-%COMP%]{margin-bottom:16px}.empty-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#d1d5db}.empty-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#374151;margin-bottom:8px}.empty-description[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin-bottom:24px;line-height:1.5}.add-first-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;border-radius:8px;font-weight:500}.clear-filters-btn-large[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;border-radius:8px;font-weight:500;color:#ef4444;border-color:#fecaca;background:#fef2f2}.clear-filters-btn-large[_ngcontent-%COMP%]:hover{background:#fee2e2;border-color:#fca5a5}.transaction-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:10px;border:1px solid #e5e7eb;overflow:hidden;transition:all .2s ease;cursor:pointer}.transaction-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.transaction-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.transaction-main[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;gap:12px}.transaction-icon[_ngcontent-%COMP%]{flex-shrink:0}.icon-container[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.icon-container.income-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0)}.icon-container.expense-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fee2e2,#fecaca)}.income-icon[_ngcontent-%COMP%]{color:#059669;font-size:22px;width:22px;height:22px}.expense-icon[_ngcontent-%COMP%]{color:#dc2626;font-size:22px;width:22px;height:22px}.transaction-details[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:2px}.transaction-title[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;line-height:1.3;font-size:.9rem;margin:0}.transaction-category[_ngcontent-%COMP%]{font-size:.9rem;color:#6b7280;font-weight:500;margin:0}.transaction-date[_ngcontent-%COMP%]{font-size:.9rem;color:#9ca3af;display:flex;align-items:center;gap:4px;margin:0}.time-separator[_ngcontent-%COMP%]{color:#d1d5db}.transaction-notes[_ngcontent-%COMP%]{font-size:11px;color:#6b7280;font-style:italic;line-height:1.4;margin:2px 0 0}.transaction-amount[_ngcontent-%COMP%]{text-align:right;flex-shrink:0;display:flex;flex-direction:column;align-items:flex-end;gap:1px}.amount-value[_ngcontent-%COMP%]{font-size:15px;font-weight:700;margin:0}.amount-value.income-text[_ngcontent-%COMP%]{color:#059669}.amount-value.expense-text[_ngcontent-%COMP%]{color:#dc2626}.amount-type[_ngcontent-%COMP%]{font-size:10px;color:#9ca3af;text-transform:capitalize;font-weight:500;letter-spacing:.5px;margin:0;background-color:#fff;padding:1px 5px;border-radius:5px;position:relative;color:#766d6d;font-weight:600;top:5px;left:4px;border:.5px dotted}.transaction-actions[_ngcontent-%COMP%]{background:#f8fafc;border-top:1px solid #e5e7eb;padding:8px 12px;animation:_ngcontent-%COMP%_slideDown .2s ease}.actions-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px}.action-button[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;transition:all .2s ease}.action-button.edit-btn[_ngcontent-%COMP%]{border:1px dashed gray;color:gray}.action-button.edit-btn[_ngcontent-%COMP%]:hover{background:#bfdbfe;transform:scale(1.05)}.action-button.delete-btn[_ngcontent-%COMP%]{border:1px solid #dc2626;color:#dc2626}.action-button.delete-btn[_ngcontent-%COMP%]:hover{background:#fecaca;transform:scale(1.05)}.transaction-details-expanded[_ngcontent-%COMP%]{background:#f8fafc;border-top:1px solid #e5e7eb;padding:16px 12px;animation:_ngcontent-%COMP%_slideDown .3s ease}.details-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f1f5f9}.detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.detail-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-shrink:0;min-width:120px}.detail-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6b7280}.detail-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#374151}.detail-value[_ngcontent-%COMP%]{flex:1;text-align:right;display:flex;flex-direction:column;align-items:flex-end;gap:2px}.account-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1f2937}.account-type[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-style:italic}.transaction-id[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-family:Courier New,monospace;background:#f3f4f6;padding:2px 6px;border-radius:4px}.recurring-info[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#059669;background:#d1fae5;padding:4px 8px;border-radius:6px}.sync-status[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.created-date[_ngcontent-%COMP%], .created-time[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.transaction-notes[_ngcontent-%COMP%]{font-size:14px;color:#374151;font-style:italic;line-height:1.4;text-align:left;max-width:200px;word-wrap:break-word}.fab-add[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:1000;box-shadow:0 8px 24px #3b82f64d;transition:all .2s ease}.fab-add[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 12px 32px #3b82f666}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 480px){.filter-menu-container[_ngcontent-%COMP%]{flex-direction:row;align-items:stretch;justify-content:flex-end}.filter-menu-btn[_ngcontent-%COMP%]{justify-content:space-between}.summary-stats[_ngcontent-%COMP%]{gap:8px}.stat-item[_ngcontent-%COMP%]{flex-direction:row;gap:4px}}.split-transaction[_ngcontent-%COMP%]{position:relative;font-size:27px;top:-28px!important;left:-24px!important;color:#b75e5e}.category-split-transaction[_ngcontent-%COMP%]{position:relative;font-size:27px;top:-28px!important;left:-24px!important;color:#059669}.category-splits-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-top:8px}.category-split-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:#f0f9ff;border:1px solid #bae6fd;border-radius:6px;font-size:14px}.category-split-item[_ngcontent-%COMP%]   .split-category[_ngcontent-%COMP%]{font-weight:500;color:#0369a1}.category-split-item[_ngcontent-%COMP%]   .split-amount[_ngcontent-%COMP%]{font-weight:600;color:#059669}"]});let n=t;return n})();var Kh=da(fa());var Zh=(n,t)=>t.id,Bj=(n,t,i)=>({"max-h-[calc(75vh-210px)]":n,"max-h-[65vh]":t,"max-h-[79vh]":i}),D2=n=>({"min-w-[150px] max-w-[150px]":n});function Vj(n,t){if(n&1){let i=ue();c(0,"div",21)(1,"div",22)(2,"span",23),g(3),l(),c(4,"button",24),R("click",function(){j(i);let r=y();return z(r.onBulkUpdateCategory())}),c(5,"mat-icon",25),g(6,"category"),l(),g(7," Update Category "),l(),c(8,"button",26),R("click",function(){j(i);let r=y();return z(r.onBulkDelete())}),c(9,"mat-icon",25),g(10,"delete"),l(),g(11," Delete "),l()()()}if(n&2){let i=y();p(3),ee("",i.getSelectedCount()," selected")}}function $j(n,t){if(n&1){let i=ue();c(0,"th",54)(1,"mat-checkbox",55),R("change",function(r){j(i);let a=y(3);return z(r?a.toggleAllSelection():null)}),l()()}if(n&2){let i=y(3);p(),O("checked",i.isAllSelected)("indeterminate",i.isIndeterminate)("disabled",!i.dataSource.data.length)}}function jj(n,t){if(n&1){let i=ue();c(0,"td",56)(1,"mat-checkbox",57),R("click",function(r){return j(i),z(r.stopPropagation())})("change",function(r){let a=j(i).$implicit,o=y(3);return z(r?o.toggleSelection(a):null)}),l()()}if(n&2){let i=t.$implicit,e=y(3);p(),O("checked",e.isSelected(i))}}function zj(n,t){n&1&&(ts(0,51),L(1,$j,2,3,"th",52)(2,jj,2,1,"td",53),ns())}function Yj(n,t){n&1&&(c(0,"th",58)(1,"div",59)(2,"mat-icon",60),g(3,"schedule"),l(),c(4,"span",61),g(5,"Date"),l()()())}function Uj(n,t){if(n&1&&(g(0),se(1,"date")),n&2){let i=y().$implicit;ee(" ",vt(1,1,i.date.seconds*1e3,"MMM dd")," ")}}function Gj(n,t){if(n&1&&(g(0),se(1,"date")),n&2){let i=y().$implicit;ee(" ",vt(1,1,i.date.seconds*1e3,"dd MMM yyyy hh:mm a")," ")}}function Wj(n,t){if(n&1&&(g(0),se(1,"date")),n&2){let i=y().$implicit;ee(" ",vt(1,1,i.date.seconds*1e3,"dd MMM yyyy")," ")}}function Hj(n,t){if(n&1&&(c(0,"div",65),g(1),se(2,"date"),l()),n&2){let i=y().$implicit;p(),ee(" ",vt(2,1,i.date.seconds*1e3,"hh:mm a")," ")}}function Xj(n,t){if(n&1&&(c(0,"td",62)(1,"div",63),L(2,Uj,2,4)(3,Gj,2,4)(4,Wj,2,4),l(),L(5,Hj,3,4,"div",64),l()),n&2){let i=y(2);p(2),Oe(i.breakpointService.device.isTablePortrait?2:i.breakpointService.device.isDesktop?3:4),p(3),O("ngIf",!i.breakpointService.device.isDesktop)}}function qj(n,t){n&1&&(c(0,"th",66)(1,"div",67)(2,"mat-icon",60),g(3,"category"),l(),c(4,"span",61),g(5,"Category"),l()()())}function Kj(n,t){if(n&1&&(c(0,"td",68)(1,"div",69)(2,"div",70)(3,"mat-icon",71),g(4),l()(),c(5,"span",72),g(6),l()()()),n&2){let i=t.$implicit,e=y(2);p(3),kt("color",e.getCategoryColor(i.categoryId)),p(),V(e.getCategoryIcon(i.categoryId)),p(2),ee(" ",e.getCategoryName(i.categoryId)," ")}}function Zj(n,t){if(n&1&&(c(0,"th",73)(1,"div",59)(2,"mat-icon",60),g(3,"description"),l(),c(4,"span",61),g(5,"Description"),l()()()),n&2){let i=y(2);O("ngClass",qa(1,D2,i.breakpointService.device.isTablePortrait))}}function Qj(n,t){if(n&1&&(c(0,"div",77),g(1),l()),n&2){let i=y().$implicit;O("matTooltip",i.payee),p(),V(i.payee)}}function Jj(n,t){if(n&1){let i=ue();c(0,"input",78),ut("ngModelChange",function(r){j(i);let a=y().$implicit;return gt(a.payee,r)||(a.payee=r),z(r)}),l()}if(n&2){let i=y().$implicit;dt("ngModel",i.payee)}}function ez(n,t){if(n&1&&(c(0,"td",74),L(1,Qj,2,2,"div",75)(2,Jj,1,1,"input",76),l()),n&2){let i=t.$implicit,e=y(2);O("ngClass",qa(3,D2,e.breakpointService.device.isTablePortrait)),p(),O("ngIf",!i.isEditing),p(),O("ngIf",i.isEditing)}}function tz(n,t){n&1&&(c(0,"th",79)(1,"div",59)(2,"mat-icon",60),g(3,"account_balance_wallet"),l(),c(4,"span",61),g(5,"Amount"),l()()())}function nz(n,t){if(n&1&&(c(0,"span",83),g(1),l()),n&2){let i=y().$implicit;Tt(i.type==="income"?"text-green-700":"text-red-800"),p(),ee(" ",(i.type=="income"?"+":"-")+" \u20B9"+i.amount.toLocaleString()," ")}}function iz(n,t){if(n&1){let i=ue();c(0,"input",84),ut("ngModelChange",function(r){j(i);let a=y().$implicit;return gt(a.amount,r)||(a.amount=r),z(r)}),l()}if(n&2){let i=y().$implicit;dt("ngModel",i.amount)}}function rz(n,t){if(n&1&&(c(0,"td",80),L(1,nz,2,3,"span",81)(2,iz,1,1,"input",82),l()),n&2){let i=t.$implicit;p(),O("ngIf",!i.isEditing),p(),O("ngIf",i.isEditing)}}function az(n,t){n&1&&(c(0,"th",85)(1,"div",59)(2,"mat-icon",60),g(3,"swap_horiz"),l(),c(4,"span",61),g(5,"Type"),l()()())}function oz(n,t){if(n&1&&(c(0,"span")(1,"span",89)(2,"mat-icon",90),g(3),l(),g(4),l()()),n&2){let i=y().$implicit;p(),Tt(i.type==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),p(2),V(i.type==="income"?"trending_up":"trending_down"),p(),ee(" ",i.type," ")}}function sz(n,t){if(n&1){let i=ue();c(0,"select",91),ut("ngModelChange",function(r){j(i);let a=y().$implicit;return gt(a.type,r)||(a.type=r),z(r)}),c(1,"option",92),g(2,"Income"),l(),c(3,"option",93),g(4,"Expense"),l()()}if(n&2){let i=y().$implicit;dt("ngModel",i.type)}}function cz(n,t){if(n&1&&(c(0,"td",86),L(1,oz,5,4,"span",87)(2,sz,5,1,"select",88),l()),n&2){let i=t.$implicit;p(),O("ngIf",!i.isEditing),p(),O("ngIf",i.isEditing)}}function lz(n,t){n&1&&(c(0,"th",58)(1,"div",59)(2,"mat-icon",60),g(3,"account_balance"),l(),c(4,"span",61),g(5,"Account"),l()()())}function dz(n,t){if(n&1&&(c(0,"td",62)(1,"div",63),g(2),l()()),n&2){let i=t.$implicit,e=y(2);p(2),ee(" ",e.getAccountName(i.accountId)," ")}}function gz(n,t){n&1&&(c(0,"th",94)(1,"div",95)(2,"mat-icon",60),g(3,"settings"),l(),c(4,"span",61),g(5,"Actions"),l()()())}function uz(n,t){if(n&1){let i=ue();c(0,"div",98)(1,"button",99),R("click",function(r){j(i);let a=y().$implicit,o=y(2);return r.stopPropagation(),z(o.onStartRowEdit(a))}),c(2,"mat-icon",100),g(3,"edit"),l()(),c(4,"button",101),R("click",function(r){j(i);let a=y().$implicit,o=y(2);return r.stopPropagation(),z(o.onDeleteTransaction(a))}),c(5,"mat-icon",100),g(6,"delete"),l()()()}}function mz(n,t){if(n&1){let i=ue();c(0,"div",98)(1,"button",102),R("click",function(r){j(i);let a=y().$implicit,o=y(2);return r.stopPropagation(),z(o.onSaveRowEdit(a))}),c(2,"mat-icon",100),g(3,"check"),l()(),c(4,"button",103),R("click",function(r){j(i);let a=y().$implicit,o=y(2);return r.stopPropagation(),z(o.onCancelRowEdit(a))}),c(5,"mat-icon",100),g(6,"close"),l()()()}}function pz(n,t){if(n&1&&(c(0,"td",96),L(1,uz,7,0,"div",97)(2,mz,7,0,"div",97),l()),n&2){let i=t.$implicit;p(),O("ngIf",!i.isEditing),p(),O("ngIf",i.isEditing)}}function fz(n,t){n&1&&oe(0,"tr",104)}function hz(n,t){if(n&1){let i=ue();c(0,"tr",105),R("click",function(){let r=j(i).$implicit,a=y(2);return z(a.onRowClick(r))}),l()}}function _z(n,t){if(n&1&&(c(0,"div",27)(1,"table",28),L(2,zj,3,0,"ng-container",29),ts(3,30),L(4,Yj,6,0,"th",31)(5,Xj,6,2,"td",32),ns(),ts(6,33),L(7,qj,6,0,"th",34)(8,Kj,7,4,"td",35),ns(),ts(9,36),L(10,Zj,6,3,"th",37)(11,ez,3,5,"td",38),ns(),ts(12,39),L(13,tz,6,0,"th",40)(14,rz,3,2,"td",41),ns(),ts(15,42),L(16,az,6,0,"th",43)(17,cz,3,2,"td",44),ns(),ts(18,45),L(19,lz,6,0,"th",31)(20,dz,3,1,"td",32),ns(),ts(21,46),L(22,gz,6,0,"th",47)(23,pz,3,2,"td",48),ns(),L(24,fz,1,0,"tr",49)(25,hz,1,0,"tr",50),l()()),n&2){let i=y();p(),O("dataSource",i.dataSource),p(),O("ngIf",(i.breakpointService.device.isTablePortrait||i.breakpointService.device.isDesktop)&&!i.isHome),p(22),O("matHeaderRowDef",i.displayedColumns),p(),O("matRowDefColumns",i.displayedColumns)}}function xz(n,t){if(n&1){let i=ue();c(0,"div",125)(1,"mat-checkbox",57),R("click",function(r){return j(i),z(r.stopPropagation())})("change",function(r){j(i);let a=y().$implicit,o=y(2);return z(r?o.toggleSelection(a):null)}),l()()}if(n&2){let i=y().$implicit,e=y(2);p(),O("checked",e.isSelected(i))}}function Cz(n,t){if(n&1){let i=ue();c(0,"div",109),R("click",function(){let r=j(i).$implicit,a=y(2);return z(a.onRowClick(r))}),c(1,"div",110)(2,"div",111),L(3,xz,2,1,"div",112),c(4,"div",113)(5,"mat-icon",114),g(6),l()(),c(7,"div",115)(8,"div",116)(9,"h4",117),g(10),l(),c(11,"span",118),g(12),l()(),c(13,"div",119)(14,"span"),g(15),l(),c(16,"span",120)(17,"mat-icon",90),g(18),l(),g(19),l()()()(),c(20,"div",116)(21,"div",121)(22,"div",122),g(23),l()(),c(24,"div",123)(25,"button",99),R("click",function(r){let a=j(i).$implicit,o=y(2);return r.stopPropagation(),z(o.onStartRowEdit(a))}),c(26,"mat-icon",124),g(27,"edit"),l()(),c(28,"button",101),R("click",function(r){let a=j(i).$implicit,o=y(2);return r.stopPropagation(),z(o.onDeleteTransaction(a))}),c(29,"mat-icon",124),g(30,"delete"),l()()()()()()}if(n&2){let i=t.$implicit,e=y(2);p(3),O("ngIf",(e.breakpointService.device.isTablePortrait||e.breakpointService.device.isDesktop)&&!e.isHome),p(2),kt("color",e.getCategoryColor(i.categoryId)),p(),V(e.getCategoryIcon(i.categoryId)),p(3),O("matTooltip",i.payee),p(),V(i.payee),p(2),ee(" ",e.getCategoryName(i.categoryId)," "),p(3),V(e.getDateDisplay(i.date)),p(),Tt(i.type==="income"?"text-green-600":"text-red-600"),p(2),V(i.type==="income"?"trending_up":"trending_down"),p(),ee(" ",i.type," "),p(3),Tt(i.type==="income"?"text-green-700":"text-red-800"),p(),ee(" ",(i.type=="income"?"+":"-")+" \u20B9"+i.amount.toLocaleString()," ")}}function bz(n,t){if(n&1&&(c(0,"div",106)(1,"div",107),qe(2,Cz,31,15,"div",108,Zh),l()()),n&2){let i=y();p(2),Ke(i.dataSource.data)}}function vz(n,t){if(n&1){let i=ue();c(0,"div",129),R("click",function(){let r=j(i).$implicit,a=y(2);return z(a.onRowClick(r))}),c(1,"div",130)(2,"div",131)(3,"div",132)(4,"mat-icon"),g(5),l()(),c(6,"div",133)(7,"div",134),g(8),l(),c(9,"div",135),g(10),l()()(),c(11,"div",136)(12,"div",137),g(13),l(),c(14,"div",138),g(15),l()()(),c(16,"div",139)(17,"span",140)(18,"mat-icon"),g(19),l(),g(20),l(),c(21,"div",141)(22,"button",99),R("click",function(r){let a=j(i).$implicit,o=y(2);return r.stopPropagation(),z(o.onStartRowEdit(a))}),c(23,"mat-icon"),g(24,"edit"),l()(),c(25,"button",101),R("click",function(r){let a=j(i).$implicit,o=y(2);return r.stopPropagation(),z(o.onDeleteTransaction(a))}),c(26,"mat-icon"),g(27,"delete"),l()()()()()}if(n&2){let i=t.$implicit,e=y(2);p(4),kt("color",e.getCategoryColor(i.categoryId)),p(),V(e.getCategoryIcon(i.categoryId)),p(3),V(i.payee),p(2),V(e.getCategoryName(i.categoryId)),p(2),Tt(i.type==="income"?"income":"expense"),p(),ee(" ",(i.type=="income"?"+":"-")+" \u20B9"+i.amount.toLocaleString()," "),p(2),V(e.getDateDisplay(i.date)),p(2),Tt(i.type==="income"?"income":"expense"),p(2),V(i.type==="income"?"trending_up":"trending_down"),p(),ee(" ",i.type," ")}}function yz(n,t){if(n&1&&(c(0,"div",126)(1,"div",127),qe(2,vz,28,13,"div",128,Zh),l()()),n&2){let i=y();p(2),Ke(i.dataSource.data)}}function Mz(n,t){if(n&1){let i=ue();c(0,"div",145),R("click",function(){let r=j(i).$implicit,a=y(2);return z(a.onRowClick(r))}),c(1,"div",116)(2,"div",146)(3,"mat-icon",124),g(4),l()(),c(5,"div",115)(6,"div",110)(7,"h4",117),g(8),l(),c(9,"div",147),g(10),l()(),c(11,"div",148)(12,"div",149)(13,"span"),g(14),l(),c(15,"span",150),g(16),l()(),c(17,"div",123)(18,"button",99),R("click",function(r){let a=j(i).$implicit,o=y(2);return r.stopPropagation(),z(o.onStartRowEdit(a))}),c(19,"mat-icon",124),g(20,"edit"),l()(),c(21,"button",101),R("click",function(r){let a=j(i).$implicit,o=y(2);return r.stopPropagation(),z(o.onDeleteTransaction(a))}),c(22,"mat-icon",124),g(23,"delete"),l()()()()()()()}if(n&2){let i=t.$implicit,e=y(2);p(3),kt("color",e.getCategoryColor(i.categoryId)),p(),V(e.getCategoryIcon(i.categoryId)),p(3),O("matTooltip",i.payee),p(),V(i.payee),p(),Tt(i.type==="income"?"text-green-700":"text-red-800"),p(),ee(" ",(i.type=="income"?"+":"-")+" \u20B9"+i.amount.toLocaleString()," "),p(4),V(e.getDateDisplay(i.date)),p(2),ee(" ",e.getCategoryName(i.categoryId)," ")}}function Pz(n,t){if(n&1&&(c(0,"div",142)(1,"div",143),qe(2,Mz,24,10,"div",144,Zh),l()()),n&2){let i=y();p(2),Ke(i.dataSource.data)}}function Oz(n,t){if(n&1){let i=ue();c(0,"div",151)(1,"mat-icon",152),g(2,"receipt_long"),l(),c(3,"h3",153),g(4),l(),c(5,"p",154),g(6,"No transactions found for the current year. Start by adding your first transaction to track your finances."),l(),c(7,"button",155),R("click",function(){j(i);let r=y();return z(r.onAddTransaction())}),c(8,"mat-icon"),g(9,"add"),l(),c(10,"span"),g(11,"Add Transaction"),l()()()}if(n&2){let i=y();p(4),ee("No transactions for ",i.getCurrentYear(),"")}}var F2=(()=>{let t=class t{constructor(e,r,a,o,s,d,u){this.auth=e,this.dateService=r,this.filterService=a,this.store=o,this.ssrService=s,this.dialog=d,this.breakpointService=u,this.isHome=!1,this.editTransaction=new Mn,this.deleteTransaction=new Mn,this.startRowEdit=new Mn,this.saveRowEdit=new Mn,this.cancelRowEdit=new Mn,this.addTransaction=new Mn,this.bulkDeleteTransactions=new Mn,this.bulkUpdateCategory=new Mn,this.dataSource=new jd,this.displayedColumns=["select","Date","Type","Payee","Amount","Status","Actions"],this.isListView=!1,this.selectedTransactions=new Set,this.isAllSelected=!1,this.isIndeterminate=!1,this.accounts=[],this.MOBILE_BREAKPOINT=640,this.TABLET_BREAKPOINT=768,this.subscription=new Ki,this.categories={},this.transactions$=this.store.select(En),this.allTransactions=[]}ngOnInit(){this.setupDataSource(),this.setupFilterServiceSubscriptions(),this.setupTransactionSubscriptions(),this.loadCategories(),this.loadAccounts(),this.updateColumnVisibility()}ngOnDestroy(){this.subscription.unsubscribe()}ngAfterViewInit(){this.setupSorting()}onResize(){this.updateColumnVisibility()}loadAccounts(){this.store.select(Ta).subscribe(e=>{this.accounts=e})}updateColumnVisibility(){if(this.ssrService.isClientSide()){let e=window.innerWidth;e<this.MOBILE_BREAKPOINT?this.displayedColumns=["Date","Payee","Amount","Actions"]:e<this.TABLET_BREAKPOINT?this.displayedColumns=this.isHome?["Date","Type","Payee","Amount","Actions"]:["select","Date","Type","Payee","Amount","Actions"]:this.displayedColumns=this.isHome?["Date","Type","Payee","Amount","Status","Actions"]:["select","Date","Type","Payee","Amount","Status","Actions","Account"]}}setupDataSource(){this.dataSource=new jd([]),this.dataSource.filterPredicate=(e,r)=>this.filterService.filterTransactions([e],{searchTerm:r,selectedCategory:this.filterService.getSelectedCategory(),selectedType:this.filterService.getSelectedType(),selectedYear:this.filterService.getSelectedYear(),selectedDate:this.filterService.getSelectedDate(),selectedDateRange:this.filterService.getSelectedDateRange(),categoryFilter:this.filterService.getCategoryFilter(),accountFilter:this.filterService.getAccountFilter(),amountRange:this.filterService.getAmountRange(),statusFilter:this.filterService.getStatusFilter(),tags:this.filterService.getTags()}).length>0}setupTransactionSubscriptions(){this.subscription.add(this.transactions$.subscribe(e=>{this.allTransactions=e.sort((r,a)=>{var d,u;let o=this.dateService.toDate(r.date),s=this.dateService.toDate(a.date);return((d=s==null?void 0:s.getTime())!=null?d:0)-((u=o==null?void 0:o.getTime())!=null?u:0)}),this.updateFilteredData()}))}setupFilterServiceSubscriptions(){this.subscription.add(this.filterService.filterState$.subscribe(()=>{this.updateFilteredData()}))}updateFilteredData(){var m,f;let e=(0,Kh.default)().year(),r;this.filterService.getSelectedDate()||this.filterService.getSelectedDateRange()||this.filterService.getSelectedYear()?r=this.filterService.filterTransactions(this.allTransactions,this.filterService.getCurrentFilterState()):r=this.filterService.filterCurrentYearTransactions(this.allTransactions,this.filterService.getCurrentFilterState());let o=((m=this.sort)==null?void 0:m.direction)||"desc",s=((f=this.sort)==null?void 0:f.active)||"Date",d=this.getSortByFromMatSort(s,o),u=this.filterService.sortTransactions(r,d);this.dataSource.data=u}getSortByFromMatSort(e,r){switch(e){case"Date":return r==="asc"?"date-asc":"date-desc";case"Amount":return r==="asc"?"amount-asc":"amount-desc";case"Payee":return"payee-asc";case"Type":return"category-asc";default:return"date-desc"}}setupSorting(){this.dataSource.sortingDataAccessor=(e,r)=>{switch(r){case"Date":return(this.dateService.toDate(e==null?void 0:e.date)||new Date).getTime();case"Type":return(e==null?void 0:e.category.toString().toLowerCase())||"";case"Payee":return((e==null?void 0:e.payee)||"").toLowerCase();case"Amount":return e==null?void 0:e.amount;case"Status":return((e==null?void 0:e.type)||"").toLowerCase();default:return""}},this.dataSource.sort=this.sort,this.subscription.add(this.sort.sortChange.subscribe(e=>{console.log(`Sorting by ${e.active} in ${e.direction} order`),this.updateFilteredData()})),this.sort.sort({id:"Date",start:"desc",disableClear:!1})}onEditTransaction(e){this.editTransaction.emit(e)}onDeleteTransaction(e){this.dialog.open(ma,{width:"300px",data:{title:"Delete Transaction",message:"Are you sure you want to delete this transaction?",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(r=>{r&&this.deleteTransaction.emit(e)})}onStartRowEdit(e){this.editTransaction.emit(e)}onSaveRowEdit(e){this.saveRowEdit.emit(e)}onCancelRowEdit(e){this.cancelRowEdit.emit(e)}onAddTransaction(){this.addTransaction.emit()}onRowClick(e){this.openTransactionViewDialog(e)}openTransactionViewDialog(e){let r=this.dialog.open(os,{panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"desktop-dialog",data:{transaction:e,mode:"view"}})}getFilteredCount(){return this.dataSource.data.length}getTotalCount(){return this.allTransactions.length}getCurrentYear(){return(0,Kh.default)().year()}getCurrentSortState(){return this.sort&&this.sort.active?{active:this.sort.active,direction:this.sort.direction}:null}clearSort(){this.sort&&this.sort.sort({id:"",start:"asc",disableClear:!1})}loadCategories(){var r;((r=this.auth.currentUser)==null?void 0:r.uid)&&this.store.select(gn).subscribe(a=>{for(let o of a)this.categories[o.id]=o})}getCategoryIcon(e){var r;return((r=this.categories[e])==null?void 0:r.icon)||"category"}getCategoryName(e){var r;return((r=this.categories[e])==null?void 0:r.name)||e}getCategoryColor(e){var r;return((r=this.categories[e])==null?void 0:r.color)||"#46777f"}getDateDisplay(e){return e&&typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3).toLocaleDateString(Ut.LANGUAGE.DEFAULT,{month:"short",day:"numeric"}):e instanceof Date?e.toLocaleDateString(Ut.LANGUAGE.DEFAULT,{month:"short",day:"numeric"}):""}getTotalIncome(){return this.dataSource.data.filter(e=>e.type==="income").reduce((e,r)=>e+r.amount,0)}getTotalExpense(){return this.dataSource.data.filter(e=>e.type==="expense").reduce((e,r)=>e+r.amount,0)}getNetAmount(){return this.getTotalIncome()-this.getTotalExpense()}getTransactionCount(){return this.dataSource.data.length}clearAllFilters(){this.filterService.clearAllFilters()}getActiveFiltersCount(){return this.filterService.getActiveFiltersCount()}hasActiveFilters(){return this.filterService.hasActiveFilters()}getCurrentFilterState(){return this.filterService.getCurrentFilterState()}toggleView(){this.isListView=!this.isListView}isSelected(e){return this.selectedTransactions.has(e.id)}toggleSelection(e){this.selectedTransactions.has(e.id)?this.selectedTransactions.delete(e.id):this.selectedTransactions.add(e.id),this.updateSelectionState()}toggleAllSelection(){this.isAllSelected?this.selectedTransactions.clear():this.dataSource.data.forEach(e=>{this.selectedTransactions.add(e.id)}),this.updateSelectionState()}updateSelectionState(){let e=this.selectedTransactions.size,r=this.dataSource.data.length;this.isAllSelected=e===r&&r>0,this.isIndeterminate=e>0&&e<r}getSelectedTransactions(){return this.dataSource.data.filter(e=>this.selectedTransactions.has(e.id))}getSelectedCount(){return this.selectedTransactions.size}hasSelection(){return this.selectedTransactions.size>0}clearSelection(){this.selectedTransactions.clear(),this.updateSelectionState()}onBulkDelete(){let e=this.getSelectedTransactions();if(e.length===0)return;this.dialog.open(ma,{width:"400px",data:{title:"Delete Multiple Transactions",message:`Are you sure you want to delete ${e.length} transaction(s)? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:"warn"}}).afterClosed().subscribe(a=>{a&&(this.bulkDeleteTransactions.emit(e),this.clearSelection())})}onBulkUpdateCategory(){let e=this.getSelectedTransactions();if(e.length===0)return;let r=Object.values(this.categories).filter(o=>!o.parentCategoryId);this.dialog.open(rm,{width:"500px",data:{title:"Update Category for Multiple Transactions",message:`Select a new category for ${e.length} transaction(s):`,categories:r}}).afterClosed().subscribe(o=>{o&&(this.bulkUpdateCategory.emit({transactions:e,categoryId:o.id}),this.clearSelection())})}getAccountName(e){var r;return((r=this.accounts.find(a=>a.accountId===e))==null?void 0:r.name)||e}};t.\u0275fac=function(r){return new(r||t)(W(Mt),W(Vt),W(Ro),W(mt),W(ia),W(xn),W(sr))},t.\u0275cmp=Le({type:t,selectors:[["transaction-table"]],viewQuery:function(r,a){if(r&1&&wr(bu,5),r&2){let o;er(o=tr())&&(a.sort=o.first)}},hostBindings:function(r,a){r&1&&R("resize",function(s){return a.onResize(s)},!1,Y_)},inputs:{isHome:"isHome"},outputs:{editTransaction:"editTransaction",deleteTransaction:"deleteTransaction",startRowEdit:"startRowEdit",saveRowEdit:"saveRowEdit",cancelRowEdit:"cancelRowEdit",addTransaction:"addTransaction",bulkDeleteTransactions:"bulkDeleteTransactions",bulkUpdateCategory:"bulkUpdateCategory"},decls:65,vars:25,consts:[[1,"bg-white","rounded-lg","border","border-gray-200","overflow-hidden","flex","flex-col",3,"ngClass"],["class","flex justify-between items-center p-3 border-b border-gray-200 bg-gray-50",4,"ngIf"],["class","hidden sm:flex flex-1 overflow-auto table-container",4,"ngIf"],["class","hidden sm:flex flex-1 overflow-auto list-container",4,"ngIf"],[1,"hidden","sm:flex","fixed-footer"],[1,"footer-content"],[1,"transaction-count"],[1,"count-text"],[1,"totals-section"],[1,"total-item"],[1,"income"],[1,"total-label"],[1,"total-value","income"],[1,"expense"],[1,"total-value","expense"],[1,"total-item","net-separator"],[1,"total-value"],["class","sm:hidden flex-1 overflow-auto max-h-full mobile-card-view",4,"ngIf"],["class","sm:hidden flex-1 overflow-auto max-h-full mobile-list-view",4,"ngIf"],[1,"sm:hidden","fixed-footer"],["class","text-center py-8 md:py-12 px-4",4,"ngIf"],[1,"flex","justify-between","items-center","p-3","border-b","border-gray-200","bg-gray-50"],[1,"flex","items-center","space-x-2"],[1,"text-sm","text-gray-600"],["mat-button","","color","primary","matTooltip","Update category for selected transactions",1,"text-xs","px-3","py-1","rounded-md","transition-colors",3,"click"],[1,"text-sm","mr-1"],["mat-button","","color","warn","matTooltip","Delete selected transactions",1,"text-xs","px-3","py-1","rounded-md","transition-colors",3,"click"],[1,"hidden","sm:flex","flex-1","overflow-auto","table-container"],["mat-table","","matSort","",1,"w-full","min-w-[800px]",3,"dataSource"],["matColumnDef","select",4,"ngIf"],["matColumnDef","Date"],["mat-header-cell","","mat-sort-header","","class","bg-gray-50 px-3 py-4 md:px-6 sticky top-0 z-10",4,"matHeaderCellDef"],["mat-cell","","class","px-3 py-4 border-b border-gray-100 md:px-6",4,"matCellDef"],["matColumnDef","Type"],["mat-header-cell","","mat-sort-header","","class","px-1 py-4  hidden sm:table-cell sticky top-0 z-10 bg-gray-50",4,"matHeaderCellDef"],["mat-cell","","class","px-1 py-4 border-b border-gray-100  hidden sm:table-cell",4,"matCellDef"],["matColumnDef","Payee"],["mat-header-cell","","mat-sort-header","","class","px-3 py-4 md:px-6 sticky top-0 z-10 bg-gray-50 min-w-[200px] max-w-[200px]",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","","class","px-3 py-4 border-b border-gray-100 md:px-6 min-w-[200px] max-w-[200px]",3,"ngClass",4,"matCellDef"],["matColumnDef","Amount"],["mat-header-cell","","mat-sort-header","","class","bg-gray-50 px-1 py-4  sticky top-0 z-10",4,"matHeaderCellDef"],["mat-cell","","class","px-1 py-4 border-b border-gray-100 ",4,"matCellDef"],["matColumnDef","Status"],["mat-header-cell","","mat-sort-header","","class","bg-gray-50 px-3 py-4 md:px-6 hidden md:table-cell sticky top-0 z-10",4,"matHeaderCellDef"],["mat-cell","","class","px-3 py-4 border-b border-gray-100 md:px-6 hidden md:table-cell",4,"matCellDef"],["matColumnDef","Account"],["matColumnDef","Actions"],["mat-header-cell","","class","bg-gray-50 px-3 py-4 md:px-6 text-center sticky top-0 z-10",4,"matHeaderCellDef"],["mat-cell","","class","px-3 py-4 border-b border-gray-100 text-center md:px-6",4,"matCellDef"],["mat-header-row","","class","h-12 md:h-16 sticky top-0 z-10",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-50 transition-colors cursor-pointer",3,"click",4,"matRowDef","matRowDefColumns"],["matColumnDef","select"],["mat-header-cell","","class","bg-gray-50 px-3 py-4 sticky top-0 z-10",4,"matHeaderCellDef"],["mat-cell","","class","px-3 py-4 border-b border-gray-100",4,"matCellDef"],["mat-header-cell","",1,"bg-gray-50","px-3","py-4","sticky","top-0","z-10"],[1,"text-gray-700",3,"change","checked","indeterminate","disabled"],["mat-cell","",1,"px-3","py-4","border-b","border-gray-100"],[1,"text-gray-700",3,"click","change","checked"],["mat-header-cell","","mat-sort-header","",1,"bg-gray-50","px-3","py-4","md:px-6","sticky","top-0","z-10"],[1,"flex","items-center","space-x-1","md:space-x-2"],[1,"text-gray-500","text-xs","md:text-sm"],[1,"font-semibold","text-gray-700","text-xs","md:text-sm"],["mat-cell","",1,"px-3","py-4","border-b","border-gray-100","md:px-6"],[1,"text-xs","md:text-sm","text-gray-600"],["class","text-xs text-gray-400 hidden md:block",4,"ngIf"],[1,"text-xs","text-gray-400","hidden","md:block"],["mat-header-cell","","mat-sort-header","",1,"px-1","py-4","hidden","sm:table-cell","sticky","top-0","z-10","bg-gray-50"],[1,"flex","items-center","space-x-1"],["mat-cell","",1,"px-1","py-4","border-b","border-gray-100","hidden","sm:table-cell"],[1,"flex","items-center"],[1,"w-6","h-6","md:w-8","md:h-8","rounded-full","flex","items-center","justify-center","bg-gray-100"],[1,"text-xs","md:text-sm"],[1,"inline-flex","items-center","px-1.5","md:px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-gray-100","text-gray-800"],["mat-header-cell","","mat-sort-header","",1,"px-3","py-4","md:px-6","sticky","top-0","z-10","bg-gray-50","min-w-[200px]","max-w-[200px]",3,"ngClass"],["mat-cell","",1,"px-3","py-4","border-b","border-gray-100","md:px-6","min-w-[200px]","max-w-[200px]",3,"ngClass"],["class","font-medium text-gray-900 text-xs md:text-sm w-full overflow-hidden text-ellipsis whitespace-nowrap",3,"matTooltip",4,"ngIf"],["class","w-full px-2 md:px-3 py-1 md:py-2 border border-blue-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","placeholder","Enter payee name",3,"ngModel","ngModelChange",4,"ngIf"],[1,"font-medium","text-gray-900","text-xs","md:text-sm","w-full","overflow-hidden","text-ellipsis","whitespace-nowrap",3,"matTooltip"],["placeholder","Enter payee name",1,"w-full","px-2","md:px-3","py-1","md:py-2","border","border-blue-300","rounded-lg","text-xs","md:text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["mat-header-cell","","mat-sort-header","",1,"bg-gray-50","px-1","py-4","sticky","top-0","z-10"],["mat-cell","",1,"px-1","py-4","border-b","border-gray-100"],["class","font-bold text-xs md:text-sm",3,"class",4,"ngIf"],["type","number","class","w-full px-2 md:px-3 py-1 md:py-2 border border-blue-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","placeholder","Enter amount",3,"ngModel","ngModelChange",4,"ngIf"],[1,"font-bold","text-xs","md:text-sm"],["type","number","placeholder","Enter amount",1,"w-full","px-2","md:px-3","py-1","md:py-2","border","border-blue-300","rounded-lg","text-xs","md:text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["mat-header-cell","","mat-sort-header","",1,"bg-gray-50","px-3","py-4","md:px-6","hidden","md:table-cell","sticky","top-0","z-10"],["mat-cell","",1,"px-3","py-4","border-b","border-gray-100","md:px-6","hidden","md:table-cell"],[4,"ngIf"],["class","w-full px-2 md:px-3 py-1 md:py-2 border border-blue-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",3,"ngModel","ngModelChange",4,"ngIf"],[1,"inline-flex","items-center","px-2","md:px-3","py-1","rounded-full","text-xs","font-medium"],[1,"text-xs","mr-1"],[1,"w-full","px-2","md:px-3","py-1","md:py-2","border","border-blue-300","rounded-lg","text-xs","md:text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["value","income"],["value","expense"],["mat-header-cell","",1,"bg-gray-50","px-3","py-4","md:px-6","text-center","sticky","top-0","z-10"],[1,"flex","items-center","justify-center","space-x-1","md:space-x-2"],["mat-cell","",1,"px-3","py-4","border-b","border-gray-100","text-center","md:px-6"],["class","flex justify-center space-x-1 md:space-x-2",4,"ngIf"],[1,"flex","justify-center","space-x-1","md:space-x-2"],["mat-icon-button","","matTooltip","Edit transaction",1,"text-blue-600","hover:bg-blue-50","rounded-full","transition-colors",3,"click"],[1,"text-sm","md:text-base"],["mat-icon-button","","matTooltip","Delete transaction",1,"text-red-600","hover:bg-red-50","rounded-full","transition-colors",3,"click"],["mat-icon-button","","color","primary","matTooltip","Save changes",1,"bg-green-100","text-green-600","hover:bg-green-200","rounded-full","transition-colors",3,"click"],["mat-icon-button","","color","warn","matTooltip","Cancel editing",1,"bg-red-100","text-red-600","hover:bg-red-200","rounded-full","transition-colors",3,"click"],["mat-header-row","",1,"h-12","md:h-16","sticky","top-0","z-10"],["mat-row","",1,"hover:bg-gray-50","transition-colors","cursor-pointer",3,"click"],[1,"hidden","sm:flex","flex-1","overflow-auto","list-container"],[1,"w-full","p-4","space-y-3"],[1,"list-item","bg-white","border","border-gray-200","rounded-lg","p-4","hover:bg-gray-50","transition-colors","cursor-pointer"],[1,"list-item","bg-white","border","border-gray-200","rounded-lg","p-4","hover:bg-gray-50","transition-colors","cursor-pointer",3,"click"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-4","flex-1"],["class","flex-shrink-0",4,"ngIf"],[1,"w-10","h-10","rounded-full","flex","items-center","justify-center","bg-gray-100"],[1,"text-lg"],[1,"flex-1","min-w-0"],[1,"flex","items-center","space-x-3"],[1,"font-medium","text-gray-900","text-sm","truncate",3,"matTooltip"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-gray-100","text-gray-800"],[1,"flex","items-center","space-x-4","mt-1","text-xs","text-gray-500"],[1,"inline-flex","items-center"],[1,"text-right"],[1,"font-bold","text-sm"],[1,"flex","space-x-1"],[1,"text-sm"],[1,"flex-shrink-0"],[1,"sm:hidden","flex-1","overflow-auto","max-h-full","mobile-card-view"],[1,"p-4","space-y-3"],[1,"transaction-card"],[1,"transaction-card",3,"click"],[1,"card-header"],[1,"left-section"],[1,"category-icon"],[1,"transaction-info"],[1,"payee-name"],[1,"category-name"],[1,"right-section"],[1,"amount"],[1,"date"],[1,"card-footer"],[1,"type-badge"],[1,"action-buttons"],[1,"sm:hidden","flex-1","overflow-auto","max-h-full","mobile-list-view"],[1,"p-3","space-y-2"],[1,"list-item","bg-white","border","border-gray-200","rounded-lg","p-3","hover:bg-gray-50","transition-colors","cursor-pointer"],[1,"list-item","bg-white","border","border-gray-200","rounded-lg","p-3","hover:bg-gray-50","transition-colors","cursor-pointer",3,"click"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","bg-gray-100","flex-shrink-0"],[1,"font-bold","text-sm","ml-2"],[1,"flex","items-center","justify-between","mt-1"],[1,"flex","items-center","space-x-2","text-xs","text-gray-500"],[1,"inline-flex","items-center","px-1.5","py-0.5","rounded-full","text-xs","font-medium","bg-gray-100","text-gray-800"],[1,"text-center","py-8","md:py-12","px-4"],[1,"text-gray-400","text-4xl","md:text-6xl","mb-4"],[1,"text-base","md:text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-4","text-sm","md:text-base"],["mat-raised-button","","color","primary",1,"flex","items-center","space-x-2","mx-auto","text-sm","md:text-base",3,"click"]],template:function(r,a){r&1&&(c(0,"div",0),L(1,Vj,12,1,"div",1)(2,_z,26,4,"div",2)(3,bz,4,0,"div",3),c(4,"div",4)(5,"div",5)(6,"div",6)(7,"mat-icon"),g(8,"receipt"),l(),c(9,"span",7),g(10),l()(),c(11,"div",8)(12,"div",9)(13,"mat-icon",10),g(14,"trending_up"),l(),c(15,"span",11),g(16,"Income:"),l(),c(17,"span",12),g(18),l()(),c(19,"div",9)(20,"mat-icon",13),g(21,"trending_down"),l(),c(22,"span",11),g(23,"Expense:"),l(),c(24,"span",14),g(25),l()(),c(26,"div",15)(27,"mat-icon"),g(28,"account_balance_wallet"),l(),c(29,"span",11),g(30,"Net:"),l(),c(31,"span",16),g(32),l()()()()(),L(33,yz,4,0,"div",17)(34,Pz,4,0,"div",18),c(35,"div",19)(36,"div",5)(37,"div",6)(38,"mat-icon"),g(39,"receipt"),l(),c(40,"span"),g(41),l()(),c(42,"div",8)(43,"div",9)(44,"mat-icon",10),g(45,"trending_up"),l(),c(46,"span",11),g(47,"Income:"),l(),c(48,"span",12),g(49),l()(),c(50,"div",9)(51,"mat-icon",13),g(52,"trending_down"),l(),c(53,"span",11),g(54,"Expense:"),l(),c(55,"span",14),g(56),l()(),c(57,"div",15)(58,"mat-icon"),g(59,"account_balance_wallet"),l(),c(60,"span",11),g(61,"Net:"),l(),c(62,"span",16),g(63),l()()()()(),L(64,Oz,12,1,"div",20),l()),r&2&&(O("ngClass",Q_(21,Bj,a.isHome&&!a.breakpointService.device.isTablePortrait,a.isHome&&a.breakpointService.device.isTablePortrait,!a.isHome)),p(),O("ngIf",a.hasSelection()&&(a.breakpointService.device.isTablePortrait||a.breakpointService.device.isDesktop)&&!a.isHome),p(),O("ngIf",!a.isListView),p(),O("ngIf",a.isListView),p(7),ee("",a.getTransactionCount()," transactions"),p(8),ee("\u20B9",a.getTotalIncome().toLocaleString(),""),p(7),ee("\u20B9",a.getTotalExpense().toLocaleString(),""),p(6),Tt(a.getNetAmount()>=0?"net-positive":"net-negative"),p(),Wt(" ",a.getNetAmount()>=0?"+":"","\u20B9",a.getNetAmount().toLocaleString()," "),p(),O("ngIf",!a.isListView),p(),O("ngIf",a.isListView),p(7),ee("",a.getTransactionCount()," transactions"),p(8),ee("\u20B9",a.getTotalIncome().toLocaleString(),""),p(7),ee("\u20B9",a.getTotalExpense().toLocaleString(),""),p(6),Tt(a.getNetAmount()>=0?"net-positive":"net-negative"),p(),Wt(" ",a.getNetAmount()>=0?"+":"","\u20B9",a.getNetAmount().toLocaleString()," "),p(),O("ngIf",!(a.dataSource.data!=null&&a.dataSource.data.length)))},dependencies:[Zn,ct,gl,ul,Yt,rr,dl,Bt,li,Zt,dn,Qe,ub,pb,xb,fb,mb,Cb,hb,_b,bb,vb,bu,yb,mo,Fn,Si],styles:[".table-container[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#cbd5e1 #f1f5f9}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}@media (max-width: 768px){.table-container[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;min-width:800px}@media (max-width: 640px){table[_ngcontent-%COMP%]{min-width:600px}}.mat-header-cell[_ngcontent-%COMP%]{background:#f8fafc;border-bottom:2px solid #e2e8f0;font-weight:600;color:#374151;padding:12px 16px;position:sticky;top:0;z-index:10;cursor:pointer;transition:all .2s ease;white-space:nowrap}@media (min-width: 768px){.mat-header-cell[_ngcontent-%COMP%]{padding:16px 24px}}.mat-header-cell[_ngcontent-%COMP%]:hover{background:#f1f5f9}.mat-header-cell[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}@media (min-width: 768px){.mat-header-cell[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{gap:8px}}.mat-header-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;color:#6b7280}@media (min-width: 768px){.mat-header-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}.mat-header-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:600}@media (min-width: 768px){.mat-header-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}}.mat-sort-header-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}@media (min-width: 768px){.mat-sort-header-container[_ngcontent-%COMP%]{gap:8px}}.mat-sort-header-container[_ngcontent-%COMP%]   .mat-sort-header-arrow[_ngcontent-%COMP%]{color:#6b7280;opacity:.5;transition:all .2s ease}.mat-sort-header-container[_ngcontent-%COMP%]   .mat-sort-header-indicator[_ngcontent-%COMP%]{color:#3b82f6}.mat-header-cell.mat-sort-header-sorted[_ngcontent-%COMP%]{background:#eff6ff;border-bottom-color:#3b82f6}.mat-header-cell.mat-sort-header-sorted[_ngcontent-%COMP%]   .mat-sort-header-arrow[_ngcontent-%COMP%]{opacity:1;color:#3b82f6}.mat-header-cell.mat-sort-header-sorted[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1e40af}.mat-cell[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #f1f5f9;vertical-align:middle}@media (min-width: 768px){.mat-cell[_ngcontent-%COMP%]{padding:16px 24px}}.mat-cell[_ngcontent-%COMP%]:last-child{border-right:none}.mat-row[_ngcontent-%COMP%]{transition:all .2s ease}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f8fafc;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.mat-row[_ngcontent-%COMP%]:last-child   .mat-cell[_ngcontent-%COMP%]{border-bottom:none}.date-cell[_ngcontent-%COMP%]   .date-main[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#374151;margin-bottom:2px}@media (min-width: 768px){.date-cell[_ngcontent-%COMP%]   .date-main[_ngcontent-%COMP%]{font-size:14px}}.date-cell[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]{font-size:11px;color:#6b7280}@media (min-width: 768px){.date-cell[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]{font-size:12px}}.category-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:2px 8px;border-radius:12px;font-size:11px;font-weight:500;background:#f3f4f6;color:#374151;border:1px solid #e5e7eb}@media (min-width: 768px){.category-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:12px}}.payee-cell[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{font-weight:500;color:#1f2937;max-width:80px;word-wrap:break-word;line-height:1.4;font-size:12px}@media (min-width: 768px){.payee-cell[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{max-width:120px;font-size:14px}}.payee-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:2px solid #3b82f6;border-radius:6px;font-size:12px;transition:all .2s ease}@media (min-width: 768px){.payee-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;border-radius:8px;font-size:14px}}.payee-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}.amount-cell[_ngcontent-%COMP%]{text-align:right}.amount-cell[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-weight:700;font-size:12px}@media (min-width: 768px){.amount-cell[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:14px}}.amount-cell[_ngcontent-%COMP%]   .amount-value.income[_ngcontent-%COMP%]{color:#059669}.amount-cell[_ngcontent-%COMP%]   .amount-value.expense[_ngcontent-%COMP%]{color:#dc2626}.amount-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:2px solid #3b82f6;border-radius:6px;font-size:12px;text-align:right;transition:all .2s ease}@media (min-width: 768px){.amount-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;border-radius:8px;font-size:14px}}.amount-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:2px 6px;border-radius:10px;font-size:10px;font-weight:500}@media (min-width: 768px){.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:12px}}.status-cell[_ngcontent-%COMP%]   .status-badge.income[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-cell[_ngcontent-%COMP%]   .status-badge.expense[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.status-cell[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:2px solid #3b82f6;border-radius:6px;font-size:12px;transition:all .2s ease}@media (min-width: 768px){.status-cell[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border-radius:8px;font-size:14px}}.status-cell[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}.actions-cell[_ngcontent-%COMP%]{text-align:center}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:4px}@media (min-width: 768px){.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{gap:8px}}.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:32px;height:32px}@media (min-width: 768px){.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:40px;height:40px}}.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}@media (min-width: 768px){.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px;margin-bottom:12px;box-shadow:0 1px 3px #0000001a;transition:all .2s ease}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-1px)}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:14px;margin-bottom:2px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{text-align:right}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:700;font-size:14px;margin-bottom:2px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .amount.income[_ngcontent-%COMP%]{color:#059669}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .amount.expense[_ngcontent-%COMP%]{color:#dc2626}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:11px;color:#9ca3af}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 8px;border-radius:12px;font-size:11px;font-weight:500}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .type-badge.income[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .type-badge.expense[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px;margin-right:4px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:4px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:32px;height:32px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}@media (max-width: 640px){.hidden-mobile[_ngcontent-%COMP%]{display:none!important}.table-container[_ngcontent-%COMP%]{border-radius:8px;margin:0 -8px}.mobile-card-view[_ngcontent-%COMP%]{padding:12px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]{margin-bottom:8px;padding:12px}}@media (max-width: 768px){.hidden-tablet[_ngcontent-%COMP%]{display:none!important}}.empty-state[_ngcontent-%COMP%]{padding:2rem 1rem}@media (min-width: 768px){.empty-state[_ngcontent-%COMP%]{padding:3rem 2rem}}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem}@media (min-width: 768px){.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem}}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}@media (min-width: 768px){.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}@media (min-width: 768px){.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.pagination-container[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:16px;margin-top:16px}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{background:transparent;border:none}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]     .mat-paginator-container{justify-content:center}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]     .mat-paginator-page-size{margin-right:16px}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]     .mat-paginator-range-actions{margin-left:16px}.fixed-footer[_ngcontent-%COMP%]{background:#f9fafb;border-top:1px solid #e5e7eb;padding:4px 16px;position:sticky;bottom:0;z-index:10;box-shadow:0 -2px 8px #0000001a}.fixed-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;min-width:800px}@media (max-width: 1200px){.fixed-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{min-width:600px}}@media (max-width: 768px){.fixed-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{min-width:auto;flex-direction:column;gap:12px}}@media (max-width: 640px){.fixed-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{gap:8px}}.fixed-footer[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}@media (max-width: 640px){.fixed-footer[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]{gap:4px}}.fixed-footer[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280;font-size:14px;width:14px;height:14px}@media (max-width: 1024px){.fixed-footer[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}}@media (max-width: 640px){.fixed-footer[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:10px;width:10px;height:10px}}.fixed-footer[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]   .count-text[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#374151}@media (max-width: 1024px){.fixed-footer[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]   .count-text[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 640px){.fixed-footer[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]   .count-text[_ngcontent-%COMP%]{font-size:11px}}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}@media (max-width: 1200px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]{gap:16px}}@media (max-width: 1024px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]{gap:12px}}@media (max-width: 768px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]{gap:12px;width:100%;justify-content:space-between}}@media (max-width: 640px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]{gap:8px}}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}@media (max-width: 1024px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]{gap:4px}}@media (max-width: 640px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]{gap:3px}}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}@media (max-width: 1024px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}}@media (max-width: 640px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:10px;width:10px;height:10px}}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   mat-icon.income[_ngcontent-%COMP%]{color:#059669}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   mat-icon.expense[_ngcontent-%COMP%]{color:#dc2626}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{font-size:11px;color:#6b7280}@media (max-width: 1024px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{font-size:10px}}@media (max-width: 640px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{font-size:9px}}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{font-size:.92rem;font-weight:600;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}@media (max-width: 1024px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 640px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{font-size:10px}}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-value.income[_ngcontent-%COMP%]{color:#059669}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-value.expense[_ngcontent-%COMP%]{color:#dc2626}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-value.net-positive[_ngcontent-%COMP%]{color:#059669}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-value.net-negative[_ngcontent-%COMP%]{color:#dc2626}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .net-separator[_ngcontent-%COMP%]{border-left:1px solid #d1d5db;padding-left:16px;margin-left:6px}@media (max-width: 1200px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .net-separator[_ngcontent-%COMP%]{padding-left:12px;margin-left:4px}}@media (max-width: 1024px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .net-separator[_ngcontent-%COMP%]{padding-left:10px;margin-left:3px}}@media (max-width: 768px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .net-separator[_ngcontent-%COMP%]{padding-left:8px;margin-left:3px}}@media (max-width: 640px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .net-separator[_ngcontent-%COMP%]{padding-left:6px;margin-left:2px}}@media (max-width: 1024px){.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:12px 16px}.payee-cell[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{max-width:100px}}@media (max-width: 768px){.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:8px 12px}.mat-header-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.mat-header-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.payee-cell[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{max-width:80px;font-size:13px}.amount-cell[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:13px}.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 8px;font-size:11px}.actions-cell[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:32px;height:32px}}@media (max-width: 640px){.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:6px 8px}.mat-header-cell[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{flex-direction:column;gap:4px;text-align:center}.mat-header-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px}.mat-header-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}.payee-cell[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{max-width:60px;font-size:12px}.amount-cell[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:12px}.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:2px 6px;font-size:10px}.actions-cell[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:28px;height:28px}}"]});let n=t;return n})();var co=da(fa());var Sz=(n,t)=>t.value,kz=(n,t)=>t.id,Tz=(n,t)=>t.type;function Ez(n,t){if(n&1){let i=ue();c(0,"mat-chip",22),R("removed",function(){let r=j(i).$implicit;return z(r.onRemove())}),g(1),c(2,"mat-icon",23),g(3,"cancel"),l()()}if(n&2){let i=t.$implicit;O("removable",!0),p(),ee(" ",i.label," ")}}function Az(n,t){if(n&1&&(c(0,"div",18)(1,"div",19),oe(2,"div",20),qe(3,Ez,4,2,"mat-chip",21,Tz),l()()),n&2){let i=y();p(3),Ke(i.getActiveFilters())}}function Iz(n,t){if(n&1&&(c(0,"mat-option",14),g(1),l()),n&2){let i=t.$implicit;O("value",i),p(),ee(" ",i," ")}}function Dz(n,t){if(n&1&&(c(0,"mat-option",14),g(1),l()),n&2){let i=t.$implicit;O("value",i.value),p(),ee(" ",i.label," ")}}function Fz(n,t){if(n&1&&(c(0,"mat-option",14),g(1),l()),n&2){let i=t.$implicit;O("value",i.id),p(),ee(" ",i.name," ")}}var R2=(()=>{let t=class t{constructor(e,r,a,o){this.notificationService=e,this.store=r,this.dateService=a,this.filterService=o,this.addTransaction=new Mn,this.importTransactions=new Mn,this.openFilterDialog=new Mn,this.viewAnalytics=new Mn,this.expandTable=new Mn,this.searchTerm="",this.selectedCategory="all",this.selectedType="all",this.selectedYear=(0,co.default)().year(),this.selectedMonth=(0,co.default)().month(),this.selectedMonthOption="all",this.selectedDate=null,this.selectedDateRange=null,this.categories=[],this.availableYears=[],this.months=[],this.subscription=new Ki,this.transactions$=this.store.select(En),this.allTransactions=[],this.filteredCount=0,this.currentYear=(0,co.default)().year()}ngOnInit(){this.loadCategoriesFromStore(),this.setupTransactionSubscriptions(),this.updateAvailableYears(),this.updateMonths(),this.setupFilterServiceSubscriptions()}ngOnDestroy(){this.subscription.unsubscribe()}ngOnChanges(e){e.transactions&&(this.updateAvailableYears(),this.updateCategoriesFromTransactions())}setupTransactionSubscriptions(){this.subscription.add(this.transactions$.subscribe(e=>{this.allTransactions=e,this.updateAvailableYears(),this.updateCategoriesFromTransactions(),this.updateFilteredCount()}))}setupFilterServiceSubscriptions(){this.subscription.add(this.filterService.searchTerm$.subscribe(e=>{this.searchTerm=e,this.updateFilteredCount()})),this.subscription.add(this.filterService.selectedCategory$.subscribe(e=>{this.selectedCategory=e.includes("all")?"all":e[0]||"all",this.updateFilteredCount()})),this.subscription.add(this.filterService.selectedType$.subscribe(e=>{this.selectedType=e,this.updateFilteredCount()})),this.subscription.add(this.filterService.selectedDate$.subscribe(e=>{this.selectedDate=e,e&&(this.selectedDateRange=null),this.updateFilteredCount()})),this.subscription.add(this.filterService.selectedDateRange$.subscribe(e=>{this.selectedDateRange=e?{start:e.startDate,end:e.endDate}:null,e&&(this.selectedDate=null),this.updateFilteredCount()})),this.subscription.add(this.filterService.selectedYear$.subscribe(e=>{e&&(this.selectedYear=e.startYear),this.updateFilteredCount()}))}loadCategoriesFromStore(){this.subscription.add(this.store.select(gn).subscribe(e=>{this.categories=e.map(r=>({id:r.id||"",name:r.name})).sort((r,a)=>r.name.localeCompare(a.name))}))}updateCategoriesFromTransactions(){if(this.allTransactions&&this.allTransactions.length>0){let e=new Set,r=new Map;this.allTransactions.forEach(a=>{a.categoryId&&a.category&&(e.add(a.categoryId),r.set(a.categoryId,a.category))}),this.categories=Array.from(e).map(a=>({id:a,name:r.get(a)||"Unknown"})).sort((a,o)=>a.name.localeCompare(o.name))}else this.categories=[]}updateAvailableYears(){if(this.allTransactions&&this.allTransactions.length>0){let e=new Set;this.allTransactions.forEach(r=>{if(r.date){let a=(0,co.default)(this.dateService.toDate(r.date)).year();e.add(a)}}),e.add(this.currentYear),this.availableYears=Array.from(e).sort((r,a)=>a-r)}else this.availableYears=[this.currentYear];(isNaN(this.selectedYear)||!this.availableYears.includes(this.selectedYear))&&(this.selectedYear=this.availableYears.length>0?this.availableYears[0]:this.currentYear)}updateMonths(){this.months=[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}]}updateFilteredCount(){this.filterService.getSelectedDate()||this.filterService.getSelectedDateRange()||this.filterService.getSelectedYear()?this.filteredCount=this.filterService.getFilteredCount(this.allTransactions,this.filterService.getCurrentFilterState()):this.filteredCount=this.filterService.getCurrentYearFilteredCount(this.allTransactions,this.filterService.getCurrentFilterState())}onSearchChange(e){let r=e;this.filterService.setSearchTerm(r)}onCategoryChange(e){let r=e;this.filterService.setSelectedCategory([r])}onTypeChange(e){let r=e;this.filterService.setSelectedType(r)}onSelectedYearChange(e){let r=e;if(this.selectedYear=r,this.selectedMonthOption!=="all"){let a=parseInt(this.selectedMonthOption),o=(0,co.default)().year(r).month(a).startOf("month").toDate(),s=(0,co.default)().year(r).month(a).endOf("month").toDate();this.filterService.setSelectedDateRange(o,s)}else this.filterService.setSelectedYear(r,r)}onSelectedMonthChange(e){if(this.selectedMonthOption=e,e!=="all"){let r=parseInt(e),a=(0,co.default)().year(this.selectedYear).month(r).startOf("month").toDate(),o=(0,co.default)().year(this.selectedYear).month(r).endOf("month").toDate();this.filterService.setSelectedDateRange(a,o)}else this.filterService.clearSelectedDate(),this.filterService.setSelectedYear(this.selectedYear,this.selectedYear)}onAddTransaction(){this.addTransaction.emit()}onImportTransactions(){this.importTransactions.emit()}onOpenFilterDialog(){this.openFilterDialog.emit()}onViewAnalytics(){this.viewAnalytics.emit()}onExpandTable(){this.expandTable.emit()}onClearAllFilters(){this.filterService.clearAllFilters(),this.selectedDateRange=null,this.selectedDate=null,this.searchTerm="",this.selectedCategory="all",this.selectedType="all",this.selectedYear=this.availableYears.length>0?this.availableYears[0]:this.currentYear,this.selectedMonthOption="all"}onClearSearchFilter(){this.filterService.clearSearchTerm()}onClearYearFilter(){let e=this.availableYears.length>0?this.availableYears[0]:this.currentYear;this.selectedYear=e,this.filterService.setSelectedYear(this.selectedYear,this.selectedYear),this.selectedMonthOption!=="all"&&this.filterService.setSelectedDateRange((0,co.default)().year(this.selectedYear).startOf("year").toDate(),(0,co.default)().year(this.selectedYear).endOf("year").toDate())}onClearMonthFilter(){this.selectedMonthOption="all",this.filterService.clearSelectedDate(),this.filterService.setSelectedYear(this.selectedYear,this.selectedYear)}onClearCategoryFilter(){this.filterService.clearSelectedCategory()}onClearTypeFilter(){this.filterService.clearSelectedType()}onClearDateRangeFilter(){this.filterService.clearSelectedDate(),this.filterService.clearSelectedYear()}onClearDateFilter(){this.filterService.clearSelectedDate(),this.filterService.clearSelectedYear()}getActiveFilters(){var a,o;let e=[],r=this.availableYears.length>0?this.availableYears[0]:this.currentYear;if(this.searchTerm&&e.push({type:"search",label:`Search: "${this.searchTerm}"`,onRemove:()=>this.onClearSearchFilter()}),this.selectedYear!==r&&e.push({type:"year",label:`Year: ${this.selectedYear}`,onRemove:()=>this.onClearYearFilter()}),this.selectedMonthOption!=="all"){let s=(a=this.months.find(d=>d.value===parseInt(this.selectedMonthOption)))==null?void 0:a.label;e.push({type:"month",label:`Month: ${s}`,onRemove:()=>this.onClearMonthFilter()})}if(this.selectedCategory!=="all"){let s=(o=this.categories.find(d=>d.id===this.selectedCategory))==null?void 0:o.name;e.push({type:"category",label:`Category: ${s||"Unknown"}`,onRemove:()=>this.onClearCategoryFilter()})}return this.selectedType!=="all"&&e.push({type:"type",label:`Type: ${this.selectedType}`,onRemove:()=>this.onClearTypeFilter()}),this.selectedDateRange&&e.push({type:"dateRange",label:`Date Range: ${this.selectedDateRange.start.toLocaleDateString()} - ${this.selectedDateRange.end.toLocaleDateString()}`,onRemove:()=>this.onClearDateRangeFilter()}),this.selectedDate&&e.push({type:"date",label:`Date: ${this.selectedDate.toLocaleDateString()}`,onRemove:()=>this.onClearDateFilter()}),e}hasActiveFilters(){return this.filterService.hasActiveFilters()}getActiveFiltersCount(){return this.filterService.getActiveFiltersCount()}getCurrentFilterState(){return this.filterService.getCurrentFilterState()}saveFilterPreset(e,r){this.filterService.saveAsPreset(e,r)}applyFilterPreset(e){this.filterService.applyPreset(e)}getFilterPresets(){return this.filterService.filterPresets$}getFilterHistory(){return this.filterService.filterHistory$}};t.\u0275fac=function(r){return new(r||t)(W(Ct),W(mt),W(Vt),W(Ro))},t.\u0275cmp=Le({type:t,selectors:[["search-filter"]],outputs:{addTransaction:"addTransaction",importTransactions:"importTransactions",openFilterDialog:"openFilterDialog",viewAnalytics:"viewAnalytics",expandTable:"expandTable"},features:[Z0],decls:63,vars:8,consts:[[1,"bg-white","rounded-xl","border","border-gray-100","shadow-sm","p-4","pb-0"],[1,"flex","items-center","justify-between","mb-2"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","space-x-2"],[1,"w-2","h-2","bg-blue-500","rounded-full"],[1,"text-sm","font-medium","text-gray-700"],[1,"flex","items-center","space-x-1"],[1,"text-sm","font-semibold","text-gray-900"],["class","mb-3 pb-2 border-b border-gray-100 absolute top-10",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-4","w-full"],["appearance","fill",1,"w-full"],["matInput","","placeholder","Search transactions...",3,"ngModelChange","ngModel"],["matSuffix","",1,"text-gray-400","text-sm"],[3,"ngModelChange","ngModel"],[3,"value"],["value","all"],["value","income"],["value","expense"],[1,"mb-3","pb-2","border-b","border-gray-100","absolute","top-10"],[1,"flex","flex-wrap","gap-1"],[1,"flex","items-center","space-x-1","ml-2"],[1,"bg-blue-50","text-blue-700","border-blue-200","text-xs","h-6",3,"removable"],[1,"bg-blue-50","text-blue-700","border-blue-200","text-xs","h-6",3,"removed","removable"],["matChipRemove","",1,"text-blue-500","text-xs"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),oe(4,"div",4),c(5,"span",5),g(6),l()(),c(7,"div",6)(8,"span",7),g(9),l()()()(),L(10,Az,5,0,"div",8),c(11,"div",9)(12,"div")(13,"mat-form-field",10)(14,"mat-label"),g(15,"Search transactions..."),l(),c(16,"input",11),R("ngModelChange",function(s){return a.onSearchChange(s)}),l(),c(17,"mat-icon",12),g(18,"search"),l()()(),c(19,"div")(20,"mat-form-field",10)(21,"mat-label"),g(22,"Year"),l(),c(23,"mat-select",13),R("ngModelChange",function(s){return a.onSelectedYearChange(s)}),qe(24,Iz,2,2,"mat-option",14,Or),l(),c(26,"mat-icon",12),g(27,"calendar_today"),l()()(),c(28,"div")(29,"mat-form-field",10)(30,"mat-label"),g(31,"Month"),l(),c(32,"mat-select",13),R("ngModelChange",function(s){return a.onSelectedMonthChange(s)}),c(33,"mat-option",15),g(34,"All Months"),l(),qe(35,Dz,2,2,"mat-option",14,Sz),l(),c(37,"mat-icon",12),g(38,"date_range"),l()()(),c(39,"div")(40,"mat-form-field",10)(41,"mat-label"),g(42,"Category"),l(),c(43,"mat-select",13),R("ngModelChange",function(s){return a.onCategoryChange(s)}),c(44,"mat-option",15),g(45,"All Categories"),l(),qe(46,Fz,2,2,"mat-option",14,kz),l(),c(48,"mat-icon",12),g(49,"category"),l()()(),c(50,"div")(51,"mat-form-field",10)(52,"mat-label"),g(53,"Type"),l(),c(54,"mat-select",13),R("ngModelChange",function(s){return a.onTypeChange(s)}),c(55,"mat-option",15),g(56,"All Types"),l(),c(57,"mat-option",16),g(58,"Income"),l(),c(59,"mat-option",17),g(60,"Expense"),l()(),c(61,"mat-icon",12),g(62,"account_balance_wallet"),l()()()()()),r&2&&(p(6),ee(" ",a.selectedYear," Transactions "),p(3),V(a.filteredCount),p(),O("ngIf",a.hasActiveFilters()),p(6),O("ngModel",a.searchTerm),p(7),O("ngModel",a.selectedYear),p(),Ke(a.availableYears),p(8),O("ngModel",a.selectedMonthOption),p(3),Ke(a.months),p(8),O("ngModel",a.selectedCategory),p(3),Ke(a.categories),p(8),O("ngModel",a.selectedType))},dependencies:[ct,Yt,Bt,li,Qe,Di,na,fo,Fi,Ii,Ea,Pb,Mb]});let n=t;return n})();var Nz=["tableSort"];function Lz(n,t){if(n&1){let i=ue();c(0,"mobile-transaction-list",2),R("editTransaction",function(r){j(i);let a=y();return z(a.editTransaction(r))})("deleteTransaction",function(r){j(i);let a=y();return z(a.deleteTransaction(r))})("addTransaction",function(){j(i);let r=y();return z(r.addTransactionDialog())})("importTransactions",function(){j(i);let r=y();return z(r.openImportDialog())}),l()}}function Bz(n,t){if(n&1){let i=ue();c(0,"div",0)(1,"div",3)(2,"search-filter",4),R("addTransaction",function(){j(i);let r=y();return z(r.addTransactionDialog())})("importTransactions",function(){j(i);let r=y();return z(r.openImportDialog())})("openFilterDialog",function(){j(i);let r=y();return z(r.openFilterDialog())})("viewAnalytics",function(){j(i);let r=y();return z(r.viewAnalytics())})("expandTable",function(){j(i);let r=y();return z(r.expandTable())}),l(),c(3,"transaction-table",5),R("editTransaction",function(r){j(i);let a=y();return z(a.editTransaction(r))})("deleteTransaction",function(r){j(i);let a=y();return z(a.deleteTransaction(r))})("startRowEdit",function(r){j(i);let a=y();return z(a.startRowEdit(r))})("saveRowEdit",function(r){j(i);let a=y();return z(a.saveRowEdit(r))})("cancelRowEdit",function(r){j(i);let a=y();return z(a.cancelRowEdit(r))})("addTransaction",function(){j(i);let r=y();return z(r.addTransactionDialog())})("bulkDeleteTransactions",function(r){j(i);let a=y();return z(a.bulkDeleteTransactions(r))})("bulkUpdateCategory",function(r){j(i);let a=y();return z(a.bulkUpdateCategory(r))}),l()()()}if(n&2){let i=y();p(3),O("isHome",i.isHome)}}function Vz(n,t){n&1&&(c(0,"div",11)(1,"mat-icon",12),g(2,"compare_arrows"),l(),c(3,"span",13),g(4,"Transactions"),l()())}function $z(n,t){if(n&1){let i=ue();c(0,"div",9)(1,"search-filter",4),R("addTransaction",function(){j(i);let r=y(2);return z(r.addTransactionDialog())})("importTransactions",function(){j(i);let r=y(2);return z(r.openImportDialog())})("openFilterDialog",function(){j(i);let r=y(2);return z(r.openFilterDialog())})("viewAnalytics",function(){j(i);let r=y(2);return z(r.viewAnalytics())})("expandTable",function(){j(i);let r=y(2);return z(r.expandTable())}),l(),c(2,"transaction-table",5),R("editTransaction",function(r){j(i);let a=y(2);return z(a.editTransaction(r))})("deleteTransaction",function(r){j(i);let a=y(2);return z(a.deleteTransaction(r))})("startRowEdit",function(r){j(i);let a=y(2);return z(a.startRowEdit(r))})("saveRowEdit",function(r){j(i);let a=y(2);return z(a.saveRowEdit(r))})("cancelRowEdit",function(r){j(i);let a=y(2);return z(a.cancelRowEdit(r))})("addTransaction",function(){j(i);let r=y(2);return z(r.addTransactionDialog())})("bulkDeleteTransactions",function(r){j(i);let a=y(2);return z(a.bulkDeleteTransactions(r))})("bulkUpdateCategory",function(r){j(i);let a=y(2);return z(a.bulkUpdateCategory(r))}),l()()}if(n&2){let i=y(2);p(2),O("isHome",i.isHome)}}function jz(n,t){n&1&&(c(0,"div",11)(1,"mat-icon",12),g(2,"attach_money"),l(),c(3,"span",13),g(4,"Accounts"),l()())}function zz(n,t){n&1&&(c(0,"div",10),oe(1,"user-accounts"),l())}function Yz(n,t){n&1&&(c(0,"div",11)(1,"mat-icon",12),g(2,"local_offer"),l(),c(3,"span",13),g(4,"Categories"),l()())}function Uz(n,t){n&1&&(c(0,"div",10),oe(1,"user-category",14),l()),n&2&&(p(),O("isChildView",!0))}function Gz(n,t){n&1&&(c(0,"div",11)(1,"mat-icon",12),g(2,"analytics"),l(),c(3,"span",13),g(4,"Reports"),l()())}function Wz(n,t){n&1&&oe(0,"app-reports")}function Hz(n,t){n&1&&(c(0,"div",11)(1,"mat-icon",12),g(2,"receipt_long"),l(),c(3,"span",13),g(4,"Tax"),l()())}function Xz(n,t){n&1&&oe(0,"app-tax")}function qz(n,t){n&1&&(c(0,"div",11)(1,"mat-icon",15),g(2,"note"),l(),c(3,"span",13),g(4,"Notes"),l()())}function Kz(n,t){n&1&&oe(0,"app-notes")}function Zz(n,t){if(n&1){let i=ue();c(0,"mat-card",1)(1,"mat-tab-group",6),ut("selectedIndexChange",function(r){j(i);let a=y();return gt(a.selectedTabIndex,r)||(a.selectedTabIndex=r),z(r)}),c(2,"mat-tab",7),L(3,Vz,5,0,"ng-template",8)(4,$z,3,1,"div",9),l(),c(5,"mat-tab"),L(6,jz,5,0,"ng-template",8)(7,zz,2,0,"div",10),l(),c(8,"mat-tab"),L(9,Yz,5,0,"ng-template",8)(10,Uz,2,1,"div",10),l(),c(11,"mat-tab"),L(12,Gz,5,0,"ng-template",8)(13,Wz,1,0,"app-reports"),l(),c(14,"mat-tab"),L(15,Hz,5,0,"ng-template",8)(16,Xz,1,0,"app-tax"),l(),c(17,"mat-tab"),L(18,qz,5,0,"ng-template",8)(19,Kz,1,0,"app-notes"),l()()()}if(n&2){let i=y();p(),dt("selectedIndex",i.selectedTabIndex),p(3),Oe(i.selectedTabIndex===0?4:-1),p(3),Oe(i.selectedTabIndex===1?7:-1),p(3),Oe(i.selectedTabIndex===2?10:-1),p(3),Oe(i.selectedTabIndex===3?13:-1),p(3),Oe(i.selectedTabIndex===4?16:-1),p(3),Oe(i.selectedTabIndex===4?19:-1)}}var N2=(()=>{let t=class t{constructor(e,r,a,o,s,d,u,m,f,_){this.loaderService=e,this._dialog=r,this.auth=a,this.notificationService=o,this.filterService=s,this.store=d,this.dateService=u,this.breakpointService=m,this.router=f,this.transactionsService=_,this.isHome=!1,this.dataSource=new jd,this.displayedColumns=["Payee","Amount","Status","Type","Date","Actions"],this.pageSizeOptions=[...Ut.PAGINATION.PAGE_SIZE_OPTIONS],this.selectedTx=null,this.selectedTabIndex=0,this.showFullTable=!1,this.isTransactionsPage=!1,this.isTransactionsPage=!!this.router.url.includes("transactions"),this.transactions$=this.store.select(En),this.transactionsLoading$=this.store.select(ra),this.transactionsError$=this.store.select(DC)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnInit(){this.loadTransactions(),this.subscribeToStoreData()}ngOnDestroy(){}loadTransactions(){var r;this.loaderService.show();let e=(r=this.auth.currentUser)==null?void 0:r.uid;e&&(this.store.dispatch(ni({userId:e})),this.store.dispatch(fr({userId:e})))}subscribeToStoreData(){this.transactions$.subscribe(e=>{this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.loaderService.hide()}),this.transactionsError$.subscribe(e=>{e&&(console.error("Error loading transactions:",e),this.notificationService.error("Failed to load transactions"),this.loaderService.hide())})}editTransaction(e){this._dialog.open(os,{panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"desktop-dialog",data:e}).afterClosed().subscribe(a=>{a&&this.loadTransactions()})}deleteTransaction(e){return ge(this,null,function*(){var a;let r=(a=this.auth.currentUser)==null?void 0:a.uid;r&&e.id&&(this.store.dispatch(bl({userId:r,transactionId:e.id})),this.notificationService.success("Transaction deleted successfully"))})}onLongPress(e){this.selectedTx=e}startRowEdit(e){e.originalValues={payee:e.payee,amount:e.amount,type:e.type},e.isEditing=!0}saveRowEdit(e){var s;if(!e.payee||!e.payee.trim()){this.notificationService.error("Payee cannot be empty");return}let r=parseFloat(e.amount);if(!r||r<=0){this.notificationService.error("Amount must be a positive number");return}if(!e.type||e.type!=="income"&&e.type!=="expense"){this.notificationService.error("Please select a valid transaction type");return}let a={payee:e.payee.trim(),amount:r,type:e.type},o=(s=this.auth.currentUser)==null?void 0:s.uid;o&&e.id&&(this.store.dispatch(As({userId:o,transactionId:e.id,transaction:a})),this.notificationService.success("Transaction updated successfully"),e.isEditing=!1,delete e.originalValues)}cancelRowEdit(e){e.payee=e.originalValues.payee,e.amount=e.originalValues.amount,e.type=e.originalValues.type,e.isEditing=!1,delete e.originalValues}openImportDialog(){this._dialog.open(xd,{panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"import-transactions-dialog"}).afterClosed().subscribe(r=>{r&&r.length&&this.importTransactions(r)})}importTransactions(e){return ge(this,null,function*(){var a;this.loaderService.show();let r=(a=this.auth.currentUser)==null?void 0:a.uid;if(!r){this.notificationService.error("User not authenticated"),this.loaderService.hide();return}try{let o=0,s=0;for(let d of e)try{let u=new Date(d.date);if(isNaN(u.getTime()))throw new Error("Invalid date format");let m={payee:d.payee,userId:r,accountId:d.accountId,amount:parseFloat(d.amount),type:d.type,category:(d==null?void 0:d.category)||"",categoryId:(d==null?void 0:d.categoryId)||"",date:u,notes:d.narration||"",isPending:!1,syncStatus:Ai.PENDING,lastSyncedAt:new Date,createdAt:new Date,updatedAt:new Date,createdBy:r,updatedBy:r,status:uo.COMPLETED};this.store.dispatch(Es({userId:r,transaction:m})),o++}catch(u){console.error("Error importing transaction:",d,u),s++}this.loaderService.hide(),o>0&&(this.notificationService.success(`Successfully imported ${o} transactions`),this.store.dispatch(ni({userId:r}))),s>0&&this.notificationService.warning(`${s} transactions failed to import`)}catch(o){this.loaderService.hide(),this.notificationService.error("Failed to import transactions"),console.error("Import error:",o)}})}exportToExcel(){if(!this.dataSource.data||this.dataSource.data.length===0){this.notificationService.error("No transactions to export");return}let e=this.dataSource.data.map(u=>{let m=this.dateService.toDate(u.date);return{Date:(0,Yo.default)(m).format("MM/DD/YYYY"),Time:(0,Yo.default)(m).format("hh:mm A"),Payee:u.payee,Amount:u.amount,Type:u.type,Category:u.category,Notes:u.notes||""}}),r=Object.keys(e[0]),a=[r.join(","),...e.map(u=>r.map(m=>`"${u[m]}"`).join(","))].join(`
`),o=new Blob([a],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),d=URL.createObjectURL(o);s.setAttribute("href",d),s.setAttribute("download",`transactions_${(0,Yo.default)().format("YYYY-MM-DD")}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(d),this.notificationService.success(`Exported ${e.length} transactions successfully`)}getCurrentMonthTransactions(){let e=(0,Yo.default)().month(),r=(0,Yo.default)().year();return this.dataSource.data.filter(a=>{let o=this.dateService.toDate(a.date);if(!o)return!1;let s=(0,Yo.default)(o);return s.month()===e&&s.year()===r}).length}getUniqueCategories(){return new Set(this.dataSource.data.map(r=>r.category)).size}getFilteredCount(){return this.dataSource.data.length}getTotalCount(){return this.dataSource.data.length}getCurrentYearCount(){let e=(0,Yo.default)().year();return this.dataSource.data.filter(r=>{let a=this.dateService.toDate(r.date);return a?(0,Yo.default)(a).year()===e:!1}).length}getCurrentYear(){return(0,Yo.default)().year()}getCategoriesList(){let e=new Set(this.dataSource.data.map(r=>r.category));return Array.from(e).sort()}getTypesList(){return[ht.INCOME,ht.EXPENSE]}refreshTransactions(){var r;let e=(r=this.auth.currentUser)==null?void 0:r.uid;e&&(this.store.dispatch(ni({userId:e})),this.notificationService.success("Transactions refreshed"))}openFilterDialog(){this.notificationService.success("Filter functionality coming soon")}viewAnalytics(){this.notificationService.success("Analytics view coming soon")}addTransactionDialog(){this._dialog.open(os,{panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"desktop-dialog"}).afterClosed().subscribe(e=>{var r;if(e){let a=(r=this.auth.currentUser)==null?void 0:r.uid;a&&this.store.dispatch(ni({userId:a}))}})}expandTable(){this.showFullTable=!this.showFullTable}clearAllFilters(){this.filterService.clearAllFilters()}getActiveFiltersCount(){return this.filterService.getActiveFiltersCount()}hasActiveFilters(){return this.filterService.hasActiveFilters()}getCurrentFilterState(){return this.filterService.getCurrentFilterState()}bulkDeleteTransactions(e){return ge(this,null,function*(){var a;if(!e||e.length===0)return;this.loaderService.show();let r=(a=this.auth.currentUser)==null?void 0:a.uid;if(!r){this.notificationService.error("User not authenticated"),this.loaderService.hide();return}try{for(let o of e)yield this.transactionsService.deleteTransaction(r,o.id).toPromise();this.notificationService.success(`Successfully deleted ${e.length} transaction(s)`)}catch(o){console.error("Error deleting transactions:",o),this.notificationService.error("Failed to delete some transactions")}finally{this.loaderService.hide()}})}bulkUpdateCategory(e){return ge(this,null,function*(){var s;let{transactions:r,categoryId:a}=e;if(!r||r.length===0||!a)return;this.loaderService.show();let o=(s=this.auth.currentUser)==null?void 0:s.uid;if(!o){this.notificationService.error("User not authenticated"),this.loaderService.hide();return}try{for(let d of r){let u={categoryId:a};yield this.transactionsService.updateTransaction(o,d.id,u).toPromise()}this.notificationService.success(`Successfully updated category for ${r.length} transaction(s)`)}catch(d){console.error("Error updating transactions:",d),this.notificationService.error("Failed to update some transactions")}finally{this.loaderService.hide()}})}};t.\u0275fac=function(r){return new(r||t)(W(Al),W(xn),W(Mt),W(Ct),W(Ro),W(mt),W(Vt),W(sr),W(on),W(Oo))},t.\u0275cmp=Le({type:t,selectors:[["transaction-list"]],viewQuery:function(r,a){if(r&1&&(wr(gb,5),wr(Nz,5)),r&2){let o;er(o=tr())&&(a.paginator=o.first),er(o=tr())&&(a.sort=o.first)}},inputs:{isHome:"isHome"},decls:3,vars:1,consts:[[1,"grid","grid-cols-12","gap-2"],[1,"p-2","shadow-lg","border-0","rounded-xl","transaction-list-container"],[3,"editTransaction","deleteTransaction","addTransaction","importTransactions"],[1,"col-span-12"],[3,"addTransaction","importTransactions","openFilterDialog","viewAnalytics","expandTable"],[3,"editTransaction","deleteTransaction","startRowEdit","saveRowEdit","cancelRowEdit","addTransaction","bulkDeleteTransactions","bulkUpdateCategory","isHome"],["mat-stretch-tabs","false","mat-align-tabs","start",1,"custom-tabs",3,"selectedIndexChange","selectedIndex"],[1,"max-h-full"],["mat-tab-label",""],[1,"p-2","overflow-hidden"],[1,"p-6"],[1,"flex","items-center","space-x-2","px-4","py-2"],[1,"text-primary"],[1,"font-semibold","text-gray-700","text-xs"],[3,"isChildView"],[1,"text-yellow-600"]],template:function(r,a){r&1&&L(0,Lz,1,0,"mobile-transaction-list")(1,Bz,4,1,"div",0)(2,Zz,20,7,"mat-card",1),r&2&&Oe(a.breakpointService.device.isMobile||a.breakpointService.device.isTablePortrait&&a.isTransactionsPage?0:!a.isHome&&!a.breakpointService.device.isMobile&&!a.breakpointService.device.isTablePortrait?1:2)},dependencies:[Ri,Qe,WC,Il,Dl,sm,gm,_m,Qm,Jm,I2,F2,R2],styles:[".hide-scrollbar[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none;overflow:-moz-scrollbars-none;-webkit-overflow-scrolling:touch}.hide-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.custom-tabs[_ngcontent-%COMP%]   .mat-mdc-tab-group[_ngcontent-%COMP%]   .mat-mdc-tab-header[_ngcontent-%COMP%]{border-bottom:2px solid #e5e7eb}.custom-tabs[_ngcontent-%COMP%]   .mat-mdc-tab-group[_ngcontent-%COMP%]   .mat-mdc-tab-header[_ngcontent-%COMP%]   .mat-mdc-tab-label-container[_ngcontent-%COMP%]   .mat-mdc-tab-label[_ngcontent-%COMP%]{min-width:120px;padding:0}.custom-tabs[_ngcontent-%COMP%]   .mat-mdc-tab-group[_ngcontent-%COMP%]   .mat-mdc-tab-header[_ngcontent-%COMP%]   .mat-mdc-tab-label-container[_ngcontent-%COMP%]   .mat-mdc-tab-label.mat-mdc-tab-label-active[_ngcontent-%COMP%]{background-color:#f3f4f6;border-radius:8px 8px 0 0}.mat-mdc-table[_ngcontent-%COMP%]{background-color:#fff}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{font-weight:600;color:#374151;background-color:#fff;border-bottom:2px solid #e5e7eb;position:sticky;top:0;z-index:10}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:16px 24px;border-bottom:1px solid #f3f4f6}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]{transition:all .2s ease}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:inherit;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.table-container[_ngcontent-%COMP%]{height:100%;overflow:auto}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.transaction-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.transaction-list-container[_ngcontent-%COMP%]   .mat-mdc-tab-body-content[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.mat-mdc-card[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f!important;border-radius:16px!important;border:none!important}.mat-mdc-raised-button[_ngcontent-%COMP%]{border-radius:8px!important;font-weight:500!important;text-transform:none!important;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f!important}.mat-mdc-raised-button[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f!important}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{transition:all .2s ease}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{transform:translateY(-1px);box-shadow:0 4px 12px #3b82f626}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500;text-transform:capitalize}.status-badge.income[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-badge.expense[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.mat-mdc-row.editing[_ngcontent-%COMP%]{background-color:#eff6ff;border-left:4px solid #3b82f6}@media (max-width: 768px){.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:12px 16px}}"]});let n=t;return n})();var Qz=(n,t)=>t.title,Jz=(n,t)=>t.step;function eY(n,t){if(n&1&&(c(0,"div",22)(1,"div",64)(2,"mat-icon"),g(3),l()(),c(4,"h3",65),g(5),l(),c(6,"p",66),g(7),l()()),n&2){let i=t.$implicit;p(3),V(i.icon),p(2),V(i.title),p(2),V(i.description)}}function tY(n,t){if(n&1&&(c(0,"div",29)(1,"div",67),g(2),l(),c(3,"div",68)(4,"mat-icon"),g(5),l()(),c(6,"h3",69),g(7),l(),c(8,"p",70),g(9),l()()),n&2){let i=t.$implicit;p(2),ee(" ",i.step," "),p(3),V(i.icon),p(2),V(i.title),p(2),V(i.description)}}var L2=(()=>{let t=class t{constructor(e,r){this.router=e,this.notificationService=r,this.features=[{icon:"account_balance",title:"Connect Bank",description:"Securely connect your bank accounts for automatic transaction tracking and real-time balance updates."},{icon:"pie_chart",title:"Smart Budgeting",description:"Create and manage budgets with intelligent spending alerts to keep you on track."},{icon:"category",title:"Sub Category",description:"Create and manage sub categories to track your spending."},{icon:"trending_up",title:"Real-Time Insights",description:"Get instant financial insights and trends with beautiful charts and analytics."},{icon:"flag",title:"Goal Tracking",description:"Set savings goals and track your progress with visual milestones."},{icon:"wifi_off",title:"Offline Access",description:"Access your data anytime, even without an internet connection."},{icon:"currency_exchange",title:"Multiple Currency Support",description:"Manage your finances in multiple currencies with ease."},{icon:"devices",title:"PWA - Multi-Platform Support",description:"Access your data on multiple devices web, android and ios"},{icon:"security",title:"Secure & Private",description:"Your financial data is protected with industry-standard security measures."},{icon:"cloud",title:"Cloud Sync",description:"Sync your data across all your devices with ease."}],this.howItWorks=[{step:"1",title:"Download & Sign Up",description:"Get the app from App Store or Play Store and create your account in seconds.",icon:"smartphone"},{step:"2",title:"Set Your Goals",description:"Define your financial goals and create personalized budgets.",icon:"flag"},{step:"3",title:"Track & Grow",description:"Monitor your progress and watch your savings grow with smart insights.",icon:"trending_up"}],this.testimonials=[{name:"Sarah Johnson",role:"Freelance Designer",content:"Money Manager helped me save $5,000 in just 6 months! The goal tracking feature is incredible.",avatar:"\u{1F469}\u200D\u{1F3A8}",rating:5,location:"San Francisco, CA"},{name:"Mike Chen",role:"Software Engineer",content:"Finally, a finance app that actually works offline and syncs perfectly across all my devices.",avatar:"\u{1F468}\u200D\u{1F4BB}",rating:5,location:"Seattle, WA"},{name:"Emma Davis",role:"Small Business Owner",content:"The real-time insights helped me identify spending patterns I never noticed before. Game changer!",avatar:"\u{1F469}\u200D\u{1F4BC}",rating:5,location:"Austin, TX"}],this.screenshots=[{title:"Dashboard Overview",description:"Get a complete view of your finances at a glance",image:"assets/images/screenshot/dashboard.png"},{title:"Smart Analytics",description:"Beautiful charts and insights to understand your spending",image:"assets/images/screenshot/analytics.png"},{title:"Goal Tracking",description:"Set and track your financial goals with visual progress",image:"assets/images/screenshot/goals.png"}],this.currentScreenshotIndex=0}ngOnInit(){}navigateToSignUp(){this.router.navigate(["/sign-in"])}navigateToSignIn(){this.router.navigate(["/sign-in"])}scrollToFeatures(){let e=document.getElementById("features");e&&e.scrollIntoView({behavior:"smooth"})}nextScreenshot(){this.currentScreenshotIndex=(this.currentScreenshotIndex+1)%this.screenshots.length}prevScreenshot(){this.currentScreenshotIndex=this.currentScreenshotIndex===0?this.screenshots.length-1:this.currentScreenshotIndex-1}setScreenshotIndex(e){this.currentScreenshotIndex=e}downloadAppStore(){this.notificationService.info("App Store link coming soon!")}downloadPlayStore(){this.notificationService.info("Play Store link coming soon!")}installPwa(){return ge(this,null,function*(){this.notificationService.info("PWA installation will be triggered automatically when available.")})}onPwaInstallClicked(){console.log("PWA install clicked from prompt component"),this.notificationService.success("Installing Money Manager...")}onPwaInstallDismissed(){console.log("PWA install dismissed from prompt component"),this.notificationService.info("Installation cancelled")}};t.\u0275fac=function(r){return new(r||t)(W(on),W(Ct))},t.\u0275cmp=Le({type:t,selectors:[["app-landing"]],decls:116,vars:0,consts:[[1,"hero-section","min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-primary-50","via-white","to-primary-100","relative","overflow-hidden"],[1,"absolute","inset-0","overflow-hidden"],[1,"absolute","-top-40","-right-40","w-80","h-80","bg-primary/20","rounded-full","mix-blend-multiply","filter","blur-xl","opacity-70","animate-blob"],[1,"absolute","-bottom-40","-left-40","w-80","h-80","bg-primary/30","rounded-full","mix-blend-multiply","filter","blur-xl","opacity-70","animate-blob","animation-delay-2000"],[1,"absolute","top-40","left-40","w-80","h-80","bg-primary/25","rounded-full","mix-blend-multiply","filter","blur-xl","opacity-70","animate-blob","animation-delay-4000"],[1,"container","mx-auto","px-4","relative","z-10"],[1,"grid","lg:gap-12","items-center","justify-center"],[1,"flex","flex-col","items-center","justify-center","text-center"],[1,"mb-6"],[1,"text-3xl","sm:text-4xl","lg:text-5xl","xl:text-6xl","font-bold","text-gray-900","mb-4","leading-tight"],[1,"bg-gradient-to-r","from-primary","to-primary-600","bg-clip-text","text-transparent","block"],[1,"text-base","sm:text-lg","lg:text-xl","text-gray-600","mb-6","max-w-lg","mx-auto"],[1,"flex","flex-col","sm:flex-row","gap-3","justify-center","mb-8"],[1,"flex","items-center","justify-center","gap-3","px-8","py-4","bg-gradient-to-r","from-primary","to-primary-600","text-white","font-semibold","rounded-xl","shadow-lg","hover:shadow-xl","transition-all","duration-300","transform","hover:-translate-y-1",3,"click"],[1,"!text-[1.5rem]"],[1,"text-lg"],["id","features",1,"py-16","lg:py-20","bg-white"],[1,"container","mx-auto","px-4"],[1,"text-center","mb-12","lg:mb-16","flex","flex-col","items-center","justify-center"],[1,"text-2xl","sm:text-3xl","lg:text-4xl","font-bold","text-gray-900","mb-4"],[1,"text-base","sm:text-lg","text-gray-600","max-w-2xl","mx-auto"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","lg:gap-8"],[1,"group","p-6","lg:p-8","rounded-2xl","border","border-gray-200","hover:border-primary","hover:shadow-xl","transition-all","duration-300","transform","hover:-translate-y-2","bg-gradient-to-br","from-white","to-primary-50/30","hover:from-primary-50/50","hover:to-white"],[1,"py-20","bg-gradient-to-br","from-primary-50","to-white"],[1,"container-responsive","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-16","flex","flex-col","items-center","justify-center"],[1,"text-3xl","sm:text-4xl","md:text-5xl","font-bold","text-gray-900","mb-6"],[1,"text-lg","sm:text-xl","text-gray-600","max-w-3xl","mx-auto","leading-relaxed"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-8"],[1,"text-center","group","relative"],[1,"py-20","bg-gradient-to-r","from-primary","via-primary-600","to-primary"],[1,"container","mx-auto","text-center","px-4","flex","flex-col","items-center","justify-center"],[1,"text-3xl","sm:text-4xl","md:text-5xl","font-bold","text-white","mb-6"],[1,"text-xl","text-primary-100","mb-8","mx-auto","leading-relaxed"],[1,"flex","flex-wrap","items-center","justify-center","gap-6","mb-8"],[1,"flex","items-center","gap-2"],[1,"w-6","h-6","bg-primary-400","rounded-full","flex","items-center","justify-center"],[1,"text-white","text-xs"],[1,"text-primary-100","text-sm"],[1,"flex","flex-col","sm:flex-row","gap-4","justify-center"],[1,"flex","items-center","justify-center","gap-3","px-8","py-4","bg-white","text-primary","font-semibold","rounded-xl","shadow-lg","hover:shadow-xl","transform","hover:-translate-y-1","transition-all","duration-300",3,"click"],[1,"text-xl"],[1,"text-lg","font-bold"],[1,"py-12","bg-gray-900","text-white"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8","mb-8"],[1,"md:col-span-2"],[1,"flex","items-start","mb-4"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center","mr-3","bg-gradient-to-r","from-primary","to-primary-600"],["src","assets/icon/app-icon/icon-192x192.png","alt","Money Manager",1,"w-6","h-6"],[1,"text-xl","font-bold"],[1,"text-sm","text-gray-400"],[1,"text-gray-400","mb-4","max-w-md","leading-relaxed"],[1,"font-semibold","mb-4","text-primary-400"],[1,"space-y-2"],["href","#features",1,"text-gray-400","hover:text-primary-400","transition-colors","duration-300"],["routerLink","/privacy-policy",1,"text-gray-400","hover:text-primary-400","transition-colors","duration-300"],["routerLink","/terms-conditions",1,"text-gray-400","hover:text-primary-400","transition-colors","duration-300"],["href","#",1,"text-gray-400","hover:text-primary-400","transition-colors","duration-300"],[1,"border-t","border-gray-800","pt-6"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","space-y-2","md:space-y-0"],[1,"text-gray-400","text-sm"],[1,"flex","items-center","space-x-4","text-sm","text-gray-400"],[1,"flex","items-center"],[1,"text-sm","mr-1"],[1,"text-3xl","lg:text-4xl","mb-4","group-hover:scale-110","transition-transform","duration-300","text-primary"],[1,"text-lg","lg:text-xl","font-semibold","text-gray-900","mb-3","group-hover:text-primary","transition-colors","duration-300"],[1,"text-sm","lg:text-base","text-gray-600","leading-relaxed"],[1,"w-16","h-16","bg-gradient-to-r","from-primary","to-primary-600","text-white","rounded-full","flex","items-center","justify-center","text-2xl","font-bold","mx-auto","mb-6","shadow-lg","group-hover:shadow-xl","transition-shadow","duration-300"],[1,"text-3xl","mb-4","group-hover:scale-110","transition-transform","duration-300","text-primary"],[1,"text-xl","font-semibold","text-gray-900","mb-4","group-hover:text-primary","transition-colors","duration-300"],[1,"text-gray-600","leading-relaxed"]],template:function(r,a){r&1&&(c(0,"section",0)(1,"div",1),oe(2,"div",2)(3,"div",3)(4,"div",4),l(),c(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h1",9),g(10," Simple "),c(11,"span",10),g(12," Money Management "),l()(),c(13,"p",11),g(14," Track your expenses, manage budgets, and keep your finances organized. "),l()(),c(15,"div",12)(16,"button",13),R("click",function(){return a.navigateToSignUp()}),c(17,"mat-icon",14),g(18,"person_add"),l(),c(19,"span",15),g(20,"Get Started Free"),l()()()()()()(),c(21,"section",16)(22,"div",17)(23,"div",18)(24,"h2",19),g(25," What You Can Do "),l(),c(26,"p",20),g(27," Essential tools to help you manage your money better. "),l()(),c(28,"div",21),qe(29,eY,8,3,"div",22,Qz),l()()(),c(31,"section",23)(32,"div",24)(33,"div",25)(34,"h2",26),g(35," Getting Started "),l(),c(36,"p",27),g(37," Simple steps to start managing your money "),l()(),c(38,"div",28),qe(39,tY,10,4,"div",29,Jz),l()()(),c(41,"section",30)(42,"div",31)(43,"h2",32),g(44," Ready to Get Started? "),l(),c(45,"p",33),g(46," Join thousands of users who are already managing their money smarter. "),l(),c(47,"div",34)(48,"div",35)(49,"div",36)(50,"span",37),g(51,"\u2713"),l()(),c(52,"span",38),g(53,"Free to use"),l()(),c(54,"div",35)(55,"div",36)(56,"span",37),g(57,"\u2713"),l()(),c(58,"span",38),g(59,"Works offline"),l()(),c(60,"div",35)(61,"div",36)(62,"span",37),g(63,"\u2713"),l()(),c(64,"span",38),g(65,"No ads"),l()()(),c(66,"div",39)(67,"button",40),R("click",function(){return a.navigateToSignUp()}),c(68,"mat-icon",41),g(69,"person_add"),l(),c(70,"span",42),g(71,"Get Started Free"),l()()()()(),c(72,"footer",43)(73,"div",17)(74,"div",44)(75,"div",45)(76,"div",46)(77,"div",47),oe(78,"img",48),l(),c(79,"div")(80,"h3",49),g(81,"Money Manager"),l(),c(82,"p",50),g(83,"Simple Money Management"),l()()(),c(84,"p",51),g(85," Track expenses, manage budgets, and organize your finances with ease. "),l()(),c(86,"div")(87,"h4",52),g(88,"Quick Links"),l(),c(89,"ul",53)(90,"li")(91,"a",54),g(92,"Features"),l()(),c(93,"li")(94,"a",55),g(95,"Privacy Policy"),l()(),c(96,"li")(97,"a",56),g(98,"Terms of Service"),l()(),c(99,"li")(100,"a",57),g(101,"Contact"),l()()()()(),c(102,"div",58)(103,"div",59)(104,"div",60)(105,"p"),g(106,"\xA9 2024 Money Manager. All rights reserved."),l()(),c(107,"div",61)(108,"span",62)(109,"mat-icon",63),g(110,"security"),l(),g(111," Secure "),l(),c(112,"span",62)(113,"mat-icon",63),g(114,"cloud_done"),l(),g(115," Cloud Sync "),l()()()()()()),r&2&&(p(29),Ke(a.features),p(10),Ke(a.howItWorks))},dependencies:[lg,Qe],styles:['[_ngcontent-%COMP%]:root{--primary: #46777f;--primary-50: #f0f4f5;--primary-100: #e1e9eb;--primary-200: #c3d3d7;--primary-300: #a5bdc3;--primary-400: #87a7af;--primary-500: #46777f;--primary-600: #3a636a;--primary-700: #2e4f55;--primary-800: #223b40;--primary-900: #16272b}@keyframes _ngcontent-%COMP%_blob{0%{transform:translate(0) scale(1)}33%{transform:translate(30px,-50px) scale(1.1)}66%{transform:translate(-20px,20px) scale(.9)}to{transform:translate(0) scale(1)}}.animate-blob[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blob 7s infinite}.animation-delay-2000[_ngcontent-%COMP%]{animation-delay:2s}.animation-delay-4000[_ngcontent-%COMP%]{animation-delay:4s}.animation-delay-1000[_ngcontent-%COMP%]{animation-delay:1s}.hero-section[_ngcontent-%COMP%]{position:relative}.hero-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 20% 80%,rgba(70,119,127,.3) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(70,119,127,.3) 0%,transparent 50%),radial-gradient(circle at 40% 40%,rgba(70,119,127,.2) 0%,transparent 50%);pointer-events:none}html[_ngcontent-%COMP%]{scroll-behavior:smooth}.feature-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#46777f,#3a636a);transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3a636a,#2e4f55);transform:translateY(-2px);box-shadow:0 10px 20px #46777f66}.testimonial-card[_ngcontent-%COMP%]{transition:all .3s ease}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 10px 25px #0000001a}.phone-mockup[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}.floating-element[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float-slow 8s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float-slow{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(5deg)}}.screenshot-carousel[_ngcontent-%COMP%]{transition:all .5s cubic-bezier(.4,0,.2,1)}.gradient-text[_ngcontent-%COMP%]{background:linear-gradient(135deg,#46777f,#3a636a);background-size:200% 200%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:_ngcontent-%COMP%_gradient-shift 3s ease infinite}@keyframes _ngcontent-%COMP%_gradient-shift{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.stat-number[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_count-up 2s ease-out}@keyframes _ngcontent-%COMP%_count-up{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}section[_ngcontent-%COMP%]{opacity:0;transform:translateY(30px);animation:_ngcontent-%COMP%_fade-in-up .8s ease-out forwards}@keyframes _ngcontent-%COMP%_fade-in-up{to{opacity:1;transform:translateY(0)}}.feature-card[_ngcontent-%COMP%]{animation-delay:calc(var(--animation-order) * .1s)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#46777f,#3a636a);border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#3a636a,#2e4f55)}button[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:focus{outline:2px solid #46777f;outline-offset:2px}.trust-badge[_ngcontent-%COMP%]{transition:all .3s ease}.trust-badge[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.download-btn[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.download-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.02);box-shadow:0 10px 25px #0003}.connection-line[_ngcontent-%COMP%]{position:relative}.connection-line[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:100%;width:100%;height:2px;background:linear-gradient(90deg,#46777f,#3a636a);transform:translateY(-50%);z-index:-1}.rating-stars[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_star-glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_star-glow{0%{filter:brightness(1)}to{filter:brightness(1.2)}}.carousel-dot[_ngcontent-%COMP%]{transition:all .3s ease}.carousel-dot[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.carousel-dot.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#46777f,#3a636a)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;width:100%}@media (max-width: 640px){.container[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}button[_ngcontent-%COMP%]{min-height:44px}}@media (min-width: 641px){.container[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.install-btn[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;padding:5px;width:60px;height:59px}mat-icon[_ngcontent-%COMP%]{font-size:inherit;width:inherit;height:inherit;line-height:inherit}.group[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;line-height:3rem}.text-3xl[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;line-height:2rem}.text-lg[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;line-height:1.25rem}.text-lg[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;line-height:1.125rem}']});let n=t;return n})();var B2=(()=>{let t=class t{constructor(e,r,a){this.firestore=e,this.auth=r,this.dateService=a}createSubscription(e,r){return ge(this,null,function*(){let a=$t(this.firestore,`users/${e}/subscription`);yield ta(a,de(ce({},r),{startDate:this.dateService.toTimestamp(r.startDate),endDate:this.dateService.toTimestamp(r.endDate)}))})}getSubscription(e){return ge(this,null,function*(){let r=$t(this.firestore,`users/${e}/subscription`),a=yield bi(r);if(a.exists())return a.data()})}updateSubscriptionPlan(e,r){return ge(this,null,function*(){let a=$t(this.firestore,`users/${e}/subscription`);yield $n(a,{plan:r})})}updateSubscriptionDates(e,r,a){return ge(this,null,function*(){let o=$t(this.firestore,`users/${e}/subscription`);yield $n(o,{startDate:di.fromDate(r),endDate:di.fromDate(a)})})}deleteSubscription(e){return ge(this,null,function*(){let r=$t(this.firestore,`users/${e}/subscription`);yield ar(r)})}};t.\u0275fac=function(r){return new(r||t)(Ne(Sr),Ne(Mt),Ne(Vt))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function iY(n,t){if(n&1){let i=ue();c(0,"div")(1,"p"),g(2),l(),c(3,"p"),g(4),se(5,"date"),l(),c(6,"p"),g(7),se(8,"date"),l(),c(9,"button",2),R("click",function(){j(i);let r=y();return z(r.updatePlan("premium"))}),g(10,"Upgrade to Premium"),l(),c(11,"button",2),R("click",function(){j(i);let r=y();return z(r.deleteSubscription())}),g(12,"Cancel Subscription"),l()()}if(n&2){let i=y();p(2),ee("Plan: ",i.subscription.plan,""),p(2),ee("Start Date: ",vt(5,3,i.dateService.toDate(i.subscription.startDate),"short"),""),p(3),ee("End Date: ",vt(8,6,i.dateService.toDate(i.subscription.endDate),"short"),"")}}function rY(n,t){if(n&1){let i=ue();c(0,"form",3),R("submit",function(){j(i);let r=y();return z(r.createSubscription())}),c(1,"label",4),g(2,"Plan:"),l(),c(3,"select",5),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.newSubscription.plan,r)||(a.newSubscription.plan=r),z(r)}),c(4,"option",6),g(5,"Free"),l(),c(6,"option",7),g(7,"Premium"),l()(),c(8,"label",8),g(9,"Start Date:"),l(),c(10,"input",9),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.newSubscription.startDate,r)||(a.newSubscription.startDate=r),z(r)}),l(),c(11,"label",10),g(12,"End Date:"),l(),c(13,"input",11),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.newSubscription.endDate,r)||(a.newSubscription.endDate=r),z(r)}),l(),c(14,"button",12),g(15,"Start Subscription"),l()()}if(n&2){let i=y();p(3),dt("ngModel",i.newSubscription.plan),p(7),dt("ngModel",i.newSubscription.startDate),p(3),dt("ngModel",i.newSubscription.endDate)}}var V2=(()=>{let t=class t{constructor(e,r,a,o,s){this.subscriptionService=e,this.auth=r,this.router=a,this.notificationService=o,this.dateService=s,this.userId="",this.newSubscription={userId:"",plan:"free",startDate:di.fromDate(new Date),endDate:di.fromDate(new Date)}}ngOnInit(){this.loadSubscription()}loadSubscription(){return ge(this,null,function*(){let e=this.auth.currentUser;if(e)try{this.userId=e.uid,this.subscription=yield this.subscriptionService.getSubscription(this.userId)}catch(r){console.error("Error loading subscription:",r),this.notificationService.error("Failed to load subscription data")}else this.notificationService.error("User not authenticated")})}createSubscription(){return ge(this,null,function*(){if(!this.newSubscription.plan){this.notificationService.warning("Please select a subscription plan");return}let e=this.auth.currentUser;if(e)try{this.newSubscription.userId=e.uid,yield this.subscriptionService.createSubscription(e.uid,this.newSubscription),this.notificationService.success("Subscription created successfully"),this.loadSubscription(),this.newSubscription={userId:"",plan:"free",startDate:di.fromDate(new Date),endDate:di.fromDate(new Date)}}catch(r){console.error("Error creating subscription:",r),this.notificationService.error("Failed to create subscription")}else this.notificationService.error("User not authenticated")})}updatePlan(e){return ge(this,null,function*(){if(!e){this.notificationService.warning("Please select a valid plan");return}let r=this.auth.currentUser;if(r)try{yield this.subscriptionService.updateSubscriptionPlan(r.uid,e),this.notificationService.success(`Subscription plan updated to ${e}`),this.loadSubscription()}catch(a){console.error("Error updating subscription plan:",a),this.notificationService.error("Failed to update subscription plan")}else this.notificationService.error("User not authenticated")})}updateDates(e,r){return ge(this,null,function*(){if(!e||!r){this.notificationService.warning("Please select valid start and end dates");return}if(e>=r){this.notificationService.warning("End date must be after start date");return}let a=this.auth.currentUser;if(a)try{yield this.subscriptionService.updateSubscriptionDates(a.uid,e,r),this.notificationService.success("Subscription dates updated successfully"),this.loadSubscription()}catch(o){console.error("Error updating subscription dates:",o),this.notificationService.error("Failed to update subscription dates")}else this.notificationService.error("User not authenticated")})}deleteSubscription(){return ge(this,null,function*(){let e=this.auth.currentUser;if(e)try{yield this.subscriptionService.deleteSubscription(e.uid),this.subscription=void 0,this.notificationService.success("Subscription deleted successfully")}catch(r){console.error("Error deleting subscription:",r),this.notificationService.error("Failed to delete subscription")}else this.notificationService.error("User not authenticated")})}};t.\u0275fac=function(r){return new(r||t)(W(B2),W(Mt),W(on),W(Ct),W(Vt))},t.\u0275cmp=Le({type:t,selectors:[["app-subscription"]],decls:5,vars:2,consts:[[4,"ngIf"],[3,"submit",4,"ngIf"],[3,"click"],[3,"submit"],["for","plan"],["id","plan","name","plan",3,"ngModelChange","ngModel"],["value","free"],["value","premium"],["for","startDate"],["type","date","id","startDate","name","startDate","required","",3,"ngModelChange","ngModel"],["for","endDate"],["type","date","id","endDate","name","endDate","required","",3,"ngModelChange","ngModel"],["type","submit"]],template:function(r,a){r&1&&(c(0,"div")(1,"h2"),g(2,"User Subscription"),l(),L(3,iY,13,9,"div",0)(4,rY,16,3,"form",1),l()),r&2&&(p(3),O("ngIf",a.subscription),p(),O("ngIf",!a.subscription))},dependencies:[ct,Jn,gl,ul,Yt,dl,Bt,Qn,ml,li,dg,Si]});let n=t;return n})();var Qh=ug("goals"),Jh=is(Qh,n=>n.goals),$2=is(Qh,n=>n.loading),j2=is(Qh,n=>n.error);var Cte=is(Jh,n=>n.map(t=>de(ce({},t),{progress:t.currentAmount/t.targetAmount,percentage:Math.round(t.currentAmount/t.targetAmount*100)})));var oY=(n,t)=>t.goalId;function sY(n,t){if(n&1){let i=ue();c(0,"div")(1,"div")(2,"p"),g(3),l(),c(4,"p"),g(5),se(6,"currency"),l(),c(7,"p"),g(8),se(9,"currency"),l(),c(10,"p"),g(11),se(12,"date"),l(),c(13,"button",8),R("click",function(){let r=j(i).$implicit,a=y();return z(a.deleteGoal(r.goalId))}),g(14,"Delete"),l(),c(15,"button",8),R("click",function(){let r=j(i).$implicit,a=y();return z(a.updateCurrentAmount(r.goalId,100))}),g(16,"Add 100 to current amount"),l()()()}if(n&2){let i=t.$implicit,e=y();p(3),ee("Title: ",i.title,""),p(2),ee("Target Amount: ",pe(6,4,i.targetAmount),""),p(3),ee("Current Amount: ",pe(9,6,i.currentAmount),""),p(3),ee("Deadline: ",vt(12,8,e.dateService.toDate(i.deadline),"short"),"")}}var z2=(()=>{let t=class t{constructor(e,r,a,o,s){this.auth=e,this.router=r,this.notificationService=a,this.store=o,this.dateService=s,this.userId="",this.goals=[],this.newGoal={goalId:"",userId:"",title:"",targetAmount:0,currentAmount:0,deadline:di.fromDate(new Date)},this.destroy$=new It,this.subscriptions=new Ki,this.goals$=this.store.select(Jh),this.goalsLoading$=this.store.select($2),this.goalsError$=this.store.select(j2)}ngOnInit(){this.loadGoals(),this.subscribeToStoreData()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}loadGoals(){let e=this.auth.currentUser;e&&(this.userId=e.uid,this.store.dispatch(Mo({userId:this.userId})))}subscribeToStoreData(){this.subscriptions.add(this.goals$.subscribe(e=>{this.goals=e})),this.subscriptions.add(this.goalsError$.subscribe(e=>{e&&(console.error("Error loading goals:",e),this.notificationService.error("Failed to load goals"))}))}createGoal(){if(!this.newGoal.title||!this.newGoal.targetAmount){this.notificationService.warning("Please fill in all required fields");return}let e=this.auth.currentUser;e&&(this.newGoal.userId=e.uid,this.newGoal.goalId=`${this.newGoal.userId}-${new Date().getTime()}`,this.store.dispatch($l({userId:e.uid,goal:this.newGoal})),this.notificationService.success("Goal created successfully"),this.newGoal={goalId:"",userId:"",title:"",targetAmount:0,currentAmount:0,deadline:di.fromDate(new Date)})}deleteGoal(e){let r=this.auth.currentUser;r&&(this.store.dispatch(jl({userId:r.uid,goalId:e})),this.notificationService.success("Goal deleted successfully"))}updateCurrentAmount(e,r){if(r<=0){this.notificationService.warning("Please enter a valid amount");return}let a=this.auth.currentUser;a&&(this.store.dispatch(zl({userId:a.uid,goalId:e,amount:r})),this.notificationService.success("Goal progress updated successfully"))}};t.\u0275fac=function(r){return new(r||t)(W(Mt),W(on),W(Ct),W(mt),W(Vt))},t.\u0275cmp=Le({type:t,selectors:[["app-goals"]],decls:17,vars:3,consts:[[3,"submit"],["for","title"],["type","text","id","title","name","title","required","",3,"ngModelChange","ngModel"],["for","targetAmount"],["type","number","id","targetAmount","name","targetAmount","required","",3,"ngModelChange","ngModel"],["for","deadline"],["type","date","id","deadline","name","deadline","required","",3,"ngModelChange","ngModel"],["type","submit"],[3,"click"]],template:function(r,a){r&1&&(c(0,"div")(1,"h2"),g(2,"User Goals"),l(),qe(3,sY,17,11,"div",null,oY),c(5,"form",0),R("submit",function(){return a.createGoal()}),c(6,"label",1),g(7,"Title:"),l(),c(8,"input",2),ut("ngModelChange",function(s){return gt(a.newGoal.title,s)||(a.newGoal.title=s),s}),l(),c(9,"label",3),g(10,"Target Amount:"),l(),c(11,"input",4),ut("ngModelChange",function(s){return gt(a.newGoal.targetAmount,s)||(a.newGoal.targetAmount=s),s}),l(),c(12,"label",5),g(13,"Deadline:"),l(),c(14,"input",6),ut("ngModelChange",function(s){return gt(a.newGoal.deadline,s)||(a.newGoal.deadline=s),s}),l(),c(15,"button",7),g(16,"Add Goal"),l()()()),r&2&&(p(3),Ke(a.goals),p(5),dt("ngModel",a.newGoal.title),p(3),dt("ngModel",a.newGoal.targetAmount),p(3),dt("ngModel",a.newGoal.deadline))},dependencies:[Jn,Yt,rr,Bt,Qn,ml,li,dg,Si,Hr]});let n=t;return n})();var Y2=(()=>{let t=class t extends im{constructor(e,r){super(e,r),this.firestore=e,this.auth=r,this.COLLECTION_NAME="googleSheets"}extractSpreadsheetId(e){try{let r=new URL(e);if(r.hostname==="docs.google.com"&&r.pathname.includes("/spreadsheets/d/")){let a=r.pathname.split("/"),o=a.findIndex(s=>s==="d");if(o!==-1&&a[o+1])return a[o+1]}return null}catch(r){return console.error("Error extracting spreadsheet ID:",r),null}}validateSheetUrl(e){return!!this.extractSpreadsheetId(e)}getConnections(){try{let e=this.getCollectionRef(this.COLLECTION_NAME);return Vn(go(e)).pipe(Ye(r=>r.docs.map(a=>ce({id:a.id},a.data()))),Ot(r=>this.handleError(r,"getConnections")))}catch(e){return this.handleError(e,"getConnections")}}createConnection(e){try{let r=this.extractSpreadsheetId(e.spreadsheetUrl);if(!r)return lo(()=>new Error("Invalid Google Sheets URL"));let a=de(ce({},e),{spreadsheetId:r,id:this.generateId(),createdAt:new Date,updatedAt:new Date}),o=this.getDocumentRef(this.COLLECTION_NAME,a.id);return Vn(ta(o,a)).pipe(Ye(()=>a),Ot(s=>this.handleError(s,"createConnection")))}catch(r){return this.handleError(r,"createConnection")}}updateConnection(e,r){try{let a=this.getDocumentRef(this.COLLECTION_NAME,e),o=de(ce({},r),{updatedAt:new Date});return Vn($n(a,o)).pipe(Ot(s=>this.handleError(s,"updateConnection")))}catch(a){return this.handleError(a,"updateConnection")}}deleteConnection(e){try{let r=this.getDocumentRef(this.COLLECTION_NAME,e);return Vn(ar(r)).pipe(Ot(a=>this.handleError(a,"deleteConnection")))}catch(r){return this.handleError(r,"deleteConnection")}}testConnection(e){try{let r=`https://docs.google.com/spreadsheets/d/${e.spreadsheetId}/gviz/tq?tqx=out:csv&sheet=${e.sheetName}`;return Vn(fetch(r,{method:"HEAD"})).pipe(Ye(a=>a.ok),Ot(a=>(console.error("Google Sheets connection test failed:",a),_t(!1))))}catch{return _t(!1)}}importFromSheet(e){try{let r=`https://docs.google.com/spreadsheets/d/${e.spreadsheetId}/gviz/tq?tqx=out:csv&sheet=${e.sheetName}`;return Vn(fetch(r)).pipe(pr(a=>{if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return Vn(a.text())}),Ye(a=>{if(!a||a.trim()==="")return[];let o=a.split(`
`);if(o.length<2)return[];let s=this.parseCSVLine(o[0]);return o.slice(1).filter(u=>u.trim()!=="").map(u=>{let m=this.parseCSVLine(u),f={};return s.forEach((_,x)=>{f[_]=m[x]||""}),f})}),Ot(a=>this.handleError(a,"importFromSheet")))}catch(r){return this.handleError(r,"importFromSheet")}}parseCSVLine(e){let r=[],a="",o=!1;for(let s=0;s<e.length;s++){let d=e[s];d==='"'?o=!o:d===","&&!o?(r.push(a.trim()),a=""):a+=d}return r.push(a.trim()),r}exportToSheet(e,r){return lo(()=>new Error("Export is not supported in read-only mode. Please use the Google Sheets interface to edit data."))}getSetupInstructions(){return['1. Use the "Get Example Sheet" button below to open a template you can copy','2. In the example sheet, click "File" \u2192 "Make a copy" to create your own version',"3. Open your copied Google Sheet in the browser",'4. Click "Share" in the top right corner','5. Set sharing to "Anyone with the link can view"',"6. Copy the URL from your browser address bar",'7. Paste the URL in the "Sheet URL" field below','8. Enter the name of the specific sheet tab (e.g., "Sheet1", "Transactions")',"9. Test the connection to verify access","Note: This is read-only access for data import only"]}getApiDocsUrl(){return"https://support.google.com/docs/answer/2494822?hl=en"}};t.\u0275fac=function(r){return new(r||t)(Ne(Sr),Ne(Mt))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function lY(n,t){if(n&1&&(c(0,"li"),g(1),l()),n&2){let i=t.$implicit;p(),V(i)}}function dY(n,t){if(n&1&&(c(0,"div",50),g(1),l()),n&2){let i=y();p(),V(i.getFieldError("name"))}}function gY(n,t){if(n&1&&(c(0,"div",50),g(1),l()),n&2){let i=y();p(),V(i.getFieldError("sheetName"))}}function uY(n,t){if(n&1&&(c(0,"div",50),g(1),l()),n&2){let i=y();p(),V(i.getFieldError("spreadsheetUrl"))}}function mY(n,t){n&1&&oe(0,"mat-spinner",51)}function pY(n,t){n&1&&(c(0,"mat-icon"),g(1,"wifi_tethering"),l())}function fY(n,t){n&1&&(c(0,"div",52),oe(1,"mat-spinner",53),l())}function hY(n,t){n&1&&(c(0,"div",54)(1,"mat-icon",55),g(2,"table_chart"),l(),c(3,"h4",56),g(4,"No connections yet"),l(),c(5,"p",57),g(6,"Create your first Google Sheets connection to import data"),l()())}function _Y(n,t){n&1&&oe(0,"mat-spinner",74)}function xY(n,t){n&1&&(c(0,"mat-icon"),g(1,"download"),l())}function CY(n,t){if(n&1){let i=ue();c(0,"div",60)(1,"div",61)(2,"div",35)(3,"div",62)(4,"mat-icon",4),g(5,"table_chart"),l()(),c(6,"div")(7,"h4",63),g(8),l(),c(9,"p",64),g(10),l()()(),c(11,"div",65)(12,"mat-slide-toggle",66),R("change",function(r){let a=j(i).$implicit,o=y(2);return a.isActive=r.checked,z(o.updateConnection(a))}),l(),c(13,"button",67),R("click",function(){let r=j(i).$implicit,a=y(2);return z(a.deleteConnection(r))}),c(14,"mat-icon"),g(15,"delete"),l()()()(),c(16,"div",68)(17,"div")(18,"span",57),g(19,"Sheet:"),l(),c(20,"span",69),g(21),l()(),c(22,"div")(23,"span",57),g(24,"Status:"),l(),c(25,"span",69),g(26),l()(),c(27,"div")(28,"span",57),g(29,"Last Sync:"),l(),c(30,"span",69),g(31),se(32,"date"),l()()(),c(33,"div",70)(34,"button",71),R("click",function(){let r=j(i).$implicit,a=y(2);return z(a.importFromSheet(r))}),L(35,_Y,1,0,"mat-spinner",72)(36,xY,2,0,"mat-icon",41),g(37),l(),c(38,"a",73)(39,"mat-icon"),g(40,"open_in_new"),l(),g(41," Open Sheet "),l()()()}if(n&2){let i=t.$implicit,e=y(2);p(8),V(i.name),p(2),V(i.spreadsheetId),p(2),O("checked",i.isActive),p(9),V(i.sheetName),p(4),Tt(i.isActive?"text-green-600":"text-gray-500"),p(),ee(" ",i.isActive?"Active":"Inactive"," "),p(5),ee(" ",i.lastSync?vt(32,13,i.lastSync,"short"):"Never"," "),p(3),O("disabled",e.isImporting&&e.selectedSpreadsheetId===i.spreadsheetId),p(),O("ngIf",e.isImporting&&e.selectedSpreadsheetId===i.spreadsheetId),p(),O("ngIf",!e.isImporting&&e.selectedSpreadsheetId===i.spreadsheetId),p(),ee(" ",e.isImporting&&e.selectedSpreadsheetId===i.spreadsheetId?"Importing...":"Import Data"," "),p(),O("href",i.spreadsheetUrl,Q0)}}function bY(n,t){if(n&1&&(c(0,"div",58),L(1,CY,42,16,"div",59),l()),n&2){let i=y();p(),O("ngForOf",i.connections)}}var U2=(()=>{let t=class t{constructor(e,r,a,o,s,d,u,m,f){this.googleSheetsService=e,this.formBuilder=r,this.dialog=a,this.snackBar=o,this.userService=s,this.breakpointService=d,this.transactionsService=u,this.store=m,this.auth=f,this.connections=[],this.isLoading=!1,this.isTestingConnection=!1,this.isImporting=!1,this.testConfig=null,this.destroy$=new It,this.selectedSpreadsheetId="",this.allCategories=[],this.connectionForm=this.formBuilder.group({name:["",[tt.required,tt.minLength(3)]],spreadsheetUrl:["",[tt.required,this.urlValidator.bind(this)]],sheetName:["Sheet1",[tt.required]],isActive:[!0]})}ngOnInit(){this.loadConnections(),this.store.select(gn).subscribe(e=>{this.allCategories=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}urlValidator(e){return e.value?this.googleSheetsService.validateSheetUrl(e.value)?null:{invalidUrl:!0}:null}loadConnections(){this.isLoading=!0,this.googleSheetsService.getConnections().pipe(bt(this.destroy$)).subscribe({next:e=>{this.connections=e,this.isLoading=!1},error:e=>{console.error("Error loading connections:",e),this.showSnackBar("Error loading connections","error"),this.isLoading=!1}})}createConnection(){if(this.connectionForm.valid){let e=this.connectionForm.value;this.googleSheetsService.createConnection(e).pipe(bt(this.destroy$)).subscribe({next:r=>{this.connections.push(r),this.connectionForm.reset({sheetName:"Sheet1",isActive:!0}),this.showSnackBar("Connection created successfully","success")},error:r=>{console.error("Error creating connection:",r),this.showSnackBar("Error creating connection","error")}})}else this.markFormGroupTouched()}updateConnection(e){let r={name:e.name,isActive:e.isActive};this.googleSheetsService.updateConnection(e.id,r).pipe(bt(this.destroy$)).subscribe({next:()=>{this.showSnackBar("Connection updated successfully","success")},error:a=>{console.error("Error updating connection:",a),this.showSnackBar("Error updating connection","error")}})}deleteConnection(e){confirm(`Are you sure you want to delete the connection "${e.name}"?`)&&this.googleSheetsService.deleteConnection(e.id).pipe(bt(this.destroy$)).subscribe({next:()=>{this.connections=this.connections.filter(r=>r.id!==e.id),this.showSnackBar("Connection deleted successfully","success")},error:r=>{console.error("Error deleting connection:",r),this.showSnackBar("Error deleting connection","error")}})}testConnection(){if(this.connectionForm.valid){this.isTestingConnection=!0;let e=this.connectionForm.value,r=this.googleSheetsService.extractSpreadsheetId(e.spreadsheetUrl);if(!r){this.isTestingConnection=!1,this.showSnackBar("Invalid Google Sheets URL","error");return}this.testConfig={spreadsheetId:r,sheetName:e.sheetName},this.googleSheetsService.testConnection(this.testConfig).pipe(bt(this.destroy$)).subscribe({next:a=>{this.isTestingConnection=!1,a?this.showSnackBar("Connection test successful!","success"):this.showSnackBar('Connection test failed. Please check your URL and sheet name, and ensure the sheet is shared with "Anyone with the link can view".',"error")},error:a=>{this.isTestingConnection=!1,console.error("Connection test error:",a),this.showSnackBar("Connection test failed","error")}})}else this.markFormGroupTouched()}importFromSheet(e){this.isImporting=!0,this.selectedSpreadsheetId=e.spreadsheetId;let r={spreadsheetId:e.spreadsheetId,sheetName:e.sheetName};this.googleSheetsService.importFromSheet(r).pipe(bt(this.destroy$)).subscribe({next:a=>{if(this.isImporting=!1,a.length>0){let o=this.transformGoogleSheetsData(a);this.dialog.open(xd,{data:{transactions:o,categories:this.allCategories},panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"import-transactions-dialog"}).afterClosed().subscribe(d=>{d&&d.length>0&&this.createTransactionsFromImport(d)})}else this.showSnackBar("No data found in the specified sheet","warning")},error:a=>{this.isImporting=!1,console.error("Import error:",a),this.showSnackBar("Error importing data from Google Sheets","error")}})}transformGoogleSheetsData(e){return e.map(r=>{let a=this.extractNumberFromString(r.Amount);return{type:r.Type.toLowerCase(),category:r.Category.toLowerCase(),date:new Date(r.Date)||new Date,description:r.Description.toLowerCase(),amount:a}})}extractNumberFromString(e){let r=parseFloat(e.replace(/[^0-9.]/g,""));return console.log(r),isNaN(r)?0:r}createTransactionsFromImport(e){var d;let r=(d=this.auth.currentUser)==null?void 0:d.uid;if(!r){this.showSnackBar("User not authenticated","error");return}this.isImporting=!0;let a=0,o=0,s=e.map(u=>ge(this,null,function*(){try{let m={userId:r,payee:u.description||"Imported Transaction",accountId:u.accountId||"default",amount:parseFloat(u.amount),category:u.category||"Uncategorized",categoryId:u.categoryId||"default",type:u.type==="income"?ht.INCOME:ht.EXPENSE,date:new Date(u.date),notes:u.notes||`Imported from Google Sheets - ${u.description}`,status:uo.COMPLETED,isPending:!1,syncStatus:Ai.PENDING,lastSyncedAt:new Date,createdAt:new Date,updatedAt:new Date,createdBy:r,updatedBy:r};yield this.transactionsService.createTransaction(r,m).toPromise(),a++}catch(m){console.error("Error creating transaction:",u,m),o++}}));Promise.all(s).then(()=>{this.isImporting=!1,a>0&&(this.showSnackBar(`Successfully imported ${a} transactions`,"success"),this.store.dispatch(ni({userId:r}))),o>0&&this.showSnackBar(`${o} transactions failed to import`,"warning")}).catch(u=>{this.isImporting=!1,console.error("Error during import:",u),this.showSnackBar("Error during import process","error")})}getSetupInstructions(){return this.googleSheetsService.getSetupInstructions()}openApiDocs(){window.open(this.googleSheetsService.getApiDocsUrl(),"_blank")}openExampleSheet(){window.open("https://docs.google.com/spreadsheets/d/1EDhMkaFWOedDEQSn1TQsl011b-H-5_XAXSIpi31QwTM/edit?usp=sharing","_blank")}markFormGroupTouched(){Object.keys(this.connectionForm.controls).forEach(e=>{let r=this.connectionForm.get(e);r==null||r.markAsTouched()})}showSnackBar(e,r="success"){this.snackBar.open(e,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:r==="error"?["error-snackbar"]:r==="warning"?["warning-snackbar"]:["success-snackbar"]})}getFieldError(e){let r=this.connectionForm.get(e);if(r!=null&&r.errors&&r.touched){if(r.errors.required)return"This field is required";if(r.errors.minlength)return`Minimum length is ${r.errors.minlength.requiredLength} characters`;if(r.errors.invalidUrl)return"Please enter a valid Google Sheets URL"}return""}};t.\u0275fac=function(r){return new(r||t)(W(Y2),W(Ei),W(xn),W(gC),W(ui),W(sr),W(Oo),W(mt),W(Mt))},t.\u0275cmp=Le({type:t,selectors:[["app-google-sheets"]],decls:80,vars:13,consts:[[1,"google-sheets-container","p-6","max-w-6xl","mx-auto"],[1,"mb-8"],[1,"flex","items-start","gap-3","mb-3"],[1,"w-10","h-10","bg-gradient-to-br","mt-2","from-green-500","to-blue-600","rounded-lg","flex","items-start","justify-start"],[1,"text-white"],[1,"text-2xl","!m-0","font-bold","text-gray-900"],[1,"text-gray-600","text-sm"],[1,"bg-blue-50","border","border-blue-200","rounded-xl","p-6","mb-8"],[1,"flex","items-center","gap-3","mb-4"],[1,"text-blue-600"],[1,"text-lg","font-semibold","text-blue-900"],[1,"bg-green-50","border","border-green-200","rounded-lg","p-4","mb-4"],[1,"flex","items-center","gap-2","mb-2"],[1,"text-green-600"],[1,"font-medium","text-green-800"],[1,"text-sm","text-green-700","mb-3"],[1,"space-y-2","text-sm","text-blue-800"],[1,"list-decimal","list-inside","space-y-1"],[4,"ngFor","ngForOf"],[1,"mt-4","flex","gap-3"],["mat-stroked-button","","color","primary",1,"text-blue-600","border-blue-600",3,"click"],[1,"mr-2"],["mat-raised-button","","color","accent",1,"bg-green-600","text-white",3,"click"],[1,"bg-white","border","border-gray-200","rounded-xl","p-6","mb-8","shadow-sm"],[1,"text-xl","font-semibold","text-gray-900","mb-6"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","name",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","name","type","text","formControlName","name","placeholder","My Google Sheets Connection",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-colors"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","sheetName",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","sheetName","type","text","formControlName","sheetName","placeholder","Sheet1",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-colors"],["for","spreadsheetUrl",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","spreadsheetUrl","type","url","formControlName","spreadsheetUrl","placeholder","https://docs.google.com/spreadsheets/d/1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms/edit",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-colors"],[1,"text-gray-500","text-sm","mt-1"],[1,"flex","items-center","gap-3"],["formControlName","isActive","color","primary"],[1,"text-sm","font-medium","text-gray-700"],[1,"flex","gap-4"],["type","button","mat-stroked-button","","color","primary",1,"flex","items-center","gap-2",3,"click","disabled"],["diameter","20",4,"ngIf"],[4,"ngIf"],["type","submit","mat-raised-button","","color","primary",1,"flex","items-center","gap-2",3,"disabled"],[1,"bg-white","border","border-gray-200","rounded-xl","shadow-sm"],[1,"p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-900"],[1,"p-6"],["class","flex justify-center py-8",4,"ngIf"],["class","text-center py-12",4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"text-red-600","text-sm","mt-1"],["diameter","20"],[1,"flex","justify-center","py-8"],["diameter","40"],[1,"text-center","py-12"],[1,"text-gray-400","text-6xl","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"space-y-4"],["class","border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",4,"ngFor","ngForOf"],[1,"border","border-gray-200","rounded-lg","p-4","hover:shadow-md","transition-shadow"],[1,"flex","items-center","justify-between","mb-4"],[1,"w-10","h-10","bg-gradient-to-br","from-green-500","to-blue-600","rounded-lg","flex","items-center","justify-center"],[1,"font-semibold","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"flex","items-center","gap-2"],["color","primary",3,"change","checked"],["mat-icon-button","","color","warn","matTooltip","Delete Connection",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","text-sm"],[1,"font-medium","ml-1"],[1,"flex","gap-3","mt-4"],["mat-stroked-button","","color","primary",1,"flex","items-center","gap-2",3,"click","disabled"],["diameter","16",4,"ngIf"],["target","_blank","mat-stroked-button","","color","accent",1,"flex","items-center","gap-2",3,"href"],["diameter","16"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),g(5,"table_chart"),l()(),c(6,"div")(7,"h1",5),g(8,"Google Sheets"),l(),c(9,"p",6),g(10,"Import your financial data from Google Sheets "),l()()()(),c(11,"div",7)(12,"div",8)(13,"mat-icon",9),g(14,"info"),l(),c(15,"h3",10),g(16,"Setup Instructions"),l()(),c(17,"div",11)(18,"div",12)(19,"mat-icon",13),g(20,"lightbulb"),l(),c(21,"span",14),g(22,"Quick Start"),l()(),c(23,"p",15),g(24,' Not sure how to format your Google Sheet? Click "Get Example Sheet" below to open a template you can copy and use as a starting point. '),l()(),c(25,"div",16)(26,"ol",17),L(27,lY,2,1,"li",18),l()(),c(28,"div",19)(29,"button",20),R("click",function(){return a.openApiDocs()}),c(30,"mat-icon",21),g(31,"open_in_new"),l(),g(32," View Google Sheets Help "),l(),c(33,"button",22),R("click",function(){return a.openExampleSheet()}),c(34,"mat-icon",21),g(35,"content_copy"),l(),g(36," Get Example Sheet "),l()()(),c(37,"div",23)(38,"h3",24),g(39,"Add New Connection"),l(),c(40,"form",25),R("ngSubmit",function(){return a.createConnection()}),c(41,"div",26)(42,"div")(43,"label",27),g(44,"Connection Name"),l(),oe(45,"input",28),L(46,dY,2,1,"div",29),l(),c(47,"div")(48,"label",30),g(49,"Sheet Name"),l(),oe(50,"input",31),L(51,gY,2,1,"div",29),l()(),c(52,"div")(53,"label",32),g(54,"Google Sheets URL"),l(),oe(55,"input",33),L(56,uY,2,1,"div",29),c(57,"p",34),g(58,'Make sure your Google Sheet is shared with "Anyone with the link can view"'),l()(),c(59,"div",35),oe(60,"mat-slide-toggle",36),c(61,"label",37),g(62,"Active Connection"),l()(),c(63,"div",38)(64,"button",39),R("click",function(){return a.testConnection()}),L(65,mY,1,0,"mat-spinner",40)(66,pY,2,0,"mat-icon",41),g(67),l(),c(68,"button",42)(69,"mat-icon"),g(70,"add"),l(),g(71," Create Connection "),l()()()(),c(72,"div",43)(73,"div",44)(74,"h3",45),g(75,"Your Connections"),l()(),c(76,"div",46),L(77,fY,2,0,"div",47)(78,hY,7,0,"div",48)(79,bY,2,1,"div",49),l()()()),r&2&&(p(27),O("ngForOf",a.getSetupInstructions()),p(13),O("formGroup",a.connectionForm),p(6),O("ngIf",a.getFieldError("name")),p(5),O("ngIf",a.getFieldError("sheetName")),p(5),O("ngIf",a.getFieldError("spreadsheetUrl")),p(8),O("disabled",a.isTestingConnection||!a.connectionForm.valid),p(),O("ngIf",a.isTestingConnection),p(),O("ngIf",!a.isTestingConnection),p(),ee(" ",a.isTestingConnection?"Testing...":"Test Connection"," "),p(),O("disabled",!a.connectionForm.valid),p(9),O("ngIf",a.isLoading),p(),O("ngIf",!a.isLoading&&a.connections.length===0),p(),O("ngIf",!a.isLoading&&a.connections.length>0))},dependencies:[nr,ct,Jn,Yt,Bt,Qn,ki,Ti,cC,Zt,dn,Qe,Er,Fn,Aa,Si],styles:[".google-sheets-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f8fafc,#e2e8f0)}  .success-snackbar{background:#10b981;color:#fff}  .success-snackbar .mat-simple-snackbar-action{color:#fff}  .error-snackbar{background:#ef4444;color:#fff}  .error-snackbar .mat-simple-snackbar-action{color:#fff}  .warning-snackbar{background:#f59e0b;color:#fff}  .warning-snackbar .mat-simple-snackbar-action{color:#fff}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}button[mat-raised-button][_ngcontent-%COMP%]{transition:all .2s ease-in-out}button[mat-raised-button][_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 12px #00000026}button[mat-stroked-button][_ngcontent-%COMP%]{transition:all .2s ease-in-out}button[mat-stroked-button][_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px)}.connection-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.connection-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a}.loading-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:200px}@media (max-width: 768px){.google-sheets-container[_ngcontent-%COMP%]{padding:1rem}.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.flex[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.connection-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}.google-sheets-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.google-sheets-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.google-sheets-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.google-sheets-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}"]});let n=t;return n})();var G2=(()=>{let t=class t{constructor(e){this.http=e,this.apiUrl="https://api.openai.com/v1/chat/completions",this.apiKey="",this.loadApiKey()}loadApiKey(){try{this.apiKey=localStorage.getItem("openai_api_key")||""}catch(e){console.error("Error loading OpenAI API key:",e)}}setApiKey(e){this.apiKey=e}removeApiKey(){this.apiKey=""}isApiKeySet(){return!!this.apiKey}sendMessage(e,r="gpt-3.5-turbo"){if(!this.apiKey)return lo(()=>new Error("OpenAI API key not set"));let a={model:r,messages:e,max_tokens:1e3,temperature:.7},o=new ax({"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`});return this.http.post(this.apiUrl,a,{headers:o}).pipe(Ye(s=>{if(s.choices&&s.choices.length>0)return s.choices[0].message.content;throw new Error("No response from OpenAI")}),Ot(s=>lo(()=>{var d,u;return new Error(((u=(d=s==null?void 0:s.error)==null?void 0:d.error)==null?void 0:u.message)||"Failed to get response from OpenAI. Please try again.")})))}createFinancialAdvisorMessage(){return{role:"system",content:`You are a helpful financial advisor AI assistant. You provide personalized financial advice, 
      budget analysis, investment recommendations, tax optimization strategies, and debt management tips. 
      Always provide practical, actionable advice while reminding users to consult with qualified financial 
      professionals for personalized guidance. Be clear, concise, and focus on educational content that 
      helps users make informed financial decisions.`}}analyzeSpendingPatterns(e){let r=this.createFinancialAdvisorMessage(),a={role:"user",content:`Analyze these spending patterns and provide recommendations for budget optimization: ${JSON.stringify(e)}`};return this.sendMessage([r,a])}getInvestmentAdvice(e){let r=this.createFinancialAdvisorMessage(),a={role:"user",content:`Based on this financial profile, provide investment recommendations: ${JSON.stringify(e)}`};return this.sendMessage([r,a])}getTaxOptimizationAdvice(e){let r=this.createFinancialAdvisorMessage(),a={role:"user",content:`Provide tax optimization strategies based on this financial data: ${JSON.stringify(e)}`};return this.sendMessage([r,a])}};t.\u0275fac=function(r){return new(r||t)(Ne(ox))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function yY(n,t){n&1&&(c(0,"mat-icon"),g(1,"wifi"),l())}function MY(n,t){n&1&&oe(0,"div",27)}function PY(n,t){if(n&1){let i=ue();c(0,"button",24),R("click",function(){j(i);let r=y();return z(r.testConnection())}),L(1,yY,2,0,"mat-icon",25)(2,MY,1,0,"div",26),c(3,"span"),g(4),l()()}if(n&2){let i=y();O("disabled",i.isTestingConnection),p(),O("ngIf",!i.isTestingConnection),p(),O("ngIf",i.isTestingConnection),p(2),V(i.isTestingConnection?"Testing...":"Test Connection")}}function OY(n,t){if(n&1){let i=ue();c(0,"button",28),R("click",function(){j(i);let r=y();return z(r.isConfiguring=!0)}),c(1,"mat-icon"),g(2,"add"),l(),c(3,"span"),g(4,"Connect API Key"),l()()}}function wY(n,t){if(n&1){let i=ue();c(0,"div",29)(1,"button",30),R("click",function(){j(i);let r=y();return z(r.isConfiguring=!0)}),c(2,"mat-icon"),g(3,"edit"),l(),c(4,"span"),g(5,"Change Key"),l()(),c(6,"button",31),R("click",function(){j(i);let r=y();return z(r.removeApiKey())}),c(7,"mat-icon"),g(8,"delete"),l(),c(9,"span"),g(10,"Remove"),l()()()}}function SY(n,t){n&1&&(c(0,"mat-icon"),g(1,"wifi"),l())}function kY(n,t){n&1&&oe(0,"div",27)}function TY(n,t){n&1&&(c(0,"mat-icon"),g(1,"save"),l())}function EY(n,t){n&1&&oe(0,"div",27)}function AY(n,t){if(n&1){let i=ue();c(0,"div",32)(1,"div",33)(2,"h3"),g(3,"Configure OpenAI API"),l(),c(4,"p"),g(5,"Enter your OpenAI API key to enable AI-powered features"),l()(),c(6,"form",34),R("ngSubmit",function(){j(i);let r=y();return z(r.saveApiKey())}),c(7,"div",35)(8,"label",36),g(9,"API Key"),l(),c(10,"div",37),oe(11,"input",38),c(12,"mat-icon",39),g(13,"key"),l()(),c(14,"div",40)(15,"mat-icon"),g(16,"info"),l(),c(17,"a",41),g(18," Get your API key from OpenAI Platform "),l()()(),c(19,"div",42)(20,"button",43),R("click",function(){j(i);let r=y();return z(r.isConfiguring=!1)}),c(21,"span"),g(22,"Cancel"),l()(),c(23,"button",44),R("click",function(){j(i);let r=y();return z(r.testAndSaveApiKey())}),L(24,SY,2,0,"mat-icon",25)(25,kY,1,0,"div",26),c(26,"span"),g(27),l()(),c(28,"button",45),L(29,TY,2,0,"mat-icon",25)(30,EY,1,0,"div",26),c(31,"span"),g(32),l()()()()()}if(n&2){let i=y();p(6),O("formGroup",i.apiKeyForm),p(17),O("disabled",!i.apiKeyForm.valid||i.isTestingConnection),p(),O("ngIf",!i.isTestingConnection),p(),O("ngIf",i.isTestingConnection),p(2),V(i.isTestingConnection?"Testing...":"Test & Save"),p(),O("disabled",!i.apiKeyForm.valid||i.isSaving),p(),O("ngIf",!i.isSaving),p(),O("ngIf",i.isSaving),p(2),V(i.isSaving?"Saving...":"Save Key")}}var W2=(()=>{let t=class t{constructor(e,r,a,o,s){this.fb=e,this.notificationService=r,this.userService=a,this.openaiService=o,this.store=s,this.isConnected=!1,this.apiKey="",this.isConfiguring=!1,this.isTestingConnection=!1,this.isSaving=!1,this.apiKeyForm=this.fb.group({apiKey:["",[tt.required,tt.minLength(20)]]})}ngOnInit(){this.loadApiKey()}loadApiKey(){return ge(this,null,function*(){var e;try{let r=yield this.userService.getCurrentUser();(e=r==null?void 0:r.preferences)!=null&&e.openaiApiKey?(this.apiKey=r.preferences.openaiApiKey,this.isConnected=!0,this.apiKeyForm.patchValue({apiKey:this.apiKey}),this.openaiService.setApiKey(this.apiKey)):this.isConnected=!1}catch(r){console.error("Error loading API key:",r),this.notificationService.error("Failed to load API key")}})}saveApiKey(){return ge(this,null,function*(){var e;if(this.apiKeyForm.valid){this.isSaving=!0;try{let r=(e=this.apiKeyForm.get("apiKey"))==null?void 0:e.value,a=yield this.userService.getCurrentUser();if(!a)throw new Error("User not found");let o=de(ce({},a.preferences),{openaiApiKey:r});this.store.dispatch(rs({userId:a.uid,preferences:o})),this.openaiService.setApiKey(r),this.apiKey=r,this.isConnected=!0,this.isConfiguring=!1,this.notificationService.success("OpenAI API key saved successfully")}catch(r){console.error("Error saving API key:",r),this.notificationService.error("Failed to save API key")}finally{this.isSaving=!1}}else this.notificationService.warning("Please enter a valid API key")})}removeApiKey(){return ge(this,null,function*(){try{let e=yield this.userService.getCurrentUser();if(!e)throw new Error("User not found");let r=de(ce({},e.preferences),{openaiApiKey:void 0});this.store.dispatch(rs({userId:e.uid,preferences:r})),this.openaiService.removeApiKey(),this.apiKey="",this.isConnected=!1,this.apiKeyForm.reset(),this.notificationService.success("API key removed successfully")}catch(e){console.error("Error removing API key:",e),this.notificationService.error("Failed to remove API key")}})}testConnection(){return ge(this,null,function*(){if(!this.isConnected){this.notificationService.warning("Please connect your OpenAI API key first");return}this.isTestingConnection=!0;try{this.openaiService.sendMessage([{role:"user",content:"Hello, this is a test message to verify the connection."}]).subscribe({next:e=>{this.notificationService.success("OpenAI connection test successful!"),this.isTestingConnection=!1},error:e=>{this.notificationService.error(`Connection test failed: ${e.message}`),this.isTestingConnection=!1}})}catch{this.notificationService.error("Failed to test connection"),this.isTestingConnection=!1}})}testAndSaveApiKey(){return ge(this,null,function*(){var e;if(this.apiKeyForm.valid){this.isTestingConnection=!0;try{let r=(e=this.apiKeyForm.get("apiKey"))==null?void 0:e.value;this.openaiService.setApiKey(r),this.openaiService.sendMessage([{role:"user",content:"Hello, this is a test message to verify the API key."}]).subscribe({next:a=>ge(this,null,function*(){yield this.saveApiKey(),this.notificationService.success("API key tested and saved successfully!"),this.isTestingConnection=!1}),error:a=>{this.notificationService.error(`API key test failed: ${a.message}`),this.isTestingConnection=!1,this.openaiService.removeApiKey()}})}catch{this.notificationService.error("Failed to test API key"),this.isTestingConnection=!1}}else this.notificationService.warning("Please enter a valid API key")})}};t.\u0275fac=function(r){return new(r||t)(W(Ei),W(Ct),W(ui),W(G2),W(mt))},t.\u0275cmp=Le({type:t,selectors:[["app-openai-interaction"]],decls:32,vars:8,consts:[[1,"professional-container"],[1,"main-card"],[1,"card-header"],[1,"header-content"],[1,"title-section"],[1,"icon-wrapper"],[1,"header-icon"],[1,"title-content"],[1,"subtitle"],[1,"header-actions"],["class","test-button",3,"disabled","click",4,"ngIf"],[1,"connection-section"],[1,"section-header"],[1,"status-card"],[1,"status-content"],[1,"status-indicator"],[1,"status-dot"],[1,"status-info"],[1,"status-text"],[1,"status-description"],[1,"action-buttons"],["class","connect-btn primary",3,"click",4,"ngIf"],["class","btn-group",4,"ngIf"],["class","form-section",4,"ngIf"],[1,"test-button",3,"click","disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],[1,"spinner"],[1,"connect-btn","primary",3,"click"],[1,"btn-group"],[1,"change-btn","secondary",3,"click"],[1,"remove-btn","danger",3,"click"],[1,"form-section"],[1,"form-header"],[3,"ngSubmit","formGroup"],[1,"input-group"],["for","apiKey"],[1,"input-wrapper"],["id","apiKey","type","password","formControlName","apiKey","placeholder","sk-...",1,"api-input"],[1,"input-icon"],[1,"input-help"],["href","https://platform.openai.com/api-keys","target","_blank",1,"help-link"],[1,"form-actions"],["type","button",1,"cancel-btn",3,"click"],["type","button",1,"test-btn","primary",3,"click","disabled"],["type","submit",1,"save-btn","success",3,"disabled"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"mat-icon",6),g(7,"smart_toy"),l()(),c(8,"div",7)(9,"h1"),g(10,"OpenAI Integration"),l(),c(11,"p",8),g(12,"Connect your OpenAI account to enable AI-powered financial insights"),l()()()(),c(13,"div",9),L(14,PY,5,4,"button",10),l()(),c(15,"div",11)(16,"div",12)(17,"h2"),g(18,"Connection Status"),l()(),c(19,"div",13)(20,"div",14)(21,"div",15),oe(22,"div",16),c(23,"div",17)(24,"span",18),g(25),l(),c(26,"span",19),g(27),l()()(),c(28,"div",20),L(29,OY,5,0,"button",21)(30,wY,11,0,"div",22),l()()(),L(31,AY,33,9,"div",23),l()()()),r&2&&(p(14),O("ngIf",a.isConnected),p(8),Ue("connected",a.isConnected),p(3),V(a.isConnected?"Connected":"Not Connected"),p(2),ee(" ",a.isConnected?"Your OpenAI API is ready to use":"Connect your OpenAI API key to get started"," "),p(2),O("ngIf",!a.isConfiguring&&!a.isConnected),p(),O("ngIf",!a.isConfiguring&&a.isConnected),p(),O("ngIf",a.isConfiguring))},dependencies:[ct,Jn,Yt,Bt,Qn,ki,Ti,Qe],styles:[".professional-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:2rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;line-height:1.6;color:#1a202c}.main-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #00000014;border:1px solid #e2e8f0;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:2.5rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-bottom:1px solid #e2e8f0}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1.5rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:60px;height:60px;background:linear-gradient(135deg,#3b82f6,#2563eb);border-radius:12px;box-shadow:0 4px 12px #3b82f64d}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{color:#fff;font-size:2rem;width:2rem;height:2rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;color:#1e293b;margin:0 0 .75rem;letter-spacing:-.025em;line-height:1.2}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.125rem;color:#64748b;margin:0;font-weight:400}.card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .test-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.875rem 1.5rem;background:linear-gradient(135deg,#3b82f6,#2563eb);border:none;border-radius:10px;color:#fff;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #3b82f64d}.card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .test-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #3b82f666}.card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .test-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .test-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}.card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .test-button[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:1.125rem;height:1.125rem;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.section-header[_ngcontent-%COMP%]{margin-bottom:2rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1e293b;margin:0 0 .5rem;letter-spacing:-.025em}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#64748b;margin:0;font-weight:400}.connection-section[_ngcontent-%COMP%]{padding:2.5rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:2rem;margin-bottom:2rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:#ef4444;transition:background .3s ease;box-shadow:0 0 0 4px #ef44441a}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]   .status-dot.connected[_ngcontent-%COMP%]{background:#10b981;box-shadow:0 0 0 4px #10b9811a}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .status-description[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .connect-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;border:none;border-radius:10px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s ease}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .connect-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;box-shadow:0 4px 12px #3b82f64d}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .connect-btn.primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #3b82f666}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .connect-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{display:flex;gap:.75rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .change-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;border:1px solid #d1d5db;border-radius:10px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s ease}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .change-btn.secondary[_ngcontent-%COMP%]{background:#fff;color:#374151}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .change-btn.secondary[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .change-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;border:1px solid #fecaca;border-radius:10px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s ease}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .remove-btn.danger[_ngcontent-%COMP%]{background:#fff;color:#dc2626}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .remove-btn.danger[_ngcontent-%COMP%]:hover{background:#fef2f2;border-color:#fca5a5}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:12px;padding:2rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]{margin-bottom:2rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#64748b;margin:0}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-bottom:2rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#374151;margin-bottom:.75rem;font-size:.875rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .api-input[_ngcontent-%COMP%]{width:100%;padding:1rem 3rem 1rem 1.25rem;border:2px solid #e2e8f0;border-radius:10px;font-family:SF Mono,Monaco,Inconsolata,Roboto Mono,Courier New,monospace;font-size:.875rem;transition:all .3s ease;background:#f8fafc}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .api-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;background:#fff;box-shadow:0 0 0 4px #3b82f61a}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .api-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);color:#94a3b8;font-size:1.25rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-help[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.75rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-help[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1rem;width:1rem;height:1rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-help[_ngcontent-%COMP%]   .help-link[_ngcontent-%COMP%]{color:#3b82f6;text-decoration:none;font-size:.875rem;font-weight:500}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-help[_ngcontent-%COMP%]   .help-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;background:#fff;border:2px solid #e2e8f0;border-radius:10px;color:#475569;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s ease}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#cbd5e1}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .test-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;border:none;border-radius:10px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s ease}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .test-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;box-shadow:0 4px 12px #3b82f64d}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .test-btn.primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #3b82f666}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .test-btn.primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .test-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .test-btn[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:1.125rem;height:1.125rem;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;border:none;border-radius:10px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s ease}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;box-shadow:0 4px 12px #10b9814d}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn.success[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #10b98166}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn.success[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:1.125rem;height:1.125rem;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.features-section[_ngcontent-%COMP%]{padding:2.5rem;border-bottom:1px solid #e2e8f0}.features-section[_ngcontent-%COMP%]   .features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem}.features-section[_ngcontent-%COMP%]   .features-grid[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1.5rem;background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;transition:all .3s ease}.features-section[_ngcontent-%COMP%]   .features-grid[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a}.features-section[_ngcontent-%COMP%]   .features-grid[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;height:50px;background:linear-gradient(135deg,#3b82f6,#2563eb);border-radius:10px;flex-shrink:0}.features-section[_ngcontent-%COMP%]   .features-grid[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;width:1.5rem;height:1.5rem}.features-section[_ngcontent-%COMP%]   .features-grid[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.features-section[_ngcontent-%COMP%]   .features-grid[_ngcontent-%COMP%]   .feature-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;margin:0;line-height:1.5}.security-section[_ngcontent-%COMP%]{padding:2.5rem;border-bottom:1px solid #e2e8f0}.security-section[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem}.security-section[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]   .security-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1.5rem;background:#f0fdf4;border:1px solid #bbf7d0;border-radius:12px;transition:all .3s ease}.security-section[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]   .security-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #10b9811a}.security-section[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]   .security-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;height:50px;background:linear-gradient(135deg,#10b981,#059669);border-radius:10px;flex-shrink:0}.security-section[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]   .security-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;width:1.5rem;height:1.5rem}.security-section[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]   .security-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.security-section[_ngcontent-%COMP%]   .security-grid[_ngcontent-%COMP%]   .security-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;margin:0;line-height:1.5}.steps-section[_ngcontent-%COMP%]{padding:2.5rem}.steps-section[_ngcontent-%COMP%]   .steps-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.steps-section[_ngcontent-%COMP%]   .steps-grid[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1.5rem;background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;transition:all .3s ease}.steps-section[_ngcontent-%COMP%]   .steps-grid[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a}.steps-section[_ngcontent-%COMP%]   .steps-grid[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border-radius:10px;font-size:1rem;font-weight:700;flex-shrink:0}.steps-section[_ngcontent-%COMP%]   .steps-grid[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]{flex:1}.steps-section[_ngcontent-%COMP%]   .steps-grid[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0 0 .5rem}.steps-section[_ngcontent-%COMP%]   .steps-grid[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;margin:0 0 1rem;line-height:1.5}.steps-section[_ngcontent-%COMP%]   .steps-grid[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:#3b82f6;text-decoration:none;font-weight:500;font-size:.875rem;transition:all .3s ease}.steps-section[_ngcontent-%COMP%]   .steps-grid[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%]:hover{color:#2563eb;transform:translate(2px)}.steps-section[_ngcontent-%COMP%]   .steps-grid[_ngcontent-%COMP%]   .step-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 1200px){.professional-container[_ngcontent-%COMP%]{max-width:95%;padding:1.5rem}.features-grid[_ngcontent-%COMP%], .security-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.steps-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}}@media (max-width: 1024px){.professional-container[_ngcontent-%COMP%]{padding:1.25rem}.card-header[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem;align-items:flex-start;padding:2rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{gap:1.25rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:50px;height:50px}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:1.75rem;width:1.75rem;height:1.75rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{align-self:flex-start}.connection-section[_ngcontent-%COMP%]{padding:2rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem;align-items:flex-start}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;flex-wrap:wrap;gap:.5rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .connect-btn[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{flex:1;min-width:200px}.features-section[_ngcontent-%COMP%], .security-section[_ngcontent-%COMP%], .steps-section[_ngcontent-%COMP%]{padding:2rem}.features-grid[_ngcontent-%COMP%], .security-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1.25rem}.steps-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}}@media (max-width: 768px){.professional-container[_ngcontent-%COMP%]{padding:1rem;max-width:100%}.main-card[_ngcontent-%COMP%]{border-radius:12px}.card-header[_ngcontent-%COMP%]{padding:1.5rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:45px;height:45px}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:.5rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem}.card-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .test-button[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:1rem 1.5rem}.section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.connection-section[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]{padding:1.5rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]{gap:1.25rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{gap:.75rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:10px;height:10px}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:1rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .status-description[_ngcontent-%COMP%]{font-size:.8rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .connect-btn[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{width:100%;min-width:unset}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{display:flex;gap:.5rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .change-btn[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{flex:1}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:1.5rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .api-input[_ngcontent-%COMP%]{padding:.875rem 1rem;font-size:.8rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .test-btn[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:1rem 1.5rem}.features-section[_ngcontent-%COMP%], .security-section[_ngcontent-%COMP%], .steps-section[_ngcontent-%COMP%]{padding:1.5rem}.features-grid[_ngcontent-%COMP%], .security-grid[_ngcontent-%COMP%], .steps-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.feature-card[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]{padding:1.25rem;gap:.875rem}.feature-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%]{width:45px;height:45px}.feature-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.feature-card[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.875rem}.feature-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.375rem}.feature-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;line-height:1.4}}@media (max-width: 480px){.professional-container[_ngcontent-%COMP%]{padding:.75rem}.card-header[_ngcontent-%COMP%]{padding:1.25rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:40px;height:40px}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.875rem}.section-header[_ngcontent-%COMP%]{margin-bottom:1.25rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.connection-section[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]{padding:1.25rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:.875rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .status-description[_ngcontent-%COMP%]{font-size:.75rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .connect-btn[_ngcontent-%COMP%]   .change-btn[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .connect-btn[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .change-btn[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.8rem}.connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .connect-btn[_ngcontent-%COMP%]   .change-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .connect-btn[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .change-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{padding:1.25rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .api-input[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.75rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-help[_ngcontent-%COMP%]   .help-link[_ngcontent-%COMP%]{font-size:.75rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .test-btn[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{padding:.875rem 1.25rem;font-size:.8rem}.connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .test-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .connection-section[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.features-section[_ngcontent-%COMP%], .security-section[_ngcontent-%COMP%], .steps-section[_ngcontent-%COMP%]{padding:1.25rem}.feature-card[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]{padding:1rem;gap:.75rem}.feature-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%]{width:40px;height:40px}.feature-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}.feature-card[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.8rem}.feature-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.875rem}.feature-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%]{font-size:.75rem}.feature-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .security-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:.875rem;width:.875rem;height:.875rem}}@media (max-width: 360px){.professional-container[_ngcontent-%COMP%]{padding:.5rem}.card-header[_ngcontent-%COMP%]{padding:1rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:35px;height:35px}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.8rem}.connection-section[_ngcontent-%COMP%], .features-section[_ngcontent-%COMP%], .security-section[_ngcontent-%COMP%], .steps-section[_ngcontent-%COMP%], .status-card[_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%]{padding:1rem}.feature-card[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]{padding:.875rem;gap:.625rem}.feature-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%]{width:35px;height:35px}.feature-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .feature-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .security-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.feature-card[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%], .security-card[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%], .step-card[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{width:28px;height:28px;font-size:.75rem}}@media (max-height: 600px) and (orientation: landscape){.professional-container[_ngcontent-%COMP%]{padding:1rem}.card-header[_ngcontent-%COMP%]{padding:1.5rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:45px;height:45px}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.25rem}.card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.875rem}.connection-section[_ngcontent-%COMP%], .features-section[_ngcontent-%COMP%], .security-section[_ngcontent-%COMP%], .steps-section[_ngcontent-%COMP%]{padding:1.5rem}.section-header[_ngcontent-%COMP%]{margin-bottom:1rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}}"]});let n=t;return n})();var e1=ug("budgets"),H2=is(e1,n=>n.budgets),X2=is(e1,n=>n.loading),q2=is(e1,n=>n.error);var DY=()=>({round:!0});function FY(n,t){if(n&1&&(c(0,"div",31)(1,"p",32),g(2),se(3,"currency"),l()()),n&2){let i=y(2);p(2),ee("Monthly average: ",pe(3,1,i.yearlyBudget.totalIncome/12),"")}}function RY(n,t){if(n&1){let i=ue();c(0,"div",23)(1,"mat-card",24)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),g(5,"account_balance"),l(),g(6," Income Planning "),l(),c(7,"mat-card-subtitle"),g(8,"Set your total expected yearly income"),l()(),c(9,"mat-card-content")(10,"div",25)(11,"div",26)(12,"mat-form-field",27)(13,"mat-label"),g(14,"Total Expected Yearly Income"),l(),c(15,"input",28),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.yearlyBudget.totalIncome,r)||(a.yearlyBudget.totalIncome=r),z(r)}),R("input",function(){j(i);let r=y();return r.calculateMonthlyIncome(),z(r.updateYearlyIncome())}),l()(),L(16,FY,4,3,"div",29),l(),c(17,"mat-checkbox",30),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.yearlyBudget.splitByMonth,r)||(a.yearlyBudget.splitByMonth=r),z(r)}),g(18," Split income by month (for irregular income) "),l()()()()()}if(n&2){let i=y();p(15),dt("ngModel",i.yearlyBudget.totalIncome),p(),O("ngIf",i.yearlyBudget.totalIncome>0),p(),dt("ngModel",i.yearlyBudget.splitByMonth)}}function NY(n,t){if(n&1){let i=ue();c(0,"div",61)(1,"mat-slider",62)(2,"input",63),ut("ngModelChange",function(r){j(i);let a=y().$implicit,o=y(2);return gt(o.categoryBudgets[a.id||""],r)||(o.categoryBudgets[a.id||""]=r),z(r)}),R("input",function(){j(i);let r=y().$implicit,a=y(2);return z(a.onCategoryBudgetChange(r.id||"",a.categoryBudgets[r.id||""]||0))}),l()()()}if(n&2){let i=y().$implicit,e=y(2);p(),O("max",e.yearlyBudget.totalIncome/12)("min",0)("step",50),p(),dt("ngModel",e.categoryBudgets[i.id||""])}}function LY(n,t){if(n&1){let i=ue();c(0,"div",64)(1,"mat-form-field",65)(2,"input",66),R("input",function(r){j(i);let a=y().$implicit,o=y(2);return z(o.onCategoryBudgetInputChange(a.id||"",r))}),l()()()}if(n&2){let i=y().$implicit,e=y(2);p(2),O("value",e.getCategoryBudget(i.id||""))("max",e.yearlyBudget.totalIncome/12)}}function BY(n,t){if(n&1&&(c(0,"div",51)(1,"div",52)(2,"mat-icon",53),g(3),l(),c(4,"span",54),g(5),l()(),L(6,NY,3,4,"div",55),c(7,"div",56),L(8,LY,3,2,"div",57),c(9,"div",58)(10,"span",59),g(11),se(12,"number"),l(),c(13,"span",60),g(14),se(15,"currency"),l()()()()),n&2){let i=t.$implicit,e=y(2);p(2),kt("color",i.color),p(),V(i.icon),p(2),V(i.name),p(),O("ngIf",e.inputMode==="slider"),p(2),O("ngIf",e.inputMode==="input"),p(3),ee("",vt(12,8,e.getCategoryPercentage(i.id||""),"1.0-0"),"%"),p(3),ee("",vt(15,11,e.getCategoryMonthly(i.id||""),Xa(14,DY)),"/month")}}function VY(n,t){n&1&&(c(0,"div",67)(1,"mat-icon"),g(2,"warning"),l(),c(3,"span"),g(4,"Budget exceeded! Other categories will be adjusted automatically."),l()())}function $Y(n,t){if(n&1){let i=ue();c(0,"div",33)(1,"mat-card",24)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),g(5,"category"),l(),g(6," Expense Planning "),l(),c(7,"mat-card-subtitle"),g(8,"Allocate your budget across different expense categories using the sliders or input fields below"),l()(),c(9,"mat-card-content")(10,"div",34)(11,"mat-button-toggle-group",35),ut("valueChange",function(r){j(i);let a=y();return gt(a.inputMode,r)||(a.inputMode=r),z(r)}),R("change",function(){j(i);let r=y();return z(r.onInputModeChange())}),c(12,"mat-button-toggle",36)(13,"mat-icon"),g(14,"linear_scale"),l(),g(15," Slider Mode "),l(),c(16,"mat-button-toggle",37)(17,"mat-icon"),g(18,"edit"),l(),g(19," Input Mode "),l()(),c(20,"div",38)(21,"p",39)(22,"mat-icon"),g(23),l(),g(24),l()()(),c(25,"div",40),L(26,BY,16,15,"div",41),l(),c(27,"div",42)(28,"div",43)(29,"span",44),g(30,"Total Allocated:"),l(),c(31,"span",45),g(32),se(33,"currency"),l()(),c(34,"div",43)(35,"span",44),g(36,"Remaining:"),l(),c(37,"span",45),g(38),se(39,"currency"),l()(),L(40,VY,5,0,"div",46),c(41,"div",47)(42,"button",48),R("click",function(){j(i);let r=y();return z(r.updateAllCategoryBudgets())}),c(43,"mat-icon"),g(44,"save"),l(),g(45," Update All Budgets "),l(),c(46,"button",49),R("click",function(){j(i);let r=y();return z(r.distributeRemainingBudget())}),c(47,"mat-icon"),g(48,"shuffle"),l(),g(49," Distribute Remaining "),l(),c(50,"button",50),R("click",function(){j(i);let r=y();return z(r.resetAllCategoryBudgets())}),c(51,"mat-icon"),g(52,"refresh"),l(),g(53," Reset All "),l()()()()()()}if(n&2){let i=y();p(11),dt("value",i.inputMode),p(12),V(i.inputMode==="slider"?"linear_scale":"edit"),p(),ee(" ",i.inputMode==="slider"?"Use sliders for quick budget allocation":"Enter exact amounts for precise control"," "),p(2),O("ngForOf",i.getExpenseCategories())("ngForTrackBy",i.trackByCategoryId),p(),Ue("over-budget",i.getTotalAllocated()>i.yearlyBudget.totalIncome),p(4),Ue("over-budget",i.getTotalAllocated()>i.yearlyBudget.totalIncome),p(),ee(" ",pe(33,16,i.getTotalAllocated())," "),p(5),Ue("negative",i.getRemainingBudget()<0),p(),V(pe(39,18,i.getRemainingBudget())),p(2),O("ngIf",i.getTotalAllocated()>i.yearlyBudget.totalIncome),p(2),O("disabled",i.getTotalAllocated()===0),p(4),O("disabled",i.getRemainingBudget()<=0)}}function jY(n,t){if(n&1){let i=ue();c(0,"div",72)(1,"mat-form-field",73)(2,"mat-label"),g(3,"Goal Name"),l(),c(4,"input",74),ut("ngModelChange",function(r){let a=j(i).$implicit;return gt(a.name,r)||(a.name=r),z(r)}),l()(),c(5,"mat-form-field",73)(6,"mat-label"),g(7,"Target Amount"),l(),c(8,"input",75),ut("ngModelChange",function(r){let a=j(i).$implicit;return gt(a.targetAmount,r)||(a.targetAmount=r),z(r)}),l(),c(9,"mat-icon",76),g(10,"attach_money"),l()(),c(11,"mat-form-field",73)(12,"mat-label"),g(13,"Monthly Contribution"),l(),c(14,"input",75),ut("ngModelChange",function(r){let a=j(i).$implicit;return gt(a.monthlyContribution,r)||(a.monthlyContribution=r),z(r)}),l(),c(15,"mat-icon",76),g(16,"attach_money"),l()(),c(17,"button",77),R("click",function(){let r=j(i).index,a=y(2);return z(a.removeSavingsGoal(r))}),c(18,"mat-icon"),g(19,"delete"),l()()()}if(n&2){let i=t.$implicit,e=t.index;p(4),dt("ngModel",i.name),O("name","goalName"+e),p(4),dt("ngModel",i.targetAmount),O("name","goalAmount"+e),p(6),dt("ngModel",i.monthlyContribution),O("name","goalContribution"+e)}}function zY(n,t){if(n&1){let i=ue();c(0,"div",68)(1,"mat-card",24)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),g(5,"savings"),l(),g(6," Savings & Investment Goals "),l(),c(7,"mat-card-subtitle"),g(8,"Set aside money for your financial goals"),l()(),c(9,"mat-card-content")(10,"div",69),L(11,jY,20,6,"div",70),c(12,"button",71),R("click",function(){j(i);let r=y();return z(r.addSavingsGoal())}),c(13,"mat-icon"),g(14,"add"),l(),g(15," Add Savings Goal "),l()()()()()}if(n&2){let i=y();p(11),O("ngForOf",i.yearlyBudget.savingsGoals)}}function YY(n,t){if(n&1){let i=ue();c(0,"div",81)(1,"mat-form-field",73)(2,"mat-label"),g(3,"Debt Name"),l(),c(4,"input",82),ut("ngModelChange",function(r){let a=j(i).$implicit;return gt(a.name,r)||(a.name=r),z(r)}),l()(),c(5,"mat-form-field",73)(6,"mat-label"),g(7,"Current Balance"),l(),c(8,"input",75),ut("ngModelChange",function(r){let a=j(i).$implicit;return gt(a.currentBalance,r)||(a.currentBalance=r),z(r)}),l(),c(9,"mat-icon",76),g(10,"attach_money"),l()(),c(11,"mat-form-field",73)(12,"mat-label"),g(13,"Monthly Payment"),l(),c(14,"input",75),ut("ngModelChange",function(r){let a=j(i).$implicit;return gt(a.monthlyPayment,r)||(a.monthlyPayment=r),z(r)}),l(),c(15,"mat-icon",76),g(16,"attach_money"),l()(),c(17,"mat-form-field",73)(18,"mat-label"),g(19,"Interest Rate (%)"),l(),c(20,"input",83),ut("ngModelChange",function(r){let a=j(i).$implicit;return gt(a.interestRate,r)||(a.interestRate=r),z(r)}),l(),c(21,"mat-icon",76),g(22,"percent"),l()(),c(23,"button",77),R("click",function(){let r=j(i).index,a=y(2);return z(a.removeDebt(r))}),c(24,"mat-icon"),g(25,"delete"),l()()()}if(n&2){let i=t.$implicit,e=t.index;p(4),dt("ngModel",i.name),O("name","debtName"+e),p(4),dt("ngModel",i.currentBalance),O("name","debtBalance"+e),p(6),dt("ngModel",i.monthlyPayment),O("name","debtPayment"+e),p(6),dt("ngModel",i.interestRate),O("name","debtInterest"+e)}}function UY(n,t){if(n&1){let i=ue();c(0,"div",78)(1,"mat-card",24)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),g(5,"credit_card"),l(),g(6," Debt Management "),l(),c(7,"mat-card-subtitle"),g(8,"Plan your debt payments for the year"),l()(),c(9,"mat-card-content")(10,"div",79),L(11,YY,26,8,"div",80),c(12,"button",71),R("click",function(){j(i);let r=y();return z(r.addDebt())}),c(13,"mat-icon"),g(14,"add"),l(),g(15," Add Debt "),l()()()()()}if(n&2){let i=y();p(11),O("ngForOf",i.yearlyBudget.debts)}}function GY(n,t){if(n&1&&(c(0,"div",89)(1,"span"),g(2),l(),c(3,"span"),g(4),se(5,"currency"),l()()),n&2){let i=t.$implicit,e=y(2);p(2),ee("",i.name,":"),p(2),V(pe(5,2,e.getCategoryBudget(i.id||"")))}}function WY(n,t){if(n&1&&(c(0,"div",89)(1,"span"),g(2),l(),c(3,"span"),g(4),se(5,"currency"),l()()),n&2){let i=t.$implicit;p(2),ee("",i.name,":"),p(2),V(pe(5,2,i.monthlyContribution*12))}}function HY(n,t){if(n&1&&(c(0,"div",89)(1,"span"),g(2),l(),c(3,"span"),g(4),se(5,"currency"),l()()),n&2){let i=t.$implicit;p(2),ee("",i.name,":"),p(2),V(pe(5,2,i.monthlyPayment*12))}}function XY(n,t){if(n&1&&(c(0,"div",84)(1,"mat-card",24)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),g(5,"assessment"),l(),g(6," Budget Summary "),l(),c(7,"mat-card-subtitle"),g(8,"Review your complete yearly budget breakdown"),l()(),c(9,"mat-card-content")(10,"div",85)(11,"div",86)(12,"h3"),g(13,"Income"),l(),c(14,"div",87),g(15),se(16,"currency"),l(),c(17,"div",88)(18,"div",89)(19,"span"),g(20,"Total Yearly Income:"),l(),c(21,"span"),g(22),se(23,"currency"),l()()()(),c(24,"div",90)(25,"h3"),g(26,"Expenses"),l(),c(27,"div",87),g(28),se(29,"currency"),l(),c(30,"div",88),L(31,GY,6,4,"div",91),l()(),c(32,"div",92)(33,"h3"),g(34,"Savings"),l(),c(35,"div",87),g(36),se(37,"currency"),l(),c(38,"div",88),L(39,WY,6,4,"div",91),l()(),c(40,"div",93)(41,"h3"),g(42,"Debt Payments"),l(),c(43,"div",87),g(44),se(45,"currency"),l(),c(46,"div",88),L(47,HY,6,4,"div",91),l()()(),c(48,"div",94)(49,"div",95)(50,"span",44),g(51,"Total Income:"),l(),c(52,"span",96),g(53),se(54,"currency"),l()(),c(55,"div",95)(56,"span",44),g(57,"Total Expenses:"),l(),c(58,"span",97),g(59),se(60,"currency"),l()(),c(61,"div",95)(62,"span",44),g(63,"Total Savings:"),l(),c(64,"span",98),g(65),se(66,"currency"),l()(),c(67,"div",95)(68,"span",44),g(69,"Total Debt Payments:"),l(),c(70,"span",99),g(71),se(72,"currency"),l()(),c(73,"div",100)(74,"span",44),g(75,"Net Balance:"),l(),c(76,"span",45),g(77),se(78,"currency"),l()()()()()()),n&2){let i=y();p(15),V(pe(16,17,i.yearlyBudget.totalIncome)),p(7),V(pe(23,19,i.yearlyBudget.totalIncome)),p(6),V(pe(29,21,i.getTotalAllocated())),p(3),O("ngForOf",i.getExpenseCategories()),p(5),V(pe(37,23,i.getTotalSavings())),p(3),O("ngForOf",i.yearlyBudget.savingsGoals),p(5),V(pe(45,25,i.getTotalDebtPayments())),p(3),O("ngForOf",i.yearlyBudget.debts),p(6),V(pe(54,27,i.yearlyBudget.totalIncome)),p(6),V(pe(60,29,i.getTotalAllocated())),p(6),V(pe(66,31,i.getTotalSavings())),p(6),V(pe(72,33,i.getTotalDebtPayments())),p(5),Ue("positive",i.getNetBalance()>=0)("negative",i.getNetBalance()<0),p(),ee(" ",pe(78,35,i.getNetBalance())," ")}}function qY(n,t){if(n&1&&(c(0,"div",106)(1,"mat-icon",107),g(2,"check_circle"),l(),c(3,"p"),g(4),se(5,"currency"),l()()),n&2){let i=y(2);p(4),ee("Great! Your budget is balanced. You have ",pe(5,1,i.getNetBalance())," remaining for additional savings or expenses.")}}function KY(n,t){if(n&1&&(c(0,"div",108)(1,"mat-icon",109),g(2,"warning"),l(),c(3,"p"),g(4),se(5,"currency"),l()()),n&2){let i=y(2);p(4),ee("Your expenses exceed your income by ",pe(5,1,i.Math.abs(i.getNetBalance())),". Consider adjusting your budget.")}}function ZY(n,t){if(n&1&&(c(0,"div",112)(1,"h4"),g(2),l(),c(3,"div",113)(4,"div",114)(5,"span"),g(6,"Income:"),l(),c(7,"span"),g(8),se(9,"currency"),l()(),c(10,"div",114)(11,"span"),g(12,"Expenses:"),l(),c(13,"span"),g(14),se(15,"currency"),l()(),c(16,"div",114)(17,"span"),g(18,"Savings:"),l(),c(19,"span"),g(20),se(21,"currency"),l()(),c(22,"div",114)(23,"span"),g(24,"Debt:"),l(),c(25,"span"),g(26),se(27,"currency"),l()(),c(28,"div",115)(29,"span"),g(30,"Balance:"),l(),c(31,"span"),g(32),se(33,"currency"),l()()()()),n&2){let i=t.$implicit,e=t.index,r=y(3);p(2),V(r.getMonthName(e)),p(6),V(pe(9,10,i.income)),p(6),V(pe(15,12,i.expenses)),p(6),V(pe(21,14,i.savings)),p(6),V(pe(27,16,i.debt)),p(5),Ue("positive",i.balance>=0)("negative",i.balance<0),p(),ee(" ",pe(33,18,i.balance)," ")}}function QY(n,t){if(n&1&&(c(0,"div",31)(1,"h3"),g(2,"Monthly Breakdown"),l(),c(3,"div",110),L(4,ZY,34,20,"div",111),l()()),n&2){let i=y(2);p(4),O("ngForOf",i.getMonthlyBreakdown())}}function JY(n,t){if(n&1){let i=ue();c(0,"div",101)(1,"mat-card",24)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),g(5,"check_circle"),l(),g(6," Review & Save "),l(),c(7,"mat-card-subtitle"),g(8,"Review your budget and save it for the year"),l()(),c(9,"mat-card-content")(10,"div",102),L(11,qY,6,3,"div",103)(12,KY,6,3,"ng-template",null,0,ex),c(14,"div",104)(15,"mat-checkbox",105),ut("ngModelChange",function(r){j(i);let a=y();return gt(a.showMonthlyView,r)||(a.showMonthlyView=r),z(r)}),g(16," Show monthly breakdown view "),l()(),L(17,QY,5,1,"div",29),l()()()()}if(n&2){let i=wn(13),e=y();p(11),O("ngIf",e.getNetBalance()>=0)("ngIfElse",i),p(4),dt("ngModel",e.showMonthlyView),p(2),O("ngIf",e.showMonthlyView)}}function eU(n,t){if(n&1){let i=ue();c(0,"button",116),R("click",function(){j(i);let r=y();return z(r.saveYearlyBudget())}),c(1,"mat-icon"),g(2,"save"),l(),g(3," Save Complete Yearly Budget "),l()}if(n&2){let i=y();O("disabled",i.getNetBalance()<0||i.getTotalAllocated()===0)}}var K2=(()=>{let t=class t{constructor(e,r,a,o,s){this.auth=e,this.router=r,this.notificationService=a,this.store=o,this.dateService=s,this.userId="",this.budgets=[],this.categories=[],this.newBudget={budgetId:"",userId:"",category:"Groceries",limit:0,spent:0,startDate:di.fromDate(new Date),endDate:di.fromDate(new Date)},this.categoryBudgets={},this.showCategorySliders=!0,this.startDateModel=new Date,this.endDateModel=new Date,this.currentStep=1,this.totalSteps=6,this.showMonthlyView=!1,this.inputMode="slider",this.yearlyBudget={totalIncome:0,splitByMonth:!1,savingsGoals:[],debts:[]},this.Math=Math,this.destroy$=new It,this.subscriptions=new Ki,this.budgets$=this.store.select(H2),this.budgetsLoading$=this.store.select(X2),this.budgetsError$=this.store.select(q2),this.categories$=this.store.select(gn),this.categoriesLoading$=this.store.select(Ir),this.monthlyIncome$=this.store.select(bC)}ngOnInit(){this.loadBudgets(),this.loadCategories(),this.subscribeToStoreData(),this.loadProfileIncome()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}nextStep(){this.currentStep<this.totalSteps&&this.currentStep++}previousStep(){this.currentStep>1&&this.currentStep--}calculateMonthlyIncome(){}updateYearlyIncome(){this.ensureBudgetLimit()}addSavingsGoal(){this.yearlyBudget.savingsGoals.push({name:"",targetAmount:0,monthlyContribution:0})}removeSavingsGoal(e){this.yearlyBudget.savingsGoals.splice(e,1)}getTotalSavings(){return this.yearlyBudget.savingsGoals.reduce((e,r)=>e+r.monthlyContribution*12,0)}addDebt(){this.yearlyBudget.debts.push({name:"",currentBalance:0,monthlyPayment:0,interestRate:0})}removeDebt(e){this.yearlyBudget.debts.splice(e,1)}getTotalDebtPayments(){return this.yearlyBudget.debts.reduce((e,r)=>e+r.monthlyPayment*12,0)}getCategoryBudget(e){return this.categoryBudgets[e]||0}getCategoryPercentage(e){return this.yearlyBudget.totalIncome===0?0:this.getCategoryBudget(e)*12/this.yearlyBudget.totalIncome*100}getCategoryMonthly(e){return this.getCategoryBudget(e)}getTotalAllocated(){return Object.values(this.categoryBudgets).reduce((e,r)=>e+r,0)*12}ensureBudgetLimit(){let e=this.getTotalAllocated();if(e>this.yearlyBudget.totalIncome){let r=e-this.yearlyBudget.totalIncome;this.adjustAllCategories(r)}}adjustAllCategories(e){let r=this.getTotalAllocated();r!==0&&Object.keys(this.categoryBudgets).forEach(a=>{let o=this.categoryBudgets[a]||0,s=o*12/r,d=e*s/12;this.categoryBudgets[a]=Math.max(0,o-d)})}getRemainingBudget(){return this.yearlyBudget.totalIncome-this.getTotalAllocated()-this.getTotalSavings()-this.getTotalDebtPayments()}getNetBalance(){return this.yearlyBudget.totalIncome-this.getTotalAllocated()-this.getTotalSavings()-this.getTotalDebtPayments()}getMonthlyBreakdown(){let e=this.yearlyBudget.totalIncome/12,r=this.getTotalAllocated()/12,a=this.getTotalSavings()/12,o=this.getTotalDebtPayments()/12,s=e-r-a-o;return Array(12).fill(null).map(()=>({income:e,expenses:r,savings:a,debt:o,balance:s}))}getMonthName(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e]}saveYearlyBudget(){this.getExpenseCategories().forEach(e=>{let r=this.getCategoryBudget(e.id||"");if(r>0){let a=r*12;this.createBudgetForCategory(e.name,a,e)}}),this.notificationService.success("Yearly budget saved successfully!"),this.currentStep=1}loadBudgets(){let e=this.auth.currentUser;e&&(this.userId=e.uid,this.store.dispatch(yo({userId:this.userId})))}loadCategories(){let e=this.auth.currentUser;e&&this.store.dispatch(fr({userId:e.uid}))}subscribeToStoreData(){this.subscriptions.add(this.budgets$.subscribe(e=>{this.budgets=e,this.updateCategoryBudgets()})),this.subscriptions.add(this.categories$.subscribe(e=>{this.categories=e,this.initializeCategoryBudgets()})),this.subscriptions.add(this.budgetsError$.subscribe(e=>{e&&(console.error("Error loading budgets:",e),this.notificationService.error("Failed to load budgets"))}))}loadProfileIncome(){this.subscriptions.add(this.monthlyIncome$.pipe(bt(this.destroy$)).subscribe(e=>{e>0&&this.yearlyBudget.totalIncome===0&&(this.yearlyBudget.totalIncome=e*12)}))}useProfileIncome(e){this.yearlyBudget.totalIncome=e*12,this.notificationService.success("Profile income applied to yearly budget")}initializeCategoryBudgets(){this.getExpenseCategories().forEach(e=>{let r=this.budgets.find(a=>a.category===e.name);this.categoryBudgets[e.id||""]=r?r.limit/12:0})}updateCategoryBudgets(){this.getExpenseCategories().forEach(e=>{let r=this.budgets.find(a=>a.category===e.name);r&&(this.categoryBudgets[e.id||""]=r.limit/12)})}onCategoryBudgetChange(e,r){let a=this.getTotalAllocated(),o=this.categoryBudgets[e]||0,s=(r-o)*12;if(a+s>this.yearlyBudget.totalIncome){let d=a+s-this.yearlyBudget.totalIncome;this.categoryBudgets[e]=r,this.adjustOtherCategories(e,d)}else this.categoryBudgets[e]=r;this.saveCategoryBudget(e)}onCategoryBudgetInputChange(e,r){let a=Number(r.target.value)||0;this.onCategoryBudgetChange(e,a)}onInputModeChange(){console.log("Input mode changed to:",this.inputMode)}adjustOtherCategories(e,r){let a=Object.keys(this.categoryBudgets).filter(s=>s!==e),o=a.reduce((s,d)=>s+(this.categoryBudgets[d]||0),0);if(o===0){this.categoryBudgets[e]=Math.max(0,this.categoryBudgets[e]-r/12);return}a.forEach(s=>{let d=this.categoryBudgets[s]||0,u=d/o,m=r*u/12;this.categoryBudgets[s]=Math.max(0,d-m)})}saveCategoryBudget(e){let r=this.categories.find(d=>d.id===e);if(!r)return;let o=this.categoryBudgets[e]*12,s=this.budgets.find(d=>d.category===r.name);s?this.updateBudgetLimit(s.budgetId,o):this.createBudgetForCategory(r.name,o,r)}createBudgetForCategory(e,r,a){let o=this.auth.currentUser;if(o&&r>0){let s={budgetId:`${o.uid}-${e}-${new Date().getTime()}`,userId:o.uid,category:e,limit:r,spent:0,startDate:di.fromDate(new Date),endDate:di.fromDate(new Date(new Date().getFullYear(),11,31))};this.store.dispatch(vc({userId:o.uid,budget:s})),a.id&&a.type===ht.EXPENSE&&this.store.dispatch(wa({userId:this.userId,categoryId:a.id,name:a.name,categoryType:a.type,icon:a.icon,color:a.color,budgetData:{hasBudget:!0,budgetAmount:r/12,budgetPeriod:"monthly",budgetStartDate:di.fromDate(new Date),budgetEndDate:di.fromDate(new Date(new Date().getFullYear(),11,31)),budgetAlertThreshold:80,budgetAlertEnabled:!0}})),this.notificationService.success(`Budget created for ${e}`)}}updateBudgetLimit(e,r){let a=this.auth.currentUser;if(a){let o=this.budgets.find(s=>s.budgetId===e);if(o){let s=de(ce({},o),{limit:r});this.store.dispatch(Ll({userId:a.uid,budgetId:e,budget:s})),this.notificationService.success(`Budget limit updated for ${o.category}`)}}}getBudgetForCategory(e){return this.budgets.find(r=>r.category===e)}getSpentForCategory(e){let r=this.getBudgetForCategory(e);return(r==null?void 0:r.spent)||0}getProgressPercentage(e){let r=this.getBudgetForCategory(e);return!r||r.limit===0?0:Math.min(r.spent/r.limit*100,100)}getProgressColor(e){return e>=90?"warn":e>=75?"accent":"primary"}createBudget(){if(!this.newBudget.category||!this.newBudget.limit){this.notificationService.warning("Please fill in all required fields");return}if(this.newBudget.limit<=0){this.notificationService.warning("Budget limit must be greater than 0");return}let e=this.auth.currentUser;e&&(this.newBudget.userId=e.uid,this.newBudget.budgetId=`${this.newBudget.userId}-${new Date().getTime()}`,this.newBudget.startDate=di.fromDate(this.startDateModel),this.newBudget.endDate=di.fromDate(this.endDateModel),this.store.dispatch(vc({userId:e.uid,budget:this.newBudget})),this.notificationService.success("Budget created successfully"),this.newBudget={budgetId:"",userId:"",category:"Groceries",limit:0,spent:0,startDate:di.fromDate(new Date),endDate:di.fromDate(new Date)},this.startDateModel=new Date,this.endDateModel=new Date)}deleteBudget(e){let r=this.auth.currentUser;r&&(this.store.dispatch(Bl({userId:r.uid,budgetId:e})),this.notificationService.success("Budget deleted successfully"))}updateSpent(e,r){if(r<0){this.notificationService.warning("Spent amount cannot be negative");return}let a=this.auth.currentUser;a&&(this.store.dispatch(Vl({userId:a.uid,budgetId:e,amount:r})),this.notificationService.success("Budget spent amount updated successfully"))}toggleCategorySliders(){this.showCategorySliders=!this.showCategorySliders}trackByCategoryId(e,r){return r.id||""}trackByBudgetId(e,r){return r.budgetId}getExpenseCategories(){return this.categories.filter(e=>e.type===ht.EXPENSE)}updateAllCategoryBudgets(){this.getExpenseCategories().forEach(e=>{let r=e.id||"",a=this.categoryBudgets[r];a!==void 0&&a>0&&this.saveCategoryBudget(r)}),this.notificationService.success("All category budgets updated successfully!")}resetAllCategoryBudgets(){this.getExpenseCategories().forEach(e=>{let r=e.id||"";this.categoryBudgets[r]=0}),this.updateAllCategoryBudgets(),this.notificationService.info("All category budgets reset to zero")}distributeRemainingBudget(){let e=this.getRemainingBudget(),r=this.getExpenseCategories();if(e<=0||r.length===0){this.notificationService.warning("No remaining budget to distribute or no expense categories available");return}let a=e/12,o=a/r.length;r.forEach(s=>{let d=s.id||"";this.categoryBudgets[d]=o}),this.updateAllCategoryBudgets(),this.notificationService.success(`Distributed ${a.toFixed(2)} monthly budget equally among ${r.length} categories`)}};t.\u0275fac=function(r){return new(r||t)(W(Mt),W(on),W(Ct),W(mt),W(Vt))},t.\u0275cmp=Le({type:t,selectors:[["app-budgets"]],decls:34,vars:17,consts:[["negativeBalance",""],[1,"yearly-budget-container"],[1,"welcome-section"],[1,"welcome-card"],[1,"welcome-header"],[1,"main-headline"],[1,"subtext"],[1,"progress-section"],[1,"progress-info"],[1,"progress-text"],[1,"progress-percentage"],["color","primary",1,"setup-progress",3,"value"],["class","income-section",4,"ngIf"],["class","expense-planning-section",4,"ngIf"],["class","savings-section",4,"ngIf"],["class","debt-section",4,"ngIf"],["class","budget-summary-section",4,"ngIf"],["class","review-section",4,"ngIf"],[1,"navigation-section"],[1,"nav-buttons"],["mat-stroked-button","",3,"click","disabled"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","accent",3,"disabled","click",4,"ngIf"],[1,"income-section"],[1,"section-card"],[1,"income-form"],[1,"total-income-section"],["appearance","fill",1,"full-width"],["matInput","","type","number","name","totalIncome","required","","min","0",3,"ngModelChange","input","ngModel"],["class","monthly-breakdown",4,"ngIf"],["name","splitByMonth",3,"ngModelChange","ngModel"],[1,"monthly-breakdown"],[1,"breakdown-text"],[1,"expense-planning-section"],[1,"input-mode-toggle"],[3,"valueChange","change","value"],["value","slider"],["value","input"],[1,"mode-info"],[1,"mode-description"],[1,"categories-container"],["class","category-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"budget-summary"],[1,"summary-row"],[1,"label"],[1,"amount"],["class","budget-warning",4,"ngIf"],[1,"budget-actions"],["mat-stroked-button","","color","primary",3,"click","disabled"],["mat-stroked-button","","color","accent",3,"click","disabled"],["mat-stroked-button","","color","warn",3,"click"],[1,"category-row"],[1,"category-info"],[1,"category-icon"],[1,"category-name"],["class","category-slider-container",4,"ngIf"],[1,"category-budget-info"],["class","budget-input-container",4,"ngIf"],[1,"budget-details"],[1,"budget-percentage"],[1,"budget-monthly"],[1,"category-slider-container"],[1,"budget-slider",3,"max","min","step"],["matSliderThumb","",3,"ngModelChange","input","ngModel"],[1,"budget-input-container"],["appearance","fill",1,"budget-input"],["matInput","","type","number","min","0","step","50",3,"input","value","max"],[1,"budget-warning"],[1,"savings-section"],[1,"savings-goals"],["class","savings-goal-item",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",3,"click"],[1,"savings-goal-item"],["appearance","outline"],["matInput","","placeholder","e.g., Emergency Fund, Vacation, Down Payment",3,"ngModelChange","ngModel","name"],["matInput","","type","number","min","0",3,"ngModelChange","ngModel","name"],["matSuffix",""],["mat-icon-button","","color","warn",3,"click"],[1,"debt-section"],[1,"debt-items"],["class","debt-item",4,"ngFor","ngForOf"],[1,"debt-item"],["matInput","","placeholder","e.g., Credit Card, Student Loan, Car Loan",3,"ngModelChange","ngModel","name"],["matInput","","type","number","min","0","max","100","step","0.1",3,"ngModelChange","ngModel","name"],[1,"budget-summary-section"],[1,"summary-grid"],[1,"summary-card","income-summary"],[1,"summary-amount"],[1,"summary-breakdown"],[1,"breakdown-item"],[1,"summary-card","expenses-summary"],["class","breakdown-item",4,"ngFor","ngForOf"],[1,"summary-card","savings-summary"],[1,"summary-card","debt-summary"],[1,"final-summary"],[1,"summary-row","total-row"],[1,"amount","income"],[1,"amount","expenses"],[1,"amount","savings"],[1,"amount","debt"],[1,"summary-row","total-row","final-balance"],[1,"review-section"],[1,"review-content"],["class","review-message",4,"ngIf","ngIfElse"],[1,"monthly-view-toggle"],["name","showMonthlyView",3,"ngModelChange","ngModel"],[1,"review-message"],[1,"success-icon"],[1,"review-message","warning"],[1,"warning-icon"],[1,"monthly-grid"],["class","month-item",4,"ngFor","ngForOf"],[1,"month-item"],[1,"month-details"],[1,"month-row"],[1,"month-row","balance"],["mat-raised-button","","color","accent",3,"click","disabled"]],template:function(r,a){r&1&&(c(0,"div",1)(1,"div",2)(2,"mat-card",3)(3,"mat-card-content")(4,"div",4)(5,"h1",5),g(6,"Plan Your Yearly Budget"),l(),c(7,"p",6),g(8,"Set your income, allocate expenses, track savings and debt all in one place."),l()(),c(9,"div",7)(10,"div",8)(11,"span",9),g(12),l(),c(13,"span",10),g(14),se(15,"number"),l()(),oe(16,"mat-progress-bar",11),l()()()(),L(17,RY,19,3,"div",12)(18,$Y,54,20,"div",13)(19,zY,16,1,"div",14)(20,UY,16,1,"div",15)(21,XY,79,37,"div",16)(22,JY,18,4,"div",17),c(23,"div",18)(24,"div",19)(25,"button",20),R("click",function(){return a.previousStep()}),c(26,"mat-icon"),g(27,"arrow_back"),l(),g(28," Previous "),l(),c(29,"button",21),R("click",function(){return a.nextStep()}),c(30,"mat-icon"),g(31,"arrow_forward"),l(),g(32),l(),L(33,eU,4,1,"button",22),l()()()),r&2&&(p(12),Wt("Step ",a.currentStep," of ",a.totalSteps,""),p(2),ee("",vt(15,14,a.currentStep/a.totalSteps*100,"1.0-0"),"% Complete"),p(2),O("value",a.currentStep/a.totalSteps*100),p(),O("ngIf",a.currentStep>=1),p(),O("ngIf",a.currentStep>=2),p(),O("ngIf",a.currentStep>=3),p(),O("ngIf",a.currentStep>=4),p(),O("ngIf",a.currentStep>=5),p(),O("ngIf",a.currentStep>=6),p(3),O("disabled",a.currentStep<=1),p(4),O("disabled",a.currentStep>=a.totalSteps),p(3),ee(" ",a.currentStep>=a.totalSteps?"Complete":"Next"," "),p(),O("ngIf",a.currentStep>=a.totalSteps))},dependencies:[nr,ct,Yt,rr,Bt,ml,ks,Ss,li,Ri,qC,ZC,KC,XC,Zt,dn,Qe,Ob,Di,na,fo,hu,_u,Ea,mo,wb,Sb,Os,Hr],styles:[".yearly-budget-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto;min-height:100vh}.welcome-section[_ngcontent-%COMP%]{margin-bottom:32px}.welcome-section[_ngcontent-%COMP%]   .welcome-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:16px;overflow:hidden}.welcome-section[_ngcontent-%COMP%]   .welcome-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:40px}.welcome-section[_ngcontent-%COMP%]   .welcome-card[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.welcome-section[_ngcontent-%COMP%]   .welcome-card[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]   .main-headline[_ngcontent-%COMP%]{font-size:36px;font-weight:700;margin:0 0 16px;text-shadow:0 2px 4px rgba(0,0,0,.1)}.welcome-section[_ngcontent-%COMP%]   .welcome-card[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]   .subtext[_ngcontent-%COMP%]{font-size:18px;opacity:.9;margin:0;line-height:1.6}.welcome-section[_ngcontent-%COMP%]   .welcome-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.welcome-section[_ngcontent-%COMP%]   .welcome-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.welcome-section[_ngcontent-%COMP%]   .welcome-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .progress-percentage[_ngcontent-%COMP%]{font-size:14px;opacity:.8}.welcome-section[_ngcontent-%COMP%]   .welcome-card[_ngcontent-%COMP%]   .progress-section[_ngcontent-%COMP%]   .setup-progress[_ngcontent-%COMP%]{height:8px;border-radius:4px}.section-card[_ngcontent-%COMP%]{margin-bottom:24px;border-radius:12px;box-shadow:0 4px 12px #0000001a;transition:all .3s ease}.section-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #00000026;transform:translateY(-2px)}.section-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:24px 24px 16px;border-bottom:1px solid rgba(0,0,0,.08)}.section-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:24px;font-weight:600;color:#333}.section-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.section-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:16px;margin-top:8px}.section-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:24px}.income-section[_ngcontent-%COMP%]   .income-form[_ngcontent-%COMP%]   .total-income-section[_ngcontent-%COMP%]{margin-bottom:32px}.income-section[_ngcontent-%COMP%]   .income-form[_ngcontent-%COMP%]   .total-income-section[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.income-section[_ngcontent-%COMP%]   .income-form[_ngcontent-%COMP%]   .total-income-section[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]{margin-top:16px;padding:16px;background:#f8f9fa;border-radius:8px;border-left:4px solid #2196f3}.income-section[_ngcontent-%COMP%]   .income-form[_ngcontent-%COMP%]   .total-income-section[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .breakdown-text[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#333;font-weight:500}.income-section[_ngcontent-%COMP%]   .income-form[_ngcontent-%COMP%]   .total-income-section[_ngcontent-%COMP%]   .profile-income-info[_ngcontent-%COMP%]{margin-top:12px}.income-section[_ngcontent-%COMP%]   .income-form[_ngcontent-%COMP%]   .total-income-section[_ngcontent-%COMP%]   .profile-income-info[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0;padding:12px;background:#e3f2fd;border-radius:6px;border-left:3px solid #1976d2;font-size:14px;color:#1565c0;font-weight:500;flex-wrap:wrap}.income-section[_ngcontent-%COMP%]   .income-form[_ngcontent-%COMP%]   .total-income-section[_ngcontent-%COMP%]   .profile-income-info[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#1976d2}.income-section[_ngcontent-%COMP%]   .income-form[_ngcontent-%COMP%]   .total-income-section[_ngcontent-%COMP%]   .profile-income-info[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto;font-size:12px;padding:4px 12px;min-width:auto;height:28px;line-height:20px}.expense-planning-section[_ngcontent-%COMP%]   .input-mode-toggle[_ngcontent-%COMP%]{margin-bottom:24px;text-align:center}.expense-planning-section[_ngcontent-%COMP%]   .input-mode-toggle[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.expense-planning-section[_ngcontent-%COMP%]   .input-mode-toggle[_ngcontent-%COMP%]   .mode-info[_ngcontent-%COMP%]{margin-top:16px}.expense-planning-section[_ngcontent-%COMP%]   .input-mode-toggle[_ngcontent-%COMP%]   .mode-info[_ngcontent-%COMP%]   .mode-description[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;margin:0;font-size:14px;color:#666;font-style:italic}.expense-planning-section[_ngcontent-%COMP%]   .input-mode-toggle[_ngcontent-%COMP%]   .mode-info[_ngcontent-%COMP%]   .mode-description[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#2196f3}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]{margin-bottom:24px}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px 1fr 150px;gap:16px;align-items:center;padding:10px 16px;border-bottom:1px solid rgba(0,0,0,.08);transition:all .3s ease}@media (max-width: 768px){.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:8px;padding:8px 12px}}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]:hover{background:#2196f30d;border-radius:6px}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]   .category-slider-container[_ngcontent-%COMP%]   .budget-slider[_ngcontent-%COMP%]{width:100%}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]   .category-budget-info[_ngcontent-%COMP%]{text-align:right}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]   .category-budget-info[_ngcontent-%COMP%]   .budget-input-container[_ngcontent-%COMP%]{margin-bottom:8px}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]   .category-budget-info[_ngcontent-%COMP%]   .budget-input-container[_ngcontent-%COMP%]   .budget-input[_ngcontent-%COMP%]{width:120px}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]   .category-budget-info[_ngcontent-%COMP%]   .budget-input-container[_ngcontent-%COMP%]   .budget-input[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]   .category-budget-info[_ngcontent-%COMP%]   .budget-input-container[_ngcontent-%COMP%]   .budget-input[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{padding:0 8px}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]   .category-budget-info[_ngcontent-%COMP%]   .budget-input-container[_ngcontent-%COMP%]   .budget-input[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding:8px 0;min-height:auto}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]   .category-budget-info[_ngcontent-%COMP%]   .budget-input-container[_ngcontent-%COMP%]   .budget-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:right;font-weight:600;color:#2196f3}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]   .category-budget-info[_ngcontent-%COMP%]   .budget-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1px}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]   .category-budget-info[_ngcontent-%COMP%]   .budget-details[_ngcontent-%COMP%]   .budget-percentage[_ngcontent-%COMP%]{font-size:12px;color:#666;font-weight:500}.expense-planning-section[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%]   .category-row[_ngcontent-%COMP%]   .category-budget-info[_ngcontent-%COMP%]   .budget-details[_ngcontent-%COMP%]   .budget-monthly[_ngcontent-%COMP%]{font-size:12px;color:#4caf50;font-weight:600}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary[_ngcontent-%COMP%]{padding:20px;background:#f8f9fa;border-radius:12px;border-left:4px solid #4caf50;transition:all .3s ease}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary.over-budget[_ngcontent-%COMP%]{border-left-color:#f44336;background:#fff5f5}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]:last-child{margin-bottom:0;padding-top:12px;border-top:1px solid rgba(0,0,0,.1);font-weight:600;font-size:18px}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:16px;color:#333}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:600;font-size:18px;color:#4caf50;transition:color .3s ease}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .amount.negative[_ngcontent-%COMP%]{color:#f44336}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .amount.over-budget[_ngcontent-%COMP%]{color:#f44336;font-weight:700}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary[_ngcontent-%COMP%]   .budget-warning[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:12px;padding:12px;background:#fff3cd;border:1px solid #ffeaa7;border-radius:8px;color:#856404}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary[_ngcontent-%COMP%]   .budget-warning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f39c12;font-size:20px;width:20px;height:20px}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary[_ngcontent-%COMP%]   .budget-warning[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary[_ngcontent-%COMP%]   .budget-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:20px;padding-top:20px;border-top:1px solid rgba(0,0,0,.1);flex-wrap:wrap}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary[_ngcontent-%COMP%]   .budget-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;border-radius:8px;font-weight:500;transition:all .2s ease}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary[_ngcontent-%COMP%]   .budget-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary[_ngcontent-%COMP%]   .budget-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.expense-planning-section[_ngcontent-%COMP%]   .budget-summary[_ngcontent-%COMP%]   .budget-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none;box-shadow:none}.savings-section[_ngcontent-%COMP%]   .savings-goals[_ngcontent-%COMP%]   .savings-goal-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr auto;gap:16px;align-items:center;padding:16px;border:1px solid rgba(0,0,0,.08);border-radius:8px;margin-bottom:12px;background:#fafafa;transition:all .3s ease}.savings-section[_ngcontent-%COMP%]   .savings-goals[_ngcontent-%COMP%]   .savings-goal-item[_ngcontent-%COMP%]:hover{background:#f5f5f5;border-color:#4caf50}@media (max-width: 768px){.savings-section[_ngcontent-%COMP%]   .savings-goals[_ngcontent-%COMP%]   .savings-goal-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}}.savings-section[_ngcontent-%COMP%]   .savings-goals[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:16px}.debt-section[_ngcontent-%COMP%]   .debt-items[_ngcontent-%COMP%]   .debt-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr 1fr auto;gap:16px;align-items:center;padding:16px;border:1px solid rgba(0,0,0,.08);border-radius:8px;margin-bottom:12px;background:#fafafa;transition:all .3s ease}.debt-section[_ngcontent-%COMP%]   .debt-items[_ngcontent-%COMP%]   .debt-item[_ngcontent-%COMP%]:hover{background:#f5f5f5;border-color:#ff9800}@media (max-width: 768px){.debt-section[_ngcontent-%COMP%]   .debt-items[_ngcontent-%COMP%]   .debt-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}}.debt-section[_ngcontent-%COMP%]   .debt-items[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:16px}.budget-summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:32px}@media (max-width: 768px){.budget-summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.budget-summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:20px;border-radius:12px;border-left:4px solid;background:#fafafa;transition:all .3s ease}.budget-summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.budget-summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card.income-summary[_ngcontent-%COMP%]{border-left-color:#4caf50}.budget-summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card.expenses-summary[_ngcontent-%COMP%]{border-left-color:#ff9800}.budget-summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card.savings-summary[_ngcontent-%COMP%]{border-left-color:#2196f3}.budget-summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card.debt-summary[_ngcontent-%COMP%]{border-left-color:#f44336}.budget-summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:0 0 16px;color:#333}.budget-summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-amount[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:16px;color:#333}.budget-summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-size:14px}.budget-summary-section[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.budget-summary-section[_ngcontent-%COMP%]   .final-summary[_ngcontent-%COMP%]{padding:24px;background:#f8f9fa;border-radius:12px;border-left:4px solid #333}.budget-summary-section[_ngcontent-%COMP%]   .final-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;font-size:16px}.budget-summary-section[_ngcontent-%COMP%]   .final-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]:last-child{margin-bottom:0;padding-top:16px;border-top:2px solid rgba(0,0,0,.1);font-weight:700;font-size:20px}.budget-summary-section[_ngcontent-%COMP%]   .final-summary[_ngcontent-%COMP%]   .summary-row.total-row[_ngcontent-%COMP%]{font-weight:500}.budget-summary-section[_ngcontent-%COMP%]   .final-summary[_ngcontent-%COMP%]   .summary-row.final-balance[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.budget-summary-section[_ngcontent-%COMP%]   .final-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#333}.budget-summary-section[_ngcontent-%COMP%]   .final-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:600}.budget-summary-section[_ngcontent-%COMP%]   .final-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .amount.income[_ngcontent-%COMP%]{color:#4caf50}.budget-summary-section[_ngcontent-%COMP%]   .final-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .amount.expenses[_ngcontent-%COMP%]{color:#ff9800}.budget-summary-section[_ngcontent-%COMP%]   .final-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .amount.savings[_ngcontent-%COMP%]{color:#2196f3}.budget-summary-section[_ngcontent-%COMP%]   .final-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .amount.debt[_ngcontent-%COMP%]{color:#f44336}.budget-summary-section[_ngcontent-%COMP%]   .final-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .amount.positive[_ngcontent-%COMP%]{color:#4caf50}.budget-summary-section[_ngcontent-%COMP%]   .final-summary[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   .amount.negative[_ngcontent-%COMP%]{color:#f44336}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px;border-radius:12px;margin-bottom:24px;background:#e8f5e8;border-left:4px solid #4caf50}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-message.warning[_ngcontent-%COMP%]{background:#fff3e0;border-left-color:#ff9800}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-message[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{color:#4caf50;font-size:24px;width:24px;height:24px}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-message[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{color:#ff9800;font-size:24px;width:24px;height:24px}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .review-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#333}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .monthly-view-toggle[_ngcontent-%COMP%]{margin-bottom:24px}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin-bottom:20px;color:#333}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}@media (max-width: 768px){.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-grid[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]{padding:16px;border:1px solid rgba(0,0,0,.08);border-radius:8px;background:#fafafa;transition:all .3s ease}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-grid[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]:hover{background:#f5f5f5;transform:translateY(-2px)}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-grid[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:0 0 12px;color:#333;text-align:center}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-grid[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]   .month-details[_ngcontent-%COMP%]   .month-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-size:12px}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-grid[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]   .month-details[_ngcontent-%COMP%]   .month-row[_ngcontent-%COMP%]:last-child{margin-bottom:0;padding-top:8px;border-top:1px solid rgba(0,0,0,.1);font-weight:600}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-grid[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]   .month-details[_ngcontent-%COMP%]   .month-row.balance[_ngcontent-%COMP%]{font-weight:600;font-size:14px}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-grid[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]   .month-details[_ngcontent-%COMP%]   .month-row[_ngcontent-%COMP%]   .positive[_ngcontent-%COMP%]{color:#4caf50}.review-section[_ngcontent-%COMP%]   .review-content[_ngcontent-%COMP%]   .monthly-breakdown[_ngcontent-%COMP%]   .monthly-grid[_ngcontent-%COMP%]   .month-item[_ngcontent-%COMP%]   .month-details[_ngcontent-%COMP%]   .month-row[_ngcontent-%COMP%]   .negative[_ngcontent-%COMP%]{color:#f44336}.navigation-section[_ngcontent-%COMP%]{margin-top:32px;padding:24px 0;border-top:1px solid rgba(0,0,0,.08)}.navigation-section[_ngcontent-%COMP%]   .nav-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px}@media (max-width: 768px){.navigation-section[_ngcontent-%COMP%]   .nav-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:12px}}.navigation-section[_ngcontent-%COMP%]   .nav-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px;padding:12px 24px;font-size:16px;font-weight:500;border-radius:8px;transition:all .3s ease}.navigation-section[_ngcontent-%COMP%]   .nav-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.navigation-section[_ngcontent-%COMP%]   .nav-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}@media (max-width: 768px){.yearly-budget-container[_ngcontent-%COMP%]{padding:16px}.welcome-section[_ngcontent-%COMP%]   .welcome-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:24px}.welcome-section[_ngcontent-%COMP%]   .welcome-card[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]   .main-headline[_ngcontent-%COMP%]{font-size:28px}.welcome-section[_ngcontent-%COMP%]   .welcome-card[_ngcontent-%COMP%]   .welcome-header[_ngcontent-%COMP%]   .subtext[_ngcontent-%COMP%]{font-size:16px}.section-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px}.section-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:20px}.section-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.section-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px}}"]});let n=t;return n})();var Z2=da(fa());var tU=(n,t)=>t.value,nU=(n,t)=>t.code;function iU(n,t){n&1&&(c(0,"div",14),oe(1,"mat-spinner",15),c(2,"p",16),g(3,"Loading profile..."),l()())}function rU(n,t){n&1&&(c(0,"mat-error"),g(1," First name is required "),l())}function aU(n,t){n&1&&(c(0,"mat-error"),g(1," First name must be at least 2 characters "),l())}function oU(n,t){n&1&&(c(0,"mat-error"),g(1," Last name is required "),l())}function sU(n,t){n&1&&(c(0,"mat-error"),g(1," Last name must be at least 2 characters "),l())}function cU(n,t){n&1&&(c(0,"mat-error"),g(1," Email is required "),l())}function lU(n,t){n&1&&(c(0,"mat-error"),g(1," Please enter a valid email "),l())}function dU(n,t){n&1&&(c(0,"mat-error"),g(1," Please enter a valid phone number "),l())}function gU(n,t){n&1&&(c(0,"mat-error"),g(1," Income cannot be negative "),l())}function uU(n,t){if(n&1&&(c(0,"mat-option",36),g(1),l()),n&2){let i=t.$implicit;O("value",i),p(),ee(" ",i," ")}}function mU(n,t){if(n&1&&(c(0,"mat-option",36),g(1),l()),n&2){let i=t.$implicit;O("value",i.value),p(),ee(" ",i.label," ")}}function pU(n,t){if(n&1&&(c(0,"mat-option",36),g(1),l()),n&2){let i=t.$implicit;O("value",i.code),p(),ee(" ",i.name," ")}}function fU(n,t){n&1&&(c(0,"mat-icon"),g(1,"hourglass_empty"),l())}function hU(n,t){n&1&&(c(0,"mat-icon"),g(1,"save"),l())}function _U(n,t){if(n&1){let i=ue();c(0,"div",55)(1,"button",56),R("click",function(){j(i);let r=y(2);return z(r.cancelEdit())}),g(2," Cancel "),l(),c(3,"button",57),L(4,fU,2,0,"mat-icon",25)(5,hU,2,0,"mat-icon",25),g(6),l()()}if(n&2){let i=y(2);p(),O("disabled",i.isLoading),p(2),O("disabled",i.profileForm.invalid||i.isLoading),p(),O("ngIf",i.isLoading),p(),O("ngIf",!i.isLoading),p(),ee(" ",i.isLoading?"Saving...":"Save Changes"," ")}}function xU(n,t){if(n&1){let i=ue();c(0,"div",17)(1,"form",18),R("ngSubmit",function(){j(i);let r=y();return z(r.saveProfile())}),c(2,"div",19)(3,"div",20)(4,"mat-icon",21),g(5,"person"),l(),c(6,"h2"),g(7,"Personal Information"),l()(),c(8,"div",22)(9,"mat-form-field",23)(10,"mat-label"),g(11,"First Name *"),l(),oe(12,"input",24),L(13,rU,2,0,"mat-error",25)(14,aU,2,0,"mat-error",25),l(),c(15,"mat-form-field",23)(16,"mat-label"),g(17,"Last Name *"),l(),oe(18,"input",26),L(19,oU,2,0,"mat-error",25)(20,sU,2,0,"mat-error",25),l(),c(21,"mat-form-field",23)(22,"mat-label"),g(23,"Email *"),l(),oe(24,"input",27),L(25,cU,2,0,"mat-error",25)(26,lU,2,0,"mat-error",25),l(),c(27,"mat-form-field",23)(28,"mat-label"),g(29,"Phone Number"),l(),oe(30,"input",28),L(31,dU,2,0,"mat-error",25),l(),c(32,"mat-form-field",23)(33,"mat-label"),g(34,"Date of Birth"),l(),oe(35,"input",29)(36,"mat-datepicker-toggle",30)(37,"mat-datepicker",null,0),l(),c(39,"mat-form-field",23)(40,"mat-label"),g(41,"Occupation"),l(),oe(42,"input",31),l(),c(43,"mat-form-field",23)(44,"mat-label"),g(45,"Monthly Income"),l(),oe(46,"input",32),c(47,"span",33),g(48),l(),L(49,gU,2,0,"mat-error",25),l()()(),c(50,"div",34)(51,"div",20)(52,"mat-icon",21),g(53,"settings"),l(),c(54,"h2"),g(55,"Preferences"),l()(),c(56,"div",22)(57,"mat-form-field",23)(58,"mat-label"),g(59,"Default Currency *"),l(),c(60,"mat-select",35),qe(61,uU,2,2,"mat-option",36,Or),l()(),c(63,"mat-form-field",23)(64,"mat-label"),g(65,"Timezone *"),l(),c(66,"mat-select",37),qe(67,mU,2,2,"mat-option",36,tU),l()(),c(69,"mat-form-field",23)(70,"mat-label"),g(71,"Language *"),l(),c(72,"mat-select",38),qe(73,pU,2,2,"mat-option",36,nU),l()()(),c(75,"div",39)(76,"div",40)(77,"mat-slide-toggle",41)(78,"span",42),g(79,"Push Notifications"),l()(),c(80,"p",43),g(81,"Receive notifications about important updates"),l()(),c(82,"div",40)(83,"mat-slide-toggle",44)(84,"span",42),g(85,"Email Updates"),l()(),c(86,"p",43),g(87,"Receive weekly financial summaries via email"),l()(),c(88,"div",40)(89,"mat-slide-toggle",45)(90,"span",42),g(91,"Budget Alerts"),l()(),c(92,"p",43),g(93,"Get notified when you exceed budget limits"),l()(),c(94,"div",40)(95,"mat-slide-toggle",46)(96,"span",42),g(97,"Category List View"),l()(),c(98,"p",43),g(99,"Display categories in list view instead of grid view"),l()()()(),L(100,_U,7,5,"div",47),l(),c(101,"div",48)(102,"div",20)(103,"mat-icon",21),g(104,"security"),l(),c(105,"h2"),g(106,"Account Actions"),l()(),c(107,"div",49)(108,"div",50)(109,"mat-icon",51),g(110,"lock"),l(),c(111,"h3"),g(112,"Change Password"),l(),c(113,"p"),g(114,"Update your account password for better security"),l(),c(115,"button",52),R("click",function(){j(i);let r=y();return z(r.changePassword())}),g(116," Change Password "),l()(),c(117,"div",50)(118,"mat-icon",51),g(119,"download"),l(),c(120,"h3"),g(121,"Export Data"),l(),c(122,"p"),g(123,"Download all your financial data as a backup"),l(),c(124,"button",52),R("click",function(){j(i);let r=y();return z(r.exportData())}),g(125," Export Data "),l()(),c(126,"div",53)(127,"mat-icon",51),g(128,"delete_forever"),l(),c(129,"h3"),g(130,"Delete Account"),l(),c(131,"p"),g(132,"Permanently delete your account and all associated data"),l(),c(133,"button",54),R("click",function(){j(i);let r=y();return z(r.deleteAccount())}),g(134," Delete Account "),l()()()()()}if(n&2){let i,e,r,a,o,s,d,u,m=wn(38),f=y();p(),O("formGroup",f.profileForm),p(11),O("readonly",!f.isEditing),p(),O("ngIf",(i=f.profileForm.get("firstName"))==null?null:i.hasError("required")),p(),O("ngIf",(e=f.profileForm.get("firstName"))==null?null:e.hasError("minlength")),p(4),O("readonly",!f.isEditing),p(),O("ngIf",(r=f.profileForm.get("lastName"))==null?null:r.hasError("required")),p(),O("ngIf",(a=f.profileForm.get("lastName"))==null?null:a.hasError("minlength")),p(4),O("readonly",!f.isEditing),p(),O("ngIf",(o=f.profileForm.get("email"))==null?null:o.hasError("required")),p(),O("ngIf",(s=f.profileForm.get("email"))==null?null:s.hasError("email")),p(4),O("readonly",!f.isEditing),p(),O("ngIf",(d=f.profileForm.get("phone"))==null?null:d.hasError("pattern")),p(4),O("matDatepicker",m)("readonly",!f.isEditing),p(),O("for",m)("disabled",!f.isEditing),p(6),O("readonly",!f.isEditing),p(4),O("readonly",!f.isEditing),p(2),ee("",f.userProfile.preferences==null?null:f.userProfile.preferences.defaultCurrency,"\xA0"),p(),O("ngIf",(u=f.profileForm.get("monthlyIncome"))==null?null:u.hasError("min")),p(11),O("disabled",!f.isEditing),p(),Ke(f.currencies),p(5),O("disabled",!f.isEditing),p(),Ke(f.timezones),p(5),O("disabled",!f.isEditing),p(),Ke(f.languages),p(4),O("disabled",!f.isEditing),p(6),O("disabled",!f.isEditing),p(6),O("disabled",!f.isEditing),p(6),O("disabled",!f.isEditing),p(5),O("ngIf",f.isEditing)}}var Q2=(()=>{let t=class t{constructor(e,r,a,o,s,d,u,m,f){this.fb=e,this.auth=r,this.router=a,this.notificationService=o,this.validationService=s,this.dialog=d,this.dateService=u,this.store=m,this.breakpointObserver=f,this.isLoading=!1,this.isEditing=!1,this.userProfile=null,this.currencies=Object.values(nC),this.defaultCurrency=Ut.CURRENCY.DEFAULT,this.languages=Object.entries(Ut.LANGUAGE.NAMES).map(([_,x])=>({code:_,name:x})),this.fabConfig={title:"Profile",mainButtonIcon:"edit",mainButtonColor:"primary",mainButtonTooltip:"Edit Profile",showLabels:!1,animations:!0,autoHide:!1,autoHideDelay:3e3,theme:"auto",actions:[],onMainButtonClick:()=>this.toggleEdit()},this.validation=Ut.VALIDATION,this.timezones=rC,this.isMobile=!1,this.destroy$=new It,this.subscriptions=new Ki,this.currentUser=this.auth.currentUser,this.isMobile=this.breakpointObserver.isMatched("(max-width: 600px)"),this.profile$=this.store.select(_C),this.profileLoading$=this.store.select(xC),this.profileError$=this.store.select(CC),this.profileForm=this.fb.group({firstName:["",this.validationService.getProfileNameValidators()],lastName:["",this.validationService.getProfileNameValidators()],email:["",this.validationService.getProfileEmailValidators()],phone:["",this.validationService.getProfilePhoneValidators()],dateOfBirth:[""],occupation:["",this.validationService.getProfileOccupationValidators()],monthlyIncome:[0,this.validationService.getProfileIncomeValidators()],preferences:this.fb.group({defaultCurrency:[this.defaultCurrency,tt.required],timezone:["UTC",tt.required],language:[Ut.LANGUAGE.DEFAULT,tt.required],notifications:[!0],emailUpdates:[!0],budgetAlerts:[!0],categoryListViewMode:[!1]})})}ngOnInit(){this.subscribeToStoreData()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}subscribeToStoreData(){this.subscriptions.add(this.profile$.subscribe(e=>{e&&(this.userProfile=this.mapUserToProfile(e),this.populateForm())})),this.subscriptions.add(this.profileLoading$.subscribe(e=>{this.isLoading=e})),this.subscriptions.add(this.profileError$.subscribe(e=>{e&&(console.error("Error loading profile:",e),this.notificationService.error(gi.NETWORK.SERVER_ERROR))}))}mapUserToProfile(e){var r,a,o,s,d,u,m;return{uid:e.uid,firstName:e.firstName||"",lastName:e.lastName||"",email:e.email,phone:e.phone||"",dateOfBirth:this.dateService.toDate(e.dateOfBirth||0)||new Date,occupation:e.occupation||"",monthlyIncome:e.monthlyIncome||0,preferences:{defaultCurrency:((r=e.preferences)==null?void 0:r.defaultCurrency)||this.defaultCurrency,timezone:((a=e.preferences)==null?void 0:a.timezone)||"UTC",language:((o=e.preferences)==null?void 0:o.language)||Ut.LANGUAGE.DEFAULT,notifications:((s=e.preferences)==null?void 0:s.notifications)||!0,emailUpdates:((d=e.preferences)==null?void 0:d.emailUpdates)||!0,budgetAlerts:((u=e.preferences)==null?void 0:u.budgetAlerts)||!0,categoryListViewMode:((m=e.preferences)==null?void 0:m.categoryListViewMode)||!1},role:e.role,createdAt:e.createdAt,updatedAt:this.dateService.toTimestamp(e.updatedAt)||new Date}}populateForm(){var e,r,a,o,s,d,u;this.userProfile&&this.profileForm.patchValue({firstName:this.userProfile.firstName,lastName:this.userProfile.lastName,email:this.userProfile.email,phone:this.userProfile.phone||"",dateOfBirth:this.userProfile.dateOfBirth||"",occupation:this.userProfile.occupation||"",monthlyIncome:this.userProfile.monthlyIncome||0,preferences:{defaultCurrency:((e=this.userProfile.preferences)==null?void 0:e.defaultCurrency)||this.defaultCurrency,timezone:((r=this.userProfile.preferences)==null?void 0:r.timezone)||"UTC",language:((a=this.userProfile.preferences)==null?void 0:a.language)||Ut.LANGUAGE.DEFAULT,notifications:((o=this.userProfile.preferences)==null?void 0:o.notifications)||!0,emailUpdates:((s=this.userProfile.preferences)==null?void 0:s.emailUpdates)||!0,budgetAlerts:((d=this.userProfile.preferences)==null?void 0:d.budgetAlerts)||!0,categoryListViewMode:((u=this.userProfile.preferences)==null?void 0:u.categoryListViewMode)||!1}})}toggleEdit(){this.isEditing=!this.isEditing,this.isEditing?(this.fabConfig.mainButtonIcon="save",this.fabConfig.mainButtonTooltip="Save Profile"):this.saveProfile()}saveProfile(){return ge(this,null,function*(){if(this.profileForm.invalid){this.notificationService.warning(gi.VALIDATION.REQUIRED_FIELD);return}try{this.isLoading=!0;let e=this.profileForm.value;if(this.userProfile){let r={uid:this.userProfile.uid,email:e.email,role:tC.FREE,createdAt:this.userProfile.createdAt,preferences:e.preferences,firstName:e.firstName,lastName:e.lastName,phone:e.phone,dateOfBirth:e.dateOfBirth,occupation:e.occupation,monthlyIncome:e.monthlyIncome,updatedAt:new Date};this.store.dispatch(Yl({userId:this.currentUser.uid,profile:r})),this.notificationService.success(iC.GENERAL.UPDATED),this.isEditing=!1}}catch(e){console.error("Error saving profile:",e),this.notificationService.error(gi.NETWORK.SERVER_ERROR)}finally{this.isLoading=!1}})}cancelEdit(){this.populateForm(),this.isEditing=!1,this.notificationService.info("Changes cancelled")}deleteAccount(){return ge(this,null,function*(){this.dialog.open(ma,{width:"400px",data:{title:"Delete Account",message:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently lost.",confirmText:"Delete Account",cancelText:"Cancel",confirmColor:"warn"}}).afterClosed().subscribe(r=>ge(this,null,function*(){if(r)try{this.isLoading=!0,yield this.currentUser.delete(),this.notificationService.success("Account deleted successfully"),this.router.navigate(["/sign-in"])}catch(a){console.error("Error deleting account:",a),this.notificationService.error(gi.NETWORK.SERVER_ERROR)}finally{this.isLoading=!1}}))})}changePassword(){return ge(this,null,function*(){this.notificationService.info("Password change feature coming soon")})}exportData(){return ge(this,null,function*(){try{if(!Ut.FEATURES.EXPORT_FUNCTIONALITY){this.notificationService.warning(gi.PERMISSION.FEATURE_NOT_AVAILABLE);return}this.notificationService.info("Data export feature coming soon")}catch(e){console.error("Error exporting data:",e),this.notificationService.error(gi.NETWORK.SERVER_ERROR)}})}getFullName(){return this.userProfile?`${this.userProfile.firstName} ${this.userProfile.lastName}`.trim():"User"}getTimezoneLabel(e){let r=this.timezones.find(a=>a.value===e);return r?r.label:e}getLanguageName(e){return Ut.LANGUAGE.NAMES[e]||e}getFormattedDate(e){return e?(0,Z2.default)((e==null?void 0:e.seconds)*1e3).format("MMM DD, YYYY"):"N/A"}getFirstNameError(){let e=this.profileForm.get("firstName");return e?this.validationService.getProfileNameError(e):""}getLastNameError(){let e=this.profileForm.get("lastName");return e?this.validationService.getProfileNameError(e):""}getEmailError(){let e=this.profileForm.get("email");return e?this.validationService.getProfileEmailError(e):""}getPhoneError(){let e=this.profileForm.get("phone");return e?this.validationService.getProfilePhoneError(e):""}getOccupationError(){let e=this.profileForm.get("occupation");return e?this.validationService.getProfileOccupationError(e):""}getIncomeError(){let e=this.profileForm.get("monthlyIncome");return e?this.validationService.getProfileIncomeError(e):""}};t.\u0275fac=function(r){return new(r||t)(W(Ei),W(Mt),W(on),W(Ct),W(Sa),W(xn),W(Vt),W(mt),W(Tr))},t.\u0275cmp=Le({type:t,selectors:[["app-profile"]],decls:17,vars:6,consts:[["dobPicker",""],[3,"config"],[1,"profile-container"],["class","loading-overlay",4,"ngIf"],[1,"profile-header"],[1,"header-content"],[1,"avatar-section"],[1,"avatar"],[1,"avatar-icon"],[1,"user-info"],[1,"user-name"],[1,"user-email"],[1,"user-role"],["class","profile-content",4,"ngIf"],[1,"loading-overlay"],["diameter","40"],[1,"mt-4","text-gray-600"],[1,"profile-content"],[1,"profile-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-header"],[1,"section-icon"],[1,"form-grid"],["appearance","fill",1,"form-field"],["matInput","","formControlName","firstName","autocomplete","given-name",3,"readonly"],[4,"ngIf"],["matInput","","formControlName","lastName","autocomplete","family-name",3,"readonly"],["matInput","","type","email","formControlName","email","autocomplete","email",3,"readonly"],["matInput","","formControlName","phone","placeholder","+1 (555) 123-4567","autocomplete","tel",3,"readonly"],["matInput","","formControlName","dateOfBirth","autocomplete","bday",3,"matDatepicker","readonly"],["matSuffix","",3,"for","disabled"],["matInput","","formControlName","occupation","placeholder","e.g., Software Engineer","autocomplete","organization-title",3,"readonly"],["matInput","","type","number","formControlName","monthlyIncome","step","0.01","autocomplete","off",3,"readonly"],["matTextPrefix",""],["formGroupName","preferences",1,"form-section"],["formControlName","defaultCurrency",3,"disabled"],[3,"value"],["formControlName","timezone",3,"disabled"],["formControlName","language",3,"disabled"],[1,"preferences-grid"],[1,"preference-item"],["formControlName","notifications","color","primary",3,"disabled"],[1,"toggle-label"],[1,"preference-description"],["formControlName","emailUpdates","color","primary",3,"disabled"],["formControlName","budgetAlerts","color","primary",3,"disabled"],["formControlName","categoryListViewMode","color","primary",3,"disabled"],["class","form-actions",4,"ngIf"],[1,"account-actions-section"],[1,"actions-grid"],[1,"action-card"],[1,"action-icon"],["mat-stroked-button","",1,"action-btn",3,"click"],[1,"action-card","danger"],["mat-stroked-button","","color","warn",1,"action-btn",3,"click"],[1,"form-actions"],["type","button","mat-stroked-button","",1,"cancel-btn",3,"click","disabled"],["type","submit","mat-raised-button","","color","primary",1,"save-btn",3,"disabled"]],template:function(r,a){r&1&&(oe(0,"app-quick-actions-fab",1),c(1,"div",2),L(2,iU,4,0,"div",3),c(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"mat-icon",8),g(8,"person"),l()(),c(9,"div",9)(10,"h1",10),g(11),l(),c(12,"p",11),g(13),l(),c(14,"p",12),g(15),l()()()()(),L(16,xU,135,28,"div",13),l()),r&2&&(O("config",a.fabConfig),p(2),O("ngIf",a.isLoading),p(9),V(a.getFullName()),p(2),V(a.userProfile==null?null:a.userProfile.email),p(2),ee("Member since ",a.getFormattedDate(a.userProfile==null?null:a.userProfile.createdAt),""),p(),O("ngIf",a.userProfile))},dependencies:[ct,Jn,Yt,rr,Bt,Qn,ki,Ti,_x,Zt,Qe,Er,cu,lu,du,Di,na,po,AC,fo,Fi,Ii,Ea,Aa,ko],styles:[".profile-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:24px;min-height:100vh;background:var(--background-color);color:var(--text-color)}@media (max-width: 1024px){.profile-container[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.profile-container[_ngcontent-%COMP%]{padding:12px}}.loading-overlay[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;background:var(--background-color);border-radius:12px;box-shadow:0 2px 8px #0000001a}.profile-header[_ngcontent-%COMP%]{background:var(--card-background);border-radius:16px;padding:32px;margin-bottom:32px;box-shadow:0 4px 20px #00000014;border:1px solid var(--border-color)}@media (max-width: 1024px){.profile-header[_ngcontent-%COMP%]{padding:28px;margin-bottom:28px}}@media (max-width: 768px){.profile-header[_ngcontent-%COMP%]{padding:24px 20px;margin-bottom:24px}}@media (max-width: 480px){.profile-header[_ngcontent-%COMP%]{padding:20px 16px;margin-bottom:20px}}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:24px}@media (max-width: 1024px){.header-content[_ngcontent-%COMP%]{gap:20px}}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:20px}}@media (max-width: 480px){.header-content[_ngcontent-%COMP%]{gap:16px}}.avatar-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex:1}@media (max-width: 768px){.avatar-section[_ngcontent-%COMP%]{width:100%;gap:16px}}@media (max-width: 480px){.avatar-section[_ngcontent-%COMP%]{gap:12px}}.avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color),var(--accent-color));display:flex;align-items:center;justify-content:center;box-shadow:0 4px 16px #00000026;flex-shrink:0}@media (max-width: 1024px){.avatar[_ngcontent-%COMP%]{width:70px;height:70px}}@media (max-width: 768px){.avatar[_ngcontent-%COMP%]{width:60px;height:60px}}@media (max-width: 480px){.avatar[_ngcontent-%COMP%]{width:50px;height:50px}}.avatar-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px;color:#fff}@media (max-width: 1024px){.avatar-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}}@media (max-width: 768px){.avatar-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}}@media (max-width: 480px){.avatar-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}}.user-info[_ngcontent-%COMP%]{flex:1;min-width:0}.user-name[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin:0 0 8px;color:var(--text-color);word-wrap:break-word}@media (max-width: 1024px){.user-name[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 768px){.user-name[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 480px){.user-name[_ngcontent-%COMP%]{font-size:22px}}.user-email[_ngcontent-%COMP%]{font-size:16px;color:var(--text-secondary);margin:0 0 4px;word-wrap:break-word}@media (max-width: 480px){.user-email[_ngcontent-%COMP%]{font-size:14px}}.user-role[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted);margin:0}@media (max-width: 480px){.user-role[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 768px){.header-actions[_ngcontent-%COMP%]{width:100%}}.edit-btn[_ngcontent-%COMP%]{min-width:140px}@media (max-width: 1024px){.edit-btn[_ngcontent-%COMP%]{min-width:130px}}@media (max-width: 768px){.edit-btn[_ngcontent-%COMP%]{width:100%;min-width:unset}}.profile-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}@media (max-width: 768px){.profile-content[_ngcontent-%COMP%]{gap:24px}}@media (max-width: 480px){.profile-content[_ngcontent-%COMP%]{gap:20px}}.profile-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}@media (max-width: 768px){.profile-form[_ngcontent-%COMP%]{gap:24px}}@media (max-width: 480px){.profile-form[_ngcontent-%COMP%]{gap:20px}}.form-section[_ngcontent-%COMP%]{background:var(--card-background);border-radius:16px;padding:32px;box-shadow:0 4px 20px #00000014;border:1px solid var(--border-color)}@media (max-width: 1024px){.form-section[_ngcontent-%COMP%]{padding:28px}}@media (max-width: 768px){.form-section[_ngcontent-%COMP%]{padding:24px 20px}}@media (max-width: 480px){.form-section[_ngcontent-%COMP%]{padding:20px 16px}}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:24px;padding-bottom:16px;border-bottom:2px solid var(--border-color)}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:12px}}@media (max-width: 480px){.section-header[_ngcontent-%COMP%]{margin-bottom:16px;padding-bottom:10px;gap:8px}}.section-icon[_ngcontent-%COMP%]{color:var(--primary-color);font-size:24px;width:24px;height:24px;flex-shrink:0}@media (max-width: 480px){.section-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin:0;color:var(--text-color)}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px}@media (max-width: 1024px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}}@media (max-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}@media (max-width: 480px){.form-grid[_ngcontent-%COMP%]{gap:16px}}.form-field[_ngcontent-%COMP%]{width:100%}.preferences-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px;margin-top:24px}@media (max-width: 1024px){.preferences-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}}@media (max-width: 768px){.preferences-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}@media (max-width: 480px){.preferences-grid[_ngcontent-%COMP%]{gap:16px;margin-top:20px}}.preference-item[_ngcontent-%COMP%]{padding:20px;background:var(--background-color);border-radius:12px;border:1px solid var(--border-color);transition:all .3s ease}.preference-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}@media (max-width: 768px){.preference-item[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.preference-item[_ngcontent-%COMP%]{padding:14px}}.preference-item[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{margin-bottom:8px}.preference-description[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin:8px 0 0;line-height:1.4}@media (max-width: 480px){.preference-description[_ngcontent-%COMP%]{font-size:13px}}.toggle-label[_ngcontent-%COMP%]{font-weight:500;color:var(--text-color)}@media (max-width: 480px){.toggle-label[_ngcontent-%COMP%]{font-size:14px}}.form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:flex-end;padding:24px 0;border-top:1px solid var(--border-color)}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:12px;padding:20px 0}}@media (max-width: 480px){.form-actions[_ngcontent-%COMP%]{padding:16px 0;gap:10px}}.cancel-btn[_ngcontent-%COMP%]{min-width:120px}@media (max-width: 768px){.cancel-btn[_ngcontent-%COMP%]{width:100%;min-width:unset}}.save-btn[_ngcontent-%COMP%]{min-width:140px}@media (max-width: 1024px){.save-btn[_ngcontent-%COMP%]{min-width:130px}}@media (max-width: 768px){.save-btn[_ngcontent-%COMP%]{width:100%;min-width:unset}}.account-actions-section[_ngcontent-%COMP%]{background:var(--card-background);border-radius:16px;padding:32px;box-shadow:0 4px 20px #00000014;border:1px solid var(--border-color)}@media (max-width: 1024px){.account-actions-section[_ngcontent-%COMP%]{padding:28px}}@media (max-width: 768px){.account-actions-section[_ngcontent-%COMP%]{padding:24px 20px}}@media (max-width: 480px){.account-actions-section[_ngcontent-%COMP%]{padding:20px 16px}}.actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;margin-top:24px}@media (max-width: 1024px){.actions-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px}}@media (max-width: 768px){.actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}@media (max-width: 480px){.actions-grid[_ngcontent-%COMP%]{gap:16px;margin-top:20px}}.action-card[_ngcontent-%COMP%]{padding:24px;background:var(--background-color);border-radius:12px;border:1px solid var(--border-color);text-align:center;transition:all .3s ease}.action-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 24px #0000001f}.action-card.danger[_ngcontent-%COMP%]{border-color:var(--warn-color);background:#f443360d}.action-card.danger[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{color:var(--warn-color)}@media (max-width: 768px){.action-card[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 480px){.action-card[_ngcontent-%COMP%]{padding:16px}}.action-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:var(--primary-color);margin-bottom:16px}@media (max-width: 768px){.action-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;margin-bottom:12px}}@media (max-width: 480px){.action-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;margin-bottom:10px}}.action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:0 0 12px;color:var(--text-color)}@media (max-width: 768px){.action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin:0 0 10px}}@media (max-width: 480px){.action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;margin:0 0 8px}}.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin:0 0 20px;line-height:1.5}@media (max-width: 768px){.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;margin:0 0 16px}}@media (max-width: 480px){.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin:0 0 14px}}.action-btn[_ngcontent-%COMP%]{min-width:140px}@media (max-width: 1024px){.action-btn[_ngcontent-%COMP%]{min-width:130px}}@media (max-width: 768px){.action-btn[_ngcontent-%COMP%]{width:100%;min-width:unset}}.dark-theme[_nghost-%COMP%]   .profile-container[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .profile-container[_ngcontent-%COMP%]{background:var(--dark-background)}.dark-theme[_nghost-%COMP%]   .profile-header[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .profile-header[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .form-section[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .form-section[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .account-actions-section[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .account-actions-section[_ngcontent-%COMP%]{background:var(--dark-card-background);border-color:var(--dark-border-color)}.dark-theme[_nghost-%COMP%]   .preference-item[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .preference-item[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .action-card[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]{background:var(--dark-background);border-color:var(--dark-border-color)}.dark-theme[_nghost-%COMP%]   .user-name[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .user-name[_ngcontent-%COMP%]{color:var(--dark-text-color)}.dark-theme[_nghost-%COMP%]   .user-email[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .user-email[_ngcontent-%COMP%]{color:var(--dark-text-secondary)}.dark-theme[_nghost-%COMP%]   .user-role[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .user-role[_ngcontent-%COMP%]{color:var(--dark-text-muted)}.dark-theme[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--dark-text-color)}.dark-theme[_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--dark-text-color)}.dark-theme[_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--dark-text-secondary)}.dark-theme[_nghost-%COMP%]   .preference-description[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .preference-description[_ngcontent-%COMP%]{color:var(--dark-text-secondary)}.form-field[_ngcontent-%COMP%]{transition:all .3s ease}.form-field.mat-focused[_ngcontent-%COMP%]{transform:scale(1.02)}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}.loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@media (max-width: 640px){.form-grid[_ngcontent-%COMP%], .preferences-grid[_ngcontent-%COMP%], .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.user-info[_ngcontent-%COMP%], .action-card[_ngcontent-%COMP%], .preference-item[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}button[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width: 480px){.profile-container[_ngcontent-%COMP%]{padding:12px}.profile-header[_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%], .account-actions-section[_ngcontent-%COMP%]{padding:20px 16px}.user-name[_ngcontent-%COMP%]{font-size:22px}.avatar[_ngcontent-%COMP%]{width:50px;height:50px}.avatar-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.form-field[_ngcontent-%COMP%]{margin-bottom:8px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 16px}}@media (max-width: 768px) and (orientation: landscape){.profile-container[_ngcontent-%COMP%]{padding:16px}.header-content[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.avatar-section[_ngcontent-%COMP%], .header-actions[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%]{width:auto}}@media (max-width: 360px){.profile-container[_ngcontent-%COMP%]{padding:8px}.profile-header[_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%], .account-actions-section[_ngcontent-%COMP%]{padding:16px 12px}.user-name[_ngcontent-%COMP%]{font-size:20px}.avatar[_ngcontent-%COMP%]{width:45px;height:45px}.avatar-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15px}.action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 12px;font-size:14px}}@media (max-width: 768px){.mat-slide-toggle[_ngcontent-%COMP%]{min-height:48px}.action-btn[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{min-height:44px}.mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}}@media (min-width: 769px) and (max-width: 1024px){.form-grid[_ngcontent-%COMP%], .preferences-grid[_ngcontent-%COMP%], .actions-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]});let n=t;return n})();var tP="@firebase/installations",r1="0.6.9";var nP=1e4,iP=`w:${r1}`,rP="FIS_v2",CU="https://firebaseinstallations.googleapis.com/v1",bU=60*60*1e3,vU="installations",yU="Installations";var MU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xc=new Gg(vU,yU,MU);function aP(n){return n instanceof Vx&&n.code.includes("request-failed")}function oP({projectId:n}){return`${CU}/projects/${n}/installations`}function sP(n){return{token:n.token,requestStatus:2,expiresIn:OU(n.expiresIn),creationTime:Date.now()}}function cP(n,t){return ge(this,null,function*(){let e=(yield t.json()).error;return Xc.create("request-failed",{requestName:n,serverCode:e.code,serverMessage:e.message,serverStatus:e.status})})}function lP({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function PU(n,{refreshToken:t}){let i=lP(n);return i.append("Authorization",wU(t)),i}function dP(n){return ge(this,null,function*(){let t=yield n();return t.status>=500&&t.status<600?n():t})}function OU(n){return Number(n.replace("s","000"))}function wU(n){return`${rP} ${n}`}function SU(e,r){return ge(this,arguments,function*({appConfig:n,heartbeatServiceProvider:t},{fid:i}){let a=oP(n),o=lP(n),s=t.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}let d={fid:i,authVersion:rP,appId:n.appId,sdkVersion:iP},u={method:"POST",headers:o,body:JSON.stringify(d)},m=yield dP(()=>fetch(a,u));if(m.ok){let f=yield m.json();return{fid:f.fid||i,registrationStatus:2,refreshToken:f.refreshToken,authToken:sP(f.authToken)}}else throw yield cP("Create Installation",m)})}function gP(n){return new Promise(t=>{setTimeout(t,n)})}function kU(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var TU=/^[cdef][\w-]{21}$/,i1="";function EU(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let i=AU(n);return TU.test(i)?i:i1}catch{return i1}}function AU(n){return kU(n).substr(0,22)}function tp(n){return`${n.appName}!${n.appId}`}var uP=new Map;function mP(n,t){let i=tp(n);pP(i,t),IU(i,t)}function pP(n,t){let i=uP.get(n);if(i)for(let e of i)e(t)}function IU(n,t){let i=DU();i&&i.postMessage({key:n,fid:t}),FU()}var Hc=null;function DU(){return!Hc&&"BroadcastChannel"in self&&(Hc=new BroadcastChannel("[Firebase] FID Change"),Hc.onmessage=n=>{pP(n.data.key,n.data.fid)}),Hc}function FU(){uP.size===0&&Hc&&(Hc.close(),Hc=null)}var RU="firebase-installations-database",NU=1,qc="firebase-installations-store",t1=null;function a1(){return t1||(t1=Rd(RU,NU,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(qc)}}})),t1}function ep(n,t){return ge(this,null,function*(){let i=tp(n),r=(yield a1()).transaction(qc,"readwrite"),a=r.objectStore(qc),o=yield a.get(i);return yield a.put(t,i),yield r.done,(!o||o.fid!==t.fid)&&mP(n,t.fid),t})}function fP(n){return ge(this,null,function*(){let t=tp(n),e=(yield a1()).transaction(qc,"readwrite");yield e.objectStore(qc).delete(t),yield e.done})}function np(n,t){return ge(this,null,function*(){let i=tp(n),r=(yield a1()).transaction(qc,"readwrite"),a=r.objectStore(qc),o=yield a.get(i),s=t(o);return s===void 0?yield a.delete(i):yield a.put(s,i),yield r.done,s&&(!o||o.fid!==s.fid)&&mP(n,s.fid),s})}function o1(n){return ge(this,null,function*(){let t,i=yield np(n.appConfig,e=>{let r=LU(e),a=BU(n,r);return t=a.registrationPromise,a.installationEntry});return i.fid===i1?{installationEntry:yield t}:{installationEntry:i,registrationPromise:t}})}function LU(n){let t=n||{fid:EU(),registrationStatus:0};return hP(t)}function BU(n,t){if(t.registrationStatus===0){if(!navigator.onLine){let r=Promise.reject(Xc.create("app-offline"));return{installationEntry:t,registrationPromise:r}}let i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},e=VU(n,i);return{installationEntry:i,registrationPromise:e}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:$U(n)}:{installationEntry:t}}function VU(n,t){return ge(this,null,function*(){try{let i=yield SU(n,t);return ep(n.appConfig,i)}catch(i){throw aP(i)&&i.customData.serverCode===409?yield fP(n.appConfig):yield ep(n.appConfig,{fid:t.fid,registrationStatus:0}),i}})}function $U(n){return ge(this,null,function*(){let t=yield J2(n.appConfig);for(;t.registrationStatus===1;)yield gP(100),t=yield J2(n.appConfig);if(t.registrationStatus===0){let{installationEntry:i,registrationPromise:e}=yield o1(n);return e||i}return t})}function J2(n){return np(n,t=>{if(!t)throw Xc.create("installation-not-found");return hP(t)})}function hP(n){return jU(n)?{fid:n.fid,registrationStatus:0}:n}function jU(n){return n.registrationStatus===1&&n.registrationTime+nP<Date.now()}function zU(e,r){return ge(this,arguments,function*({appConfig:n,heartbeatServiceProvider:t},i){let a=YU(n,i),o=PU(n,i),s=t.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}let d={installation:{sdkVersion:iP,appId:n.appId}},u={method:"POST",headers:o,body:JSON.stringify(d)},m=yield dP(()=>fetch(a,u));if(m.ok){let f=yield m.json();return sP(f)}else throw yield cP("Generate Auth Token",m)})}function YU(n,{fid:t}){return`${oP(n)}/${t}/authTokens:generate`}function s1(n,t=!1){return ge(this,null,function*(){let i,e=yield np(n.appConfig,a=>{if(!_P(a))throw Xc.create("not-registered");let o=a.authToken;if(!t&&WU(o))return a;if(o.requestStatus===1)return i=UU(n,t),a;{if(!navigator.onLine)throw Xc.create("app-offline");let s=XU(a);return i=GU(n,s),s}});return i?yield i:e.authToken})}function UU(n,t){return ge(this,null,function*(){let i=yield eP(n.appConfig);for(;i.authToken.requestStatus===1;)yield gP(100),i=yield eP(n.appConfig);let e=i.authToken;return e.requestStatus===0?s1(n,t):e})}function eP(n){return np(n,t=>{if(!_P(t))throw Xc.create("not-registered");let i=t.authToken;return qU(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function GU(n,t){return ge(this,null,function*(){try{let i=yield zU(n,t),e=Object.assign(Object.assign({},t),{authToken:i});return yield ep(n.appConfig,e),i}catch(i){if(aP(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))yield fP(n.appConfig);else{let e=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield ep(n.appConfig,e)}throw i}})}function _P(n){return n!==void 0&&n.registrationStatus===2}function WU(n){return n.requestStatus===2&&!HU(n)}function HU(n){let t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+bU}function XU(n){let t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function qU(n){return n.requestStatus===1&&n.requestTime+nP<Date.now()}function KU(n){return ge(this,null,function*(){let t=n,{installationEntry:i,registrationPromise:e}=yield o1(t);return e?e.catch(console.error):s1(t).catch(console.error),i.fid})}function ZU(n,t=!1){return ge(this,null,function*(){let i=n;return yield QU(i),(yield s1(i,t)).token})}function QU(n){return ge(this,null,function*(){let{registrationPromise:t}=yield o1(n);t&&(yield t)})}function JU(n){if(!n||!n.options)throw n1("App Configuration");if(!n.name)throw n1("App Name");let t=["projectId","apiKey","appId"];for(let i of t)if(!n.options[i])throw n1(i);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function n1(n){return Xc.create("missing-app-config-values",{valueName:n})}var xP="installations",eG="installations-internal",tG=n=>{let t=n.getProvider("app").getImmediate(),i=JU(t),e=Nd(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:e,_delete:()=>Promise.resolve()}},nG=n=>{let t=n.getProvider("app").getImmediate(),i=Nd(t,xP).getImmediate();return{getId:()=>KU(i),getToken:r=>ZU(i,r)}};function iG(){yl(new vl(xP,tG,"PUBLIC")),yl(new vl(eG,nG,"PRIVATE"))}iG();Ds(tP,r1);Ds(tP,r1,"esm2017");var rG="/firebase-messaging-sw.js",aG="/firebase-cloud-messaging-push-scope",PP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",oG="https://fcmregistrations.googleapis.com/v1",OP="google.c.a.c_id",sG="google.c.a.c_l",cG="google.c.a.ts",lG="google.c.a.e";var ip=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(ip||{});function xs(n){let t=new Uint8Array(n);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dG(n){let t="=".repeat((4-n.length%4)%4),i=(n+t).replace(/\-/g,"+").replace(/_/g,"/"),e=atob(i),r=new Uint8Array(e.length);for(let a=0;a<e.length;++a)r[a]=e.charCodeAt(a);return r}var c1="fcm_token_details_db",gG=5,CP="fcm_token_object_Store";function uG(n){return ge(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(c1))return null;let t=null;return(yield Rd(c1,gG,{upgrade:(e,r,a,o)=>ge(this,null,function*(){var s;if(r<2||!e.objectStoreNames.contains(CP))return;let d=o.objectStore(CP),u=yield d.index("fcmSenderId").get(n);if(yield d.clear(),!!u){if(r===2){let m=u;if(!m.auth||!m.p256dh||!m.endpoint)return;t={token:m.fcmToken,createTime:(s=m.createTime)!==null&&s!==void 0?s:Date.now(),subscriptionOptions:{auth:m.auth,p256dh:m.p256dh,endpoint:m.endpoint,swScope:m.swScope,vapidKey:typeof m.vapidKey=="string"?m.vapidKey:xs(m.vapidKey)}}}else if(r===3){let m=u;t={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:xs(m.auth),p256dh:xs(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:xs(m.vapidKey)}}}else if(r===4){let m=u;t={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:xs(m.auth),p256dh:xs(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:xs(m.vapidKey)}}}}})})).close(),yield Hg(c1),yield Hg("fcm_vapid_details_db"),yield Hg("undefined"),mG(t)?t:null})}function mG(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:t}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}var pG="firebase-messaging-database",fG=1,D0="firebase-messaging-store",l1=null;function wP(){return l1||(l1=Rd(pG,fG,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(D0)}}})),l1}function hG(n){return ge(this,null,function*(){let t=SP(n),e=yield(yield wP()).transaction(D0).objectStore(D0).get(t);if(e)return e;{let r=yield uG(n.appConfig.senderId);if(r)return yield u1(n,r),r}})}function u1(n,t){return ge(this,null,function*(){let i=SP(n),r=(yield wP()).transaction(D0,"readwrite");return yield r.objectStore(D0).put(t,i),yield r.done,t})}function SP({appConfig:n}){return n.appId}var _G={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Gr=new Gg("messaging","Messaging",_G);function xG(n,t){return ge(this,null,function*(){let i=yield p1(n),e=kP(t),r={method:"POST",headers:i,body:JSON.stringify(e)},a;try{a=yield(yield fetch(m1(n.appConfig),r)).json()}catch(o){throw Gr.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){let o=a.error.message;throw Gr.create("token-subscribe-failed",{errorInfo:o})}if(!a.token)throw Gr.create("token-subscribe-no-token");return a.token})}function CG(n,t){return ge(this,null,function*(){let i=yield p1(n),e=kP(t.subscriptionOptions),r={method:"PATCH",headers:i,body:JSON.stringify(e)},a;try{a=yield(yield fetch(`${m1(n.appConfig)}/${t.token}`,r)).json()}catch(o){throw Gr.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){let o=a.error.message;throw Gr.create("token-update-failed",{errorInfo:o})}if(!a.token)throw Gr.create("token-update-no-token");return a.token})}function bG(n,t){return ge(this,null,function*(){let e={method:"DELETE",headers:yield p1(n)};try{let a=yield(yield fetch(`${m1(n.appConfig)}/${t}`,e)).json();if(a.error){let o=a.error.message;throw Gr.create("token-unsubscribe-failed",{errorInfo:o})}}catch(r){throw Gr.create("token-unsubscribe-failed",{errorInfo:r==null?void 0:r.toString()})}})}function m1({projectId:n}){return`${oG}/projects/${n}/registrations`}function p1(i){return ge(this,arguments,function*({appConfig:n,installations:t}){let e=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${e}`})})}function kP({p256dh:n,auth:t,endpoint:i,vapidKey:e}){let r={web:{endpoint:i,auth:t,p256dh:n}};return e!==PP&&(r.web.applicationPubKey=e),r}var vG=7*24*60*60*1e3;function yG(n){return ge(this,null,function*(){let t=yield PG(n.swRegistration,n.vapidKey),i={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:t.endpoint,auth:xs(t.getKey("auth")),p256dh:xs(t.getKey("p256dh"))},e=yield hG(n.firebaseDependencies);if(e){if(OG(e.subscriptionOptions,i))return Date.now()>=e.createTime+vG?MG(n,{token:e.token,createTime:Date.now(),subscriptionOptions:i}):e.token;try{yield bG(n.firebaseDependencies,e.token)}catch(r){console.warn(r)}return bP(n.firebaseDependencies,i)}else return bP(n.firebaseDependencies,i)})}function MG(n,t){return ge(this,null,function*(){try{let i=yield CG(n.firebaseDependencies,t),e=Object.assign(Object.assign({},t),{token:i,createTime:Date.now()});return yield u1(n.firebaseDependencies,e),i}catch(i){throw i}})}function bP(n,t){return ge(this,null,function*(){let e={token:yield xG(n,t),createTime:Date.now(),subscriptionOptions:t};return yield u1(n,e),e.token})}function PG(n,t){return ge(this,null,function*(){let i=yield n.pushManager.getSubscription();return i||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dG(t)})})}function OG(n,t){let i=t.vapidKey===n.vapidKey,e=t.endpoint===n.endpoint,r=t.auth===n.auth,a=t.p256dh===n.p256dh;return i&&e&&r&&a}function vP(n){let t={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return wG(t,n),SG(t,n),kG(t,n),t}function wG(n,t){if(!t.notification)return;n.notification={};let i=t.notification.title;i&&(n.notification.title=i);let e=t.notification.body;e&&(n.notification.body=e);let r=t.notification.image;r&&(n.notification.image=r);let a=t.notification.icon;a&&(n.notification.icon=a)}function SG(n,t){t.data&&(n.data=t.data)}function kG(n,t){var i,e,r,a,o;if(!t.fcmOptions&&!(!((i=t.notification)===null||i===void 0)&&i.click_action))return;n.fcmOptions={};let s=(r=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&r!==void 0?r:(a=t.notification)===null||a===void 0?void 0:a.click_action;s&&(n.fcmOptions.link=s);let d=(o=t.fcmOptions)===null||o===void 0?void 0:o.analytics_label;d&&(n.fcmOptions.analyticsLabel=d)}function TG(n){return typeof n=="object"&&!!n&&OP in n}EG("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function EG(n,t){let i=[];for(let e=0;e<n.length;e++)i.push(n.charAt(e)),e<t.length&&i.push(t.charAt(e));return i.join("")}function AG(n){if(!n||!n.options)throw d1("App Configuration Object");if(!n.name)throw d1("App Name");let t=["projectId","apiKey","appId","messagingSenderId"],{options:i}=n;for(let e of t)if(!i[e])throw d1(e);return{appName:n.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function d1(n){return Gr.create("missing-app-config-values",{valueName:n})}var g1=class{constructor(t,i,e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let r=AG(t);this.firebaseDependencies={app:t,appConfig:r,installations:i,analyticsProvider:e}}_delete(){return Promise.resolve()}};function IG(n){return ge(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register(rG,{scope:aG}),n.swRegistration.update().catch(()=>{})}catch(t){throw Gr.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}})}function DG(n,t){return ge(this,null,function*(){if(!t&&!n.swRegistration&&(yield IG(n)),!(!t&&n.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Gr.create("invalid-sw-registration");n.swRegistration=t}})}function FG(n,t){return ge(this,null,function*(){t?n.vapidKey=t:n.vapidKey||(n.vapidKey=PP)})}function TP(n,t){return ge(this,null,function*(){if(!navigator)throw Gr.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Gr.create("permission-blocked");return yield FG(n,t==null?void 0:t.vapidKey),yield DG(n,t==null?void 0:t.serviceWorkerRegistration),yG(n)})}function RG(n,t,i){return ge(this,null,function*(){let e=NG(t);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(e,{message_id:i[OP],message_name:i[sG],message_time:i[cG],message_device_time:Math.floor(Date.now()/1e3)})})}function NG(n){switch(n){case ip.NOTIFICATION_CLICKED:return"notification_open";case ip.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function LG(n,t){return ge(this,null,function*(){let i=t.data;if(!i.isFirebaseMessaging)return;n.onMessageHandler&&i.messageType===ip.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(vP(i)):n.onMessageHandler.next(vP(i)));let e=i.data;TG(e)&&e[lG]==="1"&&(yield RG(n,i.messageType,e))})}var yP="@firebase/messaging",MP="0.12.12";var BG=n=>{let t=new g1(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",i=>LG(t,i)),t},VG=n=>{let t=n.getProvider("messaging").getImmediate();return{getToken:e=>TP(t,e)}};function $G(){yl(new vl("messaging",BG,"PUBLIC")),yl(new vl("messaging-internal",VG,"PRIVATE")),Ds(yP,MP),Ds(yP,MP,"esm2017")}function f1(){return ge(this,null,function*(){try{yield Lx()}catch{return!1}return typeof window<"u"&&Nx()&&Bx()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function jG(n,t){if(!navigator)throw Gr.create("only-available-in-window");return n.onMessageHandler=t,()=>{n.onMessageHandler=null}}function EP(n=zp()){return f1().then(t=>{if(!t)throw Gr.create("unsupported-browser")},t=>{throw Gr.create("indexed-db-unsupported")}),Nd(Wg(n),"messaging").getImmediate()}function AP(n,t){return ge(this,null,function*(){return n=Wg(n),TP(n,t)})}function IP(n,t){return n=Wg(n),jG(n,t)}$G();var F0=class{constructor(t){return t}},DP="messaging",h1=class{constructor(){return Yx(DP)}};var rp="__angularfire_symbol__messagingIsSupported",_1="__angularfire_symbol__messagingIsSupportedValue";globalThis[rp]||(globalThis[rp]=f1().then(n=>globalThis[_1]=n).catch(()=>globalThis[_1]=!1));var ap={async:()=>globalThis[rp],sync:()=>{let n=globalThis[_1];if(n===void 0)throw new Error(jx("Messaging"));return n}},x1=new Wa("angularfire2.messaging-instances");function zG(n,t){if(!ap.sync())return null;let i=zx(DP,n,t);return i&&new F0(i)}function YG(n){return(t,i)=>{if(!ap.sync())return null;let e=t.runOutsideAngular(()=>n(i));return new F0(e)}}var UG={provide:h1,deps:[[new Np,x1]]},GG={provide:F0,useFactory:zG,deps:[[new Np,x1],Gx]};function FP(n,...t){return Ds("angularfire",$x.full,"fcm"),sl([GG,UG,{provide:tx,useValue:ap.async,multi:!0},{provide:x1,useFactory:YG(n),multi:!0,deps:[Ji,j_,Ux,Wx,...t]}])}var Ane=ap.async;var Cd=Xg(EP,!0),C1=Xg(AP,!0),op=Xg(IP,!1);var sp=(()=>{let t=class t{constructor(e,r){this.ngZone=e,this.platformId=r,this.tokenSubject=new un(null),this.permissionSubject=new un("default"),this.notificationSubject=new un(null),this.swRegistration=null,this.token$=this.tokenSubject.asObservable(),this.permission$=this.permissionSubject.asObservable(),this.notifications$=this.notificationSubject.asObservable(),this.platformInfo=this.detectPlatform(),this.initializeMessagingWithoutPermission()}detectPlatform(){if(ws(this.platformId))return{isAndroid:!1,isIOS:!1,isChrome:!1,isSafari:!1,isFirefox:!1,isEdge:!1,isMobile:!1,isDesktop:!1,isPWA:!1,isStandalone:!1,supportsNotifications:!1,supportsServiceWorker:!1,supportsPushManager:!1};let e=navigator.userAgent,r=/Android/i.test(e),a=/iPad|iPhone|iPod/.test(e),o=/Chrome/.test(e)&&!/Edge/.test(e),s=/Safari/.test(e)&&!/Chrome/.test(e),d=/Firefox/.test(e),u=/Edge/.test(e),m=r||a||/webOS|BlackBerry|IEMobile|Opera Mini/i.test(e),f=!m,_=window.matchMedia("(display-mode: standalone)").matches,x=_||window.navigator.standalone===!0,v="Notification"in window,b="serviceWorker"in navigator,M="PushManager"in window;return{isAndroid:r,isIOS:a,isChrome:o,isSafari:s,isFirefox:d,isEdge:u,isMobile:m,isDesktop:f,isPWA:_,isStandalone:x,supportsNotifications:v,supportsServiceWorker:b,supportsPushManager:M}}getPlatformInfo(){return this.platformInfo}initializeMessagingWithoutPermission(){return ge(this,null,function*(){try{if(ws(this.platformId)){console.log("Skipping Firebase messaging initialization on server-side");return}if(!this.platformInfo.supportsNotifications){console.warn("This browser does not support notifications");return}if(!this.platformInfo.supportsServiceWorker){console.warn("Service Worker not supported");return}yield this.initializePlatformSpecific(),yield this.registerFirebaseMessagingSW(),this.messaging=Cd(),this.permissionSubject.next(Notification.permission),"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then(e=>{e.onchange=()=>{this.ngZone.run(()=>{this.permissionSubject.next(Notification.permission)})}}),op(this.messaging,e=>{this.ngZone.run(()=>ge(this,null,function*(){console.log("Foreground message received:",e),yield this.handleForegroundMessage(e)}))}),console.log("Firebase messaging initialized without automatic permission request")}catch(e){console.error("Failed to initialize Firebase messaging:",e)}})}initializeMessaging(){return ge(this,null,function*(){try{if(ws(this.platformId)){console.log("Skipping Firebase messaging initialization on server-side");return}if(!this.platformInfo.supportsNotifications){console.warn("This browser does not support notifications");return}if(!this.platformInfo.supportsServiceWorker){console.warn("Service Worker not supported");return}yield this.initializePlatformSpecific(),yield this.registerFirebaseMessagingSW(),this.messaging=Cd(),this.permissionSubject.next(Notification.permission),"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then(e=>{e.onchange=()=>{this.ngZone.run(()=>{this.permissionSubject.next(Notification.permission)})}}),op(this.messaging,e=>{this.ngZone.run(()=>ge(this,null,function*(){console.log("Foreground message received:",e),yield this.handleForegroundMessage(e)}))}),yield this.requestPermission()}catch(e){console.error("Failed to initialize Firebase messaging:",e)}})}initializePlatformSpecific(){return ge(this,null,function*(){console.log("Platform info:",this.platformInfo),this.platformInfo.isIOS&&(console.log("Initializing for iOS platform"),yield this.initializeIOS()),this.platformInfo.isAndroid&&(console.log("Initializing for Android platform"),yield this.initializeAndroid()),this.platformInfo.isChrome&&this.platformInfo.isDesktop&&(console.log("Initializing for Chrome desktop platform"),yield this.initializeChromeDesktop()),this.platformInfo.isSafari&&(console.log("Initializing for Safari platform"),yield this.initializeSafari())})}initializeIOS(){return ge(this,null,function*(){this.platformInfo.isStandalone||console.warn("iOS notifications work best when app is added to home screen");let e=this.getIOSVersion();e&&e<14&&console.warn("iOS version may have limited notification support")})}initializeAndroid(){return ge(this,null,function*(){let e=this.getChromeVersion();e&&e<79&&console.warn("Chrome version may have limited notification support");let r=this.getAndroidVersion();r&&r<6&&console.warn("Android version may have limited notification support")})}initializeChromeDesktop(){return ge(this,null,function*(){let e=this.getChromeVersion();e&&e<79&&console.warn("Chrome version may have limited notification support")})}initializeSafari(){return ge(this,null,function*(){let e=this.getSafariVersion();e&&e<16.4&&console.warn("Safari version may have limited notification support")})}getIOSVersion(){let e=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return e?parseInt(e[1],10):null}getAndroidVersion(){let e=navigator.userAgent.match(/Android (\d+)/);return e?parseInt(e[1],10):null}getChromeVersion(){let e=navigator.userAgent.match(/Chrome\/(\d+)/);return e?parseInt(e[1],10):null}getSafariVersion(){let e=navigator.userAgent.match(/Version\/(\d+)/);return e?parseInt(e[1],10):null}registerFirebaseMessagingSW(){return ge(this,null,function*(){try{let r=(yield navigator.serviceWorker.getRegistrations()).find(o=>{var s;return o.scope.includes(vi.serviceWorkerScope)||((s=o.active)==null?void 0:s.scriptURL.includes(vi.serviceWorkerScope+"firebase-messaging-sw.js"))});if(r){console.log("Firebase messaging service worker already registered"),this.swRegistration=r;return}let a=this.getServiceWorkerOptions();console.log("Registering Firebase messaging service worker..."),this.swRegistration=yield navigator.serviceWorker.register(vi.serviceWorkerScope+"firebase-messaging-sw.js",a),console.log("Firebase messaging service worker registered successfully:",this.swRegistration),yield this.swRegistration.update()}catch(e){throw console.error("Failed to register Firebase messaging service worker:",e),e}})}getServiceWorkerOptions(){let e={scope:vi.serviceWorkerScope};return this.platformInfo.isIOS||this.platformInfo.isAndroid||this.platformInfo.isChrome&&this.platformInfo.isDesktop,e}handleForegroundMessage(e){return ge(this,null,function*(){var a,o,s,d,u,m,f,_,x;let r={title:((a=e.notification)==null?void 0:a.title)||"New Notification",body:((o=e.notification)==null?void 0:o.body)||"",icon:this.getPlatformSpecificIcon((s=e.notification)==null?void 0:s.icon),badge:this.getPlatformSpecificBadge((d=e.notification)==null?void 0:d.badge),image:(u=e.notification)==null?void 0:u.image,data:e.data||{},tag:(m=e.notification)==null?void 0:m.tag,requireInteraction:((f=e.notification)==null?void 0:f.requireInteraction)||!1,silent:((_=e.notification)==null?void 0:_.silent)||!1,timestamp:((x=e.notification)==null?void 0:x.timestamp)||Date.now()};this.notificationSubject.next(r),yield this.showNotification(r)})}getPlatformSpecificIcon(e){return e||(this.platformInfo.isIOS?vi.baseUrl+"/assets/icon/app-icon/icon-152x152.png":this.platformInfo.isAndroid?vi.baseUrl+"/assets/icon/app-icon/icon-192x192.png":vi.baseUrl+"/assets/icon/app-icon/icon-192x192.png")}getPlatformSpecificBadge(e){return e||(this.platformInfo.isIOS||this.platformInfo.isAndroid,"/icons/icon-72x72.png")}requestPermission(){return ge(this,null,function*(){try{if(!this.platformInfo.supportsNotifications)throw new Error("Notifications not supported");let e=yield this.requestPlatformSpecificPermission();return this.permissionSubject.next(e),e==="granted"&&(yield this.getToken()),e}catch(e){return console.error("Error requesting notification permission:",e),"denied"}})}requestPlatformSpecificPermission(){return ge(this,null,function*(){return this.platformInfo.isSafari?(console.log("Requesting permission for Safari"),Notification.requestPermission()):this.platformInfo.isAndroid?(console.log("Requesting permission for Android Chrome"),Notification.requestPermission()):(this.platformInfo.isChrome&&this.platformInfo.isDesktop&&console.log("Requesting permission for Chrome desktop"),Notification.requestPermission())})}getToken(){return ge(this,null,function*(){try{if(!this.messaging)return console.warn("Messaging not initialized"),null;this.swRegistration&&(yield this.swRegistration.update());let e=this.getPlatformSpecificTokenOptions(),r=yield C1(this.messaging,e);return r?(this.tokenSubject.next(r),localStorage.setItem("fcm-token",r),r):(console.warn("No registration token available"),null)}catch(e){return console.error("Error getting FCM token:",e),null}})}getPlatformSpecificTokenOptions(){let e={vapidKey:vi.vapidKey,serviceWorkerRegistration:this.swRegistration||void 0};return this.platformInfo.isIOS||this.platformInfo.isAndroid||this.platformInfo.isChrome&&this.platformInfo.isDesktop,e}refreshToken(){return ge(this,null,function*(){try{if(!this.messaging)return null;let e=yield C1(this.messaging,{vapidKey:vi.vapidKey,serviceWorkerRegistration:this.swRegistration||void 0});return e?(this.tokenSubject.next(e),localStorage.setItem("fcm-token",e),e):null}catch(e){return console.error("Error refreshing FCM token:",e),null}})}showNotification(e){return ge(this,null,function*(){if(Notification.permission!=="granted"){console.warn("Notification permission not granted");return}this.platformInfo.isMobile||this.platformInfo.isAndroid?yield this.showNotificationViaServiceWorker(e):this.showNotificationDirect(e)})}showNotificationViaServiceWorker(e){return ge(this,null,function*(){try{if(!this.swRegistration){console.warn("Service Worker not registered, falling back to direct notification"),this.showNotificationDirect(e);return}if(!this.swRegistration.active&&(console.warn("Service Worker not active, waiting for activation..."),yield this.swRegistration.update(),!this.swRegistration.active)){console.warn("Service Worker still not active, falling back to direct notification"),this.showNotificationDirect(e);return}let r={type:"SHOW_NOTIFICATION",notification:{title:e.title,body:e.body,icon:e.icon,badge:e.badge,image:e.image,data:e.data,tag:e.tag,requireInteraction:e.requireInteraction,silent:e.silent,timestamp:e.timestamp,actions:e.actions}};this.swRegistration.active.postMessage(r),console.log("Notification request sent to Service Worker")}catch(r){console.error("Error showing notification via Service Worker:",r),this.showNotificationDirect(e)}})}showNotificationDirect(e){try{let r={body:e.body,icon:e.icon,badge:e.badge,data:e.data,tag:e.tag,requireInteraction:e.requireInteraction,silent:e.silent},a=new Notification(e.title,r);a.onclick=o=>{o.preventDefault(),this.handleNotificationClick(e,o),a.close()},e.requireInteraction||setTimeout(()=>{a.close()},5e3),console.log("Notification shown directly")}catch(r){console.error("Error showing direct notification:",r)}}handleNotificationClick(e,r){var a,o;console.log("Notification clicked:",e),window.focus&&window.focus(),(a=e.data)!=null&&a.url?window.open(e.data.url,"_blank"):(o=e.data)!=null&&o.route&&(window.location.href=e.data.route),this.notificationSubject.next(de(ce({},e),{data:de(ce({},e.data),{action:"click"})}))}handleNotificationAction(e,r){var a;switch(console.log("Notification action clicked:",r.action,e),r.action){case"view":this.handleNotificationClick(e,r);break;case"dismiss":break;default:(a=e.data)!=null&&a.actionUrl&&window.open(e.data.actionUrl,"_blank")}this.notificationSubject.next(de(ce({},e),{data:de(ce({},e.data),{action:r.action})}))}getStoredToken(){return localStorage.getItem("fcm-token")}clearStoredToken(){localStorage.removeItem("fcm-token"),this.tokenSubject.next(null)}isSupported(){return this.platformInfo.supportsNotifications&&this.platformInfo.supportsServiceWorker}isPlatformSupported(){if(this.platformInfo.isAndroid||this.platformInfo.isChrome&&this.platformInfo.isDesktop)return!0;if(this.platformInfo.isIOS){let e=this.getIOSVersion();return e?e>=14:!1}if(this.platformInfo.isSafari){let e=this.getSafariVersion();return e?e>=16.4:!1}return!1}getPlatformSupportInfo(){if(this.platformInfo.isAndroid)return"Excellent support on Android Chrome";if(this.platformInfo.isChrome&&this.platformInfo.isDesktop)return"Excellent support on Chrome desktop";if(this.platformInfo.isIOS){let e=this.getIOSVersion();return e&&e>=14?"Good support on iOS (requires home screen installation for best results)":"Limited support on iOS (requires iOS 14+ and home screen installation)"}if(this.platformInfo.isSafari){let e=this.getSafariVersion();return e&&e>=16.4?"Good support on Safari 16.4+":"Limited support on Safari (requires Safari 16.4+)"}return"Limited or no support on this platform"}getServiceWorkerRegistration(){return this.swRegistration}initializeMessagingWithPermission(){return ge(this,null,function*(){yield this.initializeMessaging()})}sendTestNotification(){return ge(this,null,function*(){let e={title:"Test Notification",body:"This is a test notification from Money Manager",icon:vi.baseUrl+"/assets/icons/icon-192x192.png",badge:vi.baseUrl+"/assets/icons/icon-72x72.png",data:{type:"test",timestamp:Date.now().toString()},actions:[{action:"view",title:"View"},{action:"dismiss",title:"Dismiss"}]};yield this.showNotification(e)})}listenForMessages(){let e=Cd();op(e,r=>{console.log("Message received: ",r),alert("Message received: "+r)})}};t.\u0275fac=function(r){return new(r||t)(Ne(Ji),Ne(Ps))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function WG(n,t){n&1&&oe(0,"div",35)}function HG(n,t){if(n&1){let i=ue();c(0,"button",33),R("click",function(){j(i);let r=y();return z(r.requestPermission())}),c(1,"span",30),g(2,"\u{1F514}"),l(),c(3,"span",31),g(4,"Enable Notifications"),l(),L(5,WG,1,0,"div",34),l()}if(n&2){let i=y();O("disabled",i.isLoading),p(5),O("ngIf",i.isLoading)}}function XG(n,t){if(n&1){let i=ue();c(0,"button",36),R("click",function(){j(i);let r=y();return z(r.openPermissionHelp())}),c(1,"span",30),g(2,"\u2753"),l(),c(3,"span",31),g(4,"How to Enable"),l()()}}function qG(n,t){n&1&&oe(0,"div",35)}function KG(n,t){if(n&1){let i=ue();c(0,"button",37),R("click",function(){j(i);let r=y();return z(r.testNotification())}),c(1,"span",30),g(2,"\u{1F4E4}"),l(),c(3,"span",31),g(4,"Test Notification"),l(),L(5,qG,1,0,"div",34),l()}if(n&2){let i=y();O("disabled",i.isLoading),p(5),O("ngIf",i.isLoading)}}function ZG(n,t){if(n&1){let i=ue();c(0,"div",41)(1,"div",42)(2,"div",43)(3,"span",13),g(4),l()(),c(5,"div",44)(6,"h4"),g(7),l(),c(8,"p"),g(9),l()()(),c(10,"mat-slide-toggle",45),R("change",function(r){let a=j(i).$implicit,o=y(2);return z(o.toggleNotificationType(a.key,r))}),l()()}if(n&2){let i=t.$implicit;p(4),V(i.icon),p(3),V(i.title),p(2),V(i.description),p(),O("checked",i.enabled)}}function QG(n,t){if(n&1&&(c(0,"div",38)(1,"div",27)(2,"h3"),g(3,"Notification Types"),l(),c(4,"p"),g(5,"Choose which types of notifications you want to receive"),l()(),c(6,"div",39),L(7,ZG,11,4,"div",40),l()()),n&2){let i=y();p(7),O("ngForOf",i.notificationTypes)}}function JG(n,t){n&1&&oe(0,"div",35)}function eW(n,t){if(n&1){let i=ue();c(0,"div",46)(1,"div",27)(2,"h3"),g(3,"Device Token"),l(),c(4,"p"),g(5,"Your device registration for push notifications"),l()(),c(6,"div",47)(7,"div",48)(8,"div",49),g(9,"Device Token:"),l(),c(10,"div",50)(11,"code"),g(12),l(),c(13,"button",51),R("click",function(){j(i);let r=y();return z(r.copyToken())}),c(14,"span",13),g(15,"\u{1F4CB}"),l()()()(),c(16,"button",52),R("click",function(){j(i);let r=y();return z(r.refreshToken())}),c(17,"span",30),g(18,"\u{1F504}"),l(),c(19,"span",31),g(20,"Refresh Token"),l(),L(21,JG,1,0,"div",34),l()()()}if(n&2){let i=y();p(12),V(i.fcmToken),p(4),O("disabled",i.isLoading),p(5),O("ngIf",i.isLoading)}}function tW(n,t){if(n&1){let i=ue();c(0,"div",55)(1,"div",56)(2,"div",57)(3,"span",13),g(4),l()(),c(5,"div",58)(6,"h4"),g(7),l(),c(8,"p"),g(9),l()()(),c(10,"mat-slide-toggle",59),R("change",function(r){let a=j(i).$implicit,o=y(2);return z(o.updateSetting(a.key,r))}),l()()}if(n&2){let i=t.$implicit,e=y(2);p(4),V(i.icon),p(3),V(i.title),p(2),V(i.description),p(),O("checked",e.getSettingValue(i.key))}}function nW(n,t){if(n&1&&(c(0,"div",38)(1,"div",27)(2,"h3"),g(3,"Advanced Settings"),l(),c(4,"p"),g(5,"Customize notification behavior"),l()(),c(6,"div",53),L(7,tW,11,4,"div",54),l()()),n&2){let i=y();p(7),O("ngForOf",i.advancedSettings)}}function iW(n,t){n&1&&(c(0,"div",60)(1,"div",61)(2,"div",62)(3,"span",13),g(4,"\u{1F515}"),l()(),c(5,"h3"),g(6,"Notifications Disabled"),l(),c(7,"p"),g(8,"Enable the master toggle above to configure your notification preferences."),l()()())}function rW(n,t){if(n&1&&(c(0,"div",63)(1,"h4"),g(2,"Debug Information"),l(),c(3,"pre"),g(4),se(5,"json"),l()()),n&2){let i=y();p(4),V(pe(5,1,i.debugInfo))}}var NP=(()=>{let t=class t{constructor(e,r){this.messagingService=e,this.notificationService=r,this.destroy$=new It,this.APP_CONFIG=Ut,this.permissionStatus="default",this.fcmToken=null,this.isLoading=!1,this.notificationsEnabled=!0,this.debugInfo={},this.notificationTypes=[{key:"transactions",title:"Transaction Alerts",description:"Get notified about new transactions and spending limits",icon:"\u{1F4B0}",enabled:!0},{key:"budgets",title:"Budget Reminders",description:"Receive alerts when approaching budget limits",icon:"\u{1F4B3}",enabled:!0},{key:"goals",title:"Goal Updates",description:"Track progress on your financial goals",icon:"\u{1F3AF}",enabled:!0},{key:"bills",title:"Bill Reminders",description:"Never miss a bill payment",icon:"\u{1F4C5}",enabled:!0},{key:"security",title:"Security Alerts",description:"Important security notifications",icon:"\u{1F512}",enabled:!0}],this.advancedSettings=[{key:"soundEnabled",title:"Sound",description:"Play sound for notifications",icon:"\u{1F50A}",value:!0},{key:"vibrationEnabled",title:"Vibration",description:"Vibrate device for notifications",icon:"\u{1F4F3}",value:!0},{key:"requireInteraction",title:"Require Interaction",description:"Keep notifications until user interacts",icon:"\u{1F446}",value:!1}]}ngOnInit(){this.loadSettings(),this.subscribeToMessagingEvents(),this.collectDebugInfo()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadSettings(){this.notificationTypes.forEach(r=>{let a=localStorage.getItem(`notification_${r.key}`);r.enabled=a?JSON.parse(a):!0}),this.advancedSettings.forEach(r=>{let a=localStorage.getItem(`notification_advanced_${r.key}`);r.value=a?JSON.parse(a):r.value});let e=localStorage.getItem("notifications_enabled");this.notificationsEnabled=e?JSON.parse(e):!0}saveSettings(){this.notificationTypes.forEach(e=>{localStorage.setItem(`notification_${e.key}`,JSON.stringify(e.enabled))}),this.advancedSettings.forEach(e=>{localStorage.setItem(`notification_advanced_${e.key}`,JSON.stringify(e.value))}),localStorage.setItem("notifications_enabled",JSON.stringify(this.notificationsEnabled))}subscribeToMessagingEvents(){this.messagingService.permission$.pipe(bt(this.destroy$)).subscribe(e=>{this.permissionStatus=e,e==="denied"&&(this.notificationsEnabled=!1,this.saveNotificationsEnabled())}),this.messagingService.token$.pipe(bt(this.destroy$)).subscribe(e=>{this.fcmToken=e,this.collectDebugInfo()})}collectDebugInfo(){this.debugInfo={browser:navigator.userAgent,serviceWorker:"serviceWorker"in navigator,notifications:"Notification"in window,permission:Notification.permission,fcmToken:this.fcmToken,swRegistration:this.messagingService.getServiceWorkerRegistration(),isSupported:this.messagingService.isSupported(),storedToken:this.messagingService.getStoredToken(),timestamp:new Date().toISOString()}}requestPermission(){return ge(this,null,function*(){this.isLoading=!0;try{yield this.messagingService.initializeMessagingWithPermission();let e=yield this.messagingService.requestPermission();console.log("Permission result:",e),e==="granted"?(this.notificationsEnabled=!0,this.saveNotificationsEnabled(),this.notificationService.success("Notifications enabled successfully!")):this.notificationService.error("Notification permission denied")}catch(e){console.error("Error requesting permission:",e),this.notificationService.error("Failed to request notification permission")}finally{this.isLoading=!1}})}testNotification(){return ge(this,null,function*(){this.isLoading=!0;try{this.messagingService.sendTestNotification(),this.notificationService.success("Test notification sent!")}catch(e){console.error("Error sending test notification:",e),this.notificationService.error("Failed to send test notification")}finally{this.isLoading=!1}})}refreshToken(){return ge(this,null,function*(){this.isLoading=!0;try{(yield this.messagingService.refreshToken())?this.notificationService.success("Token refreshed successfully!"):this.notificationService.error("Failed to refresh token")}catch(e){console.error("Error refreshing token:",e),this.notificationService.error("Failed to refresh token")}finally{this.isLoading=!1}})}copyToken(){this.fcmToken&&navigator.clipboard.writeText(this.fcmToken).then(()=>{this.notificationService.success("Token copied to clipboard!")}).catch(()=>{this.notificationService.error("Failed to copy token")})}toggleMasterNotifications(e){this.notificationsEnabled=e.checked,this.saveNotificationsEnabled(),this.notificationsEnabled&&this.permissionStatus==="default"&&this.requestPermission()}toggleNotificationType(e,r){let a=this.notificationTypes.find(o=>o.key===e);a&&(a.enabled=r.checked,this.saveSettings())}updateSetting(e,r){let a=this.advancedSettings.find(o=>o.key===e);a&&(a.value=r.checked,this.saveSettings())}getSettingValue(e){let r=this.advancedSettings.find(a=>a.key===e);return r?r.value:!1}saveNotificationsEnabled(){localStorage.setItem("notifications_enabled",JSON.stringify(this.notificationsEnabled))}getStatusIcon(){switch(this.permissionStatus){case"granted":return"\u2705";case"denied":return"\u274C";default:return"\u2753"}}getPermissionText(){switch(this.permissionStatus){case"granted":return"Granted";case"denied":return"Denied";default:return"Not Set"}}openPermissionHelp(){alert(`
To enable notifications:
1. Click the lock/info icon in your browser's address bar
2. Find "Notifications" in the site settings
3. Change it from "Block" to "Allow"
4. Refresh the page
    `)}debugServiceWorker(){return ge(this,null,function*(){var e,r;try{let a=yield navigator.serviceWorker.getRegistrations();console.log("All service worker registrations:",a);let o=a.find(s=>{var d;return s.scope.includes(vi.serviceWorkerScope)||((d=s.active)==null?void 0:d.scriptURL.includes(vi.serviceWorkerScope+"firebase-messaging-sw.js"))});o?(console.log("Firebase SW found:",o),console.log("Firebase SW state:",(e=o.active)==null?void 0:e.state),console.log("Firebase SW script URL:",(r=o.active)==null?void 0:r.scriptURL)):console.log("No Firebase service worker found"),this.collectDebugInfo(),console.log("Debug info:",this.debugInfo)}catch(a){console.error("Debug error:",a)}})}forceServiceWorkerRegistration(){return ge(this,null,function*(){try{let r=(yield navigator.serviceWorker.getRegistrations()).find(a=>a.scope.includes(vi.serviceWorkerScope));r&&(yield r.unregister(),console.log("Unregistered existing Firebase SW")),setTimeout(()=>ge(this,null,function*(){yield this.messagingService.refreshToken(),this.collectDebugInfo()}),1e3)}catch(e){console.error("Force registration error:",e)}})}};t.\u0275fac=function(r){return new(r||t)(W(sp),W(Ct))},t.\u0275cmp=Le({type:t,selectors:[["app-notification-settings"]],decls:57,vars:20,consts:[[1,"notification-settings"],[1,"settings-header"],[1,"header-content"],[1,"header-text"],[1,"master-toggle-container"],["color","accent",1,"master-toggle",3,"change","checked","disabled"],[1,"toggle-icon"],[1,"master-label"],[1,"settings-content"],[1,"setting-section","permission-card"],[1,"card-header"],[1,"header-left"],[1,"status-icon"],[1,"icon"],[1,"header-info"],[1,"status-text"],[1,"permission-badge"],[1,"card-content"],[1,"description"],[1,"action-buttons"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["class","btn btn-warn",3,"click",4,"ngIf"],["class","btn btn-accent",3,"disabled","click",4,"ngIf"],["class","setting-section",4,"ngIf"],["class","setting-section token-card",4,"ngIf"],["class","setting-section disabled-state",4,"ngIf"],[1,"setting-section","debug-section"],[1,"section-header"],[1,"debug-buttons"],[1,"btn","btn-secondary",3,"click"],[1,"btn-icon"],[1,"btn-text"],["class","debug-info",4,"ngIf"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn-loader",4,"ngIf"],[1,"btn-loader"],[1,"btn","btn-warn",3,"click"],[1,"btn","btn-accent",3,"click","disabled"],[1,"setting-section"],[1,"notification-types"],["class","notification-type",4,"ngFor","ngForOf"],[1,"notification-type"],[1,"type-content"],[1,"type-icon"],[1,"type-info"],["color","primary",3,"change","checked"],[1,"setting-section","token-card"],[1,"token-container"],[1,"token-display"],[1,"token-label"],[1,"token-value"],["title","Copy token",1,"copy-btn",3,"click"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"advanced-settings"],["class","setting-item",4,"ngFor","ngForOf"],[1,"setting-item"],[1,"setting-content"],[1,"setting-icon"],[1,"setting-info"],["color","accent",3,"change","checked"],[1,"setting-section","disabled-state"],[1,"disabled-content"],[1,"disabled-icon"],[1,"debug-info"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),g(5,"Notification Settings"),l(),c(6,"p"),g(7,"Manage your push notification preferences"),l()(),c(8,"div",4)(9,"mat-slide-toggle",5),R("change",function(s){return a.toggleMasterNotifications(s)}),c(10,"span",6),g(11),l()(),c(12,"span",7),g(13),l()()()(),c(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"span",13),g(20),l()(),c(21,"div",14)(22,"h3"),g(23,"Notification Permission"),l(),c(24,"p",15),g(25),l()()(),c(26,"div",16),g(27),l()(),c(28,"div",17)(29,"p",18),g(30),l(),c(31,"div",19),L(32,HG,6,2,"button",20)(33,XG,5,0,"button",21)(34,KG,6,2,"button",22),l()()(),L(35,QG,8,1,"div",23)(36,eW,22,3,"div",24)(37,nW,8,1,"div",23)(38,iW,9,0,"div",25),c(39,"div",26)(40,"div",27)(41,"h3"),g(42,"Debug Tools"),l(),c(43,"p"),g(44,"Tools to help troubleshoot notification issues"),l()(),c(45,"div",28)(46,"button",29),R("click",function(){return a.debugServiceWorker()}),c(47,"span",30),g(48,"\u{1F50D}"),l(),c(49,"span",31),g(50,"Debug Service Worker"),l()(),c(51,"button",29),R("click",function(){return a.forceServiceWorkerRegistration()}),c(52,"span",30),g(53,"\u{1F504}"),l(),c(54,"span",31),g(55,"Force Re-registration"),l()()(),L(56,rW,6,3,"div",32),l()()()),r&2&&(p(9),O("checked",a.notificationsEnabled)("disabled",a.permissionStatus==="denied"),p(2),V(a.notificationsEnabled?"\u{1F514}":"\u{1F515}"),p(2),V(a.notificationsEnabled?"Enabled":"Disabled"),p(5),Tt(a.permissionStatus),p(2),V(a.getStatusIcon()),p(5),V(a.getPermissionText()),p(),Tt(a.permissionStatus),p(),ee(" ",a.getPermissionText()," "),p(3),ee(" Allow ",a.APP_CONFIG.APP_NAME," to send you notifications about important updates and reminders. "),p(2),O("ngIf",a.permissionStatus==="default"),p(),O("ngIf",a.permissionStatus==="denied"),p(),O("ngIf",a.permissionStatus==="granted"),p(),O("ngIf",a.permissionStatus==="granted"&&a.notificationsEnabled),p(),O("ngIf",a.permissionStatus==="granted"&&a.fcmToken&&a.notificationsEnabled),p(),O("ngIf",a.permissionStatus==="granted"&&a.notificationsEnabled),p(),O("ngIf",!a.notificationsEnabled),p(18),O("ngIf",a.debugInfo))},dependencies:[nr,ct,Aa,rx],styles:[".notification-settings[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:24px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.settings-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color, #3b82f6) 0%,var(--accent-color, #8b5cf6) 100%);border-radius:16px;padding:32px;margin-bottom:32px;color:#fff;box-shadow:0 8px 32px #3b82f64d}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:24px}.header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin:0 0 8px;color:#fff}.header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:0;opacity:.9}.master-toggle-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.toggle-icon[_ngcontent-%COMP%]{font-size:18px;z-index:1}.master-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;opacity:.9}.setting-section[_ngcontent-%COMP%]{background:var(--surface-color, #ffffff);border:1px solid var(--border-color, #e2e8f0);border-radius:16px;padding:24px;margin-bottom:24px;box-shadow:0 2px 8px #0000000d;transition:all .2s ease}.setting-section[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0000001a;transform:translateY(-1px)}.permission-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border:2px solid var(--primary-color, #3b82f6)}.token-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);border:2px solid #f59e0b}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.status-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px}.status-icon.granted[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-icon.denied[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.status-icon.default[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.header-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 4px}.status-text[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0}.permission-badge[_ngcontent-%COMP%]{padding:8px 16px;border-radius:20px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.permission-badge.granted[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.permission-badge.denied[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.permission-badge.default[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.section-header[_ngcontent-%COMP%]{margin-bottom:24px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 8px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0}.card-content[_ngcontent-%COMP%]{margin-bottom:20px}.description[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0 0 20px;line-height:1.6}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;gap:8px;padding:12px 24px;border:none;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;text-decoration:none;min-width:140px;justify-content:center}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color, #3b82f6);color:#fff;box-shadow:0 4px 12px #3b82f64d}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-color-dark, #2563eb);transform:translateY(-1px);box-shadow:0 6px 16px #3b82f666}.btn-secondary[_ngcontent-%COMP%]{background:var(--surface-hover-color, #f1f5f9);color:var(--text-color, #1e293b);border:1px solid var(--border-color, #e2e8f0)}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--surface-hover-color-dark, #e2e8f0);transform:translateY(-1px)}.btn-warn[_ngcontent-%COMP%]{background:var(--warn-color, #ef4444);color:#fff;box-shadow:0 4px 12px #ef44444d}.btn-warn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--warn-color-dark, #dc2626);transform:translateY(-1px);box-shadow:0 6px 16px #ef444466}.btn-accent[_ngcontent-%COMP%]{background:var(--accent-color, #8b5cf6);color:#fff;box-shadow:0 4px 12px #8b5cf64d}.btn-accent[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--accent-color-dark, #7c3aed);transform:translateY(-1px);box-shadow:0 6px 16px #8b5cf666}.btn-icon[_ngcontent-%COMP%]{font-size:16px}.btn-text[_ngcontent-%COMP%]{font-weight:600}.btn-loader[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.notification-types[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notification-type[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border:1px solid var(--border-color, #e2e8f0);border-radius:12px;background:var(--surface-hover-color, #f8fafc);transition:all .2s ease}.notification-type[_ngcontent-%COMP%]:hover{background:var(--surface-hover-color-dark, #f1f5f9);border-color:var(--primary-color, #3b82f6)}.type-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex:1}.type-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:var(--primary-color, #3b82f6);display:flex;align-items:center;justify-content:center;color:#fff;font-size:20px}.type-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 4px}.type-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0;line-height:1.4}.token-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.token-display[_ngcontent-%COMP%]{background:var(--surface-hover-color, #f8fafc);border:1px solid var(--border-color, #e2e8f0);border-radius:12px;padding:16px}.token-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-muted, #64748b);margin-bottom:8px;text-transform:uppercase;letter-spacing:.5px}.token-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.token-value[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{flex:1;font-family:Courier New,monospace;font-size:12px;color:var(--text-color, #1e293b);word-break:break-all;background:#0000000d;padding:8px 12px;border-radius:6px}.copy-btn[_ngcontent-%COMP%]{background:var(--primary-color, #3b82f6);color:#fff;border:none;padding:8px;border-radius:6px;cursor:pointer;transition:all .2s ease}.copy-btn[_ngcontent-%COMP%]:hover{background:var(--primary-color-dark, #2563eb);transform:scale(1.05)}.advanced-settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.setting-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border:1px solid var(--border-color, #e2e8f0);border-radius:12px;background:var(--surface-hover-color, #f8fafc);transition:all .2s ease}.setting-item[_ngcontent-%COMP%]:hover{background:var(--surface-hover-color-dark, #f1f5f9);border-color:var(--primary-color, #3b82f6)}.setting-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex:1}.setting-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:var(--accent-color, #8b5cf6);display:flex;align-items:center;justify-content:center;color:#fff;font-size:18px}.setting-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 4px}.setting-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0;line-height:1.4}  .mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{background-color:#cbd5e1;border-color:#cbd5e1}  .mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{background-color:var(--primary-color, #3b82f6)}  .mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{background-color:#fff;box-shadow:0 2px 4px #0003}  .mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked .mdc-switch .mdc-switch__track{background-color:var(--primary-color, #3b82f6);border-color:var(--primary-color, #3b82f6)}  .mat-mdc-slide-toggle .mdc-form-field .mdc-form-field__label{display:none}.notification-type[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]     .mdc-switch, .setting-item[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]     .mdc-switch{width:48px;height:24px}.disabled-state[_ngcontent-%COMP%]{text-align:center;padding:48px 24px}.disabled-content[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.disabled-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:var(--surface-hover-color, #f8fafc);display:flex;align-items:center;justify-content:center;margin:0 auto 24px;font-size:32px;color:var(--text-muted, #64748b)}.disabled-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 12px}.disabled-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0;line-height:1.5}@media (max-width: 768px){.notification-settings[_ngcontent-%COMP%]{padding:16px}.settings-header[_ngcontent-%COMP%]{padding:24px 20px}.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.setting-section[_ngcontent-%COMP%]{padding:20px}.card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.notification-type[_ngcontent-%COMP%], .setting-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.type-content[_ngcontent-%COMP%], .setting-content[_ngcontent-%COMP%]{width:100%}}"]});let n=t;return n})();function aW(n,t){if(n&1&&(c(0,"mat-error"),g(1),l()),n&2){let i=y();p(),V(i.getFieldError("name"))}}function oW(n,t){if(n&1&&(c(0,"mat-error"),g(1),l()),n&2){let i=y();p(),V(i.getFieldError("email"))}}function sW(n,t){if(n&1&&(c(0,"mat-error"),g(1),l()),n&2){let i=y();p(),V(i.getFieldError("subject"))}}function cW(n,t){if(n&1&&(c(0,"mat-option",39)(1,"div",40)(2,"mat-icon"),g(3),l(),c(4,"span"),g(5),l()()()),n&2){let i=t.$implicit;O("value",i.value),p(3),V(i.icon),p(2),V(i.label)}}function lW(n,t){if(n&1&&(c(0,"mat-error"),g(1),l()),n&2){let i=y();p(),V(i.getFieldError("category"))}}function dW(n,t){if(n&1&&(c(0,"mat-option",39)(1,"div",41),oe(2,"div",42),c(3,"span"),g(4),l()()()),n&2){let i=t.$implicit;O("value",i.value),p(2),kt("background-color",i.color),p(2),V(i.label)}}function gW(n,t){if(n&1&&(c(0,"mat-error"),g(1),l()),n&2){let i=y();p(),V(i.getFieldError("priority"))}}function uW(n,t){if(n&1){let i=ue();c(0,"button",43),R("click",function(){let r=j(i).$implicit,a=y();return z(a.setRating(r))})("mouseenter",function(){let r=j(i).$implicit,a=y();return z(a.setRating(r))})("mouseleave",function(){let r;j(i);let a=y();return z(a.setRating(((r=a.feedbackForm.get("rating"))==null?null:r.value)||0))}),c(1,"mat-icon"),g(2),l()()}if(n&2){let i,e,r=t.index,a=y();Ue("active",((i=a.feedbackForm.get("rating"))==null?null:i.value)&&r<((i=a.feedbackForm.get("rating"))==null?null:i.value)),p(2),V(r<(((e=a.feedbackForm.get("rating"))==null?null:e.value)||0)?"star":"star_border")}}function mW(n,t){if(n&1&&(c(0,"span",44),g(1),l()),n&2){let i,e=y();p(),ee(" ",(i=e.feedbackForm.get("rating"))==null?null:i.value,"/5 stars ")}}function pW(n,t){if(n&1&&(c(0,"mat-error"),g(1),l()),n&2){let i=y();p(),V(i.getFieldError("message"))}}function fW(n,t){n&1&&(c(0,"mat-icon"),g(1,"send"),l())}function hW(n,t){n&1&&oe(0,"mat-spinner",45)}var LP=(()=>{let t=class t{constructor(e,r,a,o,s,d,u){this.fb=e,this.dialog=r,this.breakpointObserver=a,this.auth=o,this.notificationService=s,this.hapticFeedback=d,this.feedbackService=u,this.isMobile=!1,this.isSubmitting=!1,this.currentUser=null,this.destroy$=new It,this.appName=Ut.APP_NAME,this.feedbackCategories=[{value:"bug",label:"Bug Report",icon:"bug_report"},{value:"feature",label:"Feature Request",icon:"lightbulb"},{value:"improvement",label:"Improvement Suggestion",icon:"trending_up"},{value:"general",label:"General Feedback",icon:"chat"},{value:"support",label:"Support Request",icon:"help"}],this.priorityLevels=[{value:"low",label:"Low",color:"#10b981"},{value:"medium",label:"Medium",color:"#f59e0b"},{value:"high",label:"High",color:"#ef4444"}],this.ratingOptions=[1,2,3,4,5],this.feedbackForm=this.createForm(),this.breakpointObserver.observe([Ml.Handset]).pipe(bt(this.destroy$)).subscribe(m=>{this.isMobile=m.matches})}ngOnInit(){this.initializeUser()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeUser(){return ge(this,null,function*(){this.currentUser=yield this.auth.currentUser,this.currentUser&&this.feedbackForm.patchValue({name:this.currentUser.displayName||"",email:this.currentUser.email||""})})}createForm(){return this.fb.group({name:["",[tt.required,tt.minLength(2),tt.maxLength(50)]],email:["",[tt.required,tt.email]],subject:["",[tt.required,tt.minLength(5),tt.maxLength(100)]],message:["",[tt.required,tt.minLength(10),tt.maxLength(1e3)]],category:["general",tt.required],priority:["medium",tt.required],rating:[null]})}getCategoryIcon(e){let r=this.feedbackCategories.find(a=>a.value===e);return r?r.icon:"chat"}getPriorityColor(e){let r=this.priorityLevels.find(a=>a.value===e);return r?r.color:"#6b7280"}setRating(e){this.feedbackForm.patchValue({rating:e}),this.isMobile&&this.hapticFeedback.lightVibration()}getRatingStars(e){return Array.from({length:5},(r,a)=>a<e)}submitFeedback(){return ge(this,null,function*(){var e;if(this.feedbackForm.invalid){this.markFormGroupTouched(),this.notificationService.warning("Please fill in all required fields correctly");return}if(!this.isSubmitting){this.isSubmitting=!0,this.isMobile&&this.hapticFeedback.lightVibration();try{let r=de(ce({},this.feedbackForm.value),{userId:((e=this.currentUser)==null?void 0:e.uid)||"anonymous"});yield this.feedbackService.submitFeedback(r),this.notificationService.success("Thank you for your feedback! We'll get back to you soon."),this.resetForm()}catch(r){console.error("Error submitting feedback:",r),this.notificationService.error("Failed to submit feedback. Please try again.")}finally{this.isSubmitting=!1}}})}resetForm(){this.feedbackForm.reset({category:"general",priority:"medium",rating:null}),this.currentUser&&this.feedbackForm.patchValue({name:this.currentUser.displayName||"",email:this.currentUser.email||""})}markFormGroupTouched(){Object.keys(this.feedbackForm.controls).forEach(e=>{let r=this.feedbackForm.get(e);r==null||r.markAsTouched()})}getFieldError(e){let r=this.feedbackForm.get(e);if(r!=null&&r.errors&&r.touched){if(r.errors.required)return`${this.getFieldLabel(e)} is required`;if(r.errors.email)return"Please enter a valid email address";if(r.errors.minlength)return`${this.getFieldLabel(e)} must be at least ${r.errors.minlength.requiredLength} characters`;if(r.errors.maxlength)return`${this.getFieldLabel(e)} must not exceed ${r.errors.maxlength.requiredLength} characters`}return""}getFieldLabel(e){return{name:"Name",email:"Email",subject:"Subject",message:"Message",category:"Category",priority:"Priority"}[e]||e}isFieldInvalid(e){let r=this.feedbackForm.get(e);return!!(r!=null&&r.invalid&&r.touched)}};t.\u0275fac=function(r){return new(r||t)(W(Ei),W(xn),W(Tr),W(Mt),W(Ct),W(Ar),W(kb))},t.\u0275cmp=Le({type:t,selectors:[["app-feedback"]],decls:117,vars:20,consts:[[1,"feedback-container"],[1,"feedback-header"],[1,"header-content"],[1,"page-title"],[1,"page-subtitle"],[1,"header-icon"],[1,"feedback-form-container"],[1,"feedback-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-title"],[1,"form-row"],["appearance","fill",1,"form-field"],["matInput","","formControlName","name","placeholder","Your name","maxlength","50"],[4,"ngIf"],["matInput","","formControlName","email","type","email","placeholder","your.email@example.com"],["matSuffix",""],["matInput","","formControlName","subject","placeholder","Brief description of your feedback","maxlength","100"],["appearance","fill",1,"form-field","category-field"],["formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"form-field","priority-field"],["formControlName","priority"],[1,"rating-section"],[1,"rating-label"],[1,"rating-stars"],["type","button","class","star-button",3,"active","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["class","rating-text",4,"ngIf"],["appearance","fill",1,"form-field","message-field"],["matInput","","formControlName","message","placeholder","Please provide detailed feedback, suggestions, or describe any issues you've encountered...","rows","6","maxlength","1000"],[1,"submit-section"],[1,"submit-info"],[1,"submit-actions"],["type","button","mat-stroked-button","",1,"reset-button",3,"click","disabled"],["type","submit","mat-raised-button","","color","primary",1,"submit-button",3,"disabled"],["diameter","20",4,"ngIf"],[1,"help-section"],[1,"help-title"],[1,"help-content"],[1,"help-item"],[3,"value"],[1,"category-option"],[1,"priority-option"],[1,"priority-indicator"],["type","button",1,"star-button",3,"click","mouseenter","mouseleave"],[1,"rating-text"],["diameter","20"]],template:function(r,a){if(r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),g(4,"Send Feedback"),l(),c(5,"p",4),g(6),l()(),c(7,"div",5)(8,"mat-icon"),g(9,"feedback"),l()()(),c(10,"div",6)(11,"form",7),R("ngSubmit",function(){return a.submitFeedback()}),c(12,"div",8)(13,"h3",9)(14,"mat-icon"),g(15,"person"),l(),g(16," Personal Information "),l(),c(17,"div",10)(18,"mat-form-field",11)(19,"mat-label"),g(20,"Name *"),l(),oe(21,"input",12),L(22,aW,2,1,"mat-error",13),c(23,"mat-hint"),g(24),l()(),c(25,"mat-form-field",11)(26,"mat-label"),g(27,"Email *"),l(),oe(28,"input",14),c(29,"mat-icon",15),g(30,"email"),l(),L(31,oW,2,1,"mat-error",13),l()()(),c(32,"div",8)(33,"h3",9)(34,"mat-icon"),g(35,"description"),l(),g(36," Feedback Details "),l(),c(37,"div",10)(38,"mat-form-field",11)(39,"mat-label"),g(40,"Subject *"),l(),oe(41,"input",16),L(42,sW,2,1,"mat-error",13),c(43,"mat-hint"),g(44),l()()(),c(45,"div",10)(46,"mat-form-field",17)(47,"mat-label"),g(48,"Category *"),l(),c(49,"mat-select",18),L(50,cW,6,3,"mat-option",19),l(),L(51,lW,2,1,"mat-error",13),l(),c(52,"mat-form-field",20)(53,"mat-label"),g(54,"Priority *"),l(),c(55,"mat-select",21),L(56,dW,5,4,"mat-option",19),l(),L(57,gW,2,1,"mat-error",13),l()(),c(58,"div",22)(59,"label",23),g(60,"How would you rate your experience? (Optional)"),l(),c(61,"div",24),L(62,uW,3,3,"button",25),l(),L(63,mW,2,1,"span",26),l(),c(64,"div",10)(65,"mat-form-field",27)(66,"mat-label"),g(67,"Message *"),l(),oe(68,"textarea",28),L(69,pW,2,1,"mat-error",13),c(70,"mat-hint"),g(71),l()()()(),c(72,"div",29)(73,"div",30)(74,"mat-icon"),g(75,"info"),l(),c(76,"span"),g(77,"Your feedback will be sent to our team and we'll get back to you as soon as possible."),l()(),c(78,"div",31)(79,"button",32),R("click",function(){return a.resetForm()}),c(80,"mat-icon"),g(81,"refresh"),l(),g(82," Reset "),l(),c(83,"button",33),L(84,fW,2,0,"mat-icon",13)(85,hW,1,0,"mat-spinner",34),g(86),l()()()()(),c(87,"div",35)(88,"h3",36)(89,"mat-icon"),g(90,"help"),l(),g(91," Need Help? "),l(),c(92,"div",37)(93,"div",38)(94,"mat-icon"),g(95,"bug_report"),l(),c(96,"div")(97,"h4"),g(98,"Bug Report"),l(),c(99,"p"),g(100,"Found a bug? Please include steps to reproduce the issue and any error messages you see."),l()()(),c(101,"div",38)(102,"mat-icon"),g(103,"lightbulb"),l(),c(104,"div")(105,"h4"),g(106,"Feature Request"),l(),c(107,"p"),g(108,"Have an idea for a new feature? Let us know how it would help you manage your money better."),l()()(),c(109,"div",38)(110,"mat-icon"),g(111,"support"),l(),c(112,"div")(113,"h4"),g(114,"Support"),l(),c(115,"p"),g(116,"Need help using the app? We're here to assist you with any questions or concerns."),l()()()()()()),r&2){let o,s,d,u;p(6),ee("Help us improve ",a.appName," by sharing your thoughts, suggestions, or reporting issues."),p(5),O("formGroup",a.feedbackForm),p(11),O("ngIf",a.isFieldInvalid("name")),p(2),ee("",((o=a.feedbackForm.get("name"))==null||o.value==null?null:o.value.length)||0,"/50"),p(7),O("ngIf",a.isFieldInvalid("email")),p(11),O("ngIf",a.isFieldInvalid("subject")),p(2),ee("",((s=a.feedbackForm.get("subject"))==null||s.value==null?null:s.value.length)||0,"/100"),p(6),O("ngForOf",a.feedbackCategories),p(),O("ngIf",a.isFieldInvalid("category")),p(5),O("ngForOf",a.priorityLevels),p(),O("ngIf",a.isFieldInvalid("priority")),p(5),O("ngForOf",a.ratingOptions),p(),O("ngIf",(d=a.feedbackForm.get("rating"))==null?null:d.value),p(6),O("ngIf",a.isFieldInvalid("message")),p(2),ee("",((u=a.feedbackForm.get("message"))==null||u.value==null?null:u.value.length)||0,"/1000"),p(8),O("disabled",a.isSubmitting),p(4),O("disabled",a.feedbackForm.invalid||a.isSubmitting),p(),O("ngIf",!a.isSubmitting),p(),O("ngIf",a.isSubmitting),p(),ee(" ",a.isSubmitting?"Sending...":"Send Feedback"," ")}},dependencies:[nr,ct,Jn,Yt,Bt,Qn,pl,ki,Ti,Zt,Qe,Er,Di,na,au,po,fo,Fi,Ii,Ea],styles:["@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.feedback-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem;animation:_ngcontent-%COMP%_slideInUp .5s ease-out}@media (max-width: 768px){.feedback-container[_ngcontent-%COMP%]{padding:1rem}}.feedback-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:2rem;padding:1.5rem;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;color:#fff;box-shadow:0 8px 32px #667eea4d}@media (max-width: 768px){.feedback-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}}.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0 0 .5rem;text-shadow:0 2px 4px rgba(0,0,0,.1)}@media (max-width: 768px){.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}}.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;margin:0;opacity:.9;line-height:1.5}@media (max-width: 768px){.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:.9rem}}.feedback-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;opacity:.8}@media (max-width: 768px){.feedback-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem}}.feedback-form-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #00000014;overflow:hidden;margin-bottom:2rem}.feedback-form-container[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]{padding:2rem}@media (max-width: 768px){.feedback-form-container[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]{padding:1.5rem}}.form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.form-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 1.5rem;padding-bottom:.5rem;border-bottom:2px solid #e5e7eb}.form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}.form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-field[_ngcontent-%COMP%]{width:100%}@media (max-width: 768px){.form-field.category-field[_ngcontent-%COMP%], .form-field.priority-field[_ngcontent-%COMP%]{grid-column:1}}.form-field.message-field[_ngcontent-%COMP%]{grid-column:1/-1}.category-option[_ngcontent-%COMP%], .priority-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.category-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .priority-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:1.2rem;height:1.2rem}.priority-indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;flex-shrink:0}.rating-section[_ngcontent-%COMP%]{margin:1.5rem 0;padding:1rem;background:#f8fafc;border-radius:12px;border:1px solid #e2e8f0}.rating-section[_ngcontent-%COMP%]   .rating-label[_ngcontent-%COMP%]{display:block;font-weight:500;color:#374151;margin-bottom:.75rem}.rating-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]{display:flex;gap:.25rem;margin-bottom:.5rem}.rating-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]   .star-button[_ngcontent-%COMP%]{background:none;border:none;padding:.25rem;cursor:pointer;border-radius:4px;transition:all .2s ease}.rating-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]   .star-button[_ngcontent-%COMP%]:hover{background:#667eea1a;transform:scale(1.1)}.rating-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]   .star-button.active[_ngcontent-%COMP%]{color:#fbbf24}.rating-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]   .star-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}.rating-section[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.submit-section[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1.5rem;border-top:1px solid #e5e7eb}.submit-section[_ngcontent-%COMP%]   .submit-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1.5rem;padding:1rem;background:#eff6ff;border-radius:8px;border-left:4px solid #3b82f6}.submit-section[_ngcontent-%COMP%]   .submit-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3b82f6;flex-shrink:0}.submit-section[_ngcontent-%COMP%]   .submit-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#1e40af;line-height:1.4}.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end}@media (max-width: 768px){.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}}.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{min-width:120px}@media (max-width: 768px){.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{order:2}}.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{min-width:160px;height:48px}@media (max-width: 768px){.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{order:1}}.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:.5rem}.help-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #00000014;padding:2rem}@media (max-width: 768px){.help-section[_ngcontent-%COMP%]{padding:1.5rem}}.help-section[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 1.5rem}.help-section[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea}.help-section[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}@media (max-width: 768px){.help-section[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.help-section[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1rem;background:#f8fafc;border-radius:12px;border:1px solid #e2e8f0;transition:all .2s ease}.help-section[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.help-section[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea;font-size:1.5rem;width:1.5rem;height:1.5rem;flex-shrink:0;margin-top:.125rem}.help-section[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1f2937;margin:0 0 .5rem}.help-section[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0;line-height:1.5}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .feedback-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4c1d95,#7c3aed)}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .feedback-form-container[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .help-section[_ngcontent-%COMP%]{background:#1f2937;box-shadow:0 4px 20px #0000004d}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#f9fafb;border-bottom-color:#374151}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .rating-section[_ngcontent-%COMP%]{background:#374151;border-color:#4b5563}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .rating-section[_ngcontent-%COMP%]   .rating-label[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .submit-section[_ngcontent-%COMP%]{border-top-color:#374151}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .submit-section[_ngcontent-%COMP%]   .submit-info[_ngcontent-%COMP%]{background:#1e3a8a;border-left-color:#3b82f6}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .submit-section[_ngcontent-%COMP%]   .submit-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#dbeafe}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .help-section[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]{background:#374151;border-color:#4b5563}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}@media (max-width: 480px){.feedback-container[_ngcontent-%COMP%]{padding:.5rem}.feedback-header[_ngcontent-%COMP%]{padding:1rem}.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.25rem}.feedback-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem}.feedback-form-container[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%], .help-section[_ngcontent-%COMP%]{padding:1rem}}.star-button[_ngcontent-%COMP%]:focus{outline:2px solid #667eea;outline-offset:2px}.form-field[_ngcontent-%COMP%]:focus-within   .mat-form-field-outline[_ngcontent-%COMP%]{color:#667eea}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.form-field.mat-form-field-disabled[_ngcontent-%COMP%]{opacity:.6}"]});let n=t;return n})();var BP=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Le({type:t,selectors:[["app-app-shell"]],decls:23,vars:0,consts:[["id","app-shell",1,"app-shell"],[1,"app-shell-header"],[1,"app-shell-logo"],[1,"app-shell-logo-icon"],["src","assets/images/logo.svg","alt","Money Manager Logo",1,"logo-image"],[1,"font-heading","font-semibold","text-xl"],[1,"app-shell-skeleton","w-10","h-10","rounded-full"],[1,"app-shell-content"],[1,"app-shell-loading"],[1,"app-shell-spinner"],[1,"font-heading","font-semibold","text-2xl","mb-2"],[1,"text-sm","opacity-80"],[1,"w-full","max-w-md","mt-8"],[1,"app-shell-skeleton","app-shell-skeleton-header"],[1,"app-shell-skeleton","app-shell-skeleton-text"],[1,"app-shell-skeleton","app-shell-skeleton-text",2,"width","120px"],[1,"app-shell-skeleton","app-shell-skeleton-text",2,"width","180px"],[1,"app-shell-footer"],[1,"m-0","text-sm"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3),oe(4,"img",4),l(),c(5,"span",5),g(6,"Money Manager"),l()(),oe(7,"div",6),l(),c(8,"main",7)(9,"div",8),oe(10,"div",9),c(11,"h2",10),g(12,"Loading Money Manager"),l(),c(13,"p",11),g(14,"Preparing your financial dashboard..."),l()(),c(15,"div",12),oe(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16),l()(),c(20,"footer",17)(21,"p",18),g(22,"\xA9 2024 Money Manager - Your Personal Finance Assistant"),l()()())},styles:[".app-shell[_ngcontent-%COMP%]{font-family:Inter,sans-serif;background:#f9fafb;min-height:100vh;display:flex;flex-direction:column;color:#1f2937}.app-shell-header[_ngcontent-%COMP%]{background:#fff;padding:1rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.app-shell-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;font-size:1.25rem}.app-shell-logo-icon[_ngcontent-%COMP%]{width:32px;height:32px;background:#46777f;border-radius:8px;display:flex;align-items:center;justify-content:center}.app-shell-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center}.app-shell-loading[_ngcontent-%COMP%]{margin:2rem 0}.app-shell-spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-top:4px solid #46777f;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.app-shell-skeleton[_ngcontent-%COMP%]{background:#e5e7eb;border-radius:8px;margin:.5rem 0;animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}.app-shell-skeleton-header[_ngcontent-%COMP%]{height:20px;width:200px;margin:0 auto 1rem}.app-shell-skeleton-text[_ngcontent-%COMP%]{height:16px;width:150px;margin:.5rem auto}.app-shell-footer[_ngcontent-%COMP%]{background:#fff;padding:1rem;text-align:center;font-size:.875rem;color:#6b7280;border-top:1px solid #e5e7eb}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}@media (max-width: 768px){.app-shell-content[_ngcontent-%COMP%]{padding:1rem}.app-shell-logo[_ngcontent-%COMP%]{font-size:1rem}.app-shell-logo-icon[_ngcontent-%COMP%]{width:28px;height:28px}}"]});let n=t;return n})();var VP=(()=>{let t=class t{constructor(){this.lastUpdated="December 2024"}navigateBack(){window.history.back()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Le({type:t,selectors:[["app-privacy-policy"]],decls:182,vars:2,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","shadow-sm","border-b"],[1,"container","mx-auto","px-4","py-4"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],[1,"p-2","rounded-lg","hover:bg-gray-100","transition-colors","duration-200",3,"click"],[1,"w-8","h-8","rounded-lg","flex","items-center","justify-center","bg-gradient-to-r","from-primary","to-primary-600"],["src","assets/icon/app-icon/icon-192x192.png","alt","Money Manager",1,"w-6","h-6"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"container","mx-auto","px-4","py-8","overflow-y-auto","h-screen"],[1,"max-w-4xl","mx-auto","bg-white","rounded-xl","shadow-sm","p-8"],[1,"mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-700","leading-relaxed","mb-4"],[1,"text-gray-700","leading-relaxed"],[1,"text-lg","font-semibold","text-gray-800","mb-3"],[1,"list-disc","list-inside","text-gray-700","mb-4","space-y-2"],[1,"list-disc","list-inside","text-gray-700","space-y-2"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"space-y-2","text-gray-700"],[1,"border-t","pt-6","mt-8"],[1,"text-sm","text-gray-500","text-center"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),R("click",function(){return a.navigateBack()}),c(6,"mat-icon"),g(7,"arrow_back"),l()(),c(8,"div",4)(9,"div",6),oe(10,"img",7),l(),c(11,"h1",8),g(12,"Privacy Policy"),l()()(),c(13,"div",9),g(14),l()()()(),c(15,"div",10)(16,"div",11)(17,"section",12)(18,"h2",13),g(19,"Introduction"),l(),c(20,"p",14),g(21,' Money Manager ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our money management application. '),l(),c(22,"p",15),g(23," By using our application, you agree to the collection and use of information in accordance with this policy. "),l()(),c(24,"section",12)(25,"h2",13),g(26,"Information We Collect"),l(),c(27,"h3",16),g(28,"Personal Information"),l(),c(29,"ul",17)(30,"li"),g(31,"Name and email address when you create an account"),l(),c(32,"li"),g(33,"Profile information you choose to provide"),l(),c(34,"li"),g(35,"Financial data you input (transactions, budgets, goals)"),l(),c(36,"li"),g(37,"Account preferences and settings"),l()(),c(38,"h3",16),g(39,"Usage Information"),l(),c(40,"ul",17)(41,"li"),g(42,"App usage patterns and features accessed"),l(),c(43,"li"),g(44,"Device information and browser type"),l(),c(45,"li"),g(46,"IP address and general location data"),l(),c(47,"li"),g(48,"Error logs and performance data"),l()()(),c(49,"section",12)(50,"h2",13),g(51,"How We Use Your Information"),l(),c(52,"ul",18)(53,"li"),g(54,"Provide and maintain our money management services"),l(),c(55,"li"),g(56,"Process your transactions and financial data"),l(),c(57,"li"),g(58,"Generate reports and insights about your finances"),l(),c(59,"li"),g(60,"Improve our application and user experience"),l(),c(61,"li"),g(62,"Send important updates and notifications"),l(),c(63,"li"),g(64,"Provide customer support and respond to inquiries"),l(),c(65,"li"),g(66,"Ensure security and prevent fraud"),l()()(),c(67,"section",12)(68,"h2",13),g(69,"Data Storage and Security"),l(),c(70,"p",14),g(71," We implement industry-standard security measures to protect your personal and financial information: "),l(),c(72,"ul",17)(73,"li"),g(74,"End-to-end encryption for sensitive data"),l(),c(75,"li"),g(76,"Secure cloud storage with regular backups"),l(),c(77,"li"),g(78,"Multi-factor authentication for account access"),l(),c(79,"li"),g(80,"Regular security audits and updates"),l(),c(81,"li"),g(82,"Limited access to personal data by authorized personnel only"),l()(),c(83,"p",15),g(84," Your data is stored securely and we never share your financial information with third parties without your explicit consent. "),l()(),c(85,"section",12)(86,"h2",13),g(87,"Data Sharing"),l(),c(88,"p",14),g(89," We do not sell, trade, or rent your personal information to third parties. We may share your information only in the following circumstances: "),l(),c(90,"ul",18)(91,"li"),g(92,"With your explicit consent"),l(),c(93,"li"),g(94,"To comply with legal obligations"),l(),c(95,"li"),g(96,"To protect our rights and prevent fraud"),l(),c(97,"li"),g(98,"With trusted service providers who assist in app operations (under strict confidentiality agreements)"),l()()(),c(99,"section",12)(100,"h2",13),g(101,"Your Rights"),l(),c(102,"p",14),g(103," You have the following rights regarding your personal information: "),l(),c(104,"ul",18)(105,"li")(106,"strong"),g(107,"Access:"),l(),g(108," Request a copy of your personal data"),l(),c(109,"li")(110,"strong"),g(111,"Correction:"),l(),g(112," Update or correct inaccurate information"),l(),c(113,"li")(114,"strong"),g(115,"Deletion:"),l(),g(116," Request deletion of your account and data"),l(),c(117,"li")(118,"strong"),g(119,"Portability:"),l(),g(120," Export your data in a standard format"),l(),c(121,"li")(122,"strong"),g(123,"Opt-out:"),l(),g(124," Unsubscribe from marketing communications"),l()()(),c(125,"section",12)(126,"h2",13),g(127,"Cookies and Tracking"),l(),c(128,"p",14),g(129," We use cookies and similar technologies to: "),l(),c(130,"ul",17)(131,"li"),g(132,"Remember your preferences and settings"),l(),c(133,"li"),g(134,"Analyze app usage and performance"),l(),c(135,"li"),g(136,"Provide personalized features"),l(),c(137,"li"),g(138,"Ensure security and prevent fraud"),l()(),c(139,"p",15),g(140," You can control cookie settings through your browser preferences. "),l()(),c(141,"section",12)(142,"h2",13),g(143,"Children's Privacy"),l(),c(144,"p",15),g(145," Our application is not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13. If you are a parent or guardian and believe your child has provided us with personal information, please contact us immediately. "),l()(),c(146,"section",12)(147,"h2",13),g(148,"Changes to This Privacy Policy"),l(),c(149,"p",14),g(150," We may update this Privacy Policy from time to time. We will notify you of any changes by: "),l(),c(151,"ul",17)(152,"li"),g(153,"Posting the new Privacy Policy on this page"),l(),c(154,"li"),g(155,"Sending you an email notification"),l(),c(156,"li"),g(157,"Displaying a notice in the application"),l()(),c(158,"p",15),g(159," Your continued use of the application after any changes constitutes acceptance of the updated Privacy Policy. "),l()(),c(160,"section",12)(161,"h2",13),g(162,"Contact Us"),l(),c(163,"p",14),g(164," If you have any questions about this Privacy Policy or our data practices, please contact us: "),l(),c(165,"div",19)(166,"div",20)(167,"p")(168,"strong"),g(169,"Email:"),l(),g(170," Prashiln79@gmail.com"),l(),c(171,"p")(172,"strong"),g(173,"Address:"),l(),g(174," Goa, India"),l(),c(175,"p")(176,"strong"),g(177,"Response Time:"),l(),g(178," We aim to respond to all privacy-related inquiries within 48 hours."),l()()()(),c(179,"div",21)(180,"p",22),g(181),l()()()()()),r&2&&(p(14),ee(" Last updated: ",a.lastUpdated," "),p(167),ee(" This Privacy Policy is effective as of ",a.lastUpdated," and will remain in effect except with respect to any changes in its provisions in the future. "))},dependencies:[Qe],styles:[".privacy-policy[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.privacy-policy[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9}.privacy-policy[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.privacy-policy[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}button[_ngcontent-%COMP%]:active{transform:translateY(0)}@media print{.bg-gray-50[_ngcontent-%COMP%]{background-color:#fff!important}.shadow-sm[_ngcontent-%COMP%]{box-shadow:none!important}button[_ngcontent-%COMP%]{display:none!important}}"]});let n=t;return n})();var $P=(()=>{let t=class t{constructor(){this.lastUpdated="December 2024"}navigateBack(){window.history.back()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Le({type:t,selectors:[["app-terms-conditions"]],decls:224,vars:2,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","shadow-sm","border-b"],[1,"container","mx-auto","px-4","py-4"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],[1,"p-2","rounded-lg","hover:bg-gray-100","transition-colors","duration-200",3,"click"],[1,"w-8","h-8","rounded-lg","flex","items-center","justify-center","bg-gradient-to-r","from-primary","to-primary-600"],["src","assets/icon/app-icon/icon-192x192.png","alt","Money Manager",1,"w-6","h-6"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"container","mx-auto","px-4","py-8","overflow-y-auto","h-screen"],[1,"max-w-4xl","mx-auto","bg-white","rounded-xl","shadow-sm","p-8"],[1,"mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-700","leading-relaxed","mb-4"],[1,"text-gray-700","leading-relaxed"],[1,"list-disc","list-inside","text-gray-700","mb-4","space-y-2"],[1,"text-lg","font-semibold","text-gray-800","mb-3"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"space-y-2","text-gray-700"],[1,"border-t","pt-6","mt-8"],[1,"text-sm","text-gray-500","text-center"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),R("click",function(){return a.navigateBack()}),c(6,"mat-icon"),g(7,"arrow_back"),l()(),c(8,"div",4)(9,"div",6),oe(10,"img",7),l(),c(11,"h1",8),g(12,"Terms & Conditions"),l()()(),c(13,"div",9),g(14),l()()()(),c(15,"div",10)(16,"div",11)(17,"section",12)(18,"h2",13),g(19,"Introduction"),l(),c(20,"p",14),g(21,' Welcome to Money Manager. These Terms and Conditions ("Terms") govern your use of our money management application and services. By accessing or using our application, you agree to be bound by these Terms. '),l(),c(22,"p",15),g(23," If you do not agree with any part of these Terms, you may not access or use our application. "),l()(),c(24,"section",12)(25,"h2",13),g(26,"Acceptance of Terms"),l(),c(27,"p",14),g(28," By creating an account, downloading, installing, or using the Money Manager application, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions. "),l(),c(29,"p",15),g(30," These Terms constitute a legally binding agreement between you and Money Manager regarding your use of our services. "),l()(),c(31,"section",12)(32,"h2",13),g(33,"Description of Service"),l(),c(34,"p",14),g(35," Money Manager is a personal finance management application that allows users to: "),l(),c(36,"ul",16)(37,"li"),g(38,"Track income and expenses"),l(),c(39,"li"),g(40,"Manage multiple accounts and budgets"),l(),c(41,"li"),g(42,"Set financial goals and monitor progress"),l(),c(43,"li"),g(44,"Generate financial reports and insights"),l(),c(45,"li"),g(46,"Categorize transactions"),l(),c(47,"li"),g(48,"Import and export financial data"),l()(),c(49,"p",15),g(50," We reserve the right to modify, suspend, or discontinue any part of our service at any time with reasonable notice. "),l()(),c(51,"section",12)(52,"h2",13),g(53,"User Accounts"),l(),c(54,"h3",17),g(55,"Account Creation"),l(),c(56,"p",14),g(57," To use our services, you must create an account by providing accurate, current, and complete information. You are responsible for maintaining the confidentiality of your account credentials. "),l(),c(58,"h3",17),g(59,"Account Responsibilities"),l(),c(60,"ul",16)(61,"li"),g(62,"You are responsible for all activities that occur under your account"),l(),c(63,"li"),g(64,"You must notify us immediately of any unauthorized use of your account"),l(),c(65,"li"),g(66,"You must be at least 18 years old to create an account"),l(),c(67,"li"),g(68,"You may not share your account credentials with others"),l(),c(69,"li"),g(70,"You are responsible for maintaining the security of your device"),l()()(),c(71,"section",12)(72,"h2",13),g(73,"Acceptable Use"),l(),c(74,"p",14),g(75," You agree to use our application only for lawful purposes and in accordance with these Terms. You agree not to: "),l(),c(76,"ul",16)(77,"li"),g(78,"Use the service for any illegal or unauthorized purpose"),l(),c(79,"li"),g(80,"Attempt to gain unauthorized access to our systems or other users' accounts"),l(),c(81,"li"),g(82,"Interfere with or disrupt the service or servers"),l(),c(83,"li"),g(84,"Upload or transmit viruses, malware, or other harmful code"),l(),c(85,"li"),g(86,"Violate any applicable laws or regulations"),l(),c(87,"li"),g(88,"Use the service to store or transmit illegal content"),l(),c(89,"li"),g(90,"Reverse engineer, decompile, or disassemble the application"),l()()(),c(91,"section",12)(92,"h2",13),g(93,"Financial Information"),l(),c(94,"h3",17),g(95,"Data Accuracy"),l(),c(96,"p",14),g(97," You are responsible for the accuracy and completeness of all financial information you enter into the application. We are not responsible for any errors, omissions, or inaccuracies in your financial data. "),l(),c(98,"h3",17),g(99,"No Financial Advice"),l(),c(100,"p",14),g(101," Money Manager is a financial tracking tool and does not provide financial advice, investment recommendations, or tax advice. You should consult with qualified professionals for financial, investment, or tax advice. "),l(),c(102,"h3",17),g(103,"Third-Party Services"),l(),c(104,"p",15),g(105," Our application may integrate with third-party financial institutions or services. We are not responsible for the accuracy, availability, or security of these third-party services. "),l()(),c(106,"section",12)(107,"h2",13),g(108,"Privacy and Data Protection"),l(),c(109,"p",14),g(110," Your privacy is important to us. Our collection and use of your personal information is governed by our Privacy Policy, which is incorporated into these Terms by reference. "),l(),c(111,"p",15),g(112," By using our service, you consent to the collection and use of your information as described in our Privacy Policy. "),l()(),c(113,"section",12)(114,"h2",13),g(115,"Subscription and Payment"),l(),c(116,"h3",17),g(117,"Free and Premium Plans"),l(),c(118,"p",14),g(119," We offer both free and premium subscription plans. Premium features require a paid subscription. Subscription fees are billed in advance and are non-refundable except as required by law. "),l(),c(120,"h3",17),g(121,"Payment Terms"),l(),c(122,"ul",16)(123,"li"),g(124,"All fees are exclusive of applicable taxes"),l(),c(125,"li"),g(126,"Subscriptions automatically renew unless cancelled"),l(),c(127,"li"),g(128,"You may cancel your subscription at any time"),l(),c(129,"li"),g(130,"No refunds for partial months or unused periods"),l(),c(131,"li"),g(132,"We may change subscription fees with 30 days' notice"),l()()(),c(133,"section",12)(134,"h2",13),g(135,"Intellectual Property"),l(),c(136,"p",14),g(137," The Money Manager application, including its content, features, and functionality, is owned by us and is protected by copyright, trademark, and other intellectual property laws. "),l(),c(138,"p",14),g(139," You may not copy, modify, distribute, sell, or lease any part of our application without our written permission. "),l(),c(140,"p",15),g(141," You retain ownership of your financial data and content, but grant us a license to use it to provide our services. "),l()(),c(142,"section",12)(143,"h2",13),g(144,"Limitation of Liability"),l(),c(145,"p",14),g(146," To the maximum extent permitted by law, Money Manager shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including but not limited to: "),l(),c(147,"ul",16)(148,"li"),g(149,"Loss of profits, data, or use"),l(),c(150,"li"),g(151,"Business interruption"),l(),c(152,"li"),g(153,"Financial losses"),l(),c(154,"li"),g(155,"Security breaches"),l(),c(156,"li"),g(157,"Service interruptions"),l()(),c(158,"p",15),g(159," Our total liability shall not exceed the amount you paid for our services in the 12 months preceding the claim. "),l()(),c(160,"section",12)(161,"h2",13),g(162,"Disclaimers"),l(),c(163,"p",14),g(164,' THE SERVICE IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO: '),l(),c(165,"ul",16)(166,"li"),g(167,"Warranties of merchantability or fitness for a particular purpose"),l(),c(168,"li"),g(169,"Warranties that the service will be uninterrupted or error-free"),l(),c(170,"li"),g(171,"Warranties regarding the accuracy or reliability of financial data"),l(),c(172,"li"),g(173,"Warranties that defects will be corrected"),l()()(),c(174,"section",12)(175,"h2",13),g(176,"Termination"),l(),c(177,"p",14),g(178," We may terminate or suspend your account and access to our services at any time, with or without cause, with or without notice. "),l(),c(179,"p",14),g(180," Upon termination, your right to use the service will cease immediately. We may delete your account and data, though we will provide reasonable notice before permanent deletion. "),l(),c(181,"p",15),g(182," You may terminate your account at any time by contacting us or using the account deletion feature in the application. "),l()(),c(183,"section",12)(184,"h2",13),g(185,"Governing Law"),l(),c(186,"p",15),g(187," These Terms shall be governed by and construed in accordance with the laws of India. Any disputes arising from these Terms or your use of our service shall be resolved in the courts of Goa, India. "),l()(),c(188,"section",12)(189,"h2",13),g(190,"Changes to These Terms"),l(),c(191,"p",14),g(192," We reserve the right to modify these Terms at any time. We will notify you of any changes by: "),l(),c(193,"ul",16)(194,"li"),g(195,"Posting the updated Terms in the application"),l(),c(196,"li"),g(197,"Sending you an email notification"),l(),c(198,"li"),g(199,"Displaying a notice when you next access the service"),l()(),c(200,"p",15),g(201," Your continued use of the service after any changes constitutes acceptance of the updated Terms. "),l()(),c(202,"section",12)(203,"h2",13),g(204,"Contact Us"),l(),c(205,"p",14),g(206," If you have any questions about these Terms and Conditions, please contact us: "),l(),c(207,"div",18)(208,"div",19)(209,"p")(210,"strong"),g(211,"Email:"),l(),g(212," Prashiln79@gmail.com"),l(),c(213,"p")(214,"strong"),g(215,"Address:"),l(),g(216," Goa, India"),l(),c(217,"p")(218,"strong"),g(219,"Response Time:"),l(),g(220," We aim to respond to all inquiries within 48 hours."),l()()()(),c(221,"div",20)(222,"p",21),g(223),l()()()()()),r&2&&(p(14),ee(" Last updated: ",a.lastUpdated," "),p(209),ee(" These Terms and Conditions are effective as of ",a.lastUpdated," and will remain in effect except with respect to any changes in its provisions in the future. "))},dependencies:[Qe],styles:["[_nghost-%COMP%]{display:block;height:100vh;overflow-y:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.dark[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#374151}.dark[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6b7280}.dark[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.max-w-4xl[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem}}"]});let n=t;return n})();var jP=(()=>{let t=class t{constructor(e,r){this.commonSyncService=e,this.ssrService=r}retryConnection(){this.commonSyncService.isCurrentlyOnline()?this.ssrService.isClientSide()&&(window.location.href="/dashboard"):alert("Still offline. Please check your internet connection.")}openOfflineData(){this.ssrService.isClientSide()&&(window.location.href="/dashboard")}};t.\u0275fac=function(r){return new(r||t)(W(pa),W(ia))},t.\u0275cmp=Le({type:t,selectors:[["app-offline-page"]],decls:37,vars:0,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","px-4"],[1,"max-w-md","w-full","text-center"],[1,"mb-8"],[1,"mx-auto","w-24","h-24","bg-yellow-100","rounded-full","flex","items-center","justify-center"],[1,"text-4xl","text-yellow-600"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","mb-8"],[1,"bg-white","rounded-lg","p-4","mb-6","shadow-sm","border"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600"],[1,"text-sm","font-medium","text-yellow-600"],[1,"space-y-3"],["mat-raised-button","","color","primary",1,"w-full",3,"click"],[1,"mr-2"],["mat-stroked-button","",1,"w-full",3,"click"],[1,"mt-8","p-4","bg-blue-50","rounded-lg"],[1,"text-sm","font-medium","text-blue-900","mb-2"],[1,"text-xs","text-blue-800","space-y-1"]],template:function(r,a){r&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),g(5,"wifi_off"),l()()(),c(6,"h1",5),g(7," You're Offline "),l(),c(8,"p",6),g(9," It looks like you don't have an internet connection right now. Don't worry - your data is saved locally and will sync when you're back online. "),l(),c(10,"div",7)(11,"div",8)(12,"span",9),g(13,"Connection Status:"),l(),c(14,"span",10),g(15,"Offline"),l()()(),c(16,"div",11)(17,"button",12),R("click",function(){return a.retryConnection()}),c(18,"mat-icon",13),g(19,"refresh"),l(),g(20," Try Again "),l(),c(21,"button",14),R("click",function(){return a.openOfflineData()}),c(22,"mat-icon",13),g(23,"storage"),l(),g(24," View Offline Data "),l()(),c(25,"div",15)(26,"h3",16),g(27,"Offline Tips:"),l(),c(28,"ul",17)(29,"li"),g(30,"\u2022 Your transactions are saved locally"),l(),c(31,"li"),g(32,"\u2022 Changes will sync when connection is restored"),l(),c(33,"li"),g(34,"\u2022 Check your internet connection"),l(),c(35,"li"),g(36,"\u2022 Try refreshing the page"),l()()()()())},dependencies:[Zt,Qe],styles:["[_nghost-%COMP%]{display:block}"]});let n=t;return n})();var _W=[{path:"shell",component:BP},{path:"landing",component:L2},{path:"privacy-policy",component:VP},{path:"terms-conditions",component:$P},{path:"offline",component:jP},{path:"sign-in",component:ff},{path:"sign-up",component:ff},{path:"register",component:mC},{path:"dashboard",component:Qb,canActivate:[Xp],data:{requireEmailVerification:!0,requireActiveSession:!0},children:[{path:"",component:Sf},{path:"home",component:Sf},{path:"accounts",component:sm,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"category",component:gm,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"reports",component:_m,data:{roles:["premium","admin"],requireEmailVerification:!0}},{path:"transactions",component:N2,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"tax",component:Qm,data:{roles:["premium","admin"],requireEmailVerification:!0}},{path:"subscription",component:V2,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"goals",component:z2,data:{roles:["premium","admin"],requireEmailVerification:!0}},{path:"splitwise",loadChildren:()=>import("./chunk-5I5VAOBN.js").then(n=>n.SplitwiseModule),data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"google-sheets",component:U2,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"openai-interaction",component:W2,data:{roles:["premium","admin"],requireEmailVerification:!0}},{path:"budgets",component:K2,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"notes",component:Jm,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"import",component:xd,data:{roles:["premium","admin"],requireEmailVerification:!0}},{path:"profile",component:Q2,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"notifications",component:NP,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"feedback",component:LP,data:{roles:["free","premium","admin"],requireEmailVerification:!0}}]},{path:"admin",loadChildren:()=>import("./chunk-7JHHPL5V.js").then(n=>n.AdminModule),canActivate:[Xp,GC],data:{requireEmailVerification:!0,requireActiveSession:!0,roles:["admin"]}},{path:"",redirectTo:"/dashboard",pathMatch:"full"}],zP=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pr({type:t}),t.\u0275inj=Mr({imports:[Id.forRoot(_W,{useHash:!0}),Id]});let n=t;return n})();var cp=(()=>{let t=class t{constructor(e,r,a,o,s){this.location=e,this.router=r,this.platform=a,this.ngZone=o,this.platformId=s,this.navigationStateSubject=new un({canGoBack:!1,currentRoute:"",previousRoute:"",navigationStack:[],isStandalone:!1,isMobile:!1}),this.destroy$=new It,this.navigationStack=[],this.maxStackSize=50,this.navigationState$=this.navigationStateSubject.asObservable(),this.canGoBack$=this.navigationState$.pipe(Qi(d=>d.canGoBack),Ye(d=>d.canGoBack)),ws(this.platformId)||this.initializePwaNavigation()}initializePwaNavigation(){let e=this.isStandalonePwa(),r=this.isMobileDevice();this.navigationStack=[],this.router.events.pipe(Qi(o=>o instanceof sg),bt(this.destroy$)).subscribe(o=>{this.ngZone.run(()=>{this.handleNavigationEnd(o)})}),this.router.events.pipe(Qi(o=>o instanceof ux),bt(this.destroy$)).subscribe(o=>{this.ngZone.run(()=>{this.handleNavigationStart(o)})});let a=()=>{this.ngZone.run(()=>{this.handlePopState()})};typeof window<"u"&&(window.addEventListener("popstate",a),this.destroy$.subscribe(()=>{window.removeEventListener("popstate",a)})),r&&this.setupHardwareBackButton(),this.setupKeyboardNavigation(),this.updateNavigationState({isStandalone:e,isMobile:r,currentRoute:this.router.url})}isStandalonePwa(){return ws(this.platformId)?!1:window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isMobileDevice(){return ws(this.platformId)?!1:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}handleNavigationStart(e){e.url!==this.navigationStateSubject.value.currentRoute&&this.addToNavigationStack(this.navigationStateSubject.value.currentRoute)}handleNavigationEnd(e){let a=this.navigationStateSubject.value.currentRoute;this.updateNavigationState({currentRoute:e.url,previousRoute:a,canGoBack:this.navigationStack.length>0||this.canNavigateBack()})}handlePopState(){let e=this.router.url,r=this.navigationStateSubject.value;e!==r.currentRoute&&this.updateNavigationState({currentRoute:e,previousRoute:r.currentRoute,canGoBack:this.navigationStack.length>0||this.canNavigateBack()})}setupHardwareBackButton(){if(this.platform.ANDROID){let e=r=>{r.preventDefault(),this.ngZone.run(()=>{this.handleHardwareBackButton()})};document.addEventListener("backbutton",e,!1),this.destroy$.subscribe(()=>{document.removeEventListener("backbutton",e)})}this.platform.IOS&&this.setupIosBackGesture()}setupIosBackGesture(){let e=0,r=0,a=50,o=d=>{e=d.touches[0].clientX,r=d.touches[0].clientY},s=d=>{let u=d.changedTouches[0].clientX,m=d.changedTouches[0].clientY,f=e-u,_=Math.abs(r-m);f>a&&_<a&&e<50&&this.ngZone.run(()=>{this.handleHardwareBackButton()})};document.addEventListener("touchstart",o,{passive:!0}),document.addEventListener("touchend",s,{passive:!0}),this.destroy$.subscribe(()=>{document.removeEventListener("touchstart",o),document.removeEventListener("touchend",s)})}setupKeyboardNavigation(){let e=r=>{r.altKey&&r.key==="ArrowLeft"&&(r.preventDefault(),this.ngZone.run(()=>{this.goBack()})),r.key==="Escape"&&this.ngZone.run(()=>{this.handleEscapeKey()})};document.addEventListener("keydown",e),this.destroy$.subscribe(()=>{document.removeEventListener("keydown",e)})}handleHardwareBackButton(){let e=this.navigationStateSubject.value;if(this.isInModal()){this.closeModal();return}e.canGoBack?this.goBack():this.showExitConfirmation()}handleEscapeKey(){this.isInModal()&&this.closeModal()}isInModal(){return document.querySelectorAll('.modal, .dialog, [role="dialog"]').length>0}closeModal(){let e=document.querySelectorAll('.modal, .dialog, [role="dialog"]');if(e.length>0){let a=e[e.length-1].querySelector('[data-dismiss="modal"], .close, .modal-close');a&&a.click()}}showExitConfirmation(){this.navigationStateSubject.value.isStandalone&&confirm("Do you want to exit the app?")&&this.exitApp()}exitApp(){this.navigationStateSubject.value.isStandalone&&window.close()}addToNavigationStack(e){e&&e!=="/"&&(this.navigationStack.push(e),this.navigationStack.length>this.maxStackSize&&this.navigationStack.shift())}canNavigateBack(){return this.navigationStack.length>0||window.history.length>1}goBack(){let e=this.navigationStateSubject.value;if(this.navigationStack.length>0){let r=this.navigationStack.pop();if(r){this.router.navigateByUrl(r);return}}window.history.length>1?this.location.back():this.router.navigate(["/dashboard"])}goForward(){this.location.forward()}navigateTo(e){this.router.navigateByUrl(e)}clearNavigationStack(){this.navigationStack=[],this.updateNavigationState({canGoBack:!1,navigationStack:[]})}getNavigationStack(){return[...this.navigationStack]}isStandaloneMode(){return this.navigationStateSubject.value.isStandalone}isMobileMode(){return this.navigationStateSubject.value.isMobile}updateNavigationState(e){let r=this.navigationStateSubject.value,a=ce(ce({},r),e);e.navigationStack&&(this.navigationStack=e.navigationStack),this.navigationStateSubject.next(a)}destroy(){this.destroy$.next(),this.destroy$.complete(),this.navigationStack=[],this.navigationStateSubject.next({canGoBack:!1,currentRoute:"",previousRoute:"",navigationStack:[],isStandalone:!1,isMobile:!1})}};t.\u0275fac=function(r){return new(r||t)(Ne(ig),Ne(on),Ne(sC),Ne(Ji),Ne(Ps))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function xW(n,t){n&1&&(c(0,"div",1)(1,"div",2),oe(2,"div",3),c(3,"span",4),g(4,"Offline"),l()()()),n&2&&O("@slideDown",void 0)}function CW(n,t){n&1&&(c(0,"div",1)(1,"div",5),oe(2,"div",6),c(3,"span",7),g(4,"Connected"),l()()()),n&2&&O("@slideDown",void 0)}var YP=(()=>{let t=class t{constructor(e,r){this.commonSyncService=e,this.notificationService=r,this.isOnline=!0,this.showOnlineBanner=!1,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.commonSyncService.networkStatus$.subscribe(e=>{let r=this.isOnline;this.isOnline=e.online,this.isOnline||console.log("You are offline. Please check your internet connection."),!r&&this.isOnline&&(this.showOnlineBanner=!0,console.log("Connection restored. Syncing data..."),setTimeout(()=>{this.showOnlineBanner=!1},Ut.NOTIFICATIONS.AUTO_HIDE_DELAY))}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}dismissOfflineBanner(){}dismissOnlineBanner(){this.showOnlineBanner=!1}};t.\u0275fac=function(r){return new(r||t)(W(pa),W(Ct))},t.\u0275cmp=Le({type:t,selectors:[["app-offline-indicator"]],decls:2,vars:2,consts:[["class","fixed top-3 left-12 z-50",4,"ngIf"],[1,"fixed","top-3","left-12","z-50"],[1,"flex","items-center","space-x-2","bg-gray-800","bg-opacity-50","rounded-full","px-3","py-1","shadow-lg"],[1,"w-2","h-2","bg-red-500","rounded-full"],[1,"text-white","text-xm","font-medium"],[1,"flex","items-center","space-x-2","bg-green-500","bg-opacity-90","rounded-full","px-3","py-1","shadow-lg"],[1,"w-2","h-2","bg-white","rounded-full"],[1,"text-white","text-sm","font-medium"]],template:function(r,a){r&1&&L(0,xW,5,1,"div",0)(1,CW,5,1,"div",0),r&2&&(O("ngIf",!a.isOnline),p(),O("ngIf",a.showOnlineBanner))},dependencies:[ct],styles:["[_nghost-%COMP%]{display:block}.offline-banner[_ngcontent-%COMP%]{transition:all .3s ease}.offline-banner[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026}.online-banner[_ngcontent-%COMP%]{transition:all .3s ease}.online-banner[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026}.connection-indicator[_ngcontent-%COMP%]{transition:all .2s ease}.connection-indicator[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.close-button[_ngcontent-%COMP%]{transition:all .2s ease}.close-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"],data:{animation:[Zg("slideDown",[Sl("void",wl({transform:"translateY(-100%)",opacity:0})),Sl("*",wl({transform:"translateY(0)",opacity:1})),kl("void => *",[Ol("0.3s ease-out")]),kl("* => void",[Ol("0.2s ease-in")])])]}});let n=t;return n})();var UP=(()=>{let t=class t{constructor(e){this.swUpdate=e,this.updateInfoSubject=new un({available:!1,currentVersion:"",newVersion:"",updateReady:!1}),this.updateInfo$=this.updateInfoSubject.asObservable(),this.initializeServiceWorker()}initializeServiceWorker(){if(this.swUpdate.isEnabled){this.checkForUpdates(),this.swUpdate.versionUpdates.pipe(Qi(r=>r.type==="VERSION_READY")).subscribe(r=>{console.log("New version ready:",r),this.handleVersionReady(r)}),this.swUpdate.unrecoverable.subscribe(r=>{console.error("Unrecoverable service worker error:",r),this.handleUnrecoverableError(r)});let e=Ut.PWA.UPDATE_CHECK_INTERVAL;setInterval(()=>{this.checkForUpdates()},e),document.addEventListener("visibilitychange",()=>{document.hidden||this.checkForUpdates()})}}checkForUpdates(){this.swUpdate.checkForUpdate().then(()=>{console.log("Service worker update check completed")}).catch(e=>{console.error("Service worker update check failed:",e)})}handleVersionReady(e){let r={available:!0,currentVersion:this.getVersionFromAppData(e.currentVersion.appData)||"unknown",newVersion:this.getVersionFromAppData(e.latestVersion.appData)||"unknown",updateReady:!0};this.updateInfoSubject.next(r),this.activateUpdateSilently()}getVersionFromAppData(e){if(e&&typeof e=="object")return e.version||e.version}handleUnrecoverableError(e){window.location.reload()}activateUpdateSilently(){return this.swUpdate.activateUpdate().then(()=>(console.log("Service worker update activated silently"),this.updateInfoSubject.next({available:!1,currentVersion:"",newVersion:"",updateReady:!1}),window.location.reload(),!0)).catch(e=>(console.error("Failed to activate service worker update:",e),!1))}activateUpdate(){return this.activateUpdateSilently()}checkForUpdate(){return this.swUpdate.checkForUpdate().then(e=>(console.log(e?"Update available":"No update available"),e)).catch(e=>(console.error("Update check failed:",e),!1))}getCurrentVersion(){return this.updateInfoSubject.value.currentVersion}isUpdateAvailable(){return this.updateInfoSubject.value.available}isUpdateReady(){return this.updateInfoSubject.value.updateReady}handleNavigationEvent(e){e&&e.type==="NAVIGATION"&&console.log("Navigation event received:",e)}registerCustomHandlers(){"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",e=>{if(e.data&&e.data.type)switch(e.data.type){case"NAVIGATION":this.handleNavigationEvent(e.data);break;case"CACHE_UPDATED":console.log("Cache updated:",e.data);break;case"OFFLINE_MODE":console.log("Offline mode activated");break;default:console.log("Unknown service worker message:",e.data)}})}sendMessageToSw(e){"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(e)}handleInstallPrompt(){console.log("App ready for installation")}isAppInstalled(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}handleVisibilityChange(){document.hidden?(console.log("App went to background"),this.saveAppState()):(console.log("App came to foreground"),this.checkForUpdates())}saveAppState(){let e={timestamp:Date.now(),url:window.location.href,scrollPosition:window.scrollY};try{localStorage.setItem("app-background-state",JSON.stringify(e))}catch(r){console.warn("Failed to save app state:",r)}}};t.\u0275fac=function(r){return new(r||t)(Ne(PC))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function yW(n,t){if(n&1){let i=ue();c(0,"div",1)(1,"div",2)(2,"div",3),zi(),c(3,"svg",4),oe(4,"path",5)(5,"path",6)(6,"path",7),l()(),Ma(),c(7,"div",8)(8,"h3"),g(9),l(),c(10,"p"),g(11,"Add to your home screen for quick access and offline functionality"),l()(),c(12,"div",9)(13,"button",10),R("click",function(){j(i);let r=y();return z(r.installApp())}),g(14," Install App "),l(),c(15,"button",11),R("click",function(){j(i);let r=y();return z(r.dismissPrompt())}),g(16," Not Now "),l()(),c(17,"button",12),R("click",function(){j(i);let r=y();return z(r.dismissPrompt())}),zi(),c(18,"svg",13),oe(19,"path",14),l()()()()}if(n&2){let i=y();p(9),ee("Install ",i.APP_CONFIG.APP_NAME,""),p(8),ga("aria-label","Close install prompt")}}var GP=(()=>{let t=class t{constructor(e,r){this.pwaSwService=e,this.ssrService=r,this.installClicked=new Mn,this.dismissClicked=new Mn,this.APP_CONFIG=Ut,this.showInstallPrompt=!1,this.destroy$=new It}ngOnInit(){this.setupInstallPrompt()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setupInstallPrompt(){this.ssrService.isClientSide()&&(window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),this.deferredPrompt=e;let r=localStorage.getItem("pwa-install-dismissed"),a=localStorage.getItem("pwa-install-dismissed-time"),o=!0;if(r&&a){let s=Date.now(),d=parseInt(a,10);o=(s-d)/(1e3*60*60*24)>=Ut.install_prompt_dismissed_days}o&&!this.pwaSwService.isAppInstalled()?(this.showInstallPrompt=!0,console.log("Install prompt ready and showing")):console.log("Install prompt ready but not showing (either dismissed or already installed)")}),window.addEventListener("appinstalled",()=>{this.showInstallPrompt=!1,this.deferredPrompt=null,console.log("App installed successfully")}),this.pwaSwService.isAppInstalled()&&(this.showInstallPrompt=!1))}installApp(){return ge(this,null,function*(){if(this.deferredPrompt){this.installClicked.emit(),this.deferredPrompt.prompt();let{outcome:e}=yield this.deferredPrompt.userChoice;e==="accepted"?(console.log("User accepted the install prompt"),this.showInstallPrompt=!1):(console.log("User dismissed the install prompt"),this.dismissPrompt()),this.deferredPrompt=null}})}dismissPrompt(){this.dismissClicked.emit(),this.showInstallPrompt=!1,localStorage.setItem("pwa-install-dismissed","true"),localStorage.setItem("pwa-install-dismissed-time",Date.now().toString())}};t.\u0275fac=function(r){return new(r||t)(W(UP),W(ia))},t.\u0275cmp=Le({type:t,selectors:[["app-pwa-install-prompt"]],outputs:{installClicked:"installClicked",dismissClicked:"dismissClicked"},decls:1,vars:1,consts:[["class","pwa-install-prompt",4,"ngIf"],[1,"pwa-install-prompt"],[1,"install-content"],[1,"install-icon"],["width","48","height","48","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 2L2 7L12 12L22 7L12 2Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M2 17L12 22L22 17","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M2 12L12 17L22 12","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"install-text"],[1,"install-actions"],["type","button",1,"install-btn","primary",3,"click"],["type","button",1,"install-btn","secondary",3,"click"],["type","button",1,"close-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M18 6L6 18M6 6L18 18","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(r,a){r&1&&L(0,yW,20,2,"div",0),r&2&&O("ngIf",a.showInstallPrompt)},dependencies:[ct],styles:[".pwa-install-prompt[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:20px;right:20px;z-index:1000;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.install-content[_ngcontent-%COMP%]{background:var(--surface-color, #ffffff);border:1px solid var(--border-color, #e2e8f0);border-radius:16px;padding:20px;box-shadow:0 10px 25px #0000001a;position:relative;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.install-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:16px;color:var(--primary-color, #3b82f6)}.install-text[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.install-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 8px}.install-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0;line-height:1.5}.install-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center}.install-btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;min-width:100px}.install-btn.primary[_ngcontent-%COMP%]{background:var(--primary-color, #3b82f6);color:#fff}.install-btn.primary[_ngcontent-%COMP%]:hover{background:var(--primary-color-dark, #2563eb);transform:translateY(-1px)}.install-btn.secondary[_ngcontent-%COMP%]{background:var(--surface-color, #f8fafc);color:var(--text-color, #1e293b);border:1px solid var(--border-color, #e2e8f0)}.install-btn.secondary[_ngcontent-%COMP%]:hover{background:var(--surface-hover-color, #f1f5f9)}.close-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;width:32px;height:32px;border:none;border-radius:50%;background:var(--surface-color, #f8fafc);color:var(--text-muted, #64748b);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.close-btn[_ngcontent-%COMP%]:hover{background:var(--surface-hover-color, #f1f5f9);color:var(--text-color, #1e293b)}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.pwa-install-prompt[_ngcontent-%COMP%]{bottom:16px;left:16px;right:16px}.install-content[_ngcontent-%COMP%]{padding:16px}.install-actions[_ngcontent-%COMP%]{flex-direction:column}.install-btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.pwa-install-prompt[_ngcontent-%COMP%]{bottom:12px;left:12px;right:12px}.install-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.install-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}}@media (prefers-color-scheme: dark){.install-content[_ngcontent-%COMP%]{background:#0f172af2;border-color:#334155}.install-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f1f5f9}.install-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}.install-btn.secondary[_ngcontent-%COMP%]{background:#1e293b;color:#f1f5f9;border-color:#334155}.install-btn.secondary[_ngcontent-%COMP%]:hover{background:#334155}.close-btn[_ngcontent-%COMP%]{background:#1e293b;color:#94a3b8}.close-btn[_ngcontent-%COMP%]:hover{background:#334155;color:#f1f5f9}}"]});let n=t;return n})();var WP=(()=>{let t=class t{constructor(e,r,a,o,s,d){this.location=e,this.loaderService=r,this.pwaNavigationService=a,this.commonSyncService=o,this.ssrService=s,this.firebaseMessagingService=d,this.title=Ut.APP_NAME,this.isOnline=!1,this.destroy$=new It,this.navigationState={canGoBack:!1,currentRoute:"",previousRoute:"",navigationStack:[],isStandalone:!1,isMobile:!1}}ngOnInit(){this.ssrService.isClientSide()&&(this.isOnline=navigator.onLine),this.initializePwaFeatures(),this.setupEventListeners(),this.firebaseMessagingService.listenForMessages()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.pwaNavigationService.destroy()}initializePwaFeatures(){this.pwaNavigationService.navigationState$.pipe(bt(this.destroy$)).subscribe(e=>{this.navigationState=e}),this.commonSyncService.isOnline$.pipe(bt(this.destroy$)).subscribe(e=>{this.isOnline=e})}setupEventListeners(){this.ssrService.isClientSide()&&(window.addEventListener("online",()=>this.isOnline=!0),window.addEventListener("offline",()=>this.isOnline=!1),window.addEventListener("beforeunload",e=>{this.navigationState.isStandalone&&this.saveAppState()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?this.handleAppBackground():document.visibilityState==="visible"&&this.handleAppForeground()}))}saveAppState(){let e={currentRoute:this.navigationState.currentRoute,navigationStack:this.navigationState.navigationStack,timestamp:Date.now()};try{localStorage.setItem("app-state",JSON.stringify(e))}catch(r){console.warn("Failed to save app state:",r)}}handleAppBackground(){this.saveAppState(),this.loaderService.hide()}handleAppForeground(){this.isOnline&&this.refreshDataIfNeeded()}refreshDataIfNeeded(){let e=localStorage.getItem("last-data-refresh"),r=Date.now(),a=Ut.OFFLINE.SYNC_INTERVAL;(!e||r-parseInt(e)>a)&&localStorage.setItem("last-data-refresh",r.toString())}goBack(){this.pwaNavigationService.goBack()}goForward(){this.pwaNavigationService.goForward()}handlePwaAction(e){if(this.ssrService.isClientSide())switch(e){case"back":this.goBack();break;case"forward":this.goForward();break;case"home":this.pwaNavigationService.navigateTo("/dashboard");break;case"refresh":window.location.reload();break;default:console.warn("Unknown PWA action:",e)}}onInstallClicked(){console.log("PWA install clicked")}onDismissClicked(){console.log("PWA install dismissed")}};t.\u0275fac=function(r){return new(r||t)(W(ig),W(Al),W(cp),W(pa),W(ia),W(sp))},t.\u0275cmp=Le({type:t,selectors:[["app-root"]],decls:5,vars:0,consts:[[3,"installClicked","dismissClicked"]],template:function(r,a){r&1&&(oe(0,"app-offline-indicator"),c(1,"app-pwa-install-prompt",0),R("installClicked",function(){return a.onInstallClicked()})("dismissClicked",function(){return a.onDismissClicked()}),l(),c(2,"div"),oe(3,"app-loader")(4,"router-outlet"),l())},dependencies:[cg,Eb,YP,GP],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.content[_ngcontent-%COMP%]{padding:16px}.offline-banner[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;background:red;color:#fff;text-align:center;padding:5px}"]});let n=t;return n})();var PW="@",OW=(()=>{let t=class t{constructor(e,r,a,o,s){this.doc=e,this.delegate=r,this.zone=a,this.animationType=o,this.moduleImpl=s,this._rendererFactoryPromise=null,this.scheduler=ya(G_,{optional:!0})}ngOnDestroy(){var e;(e=this._engine)==null||e.flush()}loadImpl(){var r;return((r=this.moduleImpl)!=null?r:import("./chunk-7N3HG466.js").then(a=>a)).catch(a=>{throw new B_(5300,!1)}).then(({\u0275createEngine:a,\u0275AnimationRendererFactory:o})=>{this._engine=a(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,r){var s,d;let a=this.delegate.createRenderer(e,r);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let o=new v1(a);return(s=r==null?void 0:r.data)!=null&&s.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),(d=this._rendererFactoryPromise)==null||d.then(u=>{var f;let m=u.createRenderer(e,r);o.use(m),(f=this.scheduler)==null||f.notify(9)}).catch(u=>{o.use(a)}),o}begin(){var e,r;(r=(e=this.delegate).begin)==null||r.call(e)}end(){var e,r;(r=(e=this.delegate).end)==null||r.call(e)}whenRenderingDone(){var e,r,a;return(a=(r=(e=this.delegate).whenRenderingDone)==null?void 0:r.call(e))!=null?a:Promise.resolve()}};t.\u0275fac=function(r){U_()},t.\u0275prov=xt({token:t,factory:t.\u0275fac});let n=t;return n})(),v1=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,e,r){this.delegate.insertBefore(t,i,e,r)}removeChild(t,i,e){this.delegate.removeChild(t,i,e)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,e,r){this.delegate.setAttribute(t,i,e,r)}removeAttribute(t,i,e){this.delegate.removeAttribute(t,i,e)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,e,r){this.delegate.setStyle(t,i,e,r)}removeStyle(t,i,e){this.delegate.removeStyle(t,i,e)}setProperty(t,i,e){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(t,i,e)),this.delegate.setProperty(t,i,e)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,e){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(t,i,e)),this.delegate.listen(t,i,e)}shouldReplay(t){return this.replay!==null&&t.startsWith(PW)}};function HP(n="animations"){return Bp("NgAsyncAnimations"),sl([{provide:eg,useFactory:(t,i,e)=>new OW(t,i,e,n),deps:[ng,ag,Ji]},{provide:Ad,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var wW=(()=>{let t=class t extends yu{constructor(e,r,a){super(e,r,a)}ngOnDestroy(){this.flush()}};t.\u0275fac=function(r){return new(r||t)(Ne(ng),Ne(zd),Ne(vu))},t.\u0275prov=xt({token:t,factory:t.\u0275fac});let n=t;return n})();function SW(){return new Fb}function kW(n,t,i){return new Nb(n,t,i)}var qP=[{provide:vu,useFactory:SW},{provide:yu,useClass:wW},{provide:eg,useFactory:kW,deps:[ag,yu,Ji]}],XP=[{provide:zd,useFactory:()=>new Rb},{provide:Ad,useValue:"BrowserAnimations"},...qP],TW=[{provide:zd,useClass:Db},{provide:Ad,useValue:"NoopAnimations"},...qP],KP=(()=>{let t=class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?TW:XP}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pr({type:t}),t.\u0275inj=Mr({providers:XP,imports:[og]});let n=t;return n})();var EW=da(ZP(),1),QP=(()=>{let t=class t{constructor(){this._papa=EW}parse(e,r){return this._papa.parse(e,r)}unparse(e,r){return this._papa.unparse(e,r)}setLocalChunkSize(e){this._papa.LocalChunkSize=e}setRemoteChunkSize(e){this._papa.RemoteChunkSize=e}setDefaultDelimiter(e){this._papa.DefaultDelimiter=e}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var JP=(()=>{let t=class t{constructor(e,r){this.matIconRegistry=e,this.domSanitizer=r,this.matIconRegistry.addSvgIconSet(this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icon/system-uicons.svg")),this.matIconRegistry.addSvgIcon("test",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icon/test.svg")),this.matIconRegistry.addSvgIcon("add-txn",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icon/add-txn.svg"))}};t.\u0275fac=function(r){return new(r||t)(Ne(uC),Ne(dx))},t.\u0275mod=Pr({type:t}),t.\u0275inj=Mr({});let n=t;return n})();var N0="PERFORM_ACTION",FW="REFRESH",aO="RESET",oO="ROLLBACK",sO="COMMIT",cO="SWEEP",lO="TOGGLE_ACTION",RW="SET_ACTIONS_ACTIVE",dO="JUMP_TO_STATE",gO="JUMP_TO_ACTION",N1="IMPORT_STATE",uO="LOCK_CHANGES",mO="PAUSE_RECORDING",bd=class{constructor(t,i){if(this.action=t,this.timestamp=i,this.type=N0,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},P1=class{constructor(){this.type=FW}},O1=class{constructor(t){this.timestamp=t,this.type=aO}},w1=class{constructor(t){this.timestamp=t,this.type=oO}},S1=class{constructor(t){this.timestamp=t,this.type=sO}},k1=class{constructor(){this.type=cO}},T1=class{constructor(t){this.id=t,this.type=lO}};var E1=class{constructor(t){this.index=t,this.type=dO}},A1=class{constructor(t){this.actionId=t,this.type=gO}},I1=class{constructor(t){this.nextLiftedState=t,this.type=N1}},D1=class{constructor(t){this.status=t,this.type=uO}},F1=class{constructor(t){this.status=t,this.type=mO}};var up=new Wa("@ngrx/store-devtools Options"),eO=new Wa("@ngrx/store-devtools Initial Config");function pO(){return null}var NW="NgRx Store DevTools";function LW(n){let t={maxAge:!1,monitor:pO,actionSanitizer:void 0,stateSanitizer:void 0,name:NW,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},i=typeof n=="function"?n():n,e=i.logOnly?{pause:!0,export:!0,test:!0}:!1,r=i.features||e||t.features;r.import===!0&&(r.import="custom");let a=Object.assign({},t,{features:r},i);if(a.maxAge&&a.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${a.maxAge}`);return a}function tO(n,t){return n.filter(i=>t.indexOf(i)<0)}function fO(n){let{computedStates:t,currentStateIndex:i}=n;if(i>=t.length){let{state:r}=t[t.length-1];return r}let{state:e}=t[i];return e}function R0(n){return new bd(n,+Date.now())}function BW(n,t){return Object.keys(t).reduce((i,e)=>{let r=Number(e);return i[r]=hO(n,t[r],r),i},{})}function hO(n,t,i){return de(ce({},t),{action:n(t.action,i)})}function VW(n,t){return t.map((i,e)=>({state:_O(n,i.state,e),error:i.error}))}function _O(n,t,i){return n(t,i)}function xO(n){return n.predicate||n.actionsSafelist||n.actionsBlocklist}function $W(n,t,i,e){let r=[],a={},o=[];return n.stagedActionIds.forEach((s,d)=>{let u=n.actionsById[s];u&&(d&&L1(n.computedStates[d],u,t,i,e)||(a[s]=u,r.push(s),o.push(n.computedStates[d])))}),de(ce({},n),{stagedActionIds:r,actionsById:a,computedStates:o})}function L1(n,t,i,e,r){let a=i&&!i(n,t.action),o=e&&!t.action.type.match(e.map(d=>nO(d)).join("|")),s=r&&t.action.type.match(r.map(d=>nO(d)).join("|"));return a||o||s}function nO(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function CO(n){return{ngZone:n?ya(Ji):null,connectInZone:n}}var mp=(()=>{let t=class t extends gg{};t.\u0275fac=(()=>{let e;return function(a){return(e||(e=$_(t)))(a||t)}})(),t.\u0275prov=xt({token:t,factory:t.\u0275fac});let n=t;return n})(),lp={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},R1=new Wa("@ngrx/store-devtools Redux Devtools Extension"),bO=(()=>{let t=class t{constructor(e,r,a){this.config=r,this.dispatcher=a,this.zoneConfig=CO(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()}notify(e,r){if(this.devtoolsExtension)if(e.type===N0){if(r.isLocked||r.isPaused)return;let a=fO(r);if(xO(this.config)&&L1(a,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?_O(this.config.stateSanitizer,a,r.currentStateIndex):a,s=this.config.actionSanitizer?hO(this.config.actionSanitizer,e,r.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(s,o))}else{let a=de(ce({},r),{stagedActionIds:r.stagedActionIds,actionsById:this.config.actionSanitizer?BW(this.config.actionSanitizer,r.actionsById):r.actionsById,computedStates:this.config.stateSanitizer?VW(this.config.stateSanitizer,r.computedStates):r.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,a,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new Jt(e=>{let r=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=r,r.init(),r.subscribe(a=>e.next(a)),r.unsubscribe}):w_}createActionStreams(){let e=this.createChangesObservable().pipe(D_()),r=e.pipe(Qi(m=>m.type===lp.START)),a=e.pipe(Qi(m=>m.type===lp.STOP)),o=e.pipe(Qi(m=>m.type===lp.DISPATCH),Ye(m=>this.unwrapAction(m.payload)),T_(m=>m.type===N1?this.dispatcher.pipe(Qi(f=>f.type===jp),k_(1e3),Ed(1e3),Ye(()=>m),Ot(()=>_t(m)),yr(1)):_t(m))),d=e.pipe(Qi(m=>m.type===lp.ACTION),Ye(m=>this.unwrapAction(m.payload))).pipe(bt(a)),u=o.pipe(bt(a));this.start$=r.pipe(bt(a)),this.actions$=this.start$.pipe(pr(()=>d)),this.liftedActions$=this.start$.pipe(pr(()=>u))}unwrapAction(e){return typeof e=="string"?(0,eval)(`(${e})`):e}getExtensionConfig(e){var a,o,s;let r={name:e.name,features:e.features,serialize:e.serialize,autoPause:(a=e.autoPause)!=null?a:!1,trace:(o=e.trace)!=null?o:!1,traceLimit:(s=e.traceLimit)!=null?s:75};return e.maxAge!==!1&&(r.maxAge=e.maxAge),r}sendToReduxDevtools(e){try{e()}catch(r){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",r)}}};t.\u0275fac=function(r){return new(r||t)(Ne(R1),Ne(up),Ne(mp))},t.\u0275prov=xt({token:t,factory:t.\u0275fac});let n=t;return n})(),gp={type:$p},jW="@ngrx/store-devtools/recompute",zW={type:jW};function vO(n,t,i,e,r){if(e)return{state:i,error:"Interrupted by an error up the chain"};let a=i,o;try{a=n(i,t)}catch(s){o=s.toString(),r.handleError(s)}return{state:a,error:o}}function dp(n,t,i,e,r,a,o,s,d){if(t>=n.length&&n.length===a.length)return n;let u=n.slice(0,t),m=a.length-(d?1:0);for(let f=t;f<m;f++){let _=a[f],x=r[_].action,v=u[f-1],b=v?v.state:e,M=v?v.error:void 0,w=o.indexOf(_)>-1?v:vO(i,x,b,M,s);u.push(w)}return d&&u.push(n[n.length-1]),u}function YW(n,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:R0(gp)},stagedActionIds:[0],skippedActionIds:[],committedState:n,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function UW(n,t,i,e,r={}){return a=>(o,s)=>{let{monitorState:d,actionsById:u,nextActionId:m,stagedActionIds:f,skippedActionIds:_,committedState:x,currentStateIndex:v,computedStates:b,isLocked:M,isPaused:S}=o||t;o||(u=Object.create(u));function w(U){let A=U,k=f.slice(1,A+1);for(let I=0;I<k.length;I++)if(b[I+1].error){A=I,k=f.slice(1,A+1);break}else delete u[k[I]];_=_.filter(I=>k.indexOf(I)===-1),f=[0,...f.slice(A+1)],x=b[A].state,b=b.slice(A),v=v>A?v-A:0}function T(){u={0:R0(gp)},m=1,f=[0],_=[],x=b[v].state,v=0,b=[]}let F=0;switch(s.type){case uO:{M=s.status,F=1/0;break}case mO:{S=s.status,S?(f=[...f,m],u[m]=new bd({type:"@ngrx/devtools/pause"},+Date.now()),m++,F=f.length-1,b=b.concat(b[b.length-1]),v===f.length-2&&v++,F=1/0):T();break}case aO:{u={0:R0(gp)},m=1,f=[0],_=[],x=n,v=0,b=[];break}case sO:{T();break}case oO:{u={0:R0(gp)},m=1,f=[0],_=[],v=0,b=[];break}case lO:{let{id:U}=s;_.indexOf(U)===-1?_=[U,..._]:_=_.filter(k=>k!==U),F=f.indexOf(U);break}case RW:{let{start:U,end:A,active:k}=s,I=[];for(let B=U;B<A;B++)I.push(B);k?_=tO(_,I):_=[..._,...I],F=f.indexOf(U);break}case dO:{v=s.index,F=1/0;break}case gO:{let U=f.indexOf(s.actionId);U!==-1&&(v=U),F=1/0;break}case cO:{f=tO(f,_),_=[],v=Math.min(v,f.length-1);break}case N0:{if(M)return o||t;if(S||o&&L1(o.computedStates[v],s,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let A=b[b.length-1];b=[...b.slice(0,-1),vO(a,s.action,A.state,A.error,i)],F=1/0;break}r.maxAge&&f.length===r.maxAge&&w(1),v===f.length-1&&v++;let U=m++;u[U]=s,f=[...f,U],F=f.length-1;break}case N1:{({monitorState:d,actionsById:u,nextActionId:m,stagedActionIds:f,skippedActionIds:_,committedState:x,currentStateIndex:v,computedStates:b,isLocked:M,isPaused:S}=s.nextLiftedState);break}case $p:{F=0,r.maxAge&&f.length>r.maxAge&&(b=dp(b,F,a,x,u,f,_,i,S),w(f.length-r.maxAge),F=1/0);break}case jp:{if(b.filter(A=>A.error).length>0)F=0,r.maxAge&&f.length>r.maxAge&&(b=dp(b,F,a,x,u,f,_,i,S),w(f.length-r.maxAge),F=1/0);else{if(!S&&!M){v===f.length-1&&v++;let A=m++;u[A]=new bd(s,+Date.now()),f=[...f,A],F=f.length-1,b=dp(b,F,a,x,u,f,_,i,S)}b=b.map(A=>de(ce({},A),{state:a(A.state,zW)})),v=f.length-1,r.maxAge&&f.length>r.maxAge&&w(f.length-r.maxAge),F=1/0}break}default:{F=1/0;break}}return b=dp(b,F,a,x,u,f,_,i,S),d=e(d,s),{monitorState:d,actionsById:u,nextActionId:m,stagedActionIds:f,skippedActionIds:_,committedState:x,currentStateIndex:v,computedStates:b,isLocked:M,isPaused:S}}}var iO=(()=>{let t=class t{constructor(e,r,a,o,s,d,u,m){let f=YW(u,m.monitor),_=UW(u,f,d,m.monitor,m),x=Fp(Fp(r.asObservable().pipe(F_(1)),o.actions$).pipe(Ye(R0)),e,o.liftedActions$).pipe(S_(O_)),v=a.pipe(Ye(_)),b=CO(m.connectInZone),M=new Qo(1);this.liftedStateSubscription=x.pipe(L_(v),rO(b),I_(({state:T},[F,U])=>{let A=U(T,F);return F.type!==N0&&xO(m)&&(A=$W(A,m.predicate,m.actionsSafelist,m.actionsBlocklist)),o.notify(F,A),{state:A,action:F}},{state:f,action:null})).subscribe(({state:T,action:F})=>{if(M.next(T),F.type===N0){let U=F.action;s.next(U)}}),this.extensionStartSubscription=o.start$.pipe(rO(b)).subscribe(()=>{this.refresh()});let S=M.asObservable(),w=S.pipe(Ye(fO));Object.defineProperty(w,"state",{value:bx(w,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=S,this.state=w}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(e){this.dispatcher.next(e)}next(e){this.dispatcher.next(e)}error(e){}complete(){}performAction(e){this.dispatch(new bd(e,+Date.now()))}refresh(){this.dispatch(new P1)}reset(){this.dispatch(new O1(+Date.now()))}rollback(){this.dispatch(new w1(+Date.now()))}commit(){this.dispatch(new S1(+Date.now()))}sweep(){this.dispatch(new k1)}toggleAction(e){this.dispatch(new T1(e))}jumpToAction(e){this.dispatch(new A1(e))}jumpToState(e){this.dispatch(new E1(e))}importState(e){this.dispatch(new I1(e))}lockChanges(e){this.dispatch(new D1(e))}pauseRecording(e){this.dispatch(new F1(e))}};t.\u0275fac=function(r){return new(r||t)(Ne(mp),Ne(gg),Ne(yx),Ne(bO),Ne(Px),Ne(z_),Ne(vx),Ne(up))},t.\u0275prov=xt({token:t,factory:t.\u0275fac});let n=t;return n})();function rO({ngZone:n,connectInZone:t}){return i=>t?new Jt(e=>i.subscribe({next:r=>n.run(()=>e.next(r)),error:r=>n.run(()=>e.error(r)),complete:()=>n.run(()=>e.complete())})):i}var GW=new Wa("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function WW(n,t){return!!n||t.monitor!==pO}function HW(){let n="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[n]<"u"?window[n]:null}function XW(n={}){return sl([bO,mp,iO,{provide:eO,useValue:n},{provide:GW,deps:[R1,up],useFactory:WW},{provide:R1,useFactory:HW},{provide:up,deps:[eO],useFactory:LW},{provide:Ox,deps:[iO],useFactory:qW},{provide:Mx,useExisting:mp}])}function qW(n){return n.state}var yO=(()=>{let t=class t{static instrument(e={}){return{ngModule:t,providers:[XW(e)]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pr({type:t}),t.\u0275inj=Mr({});let n=t;return n})();var B1={entities:{},ids:[],loading:!1,error:null,selectedTransactionId:null};var MO=Oa(B1,Fe(ni,n=>de(ce({},n),{loading:!0,error:null})),Fe(Bg,(n,{transactions:t})=>{let i=t.reduce((r,a)=>(a.id&&(r[a.id]=a),r),{}),e=t.map(r=>r.id).filter(r=>r);return de(ce({},n),{entities:i,ids:e,loading:!1,error:null})}),Fe(Vg,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(Es,n=>de(ce({},n),{loading:!0,error:null})),Fe(xl,(n,{transaction:t})=>t.id?de(ce({},n),{entities:de(ce({},n.entities),{[t.id]:t}),ids:[...n.ids,t.id],loading:!1,error:null}):n),Fe($g,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(As,n=>de(ce({},n),{loading:!0,error:null})),Fe(Cl,(n,{transaction:t})=>t.id?de(ce({},n),{entities:de(ce({},n.entities),{[t.id]:t}),loading:!1,error:null}):n),Fe(jg,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(bl,n=>de(ce({},n),{loading:!0,error:null})),Fe(Is,(n,{transactionId:t})=>{let r=n.entities,{[t]:i}=r,e=al(r,[rl(t)]);return de(ce({},n),{entities:e,ids:n.ids.filter(a=>a!==t),loading:!1,error:null})}),Fe(zg,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(Yg,n=>de(ce({},n),{loading:!0,error:null})),Fe(Ug,(n,{transaction:t})=>t.id?de(ce({},n),{entities:de(ce({},n.entities),{[t.id]:t}),ids:n.ids.includes(t.id)?n.ids:[...n.ids,t.id],selectedTransactionId:t.id,loading:!1,error:null}):n),Fe(Fd,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(Rx,()=>B1));var V1={entities:{},ids:[],loading:!1,error:null};var PO=Oa(V1,Fe(fr,n=>de(ce({},n),{loading:!0,error:null})),Fe(Eg,(n,{categories:t})=>{let i=t.reduce((r,a)=>(a.id&&(r[a.id]=a),r),{}),e=t.map(r=>r.id).filter(r=>r);return de(ce({},n),{entities:i,ids:e,loading:!1,error:null})}),Fe(Ag,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(hl,n=>de(ce({},n),{loading:!0,error:null})),Fe(Ax,(n,{category:t})=>t.id?de(ce({},n),{entities:de(ce({},n.entities),{[t.id]:t}),ids:[...n.ids,t.id],loading:!1,error:null}):n),Fe(Ig,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(wa,n=>de(ce({},n),{loading:!0,error:null})),Fe(Ix,(n,{category:t})=>t.id?de(ce({},n),{entities:de(ce({},n.entities),{[t.id]:t}),loading:!1,error:null}):n),Fe(Dg,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(_l,n=>de(ce({},n),{loading:!0,error:null})),Fe(Fg,(n,{categoryId:t})=>{let r=n.entities,{[t]:i}=r,e=al(r,[rl(t)]);return de(ce({},n),{entities:e,ids:n.ids.filter(a=>a!==t),loading:!1,error:null})}),Fe(Rg,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(Ng,n=>de(ce({},n),{loading:!0,error:null})),Fe(Dx,(n,{categoryId:t})=>{let i=n.entities[t];return i?de(ce({},n),{entities:de(ce({},n.entities),{[t]:de(ce({},i),{parentCategoryId:void 0,isSubCategory:!1})}),loading:!1,error:null}):n}),Fe(Lg,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(Fx,()=>V1));var $1={entities:{},ids:[],loading:!1,error:null,selectedAccountId:null};var OO=Oa($1,Fe(ea,n=>de(ce({},n),{loading:!0,error:null})),Fe(mg,(n,{accounts:t})=>{let i=t.reduce((r,a)=>(r[a.accountId]=a,r),{}),e=t.map(r=>r.accountId);return de(ce({},n),{entities:i,ids:e,loading:!1,error:null})}),Fe(pg,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(fg,n=>de(ce({},n),{loading:!0,error:null})),Fe(Sx,(n,{account:t})=>de(ce({},n),{entities:de(ce({},n.entities),{[t.accountId]:t}),ids:[...n.ids,t.accountId],loading:!1,error:null})),Fe(hg,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(_g,n=>de(ce({},n),{loading:!0,error:null})),Fe(kx,(n,{account:t})=>de(ce({},n),{entities:de(ce({},n.entities),{[t.accountId]:t}),loading:!1,error:null})),Fe(xg,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(fl,n=>de(ce({},n),{loading:!0,error:null})),Fe(Cg,(n,{accountId:t})=>{let r=n.entities,{[t]:i}=r,e=al(r,[rl(t)]);return de(ce({},n),{entities:e,ids:n.ids.filter(a=>a!==t),loading:!1,error:null})}),Fe(bg,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(vg,n=>de(ce({},n),{loading:!0,error:null})),Fe(yg,(n,{account:t})=>de(ce({},n),{entities:de(ce({},n.entities),{[t.accountId]:t}),ids:n.ids.includes(t.accountId)?n.ids:[...n.ids,t.accountId],selectedAccountId:t.accountId,loading:!1,error:null})),Fe(Dd,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(Ts,n=>de(ce({},n),{loading:!0,error:null})),Fe(Mg,(n,{accountId:t,newBalance:i})=>{let e=n.entities[t];return e?de(ce({},n),{entities:de(ce({},n.entities),{[t]:de(ce({},e),{balance:i,updatedAt:new Date})}),loading:!1,error:null}):n}),Fe(Pg,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(Og,n=>de(ce({},n),{loading:!0,error:null})),Fe(wg,n=>de(ce({},n),{loading:!1,error:null})),Fe(Sg,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(kg,n=>de(ce({},n),{loading:!0,error:null})),Fe(Tx,n=>de(ce({},n),{loading:!1,error:null})),Fe(Tg,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(Ex,()=>$1));var wO={budgets:[],loading:!1,error:null};var SO=Oa(wO,Fe(yo,n=>de(ce({},n),{loading:!0,error:null})),Fe(Mu,(n,{budgets:t})=>de(ce({},n),{budgets:t,loading:!1,error:null})),Fe(Pu,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(vc,n=>de(ce({},n),{loading:!0,error:null})),Fe(Ou,(n,{budget:t})=>de(ce({},n),{budgets:[...n.budgets,t],loading:!1,error:null})),Fe(wu,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(Ll,n=>de(ce({},n),{loading:!0,error:null})),Fe(Su,(n,{budget:t})=>de(ce({},n),{budgets:n.budgets.map(i=>i.budgetId===t.budgetId?t:i),loading:!1,error:null})),Fe(ku,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(Bl,n=>de(ce({},n),{loading:!0,error:null})),Fe(Tu,(n,{budgetId:t})=>de(ce({},n),{budgets:n.budgets.filter(i=>i.budgetId!==t),loading:!1,error:null})),Fe(Eu,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(Vl,n=>de(ce({},n),{loading:!0,error:null})),Fe(Au,(n,{budget:t})=>de(ce({},n),{budgets:n.budgets.map(i=>i.budgetId===t.budgetId?t:i),loading:!1,error:null})),Fe(Iu,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})));var kO={goals:[],loading:!1,error:null};var TO=Oa(kO,Fe(Mo,n=>de(ce({},n),{loading:!0,error:null})),Fe(Du,(n,{goals:t})=>de(ce({},n),{goals:t,loading:!1,error:null})),Fe(Fu,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe($l,n=>de(ce({},n),{loading:!0,error:null})),Fe(Ru,(n,{goal:t})=>de(ce({},n),{goals:[...n.goals,t],loading:!1,error:null})),Fe(Nu,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(Lu,n=>de(ce({},n),{loading:!0,error:null})),Fe(Bu,(n,{goal:t})=>de(ce({},n),{goals:n.goals.map(i=>i.goalId===t.goalId?t:i),loading:!1,error:null})),Fe(Vu,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(jl,n=>de(ce({},n),{loading:!0,error:null})),Fe($u,(n,{goalId:t})=>de(ce({},n),{goals:n.goals.filter(i=>i.goalId!==t),loading:!1,error:null})),Fe(ju,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(zl,n=>de(ce({},n),{loading:!0,error:null})),Fe(zu,(n,{goal:t})=>de(ce({},n),{goals:n.goals.map(i=>i.goalId===t.goalId?t:i),loading:!1,error:null})),Fe(Yu,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})));var EO={profile:null,loading:!1,error:null};var AO=Oa(EO,Fe(Po,n=>de(ce({},n),{loading:!0,error:null})),Fe(Uu,(n,{profile:t})=>de(ce({},n),{profile:t,loading:!1,error:null})),Fe(Gu,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(Yl,n=>de(ce({},n),{loading:!0,error:null})),Fe(Wu,(n,{profile:t})=>de(ce({},n),{profile:t,loading:!1,error:null})),Fe(Hu,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(Xu,n=>de(ce({},n),{loading:!0,error:null})),Fe(qu,(n,{profile:t})=>de(ce({},n),{profile:t,loading:!1,error:null})),Fe(Ku,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(Zu,n=>de(ce({},n),{loading:!0,error:null})),Fe(Qu,n=>de(ce({},n),{profile:null,loading:!1,error:null})),Fe(Ju,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})),Fe(rs,n=>de(ce({},n),{loading:!0,error:null})),Fe(em,(n,{profile:t})=>de(ce({},n),{profile:t,loading:!1,error:null})),Fe(tm,(n,{error:t})=>de(ce({},n),{loading:!1,error:t})));var IO=(()=>{let t=class t{constructor(e,r){this.actions$=e,this.transactionsService=r,this.loadTransactions$=tn(()=>this.actions$.pipe(nn(ni),Kt(({userId:a})=>this.transactionsService.getTransactions(a).pipe(Ye(o=>Bg({transactions:o})),Ot(o=>_t(Vg({error:o}))))))),this.createTransaction$=tn(()=>this.actions$.pipe(nn(Es),Kt(({userId:a,transaction:o})=>this.transactionsService.createTransaction(a,o).pipe(Ye(()=>ni({userId:a})),Ot(s=>_t($g({error:s}))))))),this.updateTransaction$=tn(()=>this.actions$.pipe(nn(As),Kt(({userId:a,transactionId:o,transaction:s})=>this.transactionsService.updateTransaction(a,o,s).pipe(Ye(()=>ni({userId:a})),Ot(d=>_t(jg({error:d}))))))),this.deleteTransaction$=tn(()=>this.actions$.pipe(nn(bl),Kt(({userId:a,transactionId:o})=>this.transactionsService.deleteTransaction(a,o).pipe(Ye(()=>Is({transactionId:o})),Ot(s=>_t(zg({error:s}))))))),this.getTransaction$=tn(()=>this.actions$.pipe(nn(Yg),Kt(({userId:a,transactionId:o})=>this.transactionsService.getTransaction(a,o).pipe(Ye(s=>s?Ug({transaction:s}):Fd({error:"Transaction not found"})),Ot(s=>_t(Fd({error:s})))))))}};t.\u0275fac=function(r){return new(r||t)(Ne(Ia),Ne(Oo))},t.\u0275prov=xt({token:t,factory:t.\u0275fac});let n=t;return n})();var DO=(()=>{let t=class t{constructor(e,r){this.actions$=e,this.categoryService=r,this.loadCategories$=tn(()=>this.actions$.pipe(nn(fr),Kt(({userId:a})=>this.categoryService.getCategories(a).pipe(Ye(o=>Eg({categories:o})),Ot(o=>_t(Ag({error:o}))))))),this.createCategory$=tn(()=>this.actions$.pipe(nn(hl),Kt(({userId:a,name:o,categoryType:s,icon:d,color:u})=>this.categoryService.createCategory(a,o,s,d,u).pipe(Ye(()=>fr({userId:a})),Ot(m=>_t(Ig({error:m}))))))),this.updateCategory$=tn(()=>this.actions$.pipe(nn(wa),Kt(({userId:a,categoryId:o,name:s,categoryType:d,icon:u,color:m,budgetData:f,parentCategoryId:_,isSubCategory:x})=>this.categoryService.updateCategory(a,o,s,d,u,m,f,_,x).pipe(Ye(()=>fr({userId:a})),Ot(v=>_t(Dg({error:v}))))))),this.deleteCategory$=tn(()=>this.actions$.pipe(nn(_l),Kt(({userId:a,categoryId:o})=>this.categoryService.deleteCategory(a,o).pipe(Ye(()=>Fg({categoryId:o})),Ot(s=>_t(Rg({error:s}))))))),this.removeFromParentCategory$=tn(()=>this.actions$.pipe(nn(Ng),Kt(({userId:a,categoryId:o})=>this.categoryService.removeFromParentCategory(a,o).pipe(Ye(()=>fr({userId:a})),Ot(s=>_t(Lg({error:s})))))))}};t.\u0275fac=function(r){return new(r||t)(Ne(Ia),Ne(So))},t.\u0275prov=xt({token:t,factory:t.\u0275fac});let n=t;return n})();var FO=(()=>{let t=class t{constructor(e,r){this.actions$=e,this.accountsService=r,this.loadAccounts$=tn(()=>this.actions$.pipe(nn(ea),Kt(({userId:a})=>this.accountsService.getAccounts(a).pipe(Ye(o=>mg({accounts:o})),Ot(o=>_t(pg({error:o}))))))),this.createAccount$=tn(()=>this.actions$.pipe(nn(fg),Kt(({userId:a,accountData:o})=>this.accountsService.createAccount(a,o).pipe(Ye(s=>ea({userId:a})),Ot(s=>_t(hg({error:s}))))))),this.updateAccount$=tn(()=>this.actions$.pipe(nn(_g),Kt(({userId:a,accountId:o,accountData:s})=>this.accountsService.updateAccount(a,o,s).pipe(Ye(()=>ea({userId:a})),Ot(d=>_t(xg({error:d}))))))),this.deleteAccount$=tn(()=>this.actions$.pipe(nn(fl),Kt(({userId:a,accountId:o})=>this.accountsService.deleteAccount(a,o).pipe(Ye(()=>Cg({accountId:o})),Ot(s=>_t(bg({error:s}))))))),this.getAccount$=tn(()=>this.actions$.pipe(nn(vg),Kt(({userId:a,accountId:o})=>this.accountsService.getAccount(a,o).pipe(Ye(s=>s?yg({account:s}):Dd({error:"Account not found"})),Ot(s=>_t(Dd({error:s}))))))),this.updateAccountBalanceForTransaction$=tn(()=>this.actions$.pipe(nn(Ts),Kt(({userId:a,accountId:o,transactionType:s,oldTransaction:d,newTransaction:u})=>this.accountsService.updateAccountBalanceForTransaction(a,o,s,d,u).pipe(Ye(m=>Mg({accountId:o,newBalance:m})),Ot(m=>_t(Pg({error:m}))))))),this.updateAccountBalanceForTransactions$=tn(()=>this.actions$.pipe(nn(Og),Kt(({userId:a,transactions:o})=>this.accountsService.updateAccountBalanceForTransactions(a,o).pipe(Ye(()=>wg()),Ot(s=>_t(Sg({error:s}))))))),this.updateAccountBalanceForAccountTransfer$=tn(()=>this.actions$.pipe(nn(kg),Kt(({userId:a,oldAccountId:o,newAccountId:s,transaction:d})=>this.accountsService.updateAccountBalanceForAccountTransfer(a,o,s,d).pipe(Ye(()=>ea({userId:a})),Ot(u=>_t(Tg({error:u})))))))}};t.\u0275fac=function(r){return new(r||t)(Ne(Ia),Ne(Gl))},t.\u0275prov=xt({token:t,factory:t.\u0275fac});let n=t;return n})();var RO=(()=>{let t=class t{constructor(e,r,a){this.firestore=e,this.auth=r,this.dateService=a}createBudget(e,r){return ge(this,null,function*(){let a=$t(this.firestore,`users/${e}/budgets/${r.budgetId}`);yield ta(a,de(ce({},r),{startDate:this.dateService.toTimestamp(r.startDate),endDate:this.dateService.toTimestamp(r.endDate),spent:0}))})}getBudgets(e){let r=ua(this.firestore,`users/${e}/budgets`);return new Jt(a=>{go(r).then(o=>{let s=[];o.forEach(d=>{s.push(d.data())}),a.next(s)})})}getBudget(e,r){return ge(this,null,function*(){let a=$t(this.firestore,`users/${e}/budgets/${r}`),o=yield bi(a);if(o.exists())return o.data()})}updateBudget(e,r,a){return ge(this,null,function*(){let o=$t(this.firestore,`users/${e}/budgets/${r}`);yield $n(o,a)})}deleteBudget(e,r){return ge(this,null,function*(){let a=$t(this.firestore,`users/${e}/budgets/${r}`);yield ar(a)})}updateSpent(e,r,a){return ge(this,null,function*(){var d;let o=$t(this.firestore,`users/${e}/budgets/${r}`),s=yield bi(o);if(s.exists()){let m=(((d=s.data())==null?void 0:d.spent)||0)+a;yield $n(o,{spent:m})}})}};t.\u0275fac=function(r){return new(r||t)(Ne(Sr),Ne(Mt),Ne(Vt))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var NO=(()=>{let t=class t{constructor(e,r){this.actions$=e,this.budgetsService=r,this.loadBudgets$=tn(()=>this.actions$.pipe(nn(yo),Kt(({userId:a})=>this.budgetsService.getBudgets(a).pipe(Ye(o=>Mu({budgets:o})),Ot(o=>_t(Pu({error:o}))))))),this.createBudget$=tn(()=>this.actions$.pipe(nn(vc),Kt(({userId:a,budget:o})=>Vn(this.budgetsService.createBudget(a,o)).pipe(Ye(()=>Ou({budget:o})),Ot(s=>_t(wu({error:s}))))))),this.updateBudget$=tn(()=>this.actions$.pipe(nn(Ll),Kt(({userId:a,budgetId:o,budget:s})=>Vn(this.budgetsService.updateBudget(a,o,s)).pipe(Ye(()=>Su({budget:de(ce({},s),{budgetId:o})})),Ot(d=>_t(ku({error:d}))))))),this.deleteBudget$=tn(()=>this.actions$.pipe(nn(Bl),Kt(({userId:a,budgetId:o})=>Vn(this.budgetsService.deleteBudget(a,o)).pipe(Ye(()=>Tu({budgetId:o})),Ot(s=>_t(Eu({error:s}))))))),this.updateSpent$=tn(()=>this.actions$.pipe(nn(Vl),Kt(({userId:a,budgetId:o,amount:s})=>Vn(this.budgetsService.updateSpent(a,o,s)).pipe(Ye(()=>Au({budget:{budgetId:o,spent:s}})),Ot(d=>_t(Iu({error:d})))))))}};t.\u0275fac=function(r){return new(r||t)(Ne(Ia),Ne(RO))},t.\u0275prov=xt({token:t,factory:t.\u0275fac});let n=t;return n})();var LO=(()=>{let t=class t{constructor(e,r,a){this.firestore=e,this.auth=r,this.dateService=a}createGoal(e,r){return ge(this,null,function*(){let a=$t(this.firestore,`users/${e}/goals/${r.goalId}`);yield ta(a,de(ce({},r),{deadline:this.dateService.toTimestamp(r.deadline),currentAmount:0}))})}getGoals(e){let r=ua(this.firestore,`users/${e}/goals`);return new Jt(a=>{go(r).then(o=>{let s=[];o.forEach(d=>{s.push(d.data())}),a.next(s)})})}getGoal(e,r){return ge(this,null,function*(){let a=$t(this.firestore,`users/${e}/goals/${r}`),o=yield bi(a);if(o.exists())return o.data()})}updateGoal(e,r,a){return ge(this,null,function*(){let o=$t(this.firestore,`users/${e}/goals/${r}`);yield $n(o,a)})}deleteGoal(e,r){return ge(this,null,function*(){let a=$t(this.firestore,`users/${e}/goals/${r}`);yield ar(a)})}updateCurrentAmount(e,r,a){return ge(this,null,function*(){var d;let o=$t(this.firestore,`users/${e}/goals/${r}`),s=yield bi(o);if(s.exists()){let m=(((d=s.data())==null?void 0:d.currentAmount)||0)+a;yield $n(o,{currentAmount:m})}})}};t.\u0275fac=function(r){return new(r||t)(Ne(Sr),Ne(Mt),Ne(Vt))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var BO=(()=>{let t=class t{constructor(e,r){this.actions$=e,this.goalsService=r,this.loadGoals$=tn(()=>this.actions$.pipe(nn(Mo),Kt(({userId:a})=>this.goalsService.getGoals(a).pipe(Ye(o=>Du({goals:o})),Ot(o=>_t(Fu({error:o}))))))),this.createGoal$=tn(()=>this.actions$.pipe(nn($l),Kt(({userId:a,goal:o})=>Vn(this.goalsService.createGoal(a,o)).pipe(Ye(()=>Ru({goal:o})),Ot(s=>_t(Nu({error:s}))))))),this.updateGoal$=tn(()=>this.actions$.pipe(nn(Lu),Kt(({userId:a,goalId:o,goal:s})=>Vn(this.goalsService.updateGoal(a,o,s)).pipe(Ye(()=>Bu({goal:de(ce({},s),{goalId:o})})),Ot(d=>_t(Vu({error:d}))))))),this.deleteGoal$=tn(()=>this.actions$.pipe(nn(jl),Kt(({userId:a,goalId:o})=>Vn(this.goalsService.deleteGoal(a,o)).pipe(Ye(()=>$u({goalId:o})),Ot(s=>_t(ju({error:s}))))))),this.updateCurrentAmount$=tn(()=>this.actions$.pipe(nn(zl),Kt(({userId:a,goalId:o,amount:s})=>Vn(this.goalsService.updateCurrentAmount(a,o,s)).pipe(Ye(()=>zu({goal:{goalId:o,currentAmount:s}})),Ot(d=>_t(Yu({error:d})))))))}};t.\u0275fac=function(r){return new(r||t)(Ne(Ia),Ne(LO))},t.\u0275prov=xt({token:t,factory:t.\u0275fac});let n=t;return n})();var VO=(()=>{let t=class t{constructor(e,r){this.actions$=e,this.userService=r,this.loadProfile$=tn(()=>this.actions$.pipe(nn(Po),Kt(({userId:a})=>Vn(this.userService.getCurrentUser()).pipe(Ye(o=>{if(o)return Uu({profile:o});throw new Error("Profile not found")}),Ot(o=>_t(Gu({error:o}))))))),this.updateProfile$=tn(()=>this.actions$.pipe(nn(Yl),Kt(({userId:a,profile:o})=>Vn(this.userService.createOrUpdateUser(o)).pipe(Ye(()=>Wu({profile:o})),Ot(s=>_t(Hu({error:s}))))))),this.createProfile$=tn(()=>this.actions$.pipe(nn(Xu),Kt(({userId:a,profile:o})=>Vn(this.userService.createOrUpdateUser(o)).pipe(Ye(()=>qu({profile:o})),Ot(s=>_t(Ku({error:s}))))))),this.deleteProfile$=tn(()=>this.actions$.pipe(nn(Zu),Kt(({userId:a})=>Vn(this.userService.signOut()).pipe(Ye(()=>Qu()),Ot(o=>_t(Ju({error:o}))))))),this.updatePreferences$=tn(()=>this.actions$.pipe(nn(rs),Kt(({userId:a,preferences:o})=>Vn(this.userService.getCurrentUser()).pipe(Kt(s=>{if(s){let d=de(ce({},s),{preferences:o});return Vn(this.userService.createOrUpdateUser(d))}else throw new Error("User not found")}),Ye(()=>em({profile:{preferences:o}})),Ot(s=>_t(tm({error:s})))))))}};t.\u0275fac=function(r){return new(r||t)(Ne(Ia),Ne(ui))},t.\u0275prov=xt({token:t,factory:t.\u0275fac});let n=t;return n})();var $O=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pr({type:t}),t.\u0275inj=Mr({imports:[wx.forRoot({transactions:MO,categories:PO,accounts:OO,budgets:SO,goals:TO,profile:AO}),Tb.forRoot([IO,DO,FO,NO,BO,VO]),yO.instrument({maxAge:25,logOnly:vi.production})]});let n=t;return n})();function jO(n,t){let i=ya(on),e=ya(ui),r=ya(Ct);if(QW(n))return t(n);let a=JW(n),o=eH(a,e);return t(o).pipe(A_(1),Ot(s=>tH(s,n,i,e,r)))}function QW(n){return!!n.url.toLowerCase().includes("api.openai.com")}function JW(n){let t={"X-Content-Type-Options":"nosniff","X-Frame-Options":"DENY","X-XSS-Protection":"1; mode=block","Referrer-Policy":"strict-origin-when-cross-origin","Permissions-Policy":"geolocation=(), microphone=(), camera=()","Strict-Transport-Security":"max-age=31536000; includeSubDomains","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"};return n.clone({setHeaders:t})}function eH(n,t){let i=t.userAuth$.value;return i&&i.uid?n.clone({setHeaders:{Authorization:`Bearer ${i.uid}`}}):n}function tH(n,t,i,e,r){switch(console.error("Security interceptor error:",n),console.log("Request URL that caused error:",t.url),n.status){case 401:nH(i,e,r);break;case 403:iH(r);break;case 429:rH(r);break;case 500:aH(r);break;default:oH(n,r)}return lo(()=>n)}function nH(n,t,i){var e;console.warn("Unauthorized request detected"),B0("UNAUTHORIZED_REQUEST",{url:((e=window==null?void 0:window.location)==null?void 0:e.href)||"",timestamp:new Date().toISOString()}),t.forceLogout("Unauthorized request detected"),i.error("Session expired. Please log in again."),n.navigate(["/landing"],{queryParams:{error:"unauthorized",redirect:n.url}})}function iH(n){var t;console.warn("Forbidden request detected"),B0("FORBIDDEN_REQUEST",{url:((t=window==null?void 0:window.location)==null?void 0:t.href)||"",timestamp:new Date().toISOString()}),n.error("Access denied. You do not have permission to perform this action.")}function rH(n){var t;console.warn("Rate limit exceeded"),B0("RATE_LIMIT_EXCEEDED",{url:((t=window==null?void 0:window.location)==null?void 0:t.href)||"",timestamp:new Date().toISOString()}),n.warning("Too many requests. Please wait a moment before trying again.")}function aH(n){var t;console.error("Server error detected"),B0("SERVER_ERROR",{url:((t=window==null?void 0:window.location)==null?void 0:t.href)||"",timestamp:new Date().toISOString()}),n.error("Server error. Please try again later.")}function oH(n,t){var i;console.error("Generic HTTP error:",n),B0("HTTP_ERROR",{status:n.status,statusText:n.statusText,url:n.url||((i=window==null?void 0:window.location)==null?void 0:i.href)||"",timestamp:new Date().toISOString()}),n.status>=500?t.error("Server error. Please try again later."):n.status>=400&&t.error("Request failed. Please check your input and try again.")}function B0(n,t){var e;let i={type:n,data:t,userAgent:navigator.userAgent,timestamp:new Date().toISOString(),url:((e=window==null?void 0:window.location)==null?void 0:e.href)||""};console.log("Security Event:",i)}var sH=(n,t)=>t.id;function cH(n,t){if(n&1&&(c(0,"p",5),g(1),l()),n&2){let i=y();p(),ee(" ",i.effectiveConfig.subtitle," ")}}function lH(n,t){if(n&1&&(c(0,"div",6)(1,"mat-icon",10),g(2),l()()),n&2){let i=y();p(2),ee(" ",i.effectiveConfig.headerIcon||"schedule"," ")}}function dH(n,t){n&1&&(c(0,"div",7)(1,"div",11),oe(2,"div",12),l(),c(3,"p",13),g(4,"Loading transaction data..."),l()())}function gH(n,t){if(n&1&&(c(0,"div",7)(1,"div",14)(2,"mat-icon",15),g(3,"error"),l()(),c(4,"p",16),g(5),l()()),n&2){let i=y();p(5),V(i.effectiveConfig.error)}}function uH(n,t){if(n&1&&(c(0,"div",17)(1,"h4",18),g(2,"This Month"),l(),c(3,"div",20)(4,"div",21)(5,"div",22),g(6),se(7,"async"),l(),c(8,"div",23),g(9,"Income"),l()(),c(10,"div",21)(11,"div",24),g(12),se(13,"async"),l(),c(14,"div",23),g(15,"Expense"),l()()(),c(16,"div",25)(17,"div",26)(18,"span",13),g(19,"Net"),l(),c(20,"span",27),se(21,"async"),se(22,"async"),g(23),se(24,"async"),l()(),c(25,"div",28),g(26),se(27,"async"),l()()()),n&2){let i,e,r,a,o,s,d=y(2);p(6),ee(" ",d.formatCurrency(((i=pe(7,8,d.monthlySummary$))==null?null:i.totalIncome)||0)," "),p(6),ee(" ",d.formatCurrency(((e=pe(13,10,d.monthlySummary$))==null?null:e.totalExpense)||0)," "),p(8),Ue("text-green-600",((r=pe(21,12,d.monthlySummary$))==null?null:r.netAmount)||!0)("text-red-600",((a=pe(22,14,d.monthlySummary$))==null?null:a.netAmount)||!1),p(3),ee(" ",d.formatCurrency(((o=pe(24,16,d.monthlySummary$))==null?null:o.netAmount)||0)," "),p(3),ee(" ",((s=pe(27,18,d.monthlySummary$))==null?null:s.transactionCount)||0," transactions ")}}function mH(n,t){n&1&&(c(0,"mat-icon",37),g(1,"repeat"),l())}function pH(n,t){if(n&1){let i=ue();c(0,"div",30),R("click",function(){let r=j(i).$implicit,a=y(3);return z(a.onTransactionClick(r))}),c(1,"div",31)(2,"div",32)(3,"mat-icon",33),g(4),l()(),c(5,"div",34)(6,"div",35)(7,"span",36),g(8),l(),L(9,mH,2,0,"mat-icon",37),l(),c(10,"div",23),g(11),l()()(),c(12,"div",38)(13,"div",39),g(14),l(),c(15,"div",40),g(16),l(),c(17,"div",23),g(18),l()()()}if(n&2){let i=t.$implicit,e=y(3);Ue("cursor-pointer",e.effectiveConfig.clickable)("cursor-default",!e.effectiveConfig.clickable),p(3),kt("color",i.categoryColor),p(),V(i.categoryIcon),p(4),V(i.payee),p(),Oe(i.isRecurring?9:-1),p(2),V(i.category),p(2),Ue("text-green-600",i.type==="income")("text-red-600",i.type==="expense"),p(),ee(" ",e.formatCurrency(i.amount)," "),p(),Tt(e.getDaysUntilColor(i.daysUntil)),p(),ee(" ",e.getDaysUntilText(i.daysUntil)," "),p(2),ee(" ",e.formatDate(i.date)," ")}}function fH(n,t){if(n&1&&(c(0,"div",19),qe(1,pH,19,19,"div",29,sH),se(3,"async"),l()),n&2){let i=y(2);p(),Ke(pe(3,0,i.upcomingTransactions$))}}function hH(n,t){if(n&1&&(c(0,"div",7)(1,"div",41)(2,"mat-icon",42),g(3,"schedule"),l()(),c(4,"h4",43),g(5,"No Upcoming Transactions"),l(),c(6,"p",44),g(7),l()()),n&2){let i=y(2);p(7),V(i.effectiveConfig.emptyStateMessage)}}function _H(n,t){if(n&1&&(c(0,"div",8),L(1,uH,28,20,"div",17),c(2,"div")(3,"h4",18),g(4),l(),L(5,fH,4,2,"div",19),se(6,"async"),L(7,hH,8,1,"div",7),se(8,"async"),l()()),n&2){let i,e=y();p(),Oe(e.effectiveConfig.showMonthlySummary?1:-1),p(3),ee("Upcoming (Next ",e.effectiveConfig.daysAhead," days)"),p(),Oe((i=pe(6,4,e.upcomingTransactions$))!=null&&i.length?5:-1),p(2),Oe(pe(8,6,e.isEmpty)?7:-1)}}function xH(n,t){n&1&&(c(0,"span",47),g(1,"Upcoming Transactions"),l())}function CH(n,t){if(n&1&&(c(0,"div",9)(1,"div",45)(2,"span"),g(3),l(),c(4,"div",46),L(5,xH,2,0,"span",47),c(6,"span"),g(7),l()()()()),n&2){let i=y();p(3),V(i.effectiveConfig.footerText||"Last updated"),p(2),Oe(i.effectiveConfig.showDebugInfo?5:-1),p(2),V(i.getLastUpdatedTime())}}var zO=(()=>{let t=class t{constructor(e){this.store=e,this.config={title:"Upcoming Transactions",subtitle:"Your scheduled payments and income",currency:"INR",showHeaderIcon:!0,headerIcon:"schedule",headerIconColor:"blue",showFooter:!1,footerText:"Last updated",cardHeight:"medium",theme:"auto",animations:!0,clickable:!0,loading:!1,error:"",emptyStateMessage:"No upcoming transactions found",showDebugInfo:!1,maxUpcomingItems:5,daysAhead:30,showMonthlySummary:!0,onTransactionClick:void 0,onRefresh:void 0},this.destroy$=new It,this.transactions$=this.store.select(En),this.categories$=this.store.select(gn),this.transactionsLoading$=this.store.select(ra),this.categoriesLoading$=this.store.select(Ir),this.isLoading$=Zi([this.transactionsLoading$,this.categoriesLoading$]).pipe(Ye(([r,a])=>r||a)),this.upcomingTransactions$=this.calculateUpcomingTransactions(),this.monthlySummary$=this.calculateMonthlySummary()}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calculateUpcomingTransactions(){return Zi([this.transactions$,this.categories$]).pipe(Ye(([e,r])=>{let a=new Date,o=this.effectiveConfig.daysAhead||30,s=new Date(a);return s.setDate(a.getDate()+o),e.filter(u=>{let m=this.convertToDate(u.date),f=m>=a&&m<=s,_=u.status===uo.PENDING,x=u.isRecurring||!1;return f&&(_||x)}).map(u=>{let m=r.find(x=>x.id===u.categoryId),f=this.convertToDate(u.date),_=Math.ceil((f.getTime()-a.getTime())/(1e3*60*60*24));return{id:u.id||"",payee:u.payee,amount:u.amount,type:u.type,date:f,category:(m==null?void 0:m.name)||"Unknown",categoryColor:(m==null?void 0:m.color)||"#6B7280",categoryIcon:(m==null?void 0:m.icon)||"category",isRecurring:u.isRecurring||!1,daysUntil:_}}).sort((u,m)=>u.daysUntil-m.daysUntil).slice(0,this.effectiveConfig.maxUpcomingItems||5)}))}calculateMonthlySummary(){return this.transactions$.pipe(Ye(e=>{let r=new Date,a=new Date(r.getFullYear(),r.getMonth(),1),o=new Date(r.getFullYear(),r.getMonth()+1,0),s=e.filter(m=>{let f=this.convertToDate(m.date);return f>=a&&f<=o}),d=s.filter(m=>m.type===ht.INCOME).reduce((m,f)=>m+f.amount,0),u=s.filter(m=>m.type===ht.EXPENSE).reduce((m,f)=>m+f.amount,0);return{totalIncome:d,totalExpense:u,netAmount:d-u,transactionCount:s.length}}))}convertToDate(e){return e instanceof Date?e:e!=null&&e.seconds?new Date(e.seconds*1e3):new Date(e)}get effectiveConfig(){var e,r,a,o,s,d,u,m,f,_,x,v,b,M,S,w,T,F,U;return{title:(e=this.config.title)!=null?e:"Upcoming Transactions",subtitle:(r=this.config.subtitle)!=null?r:"Your scheduled payments and income",currency:(a=this.config.currency)!=null?a:"INR",showHeaderIcon:(o=this.config.showHeaderIcon)!=null?o:!0,headerIcon:(s=this.config.headerIcon)!=null?s:"schedule",headerIconColor:(d=this.config.headerIconColor)!=null?d:"blue",showFooter:(u=this.config.showFooter)!=null?u:!1,footerText:(m=this.config.footerText)!=null?m:"Last updated",cardHeight:(f=this.config.cardHeight)!=null?f:"medium",theme:(_=this.config.theme)!=null?_:"auto",animations:(x=this.config.animations)!=null?x:!0,clickable:(v=this.config.clickable)!=null?v:!0,loading:(b=this.config.loading)!=null?b:!1,error:(M=this.config.error)!=null?M:"",emptyStateMessage:(S=this.config.emptyStateMessage)!=null?S:"No upcoming transactions found",showDebugInfo:(w=this.config.showDebugInfo)!=null?w:!1,maxUpcomingItems:(T=this.config.maxUpcomingItems)!=null?T:5,daysAhead:(F=this.config.daysAhead)!=null?F:30,showMonthlySummary:(U=this.config.showMonthlySummary)!=null?U:!0,onTransactionClick:this.config.onTransactionClick,onRefresh:this.config.onRefresh}}get cardHeightClass(){switch(this.effectiveConfig.cardHeight){case"small":return"min-h-20";case"large":return"min-h-32";case"auto":return"min-h-0";default:return"min-h-24"}}get headerIconColorClass(){let e=this.effectiveConfig.headerIconColor||"blue";return`bg-${e}-500/10 text-${e}-600 dark:text-${e}-400`}formatCurrency(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:this.effectiveConfig.currency,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}formatDate(e){return e.toLocaleDateString("en-IN",{month:"short",day:"numeric"})}getDaysUntilText(e){return e===0?"Today":e===1?"Tomorrow":e<7?`${e} days`:e<30?`${Math.ceil(e/7)} weeks`:`${Math.ceil(e/30)} months`}getDaysUntilColor(e){return e<=1?"text-red-600 dark:text-red-400":e<=3?"text-orange-600 dark:text-orange-400":e<=7?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}onTransactionClick(e){this.effectiveConfig.clickable&&this.effectiveConfig.onTransactionClick&&this.effectiveConfig.onTransactionClick(e)}getLastUpdatedTime(){return new Date().toLocaleString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}onRefreshClick(){this.effectiveConfig.onRefresh&&this.effectiveConfig.onRefresh()}get isEmpty(){return this.upcomingTransactions$.pipe(Ye(e=>e.length===0))}get hasError(){return!!(this.effectiveConfig.error&&this.effectiveConfig.error.trim())}};t.\u0275fac=function(r){return new(r||t)(W(mt))},t.\u0275cmp=Le({type:t,selectors:[["app-upcoming-transactions-card"]],inputs:{config:"config"},standalone:!0,features:[Jr],decls:14,vars:11,consts:[[1,"upcoming-transactions-card","bg-white","dark:bg-gray-800","shadow-lg","border-0","rounded-xl","overflow-hidden","h-full"],[1,"p-4","sm:p-6"],[1,"flex","items-center","justify-between","mb-4","sm:mb-6"],[1,"flex-1","min-w-0"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","dark:text-white","truncate"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-1"],[1,"bg-blue-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-center","py-8"],[1,"space-y-6"],[1,"mt-4","sm:mt-6","pt-4","border-t","border-gray-200","dark:border-gray-700"],[1,"text-blue-600","dark:text-blue-400"],[1,"inline-flex","items-center","justify-center","w-12","h-12","bg-blue-100","dark:bg-blue-900/20","rounded-full","mb-4"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-blue-600"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"bg-red-100","dark:bg-red-900/20","w-12","h-12","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-red-600","dark:text-red-400"],[1,"text-sm","text-red-600","dark:text-red-400"],[1,"bg-gray-50","dark:bg-gray-700","rounded-lg","p-4"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-3"],[1,"space-y-3"],[1,"grid","grid-cols-2","gap-4"],[1,"text-center"],[1,"text-lg","font-semibold","text-green-600","dark:text-green-400"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"text-lg","font-semibold","text-red-600","dark:text-red-400"],[1,"mt-3","pt-3","border-t","border-gray-200","dark:border-gray-600"],[1,"flex","justify-between","items-center"],[1,"text-sm","font-medium"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors",3,"cursor-pointer","cursor-default"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors",3,"click"],[1,"flex","items-center","space-x-3","min-w-0","flex-1"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","flex-shrink-0","bg-gray-100","dark:bg-gray-600"],[1,"text-sm"],[1,"min-w-0","flex-1"],[1,"flex","items-center","space-x-2"],[1,"text-gray-700","dark:text-gray-300","font-medium","truncate"],[1,"text-xs","text-blue-500"],[1,"text-right","ml-3"],[1,"font-semibold"],[1,"text-xs"],[1,"bg-gray-100","dark:bg-gray-700","w-16","h-16","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-gray-400","text-2xl"],[1,"text-base","font-medium","text-gray-900","dark:text-white","mb-2"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","justify-between","text-xs","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-4"],[1,"text-xs","opacity-75"]],template:function(r,a){r&1&&(c(0,"mat-card",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),g(5),l(),L(6,cH,2,1,"p",5),l(),L(7,lH,3,1,"div",6),l(),L(8,dH,5,0,"div",7),se(9,"async"),L(10,gH,6,1,"div",7)(11,_H,9,8,"div",8),se(12,"async"),L(13,CH,8,3,"div",9),l()()),r&2&&(p(5),ee(" ",a.effectiveConfig.title," "),p(),Oe(a.effectiveConfig.subtitle?6:-1),p(),Oe(a.effectiveConfig.showHeaderIcon!==!1?7:-1),p(),Oe(pe(9,7,a.isLoading$)?8:-1),p(2),Oe(a.hasError?10:-1),p(),Oe(!pe(12,9,a.isLoading$)&&!a.hasError?11:-1),p(2),Oe(a.effectiveConfig.showFooter?13:-1))},dependencies:[Pa,wi,Co,Ri,ka,Qe],styles:[".upcoming-transactions-card[_ngcontent-%COMP%]{transition:all .3s ease}.upcoming-transactions-card[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden}.upcoming-transactions-card.dark[_ngcontent-%COMP%]{background-color:#1f2937;color:#f9fafb}.upcoming-transactions-card[_ngcontent-%COMP%]   .fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.upcoming-transactions-card[_ngcontent-%COMP%]   .slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .3s ease-out}@media (max-width: 640px){.upcoming-transactions-card[_ngcontent-%COMP%]   .p-4[_ngcontent-%COMP%]{padding:1rem}.upcoming-transactions-card[_ngcontent-%COMP%]   .text-lg[_ngcontent-%COMP%]{font-size:1.125rem}.upcoming-transactions-card[_ngcontent-%COMP%]   .w-8[_ngcontent-%COMP%]{width:2rem}.upcoming-transactions-card[_ngcontent-%COMP%]   .h-8[_ngcontent-%COMP%]{height:2rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}.transaction-item[_ngcontent-%COMP%]{transition:all .2s ease}.transaction-item[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background-color:#374151}.icon-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-radius:50%;background-color:#f3f4f6}.dark[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{background-color:#4b5563}.monthly-summary[_ngcontent-%COMP%]{background-color:#f9fafb;border-radius:8px;padding:1rem}.dark[_ngcontent-%COMP%]   .monthly-summary[_ngcontent-%COMP%]{background-color:#374151}.monthly-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.monthly-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{text-align:center}.monthly-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin-bottom:.25rem}.monthly-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.dark[_ngcontent-%COMP%]   .monthly-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#9ca3af}.monthly-summary[_ngcontent-%COMP%]   .net-amount[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;padding-top:.75rem;margin-top:.75rem}.dark[_ngcontent-%COMP%]   .monthly-summary[_ngcontent-%COMP%]   .net-amount[_ngcontent-%COMP%]{border-color:#4b5563}.upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem;background-color:#f9fafb;border-radius:8px;margin-bottom:.75rem;transition:all .2s ease}.dark[_ngcontent-%COMP%]   .upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{background-color:#374151}.upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.dark[_ngcontent-%COMP%]   .upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background-color:#4b5563}.upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1;min-width:0}.upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:50%;display:flex;align-items:center;justify-content:center;background-color:#f3f4f6;flex-shrink:0}.dark[_ngcontent-%COMP%]   .upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{background-color:#4b5563}.upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]{flex:1;min-width:0}.upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .payee[_ngcontent-%COMP%]{font-weight:500;color:#111827;margin-bottom:.25rem}.dark[_ngcontent-%COMP%]   .upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .payee[_ngcontent-%COMP%]{color:#f9fafb}.upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.dark[_ngcontent-%COMP%]   .upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#9ca3af}.upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{text-align:right;margin-left:.75rem}.upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.25rem}.upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]   .days-until[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.25rem}.upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.dark[_ngcontent-%COMP%]   .upcoming-transactions[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#9ca3af}.recurring-indicator[_ngcontent-%COMP%]{color:#3b82f6;font-size:.75rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:4rem;height:4rem;border-radius:50%;background-color:#f3f4f6;display:flex;align-items:center;justify-content:center;margin:0 auto 1rem}.dark[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{background-color:#4b5563}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:1.5rem}.empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#111827;margin-bottom:.5rem}.dark[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{color:#f9fafb}.empty-state[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.dark[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{color:#9ca3af}"]});let n=t;return n})();var YO=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pr({type:t,bootstrap:[WP]}),t.\u0275inj=Mr({providers:[HP(),sx(cx([jO])),QP,gx(),pa,Hx(()=>Xx(vi.firebaseConfig)),Kx(()=>{let e=Zx();return e.setPersistence(qx).then(()=>console.log("\u2705 Auth persistence enabled")).catch(r=>console.warn("\u26A0\uFE0F Auth persistence error:",r.message)),e}),Qx(()=>{let e=eC();return Jx(e).then(()=>{console.log("\u2705 Firestore offline persistence enabled")}).catch(r=>{r.code==="failed-precondition"?console.warn("\u26A0\uFE0F Multiple tabs detected. Persistence disabled to avoid conflicts."):r.code==="unimplemented"&&console.warn("\u26A0\uFE0F IndexedDB persistence not supported. Falling back to cache.")}),e}),FP(()=>{let e=Cd();return console.log("\u2705 Firebase Cloud Messaging initialized"),e})],imports:[og,zP,KP,Ab,JP,hv.forRoot({echarts:()=>import("./chunk-BDRRPAEY.js")}),$O,Ib,Zl,xu,Cu,Ql,fm,hm,zO,ko,Xb,OC.register("ngsw-worker.js",{enabled:!nx(),registrationStrategy:"registerImmediately",scope:"./"}),Id]});let n=t;return n})();K_(cm,function(){return[nr,ct,dn,Kg,Qe,Il,Dl,lm]},function(){return[ir,Si,Hr]});function bH(){if(typeof window>"u")return;let n;window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),n=t,console.log("PWA install prompt ready")}),window.addEventListener("appinstalled",()=>{console.log("PWA installed successfully"),n=null}),window.addEventListener("popstate",t=>{console.log("Navigation event:",t)}),document.addEventListener("visibilitychange",()=>{document.hidden?console.log("App went to background"):console.log("App came to foreground")}),window.addEventListener("beforeunload",t=>{let i={timestamp:Date.now(),url:window.location.href,scrollPosition:window.scrollY};try{localStorage.setItem("app-state",JSON.stringify(i))}catch(e){console.warn("Failed to save app state:",e)}})}function vH(){if(typeof window>"u")return;if(typeof navigator<"u"&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){let t=new Date,i=Math.ceil(t.getDate()/7),e=t.getMonth()+1,a=`${t.getFullYear()}-${e.toString().padStart(2,"0")}-W${i}`,o=localStorage.getItem("app-version");o&&o!==a?(console.log("App version changed on mobile, performing smart cache update"),yH(o,a)):localStorage.setItem("app-version",a)}}function yH(n,t){return ge(this,null,function*(){if(!(typeof window>"u"))try{console.log(`Performing smart cache update from ${n} to ${t}`);let i=MH();yield OH(),PH(i),localStorage.setItem("app-version",t),console.log("Smart cache update completed successfully")}catch(i){console.error("Smart cache update failed:",i)}})}function MH(){if(typeof window>"u")return{};let n={};return localStorage.getItem("firebase:authUser:")&&Object.keys(localStorage).filter(e=>e.startsWith("firebase:authUser:")||e.startsWith("firebase:persistence:")).forEach(e=>{n[e]=localStorage.getItem(e)}),["theme","language","user-settings"].forEach(i=>{let e=localStorage.getItem(i);e&&(n[i]=e)}),n}function PH(n){typeof window>"u"||Object.keys(n).forEach(t=>{localStorage.setItem(t,n[t])})}function OH(){return ge(this,null,function*(){if(!(typeof window>"u"))try{if("caches"in window){let i=(yield caches.keys()).filter(e=>!e.includes("firebase")&&!e.includes("auth")&&!e.includes("user"));yield Promise.all(i.map(e=>caches.delete(e)))}Object.keys(localStorage).filter(t=>!t.startsWith("firebase:")&&!t.startsWith("user")&&!t.startsWith("theme")&&!t.startsWith("language")&&t!=="app-version").forEach(t=>localStorage.removeItem(t)),console.log("Application caches cleared successfully")}catch(n){throw console.error("Failed to clear application caches:",n),n}})}bH();vH();lx().bootstrapModule(YO,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n));

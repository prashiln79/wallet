import{$d as or,Ab as Hn,Bb as kt,Bd as Ea,C as Yi,Cb as fo,Cd as er,Db as ct,Dc as Ca,Dd as Ia,E as Xi,Fb as pt,Gb as Xt,Ic as va,Jb as Wn,Kb as Jt,Kc as wa,L as ua,M as Ji,Md as Ta,N as da,Nb as jt,O as ha,Ob as Nt,Oc as Gt,Od as Sa,Pb as ba,Pd as Aa,Qd as Je,Rc as Zt,Rd as nr,S as N,Sc as Pa,Sd as ir,T as j,Td as rr,Ud as ka,Xd as Da,Yb as _o,Yd as Ze,Zd as tn,_ as ma,_d as en,aa as At,ae as nn,ba as nt,bc as Kt,be as Ra,ca as Zi,cb as fa,ce as sr,da as go,de as ar,ea as po,ee as Va,fa as ga,fe as Na,ga as L,ge as Fa,ha as pa,j as $i,l as He,md as we,o as Qn,pc as ya,pd as Dt,qc as We,qd as Ma,r as Ki,rc as Ye,rd as Pe,sd as Oa,t as ve,tb as Ot,u as Qi,ud as Xe,v as Hi,vd as tr,wd as xa,xd as te,yb as _a,z as Wi}from"./chunk-YEEZXU7R.js";import{$b as v,Aa as _t,Ad as la,Ba as Yt,Bd as Gi,Da as zi,Ec as mo,F as co,Fd as qi,H as Ui,J as ht,Jc as $e,Ka as rt,Kc as Ke,La as ot,N as ia,O as ra,Qb as W,R as oa,Ra as ca,Rb as $n,Sb as R,T as sa,Ub as Re,W as lo,Xb as Vt,Ya as qe,Z as aa,Zb as uo,_b as ho,ac as w,bc as dt,c as ea,f as Ce,fc as bt,g as na,ha as ae,ic as z,kc as F,p as J,pa as zt,pb as ji,q as K,qa as Wt,sa as ce,ua as H,ub as E,uc as Kn,v as Z,va as Bi,vb as k,vc as O,wc as at,x as tt,xc as st,xd as Qe,yd as St}from"./chunk-6PX2HEG6.js";import{a as T,b as S,k as B}from"./chunk-LKDXID24.js";var bo=Zi("profile"),ru=nt(bo,n=>n.profile),tm=nt(bo,n=>n.loading),em=nt(bo,n=>n.error),rn=nt(ru,n=>n==null?void 0:n.preferences),yo=nt(rn,n=>n==null?void 0:n.defaultCurrency),nm=nt(rn,n=>n==null?void 0:n.language),im=nt(rn,n=>n==null?void 0:n.timezone),rm=nt(rn,n=>n==null?void 0:n.notifications),om=nt(rn,n=>n==null?void 0:n.emailUpdates),sm=nt(rn,n=>n==null?void 0:n.budgetAlerts);var La=function(n){let e=[],o=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[o++]=r:r<2048?(e[o++]=r>>6|192,e[o++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[o++]=r>>18|240,e[o++]=r>>12&63|128,e[o++]=r>>6&63|128,e[o++]=r&63|128):(e[o++]=r>>12|224,e[o++]=r>>6&63|128,e[o++]=r&63|128)}return e},su=function(n){let e=[],o=0,i=0;for(;o<n.length;){let r=n[o++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let c=n[o++];e[i++]=String.fromCharCode((r&31)<<6|c&63)}else if(r>239&&r<365){let c=n[o++],u=n[o++],d=n[o++],f=((r&7)<<18|(c&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{let c=n[o++],u=n[o++];e[i++]=String.fromCharCode((r&15)<<12|(c&63)<<6|u&63)}}return e.join("")},au={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let o=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let c=n[r],u=r+1<n.length,d=u?n[r+1]:0,f=r+2<n.length,P=f?n[r+2]:0,x=c>>2,U=(c&3)<<4|d>>4,A=(d&15)<<2|P>>6,D=P&63;f||(D=64,u||(A=64)),i.push(o[x],o[U],o[A],o[D])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(La(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):su(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let o=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let c=o[n.charAt(r++)],d=r<n.length?o[n.charAt(r)]:0;++r;let P=r<n.length?o[n.charAt(r)]:64;++r;let U=r<n.length?o[n.charAt(r)]:64;if(++r,c==null||d==null||P==null||U==null)throw new Co;let A=c<<2|d>>4;if(i.push(A),P!==64){let D=d<<4&240|P>>2;if(i.push(D),U!==64){let V=P<<6&192|U;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Co=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},cu=function(n){let e=La(n);return au.encodeByteArray(e,!0)},vo=function(n){return cu(n).replace(/\./g,"")};function wo(){try{return typeof indexedDB=="object"}catch{return!1}}function Ua(){return new Promise((n,e)=>{try{let o=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),o||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{o=!1},r.onerror=()=>{var c;e(((c=r.error)===null||c===void 0?void 0:c.message)||"")}}catch(o){e(o)}})}var lu="FirebaseError",le=class n extends Error{constructor(e,o,i){super(o),this.code=e,this.customData=i,this.name=lu,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yn.prototype.create)}},Yn=class{constructor(e,o,i){this.service=e,this.serviceName=o,this.errors=i}create(e,...o){let i=o[0]||{},r=`${this.service}/${e}`,c=this.errors[e],u=c?uu(c,i):"Error",d=`${this.serviceName}: ${u} (${r}).`;return new le(r,d,i)}};function uu(n,e){return n.replace(du,(o,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var du=/\{\$([^}]+)}/g;var um=4*60*60*1e3;var Me=class{constructor(e,o,i){this.name=e,this.instanceFactory=o,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var hu=[],et=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(et||{}),mu={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},gu=et.INFO,pu={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},fu=(n,e,...o)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=pu[e];if(r)console[r](`[${i}]  ${n.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},on=class{constructor(e){this.name=e,this._logLevel=gu,this._logHandler=fu,this._userLogHandler=null,hu.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mu[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}};var Mo=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(bu(o)){let i=o.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(o=>o).join(" ")}};function bu(n){let e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}var Oo="@firebase/app",Ba="0.13.2";var ue=new on("@firebase/app"),yu="@firebase/app-compat",Cu="@firebase/analytics-compat",vu="@firebase/analytics",wu="@firebase/app-check-compat",Pu="@firebase/app-check",Mu="@firebase/auth",Ou="@firebase/auth-compat",xu="@firebase/database",Eu="@firebase/data-connect",Iu="@firebase/database-compat",Tu="@firebase/functions",Su="@firebase/functions-compat",Au="@firebase/installations",ku="@firebase/installations-compat",Du="@firebase/messaging",Ru="@firebase/messaging-compat",Vu="@firebase/performance",Nu="@firebase/performance-compat",Fu="@firebase/remote-config",Lu="@firebase/remote-config-compat",Uu="@firebase/storage",Bu="@firebase/storage-compat",zu="@firebase/firestore",ju="@firebase/ai",Gu="@firebase/firestore-compat",qu="firebase",$u="11.10.0";var Ku={[Oo]:"fire-core",[yu]:"fire-core-compat",[vu]:"fire-analytics",[Cu]:"fire-analytics-compat",[Pu]:"fire-app-check",[wu]:"fire-app-check-compat",[Mu]:"fire-auth",[Ou]:"fire-auth-compat",[xu]:"fire-rtdb",[Eu]:"fire-data-connect",[Iu]:"fire-rtdb-compat",[Tu]:"fire-fn",[Su]:"fire-fn-compat",[Au]:"fire-iid",[ku]:"fire-iid-compat",[Du]:"fire-fcm",[Ru]:"fire-fcm-compat",[Vu]:"fire-perf",[Nu]:"fire-perf-compat",[Fu]:"fire-rc",[Lu]:"fire-rc-compat",[Uu]:"fire-gcs",[Bu]:"fire-gcs-compat",[zu]:"fire-fst",[Gu]:"fire-fst-compat",[ju]:"fire-vertex","fire-js":"fire-js",[qu]:"fire-js-all"};var Qu=new Map,Hu=new Map,za=new Map;function ja(n,e){try{n.container.addComponent(e)}catch(o){ue.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,o)}}function Xn(n){let e=n.name;if(za.has(e))return ue.debug(`There were multiple attempts to register component ${e}.`),!1;za.set(e,n);for(let o of Qu.values())ja(o,n);for(let o of Hu.values())ja(o,n);return!0}function Ka(n){return n==null?!1:n.settings!==void 0}var Wu={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Io=new Yn("app","Firebase",Wu);var Qa=$u;function sn(n,e,o){var i;let r=(i=Ku[n])!==null&&i!==void 0?i:n;o&&(r+=`-${o}`);let c=r.match(/\s|\//),u=e.match(/\s|\//);if(c||u){let d=[`Unable to register library "${r}" with version "${e}":`];c&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),c&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ue.warn(d.join(" "));return}Xn(new Me(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var Yu="firebase-heartbeat-database",Xu=1,Jn="firebase-heartbeat-store",Po=null;function Ha(){return Po||(Po=fa(Yu,Xu,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jn)}catch(o){console.warn(o)}}}}).catch(n=>{throw Io.create("idb-open",{originalErrorMessage:n.message})})),Po}function Ju(n){return B(this,null,function*(){try{let o=(yield Ha()).transaction(Jn),i=yield o.objectStore(Jn).get(Wa(n));return yield o.done,i}catch(e){if(e instanceof le)ue.warn(e.message);else{let o=Io.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ue.warn(o.message)}}})}function Ga(n,e){return B(this,null,function*(){try{let i=(yield Ha()).transaction(Jn,"readwrite");yield i.objectStore(Jn).put(e,Wa(n)),yield i.done}catch(o){if(o instanceof le)ue.warn(o.message);else{let i=Io.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});ue.warn(i.message)}}})}function Wa(n){return`${n.name}!${n.options.appId}`}var Zu=1024,td=30,xo=class{constructor(e){this.container=e,this._heartbeatsCache=null;let o=this.container.getProvider("app").getImmediate();this._storage=new Eo(o),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return B(this,null,function*(){var e,o;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=qa();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((o=this._heartbeatsCache)===null||o===void 0?void 0:o.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:r}),this._heartbeatsCache.heartbeats.length>td){let u=nd(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ue.warn(i)}})}getHeartbeatsHeader(){return B(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let o=qa(),{heartbeatsToSend:i,unsentEntries:r}=ed(this._heartbeatsCache.heartbeats),c=vo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=o,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(o){return ue.warn(o),""}})}};function qa(){return new Date().toISOString().substring(0,10)}function ed(n,e=Zu){let o=[],i=n.slice();for(let r of n){let c=o.find(u=>u.agent===r.agent);if(c){if(c.dates.push(r.date),$a(o)>e){c.dates.pop();break}}else if(o.push({agent:r.agent,dates:[r.date]}),$a(o)>e){o.pop();break}i=i.slice(1)}return{heartbeatsToSend:o,unsentEntries:i}}var Eo=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return B(this,null,function*(){return wo()?Ua().then(()=>!0).catch(()=>!1):!1})}read(){return B(this,null,function*(){if(yield this._canUseIndexedDBPromise){let o=yield Ju(this.app);return o!=null&&o.heartbeats?o:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return B(this,null,function*(){var o;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Ga(this.app,{lastSentHeartbeatDate:(o=e.lastSentHeartbeatDate)!==null&&o!==void 0?o:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return B(this,null,function*(){var o;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Ga(this.app,{lastSentHeartbeatDate:(o=e.lastSentHeartbeatDate)!==null&&o!==void 0?o:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function $a(n){return vo(JSON.stringify({version:2,heartbeats:n})).length}function nd(n){if(n.length===0)return-1;let e=0,o=n[0].date;for(let i=1;i<n.length;i++)n[i].date<o&&(o=n[i].date,e=i);return e}function id(n){Xn(new Me("platform-logger",e=>new Mo(e),"PRIVATE")),Xn(new Me("heartbeat",e=>new xo(e),"PRIVATE")),sn(Oo,Ba,n),sn(Oo,Ba,"esm2017"),sn("fire-js","")}id("");function sd(n,e){n&1&&dt(0,"mat-spinner",23)}function ad(n,e){n&1&&(v(0,"p",16),O(1,"Group name is required"),w())}function cd(n,e){n&1&&(v(0,"p",16),O(1,"Group name must be at least 2 characters"),w())}function ld(n,e){n&1&&(v(0,"p",16),O(1,"Group name must not exceed 50 characters"),w())}function ud(n,e){n&1&&(v(0,"p",16),O(1,"Description must not exceed 200 characters"),w())}var Ya=(()=>{let e=class e{constructor(i,r,c,u){this.fb=i,this.dialogRef=r,this.auth=c,this.store=u,this.isSubmitting=!1,this.userCurrency$=this.store.select(yo),this.groupForm=this.fb.group({name:["",[ve.required,ve.minLength(2),ve.maxLength(50)]],description:["",[ve.maxLength(200)]],initialMembers:[[]]})}ngOnInit(){}onSubmit(){return B(this,null,function*(){var i;if(this.groupForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let r=this.groupForm.value,c=this.store.select(yo),u="USD";c.subscribe(f=>{f&&(u=f)}).unsubscribe();let d={name:r.name.trim(),description:((i=r.description)==null?void 0:i.trim())||"",currency:u,initialMembers:r.initialMembers||[]};this.dialogRef.close(d)}catch(r){console.error("Error creating group:",r)}finally{this.isSubmitting=!1}}else this.groupForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(i){var c,u;let r=this.groupForm.get(i);return r!=null&&r.hasError("required")?`${i.charAt(0).toUpperCase()+i.slice(1)} is required`:r!=null&&r.hasError("minlength")?`${i.charAt(0).toUpperCase()+i.slice(1)} must be at least ${(c=r.errors)==null?void 0:c.minlength.requiredLength} characters`:r!=null&&r.hasError("maxlength")?`${i.charAt(0).toUpperCase()+i.slice(1)} must not exceed ${(u=r.errors)==null?void 0:u.maxlength.requiredLength} characters`:""}};e.\u0275fac=function(r){return new(r||e)(k(Ji),k(tr),k(Ot),k(At))},e.\u0275cmp=_t({type:e,selectors:[["app-create-group-dialog"]],decls:55,vars:10,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Create Group",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"group-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","text","formControlName","name","placeholder","Enter group name","autofocus","","maxlength","50",1,"form-input"],[1,"field-footer"],[1,"error-message"],[1,"character-count"],["formControlName","description","placeholder","Describe your group","maxlength","200","rows","3",1,"form-input"],[1,"info-section"],[1,"info-icon"],[1,"info-content"],[1,"bottom-spacing"],["diameter","16"]],template:function(r,c){if(r&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),z("click",function(){return c.onCancel()}),v(4,"mat-icon"),O(5,"arrow_back"),w()(),v(6,"h6",4),O(7," Create New Group "),w()(),v(8,"button",5),z("click",function(){return c.onCancel()}),v(9,"mat-icon"),O(10,"close"),w()(),v(11,"button",6),z("click",function(){return c.onSubmit()}),W(12,sd,1,0,"mat-spinner",7),O(13),w()()(),v(14,"div",8)(15,"div",9)(16,"form",10),z("ngSubmit",function(){return c.onSubmit()}),v(17,"div",11)(18,"label",12)(19,"mat-icon",13),O(20,"group"),w(),O(21," Group Name * "),w(),dt(22,"input",14),v(23,"div",15),W(24,ad,2,0,"p",16)(25,cd,2,0,"p",16)(26,ld,2,0,"p",16),v(27,"span",17),O(28),w()()(),v(29,"div",11)(30,"label",12)(31,"mat-icon",13),O(32,"description"),w(),O(33," Description (Optional) "),w(),dt(34,"textarea",18),v(35,"div",15),W(36,ud,2,0,"p",16),v(37,"span",17),O(38),w()()(),v(39,"div",19)(40,"mat-icon",20),O(41,"info"),w(),v(42,"div",21)(43,"h4"),O(44,"What happens next?"),w(),v(45,"ul")(46,"li"),O(47,"You'll be added as the group admin"),w(),v(48,"li"),O(49,"You can invite friends by email"),w(),v(50,"li"),O(51,"Start adding shared expenses"),w(),v(52,"li"),O(53,"Track who owes what to whom"),w()()()(),dt(54,"div",22),w()()()),r&2){let u,d,f,P,x,U;E(11),R("disabled",c.groupForm.invalid||c.isSubmitting),E(),R("ngIf",c.isSubmitting),E(),st(" ",c.isSubmitting?"Creating...":"Create"," "),E(3),R("formGroup",c.groupForm),E(8),Vt((u=c.groupForm.get("name"))!=null&&u.hasError("required")&&((u=c.groupForm.get("name"))!=null&&u.touched)?24:-1),E(),Vt((d=c.groupForm.get("name"))!=null&&d.hasError("minlength")&&((d=c.groupForm.get("name"))!=null&&d.touched)?25:-1),E(),Vt((f=c.groupForm.get("name"))!=null&&f.hasError("maxlength")&&((f=c.groupForm.get("name"))!=null&&f.touched)?26:-1),E(2),st(" ",((P=c.groupForm.get("name"))==null||P.value==null?null:P.value.length)||0,"/50 "),E(8),Vt((x=c.groupForm.get("description"))!=null&&x.hasError("maxlength")&&((x=c.groupForm.get("description"))!=null&&x.touched)?36:-1),E(2),st(" ",((U=c.groupForm.get("description"))==null||U.value==null?null:U.value.length)||0,"/200 ")}},dependencies:[St,Wi,Ki,Qi,Hi,ua,Yi,Xi,Gt,Zt,Dt,Pe,er],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease;resize:vertical}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{font-size:.7rem}}.info-section[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.25rem;background:#f8f9fa;border-radius:12px;border-left:4px solid #3b82f6;margin-top:.5rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;gap:.75rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px;gap:.5rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{background:#1f2937;border-left-color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.5rem;width:1.5rem;height:1.5rem;margin-top:.125rem;flex-shrink:0}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{flex:1}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#1f2937;font-weight:600;font-size:1rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:.5rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.375rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem;color:#6b7280}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:.875rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#9ca3af}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.375rem;font-size:.875rem;line-height:1.4}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.25rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.125rem}}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let n=e;return n})();var un=N("[Splitwise] Load Groups"),cr=N("[Splitwise] Load Groups Success",j()),ei=N("[Splitwise] Load Groups Failure",j()),de=N("[Splitwise] Load Group by ID",j()),lr=N("[Splitwise] Load Group by ID Success",j()),ni=N("[Splitwise] Load Group by ID Failure",j()),dn=N("[Splitwise] Load Invitations"),ur=N("[Splitwise] Load Invitations Success",j()),ii=N("[Splitwise] Load Invitations Failure",j()),hn=N("[Splitwise] Create Group",j()),dr=N("[Splitwise] Create Group Success",j()),ri=N("[Splitwise] Create Group Failure",j()),ee=N("[Splitwise] Add Member",j()),hr=N("[Splitwise] Add Member Success",j()),oi=N("[Splitwise] Add Member Failure",j()),mn=N("[Splitwise] Accept Invitation",j()),mr=N("[Splitwise] Accept Invitation Success",j()),si=N("[Splitwise] Accept Invitation Failure",j()),gn=N("[Splitwise] Decline Invitation",j()),gr=N("[Splitwise] Decline Invitation Success",j()),ai=N("[Splitwise] Decline Invitation Failure",j()),Oe=N("[Splitwise] Delete Group",j()),pr=N("[Splitwise] Delete Group Success",j()),ci=N("[Splitwise] Delete Group Failure",j()),Xa=N("[Splitwise] Select Group",j()),pn=N("[Splitwise] Load Transactions",j()),fr=N("[Splitwise] Load Transactions Success",j()),li=N("[Splitwise] Load Transactions Failure",j()),fn=N("[Splitwise] Load Settlements",j()),_r=N("[Splitwise] Load Settlements Success",j()),ui=N("[Splitwise] Load Settlements Failure",j()),br=N("[Splitwise] Create Split Transaction",j()),yr=N("[Splitwise] Create Split Transaction Success",j()),di=N("[Splitwise] Create Split Transaction Failure",j()),xe=N("[Splitwise] Remove Member",j()),Cr=N("[Splitwise] Remove Member Success",j()),hi=N("[Splitwise] Remove Member Failure",j()),Ee=N("[Splitwise] Clear Error");var Ie=Zi("splitwise"),_n=nt(Ie,n=>n),dd=nt(Ie,n=>n.groups),hd=nt(Ie,n=>n.invitations),md=nt(Ie,n=>n.transactions),gd=nt(Ie,n=>n.settlements),vr=nt(Ie,n=>n.selectedGroup),Fm=nt(Ie,n=>n.loading),Lm=nt(Ie,n=>n.error),Um=nt(dd,n=>n.filter(e=>e.isActive)),Bm=nt(hd,n=>n.filter(e=>e.status==="pending")),zm=nt(md,vr,(n,e)=>e?n.filter(o=>o.groupId===e.id):[]),jm=nt(gd,vr,(n,e)=>e?n.filter(o=>o.groupId===e.id):[]),Gm=nt(vr,n=>(n==null?void 0:n.members.filter(e=>e.isActive).length)||0),qm=nt(vr,n=>"");var Ne=function(n){return n.ADMIN="admin",n.MEMBER="member",n}(Ne||{}),So=function(n){return n.PENDING="pending",n.PARTIAL="partial",n.COMPLETED="completed",n.CANCELLED="cancelled",n}(So||{}),gi=function(n){return n.PENDING="pending",n.COMPLETED="completed",n.CANCELLED="cancelled",n}(gi||{}),bn=function(n){return n.PENDING="pending",n.ACCEPTED="accepted",n.DECLINED="declined",n.EXPIRED="expired",n}(bn||{});var Ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Za={};var wr,tc;(function(){var n;function e(y,h){function g(){}g.prototype=h.prototype,y.D=h.prototype,y.prototype=new g,y.prototype.constructor=y,y.C=function(p,_,C){for(var m=Array(arguments.length-2),re=2;re<arguments.length;re++)m[re-2]=arguments[re];return h.prototype[_].apply(p,m)}}function o(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,o),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(y,h,g){g||(g=0);var p=Array(16);if(typeof h=="string")for(var _=0;16>_;++_)p[_]=h.charCodeAt(g++)|h.charCodeAt(g++)<<8|h.charCodeAt(g++)<<16|h.charCodeAt(g++)<<24;else for(_=0;16>_;++_)p[_]=h[g++]|h[g++]<<8|h[g++]<<16|h[g++]<<24;h=y.g[0],g=y.g[1],_=y.g[2];var C=y.g[3],m=h+(C^g&(_^C))+p[0]+3614090360&4294967295;h=g+(m<<7&4294967295|m>>>25),m=C+(_^h&(g^_))+p[1]+3905402710&4294967295,C=h+(m<<12&4294967295|m>>>20),m=_+(g^C&(h^g))+p[2]+606105819&4294967295,_=C+(m<<17&4294967295|m>>>15),m=g+(h^_&(C^h))+p[3]+3250441966&4294967295,g=_+(m<<22&4294967295|m>>>10),m=h+(C^g&(_^C))+p[4]+4118548399&4294967295,h=g+(m<<7&4294967295|m>>>25),m=C+(_^h&(g^_))+p[5]+1200080426&4294967295,C=h+(m<<12&4294967295|m>>>20),m=_+(g^C&(h^g))+p[6]+2821735955&4294967295,_=C+(m<<17&4294967295|m>>>15),m=g+(h^_&(C^h))+p[7]+4249261313&4294967295,g=_+(m<<22&4294967295|m>>>10),m=h+(C^g&(_^C))+p[8]+1770035416&4294967295,h=g+(m<<7&4294967295|m>>>25),m=C+(_^h&(g^_))+p[9]+2336552879&4294967295,C=h+(m<<12&4294967295|m>>>20),m=_+(g^C&(h^g))+p[10]+4294925233&4294967295,_=C+(m<<17&4294967295|m>>>15),m=g+(h^_&(C^h))+p[11]+2304563134&4294967295,g=_+(m<<22&4294967295|m>>>10),m=h+(C^g&(_^C))+p[12]+1804603682&4294967295,h=g+(m<<7&4294967295|m>>>25),m=C+(_^h&(g^_))+p[13]+4254626195&4294967295,C=h+(m<<12&4294967295|m>>>20),m=_+(g^C&(h^g))+p[14]+2792965006&4294967295,_=C+(m<<17&4294967295|m>>>15),m=g+(h^_&(C^h))+p[15]+1236535329&4294967295,g=_+(m<<22&4294967295|m>>>10),m=h+(_^C&(g^_))+p[1]+4129170786&4294967295,h=g+(m<<5&4294967295|m>>>27),m=C+(g^_&(h^g))+p[6]+3225465664&4294967295,C=h+(m<<9&4294967295|m>>>23),m=_+(h^g&(C^h))+p[11]+643717713&4294967295,_=C+(m<<14&4294967295|m>>>18),m=g+(C^h&(_^C))+p[0]+3921069994&4294967295,g=_+(m<<20&4294967295|m>>>12),m=h+(_^C&(g^_))+p[5]+3593408605&4294967295,h=g+(m<<5&4294967295|m>>>27),m=C+(g^_&(h^g))+p[10]+38016083&4294967295,C=h+(m<<9&4294967295|m>>>23),m=_+(h^g&(C^h))+p[15]+3634488961&4294967295,_=C+(m<<14&4294967295|m>>>18),m=g+(C^h&(_^C))+p[4]+3889429448&4294967295,g=_+(m<<20&4294967295|m>>>12),m=h+(_^C&(g^_))+p[9]+568446438&4294967295,h=g+(m<<5&4294967295|m>>>27),m=C+(g^_&(h^g))+p[14]+3275163606&4294967295,C=h+(m<<9&4294967295|m>>>23),m=_+(h^g&(C^h))+p[3]+4107603335&4294967295,_=C+(m<<14&4294967295|m>>>18),m=g+(C^h&(_^C))+p[8]+1163531501&4294967295,g=_+(m<<20&4294967295|m>>>12),m=h+(_^C&(g^_))+p[13]+2850285829&4294967295,h=g+(m<<5&4294967295|m>>>27),m=C+(g^_&(h^g))+p[2]+4243563512&4294967295,C=h+(m<<9&4294967295|m>>>23),m=_+(h^g&(C^h))+p[7]+1735328473&4294967295,_=C+(m<<14&4294967295|m>>>18),m=g+(C^h&(_^C))+p[12]+2368359562&4294967295,g=_+(m<<20&4294967295|m>>>12),m=h+(g^_^C)+p[5]+4294588738&4294967295,h=g+(m<<4&4294967295|m>>>28),m=C+(h^g^_)+p[8]+2272392833&4294967295,C=h+(m<<11&4294967295|m>>>21),m=_+(C^h^g)+p[11]+1839030562&4294967295,_=C+(m<<16&4294967295|m>>>16),m=g+(_^C^h)+p[14]+4259657740&4294967295,g=_+(m<<23&4294967295|m>>>9),m=h+(g^_^C)+p[1]+2763975236&4294967295,h=g+(m<<4&4294967295|m>>>28),m=C+(h^g^_)+p[4]+1272893353&4294967295,C=h+(m<<11&4294967295|m>>>21),m=_+(C^h^g)+p[7]+4139469664&4294967295,_=C+(m<<16&4294967295|m>>>16),m=g+(_^C^h)+p[10]+3200236656&4294967295,g=_+(m<<23&4294967295|m>>>9),m=h+(g^_^C)+p[13]+681279174&4294967295,h=g+(m<<4&4294967295|m>>>28),m=C+(h^g^_)+p[0]+3936430074&4294967295,C=h+(m<<11&4294967295|m>>>21),m=_+(C^h^g)+p[3]+3572445317&4294967295,_=C+(m<<16&4294967295|m>>>16),m=g+(_^C^h)+p[6]+76029189&4294967295,g=_+(m<<23&4294967295|m>>>9),m=h+(g^_^C)+p[9]+3654602809&4294967295,h=g+(m<<4&4294967295|m>>>28),m=C+(h^g^_)+p[12]+3873151461&4294967295,C=h+(m<<11&4294967295|m>>>21),m=_+(C^h^g)+p[15]+530742520&4294967295,_=C+(m<<16&4294967295|m>>>16),m=g+(_^C^h)+p[2]+3299628645&4294967295,g=_+(m<<23&4294967295|m>>>9),m=h+(_^(g|~C))+p[0]+4096336452&4294967295,h=g+(m<<6&4294967295|m>>>26),m=C+(g^(h|~_))+p[7]+1126891415&4294967295,C=h+(m<<10&4294967295|m>>>22),m=_+(h^(C|~g))+p[14]+2878612391&4294967295,_=C+(m<<15&4294967295|m>>>17),m=g+(C^(_|~h))+p[5]+4237533241&4294967295,g=_+(m<<21&4294967295|m>>>11),m=h+(_^(g|~C))+p[12]+1700485571&4294967295,h=g+(m<<6&4294967295|m>>>26),m=C+(g^(h|~_))+p[3]+2399980690&4294967295,C=h+(m<<10&4294967295|m>>>22),m=_+(h^(C|~g))+p[10]+4293915773&4294967295,_=C+(m<<15&4294967295|m>>>17),m=g+(C^(_|~h))+p[1]+2240044497&4294967295,g=_+(m<<21&4294967295|m>>>11),m=h+(_^(g|~C))+p[8]+1873313359&4294967295,h=g+(m<<6&4294967295|m>>>26),m=C+(g^(h|~_))+p[15]+4264355552&4294967295,C=h+(m<<10&4294967295|m>>>22),m=_+(h^(C|~g))+p[6]+2734768916&4294967295,_=C+(m<<15&4294967295|m>>>17),m=g+(C^(_|~h))+p[13]+1309151649&4294967295,g=_+(m<<21&4294967295|m>>>11),m=h+(_^(g|~C))+p[4]+4149444226&4294967295,h=g+(m<<6&4294967295|m>>>26),m=C+(g^(h|~_))+p[11]+3174756917&4294967295,C=h+(m<<10&4294967295|m>>>22),m=_+(h^(C|~g))+p[2]+718787259&4294967295,_=C+(m<<15&4294967295|m>>>17),m=g+(C^(_|~h))+p[9]+3951481745&4294967295,y.g[0]=y.g[0]+h&4294967295,y.g[1]=y.g[1]+(_+(m<<21&4294967295|m>>>11))&4294967295,y.g[2]=y.g[2]+_&4294967295,y.g[3]=y.g[3]+C&4294967295}i.prototype.u=function(y,h){h===void 0&&(h=y.length);for(var g=h-this.blockSize,p=this.B,_=this.h,C=0;C<h;){if(_==0)for(;C<=g;)r(this,y,C),C+=this.blockSize;if(typeof y=="string"){for(;C<h;)if(p[_++]=y.charCodeAt(C++),_==this.blockSize){r(this,p),_=0;break}}else for(;C<h;)if(p[_++]=y[C++],_==this.blockSize){r(this,p),_=0;break}}this.h=_,this.o+=h},i.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var h=1;h<y.length-8;++h)y[h]=0;var g=8*this.o;for(h=y.length-8;h<y.length;++h)y[h]=g&255,g/=256;for(this.u(y),y=Array(16),h=g=0;4>h;++h)for(var p=0;32>p;p+=8)y[g++]=this.g[h]>>>p&255;return y};function c(y,h){var g=d;return Object.prototype.hasOwnProperty.call(g,y)?g[y]:g[y]=h(y)}function u(y,h){this.h=h;for(var g=[],p=!0,_=y.length-1;0<=_;_--){var C=y[_]|0;p&&C==h||(g[_]=C,p=!1)}this.g=g}var d={};function f(y){return-128<=y&&128>y?c(y,function(h){return new u([h|0],0>h?-1:0)}):new u([y|0],0>y?-1:0)}function P(y){if(isNaN(y)||!isFinite(y))return U;if(0>y)return Y(P(-y));for(var h=[],g=1,p=0;y>=g;p++)h[p]=y/g|0,g*=4294967296;return new u(h,0)}function x(y,h){if(y.length==0)throw Error("number format error: empty string");if(h=h||10,2>h||36<h)throw Error("radix out of range: "+h);if(y.charAt(0)=="-")return Y(x(y.substring(1),h));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=P(Math.pow(h,8)),p=U,_=0;_<y.length;_+=8){var C=Math.min(8,y.length-_),m=parseInt(y.substring(_,_+C),h);8>C?(C=P(Math.pow(h,C)),p=p.j(C).add(P(m))):(p=p.j(g),p=p.add(P(m)))}return p}var U=f(0),A=f(1),D=f(16777216);n=u.prototype,n.m=function(){if(ut(this))return-Y(this).m();for(var y=0,h=1,g=0;g<this.g.length;g++){var p=this.i(g);y+=(0<=p?p:4294967296+p)*h,h*=4294967296}return y},n.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(V(this))return"0";if(ut(this))return"-"+Y(this).toString(y);for(var h=P(Math.pow(y,6)),g=this,p="";;){var _=pe(g,h).g;g=gt(g,_.j(h));var C=((0<g.g.length?g.g[0]:g.h)>>>0).toString(y);if(g=_,V(g))return C+p;for(;6>C.length;)C="0"+C;p=C+p}},n.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function V(y){if(y.h!=0)return!1;for(var h=0;h<y.g.length;h++)if(y.g[h]!=0)return!1;return!0}function ut(y){return y.h==-1}n.l=function(y){return y=gt(this,y),ut(y)?-1:V(y)?0:1};function Y(y){for(var h=y.g.length,g=[],p=0;p<h;p++)g[p]=~y.g[p];return new u(g,~y.h).add(A)}n.abs=function(){return ut(this)?Y(this):this},n.add=function(y){for(var h=Math.max(this.g.length,y.g.length),g=[],p=0,_=0;_<=h;_++){var C=p+(this.i(_)&65535)+(y.i(_)&65535),m=(C>>>16)+(this.i(_)>>>16)+(y.i(_)>>>16);p=m>>>16,C&=65535,m&=65535,g[_]=m<<16|C}return new u(g,g[g.length-1]&-2147483648?-1:0)};function gt(y,h){return y.add(Y(h))}n.j=function(y){if(V(this)||V(y))return U;if(ut(this))return ut(y)?Y(this).j(Y(y)):Y(Y(this).j(y));if(ut(y))return Y(this.j(Y(y)));if(0>this.l(D)&&0>y.l(D))return P(this.m()*y.m());for(var h=this.g.length+y.g.length,g=[],p=0;p<2*h;p++)g[p]=0;for(p=0;p<this.g.length;p++)for(var _=0;_<y.g.length;_++){var C=this.i(p)>>>16,m=this.i(p)&65535,re=y.i(_)>>>16,xn=y.i(_)&65535;g[2*p+2*_]+=m*xn,xt(g,2*p+2*_),g[2*p+2*_+1]+=C*xn,xt(g,2*p+2*_+1),g[2*p+2*_+1]+=m*re,xt(g,2*p+2*_+1),g[2*p+2*_+2]+=C*re,xt(g,2*p+2*_+2)}for(p=0;p<h;p++)g[p]=g[2*p+1]<<16|g[2*p];for(p=h;p<2*h;p++)g[p]=0;return new u(g,0)};function xt(y,h){for(;(y[h]&65535)!=y[h];)y[h+1]+=y[h]>>>16,y[h]&=65535,h++}function Bt(y,h){this.g=y,this.h=h}function pe(y,h){if(V(h))throw Error("division by zero");if(V(y))return new Bt(U,U);if(ut(y))return h=pe(Y(y),h),new Bt(Y(h.g),Y(h.h));if(ut(h))return h=pe(y,Y(h)),new Bt(Y(h.g),h.h);if(30<y.g.length){if(ut(y)||ut(h))throw Error("slowDivide_ only works with positive integers.");for(var g=A,p=h;0>=p.l(y);)g=vi(g),p=vi(p);var _=Ht(g,1),C=Ht(p,1);for(p=Ht(p,2),g=Ht(g,2);!V(p);){var m=C.add(p);0>=m.l(y)&&(_=_.add(g),C=m),p=Ht(p,1),g=Ht(g,1)}return h=gt(y,_.j(h)),new Bt(_,h)}for(_=U;0<=y.l(h);){for(g=Math.max(1,Math.floor(y.m()/h.m())),p=Math.ceil(Math.log(g)/Math.LN2),p=48>=p?1:Math.pow(2,p-48),C=P(g),m=C.j(h);ut(m)||0<m.l(y);)g-=p,C=P(g),m=C.j(h);V(C)&&(C=A),_=_.add(C),y=gt(y,m)}return new Bt(_,y)}n.A=function(y){return pe(this,y).h},n.and=function(y){for(var h=Math.max(this.g.length,y.g.length),g=[],p=0;p<h;p++)g[p]=this.i(p)&y.i(p);return new u(g,this.h&y.h)},n.or=function(y){for(var h=Math.max(this.g.length,y.g.length),g=[],p=0;p<h;p++)g[p]=this.i(p)|y.i(p);return new u(g,this.h|y.h)},n.xor=function(y){for(var h=Math.max(this.g.length,y.g.length),g=[],p=0;p<h;p++)g[p]=this.i(p)^y.i(p);return new u(g,this.h^y.h)};function vi(y){for(var h=y.g.length+1,g=[],p=0;p<h;p++)g[p]=y.i(p)<<1|y.i(p-1)>>>31;return new u(g,y.h)}function Ht(y,h){var g=h>>5;h%=32;for(var p=y.g.length-g,_=[],C=0;C<p;C++)_[C]=0<h?y.i(C+g)>>>h|y.i(C+g+1)<<32-h:y.i(C+g);return new u(_,y.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,tc=Za.Md5=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=P,u.fromString=x,wr=Za.Integer=u}).apply(typeof Ja<"u"?Ja:typeof self<"u"?self:typeof window<"u"?window:{});var Pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he={};var ec,pd,nc,ic,rc,oc,sc,ac,cc;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,s,a){return t==Array.prototype||t==Object.prototype||(t[s]=a.value),t};function o(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pr=="object"&&Pr];for(var s=0;s<t.length;++s){var a=t[s];if(a&&a.Math==Math)return a}throw Error("Cannot find global object")}var i=o(this);function r(t,s){if(s)t:{var a=i;t=t.split(".");for(var l=0;l<t.length-1;l++){var b=t[l];if(!(b in a))break t;a=a[b]}t=t[t.length-1],l=a[t],s=s(l),s!=l&&s!=null&&e(a,t,{configurable:!0,writable:!0,value:s})}}function c(t,s){t instanceof String&&(t+="");var a=0,l=!1,b={next:function(){if(!l&&a<t.length){var M=a++;return{value:s(M,t[M]),done:!1}}return l=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}r("Array.prototype.values",function(t){return t||function(){return c(this,function(s,a){return a})}});var u=u||{},d=this||self;function f(t){var s=typeof t;return s=s!="object"?s:t?Array.isArray(t)?"array":s:"null",s=="array"||s=="object"&&typeof t.length=="number"}function P(t){var s=typeof t;return s=="object"&&t!=null||s=="function"}function x(t,s,a){return t.call.apply(t.bind,arguments)}function U(t,s,a){if(!t)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,l),t.apply(s,b)}}return function(){return t.apply(s,arguments)}}function A(t,s,a){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:U,A.apply(null,arguments)}function D(t,s){var a=Array.prototype.slice.call(arguments,1);return function(){var l=a.slice();return l.push.apply(l,arguments),t.apply(this,l)}}function V(t,s){function a(){}a.prototype=s.prototype,t.aa=s.prototype,t.prototype=new a,t.prototype.constructor=t,t.Qb=function(l,b,M){for(var I=Array(arguments.length-2),X=2;X<arguments.length;X++)I[X-2]=arguments[X];return s.prototype[b].apply(l,I)}}function ut(t){let s=t.length;if(0<s){let a=Array(s);for(let l=0;l<s;l++)a[l]=t[l];return a}return[]}function Y(t,s){for(let a=1;a<arguments.length;a++){let l=arguments[a];if(f(l)){let b=t.length||0,M=l.length||0;t.length=b+M;for(let I=0;I<M;I++)t[b+I]=l[I]}else t.push(l)}}class gt{constructor(s,a){this.i=s,this.j=a,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}function xt(t){return/^[\s\xa0]*$/.test(t)}function Bt(){var t=d.navigator;return t&&(t=t.userAgent)?t:""}function pe(t){return pe[" "](t),t}pe[" "]=function(){};var vi=Bt().indexOf("Gecko")!=-1&&!(Bt().toLowerCase().indexOf("webkit")!=-1&&Bt().indexOf("Edge")==-1)&&!(Bt().indexOf("Trident")!=-1||Bt().indexOf("MSIE")!=-1)&&Bt().indexOf("Edge")==-1;function Ht(t,s,a){for(let l in t)s.call(a,t[l],l,t)}function y(t,s){for(let a in t)s.call(void 0,t[a],a,t)}function h(t){let s={};for(let a in t)s[a]=t[a];return s}let g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p(t,s){let a,l;for(let b=1;b<arguments.length;b++){l=arguments[b];for(a in l)t[a]=l[a];for(let M=0;M<g.length;M++)a=g[M],Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a])}}function _(t){var s=1;t=t.split(":");let a=[];for(;0<s&&t.length;)a.push(t.shift()),s--;return t.length&&a.push(t.join(":")),a}function C(t){d.setTimeout(()=>{throw t},0)}function m(){var t=Fr;let s=null;return t.g&&(s=t.g,t.g=t.g.next,t.g||(t.h=null),s.next=null),s}class re{constructor(){this.h=this.g=null}add(s,a){let l=xn.get();l.set(s,a),this.h?this.h.next=l:this.g=l,this.h=l}}var xn=new gt(()=>new Ml,t=>t.reset());class Ml{constructor(){this.next=this.g=this.h=null}set(s,a){this.h=s,this.g=a,this.next=null}reset(){this.next=this.g=this.h=null}}let En,In=!1,Fr=new re,ts=()=>{let t=d.Promise.resolve(void 0);En=()=>{t.then(Ol)}};var Ol=()=>{for(var t;t=m();){try{t.h.call(t.g)}catch(a){C(a)}var s=xn;s.j(t),100>s.h&&(s.h++,t.next=s.g,s.g=t)}In=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vt(t,s){this.type=t,this.g=this.target=s,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var xl=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var t=!1,s=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let a=()=>{};d.addEventListener("test",a,s),d.removeEventListener("test",a,s)}catch{}return t}();function Tn(t,s){if(vt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var a=this.type=t.type,l=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=s,s=t.relatedTarget){if(vi){t:{try{pe(s.nodeName);var b=!0;break t}catch{}b=!1}b||(s=null)}}else a=="mouseover"?s=t.fromElement:a=="mouseout"&&(s=t.toElement);this.relatedTarget=s,l?(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:El[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Tn.aa.h.call(this)}}V(Tn,vt);var El={2:"touch",3:"pen",4:"mouse"};Tn.prototype.h=function(){Tn.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Sn="closure_listenable_"+(1e6*Math.random()|0),Il=0;function Tl(t,s,a,l,b){this.listener=t,this.proxy=null,this.src=s,this.type=a,this.capture=!!l,this.ha=b,this.key=++Il,this.da=this.fa=!1}function wi(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Pi(t){this.src=t,this.g={},this.h=0}Pi.prototype.add=function(t,s,a,l,b){var M=t.toString();t=this.g[M],t||(t=this.g[M]=[],this.h++);var I=Ur(t,s,l,b);return-1<I?(s=t[I],a||(s.fa=!1)):(s=new Tl(s,this.src,M,!!l,b),s.fa=a,t.push(s)),s};function Lr(t,s){var a=s.type;if(a in t.g){var l=t.g[a],b=Array.prototype.indexOf.call(l,s,void 0),M;(M=0<=b)&&Array.prototype.splice.call(l,b,1),M&&(wi(s),t.g[a].length==0&&(delete t.g[a],t.h--))}}function Ur(t,s,a,l){for(var b=0;b<t.length;++b){var M=t[b];if(!M.da&&M.listener==s&&M.capture==!!a&&M.ha==l)return b}return-1}var Br="closure_lm_"+(1e6*Math.random()|0),zr={};function es(t,s,a,l,b){if(l&&l.once)return is(t,s,a,l,b);if(Array.isArray(s)){for(var M=0;M<s.length;M++)es(t,s[M],a,l,b);return null}return a=$r(a),t&&t[Sn]?t.K(s,a,P(l)?!!l.capture:!!l,b):ns(t,s,a,!1,l,b)}function ns(t,s,a,l,b,M){if(!s)throw Error("Invalid event type");var I=P(b)?!!b.capture:!!b,X=Gr(t);if(X||(t[Br]=X=new Pi(t)),a=X.add(s,a,l,I,M),a.proxy)return a;if(l=Sl(),a.proxy=l,l.src=t,l.listener=a,t.addEventListener)xl||(b=I),b===void 0&&(b=!1),t.addEventListener(s.toString(),l,b);else if(t.attachEvent)t.attachEvent(os(s.toString()),l);else if(t.addListener&&t.removeListener)t.addListener(l);else throw Error("addEventListener and attachEvent are unavailable.");return a}function Sl(){function t(a){return s.call(t.src,t.listener,a)}let s=Al;return t}function is(t,s,a,l,b){if(Array.isArray(s)){for(var M=0;M<s.length;M++)is(t,s[M],a,l,b);return null}return a=$r(a),t&&t[Sn]?t.L(s,a,P(l)?!!l.capture:!!l,b):ns(t,s,a,!0,l,b)}function rs(t,s,a,l,b){if(Array.isArray(s))for(var M=0;M<s.length;M++)rs(t,s[M],a,l,b);else l=P(l)?!!l.capture:!!l,a=$r(a),t&&t[Sn]?(t=t.i,s=String(s).toString(),s in t.g&&(M=t.g[s],a=Ur(M,a,l,b),-1<a&&(wi(M[a]),Array.prototype.splice.call(M,a,1),M.length==0&&(delete t.g[s],t.h--)))):t&&(t=Gr(t))&&(s=t.g[s.toString()],t=-1,s&&(t=Ur(s,a,l,b)),(a=-1<t?s[t]:null)&&jr(a))}function jr(t){if(typeof t!="number"&&t&&!t.da){var s=t.src;if(s&&s[Sn])Lr(s.i,t);else{var a=t.type,l=t.proxy;s.removeEventListener?s.removeEventListener(a,l,t.capture):s.detachEvent?s.detachEvent(os(a),l):s.addListener&&s.removeListener&&s.removeListener(l),(a=Gr(s))?(Lr(a,t),a.h==0&&(a.src=null,s[Br]=null)):wi(t)}}}function os(t){return t in zr?zr[t]:zr[t]="on"+t}function Al(t,s){if(t.da)t=!0;else{s=new Tn(s,this);var a=t.listener,l=t.ha||t.src;t.fa&&jr(t),t=a.call(l,s)}return t}function Gr(t){return t=t[Br],t instanceof Pi?t:null}var qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function $r(t){return typeof t=="function"?t:(t[qr]||(t[qr]=function(s){return t.handleEvent(s)}),t[qr])}function wt(){fe.call(this),this.i=new Pi(this),this.M=this,this.F=null}V(wt,fe),wt.prototype[Sn]=!0,wt.prototype.removeEventListener=function(t,s,a,l){rs(this,t,s,a,l)};function Et(t,s){var a,l=t.F;if(l)for(a=[];l;l=l.F)a.push(l);if(t=t.M,l=s.type||s,typeof s=="string")s=new vt(s,t);else if(s instanceof vt)s.target=s.target||t;else{var b=s;s=new vt(l,t),p(s,b)}if(b=!0,a)for(var M=a.length-1;0<=M;M--){var I=s.g=a[M];b=Mi(I,l,!0,s)&&b}if(I=s.g=t,b=Mi(I,l,!0,s)&&b,b=Mi(I,l,!1,s)&&b,a)for(M=0;M<a.length;M++)I=s.g=a[M],b=Mi(I,l,!1,s)&&b}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var t=this.i,s;for(s in t.g){for(var a=t.g[s],l=0;l<a.length;l++)wi(a[l]);delete t.g[s],t.h--}}this.F=null},wt.prototype.K=function(t,s,a,l){return this.i.add(String(t),s,!1,a,l)},wt.prototype.L=function(t,s,a,l){return this.i.add(String(t),s,!0,a,l)};function Mi(t,s,a,l){if(s=t.i.g[String(s)],!s)return!0;s=s.concat();for(var b=!0,M=0;M<s.length;++M){var I=s[M];if(I&&!I.da&&I.capture==a){var X=I.listener,ft=I.ha||I.src;I.fa&&Lr(t.i,I),b=X.call(ft,l)!==!1&&b}}return b&&!l.defaultPrevented}function ss(t,s,a){if(typeof t=="function")a&&(t=A(t,a));else if(t&&typeof t.handleEvent=="function")t=A(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:d.setTimeout(t,s||0)}function as(t){t.g=ss(()=>{t.g=null,t.i&&(t.i=!1,as(t))},t.l);let s=t.h;t.h=null,t.m.apply(null,s)}class kl extends fe{constructor(s,a){super(),this.m=s,this.l=a,this.h=null,this.i=!1,this.g=null}j(s){this.h=arguments,this.g?this.i=!0:as(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(t){fe.call(this),this.h=t,this.g={}}V(An,fe);var cs=[];function ls(t){Ht(t.g,function(s,a){this.g.hasOwnProperty(a)&&jr(s)},t),t.g={}}An.prototype.N=function(){An.aa.N.call(this),ls(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kr=d.JSON.stringify,Dl=d.JSON.parse,Rl=class{stringify(t){return d.JSON.stringify(t,void 0)}parse(t){return d.JSON.parse(t,void 0)}};function Qr(){}Qr.prototype.h=null;function us(t){return t.h||(t.h=t.i())}function ds(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hr(){vt.call(this,"d")}V(Hr,vt);function Wr(){vt.call(this,"c")}V(Wr,vt);var Se={},hs=null;function Oi(){return hs=hs||new wt}Se.La="serverreachability";function ms(t){vt.call(this,Se.La,t)}V(ms,vt);function Dn(t){let s=Oi();Et(s,new ms(s))}Se.STAT_EVENT="statevent";function gs(t,s){vt.call(this,Se.STAT_EVENT,t),this.stat=s}V(gs,vt);function It(t){let s=Oi();Et(s,new gs(s,t))}Se.Ma="timingevent";function ps(t,s){vt.call(this,Se.Ma,t),this.size=s}V(ps,vt);function Rn(t,s){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){t()},s)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function Vl(t,s,a,l,b,M){t.info(function(){if(t.g)if(M)for(var I="",X=M.split("&"),ft=0;ft<X.length;ft++){var $=X[ft].split("=");if(1<$.length){var Pt=$[0];$=$[1];var Mt=Pt.split("_");I=2<=Mt.length&&Mt[1]=="type"?I+(Pt+"="+$+"&"):I+(Pt+"=redacted&")}}else I=null;else I=M;return"XMLHTTP REQ ("+l+") [attempt "+b+"]: "+s+`
`+a+`
`+I})}function Nl(t,s,a,l,b,M,I){t.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+b+"]: "+s+`
`+a+`
`+M+" "+I})}function Be(t,s,a,l){t.info(function(){return"XMLHTTP TEXT ("+s+"): "+Ll(t,a)+(l?" "+l:"")})}function Fl(t,s){t.info(function(){return"TIMEOUT: "+s})}Vn.prototype.info=function(){};function Ll(t,s){if(!t.g)return s;if(!s)return null;try{var a=JSON.parse(s);if(a){for(t=0;t<a.length;t++)if(Array.isArray(a[t])){var l=a[t];if(!(2>l.length)){var b=l[1];if(Array.isArray(b)&&!(1>b.length)){var M=b[0];if(M!="noop"&&M!="stop"&&M!="close")for(var I=1;I<b.length;I++)b[I]=""}}}}return Kr(a)}catch{return s}}var xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yr;function Ei(){}V(Ei,Qr),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},Yr=new Ei;function _e(t,s,a,l){this.j=t,this.i=s,this.l=a,this.R=l||1,this.U=new An(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _s}function _s(){this.i=null,this.g="",this.h=!1}var bs={},Xr={};function Jr(t,s,a){t.L=1,t.v=Ai(oe(s)),t.m=a,t.P=!0,ys(t,null)}function ys(t,s){t.F=Date.now(),Ii(t),t.A=oe(t.v);var a=t.A,l=t.R;Array.isArray(l)||(l=[String(l)]),Ds(a.i,"t",l),t.C=0,a=t.j.J,t.h=new _s,t.g=Xs(t.j,a?s:null,!t.m),0<t.O&&(t.M=new kl(A(t.Y,t,t.g),t.O)),s=t.U,a=t.g,l=t.ca;var b="readystatechange";Array.isArray(b)||(b&&(cs[0]=b.toString()),b=cs);for(var M=0;M<b.length;M++){var I=es(a,b[M],l||s.handleEvent,!1,s.h||s);if(!I)break;s.g[I.key]=I}s=t.H?h(t.H):{},t.m?(t.u||(t.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,s)):(t.u="GET",t.g.ea(t.A,t.u,null,s)),Dn(),Vl(t.i,t.u,t.A,t.l,t.R,t.m)}_e.prototype.ca=function(t){t=t.target;let s=this.M;s&&se(t)==3?s.j():this.Y(t)},_e.prototype.Y=function(t){try{if(t==this.g)t:{let Mt=se(this.g);var s=this.g.Ba();let Ge=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||Bs(this.g)))){this.J||Mt!=4||s==7||(s==8||0>=Ge?Dn(3):Dn(2)),Zr(this);var a=this.g.Z();this.X=a;e:if(Cs(this)){var l=Bs(this.g);t="";var b=l.length,M=se(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ae(this),Nn(this);var I="";break e}this.h.i=new d.TextDecoder}for(s=0;s<b;s++)this.h.h=!0,t+=this.h.i.decode(l[s],{stream:!(M&&s==b-1)});l.length=0,this.h.g+=t,this.C=0,I=this.h.g}else I=this.g.oa();if(this.o=a==200,Nl(this.i,this.u,this.A,this.l,this.R,Mt,a),this.o){if(this.T&&!this.K){e:{if(this.g){var X,ft=this.g;if((X=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xt(X)){var $=X;break e}}$=null}if(a=$)Be(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,to(this,a);else{this.o=!1,this.s=3,It(12),Ae(this),Nn(this);break t}}if(this.P){a=!0;let $t;for(;!this.J&&this.C<I.length;)if($t=Ul(this,I),$t==Xr){Mt==4&&(this.s=4,It(14),a=!1),Be(this.i,this.l,null,"[Incomplete Response]");break}else if($t==bs){this.s=4,It(15),Be(this.i,this.l,I,"[Invalid Chunk]"),a=!1;break}else Be(this.i,this.l,$t,null),to(this,$t);if(Cs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||I.length!=0||this.h.h||(this.s=1,It(16),a=!1),this.o=this.o&&a,!a)Be(this.i,this.l,I,"[Invalid Chunked Response]"),Ae(this),Nn(this);else if(0<I.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),so(Pt),Pt.M=!0,It(11))}}else Be(this.i,this.l,I,null),to(this,I);Mt==4&&Ae(this),this.o&&!this.J&&(Mt==4?Qs(this.j,this):(this.o=!1,Ii(this)))}else nu(this.g),a==400&&0<I.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Ae(this),Nn(this)}}}catch{}finally{}};function Cs(t){return t.g?t.u=="GET"&&t.L!=2&&t.j.Ca:!1}function Ul(t,s){var a=t.C,l=s.indexOf(`
`,a);return l==-1?Xr:(a=Number(s.substring(a,l)),isNaN(a)?bs:(l+=1,l+a>s.length?Xr:(s=s.slice(l,l+a),t.C=l+a,s)))}_e.prototype.cancel=function(){this.J=!0,Ae(this)};function Ii(t){t.S=Date.now()+t.I,vs(t,t.I)}function vs(t,s){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Rn(A(t.ba,t),s)}function Zr(t){t.B&&(d.clearTimeout(t.B),t.B=null)}_e.prototype.ba=function(){this.B=null;let t=Date.now();0<=t-this.S?(Fl(this.i,this.A),this.L!=2&&(Dn(),It(17)),Ae(this),this.s=2,Nn(this)):vs(this,this.S-t)};function Nn(t){t.j.G==0||t.J||Qs(t.j,t)}function Ae(t){Zr(t);var s=t.M;s&&typeof s.ma=="function"&&s.ma(),t.M=null,ls(t.U),t.g&&(s=t.g,t.g=null,s.abort(),s.ma())}function to(t,s){try{var a=t.j;if(a.G!=0&&(a.g==t||eo(a.h,t))){if(!t.K&&eo(a.h,t)&&a.G==3){try{var l=a.Da.g.parse(s)}catch{l=null}if(Array.isArray(l)&&l.length==3){var b=l;if(b[0]==0){t:if(!a.u){if(a.g)if(a.g.F+3e3<t.F)Ni(a),Ri(a);else break t;oo(a),It(18)}}else a.za=b[1],0<a.za-a.T&&37500>b[2]&&a.F&&a.v==0&&!a.C&&(a.C=Rn(A(a.Za,a),6e3));if(1>=Ms(a.h)&&a.ca){try{a.ca()}catch{}a.ca=void 0}}else De(a,11)}else if((t.K||a.g==t)&&Ni(a),!xt(s))for(b=a.Da.g.parse(s),s=0;s<b.length;s++){let $=b[s];if(a.T=$[0],$=$[1],a.G==2)if($[0]=="c"){a.K=$[1],a.ia=$[2];let Pt=$[3];Pt!=null&&(a.la=Pt,a.j.info("VER="+a.la));let Mt=$[4];Mt!=null&&(a.Aa=Mt,a.j.info("SVER="+a.Aa));let Ge=$[5];Ge!=null&&typeof Ge=="number"&&0<Ge&&(l=1.5*Ge,a.L=l,a.j.info("backChannelRequestTimeoutMs_="+l)),l=a;let $t=t.g;if($t){let Li=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Li){var M=l.h;M.g||Li.indexOf("spdy")==-1&&Li.indexOf("quic")==-1&&Li.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(no(M,M.h),M.h=null))}if(l.D){let ao=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(l.ya=ao,it(l.I,l.D,ao))}}a.G=3,a.l&&a.l.ua(),a.ba&&(a.R=Date.now()-t.F,a.j.info("Handshake RTT: "+a.R+"ms")),l=a;var I=t;if(l.qa=Ys(l,l.J?l.ia:null,l.W),I.K){Os(l.h,I);var X=I,ft=l.L;ft&&(X.I=ft),X.B&&(Zr(X),Ii(X)),l.g=I}else $s(l);0<a.i.length&&Vi(a)}else $[0]!="stop"&&$[0]!="close"||De(a,7);else a.G==3&&($[0]=="stop"||$[0]=="close"?$[0]=="stop"?De(a,7):ro(a):$[0]!="noop"&&a.l&&a.l.ta($),a.v=0)}}Dn(4)}catch{}}var Bl=class{constructor(t,s){this.g=t,this.map=s}};function ws(t){this.l=t||10,d.PerformanceNavigationTiming?(t=d.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ps(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Ms(t){return t.h?1:t.g?t.g.size:0}function eo(t,s){return t.h?t.h==s:t.g?t.g.has(s):!1}function no(t,s){t.g?t.g.add(s):t.h=s}function Os(t,s){t.h&&t.h==s?t.h=null:t.g&&t.g.has(s)&&t.g.delete(s)}ws.prototype.cancel=function(){if(this.i=xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function xs(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let s=t.i;for(let a of t.g.values())s=s.concat(a.D);return s}return ut(t.i)}function zl(t){if(t.V&&typeof t.V=="function")return t.V();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(f(t)){for(var s=[],a=t.length,l=0;l<a;l++)s.push(t[l]);return s}s=[],a=0;for(l in t)s[a++]=t[l];return s}function jl(t){if(t.na&&typeof t.na=="function")return t.na();if(!t.V||typeof t.V!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(f(t)||typeof t=="string"){var s=[];t=t.length;for(var a=0;a<t;a++)s.push(a);return s}s=[],a=0;for(let l in t)s[a++]=l;return s}}}function Es(t,s){if(t.forEach&&typeof t.forEach=="function")t.forEach(s,void 0);else if(f(t)||typeof t=="string")Array.prototype.forEach.call(t,s,void 0);else for(var a=jl(t),l=zl(t),b=l.length,M=0;M<b;M++)s.call(void 0,l[M],a&&a[M],t)}var Is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gl(t,s){if(t){t=t.split("&");for(var a=0;a<t.length;a++){var l=t[a].indexOf("="),b=null;if(0<=l){var M=t[a].substring(0,l);b=t[a].substring(l+1)}else M=t[a];s(M,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function ke(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof ke){this.h=t.h,Ti(this,t.j),this.o=t.o,this.g=t.g,Si(this,t.s),this.l=t.l;var s=t.i,a=new Un;a.i=s.i,s.g&&(a.g=new Map(s.g),a.h=s.h),Ts(this,a),this.m=t.m}else t&&(s=String(t).match(Is))?(this.h=!1,Ti(this,s[1]||"",!0),this.o=Fn(s[2]||""),this.g=Fn(s[3]||"",!0),Si(this,s[4]),this.l=Fn(s[5]||"",!0),Ts(this,s[6]||"",!0),this.m=Fn(s[7]||"")):(this.h=!1,this.i=new Un(null,this.h))}ke.prototype.toString=function(){var t=[],s=this.j;s&&t.push(Ln(s,Ss,!0),":");var a=this.g;return(a||s=="file")&&(t.push("//"),(s=this.o)&&t.push(Ln(s,Ss,!0),"@"),t.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a=this.s,a!=null&&t.push(":",String(a))),(a=this.l)&&(this.g&&a.charAt(0)!="/"&&t.push("/"),t.push(Ln(a,a.charAt(0)=="/"?Kl:$l,!0))),(a=this.i.toString())&&t.push("?",a),(a=this.m)&&t.push("#",Ln(a,Hl)),t.join("")};function oe(t){return new ke(t)}function Ti(t,s,a){t.j=a?Fn(s,!0):s,t.j&&(t.j=t.j.replace(/:$/,""))}function Si(t,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);t.s=s}else t.s=null}function Ts(t,s,a){s instanceof Un?(t.i=s,Wl(t.i,t.h)):(a||(s=Ln(s,Ql)),t.i=new Un(s,t.h))}function it(t,s,a){t.i.set(s,a)}function Ai(t){return it(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fn(t,s){return t?s?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ln(t,s,a){return typeof t=="string"?(t=encodeURI(t).replace(s,ql),a&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ql(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ss=/[#\/\?@]/g,$l=/[#\?:]/g,Kl=/[#\?]/g,Ql=/[#\?@]/g,Hl=/#/g;function Un(t,s){this.h=this.g=null,this.i=t||null,this.j=!!s}function be(t){t.g||(t.g=new Map,t.h=0,t.i&&Gl(t.i,function(s,a){t.add(decodeURIComponent(s.replace(/\+/g," ")),a)}))}n=Un.prototype,n.add=function(t,s){be(this),this.i=null,t=ze(this,t);var a=this.g.get(t);return a||this.g.set(t,a=[]),a.push(s),this.h+=1,this};function As(t,s){be(t),s=ze(t,s),t.g.has(s)&&(t.i=null,t.h-=t.g.get(s).length,t.g.delete(s))}function ks(t,s){return be(t),s=ze(t,s),t.g.has(s)}n.forEach=function(t,s){be(this),this.g.forEach(function(a,l){a.forEach(function(b){t.call(s,b,l,this)},this)},this)},n.na=function(){be(this);let t=Array.from(this.g.values()),s=Array.from(this.g.keys()),a=[];for(let l=0;l<s.length;l++){let b=t[l];for(let M=0;M<b.length;M++)a.push(s[l])}return a},n.V=function(t){be(this);let s=[];if(typeof t=="string")ks(this,t)&&(s=s.concat(this.g.get(ze(this,t))));else{t=Array.from(this.g.values());for(let a=0;a<t.length;a++)s=s.concat(t[a])}return s},n.set=function(t,s){return be(this),this.i=null,t=ze(this,t),ks(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[s]),this.h+=1,this},n.get=function(t,s){return t?(t=this.V(t),0<t.length?String(t[0]):s):s};function Ds(t,s,a){As(t,s),0<a.length&&(t.i=null,t.g.set(ze(t,s),ut(a)),t.h+=a.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],s=Array.from(this.g.keys());for(var a=0;a<s.length;a++){var l=s[a];let M=encodeURIComponent(String(l)),I=this.V(l);for(l=0;l<I.length;l++){var b=M;I[l]!==""&&(b+="="+encodeURIComponent(String(I[l]))),t.push(b)}}return this.i=t.join("&")};function ze(t,s){return s=String(s),t.j&&(s=s.toLowerCase()),s}function Wl(t,s){s&&!t.j&&(be(t),t.i=null,t.g.forEach(function(a,l){var b=l.toLowerCase();l!=b&&(As(this,l),Ds(this,b,a))},t)),t.j=s}function Yl(t,s){let a=new Vn;if(d.Image){let l=new Image;l.onload=D(ye,a,"TestLoadImage: loaded",!0,s,l),l.onerror=D(ye,a,"TestLoadImage: error",!1,s,l),l.onabort=D(ye,a,"TestLoadImage: abort",!1,s,l),l.ontimeout=D(ye,a,"TestLoadImage: timeout",!1,s,l),d.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=t}else s(!1)}function Xl(t,s){let a=new Vn,l=new AbortController,b=setTimeout(()=>{l.abort(),ye(a,"TestPingServer: timeout",!1,s)},1e4);fetch(t,{signal:l.signal}).then(M=>{clearTimeout(b),M.ok?ye(a,"TestPingServer: ok",!0,s):ye(a,"TestPingServer: server error",!1,s)}).catch(()=>{clearTimeout(b),ye(a,"TestPingServer: error",!1,s)})}function ye(t,s,a,l,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),l(a)}catch{}}function Jl(){this.g=new Rl}function Zl(t,s,a){let l=a||"";try{Es(t,function(b,M){let I=b;P(b)&&(I=Kr(b)),s.push(l+M+"="+encodeURIComponent(I))})}catch(b){throw s.push(l+"type="+encodeURIComponent("_badmap")),b}}function Bn(t){this.l=t.Ub||null,this.j=t.eb||!1}V(Bn,Qr),Bn.prototype.g=function(){return new ki(this.l,this.j)},Bn.prototype.i=function(t){return function(){return t}}({});function ki(t,s){wt.call(this),this.D=t,this.o=s,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(ki,wt),n=ki.prototype,n.open=function(t,s){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=s,this.readyState=1,jn(this)},n.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let s={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(s.body=t),(this.D||d).fetch(new Request(this.A,s)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},n.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rs(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rs(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}n.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var s=t.value?t.value:new Uint8Array(0);(s=this.v.decode(s,{stream:!t.done}))&&(this.response=this.responseText+=s)}t.done?zn(this):jn(this),this.readyState==3&&Rs(this)}},n.Ra=function(t){this.g&&(this.response=this.responseText=t,zn(this))},n.Qa=function(t){this.g&&(this.response=t,zn(this))},n.ga=function(){this.g&&zn(this)};function zn(t){t.readyState=4,t.l=null,t.j=null,t.v=null,jn(t)}n.setRequestHeader=function(t,s){this.u.append(t,s)},n.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],s=this.h.entries();for(var a=s.next();!a.done;)a=a.value,t.push(a[0]+": "+a[1]),a=s.next();return t.join(`\r
`)};function jn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});function Vs(t){let s="";return Ht(t,function(a,l){s+=l,s+=":",s+=a,s+=`\r
`}),s}function io(t,s,a){t:{for(l in a){var l=!1;break t}l=!0}l||(a=Vs(a),typeof t=="string"?a!=null&&encodeURIComponent(String(a)):it(t,s,a))}function lt(t){wt.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(lt,wt);var tu=/^https?$/i,eu=["POST","PUT"];n=lt.prototype,n.Ha=function(t){this.J=t},n.ea=function(t,s,a,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);s=s?s.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yr.g(),this.v=this.o?us(this.o):us(Yr),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(s,String(t),!0),this.B=!1}catch(M){Ns(this,M);return}if(t=a||"",a=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var b in l)a.set(b,l[b]);else if(typeof l.keys=="function"&&typeof l.get=="function")for(let M of l.keys())a.set(M,l.get(M));else throw Error("Unknown input type for opt_headers: "+String(l));l=Array.from(a.keys()).find(M=>M.toLowerCase()=="content-type"),b=d.FormData&&t instanceof d.FormData,!(0<=Array.prototype.indexOf.call(eu,s,void 0))||l||b||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,I]of a)this.g.setRequestHeader(M,I);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Us(this),this.u=!0,this.g.send(t),this.u=!1}catch(M){Ns(this,M)}};function Ns(t,s){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=s,t.m=5,Fs(t),Di(t)}function Fs(t){t.A||(t.A=!0,Et(t,"complete"),Et(t,"error"))}n.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),Di(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),lt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ls(this):this.bb())},n.bb=function(){Ls(this)};function Ls(t){if(t.h&&typeof u<"u"&&(!t.v[1]||se(t)!=4||t.Z()!=2)){if(t.u&&se(t)==4)ss(t.Ea,0,t);else if(Et(t,"readystatechange"),se(t)==4){t.h=!1;try{let I=t.Z();t:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}var a;if(!(a=s)){var l;if(l=I===0){var b=String(t.D).match(Is)[1]||null;!b&&d.self&&d.self.location&&(b=d.self.location.protocol.slice(0,-1)),l=!tu.test(b?b.toLowerCase():"")}a=l}if(a)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var M=2<se(t)?t.g.statusText:""}catch{M=""}t.l=M+" ["+t.Z()+"]",Fs(t)}}finally{Di(t)}}}}function Di(t,s){if(t.g){Us(t);let a=t.g,l=t.v[0]?()=>{}:null;t.g=null,t.v=null,s||Et(t,"ready");try{a.onreadystatechange=l}catch{}}}function Us(t){t.I&&(d.clearTimeout(t.I),t.I=null)}n.isActive=function(){return!!this.g};function se(t){return t.g?t.g.readyState:0}n.Z=function(){try{return 2<se(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(t){if(this.g){var s=this.g.responseText;return t&&s.indexOf(t)==0&&(s=s.substring(t.length)),Dl(s)}};function Bs(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function nu(t){let s={};t=(t.g&&2<=se(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let l=0;l<t.length;l++){if(xt(t[l]))continue;var a=_(t[l]);let b=a[0];if(a=a[1],typeof a!="string")continue;a=a.trim();let M=s[b]||[];s[b]=M,M.push(a)}y(s,function(l){return l.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gn(t,s,a){return a&&a.internalChannelParams&&a.internalChannelParams[t]||s}function zs(t){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gn("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gn("baseRetryDelayMs",5e3,t),this.cb=Gn("retryDelaySeedMs",1e4,t),this.Wa=Gn("forwardChannelMaxRetries",2,t),this.wa=Gn("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new ws(t&&t.concurrentRequestLimit),this.Da=new Jl,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=zs.prototype,n.la=8,n.G=1,n.connect=function(t,s,a,l){It(0),this.W=t,this.H=s||{},a&&l!==void 0&&(this.H.OSID=a,this.H.OAID=l),this.F=this.X,this.I=Ys(this,null,this.W),Vi(this)};function ro(t){if(js(t),t.G==3){var s=t.U++,a=oe(t.I);if(it(a,"SID",t.K),it(a,"RID",s),it(a,"TYPE","terminate"),qn(t,a),s=new _e(t,t.j,s),s.L=2,s.v=Ai(oe(a)),a=!1,d.navigator&&d.navigator.sendBeacon)try{a=d.navigator.sendBeacon(s.v.toString(),"")}catch{}!a&&d.Image&&(new Image().src=s.v,a=!0),a||(s.g=Xs(s.j,null),s.g.ea(s.v)),s.F=Date.now(),Ii(s)}Ws(t)}function Ri(t){t.g&&(so(t),t.g.cancel(),t.g=null)}function js(t){Ri(t),t.u&&(d.clearTimeout(t.u),t.u=null),Ni(t),t.h.cancel(),t.s&&(typeof t.s=="number"&&d.clearTimeout(t.s),t.s=null)}function Vi(t){if(!Ps(t.h)&&!t.s){t.s=!0;var s=t.Ga;En||ts(),In||(En(),In=!0),Fr.add(s,t),t.B=0}}function iu(t,s){return Ms(t.h)>=t.h.j-(t.s?1:0)?!1:t.s?(t.i=s.D.concat(t.i),!0):t.G==1||t.G==2||t.B>=(t.Va?0:t.Wa)?!1:(t.s=Rn(A(t.Ga,t,s),Hs(t,t.B)),t.B++,!0)}n.Ga=function(t){if(this.s)if(this.s=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;let b=new _e(this,this.j,t),M=this.o;if(this.S&&(M?(M=h(M),p(M,this.S)):M=this.S),this.m!==null||this.O||(b.H=M,M=null),this.P)t:{for(var s=0,a=0;a<this.i.length;a++){e:{var l=this.i[a];if("__data__"in l.map&&(l=l.map.__data__,typeof l=="string")){l=l.length;break e}l=void 0}if(l===void 0)break;if(s+=l,4096<s){s=a;break t}if(s===4096||a===this.i.length-1){s=a+1;break t}}s=1e3}else s=1e3;s=qs(this,b,s),a=oe(this.I),it(a,"RID",t),it(a,"CVER",22),this.D&&it(a,"X-HTTP-Session-Id",this.D),qn(this,a),M&&(this.O?s="headers="+encodeURIComponent(String(Vs(M)))+"&"+s:this.m&&io(a,this.m,M)),no(this.h,b),this.Ua&&it(a,"TYPE","init"),this.P?(it(a,"$req",s),it(a,"SID","null"),b.T=!0,Jr(b,a,null)):Jr(b,a,s),this.G=2}}else this.G==3&&(t?Gs(this,t):this.i.length==0||Ps(this.h)||Gs(this))};function Gs(t,s){var a;s?a=s.l:a=t.U++;let l=oe(t.I);it(l,"SID",t.K),it(l,"RID",a),it(l,"AID",t.T),qn(t,l),t.m&&t.o&&io(l,t.m,t.o),a=new _e(t,t.j,a,t.B+1),t.m===null&&(a.H=t.o),s&&(t.i=s.D.concat(t.i)),s=qs(t,a,1e3),a.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),no(t.h,a),Jr(a,l,s)}function qn(t,s){t.H&&Ht(t.H,function(a,l){it(s,l,a)}),t.l&&Es({},function(a,l){it(s,l,a)})}function qs(t,s,a){a=Math.min(t.i.length,a);var l=t.l?A(t.l.Na,t.l,t):null;t:{var b=t.i;let M=-1;for(;;){let I=["count="+a];M==-1?0<a?(M=b[0].g,I.push("ofs="+M)):M=0:I.push("ofs="+M);let X=!0;for(let ft=0;ft<a;ft++){let $=b[ft].g,Pt=b[ft].map;if($-=M,0>$)M=Math.max(0,b[ft].g-100),X=!1;else try{Zl(Pt,I,"req"+$+"_")}catch{l&&l(Pt)}}if(X){l=I.join("&");break t}}}return t=t.i.splice(0,a),s.D=t,l}function $s(t){if(!t.g&&!t.u){t.Y=1;var s=t.Fa;En||ts(),In||(En(),In=!0),Fr.add(s,t),t.v=0}}function oo(t){return t.g||t.u||3<=t.v?!1:(t.Y++,t.u=Rn(A(t.Fa,t),Hs(t,t.v)),t.v++,!0)}n.Fa=function(){if(this.u=null,Ks(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=Rn(A(this.ab,this),t)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Ri(this),Ks(this))};function so(t){t.A!=null&&(d.clearTimeout(t.A),t.A=null)}function Ks(t){t.g=new _e(t,t.j,"rpc",t.Y),t.m===null&&(t.g.H=t.o),t.g.O=0;var s=oe(t.qa);it(s,"RID","rpc"),it(s,"SID",t.K),it(s,"AID",t.T),it(s,"CI",t.F?"0":"1"),!t.F&&t.ja&&it(s,"TO",t.ja),it(s,"TYPE","xmlhttp"),qn(t,s),t.m&&t.o&&io(s,t.m,t.o),t.L&&(t.g.I=t.L);var a=t.g;t=t.ia,a.L=1,a.v=Ai(oe(s)),a.m=null,a.P=!0,ys(a,t)}n.Za=function(){this.C!=null&&(this.C=null,Ri(this),oo(this),It(19))};function Ni(t){t.C!=null&&(d.clearTimeout(t.C),t.C=null)}function Qs(t,s){var a=null;if(t.g==s){Ni(t),so(t),t.g=null;var l=2}else if(eo(t.h,s))a=s.D,Os(t.h,s),l=1;else return;if(t.G!=0){if(s.o)if(l==1){a=s.m?s.m.length:0,s=Date.now()-s.F;var b=t.B;l=Oi(),Et(l,new ps(l,a)),Vi(t)}else $s(t);else if(b=s.s,b==3||b==0&&0<s.X||!(l==1&&iu(t,s)||l==2&&oo(t)))switch(a&&0<a.length&&(s=t.h,s.i=s.i.concat(a)),b){case 1:De(t,5);break;case 4:De(t,10);break;case 3:De(t,6);break;default:De(t,2)}}}function Hs(t,s){let a=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(a*=2),a*s}function De(t,s){if(t.j.info("Error code "+s),s==2){var a=A(t.fb,t),l=t.Xa;let b=!l;l=new ke(l||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ti(l,"https"),Ai(l),b?Yl(l.toString(),a):Xl(l.toString(),a)}else It(2);t.G=0,t.l&&t.l.sa(s),Ws(t),js(t)}n.fb=function(t){t?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Ws(t){if(t.G=0,t.ka=[],t.l){let s=xs(t.h);(s.length!=0||t.i.length!=0)&&(Y(t.ka,s),Y(t.ka,t.i),t.h.i.length=0,ut(t.i),t.i.length=0),t.l.ra()}}function Ys(t,s,a){var l=a instanceof ke?oe(a):new ke(a);if(l.g!="")s&&(l.g=s+"."+l.g),Si(l,l.s);else{var b=d.location;l=b.protocol,s=s?s+"."+b.hostname:b.hostname,b=+b.port;var M=new ke(null);l&&Ti(M,l),s&&(M.g=s),b&&Si(M,b),a&&(M.l=a),l=M}return a=t.D,s=t.ya,a&&s&&it(l,a,s),it(l,"VER",t.la),qn(t,l),l}function Xs(t,s,a){if(s&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return s=t.Ca&&!t.pa?new lt(new Bn({eb:a})):new lt(t.pa),s.Ha(t.J),s}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Js(){}n=Js.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fi(){}Fi.prototype.g=function(t,s){return new Rt(t,s)};function Rt(t,s){wt.call(this),this.g=new zs(s),this.l=t,this.h=s&&s.messageUrlParams||null,t=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(t?t["X-WebChannel-Content-Type"]=s.messageContentType:t={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.va&&(t?t["X-WebChannel-Client-Profile"]=s.va:t={"X-WebChannel-Client-Profile":s.va}),this.g.S=t,(t=s&&s.Sb)&&!xt(t)&&(this.g.m=t),this.v=s&&s.supportsCrossDomainXhr||!1,this.u=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!xt(s)&&(this.g.D=s,t=this.h,t!==null&&s in t&&(t=this.h,s in t&&delete t[s])),this.j=new je(this)}V(Rt,wt),Rt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){ro(this.g)},Rt.prototype.o=function(t){var s=this.g;if(typeof t=="string"){var a={};a.__data__=t,t=a}else this.u&&(a={},a.__data__=Kr(t),t=a);s.i.push(new Bl(s.Ya++,t)),s.G==3&&Vi(s)},Rt.prototype.N=function(){this.g.l=null,delete this.j,ro(this.g),delete this.g,Rt.aa.N.call(this)};function Zs(t){Hr.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var s=t.__sm__;if(s){t:{for(let a in s){t=a;break t}t=void 0}(this.i=t)&&(t=this.i,s=s!==null&&t in s?s[t]:void 0),this.data=s}else this.data=t}V(Zs,Hr);function ta(){Wr.call(this),this.status=1}V(ta,Wr);function je(t){this.g=t}V(je,Js),je.prototype.ua=function(){Et(this.g,"a")},je.prototype.ta=function(t){Et(this.g,new Zs(t))},je.prototype.sa=function(t){Et(this.g,new ta)},je.prototype.ra=function(){Et(this.g,"b")},Fi.prototype.createWebChannel=Fi.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,cc=he.createWebChannelTransport=function(){return new Fi},ac=he.getStatEventTarget=function(){return Oi()},sc=he.Event=Se,oc=he.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,rc=he.ErrorCode=xi,fs.COMPLETE="complete",ic=he.EventType=fs,ds.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",wt.prototype.listen=wt.prototype.K,nc=he.WebChannel=ds,pd=he.FetchXmlHttpFactory=Bn,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,ec=he.XhrIo=lt}).apply(typeof Pr<"u"?Pr:typeof self<"u"?self:typeof window<"u"?window:{});var lc="@firebase/firestore",uc="4.8.0";var Tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");var Rr="11.10.0";var Mr=new on("@firebase/firestore");function Qt(n,...e){if(Mr.logLevel<=et.DEBUG){let o=e.map(Oc);Mr.debug(`Firestore (${Rr}): ${n}`,...o)}}function Mc(n,...e){if(Mr.logLevel<=et.ERROR){let o=e.map(Oc);Mr.error(`Firestore (${Rr}): ${n}`,...o)}}function Oc(n){if(typeof n=="string")return n;try{return function(o){return JSON.stringify(o)}(n)}catch{return n}}function Ft(n,e,o){let i="Unexpected state";typeof e=="string"?i=e:o=e,xc(n,i,o)}function xc(n,e,o){let i=`FIRESTORE (${Rr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(o!==void 0)try{i+=" CONTEXT: "+JSON.stringify(o)}catch{i+=" CONTEXT: "+o}throw Mc(i),new Error(i)}function Fe(n,e,o,i){let r="Unexpected state";typeof o=="string"?r=o:i=o,n||xc(e,r,i)}var Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends le{constructor(e,o){super(e,o),this.code=e,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Le=class{constructor(){this.promise=new Promise((e,o)=>{this.resolve=e,this.reject=o})}};var ko=class{constructor(e,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Do=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,o){e.enqueueRetryable(()=>o(Tt.UNAUTHENTICATED))}shutdown(){}};var Ro=class{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,o){Fe(this.o===void 0,42304);let i=this.i,r=f=>this.i!==i?(i=this.i,o(f)):Promise.resolve(),c=new Le;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Le,e.enqueueRetryable(()=>r(this.currentUser))};let u=()=>{let f=c;e.enqueueRetryable(()=>B(this,null,function*(){yield f.promise,yield r(this.currentUser)}))},d=f=>{Qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){let f=this.t.getImmediate({optional:!0});f?d(f):(Qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Le)}},0),u()}getToken(){let e=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(i=>this.i!==e?(Qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Fe(typeof i.accessToken=="string",31837,{l:i}),new ko(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Tt(e)}},Vo=class{constructor(e,o,i){this.P=e,this.T=o,this.I=i,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},No=class{constructor(e,o,i){this.P=e,this.T=o,this.I=i}getToken(){return Promise.resolve(new Vo(this.P,this.T,this.I))}start(e,o){e.enqueueRetryable(()=>o(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Or=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Fo=class{constructor(e,o){this.V=o,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ka(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,o){Fe(this.o===void 0,3512);let i=c=>{c.error!=null&&Qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);let u=c.token!==this.m;return this.m=c.token,Qt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?o(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};let r=c=>{Qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>r(c)),setTimeout(()=>{if(!this.appCheck){let c=this.V.getImmediate({optional:!0});c?r(c):Qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Or(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(o=>o?(Fe(typeof o.token=="string",44558,{tokenResult:o}),this.m=o.token,new Or(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function fd(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(o);else for(let i=0;i<n;i++)o[i]=Math.floor(256*Math.random());return o}function _d(){return new TextEncoder}var Lo=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=62*Math.floor(4.129032258064516),i="";for(;i.length<20;){let r=fd(40);for(let c=0;c<r.length;++c)i.length<20&&r[c]<o&&(i+=e.charAt(r[c]%62))}return i}};function qt(n,e){return n<e?-1:n>e?1:0}function bd(n,e){let o=0;for(;o<n.length&&o<e.length;){let i=n.codePointAt(o),r=e.codePointAt(o);if(i!==r){if(i<128&&r<128)return qt(i,r);{let c=_d(),u=yd(c.encode(dc(n,o)),c.encode(dc(e,o)));return u!==0?u:qt(i,r)}}o+=i>65535?2:1}return qt(n.length,e.length)}function dc(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function yd(n,e){for(let o=0;o<n.length&&o<e.length;++o)if(n[o]!==e[o])return qt(n[o],e[o]);return qt(n.length,e.length)}var hc="__name__",xr=class n{constructor(e,o,i){o===void 0?o=0:o>e.length&&Ft(637,{offset:o,range:e.length}),i===void 0?i=e.length-o:i>e.length-o&&Ft(1746,{length:i,range:e.length-o}),this.segments=e,this.offset=o,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let o=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{o.push(i)}):o.push(e),this.construct(o)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==e.get(o))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==e.get(o))return!1;return!0}forEach(e){for(let o=this.offset,i=this.limit();o<i;o++)e(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,o){let i=Math.min(e.length,o.length);for(let r=0;r<i;r++){let c=n.compareSegments(e.get(r),o.get(r));if(c!==0)return c}return qt(e.length,o.length)}static compareSegments(e,o){let i=n.isNumericId(e),r=n.isNumericId(o);return i&&!r?-1:!i&&r?1:i&&r?n.extractNumericId(e).compare(n.extractNumericId(o)):bd(e,o)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wr.fromString(e.substring(4,e.length-2))}},me=class n extends xr{construct(e,o,i){return new n(e,o,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let o=[];for(let i of e){if(i.indexOf("//")>=0)throw new q(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);o.push(...i.split("/").filter(r=>r.length>0))}return new n(o)}static emptyPath(){return new n([])}},Cd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Uo=class n extends xr{construct(e,o,i){return new n(e,o,i)}static isValidIdentifier(e){return Cd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hc}static keyField(){return new n([hc])}static fromServerFormat(e){let o=[],i="",r=0,c=()=>{if(i.length===0)throw new q(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(i),i=""},u=!1;for(;r<e.length;){let d=e[r];if(d==="\\"){if(r+1===e.length)throw new q(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let f=e[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new q(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else d==="`"?(u=!u,r++):d!=="."||u?(i+=d,r++):(c(),r++)}if(c(),u)throw new q(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(o)}static emptyPath(){return new n([])}};var ge=class n{constructor(e){this.path=e}static fromPath(e){return new n(me.fromString(e))}static fromName(e){return new n(me.fromString(e).popFirst(5))}static empty(){return new n(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,o){return me.comparator(e.path,o.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new me(e.slice()))}};function vd(n,e,o,i){if(e===!0&&i===!0)throw new q(Q.INVALID_ARGUMENT,`${n} and ${o} cannot be used together.`)}function wd(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function mt(n,e){let o={typeString:n};return e&&(o.value=e),o}function Ci(n,e){if(!wd(n))throw new q(Q.INVALID_ARGUMENT,"JSON must be an object");let o;for(let i in e)if(e[i]){let r=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){o=`JSON missing required field: '${i}'`;break}let u=n[i];if(r&&typeof u!==r){o=`JSON field '${i}' must be a ${r}.`;break}if(c!==void 0&&u!==c.value){o=`Expected '${i}' field to equal '${c.value}'`;break}}if(o)throw new q(Q.INVALID_ARGUMENT,o);return!0}var mc=-62135596800,gc=1e6,Ct=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let o=Math.floor(e/1e3),i=Math.floor((e-1e3*o)*gc);return new n(o,i)}constructor(e,o){if(this.seconds=e,this.nanoseconds=o,o<0)throw new q(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new q(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(e<mc)throw new q(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gc}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ci(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-mc;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:mt("string",Ct._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};var Bo=class{constructor(e,o,i,r){this.indexId=e,this.collectionGroup=o,this.fields=i,this.indexState=r}};Bo.UNKNOWN_ID=-1;function Pd(n){return n.name==="IndexedDbTransactionError"}function Md(n){return n===0&&1/n==-1/0}var Od="remoteDocuments",Ec="owner";var Ic="mutationQueues";var Tc="mutations";var Sc="documentMutations",xd="remoteDocumentsV14";var Ac="remoteDocumentGlobal";var kc="targets";var Dc="targetDocuments";var Rc="targetGlobal",Vc="collectionParents";var Nc="clientMetadata";var Fc="bundles";var Lc="namedQueries";var Ed="indexConfiguration";var Id="indexState";var Td="indexEntries";var Uc="documentOverlays";var Sd="globals";var Ad=[Ic,Tc,Sc,Od,kc,Ec,Rc,Dc,Nc,Ac,Vc,Fc,Lc],_g=[...Ad,Uc],kd=[Ic,Tc,Sc,xd,kc,Ec,Rc,Dc,Nc,Ac,Vc,Fc,Lc,Uc],Dd=kd,Rd=[...Dd,Ed,Id,Td];var bg=[...Rd,Sd];var Pn=class n{constructor(e,o){this.comparator=e,this.root=o||ie.EMPTY}insert(e,o){return new n(this.comparator,this.root.insert(e,o,this.comparator).copy(null,null,ie.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ie.BLACK,null,null))}get(e){let o=this.root;for(;!o.isEmpty();){let i=this.comparator(e,o.key);if(i===0)return o.value;i<0?o=o.left:i>0&&(o=o.right)}return null}indexOf(e){let o=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return o+i.left.size;r<0?i=i.left:(o+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((o,i)=>(e(o,i),!1))}toString(){let e=[];return this.inorderTraversal((o,i)=>(e.push(`${o}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yn(this.root,e,this.comparator,!1)}getReverseIterator(){return new yn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yn(this.root,e,this.comparator,!0)}},yn=class{constructor(e,o,i,r){this.isReverse=r,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=o?i(e.key,o):1,o&&r&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),o={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ie=class n{constructor(e,o,i,r,c){this.key=e,this.value=o,this.color=i!=null?i:n.RED,this.left=r!=null?r:n.EMPTY,this.right=c!=null?c:n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,o,i,r,c){return new n(e!=null?e:this.key,o!=null?o:this.value,i!=null?i:this.color,r!=null?r:this.left,c!=null?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,i){let r=this,c=i(e,r.key);return r=c<0?r.copy(null,null,null,r.left.insert(e,o,i),null):c===0?r.copy(null,o,null,null,null):r.copy(null,null,null,null,r.right.insert(e,o,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,o){let i,r=this;if(o(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,o),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),o(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,o))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ft(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Ft(27949);return e+(this.isRed()?0:1)}};ie.EMPTY=null,ie.RED=!0,ie.BLACK=!1;ie.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft(57766)}get value(){throw Ft(16141)}get color(){throw Ft(16727)}get left(){throw Ft(29726)}get right(){throw Ft(36894)}copy(e,o,i,r,c){return this}insert(e,o,i){return new ie(e,o)}remove(e,o){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Er=class n{constructor(e){this.comparator=e,this.data=new Pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((o,i)=>(e(o),!1))}forEachInRange(e,o){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;o(r.key)}}forEachWhile(e,o){let i;for(i=o!==void 0?this.data.getIteratorFrom(o):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let o=this.data.getIteratorFrom(e);return o.hasNext()?o.getNext().key:null}getIterator(){return new Ir(this.data.getIterator())}getIteratorFrom(e){return new Ir(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let o=this;return o.size<e.size&&(o=e,e=this),e.forEach(i=>{o=o.add(i)}),o}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let o=this.data.getIterator(),i=e.data.getIterator();for(;o.hasNext();){let r=o.getNext().key,c=i.getNext().key;if(this.comparator(r,c)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(o=>{e.push(o)}),e}toString(){let e=[];return this.forEach(o=>e.push(o)),"SortedSet("+e.toString()+")"}copy(e){let o=new n(this.comparator);return o.data=e,o}},Ir=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var zo=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Te=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let o=function(r){try{return atob(r)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new zo("Invalid base64 string: "+c):c}}(e);return new n(o)}static fromUint8Array(e){let o=function(r){let c="";for(let u=0;u<r.length;++u)c+=String.fromCharCode(r[u]);return c}(e);return new n(o)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(o){return btoa(o)}(this.binaryString)}toUint8Array(){return function(o){let i=new Uint8Array(o.length);for(let r=0;r<o.length;r++)i[r]=o.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Te.EMPTY_BYTE_STRING=new Te("");var Vd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nd(n){if(Fe(!!n,39018),typeof n=="string"){let e=0,o=Vd.exec(n);if(Fe(!!o,46558,{timestamp:n}),o[1]){let r=o[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pi(n.seconds),nanos:pi(n.nanos)}}function pi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fd(n){return typeof n=="string"?Te.fromBase64String(n):Te.fromUint8Array(n)}var pc="(default)",jo=class n{constructor(e,o){this.projectId=e,this.database=o||pc}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===pc}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Bc="__type__",Ld="__max__";var zc="__vector__",jc="value";function Ud(n){var e,o;return((o=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Bc])===null||o===void 0?void 0:o.stringValue)===zc}function Bd(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Ld}var Cg={mapValue:{fields:{[Bc]:{stringValue:zc},[jc]:{arrayValue:{}}}}};var Go=class{constructor(e,o=null,i=[],r=[],c=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=o,this.explicitOrderBy=i,this.filters=r,this.limit=c,this.limitType=u,this.startAt=d,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function zd(n){return new Go(n)}var vg=new Pn(ge.comparator);var wg=new Pn(ge.comparator);var Pg=new Pn(ge.comparator),Mg=new Er(ge.comparator);var Og=new Er(qt);var fc,G;(G=fc||(fc={}))[G.OK=0]="OK",G[G.CANCELLED=1]="CANCELLED",G[G.UNKNOWN=2]="UNKNOWN",G[G.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G[G.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G[G.NOT_FOUND=5]="NOT_FOUND",G[G.ALREADY_EXISTS=6]="ALREADY_EXISTS",G[G.PERMISSION_DENIED=7]="PERMISSION_DENIED",G[G.UNAUTHENTICATED=16]="UNAUTHENTICATED",G[G.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G[G.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G[G.ABORTED=10]="ABORTED",G[G.OUT_OF_RANGE=11]="OUT_OF_RANGE",G[G.UNIMPLEMENTED=12]="UNIMPLEMENTED",G[G.INTERNAL=13]="INTERNAL",G[G.UNAVAILABLE=14]="UNAVAILABLE",G[G.DATA_LOSS=15]="DATA_LOSS";var xg=new wr([4294967295,4294967295],0);var Tr=class{constructor(){}bt(e,o){this.Dt(e,o),o.vt()}Dt(e,o){if("nullValue"in e)this.Ct(o,5);else if("booleanValue"in e)this.Ct(o,10),o.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(o,15),o.Ft(pi(e.integerValue));else if("doubleValue"in e){let i=pi(e.doubleValue);isNaN(i)?this.Ct(o,13):(this.Ct(o,15),Md(i)?o.Ft(0):o.Ft(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ct(o,20),typeof i=="string"&&(i=Nd(i)),o.Mt(`${i.seconds||""}`),o.Ft(i.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,o),this.Ot(o);else if("bytesValue"in e)this.Ct(o,30),o.Nt(Fd(e.bytesValue)),this.Ot(o);else if("referenceValue"in e)this.Bt(e.referenceValue,o);else if("geoPointValue"in e){let i=e.geoPointValue;this.Ct(o,45),o.Ft(i.latitude||0),o.Ft(i.longitude||0)}else"mapValue"in e?Bd(e)?this.Ct(o,Number.MAX_SAFE_INTEGER):Ud(e)?this.Lt(e.mapValue,o):(this.kt(e.mapValue,o),this.Ot(o)):"arrayValue"in e?(this.qt(e.arrayValue,o),this.Ot(o)):Ft(19022,{Qt:e})}xt(e,o){this.Ct(o,25),this.$t(e,o)}$t(e,o){o.Mt(e)}kt(e,o){let i=e.fields||{};this.Ct(o,55);for(let r of Object.keys(i))this.xt(r,o),this.Dt(i[r],o)}Lt(e,o){var i,r;let c=e.fields||{};this.Ct(o,53);let u=jc,d=((r=(i=c[u].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.Ct(o,15),o.Ft(pi(d)),this.xt(u,o),this.Dt(c[u],o)}qt(e,o){let i=e.values||[];this.Ct(o,50);for(let r of i)this.Dt(r,o)}Bt(e,o){this.Ct(o,37),ge.fromName(e).path.forEach(i=>{this.Ct(o,60),this.$t(i,o)})}Ct(e,o){e.Ft(o)}Ot(e){e.Ft(2)}};Tr.Ut=new Tr;var Eg=new Uint8Array(0);var Gc=41943040,ne=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,o,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=i}};ne.DEFAULT_COLLECTION_PERCENTILE=10,ne.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ne.DEFAULT=new ne(Gc,ne.DEFAULT_COLLECTION_PERCENTILE,ne.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ne.DISABLED=new ne(-1,0,0);var jd=1048576;function Ao(){return typeof document<"u"?document:null}var qo=class{constructor(e,o,i=1e3,r=1.5,c=6e4){this.Fi=e,this.timerId=o,this.d_=i,this.E_=r,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let o=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,o-i);r>0&&Qt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${o} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var $o=class n{constructor(e,o,i,r,c){this.asyncQueue=e,this.timerId=o,this.targetTimeMs=i,this.op=r,this.removalCallback=c,this.deferred=new Le,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,o,i,r,c){let u=Date.now()+i,d=new n(e,o,u,r,c);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var _c,bc;(bc=_c||(_c={})).Fa="default",bc.Cache="cache";function Gd(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var yc=new Map;var qd="firestore.googleapis.com",Cc=!0,Sr=class{constructor(e){var o,i;if(e.host===void 0){if(e.ssl!==void 0)throw new q(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qd,this.ssl=Cc}else this.host=e.host,this.ssl=(o=e.ssl)!==null&&o!==void 0?o:Cc;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Gc;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jd)throw new q(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gd((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new q(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new q(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new q(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ko=class{constructor(e,o,i,r){this._authCredentials=e,this._appCheckCredentials=o,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sr({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sr(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Do;switch(i.type){case"firstParty":return new No(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return B(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(o){let i=yc.get(o);i&&(Qt("ComponentProvider","Removing Datastore"),yc.delete(o),i.terminate())}(this),Promise.resolve()}};var Qo=class n{constructor(e,o,i){this.converter=o,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ue=class n{constructor(e,o,i){this.converter=o,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,o,i){if(Ci(o,n._jsonSchema))return new n(e,i||null,new ge(me.fromString(o.referencePath)))}};Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:mt("string",Ue._jsonSchemaVersion),referencePath:mt("string")};var Ho=class n extends Qo{constructor(e,o,i){super(e,o,zd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new ge(e))}withConverter(e){return new n(this.firestore,e,this._path)}};var vc="AsyncQueue",Ar=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new qo(this,"async_queue_retry"),this.oc=()=>{let i=Ao();i&&Qt(vc,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;let o=Ao();o&&typeof o.addEventListener=="function"&&o.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let o=Ao();o&&typeof o.removeEventListener=="function"&&o.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let o=new Le;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return B(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Pd(e))throw e;Qt(vc,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let o=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Mc("INTERNAL UNHANDLED ERROR: ",wc(i)),i}).then(i=>(this.nc=!1,i))));return this._c=o,o}enqueueAfterDelay(e,o,i){this.ac(),this.sc.indexOf(e)>-1&&(o=0);let r=$o.createAndSchedule(this,e,o,i,c=>this.lc(c));return this.ec.push(r),r}ac(){this.tc&&Ft(47125,{hc:wc(this.tc)})}verifyOperationInProgress(){}Pc(){return B(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let o of this.ec)if(o.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((o,i)=>o.targetTimeMs-i.targetTimeMs);for(let o of this.ec)if(o.skipDelay(),e!=="all"&&o.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let o=this.ec.indexOf(e);this.ec.splice(o,1)}};function wc(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Wo=class extends Ko{constructor(e,o,i,r){super(e,o,i,r),this.type="firestore",this._queue=new Ar,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return B(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ar(e),this._firestoreClient=void 0,yield e}})}};var fi=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Te.fromBase64String(e))}catch(o){throw new q(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(e){return new n(Te.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ci(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:mt("string",fi._jsonSchemaVersion),bytes:mt("string")};var kr=class{constructor(...e){for(let o=0;o<e.length;++o)if(e[o].length===0)throw new q(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Uo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var _i=class n{constructor(e,o){if(!isFinite(e)||e<-90||e>90)throw new q(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(o)||o<-180||o>180)throw new q(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=e,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Ci(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:mt("string",_i._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};var bi=class n{constructor(e){this._values=(e||[]).map(o=>o)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==r[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ci(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(o=>typeof o=="number"))return new n(e.vectorValues);throw new q(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:mt("string",bi._jsonSchemaVersion),vectorValues:mt("object")};var $d=new RegExp("[~\\*/\\[\\]]");function Kd(n,e,o){if(e.search($d)>=0)throw Pc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,o);try{return new kr(...e.split("."))._internalPath}catch{throw Pc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,o)}}function Pc(n,e,o,i,r){let c=i&&!i.isEmpty(),u=r!==void 0,d=`Function ${e}() called with invalid data`;o&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(c||u)&&(f+=" (found",c&&(f+=` in field ${i}`),u&&(f+=` in document ${r}`),f+=")"),new q(Q.INVALID_ARGUMENT,d+n+f)}var Dr=class{constructor(e,o,i,r,c){this._firestore=e,this._userDataWriter=o,this._key=i,this._document=r,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Yo(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let o=this._document.data.field(qc("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o)}}},Yo=class extends Dr{data(){return super.data()}};function qc(n,e){return typeof e=="string"?Kd(n,e):e instanceof kr?e._internalPath:e._delegate._internalPath}var Cn=class{constructor(e,o){this.hasPendingWrites=e,this.fromCache=o}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},vn=class n extends Dr{constructor(e,o,i,r,c,u){super(e,o,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let o=new wn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,o={}){if(this._document){let i=this._document.data.field(qc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,o.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,o={};return o.type=n._jsonSchemaVersion,o.bundle="",o.bundleSource="DocumentSnapshot",o.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?o:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),o.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),o)}};vn._jsonSchemaVersion="firestore/documentSnapshot/1.0",vn._jsonSchema={type:mt("string",vn._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};var wn=class extends vn{data(e={}){return super.data(e)}},yi=class n{constructor(e,o,i,r){this._firestore=e,this._userDataWriter=o,this._snapshot=r,this.metadata=new Cn(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(o=>e.push(o)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,o){this._snapshot.docs.forEach(i=>{e.call(o,new wn(this._firestore,this._userDataWriter,i.key,i,new Cn(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let o=!!e.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new q(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(r,c){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>{let f=new wn(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Cn(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>c||d.type!==3).map(d=>{let f=new wn(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Cn(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),P=-1,x=-1;return d.type!==0&&(P=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),x=u.indexOf(d.doc.key)),{type:Qd(d.type),doc:f,oldIndex:P,newIndex:x}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lo.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let o=[],i=[],r=[];return this.docs.forEach(c=>{c._document!==null&&(o.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),r.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Qd(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft(61501,{type:n})}}yi._jsonSchemaVersion="firestore/querySnapshot/1.0",yi._jsonSchema={type:mt("string",yi._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};(function(e,o=!0){(function(r){Rr=r})(Qa),Xn(new Me("firestore",(i,{instanceIdentifier:r,options:c})=>{let u=i.getProvider("app").getImmediate(),d=new Wo(new Ro(i.getProvider("auth-internal")),new Fo(u,i.getProvider("app-check-internal")),function(P,x){if(!Object.prototype.hasOwnProperty.apply(P.options,["projectId"]))throw new q(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jo(P.options.projectId,x)}(u,r),u);return c=Object.assign({useFetchStreams:o},c),d._setSettings(c),d},"PUBLIC").setMultipleInstances(!0)),sn(lc,uc,e),sn(lc,uc,"esm2017")})();function Hd(n,e){n&1&&dt(0,"mat-spinner",21)}function Wd(n,e){n&1&&(v(0,"p",16),O(1,"Email is required"),w())}function Yd(n,e){n&1&&(v(0,"p",16),O(1,"Please enter a valid email address"),w())}function Xd(n,e){n&1&&(v(0,"p",16),O(1,"This person is already a member of the group"),w())}function Jd(n,e){if(n&1&&(v(0,"p",22),O(1),w()),n&2){let o=F();Re("user-found",o.userExists)("user-not-found",!o.userExists&&!o.checkingUser),E(),st(" ",o.getUserStatusText()," ")}}function Zd(n,e){if(n&1&&dt(0,"img",31),n&2){let o=F().$implicit;R("src",o.photoURL,ji)("alt",o.displayName)}}function th(n,e){n&1&&(v(0,"mat-icon"),O(1,"person"),w())}function eh(n,e){if(n&1){let o=bt();v(0,"div",23)(1,"div",24),W(2,Zd,1,2,"img",25)(3,th,2,0,"mat-icon",26),w(),v(4,"div",27)(5,"span",28),O(6),w(),v(7,"span",29),O(8),w()(),v(9,"button",30),z("click",function(){let r=rt(o).$implicit,c=F();return ot(c.onDeleteMember(r.userId))}),v(10,"mat-icon"),O(11,"delete"),w()()()}if(n&2){let o=e.$implicit;E(2),R("ngIf",o.photoURL),E(),R("ngIf",!o.photoURL),E(3),at(o.displayName),E(2),at(o.email)}}var Mn=(()=>{let e=class e{constructor(i,r,c,u,d,f){this.fb=i,this.dialogRef=r,this.data=c,this.auth=u,this.userService=d,this.dialog=f,this.isSubmitting=!1,this.userExists=!1,this.checkingUser=!1,this.group=c.group,this.memberForm=this.fb.group({email:["",[ve.required,ve.email]]})}ngOnInit(){setTimeout(()=>{let i=document.querySelector('input[formControlName="email"]');i&&i.focus()},100)}onEmailChange(){return B(this,null,function*(){var r,c,u;let i=(r=this.memberForm.get("email"))==null?void 0:r.value;if(i&&this.isEmailAlreadyMember(i)){(c=this.memberForm.get("email"))==null||c.setErrors({alreadyMember:!0}),this.userExists=!1;return}if(i&&((u=this.memberForm.get("email"))!=null&&u.valid)){this.checkingUser=!0;try{let d=yield this.userService.findUserByEmail(i);this.userExists=!!d}catch(d){console.error("Error checking user:",d),this.userExists=!1}finally{this.checkingUser=!1}}else this.userExists=!1})}onSubmit(){return B(this,null,function*(){if(this.memberForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let r={email:this.memberForm.value.email.trim().toLowerCase(),role:Ne.MEMBER};this.dialogRef.close(r)}catch(i){console.error("Error adding member:",i)}finally{this.isSubmitting=!1}}else this.memberForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(i){let r=this.memberForm.get(i);return r!=null&&r.hasError("required")?`${i.charAt(0).toUpperCase()+i.slice(1)} is required`:r!=null&&r.hasError("email")?"Please enter a valid email address":r!=null&&r.hasError("alreadyMember")?"This user is already a member of this group":""}isEmailAlreadyMember(i){return this.group.members.some(r=>r.email.toLowerCase()===i.toLowerCase())}getRoleDisplayName(i){return{admin:"Admin",member:"Member"}[i]||i}getUserStatusText(){var r,c;return this.checkingUser?"Checking if user exists...":this.userExists?"\u2713 User found in system - invitation will be sent immediately":((r=this.memberForm.get("email"))==null?void 0:r.value)&&((c=this.memberForm.get("email"))!=null&&c.valid)?"\u2139 User not found - invitation will be sent when they register":""}onDeleteMember(i){this.dialog.open(Je,{data:{title:"Delete Member",message:"Are you sure you want to delete this member? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(r=>{r&&this.dialogRef.close({action:"delete",userId:i})})}};e.\u0275fac=function(r){return new(r||e)(k(Ji),k(tr),k(xa),k(Ot),k(Xe),k(te))},e.\u0275cmp=_t({type:e,selectors:[["app-add-member-dialog"]],decls:36,vars:10,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Add Member",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"member-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","email","formControlName","email","placeholder","Enter member's email address","autofocus","",1,"form-input",3,"input"],[1,"field-footer"],[1,"error-message"],[1,"status-message",3,"user-found","user-not-found"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"bottom-spacing"],["diameter","16"],[1,"status-message"],[1,"member-item"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],["mat-icon-button","",3,"click"],[3,"src","alt"]],template:function(r,c){if(r&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),z("click",function(){return c.onCancel()}),v(4,"mat-icon"),O(5,"arrow_back"),w()(),v(6,"h6",4),O(7," Add Member "),w()(),v(8,"button",5),z("click",function(){return c.onCancel()}),v(9,"mat-icon"),O(10,"close"),w()(),v(11,"button",6),z("click",function(){return c.onSubmit()}),W(12,Hd,1,0,"mat-spinner",7),O(13),w()()(),v(14,"div",8)(15,"div",9)(16,"form",10),z("ngSubmit",function(){return c.onSubmit()}),v(17,"div",11)(18,"label",12)(19,"mat-icon",13),O(20,"email"),w(),O(21," Email Address * "),w(),v(22,"input",14),z("input",function(){return c.onEmailChange()}),w(),v(23,"div",15),W(24,Wd,2,0,"p",16)(25,Yd,2,0,"p",16)(26,Xd,2,0,"p",16)(27,Jd,2,5,"p",17),w()(),v(28,"div",11)(29,"label",12)(30,"mat-icon",13),O(31,"people"),w(),O(32),w(),v(33,"div",18),W(34,eh,12,4,"div",19),w()(),dt(35,"div",20),w()()()),r&2){let u,d,f;E(11),R("disabled",c.memberForm.invalid||c.isSubmitting),E(),R("ngIf",c.isSubmitting),E(),st(" ",c.isSubmitting?"Adding...":"Add"," "),E(3),R("formGroup",c.memberForm),E(8),Vt((u=c.memberForm.get("email"))!=null&&u.hasError("required")&&((u=c.memberForm.get("email"))!=null&&u.touched)?24:-1),E(),Vt((d=c.memberForm.get("email"))!=null&&d.hasError("email")&&((d=c.memberForm.get("email"))!=null&&d.touched)?25:-1),E(),Vt((f=c.memberForm.get("email"))!=null&&f.hasError("alreadyMember")&&((f=c.memberForm.get("email"))!=null&&f.touched)?26:-1),E(),Vt(c.getUserStatusText()?27:-1),E(5),st(" Current Members (",c.group.members.length,") "),E(2),R("ngForOf",c.group.members)}},dependencies:[Qe,St,Wi,Ki,Qi,Hi,Yi,Xi,Gt,Zt,Dt,Pe,er],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.75rem;margin:.25rem 0 0;display:flex;align-items:center;gap:.25rem;padding:.5rem;border-radius:6px;font-weight:500}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#059669;background-color:#d1fae5;border:1px solid #a7f3d0}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#6ee7b7;background-color:#064e3b;border-color:#047857}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#d97706;background-color:#fef3c7;border:1px solid #fde68a}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#fbbf24;background-color:#451a03;border-color:#92400e}.members-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;border:1px solid #e5e7eb;border-radius:8px;background:#f9fafb}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]{max-height:250px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]{max-height:200px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;border-bottom:1px solid #e5e7eb;background:#fff}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.75rem;gap:.5rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.625rem;gap:.375rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center;overflow:hidden;flex-shrink:0}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:36px;height:36px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:32px;height:32px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{background:#374151}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:20px;width:20px;height:20px}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#374151;font-weight:500;font-size:.875rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#f3f4f6}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.65rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#9ca3af}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem;height:24px;font-weight:500}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.7rem;height:22px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.65rem;height:20px}}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let n=e;return n})();function rh(n,e){if(n&1){let o=bt();v(0,"button",15),z("click",function(r){rt(o);let c=F();return ot(c.onDeleteGroup(r))}),v(1,"mat-icon"),O(2,"delete"),w(),v(3,"span"),O(4,"Delete Group"),w()()}}var Qc=(()=>{let e=class e{constructor(i,r,c){this.router=i,this.auth=r,this.dialog=c,this.isSelected=!1,this.isMobile=!1,this.groupSelected=new qe,this.addMember=new qe,this.deleteGroup=new qe}onGroupClick(){this.router.navigate(["dashboard/splitwise/group",this.group.id])}openAddMemberDialog(i){i.stopPropagation(),this.dialog.open(Mn,{width:this.isMobile?"90vw":"400px",maxWidth:this.isMobile?"400px":"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(c=>{c&&this.addMember.emit({groupId:this.group.id,request:c})})}onDeleteGroup(i){i.stopPropagation(),this.deleteGroup.emit(this.group)}getGroupMemberCount(){return this.group.members.filter(i=>i.isActive).length}getCurrentUserRole(){let i=this.auth.currentUser;if(!i)return"";let r=this.group.members.find(c=>c.userId===i.uid);return(r==null?void 0:r.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}formatDate(i){return i?(i.toDate?i.toDate():new Date(i)).toLocaleDateString():""}formatCurrency(i,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(i)}};e.\u0275fac=function(r){return new(r||e)(k(He),k(Ot),k(te))},e.\u0275cmp=_t({type:e,selectors:[["app-group"]],inputs:{group:"group",isSelected:"isSelected",isMobile:"isMobile"},outputs:{groupSelected:"groupSelected",addMember:"addMember",deleteGroup:"deleteGroup"},decls:28,vars:12,consts:[["groupMenu","matMenu"],[1,"group-item",3,"click"],[1,"group-info"],[1,"group-header"],[1,"group-title-section"],[1,"group-name"],[1,"group-meta"],[1,"member-count"],[1,"member-text"],[1,"created-date"],[1,"group-actions"],["mat-icon-button","",1,"menu-trigger",3,"click","matMenuTriggerFor"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"]],template:function(r,c){if(r&1){let u=bt();v(0,"div",1),z("click",function(){return rt(u),ot(c.onGroupClick())}),v(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),O(5),$e(6,"titlecase"),w(),v(7,"div",6)(8,"span",7)(9,"mat-icon"),O(10,"people"),w(),v(11,"span",8),O(12),w()(),v(13,"span",9),O(14),w()()()()(),v(15,"div",10)(16,"button",11),z("click",function(f){return rt(u),ot(f.stopPropagation())}),v(17,"mat-icon"),O(18,"more_vert"),w()(),v(19,"mat-menu",12,0)(21,"button",13),z("click",function(f){return rt(u),ot(c.openAddMemberDialog(f))}),v(22,"mat-icon"),O(23,"person_add"),w(),v(24,"span"),O(25,"Add Member"),w()(),dt(26,"mat-divider"),W(27,rh,5,0,"button",14),w()()()}if(r&2){let u=Kn(20);Re("selected",c.isSelected)("mobile",c.isMobile),E(5),at(Ke(6,10,c.group.name)),E(7),st("",c.getGroupMemberCount()," members"),E(2),st("Created ",c.formatDate(c.group.createdAt),""),E(2),R("matMenuTriggerFor",u),$n("aria-label","More options for "+c.group.name),E(11),R("ngIf",c.canManageGroup())}},dependencies:[St,sr,Zt,Dt,ir,nr,rr,Gi],styles:[".group-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:16px;border:1px solid #e0e0e0;border-radius:12px;margin-bottom:12px;cursor:pointer;transition:all .2s ease;background:#fff;position:relative;min-height:80px}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;box-shadow:0 4px 12px #1976d226;transform:translateY(-1px)}.group-item.selected[_ngcontent-%COMP%]{border-color:#1976d2;background:#f3f8ff;box-shadow:0 4px 12px #1976d233}.group-item.mobile[_ngcontent-%COMP%]{padding:12px;min-height:70px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{flex:1;min-width:0;margin-right:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.1rem;font-weight:600;color:#333;line-height:1.3;word-break:break-word}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.8rem;color:#666;font-weight:500}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#1976d2}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   .member-text[_ngcontent-%COMP%]{white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.75rem;color:#999;white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:flex-start}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d20a}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#f443360a}@media (max-width: 768px){.group-item[_ngcontent-%COMP%]{padding:12px;margin-bottom:8px;min-height:70px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{margin-right:8px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px;flex-direction:row;align-items:center}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 480px){.group-item[_ngcontent-%COMP%]{padding:10px;min-height:65px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:4px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.65rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:28px;height:28px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}@media (prefers-color-scheme: dark){.group-item[_ngcontent-%COMP%]{background:#2d2d2d;border-color:#404040;color:#e0e0e0}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;background:#3a3a3a}.group-item.selected[_ngcontent-%COMP%]{background:#1a3a5f;border-color:#1976d2}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{color:#e0e0e0}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{color:#b0b0b0}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{color:#888}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{color:#b0b0b0}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d21a}}"]});let n=e;return n})();var Yc=(n,e)=>e.id;function sh(n,e){if(n&1){let o=bt();v(0,"div",17)(1,"div",18)(2,"div",19)(3,"h4"),O(4),w(),v(5,"p"),O(6),w(),v(7,"small"),O(8),w()(),v(9,"div",20)(10,"button",21),z("click",function(){let r=rt(o).$implicit,c=F(2);return ot(c.acceptInvitation(r))}),v(11,"mat-icon"),O(12,"check"),w(),O(13," Accept "),w(),v(14,"button",22),z("click",function(){let r=rt(o).$implicit,c=F(2);return ot(c.declineInvitation(r))}),v(15,"mat-icon"),O(16,"close"),w(),O(17," Decline "),w()()()()}if(n&2){let o=e.$implicit,i=F(2);E(4),at(o.groupName),E(2),st("Invited by ",o.invitedByDisplayName,""),E(2),at(i.formatDate(o.createdAt))}}function ah(n,e){if(n&1&&(v(0,"div",14)(1,"mat-card",15)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),O(5,"mail"),w(),O(6," Pending Invitations "),w()(),v(7,"mat-card-content")(8,"div",16),uo(9,sh,18,3,"div",17,Yc),w()()()()),n&2){let o=F();E(9),ho(o.invitations)}}function ch(n,e){if(n&1){let o=bt();v(0,"app-group",23),z("addMember",function(r){rt(o);let c=F();return ot(c.handleAddMember(r))})("deleteGroup",function(r){rt(o);let c=F();return ot(c.deleteGroup(r))}),w()}if(n&2){let o=e.$implicit,i=F();R("group",o)("isSelected",!1)("isMobile",i.isMobile)}}var Xc=(()=>{let e=class e{constructor(i,r,c,u,d){this.breakpointObserver=i,this.auth=r,this.store=c,this.dialog=u,this.notificationService=d,this.groups=[],this.invitations=[],this.isMobile=!1,this.currentUser=null,this.error=null,this.destroy$=new Ce,this.breakpointObserver.observe([Ye.Handset]).pipe(ae(this.destroy$)).subscribe(f=>{this.isMobile=f.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.loadData(),this.subscribeToStore()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(_n).pipe(ae(this.destroy$)).subscribe(i=>{this.groups=i.groups,this.invitations=i.invitations,this.error=i.error,this.error&&(this.notificationService.error(this.error),this.store.dispatch(Ee()))})}loadData(){this.store.dispatch(un()),this.store.dispatch(dn())}openCreateGroupDialog(){this.dialog.open(Ya,{width:this.isMobile?"90vw":"500px",maxWidth:this.isMobile?"500px":"90vw",disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(r=>{r&&this.store.dispatch(hn({request:r}))})}handleAddMember(i){this.store.dispatch(ee(i))}acceptInvitation(i){this.store.dispatch(mn({invitationId:i.id}))}declineInvitation(i){this.store.dispatch(gn({invitationId:i.id}))}deleteGroup(i){this.dialog.open(Je,{width:"300px",data:{title:"Delete Group",message:'Are you sure you want to delete the group "${group.name}"?',confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(r=>{r&&this.store.dispatch(Oe({groupId:i.id}))})}formatDate(i){return i?(i.toDate?i.toDate():new Date(i)).toLocaleDateString():""}formatCurrency(i,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(i)}};e.\u0275fac=function(r){return new(r||e)(k(We),k(Ot),k(At),k(te),k(we))},e.\u0275cmp=_t({type:e,selectors:[["app-splitwise"]],decls:21,vars:1,consts:[[1,"splitwise-container"],[1,"header"],[1,"header-content"],[1,"title-section"],[1,"title-icon"],[1,"title"],[1,"subtitle"],[1,"header-actions"],["mat-raised-button","","color","primary",1,"create-group-btn",3,"click"],[1,"main-content"],["class","invitations-section",4,"ngIf"],[1,"groups-section"],[1,"groups-list"],[3,"group","isSelected","isMobile"],[1,"invitations-section"],[1,"invitations-card"],[1,"invitations-list"],[1,"invitation-item"],[1,"invitation-info"],[1,"invitation-details"],[1,"invitation-actions"],["mat-button","","color","primary",1,"accept-btn",3,"click"],["mat-button","","color","warn",1,"decline-btn",3,"click"],[3,"addMember","deleteGroup","group","isSelected","isMobile"]],template:function(r,c){r&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),O(5,"group"),w(),v(6,"h1",5),O(7,"Splitwise"),w(),v(8,"p",6),O(9,"Split expenses with friends and family"),w()(),v(10,"div",7)(11,"button",8),z("click",function(){return c.openCreateGroupDialog()}),v(12,"mat-icon"),O(13,"add"),w(),O(14," Create Group "),w()()()(),v(15,"div",9),W(16,ah,11,0,"div",10),v(17,"div",11)(18,"div",12),uo(19,ch,1,3,"app-group",13,Yc),w()()()()),r&2&&(E(16),R("ngIf",c.invitations.length>0),E(3),ho(c.groups))},dependencies:[St,Ze,en,nn,tn,Gt,Dt,Qc],styles:[".splitwise-container[_ngcontent-%COMP%]{background:#f9fafb;padding:20px}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}}.header[_ngcontent-%COMP%]{margin-bottom:30px}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));padding:1rem;border-radius:1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#fff}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:2.5rem;font-weight:700}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffffe6;margin:0;font-size:1.1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem}}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;font-weight:600;padding:12px 24px;border-radius:25px;transition:all .3s ease}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;border-color:#ffffff80;transform:translateY(-2px)}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;color:#fff}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.1rem}.main-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.invitations-section[_ngcontent-%COMP%]{margin-bottom:30px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]{padding:15px 0;border-bottom:1px solid #eee}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media (max-width: 768px){.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 5px;color:#666}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#999;font-size:.85rem}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background:#45a049}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]:hover{background:#da190b}.groups-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:30px}@media (max-width: 1024px){.groups-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fffffff2;border-radius:15px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#ccc;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin:0 0 10px;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 30px;font-size:1.1rem}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:12px 24px;border-radius:25px;font-weight:600}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#333;font-weight:600;font-size:1.3rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:30px}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{flex-direction:column}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]{border-color:#667eea;color:#667eea;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;margin:0 0 20px;font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid #eee}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#999;font-size:1.5rem;width:1.5rem;height:1.5rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#333;font-weight:500;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{color:#999;font-size:.8rem;text-transform:capitalize}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]{margin-bottom:20px}.groups-section[_ngcontent-%COMP%]{gap:15px}.details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 480px){.splitwise-container[_ngcontent-%COMP%]{padding:8px}.header[_ngcontent-%COMP%]{margin-bottom:15px}.groups-section[_ngcontent-%COMP%]{gap:10px}}"]});let n=e;return n})();var Jc=(()=>{let e=class e{constructor(){}toDate(i){try{if(!i)return null;if(i instanceof Date)return i;if(i instanceof Ct)return i.toDate();if(i&&typeof i=="object"&&"seconds"in i)return new Ct(i.seconds,i.nanoseconds).toDate();if(typeof i=="number")return new Date(i);if(typeof i=="string"){let r=new Date(i);return isNaN(r.getTime())?null:r}return i&&typeof i.toDate=="function"?i.toDate():null}catch(r){return console.error("Error converting timestamp to date:",r,i),null}}toTimestamp(i){try{if(!i)return null;if(i instanceof Ct)return i;if(i instanceof Date)return Ct.fromDate(i);if(typeof i=="number")return Ct.fromDate(new Date(i));if(typeof i=="string"){let r=new Date(i);if(!isNaN(r.getTime()))return Ct.fromDate(r)}return i&&typeof i.toDate=="function"?Ct.fromDate(i.toDate()):null}catch(r){return console.error("Error converting date to timestamp:",r,i),null}}fromFormDate(i){try{if(!i)return null;let r=new Date(i);return isNaN(r.getTime())?null:Ct.fromDate(r)}catch(r){return console.error("Error converting form date to timestamp:",r,i),null}}now(){return Ct.fromDate(new Date)}compare(i,r){let c=this.toDate(i),u=this.toDate(r);return!c&&!u?0:c?u?c.getTime()-u.getTime():1:-1}sortByDate(i,r,c=!1){return[...i].sort((u,d)=>{let f=this.toDate(u[r]),P=this.toDate(d[r]);if(!f&&!P)return 0;if(!f)return c?-1:1;if(!P)return c?1:-1;let x=f.getTime()-P.getTime();return c?x:-x})}filterByDateRange(i,r,c,u){let d=this.toDate(c),f=this.toDate(u);return!d&&!f?i:i.filter(P=>{let x=this.toDate(P[r]);return x?d&&f?x>=d&&x<=f:d?x>=d:f?x<=f:!0:!1})}isValidDate(i){let r=this.toDate(i);return r!==null&&!isNaN(r.getTime())}formatDate(i,r="MM/DD/YYYY"){let c=this.toDate(i);if(!c)return"Invalid Date";let u=c.getDate().toString().padStart(2,"0"),d=(c.getMonth()+1).toString().padStart(2,"0"),f=c.getFullYear();return r.replace("MM",d).replace("DD",u).replace("YYYY",f.toString())}toISOString(i){let r=this.toDate(i);return r?r.toISOString().split("T")[0]:""}getRelativeTime(i){let r=this.toDate(i);if(!r)return"Unknown";let u=Math.floor((new Date().getTime()-r.getTime())/1e3);if(u<60)return"Just now";if(u<3600){let d=Math.floor(u/60);return`${d} minute${d>1?"s":""} ago`}else if(u<86400){let d=Math.floor(u/3600);return`${d} hour${d>1?"s":""} ago`}else if(u<2592e3){let d=Math.floor(u/86400);return`${d} day${d>1?"s":""} ago`}else return this.formatDate(r)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var On=(()=>{let e=class e{constructor(i,r,c,u,d){this.firestore=i,this.auth=r,this.notificationService=c,this.dateService=u,this.userService=d}getUserGroups(i){let r=this.auth.currentUser;if(!(r!=null&&r.email))return K([]);let c=kt(this.firestore,"splitwise-groups"),u=Jt(c,Nt("isActive","==",!0),Wn("createdAt","desc"));return J(Xt(u)).pipe(Z(d=>d.docs.map(f=>T({id:f.id},f.data())).filter(f=>f.members.some(P=>{var x;return P.email.toLowerCase()===((x=r.email)==null?void 0:x.toLowerCase())&&P.isActive}))),ht(d=>(console.error("Error fetching user groups:",d),K([]))))}getGroupById(i){return pt(ct(this.firestore,"splitwise-groups",i)).then(r=>r.exists()?T({id:r.id},r.data()):null)}createGroup(i,r){let c=this.auth.currentUser;if(!c)throw new Error("User not authenticated");let u={name:i.name,description:i.description||"",createdBy:r,members:[{userId:c.uid,email:c.email||"",displayName:c.displayName||c.email||"",photoURL:c.photoURL||"",role:Ne.ADMIN,joinedAt:new Date,isActive:!0}],currency:i.currency||"USD",createdAt:new Date,updatedAt:new Date,isActive:!0,syncStatus:_o.SYNCED},d=kt(this.firestore,"splitwise-groups");return J(Hn(d,u)).pipe(Z(f=>T({id:f.id},u)))}deleteGroup(i,r){let c=ct(this.firestore,"splitwise-groups",i);return J(jt(c,{isActive:!1,updatedAt:new Date}))}getUserInvitations(i){let r=this.auth.currentUser;if(!(r!=null&&r.email))return K([]);let c=kt(this.firestore,"splitwise-invitations"),u=Jt(c,Nt("invitedEmail","==",r.email),Nt("status","==","pending"),Wn("createdAt","desc"));return J(Xt(u)).pipe(Z(d=>d.docs.map(f=>T({id:f.id},f.data()))),Z(d=>d.filter(f=>!this.isInvitationExpired(f))),ht(d=>(console.error("Error fetching invitations:",d),K([]))))}isInvitationExpired(i){let r;return i.expiresAt instanceof Ct?r=i.expiresAt.toDate():i.expiresAt instanceof Date?r=i.expiresAt:r=new Date(i.expiresAt),r<new Date}markExpiredInvitations(i){return B(this,null,function*(){try{let r=this.auth.currentUser;if(!(r!=null&&r.email))return;let c=kt(this.firestore,"splitwise-invitations"),u=Jt(c,Nt("invitedEmail","==",r.email),Nt("status","==","pending")),d=yield Xt(u),f=ba(this.firestore),P=!1;d.docs.forEach(x=>{let U=x.data();this.isInvitationExpired(U)&&(f.update(x.ref,{status:bn.EXPIRED,updatedAt:new Date}),P=!0)}),P&&(yield f.commit())}catch(r){console.error("Error marking expired invitations:",r)}})}acceptInvitation(i,r){return B(this,null,function*(){try{let c=this.auth.currentUser;if(!c)throw new Error("User not authenticated");let u=ct(this.firestore,"splitwise-invitations",i),d=yield pt(u);if(!d.exists())throw new Error("Invitation not found");let f=d.data();yield jt(u,{status:bn.ACCEPTED,updatedAt:new Date});let P=ct(this.firestore,"splitwise-groups",f.groupId),x=yield pt(P);if(!x.exists())throw new Error("Group not found");let A=x.data().members.map(D=>{var V;return D.email.toLowerCase()===f.invitedEmail.toLowerCase()?S(T({},D),{userId:c.uid,displayName:c.displayName||((V=c.email)==null?void 0:V.split("@")[0])||D.displayName,photoURL:c.photoURL||D.photoURL,isActive:!0}):D});yield jt(P,{members:A,updatedAt:new Date}),this.notificationService.success(`Successfully joined ${f.groupName}!`)}catch(c){throw console.error("Error accepting invitation:",c),this.notificationService.error("Failed to accept invitation"),c}})}declineInvitation(i,r){return B(this,null,function*(){try{if(!this.auth.currentUser)throw new Error("User not authenticated");let u=ct(this.firestore,"splitwise-invitations",i),d=yield pt(u);if(!d.exists())throw new Error("Invitation not found");let f=d.data();yield jt(u,{status:bn.DECLINED,updatedAt:new Date});let P=ct(this.firestore,"splitwise-groups",f.groupId),x=yield pt(P);if(x.exists()){let A=x.data().members.filter(D=>D.email.toLowerCase()!==f.invitedEmail.toLowerCase());yield jt(P,{members:A,updatedAt:new Date})}this.notificationService.success(`Invitation to ${f.groupName} declined`)}catch(c){throw console.error("Error declining invitation:",c),this.notificationService.error("Failed to decline invitation"),c}})}addMemberToGroup(i,r,c){return B(this,null,function*(){var u;try{if(!this.auth.currentUser)throw new Error("User not authenticated");let f=ct(this.firestore,"splitwise-groups",i),P=yield pt(f);if(!P.exists())throw new Error("Group not found");let x=P.data();if(x.members.find(D=>D.email.toLowerCase()===r.email.toLowerCase()))throw new Error("User is already a member of this group");let A=yield this.userService.findUserByEmail(r.email);if(A){yield this.sendGroupInvitation(i,r.email,c);let D={userId:A.uid,email:r.email,displayName:A.firstName||((u=A.email)==null?void 0:u.split("@")[0])||r.email.split("@")[0],photoURL:A.photoURL||"",role:r.role||Ne.MEMBER,joinedAt:new Date,isActive:!1},V=[...x.members,D];return yield jt(f,{members:V,updatedAt:new Date}),this.notificationService.success(`Invitation sent to ${r.email}`),S(T({id:i},x),{members:V,updatedAt:new Date})}else{let D={userId:"",email:r.email,displayName:r.email.split("@")[0],role:r.role||Ne.MEMBER,joinedAt:new Date,isActive:!1},V=[...x.members,D];return yield jt(f,{members:V,updatedAt:new Date}),yield this.sendGroupInvitation(i,r.email,c),this.notificationService.success(`Invitation sent to ${r.email}. They will be added when they register and accept.`),S(T({id:i},x),{members:V,updatedAt:new Date})}}catch(d){throw console.error("Error adding member to group:",d),this.notificationService.error(d instanceof Error?d.message:"Failed to add member"),d}})}getGroupTransactions(i,r){let c=kt(this.firestore,"splitwise-transactions"),u=Jt(c,Nt("groupId","==",i),Wn("createdAt","desc"));return J(Xt(u)).pipe(Z(d=>d.docs.map(f=>T({id:f.id},f.data()))),ht(d=>(console.error("Error fetching group transactions:",d),K([]))))}getGroupSettlements(i,r){let c=kt(this.firestore,"splitwise-settlements"),u=Jt(c,Nt("groupId","==",i),Wn("createdAt","desc"));return J(Xt(u)).pipe(Z(d=>d.docs.map(f=>T({id:f.id},f.data()))),ht(d=>(console.error("Error fetching group settlements:",d),K([]))))}createSplitTransaction(i,r){if(!this.auth.currentUser)throw new Error("User not authenticated");let u={groupId:i.groupId,originalTransactionId:i.originalTransactionId,amount:i.amount,createdBy:r,splits:i.splits.map(f=>S(T({},f),{email:"",displayName:""})),totalAmount:i.amount,currency:"USD",status:So.PENDING,createdAt:new Date,updatedAt:new Date,syncStatus:_o.SYNCED},d=kt(this.firestore,"splitwise-transactions");return J(Hn(d,u)).pipe(Z(f=>T({id:f.id},u)))}getGroup(i){return J(pt(ct(this.firestore,"splitwise-groups",i))).pipe(Z(r=>r.exists()?T({id:r.id},r.data()):null))}updateGroup(i,r){return B(this,null,function*(){var c;try{if(!((c=this.auth.currentUser)==null?void 0:c.uid))throw new Error("User not authenticated");let d={updatedAt:new Date};r.name&&(d.name=r.name),r.description!==void 0&&(d.description=r.description),r.currency&&(d.currency=r.currency),yield jt(ct(this.firestore,"splitwise-groups",i),d),this.notificationService.success("Group updated successfully")}catch(u){throw console.error("Error updating group:",u),this.notificationService.error("Failed to update group"),u}})}removeMemberFromGroup(i,r,c){return B(this,null,function*(){try{if(!c)throw new Error("User not authenticated");let u=ct(this.firestore,"splitwise-groups",i),d=yield pt(u);if(!d.exists())throw new Error("Group not found");let P=d.data().members.filter(x=>x.userId!==r);yield jt(u,{members:P,updatedAt:new Date}),this.notificationService.success("Member removed successfully")}catch(u){throw console.error("Error removing member:",u),this.notificationService.error("Failed to remove member"),u}})}getSplitTransaction(i){return J(pt(ct(this.firestore,"splitwise-transactions",i))).pipe(Z(r=>r.exists()?T({id:r.id},r.data()):null))}updateSplitTransaction(i,r){return B(this,null,function*(){var c;try{if(!((c=this.auth.currentUser)==null?void 0:c.uid))throw new Error("User not authenticated");let d={updatedAt:new Date};if(r.payee&&(d.payee=r.payee),r.amount&&(d.amount=r.amount),r.type&&(d.type=r.type),r.date&&(d.date=this.dateService.toTimestamp(r.date)),r.notes!==void 0&&(d.notes=r.notes),r.categoryId&&(d.categoryId=r.categoryId),r.category&&(d.category=r.category),r.status&&(d.status=r.status),r.splits){let x=r.splits.reduce((Y,gt)=>Y+gt.amount,0);if(Math.abs(x-(r.amount||0))>.01)throw new Error("Split amounts must equal the total transaction amount");let U=yield pt(ct(this.firestore,"splitwise-transactions",i));if(!U.exists())throw new Error("Transaction not found");let A=U.data(),V=(yield pt(ct(this.firestore,"splitwise-groups",A.groupId))).data(),ut=r.splits.map(Y=>{let gt=V.members.find(xt=>xt.userId===Y.userId);return S(T({},Y),{email:(gt==null?void 0:gt.email)||"",displayName:(gt==null?void 0:gt.displayName)||"",isPaid:!1})});d.splits=ut,d.totalAmount=r.amount,yield this.updateMemberBalances(A.groupId,ut)}yield jt(ct(this.firestore,"splitwise-transactions",i),d);let P=(yield pt(ct(this.firestore,"splitwise-transactions",i))).data();this.notificationService.success("Split transaction updated successfully")}catch(u){throw console.error("Error updating split transaction:",u),this.notificationService.error("Failed to update split transaction"),u}})}deleteSplitTransaction(i){return B(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");let u=yield pt(ct(this.firestore,"splitwise-transactions",i));if(!u.exists())throw new Error("Transaction not found");let d=u.data(),f=d.splits.map(P=>S(T({},P),{amount:-P.amount}));yield this.updateMemberBalances(d.groupId,f),yield fo(ct(this.firestore,"splitwise-transactions",i)),this.notificationService.success("Split transaction deleted successfully")}catch(c){throw console.error("Error deleting split transaction:",c),this.notificationService.error("Failed to delete split transaction"),c}})}createSettlement(i){return B(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");let u={groupId:i.groupId,fromUserId:i.fromUserId,toUserId:i.toUserId,amount:i.amount,currency:"USD",status:gi.PENDING,notes:i.notes||"",createdAt:new Date,updatedAt:new Date};return(yield Hn(kt(this.firestore,"splitwise-settlements"),u)).id}catch(c){throw console.error("Error creating settlement:",c),c}})}completeSettlement(i){return B(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");yield jt(ct(this.firestore,"splitwise-settlements",i),{status:gi.COMPLETED,settledAt:new Date,updatedAt:new Date});let d=(yield pt(ct(this.firestore,"splitwise-settlements",i))).data()}catch(c){throw console.error("Error completing settlement:",c),c}})}sendGroupInvitation(i,r,c){return B(this,null,function*(){try{let u=this.auth.currentUser;if(!u)throw new Error("User not authenticated");let f=(yield pt(ct(this.firestore,"splitwise-groups",i))).data(),P={groupId:i,groupName:f.name,invitedBy:c,invitedByEmail:u.email||"",invitedByDisplayName:u.displayName||"",invitedEmail:r,status:bn.PENDING,expiresAt:new Date(Date.now()+7*24*60*60*1e3),createdAt:new Date,updatedAt:new Date};yield Hn(kt(this.firestore,"splitwise-invitations"),P)}catch(u){throw console.error("Error sending invitation:",u),u}})}updateMemberBalances(i,r){return B(this,null,function*(){console.warn("updateMemberBalances is deprecated. Use getMemberBalances() instead.")})}getGroupSummary(i){return B(this,null,function*(){var x;if(!((x=this.auth.currentUser)==null?void 0:x.uid))throw new Error("User not authenticated");let[c,u]=yield Promise.all([Xt(Jt(kt(this.firestore,"splitwise-transactions"),Nt("groupId","==",i))),Xt(Jt(kt(this.firestore,"splitwise-settlements"),Nt("groupId","==",i),Nt("status","==",gi.PENDING)))]),f=(yield pt(ct(this.firestore,"splitwise-groups",i))).data(),P=c.docs.reduce((U,A)=>{let D=A.data();return U+D.amount},0);return{groupId:i,totalTransactions:c.docs.length,totalAmount:P,averageAmount:c.docs.length>0?P/c.docs.length:0,memberCount:f.members.length,activeMemberCount:f.members.filter(U=>U.isActive).length,pendingSettlements:u.docs.length,lastActivity:new Date}})}getMemberBalances(i){return B(this,null,function*(){var P;if(!((P=this.auth.currentUser)==null?void 0:P.uid))throw new Error("User not authenticated");let u=(yield pt(ct(this.firestore,"splitwise-groups",i))).data(),d=yield Xt(Jt(kt(this.firestore,"splitwise-transactions"),Nt("groupId","==",i))),f=new Map;return u.members.forEach(x=>{f.set(x.userId,{userId:x.userId,email:x.email,displayName:x.displayName,totalPaid:0,totalOwed:0,netBalance:0,transactionCount:0})}),d.docs.forEach(x=>{x.data().splits.forEach(A=>{let D=f.get(A.userId);D&&(D.transactionCount++,A.amount>0?D.totalPaid+=A.amount:D.totalOwed+=Math.abs(A.amount),D.netBalance=D.totalPaid-D.totalOwed)})}),Array.from(f.values())})}deleteSplitTransactionRollback(i,r){return B(this,null,function*(){try{let c=kt(this.firestore,"splitwise-transactions"),u=Jt(c,Nt("originalTransactionId","==",i)),d=yield Xt(u);if(d.empty)throw new Error("Transaction not found");let P=d.docs[0].id;yield fo(ct(this.firestore,`splitwise-transactions/${P}`)),console.log(`Transaction with ID ${P} deleted successfully`)}catch(c){throw console.error("Error deleting split transaction rollback:",c),c}})}};e.\u0275fac=function(r){return new(r||e)(H(_a),H(Ot),H(we),H(Jc),H(Xe))},e.\u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function uh(n,e){n&1&&(v(0,"div",5),dt(1,"mat-spinner",6),v(2,"p"),O(3,"Loading group details..."),w()())}function dh(n,e){if(n&1){let o=bt();v(0,"button",32),z("click",function(){rt(o);let r=F(2);return ot(r.deleteGroup())}),v(1,"mat-icon"),O(2,"delete"),w(),v(3,"span"),O(4,"Delete Group"),w()()}}function hh(n,e){if(n&1&&(v(0,"div",49)(1,"div",50)(2,"span",51),O(3),w(),v(4,"span",52),O(5),w()(),v(6,"div",53)(7,"mat-icon"),O(8),w()()()),n&2){let o=e.$implicit,i=F().$implicit,r=F(3);E(3),at(o.displayName),E(2),at(r.formatCurrency(o.amount,i.currency)),E(2),Re("paid",o.isPaid)("unpaid",!o.isPaid),$n("aria-label",o.isPaid?"Paid":"Pending"),E(),st(" ",o.isPaid?"check_circle":"pending"," ")}}function mh(n,e){if(n&1&&(v(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38),O(4),w(),v(5,"div",39)(6,"span",40),O(7),w(),v(8,"span",41),O(9),w()()(),v(10,"div",42)(11,"mat-chip",43),O(12),w()()(),v(13,"div",44)(14,"div",45)(15,"span",46),O(16),w()(),v(17,"div",47),W(18,hh,9,8,"div",48),w()()()),n&2){let o=e.$implicit,i=F(3);E(4),st(" ",i.formatCurrency(o.totalAmount,o.currency)," "),E(3),st("by ",i.getTransactionCreatorName(o),""),E(2),at(i.formatDate(o.createdAt)),E(2),R("color",i.getTransactionStatusColor(o.status)),E(),st(" ",i.getTransactionStatusText(o.status)," "),E(4),at(i.getTransactionSplitsSummary(o)),E(2),R("ngForOf",o.splits)}}function gh(n,e){if(n&1&&(v(0,"div",33),W(1,mh,19,7,"div",34),w()),n&2){let o=F(2);E(),R("ngForOf",o.transactions)}}function ph(n,e){if(n&1){let o=bt();v(0,"div",54)(1,"mat-icon",55),O(2,"receipt"),w(),v(3,"p"),O(4,"No transactions yet"),w(),v(5,"button",56),z("click",function(){rt(o);let r=F(2);return ot(r.addTransaction())}),v(6,"mat-icon"),O(7,"add"),w(),O(8," Add Transaction "),w()()}}function fh(n,e){if(n&1&&(v(0,"div",61)(1,"div",62)(2,"div",63)(3,"span",64),O(4),w(),v(5,"mat-icon"),O(6,"arrow_forward"),w(),v(7,"span",65),O(8),w()(),v(9,"div",66),O(10),w()(),v(11,"div",67)(12,"mat-chip",43),O(13),w()()()),n&2){let o=e.$implicit,i=F(3);E(4),at(i.getMemberName(o.fromUserId)),E(4),at(i.getMemberName(o.toUserId)),E(2),st(" ",i.formatCurrency(o.amount,o.currency)," "),E(2),R("color",o.status==="completed"?"success":"warning"),E(),st(" ",o.status==="completed"?"Completed":"Pending"," ")}}function _h(n,e){if(n&1&&(v(0,"div",57)(1,"mat-card",58)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),O(5,"swap_horiz"),w(),v(6,"span"),O(7),w()()(),v(8,"mat-card-content")(9,"div",59),W(10,fh,14,5,"div",60),w()()()()),n&2){let o=F(2);E(7),st("Settlements (",o.getSettlementCount(),")"),E(3),R("ngForOf",o.settlements)}}function bh(n,e){if(n&1){let o=bt();v(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"button",11),z("click",function(){rt(o);let r=F();return ot(r.goBack())}),v(5,"mat-icon",12),z("click",function(){rt(o);let r=F();return ot(r.goBack())}),O(6,"arrow_back"),w()(),v(7,"span",13),O(8),$e(9,"titlecase"),w(),v(10,"button",14)(11,"mat-icon"),O(12,"more_vert"),w()()(),v(13,"div",15)(14,"mat-menu",16,0)(16,"button",17),z("click",function(){rt(o);let r=F();return ot(r.openAddMemberDialog())}),v(17,"mat-icon"),O(18,"person_add"),w(),v(19,"span"),O(20,"Add Member"),w()(),dt(21,"mat-divider"),W(22,dh,5,0,"button",18),w()()()(),v(23,"div",19)(24,"mat-card",20)(25,"div",21)(26,"div",22)(27,"div",23),z("click",function(){rt(o);let r=F();return ot(r.openAddMemberDialog())}),v(28,"div",24),O(29),w(),v(30,"div",25),O(31,"Members"),w()()(),v(32,"div",22)(33,"div",26)(34,"div",24),O(35),w(),v(36,"div",25),O(37,"Total Balance"),w()()()()()(),v(38,"div",27)(39,"mat-card",28)(40,"mat-card-header")(41,"mat-card-title")(42,"mat-icon"),O(43,"receipt"),w(),v(44,"span"),O(45),w()(),v(46,"mat-card-subtitle"),O(47),w()(),v(48,"mat-card-content"),W(49,gh,2,1,"div",29)(50,ph,9,0,"div",30),w()()(),W(51,_h,11,2,"div",31),w()}if(n&2){let o=Kn(15),i=F();E(8),at(Ke(9,10,i.group.name)),E(2),R("matMenuTriggerFor",o),E(12),R("ngIf",i.canManageGroup()),E(7),at(i.getGroupMemberCount()),E(6),at(i.formatCurrency(i.getTotalBalance(),i.group.currency)),E(10),st("Transactions (",i.getTransactionCount(),")"),E(2),st(" Total: ",i.formatCurrency(i.getTotalTransactionAmount(),i.group.currency)," "),E(2),R("ngIf",i.transactions.length>0),E(),R("ngIf",i.transactions.length===0),E(),R("ngIf",i.settlements.length>0)}}function yh(n,e){if(n&1){let o=bt();v(0,"div",68)(1,"mat-icon",69),O(2,"error"),w(),v(3,"h3"),O(4,"Group Not Found"),w(),v(5,"p"),O(6,"The group you're looking for doesn't exist or you don't have access to it."),w(),v(7,"button",56),z("click",function(){rt(o);let r=F();return ot(r.goBack())}),v(8,"mat-icon"),O(9,"arrow_back"),w(),O(10," Go Back "),w()()}}var tl=(()=>{let e=class e{constructor(i,r,c,u,d,f,P,x){this.route=i,this.router=r,this.auth=c,this.store=u,this.dialog=d,this.notificationService=f,this.breakpointObserver=P,this.splitwiseService=x,this.group=null,this.transactions=[],this.settlements=[],this.error=null,this.currentUser=null,this.isMobile=!1,this.isLoading=!1,this.Math=Math,this.destroy$=new Ce,this.breakpointObserver.observe([Ye.Handset]).pipe(ae(this.destroy$)).subscribe(U=>{this.isMobile=U.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(_n).pipe(ae(this.destroy$)).subscribe(i=>{this.isLoading=i.loading,this.error=i.error;let r=this.route.snapshot.paramMap.get("id");r&&(this.group=i.groups.find(c=>c.id===r)||null,!this.group&&!this.isLoading&&this.splitwiseService.getGroupById(r).then(c=>{this.group=c})),this.transactions=i.transactions.filter(c=>c.groupId===r),this.settlements=i.settlements.filter(c=>c.groupId===r),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Ee()))})}loadGroupDetails(){let i=this.route.snapshot.paramMap.get("id");i&&(this.store.dispatch(de({groupId:i})),this.store.dispatch(pn({groupId:i})),this.store.dispatch(fn({groupId:i})))}goBack(){this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(Mn,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(r=>{r&&(r.action==="delete"?this.store.dispatch(xe({groupId:this.group.id,userId:r.userId})):this.store.dispatch(ee({groupId:this.group.id,request:r})))})}deleteGroup(){this.group&&this.dialog.open(Je,{width:"300px",data:{title:"Delete Group",message:'Are you sure you want to delete the group "${this.group.name}"?',confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(i=>{var r;i&&(this.store.dispatch(Oe({groupId:(r=this.group)==null?void 0:r.id})),this.goBack())})}getCurrentUserRole(){if(!this.group||!this.currentUser)return"";let i=this.group.members.find(r=>r.userId===this.currentUser.uid);return(i==null?void 0:i.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}getGroupMemberCount(){var i;return((i=this.group)==null?void 0:i.members.filter(r=>r.isActive).length)||0}formatDate(i){return i?(i.toDate?i.toDate():new Date(i)).toLocaleDateString():""}formatCurrency(i,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(i)}getTotalBalance(){return this.group?this.transactions.reduce((i,r)=>i+r.splits.reduce((c,u)=>c+u.amount,0),0):0}getTransactionStatusColor(i){switch(i){case"completed":return"success";case"partial":return"warning";case"pending":return"info";case"cancelled":return"error";default:return"default"}}getTransactionStatusText(i){switch(i){case"completed":return"Completed";case"partial":return"Partial";case"pending":return"Pending";case"cancelled":return"Cancelled";default:return"Unknown"}}getTransactionCreatorName(i){if(!this.group)return"";let r=this.group.members.find(c=>c.userId===i.createdBy);return(r==null?void 0:r.displayName)||"Unknown"}getTransactionSplitsSummary(i){let r=i.splits.filter(u=>u.isPaid).length,c=i.splits.length;return`${r}/${c} paid`}getTotalTransactionAmount(){return this.transactions.reduce((i,r)=>i+r.totalAmount,0)}getTransactionCount(){return this.transactions.length}getSettlementCount(){return this.settlements.length}getMemberName(i){if(!this.group)return"Unknown";let r=this.group.members.find(c=>c.userId===i);return(r==null?void 0:r.displayName)||"Unknown"}toggleMembers(){var i;this.router.navigate(["dashboard/splitwise/members",(i=this.group)==null?void 0:i.id])}addTransaction(){var i;this.router.navigate(["dashboard/transactions"],{queryParams:{splitGroupId:(i=this.group)==null?void 0:i.id,returnUrl:this.router.url}})}};e.\u0275fac=function(r){return new(r||e)(k($i),k(He),k(Ot),k(At),k(te),k(we),k(We),k(On))},e.\u0275cmp=_t({type:e,selectors:[["app-group-details"]],decls:4,vars:3,consts:[["groupMenu","matMenu"],[1,"group-details-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header"],[1,"header-content"],[1,"header-navigation"],["mat-icon-button","","aria-label","Go back",1,"back-btn","!z-[999]",3,"click"],[3,"click"],[1,"group-title"],["mat-icon-button","","aria-label","More options",1,"more-actions-btn",3,"matMenuTriggerFor"],[1,"header-actions"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],[1,"stats-section"],[1,"stats-card"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-content",3,"click"],[1,"stat-value"],[1,"stat-label"],[1,"stat-content"],[1,"transactions-section"],[1,"transactions-card"],["class","transactions-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","settlements-section",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"],[1,"transactions-list"],["class","transaction-item",4,"ngFor","ngForOf"],[1,"transaction-item"],[1,"transaction-header"],[1,"transaction-info"],[1,"transaction-amount"],[1,"transaction-meta"],[1,"transaction-creator"],[1,"transaction-date"],[1,"transaction-status"],["selected","",3,"color"],[1,"transaction-splits"],[1,"splits-summary"],[1,"splits-count"],[1,"splits-details"],["class","split-item",4,"ngFor","ngForOf"],[1,"split-item"],[1,"split-member"],[1,"member-name"],[1,"split-amount"],[1,"split-status"],[1,"empty-state"],[1,"empty-icon"],["mat-raised-button","","color","primary",3,"click"],[1,"settlements-section"],[1,"settlements-card"],[1,"settlements-list"],["class","settlement-item",4,"ngFor","ngForOf"],[1,"settlement-item"],[1,"settlement-info"],[1,"settlement-parties"],[1,"from-user"],[1,"to-user"],[1,"settlement-amount"],[1,"settlement-status"],[1,"error-state"],[1,"error-icon"]],template:function(r,c){r&1&&(v(0,"div",1),W(1,uh,4,0,"div",2)(2,bh,52,12,"div",3)(3,yh,11,0,"div",4),w()),r&2&&(E(),R("ngIf",c.isLoading),E(),R("ngIf",!c.isLoading&&c.group),E(),R("ngIf",!c.isLoading&&!c.group))},dependencies:[Qe,St,Ze,en,nn,or,tn,sr,Gt,Zt,Dt,Pe,Va,ir,nr,rr,Gi],styles:[".group-details-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh;background:#f9fafb}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px;margin:0}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px;text-align:center;padding:40px 20px}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:1.5rem;font-weight:600}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 24px;font-size:1rem;line-height:1.5}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 24px;font-weight:600}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-radius:12px;margin-bottom:24px}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px;margin-left:-6px;margin-right:-20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d20a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:600;color:#333;line-height:1.2}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:1.25rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d20a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:flex;gap:5px;padding:2px;justify-content:space-between}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px;padding:20px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{gap:16px;padding:16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{width:50%;justify-content:center;align-items:center;display:flex;text-align:center;gap:2px;padding:2px;background:#f8f9fa;border-radius:8px;transition:all .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:translateY(-1px)}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{gap:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:48px;height:48px;background:#1976d2;border-radius:8px;flex-shrink:0}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:40px;height:40px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:24px;width:24px;height:24px}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1;min-width:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#333;margin-bottom:4px;line-height:1.2}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.25rem}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.1rem;padding:10px 2px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#666;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px;font-weight:500}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:12px 12px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#333;font-weight:600;font-size:1.25rem}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.1rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:24px;width:24px;height:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:.875rem;margin-top:4px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;margin-bottom:16px;padding:16px;background:#fafafa;transition:all .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;box-shadow:0 2px 8px #1976d21a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{padding:12px;margin-bottom:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;gap:12px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]{flex:1;min-width:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#333;margin-bottom:4px;line-height:1.2}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-size:1.1rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]{display:flex;gap:12px;font-size:.75rem;color:#666;flex-wrap:wrap}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]{gap:8px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-creator[_ngcontent-%COMP%]{font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-status[_ngcontent-%COMP%]{flex-shrink:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-status[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem;height:24px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-summary[_ngcontent-%COMP%]{margin-bottom:8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-summary[_ngcontent-%COMP%]   .splits-count[_ngcontent-%COMP%]{font-size:.75rem;color:#666;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f0f0f0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{padding:6px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-member[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;flex:1;min-width:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-member[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#333;line-height:1.2}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-member[_ngcontent-%COMP%]   .split-amount[_ngcontent-%COMP%]{font-size:.75rem;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-status[_ngcontent-%COMP%]{flex-shrink:0;margin-left:8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-status[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-status[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-status[_ngcontent-%COMP%]   mat-icon.paid[_ngcontent-%COMP%]{color:#4caf50}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-status[_ngcontent-%COMP%]   mat-icon.unpaid[_ngcontent-%COMP%]{color:#ff9800}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:30px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#ccc;margin-bottom:16px}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;margin-bottom:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 20px;font-size:1rem}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 24px;font-weight:600}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:12px 12px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#333;font-weight:600;font-size:1.25rem}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.1rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:24px;width:24px;height:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px;padding:16px 0}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]{padding:12px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]{flex:1;min-width:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:4px;flex-wrap:wrap}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:.875rem}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#666;flex-shrink:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:.875rem}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1976d2}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]{flex-shrink:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem;height:24px;font-weight:500}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#f443360a}"]});let n=e;return n})();function Ch(n,e){if(n&1&&dt(0,"img",16),n&2){let o=F().$implicit;R("src",o.photoURL,ji)("alt",o.displayName)}}function vh(n,e){n&1&&(v(0,"mat-icon"),O(1,"person"),w())}function wh(n,e){if(n&1&&(v(0,"div",7)(1,"div",8)(2,"div",9),W(3,Ch,1,2,"img",10)(4,vh,2,0,"mat-icon",11),w(),v(5,"div",12)(6,"span",13),O(7),w(),v(8,"span",14),O(9),w(),v(10,"span",15),O(11),w()()()()),n&2){let o=e.$implicit;E(3),R("ngIf",o.photoURL),E(),R("ngIf",!o.photoURL),E(3),at(o.displayName),E(2),at(o.email),E(2),at(o.role)}}var el=(()=>{let e=class e{constructor(){this.isMobile=!1,this.addMember=new qe,this.Math=Math}formatCurrency(i,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(i)}getGroupMemberCount(){var i;return((i=this.group)==null?void 0:i.members.filter(r=>r.isActive).length)||0}getPositiveBalanceMembers(){return this.group?[]:[]}getNegativeBalanceMembers(){return this.group?[]:[]}getNeutralBalanceMembers(){return this.group?[]:[]}onAddMember(){this.addMember.emit()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_t({type:e,selectors:[["app-members"]],inputs:{group:"group",isMobile:"isMobile"},outputs:{addMember:"addMember"},decls:18,vars:2,consts:[[1,"members-container"],[1,"members-section"],[1,"members-card"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"add-member-section"],["mat-stroked-button","","color","primary",3,"click"],[1,"member-item"],[1,"member-info"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],[1,"member-role"],[3,"src","alt"]],template:function(r,c){r&1&&(v(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title")(5,"mat-icon"),O(6,"people"),w(),O(7," Members "),w(),v(8,"mat-card-subtitle"),O(9),w()(),v(10,"mat-card-content")(11,"div",3),W(12,wh,12,5,"div",4),w()()()(),v(13,"div",5)(14,"button",6),z("click",function(){return c.onAddMember()}),v(15,"mat-icon"),O(16,"person_add"),w(),O(17," Add Member "),w()()()),r&2&&(E(9),st(" ",c.getGroupMemberCount()," active members "),E(3),R("ngForOf",c.group.members))},dependencies:[Qe,St,Ze,en,nn,or,tn,Gt,Dt],styles:[".members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:12px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:11px;color:#1976d2;text-transform:uppercase;letter-spacing:.5px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]   .positive-icon[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]{border-left:4px solid #f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]   .negative-icon[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]{border-left:4px solid #666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]   .neutral-icon[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px 0}@media (max-width: 768px){.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:12px 0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:11px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:10px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let n=e;return n})();function Mh(n,e){n&1&&(v(0,"div",4),dt(1,"mat-spinner",5),v(2,"p"),O(3,"Loading group members..."),w()())}function Oh(n,e){if(n&1){let o=bt();v(0,"div",6)(1,"div",7)(2,"button",8),z("click",function(){rt(o);let r=F();return ot(r.goBack())}),v(3,"mat-icon"),O(4,"arrow_back"),w()()(),v(5,"app-members",9),z("addMember",function(){rt(o);let r=F();return ot(r.openAddMemberDialog())}),w()()}if(n&2){let o=F();E(5),R("group",o.group)("isMobile",o.isMobile)}}function xh(n,e){if(n&1){let o=bt();v(0,"div",10)(1,"mat-icon",11),O(2,"error"),w(),v(3,"h3"),O(4,"Group Not Found"),w(),v(5,"p"),O(6,"The group you're looking for doesn't exist or you don't have access to it."),w(),v(7,"button",12),z("click",function(){rt(o);let r=F();return ot(r.goBack())}),O(8," Go Back "),w()()}}var nl=(()=>{let e=class e{constructor(i,r,c,u,d,f,P){this.route=i,this.router=r,this.auth=c,this.store=u,this.dialog=d,this.notificationService=f,this.breakpointObserver=P,this.group=null,this.isLoading=!1,this.error=null,this.currentUser=null,this.isMobile=!1,this.destroy$=new Ce,this.breakpointObserver.observe([Ye.Handset]).pipe(ae(this.destroy$)).subscribe(x=>{this.isMobile=x.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(_n).pipe(ae(this.destroy$)).subscribe(i=>{this.isLoading=i.loading,this.error=i.error;let r=this.route.snapshot.paramMap.get("id");r&&(this.group=i.groups.find(c=>c.id===r)||null,!this.group&&!this.isLoading&&this.store.dispatch(de({groupId:r}))),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Ee()))})}loadGroupDetails(){let i=this.route.snapshot.paramMap.get("id");i&&this.store.dispatch(de({groupId:i}))}goBack(){this.group?this.router.navigate(["dashboard/splitwise/group",this.group.id]):this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(Mn,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(r=>{r&&(r.action==="delete"?this.store.dispatch(xe({groupId:this.group.id,userId:r.userId})):this.store.dispatch(ee({groupId:this.group.id,request:r})))})}};e.\u0275fac=function(r){return new(r||e)(k($i),k(He),k(Ot),k(At),k(te),k(we),k(We))},e.\u0275cmp=_t({type:e,selectors:[["app-members-page"]],decls:4,vars:3,consts:[[1,"members-page-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header-actions"],["mat-icon-button","",1,"back-btn",3,"click"],[3,"addMember","group","isMobile"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","primary",3,"click"]],template:function(r,c){r&1&&(v(0,"div",0),W(1,Mh,4,0,"div",1)(2,Oh,6,2,"div",2)(3,xh,9,0,"div",3),w()),r&2&&(E(),R("ngIf",c.isLoading),E(),R("ngIf",!c.isLoading&&c.group),E(),R("ngIf",!c.isLoading&&!c.group))},dependencies:[St,Gt,Zt,Dt,Pe,el],styles:[".members-page-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh;background:#f5f5f5}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px;text-align:center}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:24px;box-shadow:0 2px 8px #0000001a}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1976d2}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex:1}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 4px;font-size:24px;font-weight:600;color:#333}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}@media (max-width: 768px){.members-page-container[_ngcontent-%COMP%]{padding:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{width:100%}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}}"]});let n=e;return n})();var Eh=[{path:"",component:Xc},{path:"group/:id",component:tl},{path:"members/:id",component:nl}],il=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Yt({type:e}),e.\u0275inj=Wt({imports:[Qn.forChild(Eh),Qn]});let n=e;return n})();var rl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Yt({type:e}),e.\u0275inj=Wt({imports:[ya,qi,Ca,va,wa,ar]});let n=e;return n})();var Ih={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Nr="__@ngrx/effects_create__";function Lt(n,e={}){let o=e.functional?n:n(),i=T(T({},Ih),e);return Object.defineProperty(o,Nr,{value:i}),o}function Th(n){return Object.getOwnPropertyNames(n).filter(i=>n[i]&&n[i].hasOwnProperty(Nr)?n[i][Nr].hasOwnProperty("dispatch"):!1).map(i=>{let r=n[i][Nr];return T({propertyName:i},r)})}function Sh(n){return Th(n)}function cl(n){return Object.getPrototypeOf(n)}function Ah(n){return!!n.constructor&&n.constructor.name!=="Object"&&n.constructor.name!=="Function"}function ll(n){return typeof n=="function"}function ol(n){return n.filter(ll)}function kh(n){return n instanceof ce||ll(n)}function Dh(n,e,o){let i=cl(n),c=!!i&&i.constructor.name!=="Object"?i.constructor.name:null,u=Sh(n).map(({propertyName:d,dispatch:f,useEffectsErrorHandler:P})=>{let x=typeof n[d]=="function"?n[d]():n[d],U=P?o(x,e):x;return f===!1?U.pipe(ra()):U.pipe(aa()).pipe(Z(D=>({effect:n[d],notification:D,propertyName:d,sourceName:c,sourceInstance:n})))});return co(...u)}var Rh=10;function ul(n,e,o=Rh){return n.pipe(ht(i=>(e&&e.handleError(i),o<=1?n:ul(n,e,o-1))))}var dl=(()=>{let e=class e extends ea{constructor(i){super(),i&&(this.source=i)}lift(i){let r=new e;return r.source=this,r.operator=i,r}};e.\u0275fac=function(r){return new(r||e)(H(ma))},e.\u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Ut(...n){return Ui(e=>n.some(o=>typeof o=="string"?o===e.type:o.type===e.type))}var hl=new ce("@ngrx/effects Internal Root Guard"),Vr=new ce("@ngrx/effects User Provided Effects"),Jo=new ce("@ngrx/effects Internal Root Effects"),ml=new ce("@ngrx/effects Internal Root Effects Instances"),sl=new ce("@ngrx/effects Internal Feature Effects"),gl=new ce("@ngrx/effects Internal Feature Effects Instance Groups"),Vh=new ce("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>ul}),pl="@ngrx/effects/init",ff=N(pl);function Nh(n,e){if(n.notification.kind==="N"){let o=n.notification.value;!Fh(o)&&e.handleError(new Error(`Effect ${Lh(n)} dispatched an invalid action: ${Uh(o)}`))}}function Fh(n){return typeof n!="function"&&n&&n.type&&typeof n.type=="string"}function Lh({propertyName:n,sourceInstance:e,sourceName:o}){let i=typeof e[n]=="function";return!!o?`"${o}.${String(n)}${i?"()":""}"`:`"${String(n)}()"`}function Uh(n){try{return JSON.stringify(n)}catch{return n}}var Bh="ngrxOnIdentifyEffects";function zh(n){return Zo(n,Bh)}var jh="ngrxOnRunEffects";function Gh(n){return Zo(n,jh)}var qh="ngrxOnInitEffects";function $h(n){return Zo(n,qh)}function Zo(n,e){return n&&e in n&&typeof n[e]=="function"}var fl=(()=>{let e=class e extends Ce{constructor(i,r){super(),this.errorHandler=i,this.effectsErrorHandler=r}addEffects(i){this.next(i)}toActions(){return this.pipe(lo(i=>Ah(i)?cl(i):i),tt(i=>i.pipe(lo(Kh))),tt(i=>{let r=i.pipe(sa(u=>Qh(this.errorHandler,this.effectsErrorHandler)(u)),Z(u=>(Nh(u,this.errorHandler),u.notification)),Ui(u=>u.kind==="N"&&u.value!=null),oa()),c=i.pipe(ia(1),Ui($h),Z(u=>u.ngrxOnInitEffects()));return co(r,c)}))}};e.\u0275fac=function(r){return new(r||e)(H(ca),H(Vh))},e.\u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Kh(n){return zh(n)?n.ngrxOnIdentifyEffects():""}function Qh(n,e){return o=>{let i=Dh(o,n,e);return Gh(o)?o.ngrxOnRunEffects(i):i}}var _l=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(i,r){this.effectSources=i,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(H(fl),H(At))},e.\u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),bl=(()=>{let e=class e{constructor(i,r,c,u,d,f,P){this.sources=i,r.start();for(let x of u)i.addEffects(x);c.dispatch({type:pl})}addEffects(i){this.sources.addEffects(i)}};e.\u0275fac=function(r){return new(r||e)(H(fl),H(_l),H(At),H(ml),H(go,8),H(po,8),H(hl,8))},e.\u0275mod=Yt({type:e}),e.\u0275inj=Wt({});let n=e;return n})(),Hh=(()=>{let e=class e{constructor(i,r,c,u){let d=r.flat();for(let f of d)i.addEffects(f)}};e.\u0275fac=function(r){return new(r||e)(H(bl),H(gl),H(go,8),H(po,8))},e.\u0275mod=Yt({type:e}),e.\u0275inj=Wt({});let n=e;return n})(),yl=(()=>{let e=class e{static forFeature(...i){let r=i.flat(),c=ol(r);return{ngModule:Hh,providers:[c,{provide:sl,multi:!0,useValue:r},{provide:Vr,multi:!0,useValue:[]},{provide:gl,multi:!0,useFactory:al,deps:[sl,Vr]}]}}static forRoot(...i){let r=i.flat(),c=ol(r);return{ngModule:bl,providers:[c,{provide:Jo,useValue:[r]},{provide:hl,useFactory:Wh},{provide:Vr,multi:!0,useValue:[]},{provide:ml,useFactory:al,deps:[Jo,Vr]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Yt({type:e}),e.\u0275inj=Wt({});let n=e;return n})();function al(n,e){let o=[];for(let i of n)o.push(...i);for(let i of e)o.push(...i);return o.map(i=>kh(i)?Bi(i):i)}function Wh(){let n=Bi(_l,{optional:!0,skipSelf:!0}),e=Bi(Jo,{self:!0});if(!(e.length===1&&e[0].length===0)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Cl={groups:[],invitations:[],transactions:[],settlements:[],selectedGroup:null,loading:!1,error:null};var vl=pa(Cl,L(un,n=>S(T({},n),{loading:!0,error:null})),L(cr,(n,{groups:e})=>S(T({},n),{groups:e,loading:!1,error:null})),L(ei,(n,{error:e})=>S(T({},n),{loading:!1,error:e})),L(de,n=>S(T({},n),{loading:!0,error:null})),L(lr,(n,{group:e})=>S(T({},n),{groups:n.groups.find(o=>o.id===e.id)?n.groups.map(o=>o.id===e.id?e:o):[...n.groups,e],selectedGroup:e,loading:!1,error:null})),L(ni,(n,{error:e})=>S(T({},n),{loading:!1,error:e})),L(dn,n=>S(T({},n),{loading:!0,error:null})),L(ur,(n,{invitations:e})=>S(T({},n),{invitations:e,loading:!1,error:null})),L(ii,(n,{error:e})=>S(T({},n),{loading:!1,error:e})),L(hn,n=>S(T({},n),{loading:!0,error:null})),L(dr,(n,{group:e})=>S(T({},n),{groups:[...n.groups,e],loading:!1,error:null})),L(ri,(n,{error:e})=>S(T({},n),{loading:!1,error:e})),L(ee,n=>S(T({},n),{loading:!0,error:null})),L(hr,(n,{group:e})=>S(T({},n),{groups:n.groups.map(o=>o.id===e.id?e:o),loading:!1,error:null})),L(oi,(n,{error:e})=>S(T({},n),{loading:!1,error:e})),L(mn,n=>S(T({},n),{loading:!0,error:null})),L(mr,(n,{invitationId:e})=>S(T({},n),{invitations:n.invitations.filter(o=>o.id!==e),loading:!1,error:null})),L(si,(n,{error:e})=>S(T({},n),{loading:!1,error:e})),L(gn,n=>S(T({},n),{loading:!0,error:null})),L(gr,(n,{invitationId:e})=>S(T({},n),{invitations:n.invitations.filter(o=>o.id!==e),loading:!1,error:null})),L(ai,(n,{error:e})=>S(T({},n),{loading:!1,error:e})),L(Oe,n=>S(T({},n),{loading:!0,error:null})),L(pr,(n,{groupId:e})=>{var o;return S(T({},n),{groups:n.groups.filter(i=>i.id!==e),selectedGroup:((o=n.selectedGroup)==null?void 0:o.id)===e?null:n.selectedGroup,loading:!1,error:null})}),L(ci,(n,{error:e})=>S(T({},n),{loading:!1,error:e})),L(Xa,(n,{group:e})=>S(T({},n),{selectedGroup:e})),L(pn,n=>S(T({},n),{loading:!0,error:null})),L(fr,(n,{transactions:e})=>S(T({},n),{transactions:e,loading:!1,error:null})),L(li,(n,{error:e})=>S(T({},n),{loading:!1,error:e})),L(fn,n=>S(T({},n),{loading:!0,error:null})),L(_r,(n,{settlements:e})=>S(T({},n),{settlements:e,loading:!1,error:null})),L(ui,(n,{error:e})=>S(T({},n),{loading:!1,error:e})),L(br,n=>S(T({},n),{loading:!0,error:null})),L(yr,(n,{transaction:e})=>S(T({},n),{transactions:[...n.transactions,e],loading:!1,error:null})),L(di,(n,{error:e})=>S(T({},n),{loading:!1,error:e})),L(xe,n=>S(T({},n),{loading:!0,error:null})),L(Cr,(n,{groupId:e})=>S(T({},n),{loading:!1,error:null})),L(hi,(n,{error:e})=>S(T({},n),{loading:!1,error:e})),L(Ee,n=>S(T({},n),{error:null})));var wl=(()=>{let e=class e{constructor(i,r,c,u,d){this.actions$=i,this.splitwiseService=r,this.userService=c,this.store=u,this.auth=d,this.loadGroups$=Lt(()=>this.actions$.pipe(Ut(un),tt(()=>J(this.userService.getCurrentUser()).pipe(tt(f=>f!=null&&f.uid?this.splitwiseService.getUserGroups(f.uid).pipe(Z(P=>cr({groups:P||[]})),ht(P=>K(ei({error:P.message})))):K(ei({error:"User not authenticated"}))))))),this.loadGroupById$=Lt(()=>this.actions$.pipe(Ut(de),tt(f=>J(this.splitwiseService.getGroupById(f.groupId)).pipe(Z(P=>P?lr({group:P}):ni({error:"Group not found"})),ht(P=>K(ni({error:P.message}))))))),this.loadInvitations$=Lt(()=>this.actions$.pipe(Ut(dn),tt(()=>J(this.userService.getCurrentUser()).pipe(tt(f=>f!=null&&f.uid?this.splitwiseService.getUserInvitations(f.uid).pipe(Z(P=>ur({invitations:P||[]})),ht(P=>K(ii({error:P.message})))):K(ii({error:"User not authenticated"}))))))),this.createGroup$=Lt(()=>this.actions$.pipe(Ut(hn),tt(f=>J(this.userService.getCurrentUser()).pipe(tt(P=>P!=null&&P.uid?this.splitwiseService.createGroup(f.request,P.uid).pipe(Z(x=>dr({group:x})),ht(x=>K(ri({error:x.message})))):K(ri({error:"User not authenticated"}))))))),this.addMember$=Lt(()=>this.actions$.pipe(Ut(ee),tt(f=>J(this.userService.getCurrentUser()).pipe(tt(P=>P!=null&&P.uid?J(this.splitwiseService.addMemberToGroup(f.groupId,f.request,P.uid)).pipe(Z(x=>hr({group:x})),ht(x=>K(oi({error:x.message})))):K(oi({error:"User not authenticated"}))))))),this.acceptInvitation$=Lt(()=>this.actions$.pipe(Ut(mn),tt(f=>J(this.userService.getCurrentUser()).pipe(tt(P=>P!=null&&P.uid?J(this.splitwiseService.acceptInvitation(f.invitationId,P.uid)).pipe(Z(()=>mr({invitationId:f.invitationId})),ht(x=>K(si({error:x.message})))):K(si({error:"User not authenticated"}))))))),this.declineInvitation$=Lt(()=>this.actions$.pipe(Ut(gn),tt(f=>J(this.userService.getCurrentUser()).pipe(tt(P=>P!=null&&P.uid?J(this.splitwiseService.declineInvitation(f.invitationId,P.uid)).pipe(Z(()=>gr({invitationId:f.invitationId})),ht(x=>K(ai({error:x.message})))):K(ai({error:"User not authenticated"}))))))),this.deleteGroup$=Lt(()=>this.actions$.pipe(Ut(Oe),tt(f=>J(this.userService.getCurrentUser()).pipe(tt(P=>P!=null&&P.uid?this.splitwiseService.deleteGroup(f.groupId,P.uid).pipe(Z(()=>pr({groupId:f.groupId})),ht(x=>K(ci({error:x.message})))):K(ci({error:"User not authenticated"}))))))),this.loadTransactions$=Lt(()=>this.actions$.pipe(Ut(pn),tt(f=>J(this.userService.getCurrentUser()).pipe(tt(P=>P!=null&&P.uid?this.splitwiseService.getGroupTransactions(f.groupId,P.uid).pipe(Z(x=>fr({transactions:x||[]})),ht(x=>K(li({error:x.message})))):K(li({error:"User not authenticated"}))))))),this.loadSettlements$=Lt(()=>this.actions$.pipe(Ut(fn),tt(f=>J(this.userService.getCurrentUser()).pipe(tt(P=>P!=null&&P.uid?this.splitwiseService.getGroupSettlements(f.groupId,P.uid).pipe(Z(x=>_r({settlements:x||[]})),ht(x=>K(ui({error:x.message})))):K(ui({error:"User not authenticated"}))))))),this.createSplitTransaction$=Lt(()=>this.actions$.pipe(Ut(br),tt(f=>J(this.userService.getCurrentUser()).pipe(tt(P=>P!=null&&P.uid?this.splitwiseService.createSplitTransaction(f.request,P.uid).pipe(Z(x=>yr({transaction:x})),ht(x=>K(di({error:x.message})))):K(di({error:"User not authenticated"}))))))),this.removeMember$=Lt(()=>this.actions$.pipe(Ut(xe),tt(f=>J(this.userService.getCurrentUser()).pipe(tt(P=>P!=null&&P.uid?J(this.splitwiseService.removeMemberFromGroup(f.groupId,f.userId,P.uid)).pipe(Z(()=>Cr({groupId:f.groupId})),ht(x=>K(hi({error:x.message})))):K(hi({error:"User not authenticated"})))))))}};e.\u0275fac=function(r){return new(r||e)(H(dl),H(On),H(Xe),H(At),H(Ot))},e.\u0275prov=zt({token:e,factory:e.\u0275fac});let n=e;return n})();function Xh(n,e){if(n&1&&(v(0,"div",0)(1,"div",1),dt(2,"div",2),v(3,"p",3),O(4),w()()()),n&2){let o=F();E(4),at(o.message)}}var Tf=(()=>{let e=class e{constructor(i){this.loaderService=i,this.message="Loading...",this.loading$=this.loaderService.loading$}};e.\u0275fac=function(r){return new(r||e)(k(Aa))},e.\u0275cmp=_t({type:e,selectors:[["app-loader"]],inputs:{message:"message"},standalone:!0,features:[mo],decls:2,vars:3,consts:[[1,"loader-overlay"],[1,"loader"],[1,"spinner"],[1,"loader-message"]],template:function(r,c){r&1&&(W(0,Xh,5,1,"div",0),$e(1,"async")),r&2&&Vt(Ke(1,1,c.loading$)?0:-1)},dependencies:[la],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#f9fafbf2;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9999}.loader[_ngcontent-%COMP%]{background:transparent;border-radius:1rem;padding:2rem;max-width:300px;width:90%;text-align:center;display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-top:4px solid #46777f;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loader-message[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:500;font-size:1.125rem;color:#1f2937;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.loader[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem}.loader-message[_ngcontent-%COMP%]{font-size:1rem}}"]});let n=e;return n})();var Pl=(()=>{let e=class e{constructor(){this.currentLanguage=new na("en"),this.translations={loading:{en:"Loading...",hi:"\u0932\u094B\u0921 \u0939\u094B \u0930\u0939\u093E \u0939\u0948..."},error:{en:"Error",hi:"\u0924\u094D\u0930\u0941\u091F\u093F"},success:{en:"Success",hi:"\u0938\u092B\u0932\u0924\u093E"},cancel:{en:"Cancel",hi:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902"},save:{en:"Save",hi:"\u0938\u0939\u0947\u091C\u0947\u0902"},delete:{en:"Delete",hi:"\u0939\u091F\u093E\u090F\u0902"},edit:{en:"Edit",hi:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},add:{en:"Add",hi:"\u091C\u094B\u0921\u093C\u0947\u0902"},close:{en:"Close",hi:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902"},logout:{en:"Logout",hi:"\u0932\u0949\u0917\u0906\u0909\u091F"},login:{en:"Login",hi:"\u0932\u0949\u0917\u093F\u0928"},signup:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},email:{en:"Email",hi:"\u0908\u092E\u0947\u0932"},password:{en:"Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921"},name:{en:"Name",hi:"\u0928\u093E\u092E"},amount:{en:"Amount",hi:"\u0930\u093E\u0936\u093F"},date:{en:"Date",hi:"\u0924\u093E\u0930\u0940\u0916"},category:{en:"Category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940"},type:{en:"Type",hi:"\u092A\u094D\u0930\u0915\u093E\u0930"},income:{en:"Income",hi:"\u0906\u092F"},expense:{en:"Expense",hi:"\u0916\u0930\u094D\u091A"},total:{en:"Total",hi:"\u0915\u0941\u0932"},balance:{en:"Balance",hi:"\u0936\u0947\u0937 \u0930\u093E\u0936\u093F"},actions:{en:"Actions",hi:"\u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},search:{en:"Search",hi:"\u0916\u094B\u091C\u0947\u0902"},filter:{en:"Filter",hi:"\u092B\u093C\u093F\u0932\u094D\u091F\u0930"},clear:{en:"Clear",hi:"\u0938\u093E\u092B\u093C \u0915\u0930\u0947\u0902"},settings:{en:"Settings",hi:"\u0938\u0947\u091F\u093F\u0902\u0917\u094D\u0938"},dashboard:{en:"Dashboard",hi:"\u0921\u0948\u0936\u092C\u094B\u0930\u094D\u0921"},home:{en:"Home",hi:"\u0939\u094B\u092E"},accounts:{en:"Accounts",hi:"\u0916\u093E\u0924\u0947"},transactions:{en:"Transactions",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928"},categories:{en:"Categories",hi:"\u0936\u094D\u0930\u0947\u0923\u093F\u092F\u093E\u0902"},budgets:{en:"Budgets",hi:"\u092C\u091C\u091F"},goals:{en:"Goals",hi:"\u0932\u0915\u094D\u0937\u094D\u092F"},reports:{en:"Reports",hi:"\u0930\u093F\u092A\u094B\u0930\u094D\u091F\u094D\u0938"},calendar:{en:"Calendar",hi:"\u0915\u0948\u0932\u0947\u0902\u0921\u0930"},notes:{en:"Notes",hi:"\u0928\u094B\u091F\u094D\u0938"},tax:{en:"Tax",hi:"\u0915\u0930"},tools:{en:"Tools",hi:"\u0909\u092A\u0915\u0930\u0923"},moneyManager:{en:`${Kt.APP_NAME}`,hi:"\u092E\u0928\u0940 \u092E\u0948\u0928\u0947\u091C\u0930"},manageFinances:{en:"Manage your finances",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0915\u0930\u0947\u0902"},welcomeBack:{en:"Welcome Back!",hi:"\u0935\u093E\u092A\u0938\u0940 \u092A\u0930 \u0938\u094D\u0935\u093E\u0917\u0924 \u0939\u0948!"},youSpend:{en:"You Spend",hi:"\u0906\u092A\u0915\u093E \u0916\u0930\u094D\u091A"},youEarn:{en:"You Earn",hi:"\u0906\u092A\u0915\u0940 \u0915\u092E\u093E\u0908"},netBalance:{en:"Net Balance",hi:"\u0936\u0941\u0926\u094D\u0927 \u0936\u0947\u0937"},thisMonth:{en:"This Month",hi:"\u0907\u0938 \u092E\u0939\u0940\u0928\u0947"},lastMonth:{en:"Last Month",hi:"\u092A\u093F\u091B\u0932\u0947 \u092E\u0939\u0940\u0928\u0947"},quickActions:{en:"Quick Actions",hi:"\u0924\u094D\u0935\u0930\u093F\u0924 \u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},recentTransactions:{en:"Recent Transactions",hi:"\u0939\u093E\u0932 \u0915\u0947 \u0932\u0947\u0928-\u0926\u0947\u0928"},upcomingBills:{en:"Upcoming Bills",hi:"\u0906\u0917\u093E\u092E\u0940 \u092C\u093F\u0932"},savingsGoal:{en:"Savings Goal",hi:"\u092C\u091A\u0924 \u0932\u0915\u094D\u0937\u094D\u092F"},signIn:{en:"Sign In",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928"},signUp:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},signOut:{en:"Sign Out",hi:"\u0938\u093E\u0907\u0928 \u0906\u0909\u091F"},forgotPassword:{en:"Forgot Password?",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092D\u0942\u0932 \u0917\u090F?"},resetPassword:{en:"Reset Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0930\u0940\u0938\u0947\u091F \u0915\u0930\u0947\u0902"},emailPlaceholder:{en:"Enter your email",hi:"\u0905\u092A\u0928\u093E \u0908\u092E\u0947\u0932 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},passwordPlaceholder:{en:"Enter your password",hi:"\u0905\u092A\u0928\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},confirmPassword:{en:"Confirm Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0915\u0940 \u092A\u0941\u0937\u094D\u091F\u093F \u0915\u0930\u0947\u0902"},namePlaceholder:{en:"Enter your name",hi:"\u0905\u092A\u0928\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},loginSuccess:{en:"Successfully signed in",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},loginError:{en:"Failed to sign in",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},signupSuccess:{en:"Successfully signed up",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},signupError:{en:"Failed to sign up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},sessionExpired:{en:"Session expired. Please sign in again.",hi:"\u0938\u0924\u094D\u0930 \u0938\u092E\u093E\u092A\u094D\u0924 \u0939\u094B \u0917\u092F\u093E\u0964 \u0915\u0943\u092A\u092F\u093E \u092B\u093F\u0930 \u0938\u0947 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902\u0964"},invalidCredentials:{en:"Invalid email or password",hi:"\u0905\u092E\u093E\u0928\u094D\u092F \u0908\u092E\u0947\u0932 \u092F\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921"},passwordMismatch:{en:"Passwords do not match",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092E\u0947\u0932 \u0928\u0939\u0940\u0902 \u0916\u093E\u0924\u0947"},emailRequired:{en:"Email is required",hi:"\u0908\u092E\u0947\u0932 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},passwordRequired:{en:"Password is required",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},nameRequired:{en:"Name is required",hi:"\u0928\u093E\u092E \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},addTransaction:{en:"Add Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0947\u0902"},editTransaction:{en:"Edit Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},deleteTransaction:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},transactionHistory:{en:"Transaction History",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0907\u0924\u093F\u0939\u093E\u0938"},manageTransactions:{en:"Manage and track your financial transactions",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924\u0940\u092F \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0914\u0930 \u091F\u094D\u0930\u0948\u0915\u093F\u0902\u0917 \u0915\u0930\u0947\u0902"},payee:{en:"Payee",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E"},payeePlaceholder:{en:"Enter payee name",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E \u0915\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},amountPlaceholder:{en:"Enter amount",hi:"\u0930\u093E\u0936\u093F \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},categoryPlaceholder:{en:"Select category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940 \u091A\u0941\u0928\u0947\u0902"},datePlaceholder:{en:"Select date",hi:"\u0924\u093E\u0930\u0940\u0916 \u091A\u0941\u0928\u0947\u0902"},notesPlaceholder:{en:"Add notes (optional)",hi:"\u0928\u094B\u091F\u094D\u0938 \u091C\u094B\u0921\u093C\u0947\u0902 (\u0935\u0948\u0915\u0932\u094D\u092A\u093F\u0915)"},noTransactions:{en:"No transactions yet",hi:"\u0905\u092D\u0940 \u0924\u0915 \u0915\u094B\u0908 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0928\u0939\u0940\u0902"},noTransactionsMessage:{en:"Start by adding your first transaction to track your finances.",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u091F\u094D\u0930\u0948\u0915 \u0930\u0916\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0905\u092A\u0928\u093E \u092A\u0939\u0932\u093E \u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0915\u0930 \u0936\u0941\u0930\u0942 \u0915\u0930\u0947\u0902\u0964"},transactionAdded:{en:"Transaction added successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u091C\u094B\u0921\u093C\u093E \u0917\u092F\u093E"},transactionUpdated:{en:"Transaction updated successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0905\u092A\u0921\u0947\u091F \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},transactionDeleted:{en:"Transaction deleted successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},confirmDelete:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},confirmDeleteMessage:{en:"Are you sure you want to delete this transaction?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0907\u0938 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u094B \u0939\u091F\u093E\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"},networkError:{en:"Network error. Please check your connection.",hi:"\u0928\u0947\u091F\u0935\u0930\u094D\u0915 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0915\u0928\u0947\u0915\u094D\u0936\u0928 \u091C\u093E\u0902\u091A\u0947\u0902\u0964"},serverError:{en:"Server error. Please try again later.",hi:"\u0938\u0930\u094D\u0935\u0930 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u092C\u093E\u0926 \u092E\u0947\u0902 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},validationError:{en:"Please check your input and try again.",hi:"\u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0907\u0928\u092A\u0941\u091F \u091C\u093E\u0902\u091A\u0947\u0902 \u0914\u0930 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},dataSaved:{en:"Data saved successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u0939\u0947\u091C\u093E \u0917\u092F\u093E"},dataDeleted:{en:"Data deleted successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},changesDiscarded:{en:"Changes discarded",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917 \u0926\u093F\u090F \u0917\u090F"},unsavedChanges:{en:"You have unsaved changes",hi:"\u0906\u092A\u0915\u0947 \u092A\u093E\u0938 \u0905\u0938\u0939\u0947\u091C\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0939\u0948\u0902"},confirmDiscard:{en:"Discard Changes",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0947\u0902"},confirmDiscardMessage:{en:"Are you sure you want to discard your changes?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0905\u092A\u0928\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"}};let i=localStorage.getItem("app_language");i&&(i==="en"||i==="hi")?this.currentLanguage.next(i):navigator.language.split("-")[0]==="hi"&&this.currentLanguage.next("hi")}getCurrentLanguage(){return this.currentLanguage.asObservable()}getCurrentLanguageValue(){return this.currentLanguage.value}setLanguage(i){this.currentLanguage.next(i),localStorage.setItem("app_language",i)}translate(i){let r=this.translations[i];return r&&(r[this.currentLanguage.value]||r.en)||i}translateWithParams(i,r){let c=this.translate(i);return Object.keys(r).forEach(u=>{c=c.replace(`{{${u}}}`,r[u])}),c}getAvailableLanguages(){return[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"\u0939\u093F\u0902\u0926\u0940"}]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=zt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Df=(()=>{let e=class e{constructor(i){this.translationService=i}transform(i,r){return r?this.translationService.translateWithParams(i,r):this.translationService.translate(i)}};e.\u0275fac=function(r){return new(r||e)(k(Pl,16))},e.\u0275pipe=zi({name:"translate",type:e,pure:!0,standalone:!0});let n=e;return n})();var Nf=(()=>{let e=class e{transform(i,r){if(i==null||i==="")return this.formatCurrency(0,r);let c=typeof i=="string"?parseFloat(i):i;return isNaN(c)?"Invalid amount":this.formatCurrency(c,r)}formatCurrency(i,r){let{currency:c=Kt.CURRENCY.DEFAULT,locale:u=Kt.LANGUAGE.DEFAULT,showSymbol:d=!0,showCode:f=!1,decimalPlaces:P,compact:x=!1,signDisplay:U="auto",notation:A="standard"}=r||{},D=this.getCurrencyConfig(c),V=i%1!==0,ut=P!==void 0?V?P:0:V?D.decimalPlaces:0,Y=P!==void 0?P:D.decimalPlaces,gt={style:"currency",currency:c,minimumFractionDigits:ut,maximumFractionDigits:Y,signDisplay:U,notation:x?"compact":A};d?f&&(gt.currencyDisplay="narrowSymbol"):gt.currencyDisplay="code";try{return new Intl.NumberFormat(u,gt).format(i)}catch(xt){return console.error("Currency formatting error:",xt),this.fallbackFormat(i,c,D)}}getCurrencyConfig(i){let r=i;return{symbol:Kt.CURRENCY.SYMBOLS[r]||i,decimalPlaces:Kt.CURRENCY.DECIMAL_PLACES[r]||2}}fallbackFormat(i,r,c){let u=c.symbol,d=i%1===0?i.toFixed(0):i.toFixed(c.decimalPlaces);return`${u}${d}`}static getCurrencySymbol(i){let r=i;return Kt.CURRENCY.SYMBOLS[r]||i}static getDecimalPlaces(i){let r=i;return Kt.CURRENCY.DECIMAL_PLACES[r]||2}static isSupportedCurrency(i){return Kt.CURRENCY.SUPPORTED.includes(i)}static getSupportedCurrencies(){return Kt.CURRENCY.SUPPORTED}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=zi({name:"currency",type:e,pure:!0,standalone:!0});let n=e;return n})();var E_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Yt({type:e}),e.\u0275inj=Wt({providers:[On],imports:[qi,da,ha,Qn,il,Ra,rl,Pa,Ma,Ea,Ta,Da,Sa,Oa,Ia,Na,Fa,ar,ka,ga.forFeature("splitwise",vl),yl.forFeature([wl])]});let n=e;return n})();export{Ct as a,Df as b,un as c,dn as d,mn as e,gn as f,br as g,Jc as h,On as i,dd as j,Nf as k,ru as l,tm as m,em as n,rl as o,Lt as p,dl as q,Ut as r,yl as s,Tf as t,E_ as u};

import{$ as Bi,$d as Me,A as Fi,Bb as Ge,Bc as Wi,C as le,Cb as it,Cd as ro,D as zi,Db as oi,Dd as Yt,E as Ui,Eb as H,Ec as Qt,Ed as fe,F as me,Fd as co,Gb as X,Hb as gt,Ic as Ki,J as Ni,Jc as fn,K as Ri,Kb as ge,Kc as Xi,Lb as pt,Lc as Zi,M as Gi,N as de,O as Li,Ob as ut,Od as so,P as ji,Pb as at,Pc as lt,Qb as Qi,Qd as lo,Rd as mo,Sc as _t,Sd as Mn,T as x,Tc as Ji,Td as On,U as y,Ud as Pn,Vc as to,Vd as go,Xc as eo,Yc as no,Yd as po,Zb as ai,Zd as be,_d as Ce,ae as xn,ba as st,be as Oe,ca as j,cc as bt,cd as io,ce as uo,da as _n,dd as bn,ea as ni,ee as _o,fa as ii,fe as vn,ga as Vi,ge as wn,ha as w,he as ho,ia as $i,ie as fo,j as un,l as oe,lc as Yi,nd as zt,o as Re,p as Ai,q as Di,qc as qi,qd as ot,r as ae,rc as pe,rd as oo,sc as ue,sd as Pt,t as L,td as ao,u as re,ub as nt,v as ce,vd as _e,wd as he,xd as Cn,yb as dt,yc as hn,yd as xt,z as se,zb as Hi}from"./chunk-BDW4GXKK.js";import{$b as r,Aa as B,Ad as Ei,Ba as J,Bd as gn,Ca as Tt,Da as ln,Dc as Ht,Ec as Dt,Ed as Ti,F as Fe,Fd as pn,H as yt,Hb as yi,J as V,Ja as mn,Jc as St,Ka as T,Kc as ie,La as A,Lb as Xn,Lc as ei,Ma as Wn,N as cn,Nb as At,Nd as ri,O as bi,Od as ci,Pa as dn,Qb as P,Qd as Le,R as Ci,Ra as vi,Rb as Mt,Rd as je,Sb as _,T as Mi,Tb as ki,Td as si,Ub as q,Vb as ee,W as qn,Wa as ze,Xb as $,Ya as K,Z as Oi,Zb as Zn,_b as Jn,a as rn,ac as s,bc as E,bd as It,c as _i,cb as Kn,f as ft,fa as Pi,fc as G,g as hi,gd as tt,ha as kt,hd as Si,ic as M,kc as b,l as fi,lc as ne,mc as Ot,oa as xi,oc as Ue,p as z,pa as mt,pb as jt,pc as Ne,pd as Ii,q as I,qa as Z,qc as Bt,rc as Vt,sa as W,ua as R,ub as p,uc as $t,v as N,va as sn,vb as h,vc as d,wc as S,x as U,xb as wi,xc as k,xd as Ft,yc as ti,yd as et}from"./chunk-6PX2HEG6.js";import{a as C,b as O,k as Y}from"./chunk-LKDXID24.js";var li=_n("profile"),xa=j(li,n=>n.profile),Dc=j(li,n=>n.loading),Fc=j(li,n=>n.error),Pe=j(xa,n=>n==null?void 0:n.preferences),mi=j(Pe,n=>n==null?void 0:n.defaultCurrency),zc=j(Pe,n=>n==null?void 0:n.language),Uc=j(Pe,n=>n==null?void 0:n.timezone),Nc=j(Pe,n=>n==null?void 0:n.notifications),Rc=j(Pe,n=>n==null?void 0:n.emailUpdates),Gc=j(Pe,n=>n==null?void 0:n.budgetAlerts);function wa(n,o){n&1&&E(0,"mat-spinner",23)}function ya(n,o){n&1&&(r(0,"p",16),d(1,"Group name is required"),s())}function ka(n,o){n&1&&(r(0,"p",16),d(1,"Group name must be at least 2 characters"),s())}function Sa(n,o){n&1&&(r(0,"p",16),d(1,"Group name must not exceed 50 characters"),s())}function Ia(n,o){n&1&&(r(0,"p",16),d(1,"Description must not exceed 200 characters"),s())}var Mo=(()=>{let o=class o{constructor(t,e,i,a){this.fb=t,this.dialogRef=e,this.auth=i,this.store=a,this.isSubmitting=!1,this.userCurrency$=this.store.select(mi),this.groupForm=this.fb.group({name:["",[L.required,L.minLength(2),L.maxLength(50)]],description:["",[L.maxLength(200)]],initialMembers:[[]]})}ngOnInit(){}onSubmit(){return Y(this,null,function*(){var t;if(this.groupForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let e=this.groupForm.value,i=this.store.select(mi),a="USD";i.subscribe(m=>{m&&(a=m)}).unsubscribe();let l={name:e.name.trim(),description:((t=e.description)==null?void 0:t.trim())||"",currency:a,initialMembers:e.initialMembers||[]};this.dialogRef.close(l)}catch(e){console.error("Error creating group:",e)}finally{this.isSubmitting=!1}}else this.groupForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(t){var i,a;let e=this.groupForm.get(t);return e!=null&&e.hasError("required")?`${t.charAt(0).toUpperCase()+t.slice(1)} is required`:e!=null&&e.hasError("minlength")?`${t.charAt(0).toUpperCase()+t.slice(1)} must be at least ${(i=e.errors)==null?void 0:i.minlength.requiredLength} characters`:e!=null&&e.hasError("maxlength")?`${t.charAt(0).toUpperCase()+t.slice(1)} must not exceed ${(a=e.errors)==null?void 0:a.maxlength.requiredLength} characters`:""}};o.\u0275fac=function(e){return new(e||o)(h(de),h(he),h(nt),h(st))},o.\u0275cmp=B({type:o,selectors:[["app-create-group-dialog"]],decls:55,vars:10,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Create Group",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"group-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","text","formControlName","name","placeholder","Enter group name","autofocus","","maxlength","50",1,"form-input"],[1,"field-footer"],[1,"error-message"],[1,"character-count"],["formControlName","description","placeholder","Describe your group","maxlength","200","rows","3",1,"form-input"],[1,"info-section"],[1,"info-icon"],[1,"info-content"],[1,"bottom-spacing"],["diameter","16"]],template:function(e,i){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),M("click",function(){return i.onCancel()}),r(4,"mat-icon"),d(5,"arrow_back"),s()(),r(6,"h6",4),d(7," Create New Group "),s()(),r(8,"button",5),M("click",function(){return i.onCancel()}),r(9,"mat-icon"),d(10,"close"),s()(),r(11,"button",6),M("click",function(){return i.onSubmit()}),P(12,wa,1,0,"mat-spinner",7),d(13),s()()(),r(14,"div",8)(15,"div",9)(16,"form",10),M("ngSubmit",function(){return i.onSubmit()}),r(17,"div",11)(18,"label",12)(19,"mat-icon",13),d(20,"group"),s(),d(21," Group Name * "),s(),E(22,"input",14),r(23,"div",15),P(24,ya,2,0,"p",16)(25,ka,2,0,"p",16)(26,Sa,2,0,"p",16),r(27,"span",17),d(28),s()()(),r(29,"div",11)(30,"label",12)(31,"mat-icon",13),d(32,"description"),s(),d(33," Description (Optional) "),s(),E(34,"textarea",18),r(35,"div",15),P(36,Ia,2,0,"p",16),r(37,"span",17),d(38),s()()(),r(39,"div",19)(40,"mat-icon",20),d(41,"info"),s(),r(42,"div",21)(43,"h4"),d(44,"What happens next?"),s(),r(45,"ul")(46,"li"),d(47,"You'll be added as the group admin"),s(),r(48,"li"),d(49,"You can invite friends by email"),s(),r(50,"li"),d(51,"Start adding shared expenses"),s(),r(52,"li"),d(53,"Track who owes what to whom"),s()()()(),E(54,"div",22),s()()()),e&2){let a,l,m,g,u,f;p(11),_("disabled",i.groupForm.invalid||i.isSubmitting),p(),_("ngIf",i.isSubmitting),p(),k(" ",i.isSubmitting?"Creating...":"Create"," "),p(3),_("formGroup",i.groupForm),p(8),$((a=i.groupForm.get("name"))!=null&&a.hasError("required")&&((a=i.groupForm.get("name"))!=null&&a.touched)?24:-1),p(),$((l=i.groupForm.get("name"))!=null&&l.hasError("minlength")&&((l=i.groupForm.get("name"))!=null&&l.touched)?25:-1),p(),$((m=i.groupForm.get("name"))!=null&&m.hasError("maxlength")&&((m=i.groupForm.get("name"))!=null&&m.touched)?26:-1),p(2),k(" ",((g=i.groupForm.get("name"))==null||g.value==null?null:g.value.length)||0,"/50 "),p(8),$((u=i.groupForm.get("description"))!=null&&u.hasError("maxlength")&&((u=i.groupForm.get("description"))!=null&&u.touched)?36:-1),p(2),k(" ",((f=i.groupForm.get("description"))==null||f.value==null?null:f.value.length)||0,"/200 ")}},dependencies:[et,se,ae,re,ce,Gi,le,me,lt,_t,ot,Pt,fe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease;resize:vertical}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{font-size:.7rem}}.info-section[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.25rem;background:#f8f9fa;border-radius:12px;border-left:4px solid #3b82f6;margin-top:.5rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;gap:.75rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px;gap:.5rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{background:#1f2937;border-left-color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.5rem;width:1.5rem;height:1.5rem;margin-top:.125rem;flex-shrink:0}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{flex:1}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#1f2937;font-weight:600;font-size:1rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:.5rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.375rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem;color:#6b7280}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:.875rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#9ca3af}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.375rem;font-size:.875rem;line-height:1.4}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.25rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.125rem}}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let n=o;return n})();var ve=x("[Splitwise] Load Groups"),kn=x("[Splitwise] Load Groups Success",y()),Ve=x("[Splitwise] Load Groups Failure",y()),Et=x("[Splitwise] Load Group by ID",y()),Sn=x("[Splitwise] Load Group by ID Success",y()),$e=x("[Splitwise] Load Group by ID Failure",y()),we=x("[Splitwise] Load Invitations"),In=x("[Splitwise] Load Invitations Success",y()),He=x("[Splitwise] Load Invitations Failure",y()),ye=x("[Splitwise] Create Group",y()),En=x("[Splitwise] Create Group Success",y()),Qe=x("[Splitwise] Create Group Failure",y()),vt=x("[Splitwise] Add Member",y()),Tn=x("[Splitwise] Add Member Success",y()),Ye=x("[Splitwise] Add Member Failure",y()),ke=x("[Splitwise] Accept Invitation",y()),An=x("[Splitwise] Accept Invitation Success",y()),qe=x("[Splitwise] Accept Invitation Failure",y()),Se=x("[Splitwise] Decline Invitation",y()),Dn=x("[Splitwise] Decline Invitation Success",y()),We=x("[Splitwise] Decline Invitation Failure",y()),Ut=x("[Splitwise] Delete Group",y()),Fn=x("[Splitwise] Delete Group Success",y()),Ke=x("[Splitwise] Delete Group Failure",y()),Oo=x("[Splitwise] Select Group",y()),Zt=x("[Splitwise] Load Transactions",y()),zn=x("[Splitwise] Load Transactions Success",y()),Xe=x("[Splitwise] Load Transactions Failure",y()),Jt=x("[Splitwise] Load Settlements",y()),Un=x("[Splitwise] Load Settlements Success",y()),Ze=x("[Splitwise] Load Settlements Failure",y()),Nn=x("[Splitwise] Create Split Transaction",y()),Rn=x("[Splitwise] Create Split Transaction Success",y()),Je=x("[Splitwise] Create Split Transaction Failure",y()),Gn=x("[Splitwise] Update Split Transaction",y()),Ln=x("[Splitwise] Update Split Transaction Success",y()),tn=x("[Splitwise] Update Split Transaction Failure",y()),Ie=x("[Splitwise] Create Settlement",y()),jn=x("[Splitwise] Create Settlement Success",y()),en=x("[Splitwise] Create Settlement Failure",y()),Nt=x("[Splitwise] Remove Member",y()),Bn=x("[Splitwise] Remove Member Success",y()),nn=x("[Splitwise] Remove Member Failure",y()),Rt=x("[Splitwise] Clear Error");var Gt=_n("splitwise"),Ee=j(Gt,n=>n),Ea=j(Gt,n=>n.groups),Ta=j(Gt,n=>n.invitations),Aa=j(Gt,n=>n.transactions),Da=j(Gt,n=>n.settlements),Vn=j(Gt,n=>n.selectedGroup),Hc=j(Gt,n=>n.loading),Qc=j(Gt,n=>n.error),Yc=j(Ea,n=>n.filter(o=>o.isActive)),qc=j(Ta,n=>n.filter(o=>o.status==="pending")),Wc=j(Aa,Vn,(n,o)=>o?n.filter(c=>c.groupId===o.id):[]),Kc=j(Da,Vn,(n,o)=>o?n.filter(c=>c.groupId===o.id):[]),Xc=j(Vn,n=>(n==null?void 0:n.members.filter(o=>o.isActive).length)||0),Zc=j(Vn,n=>"");var te=function(n){return n.ADMIN="admin",n.MEMBER="member",n}(te||{}),an=function(n){return n.PENDING="pending",n.COMPLETED="completed",n.CANCELLED="cancelled",n}(an||{}),Te=function(n){return n.PENDING="pending",n.ACCEPTED="accepted",n.DECLINED="declined",n.EXPIRED="expired",n}(Te||{});function Fa(n,o){n&1&&E(0,"mat-spinner",21)}function za(n,o){n&1&&(r(0,"p",16),d(1,"Email is required"),s())}function Ua(n,o){n&1&&(r(0,"p",16),d(1,"Please enter a valid email address"),s())}function Na(n,o){n&1&&(r(0,"p",16),d(1,"This person is already a member of the group"),s())}function Ra(n,o){if(n&1&&(r(0,"p",22),d(1),s()),n&2){let c=b();q("user-found",c.userExists)("user-not-found",!c.userExists&&!c.checkingUser),p(),k(" ",c.getUserStatusText()," ")}}function Ga(n,o){if(n&1&&E(0,"img",31),n&2){let c=b().$implicit;_("src",c.photoURL,jt)("alt",c.displayName)}}function La(n,o){n&1&&(r(0,"mat-icon"),d(1,"person"),s())}function ja(n,o){if(n&1){let c=G();r(0,"div",23)(1,"div",24),P(2,Ga,1,2,"img",25)(3,La,2,0,"mat-icon",26),s(),r(4,"div",27)(5,"span",28),d(6),s(),r(7,"span",29),d(8),s()(),r(9,"button",30),M("click",function(){let e=T(c).$implicit,i=b();return A(i.onDeleteMember(e.userId))}),r(10,"mat-icon"),d(11,"delete"),s()()()}if(n&2){let c=o.$implicit;p(2),_("ngIf",c.photoURL),p(),_("ngIf",!c.photoURL),p(3),S(c.displayName),p(2),S(c.email)}}var Ae=(()=>{let o=class o{constructor(t,e,i,a,l,m){this.fb=t,this.dialogRef=e,this.data=i,this.auth=a,this.userService=l,this.dialog=m,this.isSubmitting=!1,this.userExists=!1,this.checkingUser=!1,this.group=i.group,this.memberForm=this.fb.group({email:["",[L.required,L.email]]})}ngOnInit(){setTimeout(()=>{let t=document.querySelector('input[formControlName="email"]');t&&t.focus()},100)}onEmailChange(){return Y(this,null,function*(){var e,i,a;let t=(e=this.memberForm.get("email"))==null?void 0:e.value;if(t&&this.isEmailAlreadyMember(t)){(i=this.memberForm.get("email"))==null||i.setErrors({alreadyMember:!0}),this.userExists=!1;return}if(t&&((a=this.memberForm.get("email"))!=null&&a.valid)){this.checkingUser=!0;try{let l=yield this.userService.findUserByEmail(t);this.userExists=!!l}catch(l){console.error("Error checking user:",l),this.userExists=!1}finally{this.checkingUser=!1}}else this.userExists=!1})}onSubmit(){return Y(this,null,function*(){if(this.memberForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let e={email:this.memberForm.value.email.trim().toLowerCase(),role:te.MEMBER};this.dialogRef.close(e)}catch(t){console.error("Error adding member:",t)}finally{this.isSubmitting=!1}}else this.memberForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(t){let e=this.memberForm.get(t);return e!=null&&e.hasError("required")?`${t.charAt(0).toUpperCase()+t.slice(1)} is required`:e!=null&&e.hasError("email")?"Please enter a valid email address":e!=null&&e.hasError("alreadyMember")?"This user is already a member of this group":""}isEmailAlreadyMember(t){return this.group.members.some(e=>e.email.toLowerCase()===t.toLowerCase())}getRoleDisplayName(t){return{admin:"Admin",member:"Member"}[t]||t}getUserStatusText(){var e,i;return this.checkingUser?"Checking if user exists...":this.userExists?"\u2713 User found in system - invitation will be sent immediately":((e=this.memberForm.get("email"))==null?void 0:e.value)&&((i=this.memberForm.get("email"))!=null&&i.valid)?"\u2139 User not found - invitation will be sent when they register":""}onDeleteMember(t){this.dialog.open(Yt,{data:{title:"Delete Member",message:"Are you sure you want to delete this member? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(e=>{e&&this.dialogRef.close({action:"delete",userId:t})})}};o.\u0275fac=function(e){return new(e||o)(h(de),h(he),h(Cn),h(nt),h(_e),h(xt))},o.\u0275cmp=B({type:o,selectors:[["app-add-member-dialog"]],decls:36,vars:10,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Add Member",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"member-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","email","formControlName","email","placeholder","Enter member's email address","autofocus","",1,"form-input",3,"input"],[1,"field-footer"],[1,"error-message"],[1,"status-message",3,"user-found","user-not-found"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"bottom-spacing"],["diameter","16"],[1,"status-message"],[1,"member-item"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],["mat-icon-button","",3,"click"],[3,"src","alt"]],template:function(e,i){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),M("click",function(){return i.onCancel()}),r(4,"mat-icon"),d(5,"arrow_back"),s()(),r(6,"h6",4),d(7," Add Member "),s()(),r(8,"button",5),M("click",function(){return i.onCancel()}),r(9,"mat-icon"),d(10,"close"),s()(),r(11,"button",6),M("click",function(){return i.onSubmit()}),P(12,Fa,1,0,"mat-spinner",7),d(13),s()()(),r(14,"div",8)(15,"div",9)(16,"form",10),M("ngSubmit",function(){return i.onSubmit()}),r(17,"div",11)(18,"label",12)(19,"mat-icon",13),d(20,"email"),s(),d(21," Email Address * "),s(),r(22,"input",14),M("input",function(){return i.onEmailChange()}),s(),r(23,"div",15),P(24,za,2,0,"p",16)(25,Ua,2,0,"p",16)(26,Na,2,0,"p",16)(27,Ra,2,5,"p",17),s()(),r(28,"div",11)(29,"label",12)(30,"mat-icon",13),d(31,"people"),s(),d(32),s(),r(33,"div",18),P(34,ja,12,4,"div",19),s()(),E(35,"div",20),s()()()),e&2){let a,l,m;p(11),_("disabled",i.memberForm.invalid||i.isSubmitting),p(),_("ngIf",i.isSubmitting),p(),k(" ",i.isSubmitting?"Adding...":"Add"," "),p(3),_("formGroup",i.memberForm),p(8),$((a=i.memberForm.get("email"))!=null&&a.hasError("required")&&((a=i.memberForm.get("email"))!=null&&a.touched)?24:-1),p(),$((l=i.memberForm.get("email"))!=null&&l.hasError("email")&&((l=i.memberForm.get("email"))!=null&&l.touched)?25:-1),p(),$((m=i.memberForm.get("email"))!=null&&m.hasError("alreadyMember")&&((m=i.memberForm.get("email"))!=null&&m.touched)?26:-1),p(),$(i.getUserStatusText()?27:-1),p(5),k(" Current Members (",i.group.members.length,") "),p(2),_("ngForOf",i.group.members)}},dependencies:[Ft,et,se,ae,re,ce,le,me,lt,_t,ot,Pt,fe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.75rem;margin:.25rem 0 0;display:flex;align-items:center;gap:.25rem;padding:.5rem;border-radius:6px;font-weight:500}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#059669;background-color:#d1fae5;border:1px solid #a7f3d0}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#6ee7b7;background-color:#064e3b;border-color:#047857}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#d97706;background-color:#fef3c7;border:1px solid #fde68a}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#fbbf24;background-color:#451a03;border-color:#92400e}.members-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;border:1px solid #e5e7eb;border-radius:8px;background:#f9fafb}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]{max-height:250px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]{max-height:200px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;border-bottom:1px solid #e5e7eb;background:#fff}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.75rem;gap:.5rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.625rem;gap:.375rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center;overflow:hidden;flex-shrink:0}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:36px;height:36px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:32px;height:32px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{background:#374151}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:20px;width:20px;height:20px}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#374151;font-weight:500;font-size:.875rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#f3f4f6}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.65rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#9ca3af}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem;height:24px;font-weight:500}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.7rem;height:22px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.65rem;height:20px}}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let n=o;return n})();function $a(n,o){if(n&1){let c=G();r(0,"button",15),M("click",function(e){T(c);let i=b();return A(i.onDeleteGroup(e))}),r(1,"mat-icon"),d(2,"delete"),s(),r(3,"span"),d(4,"Delete Group"),s()()}}var vo=(()=>{let o=class o{constructor(t,e,i){this.router=t,this.auth=e,this.dialog=i,this.isSelected=!1,this.isMobile=!1,this.groupSelected=new K,this.addMember=new K,this.deleteGroup=new K}onGroupClick(){this.router.navigate(["dashboard/splitwise/group",this.group.id])}openAddMemberDialog(t){t.stopPropagation(),this.dialog.open(Ae,{width:this.isMobile?"90vw":"400px",maxWidth:this.isMobile?"400px":"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(i=>{i&&this.addMember.emit({groupId:this.group.id,request:i})})}onDeleteGroup(t){t.stopPropagation(),this.deleteGroup.emit(this.group)}getGroupMemberCount(){return this.group.members.filter(t=>t.isActive).length}getCurrentUserRole(){let t=this.auth.currentUser;if(!t)return"";let e=this.group.members.find(i=>i.userId===t.uid);return(e==null?void 0:e.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}formatDate(t){return t?(t.toDate?t.toDate():new Date(t)).toLocaleDateString():""}formatCurrency(t,e="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(t)}};o.\u0275fac=function(e){return new(e||o)(h(oe),h(nt),h(xt))},o.\u0275cmp=B({type:o,selectors:[["app-group"]],inputs:{group:"group",isSelected:"isSelected",isMobile:"isMobile"},outputs:{groupSelected:"groupSelected",addMember:"addMember",deleteGroup:"deleteGroup"},decls:28,vars:12,consts:[["groupMenu","matMenu"],[1,"group-item",3,"click"],[1,"group-info"],[1,"group-header"],[1,"group-title-section"],[1,"group-name"],[1,"group-meta"],[1,"member-count"],[1,"member-text"],[1,"created-date"],[1,"group-actions"],["mat-icon-button","",1,"menu-trigger",3,"click","matMenuTriggerFor"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"]],template:function(e,i){if(e&1){let a=G();r(0,"div",1),M("click",function(){return T(a),A(i.onGroupClick())}),r(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),d(5),St(6,"titlecase"),s(),r(7,"div",6)(8,"span",7)(9,"mat-icon"),d(10,"people"),s(),r(11,"span",8),d(12),s()(),r(13,"span",9),d(14),s()()()()(),r(15,"div",10)(16,"button",11),M("click",function(m){return T(a),A(m.stopPropagation())}),r(17,"mat-icon"),d(18,"more_vert"),s()(),r(19,"mat-menu",12,0)(21,"button",13),M("click",function(m){return T(a),A(i.openAddMemberDialog(m))}),r(22,"mat-icon"),d(23,"person_add"),s(),r(24,"span"),d(25,"Add Member"),s()(),E(26,"mat-divider"),P(27,$a,5,0,"button",14),s()()()}if(e&2){let a=$t(20);q("selected",i.isSelected)("mobile",i.isMobile),p(5),S(ie(6,10,i.group.name)),p(7),k("",i.getGroupMemberCount()," members"),p(2),k("Created ",i.formatDate(i.group.createdAt),""),p(2),_("matMenuTriggerFor",a),Mt("aria-label","More options for "+i.group.name),p(11),_("ngIf",i.canManageGroup())}},dependencies:[et,vn,_t,ot,On,Mn,Pn,gn],styles:[".group-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:16px;border:1px solid #e0e0e0;border-radius:12px;margin-bottom:12px;cursor:pointer;transition:all .2s ease;background:#fff;position:relative;min-height:80px}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;box-shadow:0 4px 12px #1976d226;transform:translateY(-1px)}.group-item.selected[_ngcontent-%COMP%]{border-color:#1976d2;background:#f3f8ff;box-shadow:0 4px 12px #1976d233}.group-item.mobile[_ngcontent-%COMP%]{padding:12px;min-height:70px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{flex:1;min-width:0;margin-right:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.1rem;font-weight:600;color:#333;line-height:1.3;word-break:break-word}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.8rem;color:#666;font-weight:500}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#1976d2}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   .member-text[_ngcontent-%COMP%]{white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.75rem;color:#999;white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:flex-start}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d20a}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#f443360a}@media (max-width: 768px){.group-item[_ngcontent-%COMP%]{padding:12px;margin-bottom:8px;min-height:70px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{margin-right:8px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px;flex-direction:row;align-items:center}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 480px){.group-item[_ngcontent-%COMP%]{padding:10px;min-height:65px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:4px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.65rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:28px;height:28px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}@media (prefers-color-scheme: dark){.group-item[_ngcontent-%COMP%]{background:#2d2d2d;border-color:#404040;color:#e0e0e0}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;background:#3a3a3a}.group-item.selected[_ngcontent-%COMP%]{background:#1a3a5f;border-color:#1976d2}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{color:#e0e0e0}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{color:#b0b0b0}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{color:#888}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{color:#b0b0b0}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d21a}}"]});let n=o;return n})();var ko=(n,o)=>o.id;function Qa(n,o){if(n&1){let c=G();r(0,"div",17)(1,"div",18)(2,"div",19)(3,"h4"),d(4),s(),r(5,"p"),d(6),s(),r(7,"small"),d(8),s()(),r(9,"div",20)(10,"button",21),M("click",function(){let e=T(c).$implicit,i=b(2);return A(i.acceptInvitation(e))}),r(11,"mat-icon"),d(12,"check"),s(),d(13," Accept "),s(),r(14,"button",22),M("click",function(){let e=T(c).$implicit,i=b(2);return A(i.declineInvitation(e))}),r(15,"mat-icon"),d(16,"close"),s(),d(17," Decline "),s()()()()}if(n&2){let c=o.$implicit,t=b(2);p(4),S(c.groupName),p(2),k("Invited by ",c.invitedByDisplayName,""),p(2),S(t.formatDate(c.createdAt))}}function Ya(n,o){if(n&1&&(r(0,"div",14)(1,"mat-card",15)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),d(5,"mail"),s(),d(6," Pending Invitations "),s()(),r(7,"mat-card-content")(8,"div",16),Zn(9,Qa,18,3,"div",17,ko),s()()()()),n&2){let c=b();p(9),Jn(c.invitations)}}function qa(n,o){if(n&1){let c=G();r(0,"app-group",23),M("addMember",function(e){T(c);let i=b();return A(i.handleAddMember(e))})("deleteGroup",function(e){T(c);let i=b();return A(i.deleteGroup(e))}),s()}if(n&2){let c=o.$implicit,t=b();_("group",c)("isSelected",!1)("isMobile",t.isMobile)}}var So=(()=>{let o=class o{constructor(t,e,i,a,l){this.breakpointObserver=t,this.auth=e,this.store=i,this.dialog=a,this.notificationService=l,this.groups=[],this.invitations=[],this.isMobile=!1,this.currentUser=null,this.error=null,this.destroy$=new ft,this.breakpointObserver.observe([ue.Handset]).pipe(kt(this.destroy$)).subscribe(m=>{this.isMobile=m.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.loadData(),this.subscribeToStore()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(Ee).pipe(kt(this.destroy$)).subscribe(t=>{this.groups=t.groups,this.invitations=t.invitations,this.error=t.error,this.error&&(this.notificationService.error(this.error),this.store.dispatch(Rt()))})}loadData(){this.store.dispatch(ve()),this.store.dispatch(we())}openCreateGroupDialog(){this.dialog.open(Mo,{width:this.isMobile?"90vw":"500px",maxWidth:this.isMobile?"500px":"90vw",disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(e=>{e&&this.store.dispatch(ye({request:e}))})}handleAddMember(t){this.store.dispatch(vt(t))}acceptInvitation(t){this.store.dispatch(ke({invitationId:t.id}))}declineInvitation(t){this.store.dispatch(Se({invitationId:t.id}))}deleteGroup(t){this.dialog.open(Yt,{width:"300px",data:{title:"Delete Group",message:`Are you sure you want to delete the group "${t.name}"?`,confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(e=>{e&&this.store.dispatch(Ut({groupId:t.id}))})}formatDate(t){return t?(t.toDate?t.toDate():new Date(t)).toLocaleDateString():""}formatCurrency(t,e="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(t)}};o.\u0275fac=function(e){return new(e||o)(h(pe),h(nt),h(st),h(xt),h(zt))},o.\u0275cmp=B({type:o,selectors:[["app-splitwise"]],decls:21,vars:1,consts:[[1,"splitwise-container"],[1,"header"],[1,"header-content"],[1,"title-section"],[1,"title-icon"],[1,"title"],[1,"subtitle"],[1,"header-actions"],["mat-raised-button","","color","primary",1,"create-group-btn",3,"click"],[1,"main-content"],["class","invitations-section",4,"ngIf"],[1,"groups-section"],[1,"groups-list"],[3,"group","isSelected","isMobile"],[1,"invitations-section"],[1,"invitations-card"],[1,"invitations-list"],[1,"invitation-item"],[1,"invitation-info"],[1,"invitation-details"],[1,"invitation-actions"],["mat-button","","color","primary",1,"accept-btn",3,"click"],["mat-button","","color","warn",1,"decline-btn",3,"click"],[3,"addMember","deleteGroup","group","isSelected","isMobile"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),d(5,"group"),s(),r(6,"h1",5),d(7,"Splitwise"),s(),r(8,"p",6),d(9,"Split expenses with friends and family"),s()(),r(10,"div",7)(11,"button",8),M("click",function(){return i.openCreateGroupDialog()}),r(12,"mat-icon"),d(13,"add"),s(),d(14," Create Group "),s()()()(),r(15,"div",9),P(16,Ya,11,0,"div",10),r(17,"div",11)(18,"div",12),Zn(19,qa,1,3,"app-group",13,ko),s()()()()),e&2&&(p(16),_("ngIf",i.invitations.length>0),p(3),Jn(i.groups))},dependencies:[et,be,Me,Oe,Ce,lt,ot,vo],styles:[".splitwise-container[_ngcontent-%COMP%]{background:#f9fafb;padding:20px}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}}.header[_ngcontent-%COMP%]{margin-bottom:30px}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));padding:1rem;border-radius:1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#fff}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:2.5rem;font-weight:700}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffffe6;margin:0;font-size:1.1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem}}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;font-weight:600;padding:12px 24px;border-radius:25px;transition:all .3s ease}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;border-color:#ffffff80;transform:translateY(-2px)}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;color:#fff}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.1rem}.main-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.invitations-section[_ngcontent-%COMP%]{margin-bottom:30px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]{padding:15px 0;border-bottom:1px solid #eee}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media (max-width: 768px){.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 5px;color:#666}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#999;font-size:.85rem}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background:#45a049}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]:hover{background:#da190b}.groups-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:30px}@media (max-width: 1024px){.groups-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fffffff2;border-radius:15px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#ccc;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin:0 0 10px;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 30px;font-size:1.1rem}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:12px 24px;border-radius:25px;font-weight:600}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#333;font-weight:600;font-size:1.3rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:30px}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{flex-direction:column}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]{border-color:#667eea;color:#667eea;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;margin:0 0 20px;font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid #eee}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#999;font-size:1.5rem;width:1.5rem;height:1.5rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#333;font-weight:500;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{color:#999;font-size:.8rem;text-transform:capitalize}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]{margin-bottom:20px}.groups-section[_ngcontent-%COMP%]{gap:15px}.details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 480px){.splitwise-container[_ngcontent-%COMP%]{padding:8px}.header[_ngcontent-%COMP%]{margin-bottom:15px}.groups-section[_ngcontent-%COMP%]{gap:10px}}"]});let n=o;return n})();function Wa(n,o){n&1&&E(0,"mat-spinner",33)}function Ka(n,o){n&1&&(r(0,"mat-icon"),d(1,"check"),s())}function Xa(n,o){n&1&&(r(0,"p",19),d(1,"Total amount is required"),s())}function Za(n,o){n&1&&(r(0,"p",19),d(1,"Amount must be greater than 0"),s())}function Ja(n,o){if(n&1&&(r(0,"div",34)(1,"span",35),d(2,"Difference:"),s(),r(3,"span",36),d(4),r(5,"span",37),d(6),s()()()),n&2){let c=b();p(3),q("positive",c.getTotalSplitAmount()>c.totalAmount)("negative",c.getTotalSplitAmount()<c.totalAmount),p(),k(" ",c.formatCurrency(c.Math.abs(c.getTotalSplitAmount()-c.totalAmount))," "),p(2),S(c.getTotalSplitAmount()>c.totalAmount?"Over":"Under")}}function tr(n,o){if(n&1&&E(0,"img",60),n&2){let c,t,e=b().$implicit,i=b();_("src",i.getMemberPhotoURL((c=e.get("userId"))==null?null:c.value),jt)("alt",(t=e.get("displayName"))==null?null:t.value)}}function er(n,o){if(n&1&&(r(0,"div",61),d(1),s()),n&2){let c,t=b().$implicit,e=b();p(),k(" ",e.getMemberInitials((c=t.get("displayName"))==null?null:c.value)," ")}}function nr(n,o){if(n&1){let c=G();r(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",41),P(4,tr,1,2,"img",42)(5,er,2,1,"div",43),s(),r(6,"div",44)(7,"span",45),d(8),s(),r(9,"span",46),d(10),s()()(),r(11,"button",47),M("click",function(){let e=T(c).index,i=b();return A(i.removeSplit(e))}),r(12,"mat-icon"),d(13,"delete"),s()()(),r(14,"div",48)(15,"div",49)(16,"div",50)(17,"label",51),d(18,"Amount"),s(),r(19,"div",52),E(20,"input",53),r(21,"span",54),d(22),s()()(),r(23,"div",50)(24,"label",51),d(25,"Percentage"),s(),r(26,"div",52),E(27,"input",55),r(28,"span",54),d(29,"%"),s()()()(),r(30,"div",56)(31,"label",57),E(32,"input",58),r(33,"span",59),d(34,"Paid"),s()()()()()}if(n&2){let c,t,e,i,a=o.$implicit,l=o.index,m=b();_("formGroupName",l),p(4),_("ngIf",m.getMemberPhotoURL((c=a.get("userId"))==null?null:c.value)),p(),_("ngIf",!m.getMemberPhotoURL((t=a.get("userId"))==null?null:t.value)),p(3),S((e=a.get("displayName"))==null?null:e.value),p(2),S((i=a.get("email"))==null?null:i.value),p(12),S(m.transaction.currency||"USD")}}function ir(n,o){if(n&1&&E(0,"img",60),n&2){let c=b().$implicit;_("src",c.photoURL,jt)("alt",c.displayName)}}function or(n,o){if(n&1&&(r(0,"div",61),d(1),s()),n&2){let c=b().$implicit,t=b(2);p(),k(" ",t.getMemberInitials(c.displayName)," ")}}function ar(n,o){if(n&1){let c=G();r(0,"button",67),M("click",function(){let e=T(c).$implicit,i=b(2);return A(i.addMemberSplit(e))}),r(1,"div",41),P(2,ir,1,2,"img",42)(3,or,2,1,"div",43),s(),r(4,"div",40)(5,"span",45),d(6),s(),r(7,"span",46),d(8),s()(),r(9,"mat-icon",68),d(10,"add"),s()()}if(n&2){let c=o.$implicit;p(2),_("ngIf",c.photoURL),p(),_("ngIf",!c.photoURL),p(3),S(c.displayName),p(2),S(c.email)}}function rr(n,o){if(n&1&&(r(0,"div",62)(1,"div",63)(2,"div",64),d(3,"Available Members"),s(),r(4,"div",65),P(5,ar,11,4,"button",66),s()()()),n&2){let c=b();p(5),_("ngForOf",c.getAvailableMembers())}}function cr(n,o){if(n&1&&(r(0,"div",72)(1,"mat-icon"),d(2,"error"),s(),r(3,"span"),d(4),St(5,"number"),s()()),n&2){let c=b(2);p(4),k("Total percentage must equal 100% (currently ",ei(5,1,c.getTotalPercentage(),"1.1-1"),"%)")}}function sr(n,o){if(n&1&&(r(0,"div",73)(1,"mat-icon"),d(2,"warning"),s(),r(3,"span"),d(4),s()()),n&2){let c=b(2);p(4),ti("Split amounts don't match transaction total (",c.formatCurrency(c.Math.abs(c.getTotalSplitAmount()-c.totalAmount))," ",c.getTotalSplitAmount()>c.totalAmount?"over":"under",")")}}function lr(n,o){if(n&1&&(r(0,"div",69),P(1,cr,6,4,"div",70)(2,sr,5,2,"div",71),s()),n&2){let c=b();p(),_("ngIf",c.Math.abs(c.getTotalPercentage()-100)>.01),p(),_("ngIf",c.Math.abs(c.getTotalSplitAmount()-c.totalAmount)>.01)}}var Io=(()=>{let o=class o{constructor(t,e,i){this.fb=t,this.dialogRef=e,this.data=i,this.totalAmount=0,this.splitMode="percentage",this.isSubmitting=!1,this.Math=Math,this.transaction=i.transaction,this.groupMembers=i.groupMembers,this.totalAmount=this.transaction.totalAmount}ngOnInit(){this.initForm()}initForm(){var t;this.editForm=this.fb.group({totalAmount:[this.transaction.totalAmount,[L.required,L.min(.01)]],splits:this.fb.array([])}),this.transaction.splits.forEach(e=>{this.addSplit(e)}),(t=this.editForm.get("totalAmount"))==null||t.valueChanges.subscribe(e=>{this.totalAmount=e,this.updateSplitPercentages()})}get splitsArray(){return this.editForm.get("splits")}addSplit(t){var i,a;let e=this.fb.group({userId:[(t==null?void 0:t.userId)||"",L.required],displayName:[(t==null?void 0:t.displayName)||"",L.required],email:[(t==null?void 0:t.email)||"",L.required],amount:[(t==null?void 0:t.amount)||0,[L.required,L.min(0)]],percentage:[(t==null?void 0:t.percentage)||0,[L.required,L.min(0),L.max(100)]],isPaid:[(t==null?void 0:t.isPaid)||!1]});this.splitsArray.push(e),(i=e.get("amount"))==null||i.valueChanges.subscribe(l=>{if(this.totalAmount>0&&l!==null&&l!==void 0){let m=l/this.totalAmount*100;e.patchValue({percentage:Math.round(m*100)/100},{emitEvent:!1})}}),(a=e.get("percentage"))==null||a.valueChanges.subscribe(l=>{if(l!=null){let m=l/100*this.totalAmount;e.patchValue({amount:Math.round(m*100)/100},{emitEvent:!1})}})}removeSplit(t){this.splitsArray.removeAt(t),this.updateSplitPercentages()}updateSplitPercentages(){this.splitsArray.controls.forEach(e=>{var a;let i=((a=e.get("amount"))==null?void 0:a.value)||0;if(this.totalAmount>0&&i!==null&&i!==void 0){let l=i/this.totalAmount*100;e.patchValue({percentage:Math.round(l*100)/100},{emitEvent:!1})}})}updateSplitAmounts(){this.splitsArray.controls.forEach(e=>{var a;let i=((a=e.get("percentage"))==null?void 0:a.value)||0;if(i!=null){let l=i/100*this.totalAmount;e.patchValue({amount:Math.round(l*100)/100},{emitEvent:!1})}})}addMemberSplit(t){if(!this.splitsArray.controls.find(i=>{var a;return((a=i.get("userId"))==null?void 0:a.value)===t.userId})){let i=this.fb.group({userId:[t.userId,L.required],displayName:[t.displayName],email:[t.email,L.required],amount:[0,[L.required,L.min(0)]],percentage:[0,[L.required,L.min(0),L.max(100)]],isPaid:[!1]});this.splitsArray.push(i),this.updateSplitPercentages()}}getAvailableMembers(){let t=this.splitsArray.controls.map(e=>{var i;return(i=e.get("userId"))==null?void 0:i.value});return this.groupMembers.filter(e=>!t.includes(e.userId))}getTotalPercentage(){return this.splitsArray.controls.reduce((t,e)=>{var i;return t+(((i=e.get("percentage"))==null?void 0:i.value)||0)},0)}getTotalSplitAmount(){return this.splitsArray.controls.reduce((t,e)=>{var i;return t+(((i=e.get("amount"))==null?void 0:i.value)||0)},0)}isFormValid(){let t=this.getTotalPercentage();return this.editForm.valid&&Math.abs(t-100)<.01}onCancel(){this.dialogRef.close()}onSave(){if(this.isFormValid()){let t=this.editForm.value,e={totalAmount:t.totalAmount,splits:t.splits.map(i=>({userId:i.userId,displayName:i.displayName,email:i.email,amount:i.amount,percentage:i.percentage,isPaid:i.isPaid}))};this.dialogRef.close(e)}}formatCurrency(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:this.transaction.currency||"USD"}).format(t)}setSplitMode(t){this.splitMode=t,t==="percentage"?this.updateSplitPercentages():this.updateSplitAmounts()}getMemberPhotoURL(t){let e=this.groupMembers.find(i=>i.userId===t);return(e==null?void 0:e.photoURL)||null}getMemberInitials(t){return t?t.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2):"?"}};o.\u0275fac=function(e){return new(e||o)(h(de),h(he),h(Cn))},o.\u0275cmp=B({type:o,selectors:[["app-edit-transaction-dialog"]],decls:71,vars:27,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Save Changes",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"transaction-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],[1,"amount-input-container"],["type","number","formControlName","totalAmount","step","0.01","min","0.01","placeholder","0.00",1,"form-input"],[1,"currency-suffix"],[1,"field-footer"],[1,"error-message"],[1,"split-mode-selector"],["type","button",1,"mode-option",3,"click"],[1,"field-subtitle"],[1,"split-balance-info"],[1,"balance-item"],[1,"balance-label"],[1,"balance-amount"],["class","balance-difference",4,"ngIf"],["formArrayName","splits",1,"splits-list"],["class","split-item",3,"formGroupName",4,"ngFor","ngForOf"],["class","add-member-section",4,"ngIf"],["class","validation-section",4,"ngIf"],[1,"bottom-spacing"],["diameter","16"],[1,"balance-difference"],[1,"difference-label"],[1,"difference-amount"],[1,"difference-type"],[1,"split-item",3,"formGroupName"],[1,"split-header"],[1,"member-info"],[1,"member-avatar"],["class","avatar-image",3,"src","alt",4,"ngIf"],["class","avatar-placeholder",4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],["type","button","mat-icon-button","",1,"remove-btn",3,"click"],[1,"split-controls"],[1,"split-input-group"],[1,"input-field"],[1,"input-label"],[1,"input-container"],["type","number","formControlName","amount","step","0.01","min","0","placeholder","0.00",1,"split-input"],[1,"input-suffix"],["type","number","formControlName","percentage","step","0.1","min","0","max","100","placeholder","0.0",1,"split-input"],[1,"paid-toggle"],[1,"toggle-label"],["type","checkbox","formControlName","isPaid",1,"toggle-checkbox"],[1,"toggle-text"],[1,"avatar-image",3,"src","alt"],[1,"avatar-placeholder"],[1,"add-member-section"],[1,"available-members"],[1,"section-label"],[1,"members-grid"],["type","button","class","member-option",3,"click",4,"ngFor","ngForOf"],["type","button",1,"member-option",3,"click"],[1,"add-icon"],[1,"validation-section"],["class","validation-item error",4,"ngIf"],["class","validation-item warning",4,"ngIf"],[1,"validation-item","error"],[1,"validation-item","warning"]],template:function(e,i){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),M("click",function(){return i.onCancel()}),r(4,"mat-icon"),d(5,"arrow_back"),s()(),r(6,"h6",4),d(7," Edit Transaction "),s()(),r(8,"button",5),M("click",function(){return i.onCancel()}),r(9,"mat-icon"),d(10,"close"),s()(),r(11,"button",6),M("click",function(){return i.onSave()}),P(12,Wa,1,0,"mat-spinner",7)(13,Ka,2,0,"mat-icon",8),d(14),s()()(),r(15,"div",9)(16,"div",10)(17,"form",11),M("ngSubmit",function(){return i.onSave()}),r(18,"div",12)(19,"label",13)(20,"mat-icon",14),d(21,"attach_money"),s(),d(22," Total Amount * "),s(),r(23,"div",15),E(24,"input",16),r(25,"span",17),d(26),s()(),r(27,"div",18),P(28,Xa,2,0,"p",19)(29,Za,2,0,"p",19),s()(),r(30,"div",12)(31,"label",13)(32,"mat-icon",14),d(33,"settings"),s(),d(34," Split Mode "),s(),r(35,"div",20)(36,"button",21),M("click",function(){return i.setSplitMode("percentage")}),r(37,"mat-icon"),d(38,"percent"),s(),r(39,"span"),d(40,"Percentage"),s()(),r(41,"button",21),M("click",function(){return i.setSplitMode("amount")}),r(42,"mat-icon"),d(43,"account_balance_wallet"),s(),r(44,"span"),d(45,"Amount"),s()()()(),r(46,"div",12)(47,"label",13)(48,"mat-icon",14),d(49,"people"),s(),d(50," Splits "),r(51,"span",22),d(52),St(53,"number"),s()(),r(54,"div",23)(55,"div",24)(56,"span",25),d(57,"Split Total:"),s(),r(58,"span",26),d(59),s()(),r(60,"div",24)(61,"span",25),d(62,"Transaction Total:"),s(),r(63,"span",26),d(64),s()(),P(65,Ja,7,6,"div",27),s(),r(66,"div",28),P(67,nr,35,6,"div",29),s(),P(68,rr,6,1,"div",30),s(),P(69,lr,3,2,"div",31),E(70,"div",32),s()()()),e&2){let a,l;p(11),_("disabled",!i.isFormValid()||i.isSubmitting),p(),_("ngIf",i.isSubmitting),p(),_("ngIf",!i.isSubmitting),p(),k(" ",i.isSubmitting?"Saving...":"Save"," "),p(3),_("formGroup",i.editForm),p(9),S(i.transaction.currency||"USD"),p(2),$((a=i.editForm.get("totalAmount"))!=null&&a.hasError("required")&&((a=i.editForm.get("totalAmount"))!=null&&a.touched)?28:-1),p(),$((l=i.editForm.get("totalAmount"))!=null&&l.hasError("min")&&((l=i.editForm.get("totalAmount"))!=null&&l.touched)?29:-1),p(7),q("selected",i.splitMode==="percentage"),p(5),q("selected",i.splitMode==="amount"),p(11),ti("(",ei(53,24,i.getTotalPercentage(),"1.1-1"),"% \u2022 ",i.formatCurrency(i.getTotalSplitAmount()),")"),p(3),q("over",i.getTotalSplitAmount()>i.totalAmount)("under",i.getTotalSplitAmount()<i.totalAmount),p(4),S(i.formatCurrency(i.getTotalSplitAmount())),p(5),S(i.formatCurrency(i.totalAmount)),p(),_("ngIf",i.Math.abs(i.getTotalSplitAmount()-i.totalAmount)>.01),p(2),_("ngForOf",i.splitsArray.controls),p(),_("ngIf",i.getAvailableMembers().length>0),p(),_("ngIf",!i.isFormValid())}},dependencies:[Ft,et,se,ae,Fi,Di,re,ce,Ri,Ni,le,me,zi,Ui,lt,_t,ot,Pt,fe,Ti],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .transaction-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .transaction-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .transaction-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-subtitle[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:400;margin-left:auto}.amount-input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 3rem .875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem 2.5rem .75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem 2.25rem .625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.amount-input-container[_ngcontent-%COMP%]   .currency-suffix[_ngcontent-%COMP%]{position:absolute;right:1rem;color:#6b7280;font-size:.875rem;font-weight:500;pointer-events:none}@media (max-width: 480px){.amount-input-container[_ngcontent-%COMP%]   .currency-suffix[_ngcontent-%COMP%]{right:.875rem;font-size:.8rem}}@media (max-width: 360px){.amount-input-container[_ngcontent-%COMP%]   .currency-suffix[_ngcontent-%COMP%]{right:.75rem;font-size:.75rem}}.split-mode-selector[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.75rem}@media (max-width: 480px){.split-mode-selector[_ngcontent-%COMP%]{gap:.5rem}}@media (max-width: 360px){.split-mode-selector[_ngcontent-%COMP%]{gap:.375rem}}.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:1rem;border:2px solid #e5e7eb;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:80px}@media (max-width: 480px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]{padding:.75rem;min-height:70px;gap:.375rem}}@media (max-width: 360px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]{padding:.625rem;min-height:60px;gap:.25rem}}.dark[_ngcontent-%COMP%]   .split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]{border-color:#4b5563}.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff}.split-mode-selector[_ngcontent-%COMP%]   .mode-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#dbeafe;color:#1d4ed8}.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}@media (max-width: 480px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}@media (max-width: 360px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}}.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}@media (max-width: 480px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}}@media (max-width: 360px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}}.split-balance-info[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:1rem;margin-bottom:1rem}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]{padding:.875rem}}@media (max-width: 360px){.split-balance-info[_ngcontent-%COMP%]{padding:.75rem}}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid #e2e8f0}.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{border-color:#374151}.split-balance-info[_ngcontent-%COMP%]   .balance-item.over[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{color:#dc2626;font-weight:600}.split-balance-info[_ngcontent-%COMP%]   .balance-item.under[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{color:#ea580c;font-weight:600}.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-label[_ngcontent-%COMP%]{font-size:.8rem}}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-label[_ngcontent-%COMP%]{color:#9ca3af}.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:.875rem;color:#1f2937;font-weight:600}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:.8rem}}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{color:#f9fafb}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;margin-top:.5rem;border-top:2px solid #e2e8f0;background:#f1f5f9;border-radius:6px;padding:.75rem}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]{border-color:#374151;background:#374151}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-label[_ngcontent-%COMP%]{font-size:.8rem}}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-label[_ngcontent-%COMP%]{color:#9ca3af}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:600}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount[_ngcontent-%COMP%]{font-size:.8rem}}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount.positive[_ngcontent-%COMP%]{color:#dc2626}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount.negative[_ngcontent-%COMP%]{color:#ea580c}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount[_ngcontent-%COMP%]   .difference-type[_ngcontent-%COMP%]{font-size:.75rem;padding:.125rem .375rem;border-radius:4px;font-weight:500;text-transform:uppercase}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount[_ngcontent-%COMP%]   .difference-type[_ngcontent-%COMP%]{font-size:.7rem;padding:.1rem .25rem}}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount.positive[_ngcontent-%COMP%]   .difference-type[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount.negative[_ngcontent-%COMP%]   .difference-type[_ngcontent-%COMP%]{background:#fff7ed;color:#ea580c;border:1px solid #fed7aa}.splits-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:1rem}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{padding:.875rem}}@media (max-width: 360px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{padding:.75rem}}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;flex-shrink:0}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:36px;height:36px}}@media (max-width: 360px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:32px;height:32px}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;justify-content:center;font-size:.875rem;font-weight:600;text-transform:uppercase}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{font-size:.75rem}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:0}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:.875rem;line-height:1.2;margin-bottom:.125rem}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#f9fafb}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.75rem}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 360px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.65rem}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{color:#ef4444;min-width:32px;width:32px;height:32px}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{background:#fef2f2}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.75rem}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]{gap:.5rem}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:#374151;margin-bottom:.375rem;display:block}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{color:#f3f4f6}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .split-input[_ngcontent-%COMP%]{width:100%;padding:.625rem 2rem .625rem .75rem;border:1px solid #d1d5db;border-radius:6px;background:transparent;font-size:14px;min-height:40px;transition:all .2s ease}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .split-input[_ngcontent-%COMP%]{padding:.5rem 1.75rem .5rem .625rem;min-height:36px;font-size:13px}}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .split-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .split-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f61a}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .split-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-suffix[_ngcontent-%COMP%]{position:absolute;right:.75rem;color:#6b7280;font-size:.75rem;font-weight:500;pointer-events:none}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-suffix[_ngcontent-%COMP%]{right:.625rem;font-size:.7rem}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border-radius:6px;transition:background-color .2s ease}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]:hover{background:#f3f4f6}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]:hover{background:#374151}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]   .toggle-checkbox[_ngcontent-%COMP%]{width:18px;height:18px;accent-color:#3b82f6}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{color:#f3f4f6}.add-member-section[_ngcontent-%COMP%]{margin-top:1rem}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.75rem}.dark[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{color:#f3f4f6}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem;border:1px solid #e5e7eb;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s ease;text-align:left}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]{padding:.625rem;gap:.625rem}}.dark[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.dark[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]:hover{background:#1e3a8a}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;overflow:hidden;flex-shrink:0}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:32px;height:32px}}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:600;text-transform:uppercase}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{font-size:.75rem}}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:0}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:.875rem;line-height:1.2;margin-bottom:.125rem}.dark[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#f9fafb}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.8rem}}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.7rem}}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.25rem;width:1.25rem;height:1.25rem;flex-shrink:0}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}}.validation-section[_ngcontent-%COMP%]{margin-top:1rem}.validation-section[_ngcontent-%COMP%]   .validation-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem;border-radius:6px;margin-bottom:.5rem}.validation-section[_ngcontent-%COMP%]   .validation-item.error[_ngcontent-%COMP%]{background:#fef2f2;border:1px solid #fecaca;color:#dc2626}.validation-section[_ngcontent-%COMP%]   .validation-item.error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#dc2626;font-size:1rem;width:1rem;height:1rem}.validation-section[_ngcontent-%COMP%]   .validation-item.error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.validation-section[_ngcontent-%COMP%]   .validation-item.warning[_ngcontent-%COMP%]{background:#fff7ed;border:1px solid #fed7aa;color:#ea580c}.validation-section[_ngcontent-%COMP%]   .validation-item.warning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ea580c;font-size:1rem;width:1rem;height:1rem}.validation-section[_ngcontent-%COMP%]   .validation-item.warning[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let n=o;return n})();var Eo=(()=>{let o=class o{constructor(){}toDate(t){try{if(!t)return null;if(t instanceof Date)return t;if(t instanceof dt)return t.toDate();if(t&&typeof t=="object"&&"seconds"in t)return new dt(t.seconds,t.nanoseconds).toDate();if(typeof t=="number")return new Date(t);if(typeof t=="string"){let e=new Date(t);return isNaN(e.getTime())?null:e}return t&&typeof t.toDate=="function"?t.toDate():null}catch(e){return console.error("Error converting timestamp to date:",e,t),null}}toTimestamp(t){try{if(!t)return null;if(t instanceof dt)return t;if(t instanceof Date)return dt.fromDate(t);if(typeof t=="number")return dt.fromDate(new Date(t));if(typeof t=="string"){let e=new Date(t);if(!isNaN(e.getTime()))return dt.fromDate(e)}return t&&typeof t.toDate=="function"?dt.fromDate(t.toDate()):null}catch(e){return console.error("Error converting date to timestamp:",e,t),null}}fromFormDate(t){try{if(!t)return null;let e=new Date(t);return isNaN(e.getTime())?null:dt.fromDate(e)}catch(e){return console.error("Error converting form date to timestamp:",e,t),null}}now(){return dt.fromDate(new Date)}compare(t,e){let i=this.toDate(t),a=this.toDate(e);return!i&&!a?0:i?a?i.getTime()-a.getTime():1:-1}sortByDate(t,e,i=!1){return[...t].sort((a,l)=>{let m=this.toDate(a[e]),g=this.toDate(l[e]);if(!m&&!g)return 0;if(!m)return i?-1:1;if(!g)return i?1:-1;let u=m.getTime()-g.getTime();return i?u:-u})}filterByDateRange(t,e,i,a){let l=this.toDate(i),m=this.toDate(a);return!l&&!m?t:t.filter(g=>{let u=this.toDate(g[e]);return u?l&&m?u>=l&&u<=m:l?u>=l:m?u<=m:!0:!1})}isValidDate(t){let e=this.toDate(t);return e!==null&&!isNaN(e.getTime())}formatDate(t,e="MM/DD/YYYY"){let i=this.toDate(t);if(!i)return"Invalid Date";let a=i.getDate().toString().padStart(2,"0"),l=(i.getMonth()+1).toString().padStart(2,"0"),m=i.getFullYear();return e.replace("MM",l).replace("DD",a).replace("YYYY",m.toString())}toISOString(t){let e=this.toDate(t);return e?e.toISOString().split("T")[0]:""}getRelativeTime(t){let e=this.toDate(t);if(!e)return"Unknown";let a=Math.floor((new Date().getTime()-e.getTime())/1e3);if(a<60)return"Just now";if(a<3600){let l=Math.floor(a/60);return`${l} minute${l>1?"s":""} ago`}else if(a<86400){let l=Math.floor(a/3600);return`${l} hour${l>1?"s":""} ago`}else if(a<2592e3){let l=Math.floor(a/86400);return`${l} day${l>1?"s":""} ago`}else return this.formatDate(e)}};o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=mt({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();var De=(()=>{let o=class o{constructor(t,e,i,a,l){this.firestore=t,this.auth=e,this.notificationService=i,this.dateService=a,this.userService=l}getUserGroups(t){let e=this.auth.currentUser;if(!(e!=null&&e.email))return I([]);let i=it(this.firestore,"splitwise-groups"),a=pt(i,at("isActive","==",!0),ge("createdAt","desc"));return z(gt(a)).pipe(N(l=>l.docs.map(m=>C({id:m.id},m.data())).filter(m=>m.members.some(g=>{var u;return g.email.toLowerCase()===((u=e.email)==null?void 0:u.toLowerCase())&&g.isActive}))),V(l=>(console.error("Error fetching user groups:",l),I([]))))}getGroupById(t){return X(H(this.firestore,"splitwise-groups",t)).then(e=>e.exists()?C({id:e.id},e.data()):null)}createGroup(t,e){let i=this.auth.currentUser;if(!i)throw new Error("User not authenticated");let a={name:t.name,description:t.description||"",createdBy:e,members:[{userId:i.uid,email:i.email||"",displayName:i.displayName||i.email||"",photoURL:i.photoURL||"",role:te.ADMIN,joinedAt:new Date,isActive:!0}],currency:t.currency||"USD",createdAt:new Date,updatedAt:new Date,isActive:!0,syncStatus:ai.SYNCED},l=it(this.firestore,"splitwise-groups");return z(Ge(l,a)).pipe(N(m=>C({id:m.id},a)))}deleteGroup(t,e){let i=H(this.firestore,"splitwise-groups",t);return z(ut(i,{isActive:!1,updatedAt:new Date}))}getUserInvitations(t){let e=this.auth.currentUser;if(!(e!=null&&e.email))return I([]);let i=it(this.firestore,"splitwise-invitations"),a=pt(i,at("invitedEmail","==",e.email),at("status","==","pending"),ge("createdAt","desc"));return z(gt(a)).pipe(N(l=>l.docs.map(m=>C({id:m.id},m.data()))),N(l=>l.filter(m=>!this.isInvitationExpired(m))),V(l=>(console.error("Error fetching invitations:",l),I([]))))}isInvitationExpired(t){let e;return t.expiresAt instanceof dt?e=t.expiresAt.toDate():t.expiresAt instanceof Date?e=t.expiresAt:e=new Date(t.expiresAt),e<new Date}markExpiredInvitations(t){return Y(this,null,function*(){try{let e=this.auth.currentUser;if(!(e!=null&&e.email))return;let i=it(this.firestore,"splitwise-invitations"),a=pt(i,at("invitedEmail","==",e.email),at("status","==","pending")),l=yield gt(a),m=Qi(this.firestore),g=!1;l.docs.forEach(u=>{let f=u.data();this.isInvitationExpired(f)&&(m.update(u.ref,{status:Te.EXPIRED,updatedAt:new Date}),g=!0)}),g&&(yield m.commit())}catch(e){console.error("Error marking expired invitations:",e)}})}acceptInvitation(t,e){return Y(this,null,function*(){try{let i=this.auth.currentUser;if(!i)throw new Error("User not authenticated");let a=H(this.firestore,"splitwise-invitations",t),l=yield X(a);if(!l.exists())throw new Error("Invitation not found");let m=l.data();yield ut(a,{status:Te.ACCEPTED,updatedAt:new Date});let g=H(this.firestore,"splitwise-groups",m.groupId),u=yield X(g);if(!u.exists())throw new Error("Group not found");let F=u.data().members.map(v=>{var D;return v.email.toLowerCase()===m.invitedEmail.toLowerCase()?O(C({},v),{userId:i.uid,displayName:i.displayName||((D=i.email)==null?void 0:D.split("@")[0])||v.displayName,photoURL:i.photoURL||v.photoURL,isActive:!0}):v});yield ut(g,{members:F,updatedAt:new Date}),this.notificationService.success(`Successfully joined ${m.groupName}!`)}catch(i){throw console.error("Error accepting invitation:",i),this.notificationService.error("Failed to accept invitation"),i}})}declineInvitation(t,e){return Y(this,null,function*(){try{if(!this.auth.currentUser)throw new Error("User not authenticated");let a=H(this.firestore,"splitwise-invitations",t),l=yield X(a);if(!l.exists())throw new Error("Invitation not found");let m=l.data();yield ut(a,{status:Te.DECLINED,updatedAt:new Date});let g=H(this.firestore,"splitwise-groups",m.groupId),u=yield X(g);if(u.exists()){let F=u.data().members.filter(v=>v.email.toLowerCase()!==m.invitedEmail.toLowerCase());yield ut(g,{members:F,updatedAt:new Date})}this.notificationService.success(`Invitation to ${m.groupName} declined`)}catch(i){throw console.error("Error declining invitation:",i),this.notificationService.error("Failed to decline invitation"),i}})}addMemberToGroup(t,e,i){return Y(this,null,function*(){var a;try{if(!this.auth.currentUser)throw new Error("User not authenticated");let m=H(this.firestore,"splitwise-groups",t),g=yield X(m);if(!g.exists())throw new Error("Group not found");let u=g.data();if(u.members.find(v=>v.email.toLowerCase()===e.email.toLowerCase()))throw new Error("User is already a member of this group");let F=yield this.userService.findUserByEmail(e.email);if(F){yield this.sendGroupInvitation(t,e.email,i);let v={userId:F.uid,email:e.email,displayName:F.firstName||((a=F.email)==null?void 0:a.split("@")[0])||e.email.split("@")[0],photoURL:F.photoURL||"",role:e.role||te.MEMBER,joinedAt:new Date,isActive:!1},D=[...u.members,v];return yield ut(m,{members:D,updatedAt:new Date}),this.notificationService.success(`Invitation sent to ${e.email}`),O(C({id:t},u),{members:D,updatedAt:new Date})}else{let v={userId:"",email:e.email,displayName:e.email.split("@")[0],role:e.role||te.MEMBER,joinedAt:new Date,isActive:!1},D=[...u.members,v];return yield ut(m,{members:D,updatedAt:new Date}),yield this.sendGroupInvitation(t,e.email,i),this.notificationService.success(`Invitation sent to ${e.email}. They will be added when they register and accept.`),O(C({id:t},u),{members:D,updatedAt:new Date})}}catch(l){throw console.error("Error adding member to group:",l),this.notificationService.error(l instanceof Error?l.message:"Failed to add member"),l}})}getGroupTransactions(t,e){let i=it(this.firestore,"splitwise-transactions"),a=pt(i,at("groupId","==",t),ge("createdAt","desc"));return z(gt(a)).pipe(N(l=>l.docs.map(m=>C({id:m.id},m.data()))),V(l=>(console.error("Error fetching group transactions:",l),I([]))))}getGroupSettlements(t,e){let i=it(this.firestore,"splitwise-settlements"),a=pt(i,at("groupId","==",t),ge("createdAt","desc"));return z(gt(a)).pipe(N(l=>l.docs.map(m=>C({id:m.id},m.data()))),V(l=>(console.error("Error fetching group settlements:",l),I([]))))}getSettlementsByTransaction(t){let e=it(this.firestore,"splitwise-settlements"),i=pt(e,at("originalTransactionId","==",t),ge("createdAt","desc"));return z(gt(i)).pipe(N(a=>a.docs.map(l=>C({id:l.id},l.data()))),V(a=>(console.error("Error fetching settlements by transaction:",a),I([]))))}createSplitTransaction(t,e){if(!this.auth.currentUser)throw new Error("User not authenticated");let a={groupId:t.groupId,originalTransactionId:t.originalTransactionId,amount:t.amount,createdBy:e,splits:t.splits.map(m=>O(C({},m),{email:m.email||"",displayName:m.displayName||""})),totalAmount:t.amount,currency:"USD",createdAt:new Date,updatedAt:new Date,syncStatus:ai.SYNCED},l=it(this.firestore,"splitwise-transactions");return z(Ge(l,a)).pipe(N(m=>C({id:m.id},a)))}getGroup(t){return z(X(H(this.firestore,"splitwise-groups",t))).pipe(N(e=>e.exists()?C({id:e.id},e.data()):null))}updateGroup(t,e){return Y(this,null,function*(){var i;try{if(!((i=this.auth.currentUser)==null?void 0:i.uid))throw new Error("User not authenticated");let l={updatedAt:new Date};e.name&&(l.name=e.name),e.description!==void 0&&(l.description=e.description),e.currency&&(l.currency=e.currency),yield ut(H(this.firestore,"splitwise-groups",t),l),this.notificationService.success("Group updated successfully")}catch(a){throw console.error("Error updating group:",a),this.notificationService.error("Failed to update group"),a}})}removeMemberFromGroup(t,e,i){return Y(this,null,function*(){try{if(!i)throw new Error("User not authenticated");let a=H(this.firestore,"splitwise-groups",t),l=yield X(a);if(!l.exists())throw new Error("Group not found");let g=l.data().members.filter(u=>u.userId!==e);yield ut(a,{members:g,updatedAt:new Date}),this.notificationService.success("Member removed successfully")}catch(a){throw console.error("Error removing member:",a),this.notificationService.error("Failed to remove member"),a}})}getSplitTransaction(t){return z(X(H(this.firestore,"splitwise-transactions",t))).pipe(N(e=>e.exists()?C({id:e.id},e.data()):null))}updateSplitTransaction(t,e){return Y(this,null,function*(){var i;try{if(!((i=this.auth.currentUser)==null?void 0:i.uid))throw new Error("User not authenticated");let l={updatedAt:new Date};if(e.payee&&(l.payee=e.payee),e.amount&&(l.amount=e.amount),e.type&&(l.type=e.type),e.date&&(l.date=this.dateService.toTimestamp(e.date)),e.notes!==void 0&&(l.notes=e.notes),e.categoryId&&(l.categoryId=e.categoryId),e.category&&(l.category=e.category),e.splits){let m=yield X(H(this.firestore,"splitwise-transactions",t));if(!m.exists())throw new Error("Transaction not found");let g=m.data(),f=(yield X(H(this.firestore,"splitwise-groups",g.groupId))).data(),F=e.splits.map(v=>{let D=f.members.find(ht=>ht.userId===v.userId);return O(C({},v),{email:(D==null?void 0:D.email)||"",displayName:(D==null?void 0:D.displayName)||"",isPaid:v.isPaid!==void 0?v.isPaid:!1})});l.splits=F,e.amount&&(l.totalAmount=e.amount)}yield ut(H(this.firestore,"splitwise-transactions",t),l),this.notificationService.success("Split transaction updated successfully")}catch(a){throw console.error("Error updating split transaction:",a),this.notificationService.error("Failed to update split transaction"),a}})}deleteSplitTransaction(t,e){return Y(this,null,function*(){try{if(!e)throw new Error("User not authenticated");let i=pt(it(this.firestore,"splitwise-transactions"),at("originalTransactionId","==",t)),a=yield gt(i);if(a.empty)throw new Error("Transaction not found");let m=a.docs[0].data().splits.map(g=>O(C({},g),{amount:-g.amount}));yield oi(a.docs[0].ref),yield this.cleanupSettlementsForTransaction(t),this.notificationService.success("Split transaction deleted successfully")}catch(i){throw console.error("Error deleting split transaction:",i),this.notificationService.error("Failed to delete split transaction"),i}})}cleanupSettlementsForTransaction(t){return Y(this,null,function*(){try{let e=it(this.firestore,"splitwise-settlements"),i=pt(e,at("originalTransactionId","==",t)),a=yield gt(i);if(!a.empty){let l=a.docs.map(m=>oi(m.ref));yield Promise.all(l),console.log(`Cleaned up ${a.docs.length} settlements for transaction ${t}`)}}catch(e){console.error("Error cleaning up settlements for transaction:",e)}})}createSettlement(t){return Y(this,null,function*(){var e;try{if(!((e=this.auth.currentUser)==null?void 0:e.uid))throw new Error("User not authenticated");let a=yield X(H(this.firestore,"splitwise-groups",t.groupId));if(!a.exists())throw new Error("Group not found");let l=a.data(),m={groupId:t.groupId,originalTransactionId:t.originalTransactionId,fromUserId:t.fromUserId,toUserId:t.toUserId,amount:t.amount,currency:l.currency||"USD",status:an.PENDING,notes:t.notes||"",createdAt:new Date,updatedAt:new Date};return(yield Ge(it(this.firestore,"splitwise-settlements"),m)).id}catch(i){throw console.error("Error creating settlement:",i),i}})}completeSettlement(t){return Y(this,null,function*(){var e;try{if(!((e=this.auth.currentUser)==null?void 0:e.uid))throw new Error("User not authenticated");yield ut(H(this.firestore,"splitwise-settlements",t),{status:an.COMPLETED,settledAt:new Date,updatedAt:new Date});let l=(yield X(H(this.firestore,"splitwise-settlements",t))).data()}catch(i){throw console.error("Error completing settlement:",i),i}})}sendGroupInvitation(t,e,i){return Y(this,null,function*(){try{let a=this.auth.currentUser;if(!a)throw new Error("User not authenticated");let m=(yield X(H(this.firestore,"splitwise-groups",t))).data(),g={groupId:t,groupName:m.name,invitedBy:i,invitedByEmail:a.email||"",invitedByDisplayName:a.displayName||"",invitedEmail:e,status:Te.PENDING,expiresAt:new Date(Date.now()+7*24*60*60*1e3),createdAt:new Date,updatedAt:new Date};yield Ge(it(this.firestore,"splitwise-invitations"),g)}catch(a){throw console.error("Error sending invitation:",a),a}})}getGroupSummary(t){return Y(this,null,function*(){var u;if(!((u=this.auth.currentUser)==null?void 0:u.uid))throw new Error("User not authenticated");let[i,a]=yield Promise.all([gt(pt(it(this.firestore,"splitwise-transactions"),at("groupId","==",t))),gt(pt(it(this.firestore,"splitwise-settlements"),at("groupId","==",t),at("status","==",an.PENDING)))]),m=(yield X(H(this.firestore,"splitwise-groups",t))).data(),g=i.docs.reduce((f,F)=>{let v=F.data();return f+v.amount},0);return{groupId:t,totalTransactions:i.docs.length,totalAmount:g,averageAmount:i.docs.length>0?g/i.docs.length:0,memberCount:m.members.length,activeMemberCount:m.members.filter(f=>f.isActive).length,pendingSettlements:a.docs.length,lastActivity:new Date}})}getMemberBalances(t){return Y(this,null,function*(){var g;if(!((g=this.auth.currentUser)==null?void 0:g.uid))throw new Error("User not authenticated");let a=(yield X(H(this.firestore,"splitwise-groups",t))).data(),l=yield gt(pt(it(this.firestore,"splitwise-transactions"),at("groupId","==",t))),m=new Map;return a.members.forEach(u=>{m.set(u.userId,{userId:u.userId,email:u.email,displayName:u.displayName,totalPaid:0,totalOwed:0,netBalance:0,transactionCount:0})}),l.docs.forEach(u=>{u.data().splits.forEach(F=>{let v=m.get(F.userId);v&&(v.transactionCount++,F.amount>0?v.totalPaid+=F.amount:v.totalOwed+=Math.abs(F.amount),v.netBalance=v.totalPaid-v.totalOwed)})}),Array.from(m.values())})}};o.\u0275fac=function(e){return new(e||o)(R(Hi),R(nt),R(zt),R(Eo),R(_e))},o.\u0275prov=mt({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();var Ao=new W("CdkAccordion");var gr=0,Do=(()=>{let o=class o{get expanded(){return this._expanded}set expanded(t){if(this._expanded!==t){if(this._expanded=t,this.expandedChange.emit(t),t){this.opened.emit();let e=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,e)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(t,e,i){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=i,this._openCloseAllSubscription=rn.EMPTY,this.closed=new K,this.opened=new K,this.destroyed=new K,this.expandedChange=new K,this.id=`cdk-accordion-child-${gr++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=i.listen((a,l)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===l&&this.id!==a&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}};o.\u0275fac=function(e){return new(e||o)(h(Ao,12),h(It),h(bn))},o.\u0275dir=Tt({type:o,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",tt],disabled:[2,"disabled","disabled",tt]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[Ht([{provide:Ao,useValue:void 0}]),At]});let n=o;return n})(),Fo=(()=>{let o=class o{};o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=J({type:o}),o.\u0275inj=Z({});let n=o;return n})();var _r=["body"],hr=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],fr=["mat-expansion-panel-header","*","mat-action-row"];function br(n,o){}var Cr=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Mr=["mat-panel-title","mat-panel-description","*"];function Or(n,o){if(n&1&&(r(0,"span",1),Wn(),r(1,"svg",2),E(2,"path",3),s()()),n&2){let c=b();_("@indicatorRotate",c._getExpandedState())}}var zo=new W("MAT_ACCORDION"),Uo="225ms cubic-bezier(0.4,0.0,0.2,1)",Lo={indicatorRotate:ri("indicatorRotate",[je("collapsed, void",Le({transform:"rotate(0deg)"})),je("expanded",Le({transform:"rotate(180deg)"})),si("expanded <=> collapsed, void => collapsed",ci(Uo))]),bodyExpansion:ri("bodyExpansion",[je("collapsed, void",Le({height:"0px",visibility:"hidden"})),je("expanded",Le({height:"*",visibility:""})),si("expanded <=> collapsed, void => collapsed",ci(Uo))])},jo=new W("MAT_EXPANSION_PANEL"),Pr=(()=>{let o=class o{constructor(t,e){this._template=t,this._expansionPanel=e}};o.\u0275fac=function(e){return new(e||o)(h(wi),h(jo,8))},o.\u0275dir=Tt({type:o,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0});let n=o;return n})(),xr=0,Bo=new W("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),gi=(()=>{let o=class o extends Do{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,e,i,a,l,m,g){super(t,e,i),this._viewContainerRef=a,this._animationMode=m,this._hideToggle=!1,this.afterExpand=new K,this.afterCollapse=new K,this._inputChanges=new ft,this._headerId=`mat-expansion-panel-header-${xr++}`,this.accordion=t,this._document=l,this._animationsDisabled=m==="NoopAnimations",g&&(this.hideToggle=g.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Pi(null),yt(()=>this.expanded&&!this._portal),cn(1)).subscribe(()=>{this._portal=new to(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}_animationStarted(t){var e;!No(t)&&!this._animationsDisabled&&this._body&&((e=this._body)==null||e.nativeElement.setAttribute("inert",""))}_animationDone(t){No(t)||(t.toState==="expanded"?this.afterExpand.emit():t.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}};o.\u0275fac=function(e){return new(e||o)(h(zo,12),h(It),h(bn),h(yi),h(Ii),h(Kn,8),h(Bo,8))},o.\u0275cmp=B({type:o,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,a){if(e&1&&Ue(a,Pr,5),e&2){let l;Bt(l=Vt())&&(i._lazyContent=l.first)}},viewQuery:function(e,i){if(e&1&&Ne(_r,5),e&2){let a;Bt(a=Vt())&&(i._body=a.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){e&2&&q("mat-expanded",i.expanded)("_mat-animation-noopable",i._animationsDisabled)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",tt],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[Ht([{provide:zo,useValue:void 0},{provide:jo,useExisting:o}]),At,Xn,mn,Dt],ngContentSelectors:fr,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){if(e&1){let a=G();ne(hr),Ot(0),r(1,"div",1,0),M("@bodyExpansion.start",function(m){return T(a),A(i._animationStarted(m))})("@bodyExpansion.done",function(m){return T(a),A(i._animationDone(m))}),r(3,"div",2),Ot(4,1),P(5,br,0,0,"ng-template",3),s(),Ot(6,2),s()}e&2&&(p(),_("@bodyExpansion",i._getExpandedState())("id",i.id),Mt("aria-labelledby",i._headerId),p(4),_("cdkPortalOutlet",i._portal))},dependencies:[eo],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Lo.bodyExpansion]},changeDetection:0});let n=o;return n})();function No(n){return n.fromState==="void"}var Vo=(()=>{let o=class o{constructor(t,e,i,a,l,m,g){this.panel=t,this._element=e,this._focusMonitor=i,this._changeDetectorRef=a,this._animationMode=m,this._parentChangeSubscription=rn.EMPTY,this.tabIndex=0;let u=t.accordion?t.accordion._stateChanges.pipe(yt(f=>!!(f.hideToggle||f.togglePosition))):fi;this.tabIndex=parseInt(g||"")||0,this._parentChangeSubscription=Fe(t.opened,t.closed,u,t._inputChanges.pipe(yt(f=>!!(f.hideToggle||f.disabled||f.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(yt(()=>t._containsFocus())).subscribe(()=>i.focusVia(e,"program")),l&&(this.expandedHeight=l.expandedHeight,this.collapsedHeight=l.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Yi(t)||(t.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t);return}}focus(t,e){t?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}};o.\u0275fac=function(e){return new(e||o)(h(gi,1),h(ze),h(hn),h(It),h(Bo,8),h(Kn,8),dn("tabindex"))},o.\u0275cmp=B({type:o,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){e&1&&M("click",function(){return i._toggle()})("keydown",function(l){return i._keydown(l)}),e&2&&(Mt("id",i.panel._headerId)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),ki("height",i._getHeaderHeight()),q("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after",i._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",i._getTogglePosition()==="before")("_mat-animation-noopable",i._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Si(t)]},standalone:!0,features:[At,Dt],ngContentSelectors:Mr,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(e,i){e&1&&(ne(Cr),r(0,"span",0),Ot(1),Ot(2,1),Ot(3,2),s(),P(4,Or,3,1,"span",1)),e&2&&(q("mat-content-hide-toggle",!i._showToggle()),p(4),$(i._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Lo.indicatorRotate]},changeDetection:0});let n=o;return n})();var $o=(()=>{let o=class o{};o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=Tt({type:o,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0});let n=o;return n})();var Ho=(()=>{let o=class o{};o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=J({type:o}),o.\u0275inj=Z({imports:[Qt,Fo,no]});let n=o;return n})();function wr(n,o){n&1&&(r(0,"div",5),E(1,"mat-spinner",6),r(2,"p"),d(3,"Loading group details..."),s()())}function yr(n,o){if(n&1){let c=G();r(0,"button",34),M("click",function(){T(c);let e=b(2);return A(e.deleteGroup())}),r(1,"mat-icon"),d(2,"delete"),s(),r(3,"span"),d(4,"Delete Group"),s()()}}function kr(n,o){n&1&&(r(0,"span",51),d(1,"(You)"),s())}function Sr(n,o){if(n&1&&(r(0,"span",52),d(1),s()),n&2){let c=b().$implicit,t=b(3);p(),k(" ",t.getCurrentUserStatus(c.netBalance)," ")}}function Ir(n,o){if(n&1&&(r(0,"div",42)(1,"div",43)(2,"div",44),d(3),P(4,kr,2,0,"span",45),s(),r(5,"div",46)(6,"span",47),d(7),s(),r(8,"span",48),d(9),s()()(),r(10,"div",49),d(11),P(12,Sr,2,1,"span",50),s()()),n&2){let c=o.$implicit,t=b(3);q("current-user",c.userId===(t.currentUser==null?null:t.currentUser.uid)),p(3),k(" ",c.displayName," "),p(),_("ngIf",c.userId===(t.currentUser==null?null:t.currentUser.uid)),p(3),k("Paid: ",t.formatCurrency(c.totalPaid,t.group.currency),""),p(2),k("Owed: ",t.formatCurrency(c.totalOwed,t.group.currency),""),p(),ee(t.getBalanceColor(c.netBalance)),p(),k(" ",t.formatCurrency(c.netBalance,t.group.currency)," "),p(),_("ngIf",c.userId===(t.currentUser==null?null:t.currentUser.uid))}}function Er(n,o){n&1&&(r(0,"span"),d(1," All balances are settled!"),s())}function Tr(n,o){n&1&&(r(0,"span"),d(1,"See who owes what to whom"),s())}function Ar(n,o){if(n&1&&(r(0,"div",58)(1,"div",59)(2,"mat-icon"),d(3),s(),r(4,"span",60),d(5),s()(),r(6,"div",61),d(7),s()()),n&2){let c=o.$implicit,t=b(4);ee(c.type),p(2),ee(c.type==="owes"?"arrow_upward":"arrow_downward"),p(),k(" ",c.type==="owes"?"arrow_upward":"arrow_downward"," "),p(2),S(c.message),p(),ee(c.type),p(),k(" ",t.formatCurrency(c.amount,t.group.currency)," ")}}function Dr(n,o){n&1&&(r(0,"div",62)(1,"mat-icon"),d(2,"check_circle"),s(),r(3,"span"),d(4,"All are settled!"),s()())}function Fr(n,o){if(n&1&&(r(0,"div",53)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"mat-icon"),d(5,"account_tree"),s(),P(6,Er,2,0,"span",54)(7,Tr,2,0,"span",54),s()(),r(8,"div",55),P(9,Ar,8,9,"div",56)(10,Dr,5,0,"div",57),s()()()),n&2){let c=b(3);p(6),_("ngIf",c.getDetailedBalanceBreakdown(c.currentUser.uid).length===0),p(),_("ngIf",c.getDetailedBalanceBreakdown(c.currentUser.uid).length>0),p(2),_("ngForOf",c.getDetailedBalanceBreakdown(c.currentUser.uid)),p(),_("ngIf",c.getDetailedBalanceBreakdown(c.currentUser.uid).length===0)}}function zr(n,o){if(n&1){let c=G();r(0,"div",35)(1,"mat-card",36)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),d(5,"account_balance_wallet"),s(),r(6,"div",37)(7,"span"),d(8,"Member Balances"),s(),r(9,"button",38),M("click",function(){T(c);let e=b(2);return A(e.openAddMemberDialog())}),r(10,"mat-icon"),d(11,"add"),s()()()(),r(12,"mat-card-subtitle"),d(13," Who owes what to whom "),s()(),r(14,"mat-card-content")(15,"div",39),P(16,Ir,13,10,"div",40),s(),P(17,Fr,11,4,"div",41),s()()()}if(n&2){let c=b(2);p(16),_("ngForOf",c.getMemberBalances()),p(),_("ngIf",c.currentUser==null?null:c.currentUser.uid)}}function Ur(n,o){if(n&1){let c=G();r(0,"div",67)(1,"div",68)(2,"div",69)(3,"span",70),d(4),s()(),r(5,"div",71)(6,"span",72),d(7),s(),r(8,"mat-icon"),d(9,"arrow_forward"),s(),r(10,"span",73),d(11),s()(),r(12,"div",74),d(13),s()(),r(14,"button",75),M("click",function(){let e=T(c).$implicit,i=b(3);return A(i.createSettlement(e))}),r(15,"mat-icon"),d(16),s(),r(17,"span"),d(18),s()()()}if(n&2){let c=o.$implicit,t=b(3);ee(c.type),p(4),S(t.getSettlementMessage(c)),p(3),S(c.fromUserName),p(4),S(c.toUserName),p(2),k(" ",t.formatCurrency(c.amount,c.currency)," "),p(),_("color",c.type==="you_owe"?"warn":"primary")("disabled",c.type==="others"),p(2),S(c.type==="you_owe"?"payment":"check"),p(2),S(c.type==="you_owe"?"Pay":"Settle")}}function Nr(n,o){if(n&1&&(r(0,"div",63)(1,"mat-card",64)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),d(5,"swap_horiz"),s(),r(6,"span"),d(7,"Settlement Suggestions"),s()(),r(8,"mat-card-subtitle"),d(9),s()(),r(10,"mat-card-content")(11,"div",65),P(12,Ur,19,10,"div",66),s()()()()),n&2){let c=b(2);p(9),k(" ",c.getSettlementSubtitle()," "),p(3),_("ngForOf",c.getSettlementSuggestions())}}function Rr(n,o){if(n&1){let c=G();r(0,"div",78),M("click",function(){let e=T(c).$implicit,i=b(3);return A(i.openEditTransactionDialog(e))}),r(1,"div",79)(2,"div",80)(3,"div",81),d(4),s(),r(5,"div",82)(6,"span",83),d(7),s(),r(8,"span",84),d(9),s()()(),r(10,"div",85),d(11),s()()()}if(n&2){let c=o.$implicit,t=b(3);p(4),k(" ",t.getTransactionTitle(c)," "),p(3),k("Paid by ",t.getTransactionCreatorName(c),""),p(2),S(t.formatDate(c.createdAt)),p(2),k(" ",t.formatCurrency(c.totalAmount,c.currency)," ")}}function Gr(n,o){if(n&1&&(r(0,"div",76),P(1,Rr,12,4,"div",77),s()),n&2){let c=b(2);p(),_("ngForOf",c.transactions)}}function Lr(n,o){n&1&&(r(0,"div",86)(1,"mat-icon",87),d(2,"receipt"),s(),r(3,"p"),d(4,"No transactions yet"),s()())}function jr(n,o){if(n&1&&(r(0,"div",95),d(1),s()),n&2){let c=b().$implicit,t=b(3);p(),k(" ",t.formatDate(c.settledAt)," ")}}function Br(n,o){if(n&1&&(r(0,"div",92)(1,"div",93)(2,"div",71)(3,"span",72),d(4),s(),r(5,"mat-icon"),d(6,"arrow_forward"),s(),r(7,"span",73),d(8),s()(),r(9,"div",74),d(10),s(),P(11,jr,2,1,"div",94),s()()),n&2){let c=o.$implicit,t=b(3);p(4),S(t.getMemberName(c.fromUserId)),p(4),S(t.getMemberName(c.toUserId)),p(2),k(" ",t.formatCurrency(c.amount,c.currency)," "),p(),_("ngIf",c.settledAt)}}function Vr(n,o){if(n&1&&(r(0,"div",88)(1,"mat-card",89)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),d(5,"check_circle"),s(),r(6,"span"),d(7),s()()(),r(8,"mat-card-content")(9,"div",90),P(10,Br,12,4,"div",91),s()()()()),n&2){let c=b(2);p(7),k("Completed Settlements (",c.getCompletedSettlementsCount(),")"),p(3),_("ngForOf",c.getCompletedSettlements())}}function $r(n,o){if(n&1){let c=G();r(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"button",11),M("click",function(){T(c);let e=b();return A(e.goBack())}),r(5,"mat-icon",12),M("click",function(){T(c);let e=b();return A(e.goBack())}),d(6,"arrow_back"),s()(),r(7,"span",13),d(8),St(9,"titlecase"),s(),r(10,"button",14)(11,"mat-icon"),d(12,"more_vert"),s()()(),r(13,"div",15)(14,"mat-menu",16,0)(16,"button",17),M("click",function(){T(c);let e=b();return A(e.openAddMemberDialog())}),r(17,"mat-icon"),d(18,"person_add"),s(),r(19,"span"),d(20,"Add Member"),s()(),E(21,"mat-divider"),P(22,yr,5,0,"button",18),s()()()(),r(23,"div",19)(24,"mat-card",20)(25,"div",21)(26,"div",22)(27,"div",23),M("click",function(){T(c);let e=b();return A(e.openAddMemberDialog())}),r(28,"div",24),d(29),s(),r(30,"div",25),d(31,"Members"),s()()(),r(32,"div",22)(33,"div",26)(34,"div",24),d(35),s(),r(36,"div",25),d(37,"Total Balance"),s()()()()()(),P(38,zr,18,2,"div",27)(39,Nr,13,2,"div",28),r(40,"div",29)(41,"mat-card",30)(42,"mat-card-header")(43,"mat-card-title")(44,"mat-icon"),d(45,"receipt"),s(),r(46,"span"),d(47),s()(),r(48,"mat-card-subtitle"),d(49),s()(),r(50,"mat-card-content"),P(51,Gr,2,1,"div",31)(52,Lr,5,0,"div",32),s()()(),P(53,Vr,11,2,"div",33),s()}if(n&2){let c=$t(15),t=b();p(8),S(ie(9,12,t.group.name)),p(2),_("matMenuTriggerFor",c),p(12),_("ngIf",t.canManageGroup()),p(7),S(t.getGroupMemberCount()),p(6),S(t.formatCurrency(t.getTotalBalance(),t.group.currency)),p(3),_("ngIf",t.showBalances),p(),_("ngIf",t.getSettlementSuggestions().length>0),p(8),k("Transactions (",t.getTransactionCount(),")"),p(2),k(" Total: ",t.formatCurrency(t.getTotalTransactionAmount(),t.group.currency)," "),p(2),_("ngIf",t.transactions.length>0),p(),_("ngIf",t.transactions.length===0),p(),_("ngIf",t.getCompletedSettlementsCount()>0)}}function Hr(n,o){if(n&1){let c=G();r(0,"div",96)(1,"mat-icon",97),d(2,"error"),s(),r(3,"h3"),d(4,"Group Not Found"),s(),r(5,"p"),d(6,"The group you're looking for doesn't exist or you don't have access to it."),s(),r(7,"button",98),M("click",function(){T(c);let e=b();return A(e.goBack())}),r(8,"mat-icon"),d(9,"arrow_back"),s(),d(10," Go Back "),s()()}}var Qo=(()=>{let o=class o{constructor(t,e,i,a,l,m,g,u){this.route=t,this.router=e,this.auth=i,this.store=a,this.dialog=l,this.notificationService=m,this.breakpointObserver=g,this.splitwiseService=u,this.group=null,this.transactions=[],this.settlements=[],this.error=null,this.currentUser=null,this.isMobile=!1,this.isLoading=!1,this.Math=Math,this.showBalances=!0,this.destroy$=new ft,this.breakpointObserver.observe([ue.Handset]).pipe(kt(this.destroy$)).subscribe(f=>{this.isMobile=f.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(Ee).pipe(kt(this.destroy$)).subscribe(t=>{this.isLoading=t.loading,this.error=t.error;let e=this.route.snapshot.paramMap.get("id");e&&(this.group=t.groups.find(i=>i.id===e)||null,!this.group&&!this.isLoading&&this.splitwiseService.getGroupById(e).then(i=>{this.group=i})),this.transactions=t.transactions.filter(i=>i.groupId===e),this.settlements=t.settlements.filter(i=>i.groupId===e),this.transactions.length>0&&(console.log("=== DEBUG: Balance Calculations ==="),this.calculateNetBalances(),console.log("=== END DEBUG ===")),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Rt())),console.log("Store state updated:",{loading:t.loading,transactionsCount:t.transactions.length,settlementsCount:t.settlements.length,error:t.error})})}reloadData(){let t=this.route.snapshot.paramMap.get("id");t&&(this.store.dispatch(Zt({groupId:t})),this.store.dispatch(Jt({groupId:t})))}loadGroupDetails(){let t=this.route.snapshot.paramMap.get("id");t&&(this.store.dispatch(Et({groupId:t})),this.store.dispatch(Zt({groupId:t})),this.store.dispatch(Jt({groupId:t})))}goBack(){this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(Ae,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(e=>{e&&(e.action==="delete"?this.store.dispatch(Nt({groupId:this.group.id,userId:e.userId})):this.store.dispatch(vt({groupId:this.group.id,request:e})))})}deleteGroup(){this.group&&this.dialog.open(Yt,{width:"300px",data:{title:"Delete Group",message:'Are you sure you want to delete the group "${this.group.name}"?',confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(t=>{var e;t&&(this.store.dispatch(Ut({groupId:(e=this.group)==null?void 0:e.id})),this.goBack())})}getCurrentUserRole(){if(!this.group||!this.currentUser)return"";let t=this.group.members.find(e=>e.userId===this.currentUser.uid);return(t==null?void 0:t.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}getGroupMemberCount(){var t;return((t=this.group)==null?void 0:t.members.filter(e=>e.isActive).length)||0}formatDate(t){return t?(t.toDate?t.toDate():new Date(t)).toLocaleDateString():""}formatCurrency(t,e="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(t)}getTotalBalance(){return this.group?this.transactions.reduce((t,e)=>t+e.splits.reduce((i,a)=>i+a.amount,0),0):0}calculateNetBalances(){let t={};for(let i of this.transactions){let a=i.createdBy;console.log(`Processing transaction ${i.id}:`),console.log(`  Total amount: ${i.totalAmount}`),console.log(`  Paid by: ${this.getMemberName(a)}`);for(let l of i.splits){let{userId:m,amount:g}=l;if(console.log(`  Split: ${this.getMemberName(m)} should pay ${g}`),m===a){console.log(`    ${this.getMemberName(m)} paid for this transaction, so they don't owe anyone`);continue}else t[m]||(t[m]={}),t[m][a]||(t[m][a]=0),t[m][a]+=g,console.log(`    ${this.getMemberName(m)} owes ${this.getMemberName(a)} ${g}`)}}for(let i of this.settlements){if(i.status==="cancelled")continue;let{fromUserId:a,toUserId:l,amount:m}=i;t[a]||(t[a]={}),t[a][l]||(t[a][l]=0),t[a][l]-=m}let e=this.simplifyBalances(t);return console.log("Final simplified balances:",e),e}simplifyBalances(t){var a,l;let e={},i=new Set;for(let m in t)for(let g in t[m]){let u=`${m}_${g}`,f=`${g}_${m}`;if(i.has(u)||i.has(f))continue;let F=((a=t[m])==null?void 0:a[g])||0,v=((l=t[g])==null?void 0:l[m])||0,D=F-v;D>0?(e[m]||(e[m]={}),e[m][g]=Math.round(D*100)/100):D<0&&(e[g]||(e[g]={}),e[g][m]=Math.round(-D*100)/100),i.add(u),i.add(f)}return e}getMemberBalances(){if(!this.group)return[];let t=this.calculateNetBalances(),e=[];return this.group.members.forEach(i=>{let a=t[i.userId]||{},l=0;Object.values(a).forEach(u=>{u>0&&(l+=u)});let m=0;Object.keys(t).forEach(u=>{if(u!==i.userId){let F=(t[u]||{})[i.userId]||0;F>0&&(m+=F)}});let g=m-l;e.push({userId:i.userId,displayName:i.displayName,email:i.email,totalPaid:m,totalOwed:l,netBalance:g,simplifiedBalances:a})}),e.sort((i,a)=>a.netBalance-i.netBalance)}getDetailedBalanceBreakdown(t){let e=this.calculateNetBalances(),i=e[t]||{},a=[];return Object.entries(i).forEach(([l,m])=>{var g;m>0&&a.push({type:"owes",otherUserId:l,otherUserName:this.getMemberName(l),amount:m,message:`${this.getMemberName(t)} owes ${this.getMemberName(l)} ${this.formatCurrency(m,((g=this.group)==null?void 0:g.currency)||"USD")}`})}),Object.keys(e).forEach(l=>{var m;if(l!==t){let u=(e[l]||{})[t]||0;u>0&&a.push({type:"owed",otherUserId:l,otherUserName:this.getMemberName(l),amount:u,message:`${this.getMemberName(l)} owes ${this.getMemberName(t)} ${this.formatCurrency(u,((m=this.group)==null?void 0:m.currency)||"USD")}`})}}),a.sort((l,m)=>m.amount-l.amount)}getBalanceBetweenUsers(t,e){var m,g;let i=this.calculateNetBalances(),a=((m=i[t])==null?void 0:m[e])||0,l=((g=i[e])==null?void 0:g[t])||0;return a-l}getBalanceSummary(){let t=this.getMemberBalances(),e=t.filter(a=>a.netBalance<0),i=t.filter(a=>a.netBalance>0);return{owes:e,owed:i}}getSettlementSuggestions(){var m;let t=this.getMemberBalances(),e=[],i=this.transactions;if(!((m=this.currentUser)!=null&&m.uid))return e;let a=t.find(g=>g.userId===this.currentUser.uid);if(!a)return e;let l=a.netBalance;if(l<0){let g=Math.abs(l);t.filter(f=>f.netBalance>0&&f.userId!==this.currentUser.uid).forEach(f=>{var D,ht;let F=f.netBalance,v=this.getBalanceBetweenUsers(this.currentUser.uid,f.userId);if(v>0){let wt=Math.min(v,F);wt>0&&e.push({fromUserId:this.currentUser.uid,fromUserName:a.displayName,toUserId:f.userId,toUserName:f.displayName,amount:wt,currency:((D=this.group)==null?void 0:D.currency)||"USD",type:"you_owe",originalTransactionId:((ht=i.find(Ct=>Ct.splits.some(Lt=>Lt.userId===f.userId)))==null?void 0:ht.originalTransactionId)||""})}})}else if(l>0){let g=l;t.filter(f=>f.netBalance<0&&f.userId!==this.currentUser.uid).forEach(f=>{var v,D;let F=this.getBalanceBetweenUsers(f.userId,this.currentUser.uid);if(F>0){let ht=Math.min(F,g);ht>0&&e.push({fromUserId:f.userId,fromUserName:f.displayName,toUserId:this.currentUser.uid,toUserName:a.displayName,amount:ht,currency:((v=this.group)==null?void 0:v.currency)||"USD",type:"owed_to_you",originalTransactionId:((D=i.find(wt=>wt.splits.some(Ct=>Ct.userId===f.userId)))==null?void 0:D.originalTransactionId)||""})}})}else{let g=t.filter(f=>f.netBalance<0&&f.userId!==this.currentUser.uid),u=t.filter(f=>f.netBalance>0&&f.userId!==this.currentUser.uid);g.forEach(f=>{let v=Math.abs(f.netBalance);u.forEach(D=>{var Ct,Lt;if(v<=0)return;let ht=D.netBalance,wt=this.getBalanceBetweenUsers(f.userId,D.userId);if(wt>0){let Yn=Math.min(v,ht,wt);Yn>0&&(e.push({fromUserId:f.userId,fromUserName:f.displayName,toUserId:D.userId,toUserName:D.displayName,amount:Yn,currency:((Ct=this.group)==null?void 0:Ct.currency)||"USD",type:"others",originalTransactionId:((Lt=i.find(Oa=>Oa.splits.some(Pa=>Pa.userId===f.userId)))==null?void 0:Lt.originalTransactionId)||""}),v-=Yn)}})})}return e.filter(g=>!this.settlements.find(f=>f.fromUserId===g.fromUserId&&f.toUserId===g.toUserId&&f.status!=="cancelled"))}createSettlement(t){var i;if(!this.group){this.notificationService.error("Group not found");return}if(!((i=this.currentUser)!=null&&i.uid)){this.notificationService.error("User not authenticated");return}this.dialog.open(Yt,{width:"400px",data:{title:"Settlement",message:`Confirm settlement of ${this.formatCurrency(t.amount,t.currency)} from ${t.fromUserName} to ${t.toUserName}?`,confirmText:"Confirm",cancelText:"Cancel"}}).afterClosed().subscribe(a=>{if(a)try{console.log("Creating settlement:",t),this.store.dispatch(Ie({groupId:this.group.id,fromUserId:t.fromUserId,toUserId:t.toUserId,amount:t.amount,notes:"Settlement created from balance summary",originalTransactionId:t.originalTransactionId})),this.notificationService.success("Settlement created successfully"),setTimeout(()=>{this.reloadData()},1e3)}catch(l){console.error("Error creating settlement:",l),this.notificationService.error("Failed to create settlement")}})}toggleBalanceDisplay(){this.showBalances=!this.showBalances}getBalanceColor(t){return t>0?"positive":t<0?"negative":"neutral"}getSettlementSubtitle(){var i;if(!((i=this.currentUser)!=null&&i.uid))return"Quick settlements to balance the group";let e=this.getMemberBalances().find(a=>a.userId===this.currentUser.uid);return e?e.netBalance<0?"You owe money to these members":e.netBalance>0?"These members owe you money":"Other members can settle their balances":"Quick settlements to balance the group"}getSettlementMessage(t){switch(t.type){case"you_owe":return`You owe ${t.toUserName}`;case"owed_to_you":return`${t.fromUserName} owes you`;case"others":return`${t.fromUserName} owes ${t.toUserName}`;default:return"Settlement suggestion"}}getCurrentUserStatus(t){return t<0?"(You owe)":t>0?"(You are owed)":"(Balanced)"}getSettlementStatus(t,e){let i=this.settlements.find(a=>a.fromUserId===t&&a.toUserId===e);return i?{exists:!0,status:i.status,amount:i.amount}:{exists:!1,status:"",amount:0}}isSettlementPending(t,e){return!!this.settlements.find(a=>a.fromUserId===t&&a.toUserId===e&&a.status==="pending")}isSettlementCompleted(t,e){return!!this.settlements.find(a=>a.fromUserId===t&&a.toUserId===e&&a.status==="completed")}getExistingSettlementsSummary(){var i;if(!((i=this.currentUser)!=null&&i.uid))return[];let t=[];return this.settlements.filter(a=>(a.fromUserId===this.currentUser.uid||a.toUserId===this.currentUser.uid)&&a.status!=="cancelled").forEach(a=>{let l=a.fromUserId===this.currentUser.uid,m=l?a.toUserId:a.fromUserId,g=this.getMemberName(m);t.push({fromUserId:a.fromUserId,fromUserName:this.getMemberName(a.fromUserId),toUserId:a.toUserId,toUserName:this.getMemberName(a.toUserId),amount:a.amount,currency:a.currency,status:a.status,isInvolvingCurrentUser:!0,isFromCurrentUser:l,otherUserName:g})}),t}getPendingSettlementsCount(){return this.settlements.filter(t=>t.status==="pending").length}getCompletedSettlementsCount(){return this.settlements.filter(t=>t.status==="completed").length}getCompletedSettlements(){return this.settlements.filter(t=>t.status==="completed")}getTransactionCreatorName(t){return this.getMemberName(t.createdBy)}getTransactionTitle(t){return`Transaction (${t.splits.length} members)`}getTotalTransactionAmount(){return this.transactions.reduce((t,e)=>t+e.totalAmount,0)}getTransactionCount(){return this.transactions.length}getSettlementCount(){return this.settlements.length}getMemberName(t){if(!this.group)return"Unknown";let e=this.group.members.find(i=>i.userId===t);return(e==null?void 0:e.displayName)||"Unknown"}getTransactionDetails(){return this.transactions.map(t=>{let e=t.splits.reduce((a,l)=>a+l.amount,0),i=t.totalAmount/e;return{id:t.id,totalAmount:t.totalAmount,paidBy:this.getMemberName(t.createdBy),totalSplitAmount:e,splitRatio:i,splits:t.splits.map(a=>({userId:a.userId,userName:this.getMemberName(a.userId),splitAmount:a.amount,actualAmount:a.amount*i,isPaidBy:a.userId===t.createdBy}))}})}toggleMembers(){var t;this.router.navigate(["dashboard/splitwise/members",(t=this.group)==null?void 0:t.id])}addTransaction(){var t;this.router.navigate(["dashboard/transactions"],{queryParams:{splitGroupId:(t=this.group)==null?void 0:t.id,returnUrl:this.router.url}})}openEditTransactionDialog(t){if(!this.group)return;this.dialog.open(Io,{width:"700px",maxWidth:"90vw",maxHeight:"90vh",data:{transaction:t,groupMembers:this.group.members},disableClose:!0,panelClass:"edit-transaction-dialog"}).afterClosed().subscribe(i=>{i&&this.splitwiseService.updateSplitTransaction(t.id,{amount:i.totalAmount,splits:i.splits}).then(()=>{this.notificationService.success("Transaction updated successfully"),this.reloadData()}).catch(a=>{console.error("Error updating transaction:",a),this.notificationService.error("Failed to update transaction")})})}};o.\u0275fac=function(e){return new(e||o)(h(un),h(oe),h(nt),h(st),h(xt),h(zt),h(pe),h(De))},o.\u0275cmp=B({type:o,selectors:[["app-group-details"]],decls:4,vars:3,consts:[["groupMenu","matMenu"],[1,"group-details-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header"],[1,"header-content"],[1,"header-navigation"],["mat-icon-button","","aria-label","Go back",1,"back-btn","!z-[999]",3,"click"],[3,"click"],[1,"group-title"],["mat-icon-button","","aria-label","More options",1,"more-actions-btn",3,"matMenuTriggerFor"],[1,"header-actions"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],[1,"stats-section"],[1,"stats-card"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-content",3,"click"],[1,"stat-value"],[1,"stat-label"],[1,"stat-content"],["class","balances-section",4,"ngIf"],["class","settlement-suggestions",4,"ngIf"],[1,"transactions-section"],[1,"transactions-card"],["class","transactions-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","settlements-section",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"],[1,"balances-section"],[1,"balances-card"],[1,"flex","justify-between","items-center","w-full"],["mat-icon-button","","aria-label","Add Member",1,"add-transaction-btn",3,"click"],[1,"balances-list"],["class","balance-item",3,"current-user",4,"ngFor","ngForOf"],["class","detailed-balances",4,"ngIf"],[1,"balance-item"],[1,"balance-info"],[1,"member-name"],["class","current-user-badge",4,"ngIf"],[1,"balance-details"],[1,"paid"],[1,"owed"],[1,"net-balance"],["class","status-indicator",4,"ngIf"],[1,"current-user-badge"],[1,"status-indicator"],[1,"detailed-balances"],[4,"ngIf"],[1,"breakdown-list"],["class","breakdown-item",3,"class",4,"ngFor","ngForOf"],["class","no-breakdown",4,"ngIf"],[1,"breakdown-item"],[1,"breakdown-info"],[1,"breakdown-message"],[1,"breakdown-amount"],[1,"no-breakdown"],[1,"settlement-suggestions"],[1,"suggestions-card"],[1,"suggestions-list"],["class","suggestion-item",3,"class",4,"ngFor","ngForOf"],[1,"suggestion-item"],[1,"suggestion-info"],[1,"suggestion-message"],[1,"message-text"],[1,"settlement-parties"],[1,"from-user"],[1,"to-user"],[1,"settlement-amount"],["mat-raised-button","","size","small",3,"click","color","disabled"],[1,"transactions-list"],["class","transaction-item simple",3,"click",4,"ngFor","ngForOf"],[1,"transaction-item","simple",3,"click"],[1,"transaction-main"],[1,"transaction-info"],[1,"transaction-title"],[1,"transaction-meta"],[1,"paid-by"],[1,"transaction-date"],[1,"transaction-amount"],[1,"empty-state"],[1,"empty-icon"],[1,"settlements-section"],[1,"settlements-card"],[1,"settlements-list"],["class","settlement-item",4,"ngFor","ngForOf"],[1,"settlement-item"],[1,"settlement-info"],["class","settlement-date",4,"ngIf"],[1,"settlement-date"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){e&1&&(r(0,"div",1),P(1,wr,4,0,"div",2)(2,$r,54,14,"div",3)(3,Hr,11,0,"div",4),s()),e&2&&(p(),_("ngIf",i.isLoading),p(),_("ngIf",!i.isLoading&&i.group),p(),_("ngIf",!i.isLoading&&!i.group))},dependencies:[Ft,et,be,Me,Oe,xn,Ce,vn,lt,_t,ot,Pt,On,Mn,Pn,gi,Vo,$o,gn],styles:[".group-details-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:24px;min-height:100vh;background:#fafafa}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px;text-align:center;padding:40px 20px}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#e0e0e0}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:18px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 24px;font-size:14px;line-height:1.5}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;font-weight:500;font-size:14px;border-radius:6px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-radius:8px;margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease;border-radius:50%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#333;background-color:#f5f5f5}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#333;line-height:1.2}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease;border-radius:50%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]:hover{color:#333;background-color:#f5f5f5}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:flex;gap:1px;background:#f0f0f0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{flex-direction:column}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;background:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{text-align:center;cursor:pointer;padding:24px 16px;transition:background-color .2s ease;width:100%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]:hover{background-color:#fafafa}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-bottom:4px;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:#666;font-weight:400;text-transform:uppercase;letter-spacing:.5px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]{background-color:#f8f9fa;border-left:3px solid #333;padding-left:16px;margin:0 -16px 0 0;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]   .current-user-badge[_ngcontent-%COMP%]{background:#333;color:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#333;margin-bottom:2px;display:flex;align-items:center;gap:8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]   .current-user-badge[_ngcontent-%COMP%]{background:#666;color:#fff;padding:1px 6px;border-radius:4px;font-size:10px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]   .paid[_ngcontent-%COMP%]{color:#666;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]   .owed[_ngcontent-%COMP%]{color:#666;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]{font-weight:600;font-size:14px;text-align:right}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.positive[_ngcontent-%COMP%]{color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.negative[_ngcontent-%COMP%]{color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.neutral[_ngcontent-%COMP%]{color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{display:block;font-size:10px;font-weight:400;margin-top:2px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.you_owe[_ngcontent-%COMP%]{border-left:3px solid #ff6b6b}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.owed_to_you[_ngcontent-%COMP%]{border-left:3px solid #51cf66}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.others[_ngcontent-%COMP%]{border-left:3px solid #ffd43b}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#333;margin-bottom:2px;display:flex;align-items:center;gap:8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]{font-size:10px;font-weight:500;padding:1px 6px;border-radius:4px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status.pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status.completed[_ngcontent-%COMP%]{background:#d1edff;color:#0c5460}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;color:#666;margin-bottom:2px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px;color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;font-weight:500;font-size:12px;transition:all .2s ease;min-width:80px;height:32px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){transform:none;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px;font-size:14px;width:14px;height:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;padding:12px 0;background-color:#fff;transition:background-color .2s ease;cursor:pointer}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]{flex:1;min-width:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-title[_ngcontent-%COMP%]{font-weight:500;color:#333;margin-bottom:2px;font-size:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:12px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .paid-by[_ngcontent-%COMP%]{font-weight:400;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333;white-space:nowrap}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#e0e0e0;margin-bottom:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:20px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;font-weight:500;padding:10px 20px;font-size:14px;transition:all .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:none;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;color:#666;margin-bottom:2px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px;color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333;margin-bottom:2px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-date[_ngcontent-%COMP%]{font-size:11px;color:#999;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]{margin-top:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #f0f0f0;border-radius:6px;background:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header{padding:12px 16px;background:#fafafa;border-radius:6px 6px 0 0;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-expansion-panel-header-title{font-weight:500;color:#333;display:flex;align-items:center;gap:8px;font-size:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-expansion-panel-header-description{color:#666;font-size:12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header mat-icon{color:#666;font-size:16px;width:16px;height:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:16px;background:#fff;border-radius:0 0 6px 6px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f8f8f8;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;border-radius:4px;padding-left:8px;padding-right:8px;margin:0 -8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owes[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owes[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{color:#ff6b6b;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owed[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#51cf66}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owed[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{color:#51cf66;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   .breakdown-message[_ngcontent-%COMP%]{font-size:13px;color:#333;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .no-breakdown[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;color:#51cf66;font-weight:500;background:#f8f9fa;border-radius:4px;border:1px solid #e9ecef}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .no-breakdown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#51cf66;font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#ff6b6b}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#fff5f5}"]});let n=o;return n})();function Qr(n,o){if(n&1&&E(0,"img",16),n&2){let c=b().$implicit;_("src",c.photoURL,jt)("alt",c.displayName)}}function Yr(n,o){n&1&&(r(0,"mat-icon"),d(1,"person"),s())}function qr(n,o){if(n&1&&(r(0,"div",7)(1,"div",8)(2,"div",9),P(3,Qr,1,2,"img",10)(4,Yr,2,0,"mat-icon",11),s(),r(5,"div",12)(6,"span",13),d(7),s(),r(8,"span",14),d(9),s(),r(10,"span",15),d(11),s()()()()),n&2){let c=o.$implicit;p(3),_("ngIf",c.photoURL),p(),_("ngIf",!c.photoURL),p(3),S(c.displayName),p(2),S(c.email),p(2),S(c.role)}}var Yo=(()=>{let o=class o{constructor(){this.isMobile=!1,this.addMember=new K,this.Math=Math}formatCurrency(t,e="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(t)}getGroupMemberCount(){var t;return((t=this.group)==null?void 0:t.members.filter(e=>e.isActive).length)||0}getPositiveBalanceMembers(){return this.group?[]:[]}getNegativeBalanceMembers(){return this.group?[]:[]}getNeutralBalanceMembers(){return this.group?[]:[]}onAddMember(){this.addMember.emit()}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=B({type:o,selectors:[["app-members"]],inputs:{group:"group",isMobile:"isMobile"},outputs:{addMember:"addMember"},decls:18,vars:2,consts:[[1,"members-container"],[1,"members-section"],[1,"members-card"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"add-member-section"],["mat-stroked-button","","color","primary",3,"click"],[1,"member-item"],[1,"member-info"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],[1,"member-role"],[3,"src","alt"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title")(5,"mat-icon"),d(6,"people"),s(),d(7," Members "),s(),r(8,"mat-card-subtitle"),d(9),s()(),r(10,"mat-card-content")(11,"div",3),P(12,qr,12,5,"div",4),s()()()(),r(13,"div",5)(14,"button",6),M("click",function(){return i.onAddMember()}),r(15,"mat-icon"),d(16,"person_add"),s(),d(17," Add Member "),s()()()),e&2&&(p(9),k(" ",i.getGroupMemberCount()," active members "),p(3),_("ngForOf",i.group.members))},dependencies:[Ft,et,be,Me,Oe,xn,Ce,lt,ot],styles:[".members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:12px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:11px;color:#1976d2;text-transform:uppercase;letter-spacing:.5px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]   .positive-icon[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]{border-left:4px solid #f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]   .negative-icon[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]{border-left:4px solid #666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]   .neutral-icon[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px 0}@media (max-width: 768px){.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:12px 0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:11px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:10px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let n=o;return n})();function Kr(n,o){n&1&&(r(0,"div",4),E(1,"mat-spinner",5),r(2,"p"),d(3,"Loading group members..."),s()())}function Xr(n,o){if(n&1){let c=G();r(0,"div",6)(1,"div",7)(2,"button",8),M("click",function(){T(c);let e=b();return A(e.goBack())}),r(3,"mat-icon"),d(4,"arrow_back"),s()()(),r(5,"app-members",9),M("addMember",function(){T(c);let e=b();return A(e.openAddMemberDialog())}),s()()}if(n&2){let c=b();p(5),_("group",c.group)("isMobile",c.isMobile)}}function Zr(n,o){if(n&1){let c=G();r(0,"div",10)(1,"mat-icon",11),d(2,"error"),s(),r(3,"h3"),d(4,"Group Not Found"),s(),r(5,"p"),d(6,"The group you're looking for doesn't exist or you don't have access to it."),s(),r(7,"button",12),M("click",function(){T(c);let e=b();return A(e.goBack())}),d(8," Go Back "),s()()}}var qo=(()=>{let o=class o{constructor(t,e,i,a,l,m,g){this.route=t,this.router=e,this.auth=i,this.store=a,this.dialog=l,this.notificationService=m,this.breakpointObserver=g,this.group=null,this.isLoading=!1,this.error=null,this.currentUser=null,this.isMobile=!1,this.destroy$=new ft,this.breakpointObserver.observe([ue.Handset]).pipe(kt(this.destroy$)).subscribe(u=>{this.isMobile=u.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(Ee).pipe(kt(this.destroy$)).subscribe(t=>{this.isLoading=t.loading,this.error=t.error;let e=this.route.snapshot.paramMap.get("id");e&&(this.group=t.groups.find(i=>i.id===e)||null,!this.group&&!this.isLoading&&this.store.dispatch(Et({groupId:e}))),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Rt()))})}loadGroupDetails(){let t=this.route.snapshot.paramMap.get("id");t&&this.store.dispatch(Et({groupId:t}))}goBack(){this.group?this.router.navigate(["dashboard/splitwise/group",this.group.id]):this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(Ae,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(e=>{e&&(e.action==="delete"?this.store.dispatch(Nt({groupId:this.group.id,userId:e.userId})):this.store.dispatch(vt({groupId:this.group.id,request:e})))})}};o.\u0275fac=function(e){return new(e||o)(h(un),h(oe),h(nt),h(st),h(xt),h(zt),h(pe))},o.\u0275cmp=B({type:o,selectors:[["app-members-page"]],decls:4,vars:3,consts:[[1,"members-page-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header-actions"],["mat-icon-button","",1,"back-btn",3,"click"],[3,"addMember","group","isMobile"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0),P(1,Kr,4,0,"div",1)(2,Xr,6,2,"div",2)(3,Zr,9,0,"div",3),s()),e&2&&(p(),_("ngIf",i.isLoading),p(),_("ngIf",!i.isLoading&&i.group),p(),_("ngIf",!i.isLoading&&!i.group))},dependencies:[et,lt,_t,ot,Pt,Yo],styles:[".members-page-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh;background:#f5f5f5}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px;text-align:center}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:24px;box-shadow:0 2px 8px #0000001a}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1976d2}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex:1}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 4px;font-size:24px;font-weight:600;color:#333}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}@media (max-width: 768px){.members-page-container[_ngcontent-%COMP%]{padding:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{width:100%}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}}"]});let n=o;return n})();var Jr=[{path:"",component:So},{path:"group/:id",component:Qo},{path:"members/:id",component:qo}],Wo=(()=>{let o=class o{};o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=J({type:o}),o.\u0275inj=Z({imports:[Re.forChild(Jr),Re]});let n=o;return n})();var Ko=(()=>{let o=class o{};o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=J({type:o}),o.\u0275inj=Z({imports:[qi,pn,Qt,fn,Zi,wn]});let n=o;return n})();var tc=["button"],ec=["*"];function nc(n,o){if(n&1&&E(0,"mat-pseudo-checkbox",3),n&2){let c=b();_("disabled",c.disabled)}}function ic(n,o){if(n&1&&E(0,"mat-pseudo-checkbox",3),n&2){let c=b();_("disabled",c.disabled)}}var Xo=new W("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:oc});function oc(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var Zo=new W("MatButtonToggleGroup"),ac={provide:Ai,useExisting:xi(()=>rc),multi:!0},Jo=0,$n=class{constructor(o,c){this.source=o,this.value=c}},rc=(()=>{let o=class o{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get value(){let t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(e=>e.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){let t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=t,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(t){this._hideMultipleSelectionIndicator=t,this._markButtonsForCheck()}constructor(t,e,i){var a,l;this._changeDetector=t,this._dir=i,this._multiple=!1,this._disabled=!1,this._disabledInteractive=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name=`mat-button-toggle-group-${Jo++}`,this.valueChange=new K,this.change=new K,this.appearance=e&&e.appearance?e.appearance:"standard",this.hideSingleSelectionIndicator=(a=e==null?void 0:e.hideSingleSelectionIndicator)!=null?a:!1,this.hideMultipleSelectionIndicator=(l=e==null?void 0:e.hideMultipleSelectionIndicator)!=null?l:!1}ngOnInit(){this._selectionModel=new io(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked)),this.multiple||this._initializeTabIndex()}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_keydown(t){if(this.multiple||this.disabled)return;let i=t.target.id,a=this._buttonToggles.toArray().findIndex(m=>m.buttonId===i),l=null;switch(t.keyCode){case 32:case 13:l=this._buttonToggles.get(a)||null;break;case 38:l=this._getNextButton(a,-1);break;case 37:l=this._getNextButton(a,this.dir==="ltr"?-1:1);break;case 40:l=this._getNextButton(a,1);break;case 39:l=this._getNextButton(a,this.dir==="ltr"?1:-1);break;default:return}l&&(t.preventDefault(),l._onButtonClick(),l.focus())}_emitChangeEvent(t){let e=new $n(t,this.value);this._rawValue=e.value,this._controlValueAccessorChangeFn(e.value),this.change.emit(e)}_syncButtonToggle(t,e,i=!1,a=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):a=!0,a?Promise.resolve().then(()=>this._updateModelValue(t,i)):this._updateModelValue(t,i)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>t.value!=null&&e===t.value):t.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(t=>{t.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let t=0;t<this._buttonToggles.length;t++){let e=this._buttonToggles.get(t);if(!e.disabled){e.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(t,e){let i=this._buttonToggles;for(let a=1;a<=i.length;a++){let l=(t+e*a+i.length)%i.length,m=i.get(l);if(m&&!m.disabled)return m}return null}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(e=>this._selectValue(e))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>{t.checked=!1,this.multiple||(t.tabIndex=-1)})}_selectValue(t){let e=this._buttonToggles.find(i=>i.value!=null&&i.value===t);e&&(e.checked=!0,this._selectionModel.select(e),this.multiple||(e.tabIndex=0))}_updateModelValue(t,e){e&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){var t;(t=this._buttonToggles)==null||t.forEach(e=>e._markForCheck())}};o.\u0275fac=function(e){return new(e||o)(h(It),h(Xo,8),h(Wi,8))},o.\u0275dir=Tt({type:o,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,i,a){if(e&1&&Ue(a,ta,5),e&2){let l;Bt(l=Vt())&&(i._buttonToggles=l)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(e,i){e&1&&M("keydown",function(l){return i._keydown(l)}),e&2&&(Mt("role",i.multiple?"group":"radiogroup")("aria-disabled",i.disabled),q("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard",i.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",tt],value:"value",multiple:[2,"multiple","multiple",tt],disabled:[2,"disabled","disabled",tt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",tt],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",tt],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",tt]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[Ht([ac,{provide:Zo,useExisting:o}]),At]});let n=o;return n})(),ta=(()=>{let o=class o{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(t){this._tabIndex=t,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=t}get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}constructor(t,e,i,a,l,m){var u;this._changeDetectorRef=e,this._elementRef=i,this._focusMonitor=a,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new K;let g=Number(l);this.tabIndex=g||g===0?g:null,this.buttonToggleGroup=t,this.appearance=m&&m.appearance?m.appearance:"standard",this.disabledInteractive=(u=m==null?void 0:m.disabledInteractive)!=null?u:!1}ngOnInit(){let t=this.buttonToggleGroup;this.id=this.id||`mat-button-toggle-${Jo++}`,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){if(this.disabled)return;let t=this.isSingleSelector()?!0:!this._checked;if(t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let e=this.buttonToggleGroup._buttonToggles.find(i=>i.tabIndex===0);e&&(e.tabIndex=-1),this.tabIndex=0}this.change.emit(new $n(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}};o.\u0275fac=function(e){return new(e||o)(h(Zo,8),h(It),h(ze),h(hn),dn("tabindex"),h(Xo,8))},o.\u0275cmp=B({type:o,selectors:[["mat-button-toggle"]],viewQuery:function(e,i){if(e&1&&Ne(tc,5),e&2){let a;Bt(a=Vt())&&(i._buttonElement=a.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(e,i){e&1&&M("focus",function(){return i.focus()}),e&2&&(Mt("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),q("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-disabled-interactive",i.disabledInteractive)("mat-button-toggle-appearance-standard",i.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",tt],appearance:"appearance",checked:[2,"checked","checked",tt],disabled:[2,"disabled","disabled",tt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",tt]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[At,Dt],ngContentSelectors:ec,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,i){if(e&1){let a=G();ne(),r(0,"button",1,0),M("click",function(){return T(a),A(i._onButtonClick())}),r(2,"span",2),P(3,nc,1,1,"mat-pseudo-checkbox",3)(4,ic,1,1,"mat-pseudo-checkbox",3),Ot(5),s()(),E(6,"span",4)(7,"span",5)}if(e&2){let a=$t(1);_("id",i.buttonId)("disabled",i.disabled&&!i.disabledInteractive||null),Mt("role",i.isSingleSelector()?"radio":"button")("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-pressed",i.isSingleSelector()?null:i.checked)("aria-checked",i.isSingleSelector()?i.checked:null)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-disabled",i.disabled&&i.disabledInteractive?"true":null),p(3),$(i.buttonToggleGroup&&i.checked&&!i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),p(),$(i.buttonToggleGroup&&i.checked&&i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),p(3),_("matRippleTrigger",a)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[Ki,Xi],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0});let n=o;return n})(),ea=(()=>{let o=class o{};o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=J({type:o}),o.\u0275inj=Z({imports:[Qt,fn,ta,Qt]});let n=o;return n})();var cc={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Qn="__@ngrx/effects_create__";function rt(n,o={}){let c=o.functional?n:n(),t=C(C({},cc),o);return Object.defineProperty(c,Qn,{value:t}),c}function sc(n){return Object.getOwnPropertyNames(n).filter(t=>n[t]&&n[t].hasOwnProperty(Qn)?n[t][Qn].hasOwnProperty("dispatch"):!1).map(t=>{let e=n[t][Qn];return C({propertyName:t},e)})}function lc(n){return sc(n)}function aa(n){return Object.getPrototypeOf(n)}function mc(n){return!!n.constructor&&n.constructor.name!=="Object"&&n.constructor.name!=="Function"}function ra(n){return typeof n=="function"}function na(n){return n.filter(ra)}function dc(n){return n instanceof W||ra(n)}function gc(n,o,c){let t=aa(n),i=!!t&&t.constructor.name!=="Object"?t.constructor.name:null,a=lc(n).map(({propertyName:l,dispatch:m,useEffectsErrorHandler:g})=>{let u=typeof n[l]=="function"?n[l]():n[l],f=g?c(u,o):u;return m===!1?f.pipe(bi()):f.pipe(Oi()).pipe(N(v=>({effect:n[l],notification:v,propertyName:l,sourceName:i,sourceInstance:n})))});return Fe(...a)}var pc=10;function ca(n,o,c=pc){return n.pipe(V(t=>(o&&o.handleError(t),c<=1?n:ca(n,o,c-1))))}var sa=(()=>{let o=class o extends _i{constructor(t){super(),t&&(this.source=t)}lift(t){let e=new o;return e.source=this,e.operator=t,e}};o.\u0275fac=function(e){return new(e||o)(R(Bi))},o.\u0275prov=mt({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();function ct(...n){return yt(o=>n.some(c=>typeof c=="string"?c===o.type:c.type===o.type))}var la=new W("@ngrx/effects Internal Root Guard"),Hn=new W("@ngrx/effects User Provided Effects"),pi=new W("@ngrx/effects Internal Root Effects"),ma=new W("@ngrx/effects Internal Root Effects Instances"),ia=new W("@ngrx/effects Internal Feature Effects"),da=new W("@ngrx/effects Internal Feature Effects Instance Groups"),uc=new W("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>ca}),ga="@ngrx/effects/init",Tm=x(ga);function _c(n,o){if(n.notification.kind==="N"){let c=n.notification.value;!hc(c)&&o.handleError(new Error(`Effect ${fc(n)} dispatched an invalid action: ${bc(c)}`))}}function hc(n){return typeof n!="function"&&n&&n.type&&typeof n.type=="string"}function fc({propertyName:n,sourceInstance:o,sourceName:c}){let t=typeof o[n]=="function";return!!c?`"${c}.${String(n)}${t?"()":""}"`:`"${String(n)}()"`}function bc(n){try{return JSON.stringify(n)}catch{return n}}var Cc="ngrxOnIdentifyEffects";function Mc(n){return ui(n,Cc)}var Oc="ngrxOnRunEffects";function Pc(n){return ui(n,Oc)}var xc="ngrxOnInitEffects";function vc(n){return ui(n,xc)}function ui(n,o){return n&&o in n&&typeof n[o]=="function"}var pa=(()=>{let o=class o extends ft{constructor(t,e){super(),this.errorHandler=t,this.effectsErrorHandler=e}addEffects(t){this.next(t)}toActions(){return this.pipe(qn(t=>mc(t)?aa(t):t),U(t=>t.pipe(qn(wc))),U(t=>{let e=t.pipe(Mi(a=>yc(this.errorHandler,this.effectsErrorHandler)(a)),N(a=>(_c(a,this.errorHandler),a.notification)),yt(a=>a.kind==="N"&&a.value!=null),Ci()),i=t.pipe(cn(1),yt(vc),N(a=>a.ngrxOnInitEffects()));return Fe(e,i)}))}};o.\u0275fac=function(e){return new(e||o)(R(vi),R(uc))},o.\u0275prov=mt({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();function wc(n){return Mc(n)?n.ngrxOnIdentifyEffects():""}function yc(n,o){return c=>{let t=gc(c,n,o);return Pc(c)?c.ngrxOnRunEffects(t):t}}var ua=(()=>{let o=class o{get isStarted(){return!!this.effectsSubscription}constructor(t,e){this.effectSources=t,this.store=e,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};o.\u0275fac=function(e){return new(e||o)(R(pa),R(st))},o.\u0275prov=mt({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})(),_a=(()=>{let o=class o{constructor(t,e,i,a,l,m,g){this.sources=t,e.start();for(let u of a)t.addEffects(u);i.dispatch({type:ga})}addEffects(t){this.sources.addEffects(t)}};o.\u0275fac=function(e){return new(e||o)(R(pa),R(ua),R(st),R(ma),R(ni,8),R(ii,8),R(la,8))},o.\u0275mod=J({type:o}),o.\u0275inj=Z({});let n=o;return n})(),kc=(()=>{let o=class o{constructor(t,e,i,a){let l=e.flat();for(let m of l)t.addEffects(m)}};o.\u0275fac=function(e){return new(e||o)(R(_a),R(da),R(ni,8),R(ii,8))},o.\u0275mod=J({type:o}),o.\u0275inj=Z({});let n=o;return n})(),ha=(()=>{let o=class o{static forFeature(...t){let e=t.flat(),i=na(e);return{ngModule:kc,providers:[i,{provide:ia,multi:!0,useValue:e},{provide:Hn,multi:!0,useValue:[]},{provide:da,multi:!0,useFactory:oa,deps:[ia,Hn]}]}}static forRoot(...t){let e=t.flat(),i=na(e);return{ngModule:_a,providers:[i,{provide:pi,useValue:[e]},{provide:la,useFactory:Sc},{provide:Hn,multi:!0,useValue:[]},{provide:ma,useFactory:oa,deps:[pi,Hn]}]}}};o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=J({type:o}),o.\u0275inj=Z({});let n=o;return n})();function oa(n,o){let c=[];for(let t of n)c.push(...t);for(let t of o)c.push(...t);return c.map(t=>dc(t)?sn(t):t)}function Sc(){let n=sn(ua,{optional:!0,skipSelf:!0}),o=sn(pi,{self:!0});if(!(o.length===1&&o[0].length===0)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var fa={groups:[],invitations:[],transactions:[],settlements:[],selectedGroup:null,loading:!1,error:null};var ba=$i(fa,w(ve,n=>O(C({},n),{loading:!0,error:null})),w(kn,(n,{groups:o})=>O(C({},n),{groups:o,loading:!1,error:null})),w(Ve,(n,{error:o})=>O(C({},n),{loading:!1,error:o})),w(Et,n=>O(C({},n),{loading:!0,error:null})),w(Sn,(n,{group:o})=>O(C({},n),{groups:n.groups.find(c=>c.id===o.id)?n.groups.map(c=>c.id===o.id?o:c):[...n.groups,o],selectedGroup:o,loading:!1,error:null})),w($e,(n,{error:o})=>O(C({},n),{loading:!1,error:o})),w(we,n=>O(C({},n),{loading:!0,error:null})),w(In,(n,{invitations:o})=>O(C({},n),{invitations:o,loading:!1,error:null})),w(He,(n,{error:o})=>O(C({},n),{loading:!1,error:o})),w(ye,n=>O(C({},n),{loading:!0,error:null})),w(En,(n,{group:o})=>O(C({},n),{groups:[...n.groups,o],loading:!1,error:null})),w(Qe,(n,{error:o})=>O(C({},n),{loading:!1,error:o})),w(vt,n=>O(C({},n),{loading:!0,error:null})),w(Tn,(n,{group:o})=>O(C({},n),{groups:n.groups.map(c=>c.id===o.id?o:c),loading:!1,error:null})),w(Ye,(n,{error:o})=>O(C({},n),{loading:!1,error:o})),w(ke,n=>O(C({},n),{loading:!0,error:null})),w(An,(n,{invitationId:o})=>O(C({},n),{invitations:n.invitations.filter(c=>c.id!==o),loading:!1,error:null})),w(qe,(n,{error:o})=>O(C({},n),{loading:!1,error:o})),w(Se,n=>O(C({},n),{loading:!0,error:null})),w(Dn,(n,{invitationId:o})=>O(C({},n),{invitations:n.invitations.filter(c=>c.id!==o),loading:!1,error:null})),w(We,(n,{error:o})=>O(C({},n),{loading:!1,error:o})),w(Ut,n=>O(C({},n),{loading:!0,error:null})),w(Fn,(n,{groupId:o})=>{var c;return O(C({},n),{groups:n.groups.filter(t=>t.id!==o),selectedGroup:((c=n.selectedGroup)==null?void 0:c.id)===o?null:n.selectedGroup,loading:!1,error:null})}),w(Ke,(n,{error:o})=>O(C({},n),{loading:!1,error:o})),w(Oo,(n,{group:o})=>O(C({},n),{selectedGroup:o})),w(Zt,n=>O(C({},n),{loading:!0,error:null})),w(zn,(n,{transactions:o})=>O(C({},n),{transactions:o,loading:!1,error:null})),w(Xe,(n,{error:o})=>O(C({},n),{loading:!1,error:o})),w(Jt,n=>O(C({},n),{loading:!0,error:null})),w(Un,(n,{settlements:o})=>O(C({},n),{settlements:o,loading:!1,error:null})),w(Ze,(n,{error:o})=>O(C({},n),{loading:!1,error:o})),w(Nn,n=>O(C({},n),{loading:!0,error:null})),w(Rn,(n,{transaction:o})=>O(C({},n),{transactions:[...n.transactions,o],loading:!1,error:null})),w(Je,(n,{error:o})=>O(C({},n),{loading:!1,error:o})),w(Gn,n=>O(C({},n),{loading:!0,error:null})),w(Ln,(n,{transaction:o})=>O(C({},n),{transactions:n.transactions.map(c=>c.id===o.id?o:c),loading:!1,error:null})),w(tn,(n,{error:o})=>O(C({},n),{loading:!1,error:o})),w(Ie,n=>O(C({},n),{loading:!0,error:null})),w(jn,(n,{settlement:o})=>O(C({},n),{settlements:[...n.settlements,o],loading:!1,error:null})),w(en,(n,{error:o})=>O(C({},n),{loading:!1,error:o})),w(Nt,n=>O(C({},n),{loading:!0,error:null})),w(Bn,(n,{groupId:o})=>O(C({},n),{loading:!1,error:null})),w(nn,(n,{error:o})=>O(C({},n),{loading:!1,error:o})),w(Rt,n=>O(C({},n),{error:null})));var Ca=(()=>{let o=class o{constructor(t,e,i,a,l){this.actions$=t,this.splitwiseService=e,this.userService=i,this.store=a,this.auth=l,this.loadGroups$=rt(()=>this.actions$.pipe(ct(ve),U(()=>z(this.userService.getCurrentUser()).pipe(U(m=>m!=null&&m.uid?this.splitwiseService.getUserGroups(m.uid).pipe(N(g=>kn({groups:g||[]})),V(g=>I(Ve({error:g.message})))):I(Ve({error:"User not authenticated"}))))))),this.loadGroupById$=rt(()=>this.actions$.pipe(ct(Et),U(m=>z(this.splitwiseService.getGroupById(m.groupId)).pipe(N(g=>g?Sn({group:g}):$e({error:"Group not found"})),V(g=>I($e({error:g.message}))))))),this.loadInvitations$=rt(()=>this.actions$.pipe(ct(we),U(()=>z(this.userService.getCurrentUser()).pipe(U(m=>m!=null&&m.uid?this.splitwiseService.getUserInvitations(m.uid).pipe(N(g=>In({invitations:g||[]})),V(g=>I(He({error:g.message})))):I(He({error:"User not authenticated"}))))))),this.createGroup$=rt(()=>this.actions$.pipe(ct(ye),U(m=>z(this.userService.getCurrentUser()).pipe(U(g=>g!=null&&g.uid?this.splitwiseService.createGroup(m.request,g.uid).pipe(N(u=>En({group:u})),V(u=>I(Qe({error:u.message})))):I(Qe({error:"User not authenticated"}))))))),this.addMember$=rt(()=>this.actions$.pipe(ct(vt),U(m=>z(this.userService.getCurrentUser()).pipe(U(g=>g!=null&&g.uid?z(this.splitwiseService.addMemberToGroup(m.groupId,m.request,g.uid)).pipe(N(u=>Tn({group:u})),V(u=>I(Ye({error:u.message})))):I(Ye({error:"User not authenticated"}))))))),this.acceptInvitation$=rt(()=>this.actions$.pipe(ct(ke),U(m=>z(this.userService.getCurrentUser()).pipe(U(g=>g!=null&&g.uid?z(this.splitwiseService.acceptInvitation(m.invitationId,g.uid)).pipe(N(()=>An({invitationId:m.invitationId})),V(u=>I(qe({error:u.message})))):I(qe({error:"User not authenticated"}))))))),this.declineInvitation$=rt(()=>this.actions$.pipe(ct(Se),U(m=>z(this.userService.getCurrentUser()).pipe(U(g=>g!=null&&g.uid?z(this.splitwiseService.declineInvitation(m.invitationId,g.uid)).pipe(N(()=>Dn({invitationId:m.invitationId})),V(u=>I(We({error:u.message})))):I(We({error:"User not authenticated"}))))))),this.deleteGroup$=rt(()=>this.actions$.pipe(ct(Ut),U(m=>z(this.userService.getCurrentUser()).pipe(U(g=>g!=null&&g.uid?this.splitwiseService.deleteGroup(m.groupId,g.uid).pipe(N(()=>Fn({groupId:m.groupId})),V(u=>I(Ke({error:u.message})))):I(Ke({error:"User not authenticated"}))))))),this.loadTransactions$=rt(()=>this.actions$.pipe(ct(Zt),U(m=>z(this.userService.getCurrentUser()).pipe(U(g=>g!=null&&g.uid?this.splitwiseService.getGroupTransactions(m.groupId,g.uid).pipe(N(u=>zn({transactions:u||[]})),V(u=>I(Xe({error:u.message})))):I(Xe({error:"User not authenticated"}))))))),this.loadSettlements$=rt(()=>this.actions$.pipe(ct(Jt),U(m=>z(this.userService.getCurrentUser()).pipe(U(g=>g!=null&&g.uid?this.splitwiseService.getGroupSettlements(m.groupId,g.uid).pipe(N(u=>Un({settlements:u||[]})),V(u=>I(Ze({error:u.message})))):I(Ze({error:"User not authenticated"}))))))),this.createSplitTransaction$=rt(()=>this.actions$.pipe(ct(Nn),U(m=>z(this.userService.getCurrentUser()).pipe(U(g=>g!=null&&g.uid?this.splitwiseService.createSplitTransaction(m.request,g.uid).pipe(N(u=>Rn({transaction:u})),V(u=>I(Je({error:u.message})))):I(Je({error:"User not authenticated"}))))))),this.updateSplitTransaction$=rt(()=>this.actions$.pipe(ct(Gn),U(m=>z(this.userService.getCurrentUser()).pipe(U(g=>g!=null&&g.uid?z(this.splitwiseService.updateSplitTransaction(m.transactionId,m.updates)).pipe(N(()=>Ln({transaction:{id:m.transactionId}})),V(u=>I(tn({error:u.message})))):I(tn({error:"User not authenticated"}))))))),this.createSettlement$=rt(()=>this.actions$.pipe(ct(Ie),U(m=>z(this.userService.getCurrentUser()).pipe(U(g=>{if(!(g!=null&&g.uid))return I(en({error:"User not authenticated"}));let u={groupId:m.groupId,fromUserId:m.fromUserId,toUserId:m.toUserId,amount:m.amount,notes:m.notes,originalTransactionId:m.originalTransactionId};return z(this.splitwiseService.createSettlement(u)).pipe(N(f=>jn({settlement:{id:f}})),V(f=>I(en({error:f.message}))))}))))),this.removeMember$=rt(()=>this.actions$.pipe(ct(Nt),U(m=>z(this.userService.getCurrentUser()).pipe(U(g=>g!=null&&g.uid?z(this.splitwiseService.removeMemberFromGroup(m.groupId,m.userId,g.uid)).pipe(N(()=>Bn({groupId:m.groupId})),V(u=>I(nn({error:u.message})))):I(nn({error:"User not authenticated"})))))))}};o.\u0275fac=function(e){return new(e||o)(R(sa),R(De),R(_e),R(st),R(nt))},o.\u0275prov=mt({token:o,factory:o.\u0275fac});let n=o;return n})();function Ec(n,o){if(n&1&&(r(0,"div",0)(1,"div",1),E(2,"div",2),r(3,"p",3),d(4),s()()()),n&2){let c=b();p(4),S(c.message)}}var $m=(()=>{let o=class o{constructor(t){this.loaderService=t,this.message="Loading...",this.loading$=this.loaderService.loading$}};o.\u0275fac=function(e){return new(e||o)(h(mo))},o.\u0275cmp=B({type:o,selectors:[["app-loader"]],inputs:{message:"message"},standalone:!0,features:[Dt],decls:2,vars:3,consts:[[1,"loader-overlay"],[1,"loader"],[1,"spinner"],[1,"loader-message"]],template:function(e,i){e&1&&(P(0,Ec,5,1,"div",0),St(1,"async")),e&2&&$(ie(1,1,i.loading$)?0:-1)},dependencies:[Ei],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#f9fafbf2;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9999}.loader[_ngcontent-%COMP%]{background:transparent;border-radius:1rem;padding:2rem;max-width:300px;width:90%;text-align:center;display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-top:4px solid #46777f;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loader-message[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:500;font-size:1.125rem;color:#1f2937;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.loader[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem}.loader-message[_ngcontent-%COMP%]{font-size:1rem}}"]});let n=o;return n})();var Ma=(()=>{let o=class o{constructor(){this.currentLanguage=new hi("en"),this.translations={loading:{en:"Loading...",hi:"\u0932\u094B\u0921 \u0939\u094B \u0930\u0939\u093E \u0939\u0948..."},error:{en:"Error",hi:"\u0924\u094D\u0930\u0941\u091F\u093F"},success:{en:"Success",hi:"\u0938\u092B\u0932\u0924\u093E"},cancel:{en:"Cancel",hi:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902"},save:{en:"Save",hi:"\u0938\u0939\u0947\u091C\u0947\u0902"},delete:{en:"Delete",hi:"\u0939\u091F\u093E\u090F\u0902"},edit:{en:"Edit",hi:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},add:{en:"Add",hi:"\u091C\u094B\u0921\u093C\u0947\u0902"},close:{en:"Close",hi:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902"},logout:{en:"Logout",hi:"\u0932\u0949\u0917\u0906\u0909\u091F"},login:{en:"Login",hi:"\u0932\u0949\u0917\u093F\u0928"},signup:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},email:{en:"Email",hi:"\u0908\u092E\u0947\u0932"},password:{en:"Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921"},name:{en:"Name",hi:"\u0928\u093E\u092E"},amount:{en:"Amount",hi:"\u0930\u093E\u0936\u093F"},date:{en:"Date",hi:"\u0924\u093E\u0930\u0940\u0916"},category:{en:"Category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940"},type:{en:"Type",hi:"\u092A\u094D\u0930\u0915\u093E\u0930"},income:{en:"Income",hi:"\u0906\u092F"},expense:{en:"Expense",hi:"\u0916\u0930\u094D\u091A"},total:{en:"Total",hi:"\u0915\u0941\u0932"},balance:{en:"Balance",hi:"\u0936\u0947\u0937 \u0930\u093E\u0936\u093F"},actions:{en:"Actions",hi:"\u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},search:{en:"Search",hi:"\u0916\u094B\u091C\u0947\u0902"},filter:{en:"Filter",hi:"\u092B\u093C\u093F\u0932\u094D\u091F\u0930"},clear:{en:"Clear",hi:"\u0938\u093E\u092B\u093C \u0915\u0930\u0947\u0902"},settings:{en:"Settings",hi:"\u0938\u0947\u091F\u093F\u0902\u0917\u094D\u0938"},dashboard:{en:"Dashboard",hi:"\u0921\u0948\u0936\u092C\u094B\u0930\u094D\u0921"},home:{en:"Home",hi:"\u0939\u094B\u092E"},accounts:{en:"Accounts",hi:"\u0916\u093E\u0924\u0947"},transactions:{en:"Transactions",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928"},categories:{en:"Categories",hi:"\u0936\u094D\u0930\u0947\u0923\u093F\u092F\u093E\u0902"},budgets:{en:"Budgets",hi:"\u092C\u091C\u091F"},goals:{en:"Goals",hi:"\u0932\u0915\u094D\u0937\u094D\u092F"},reports:{en:"Reports",hi:"\u0930\u093F\u092A\u094B\u0930\u094D\u091F\u094D\u0938"},calendar:{en:"Calendar",hi:"\u0915\u0948\u0932\u0947\u0902\u0921\u0930"},notes:{en:"Notes",hi:"\u0928\u094B\u091F\u094D\u0938"},tax:{en:"Tax",hi:"\u0915\u0930"},tools:{en:"Tools",hi:"\u0909\u092A\u0915\u0930\u0923"},moneyManager:{en:`${bt.APP_NAME}`,hi:"\u092E\u0928\u0940 \u092E\u0948\u0928\u0947\u091C\u0930"},manageFinances:{en:"Manage your finances",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0915\u0930\u0947\u0902"},welcomeBack:{en:"Welcome Back!",hi:"\u0935\u093E\u092A\u0938\u0940 \u092A\u0930 \u0938\u094D\u0935\u093E\u0917\u0924 \u0939\u0948!"},youSpend:{en:"You Spend",hi:"\u0906\u092A\u0915\u093E \u0916\u0930\u094D\u091A"},youEarn:{en:"You Earn",hi:"\u0906\u092A\u0915\u0940 \u0915\u092E\u093E\u0908"},netBalance:{en:"Net Balance",hi:"\u0936\u0941\u0926\u094D\u0927 \u0936\u0947\u0937"},thisMonth:{en:"This Month",hi:"\u0907\u0938 \u092E\u0939\u0940\u0928\u0947"},lastMonth:{en:"Last Month",hi:"\u092A\u093F\u091B\u0932\u0947 \u092E\u0939\u0940\u0928\u0947"},quickActions:{en:"Quick Actions",hi:"\u0924\u094D\u0935\u0930\u093F\u0924 \u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},recentTransactions:{en:"Recent Transactions",hi:"\u0939\u093E\u0932 \u0915\u0947 \u0932\u0947\u0928-\u0926\u0947\u0928"},upcomingBills:{en:"Upcoming Bills",hi:"\u0906\u0917\u093E\u092E\u0940 \u092C\u093F\u0932"},savingsGoal:{en:"Savings Goal",hi:"\u092C\u091A\u0924 \u0932\u0915\u094D\u0937\u094D\u092F"},signIn:{en:"Sign In",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928"},signUp:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},signOut:{en:"Sign Out",hi:"\u0938\u093E\u0907\u0928 \u0906\u0909\u091F"},forgotPassword:{en:"Forgot Password?",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092D\u0942\u0932 \u0917\u090F?"},resetPassword:{en:"Reset Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0930\u0940\u0938\u0947\u091F \u0915\u0930\u0947\u0902"},emailPlaceholder:{en:"Enter your email",hi:"\u0905\u092A\u0928\u093E \u0908\u092E\u0947\u0932 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},passwordPlaceholder:{en:"Enter your password",hi:"\u0905\u092A\u0928\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},confirmPassword:{en:"Confirm Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0915\u0940 \u092A\u0941\u0937\u094D\u091F\u093F \u0915\u0930\u0947\u0902"},namePlaceholder:{en:"Enter your name",hi:"\u0905\u092A\u0928\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},loginSuccess:{en:"Successfully signed in",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},loginError:{en:"Failed to sign in",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},signupSuccess:{en:"Successfully signed up",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},signupError:{en:"Failed to sign up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},sessionExpired:{en:"Session expired. Please sign in again.",hi:"\u0938\u0924\u094D\u0930 \u0938\u092E\u093E\u092A\u094D\u0924 \u0939\u094B \u0917\u092F\u093E\u0964 \u0915\u0943\u092A\u092F\u093E \u092B\u093F\u0930 \u0938\u0947 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902\u0964"},invalidCredentials:{en:"Invalid email or password",hi:"\u0905\u092E\u093E\u0928\u094D\u092F \u0908\u092E\u0947\u0932 \u092F\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921"},passwordMismatch:{en:"Passwords do not match",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092E\u0947\u0932 \u0928\u0939\u0940\u0902 \u0916\u093E\u0924\u0947"},emailRequired:{en:"Email is required",hi:"\u0908\u092E\u0947\u0932 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},passwordRequired:{en:"Password is required",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},nameRequired:{en:"Name is required",hi:"\u0928\u093E\u092E \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},addTransaction:{en:"Add Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0947\u0902"},editTransaction:{en:"Edit Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},deleteTransaction:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},transactionHistory:{en:"Transaction History",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0907\u0924\u093F\u0939\u093E\u0938"},manageTransactions:{en:"Manage and track your financial transactions",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924\u0940\u092F \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0914\u0930 \u091F\u094D\u0930\u0948\u0915\u093F\u0902\u0917 \u0915\u0930\u0947\u0902"},payee:{en:"Payee",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E"},payeePlaceholder:{en:"Enter payee name",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E \u0915\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},amountPlaceholder:{en:"Enter amount",hi:"\u0930\u093E\u0936\u093F \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},categoryPlaceholder:{en:"Select category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940 \u091A\u0941\u0928\u0947\u0902"},datePlaceholder:{en:"Select date",hi:"\u0924\u093E\u0930\u0940\u0916 \u091A\u0941\u0928\u0947\u0902"},notesPlaceholder:{en:"Add notes (optional)",hi:"\u0928\u094B\u091F\u094D\u0938 \u091C\u094B\u0921\u093C\u0947\u0902 (\u0935\u0948\u0915\u0932\u094D\u092A\u093F\u0915)"},noTransactions:{en:"No transactions yet",hi:"\u0905\u092D\u0940 \u0924\u0915 \u0915\u094B\u0908 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0928\u0939\u0940\u0902"},noTransactionsMessage:{en:"Start by adding your first transaction to track your finances.",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u091F\u094D\u0930\u0948\u0915 \u0930\u0916\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0905\u092A\u0928\u093E \u092A\u0939\u0932\u093E \u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0915\u0930 \u0936\u0941\u0930\u0942 \u0915\u0930\u0947\u0902\u0964"},transactionAdded:{en:"Transaction added successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u091C\u094B\u0921\u093C\u093E \u0917\u092F\u093E"},transactionUpdated:{en:"Transaction updated successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0905\u092A\u0921\u0947\u091F \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},transactionDeleted:{en:"Transaction deleted successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},confirmDelete:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},confirmDeleteMessage:{en:"Are you sure you want to delete this transaction?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0907\u0938 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u094B \u0939\u091F\u093E\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"},networkError:{en:"Network error. Please check your connection.",hi:"\u0928\u0947\u091F\u0935\u0930\u094D\u0915 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0915\u0928\u0947\u0915\u094D\u0936\u0928 \u091C\u093E\u0902\u091A\u0947\u0902\u0964"},serverError:{en:"Server error. Please try again later.",hi:"\u0938\u0930\u094D\u0935\u0930 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u092C\u093E\u0926 \u092E\u0947\u0902 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},validationError:{en:"Please check your input and try again.",hi:"\u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0907\u0928\u092A\u0941\u091F \u091C\u093E\u0902\u091A\u0947\u0902 \u0914\u0930 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},dataSaved:{en:"Data saved successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u0939\u0947\u091C\u093E \u0917\u092F\u093E"},dataDeleted:{en:"Data deleted successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},changesDiscarded:{en:"Changes discarded",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917 \u0926\u093F\u090F \u0917\u090F"},unsavedChanges:{en:"You have unsaved changes",hi:"\u0906\u092A\u0915\u0947 \u092A\u093E\u0938 \u0905\u0938\u0939\u0947\u091C\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0939\u0948\u0902"},confirmDiscard:{en:"Discard Changes",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0947\u0902"},confirmDiscardMessage:{en:"Are you sure you want to discard your changes?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0905\u092A\u0928\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"}};let t=localStorage.getItem("app_language");t&&(t==="en"||t==="hi")?this.currentLanguage.next(t):navigator.language.split("-")[0]==="hi"&&this.currentLanguage.next("hi")}getCurrentLanguage(){return this.currentLanguage.asObservable()}getCurrentLanguageValue(){return this.currentLanguage.value}setLanguage(t){this.currentLanguage.next(t),localStorage.setItem("app_language",t)}translate(t){let e=this.translations[t];return e&&(e[this.currentLanguage.value]||e.en)||t}translateWithParams(t,e){let i=this.translate(t);return Object.keys(e).forEach(a=>{i=i.replace(`{{${a}}}`,e[a])}),i}getAvailableLanguages(){return[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"\u0939\u093F\u0902\u0926\u0940"}]}};o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=mt({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();var qm=(()=>{let o=class o{constructor(t){this.translationService=t}transform(t,e){return e?this.translationService.translateWithParams(t,e):this.translationService.translate(t)}};o.\u0275fac=function(e){return new(e||o)(h(Ma,16))},o.\u0275pipe=ln({name:"translate",type:o,pure:!0,standalone:!0});let n=o;return n})();var Xm=(()=>{let o=class o{transform(t,e){if(t==null||t==="")return this.formatCurrency(0,e);let i=typeof t=="string"?parseFloat(t):t;return isNaN(i)?"Invalid amount":this.formatCurrency(i,e)}formatCurrency(t,e){let{currency:i=bt.CURRENCY.DEFAULT,locale:a=bt.LANGUAGE.DEFAULT,showSymbol:l=!0,showCode:m=!1,decimalPlaces:g,compact:u=!1,signDisplay:f="auto",notation:F="standard"}=e||{},v=this.getCurrencyConfig(i),D=t%1!==0,ht=g!==void 0?D?g:0:D?v.decimalPlaces:0,wt=g!==void 0?g:v.decimalPlaces,Ct={style:"currency",currency:i,minimumFractionDigits:ht,maximumFractionDigits:wt,signDisplay:f,notation:u?"compact":F};l?m&&(Ct.currencyDisplay="narrowSymbol"):Ct.currencyDisplay="code";try{return new Intl.NumberFormat(a,Ct).format(t)}catch(Lt){return console.error("Currency formatting error:",Lt),this.fallbackFormat(t,i,v)}}getCurrencyConfig(t){let e=t;return{symbol:bt.CURRENCY.SYMBOLS[e]||t,decimalPlaces:bt.CURRENCY.DECIMAL_PLACES[e]||2}}fallbackFormat(t,e,i){let a=i.symbol,l=t%1===0?t.toFixed(0):t.toFixed(i.decimalPlaces);return`${a}${l}`}static getCurrencySymbol(t){let e=t;return bt.CURRENCY.SYMBOLS[e]||t}static getDecimalPlaces(t){let e=t;return bt.CURRENCY.DECIMAL_PLACES[e]||2}static isSupportedCurrency(t){return bt.CURRENCY.SUPPORTED.includes(t)}static getSupportedCurrencies(){return bt.CURRENCY.SUPPORTED}};o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=ln({name:"currency",type:o,pure:!0,standalone:!0});let n=o;return n})();var Yd=(()=>{let o=class o{};o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=J({type:o}),o.\u0275inj=Z({providers:[De],imports:[pn,Li,ji,Re,Wo,uo,Ko,Ji,oo,ro,so,po,lo,ao,co,ho,fo,wn,go,Ho,ea,_o,Vi.forFeature("splitwise",ba),ha.forFeature([Ca])]});let n=o;return n})();export{qm as a,ve as b,ke as c,Se as d,Nn as e,Eo as f,De as g,Ea as h,gi as i,Vo as j,$o as k,Ho as l,Xm as m,rc as n,ta as o,ea as p,xa as q,Dc as r,Fc as s,Ko as t,rt as u,sa as v,ct as w,ha as x,$m as y,Yd as z};

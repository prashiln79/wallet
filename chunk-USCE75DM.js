import{$ as _c,$d as Sn,A as lc,Ad as Lc,Bb as vi,Bc as xc,Bd as Uc,C as vn,Cb as zt,Cd as Bc,D as dc,Db as Jo,Dd as Sr,E as uc,Eb as mt,Ec as Ye,Ed as jc,F as Pn,Gb as vt,Gd as zc,Hb as se,Hd as Gc,Ic as Oc,J as mc,Jc as Ir,K as hc,Kb as Pi,Kc as Ic,Kd as qc,Lb as ae,Lc as Ec,M as gc,Mc as Tc,Md as $c,N as Mn,Nd as Kc,O as pc,Ob as Yt,Od as Hc,P as fc,Pb as Kt,Pc as Gt,Pd as Qc,Qb as Pc,Qd as Wc,Rd as Xe,Sc as Xt,Sd as Ar,T as B,Tc as Sc,Td as kr,U as z,Ud as Dr,Vc as Ac,Vd as Yc,Xc as kc,Xd as Xc,Yc as Dc,Yd as Jc,Zb as Zo,Zd as En,_d as Tn,ae as Rr,ba as jt,be as An,ca as ct,cc as ee,cd as Rc,ce as Zc,da as xr,db as yc,dd as Er,de as tl,ea as Yo,ee as el,fa as Xo,fe as Nr,ga as bc,ge as Vr,ha as j,he as nl,ia as Cc,ie as il,j as wr,l as fn,lc as Mc,nd as Re,o as yi,p as cc,qc as wc,qd as Dt,r as _n,rc as wn,rd as Nc,sc as xn,sd as Ne,t as ot,td as Vc,u as bn,ub as kt,v as Cn,vd as On,wd as In,xd as Tr,yc as Or,yd as ce,z as yn,zb as vc,zd as Fc}from"./chunk-3XZW3RPM.js";import{$b as g,Aa as ut,Ac as ec,Ad as sc,Ba as Tt,Bc as nc,Bd as Pr,Ca as _e,Cc as ic,Da as br,Dc as We,Ec as ke,Ed as ac,F as fi,Fd as Mr,H as pe,Hb as Ja,J as pt,Ja as Cr,Jc as be,Ka as K,Kc as pn,La as H,Lb as Ko,Lc as Wo,Ma as qo,N as fr,Nb as Ae,Nd as ts,O as qa,Od as es,Pa as yr,Qb as U,Qd as Mi,R as $a,Ra as Ya,Rb as re,Rd as wi,Sb as S,T as Ka,Tb as Za,Td as ns,Ub as Bt,Vb as hn,W as Go,Wa as _i,Xb as yt,Ya as Ct,Z as Ha,Zb as Ho,_b as Qo,a as pr,ac as f,bc as tt,bd as Ce,c as ja,cb as $o,f as te,fa as Qa,fc as at,g as za,gd as St,ha as fe,hd as rc,ic as L,kc as k,l as Ga,lc as gn,mc as oe,oa as Wa,oc as bi,p as J,pa as Wt,pb as vr,pc as Ci,pd as oc,q as $,qa as Et,qc as Ke,rc as He,sa as bt,ua as it,ub as I,uc as Qe,v as nt,va as _r,vb as T,vc as v,wc as X,x as Z,xb as Xa,xc as q,xd as De,yc as tc,yd as At}from"./chunk-6PX2HEG6.js";import{a as A,b as F,k as G}from"./chunk-LKDXID24.js";var is=xr("profile"),$u=ct(is,i=>i.profile),wp=ct(is,i=>i.loading),xp=ct(is,i=>i.error),kn=ct($u,i=>i==null?void 0:i.preferences),rs=ct(kn,i=>i==null?void 0:i.defaultCurrency),Op=ct(kn,i=>i==null?void 0:i.language),Ip=ct(kn,i=>i==null?void 0:i.timezone),Ep=ct(kn,i=>i==null?void 0:i.notifications),Tp=ct(kn,i=>i==null?void 0:i.emailUpdates),Sp=ct(kn,i=>i==null?void 0:i.budgetAlerts);var rl=function(i){let t=[],o=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?t[o++]=r:r<2048?(t[o++]=r>>6|192,t[o++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),t[o++]=r>>18|240,t[o++]=r>>12&63|128,t[o++]=r>>6&63|128,t[o++]=r&63|128):(t[o++]=r>>12|224,t[o++]=r>>6&63|128,t[o++]=r&63|128)}return t},Hu=function(i){let t=[],o=0,n=0;for(;o<i.length;){let r=i[o++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let a=i[o++];t[n++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){let a=i[o++],l=i[o++],u=i[o++],m=((r&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;t[n++]=String.fromCharCode(55296+(m>>10)),t[n++]=String.fromCharCode(56320+(m&1023))}else{let a=i[o++],l=i[o++];t[n++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return t.join("")},Qu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();let o=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){let a=i[r],l=r+1<i.length,u=l?i[r+1]:0,m=r+2<i.length,b=m?i[r+2]:0,x=a>>2,N=(a&3)<<4|u>>4,D=(u&15)<<2|b>>6,R=b&63;m||(R=64,l||(D=64)),n.push(o[x],o[N],o[D],o[R])}return n.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(rl(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Hu(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();let o=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){let a=o[i.charAt(r++)],u=r<i.length?o[i.charAt(r)]:0;++r;let b=r<i.length?o[i.charAt(r)]:64;++r;let N=r<i.length?o[i.charAt(r)]:64;if(++r,a==null||u==null||b==null||N==null)throw new os;let D=a<<2|u>>4;if(n.push(D),b!==64){let R=u<<4&240|b>>2;if(n.push(R),N!==64){let V=b<<6&192|N;n.push(V)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},os=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Wu=function(i){let t=rl(i);return Qu.encodeByteArray(t,!0)},ss=function(i){return Wu(i).replace(/\./g,"")};function as(){try{return typeof indexedDB=="object"}catch{return!1}}function ol(){return new Promise((i,t)=>{try{let o=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),o||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{o=!1},r.onerror=()=>{var a;t(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(o){t(o)}})}var Yu="FirebaseError",ye=class i extends Error{constructor(t,o,n){super(o),this.code=t,this.customData=n,this.name=Yu,Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xi.prototype.create)}},xi=class{constructor(t,o,n){this.service=t,this.serviceName=o,this.errors=n}create(t,...o){let n=o[0]||{},r=`${this.service}/${t}`,a=this.errors[t],l=a?Xu(a,n):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new ye(r,u,n)}};function Xu(i,t){return i.replace(Ju,(o,n)=>{let r=t[n];return r!=null?String(r):`<${n}?>`})}var Ju=/\{\$([^}]+)}/g;var Rp=4*60*60*1e3;var Ve=class{constructor(t,o,n){this.name=t,this.instanceFactory=o,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Zu=[],st=function(i){return i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",i}(st||{}),tm={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},em=st.INFO,nm={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},im=(i,t,...o)=>{if(t<i.logLevel)return;let n=new Date().toISOString(),r=nm[t];if(r)console[r](`[${n}]  ${i.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Dn=class{constructor(t){this.name=t,this._logLevel=em,this._logHandler=im,this._userLogHandler=null,Zu.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in st))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tm[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...t),this._logHandler(this,st.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...t),this._logHandler(this,st.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,st.INFO,...t),this._logHandler(this,st.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,st.WARN,...t),this._logHandler(this,st.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...t),this._logHandler(this,st.ERROR,...t)}};var ls=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(om(o)){let n=o.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(o=>o).join(" ")}};function om(i){let t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}var ds="@firebase/app",sl="0.13.2";var ve=new Dn("@firebase/app"),sm="@firebase/app-compat",am="@firebase/analytics-compat",cm="@firebase/analytics",lm="@firebase/app-check-compat",dm="@firebase/app-check",um="@firebase/auth",mm="@firebase/auth-compat",hm="@firebase/database",gm="@firebase/data-connect",pm="@firebase/database-compat",fm="@firebase/functions",_m="@firebase/functions-compat",bm="@firebase/installations",Cm="@firebase/installations-compat",ym="@firebase/messaging",vm="@firebase/messaging-compat",Pm="@firebase/performance",Mm="@firebase/performance-compat",wm="@firebase/remote-config",xm="@firebase/remote-config-compat",Om="@firebase/storage",Im="@firebase/storage-compat",Em="@firebase/firestore",Tm="@firebase/ai",Sm="@firebase/firestore-compat",Am="firebase",km="11.10.0";var Dm={[ds]:"fire-core",[sm]:"fire-core-compat",[cm]:"fire-analytics",[am]:"fire-analytics-compat",[dm]:"fire-app-check",[lm]:"fire-app-check-compat",[um]:"fire-auth",[mm]:"fire-auth-compat",[hm]:"fire-rtdb",[gm]:"fire-data-connect",[pm]:"fire-rtdb-compat",[fm]:"fire-fn",[_m]:"fire-fn-compat",[bm]:"fire-iid",[Cm]:"fire-iid-compat",[ym]:"fire-fcm",[vm]:"fire-fcm-compat",[Pm]:"fire-perf",[Mm]:"fire-perf-compat",[wm]:"fire-rc",[xm]:"fire-rc-compat",[Om]:"fire-gcs",[Im]:"fire-gcs-compat",[Em]:"fire-fst",[Sm]:"fire-fst-compat",[Tm]:"fire-vertex","fire-js":"fire-js",[Am]:"fire-js-all"};var Rm=new Map,Nm=new Map,al=new Map;function cl(i,t){try{i.container.addComponent(t)}catch(o){ve.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,o)}}function Oi(i){let t=i.name;if(al.has(t))return ve.debug(`There were multiple attempts to register component ${t}.`),!1;al.set(t,i);for(let o of Rm.values())cl(o,i);for(let o of Nm.values())cl(o,i);return!0}function ml(i){return i==null?!1:i.settings!==void 0}var Vm={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new xi("app","Firebase",Vm);var hl=km;function Rn(i,t,o){var n;let r=(n=Dm[i])!==null&&n!==void 0?n:i;o&&(r+=`-${o}`);let a=r.match(/\s|\//),l=t.match(/\s|\//);if(a||l){let u=[`Unable to register library "${r}" with version "${t}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ve.warn(u.join(" "));return}Oi(new Ve(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var Fm="firebase-heartbeat-database",Lm=1,Ii="firebase-heartbeat-store",cs=null;function gl(){return cs||(cs=yc(Fm,Lm,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Ii)}catch(o){console.warn(o)}}}}).catch(i=>{throw hs.create("idb-open",{originalErrorMessage:i.message})})),cs}function Um(i){return G(this,null,function*(){try{let o=(yield gl()).transaction(Ii),n=yield o.objectStore(Ii).get(pl(i));return yield o.done,n}catch(t){if(t instanceof ye)ve.warn(t.message);else{let o=hs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ve.warn(o.message)}}})}function ll(i,t){return G(this,null,function*(){try{let n=(yield gl()).transaction(Ii,"readwrite");yield n.objectStore(Ii).put(t,pl(i)),yield n.done}catch(o){if(o instanceof ye)ve.warn(o.message);else{let n=hs.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});ve.warn(n.message)}}})}function pl(i){return`${i.name}!${i.options.appId}`}var Bm=1024,jm=30,us=class{constructor(t){this.container=t,this._heartbeatsCache=null;let o=this.container.getProvider("app").getImmediate();this._storage=new ms(o),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return G(this,null,function*(){var t,o;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=dl();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((o=this._heartbeatsCache)===null||o===void 0?void 0:o.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>jm){let l=Gm(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ve.warn(n)}})}getHeartbeatsHeader(){return G(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let o=dl(),{heartbeatsToSend:n,unsentEntries:r}=zm(this._heartbeatsCache.heartbeats),a=ss(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=o,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(o){return ve.warn(o),""}})}};function dl(){return new Date().toISOString().substring(0,10)}function zm(i,t=Bm){let o=[],n=i.slice();for(let r of i){let a=o.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),ul(o)>t){a.dates.pop();break}}else if(o.push({agent:r.agent,dates:[r.date]}),ul(o)>t){o.pop();break}n=n.slice(1)}return{heartbeatsToSend:o,unsentEntries:n}}var ms=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return G(this,null,function*(){return as()?ol().then(()=>!0).catch(()=>!1):!1})}read(){return G(this,null,function*(){if(yield this._canUseIndexedDBPromise){let o=yield Um(this.app);return o!=null&&o.heartbeats?o:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return G(this,null,function*(){var o;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return ll(this.app,{lastSentHeartbeatDate:(o=t.lastSentHeartbeatDate)!==null&&o!==void 0?o:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return G(this,null,function*(){var o;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return ll(this.app,{lastSentHeartbeatDate:(o=t.lastSentHeartbeatDate)!==null&&o!==void 0?o:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function ul(i){return ss(JSON.stringify({version:2,heartbeats:i})).length}function Gm(i){if(i.length===0)return-1;let t=0,o=i[0].date;for(let n=1;n<i.length;n++)i[n].date<o&&(o=i[n].date,t=n);return t}function qm(i){Oi(new Ve("platform-logger",t=>new ls(t),"PRIVATE")),Oi(new Ve("heartbeat",t=>new us(t),"PRIVATE")),Rn(ds,sl,i),Rn(ds,sl,"esm2017"),Rn("fire-js","")}qm("");function Km(i,t){i&1&&tt(0,"mat-spinner",23)}function Hm(i,t){i&1&&(g(0,"p",16),v(1,"Group name is required"),f())}function Qm(i,t){i&1&&(g(0,"p",16),v(1,"Group name must be at least 2 characters"),f())}function Wm(i,t){i&1&&(g(0,"p",16),v(1,"Group name must not exceed 50 characters"),f())}function Ym(i,t){i&1&&(g(0,"p",16),v(1,"Description must not exceed 200 characters"),f())}var _l=(()=>{let t=class t{constructor(n,r,a,l){this.fb=n,this.dialogRef=r,this.auth=a,this.store=l,this.isSubmitting=!1,this.userCurrency$=this.store.select(rs),this.groupForm=this.fb.group({name:["",[ot.required,ot.minLength(2),ot.maxLength(50)]],description:["",[ot.maxLength(200)]],initialMembers:[[]]})}ngOnInit(){}onSubmit(){return G(this,null,function*(){var n;if(this.groupForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let r=this.groupForm.value,a=this.store.select(rs),l="USD";a.subscribe(m=>{m&&(l=m)}).unsubscribe();let u={name:r.name.trim(),description:((n=r.description)==null?void 0:n.trim())||"",currency:l,initialMembers:r.initialMembers||[]};this.dialogRef.close(u)}catch(r){console.error("Error creating group:",r)}finally{this.isSubmitting=!1}}else this.groupForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(n){var a,l;let r=this.groupForm.get(n);return r!=null&&r.hasError("required")?`${n.charAt(0).toUpperCase()+n.slice(1)} is required`:r!=null&&r.hasError("minlength")?`${n.charAt(0).toUpperCase()+n.slice(1)} must be at least ${(a=r.errors)==null?void 0:a.minlength.requiredLength} characters`:r!=null&&r.hasError("maxlength")?`${n.charAt(0).toUpperCase()+n.slice(1)} must not exceed ${(l=r.errors)==null?void 0:l.maxlength.requiredLength} characters`:""}};t.\u0275fac=function(r){return new(r||t)(T(Mn),T(In),T(kt),T(jt))},t.\u0275cmp=ut({type:t,selectors:[["app-create-group-dialog"]],decls:55,vars:10,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Create Group",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"group-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","text","formControlName","name","placeholder","Enter group name","autofocus","","maxlength","50",1,"form-input"],[1,"field-footer"],[1,"error-message"],[1,"character-count"],["formControlName","description","placeholder","Describe your group","maxlength","200","rows","3",1,"form-input"],[1,"info-section"],[1,"info-icon"],[1,"info-content"],[1,"bottom-spacing"],["diameter","16"]],template:function(r,a){if(r&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),L("click",function(){return a.onCancel()}),g(4,"mat-icon"),v(5,"arrow_back"),f()(),g(6,"h6",4),v(7," Create New Group "),f()(),g(8,"button",5),L("click",function(){return a.onCancel()}),g(9,"mat-icon"),v(10,"close"),f()(),g(11,"button",6),L("click",function(){return a.onSubmit()}),U(12,Km,1,0,"mat-spinner",7),v(13),f()()(),g(14,"div",8)(15,"div",9)(16,"form",10),L("ngSubmit",function(){return a.onSubmit()}),g(17,"div",11)(18,"label",12)(19,"mat-icon",13),v(20,"group"),f(),v(21," Group Name * "),f(),tt(22,"input",14),g(23,"div",15),U(24,Hm,2,0,"p",16)(25,Qm,2,0,"p",16)(26,Wm,2,0,"p",16),g(27,"span",17),v(28),f()()(),g(29,"div",11)(30,"label",12)(31,"mat-icon",13),v(32,"description"),f(),v(33," Description (Optional) "),f(),tt(34,"textarea",18),g(35,"div",15),U(36,Ym,2,0,"p",16),g(37,"span",17),v(38),f()()(),g(39,"div",19)(40,"mat-icon",20),v(41,"info"),f(),g(42,"div",21)(43,"h4"),v(44,"What happens next?"),f(),g(45,"ul")(46,"li"),v(47,"You'll be added as the group admin"),f(),g(48,"li"),v(49,"You can invite friends by email"),f(),g(50,"li"),v(51,"Start adding shared expenses"),f(),g(52,"li"),v(53,"Track who owes what to whom"),f()()()(),tt(54,"div",22),f()()()),r&2){let l,u,m,b,x,N;I(11),S("disabled",a.groupForm.invalid||a.isSubmitting),I(),S("ngIf",a.isSubmitting),I(),q(" ",a.isSubmitting?"Creating...":"Create"," "),I(3),S("formGroup",a.groupForm),I(8),yt((l=a.groupForm.get("name"))!=null&&l.hasError("required")&&((l=a.groupForm.get("name"))!=null&&l.touched)?24:-1),I(),yt((u=a.groupForm.get("name"))!=null&&u.hasError("minlength")&&((u=a.groupForm.get("name"))!=null&&u.touched)?25:-1),I(),yt((m=a.groupForm.get("name"))!=null&&m.hasError("maxlength")&&((m=a.groupForm.get("name"))!=null&&m.touched)?26:-1),I(2),q(" ",((b=a.groupForm.get("name"))==null||b.value==null?null:b.value.length)||0,"/50 "),I(8),yt((x=a.groupForm.get("description"))!=null&&x.hasError("maxlength")&&((x=a.groupForm.get("description"))!=null&&x.touched)?36:-1),I(2),q(" ",((N=a.groupForm.get("description"))==null||N.value==null?null:N.value.length)||0,"/200 ")}},dependencies:[At,yn,_n,bn,Cn,gc,vn,Pn,Gt,Xt,Dt,Ne,Sr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease;resize:vertical}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{font-size:.7rem}}.info-section[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.25rem;background:#f8f9fa;border-radius:12px;border-left:4px solid #3b82f6;margin-top:.5rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;gap:.75rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px;gap:.5rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{background:#1f2937;border-left-color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.5rem;width:1.5rem;height:1.5rem;margin-top:.125rem;flex-shrink:0}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{flex:1}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#1f2937;font-weight:600;font-size:1rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:.5rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.375rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem;color:#6b7280}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:.875rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#9ca3af}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.375rem;font-size:.875rem;line-height:1.4}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.25rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.125rem}}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let i=t;return i})();var Vn=B("[Splitwise] Load Groups"),Fr=B("[Splitwise] Load Groups Success",z()),Ti=B("[Splitwise] Load Groups Failure",z()),Pe=B("[Splitwise] Load Group by ID",z()),Lr=B("[Splitwise] Load Group by ID Success",z()),Si=B("[Splitwise] Load Group by ID Failure",z()),Fn=B("[Splitwise] Load Invitations"),Ur=B("[Splitwise] Load Invitations Success",z()),Ai=B("[Splitwise] Load Invitations Failure",z()),Ln=B("[Splitwise] Create Group",z()),Br=B("[Splitwise] Create Group Success",z()),ki=B("[Splitwise] Create Group Failure",z()),le=B("[Splitwise] Add Member",z()),jr=B("[Splitwise] Add Member Success",z()),Di=B("[Splitwise] Add Member Failure",z()),Un=B("[Splitwise] Accept Invitation",z()),zr=B("[Splitwise] Accept Invitation Success",z()),Ri=B("[Splitwise] Accept Invitation Failure",z()),Bn=B("[Splitwise] Decline Invitation",z()),Gr=B("[Splitwise] Decline Invitation Success",z()),Ni=B("[Splitwise] Decline Invitation Failure",z()),Fe=B("[Splitwise] Delete Group",z()),qr=B("[Splitwise] Delete Group Success",z()),Vi=B("[Splitwise] Delete Group Failure",z()),bl=B("[Splitwise] Select Group",z()),nn=B("[Splitwise] Load Transactions",z()),$r=B("[Splitwise] Load Transactions Success",z()),Fi=B("[Splitwise] Load Transactions Failure",z()),rn=B("[Splitwise] Load Settlements",z()),Kr=B("[Splitwise] Load Settlements Success",z()),Li=B("[Splitwise] Load Settlements Failure",z()),Hr=B("[Splitwise] Create Split Transaction",z()),Qr=B("[Splitwise] Create Split Transaction Success",z()),Ui=B("[Splitwise] Create Split Transaction Failure",z()),Wr=B("[Splitwise] Update Split Transaction",z()),Yr=B("[Splitwise] Update Split Transaction Success",z()),Bi=B("[Splitwise] Update Split Transaction Failure",z()),jn=B("[Splitwise] Create Settlement",z()),Xr=B("[Splitwise] Create Settlement Success",z()),ji=B("[Splitwise] Create Settlement Failure",z()),Le=B("[Splitwise] Remove Member",z()),Jr=B("[Splitwise] Remove Member Success",z()),zi=B("[Splitwise] Remove Member Failure",z()),Ue=B("[Splitwise] Clear Error");var Be=xr("splitwise"),zn=ct(Be,i=>i),Xm=ct(Be,i=>i.groups),Jm=ct(Be,i=>i.invitations),Zm=ct(Be,i=>i.transactions),th=ct(Be,i=>i.settlements),Zr=ct(Be,i=>i.selectedGroup),cf=ct(Be,i=>i.loading),lf=ct(Be,i=>i.error),df=ct(Xm,i=>i.filter(t=>t.isActive)),uf=ct(Jm,i=>i.filter(t=>t.status==="pending")),mf=ct(Zm,Zr,(i,t)=>t?i.filter(o=>o.groupId===t.id):[]),hf=ct(th,Zr,(i,t)=>t?i.filter(o=>o.groupId===t.id):[]),gf=ct(Zr,i=>(i==null?void 0:i.members.filter(t=>t.isActive).length)||0),pf=ct(Zr,i=>"");var on=function(i){return i.ADMIN="admin",i.MEMBER="member",i}(on||{}),qi=function(i){return i.PENDING="pending",i.COMPLETED="completed",i.CANCELLED="cancelled",i}(qi||{}),Gn=function(i){return i.PENDING="pending",i.ACCEPTED="accepted",i.DECLINED="declined",i.EXPIRED="expired",i}(Gn||{});var Cl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yl={};var to,vl;(function(){var i;function t(M,h){function _(){}_.prototype=h.prototype,M.D=h.prototype,M.prototype=new _,M.prototype.constructor=M,M.C=function(C,y,w){for(var p=Array(arguments.length-2),me=2;me<arguments.length;me++)p[me-2]=arguments[me];return h.prototype[y].apply(C,p)}}function o(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,o),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,h,_){_||(_=0);var C=Array(16);if(typeof h=="string")for(var y=0;16>y;++y)C[y]=h.charCodeAt(_++)|h.charCodeAt(_++)<<8|h.charCodeAt(_++)<<16|h.charCodeAt(_++)<<24;else for(y=0;16>y;++y)C[y]=h[_++]|h[_++]<<8|h[_++]<<16|h[_++]<<24;h=M.g[0],_=M.g[1],y=M.g[2];var w=M.g[3],p=h+(w^_&(y^w))+C[0]+3614090360&4294967295;h=_+(p<<7&4294967295|p>>>25),p=w+(y^h&(_^y))+C[1]+3905402710&4294967295,w=h+(p<<12&4294967295|p>>>20),p=y+(_^w&(h^_))+C[2]+606105819&4294967295,y=w+(p<<17&4294967295|p>>>15),p=_+(h^y&(w^h))+C[3]+3250441966&4294967295,_=y+(p<<22&4294967295|p>>>10),p=h+(w^_&(y^w))+C[4]+4118548399&4294967295,h=_+(p<<7&4294967295|p>>>25),p=w+(y^h&(_^y))+C[5]+1200080426&4294967295,w=h+(p<<12&4294967295|p>>>20),p=y+(_^w&(h^_))+C[6]+2821735955&4294967295,y=w+(p<<17&4294967295|p>>>15),p=_+(h^y&(w^h))+C[7]+4249261313&4294967295,_=y+(p<<22&4294967295|p>>>10),p=h+(w^_&(y^w))+C[8]+1770035416&4294967295,h=_+(p<<7&4294967295|p>>>25),p=w+(y^h&(_^y))+C[9]+2336552879&4294967295,w=h+(p<<12&4294967295|p>>>20),p=y+(_^w&(h^_))+C[10]+4294925233&4294967295,y=w+(p<<17&4294967295|p>>>15),p=_+(h^y&(w^h))+C[11]+2304563134&4294967295,_=y+(p<<22&4294967295|p>>>10),p=h+(w^_&(y^w))+C[12]+1804603682&4294967295,h=_+(p<<7&4294967295|p>>>25),p=w+(y^h&(_^y))+C[13]+4254626195&4294967295,w=h+(p<<12&4294967295|p>>>20),p=y+(_^w&(h^_))+C[14]+2792965006&4294967295,y=w+(p<<17&4294967295|p>>>15),p=_+(h^y&(w^h))+C[15]+1236535329&4294967295,_=y+(p<<22&4294967295|p>>>10),p=h+(y^w&(_^y))+C[1]+4129170786&4294967295,h=_+(p<<5&4294967295|p>>>27),p=w+(_^y&(h^_))+C[6]+3225465664&4294967295,w=h+(p<<9&4294967295|p>>>23),p=y+(h^_&(w^h))+C[11]+643717713&4294967295,y=w+(p<<14&4294967295|p>>>18),p=_+(w^h&(y^w))+C[0]+3921069994&4294967295,_=y+(p<<20&4294967295|p>>>12),p=h+(y^w&(_^y))+C[5]+3593408605&4294967295,h=_+(p<<5&4294967295|p>>>27),p=w+(_^y&(h^_))+C[10]+38016083&4294967295,w=h+(p<<9&4294967295|p>>>23),p=y+(h^_&(w^h))+C[15]+3634488961&4294967295,y=w+(p<<14&4294967295|p>>>18),p=_+(w^h&(y^w))+C[4]+3889429448&4294967295,_=y+(p<<20&4294967295|p>>>12),p=h+(y^w&(_^y))+C[9]+568446438&4294967295,h=_+(p<<5&4294967295|p>>>27),p=w+(_^y&(h^_))+C[14]+3275163606&4294967295,w=h+(p<<9&4294967295|p>>>23),p=y+(h^_&(w^h))+C[3]+4107603335&4294967295,y=w+(p<<14&4294967295|p>>>18),p=_+(w^h&(y^w))+C[8]+1163531501&4294967295,_=y+(p<<20&4294967295|p>>>12),p=h+(y^w&(_^y))+C[13]+2850285829&4294967295,h=_+(p<<5&4294967295|p>>>27),p=w+(_^y&(h^_))+C[2]+4243563512&4294967295,w=h+(p<<9&4294967295|p>>>23),p=y+(h^_&(w^h))+C[7]+1735328473&4294967295,y=w+(p<<14&4294967295|p>>>18),p=_+(w^h&(y^w))+C[12]+2368359562&4294967295,_=y+(p<<20&4294967295|p>>>12),p=h+(_^y^w)+C[5]+4294588738&4294967295,h=_+(p<<4&4294967295|p>>>28),p=w+(h^_^y)+C[8]+2272392833&4294967295,w=h+(p<<11&4294967295|p>>>21),p=y+(w^h^_)+C[11]+1839030562&4294967295,y=w+(p<<16&4294967295|p>>>16),p=_+(y^w^h)+C[14]+4259657740&4294967295,_=y+(p<<23&4294967295|p>>>9),p=h+(_^y^w)+C[1]+2763975236&4294967295,h=_+(p<<4&4294967295|p>>>28),p=w+(h^_^y)+C[4]+1272893353&4294967295,w=h+(p<<11&4294967295|p>>>21),p=y+(w^h^_)+C[7]+4139469664&4294967295,y=w+(p<<16&4294967295|p>>>16),p=_+(y^w^h)+C[10]+3200236656&4294967295,_=y+(p<<23&4294967295|p>>>9),p=h+(_^y^w)+C[13]+681279174&4294967295,h=_+(p<<4&4294967295|p>>>28),p=w+(h^_^y)+C[0]+3936430074&4294967295,w=h+(p<<11&4294967295|p>>>21),p=y+(w^h^_)+C[3]+3572445317&4294967295,y=w+(p<<16&4294967295|p>>>16),p=_+(y^w^h)+C[6]+76029189&4294967295,_=y+(p<<23&4294967295|p>>>9),p=h+(_^y^w)+C[9]+3654602809&4294967295,h=_+(p<<4&4294967295|p>>>28),p=w+(h^_^y)+C[12]+3873151461&4294967295,w=h+(p<<11&4294967295|p>>>21),p=y+(w^h^_)+C[15]+530742520&4294967295,y=w+(p<<16&4294967295|p>>>16),p=_+(y^w^h)+C[2]+3299628645&4294967295,_=y+(p<<23&4294967295|p>>>9),p=h+(y^(_|~w))+C[0]+4096336452&4294967295,h=_+(p<<6&4294967295|p>>>26),p=w+(_^(h|~y))+C[7]+1126891415&4294967295,w=h+(p<<10&4294967295|p>>>22),p=y+(h^(w|~_))+C[14]+2878612391&4294967295,y=w+(p<<15&4294967295|p>>>17),p=_+(w^(y|~h))+C[5]+4237533241&4294967295,_=y+(p<<21&4294967295|p>>>11),p=h+(y^(_|~w))+C[12]+1700485571&4294967295,h=_+(p<<6&4294967295|p>>>26),p=w+(_^(h|~y))+C[3]+2399980690&4294967295,w=h+(p<<10&4294967295|p>>>22),p=y+(h^(w|~_))+C[10]+4293915773&4294967295,y=w+(p<<15&4294967295|p>>>17),p=_+(w^(y|~h))+C[1]+2240044497&4294967295,_=y+(p<<21&4294967295|p>>>11),p=h+(y^(_|~w))+C[8]+1873313359&4294967295,h=_+(p<<6&4294967295|p>>>26),p=w+(_^(h|~y))+C[15]+4264355552&4294967295,w=h+(p<<10&4294967295|p>>>22),p=y+(h^(w|~_))+C[6]+2734768916&4294967295,y=w+(p<<15&4294967295|p>>>17),p=_+(w^(y|~h))+C[13]+1309151649&4294967295,_=y+(p<<21&4294967295|p>>>11),p=h+(y^(_|~w))+C[4]+4149444226&4294967295,h=_+(p<<6&4294967295|p>>>26),p=w+(_^(h|~y))+C[11]+3174756917&4294967295,w=h+(p<<10&4294967295|p>>>22),p=y+(h^(w|~_))+C[2]+718787259&4294967295,y=w+(p<<15&4294967295|p>>>17),p=_+(w^(y|~h))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+h&4294967295,M.g[1]=M.g[1]+(y+(p<<21&4294967295|p>>>11))&4294967295,M.g[2]=M.g[2]+y&4294967295,M.g[3]=M.g[3]+w&4294967295}n.prototype.u=function(M,h){h===void 0&&(h=M.length);for(var _=h-this.blockSize,C=this.B,y=this.h,w=0;w<h;){if(y==0)for(;w<=_;)r(this,M,w),w+=this.blockSize;if(typeof M=="string"){for(;w<h;)if(C[y++]=M.charCodeAt(w++),y==this.blockSize){r(this,C),y=0;break}}else for(;w<h;)if(C[y++]=M[w++],y==this.blockSize){r(this,C),y=0;break}}this.h=y,this.o+=h},n.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var h=1;h<M.length-8;++h)M[h]=0;var _=8*this.o;for(h=M.length-8;h<M.length;++h)M[h]=_&255,_/=256;for(this.u(M),M=Array(16),h=_=0;4>h;++h)for(var C=0;32>C;C+=8)M[_++]=this.g[h]>>>C&255;return M};function a(M,h){var _=u;return Object.prototype.hasOwnProperty.call(_,M)?_[M]:_[M]=h(M)}function l(M,h){this.h=h;for(var _=[],C=!0,y=M.length-1;0<=y;y--){var w=M[y]|0;C&&w==h||(_[y]=w,C=!1)}this.g=_}var u={};function m(M){return-128<=M&&128>M?a(M,function(h){return new l([h|0],0>h?-1:0)}):new l([M|0],0>M?-1:0)}function b(M){if(isNaN(M)||!isFinite(M))return N;if(0>M)return lt(b(-M));for(var h=[],_=1,C=0;M>=_;C++)h[C]=M/_|0,_*=4294967296;return new l(h,0)}function x(M,h){if(M.length==0)throw Error("number format error: empty string");if(h=h||10,2>h||36<h)throw Error("radix out of range: "+h);if(M.charAt(0)=="-")return lt(x(M.substring(1),h));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=b(Math.pow(h,8)),C=N,y=0;y<M.length;y+=8){var w=Math.min(8,M.length-y),p=parseInt(M.substring(y,y+w),h);8>w?(w=b(Math.pow(h,w)),C=C.j(w).add(b(p))):(C=C.j(_),C=C.add(b(p)))}return C}var N=m(0),D=m(1),R=m(16777216);i=l.prototype,i.m=function(){if(ht(this))return-lt(this).m();for(var M=0,h=1,_=0;_<this.g.length;_++){var C=this.i(_);M+=(0<=C?C:4294967296+C)*h,h*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(V(this))return"0";if(ht(this))return"-"+lt(this).toString(M);for(var h=b(Math.pow(M,6)),_=this,C="";;){var y=Oe(_,h).g;_=Ut(_,y.j(h));var w=((0<_.g.length?_.g[0]:_.h)>>>0).toString(M);if(_=y,V(_))return w+C;for(;6>w.length;)w="0"+w;C=w+C}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function V(M){if(M.h!=0)return!1;for(var h=0;h<M.g.length;h++)if(M.g[h]!=0)return!1;return!0}function ht(M){return M.h==-1}i.l=function(M){return M=Ut(this,M),ht(M)?-1:V(M)?0:1};function lt(M){for(var h=M.g.length,_=[],C=0;C<h;C++)_[C]=~M.g[C];return new l(_,~M.h).add(D)}i.abs=function(){return ht(this)?lt(this):this},i.add=function(M){for(var h=Math.max(this.g.length,M.g.length),_=[],C=0,y=0;y<=h;y++){var w=C+(this.i(y)&65535)+(M.i(y)&65535),p=(w>>>16)+(this.i(y)>>>16)+(M.i(y)>>>16);C=p>>>16,w&=65535,p&=65535,_[y]=p<<16|w}return new l(_,_[_.length-1]&-2147483648?-1:0)};function Ut(M,h){return M.add(lt(h))}i.j=function(M){if(V(this)||V(M))return N;if(ht(this))return ht(M)?lt(this).j(lt(M)):lt(lt(this).j(M));if(ht(M))return lt(this.j(lt(M)));if(0>this.l(R)&&0>M.l(R))return b(this.m()*M.m());for(var h=this.g.length+M.g.length,_=[],C=0;C<2*h;C++)_[C]=0;for(C=0;C<this.g.length;C++)for(var y=0;y<M.g.length;y++){var w=this.i(C)>>>16,p=this.i(C)&65535,me=M.i(y)>>>16,Xn=M.i(y)&65535;_[2*C+2*y]+=p*Xn,qt(_,2*C+2*y),_[2*C+2*y+1]+=w*Xn,qt(_,2*C+2*y+1),_[2*C+2*y+1]+=p*me,qt(_,2*C+2*y+1),_[2*C+2*y+2]+=w*me,qt(_,2*C+2*y+2)}for(C=0;C<h;C++)_[C]=_[2*C+1]<<16|_[2*C];for(C=h;C<2*h;C++)_[C]=0;return new l(_,0)};function qt(M,h){for(;(M[h]&65535)!=M[h];)M[h+1]+=M[h]>>>16,M[h]&=65535,h++}function Qt(M,h){this.g=M,this.h=h}function Oe(M,h){if(V(h))throw Error("division by zero");if(V(M))return new Qt(N,N);if(ht(M))return h=Oe(lt(M),h),new Qt(lt(h.g),lt(h.h));if(ht(h))return h=Oe(M,lt(h)),new Qt(lt(h.g),h.h);if(30<M.g.length){if(ht(M)||ht(h))throw Error("slowDivide_ only works with positive integers.");for(var _=D,C=h;0>=C.l(M);)_=Xi(_),C=Xi(C);var y=ie(_,1),w=ie(C,1);for(C=ie(C,2),_=ie(_,2);!V(C);){var p=w.add(C);0>=p.l(M)&&(y=y.add(_),w=p),C=ie(C,1),_=ie(_,1)}return h=Ut(M,y.j(h)),new Qt(y,h)}for(y=N;0<=M.l(h);){for(_=Math.max(1,Math.floor(M.m()/h.m())),C=Math.ceil(Math.log(_)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),w=b(_),p=w.j(h);ht(p)||0<p.l(M);)_-=C,w=b(_),p=w.j(h);V(w)&&(w=D),y=y.add(w),M=Ut(M,p)}return new Qt(y,M)}i.A=function(M){return Oe(this,M).h},i.and=function(M){for(var h=Math.max(this.g.length,M.g.length),_=[],C=0;C<h;C++)_[C]=this.i(C)&M.i(C);return new l(_,this.h&M.h)},i.or=function(M){for(var h=Math.max(this.g.length,M.g.length),_=[],C=0;C<h;C++)_[C]=this.i(C)|M.i(C);return new l(_,this.h|M.h)},i.xor=function(M){for(var h=Math.max(this.g.length,M.g.length),_=[],C=0;C<h;C++)_[C]=this.i(C)^M.i(C);return new l(_,this.h^M.h)};function Xi(M){for(var h=M.g.length+1,_=[],C=0;C<h;C++)_[C]=M.i(C)<<1|M.i(C-1)>>>31;return new l(_,M.h)}function ie(M,h){var _=h>>5;h%=32;for(var C=M.g.length-_,y=[],w=0;w<C;w++)y[w]=0<h?M.i(w+_)>>>h|M.i(w+_+1)<<32-h:M.i(w+_);return new l(y,M.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,vl=yl.Md5=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=b,l.fromString=x,to=yl.Integer=l}).apply(typeof Cl<"u"?Cl:typeof self<"u"?self:typeof window<"u"?window:{});var eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me={};var Pl,eh,Ml,wl,xl,Ol,Il,El,Tl;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,s,c){return e==Array.prototype||e==Object.prototype||(e[s]=c.value),e};function o(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof eo=="object"&&eo];for(var s=0;s<e.length;++s){var c=e[s];if(c&&c.Math==Math)return c}throw Error("Cannot find global object")}var n=o(this);function r(e,s){if(s)t:{var c=n;e=e.split(".");for(var d=0;d<e.length-1;d++){var P=e[d];if(!(P in c))break t;c=c[P]}e=e[e.length-1],d=c[e],s=s(d),s!=d&&s!=null&&t(c,e,{configurable:!0,writable:!0,value:s})}}function a(e,s){e instanceof String&&(e+="");var c=0,d=!1,P={next:function(){if(!d&&c<e.length){var O=c++;return{value:s(O,e[O]),done:!1}}return d=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}r("Array.prototype.values",function(e){return e||function(){return a(this,function(s,c){return c})}});var l=l||{},u=this||self;function m(e){var s=typeof e;return s=s!="object"?s:e?Array.isArray(e)?"array":s:"null",s=="array"||s=="object"&&typeof e.length=="number"}function b(e){var s=typeof e;return s=="object"&&e!=null||s=="function"}function x(e,s,c){return e.call.apply(e.bind,arguments)}function N(e,s,c){if(!e)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,d),e.apply(s,P)}}return function(){return e.apply(s,arguments)}}function D(e,s,c){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:N,D.apply(null,arguments)}function R(e,s){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),e.apply(this,d)}}function V(e,s){function c(){}c.prototype=s.prototype,e.aa=s.prototype,e.prototype=new c,e.prototype.constructor=e,e.Qb=function(d,P,O){for(var E=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)E[rt-2]=arguments[rt];return s.prototype[P].apply(d,E)}}function ht(e){let s=e.length;if(0<s){let c=Array(s);for(let d=0;d<s;d++)c[d]=e[d];return c}return[]}function lt(e,s){for(let c=1;c<arguments.length;c++){let d=arguments[c];if(m(d)){let P=e.length||0,O=d.length||0;e.length=P+O;for(let E=0;E<O;E++)e[P+E]=d[E]}else e.push(d)}}class Ut{constructor(s,c){this.i=s,this.j=c,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}function qt(e){return/^[\s\xa0]*$/.test(e)}function Qt(){var e=u.navigator;return e&&(e=e.userAgent)?e:""}function Oe(e){return Oe[" "](e),e}Oe[" "]=function(){};var Xi=Qt().indexOf("Gecko")!=-1&&!(Qt().toLowerCase().indexOf("webkit")!=-1&&Qt().indexOf("Edge")==-1)&&!(Qt().indexOf("Trident")!=-1||Qt().indexOf("MSIE")!=-1)&&Qt().indexOf("Edge")==-1;function ie(e,s,c){for(let d in e)s.call(c,e[d],d,e)}function M(e,s){for(let c in e)s.call(void 0,e[c],c,e)}function h(e){let s={};for(let c in e)s[c]=e[c];return s}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(e,s){let c,d;for(let P=1;P<arguments.length;P++){d=arguments[P];for(c in d)e[c]=d[c];for(let O=0;O<_.length;O++)c=_[O],Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c])}}function y(e){var s=1;e=e.split(":");let c=[];for(;0<s&&e.length;)c.push(e.shift()),s--;return e.length&&c.push(e.join(":")),c}function w(e){u.setTimeout(()=>{throw e},0)}function p(){var e=bo;let s=null;return e.g&&(s=e.g,e.g=e.g.next,e.g||(e.h=null),s.next=null),s}class me{constructor(){this.h=this.g=null}add(s,c){let d=Xn.get();d.set(s,c),this.h?this.h.next=d:this.g=d,this.h=d}}var Xn=new Ut(()=>new uu,e=>e.reset());class uu{constructor(){this.next=this.g=this.h=null}set(s,c){this.h=s,this.g=c,this.next=null}reset(){this.next=this.g=this.h=null}}let Jn,Zn=!1,bo=new me,Bs=()=>{let e=u.Promise.resolve(void 0);Jn=()=>{e.then(mu)}};var mu=()=>{for(var e;e=p();){try{e.h.call(e.g)}catch(c){w(c)}var s=Xn;s.j(e),100>s.h&&(s.h++,e.next=s.g,s.g=e)}Zn=!1};function Ie(){this.s=this.s,this.C=this.C}Ie.prototype.s=!1,Ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function wt(e,s){this.type=e,this.g=this.target=s,this.defaultPrevented=!1}wt.prototype.h=function(){this.defaultPrevented=!0};var hu=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,s=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let c=()=>{};u.addEventListener("test",c,s),u.removeEventListener("test",c,s)}catch{}return e}();function ti(e,s){if(wt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var c=this.type=e.type,d=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=s,s=e.relatedTarget){if(Xi){t:{try{Oe(s.nodeName);var P=!0;break t}catch{}P=!1}P||(s=null)}}else c=="mouseover"?s=e.fromElement:c=="mouseout"&&(s=e.toElement);this.relatedTarget=s,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:gu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ti.aa.h.call(this)}}V(ti,wt);var gu={2:"touch",3:"pen",4:"mouse"};ti.prototype.h=function(){ti.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ei="closure_listenable_"+(1e6*Math.random()|0),pu=0;function fu(e,s,c,d,P){this.listener=e,this.proxy=null,this.src=s,this.type=c,this.capture=!!d,this.ha=P,this.key=++pu,this.da=this.fa=!1}function Ji(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Zi(e){this.src=e,this.g={},this.h=0}Zi.prototype.add=function(e,s,c,d,P){var O=e.toString();e=this.g[O],e||(e=this.g[O]=[],this.h++);var E=yo(e,s,d,P);return-1<E?(s=e[E],c||(s.fa=!1)):(s=new fu(s,this.src,O,!!d,P),s.fa=c,e.push(s)),s};function Co(e,s){var c=s.type;if(c in e.g){var d=e.g[c],P=Array.prototype.indexOf.call(d,s,void 0),O;(O=0<=P)&&Array.prototype.splice.call(d,P,1),O&&(Ji(s),e.g[c].length==0&&(delete e.g[c],e.h--))}}function yo(e,s,c,d){for(var P=0;P<e.length;++P){var O=e[P];if(!O.da&&O.listener==s&&O.capture==!!c&&O.ha==d)return P}return-1}var vo="closure_lm_"+(1e6*Math.random()|0),Po={};function js(e,s,c,d,P){if(d&&d.once)return Gs(e,s,c,d,P);if(Array.isArray(s)){for(var O=0;O<s.length;O++)js(e,s[O],c,d,P);return null}return c=Oo(c),e&&e[ei]?e.K(s,c,b(d)?!!d.capture:!!d,P):zs(e,s,c,!1,d,P)}function zs(e,s,c,d,P,O){if(!s)throw Error("Invalid event type");var E=b(P)?!!P.capture:!!P,rt=wo(e);if(rt||(e[vo]=rt=new Zi(e)),c=rt.add(s,c,d,E,O),c.proxy)return c;if(d=_u(),c.proxy=d,d.src=e,d.listener=c,e.addEventListener)hu||(P=E),P===void 0&&(P=!1),e.addEventListener(s.toString(),d,P);else if(e.attachEvent)e.attachEvent($s(s.toString()),d);else if(e.addListener&&e.removeListener)e.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return c}function _u(){function e(c){return s.call(e.src,e.listener,c)}let s=bu;return e}function Gs(e,s,c,d,P){if(Array.isArray(s)){for(var O=0;O<s.length;O++)Gs(e,s[O],c,d,P);return null}return c=Oo(c),e&&e[ei]?e.L(s,c,b(d)?!!d.capture:!!d,P):zs(e,s,c,!0,d,P)}function qs(e,s,c,d,P){if(Array.isArray(s))for(var O=0;O<s.length;O++)qs(e,s[O],c,d,P);else d=b(d)?!!d.capture:!!d,c=Oo(c),e&&e[ei]?(e=e.i,s=String(s).toString(),s in e.g&&(O=e.g[s],c=yo(O,c,d,P),-1<c&&(Ji(O[c]),Array.prototype.splice.call(O,c,1),O.length==0&&(delete e.g[s],e.h--)))):e&&(e=wo(e))&&(s=e.g[s.toString()],e=-1,s&&(e=yo(s,c,d,P)),(c=-1<e?s[e]:null)&&Mo(c))}function Mo(e){if(typeof e!="number"&&e&&!e.da){var s=e.src;if(s&&s[ei])Co(s.i,e);else{var c=e.type,d=e.proxy;s.removeEventListener?s.removeEventListener(c,d,e.capture):s.detachEvent?s.detachEvent($s(c),d):s.addListener&&s.removeListener&&s.removeListener(d),(c=wo(s))?(Co(c,e),c.h==0&&(c.src=null,s[vo]=null)):Ji(e)}}}function $s(e){return e in Po?Po[e]:Po[e]="on"+e}function bu(e,s){if(e.da)e=!0;else{s=new ti(s,this);var c=e.listener,d=e.ha||e.src;e.fa&&Mo(e),e=c.call(d,s)}return e}function wo(e){return e=e[vo],e instanceof Zi?e:null}var xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oo(e){return typeof e=="function"?e:(e[xo]||(e[xo]=function(s){return e.handleEvent(s)}),e[xo])}function xt(){Ie.call(this),this.i=new Zi(this),this.M=this,this.F=null}V(xt,Ie),xt.prototype[ei]=!0,xt.prototype.removeEventListener=function(e,s,c,d){qs(this,e,s,c,d)};function Rt(e,s){var c,d=e.F;if(d)for(c=[];d;d=d.F)c.push(d);if(e=e.M,d=s.type||s,typeof s=="string")s=new wt(s,e);else if(s instanceof wt)s.target=s.target||e;else{var P=s;s=new wt(d,e),C(s,P)}if(P=!0,c)for(var O=c.length-1;0<=O;O--){var E=s.g=c[O];P=tr(E,d,!0,s)&&P}if(E=s.g=e,P=tr(E,d,!0,s)&&P,P=tr(E,d,!1,s)&&P,c)for(O=0;O<c.length;O++)E=s.g=c[O],P=tr(E,d,!1,s)&&P}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var e=this.i,s;for(s in e.g){for(var c=e.g[s],d=0;d<c.length;d++)Ji(c[d]);delete e.g[s],e.h--}}this.F=null},xt.prototype.K=function(e,s,c,d){return this.i.add(String(e),s,!1,c,d)},xt.prototype.L=function(e,s,c,d){return this.i.add(String(e),s,!0,c,d)};function tr(e,s,c,d){if(s=e.i.g[String(s)],!s)return!0;s=s.concat();for(var P=!0,O=0;O<s.length;++O){var E=s[O];if(E&&!E.da&&E.capture==c){var rt=E.listener,Pt=E.ha||E.src;E.fa&&Co(e.i,E),P=rt.call(Pt,d)!==!1&&P}}return P&&!d.defaultPrevented}function Ks(e,s,c){if(typeof e=="function")c&&(e=D(e,c));else if(e&&typeof e.handleEvent=="function")e=D(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:u.setTimeout(e,s||0)}function Hs(e){e.g=Ks(()=>{e.g=null,e.i&&(e.i=!1,Hs(e))},e.l);let s=e.h;e.h=null,e.m.apply(null,s)}class Cu extends Ie{constructor(s,c){super(),this.m=s,this.l=c,this.h=null,this.i=!1,this.g=null}j(s){this.h=arguments,this.g?this.i=!0:Hs(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(e){Ie.call(this),this.h=e,this.g={}}V(ni,Ie);var Qs=[];function Ws(e){ie(e.g,function(s,c){this.g.hasOwnProperty(c)&&Mo(s)},e),e.g={}}ni.prototype.N=function(){ni.aa.N.call(this),Ws(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Io=u.JSON.stringify,yu=u.JSON.parse,vu=class{stringify(e){return u.JSON.stringify(e,void 0)}parse(e){return u.JSON.parse(e,void 0)}};function Eo(){}Eo.prototype.h=null;function Ys(e){return e.h||(e.h=e.i())}function Xs(){}var ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function To(){wt.call(this,"d")}V(To,wt);function So(){wt.call(this,"c")}V(So,wt);var ze={},Js=null;function er(){return Js=Js||new xt}ze.La="serverreachability";function Zs(e){wt.call(this,ze.La,e)}V(Zs,wt);function ri(e){let s=er();Rt(s,new Zs(s))}ze.STAT_EVENT="statevent";function ta(e,s){wt.call(this,ze.STAT_EVENT,e),this.stat=s}V(ta,wt);function Nt(e){let s=er();Rt(s,new ta(s,e))}ze.Ma="timingevent";function ea(e,s){wt.call(this,ze.Ma,e),this.size=s}V(ea,wt);function oi(e,s){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){e()},s)}function si(){this.g=!0}si.prototype.xa=function(){this.g=!1};function Pu(e,s,c,d,P,O){e.info(function(){if(e.g)if(O)for(var E="",rt=O.split("&"),Pt=0;Pt<rt.length;Pt++){var Y=rt[Pt].split("=");if(1<Y.length){var Ot=Y[0];Y=Y[1];var It=Ot.split("_");E=2<=It.length&&It[1]=="type"?E+(Ot+"="+Y+"&"):E+(Ot+"=redacted&")}}else E=null;else E=O;return"XMLHTTP REQ ("+d+") [attempt "+P+"]: "+s+`
`+c+`
`+E})}function Mu(e,s,c,d,P,O,E){e.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+P+"]: "+s+`
`+c+`
`+O+" "+E})}function ln(e,s,c,d){e.info(function(){return"XMLHTTP TEXT ("+s+"): "+xu(e,c)+(d?" "+d:"")})}function wu(e,s){e.info(function(){return"TIMEOUT: "+s})}si.prototype.info=function(){};function xu(e,s){if(!e.g)return s;if(!s)return null;try{var c=JSON.parse(s);if(c){for(e=0;e<c.length;e++)if(Array.isArray(c[e])){var d=c[e];if(!(2>d.length)){var P=d[1];if(Array.isArray(P)&&!(1>P.length)){var O=P[0];if(O!="noop"&&O!="stop"&&O!="close")for(var E=1;E<P.length;E++)P[E]=""}}}}return Io(c)}catch{return s}}var nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},na={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ao;function ir(){}V(ir,Eo),ir.prototype.g=function(){return new XMLHttpRequest},ir.prototype.i=function(){return{}},Ao=new ir;function Ee(e,s,c,d){this.j=e,this.i=s,this.l=c,this.R=d||1,this.U=new ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ia}function ia(){this.i=null,this.g="",this.h=!1}var ra={},ko={};function Do(e,s,c){e.L=1,e.v=ar(he(s)),e.m=c,e.P=!0,oa(e,null)}function oa(e,s){e.F=Date.now(),rr(e),e.A=he(e.v);var c=e.A,d=e.R;Array.isArray(d)||(d=[String(d)]),Ca(c.i,"t",d),e.C=0,c=e.j.J,e.h=new ia,e.g=Fa(e.j,c?s:null,!e.m),0<e.O&&(e.M=new Cu(D(e.Y,e,e.g),e.O)),s=e.U,c=e.g,d=e.ca;var P="readystatechange";Array.isArray(P)||(P&&(Qs[0]=P.toString()),P=Qs);for(var O=0;O<P.length;O++){var E=js(c,P[O],d||s.handleEvent,!1,s.h||s);if(!E)break;s.g[E.key]=E}s=e.H?h(e.H):{},e.m?(e.u||(e.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,s)):(e.u="GET",e.g.ea(e.A,e.u,null,s)),ri(),Pu(e.i,e.u,e.A,e.l,e.R,e.m)}Ee.prototype.ca=function(e){e=e.target;let s=this.M;s&&ge(e)==3?s.j():this.Y(e)},Ee.prototype.Y=function(e){try{if(e==this.g)t:{let It=ge(this.g);var s=this.g.Ba();let mn=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Oa(this.g)))){this.J||It!=4||s==7||(s==8||0>=mn?ri(3):ri(2)),Ro(this);var c=this.g.Z();this.X=c;e:if(sa(this)){var d=Oa(this.g);e="";var P=d.length,O=ge(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ge(this),ai(this);var E="";break e}this.h.i=new u.TextDecoder}for(s=0;s<P;s++)this.h.h=!0,e+=this.h.i.decode(d[s],{stream:!(O&&s==P-1)});d.length=0,this.h.g+=e,this.C=0,E=this.h.g}else E=this.g.oa();if(this.o=c==200,Mu(this.i,this.u,this.A,this.l,this.R,It,c),this.o){if(this.T&&!this.K){e:{if(this.g){var rt,Pt=this.g;if((rt=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qt(rt)){var Y=rt;break e}}Y=null}if(c=Y)ln(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,No(this,c);else{this.o=!1,this.s=3,Nt(12),Ge(this),ai(this);break t}}if(this.P){c=!0;let Zt;for(;!this.J&&this.C<E.length;)if(Zt=Ou(this,E),Zt==ko){It==4&&(this.s=4,Nt(14),c=!1),ln(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==ra){this.s=4,Nt(15),ln(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else ln(this.i,this.l,Zt,null),No(this,Zt);if(sa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||E.length!=0||this.h.h||(this.s=1,Nt(16),c=!1),this.o=this.o&&c,!c)ln(this.i,this.l,E,"[Invalid Chunked Response]"),Ge(this),ai(this);else if(0<E.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),jo(Ot),Ot.M=!0,Nt(11))}}else ln(this.i,this.l,E,null),No(this,E);It==4&&Ge(this),this.o&&!this.J&&(It==4?Da(this.j,this):(this.o=!1,rr(this)))}else Gu(this.g),c==400&&0<E.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Ge(this),ai(this)}}}catch{}finally{}};function sa(e){return e.g?e.u=="GET"&&e.L!=2&&e.j.Ca:!1}function Ou(e,s){var c=e.C,d=s.indexOf(`
`,c);return d==-1?ko:(c=Number(s.substring(c,d)),isNaN(c)?ra:(d+=1,d+c>s.length?ko:(s=s.slice(d,d+c),e.C=d+c,s)))}Ee.prototype.cancel=function(){this.J=!0,Ge(this)};function rr(e){e.S=Date.now()+e.I,aa(e,e.I)}function aa(e,s){if(e.B!=null)throw Error("WatchDog timer not null");e.B=oi(D(e.ba,e),s)}function Ro(e){e.B&&(u.clearTimeout(e.B),e.B=null)}Ee.prototype.ba=function(){this.B=null;let e=Date.now();0<=e-this.S?(wu(this.i,this.A),this.L!=2&&(ri(),Nt(17)),Ge(this),this.s=2,ai(this)):aa(this,this.S-e)};function ai(e){e.j.G==0||e.J||Da(e.j,e)}function Ge(e){Ro(e);var s=e.M;s&&typeof s.ma=="function"&&s.ma(),e.M=null,Ws(e.U),e.g&&(s=e.g,e.g=null,s.abort(),s.ma())}function No(e,s){try{var c=e.j;if(c.G!=0&&(c.g==e||Vo(c.h,e))){if(!e.K&&Vo(c.h,e)&&c.G==3){try{var d=c.Da.g.parse(s)}catch{d=null}if(Array.isArray(d)&&d.length==3){var P=d;if(P[0]==0){t:if(!c.u){if(c.g)if(c.g.F+3e3<e.F)mr(c),dr(c);else break t;Bo(c),Nt(18)}}else c.za=P[1],0<c.za-c.T&&37500>P[2]&&c.F&&c.v==0&&!c.C&&(c.C=oi(D(c.Za,c),6e3));if(1>=da(c.h)&&c.ca){try{c.ca()}catch{}c.ca=void 0}}else $e(c,11)}else if((e.K||c.g==e)&&mr(c),!qt(s))for(P=c.Da.g.parse(s),s=0;s<P.length;s++){let Y=P[s];if(c.T=Y[0],Y=Y[1],c.G==2)if(Y[0]=="c"){c.K=Y[1],c.ia=Y[2];let Ot=Y[3];Ot!=null&&(c.la=Ot,c.j.info("VER="+c.la));let It=Y[4];It!=null&&(c.Aa=It,c.j.info("SVER="+c.Aa));let mn=Y[5];mn!=null&&typeof mn=="number"&&0<mn&&(d=1.5*mn,c.L=d,c.j.info("backChannelRequestTimeoutMs_="+d)),d=c;let Zt=e.g;if(Zt){let gr=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var O=d.h;O.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Fo(O,O.h),O.h=null))}if(d.D){let zo=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;zo&&(d.ya=zo,dt(d.I,d.D,zo))}}c.G=3,c.l&&c.l.ua(),c.ba&&(c.R=Date.now()-e.F,c.j.info("Handshake RTT: "+c.R+"ms")),d=c;var E=e;if(d.qa=Va(d,d.J?d.ia:null,d.W),E.K){ua(d.h,E);var rt=E,Pt=d.L;Pt&&(rt.I=Pt),rt.B&&(Ro(rt),rr(rt)),d.g=E}else Aa(d);0<c.i.length&&ur(c)}else Y[0]!="stop"&&Y[0]!="close"||$e(c,7);else c.G==3&&(Y[0]=="stop"||Y[0]=="close"?Y[0]=="stop"?$e(c,7):Uo(c):Y[0]!="noop"&&c.l&&c.l.ta(Y),c.v=0)}}ri(4)}catch{}}var Iu=class{constructor(e,s){this.g=e,this.map=s}};function ca(e){this.l=e||10,u.PerformanceNavigationTiming?(e=u.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function la(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function da(e){return e.h?1:e.g?e.g.size:0}function Vo(e,s){return e.h?e.h==s:e.g?e.g.has(s):!1}function Fo(e,s){e.g?e.g.add(s):e.h=s}function ua(e,s){e.h&&e.h==s?e.h=null:e.g&&e.g.has(s)&&e.g.delete(s)}ca.prototype.cancel=function(){if(this.i=ma(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function ma(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let s=e.i;for(let c of e.g.values())s=s.concat(c.D);return s}return ht(e.i)}function Eu(e){if(e.V&&typeof e.V=="function")return e.V();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(m(e)){for(var s=[],c=e.length,d=0;d<c;d++)s.push(e[d]);return s}s=[],c=0;for(d in e)s[c++]=e[d];return s}function Tu(e){if(e.na&&typeof e.na=="function")return e.na();if(!e.V||typeof e.V!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(m(e)||typeof e=="string"){var s=[];e=e.length;for(var c=0;c<e;c++)s.push(c);return s}s=[],c=0;for(let d in e)s[c++]=d;return s}}}function ha(e,s){if(e.forEach&&typeof e.forEach=="function")e.forEach(s,void 0);else if(m(e)||typeof e=="string")Array.prototype.forEach.call(e,s,void 0);else for(var c=Tu(e),d=Eu(e),P=d.length,O=0;O<P;O++)s.call(void 0,d[O],c&&c[O],e)}var ga=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Su(e,s){if(e){e=e.split("&");for(var c=0;c<e.length;c++){var d=e[c].indexOf("="),P=null;if(0<=d){var O=e[c].substring(0,d);P=e[c].substring(d+1)}else O=e[c];s(O,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function qe(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof qe){this.h=e.h,or(this,e.j),this.o=e.o,this.g=e.g,sr(this,e.s),this.l=e.l;var s=e.i,c=new di;c.i=s.i,s.g&&(c.g=new Map(s.g),c.h=s.h),pa(this,c),this.m=e.m}else e&&(s=String(e).match(ga))?(this.h=!1,or(this,s[1]||"",!0),this.o=ci(s[2]||""),this.g=ci(s[3]||"",!0),sr(this,s[4]),this.l=ci(s[5]||"",!0),pa(this,s[6]||"",!0),this.m=ci(s[7]||"")):(this.h=!1,this.i=new di(null,this.h))}qe.prototype.toString=function(){var e=[],s=this.j;s&&e.push(li(s,fa,!0),":");var c=this.g;return(c||s=="file")&&(e.push("//"),(s=this.o)&&e.push(li(s,fa,!0),"@"),e.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.s,c!=null&&e.push(":",String(c))),(c=this.l)&&(this.g&&c.charAt(0)!="/"&&e.push("/"),e.push(li(c,c.charAt(0)=="/"?Du:ku,!0))),(c=this.i.toString())&&e.push("?",c),(c=this.m)&&e.push("#",li(c,Nu)),e.join("")};function he(e){return new qe(e)}function or(e,s,c){e.j=c?ci(s,!0):s,e.j&&(e.j=e.j.replace(/:$/,""))}function sr(e,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);e.s=s}else e.s=null}function pa(e,s,c){s instanceof di?(e.i=s,Vu(e.i,e.h)):(c||(s=li(s,Ru)),e.i=new di(s,e.h))}function dt(e,s,c){e.i.set(s,c)}function ar(e){return dt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ci(e,s){return e?s?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function li(e,s,c){return typeof e=="string"?(e=encodeURI(e).replace(s,Au),c&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Au(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var fa=/[#\/\?@]/g,ku=/[#\?:]/g,Du=/[#\?]/g,Ru=/[#\?@]/g,Nu=/#/g;function di(e,s){this.h=this.g=null,this.i=e||null,this.j=!!s}function Te(e){e.g||(e.g=new Map,e.h=0,e.i&&Su(e.i,function(s,c){e.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}i=di.prototype,i.add=function(e,s){Te(this),this.i=null,e=dn(this,e);var c=this.g.get(e);return c||this.g.set(e,c=[]),c.push(s),this.h+=1,this};function _a(e,s){Te(e),s=dn(e,s),e.g.has(s)&&(e.i=null,e.h-=e.g.get(s).length,e.g.delete(s))}function ba(e,s){return Te(e),s=dn(e,s),e.g.has(s)}i.forEach=function(e,s){Te(this),this.g.forEach(function(c,d){c.forEach(function(P){e.call(s,P,d,this)},this)},this)},i.na=function(){Te(this);let e=Array.from(this.g.values()),s=Array.from(this.g.keys()),c=[];for(let d=0;d<s.length;d++){let P=e[d];for(let O=0;O<P.length;O++)c.push(s[d])}return c},i.V=function(e){Te(this);let s=[];if(typeof e=="string")ba(this,e)&&(s=s.concat(this.g.get(dn(this,e))));else{e=Array.from(this.g.values());for(let c=0;c<e.length;c++)s=s.concat(e[c])}return s},i.set=function(e,s){return Te(this),this.i=null,e=dn(this,e),ba(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[s]),this.h+=1,this},i.get=function(e,s){return e?(e=this.V(e),0<e.length?String(e[0]):s):s};function Ca(e,s,c){_a(e,s),0<c.length&&(e.i=null,e.g.set(dn(e,s),ht(c)),e.h+=c.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],s=Array.from(this.g.keys());for(var c=0;c<s.length;c++){var d=s[c];let O=encodeURIComponent(String(d)),E=this.V(d);for(d=0;d<E.length;d++){var P=O;E[d]!==""&&(P+="="+encodeURIComponent(String(E[d]))),e.push(P)}}return this.i=e.join("&")};function dn(e,s){return s=String(s),e.j&&(s=s.toLowerCase()),s}function Vu(e,s){s&&!e.j&&(Te(e),e.i=null,e.g.forEach(function(c,d){var P=d.toLowerCase();d!=P&&(_a(this,d),Ca(this,P,c))},e)),e.j=s}function Fu(e,s){let c=new si;if(u.Image){let d=new Image;d.onload=R(Se,c,"TestLoadImage: loaded",!0,s,d),d.onerror=R(Se,c,"TestLoadImage: error",!1,s,d),d.onabort=R(Se,c,"TestLoadImage: abort",!1,s,d),d.ontimeout=R(Se,c,"TestLoadImage: timeout",!1,s,d),u.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=e}else s(!1)}function Lu(e,s){let c=new si,d=new AbortController,P=setTimeout(()=>{d.abort(),Se(c,"TestPingServer: timeout",!1,s)},1e4);fetch(e,{signal:d.signal}).then(O=>{clearTimeout(P),O.ok?Se(c,"TestPingServer: ok",!0,s):Se(c,"TestPingServer: server error",!1,s)}).catch(()=>{clearTimeout(P),Se(c,"TestPingServer: error",!1,s)})}function Se(e,s,c,d,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),d(c)}catch{}}function Uu(){this.g=new vu}function Bu(e,s,c){let d=c||"";try{ha(e,function(P,O){let E=P;b(P)&&(E=Io(P)),s.push(d+O+"="+encodeURIComponent(E))})}catch(P){throw s.push(d+"type="+encodeURIComponent("_badmap")),P}}function ui(e){this.l=e.Ub||null,this.j=e.eb||!1}V(ui,Eo),ui.prototype.g=function(){return new cr(this.l,this.j)},ui.prototype.i=function(e){return function(){return e}}({});function cr(e,s){xt.call(this),this.D=e,this.o=s,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(cr,xt),i=cr.prototype,i.open=function(e,s){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=s,this.readyState=1,hi(this)},i.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let s={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(s.body=e),(this.D||u).fetch(new Request(this.A,s)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},i.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ya(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))};function ya(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}i.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var s=e.value?e.value:new Uint8Array(0);(s=this.v.decode(s,{stream:!e.done}))&&(this.response=this.responseText+=s)}e.done?mi(this):hi(this),this.readyState==3&&ya(this)}},i.Ra=function(e){this.g&&(this.response=this.responseText=e,mi(this))},i.Qa=function(e){this.g&&(this.response=e,mi(this))},i.ga=function(){this.g&&mi(this)};function mi(e){e.readyState=4,e.l=null,e.j=null,e.v=null,hi(e)}i.setRequestHeader=function(e,s){this.u.append(e,s)},i.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],s=this.h.entries();for(var c=s.next();!c.done;)c=c.value,e.push(c[0]+": "+c[1]),c=s.next();return e.join(`\r
`)};function hi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});function va(e){let s="";return ie(e,function(c,d){s+=d,s+=":",s+=c,s+=`\r
`}),s}function Lo(e,s,c){t:{for(d in c){var d=!1;break t}d=!0}d||(c=va(c),typeof e=="string"?c!=null&&encodeURIComponent(String(c)):dt(e,s,c))}function gt(e){xt.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(gt,xt);var ju=/^https?$/i,zu=["POST","PUT"];i=gt.prototype,i.Ha=function(e){this.J=e},i.ea=function(e,s,c,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);s=s?s.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ao.g(),this.v=this.o?Ys(this.o):Ys(Ao),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(s,String(e),!0),this.B=!1}catch(O){Pa(this,O);return}if(e=c||"",c=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var P in d)c.set(P,d[P]);else if(typeof d.keys=="function"&&typeof d.get=="function")for(let O of d.keys())c.set(O,d.get(O));else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(c.keys()).find(O=>O.toLowerCase()=="content-type"),P=u.FormData&&e instanceof u.FormData,!(0<=Array.prototype.indexOf.call(zu,s,void 0))||d||P||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,E]of c)this.g.setRequestHeader(O,E);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xa(this),this.u=!0,this.g.send(e),this.u=!1}catch(O){Pa(this,O)}};function Pa(e,s){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=s,e.m=5,Ma(e),lr(e)}function Ma(e){e.A||(e.A=!0,Rt(e,"complete"),Rt(e,"error"))}i.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,Rt(this,"complete"),Rt(this,"abort"),lr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lr(this,!0)),gt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},i.bb=function(){wa(this)};function wa(e){if(e.h&&typeof l<"u"&&(!e.v[1]||ge(e)!=4||e.Z()!=2)){if(e.u&&ge(e)==4)Ks(e.Ea,0,e);else if(Rt(e,"readystatechange"),ge(e)==4){e.h=!1;try{let E=e.Z();t:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}var c;if(!(c=s)){var d;if(d=E===0){var P=String(e.D).match(ga)[1]||null;!P&&u.self&&u.self.location&&(P=u.self.location.protocol.slice(0,-1)),d=!ju.test(P?P.toLowerCase():"")}c=d}if(c)Rt(e,"complete"),Rt(e,"success");else{e.m=6;try{var O=2<ge(e)?e.g.statusText:""}catch{O=""}e.l=O+" ["+e.Z()+"]",Ma(e)}}finally{lr(e)}}}}function lr(e,s){if(e.g){xa(e);let c=e.g,d=e.v[0]?()=>{}:null;e.g=null,e.v=null,s||Rt(e,"ready");try{c.onreadystatechange=d}catch{}}}function xa(e){e.I&&(u.clearTimeout(e.I),e.I=null)}i.isActive=function(){return!!this.g};function ge(e){return e.g?e.g.readyState:0}i.Z=function(){try{return 2<ge(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(e){if(this.g){var s=this.g.responseText;return e&&s.indexOf(e)==0&&(s=s.substring(e.length)),yu(s)}};function Oa(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Gu(e){let s={};e=(e.g&&2<=ge(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let d=0;d<e.length;d++){if(qt(e[d]))continue;var c=y(e[d]);let P=c[0];if(c=c[1],typeof c!="string")continue;c=c.trim();let O=s[P]||[];s[P]=O,O.push(c)}M(s,function(d){return d.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(e,s,c){return c&&c.internalChannelParams&&c.internalChannelParams[e]||s}function Ia(e){this.Aa=0,this.i=[],this.j=new si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gi("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gi("baseRetryDelayMs",5e3,e),this.cb=gi("retryDelaySeedMs",1e4,e),this.Wa=gi("forwardChannelMaxRetries",2,e),this.wa=gi("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new ca(e&&e.concurrentRequestLimit),this.Da=new Uu,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ia.prototype,i.la=8,i.G=1,i.connect=function(e,s,c,d){Nt(0),this.W=e,this.H=s||{},c&&d!==void 0&&(this.H.OSID=c,this.H.OAID=d),this.F=this.X,this.I=Va(this,null,this.W),ur(this)};function Uo(e){if(Ea(e),e.G==3){var s=e.U++,c=he(e.I);if(dt(c,"SID",e.K),dt(c,"RID",s),dt(c,"TYPE","terminate"),pi(e,c),s=new Ee(e,e.j,s),s.L=2,s.v=ar(he(c)),c=!1,u.navigator&&u.navigator.sendBeacon)try{c=u.navigator.sendBeacon(s.v.toString(),"")}catch{}!c&&u.Image&&(new Image().src=s.v,c=!0),c||(s.g=Fa(s.j,null),s.g.ea(s.v)),s.F=Date.now(),rr(s)}Na(e)}function dr(e){e.g&&(jo(e),e.g.cancel(),e.g=null)}function Ea(e){dr(e),e.u&&(u.clearTimeout(e.u),e.u=null),mr(e),e.h.cancel(),e.s&&(typeof e.s=="number"&&u.clearTimeout(e.s),e.s=null)}function ur(e){if(!la(e.h)&&!e.s){e.s=!0;var s=e.Ga;Jn||Bs(),Zn||(Jn(),Zn=!0),bo.add(s,e),e.B=0}}function qu(e,s){return da(e.h)>=e.h.j-(e.s?1:0)?!1:e.s?(e.i=s.D.concat(e.i),!0):e.G==1||e.G==2||e.B>=(e.Va?0:e.Wa)?!1:(e.s=oi(D(e.Ga,e,s),Ra(e,e.B)),e.B++,!0)}i.Ga=function(e){if(this.s)if(this.s=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let P=new Ee(this,this.j,e),O=this.o;if(this.S&&(O?(O=h(O),C(O,this.S)):O=this.S),this.m!==null||this.O||(P.H=O,O=null),this.P)t:{for(var s=0,c=0;c<this.i.length;c++){e:{var d=this.i[c];if("__data__"in d.map&&(d=d.map.__data__,typeof d=="string")){d=d.length;break e}d=void 0}if(d===void 0)break;if(s+=d,4096<s){s=c;break t}if(s===4096||c===this.i.length-1){s=c+1;break t}}s=1e3}else s=1e3;s=Sa(this,P,s),c=he(this.I),dt(c,"RID",e),dt(c,"CVER",22),this.D&&dt(c,"X-HTTP-Session-Id",this.D),pi(this,c),O&&(this.O?s="headers="+encodeURIComponent(String(va(O)))+"&"+s:this.m&&Lo(c,this.m,O)),Fo(this.h,P),this.Ua&&dt(c,"TYPE","init"),this.P?(dt(c,"$req",s),dt(c,"SID","null"),P.T=!0,Do(P,c,null)):Do(P,c,s),this.G=2}}else this.G==3&&(e?Ta(this,e):this.i.length==0||la(this.h)||Ta(this))};function Ta(e,s){var c;s?c=s.l:c=e.U++;let d=he(e.I);dt(d,"SID",e.K),dt(d,"RID",c),dt(d,"AID",e.T),pi(e,d),e.m&&e.o&&Lo(d,e.m,e.o),c=new Ee(e,e.j,c,e.B+1),e.m===null&&(c.H=e.o),s&&(e.i=s.D.concat(e.i)),s=Sa(e,c,1e3),c.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Fo(e.h,c),Do(c,d,s)}function pi(e,s){e.H&&ie(e.H,function(c,d){dt(s,d,c)}),e.l&&ha({},function(c,d){dt(s,d,c)})}function Sa(e,s,c){c=Math.min(e.i.length,c);var d=e.l?D(e.l.Na,e.l,e):null;t:{var P=e.i;let O=-1;for(;;){let E=["count="+c];O==-1?0<c?(O=P[0].g,E.push("ofs="+O)):O=0:E.push("ofs="+O);let rt=!0;for(let Pt=0;Pt<c;Pt++){let Y=P[Pt].g,Ot=P[Pt].map;if(Y-=O,0>Y)O=Math.max(0,P[Pt].g-100),rt=!1;else try{Bu(Ot,E,"req"+Y+"_")}catch{d&&d(Ot)}}if(rt){d=E.join("&");break t}}}return e=e.i.splice(0,c),s.D=e,d}function Aa(e){if(!e.g&&!e.u){e.Y=1;var s=e.Fa;Jn||Bs(),Zn||(Jn(),Zn=!0),bo.add(s,e),e.v=0}}function Bo(e){return e.g||e.u||3<=e.v?!1:(e.Y++,e.u=oi(D(e.Fa,e),Ra(e,e.v)),e.v++,!0)}i.Fa=function(){if(this.u=null,ka(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=oi(D(this.ab,this),e)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),dr(this),ka(this))};function jo(e){e.A!=null&&(u.clearTimeout(e.A),e.A=null)}function ka(e){e.g=new Ee(e,e.j,"rpc",e.Y),e.m===null&&(e.g.H=e.o),e.g.O=0;var s=he(e.qa);dt(s,"RID","rpc"),dt(s,"SID",e.K),dt(s,"AID",e.T),dt(s,"CI",e.F?"0":"1"),!e.F&&e.ja&&dt(s,"TO",e.ja),dt(s,"TYPE","xmlhttp"),pi(e,s),e.m&&e.o&&Lo(s,e.m,e.o),e.L&&(e.g.I=e.L);var c=e.g;e=e.ia,c.L=1,c.v=ar(he(s)),c.m=null,c.P=!0,oa(c,e)}i.Za=function(){this.C!=null&&(this.C=null,dr(this),Bo(this),Nt(19))};function mr(e){e.C!=null&&(u.clearTimeout(e.C),e.C=null)}function Da(e,s){var c=null;if(e.g==s){mr(e),jo(e),e.g=null;var d=2}else if(Vo(e.h,s))c=s.D,ua(e.h,s),d=1;else return;if(e.G!=0){if(s.o)if(d==1){c=s.m?s.m.length:0,s=Date.now()-s.F;var P=e.B;d=er(),Rt(d,new ea(d,c)),ur(e)}else Aa(e);else if(P=s.s,P==3||P==0&&0<s.X||!(d==1&&qu(e,s)||d==2&&Bo(e)))switch(c&&0<c.length&&(s=e.h,s.i=s.i.concat(c)),P){case 1:$e(e,5);break;case 4:$e(e,10);break;case 3:$e(e,6);break;default:$e(e,2)}}}function Ra(e,s){let c=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(c*=2),c*s}function $e(e,s){if(e.j.info("Error code "+s),s==2){var c=D(e.fb,e),d=e.Xa;let P=!d;d=new qe(d||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||or(d,"https"),ar(d),P?Fu(d.toString(),c):Lu(d.toString(),c)}else Nt(2);e.G=0,e.l&&e.l.sa(s),Na(e),Ea(e)}i.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Na(e){if(e.G=0,e.ka=[],e.l){let s=ma(e.h);(s.length!=0||e.i.length!=0)&&(lt(e.ka,s),lt(e.ka,e.i),e.h.i.length=0,ht(e.i),e.i.length=0),e.l.ra()}}function Va(e,s,c){var d=c instanceof qe?he(c):new qe(c);if(d.g!="")s&&(d.g=s+"."+d.g),sr(d,d.s);else{var P=u.location;d=P.protocol,s=s?s+"."+P.hostname:P.hostname,P=+P.port;var O=new qe(null);d&&or(O,d),s&&(O.g=s),P&&sr(O,P),c&&(O.l=c),d=O}return c=e.D,s=e.ya,c&&s&&dt(d,c,s),dt(d,"VER",e.la),pi(e,d),d}function Fa(e,s,c){if(s&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return s=e.Ca&&!e.pa?new gt(new ui({eb:c})):new gt(e.pa),s.Ha(e.J),s}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function La(){}i=La.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function hr(){}hr.prototype.g=function(e,s){return new $t(e,s)};function $t(e,s){xt.call(this),this.g=new Ia(s),this.l=e,this.h=s&&s.messageUrlParams||null,e=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(e?e["X-WebChannel-Content-Type"]=s.messageContentType:e={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.va&&(e?e["X-WebChannel-Client-Profile"]=s.va:e={"X-WebChannel-Client-Profile":s.va}),this.g.S=e,(e=s&&s.Sb)&&!qt(e)&&(this.g.m=e),this.v=s&&s.supportsCrossDomainXhr||!1,this.u=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!qt(s)&&(this.g.D=s,e=this.h,e!==null&&s in e&&(e=this.h,s in e&&delete e[s])),this.j=new un(this)}V($t,xt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){Uo(this.g)},$t.prototype.o=function(e){var s=this.g;if(typeof e=="string"){var c={};c.__data__=e,e=c}else this.u&&(c={},c.__data__=Io(e),e=c);s.i.push(new Iu(s.Ya++,e)),s.G==3&&ur(s)},$t.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,$t.aa.N.call(this)};function Ua(e){To.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var s=e.__sm__;if(s){t:{for(let c in s){e=c;break t}e=void 0}(this.i=e)&&(e=this.i,s=s!==null&&e in s?s[e]:void 0),this.data=s}else this.data=e}V(Ua,To);function Ba(){So.call(this),this.status=1}V(Ba,So);function un(e){this.g=e}V(un,La),un.prototype.ua=function(){Rt(this.g,"a")},un.prototype.ta=function(e){Rt(this.g,new Ua(e))},un.prototype.sa=function(e){Rt(this.g,new Ba)},un.prototype.ra=function(){Rt(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,Tl=Me.createWebChannelTransport=function(){return new hr},El=Me.getStatEventTarget=function(){return er()},Il=Me.Event=ze,Ol=Me.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,xl=Me.ErrorCode=nr,na.COMPLETE="complete",wl=Me.EventType=na,Xs.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Ml=Me.WebChannel=Xs,eh=Me.FetchXmlHttpFactory=ui,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,Pl=Me.XhrIo=gt}).apply(typeof eo<"u"?eo:typeof self<"u"?self:typeof window<"u"?window:{});var Sl="@firebase/firestore",Al="4.8.0";var Vt=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");var ho="11.10.0";var no=new Dn("@firebase/firestore");function ne(i,...t){if(no.logLevel<=st.DEBUG){let o=t.map(Kl);no.debug(`Firestore (${ho}): ${i}`,...o)}}function $l(i,...t){if(no.logLevel<=st.ERROR){let o=t.map(Kl);no.error(`Firestore (${ho}): ${i}`,...o)}}function Kl(i){if(typeof i=="string")return i;try{return function(o){return JSON.stringify(o)}(i)}catch{return i}}function Ht(i,t,o){let n="Unexpected state";typeof t=="string"?n=t:o=t,Hl(i,n,o)}function Hl(i,t,o){let n=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(o!==void 0)try{n+=" CONTEXT: "+JSON.stringify(o)}catch{n+=" CONTEXT: "+o}throw $l(n),new Error(n)}function sn(i,t,o,n){let r="Unexpected state";typeof o=="string"?r=o:n=o,i||Hl(t,r,n)}var et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=class extends ye{constructor(t,o){super(t,o),this.code=t,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var an=class{constructor(){this.promise=new Promise((t,o)=>{this.resolve=t,this.reject=o})}};var fs=class{constructor(t,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},_s=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,o){t.enqueueRetryable(()=>o(Vt.UNAUTHENTICATED))}shutdown(){}};var bs=class{constructor(t){this.t=t,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,o){sn(this.o===void 0,42304);let n=this.i,r=m=>this.i!==n?(n=this.i,o(m)):Promise.resolve(),a=new an;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new an,t.enqueueRetryable(()=>r(this.currentUser))};let l=()=>{let m=a;t.enqueueRetryable(()=>G(this,null,function*(){yield m.promise,yield r(this.currentUser)}))},u=m=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(m=>u(m)),setTimeout(()=>{if(!this.auth){let m=this.t.getImmediate({optional:!0});m?u(m):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new an)}},0),l()}getToken(){let t=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(n=>this.i!==t?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(sn(typeof n.accessToken=="string",31837,{l:n}),new fs(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return sn(t===null||typeof t=="string",2055,{h:t}),new Vt(t)}},Cs=class{constructor(t,o,n){this.P=t,this.T=o,this.I=n,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},ys=class{constructor(t,o,n){this.P=t,this.T=o,this.I=n}getToken(){return Promise.resolve(new Cs(this.P,this.T,this.I))}start(t,o){t.enqueueRetryable(()=>o(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},io=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},vs=class{constructor(t,o){this.V=o,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ml(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,o){sn(this.o===void 0,3512);let n=a=>{a.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);let l=a.token!==this.m;return this.m=a.token,ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?o(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};let r=a=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){let a=this.V.getImmediate({optional:!0});a?r(a):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new io(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(o=>o?(sn(typeof o.token=="string",44558,{tokenResult:o}),this.m=o.token,new io(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function nh(i){let t=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(o);else for(let n=0;n<i;n++)o[n]=Math.floor(256*Math.random());return o}function ih(){return new TextEncoder}var Ps=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=62*Math.floor(4.129032258064516),n="";for(;n.length<20;){let r=nh(40);for(let a=0;a<r.length;++a)n.length<20&&r[a]<o&&(n+=t.charAt(r[a]%62))}return n}};function Jt(i,t){return i<t?-1:i>t?1:0}function rh(i,t){let o=0;for(;o<i.length&&o<t.length;){let n=i.codePointAt(o),r=t.codePointAt(o);if(n!==r){if(n<128&&r<128)return Jt(n,r);{let a=ih(),l=oh(a.encode(kl(i,o)),a.encode(kl(t,o)));return l!==0?l:Jt(n,r)}}o+=n>65535?2:1}return Jt(i.length,t.length)}function kl(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function oh(i,t){for(let o=0;o<i.length&&o<t.length;++o)if(i[o]!==t[o])return Jt(i[o],t[o]);return Jt(i.length,t.length)}var Dl="__name__",ro=class i{constructor(t,o,n){o===void 0?o=0:o>t.length&&Ht(637,{offset:o,range:t.length}),n===void 0?n=t.length-o:n>t.length-o&&Ht(1746,{length:n,range:t.length-o}),this.segments=t,this.offset=o,this.len=n}get length(){return this.len}isEqual(t){return i.comparator(this,t)===0}child(t){let o=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(n=>{o.push(n)}):o.push(t),this.construct(o)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}forEach(t){for(let o=this.offset,n=this.limit();o<n;o++)t(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,o){let n=Math.min(t.length,o.length);for(let r=0;r<n;r++){let a=i.compareSegments(t.get(r),o.get(r));if(a!==0)return a}return Jt(t.length,o.length)}static compareSegments(t,o){let n=i.isNumericId(t),r=i.isNumericId(o);return n&&!r?-1:!n&&r?1:n&&r?i.extractNumericId(t).compare(i.extractNumericId(o)):rh(t,o)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return to.fromString(t.substring(4,t.length-2))}},we=class i extends ro{construct(t,o,n){return new i(t,o,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let o=[];for(let n of t){if(n.indexOf("//")>=0)throw new W(et.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);o.push(...n.split("/").filter(r=>r.length>0))}return new i(o)}static emptyPath(){return new i([])}},sh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ms=class i extends ro{construct(t,o,n){return new i(t,o,n)}static isValidIdentifier(t){return sh.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dl}static keyField(){return new i([Dl])}static fromServerFormat(t){let o=[],n="",r=0,a=()=>{if(n.length===0)throw new W(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(n),n=""},l=!1;for(;r<t.length;){let u=t[r];if(u==="\\"){if(r+1===t.length)throw new W(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let m=t[r+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new W(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=m,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(n+=u,r++):(a(),r++)}if(a(),l)throw new W(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new i(o)}static emptyPath(){return new i([])}};var xe=class i{constructor(t){this.path=t}static fromPath(t){return new i(we.fromString(t))}static fromName(t){return new i(we.fromString(t).popFirst(5))}static empty(){return new i(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&we.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,o){return we.comparator(t.path,o.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new i(new we(t.slice()))}};function ah(i,t,o,n){if(t===!0&&n===!0)throw new W(et.INVALID_ARGUMENT,`${i} and ${o} cannot be used together.`)}function ch(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function _t(i,t){let o={typeString:i};return t&&(o.value=t),o}function Yi(i,t){if(!ch(i))throw new W(et.INVALID_ARGUMENT,"JSON must be an object");let o;for(let n in t)if(t[n]){let r=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in i)){o=`JSON missing required field: '${n}'`;break}let l=i[n];if(r&&typeof l!==r){o=`JSON field '${n}' must be a ${r}.`;break}if(a!==void 0&&l!==a.value){o=`Expected '${n}' field to equal '${a.value}'`;break}}if(o)throw new W(et.INVALID_ARGUMENT,o);return!0}var Rl=-62135596800,Nl=1e6,Mt=class i{static now(){return i.fromMillis(Date.now())}static fromDate(t){return i.fromMillis(t.getTime())}static fromMillis(t){let o=Math.floor(t/1e3),n=Math.floor((t-1e3*o)*Nl);return new i(o,n)}constructor(t,o){if(this.seconds=t,this.nanoseconds=o,o<0)throw new W(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new W(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(t<Rl)throw new W(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new W(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nl}_compareTo(t){return this.seconds===t.seconds?Jt(this.nanoseconds,t.nanoseconds):Jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:i._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Yi(t,i._jsonSchema))return new i(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-Rl;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Mt._jsonSchemaVersion="firestore/timestamp/1.0",Mt._jsonSchema={type:_t("string",Mt._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};var ws=class{constructor(t,o,n,r){this.indexId=t,this.collectionGroup=o,this.fields=n,this.indexState=r}};ws.UNKNOWN_ID=-1;function lh(i){return i.name==="IndexedDbTransactionError"}function dh(i){return i===0&&1/i==-1/0}var uh="remoteDocuments",Ql="owner";var Wl="mutationQueues";var Yl="mutations";var Xl="documentMutations",mh="remoteDocumentsV14";var Jl="remoteDocumentGlobal";var Zl="targets";var td="targetDocuments";var ed="targetGlobal",nd="collectionParents";var id="clientMetadata";var rd="bundles";var od="namedQueries";var hh="indexConfiguration";var gh="indexState";var ph="indexEntries";var sd="documentOverlays";var fh="globals";var _h=[Wl,Yl,Xl,uh,Zl,Ql,ed,td,id,Jl,nd,rd,od],zf=[..._h,sd],bh=[Wl,Yl,Xl,mh,Zl,Ql,ed,td,id,Jl,nd,rd,od,sd],Ch=bh,yh=[...Ch,hh,gh,ph];var Gf=[...yh,fh];var Qn=class i{constructor(t,o){this.comparator=t,this.root=o||ue.EMPTY}insert(t,o){return new i(this.comparator,this.root.insert(t,o,this.comparator).copy(null,null,ue.BLACK,null,null))}remove(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ue.BLACK,null,null))}get(t){let o=this.root;for(;!o.isEmpty();){let n=this.comparator(t,o.key);if(n===0)return o.value;n<0?o=o.left:n>0&&(o=o.right)}return null}indexOf(t){let o=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(t,n.key);if(r===0)return o+n.left.size;r<0?n=n.left:(o+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((o,n)=>(t(o,n),!1))}toString(){let t=[];return this.inorderTraversal((o,n)=>(t.push(`${o}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qn(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qn(this.root,t,this.comparator,!1)}getReverseIterator(){return new qn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qn(this.root,t,this.comparator,!0)}},qn=class{constructor(t,o,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=o?n(t.key,o):1,o&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),o={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},ue=class i{constructor(t,o,n,r,a){this.key=t,this.value=o,this.color=n!=null?n:i.RED,this.left=r!=null?r:i.EMPTY,this.right=a!=null?a:i.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,o,n,r,a){return new i(t!=null?t:this.key,o!=null?o:this.value,n!=null?n:this.color,r!=null?r:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,o,n){let r=this,a=n(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,o,n),null):a===0?r.copy(null,o,null,null,null):r.copy(null,null,null,null,r.right.insert(t,o,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return i.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,o){let n,r=this;if(o(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,o),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),o(t,r.key)===0){if(r.right.isEmpty())return i.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,o))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,o)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ht(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw Ht(27949);return t+(this.isRed()?0:1)}};ue.EMPTY=null,ue.RED=!0,ue.BLACK=!1;ue.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht(57766)}get value(){throw Ht(16141)}get color(){throw Ht(16727)}get left(){throw Ht(29726)}get right(){throw Ht(36894)}copy(t,o,n,r,a){return this}insert(t,o,n){return new ue(t,o)}remove(t,o){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var oo=class i{constructor(t){this.comparator=t,this.data=new Qn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((o,n)=>(t(o),!1))}forEachInRange(t,o){let n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;o(r.key)}}forEachWhile(t,o){let n;for(n=o!==void 0?this.data.getIteratorFrom(o):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){let o=this.data.getIteratorFrom(t);return o.hasNext()?o.getNext().key:null}getIterator(){return new so(this.data.getIterator())}getIteratorFrom(t){return new so(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let o=this;return o.size<t.size&&(o=t,t=this),t.forEach(n=>{o=o.add(n)}),o}isEqual(t){if(!(t instanceof i)||this.size!==t.size)return!1;let o=this.data.getIterator(),n=t.data.getIterator();for(;o.hasNext();){let r=o.getNext().key,a=n.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(o=>{t.push(o)}),t}toString(){let t=[];return this.forEach(o=>t.push(o)),"SortedSet("+t.toString()+")"}copy(t){let o=new i(this.comparator);return o.data=t,o}},so=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var xs=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var je=class i{constructor(t){this.binaryString=t}static fromBase64String(t){let o=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new xs("Invalid base64 string: "+a):a}}(t);return new i(o)}static fromUint8Array(t){let o=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(t);return new i(o)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(o){return btoa(o)}(this.binaryString)}toUint8Array(){return function(o){let n=new Uint8Array(o.length);for(let r=0;r<o.length;r++)n[r]=o.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};je.EMPTY_BYTE_STRING=new je("");var vh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ph(i){if(sn(!!i,39018),typeof i=="string"){let t=0,o=vh.exec(i);if(sn(!!o,46558,{timestamp:i}),o[1]){let r=o[1];r=(r+"000000000").substr(0,9),t=Number(r)}let n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:$i(i.seconds),nanos:$i(i.nanos)}}function $i(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Mh(i){return typeof i=="string"?je.fromBase64String(i):je.fromUint8Array(i)}var Vl="(default)",Os=class i{constructor(t,o){this.projectId=t,this.database=o||Vl}static empty(){return new i("","")}get isDefaultDatabase(){return this.database===Vl}isEqual(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database}};var ad="__type__",wh="__max__";var cd="__vector__",ld="value";function xh(i){var t,o;return((o=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[ad])===null||o===void 0?void 0:o.stringValue)===cd}function Oh(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===wh}var $f={mapValue:{fields:{[ad]:{stringValue:cd},[ld]:{arrayValue:{}}}}};var Is=class{constructor(t,o=null,n=[],r=[],a=null,l="F",u=null,m=null){this.path=t,this.collectionGroup=o,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Ih(i){return new Is(i)}var Kf=new Qn(xe.comparator);var Hf=new Qn(xe.comparator);var Qf=new Qn(xe.comparator),Wf=new oo(xe.comparator);var Yf=new oo(Jt);var Fl,Q;(Q=Fl||(Fl={}))[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS";var Xf=new to([4294967295,4294967295],0);var ao=class{constructor(){}bt(t,o){this.Dt(t,o),o.vt()}Dt(t,o){if("nullValue"in t)this.Ct(o,5);else if("booleanValue"in t)this.Ct(o,10),o.Ft(t.booleanValue?1:0);else if("integerValue"in t)this.Ct(o,15),o.Ft($i(t.integerValue));else if("doubleValue"in t){let n=$i(t.doubleValue);isNaN(n)?this.Ct(o,13):(this.Ct(o,15),dh(n)?o.Ft(0):o.Ft(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Ct(o,20),typeof n=="string"&&(n=Ph(n)),o.Mt(`${n.seconds||""}`),o.Ft(n.nanos||0)}else if("stringValue"in t)this.xt(t.stringValue,o),this.Ot(o);else if("bytesValue"in t)this.Ct(o,30),o.Nt(Mh(t.bytesValue)),this.Ot(o);else if("referenceValue"in t)this.Bt(t.referenceValue,o);else if("geoPointValue"in t){let n=t.geoPointValue;this.Ct(o,45),o.Ft(n.latitude||0),o.Ft(n.longitude||0)}else"mapValue"in t?Oh(t)?this.Ct(o,Number.MAX_SAFE_INTEGER):xh(t)?this.Lt(t.mapValue,o):(this.kt(t.mapValue,o),this.Ot(o)):"arrayValue"in t?(this.qt(t.arrayValue,o),this.Ot(o)):Ht(19022,{Qt:t})}xt(t,o){this.Ct(o,25),this.$t(t,o)}$t(t,o){o.Mt(t)}kt(t,o){let n=t.fields||{};this.Ct(o,55);for(let r of Object.keys(n))this.xt(r,o),this.Dt(n[r],o)}Lt(t,o){var n,r;let a=t.fields||{};this.Ct(o,53);let l=ld,u=((r=(n=a[l].arrayValue)===null||n===void 0?void 0:n.values)===null||r===void 0?void 0:r.length)||0;this.Ct(o,15),o.Ft($i(u)),this.xt(l,o),this.Dt(a[l],o)}qt(t,o){let n=t.values||[];this.Ct(o,50);for(let r of n)this.Dt(r,o)}Bt(t,o){this.Ct(o,37),xe.fromName(t).path.forEach(n=>{this.Ct(o,60),this.$t(n,o)})}Ct(t,o){t.Ft(o)}Ot(t){t.Ft(2)}};ao.Ut=new ao;var Jf=new Uint8Array(0);var dd=41943040,de=class i{static withCacheSize(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,o,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=n}};de.DEFAULT_COLLECTION_PERCENTILE=10,de.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,de.DEFAULT=new de(dd,de.DEFAULT_COLLECTION_PERCENTILE,de.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),de.DISABLED=new de(-1,0,0);var Eh=1048576;function ps(){return typeof document<"u"?document:null}var Es=class{constructor(t,o,n=1e3,r=1.5,a=6e4){this.Fi=t,this.timerId=o,this.d_=n,this.E_=r,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();let o=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,o-n);r>0&&ne("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${o} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Ts=class i{constructor(t,o,n,r,a){this.asyncQueue=t,this.timerId=o,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new an,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,o,n,r,a){let l=Date.now()+n,u=new i(t,o,l,r,a);return u.start(n),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var Ll,Ul;(Ul=Ll||(Ll={})).Fa="default",Ul.Cache="cache";function Th(i){let t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}var Bl=new Map;var Sh="firestore.googleapis.com",jl=!0,co=class{constructor(t){var o,n;if(t.host===void 0){if(t.ssl!==void 0)throw new W(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sh,this.ssl=jl}else this.host=t.host,this.ssl=(o=t.ssl)!==null&&o!==void 0?o:jl;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=dd;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Eh)throw new W(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ah("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Th((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new W(et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new W(et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new W(et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},Ss=class{constructor(t,o,n,r){this._authCredentials=t,this._appCheckCredentials=o,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new co({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new W(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new co(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new _s;switch(n.type){case"firstParty":return new ys(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new W(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return G(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(o){let n=Bl.get(o);n&&(ne("ComponentProvider","Removing Datastore"),Bl.delete(o),n.terminate())}(this),Promise.resolve()}};var As=class i{constructor(t,o,n){this.converter=o,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new i(this.firestore,t,this._query)}},cn=class i{constructor(t,o,n){this.converter=o,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new i(this.firestore,t,this._key)}toJSON(){return{type:i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,o,n){if(Yi(o,i._jsonSchema))return new i(t,n||null,new xe(we.fromString(o.referencePath)))}};cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:_t("string",cn._jsonSchemaVersion),referencePath:_t("string")};var ks=class i extends As{constructor(t,o,n){super(t,o,Ih(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new cn(this.firestore,null,new xe(t))}withConverter(t){return new i(this.firestore,t,this._path)}};var zl="AsyncQueue",lo=class{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Es(this,"async_queue_retry"),this.oc=()=>{let n=ps();n&&ne(zl,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=t;let o=ps();o&&typeof o.addEventListener=="function"&&o.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;let o=ps();o&&typeof o.removeEventListener=="function"&&o.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});let o=new an;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}cc(){return G(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!lh(t))throw t;ne(zl,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(t){let o=this._c.then(()=>(this.nc=!0,t().catch(n=>{throw this.tc=n,this.nc=!1,$l("INTERNAL UNHANDLED ERROR: ",Gl(n)),n}).then(n=>(this.nc=!1,n))));return this._c=o,o}enqueueAfterDelay(t,o,n){this.ac(),this.sc.indexOf(t)>-1&&(o=0);let r=Ts.createAndSchedule(this,t,o,n,a=>this.lc(a));return this.ec.push(r),r}ac(){this.tc&&Ht(47125,{hc:Gl(this.tc)})}verifyOperationInProgress(){}Pc(){return G(this,null,function*(){let t;do t=this._c,yield t;while(t!==this._c)})}Tc(t){for(let o of this.ec)if(o.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((o,n)=>o.targetTimeMs-n.targetTimeMs);for(let o of this.ec)if(o.skipDelay(),t!=="all"&&o.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){let o=this.ec.indexOf(t);this.ec.splice(o,1)}};function Gl(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}var Ds=class extends Ss{constructor(t,o,n,r){super(t,o,n,r),this.type="firestore",this._queue=new lo,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return G(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new lo(t),this._firestoreClient=void 0,yield t}})}};var Ki=class i{constructor(t){this._byteString=t}static fromBase64String(t){try{return new i(je.fromBase64String(t))}catch(o){throw new W(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(t){return new i(je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Yi(t,i._jsonSchema))return i.fromBase64String(t.bytes)}};Ki._jsonSchemaVersion="firestore/bytes/1.0",Ki._jsonSchema={type:_t("string",Ki._jsonSchemaVersion),bytes:_t("string")};var uo=class{constructor(...t){for(let o=0;o<t.length;++o)if(t[o].length===0)throw new W(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ms(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var Hi=class i{constructor(t,o){if(!isFinite(t)||t<-90||t>90)throw new W(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(o)||o<-180||o>180)throw new W(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=t,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Jt(this._lat,t._lat)||Jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:i._jsonSchemaVersion}}static fromJSON(t){if(Yi(t,i._jsonSchema))return new i(t.latitude,t.longitude)}};Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:_t("string",Hi._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};var Qi=class i{constructor(t){this._values=(t||[]).map(o=>o)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,r){if(n.length!==r.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==r[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Yi(t,i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(o=>typeof o=="number"))return new i(t.vectorValues);throw new W(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:_t("string",Qi._jsonSchemaVersion),vectorValues:_t("object")};var Ah=new RegExp("[~\\*/\\[\\]]");function kh(i,t,o){if(t.search(Ah)>=0)throw ql(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,o);try{return new uo(...t.split("."))._internalPath}catch{throw ql(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,o)}}function ql(i,t,o,n,r){let a=n&&!n.isEmpty(),l=r!==void 0,u=`Function ${t}() called with invalid data`;o&&(u+=" (via `toFirestore()`)"),u+=". ";let m="";return(a||l)&&(m+=" (found",a&&(m+=` in field ${n}`),l&&(m+=` in document ${r}`),m+=")"),new W(et.INVALID_ARGUMENT,u+i+m)}var mo=class{constructor(t,o,n,r,a){this._firestore=t,this._userDataWriter=o,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new Rs(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let o=this._document.data.field(ud("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o)}}},Rs=class extends mo{data(){return super.data()}};function ud(i,t){return typeof t=="string"?kh(i,t):t instanceof uo?t._internalPath:t._delegate._internalPath}var $n=class{constructor(t,o){this.hasPendingWrites=t,this.fromCache=o}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Kn=class i extends mo{constructor(t,o,n,r,a,l){super(t,o,n,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let o=new Hn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,o={}){if(this._document){let n=this._document.data.field(ud("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,o.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,o={};return o.type=i._jsonSchemaVersion,o.bundle="",o.bundleSource="DocumentSnapshot",o.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?o:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),o.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),o)}};Kn._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kn._jsonSchema={type:_t("string",Kn._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};var Hn=class extends Kn{data(t={}){return super.data(t)}},Wi=class i{constructor(t,o,n,r){this._firestore=t,this._userDataWriter=o,this._snapshot=r,this.metadata=new $n(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let t=[];return this.forEach(o=>t.push(o)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,o){this._snapshot.docs.forEach(n=>{t.call(o,new Hn(this._firestore,this._userDataWriter,n.key,n,new $n(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let o=!!t.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new W(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>{let m=new Hn(r._firestore,r._userDataWriter,u.doc.key,u.doc,new $n(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:m,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{let m=new Hn(r._firestore,r._userDataWriter,u.doc.key,u.doc,new $n(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),b=-1,x=-1;return u.type!==0&&(b=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),x=l.indexOf(u.doc.key)),{type:Dh(u.type),doc:m,oldIndex:b,newIndex:x}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=i._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ps.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let o=[],n=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(o.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function Dh(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht(61501,{type:i})}}Wi._jsonSchemaVersion="firestore/querySnapshot/1.0",Wi._jsonSchema={type:_t("string",Wi._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};(function(t,o=!0){(function(r){ho=r})(hl),Oi(new Ve("firestore",(n,{instanceIdentifier:r,options:a})=>{let l=n.getProvider("app").getImmediate(),u=new Ds(new bs(n.getProvider("auth-internal")),new vs(l,n.getProvider("app-check-internal")),function(b,x){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new W(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Os(b.options.projectId,x)}(l,r),l);return a=Object.assign({useFetchStreams:o},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Rn(Sl,Al,t),Rn(Sl,Al,"esm2017")})();function Rh(i,t){i&1&&tt(0,"mat-spinner",21)}function Nh(i,t){i&1&&(g(0,"p",16),v(1,"Email is required"),f())}function Vh(i,t){i&1&&(g(0,"p",16),v(1,"Please enter a valid email address"),f())}function Fh(i,t){i&1&&(g(0,"p",16),v(1,"This person is already a member of the group"),f())}function Lh(i,t){if(i&1&&(g(0,"p",22),v(1),f()),i&2){let o=k();Bt("user-found",o.userExists)("user-not-found",!o.userExists&&!o.checkingUser),I(),q(" ",o.getUserStatusText()," ")}}function Uh(i,t){if(i&1&&tt(0,"img",31),i&2){let o=k().$implicit;S("src",o.photoURL,vr)("alt",o.displayName)}}function Bh(i,t){i&1&&(g(0,"mat-icon"),v(1,"person"),f())}function jh(i,t){if(i&1){let o=at();g(0,"div",23)(1,"div",24),U(2,Uh,1,2,"img",25)(3,Bh,2,0,"mat-icon",26),f(),g(4,"div",27)(5,"span",28),v(6),f(),g(7,"span",29),v(8),f()(),g(9,"button",30),L("click",function(){let r=K(o).$implicit,a=k();return H(a.onDeleteMember(r.userId))}),g(10,"mat-icon"),v(11,"delete"),f()()()}if(i&2){let o=t.$implicit;I(2),S("ngIf",o.photoURL),I(),S("ngIf",!o.photoURL),I(3),X(o.displayName),I(2),X(o.email)}}var Wn=(()=>{let t=class t{constructor(n,r,a,l,u,m){this.fb=n,this.dialogRef=r,this.data=a,this.auth=l,this.userService=u,this.dialog=m,this.isSubmitting=!1,this.userExists=!1,this.checkingUser=!1,this.group=a.group,this.memberForm=this.fb.group({email:["",[ot.required,ot.email]]})}ngOnInit(){setTimeout(()=>{let n=document.querySelector('input[formControlName="email"]');n&&n.focus()},100)}onEmailChange(){return G(this,null,function*(){var r,a,l;let n=(r=this.memberForm.get("email"))==null?void 0:r.value;if(n&&this.isEmailAlreadyMember(n)){(a=this.memberForm.get("email"))==null||a.setErrors({alreadyMember:!0}),this.userExists=!1;return}if(n&&((l=this.memberForm.get("email"))!=null&&l.valid)){this.checkingUser=!0;try{let u=yield this.userService.findUserByEmail(n);this.userExists=!!u}catch(u){console.error("Error checking user:",u),this.userExists=!1}finally{this.checkingUser=!1}}else this.userExists=!1})}onSubmit(){return G(this,null,function*(){if(this.memberForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let r={email:this.memberForm.value.email.trim().toLowerCase(),role:on.MEMBER};this.dialogRef.close(r)}catch(n){console.error("Error adding member:",n)}finally{this.isSubmitting=!1}}else this.memberForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(n){let r=this.memberForm.get(n);return r!=null&&r.hasError("required")?`${n.charAt(0).toUpperCase()+n.slice(1)} is required`:r!=null&&r.hasError("email")?"Please enter a valid email address":r!=null&&r.hasError("alreadyMember")?"This user is already a member of this group":""}isEmailAlreadyMember(n){return this.group.members.some(r=>r.email.toLowerCase()===n.toLowerCase())}getRoleDisplayName(n){return{admin:"Admin",member:"Member"}[n]||n}getUserStatusText(){var r,a;return this.checkingUser?"Checking if user exists...":this.userExists?"\u2713 User found in system - invitation will be sent immediately":((r=this.memberForm.get("email"))==null?void 0:r.value)&&((a=this.memberForm.get("email"))!=null&&a.valid)?"\u2139 User not found - invitation will be sent when they register":""}onDeleteMember(n){this.dialog.open(Xe,{data:{title:"Delete Member",message:"Are you sure you want to delete this member? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(r=>{r&&this.dialogRef.close({action:"delete",userId:n})})}};t.\u0275fac=function(r){return new(r||t)(T(Mn),T(In),T(Tr),T(kt),T(On),T(ce))},t.\u0275cmp=ut({type:t,selectors:[["app-add-member-dialog"]],decls:36,vars:10,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Add Member",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"member-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","email","formControlName","email","placeholder","Enter member's email address","autofocus","",1,"form-input",3,"input"],[1,"field-footer"],[1,"error-message"],[1,"status-message",3,"user-found","user-not-found"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"bottom-spacing"],["diameter","16"],[1,"status-message"],[1,"member-item"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],["mat-icon-button","",3,"click"],[3,"src","alt"]],template:function(r,a){if(r&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),L("click",function(){return a.onCancel()}),g(4,"mat-icon"),v(5,"arrow_back"),f()(),g(6,"h6",4),v(7," Add Member "),f()(),g(8,"button",5),L("click",function(){return a.onCancel()}),g(9,"mat-icon"),v(10,"close"),f()(),g(11,"button",6),L("click",function(){return a.onSubmit()}),U(12,Rh,1,0,"mat-spinner",7),v(13),f()()(),g(14,"div",8)(15,"div",9)(16,"form",10),L("ngSubmit",function(){return a.onSubmit()}),g(17,"div",11)(18,"label",12)(19,"mat-icon",13),v(20,"email"),f(),v(21," Email Address * "),f(),g(22,"input",14),L("input",function(){return a.onEmailChange()}),f(),g(23,"div",15),U(24,Nh,2,0,"p",16)(25,Vh,2,0,"p",16)(26,Fh,2,0,"p",16)(27,Lh,2,5,"p",17),f()(),g(28,"div",11)(29,"label",12)(30,"mat-icon",13),v(31,"people"),f(),v(32),f(),g(33,"div",18),U(34,jh,12,4,"div",19),f()(),tt(35,"div",20),f()()()),r&2){let l,u,m;I(11),S("disabled",a.memberForm.invalid||a.isSubmitting),I(),S("ngIf",a.isSubmitting),I(),q(" ",a.isSubmitting?"Adding...":"Add"," "),I(3),S("formGroup",a.memberForm),I(8),yt((l=a.memberForm.get("email"))!=null&&l.hasError("required")&&((l=a.memberForm.get("email"))!=null&&l.touched)?24:-1),I(),yt((u=a.memberForm.get("email"))!=null&&u.hasError("email")&&((u=a.memberForm.get("email"))!=null&&u.touched)?25:-1),I(),yt((m=a.memberForm.get("email"))!=null&&m.hasError("alreadyMember")&&((m=a.memberForm.get("email"))!=null&&m.touched)?26:-1),I(),yt(a.getUserStatusText()?27:-1),I(5),q(" Current Members (",a.group.members.length,") "),I(2),S("ngForOf",a.group.members)}},dependencies:[De,At,yn,_n,bn,Cn,vn,Pn,Gt,Xt,Dt,Ne,Sr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.75rem;margin:.25rem 0 0;display:flex;align-items:center;gap:.25rem;padding:.5rem;border-radius:6px;font-weight:500}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#059669;background-color:#d1fae5;border:1px solid #a7f3d0}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#6ee7b7;background-color:#064e3b;border-color:#047857}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#d97706;background-color:#fef3c7;border:1px solid #fde68a}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#fbbf24;background-color:#451a03;border-color:#92400e}.members-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;border:1px solid #e5e7eb;border-radius:8px;background:#f9fafb}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]{max-height:250px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]{max-height:200px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;border-bottom:1px solid #e5e7eb;background:#fff}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.75rem;gap:.5rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.625rem;gap:.375rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center;overflow:hidden;flex-shrink:0}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:36px;height:36px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:32px;height:32px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{background:#374151}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:20px;width:20px;height:20px}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#374151;font-weight:500;font-size:.875rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#f3f4f6}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.65rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#9ca3af}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem;height:24px;font-weight:500}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.7rem;height:22px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.65rem;height:20px}}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let i=t;return i})();function qh(i,t){if(i&1){let o=at();g(0,"button",15),L("click",function(r){K(o);let a=k();return H(a.onDeleteGroup(r))}),g(1,"mat-icon"),v(2,"delete"),f(),g(3,"span"),v(4,"Delete Group"),f()()}}var gd=(()=>{let t=class t{constructor(n,r,a){this.router=n,this.auth=r,this.dialog=a,this.isSelected=!1,this.isMobile=!1,this.groupSelected=new Ct,this.addMember=new Ct,this.deleteGroup=new Ct}onGroupClick(){this.router.navigate(["dashboard/splitwise/group",this.group.id])}openAddMemberDialog(n){n.stopPropagation(),this.dialog.open(Wn,{width:this.isMobile?"90vw":"400px",maxWidth:this.isMobile?"400px":"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(a=>{a&&this.addMember.emit({groupId:this.group.id,request:a})})}onDeleteGroup(n){n.stopPropagation(),this.deleteGroup.emit(this.group)}getGroupMemberCount(){return this.group.members.filter(n=>n.isActive).length}getCurrentUserRole(){let n=this.auth.currentUser;if(!n)return"";let r=this.group.members.find(a=>a.userId===n.uid);return(r==null?void 0:r.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}formatDate(n){return n?(n.toDate?n.toDate():new Date(n)).toLocaleDateString():""}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}};t.\u0275fac=function(r){return new(r||t)(T(fn),T(kt),T(ce))},t.\u0275cmp=ut({type:t,selectors:[["app-group"]],inputs:{group:"group",isSelected:"isSelected",isMobile:"isMobile"},outputs:{groupSelected:"groupSelected",addMember:"addMember",deleteGroup:"deleteGroup"},decls:28,vars:12,consts:[["groupMenu","matMenu"],[1,"group-item",3,"click"],[1,"group-info"],[1,"group-header"],[1,"group-title-section"],[1,"group-name"],[1,"group-meta"],[1,"member-count"],[1,"member-text"],[1,"created-date"],[1,"group-actions"],["mat-icon-button","",1,"menu-trigger",3,"click","matMenuTriggerFor"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"]],template:function(r,a){if(r&1){let l=at();g(0,"div",1),L("click",function(){return K(l),H(a.onGroupClick())}),g(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),v(5),be(6,"titlecase"),f(),g(7,"div",6)(8,"span",7)(9,"mat-icon"),v(10,"people"),f(),g(11,"span",8),v(12),f()(),g(13,"span",9),v(14),f()()()()(),g(15,"div",10)(16,"button",11),L("click",function(m){return K(l),H(m.stopPropagation())}),g(17,"mat-icon"),v(18,"more_vert"),f()(),g(19,"mat-menu",12,0)(21,"button",13),L("click",function(m){return K(l),H(a.openAddMemberDialog(m))}),g(22,"mat-icon"),v(23,"person_add"),f(),g(24,"span"),v(25,"Add Member"),f()(),tt(26,"mat-divider"),U(27,qh,5,0,"button",14),f()()()}if(r&2){let l=Qe(20);Bt("selected",a.isSelected)("mobile",a.isMobile),I(5),X(pn(6,10,a.group.name)),I(7),q("",a.getGroupMemberCount()," members"),I(2),q("Created ",a.formatDate(a.group.createdAt),""),I(2),S("matMenuTriggerFor",l),re("aria-label","More options for "+a.group.name),I(11),S("ngIf",a.canManageGroup())}},dependencies:[At,Nr,Xt,Dt,kr,Ar,Dr,Pr],styles:[".group-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:16px;border:1px solid #e0e0e0;border-radius:12px;margin-bottom:12px;cursor:pointer;transition:all .2s ease;background:#fff;position:relative;min-height:80px}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;box-shadow:0 4px 12px #1976d226;transform:translateY(-1px)}.group-item.selected[_ngcontent-%COMP%]{border-color:#1976d2;background:#f3f8ff;box-shadow:0 4px 12px #1976d233}.group-item.mobile[_ngcontent-%COMP%]{padding:12px;min-height:70px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{flex:1;min-width:0;margin-right:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.1rem;font-weight:600;color:#333;line-height:1.3;word-break:break-word}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.8rem;color:#666;font-weight:500}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#1976d2}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   .member-text[_ngcontent-%COMP%]{white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.75rem;color:#999;white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:flex-start}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d20a}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#f443360a}@media (max-width: 768px){.group-item[_ngcontent-%COMP%]{padding:12px;margin-bottom:8px;min-height:70px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{margin-right:8px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px;flex-direction:row;align-items:center}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 480px){.group-item[_ngcontent-%COMP%]{padding:10px;min-height:65px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:4px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.65rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:28px;height:28px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}@media (prefers-color-scheme: dark){.group-item[_ngcontent-%COMP%]{background:#2d2d2d;border-color:#404040;color:#e0e0e0}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;background:#3a3a3a}.group-item.selected[_ngcontent-%COMP%]{background:#1a3a5f;border-color:#1976d2}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{color:#e0e0e0}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{color:#b0b0b0}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{color:#888}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{color:#b0b0b0}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d21a}}"]});let i=t;return i})();var _d=(i,t)=>t.id;function Kh(i,t){if(i&1){let o=at();g(0,"div",17)(1,"div",18)(2,"div",19)(3,"h4"),v(4),f(),g(5,"p"),v(6),f(),g(7,"small"),v(8),f()(),g(9,"div",20)(10,"button",21),L("click",function(){let r=K(o).$implicit,a=k(2);return H(a.acceptInvitation(r))}),g(11,"mat-icon"),v(12,"check"),f(),v(13," Accept "),f(),g(14,"button",22),L("click",function(){let r=K(o).$implicit,a=k(2);return H(a.declineInvitation(r))}),g(15,"mat-icon"),v(16,"close"),f(),v(17," Decline "),f()()()()}if(i&2){let o=t.$implicit,n=k(2);I(4),X(o.groupName),I(2),q("Invited by ",o.invitedByDisplayName,""),I(2),X(n.formatDate(o.createdAt))}}function Hh(i,t){if(i&1&&(g(0,"div",14)(1,"mat-card",15)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),v(5,"mail"),f(),v(6," Pending Invitations "),f()(),g(7,"mat-card-content")(8,"div",16),Ho(9,Kh,18,3,"div",17,_d),f()()()()),i&2){let o=k();I(9),Qo(o.invitations)}}function Qh(i,t){if(i&1){let o=at();g(0,"app-group",23),L("addMember",function(r){K(o);let a=k();return H(a.handleAddMember(r))})("deleteGroup",function(r){K(o);let a=k();return H(a.deleteGroup(r))}),f()}if(i&2){let o=t.$implicit,n=k();S("group",o)("isSelected",!1)("isMobile",n.isMobile)}}var bd=(()=>{let t=class t{constructor(n,r,a,l,u){this.breakpointObserver=n,this.auth=r,this.store=a,this.dialog=l,this.notificationService=u,this.groups=[],this.invitations=[],this.isMobile=!1,this.currentUser=null,this.error=null,this.destroy$=new te,this.breakpointObserver.observe([xn.Handset]).pipe(fe(this.destroy$)).subscribe(m=>{this.isMobile=m.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.loadData(),this.subscribeToStore()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(zn).pipe(fe(this.destroy$)).subscribe(n=>{this.groups=n.groups,this.invitations=n.invitations,this.error=n.error,this.error&&(this.notificationService.error(this.error),this.store.dispatch(Ue()))})}loadData(){this.store.dispatch(Vn()),this.store.dispatch(Fn())}openCreateGroupDialog(){this.dialog.open(_l,{width:this.isMobile?"90vw":"500px",maxWidth:this.isMobile?"500px":"90vw",disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(r=>{r&&this.store.dispatch(Ln({request:r}))})}handleAddMember(n){this.store.dispatch(le(n))}acceptInvitation(n){this.store.dispatch(Un({invitationId:n.id}))}declineInvitation(n){this.store.dispatch(Bn({invitationId:n.id}))}deleteGroup(n){this.dialog.open(Xe,{width:"300px",data:{title:"Delete Group",message:'Are you sure you want to delete the group "${group.name}"?',confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(r=>{r&&this.store.dispatch(Fe({groupId:n.id}))})}formatDate(n){return n?(n.toDate?n.toDate():new Date(n)).toLocaleDateString():""}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}};t.\u0275fac=function(r){return new(r||t)(T(wn),T(kt),T(jt),T(ce),T(Re))},t.\u0275cmp=ut({type:t,selectors:[["app-splitwise"]],decls:21,vars:1,consts:[[1,"splitwise-container"],[1,"header"],[1,"header-content"],[1,"title-section"],[1,"title-icon"],[1,"title"],[1,"subtitle"],[1,"header-actions"],["mat-raised-button","","color","primary",1,"create-group-btn",3,"click"],[1,"main-content"],["class","invitations-section",4,"ngIf"],[1,"groups-section"],[1,"groups-list"],[3,"group","isSelected","isMobile"],[1,"invitations-section"],[1,"invitations-card"],[1,"invitations-list"],[1,"invitation-item"],[1,"invitation-info"],[1,"invitation-details"],[1,"invitation-actions"],["mat-button","","color","primary",1,"accept-btn",3,"click"],["mat-button","","color","warn",1,"decline-btn",3,"click"],[3,"addMember","deleteGroup","group","isSelected","isMobile"]],template:function(r,a){r&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),v(5,"group"),f(),g(6,"h1",5),v(7,"Splitwise"),f(),g(8,"p",6),v(9,"Split expenses with friends and family"),f()(),g(10,"div",7)(11,"button",8),L("click",function(){return a.openCreateGroupDialog()}),g(12,"mat-icon"),v(13,"add"),f(),v(14," Create Group "),f()()()(),g(15,"div",9),U(16,Hh,11,0,"div",10),g(17,"div",11)(18,"div",12),Ho(19,Qh,1,3,"app-group",13,_d),f()()()()),r&2&&(I(16),S("ngIf",a.invitations.length>0),I(3),Qo(a.groups))},dependencies:[At,En,Sn,An,Tn,Gt,Dt,gd],styles:[".splitwise-container[_ngcontent-%COMP%]{background:#f9fafb;padding:20px}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}}.header[_ngcontent-%COMP%]{margin-bottom:30px}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));padding:1rem;border-radius:1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#fff}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:2.5rem;font-weight:700}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffffe6;margin:0;font-size:1.1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem}}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;font-weight:600;padding:12px 24px;border-radius:25px;transition:all .3s ease}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;border-color:#ffffff80;transform:translateY(-2px)}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;color:#fff}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.1rem}.main-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.invitations-section[_ngcontent-%COMP%]{margin-bottom:30px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]{padding:15px 0;border-bottom:1px solid #eee}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media (max-width: 768px){.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 5px;color:#666}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#999;font-size:.85rem}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background:#45a049}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]:hover{background:#da190b}.groups-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:30px}@media (max-width: 1024px){.groups-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fffffff2;border-radius:15px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#ccc;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin:0 0 10px;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 30px;font-size:1.1rem}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:12px 24px;border-radius:25px;font-weight:600}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#333;font-weight:600;font-size:1.3rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:30px}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{flex-direction:column}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]{border-color:#667eea;color:#667eea;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;margin:0 0 20px;font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid #eee}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#999;font-size:1.5rem;width:1.5rem;height:1.5rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#333;font-weight:500;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{color:#999;font-size:.8rem;text-transform:capitalize}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]{margin-bottom:20px}.groups-section[_ngcontent-%COMP%]{gap:15px}.details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 480px){.splitwise-container[_ngcontent-%COMP%]{padding:8px}.header[_ngcontent-%COMP%]{margin-bottom:15px}.groups-section[_ngcontent-%COMP%]{gap:10px}}"]});let i=t;return i})();var Yh=["button"],Xh=["*"];function Jh(i,t){if(i&1&&tt(0,"mat-pseudo-checkbox",3),i&2){let o=k();S("disabled",o.disabled)}}function Zh(i,t){if(i&1&&tt(0,"mat-pseudo-checkbox",3),i&2){let o=k();S("disabled",o.disabled)}}var vd=new bt("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:tg});function tg(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var Pd=new bt("MatButtonToggleGroup"),eg={provide:cc,useExisting:Wa(()=>Vs),multi:!0},Md=0,go=class{constructor(t,o){this.source=t,this.value=o}},Vs=(()=>{let t=class t{get name(){return this._name}set name(n){this._name=n,this._markButtonsForCheck()}get value(){let n=this._selectionModel?this._selectionModel.selected:[];return this.multiple?n.map(r=>r.value):n[0]?n[0].value:void 0}set value(n){this._setSelectionByValue(n),this.valueChange.emit(this.value)}get selected(){let n=this._selectionModel?this._selectionModel.selected:[];return this.multiple?n:n[0]||null}get multiple(){return this._multiple}set multiple(n){this._multiple=n,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(n){this._disabledInteractive=n,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(n){this._hideSingleSelectionIndicator=n,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(n){this._hideMultipleSelectionIndicator=n,this._markButtonsForCheck()}constructor(n,r,a){var l,u;this._changeDetector=n,this._dir=a,this._multiple=!1,this._disabled=!1,this._disabledInteractive=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name=`mat-button-toggle-group-${Md++}`,this.valueChange=new Ct,this.change=new Ct,this.appearance=r&&r.appearance?r.appearance:"standard",this.hideSingleSelectionIndicator=(l=r==null?void 0:r.hideSingleSelectionIndicator)!=null?l:!1,this.hideMultipleSelectionIndicator=(u=r==null?void 0:r.hideMultipleSelectionIndicator)!=null?u:!1}ngOnInit(){this._selectionModel=new Rc(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(n=>n.checked)),this.multiple||this._initializeTabIndex()}writeValue(n){this.value=n,this._changeDetector.markForCheck()}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}_keydown(n){if(this.multiple||this.disabled)return;let a=n.target.id,l=this._buttonToggles.toArray().findIndex(m=>m.buttonId===a),u=null;switch(n.keyCode){case 32:case 13:u=this._buttonToggles.get(l)||null;break;case 38:u=this._getNextButton(l,-1);break;case 37:u=this._getNextButton(l,this.dir==="ltr"?-1:1);break;case 40:u=this._getNextButton(l,1);break;case 39:u=this._getNextButton(l,this.dir==="ltr"?1:-1);break;default:return}u&&(n.preventDefault(),u._onButtonClick(),u.focus())}_emitChangeEvent(n){let r=new go(n,this.value);this._rawValue=r.value,this._controlValueAccessorChangeFn(r.value),this.change.emit(r)}_syncButtonToggle(n,r,a=!1,l=!1){!this.multiple&&this.selected&&!n.checked&&(this.selected.checked=!1),this._selectionModel?r?this._selectionModel.select(n):this._selectionModel.deselect(n):l=!0,l?Promise.resolve().then(()=>this._updateModelValue(n,a)):this._updateModelValue(n,a)}_isSelected(n){return this._selectionModel&&this._selectionModel.isSelected(n)}_isPrechecked(n){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(r=>n.value!=null&&r===n.value):n.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(n=>{n.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let n=0;n<this._buttonToggles.length;n++){let r=this._buttonToggles.get(n);if(!r.disabled){r.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(n,r){let a=this._buttonToggles;for(let l=1;l<=a.length;l++){let u=(n+r*l+a.length)%a.length,m=a.get(u);if(m&&!m.disabled)return m}return null}_setSelectionByValue(n){this._rawValue=n,this._buttonToggles&&(this.multiple&&n?(Array.isArray(n),this._clearSelection(),n.forEach(r=>this._selectValue(r))):(this._clearSelection(),this._selectValue(n)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(n=>{n.checked=!1,this.multiple||(n.tabIndex=-1)})}_selectValue(n){let r=this._buttonToggles.find(a=>a.value!=null&&a.value===n);r&&(r.checked=!0,this._selectionModel.select(r),this.multiple||(r.tabIndex=0))}_updateModelValue(n,r){r&&this._emitChangeEvent(n),this.valueChange.emit(this.value)}_markButtonsForCheck(){var n;(n=this._buttonToggles)==null||n.forEach(r=>r._markForCheck())}};t.\u0275fac=function(r){return new(r||t)(T(Ce),T(vd,8),T(xc,8))},t.\u0275dir=_e({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(r,a,l){if(r&1&&bi(l,po,5),r&2){let u;Ke(u=He())&&(a._buttonToggles=u)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(r,a){r&1&&L("keydown",function(u){return a._keydown(u)}),r&2&&(re("role",a.multiple?"group":"radiogroup")("aria-disabled",a.disabled),Bt("mat-button-toggle-vertical",a.vertical)("mat-button-toggle-group-appearance-standard",a.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",St],value:"value",multiple:[2,"multiple","multiple",St],disabled:[2,"disabled","disabled",St],disabledInteractive:[2,"disabledInteractive","disabledInteractive",St],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",St],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",St]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[We([eg,{provide:Pd,useExisting:t}]),Ae]});let i=t;return i})(),po=(()=>{let t=class t{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(n){this._tabIndex=n,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(n){this._appearance=n}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(n){n!==this._checked&&(this._checked=n,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(n){this._disabled=n}get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(n){this._disabledInteractive=n}constructor(n,r,a,l,u,m){var x;this._changeDetectorRef=r,this._elementRef=a,this._focusMonitor=l,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new Ct;let b=Number(u);this.tabIndex=b||b===0?b:null,this.buttonToggleGroup=n,this.appearance=m&&m.appearance?m.appearance:"standard",this.disabledInteractive=(x=m==null?void 0:m.disabledInteractive)!=null?x:!1}ngOnInit(){let n=this.buttonToggleGroup;this.id=this.id||`mat-button-toggle-${Md++}`,n&&(n._isPrechecked(this)?this.checked=!0:n._isSelected(this)!==this._checked&&n._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let n=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),n&&n._isSelected(this)&&n._syncButtonToggle(this,!1,!1,!0)}focus(n){this._buttonElement.nativeElement.focus(n)}_onButtonClick(){if(this.disabled)return;let n=this.isSingleSelector()?!0:!this._checked;if(n!==this._checked&&(this._checked=n,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let r=this.buttonToggleGroup._buttonToggles.find(a=>a.tabIndex===0);r&&(r.tabIndex=-1),this.tabIndex=0}this.change.emit(new go(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}};t.\u0275fac=function(r){return new(r||t)(T(Pd,8),T(Ce),T(_i),T(Or),yr("tabindex"),T(vd,8))},t.\u0275cmp=ut({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(r,a){if(r&1&&Ci(Yh,5),r&2){let l;Ke(l=He())&&(a._buttonElement=l.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(r,a){r&1&&L("focus",function(){return a.focus()}),r&2&&(re("aria-label",null)("aria-labelledby",null)("id",a.id)("name",null),Bt("mat-button-toggle-standalone",!a.buttonToggleGroup)("mat-button-toggle-checked",a.checked)("mat-button-toggle-disabled",a.disabled)("mat-button-toggle-disabled-interactive",a.disabledInteractive)("mat-button-toggle-appearance-standard",a.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",St],appearance:"appearance",checked:[2,"checked","checked",St],disabled:[2,"disabled","disabled",St],disabledInteractive:[2,"disabledInteractive","disabledInteractive",St]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[Ae,ke],ngContentSelectors:Xh,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,a){if(r&1){let l=at();gn(),g(0,"button",1,0),L("click",function(){return K(l),H(a._onButtonClick())}),g(2,"span",2),U(3,Jh,1,1,"mat-pseudo-checkbox",3)(4,Zh,1,1,"mat-pseudo-checkbox",3),oe(5),f()(),tt(6,"span",4)(7,"span",5)}if(r&2){let l=Qe(1);S("id",a.buttonId)("disabled",a.disabled&&!a.disabledInteractive||null),re("role",a.isSingleSelector()?"radio":"button")("tabindex",a.disabled&&!a.disabledInteractive?-1:a.tabIndex)("aria-pressed",a.isSingleSelector()?null:a.checked)("aria-checked",a.isSingleSelector()?a.checked:null)("name",a._getButtonName())("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledby)("aria-disabled",a.disabled&&a.disabledInteractive?"true":null),I(3),yt(a.buttonToggleGroup&&a.checked&&!a.buttonToggleGroup.multiple&&!a.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),I(),yt(a.buttonToggleGroup&&a.checked&&a.buttonToggleGroup.multiple&&!a.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),I(3),S("matRippleTrigger",l)("matRippleDisabled",a.disableRipple||a.disabled)}},dependencies:[Oc,Ic],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0});let i=t;return i})(),wd=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t}),t.\u0275inj=Et({imports:[Ye,Ir,po,Ye]});let i=t;return i})();function ig(i,t){i&1&&(g(0,"mat-error"),v(1," Total amount is required "),f())}function rg(i,t){i&1&&(g(0,"mat-error"),v(1," Amount must be greater than 0 "),f())}function og(i,t){if(i&1){let o=at();g(0,"div",27)(1,"div",28)(2,"div",29)(3,"span",30),v(4),f(),g(5,"span",31),v(6),f()(),g(7,"button",32),L("click",function(){let r=K(o).index,a=k();return H(a.removeSplit(r))}),g(8,"mat-icon"),v(9,"delete"),f()()(),g(10,"div",33)(11,"mat-form-field",34)(12,"mat-label"),v(13,"Amount"),f(),tt(14,"input",35),g(15,"mat-icon",9),v(16),f()(),g(17,"mat-form-field",36)(18,"mat-label"),v(19,"Percentage"),f(),tt(20,"input",37),g(21,"mat-icon",9),v(22,"%"),f()(),g(23,"mat-checkbox",38),v(24," Paid "),f()()()}if(i&2){let o,n,r=t.$implicit,a=t.index,l=k();S("formGroupName",a),I(4),X((o=r.get("displayName"))==null?null:o.value),I(2),X((n=r.get("email"))==null?null:n.value),I(10),X(l.transaction.currency||"USD")}}function sg(i,t){if(i&1&&(g(0,"mat-option",42),v(1),f()),i&2){let o=t.$implicit;S("value",o),I(),tc(" ",o.displayName," (",o.email,") ")}}function ag(i,t){if(i&1){let o=at();g(0,"div",39)(1,"mat-form-field",7)(2,"mat-label"),v(3,"Add Member"),f(),g(4,"mat-select",40),L("selectionChange",function(r){K(o);let a=k();return H(a.addMemberSplit(r.value))}),U(5,sg,2,3,"mat-option",41),f()()()}if(i&2){let o=k();I(5),S("ngForOf",o.getAvailableMembers())}}function cg(i,t){if(i&1&&(g(0,"div",45),v(1),be(2,"number"),f()),i&2){let o=k(2);I(),q(" Total percentage must equal 100% (currently ",Wo(2,1,o.getTotalPercentage(),"1.1-1"),"%) ")}}function lg(i,t){if(i&1&&(g(0,"div",45),v(1),f()),i&2){let o=k(2);I(),q(" Total split amount must equal transaction amount (currently ",o.formatCurrency(o.getTotalSplitAmount()),") ")}}function dg(i,t){if(i&1&&(g(0,"div",43),U(1,cg,3,4,"div",44)(2,lg,2,1,"div",44),f()),i&2){let o=k();I(),S("ngIf",o.Math.abs(o.getTotalPercentage()-100)>.01),I(),S("ngIf",o.Math.abs(o.getTotalSplitAmount()-o.totalAmount)>.01)}}var xd=(()=>{let t=class t{constructor(n,r,a){this.fb=n,this.dialogRef=r,this.data=a,this.totalAmount=0,this.splitMode="percentage",this.Math=Math,this.transaction=a.transaction,this.groupMembers=a.groupMembers,this.totalAmount=this.transaction.totalAmount}ngOnInit(){this.initForm()}initForm(){var n;this.editForm=this.fb.group({totalAmount:[this.transaction.totalAmount,[ot.required,ot.min(.01)]],splits:this.fb.array([])}),this.transaction.splits.forEach(r=>{this.addSplit(r)}),(n=this.editForm.get("totalAmount"))==null||n.valueChanges.subscribe(r=>{this.totalAmount=r,this.updateSplitPercentages()})}get splitsArray(){return this.editForm.get("splits")}addSplit(n){var a,l;let r=this.fb.group({userId:[(n==null?void 0:n.userId)||"",ot.required],displayName:[(n==null?void 0:n.displayName)||"",ot.required],email:[(n==null?void 0:n.email)||"",ot.required],amount:[(n==null?void 0:n.amount)||0,[ot.required,ot.min(0)]],percentage:[(n==null?void 0:n.percentage)||0,[ot.required,ot.min(0),ot.max(100)]],isPaid:[(n==null?void 0:n.isPaid)||!1]});this.splitsArray.push(r),(a=r.get("amount"))==null||a.valueChanges.subscribe(u=>{if(this.totalAmount>0&&u!==null&&u!==void 0){let m=u/this.totalAmount*100;r.patchValue({percentage:Math.round(m*100)/100},{emitEvent:!1})}}),(l=r.get("percentage"))==null||l.valueChanges.subscribe(u=>{if(u!=null){let m=u/100*this.totalAmount;r.patchValue({amount:Math.round(m*100)/100},{emitEvent:!1})}})}removeSplit(n){this.splitsArray.removeAt(n),this.updateSplitPercentages()}updateSplitPercentages(){this.splitsArray.controls.forEach(r=>{var l;let a=((l=r.get("amount"))==null?void 0:l.value)||0;if(this.totalAmount>0&&a!==null&&a!==void 0){let u=a/this.totalAmount*100;r.patchValue({percentage:Math.round(u*100)/100},{emitEvent:!1})}})}updateSplitAmounts(){this.splitsArray.controls.forEach(r=>{var l;let a=((l=r.get("percentage"))==null?void 0:l.value)||0;if(a!=null){let u=a/100*this.totalAmount;r.patchValue({amount:Math.round(u*100)/100},{emitEvent:!1})}})}addMemberSplit(n){if(!this.splitsArray.controls.find(a=>{var l;return((l=a.get("userId"))==null?void 0:l.value)===n.userId})){let a=this.fb.group({userId:[n.userId,ot.required],displayName:[n.displayName,ot.required],email:[n.email,ot.required],amount:[0,[ot.required,ot.min(0)]],percentage:[0,[ot.required,ot.min(0),ot.max(100)]],isPaid:[!1]});this.splitsArray.push(a),this.updateSplitPercentages()}}getAvailableMembers(){let n=this.splitsArray.controls.map(r=>{var a;return(a=r.get("userId"))==null?void 0:a.value});return this.groupMembers.filter(r=>!n.includes(r.userId))}getTotalPercentage(){return this.splitsArray.controls.reduce((n,r)=>{var a;return n+(((a=r.get("percentage"))==null?void 0:a.value)||0)},0)}getTotalSplitAmount(){return this.splitsArray.controls.reduce((n,r)=>{var a;return n+(((a=r.get("amount"))==null?void 0:a.value)||0)},0)}isFormValid(){let n=this.getTotalPercentage(),r=this.getTotalSplitAmount();return this.editForm.valid&&Math.abs(n-100)<.01&&Math.abs(r-this.totalAmount)<.01}onCancel(){this.dialogRef.close()}onSave(){if(this.isFormValid()){let n=this.editForm.value,r={totalAmount:n.totalAmount,splits:n.splits.map(a=>({userId:a.userId,displayName:a.displayName,email:a.email,amount:a.amount,percentage:a.percentage,isPaid:a.isPaid}))};this.dialogRef.close(r)}}formatCurrency(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:this.transaction.currency||"USD"}).format(n)}};t.\u0275fac=function(r){return new(r||t)(T(Mn),T(In),T(Tr))},t.\u0275cmp=ut({type:t,selectors:[["app-edit-transaction-dialog"]],decls:44,vars:14,consts:[[1,"edit-transaction-dialog"],[1,"dialog-header"],["mat-dialog-title",""],["mat-icon-button","",1,"close-btn",3,"click"],[3,"ngSubmit","formGroup"],[1,"transaction-info"],[1,"total-amount-section"],["appearance","outline",1,"full-width"],["matInput","","type","number","formControlName","totalAmount","step","0.01","min","0.01"],["matSuffix",""],[4,"ngIf"],[1,"split-mode-toggle"],[3,"valueChange","change","value"],["value","percentage"],["value","amount"],[1,"splits-section"],[1,"splits-header"],[1,"totals"],[1,"total-percentage"],[1,"total-amount"],["formArrayName","splits",1,"splits-list"],["class","split-item",3,"formGroupName",4,"ngFor","ngForOf"],["class","add-member-section",4,"ngIf"],["class","validation-messages",4,"ngIf"],["align","end"],["type","button","mat-button","",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"split-item",3,"formGroupName"],[1,"split-header"],[1,"member-info"],[1,"member-name"],[1,"member-email"],["type","button","mat-icon-button","",1,"remove-btn",3,"click"],[1,"split-controls"],["appearance","outline",1,"amount-field"],["matInput","","type","number","formControlName","amount","step","0.01","min","0"],["appearance","outline",1,"percentage-field"],["matInput","","type","number","formControlName","percentage","step","0.1","min","0","max","100"],["formControlName","isPaid",1,"paid-checkbox"],[1,"add-member-section"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"validation-messages"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(r,a){if(r&1&&(g(0,"div",0)(1,"div",1)(2,"h2",2),v(3,"Edit Transaction"),f(),g(4,"button",3),L("click",function(){return a.onCancel()}),g(5,"mat-icon"),v(6,"close"),f()()(),g(7,"form",4),L("ngSubmit",function(){return a.onSave()}),g(8,"mat-dialog-content")(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),v(13,"Total Amount"),f(),tt(14,"input",8),g(15,"mat-icon",9),v(16),f(),U(17,ig,2,0,"mat-error",10)(18,rg,2,0,"mat-error",10),f()(),g(19,"div",11)(20,"mat-button-toggle-group",12),ic("valueChange",function(u){return nc(a.splitMode,u)||(a.splitMode=u),u}),L("change",function(){return a.updateSplitAmounts()}),g(21,"mat-button-toggle",13),v(22,"Percentage"),f(),g(23,"mat-button-toggle",14),v(24,"Amount"),f()()(),g(25,"div",15)(26,"div",16)(27,"h3"),v(28,"Splits"),f(),g(29,"div",17)(30,"span",18),v(31),be(32,"number"),f(),g(33,"span",19),v(34),f()()(),g(35,"div",20),U(36,og,25,4,"div",21),f(),U(37,ag,6,1,"div",22),f(),U(38,dg,3,2,"div",23),f()(),g(39,"mat-dialog-actions",24)(40,"button",25),L("click",function(){return a.onCancel()}),v(41,"Cancel"),f(),g(42,"button",26),v(43," Save Changes "),f()()()()),r&2){let l,u;I(7),S("formGroup",a.editForm),I(9),X(a.transaction.currency||"USD"),I(),S("ngIf",(l=a.editForm.get("totalAmount"))==null?null:l.hasError("required")),I(),S("ngIf",(u=a.editForm.get("totalAmount"))==null?null:u.hasError("min")),I(2),ec("value",a.splitMode),I(11),q("Total: ",Wo(32,11,a.getTotalPercentage(),"1.1-1"),"%"),I(3),q("Total: ",a.formatCurrency(a.getTotalSplitAmount()),""),I(2),S("ngForOf",a.splitsArray.controls),I(),S("ngIf",a.getAvailableMembers().length>0),I(),S("ngIf",!a.isFormValid()),I(4),S("disabled",!a.isFormValid())}},dependencies:[De,At,yn,_n,lc,bn,Cn,hc,mc,vn,Pn,dc,uc,Gt,Xt,Dt,Fc,Uc,Lc,$c,zc,Gc,qc,Xc,Hc,Tc,Vs,po,tl,ac],styles:[".edit-transaction-dialog[_ngcontent-%COMP%]{min-width:600px;max-width:800px}@media (max-width: 768px){.edit-transaction-dialog[_ngcontent-%COMP%]{min-width:90vw;max-width:90vw}}.edit-transaction-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px 0;margin-bottom:16px}.edit-transaction-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#333}.edit-transaction-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#666}.edit-transaction-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333;background-color:#f5f5f5}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{padding:0 24px;max-height:70vh;overflow-y:auto}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .total-amount-section[_ngcontent-%COMP%]{margin-bottom:20px}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .total-amount-section[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .split-mode-toggle[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;justify-content:center}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .split-mode-toggle[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:8px;border-bottom:1px solid #f0f0f0}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#333}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-header[_ngcontent-%COMP%]   .totals[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:12px;color:#666}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-header[_ngcontent-%COMP%]   .totals[_ngcontent-%COMP%]   .total-percentage[_ngcontent-%COMP%], .edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-header[_ngcontent-%COMP%]   .totals[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-weight:500}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{border:1px solid #f0f0f0;border-radius:6px;padding:16px;margin-bottom:12px;background:#fafafa}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{display:block;font-weight:500;font-size:14px;color:#333;margin-bottom:2px}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{color:#ff6b6b}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{background-color:#fff5f5}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr auto;gap:12px;align-items:center}@media (max-width: 768px){.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:8px}}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .amount-field[_ngcontent-%COMP%], .edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .percentage-field[_ngcontent-%COMP%]{width:100%}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-checkbox[_ngcontent-%COMP%]{margin:0;font-size:14px}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid #f0f0f0}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .splits-section[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .validation-messages[_ngcontent-%COMP%]{margin-top:16px;padding:12px;background:#fff5f5;border:1px solid #fed7d7;border-radius:6px}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .validation-messages[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#c53030;font-size:12px;margin-bottom:4px}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .validation-messages[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]:last-child{margin-bottom:0}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px 24px;margin:0}.edit-transaction-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px;font-weight:500}  .edit-transaction-dialog .mat-form-field .mat-form-field-wrapper{padding-bottom:0}  .edit-transaction-dialog .mat-form-field .mat-form-field-outline{color:#e0e0e0}  .edit-transaction-dialog .mat-form-field .mat-form-field-outline-thick{color:#666}  .edit-transaction-dialog .mat-form-field.mat-focused .mat-form-field-outline-thick{color:#1976d2}  .edit-transaction-dialog .mat-button-toggle-group .mat-button-toggle{background:#fff;color:#666;border:1px solid #e0e0e0}  .edit-transaction-dialog .mat-button-toggle-group .mat-button-toggle.mat-button-toggle-checked{background:#1976d2;color:#fff;border-color:#1976d2}  .edit-transaction-dialog .mat-checkbox .mat-checkbox-frame{border-color:#e0e0e0}  .edit-transaction-dialog .mat-checkbox.mat-checkbox-checked .mat-checkbox-background{background-color:#1976d2}"]});let i=t;return i})();var Od=(()=>{let t=class t{constructor(){}toDate(n){try{if(!n)return null;if(n instanceof Date)return n;if(n instanceof Mt)return n.toDate();if(n&&typeof n=="object"&&"seconds"in n)return new Mt(n.seconds,n.nanoseconds).toDate();if(typeof n=="number")return new Date(n);if(typeof n=="string"){let r=new Date(n);return isNaN(r.getTime())?null:r}return n&&typeof n.toDate=="function"?n.toDate():null}catch(r){return console.error("Error converting timestamp to date:",r,n),null}}toTimestamp(n){try{if(!n)return null;if(n instanceof Mt)return n;if(n instanceof Date)return Mt.fromDate(n);if(typeof n=="number")return Mt.fromDate(new Date(n));if(typeof n=="string"){let r=new Date(n);if(!isNaN(r.getTime()))return Mt.fromDate(r)}return n&&typeof n.toDate=="function"?Mt.fromDate(n.toDate()):null}catch(r){return console.error("Error converting date to timestamp:",r,n),null}}fromFormDate(n){try{if(!n)return null;let r=new Date(n);return isNaN(r.getTime())?null:Mt.fromDate(r)}catch(r){return console.error("Error converting form date to timestamp:",r,n),null}}now(){return Mt.fromDate(new Date)}compare(n,r){let a=this.toDate(n),l=this.toDate(r);return!a&&!l?0:a?l?a.getTime()-l.getTime():1:-1}sortByDate(n,r,a=!1){return[...n].sort((l,u)=>{let m=this.toDate(l[r]),b=this.toDate(u[r]);if(!m&&!b)return 0;if(!m)return a?-1:1;if(!b)return a?1:-1;let x=m.getTime()-b.getTime();return a?x:-x})}filterByDateRange(n,r,a,l){let u=this.toDate(a),m=this.toDate(l);return!u&&!m?n:n.filter(b=>{let x=this.toDate(b[r]);return x?u&&m?x>=u&&x<=m:u?x>=u:m?x<=m:!0:!1})}isValidDate(n){let r=this.toDate(n);return r!==null&&!isNaN(r.getTime())}formatDate(n,r="MM/DD/YYYY"){let a=this.toDate(n);if(!a)return"Invalid Date";let l=a.getDate().toString().padStart(2,"0"),u=(a.getMonth()+1).toString().padStart(2,"0"),m=a.getFullYear();return r.replace("MM",u).replace("DD",l).replace("YYYY",m.toString())}toISOString(n){let r=this.toDate(n);return r?r.toISOString().split("T")[0]:""}getRelativeTime(n){let r=this.toDate(n);if(!r)return"Unknown";let l=Math.floor((new Date().getTime()-r.getTime())/1e3);if(l<60)return"Just now";if(l<3600){let u=Math.floor(l/60);return`${u} minute${u>1?"s":""} ago`}else if(l<86400){let u=Math.floor(l/3600);return`${u} hour${u>1?"s":""} ago`}else if(l<2592e3){let u=Math.floor(l/86400);return`${u} day${u>1?"s":""} ago`}else return this.formatDate(r)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var Yn=(()=>{let t=class t{constructor(n,r,a,l,u){this.firestore=n,this.auth=r,this.notificationService=a,this.dateService=l,this.userService=u}getUserGroups(n){let r=this.auth.currentUser;if(!(r!=null&&r.email))return $([]);let a=zt(this.firestore,"splitwise-groups"),l=ae(a,Kt("isActive","==",!0),Pi("createdAt","desc"));return J(se(l)).pipe(nt(u=>u.docs.map(m=>A({id:m.id},m.data())).filter(m=>m.members.some(b=>{var x;return b.email.toLowerCase()===((x=r.email)==null?void 0:x.toLowerCase())&&b.isActive}))),pt(u=>(console.error("Error fetching user groups:",u),$([]))))}getGroupById(n){return vt(mt(this.firestore,"splitwise-groups",n)).then(r=>r.exists()?A({id:r.id},r.data()):null)}createGroup(n,r){let a=this.auth.currentUser;if(!a)throw new Error("User not authenticated");let l={name:n.name,description:n.description||"",createdBy:r,members:[{userId:a.uid,email:a.email||"",displayName:a.displayName||a.email||"",photoURL:a.photoURL||"",role:on.ADMIN,joinedAt:new Date,isActive:!0}],currency:n.currency||"USD",createdAt:new Date,updatedAt:new Date,isActive:!0,syncStatus:Zo.SYNCED},u=zt(this.firestore,"splitwise-groups");return J(vi(u,l)).pipe(nt(m=>A({id:m.id},l)))}deleteGroup(n,r){let a=mt(this.firestore,"splitwise-groups",n);return J(Yt(a,{isActive:!1,updatedAt:new Date}))}getUserInvitations(n){let r=this.auth.currentUser;if(!(r!=null&&r.email))return $([]);let a=zt(this.firestore,"splitwise-invitations"),l=ae(a,Kt("invitedEmail","==",r.email),Kt("status","==","pending"),Pi("createdAt","desc"));return J(se(l)).pipe(nt(u=>u.docs.map(m=>A({id:m.id},m.data()))),nt(u=>u.filter(m=>!this.isInvitationExpired(m))),pt(u=>(console.error("Error fetching invitations:",u),$([]))))}isInvitationExpired(n){let r;return n.expiresAt instanceof Mt?r=n.expiresAt.toDate():n.expiresAt instanceof Date?r=n.expiresAt:r=new Date(n.expiresAt),r<new Date}markExpiredInvitations(n){return G(this,null,function*(){try{let r=this.auth.currentUser;if(!(r!=null&&r.email))return;let a=zt(this.firestore,"splitwise-invitations"),l=ae(a,Kt("invitedEmail","==",r.email),Kt("status","==","pending")),u=yield se(l),m=Pc(this.firestore),b=!1;u.docs.forEach(x=>{let N=x.data();this.isInvitationExpired(N)&&(m.update(x.ref,{status:Gn.EXPIRED,updatedAt:new Date}),b=!0)}),b&&(yield m.commit())}catch(r){console.error("Error marking expired invitations:",r)}})}acceptInvitation(n,r){return G(this,null,function*(){try{let a=this.auth.currentUser;if(!a)throw new Error("User not authenticated");let l=mt(this.firestore,"splitwise-invitations",n),u=yield vt(l);if(!u.exists())throw new Error("Invitation not found");let m=u.data();yield Yt(l,{status:Gn.ACCEPTED,updatedAt:new Date});let b=mt(this.firestore,"splitwise-groups",m.groupId),x=yield vt(b);if(!x.exists())throw new Error("Group not found");let D=x.data().members.map(R=>{var V;return R.email.toLowerCase()===m.invitedEmail.toLowerCase()?F(A({},R),{userId:a.uid,displayName:a.displayName||((V=a.email)==null?void 0:V.split("@")[0])||R.displayName,photoURL:a.photoURL||R.photoURL,isActive:!0}):R});yield Yt(b,{members:D,updatedAt:new Date}),this.notificationService.success(`Successfully joined ${m.groupName}!`)}catch(a){throw console.error("Error accepting invitation:",a),this.notificationService.error("Failed to accept invitation"),a}})}declineInvitation(n,r){return G(this,null,function*(){try{if(!this.auth.currentUser)throw new Error("User not authenticated");let l=mt(this.firestore,"splitwise-invitations",n),u=yield vt(l);if(!u.exists())throw new Error("Invitation not found");let m=u.data();yield Yt(l,{status:Gn.DECLINED,updatedAt:new Date});let b=mt(this.firestore,"splitwise-groups",m.groupId),x=yield vt(b);if(x.exists()){let D=x.data().members.filter(R=>R.email.toLowerCase()!==m.invitedEmail.toLowerCase());yield Yt(b,{members:D,updatedAt:new Date})}this.notificationService.success(`Invitation to ${m.groupName} declined`)}catch(a){throw console.error("Error declining invitation:",a),this.notificationService.error("Failed to decline invitation"),a}})}addMemberToGroup(n,r,a){return G(this,null,function*(){var l;try{if(!this.auth.currentUser)throw new Error("User not authenticated");let m=mt(this.firestore,"splitwise-groups",n),b=yield vt(m);if(!b.exists())throw new Error("Group not found");let x=b.data();if(x.members.find(R=>R.email.toLowerCase()===r.email.toLowerCase()))throw new Error("User is already a member of this group");let D=yield this.userService.findUserByEmail(r.email);if(D){yield this.sendGroupInvitation(n,r.email,a);let R={userId:D.uid,email:r.email,displayName:D.firstName||((l=D.email)==null?void 0:l.split("@")[0])||r.email.split("@")[0],photoURL:D.photoURL||"",role:r.role||on.MEMBER,joinedAt:new Date,isActive:!1},V=[...x.members,R];return yield Yt(m,{members:V,updatedAt:new Date}),this.notificationService.success(`Invitation sent to ${r.email}`),F(A({id:n},x),{members:V,updatedAt:new Date})}else{let R={userId:"",email:r.email,displayName:r.email.split("@")[0],role:r.role||on.MEMBER,joinedAt:new Date,isActive:!1},V=[...x.members,R];return yield Yt(m,{members:V,updatedAt:new Date}),yield this.sendGroupInvitation(n,r.email,a),this.notificationService.success(`Invitation sent to ${r.email}. They will be added when they register and accept.`),F(A({id:n},x),{members:V,updatedAt:new Date})}}catch(u){throw console.error("Error adding member to group:",u),this.notificationService.error(u instanceof Error?u.message:"Failed to add member"),u}})}getGroupTransactions(n,r){let a=zt(this.firestore,"splitwise-transactions"),l=ae(a,Kt("groupId","==",n),Pi("createdAt","desc"));return J(se(l)).pipe(nt(u=>u.docs.map(m=>A({id:m.id},m.data()))),pt(u=>(console.error("Error fetching group transactions:",u),$([]))))}getGroupSettlements(n,r){let a=zt(this.firestore,"splitwise-settlements"),l=ae(a,Kt("groupId","==",n),Pi("createdAt","desc"));return J(se(l)).pipe(nt(u=>u.docs.map(m=>A({id:m.id},m.data()))),pt(u=>(console.error("Error fetching group settlements:",u),$([]))))}createSplitTransaction(n,r){if(!this.auth.currentUser)throw new Error("User not authenticated");let l={groupId:n.groupId,originalTransactionId:n.originalTransactionId,amount:n.amount,createdBy:r,splits:n.splits.map(m=>F(A({},m),{email:"",displayName:""})),totalAmount:n.amount,currency:"USD",createdAt:new Date,updatedAt:new Date,syncStatus:Zo.SYNCED},u=zt(this.firestore,"splitwise-transactions");return J(vi(u,l)).pipe(nt(m=>A({id:m.id},l)))}getGroup(n){return J(vt(mt(this.firestore,"splitwise-groups",n))).pipe(nt(r=>r.exists()?A({id:r.id},r.data()):null))}updateGroup(n,r){return G(this,null,function*(){var a;try{if(!((a=this.auth.currentUser)==null?void 0:a.uid))throw new Error("User not authenticated");let u={updatedAt:new Date};r.name&&(u.name=r.name),r.description!==void 0&&(u.description=r.description),r.currency&&(u.currency=r.currency),yield Yt(mt(this.firestore,"splitwise-groups",n),u),this.notificationService.success("Group updated successfully")}catch(l){throw console.error("Error updating group:",l),this.notificationService.error("Failed to update group"),l}})}removeMemberFromGroup(n,r,a){return G(this,null,function*(){try{if(!a)throw new Error("User not authenticated");let l=mt(this.firestore,"splitwise-groups",n),u=yield vt(l);if(!u.exists())throw new Error("Group not found");let b=u.data().members.filter(x=>x.userId!==r);yield Yt(l,{members:b,updatedAt:new Date}),this.notificationService.success("Member removed successfully")}catch(l){throw console.error("Error removing member:",l),this.notificationService.error("Failed to remove member"),l}})}getSplitTransaction(n){return J(vt(mt(this.firestore,"splitwise-transactions",n))).pipe(nt(r=>r.exists()?A({id:r.id},r.data()):null))}updateSplitTransaction(n,r){return G(this,null,function*(){var a;try{if(!((a=this.auth.currentUser)==null?void 0:a.uid))throw new Error("User not authenticated");let u={updatedAt:new Date};if(r.payee&&(u.payee=r.payee),r.amount&&(u.amount=r.amount),r.type&&(u.type=r.type),r.date&&(u.date=this.dateService.toTimestamp(r.date)),r.notes!==void 0&&(u.notes=r.notes),r.categoryId&&(u.categoryId=r.categoryId),r.category&&(u.category=r.category),r.splits){let m=yield vt(mt(this.firestore,"splitwise-transactions",n));if(!m.exists())throw new Error("Transaction not found");let b=m.data(),N=(yield vt(mt(this.firestore,"splitwise-groups",b.groupId))).data(),D=r.splits.map(R=>{let V=N.members.find(ht=>ht.userId===R.userId);return F(A({},R),{email:(V==null?void 0:V.email)||"",displayName:(V==null?void 0:V.displayName)||"",isPaid:R.isPaid!==void 0?R.isPaid:!1})});u.splits=D,r.amount&&(u.totalAmount=r.amount),r.amount&&r.amount!==b.totalAmount&&(yield this.updateMemberBalances(b.groupId,D))}yield Yt(mt(this.firestore,"splitwise-transactions",n),u),this.notificationService.success("Split transaction updated successfully")}catch(l){throw console.error("Error updating split transaction:",l),this.notificationService.error("Failed to update split transaction"),l}})}deleteSplitTransaction(n){return G(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");let l=yield vt(mt(this.firestore,"splitwise-transactions",n));if(!l.exists())throw new Error("Transaction not found");let u=l.data(),m=u.splits.map(b=>F(A({},b),{amount:-b.amount}));yield this.updateMemberBalances(u.groupId,m),yield Jo(mt(this.firestore,"splitwise-transactions",n)),this.notificationService.success("Split transaction deleted successfully")}catch(a){throw console.error("Error deleting split transaction:",a),this.notificationService.error("Failed to delete split transaction"),a}})}createSettlement(n){return G(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");let l=yield vt(mt(this.firestore,"splitwise-groups",n.groupId));if(!l.exists())throw new Error("Group not found");let u=l.data(),m={groupId:n.groupId,fromUserId:n.fromUserId,toUserId:n.toUserId,amount:n.amount,currency:u.currency||"USD",status:qi.PENDING,notes:n.notes||"",createdAt:new Date,updatedAt:new Date};return(yield vi(zt(this.firestore,"splitwise-settlements"),m)).id}catch(a){throw console.error("Error creating settlement:",a),a}})}completeSettlement(n){return G(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");yield Yt(mt(this.firestore,"splitwise-settlements",n),{status:qi.COMPLETED,settledAt:new Date,updatedAt:new Date});let u=(yield vt(mt(this.firestore,"splitwise-settlements",n))).data()}catch(a){throw console.error("Error completing settlement:",a),a}})}sendGroupInvitation(n,r,a){return G(this,null,function*(){try{let l=this.auth.currentUser;if(!l)throw new Error("User not authenticated");let m=(yield vt(mt(this.firestore,"splitwise-groups",n))).data(),b={groupId:n,groupName:m.name,invitedBy:a,invitedByEmail:l.email||"",invitedByDisplayName:l.displayName||"",invitedEmail:r,status:Gn.PENDING,expiresAt:new Date(Date.now()+7*24*60*60*1e3),createdAt:new Date,updatedAt:new Date};yield vi(zt(this.firestore,"splitwise-invitations"),b)}catch(l){throw console.error("Error sending invitation:",l),l}})}updateMemberBalances(n,r){return G(this,null,function*(){console.warn("updateMemberBalances is deprecated. Use getMemberBalances() instead.")})}getGroupSummary(n){return G(this,null,function*(){var x;if(!((x=this.auth.currentUser)==null?void 0:x.uid))throw new Error("User not authenticated");let[a,l]=yield Promise.all([se(ae(zt(this.firestore,"splitwise-transactions"),Kt("groupId","==",n))),se(ae(zt(this.firestore,"splitwise-settlements"),Kt("groupId","==",n),Kt("status","==",qi.PENDING)))]),m=(yield vt(mt(this.firestore,"splitwise-groups",n))).data(),b=a.docs.reduce((N,D)=>{let R=D.data();return N+R.amount},0);return{groupId:n,totalTransactions:a.docs.length,totalAmount:b,averageAmount:a.docs.length>0?b/a.docs.length:0,memberCount:m.members.length,activeMemberCount:m.members.filter(N=>N.isActive).length,pendingSettlements:l.docs.length,lastActivity:new Date}})}getMemberBalances(n){return G(this,null,function*(){var b;if(!((b=this.auth.currentUser)==null?void 0:b.uid))throw new Error("User not authenticated");let l=(yield vt(mt(this.firestore,"splitwise-groups",n))).data(),u=yield se(ae(zt(this.firestore,"splitwise-transactions"),Kt("groupId","==",n))),m=new Map;return l.members.forEach(x=>{m.set(x.userId,{userId:x.userId,email:x.email,displayName:x.displayName,totalPaid:0,totalOwed:0,netBalance:0,transactionCount:0})}),u.docs.forEach(x=>{x.data().splits.forEach(D=>{let R=m.get(D.userId);R&&(R.transactionCount++,D.amount>0?R.totalPaid+=D.amount:R.totalOwed+=Math.abs(D.amount),R.netBalance=R.totalPaid-R.totalOwed)})}),Array.from(m.values())})}deleteSplitTransactionRollback(n,r){return G(this,null,function*(){try{let a=zt(this.firestore,"splitwise-transactions"),l=ae(a,Kt("originalTransactionId","==",n)),u=yield se(l);if(u.empty)throw new Error("Transaction not found");let b=u.docs[0].id;yield Jo(mt(this.firestore,`splitwise-transactions/${b}`)),console.log(`Transaction with ID ${b} deleted successfully`)}catch(a){throw console.error("Error deleting split transaction rollback:",a),a}})}};t.\u0275fac=function(r){return new(r||t)(it(vc),it(kt),it(Re),it(Od),it(On))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var Ed=new bt("CdkAccordion");var hg=0,Td=(()=>{let t=class t{get expanded(){return this._expanded}set expanded(n){if(this._expanded!==n){if(this._expanded=n,this.expandedChange.emit(n),n){this.opened.emit();let r=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,r)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(n,r,a){this.accordion=n,this._changeDetectorRef=r,this._expansionDispatcher=a,this._openCloseAllSubscription=pr.EMPTY,this.closed=new Ct,this.opened=new Ct,this.destroyed=new Ct,this.expandedChange=new Ct,this.id=`cdk-accordion-child-${hg++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=a.listen((l,u)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===u&&this.id!==l&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(n=>{this.disabled||(this.expanded=n)})}};t.\u0275fac=function(r){return new(r||t)(T(Ed,12),T(Ce),T(Er))},t.\u0275dir=_e({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",St],disabled:[2,"disabled","disabled",St]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[We([{provide:Ed,useValue:void 0}]),Ae]});let i=t;return i})(),Sd=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t}),t.\u0275inj=Et({});let i=t;return i})();var pg=["body"],fg=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],_g=["mat-expansion-panel-header","*","mat-action-row"];function bg(i,t){}var Cg=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],yg=["mat-panel-title","mat-panel-description","*"];function vg(i,t){if(i&1&&(g(0,"span",1),qo(),g(1,"svg",2),tt(2,"path",3),f()()),i&2){let o=k();S("@indicatorRotate",o._getExpandedState())}}var Ad=new bt("MAT_ACCORDION"),kd="225ms cubic-bezier(0.4,0.0,0.2,1)",Rd={indicatorRotate:ts("indicatorRotate",[wi("collapsed, void",Mi({transform:"rotate(0deg)"})),wi("expanded",Mi({transform:"rotate(180deg)"})),ns("expanded <=> collapsed, void => collapsed",es(kd))]),bodyExpansion:ts("bodyExpansion",[wi("collapsed, void",Mi({height:"0px",visibility:"hidden"})),wi("expanded",Mi({height:"*",visibility:""})),ns("expanded <=> collapsed, void => collapsed",es(kd))])},Nd=new bt("MAT_EXPANSION_PANEL"),Pg=(()=>{let t=class t{constructor(n,r){this._template=n,this._expansionPanel=r}};t.\u0275fac=function(r){return new(r||t)(T(Xa),T(Nd,8))},t.\u0275dir=_e({type:t,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0});let i=t;return i})(),Mg=0,Vd=new bt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Fs=(()=>{let t=class t extends Td{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(n){this._hideToggle=n}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(n){this._togglePosition=n}constructor(n,r,a,l,u,m,b){super(n,r,a),this._viewContainerRef=l,this._animationMode=m,this._hideToggle=!1,this.afterExpand=new Ct,this.afterCollapse=new Ct,this._inputChanges=new te,this._headerId=`mat-expansion-panel-header-${Mg++}`,this.accordion=n,this._document=u,this._animationsDisabled=m==="NoopAnimations",b&&(this.hideToggle=b.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Qa(null),pe(()=>this.expanded&&!this._portal),fr(1)).subscribe(()=>{this._portal=new Ac(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(n){this._inputChanges.next(n)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let n=this._document.activeElement,r=this._body.nativeElement;return n===r||r.contains(n)}return!1}_animationStarted(n){var r;!Dd(n)&&!this._animationsDisabled&&this._body&&((r=this._body)==null||r.nativeElement.setAttribute("inert",""))}_animationDone(n){Dd(n)||(n.toState==="expanded"?this.afterExpand.emit():n.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}};t.\u0275fac=function(r){return new(r||t)(T(Ad,12),T(Ce),T(Er),T(Ja),T(oc),T($o,8),T(Vd,8))},t.\u0275cmp=ut({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(r,a,l){if(r&1&&bi(l,Pg,5),r&2){let u;Ke(u=He())&&(a._lazyContent=u.first)}},viewQuery:function(r,a){if(r&1&&Ci(pg,5),r&2){let l;Ke(l=He())&&(a._body=l.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(r,a){r&2&&Bt("mat-expanded",a.expanded)("_mat-animation-noopable",a._animationsDisabled)("mat-expansion-panel-spacing",a._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",St],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[We([{provide:Ad,useValue:void 0},{provide:Nd,useExisting:t}]),Ae,Ko,Cr,ke],ngContentSelectors:_g,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(r,a){if(r&1){let l=at();gn(fg),oe(0),g(1,"div",1,0),L("@bodyExpansion.start",function(m){return K(l),H(a._animationStarted(m))})("@bodyExpansion.done",function(m){return K(l),H(a._animationDone(m))}),g(3,"div",2),oe(4,1),U(5,bg,0,0,"ng-template",3),f(),oe(6,2),f()}r&2&&(I(),S("@bodyExpansion",a._getExpandedState())("id",a.id),re("aria-labelledby",a._headerId),I(4),S("cdkPortalOutlet",a._portal))},dependencies:[kc],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Rd.bodyExpansion]},changeDetection:0});let i=t;return i})();function Dd(i){return i.fromState==="void"}var Fd=(()=>{let t=class t{constructor(n,r,a,l,u,m,b){this.panel=n,this._element=r,this._focusMonitor=a,this._changeDetectorRef=l,this._animationMode=m,this._parentChangeSubscription=pr.EMPTY,this.tabIndex=0;let x=n.accordion?n.accordion._stateChanges.pipe(pe(N=>!!(N.hideToggle||N.togglePosition))):Ga;this.tabIndex=parseInt(b||"")||0,this._parentChangeSubscription=fi(n.opened,n.closed,x,n._inputChanges.pipe(pe(N=>!!(N.hideToggle||N.disabled||N.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),n.closed.pipe(pe(()=>n._containsFocus())).subscribe(()=>a.focusVia(r,"program")),u&&(this.expandedHeight=u.expandedHeight,this.collapsedHeight=u.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let n=this._isExpanded();return n&&this.expandedHeight?this.expandedHeight:!n&&this.collapsedHeight?this.collapsedHeight:null}_keydown(n){switch(n.keyCode){case 32:case 13:Mc(n)||(n.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(n);return}}focus(n,r){n?this._focusMonitor.focusVia(this._element,n,r):this._element.nativeElement.focus(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(n=>{n&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}};t.\u0275fac=function(r){return new(r||t)(T(Fs,1),T(_i),T(Or),T(Ce),T(Vd,8),T($o,8),yr("tabindex"))},t.\u0275cmp=ut({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(r,a){r&1&&L("click",function(){return a._toggle()})("keydown",function(u){return a._keydown(u)}),r&2&&(re("id",a.panel._headerId)("tabindex",a.disabled?-1:a.tabIndex)("aria-controls",a._getPanelId())("aria-expanded",a._isExpanded())("aria-disabled",a.panel.disabled),Za("height",a._getHeaderHeight()),Bt("mat-expanded",a._isExpanded())("mat-expansion-toggle-indicator-after",a._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",a._getTogglePosition()==="before")("_mat-animation-noopable",a._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",n=>n==null?0:rc(n)]},standalone:!0,features:[Ae,ke],ngContentSelectors:yg,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(r,a){r&1&&(gn(Cg),g(0,"span",0),oe(1),oe(2,1),oe(3,2),f(),U(4,vg,3,1,"span",1)),r&2&&(Bt("mat-content-hide-toggle",!a._showToggle()),I(4),yt(a._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Rd.indicatorRotate]},changeDetection:0});let i=t;return i})(),Ld=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=_e({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"],standalone:!0});let i=t;return i})(),Ud=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=_e({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0});let i=t;return i})();var Bd=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t}),t.\u0275inj=Et({imports:[Ye,Sd,Dc]});let i=t;return i})();function xg(i,t){i&1&&(g(0,"div",5),tt(1,"mat-spinner",6),g(2,"p"),v(3,"Loading group details..."),f()())}function Og(i,t){if(i&1){let o=at();g(0,"button",34),L("click",function(){K(o);let r=k(2);return H(r.deleteGroup())}),g(1,"mat-icon"),v(2,"delete"),f(),g(3,"span"),v(4,"Delete Group"),f()()}}function Ig(i,t){i&1&&(g(0,"span",49),v(1,"(You)"),f())}function Eg(i,t){if(i&1&&(g(0,"span",50),v(1),f()),i&2){let o=k().$implicit,n=k(3);I(),q(" ",n.getCurrentUserStatus(o.netBalance)," ")}}function Tg(i,t){if(i&1&&(g(0,"div",40)(1,"div",41)(2,"div",42),v(3),U(4,Ig,2,0,"span",43),f(),g(5,"div",44)(6,"span",45),v(7),f(),g(8,"span",46),v(9),f()()(),g(10,"div",47),v(11),U(12,Eg,2,1,"span",48),f()()),i&2){let o=t.$implicit,n=k(3);Bt("current-user",o.userId===(n.currentUser==null?null:n.currentUser.uid)),I(3),q(" ",o.displayName," "),I(),S("ngIf",o.userId===(n.currentUser==null?null:n.currentUser.uid)),I(3),q("Paid: ",n.formatCurrency(o.totalPaid,n.group.currency),""),I(2),q("Owed: ",n.formatCurrency(o.totalOwed,n.group.currency),""),I(),hn(n.getBalanceColor(o.netBalance)),I(),q(" ",n.formatCurrency(o.netBalance,n.group.currency)," "),I(),S("ngIf",o.userId===(n.currentUser==null?null:n.currentUser.uid))}}function Sg(i,t){if(i&1&&(g(0,"div",55)(1,"div",56)(2,"mat-icon"),v(3),f(),g(4,"span",57),v(5),f()(),g(6,"div",58),v(7),f()()),i&2){let o=t.$implicit,n=k(4);hn(o.type),I(2),hn(o.type==="owes"?"arrow_upward":"arrow_downward"),I(),q(" ",o.type==="owes"?"arrow_upward":"arrow_downward"," "),I(2),X(o.message),I(),hn(o.type),I(),q(" ",n.formatCurrency(o.amount,n.group.currency)," ")}}function Ag(i,t){i&1&&(g(0,"div",59)(1,"mat-icon"),v(2,"check_circle"),f(),g(3,"span"),v(4,"All balances are settled!"),f()())}function kg(i,t){if(i&1&&(g(0,"div",51)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"mat-icon"),v(5,"account_tree"),f(),g(6,"span"),v(7,"Detailed Balance Breakdown"),f()(),g(8,"mat-panel-description"),v(9," See who owes what to whom "),f()(),g(10,"div",52),U(11,Sg,8,9,"div",53)(12,Ag,5,0,"div",54),f()()()),i&2){let o=k(3);I(11),S("ngForOf",o.getDetailedBalanceBreakdown(o.currentUser.uid)),I(),S("ngIf",o.getDetailedBalanceBreakdown(o.currentUser.uid).length===0)}}function Dg(i,t){if(i&1&&(g(0,"div",35)(1,"mat-card",36)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),v(5,"account_balance_wallet"),f(),g(6,"span"),v(7,"Member Balances"),f()(),g(8,"mat-card-subtitle"),v(9," Who owes what to whom "),f()(),g(10,"mat-card-content")(11,"div",37),U(12,Tg,13,10,"div",38),f(),U(13,kg,13,2,"div",39),f()()()),i&2){let o=k(2);I(12),S("ngForOf",o.getMemberBalances()),I(),S("ngIf",o.currentUser==null?null:o.currentUser.uid)}}function Rg(i,t){if(i&1){let o=at();g(0,"div",64)(1,"div",65)(2,"div",66)(3,"span",67),v(4),f()(),g(5,"div",68)(6,"span",69),v(7),f(),g(8,"mat-icon"),v(9,"arrow_forward"),f(),g(10,"span",70),v(11),f()(),g(12,"div",71),v(13),f()(),g(14,"button",72),L("click",function(){let r=K(o).$implicit,a=k(3);return H(a.createSettlement(r))}),g(15,"mat-icon"),v(16),f(),g(17,"span"),v(18),f()()()}if(i&2){let o=t.$implicit,n=k(3);hn(o.type),I(4),X(n.getSettlementMessage(o)),I(3),X(o.fromUserName),I(4),X(o.toUserName),I(2),q(" ",n.formatCurrency(o.amount,o.currency)," "),I(),S("color",o.type==="you_owe"?"warn":"primary")("disabled",o.type==="others"),I(2),X(o.type==="you_owe"?"payment":"check"),I(2),X(o.type==="you_owe"?"Pay":"Settle")}}function Ng(i,t){if(i&1&&(g(0,"div",60)(1,"mat-card",61)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),v(5,"swap_horiz"),f(),g(6,"span"),v(7,"Settlement Suggestions"),f()(),g(8,"mat-card-subtitle"),v(9),f()(),g(10,"mat-card-content")(11,"div",62),U(12,Rg,19,10,"div",63),f()()()()),i&2){let o=k(2);I(9),q(" ",o.getSettlementSubtitle()," "),I(3),S("ngForOf",o.getSettlementSuggestions())}}function Vg(i,t){if(i&1){let o=at();g(0,"div",75),L("click",function(){let r=K(o).$implicit,a=k(3);return H(a.openEditTransactionDialog(r))}),g(1,"div",76)(2,"div",77)(3,"div",78),v(4),f(),g(5,"div",79)(6,"span",80),v(7),f(),g(8,"span",81),v(9),f()()(),g(10,"div",82),v(11),f()()()}if(i&2){let o=t.$implicit,n=k(3);I(4),q(" ",n.getTransactionTitle(o)," "),I(3),q("Paid by ",n.getTransactionCreatorName(o),""),I(2),X(n.formatDate(o.createdAt)),I(2),q(" ",n.formatCurrency(o.totalAmount,o.currency)," ")}}function Fg(i,t){if(i&1&&(g(0,"div",73),U(1,Vg,12,4,"div",74),f()),i&2){let o=k(2);I(),S("ngForOf",o.transactions)}}function Lg(i,t){if(i&1){let o=at();g(0,"div",83)(1,"mat-icon",84),v(2,"receipt"),f(),g(3,"p"),v(4,"No transactions yet"),f(),g(5,"button",85),L("click",function(){K(o);let r=k(2);return H(r.addTransaction())}),g(6,"mat-icon"),v(7,"add"),f(),v(8," Add Transaction "),f()()}}function Ug(i,t){if(i&1&&(g(0,"div",93),v(1),f()),i&2){let o=k().$implicit,n=k(3);I(),q(" ",n.formatDate(o.settledAt)," ")}}function Bg(i,t){if(i&1&&(g(0,"div",90)(1,"div",91)(2,"div",68)(3,"span",69),v(4),f(),g(5,"mat-icon"),v(6,"arrow_forward"),f(),g(7,"span",70),v(8),f()(),g(9,"div",71),v(10),f(),U(11,Ug,2,1,"div",92),f()()),i&2){let o=t.$implicit,n=k(3);I(4),X(n.getMemberName(o.fromUserId)),I(4),X(n.getMemberName(o.toUserId)),I(2),q(" ",n.formatCurrency(o.amount,o.currency)," "),I(),S("ngIf",o.settledAt)}}function jg(i,t){if(i&1&&(g(0,"div",86)(1,"mat-card",87)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),v(5,"check_circle"),f(),g(6,"span"),v(7),f()()(),g(8,"mat-card-content")(9,"div",88),U(10,Bg,12,4,"div",89),f()()()()),i&2){let o=k(2);I(7),q("Completed Settlements (",o.getCompletedSettlementsCount(),")"),I(3),S("ngForOf",o.getCompletedSettlements())}}function zg(i,t){if(i&1){let o=at();g(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"button",11),L("click",function(){K(o);let r=k();return H(r.goBack())}),g(5,"mat-icon",12),L("click",function(){K(o);let r=k();return H(r.goBack())}),v(6,"arrow_back"),f()(),g(7,"span",13),v(8),be(9,"titlecase"),f(),g(10,"button",14)(11,"mat-icon"),v(12,"more_vert"),f()()(),g(13,"div",15)(14,"mat-menu",16,0)(16,"button",17),L("click",function(){K(o);let r=k();return H(r.openAddMemberDialog())}),g(17,"mat-icon"),v(18,"person_add"),f(),g(19,"span"),v(20,"Add Member"),f()(),tt(21,"mat-divider"),U(22,Og,5,0,"button",18),f()()()(),g(23,"div",19)(24,"mat-card",20)(25,"div",21)(26,"div",22)(27,"div",23),L("click",function(){K(o);let r=k();return H(r.openAddMemberDialog())}),g(28,"div",24),v(29),f(),g(30,"div",25),v(31,"Members"),f()()(),g(32,"div",22)(33,"div",26)(34,"div",24),v(35),f(),g(36,"div",25),v(37,"Total Balance"),f()()()()()(),U(38,Dg,14,2,"div",27)(39,Ng,13,2,"div",28),g(40,"div",29)(41,"mat-card",30)(42,"mat-card-header")(43,"mat-card-title")(44,"mat-icon"),v(45,"receipt"),f(),g(46,"span"),v(47),f()(),g(48,"mat-card-subtitle"),v(49),f()(),g(50,"mat-card-content"),U(51,Fg,2,1,"div",31)(52,Lg,9,0,"div",32),f()()(),U(53,jg,11,2,"div",33),f()}if(i&2){let o=Qe(15),n=k();I(8),X(pn(9,12,n.group.name)),I(2),S("matMenuTriggerFor",o),I(12),S("ngIf",n.canManageGroup()),I(7),X(n.getGroupMemberCount()),I(6),X(n.formatCurrency(n.getTotalBalance(),n.group.currency)),I(3),S("ngIf",n.showBalances),I(),S("ngIf",n.getSettlementSuggestions().length>0),I(8),q("Transactions (",n.getTransactionCount(),")"),I(2),q(" Total: ",n.formatCurrency(n.getTotalTransactionAmount(),n.group.currency)," "),I(2),S("ngIf",n.transactions.length>0),I(),S("ngIf",n.transactions.length===0),I(),S("ngIf",n.getCompletedSettlementsCount()>0)}}function Gg(i,t){if(i&1){let o=at();g(0,"div",94)(1,"mat-icon",95),v(2,"error"),f(),g(3,"h3"),v(4,"Group Not Found"),f(),g(5,"p"),v(6,"The group you're looking for doesn't exist or you don't have access to it."),f(),g(7,"button",85),L("click",function(){K(o);let r=k();return H(r.goBack())}),g(8,"mat-icon"),v(9,"arrow_back"),f(),v(10," Go Back "),f()()}}var jd=(()=>{let t=class t{constructor(n,r,a,l,u,m,b,x){this.route=n,this.router=r,this.auth=a,this.store=l,this.dialog=u,this.notificationService=m,this.breakpointObserver=b,this.splitwiseService=x,this.group=null,this.transactions=[],this.settlements=[],this.error=null,this.currentUser=null,this.isMobile=!1,this.isLoading=!1,this.Math=Math,this.showBalances=!0,this.destroy$=new te,this.breakpointObserver.observe([xn.Handset]).pipe(fe(this.destroy$)).subscribe(N=>{this.isMobile=N.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(zn).pipe(fe(this.destroy$)).subscribe(n=>{this.isLoading=n.loading,this.error=n.error;let r=this.route.snapshot.paramMap.get("id");r&&(this.group=n.groups.find(a=>a.id===r)||null,!this.group&&!this.isLoading&&this.splitwiseService.getGroupById(r).then(a=>{this.group=a})),this.transactions=n.transactions.filter(a=>a.groupId===r),this.settlements=n.settlements.filter(a=>a.groupId===r),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Ue())),console.log("Store state updated:",{loading:n.loading,transactionsCount:n.transactions.length,settlementsCount:n.settlements.length,error:n.error})})}reloadData(){let n=this.route.snapshot.paramMap.get("id");n&&(this.store.dispatch(nn({groupId:n})),this.store.dispatch(rn({groupId:n})))}loadGroupDetails(){let n=this.route.snapshot.paramMap.get("id");n&&(this.store.dispatch(Pe({groupId:n})),this.store.dispatch(nn({groupId:n})),this.store.dispatch(rn({groupId:n})))}goBack(){this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(Wn,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(r=>{r&&(r.action==="delete"?this.store.dispatch(Le({groupId:this.group.id,userId:r.userId})):this.store.dispatch(le({groupId:this.group.id,request:r})))})}deleteGroup(){this.group&&this.dialog.open(Xe,{width:"300px",data:{title:"Delete Group",message:'Are you sure you want to delete the group "${this.group.name}"?',confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(n=>{var r;n&&(this.store.dispatch(Fe({groupId:(r=this.group)==null?void 0:r.id})),this.goBack())})}getCurrentUserRole(){if(!this.group||!this.currentUser)return"";let n=this.group.members.find(r=>r.userId===this.currentUser.uid);return(n==null?void 0:n.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}getGroupMemberCount(){var n;return((n=this.group)==null?void 0:n.members.filter(r=>r.isActive).length)||0}formatDate(n){return n?(n.toDate?n.toDate():new Date(n)).toLocaleDateString():""}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}getTotalBalance(){return this.group?this.transactions.reduce((n,r)=>n+r.splits.reduce((a,l)=>a+l.amount,0),0):0}calculateNetBalances(){let n={};for(let r of this.transactions){let a=r.createdBy,l=r.totalAmount;for(let u of r.splits){let{userId:m,amount:b}=u;m!==a&&(n[m]||(n[m]={}),n[m][a]||(n[m][a]=0),n[m][a]+=b)}}for(let r of this.settlements){if(r.status==="cancelled")continue;let{fromUserId:a,toUserId:l,amount:u}=r;n[a]||(n[a]={}),n[a][l]||(n[a][l]=0),n[a][l]-=u}return this.simplifyBalances(n)}simplifyBalances(n){var l,u;let r={},a=new Set;for(let m in n)for(let b in n[m]){let x=`${m}_${b}`,N=`${b}_${m}`;if(a.has(x)||a.has(N))continue;let D=((l=n[m])==null?void 0:l[b])||0,R=((u=n[b])==null?void 0:u[m])||0,V=D-R;V>0?(r[m]||(r[m]={}),r[m][b]=Math.round(V*100)/100):V<0&&(r[b]||(r[b]={}),r[b][m]=Math.round(-V*100)/100),a.add(x),a.add(N)}return r}getMemberBalances(){if(!this.group)return[];let n=this.calculateNetBalances(),r=[];return this.group.members.forEach(a=>{let l=n[a.userId]||{},u=0;Object.values(l).forEach(x=>{x>0&&(u+=x)});let m=0;Object.keys(n).forEach(x=>{if(x!==a.userId){let D=(n[x]||{})[a.userId]||0;D>0&&(m+=D)}});let b=m-u;r.push({userId:a.userId,displayName:a.displayName,email:a.email,totalPaid:m,totalOwed:u,netBalance:b,simplifiedBalances:l})}),r.sort((a,l)=>l.netBalance-a.netBalance)}getDetailedBalanceBreakdown(n){let r=this.calculateNetBalances(),a=r[n]||{},l=[];return Object.entries(a).forEach(([u,m])=>{var b;m>0&&l.push({type:"owes",otherUserId:u,otherUserName:this.getMemberName(u),amount:m,message:`${this.getMemberName(n)} owes ${this.getMemberName(u)} ${this.formatCurrency(m,((b=this.group)==null?void 0:b.currency)||"USD")}`})}),Object.keys(r).forEach(u=>{var m;if(u!==n){let x=(r[u]||{})[n]||0;x>0&&l.push({type:"owed",otherUserId:u,otherUserName:this.getMemberName(u),amount:x,message:`${this.getMemberName(u)} owes ${this.getMemberName(n)} ${this.formatCurrency(x,((m=this.group)==null?void 0:m.currency)||"USD")}`})}}),l.sort((u,m)=>m.amount-u.amount)}getBalanceBetweenUsers(n,r){var m,b;let a=this.calculateNetBalances(),l=((m=a[n])==null?void 0:m[r])||0,u=((b=a[r])==null?void 0:b[n])||0;return l-u}getBalanceSummary(){let n=this.getMemberBalances(),r=n.filter(l=>l.netBalance<0),a=n.filter(l=>l.netBalance>0);return{owes:r,owed:a}}getSettlementSuggestions(){var u;let n=this.getMemberBalances(),r=[];if(!((u=this.currentUser)!=null&&u.uid))return r;let a=n.find(m=>m.userId===this.currentUser.uid);if(!a)return r;let l=a.netBalance;if(l<0){let m=Math.abs(l);n.filter(x=>x.netBalance>0&&x.userId!==this.currentUser.uid).forEach(x=>{var R;let N=x.netBalance,D=this.getBalanceBetweenUsers(this.currentUser.uid,x.userId);if(D>0){let V=Math.min(D,N);V>0&&r.push({fromUserId:this.currentUser.uid,fromUserName:a.displayName,toUserId:x.userId,toUserName:x.displayName,amount:V,currency:((R=this.group)==null?void 0:R.currency)||"USD",type:"you_owe"})}})}else if(l>0){let m=l;n.filter(x=>x.netBalance<0&&x.userId!==this.currentUser.uid).forEach(x=>{var D;let N=this.getBalanceBetweenUsers(x.userId,this.currentUser.uid);if(N>0){let R=Math.min(N,m);R>0&&r.push({fromUserId:x.userId,fromUserName:x.displayName,toUserId:this.currentUser.uid,toUserName:a.displayName,amount:R,currency:((D=this.group)==null?void 0:D.currency)||"USD",type:"owed_to_you"})}})}else{let m=n.filter(x=>x.netBalance<0&&x.userId!==this.currentUser.uid),b=n.filter(x=>x.netBalance>0&&x.userId!==this.currentUser.uid);m.forEach(x=>{let D=Math.abs(x.netBalance);b.forEach(R=>{var lt;if(D<=0)return;let V=R.netBalance,ht=this.getBalanceBetweenUsers(x.userId,R.userId);if(ht>0){let Ut=Math.min(D,V,ht);Ut>0&&(r.push({fromUserId:x.userId,fromUserName:x.displayName,toUserId:R.userId,toUserName:R.displayName,amount:Ut,currency:((lt=this.group)==null?void 0:lt.currency)||"USD",type:"others"}),D-=Ut)}})})}return r.filter(m=>!this.settlements.find(x=>x.fromUserId===m.fromUserId&&x.toUserId===m.toUserId&&x.status!=="cancelled"))}createSettlement(n){var a;if(!this.group){this.notificationService.error("Group not found");return}if(!((a=this.currentUser)!=null&&a.uid)){this.notificationService.error("User not authenticated");return}this.dialog.open(Xe,{width:"400px",data:{title:"Create Settlement",message:`Create settlement of ${this.formatCurrency(n.amount,n.currency)} from ${n.fromUserName} to ${n.toUserName}?`,confirmText:"Create",cancelText:"Cancel"}}).afterClosed().subscribe(l=>{if(l)try{console.log("Creating settlement:",n),this.store.dispatch(jn({groupId:this.group.id,fromUserId:n.fromUserId,toUserId:n.toUserId,amount:n.amount,notes:"Settlement created from balance summary"})),this.notificationService.success("Settlement created successfully"),setTimeout(()=>{this.reloadData()},1e3)}catch(u){console.error("Error creating settlement:",u),this.notificationService.error("Failed to create settlement")}})}toggleBalanceDisplay(){this.showBalances=!this.showBalances}getBalanceColor(n){return n>0?"positive":n<0?"negative":"neutral"}getSettlementSubtitle(){var a;if(!((a=this.currentUser)!=null&&a.uid))return"Quick settlements to balance the group";let r=this.getMemberBalances().find(l=>l.userId===this.currentUser.uid);return r?r.netBalance<0?"You owe money to these members":r.netBalance>0?"These members owe you money":"Other members can settle their balances":"Quick settlements to balance the group"}getSettlementMessage(n){switch(n.type){case"you_owe":return`You owe ${n.toUserName}`;case"owed_to_you":return`${n.fromUserName} owes you`;case"others":return`${n.fromUserName} owes ${n.toUserName}`;default:return"Settlement suggestion"}}getCurrentUserStatus(n){return n<0?"(You owe)":n>0?"(You are owed)":"(Balanced)"}getSettlementStatus(n,r){let a=this.settlements.find(l=>l.fromUserId===n&&l.toUserId===r);return a?{exists:!0,status:a.status,amount:a.amount}:{exists:!1,status:"",amount:0}}isSettlementPending(n,r){return!!this.settlements.find(l=>l.fromUserId===n&&l.toUserId===r&&l.status==="pending")}isSettlementCompleted(n,r){return!!this.settlements.find(l=>l.fromUserId===n&&l.toUserId===r&&l.status==="completed")}getExistingSettlementsSummary(){var a;if(!((a=this.currentUser)!=null&&a.uid))return[];let n=[];return this.settlements.filter(l=>(l.fromUserId===this.currentUser.uid||l.toUserId===this.currentUser.uid)&&l.status!=="cancelled").forEach(l=>{let u=l.fromUserId===this.currentUser.uid,m=u?l.toUserId:l.fromUserId,b=this.getMemberName(m);n.push({fromUserId:l.fromUserId,fromUserName:this.getMemberName(l.fromUserId),toUserId:l.toUserId,toUserName:this.getMemberName(l.toUserId),amount:l.amount,currency:l.currency,status:l.status,isInvolvingCurrentUser:!0,isFromCurrentUser:u,otherUserName:b})}),n}getPendingSettlementsCount(){return this.settlements.filter(n=>n.status==="pending").length}getCompletedSettlementsCount(){return this.settlements.filter(n=>n.status==="completed").length}getCompletedSettlements(){return this.settlements.filter(n=>n.status==="completed")}getTransactionCreatorName(n){return this.getMemberName(n.createdBy)}getTransactionTitle(n){return`Transaction (${n.splits.length} members)`}getTotalTransactionAmount(){return this.transactions.reduce((n,r)=>n+r.totalAmount,0)}getTransactionCount(){return this.transactions.length}getSettlementCount(){return this.settlements.length}getMemberName(n){if(!this.group)return"Unknown";let r=this.group.members.find(a=>a.userId===n);return(r==null?void 0:r.displayName)||"Unknown"}toggleMembers(){var n;this.router.navigate(["dashboard/splitwise/members",(n=this.group)==null?void 0:n.id])}addTransaction(){var n;this.router.navigate(["dashboard/transactions"],{queryParams:{splitGroupId:(n=this.group)==null?void 0:n.id,returnUrl:this.router.url}})}openEditTransactionDialog(n){if(!this.group)return;this.dialog.open(xd,{width:"700px",maxWidth:"90vw",maxHeight:"90vh",data:{transaction:n,groupMembers:this.group.members},disableClose:!0,panelClass:"edit-transaction-dialog"}).afterClosed().subscribe(a=>{a&&this.splitwiseService.updateSplitTransaction(n.id,{amount:a.totalAmount,splits:a.splits}).then(()=>{this.notificationService.success("Transaction updated successfully"),this.reloadData()}).catch(l=>{console.error("Error updating transaction:",l),this.notificationService.error("Failed to update transaction")})})}};t.\u0275fac=function(r){return new(r||t)(T(wr),T(fn),T(kt),T(jt),T(ce),T(Re),T(wn),T(Yn))},t.\u0275cmp=ut({type:t,selectors:[["app-group-details"]],decls:4,vars:3,consts:[["groupMenu","matMenu"],[1,"group-details-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header"],[1,"header-content"],[1,"header-navigation"],["mat-icon-button","","aria-label","Go back",1,"back-btn","!z-[999]",3,"click"],[3,"click"],[1,"group-title"],["mat-icon-button","","aria-label","More options",1,"more-actions-btn",3,"matMenuTriggerFor"],[1,"header-actions"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],[1,"stats-section"],[1,"stats-card"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-content",3,"click"],[1,"stat-value"],[1,"stat-label"],[1,"stat-content"],["class","balances-section",4,"ngIf"],["class","settlement-suggestions",4,"ngIf"],[1,"transactions-section"],[1,"transactions-card"],["class","transactions-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","settlements-section",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"],[1,"balances-section"],[1,"balances-card"],[1,"balances-list"],["class","balance-item",3,"current-user",4,"ngFor","ngForOf"],["class","detailed-balances",4,"ngIf"],[1,"balance-item"],[1,"balance-info"],[1,"member-name"],["class","current-user-badge",4,"ngIf"],[1,"balance-details"],[1,"paid"],[1,"owed"],[1,"net-balance"],["class","status-indicator",4,"ngIf"],[1,"current-user-badge"],[1,"status-indicator"],[1,"detailed-balances"],[1,"breakdown-list"],["class","breakdown-item",3,"class",4,"ngFor","ngForOf"],["class","no-breakdown",4,"ngIf"],[1,"breakdown-item"],[1,"breakdown-info"],[1,"breakdown-message"],[1,"breakdown-amount"],[1,"no-breakdown"],[1,"settlement-suggestions"],[1,"suggestions-card"],[1,"suggestions-list"],["class","suggestion-item",3,"class",4,"ngFor","ngForOf"],[1,"suggestion-item"],[1,"suggestion-info"],[1,"suggestion-message"],[1,"message-text"],[1,"settlement-parties"],[1,"from-user"],[1,"to-user"],[1,"settlement-amount"],["mat-raised-button","","size","small",3,"click","color","disabled"],[1,"transactions-list"],["class","transaction-item simple",3,"click",4,"ngFor","ngForOf"],[1,"transaction-item","simple",3,"click"],[1,"transaction-main"],[1,"transaction-info"],[1,"transaction-title"],[1,"transaction-meta"],[1,"paid-by"],[1,"transaction-date"],[1,"transaction-amount"],[1,"empty-state"],[1,"empty-icon"],["mat-raised-button","","color","primary",3,"click"],[1,"settlements-section"],[1,"settlements-card"],[1,"settlements-list"],["class","settlement-item",4,"ngFor","ngForOf"],[1,"settlement-item"],[1,"settlement-info"],["class","settlement-date",4,"ngIf"],[1,"settlement-date"],[1,"error-state"],[1,"error-icon"]],template:function(r,a){r&1&&(g(0,"div",1),U(1,xg,4,0,"div",2)(2,zg,54,14,"div",3)(3,Gg,11,0,"div",4),f()),r&2&&(I(),S("ngIf",a.isLoading),I(),S("ngIf",!a.isLoading&&a.group),I(),S("ngIf",!a.isLoading&&!a.group))},dependencies:[De,At,En,Sn,An,Rr,Tn,Nr,Gt,Xt,Dt,Ne,kr,Ar,Dr,Fs,Fd,Ud,Ld,Pr],styles:[".group-details-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:24px;min-height:100vh;background:#fafafa}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px;text-align:center;padding:40px 20px}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#e0e0e0}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:18px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 24px;font-size:14px;line-height:1.5}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;font-weight:500;font-size:14px;border-radius:6px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#fff;border-radius:8px;margin-bottom:24px;box-shadow:0 1px 3px #0000001a;padding:20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:20px;padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:16px;padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease;border-radius:50%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#333;background-color:#f5f5f5}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#333;line-height:1.2}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease;border-radius:50%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]:hover{color:#333;background-color:#f5f5f5}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:flex;gap:1px;background:#f0f0f0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{flex-direction:column}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;background:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{text-align:center;cursor:pointer;padding:24px 16px;transition:background-color .2s ease;width:100%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]:hover{background-color:#fafafa}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-bottom:4px;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:#666;font-weight:400;text-transform:uppercase;letter-spacing:.5px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]{background-color:#f8f9fa;border-left:3px solid #333;padding-left:16px;margin:0 -16px 0 0;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]   .current-user-badge[_ngcontent-%COMP%]{background:#333;color:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#333;margin-bottom:2px;display:flex;align-items:center;gap:8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]   .current-user-badge[_ngcontent-%COMP%]{background:#666;color:#fff;padding:1px 6px;border-radius:4px;font-size:10px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]   .paid[_ngcontent-%COMP%]{color:#666;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]   .owed[_ngcontent-%COMP%]{color:#666;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]{font-weight:600;font-size:14px;text-align:right}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.positive[_ngcontent-%COMP%]{color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.negative[_ngcontent-%COMP%]{color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.neutral[_ngcontent-%COMP%]{color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{display:block;font-size:10px;font-weight:400;margin-top:2px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.you_owe[_ngcontent-%COMP%]{border-left:3px solid #ff6b6b}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.owed_to_you[_ngcontent-%COMP%]{border-left:3px solid #51cf66}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.others[_ngcontent-%COMP%]{border-left:3px solid #ffd43b}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#333;margin-bottom:2px;display:flex;align-items:center;gap:8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]{font-size:10px;font-weight:500;padding:1px 6px;border-radius:4px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status.pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status.completed[_ngcontent-%COMP%]{background:#d1edff;color:#0c5460}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;color:#666;margin-bottom:2px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px;color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;font-weight:500;font-size:12px;transition:all .2s ease;min-width:80px;height:32px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){transform:none;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px;font-size:14px;width:14px;height:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;padding:12px 0;background-color:#fff;transition:background-color .2s ease;cursor:pointer}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]{flex:1;min-width:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-title[_ngcontent-%COMP%]{font-weight:500;color:#333;margin-bottom:2px;font-size:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:12px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .paid-by[_ngcontent-%COMP%]{font-weight:400;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333;white-space:nowrap}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#e0e0e0;margin-bottom:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:20px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;font-weight:500;padding:10px 20px;font-size:14px;transition:all .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:none;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;color:#666;margin-bottom:2px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px;color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333;margin-bottom:2px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-date[_ngcontent-%COMP%]{font-size:11px;color:#999;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]{margin-top:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #f0f0f0;border-radius:6px;background:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header{padding:12px 16px;background:#fafafa;border-radius:6px 6px 0 0;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-expansion-panel-header-title{font-weight:500;color:#333;display:flex;align-items:center;gap:8px;font-size:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-expansion-panel-header-description{color:#666;font-size:12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header mat-icon{color:#666;font-size:16px;width:16px;height:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:16px;background:#fff;border-radius:0 0 6px 6px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f8f8f8;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;border-radius:4px;padding-left:8px;padding-right:8px;margin:0 -8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owes[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owes[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{color:#ff6b6b;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owed[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#51cf66}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owed[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{color:#51cf66;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   .breakdown-message[_ngcontent-%COMP%]{font-size:13px;color:#333;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .no-breakdown[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;color:#51cf66;font-weight:500;background:#f8f9fa;border-radius:4px;border:1px solid #e9ecef}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .no-breakdown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#51cf66;font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#ff6b6b}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#fff5f5}"]});let i=t;return i})();function qg(i,t){if(i&1&&tt(0,"img",16),i&2){let o=k().$implicit;S("src",o.photoURL,vr)("alt",o.displayName)}}function $g(i,t){i&1&&(g(0,"mat-icon"),v(1,"person"),f())}function Kg(i,t){if(i&1&&(g(0,"div",7)(1,"div",8)(2,"div",9),U(3,qg,1,2,"img",10)(4,$g,2,0,"mat-icon",11),f(),g(5,"div",12)(6,"span",13),v(7),f(),g(8,"span",14),v(9),f(),g(10,"span",15),v(11),f()()()()),i&2){let o=t.$implicit;I(3),S("ngIf",o.photoURL),I(),S("ngIf",!o.photoURL),I(3),X(o.displayName),I(2),X(o.email),I(2),X(o.role)}}var zd=(()=>{let t=class t{constructor(){this.isMobile=!1,this.addMember=new Ct,this.Math=Math}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}getGroupMemberCount(){var n;return((n=this.group)==null?void 0:n.members.filter(r=>r.isActive).length)||0}getPositiveBalanceMembers(){return this.group?[]:[]}getNegativeBalanceMembers(){return this.group?[]:[]}getNeutralBalanceMembers(){return this.group?[]:[]}onAddMember(){this.addMember.emit()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ut({type:t,selectors:[["app-members"]],inputs:{group:"group",isMobile:"isMobile"},outputs:{addMember:"addMember"},decls:18,vars:2,consts:[[1,"members-container"],[1,"members-section"],[1,"members-card"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"add-member-section"],["mat-stroked-button","","color","primary",3,"click"],[1,"member-item"],[1,"member-info"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],[1,"member-role"],[3,"src","alt"]],template:function(r,a){r&1&&(g(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title")(5,"mat-icon"),v(6,"people"),f(),v(7," Members "),f(),g(8,"mat-card-subtitle"),v(9),f()(),g(10,"mat-card-content")(11,"div",3),U(12,Kg,12,5,"div",4),f()()()(),g(13,"div",5)(14,"button",6),L("click",function(){return a.onAddMember()}),g(15,"mat-icon"),v(16,"person_add"),f(),v(17," Add Member "),f()()()),r&2&&(I(9),q(" ",a.getGroupMemberCount()," active members "),I(3),S("ngForOf",a.group.members))},dependencies:[De,At,En,Sn,An,Rr,Tn,Gt,Dt],styles:[".members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:12px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:11px;color:#1976d2;text-transform:uppercase;letter-spacing:.5px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]   .positive-icon[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]{border-left:4px solid #f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]   .negative-icon[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]{border-left:4px solid #666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]   .neutral-icon[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px 0}@media (max-width: 768px){.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:12px 0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:11px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:10px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let i=t;return i})();function Qg(i,t){i&1&&(g(0,"div",4),tt(1,"mat-spinner",5),g(2,"p"),v(3,"Loading group members..."),f()())}function Wg(i,t){if(i&1){let o=at();g(0,"div",6)(1,"div",7)(2,"button",8),L("click",function(){K(o);let r=k();return H(r.goBack())}),g(3,"mat-icon"),v(4,"arrow_back"),f()()(),g(5,"app-members",9),L("addMember",function(){K(o);let r=k();return H(r.openAddMemberDialog())}),f()()}if(i&2){let o=k();I(5),S("group",o.group)("isMobile",o.isMobile)}}function Yg(i,t){if(i&1){let o=at();g(0,"div",10)(1,"mat-icon",11),v(2,"error"),f(),g(3,"h3"),v(4,"Group Not Found"),f(),g(5,"p"),v(6,"The group you're looking for doesn't exist or you don't have access to it."),f(),g(7,"button",12),L("click",function(){K(o);let r=k();return H(r.goBack())}),v(8," Go Back "),f()()}}var Gd=(()=>{let t=class t{constructor(n,r,a,l,u,m,b){this.route=n,this.router=r,this.auth=a,this.store=l,this.dialog=u,this.notificationService=m,this.breakpointObserver=b,this.group=null,this.isLoading=!1,this.error=null,this.currentUser=null,this.isMobile=!1,this.destroy$=new te,this.breakpointObserver.observe([xn.Handset]).pipe(fe(this.destroy$)).subscribe(x=>{this.isMobile=x.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(zn).pipe(fe(this.destroy$)).subscribe(n=>{this.isLoading=n.loading,this.error=n.error;let r=this.route.snapshot.paramMap.get("id");r&&(this.group=n.groups.find(a=>a.id===r)||null,!this.group&&!this.isLoading&&this.store.dispatch(Pe({groupId:r}))),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Ue()))})}loadGroupDetails(){let n=this.route.snapshot.paramMap.get("id");n&&this.store.dispatch(Pe({groupId:n}))}goBack(){this.group?this.router.navigate(["dashboard/splitwise/group",this.group.id]):this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(Wn,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(r=>{r&&(r.action==="delete"?this.store.dispatch(Le({groupId:this.group.id,userId:r.userId})):this.store.dispatch(le({groupId:this.group.id,request:r})))})}};t.\u0275fac=function(r){return new(r||t)(T(wr),T(fn),T(kt),T(jt),T(ce),T(Re),T(wn))},t.\u0275cmp=ut({type:t,selectors:[["app-members-page"]],decls:4,vars:3,consts:[[1,"members-page-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header-actions"],["mat-icon-button","",1,"back-btn",3,"click"],[3,"addMember","group","isMobile"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","primary",3,"click"]],template:function(r,a){r&1&&(g(0,"div",0),U(1,Qg,4,0,"div",1)(2,Wg,6,2,"div",2)(3,Yg,9,0,"div",3),f()),r&2&&(I(),S("ngIf",a.isLoading),I(),S("ngIf",!a.isLoading&&a.group),I(),S("ngIf",!a.isLoading&&!a.group))},dependencies:[At,Gt,Xt,Dt,Ne,zd],styles:[".members-page-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh;background:#f5f5f5}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px;text-align:center}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:24px;box-shadow:0 2px 8px #0000001a}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1976d2}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex:1}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 4px;font-size:24px;font-weight:600;color:#333}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}@media (max-width: 768px){.members-page-container[_ngcontent-%COMP%]{padding:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{width:100%}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}}"]});let i=t;return i})();var Xg=[{path:"",component:bd},{path:"group/:id",component:jd},{path:"members/:id",component:Gd}],qd=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t}),t.\u0275inj=Et({imports:[yi.forChild(Xg),yi]});let i=t;return i})();var $d=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t}),t.\u0275inj=Et({imports:[wc,Mr,Ye,Ir,Ec,Vr]});let i=t;return i})();var Jg={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},_o="__@ngrx/effects_create__";function Ft(i,t={}){let o=t.functional?i:i(),n=A(A({},Jg),t);return Object.defineProperty(o,_o,{value:n}),o}function Zg(i){return Object.getOwnPropertyNames(i).filter(n=>i[n]&&i[n].hasOwnProperty(_o)?i[n][_o].hasOwnProperty("dispatch"):!1).map(n=>{let r=i[n][_o];return A({propertyName:n},r)})}function tp(i){return Zg(i)}function Wd(i){return Object.getPrototypeOf(i)}function ep(i){return!!i.constructor&&i.constructor.name!=="Object"&&i.constructor.name!=="Function"}function Yd(i){return typeof i=="function"}function Kd(i){return i.filter(Yd)}function np(i){return i instanceof bt||Yd(i)}function ip(i,t,o){let n=Wd(i),a=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,l=tp(i).map(({propertyName:u,dispatch:m,useEffectsErrorHandler:b})=>{let x=typeof i[u]=="function"?i[u]():i[u],N=b?o(x,t):x;return m===!1?N.pipe(qa()):N.pipe(Ha()).pipe(nt(R=>({effect:i[u],notification:R,propertyName:u,sourceName:a,sourceInstance:i})))});return fi(...l)}var rp=10;function Xd(i,t,o=rp){return i.pipe(pt(n=>(t&&t.handleError(n),o<=1?i:Xd(i,t,o-1))))}var Jd=(()=>{let t=class t extends ja{constructor(n){super(),n&&(this.source=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}};t.\u0275fac=function(r){return new(r||t)(it(_c))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function Lt(...i){return pe(t=>i.some(o=>typeof o=="string"?o===t.type:o.type===t.type))}var Zd=new bt("@ngrx/effects Internal Root Guard"),fo=new bt("@ngrx/effects User Provided Effects"),Ls=new bt("@ngrx/effects Internal Root Effects"),tu=new bt("@ngrx/effects Internal Root Effects Instances"),Hd=new bt("@ngrx/effects Internal Feature Effects"),eu=new bt("@ngrx/effects Internal Feature Effects Instance Groups"),op=new bt("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Xd}),nu="@ngrx/effects/init",Fb=B(nu);function sp(i,t){if(i.notification.kind==="N"){let o=i.notification.value;!ap(o)&&t.handleError(new Error(`Effect ${cp(i)} dispatched an invalid action: ${lp(o)}`))}}function ap(i){return typeof i!="function"&&i&&i.type&&typeof i.type=="string"}function cp({propertyName:i,sourceInstance:t,sourceName:o}){let n=typeof t[i]=="function";return!!o?`"${o}.${String(i)}${n?"()":""}"`:`"${String(i)}()"`}function lp(i){try{return JSON.stringify(i)}catch{return i}}var dp="ngrxOnIdentifyEffects";function up(i){return Us(i,dp)}var mp="ngrxOnRunEffects";function hp(i){return Us(i,mp)}var gp="ngrxOnInitEffects";function pp(i){return Us(i,gp)}function Us(i,t){return i&&t in i&&typeof i[t]=="function"}var iu=(()=>{let t=class t extends te{constructor(n,r){super(),this.errorHandler=n,this.effectsErrorHandler=r}addEffects(n){this.next(n)}toActions(){return this.pipe(Go(n=>ep(n)?Wd(n):n),Z(n=>n.pipe(Go(fp))),Z(n=>{let r=n.pipe(Ka(l=>_p(this.errorHandler,this.effectsErrorHandler)(l)),nt(l=>(sp(l,this.errorHandler),l.notification)),pe(l=>l.kind==="N"&&l.value!=null),$a()),a=n.pipe(fr(1),pe(pp),nt(l=>l.ngrxOnInitEffects()));return fi(r,a)}))}};t.\u0275fac=function(r){return new(r||t)(it(Ya),it(op))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function fp(i){return up(i)?i.ngrxOnIdentifyEffects():""}function _p(i,t){return o=>{let n=ip(o,i,t);return hp(o)?o.ngrxOnRunEffects(n):n}}var ru=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(n,r){this.effectSources=n,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(it(iu),it(jt))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),ou=(()=>{let t=class t{constructor(n,r,a,l,u,m,b){this.sources=n,r.start();for(let x of l)n.addEffects(x);a.dispatch({type:nu})}addEffects(n){this.sources.addEffects(n)}};t.\u0275fac=function(r){return new(r||t)(it(iu),it(ru),it(jt),it(tu),it(Yo,8),it(Xo,8),it(Zd,8))},t.\u0275mod=Tt({type:t}),t.\u0275inj=Et({});let i=t;return i})(),bp=(()=>{let t=class t{constructor(n,r,a,l){let u=r.flat();for(let m of u)n.addEffects(m)}};t.\u0275fac=function(r){return new(r||t)(it(ou),it(eu),it(Yo,8),it(Xo,8))},t.\u0275mod=Tt({type:t}),t.\u0275inj=Et({});let i=t;return i})(),su=(()=>{let t=class t{static forFeature(...n){let r=n.flat(),a=Kd(r);return{ngModule:bp,providers:[a,{provide:Hd,multi:!0,useValue:r},{provide:fo,multi:!0,useValue:[]},{provide:eu,multi:!0,useFactory:Qd,deps:[Hd,fo]}]}}static forRoot(...n){let r=n.flat(),a=Kd(r);return{ngModule:ou,providers:[a,{provide:Ls,useValue:[r]},{provide:Zd,useFactory:Cp},{provide:fo,multi:!0,useValue:[]},{provide:tu,useFactory:Qd,deps:[Ls,fo]}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t}),t.\u0275inj=Et({});let i=t;return i})();function Qd(i,t){let o=[];for(let n of i)o.push(...n);for(let n of t)o.push(...n);return o.map(n=>np(n)?_r(n):n)}function Cp(){let i=_r(ru,{optional:!0,skipSelf:!0}),t=_r(Ls,{self:!0});if(!(t.length===1&&t[0].length===0)&&i)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var au={groups:[],invitations:[],transactions:[],settlements:[],selectedGroup:null,loading:!1,error:null};var cu=Cc(au,j(Vn,i=>F(A({},i),{loading:!0,error:null})),j(Fr,(i,{groups:t})=>F(A({},i),{groups:t,loading:!1,error:null})),j(Ti,(i,{error:t})=>F(A({},i),{loading:!1,error:t})),j(Pe,i=>F(A({},i),{loading:!0,error:null})),j(Lr,(i,{group:t})=>F(A({},i),{groups:i.groups.find(o=>o.id===t.id)?i.groups.map(o=>o.id===t.id?t:o):[...i.groups,t],selectedGroup:t,loading:!1,error:null})),j(Si,(i,{error:t})=>F(A({},i),{loading:!1,error:t})),j(Fn,i=>F(A({},i),{loading:!0,error:null})),j(Ur,(i,{invitations:t})=>F(A({},i),{invitations:t,loading:!1,error:null})),j(Ai,(i,{error:t})=>F(A({},i),{loading:!1,error:t})),j(Ln,i=>F(A({},i),{loading:!0,error:null})),j(Br,(i,{group:t})=>F(A({},i),{groups:[...i.groups,t],loading:!1,error:null})),j(ki,(i,{error:t})=>F(A({},i),{loading:!1,error:t})),j(le,i=>F(A({},i),{loading:!0,error:null})),j(jr,(i,{group:t})=>F(A({},i),{groups:i.groups.map(o=>o.id===t.id?t:o),loading:!1,error:null})),j(Di,(i,{error:t})=>F(A({},i),{loading:!1,error:t})),j(Un,i=>F(A({},i),{loading:!0,error:null})),j(zr,(i,{invitationId:t})=>F(A({},i),{invitations:i.invitations.filter(o=>o.id!==t),loading:!1,error:null})),j(Ri,(i,{error:t})=>F(A({},i),{loading:!1,error:t})),j(Bn,i=>F(A({},i),{loading:!0,error:null})),j(Gr,(i,{invitationId:t})=>F(A({},i),{invitations:i.invitations.filter(o=>o.id!==t),loading:!1,error:null})),j(Ni,(i,{error:t})=>F(A({},i),{loading:!1,error:t})),j(Fe,i=>F(A({},i),{loading:!0,error:null})),j(qr,(i,{groupId:t})=>{var o;return F(A({},i),{groups:i.groups.filter(n=>n.id!==t),selectedGroup:((o=i.selectedGroup)==null?void 0:o.id)===t?null:i.selectedGroup,loading:!1,error:null})}),j(Vi,(i,{error:t})=>F(A({},i),{loading:!1,error:t})),j(bl,(i,{group:t})=>F(A({},i),{selectedGroup:t})),j(nn,i=>F(A({},i),{loading:!0,error:null})),j($r,(i,{transactions:t})=>F(A({},i),{transactions:t,loading:!1,error:null})),j(Fi,(i,{error:t})=>F(A({},i),{loading:!1,error:t})),j(rn,i=>F(A({},i),{loading:!0,error:null})),j(Kr,(i,{settlements:t})=>F(A({},i),{settlements:t,loading:!1,error:null})),j(Li,(i,{error:t})=>F(A({},i),{loading:!1,error:t})),j(Hr,i=>F(A({},i),{loading:!0,error:null})),j(Qr,(i,{transaction:t})=>F(A({},i),{transactions:[...i.transactions,t],loading:!1,error:null})),j(Ui,(i,{error:t})=>F(A({},i),{loading:!1,error:t})),j(Wr,i=>F(A({},i),{loading:!0,error:null})),j(Yr,(i,{transaction:t})=>F(A({},i),{transactions:i.transactions.map(o=>o.id===t.id?t:o),loading:!1,error:null})),j(Bi,(i,{error:t})=>F(A({},i),{loading:!1,error:t})),j(jn,i=>F(A({},i),{loading:!0,error:null})),j(Xr,(i,{settlement:t})=>F(A({},i),{settlements:[...i.settlements,t],loading:!1,error:null})),j(ji,(i,{error:t})=>F(A({},i),{loading:!1,error:t})),j(Le,i=>F(A({},i),{loading:!0,error:null})),j(Jr,(i,{groupId:t})=>F(A({},i),{loading:!1,error:null})),j(zi,(i,{error:t})=>F(A({},i),{loading:!1,error:t})),j(Ue,i=>F(A({},i),{error:null})));var lu=(()=>{let t=class t{constructor(n,r,a,l,u){this.actions$=n,this.splitwiseService=r,this.userService=a,this.store=l,this.auth=u,this.loadGroups$=Ft(()=>this.actions$.pipe(Lt(Vn),Z(()=>J(this.userService.getCurrentUser()).pipe(Z(m=>m!=null&&m.uid?this.splitwiseService.getUserGroups(m.uid).pipe(nt(b=>Fr({groups:b||[]})),pt(b=>$(Ti({error:b.message})))):$(Ti({error:"User not authenticated"}))))))),this.loadGroupById$=Ft(()=>this.actions$.pipe(Lt(Pe),Z(m=>J(this.splitwiseService.getGroupById(m.groupId)).pipe(nt(b=>b?Lr({group:b}):Si({error:"Group not found"})),pt(b=>$(Si({error:b.message}))))))),this.loadInvitations$=Ft(()=>this.actions$.pipe(Lt(Fn),Z(()=>J(this.userService.getCurrentUser()).pipe(Z(m=>m!=null&&m.uid?this.splitwiseService.getUserInvitations(m.uid).pipe(nt(b=>Ur({invitations:b||[]})),pt(b=>$(Ai({error:b.message})))):$(Ai({error:"User not authenticated"}))))))),this.createGroup$=Ft(()=>this.actions$.pipe(Lt(Ln),Z(m=>J(this.userService.getCurrentUser()).pipe(Z(b=>b!=null&&b.uid?this.splitwiseService.createGroup(m.request,b.uid).pipe(nt(x=>Br({group:x})),pt(x=>$(ki({error:x.message})))):$(ki({error:"User not authenticated"}))))))),this.addMember$=Ft(()=>this.actions$.pipe(Lt(le),Z(m=>J(this.userService.getCurrentUser()).pipe(Z(b=>b!=null&&b.uid?J(this.splitwiseService.addMemberToGroup(m.groupId,m.request,b.uid)).pipe(nt(x=>jr({group:x})),pt(x=>$(Di({error:x.message})))):$(Di({error:"User not authenticated"}))))))),this.acceptInvitation$=Ft(()=>this.actions$.pipe(Lt(Un),Z(m=>J(this.userService.getCurrentUser()).pipe(Z(b=>b!=null&&b.uid?J(this.splitwiseService.acceptInvitation(m.invitationId,b.uid)).pipe(nt(()=>zr({invitationId:m.invitationId})),pt(x=>$(Ri({error:x.message})))):$(Ri({error:"User not authenticated"}))))))),this.declineInvitation$=Ft(()=>this.actions$.pipe(Lt(Bn),Z(m=>J(this.userService.getCurrentUser()).pipe(Z(b=>b!=null&&b.uid?J(this.splitwiseService.declineInvitation(m.invitationId,b.uid)).pipe(nt(()=>Gr({invitationId:m.invitationId})),pt(x=>$(Ni({error:x.message})))):$(Ni({error:"User not authenticated"}))))))),this.deleteGroup$=Ft(()=>this.actions$.pipe(Lt(Fe),Z(m=>J(this.userService.getCurrentUser()).pipe(Z(b=>b!=null&&b.uid?this.splitwiseService.deleteGroup(m.groupId,b.uid).pipe(nt(()=>qr({groupId:m.groupId})),pt(x=>$(Vi({error:x.message})))):$(Vi({error:"User not authenticated"}))))))),this.loadTransactions$=Ft(()=>this.actions$.pipe(Lt(nn),Z(m=>J(this.userService.getCurrentUser()).pipe(Z(b=>b!=null&&b.uid?this.splitwiseService.getGroupTransactions(m.groupId,b.uid).pipe(nt(x=>$r({transactions:x||[]})),pt(x=>$(Fi({error:x.message})))):$(Fi({error:"User not authenticated"}))))))),this.loadSettlements$=Ft(()=>this.actions$.pipe(Lt(rn),Z(m=>J(this.userService.getCurrentUser()).pipe(Z(b=>b!=null&&b.uid?this.splitwiseService.getGroupSettlements(m.groupId,b.uid).pipe(nt(x=>Kr({settlements:x||[]})),pt(x=>$(Li({error:x.message})))):$(Li({error:"User not authenticated"}))))))),this.createSplitTransaction$=Ft(()=>this.actions$.pipe(Lt(Hr),Z(m=>J(this.userService.getCurrentUser()).pipe(Z(b=>b!=null&&b.uid?this.splitwiseService.createSplitTransaction(m.request,b.uid).pipe(nt(x=>Qr({transaction:x})),pt(x=>$(Ui({error:x.message})))):$(Ui({error:"User not authenticated"}))))))),this.updateSplitTransaction$=Ft(()=>this.actions$.pipe(Lt(Wr),Z(m=>J(this.userService.getCurrentUser()).pipe(Z(b=>b!=null&&b.uid?J(this.splitwiseService.updateSplitTransaction(m.transactionId,m.updates)).pipe(nt(()=>Yr({transaction:{id:m.transactionId}})),pt(x=>$(Bi({error:x.message})))):$(Bi({error:"User not authenticated"}))))))),this.createSettlement$=Ft(()=>this.actions$.pipe(Lt(jn),Z(m=>J(this.userService.getCurrentUser()).pipe(Z(b=>{if(!(b!=null&&b.uid))return $(ji({error:"User not authenticated"}));let x={groupId:m.groupId,fromUserId:m.fromUserId,toUserId:m.toUserId,amount:m.amount,notes:m.notes};return J(this.splitwiseService.createSettlement(x)).pipe(nt(N=>Xr({settlement:{id:N}})),pt(N=>$(ji({error:N.message}))))}))))),this.removeMember$=Ft(()=>this.actions$.pipe(Lt(Le),Z(m=>J(this.userService.getCurrentUser()).pipe(Z(b=>b!=null&&b.uid?J(this.splitwiseService.removeMemberFromGroup(m.groupId,m.userId,b.uid)).pipe(nt(()=>Jr({groupId:m.groupId})),pt(x=>$(zi({error:x.message})))):$(zi({error:"User not authenticated"})))))))}};t.\u0275fac=function(r){return new(r||t)(it(Jd),it(Yn),it(On),it(jt),it(kt))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac});let i=t;return i})();function vp(i,t){if(i&1&&(g(0,"div",0)(1,"div",1),tt(2,"div",2),g(3,"p",3),v(4),f()()()),i&2){let o=k();I(4),X(o.message)}}var Yb=(()=>{let t=class t{constructor(n){this.loaderService=n,this.message="Loading...",this.loading$=this.loaderService.loading$}};t.\u0275fac=function(r){return new(r||t)(T(Wc))},t.\u0275cmp=ut({type:t,selectors:[["app-loader"]],inputs:{message:"message"},standalone:!0,features:[ke],decls:2,vars:3,consts:[[1,"loader-overlay"],[1,"loader"],[1,"spinner"],[1,"loader-message"]],template:function(r,a){r&1&&(U(0,vp,5,1,"div",0),be(1,"async")),r&2&&yt(pn(1,1,a.loading$)?0:-1)},dependencies:[sc],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#f9fafbf2;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9999}.loader[_ngcontent-%COMP%]{background:transparent;border-radius:1rem;padding:2rem;max-width:300px;width:90%;text-align:center;display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-top:4px solid #46777f;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loader-message[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:500;font-size:1.125rem;color:#1f2937;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.loader[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem}.loader-message[_ngcontent-%COMP%]{font-size:1rem}}"]});let i=t;return i})();var du=(()=>{let t=class t{constructor(){this.currentLanguage=new za("en"),this.translations={loading:{en:"Loading...",hi:"\u0932\u094B\u0921 \u0939\u094B \u0930\u0939\u093E \u0939\u0948..."},error:{en:"Error",hi:"\u0924\u094D\u0930\u0941\u091F\u093F"},success:{en:"Success",hi:"\u0938\u092B\u0932\u0924\u093E"},cancel:{en:"Cancel",hi:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902"},save:{en:"Save",hi:"\u0938\u0939\u0947\u091C\u0947\u0902"},delete:{en:"Delete",hi:"\u0939\u091F\u093E\u090F\u0902"},edit:{en:"Edit",hi:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},add:{en:"Add",hi:"\u091C\u094B\u0921\u093C\u0947\u0902"},close:{en:"Close",hi:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902"},logout:{en:"Logout",hi:"\u0932\u0949\u0917\u0906\u0909\u091F"},login:{en:"Login",hi:"\u0932\u0949\u0917\u093F\u0928"},signup:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},email:{en:"Email",hi:"\u0908\u092E\u0947\u0932"},password:{en:"Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921"},name:{en:"Name",hi:"\u0928\u093E\u092E"},amount:{en:"Amount",hi:"\u0930\u093E\u0936\u093F"},date:{en:"Date",hi:"\u0924\u093E\u0930\u0940\u0916"},category:{en:"Category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940"},type:{en:"Type",hi:"\u092A\u094D\u0930\u0915\u093E\u0930"},income:{en:"Income",hi:"\u0906\u092F"},expense:{en:"Expense",hi:"\u0916\u0930\u094D\u091A"},total:{en:"Total",hi:"\u0915\u0941\u0932"},balance:{en:"Balance",hi:"\u0936\u0947\u0937 \u0930\u093E\u0936\u093F"},actions:{en:"Actions",hi:"\u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},search:{en:"Search",hi:"\u0916\u094B\u091C\u0947\u0902"},filter:{en:"Filter",hi:"\u092B\u093C\u093F\u0932\u094D\u091F\u0930"},clear:{en:"Clear",hi:"\u0938\u093E\u092B\u093C \u0915\u0930\u0947\u0902"},settings:{en:"Settings",hi:"\u0938\u0947\u091F\u093F\u0902\u0917\u094D\u0938"},dashboard:{en:"Dashboard",hi:"\u0921\u0948\u0936\u092C\u094B\u0930\u094D\u0921"},home:{en:"Home",hi:"\u0939\u094B\u092E"},accounts:{en:"Accounts",hi:"\u0916\u093E\u0924\u0947"},transactions:{en:"Transactions",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928"},categories:{en:"Categories",hi:"\u0936\u094D\u0930\u0947\u0923\u093F\u092F\u093E\u0902"},budgets:{en:"Budgets",hi:"\u092C\u091C\u091F"},goals:{en:"Goals",hi:"\u0932\u0915\u094D\u0937\u094D\u092F"},reports:{en:"Reports",hi:"\u0930\u093F\u092A\u094B\u0930\u094D\u091F\u094D\u0938"},calendar:{en:"Calendar",hi:"\u0915\u0948\u0932\u0947\u0902\u0921\u0930"},notes:{en:"Notes",hi:"\u0928\u094B\u091F\u094D\u0938"},tax:{en:"Tax",hi:"\u0915\u0930"},tools:{en:"Tools",hi:"\u0909\u092A\u0915\u0930\u0923"},moneyManager:{en:`${ee.APP_NAME}`,hi:"\u092E\u0928\u0940 \u092E\u0948\u0928\u0947\u091C\u0930"},manageFinances:{en:"Manage your finances",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0915\u0930\u0947\u0902"},welcomeBack:{en:"Welcome Back!",hi:"\u0935\u093E\u092A\u0938\u0940 \u092A\u0930 \u0938\u094D\u0935\u093E\u0917\u0924 \u0939\u0948!"},youSpend:{en:"You Spend",hi:"\u0906\u092A\u0915\u093E \u0916\u0930\u094D\u091A"},youEarn:{en:"You Earn",hi:"\u0906\u092A\u0915\u0940 \u0915\u092E\u093E\u0908"},netBalance:{en:"Net Balance",hi:"\u0936\u0941\u0926\u094D\u0927 \u0936\u0947\u0937"},thisMonth:{en:"This Month",hi:"\u0907\u0938 \u092E\u0939\u0940\u0928\u0947"},lastMonth:{en:"Last Month",hi:"\u092A\u093F\u091B\u0932\u0947 \u092E\u0939\u0940\u0928\u0947"},quickActions:{en:"Quick Actions",hi:"\u0924\u094D\u0935\u0930\u093F\u0924 \u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},recentTransactions:{en:"Recent Transactions",hi:"\u0939\u093E\u0932 \u0915\u0947 \u0932\u0947\u0928-\u0926\u0947\u0928"},upcomingBills:{en:"Upcoming Bills",hi:"\u0906\u0917\u093E\u092E\u0940 \u092C\u093F\u0932"},savingsGoal:{en:"Savings Goal",hi:"\u092C\u091A\u0924 \u0932\u0915\u094D\u0937\u094D\u092F"},signIn:{en:"Sign In",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928"},signUp:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},signOut:{en:"Sign Out",hi:"\u0938\u093E\u0907\u0928 \u0906\u0909\u091F"},forgotPassword:{en:"Forgot Password?",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092D\u0942\u0932 \u0917\u090F?"},resetPassword:{en:"Reset Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0930\u0940\u0938\u0947\u091F \u0915\u0930\u0947\u0902"},emailPlaceholder:{en:"Enter your email",hi:"\u0905\u092A\u0928\u093E \u0908\u092E\u0947\u0932 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},passwordPlaceholder:{en:"Enter your password",hi:"\u0905\u092A\u0928\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},confirmPassword:{en:"Confirm Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0915\u0940 \u092A\u0941\u0937\u094D\u091F\u093F \u0915\u0930\u0947\u0902"},namePlaceholder:{en:"Enter your name",hi:"\u0905\u092A\u0928\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},loginSuccess:{en:"Successfully signed in",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},loginError:{en:"Failed to sign in",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},signupSuccess:{en:"Successfully signed up",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},signupError:{en:"Failed to sign up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},sessionExpired:{en:"Session expired. Please sign in again.",hi:"\u0938\u0924\u094D\u0930 \u0938\u092E\u093E\u092A\u094D\u0924 \u0939\u094B \u0917\u092F\u093E\u0964 \u0915\u0943\u092A\u092F\u093E \u092B\u093F\u0930 \u0938\u0947 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902\u0964"},invalidCredentials:{en:"Invalid email or password",hi:"\u0905\u092E\u093E\u0928\u094D\u092F \u0908\u092E\u0947\u0932 \u092F\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921"},passwordMismatch:{en:"Passwords do not match",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092E\u0947\u0932 \u0928\u0939\u0940\u0902 \u0916\u093E\u0924\u0947"},emailRequired:{en:"Email is required",hi:"\u0908\u092E\u0947\u0932 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},passwordRequired:{en:"Password is required",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},nameRequired:{en:"Name is required",hi:"\u0928\u093E\u092E \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},addTransaction:{en:"Add Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0947\u0902"},editTransaction:{en:"Edit Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},deleteTransaction:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},transactionHistory:{en:"Transaction History",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0907\u0924\u093F\u0939\u093E\u0938"},manageTransactions:{en:"Manage and track your financial transactions",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924\u0940\u092F \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0914\u0930 \u091F\u094D\u0930\u0948\u0915\u093F\u0902\u0917 \u0915\u0930\u0947\u0902"},payee:{en:"Payee",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E"},payeePlaceholder:{en:"Enter payee name",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E \u0915\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},amountPlaceholder:{en:"Enter amount",hi:"\u0930\u093E\u0936\u093F \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},categoryPlaceholder:{en:"Select category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940 \u091A\u0941\u0928\u0947\u0902"},datePlaceholder:{en:"Select date",hi:"\u0924\u093E\u0930\u0940\u0916 \u091A\u0941\u0928\u0947\u0902"},notesPlaceholder:{en:"Add notes (optional)",hi:"\u0928\u094B\u091F\u094D\u0938 \u091C\u094B\u0921\u093C\u0947\u0902 (\u0935\u0948\u0915\u0932\u094D\u092A\u093F\u0915)"},noTransactions:{en:"No transactions yet",hi:"\u0905\u092D\u0940 \u0924\u0915 \u0915\u094B\u0908 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0928\u0939\u0940\u0902"},noTransactionsMessage:{en:"Start by adding your first transaction to track your finances.",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u091F\u094D\u0930\u0948\u0915 \u0930\u0916\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0905\u092A\u0928\u093E \u092A\u0939\u0932\u093E \u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0915\u0930 \u0936\u0941\u0930\u0942 \u0915\u0930\u0947\u0902\u0964"},transactionAdded:{en:"Transaction added successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u091C\u094B\u0921\u093C\u093E \u0917\u092F\u093E"},transactionUpdated:{en:"Transaction updated successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0905\u092A\u0921\u0947\u091F \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},transactionDeleted:{en:"Transaction deleted successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},confirmDelete:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},confirmDeleteMessage:{en:"Are you sure you want to delete this transaction?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0907\u0938 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u094B \u0939\u091F\u093E\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"},networkError:{en:"Network error. Please check your connection.",hi:"\u0928\u0947\u091F\u0935\u0930\u094D\u0915 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0915\u0928\u0947\u0915\u094D\u0936\u0928 \u091C\u093E\u0902\u091A\u0947\u0902\u0964"},serverError:{en:"Server error. Please try again later.",hi:"\u0938\u0930\u094D\u0935\u0930 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u092C\u093E\u0926 \u092E\u0947\u0902 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},validationError:{en:"Please check your input and try again.",hi:"\u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0907\u0928\u092A\u0941\u091F \u091C\u093E\u0902\u091A\u0947\u0902 \u0914\u0930 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},dataSaved:{en:"Data saved successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u0939\u0947\u091C\u093E \u0917\u092F\u093E"},dataDeleted:{en:"Data deleted successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},changesDiscarded:{en:"Changes discarded",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917 \u0926\u093F\u090F \u0917\u090F"},unsavedChanges:{en:"You have unsaved changes",hi:"\u0906\u092A\u0915\u0947 \u092A\u093E\u0938 \u0905\u0938\u0939\u0947\u091C\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0939\u0948\u0902"},confirmDiscard:{en:"Discard Changes",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0947\u0902"},confirmDiscardMessage:{en:"Are you sure you want to discard your changes?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0905\u092A\u0928\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"}};let n=localStorage.getItem("app_language");n&&(n==="en"||n==="hi")?this.currentLanguage.next(n):navigator.language.split("-")[0]==="hi"&&this.currentLanguage.next("hi")}getCurrentLanguage(){return this.currentLanguage.asObservable()}getCurrentLanguageValue(){return this.currentLanguage.value}setLanguage(n){this.currentLanguage.next(n),localStorage.setItem("app_language",n)}translate(n){let r=this.translations[n];return r&&(r[this.currentLanguage.value]||r.en)||n}translateWithParams(n,r){let a=this.translate(n);return Object.keys(r).forEach(l=>{a=a.replace(`{{${l}}}`,r[l])}),a}getAvailableLanguages(){return[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"\u0939\u093F\u0902\u0926\u0940"}]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var tC=(()=>{let t=class t{constructor(n){this.translationService=n}transform(n,r){return r?this.translationService.translateWithParams(n,r):this.translationService.translate(n)}};t.\u0275fac=function(r){return new(r||t)(T(du,16))},t.\u0275pipe=br({name:"translate",type:t,pure:!0,standalone:!0});let i=t;return i})();var iC=(()=>{let t=class t{transform(n,r){if(n==null||n==="")return this.formatCurrency(0,r);let a=typeof n=="string"?parseFloat(n):n;return isNaN(a)?"Invalid amount":this.formatCurrency(a,r)}formatCurrency(n,r){let{currency:a=ee.CURRENCY.DEFAULT,locale:l=ee.LANGUAGE.DEFAULT,showSymbol:u=!0,showCode:m=!1,decimalPlaces:b,compact:x=!1,signDisplay:N="auto",notation:D="standard"}=r||{},R=this.getCurrencyConfig(a),V=n%1!==0,ht=b!==void 0?V?b:0:V?R.decimalPlaces:0,lt=b!==void 0?b:R.decimalPlaces,Ut={style:"currency",currency:a,minimumFractionDigits:ht,maximumFractionDigits:lt,signDisplay:N,notation:x?"compact":D};u?m&&(Ut.currencyDisplay="narrowSymbol"):Ut.currencyDisplay="code";try{return new Intl.NumberFormat(l,Ut).format(n)}catch(qt){return console.error("Currency formatting error:",qt),this.fallbackFormat(n,a,R)}}getCurrencyConfig(n){let r=n;return{symbol:ee.CURRENCY.SYMBOLS[r]||n,decimalPlaces:ee.CURRENCY.DECIMAL_PLACES[r]||2}}fallbackFormat(n,r,a){let l=a.symbol,u=n%1===0?n.toFixed(0):n.toFixed(a.decimalPlaces);return`${l}${u}`}static getCurrencySymbol(n){let r=n;return ee.CURRENCY.SYMBOLS[r]||n}static getDecimalPlaces(n){let r=n;return ee.CURRENCY.DECIMAL_PLACES[r]||2}static isSupportedCurrency(n){return ee.CURRENCY.SUPPORTED.includes(n)}static getSupportedCurrencies(){return ee.CURRENCY.SUPPORTED}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=br({name:"currency",type:t,pure:!0,standalone:!0});let i=t;return i})();var ZC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Tt({type:t}),t.\u0275inj=Et({providers:[Yn],imports:[Mr,pc,fc,yi,qd,Zc,$d,Sc,Nc,Bc,Kc,Jc,Qc,Vc,jc,nl,il,Vr,Yc,Bd,wd,el,bc.forFeature("splitwise",cu),su.forFeature([lu])]});let i=t;return i})();export{Mt as a,tC as b,Vn as c,Fn as d,Un as e,Bn as f,Hr as g,Od as h,Yn as i,Xm as j,Fs as k,Fd as l,Ud as m,Bd as n,iC as o,Vs as p,po as q,wd as r,$u as s,wp as t,xp as u,$d as v,Ft as w,Jd as x,Lt as y,su as z,Yb as A,ZC as B};

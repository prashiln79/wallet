import{$ as hc,$d as Rn,A as rc,Bb as wi,Bc as Pc,C as Mn,Cb as Ft,Cd as kc,D as sc,Db as Zr,Dd as An,E as ac,Eb as ft,Ec as Xe,Ed as Dc,F as On,Gb as wt,Hb as Yt,Ic as yc,J as cc,Jc as To,K as lc,Kb as xn,Kc as Mc,Lb as Xt,Lc as Oc,M as dc,N as wn,Nd as Rc,O as uc,Ob as Jt,P as mc,Pb as zt,Pc as Kt,Pd as Nc,Qb as bc,Qd as Vc,Rd as Je,Sc as Zt,Sd as ko,T as B,Tc as wc,Td as Do,U as j,Ud as Ro,Vc as xc,Vd as Fc,Xc as Ic,Yc as Ec,Yd as Lc,Zb as ts,Zd as kn,_d as Dn,ae as No,ba as $t,be as Nn,ca as dt,cc as ie,cd as Tc,ce as Uc,da as Io,db as fc,dd as So,ea as Xr,ee as Bc,fa as Jr,fe as Vo,ga as gc,ge as Fo,ha as z,he as zc,ia as pc,ie as jc,j as xo,l as bn,lc as Cc,nd as Ne,o as Oi,p as ic,q as oc,qc as vc,qd as Lt,r as Cn,rc as In,rd as Sc,sc as En,sd as le,t as lt,td as Ac,u as vn,ub as Vt,v as Pn,vd as Tn,wd as Sn,xd as Ao,yc as Eo,yd as de,z as yn,zb as _c}from"./chunk-3XZW3RPM.js";import{$b as h,Aa as mt,Ad as ec,Ba as Dt,Bd as Oo,Ca as Ae,Da as Po,Dc as Ye,Ec as De,Ed as nc,F as vi,Fd as wo,H as _e,Hb as Xa,J as ht,Ja as yo,Jc as Ce,Ka as Q,Kc as _n,La as W,Lb as Kr,Lc as Yr,Ma as qr,N as Co,Nb as ke,Nd as es,O as Ga,Od as ns,Pa as Mo,Qb as U,Qd as xi,R as qa,Ra as Wa,Rb as ae,Rd as Ii,Sb as S,T as $a,Tb as Ja,Td as is,Ub as Ct,Vb as pn,W as Gr,Wa as Pi,Xb as pt,Ya as yt,Z as Ka,Zb as Hr,_b as Qr,a as bo,ac as g,bc as H,bd as ve,c as Ba,cb as $r,f as ne,fa as Ha,fc as ct,g as za,gd as Rt,ha as be,hd as Za,ic as F,kc as k,l as ja,lc as fn,mc as ce,oa as Qa,oc as yi,p as Z,pa as Wt,pb as Ke,pc as Mi,pd as tc,q as K,qa as kt,qc as He,rc as Qe,sa as Pt,ua as ot,ub as O,uc as We,v as it,va as vo,vb as A,vc as C,wc as $,x as tt,xb as Ya,xc as G,xd as Re,yc as Wr,yd as Nt}from"./chunk-6PX2HEG6.js";import{a as D,b as L,k as q}from"./chunk-LKDXID24.js";var os=Io("profile"),Au=dt(os,i=>i.profile),bp=dt(os,i=>i.loading),Cp=dt(os,i=>i.error),Vn=dt(Au,i=>i==null?void 0:i.preferences),rs=dt(Vn,i=>i==null?void 0:i.defaultCurrency),vp=dt(Vn,i=>i==null?void 0:i.language),Pp=dt(Vn,i=>i==null?void 0:i.timezone),yp=dt(Vn,i=>i==null?void 0:i.notifications),Mp=dt(Vn,i=>i==null?void 0:i.emailUpdates),Op=dt(Vn,i=>i==null?void 0:i.budgetAlerts);var Gc=function(i){let t=[],r=0;for(let e=0;e<i.length;e++){let o=i.charCodeAt(e);o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=o&63|128):(o&64512)===55296&&e+1<i.length&&(i.charCodeAt(e+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++e)&1023),t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=o&63|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=o&63|128)}return t},Du=function(i){let t=[],r=0,e=0;for(;r<i.length;){let o=i[r++];if(o<128)t[e++]=String.fromCharCode(o);else if(o>191&&o<224){let s=i[r++];t[e++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){let s=i[r++],l=i[r++],d=i[r++],m=((o&7)<<18|(s&63)<<12|(l&63)<<6|d&63)-65536;t[e++]=String.fromCharCode(55296+(m>>10)),t[e++]=String.fromCharCode(56320+(m&1023))}else{let s=i[r++],l=i[r++];t[e++]=String.fromCharCode((o&15)<<12|(s&63)<<6|l&63)}}return t.join("")},Ru={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,e=[];for(let o=0;o<i.length;o+=3){let s=i[o],l=o+1<i.length,d=l?i[o+1]:0,m=o+2<i.length,b=m?i[o+2]:0,I=s>>2,E=(s&3)<<4|d>>4,V=(d&15)<<2|b>>6,N=b&63;m||(N=64,l||(V=64)),e.push(r[I],r[E],r[V],r[N])}return e.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Gc(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Du(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();let r=t?this.charToByteMapWebSafe_:this.charToByteMap_,e=[];for(let o=0;o<i.length;){let s=r[i.charAt(o++)],d=o<i.length?r[i.charAt(o)]:0;++o;let b=o<i.length?r[i.charAt(o)]:64;++o;let E=o<i.length?r[i.charAt(o)]:64;if(++o,s==null||d==null||b==null||E==null)throw new ss;let V=s<<2|d>>4;if(e.push(V),b!==64){let N=d<<4&240|b>>2;if(e.push(N),E!==64){let R=b<<6&192|E;e.push(R)}}}return e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},ss=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Nu=function(i){let t=Gc(i);return Ru.encodeByteArray(t,!0)},as=function(i){return Nu(i).replace(/\./g,"")};function cs(){try{return typeof indexedDB=="object"}catch{return!1}}function qc(){return new Promise((i,t)=>{try{let r=!0,e="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(e);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(e),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var s;t(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){t(r)}})}var Vu="FirebaseError",Pe=class i extends Error{constructor(t,r,e){super(r),this.code=t,this.customData=e,this.name=Vu,Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ei.prototype.create)}},Ei=class{constructor(t,r,e){this.service=t,this.serviceName=r,this.errors=e}create(t,...r){let e=r[0]||{},o=`${this.service}/${t}`,s=this.errors[t],l=s?Fu(s,e):"Error",d=`${this.serviceName}: ${l} (${o}).`;return new Pe(o,d,e)}};function Fu(i,t){return i.replace(Lu,(r,e)=>{let o=t[e];return o!=null?String(o):`<${e}?>`})}var Lu=/\{\$([^}]+)}/g;var Ep=4*60*60*1e3;var Ve=class{constructor(t,r,e){this.name=t,this.instanceFactory=r,this.type=e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Uu=[],at=function(i){return i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",i}(at||{}),Bu={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},zu=at.INFO,ju={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},Gu=(i,t,...r)=>{if(t<i.logLevel)return;let e=new Date().toISOString(),o=ju[t];if(o)console[o](`[${e}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Fn=class{constructor(t){this.name=t,this._logLevel=zu,this._logHandler=Gu,this._userLogHandler=null,Uu.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in at))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Bu[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...t),this._logHandler(this,at.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...t),this._logHandler(this,at.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,at.INFO,...t),this._logHandler(this,at.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,at.WARN,...t),this._logHandler(this,at.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...t),this._logHandler(this,at.ERROR,...t)}};var ds=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if($u(r)){let e=r.getImmediate();return`${e.library}/${e.version}`}else return null}).filter(r=>r).join(" ")}};function $u(i){let t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}var us="@firebase/app",$c="0.13.2";var ye=new Fn("@firebase/app"),Ku="@firebase/app-compat",Hu="@firebase/analytics-compat",Qu="@firebase/analytics",Wu="@firebase/app-check-compat",Yu="@firebase/app-check",Xu="@firebase/auth",Ju="@firebase/auth-compat",Zu="@firebase/database",tm="@firebase/data-connect",em="@firebase/database-compat",nm="@firebase/functions",im="@firebase/functions-compat",om="@firebase/installations",rm="@firebase/installations-compat",sm="@firebase/messaging",am="@firebase/messaging-compat",cm="@firebase/performance",lm="@firebase/performance-compat",dm="@firebase/remote-config",um="@firebase/remote-config-compat",mm="@firebase/storage",hm="@firebase/storage-compat",gm="@firebase/firestore",pm="@firebase/ai",fm="@firebase/firestore-compat",_m="firebase",bm="11.10.0";var Cm={[us]:"fire-core",[Ku]:"fire-core-compat",[Qu]:"fire-analytics",[Hu]:"fire-analytics-compat",[Yu]:"fire-app-check",[Wu]:"fire-app-check-compat",[Xu]:"fire-auth",[Ju]:"fire-auth-compat",[Zu]:"fire-rtdb",[tm]:"fire-data-connect",[em]:"fire-rtdb-compat",[nm]:"fire-fn",[im]:"fire-fn-compat",[om]:"fire-iid",[rm]:"fire-iid-compat",[sm]:"fire-fcm",[am]:"fire-fcm-compat",[cm]:"fire-perf",[lm]:"fire-perf-compat",[dm]:"fire-rc",[um]:"fire-rc-compat",[mm]:"fire-gcs",[hm]:"fire-gcs-compat",[gm]:"fire-fst",[fm]:"fire-fst-compat",[pm]:"fire-vertex","fire-js":"fire-js",[_m]:"fire-js-all"};var vm=new Map,Pm=new Map,Kc=new Map;function Hc(i,t){try{i.container.addComponent(t)}catch(r){ye.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Ti(i){let t=i.name;if(Kc.has(t))return ye.debug(`There were multiple attempts to register component ${t}.`),!1;Kc.set(t,i);for(let r of vm.values())Hc(r,i);for(let r of Pm.values())Hc(r,i);return!0}function Xc(i){return i==null?!1:i.settings!==void 0}var ym={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new Ei("app","Firebase",ym);var Jc=bm;function Ln(i,t,r){var e;let o=(e=Cm[i])!==null&&e!==void 0?e:i;r&&(o+=`-${r}`);let s=o.match(/\s|\//),l=t.match(/\s|\//);if(s||l){let d=[`Unable to register library "${o}" with version "${t}":`];s&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&l&&d.push("and"),l&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ye.warn(d.join(" "));return}Ti(new Ve(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}var Mm="firebase-heartbeat-database",Om=1,Si="firebase-heartbeat-store",ls=null;function Zc(){return ls||(ls=fc(Mm,Om,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Si)}catch(r){console.warn(r)}}}}).catch(i=>{throw gs.create("idb-open",{originalErrorMessage:i.message})})),ls}function wm(i){return q(this,null,function*(){try{let r=(yield Zc()).transaction(Si),e=yield r.objectStore(Si).get(tl(i));return yield r.done,e}catch(t){if(t instanceof Pe)ye.warn(t.message);else{let r=gs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ye.warn(r.message)}}})}function Qc(i,t){return q(this,null,function*(){try{let e=(yield Zc()).transaction(Si,"readwrite");yield e.objectStore(Si).put(t,tl(i)),yield e.done}catch(r){if(r instanceof Pe)ye.warn(r.message);else{let e=gs.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ye.warn(e.message)}}})}function tl(i){return`${i.name}!${i.options.appId}`}var xm=1024,Im=30,ms=class{constructor(t){this.container=t,this._heartbeatsCache=null;let r=this.container.getProvider("app").getImmediate();this._storage=new hs(r),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}triggerHeartbeat(){return q(this,null,function*(){var t,r;try{let o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Wc();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats.length>Im){let l=Tm(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ye.warn(e)}})}getHeartbeatsHeader(){return q(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let r=Wc(),{heartbeatsToSend:e,unsentEntries:o}=Em(this._heartbeatsCache.heartbeats),s=as(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return ye.warn(r),""}})}};function Wc(){return new Date().toISOString().substring(0,10)}function Em(i,t=xm){let r=[],e=i.slice();for(let o of i){let s=r.find(l=>l.agent===o.agent);if(s){if(s.dates.push(o.date),Yc(r)>t){s.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Yc(r)>t){r.pop();break}e=e.slice(1)}return{heartbeatsToSend:r,unsentEntries:e}}var hs=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return q(this,null,function*(){return cs()?qc().then(()=>!0).catch(()=>!1):!1})}read(){return q(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield wm(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return q(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return Qc(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return q(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return Qc(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return})}};function Yc(i){return as(JSON.stringify({version:2,heartbeats:i})).length}function Tm(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let e=1;e<i.length;e++)i[e].date<r&&(r=i[e].date,t=e);return t}function Sm(i){Ti(new Ve("platform-logger",t=>new ds(t),"PRIVATE")),Ti(new Ve("heartbeat",t=>new ms(t),"PRIVATE")),Ln(us,$c,i),Ln(us,$c,"esm2017"),Ln("fire-js","")}Sm("");function Am(i,t){i&1&&H(0,"mat-spinner",23)}function km(i,t){i&1&&(h(0,"p",16),C(1,"Group name is required"),g())}function Dm(i,t){i&1&&(h(0,"p",16),C(1,"Group name must be at least 2 characters"),g())}function Rm(i,t){i&1&&(h(0,"p",16),C(1,"Group name must not exceed 50 characters"),g())}function Nm(i,t){i&1&&(h(0,"p",16),C(1,"Description must not exceed 200 characters"),g())}var il=(()=>{let t=class t{constructor(e,o,s,l){this.fb=e,this.dialogRef=o,this.auth=s,this.store=l,this.isSubmitting=!1,this.userCurrency$=this.store.select(rs),this.groupForm=this.fb.group({name:["",[lt.required,lt.minLength(2),lt.maxLength(50)]],description:["",[lt.maxLength(200)]],initialMembers:[[]]})}ngOnInit(){}onSubmit(){return q(this,null,function*(){var e;if(this.groupForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let o=this.groupForm.value,s=this.store.select(rs),l="USD";s.subscribe(m=>{m&&(l=m)}).unsubscribe();let d={name:o.name.trim(),description:((e=o.description)==null?void 0:e.trim())||"",currency:l,initialMembers:o.initialMembers||[]};this.dialogRef.close(d)}catch(o){console.error("Error creating group:",o)}finally{this.isSubmitting=!1}}else this.groupForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(e){var s,l;let o=this.groupForm.get(e);return o!=null&&o.hasError("required")?`${e.charAt(0).toUpperCase()+e.slice(1)} is required`:o!=null&&o.hasError("minlength")?`${e.charAt(0).toUpperCase()+e.slice(1)} must be at least ${(s=o.errors)==null?void 0:s.minlength.requiredLength} characters`:o!=null&&o.hasError("maxlength")?`${e.charAt(0).toUpperCase()+e.slice(1)} must not exceed ${(l=o.errors)==null?void 0:l.maxlength.requiredLength} characters`:""}};t.\u0275fac=function(o){return new(o||t)(A(wn),A(Sn),A(Vt),A($t))},t.\u0275cmp=mt({type:t,selectors:[["app-create-group-dialog"]],decls:55,vars:10,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Create Group",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"group-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","text","formControlName","name","placeholder","Enter group name","autofocus","","maxlength","50",1,"form-input"],[1,"field-footer"],[1,"error-message"],[1,"character-count"],["formControlName","description","placeholder","Describe your group","maxlength","200","rows","3",1,"form-input"],[1,"info-section"],[1,"info-icon"],[1,"info-content"],[1,"bottom-spacing"],["diameter","16"]],template:function(o,s){if(o&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),F("click",function(){return s.onCancel()}),h(4,"mat-icon"),C(5,"arrow_back"),g()(),h(6,"h6",4),C(7," Create New Group "),g()(),h(8,"button",5),F("click",function(){return s.onCancel()}),h(9,"mat-icon"),C(10,"close"),g()(),h(11,"button",6),F("click",function(){return s.onSubmit()}),U(12,Am,1,0,"mat-spinner",7),C(13),g()()(),h(14,"div",8)(15,"div",9)(16,"form",10),F("ngSubmit",function(){return s.onSubmit()}),h(17,"div",11)(18,"label",12)(19,"mat-icon",13),C(20,"group"),g(),C(21," Group Name * "),g(),H(22,"input",14),h(23,"div",15),U(24,km,2,0,"p",16)(25,Dm,2,0,"p",16)(26,Rm,2,0,"p",16),h(27,"span",17),C(28),g()()(),h(29,"div",11)(30,"label",12)(31,"mat-icon",13),C(32,"description"),g(),C(33," Description (Optional) "),g(),H(34,"textarea",18),h(35,"div",15),U(36,Nm,2,0,"p",16),h(37,"span",17),C(38),g()()(),h(39,"div",19)(40,"mat-icon",20),C(41,"info"),g(),h(42,"div",21)(43,"h4"),C(44,"What happens next?"),g(),h(45,"ul")(46,"li"),C(47,"You'll be added as the group admin"),g(),h(48,"li"),C(49,"You can invite friends by email"),g(),h(50,"li"),C(51,"Start adding shared expenses"),g(),h(52,"li"),C(53,"Track who owes what to whom"),g()()()(),H(54,"div",22),g()()()),o&2){let l,d,m,b,I,E;O(11),S("disabled",s.groupForm.invalid||s.isSubmitting),O(),S("ngIf",s.isSubmitting),O(),G(" ",s.isSubmitting?"Creating...":"Create"," "),O(3),S("formGroup",s.groupForm),O(8),pt((l=s.groupForm.get("name"))!=null&&l.hasError("required")&&((l=s.groupForm.get("name"))!=null&&l.touched)?24:-1),O(),pt((d=s.groupForm.get("name"))!=null&&d.hasError("minlength")&&((d=s.groupForm.get("name"))!=null&&d.touched)?25:-1),O(),pt((m=s.groupForm.get("name"))!=null&&m.hasError("maxlength")&&((m=s.groupForm.get("name"))!=null&&m.touched)?26:-1),O(2),G(" ",((b=s.groupForm.get("name"))==null||b.value==null?null:b.value.length)||0,"/50 "),O(8),pt((I=s.groupForm.get("description"))!=null&&I.hasError("maxlength")&&((I=s.groupForm.get("description"))!=null&&I.touched)?36:-1),O(2),G(" ",((E=s.groupForm.get("description"))==null||E.value==null?null:E.value.length)||0,"/200 ")}},dependencies:[Nt,yn,Cn,vn,Pn,dc,Mn,On,Kt,Zt,Lt,le,An],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease;resize:vertical}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{font-size:.7rem}}.info-section[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.25rem;background:#f8f9fa;border-radius:12px;border-left:4px solid #3b82f6;margin-top:.5rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;gap:.75rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px;gap:.5rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{background:#1f2937;border-left-color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.5rem;width:1.5rem;height:1.5rem;margin-top:.125rem;flex-shrink:0}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{flex:1}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#1f2937;font-weight:600;font-size:1rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:.5rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.375rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem;color:#6b7280}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:.875rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#9ca3af}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.375rem;font-size:.875rem;line-height:1.4}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.25rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.125rem}}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let i=t;return i})();var Bn=B("[Splitwise] Load Groups"),Uo=B("[Splitwise] Load Groups Success",j()),ki=B("[Splitwise] Load Groups Failure",j()),Me=B("[Splitwise] Load Group by ID",j()),Bo=B("[Splitwise] Load Group by ID Success",j()),Di=B("[Splitwise] Load Group by ID Failure",j()),zn=B("[Splitwise] Load Invitations"),zo=B("[Splitwise] Load Invitations Success",j()),Ri=B("[Splitwise] Load Invitations Failure",j()),jn=B("[Splitwise] Create Group",j()),jo=B("[Splitwise] Create Group Success",j()),Ni=B("[Splitwise] Create Group Failure",j()),ue=B("[Splitwise] Add Member",j()),Go=B("[Splitwise] Add Member Success",j()),Vi=B("[Splitwise] Add Member Failure",j()),Gn=B("[Splitwise] Accept Invitation",j()),qo=B("[Splitwise] Accept Invitation Success",j()),Fi=B("[Splitwise] Accept Invitation Failure",j()),qn=B("[Splitwise] Decline Invitation",j()),$o=B("[Splitwise] Decline Invitation Success",j()),Li=B("[Splitwise] Decline Invitation Failure",j()),Fe=B("[Splitwise] Delete Group",j()),Ko=B("[Splitwise] Delete Group Success",j()),Ui=B("[Splitwise] Delete Group Failure",j()),ol=B("[Splitwise] Select Group",j()),on=B("[Splitwise] Load Transactions",j()),Ho=B("[Splitwise] Load Transactions Success",j()),Bi=B("[Splitwise] Load Transactions Failure",j()),rn=B("[Splitwise] Load Settlements",j()),Qo=B("[Splitwise] Load Settlements Success",j()),zi=B("[Splitwise] Load Settlements Failure",j()),Wo=B("[Splitwise] Create Split Transaction",j()),Yo=B("[Splitwise] Create Split Transaction Success",j()),ji=B("[Splitwise] Create Split Transaction Failure",j()),Xo=B("[Splitwise] Update Split Transaction",j()),Jo=B("[Splitwise] Update Split Transaction Success",j()),Gi=B("[Splitwise] Update Split Transaction Failure",j()),$n=B("[Splitwise] Create Settlement",j()),Zo=B("[Splitwise] Create Settlement Success",j()),qi=B("[Splitwise] Create Settlement Failure",j()),Le=B("[Splitwise] Remove Member",j()),tr=B("[Splitwise] Remove Member Success",j()),$i=B("[Splitwise] Remove Member Failure",j()),Ue=B("[Splitwise] Clear Error");var Be=Io("splitwise"),Kn=dt(Be,i=>i),Vm=dt(Be,i=>i.groups),Fm=dt(Be,i=>i.invitations),Lm=dt(Be,i=>i.transactions),Um=dt(Be,i=>i.settlements),er=dt(Be,i=>i.selectedGroup),ef=dt(Be,i=>i.loading),nf=dt(Be,i=>i.error),of=dt(Vm,i=>i.filter(t=>t.isActive)),rf=dt(Fm,i=>i.filter(t=>t.status==="pending")),sf=dt(Lm,er,(i,t)=>t?i.filter(r=>r.groupId===t.id):[]),af=dt(Um,er,(i,t)=>t?i.filter(r=>r.groupId===t.id):[]),cf=dt(er,i=>(i==null?void 0:i.members.filter(t=>t.isActive).length)||0),lf=dt(er,i=>"");var sn=function(i){return i.ADMIN="admin",i.MEMBER="member",i}(sn||{}),Hi=function(i){return i.PENDING="pending",i.COMPLETED="completed",i.CANCELLED="cancelled",i}(Hi||{}),Hn=function(i){return i.PENDING="pending",i.ACCEPTED="accepted",i.DECLINED="declined",i.EXPIRED="expired",i}(Hn||{});var rl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sl={};var nr,al;(function(){var i;function t(M,p){function _(){}_.prototype=p.prototype,M.D=p.prototype,M.prototype=new _,M.prototype.constructor=M,M.C=function(v,P,w){for(var f=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)f[ge-2]=arguments[ge];return p.prototype[P].apply(v,f)}}function r(){this.blockSize=-1}function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(e,r),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,p,_){_||(_=0);var v=Array(16);if(typeof p=="string")for(var P=0;16>P;++P)v[P]=p.charCodeAt(_++)|p.charCodeAt(_++)<<8|p.charCodeAt(_++)<<16|p.charCodeAt(_++)<<24;else for(P=0;16>P;++P)v[P]=p[_++]|p[_++]<<8|p[_++]<<16|p[_++]<<24;p=M.g[0],_=M.g[1],P=M.g[2];var w=M.g[3],f=p+(w^_&(P^w))+v[0]+3614090360&4294967295;p=_+(f<<7&4294967295|f>>>25),f=w+(P^p&(_^P))+v[1]+3905402710&4294967295,w=p+(f<<12&4294967295|f>>>20),f=P+(_^w&(p^_))+v[2]+606105819&4294967295,P=w+(f<<17&4294967295|f>>>15),f=_+(p^P&(w^p))+v[3]+3250441966&4294967295,_=P+(f<<22&4294967295|f>>>10),f=p+(w^_&(P^w))+v[4]+4118548399&4294967295,p=_+(f<<7&4294967295|f>>>25),f=w+(P^p&(_^P))+v[5]+1200080426&4294967295,w=p+(f<<12&4294967295|f>>>20),f=P+(_^w&(p^_))+v[6]+2821735955&4294967295,P=w+(f<<17&4294967295|f>>>15),f=_+(p^P&(w^p))+v[7]+4249261313&4294967295,_=P+(f<<22&4294967295|f>>>10),f=p+(w^_&(P^w))+v[8]+1770035416&4294967295,p=_+(f<<7&4294967295|f>>>25),f=w+(P^p&(_^P))+v[9]+2336552879&4294967295,w=p+(f<<12&4294967295|f>>>20),f=P+(_^w&(p^_))+v[10]+4294925233&4294967295,P=w+(f<<17&4294967295|f>>>15),f=_+(p^P&(w^p))+v[11]+2304563134&4294967295,_=P+(f<<22&4294967295|f>>>10),f=p+(w^_&(P^w))+v[12]+1804603682&4294967295,p=_+(f<<7&4294967295|f>>>25),f=w+(P^p&(_^P))+v[13]+4254626195&4294967295,w=p+(f<<12&4294967295|f>>>20),f=P+(_^w&(p^_))+v[14]+2792965006&4294967295,P=w+(f<<17&4294967295|f>>>15),f=_+(p^P&(w^p))+v[15]+1236535329&4294967295,_=P+(f<<22&4294967295|f>>>10),f=p+(P^w&(_^P))+v[1]+4129170786&4294967295,p=_+(f<<5&4294967295|f>>>27),f=w+(_^P&(p^_))+v[6]+3225465664&4294967295,w=p+(f<<9&4294967295|f>>>23),f=P+(p^_&(w^p))+v[11]+643717713&4294967295,P=w+(f<<14&4294967295|f>>>18),f=_+(w^p&(P^w))+v[0]+3921069994&4294967295,_=P+(f<<20&4294967295|f>>>12),f=p+(P^w&(_^P))+v[5]+3593408605&4294967295,p=_+(f<<5&4294967295|f>>>27),f=w+(_^P&(p^_))+v[10]+38016083&4294967295,w=p+(f<<9&4294967295|f>>>23),f=P+(p^_&(w^p))+v[15]+3634488961&4294967295,P=w+(f<<14&4294967295|f>>>18),f=_+(w^p&(P^w))+v[4]+3889429448&4294967295,_=P+(f<<20&4294967295|f>>>12),f=p+(P^w&(_^P))+v[9]+568446438&4294967295,p=_+(f<<5&4294967295|f>>>27),f=w+(_^P&(p^_))+v[14]+3275163606&4294967295,w=p+(f<<9&4294967295|f>>>23),f=P+(p^_&(w^p))+v[3]+4107603335&4294967295,P=w+(f<<14&4294967295|f>>>18),f=_+(w^p&(P^w))+v[8]+1163531501&4294967295,_=P+(f<<20&4294967295|f>>>12),f=p+(P^w&(_^P))+v[13]+2850285829&4294967295,p=_+(f<<5&4294967295|f>>>27),f=w+(_^P&(p^_))+v[2]+4243563512&4294967295,w=p+(f<<9&4294967295|f>>>23),f=P+(p^_&(w^p))+v[7]+1735328473&4294967295,P=w+(f<<14&4294967295|f>>>18),f=_+(w^p&(P^w))+v[12]+2368359562&4294967295,_=P+(f<<20&4294967295|f>>>12),f=p+(_^P^w)+v[5]+4294588738&4294967295,p=_+(f<<4&4294967295|f>>>28),f=w+(p^_^P)+v[8]+2272392833&4294967295,w=p+(f<<11&4294967295|f>>>21),f=P+(w^p^_)+v[11]+1839030562&4294967295,P=w+(f<<16&4294967295|f>>>16),f=_+(P^w^p)+v[14]+4259657740&4294967295,_=P+(f<<23&4294967295|f>>>9),f=p+(_^P^w)+v[1]+2763975236&4294967295,p=_+(f<<4&4294967295|f>>>28),f=w+(p^_^P)+v[4]+1272893353&4294967295,w=p+(f<<11&4294967295|f>>>21),f=P+(w^p^_)+v[7]+4139469664&4294967295,P=w+(f<<16&4294967295|f>>>16),f=_+(P^w^p)+v[10]+3200236656&4294967295,_=P+(f<<23&4294967295|f>>>9),f=p+(_^P^w)+v[13]+681279174&4294967295,p=_+(f<<4&4294967295|f>>>28),f=w+(p^_^P)+v[0]+3936430074&4294967295,w=p+(f<<11&4294967295|f>>>21),f=P+(w^p^_)+v[3]+3572445317&4294967295,P=w+(f<<16&4294967295|f>>>16),f=_+(P^w^p)+v[6]+76029189&4294967295,_=P+(f<<23&4294967295|f>>>9),f=p+(_^P^w)+v[9]+3654602809&4294967295,p=_+(f<<4&4294967295|f>>>28),f=w+(p^_^P)+v[12]+3873151461&4294967295,w=p+(f<<11&4294967295|f>>>21),f=P+(w^p^_)+v[15]+530742520&4294967295,P=w+(f<<16&4294967295|f>>>16),f=_+(P^w^p)+v[2]+3299628645&4294967295,_=P+(f<<23&4294967295|f>>>9),f=p+(P^(_|~w))+v[0]+4096336452&4294967295,p=_+(f<<6&4294967295|f>>>26),f=w+(_^(p|~P))+v[7]+1126891415&4294967295,w=p+(f<<10&4294967295|f>>>22),f=P+(p^(w|~_))+v[14]+2878612391&4294967295,P=w+(f<<15&4294967295|f>>>17),f=_+(w^(P|~p))+v[5]+4237533241&4294967295,_=P+(f<<21&4294967295|f>>>11),f=p+(P^(_|~w))+v[12]+1700485571&4294967295,p=_+(f<<6&4294967295|f>>>26),f=w+(_^(p|~P))+v[3]+2399980690&4294967295,w=p+(f<<10&4294967295|f>>>22),f=P+(p^(w|~_))+v[10]+4293915773&4294967295,P=w+(f<<15&4294967295|f>>>17),f=_+(w^(P|~p))+v[1]+2240044497&4294967295,_=P+(f<<21&4294967295|f>>>11),f=p+(P^(_|~w))+v[8]+1873313359&4294967295,p=_+(f<<6&4294967295|f>>>26),f=w+(_^(p|~P))+v[15]+4264355552&4294967295,w=p+(f<<10&4294967295|f>>>22),f=P+(p^(w|~_))+v[6]+2734768916&4294967295,P=w+(f<<15&4294967295|f>>>17),f=_+(w^(P|~p))+v[13]+1309151649&4294967295,_=P+(f<<21&4294967295|f>>>11),f=p+(P^(_|~w))+v[4]+4149444226&4294967295,p=_+(f<<6&4294967295|f>>>26),f=w+(_^(p|~P))+v[11]+3174756917&4294967295,w=p+(f<<10&4294967295|f>>>22),f=P+(p^(w|~_))+v[2]+718787259&4294967295,P=w+(f<<15&4294967295|f>>>17),f=_+(w^(P|~p))+v[9]+3951481745&4294967295,M.g[0]=M.g[0]+p&4294967295,M.g[1]=M.g[1]+(P+(f<<21&4294967295|f>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+w&4294967295}e.prototype.u=function(M,p){p===void 0&&(p=M.length);for(var _=p-this.blockSize,v=this.B,P=this.h,w=0;w<p;){if(P==0)for(;w<=_;)o(this,M,w),w+=this.blockSize;if(typeof M=="string"){for(;w<p;)if(v[P++]=M.charCodeAt(w++),P==this.blockSize){o(this,v),P=0;break}}else for(;w<p;)if(v[P++]=M[w++],P==this.blockSize){o(this,v),P=0;break}}this.h=P,this.o+=p},e.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var p=1;p<M.length-8;++p)M[p]=0;var _=8*this.o;for(p=M.length-8;p<M.length;++p)M[p]=_&255,_/=256;for(this.u(M),M=Array(16),p=_=0;4>p;++p)for(var v=0;32>v;v+=8)M[_++]=this.g[p]>>>v&255;return M};function s(M,p){var _=d;return Object.prototype.hasOwnProperty.call(_,M)?_[M]:_[M]=p(M)}function l(M,p){this.h=p;for(var _=[],v=!0,P=M.length-1;0<=P;P--){var w=M[P]|0;v&&w==p||(_[P]=w,v=!1)}this.g=_}var d={};function m(M){return-128<=M&&128>M?s(M,function(p){return new l([p|0],0>p?-1:0)}):new l([M|0],0>M?-1:0)}function b(M){if(isNaN(M)||!isFinite(M))return E;if(0>M)return nt(b(-M));for(var p=[],_=1,v=0;M>=_;v++)p[v]=M/_|0,_*=4294967296;return new l(p,0)}function I(M,p){if(M.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(M.charAt(0)=="-")return nt(I(M.substring(1),p));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=b(Math.pow(p,8)),v=E,P=0;P<M.length;P+=8){var w=Math.min(8,M.length-P),f=parseInt(M.substring(P,P+w),p);8>w?(w=b(Math.pow(p,w)),v=v.j(w).add(b(f))):(v=v.j(_),v=v.add(b(f)))}return v}var E=m(0),V=m(1),N=m(16777216);i=l.prototype,i.m=function(){if(rt(this))return-nt(this).m();for(var M=0,p=1,_=0;_<this.g.length;_++){var v=this.i(_);M+=(0<=v?v:4294967296+v)*p,p*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(R(this))return"0";if(rt(this))return"-"+nt(this).toString(M);for(var p=b(Math.pow(M,6)),_=this,v="";;){var P=re(_,p).g;_=Mt(_,P.j(p));var w=((0<_.g.length?_.g[0]:_.h)>>>0).toString(M);if(_=P,R(_))return w+v;for(;6>w.length;)w="0"+w;v=w+v}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function R(M){if(M.h!=0)return!1;for(var p=0;p<M.g.length;p++)if(M.g[p]!=0)return!1;return!0}function rt(M){return M.h==-1}i.l=function(M){return M=Mt(this,M),rt(M)?-1:R(M)?0:1};function nt(M){for(var p=M.g.length,_=[],v=0;v<p;v++)_[v]=~M.g[v];return new l(_,~M.h).add(V)}i.abs=function(){return rt(this)?nt(this):this},i.add=function(M){for(var p=Math.max(this.g.length,M.g.length),_=[],v=0,P=0;P<=p;P++){var w=v+(this.i(P)&65535)+(M.i(P)&65535),f=(w>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);v=f>>>16,w&=65535,f&=65535,_[P]=f<<16|w}return new l(_,_[_.length-1]&-2147483648?-1:0)};function Mt(M,p){return M.add(nt(p))}i.j=function(M){if(R(this)||R(M))return E;if(rt(this))return rt(M)?nt(this).j(nt(M)):nt(nt(this).j(M));if(rt(M))return nt(this.j(nt(M)));if(0>this.l(N)&&0>M.l(N))return b(this.m()*M.m());for(var p=this.g.length+M.g.length,_=[],v=0;v<2*p;v++)_[v]=0;for(v=0;v<this.g.length;v++)for(var P=0;P<M.g.length;P++){var w=this.i(v)>>>16,f=this.i(v)&65535,ge=M.i(P)>>>16,ei=M.i(P)&65535;_[2*v+2*P]+=f*ei,vt(_,2*v+2*P),_[2*v+2*P+1]+=w*ei,vt(_,2*v+2*P+1),_[2*v+2*P+1]+=f*ge,vt(_,2*v+2*P+1),_[2*v+2*P+2]+=w*ge,vt(_,2*v+2*P+2)}for(v=0;v<p;v++)_[v]=_[2*v+1]<<16|_[2*v];for(v=p;v<2*p;v++)_[v]=0;return new l(_,0)};function vt(M,p){for(;(M[p]&65535)!=M[p];)M[p+1]+=M[p]>>>16,M[p]&=65535,p++}function It(M,p){this.g=M,this.h=p}function re(M,p){if(R(p))throw Error("division by zero");if(R(M))return new It(E,E);if(rt(M))return p=re(nt(M),p),new It(nt(p.g),nt(p.h));if(rt(p))return p=re(M,nt(p)),new It(nt(p.g),p.h);if(30<M.g.length){if(rt(M)||rt(p))throw Error("slowDivide_ only works with positive integers.");for(var _=V,v=p;0>=v.l(M);)_=dn(_),v=dn(v);var P=se(_,1),w=se(v,1);for(v=se(v,2),_=se(_,2);!R(v);){var f=w.add(v);0>=f.l(M)&&(P=P.add(_),w=f),v=se(v,1),_=se(_,1)}return p=Mt(M,P.j(p)),new It(P,p)}for(P=E;0<=M.l(p);){for(_=Math.max(1,Math.floor(M.m()/p.m())),v=Math.ceil(Math.log(_)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),w=b(_),f=w.j(p);rt(f)||0<f.l(M);)_-=v,w=b(_),f=w.j(p);R(w)&&(w=V),P=P.add(w),M=Mt(M,f)}return new It(P,M)}i.A=function(M){return re(this,M).h},i.and=function(M){for(var p=Math.max(this.g.length,M.g.length),_=[],v=0;v<p;v++)_[v]=this.i(v)&M.i(v);return new l(_,this.h&M.h)},i.or=function(M){for(var p=Math.max(this.g.length,M.g.length),_=[],v=0;v<p;v++)_[v]=this.i(v)|M.i(v);return new l(_,this.h|M.h)},i.xor=function(M){for(var p=Math.max(this.g.length,M.g.length),_=[],v=0;v<p;v++)_[v]=this.i(v)^M.i(v);return new l(_,this.h^M.h)};function dn(M){for(var p=M.g.length+1,_=[],v=0;v<p;v++)_[v]=M.i(v)<<1|M.i(v-1)>>>31;return new l(_,M.h)}function se(M,p){var _=p>>5;p%=32;for(var v=M.g.length-_,P=[],w=0;w<v;w++)P[w]=0<p?M.i(w+_)>>>p|M.i(w+_+1)<<32-p:M.i(w+_);return new l(P,M.h)}e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,al=sl.Md5=e,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=b,l.fromString=I,nr=sl.Integer=l}).apply(typeof rl<"u"?rl:typeof self<"u"?self:typeof window<"u"?window:{});var ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oe={};var cl,Bm,ll,dl,ul,ml,hl,gl,pl;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(n,a,c){return n==Array.prototype||n==Object.prototype||(n[a]=c.value),n};function r(n){n=[typeof globalThis=="object"&&globalThis,n,typeof window=="object"&&window,typeof self=="object"&&self,typeof ir=="object"&&ir];for(var a=0;a<n.length;++a){var c=n[a];if(c&&c.Math==Math)return c}throw Error("Cannot find global object")}var e=r(this);function o(n,a){if(a)t:{var c=e;n=n.split(".");for(var u=0;u<n.length-1;u++){var y=n[u];if(!(y in c))break t;c=c[y]}n=n[n.length-1],u=c[n],a=a(u),a!=u&&a!=null&&t(c,n,{configurable:!0,writable:!0,value:a})}}function s(n,a){n instanceof String&&(n+="");var c=0,u=!1,y={next:function(){if(!u&&c<n.length){var x=c++;return{value:a(x,n[x]),done:!1}}return u=!0,{done:!0,value:void 0}}};return y[Symbol.iterator]=function(){return y},y}o("Array.prototype.values",function(n){return n||function(){return s(this,function(a,c){return c})}});var l=l||{},d=this||self;function m(n){var a=typeof n;return a=a!="object"?a:n?Array.isArray(n)?"array":a:"null",a=="array"||a=="object"&&typeof n.length=="number"}function b(n){var a=typeof n;return a=="object"&&n!=null||a=="function"}function I(n,a,c){return n.call.apply(n.bind,arguments)}function E(n,a,c){if(!n)throw Error();if(2<arguments.length){var u=Array.prototype.slice.call(arguments,2);return function(){var y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(y,u),n.apply(a,y)}}return function(){return n.apply(a,arguments)}}function V(n,a,c){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:E,V.apply(null,arguments)}function N(n,a){var c=Array.prototype.slice.call(arguments,1);return function(){var u=c.slice();return u.push.apply(u,arguments),n.apply(this,u)}}function R(n,a){function c(){}c.prototype=a.prototype,n.aa=a.prototype,n.prototype=new c,n.prototype.constructor=n,n.Qb=function(u,y,x){for(var T=Array(arguments.length-2),st=2;st<arguments.length;st++)T[st-2]=arguments[st];return a.prototype[y].apply(u,T)}}function rt(n){let a=n.length;if(0<a){let c=Array(a);for(let u=0;u<a;u++)c[u]=n[u];return c}return[]}function nt(n,a){for(let c=1;c<arguments.length;c++){let u=arguments[c];if(m(u)){let y=n.length||0,x=u.length||0;n.length=y+x;for(let T=0;T<x;T++)n[y+T]=u[T]}else n.push(u)}}class Mt{constructor(a,c){this.i=a,this.j=c,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}function vt(n){return/^[\s\xa0]*$/.test(n)}function It(){var n=d.navigator;return n&&(n=n.userAgent)?n:""}function re(n){return re[" "](n),n}re[" "]=function(){};var dn=It().indexOf("Gecko")!=-1&&!(It().toLowerCase().indexOf("webkit")!=-1&&It().indexOf("Edge")==-1)&&!(It().indexOf("Trident")!=-1||It().indexOf("MSIE")!=-1)&&It().indexOf("Edge")==-1;function se(n,a,c){for(let u in n)a.call(c,n[u],u,n)}function M(n,a){for(let c in n)a.call(void 0,n[c],c,n)}function p(n){let a={};for(let c in n)a[c]=n[c];return a}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(n,a){let c,u;for(let y=1;y<arguments.length;y++){u=arguments[y];for(c in u)n[c]=u[c];for(let x=0;x<_.length;x++)c=_[x],Object.prototype.hasOwnProperty.call(u,c)&&(n[c]=u[c])}}function P(n){var a=1;n=n.split(":");let c=[];for(;0<a&&n.length;)c.push(n.shift()),a--;return n.length&&c.push(n.join(":")),c}function w(n){d.setTimeout(()=>{throw n},0)}function f(){var n=br;let a=null;return n.g&&(a=n.g,n.g=n.g.next,n.g||(n.h=null),a.next=null),a}class ge{constructor(){this.h=this.g=null}add(a,c){let u=ei.get();u.set(a,c),this.h?this.h.next=u:this.g=u,this.h=u}}var ei=new Mt(()=>new Xd,n=>n.reset());class Xd{constructor(){this.next=this.g=this.h=null}set(a,c){this.h=a,this.g=c,this.next=null}reset(){this.next=this.g=this.h=null}}let ni,ii=!1,br=new ge,Us=()=>{let n=d.Promise.resolve(void 0);ni=()=>{n.then(Jd)}};var Jd=()=>{for(var n;n=f();){try{n.h.call(n.g)}catch(c){w(c)}var a=ei;a.j(n),100>a.h&&(a.h++,n.next=a.g,a.g=n)}ii=!1};function Ie(){this.s=this.s,this.C=this.C}Ie.prototype.s=!1,Ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Et(n,a){this.type=n,this.g=this.target=a,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var Zd=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var n=!1,a=Object.defineProperty({},"passive",{get:function(){n=!0}});try{let c=()=>{};d.addEventListener("test",c,a),d.removeEventListener("test",c,a)}catch{}return n}();function oi(n,a){if(Et.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var c=this.type=n.type,u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=a,a=n.relatedTarget){if(dn){t:{try{re(a.nodeName);var y=!0;break t}catch{}y=!1}y||(a=null)}}else c=="mouseover"?a=n.fromElement:c=="mouseout"&&(a=n.toElement);this.relatedTarget=a,u?(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:tu[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&oi.aa.h.call(this)}}R(oi,Et);var tu={2:"touch",3:"pen",4:"mouse"};oi.prototype.h=function(){oi.aa.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ri="closure_listenable_"+(1e6*Math.random()|0),eu=0;function nu(n,a,c,u,y){this.listener=n,this.proxy=null,this.src=a,this.type=c,this.capture=!!u,this.ha=y,this.key=++eu,this.da=this.fa=!1}function to(n){n.da=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function eo(n){this.src=n,this.g={},this.h=0}eo.prototype.add=function(n,a,c,u,y){var x=n.toString();n=this.g[x],n||(n=this.g[x]=[],this.h++);var T=vr(n,a,u,y);return-1<T?(a=n[T],c||(a.fa=!1)):(a=new nu(a,this.src,x,!!u,y),a.fa=c,n.push(a)),a};function Cr(n,a){var c=a.type;if(c in n.g){var u=n.g[c],y=Array.prototype.indexOf.call(u,a,void 0),x;(x=0<=y)&&Array.prototype.splice.call(u,y,1),x&&(to(a),n.g[c].length==0&&(delete n.g[c],n.h--))}}function vr(n,a,c,u){for(var y=0;y<n.length;++y){var x=n[y];if(!x.da&&x.listener==a&&x.capture==!!c&&x.ha==u)return y}return-1}var Pr="closure_lm_"+(1e6*Math.random()|0),yr={};function Bs(n,a,c,u,y){if(u&&u.once)return js(n,a,c,u,y);if(Array.isArray(a)){for(var x=0;x<a.length;x++)Bs(n,a[x],c,u,y);return null}return c=xr(c),n&&n[ri]?n.K(a,c,b(u)?!!u.capture:!!u,y):zs(n,a,c,!1,u,y)}function zs(n,a,c,u,y,x){if(!a)throw Error("Invalid event type");var T=b(y)?!!y.capture:!!y,st=Or(n);if(st||(n[Pr]=st=new eo(n)),c=st.add(a,c,u,T,x),c.proxy)return c;if(u=iu(),c.proxy=u,u.src=n,u.listener=c,n.addEventListener)Zd||(y=T),y===void 0&&(y=!1),n.addEventListener(a.toString(),u,y);else if(n.attachEvent)n.attachEvent(qs(a.toString()),u);else if(n.addListener&&n.removeListener)n.addListener(u);else throw Error("addEventListener and attachEvent are unavailable.");return c}function iu(){function n(c){return a.call(n.src,n.listener,c)}let a=ou;return n}function js(n,a,c,u,y){if(Array.isArray(a)){for(var x=0;x<a.length;x++)js(n,a[x],c,u,y);return null}return c=xr(c),n&&n[ri]?n.L(a,c,b(u)?!!u.capture:!!u,y):zs(n,a,c,!0,u,y)}function Gs(n,a,c,u,y){if(Array.isArray(a))for(var x=0;x<a.length;x++)Gs(n,a[x],c,u,y);else u=b(u)?!!u.capture:!!u,c=xr(c),n&&n[ri]?(n=n.i,a=String(a).toString(),a in n.g&&(x=n.g[a],c=vr(x,c,u,y),-1<c&&(to(x[c]),Array.prototype.splice.call(x,c,1),x.length==0&&(delete n.g[a],n.h--)))):n&&(n=Or(n))&&(a=n.g[a.toString()],n=-1,a&&(n=vr(a,c,u,y)),(c=-1<n?a[n]:null)&&Mr(c))}function Mr(n){if(typeof n!="number"&&n&&!n.da){var a=n.src;if(a&&a[ri])Cr(a.i,n);else{var c=n.type,u=n.proxy;a.removeEventListener?a.removeEventListener(c,u,n.capture):a.detachEvent?a.detachEvent(qs(c),u):a.addListener&&a.removeListener&&a.removeListener(u),(c=Or(a))?(Cr(c,n),c.h==0&&(c.src=null,a[Pr]=null)):to(n)}}}function qs(n){return n in yr?yr[n]:yr[n]="on"+n}function ou(n,a){if(n.da)n=!0;else{a=new oi(a,this);var c=n.listener,u=n.ha||n.src;n.fa&&Mr(n),n=c.call(u,a)}return n}function Or(n){return n=n[Pr],n instanceof eo?n:null}var wr="__closure_events_fn_"+(1e9*Math.random()>>>0);function xr(n){return typeof n=="function"?n:(n[wr]||(n[wr]=function(a){return n.handleEvent(a)}),n[wr])}function Tt(){Ie.call(this),this.i=new eo(this),this.M=this,this.F=null}R(Tt,Ie),Tt.prototype[ri]=!0,Tt.prototype.removeEventListener=function(n,a,c,u){Gs(this,n,a,c,u)};function Ut(n,a){var c,u=n.F;if(u)for(c=[];u;u=u.F)c.push(u);if(n=n.M,u=a.type||a,typeof a=="string")a=new Et(a,n);else if(a instanceof Et)a.target=a.target||n;else{var y=a;a=new Et(u,n),v(a,y)}if(y=!0,c)for(var x=c.length-1;0<=x;x--){var T=a.g=c[x];y=no(T,u,!0,a)&&y}if(T=a.g=n,y=no(T,u,!0,a)&&y,y=no(T,u,!1,a)&&y,c)for(x=0;x<c.length;x++)T=a.g=c[x],y=no(T,u,!1,a)&&y}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var n=this.i,a;for(a in n.g){for(var c=n.g[a],u=0;u<c.length;u++)to(c[u]);delete n.g[a],n.h--}}this.F=null},Tt.prototype.K=function(n,a,c,u){return this.i.add(String(n),a,!1,c,u)},Tt.prototype.L=function(n,a,c,u){return this.i.add(String(n),a,!0,c,u)};function no(n,a,c,u){if(a=n.i.g[String(a)],!a)return!0;a=a.concat();for(var y=!0,x=0;x<a.length;++x){var T=a[x];if(T&&!T.da&&T.capture==c){var st=T.listener,Ot=T.ha||T.src;T.fa&&Cr(n.i,T),y=st.call(Ot,u)!==!1&&y}}return y&&!u.defaultPrevented}function $s(n,a,c){if(typeof n=="function")c&&(n=V(n,c));else if(n&&typeof n.handleEvent=="function")n=V(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:d.setTimeout(n,a||0)}function Ks(n){n.g=$s(()=>{n.g=null,n.i&&(n.i=!1,Ks(n))},n.l);let a=n.h;n.h=null,n.m.apply(null,a)}class ru extends Ie{constructor(a,c){super(),this.m=a,this.l=c,this.h=null,this.i=!1,this.g=null}j(a){this.h=arguments,this.g?this.i=!0:Ks(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(n){Ie.call(this),this.h=n,this.g={}}R(si,Ie);var Hs=[];function Qs(n){se(n.g,function(a,c){this.g.hasOwnProperty(c)&&Mr(a)},n),n.g={}}si.prototype.N=function(){si.aa.N.call(this),Qs(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ir=d.JSON.stringify,su=d.JSON.parse,au=class{stringify(n){return d.JSON.stringify(n,void 0)}parse(n){return d.JSON.parse(n,void 0)}};function Er(){}Er.prototype.h=null;function Ws(n){return n.h||(n.h=n.i())}function Ys(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tr(){Et.call(this,"d")}R(Tr,Et);function Sr(){Et.call(this,"c")}R(Sr,Et);var je={},Xs=null;function io(){return Xs=Xs||new Tt}je.La="serverreachability";function Js(n){Et.call(this,je.La,n)}R(Js,Et);function ci(n){let a=io();Ut(a,new Js(a))}je.STAT_EVENT="statevent";function Zs(n,a){Et.call(this,je.STAT_EVENT,n),this.stat=a}R(Zs,Et);function Bt(n){let a=io();Ut(a,new Zs(a,n))}je.Ma="timingevent";function ta(n,a){Et.call(this,je.Ma,n),this.size=a}R(ta,Et);function li(n,a){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){n()},a)}function di(){this.g=!0}di.prototype.xa=function(){this.g=!1};function cu(n,a,c,u,y,x){n.info(function(){if(n.g)if(x)for(var T="",st=x.split("&"),Ot=0;Ot<st.length;Ot++){var J=st[Ot].split("=");if(1<J.length){var St=J[0];J=J[1];var At=St.split("_");T=2<=At.length&&At[1]=="type"?T+(St+"="+J+"&"):T+(St+"=redacted&")}}else T=null;else T=x;return"XMLHTTP REQ ("+u+") [attempt "+y+"]: "+a+`
`+c+`
`+T})}function lu(n,a,c,u,y,x,T){n.info(function(){return"XMLHTTP RESP ("+u+") [ attempt "+y+"]: "+a+`
`+c+`
`+x+" "+T})}function un(n,a,c,u){n.info(function(){return"XMLHTTP TEXT ("+a+"): "+uu(n,c)+(u?" "+u:"")})}function du(n,a){n.info(function(){return"TIMEOUT: "+a})}di.prototype.info=function(){};function uu(n,a){if(!n.g)return a;if(!a)return null;try{var c=JSON.parse(a);if(c){for(n=0;n<c.length;n++)if(Array.isArray(c[n])){var u=c[n];if(!(2>u.length)){var y=u[1];if(Array.isArray(y)&&!(1>y.length)){var x=y[0];if(x!="noop"&&x!="stop"&&x!="close")for(var T=1;T<y.length;T++)y[T]=""}}}}return Ir(c)}catch{return a}}var oo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ea={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ar;function ro(){}R(ro,Er),ro.prototype.g=function(){return new XMLHttpRequest},ro.prototype.i=function(){return{}},Ar=new ro;function Ee(n,a,c,u){this.j=n,this.i=a,this.l=c,this.R=u||1,this.U=new si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new na}function na(){this.i=null,this.g="",this.h=!1}var ia={},kr={};function Dr(n,a,c){n.L=1,n.v=lo(pe(a)),n.m=c,n.P=!0,oa(n,null)}function oa(n,a){n.F=Date.now(),so(n),n.A=pe(n.v);var c=n.A,u=n.R;Array.isArray(u)||(u=[String(u)]),ba(c.i,"t",u),n.C=0,c=n.j.J,n.h=new na,n.g=Va(n.j,c?a:null,!n.m),0<n.O&&(n.M=new ru(V(n.Y,n,n.g),n.O)),a=n.U,c=n.g,u=n.ca;var y="readystatechange";Array.isArray(y)||(y&&(Hs[0]=y.toString()),y=Hs);for(var x=0;x<y.length;x++){var T=Bs(c,y[x],u||a.handleEvent,!1,a.h||a);if(!T)break;a.g[T.key]=T}a=n.H?p(n.H):{},n.m?(n.u||(n.u="POST"),a["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.m,a)):(n.u="GET",n.g.ea(n.A,n.u,null,a)),ci(),cu(n.i,n.u,n.A,n.l,n.R,n.m)}Ee.prototype.ca=function(n){n=n.target;let a=this.M;a&&fe(n)==3?a.j():this.Y(n)},Ee.prototype.Y=function(n){try{if(n==this.g)t:{let At=fe(this.g);var a=this.g.Ba();let gn=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||wa(this.g)))){this.J||At!=4||a==7||(a==8||0>=gn?ci(3):ci(2)),Rr(this);var c=this.g.Z();this.X=c;e:if(ra(this)){var u=wa(this.g);n="";var y=u.length,x=fe(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ge(this),ui(this);var T="";break e}this.h.i=new d.TextDecoder}for(a=0;a<y;a++)this.h.h=!0,n+=this.h.i.decode(u[a],{stream:!(x&&a==y-1)});u.length=0,this.h.g+=n,this.C=0,T=this.h.g}else T=this.g.oa();if(this.o=c==200,lu(this.i,this.u,this.A,this.l,this.R,At,c),this.o){if(this.T&&!this.K){e:{if(this.g){var st,Ot=this.g;if((st=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vt(st)){var J=st;break e}}J=null}if(c=J)un(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nr(this,c);else{this.o=!1,this.s=3,Bt(12),Ge(this),ui(this);break t}}if(this.P){c=!0;let ee;for(;!this.J&&this.C<T.length;)if(ee=mu(this,T),ee==kr){At==4&&(this.s=4,Bt(14),c=!1),un(this.i,this.l,null,"[Incomplete Response]");break}else if(ee==ia){this.s=4,Bt(15),un(this.i,this.l,T,"[Invalid Chunk]"),c=!1;break}else un(this.i,this.l,ee,null),Nr(this,ee);if(ra(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||T.length!=0||this.h.h||(this.s=1,Bt(16),c=!1),this.o=this.o&&c,!c)un(this.i,this.l,T,"[Invalid Chunked Response]"),Ge(this),ui(this);else if(0<T.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),zr(St),St.M=!0,Bt(11))}}else un(this.i,this.l,T,null),Nr(this,T);At==4&&Ge(this),this.o&&!this.J&&(At==4?ka(this.j,this):(this.o=!1,so(this)))}else Tu(this.g),c==400&&0<T.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),Ge(this),ui(this)}}}catch{}finally{}};function ra(n){return n.g?n.u=="GET"&&n.L!=2&&n.j.Ca:!1}function mu(n,a){var c=n.C,u=a.indexOf(`
`,c);return u==-1?kr:(c=Number(a.substring(c,u)),isNaN(c)?ia:(u+=1,u+c>a.length?kr:(a=a.slice(u,u+c),n.C=u+c,a)))}Ee.prototype.cancel=function(){this.J=!0,Ge(this)};function so(n){n.S=Date.now()+n.I,sa(n,n.I)}function sa(n,a){if(n.B!=null)throw Error("WatchDog timer not null");n.B=li(V(n.ba,n),a)}function Rr(n){n.B&&(d.clearTimeout(n.B),n.B=null)}Ee.prototype.ba=function(){this.B=null;let n=Date.now();0<=n-this.S?(du(this.i,this.A),this.L!=2&&(ci(),Bt(17)),Ge(this),this.s=2,ui(this)):sa(this,this.S-n)};function ui(n){n.j.G==0||n.J||ka(n.j,n)}function Ge(n){Rr(n);var a=n.M;a&&typeof a.ma=="function"&&a.ma(),n.M=null,Qs(n.U),n.g&&(a=n.g,n.g=null,a.abort(),a.ma())}function Nr(n,a){try{var c=n.j;if(c.G!=0&&(c.g==n||Vr(c.h,n))){if(!n.K&&Vr(c.h,n)&&c.G==3){try{var u=c.Da.g.parse(a)}catch{u=null}if(Array.isArray(u)&&u.length==3){var y=u;if(y[0]==0){t:if(!c.u){if(c.g)if(c.g.F+3e3<n.F)po(c),ho(c);else break t;Br(c),Bt(18)}}else c.za=y[1],0<c.za-c.T&&37500>y[2]&&c.F&&c.v==0&&!c.C&&(c.C=li(V(c.Za,c),6e3));if(1>=la(c.h)&&c.ca){try{c.ca()}catch{}c.ca=void 0}}else $e(c,11)}else if((n.K||c.g==n)&&po(c),!vt(a))for(y=c.Da.g.parse(a),a=0;a<y.length;a++){let J=y[a];if(c.T=J[0],J=J[1],c.G==2)if(J[0]=="c"){c.K=J[1],c.ia=J[2];let St=J[3];St!=null&&(c.la=St,c.j.info("VER="+c.la));let At=J[4];At!=null&&(c.Aa=At,c.j.info("SVER="+c.Aa));let gn=J[5];gn!=null&&typeof gn=="number"&&0<gn&&(u=1.5*gn,c.L=u,c.j.info("backChannelRequestTimeoutMs_="+u)),u=c;let ee=n.g;if(ee){let _o=ee.g?ee.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_o){var x=u.h;x.g||_o.indexOf("spdy")==-1&&_o.indexOf("quic")==-1&&_o.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Fr(x,x.h),x.h=null))}if(u.D){let jr=ee.g?ee.g.getResponseHeader("X-HTTP-Session-Id"):null;jr&&(u.ya=jr,ut(u.I,u.D,jr))}}c.G=3,c.l&&c.l.ua(),c.ba&&(c.R=Date.now()-n.F,c.j.info("Handshake RTT: "+c.R+"ms")),u=c;var T=n;if(u.qa=Na(u,u.J?u.ia:null,u.W),T.K){da(u.h,T);var st=T,Ot=u.L;Ot&&(st.I=Ot),st.B&&(Rr(st),so(st)),u.g=T}else Sa(u);0<c.i.length&&go(c)}else J[0]!="stop"&&J[0]!="close"||$e(c,7);else c.G==3&&(J[0]=="stop"||J[0]=="close"?J[0]=="stop"?$e(c,7):Ur(c):J[0]!="noop"&&c.l&&c.l.ta(J),c.v=0)}}ci(4)}catch{}}var hu=class{constructor(n,a){this.g=n,this.map=a}};function aa(n){this.l=n||10,d.PerformanceNavigationTiming?(n=d.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ca(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function la(n){return n.h?1:n.g?n.g.size:0}function Vr(n,a){return n.h?n.h==a:n.g?n.g.has(a):!1}function Fr(n,a){n.g?n.g.add(a):n.h=a}function da(n,a){n.h&&n.h==a?n.h=null:n.g&&n.g.has(a)&&n.g.delete(a)}aa.prototype.cancel=function(){if(this.i=ua(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let n of this.g.values())n.cancel();this.g.clear()}};function ua(n){if(n.h!=null)return n.i.concat(n.h.D);if(n.g!=null&&n.g.size!==0){let a=n.i;for(let c of n.g.values())a=a.concat(c.D);return a}return rt(n.i)}function gu(n){if(n.V&&typeof n.V=="function")return n.V();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(m(n)){for(var a=[],c=n.length,u=0;u<c;u++)a.push(n[u]);return a}a=[],c=0;for(u in n)a[c++]=n[u];return a}function pu(n){if(n.na&&typeof n.na=="function")return n.na();if(!n.V||typeof n.V!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(m(n)||typeof n=="string"){var a=[];n=n.length;for(var c=0;c<n;c++)a.push(c);return a}a=[],c=0;for(let u in n)a[c++]=u;return a}}}function ma(n,a){if(n.forEach&&typeof n.forEach=="function")n.forEach(a,void 0);else if(m(n)||typeof n=="string")Array.prototype.forEach.call(n,a,void 0);else for(var c=pu(n),u=gu(n),y=u.length,x=0;x<y;x++)a.call(void 0,u[x],c&&c[x],n)}var ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fu(n,a){if(n){n=n.split("&");for(var c=0;c<n.length;c++){var u=n[c].indexOf("="),y=null;if(0<=u){var x=n[c].substring(0,u);y=n[c].substring(u+1)}else x=n[c];a(x,y?decodeURIComponent(y.replace(/\+/g," ")):"")}}}function qe(n){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,n instanceof qe){this.h=n.h,ao(this,n.j),this.o=n.o,this.g=n.g,co(this,n.s),this.l=n.l;var a=n.i,c=new gi;c.i=a.i,a.g&&(c.g=new Map(a.g),c.h=a.h),ga(this,c),this.m=n.m}else n&&(a=String(n).match(ha))?(this.h=!1,ao(this,a[1]||"",!0),this.o=mi(a[2]||""),this.g=mi(a[3]||"",!0),co(this,a[4]),this.l=mi(a[5]||"",!0),ga(this,a[6]||"",!0),this.m=mi(a[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}qe.prototype.toString=function(){var n=[],a=this.j;a&&n.push(hi(a,pa,!0),":");var c=this.g;return(c||a=="file")&&(n.push("//"),(a=this.o)&&n.push(hi(a,pa,!0),"@"),n.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.s,c!=null&&n.push(":",String(c))),(c=this.l)&&(this.g&&c.charAt(0)!="/"&&n.push("/"),n.push(hi(c,c.charAt(0)=="/"?Cu:bu,!0))),(c=this.i.toString())&&n.push("?",c),(c=this.m)&&n.push("#",hi(c,Pu)),n.join("")};function pe(n){return new qe(n)}function ao(n,a,c){n.j=c?mi(a,!0):a,n.j&&(n.j=n.j.replace(/:$/,""))}function co(n,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);n.s=a}else n.s=null}function ga(n,a,c){a instanceof gi?(n.i=a,yu(n.i,n.h)):(c||(a=hi(a,vu)),n.i=new gi(a,n.h))}function ut(n,a,c){n.i.set(a,c)}function lo(n){return ut(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function mi(n,a){return n?a?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function hi(n,a,c){return typeof n=="string"?(n=encodeURI(n).replace(a,_u),c&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function _u(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var pa=/[#\/\?@]/g,bu=/[#\?:]/g,Cu=/[#\?]/g,vu=/[#\?@]/g,Pu=/#/g;function gi(n,a){this.h=this.g=null,this.i=n||null,this.j=!!a}function Te(n){n.g||(n.g=new Map,n.h=0,n.i&&fu(n.i,function(a,c){n.add(decodeURIComponent(a.replace(/\+/g," ")),c)}))}i=gi.prototype,i.add=function(n,a){Te(this),this.i=null,n=mn(this,n);var c=this.g.get(n);return c||this.g.set(n,c=[]),c.push(a),this.h+=1,this};function fa(n,a){Te(n),a=mn(n,a),n.g.has(a)&&(n.i=null,n.h-=n.g.get(a).length,n.g.delete(a))}function _a(n,a){return Te(n),a=mn(n,a),n.g.has(a)}i.forEach=function(n,a){Te(this),this.g.forEach(function(c,u){c.forEach(function(y){n.call(a,y,u,this)},this)},this)},i.na=function(){Te(this);let n=Array.from(this.g.values()),a=Array.from(this.g.keys()),c=[];for(let u=0;u<a.length;u++){let y=n[u];for(let x=0;x<y.length;x++)c.push(a[u])}return c},i.V=function(n){Te(this);let a=[];if(typeof n=="string")_a(this,n)&&(a=a.concat(this.g.get(mn(this,n))));else{n=Array.from(this.g.values());for(let c=0;c<n.length;c++)a=a.concat(n[c])}return a},i.set=function(n,a){return Te(this),this.i=null,n=mn(this,n),_a(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[a]),this.h+=1,this},i.get=function(n,a){return n?(n=this.V(n),0<n.length?String(n[0]):a):a};function ba(n,a,c){fa(n,a),0<c.length&&(n.i=null,n.g.set(mn(n,a),rt(c)),n.h+=c.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";let n=[],a=Array.from(this.g.keys());for(var c=0;c<a.length;c++){var u=a[c];let x=encodeURIComponent(String(u)),T=this.V(u);for(u=0;u<T.length;u++){var y=x;T[u]!==""&&(y+="="+encodeURIComponent(String(T[u]))),n.push(y)}}return this.i=n.join("&")};function mn(n,a){return a=String(a),n.j&&(a=a.toLowerCase()),a}function yu(n,a){a&&!n.j&&(Te(n),n.i=null,n.g.forEach(function(c,u){var y=u.toLowerCase();u!=y&&(fa(this,u),ba(this,y,c))},n)),n.j=a}function Mu(n,a){let c=new di;if(d.Image){let u=new Image;u.onload=N(Se,c,"TestLoadImage: loaded",!0,a,u),u.onerror=N(Se,c,"TestLoadImage: error",!1,a,u),u.onabort=N(Se,c,"TestLoadImage: abort",!1,a,u),u.ontimeout=N(Se,c,"TestLoadImage: timeout",!1,a,u),d.setTimeout(function(){u.ontimeout&&u.ontimeout()},1e4),u.src=n}else a(!1)}function Ou(n,a){let c=new di,u=new AbortController,y=setTimeout(()=>{u.abort(),Se(c,"TestPingServer: timeout",!1,a)},1e4);fetch(n,{signal:u.signal}).then(x=>{clearTimeout(y),x.ok?Se(c,"TestPingServer: ok",!0,a):Se(c,"TestPingServer: server error",!1,a)}).catch(()=>{clearTimeout(y),Se(c,"TestPingServer: error",!1,a)})}function Se(n,a,c,u,y){try{y&&(y.onload=null,y.onerror=null,y.onabort=null,y.ontimeout=null),u(c)}catch{}}function wu(){this.g=new au}function xu(n,a,c){let u=c||"";try{ma(n,function(y,x){let T=y;b(y)&&(T=Ir(y)),a.push(u+x+"="+encodeURIComponent(T))})}catch(y){throw a.push(u+"type="+encodeURIComponent("_badmap")),y}}function pi(n){this.l=n.Ub||null,this.j=n.eb||!1}R(pi,Er),pi.prototype.g=function(){return new uo(this.l,this.j)},pi.prototype.i=function(n){return function(){return n}}({});function uo(n,a){Tt.call(this),this.D=n,this.o=a,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(uo,Tt),i=uo.prototype,i.open=function(n,a){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=n,this.A=a,this.readyState=1,_i(this)},i.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let a={headers:this.u,method:this.B,credentials:this.m,cache:void 0};n&&(a.body=n),(this.D||d).fetch(new Request(this.A,a)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},i.Sa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ca(this)}else n.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ca(n){n.j.read().then(n.Pa.bind(n)).catch(n.ga.bind(n))}i.Pa=function(n){if(this.g){if(this.o&&n.value)this.response.push(n.value);else if(!this.o){var a=n.value?n.value:new Uint8Array(0);(a=this.v.decode(a,{stream:!n.done}))&&(this.response=this.responseText+=a)}n.done?fi(this):_i(this),this.readyState==3&&Ca(this)}},i.Ra=function(n){this.g&&(this.response=this.responseText=n,fi(this))},i.Qa=function(n){this.g&&(this.response=n,fi(this))},i.ga=function(){this.g&&fi(this)};function fi(n){n.readyState=4,n.l=null,n.j=null,n.v=null,_i(n)}i.setRequestHeader=function(n,a){this.u.append(n,a)},i.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";let n=[],a=this.h.entries();for(var c=a.next();!c.done;)c=c.value,n.push(c[0]+": "+c[1]),c=a.next();return n.join(`\r
`)};function _i(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});function va(n){let a="";return se(n,function(c,u){a+=u,a+=":",a+=c,a+=`\r
`}),a}function Lr(n,a,c){t:{for(u in c){var u=!1;break t}u=!0}u||(c=va(c),typeof n=="string"?c!=null&&encodeURIComponent(String(c)):ut(n,a,c))}function gt(n){Tt.call(this),this.headers=new Map,this.o=n||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(gt,Tt);var Iu=/^https?$/i,Eu=["POST","PUT"];i=gt.prototype,i.Ha=function(n){this.J=n},i.ea=function(n,a,c,u){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+n);a=a?a.toUpperCase():"GET",this.D=n,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ar.g(),this.v=this.o?Ws(this.o):Ws(Ar),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(a,String(n),!0),this.B=!1}catch(x){Pa(this,x);return}if(n=c||"",c=new Map(this.headers),u)if(Object.getPrototypeOf(u)===Object.prototype)for(var y in u)c.set(y,u[y]);else if(typeof u.keys=="function"&&typeof u.get=="function")for(let x of u.keys())c.set(x,u.get(x));else throw Error("Unknown input type for opt_headers: "+String(u));u=Array.from(c.keys()).find(x=>x.toLowerCase()=="content-type"),y=d.FormData&&n instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Eu,a,void 0))||u||y||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,T]of c)this.g.setRequestHeader(x,T);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(n),this.u=!1}catch(x){Pa(this,x)}};function Pa(n,a){n.h=!1,n.g&&(n.j=!0,n.g.abort(),n.j=!1),n.l=a,n.m=5,ya(n),mo(n)}function ya(n){n.A||(n.A=!0,Ut(n,"complete"),Ut(n,"error"))}i.abort=function(n){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=n||7,Ut(this,"complete"),Ut(this,"abort"),mo(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mo(this,!0)),gt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},i.bb=function(){Ma(this)};function Ma(n){if(n.h&&typeof l<"u"&&(!n.v[1]||fe(n)!=4||n.Z()!=2)){if(n.u&&fe(n)==4)$s(n.Ea,0,n);else if(Ut(n,"readystatechange"),fe(n)==4){n.h=!1;try{let T=n.Z();t:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break t;default:a=!1}var c;if(!(c=a)){var u;if(u=T===0){var y=String(n.D).match(ha)[1]||null;!y&&d.self&&d.self.location&&(y=d.self.location.protocol.slice(0,-1)),u=!Iu.test(y?y.toLowerCase():"")}c=u}if(c)Ut(n,"complete"),Ut(n,"success");else{n.m=6;try{var x=2<fe(n)?n.g.statusText:""}catch{x=""}n.l=x+" ["+n.Z()+"]",ya(n)}}finally{mo(n)}}}}function mo(n,a){if(n.g){Oa(n);let c=n.g,u=n.v[0]?()=>{}:null;n.g=null,n.v=null,a||Ut(n,"ready");try{c.onreadystatechange=u}catch{}}}function Oa(n){n.I&&(d.clearTimeout(n.I),n.I=null)}i.isActive=function(){return!!this.g};function fe(n){return n.g?n.g.readyState:0}i.Z=function(){try{return 2<fe(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(n){if(this.g){var a=this.g.responseText;return n&&a.indexOf(n)==0&&(a=a.substring(n.length)),su(a)}};function wa(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.H){case"":case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Tu(n){let a={};n=(n.g&&2<=fe(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let u=0;u<n.length;u++){if(vt(n[u]))continue;var c=P(n[u]);let y=c[0];if(c=c[1],typeof c!="string")continue;c=c.trim();let x=a[y]||[];a[y]=x,x.push(c)}M(a,function(u){return u.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(n,a,c){return c&&c.internalChannelParams&&c.internalChannelParams[n]||a}function xa(n){this.Aa=0,this.i=[],this.j=new di,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bi("failFast",!1,n),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bi("baseRetryDelayMs",5e3,n),this.cb=bi("retryDelaySeedMs",1e4,n),this.Wa=bi("forwardChannelMaxRetries",2,n),this.wa=bi("forwardChannelRequestTimeoutMs",2e4,n),this.pa=n&&n.xmlHttpFactory||void 0,this.Xa=n&&n.Tb||void 0,this.Ca=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.h=new aa(n&&n.concurrentRequestLimit),this.Da=new wu,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=n&&n.Rb||!1,n&&n.xa&&this.j.xa(),n&&n.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&n&&n.detectBufferingProxy||!1,this.ja=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.ja=n.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=xa.prototype,i.la=8,i.G=1,i.connect=function(n,a,c,u){Bt(0),this.W=n,this.H=a||{},c&&u!==void 0&&(this.H.OSID=c,this.H.OAID=u),this.F=this.X,this.I=Na(this,null,this.W),go(this)};function Ur(n){if(Ia(n),n.G==3){var a=n.U++,c=pe(n.I);if(ut(c,"SID",n.K),ut(c,"RID",a),ut(c,"TYPE","terminate"),Ci(n,c),a=new Ee(n,n.j,a),a.L=2,a.v=lo(pe(c)),c=!1,d.navigator&&d.navigator.sendBeacon)try{c=d.navigator.sendBeacon(a.v.toString(),"")}catch{}!c&&d.Image&&(new Image().src=a.v,c=!0),c||(a.g=Va(a.j,null),a.g.ea(a.v)),a.F=Date.now(),so(a)}Ra(n)}function ho(n){n.g&&(zr(n),n.g.cancel(),n.g=null)}function Ia(n){ho(n),n.u&&(d.clearTimeout(n.u),n.u=null),po(n),n.h.cancel(),n.s&&(typeof n.s=="number"&&d.clearTimeout(n.s),n.s=null)}function go(n){if(!ca(n.h)&&!n.s){n.s=!0;var a=n.Ga;ni||Us(),ii||(ni(),ii=!0),br.add(a,n),n.B=0}}function Su(n,a){return la(n.h)>=n.h.j-(n.s?1:0)?!1:n.s?(n.i=a.D.concat(n.i),!0):n.G==1||n.G==2||n.B>=(n.Va?0:n.Wa)?!1:(n.s=li(V(n.Ga,n,a),Da(n,n.B)),n.B++,!0)}i.Ga=function(n){if(this.s)if(this.s=null,this.G==1){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;let y=new Ee(this,this.j,n),x=this.o;if(this.S&&(x?(x=p(x),v(x,this.S)):x=this.S),this.m!==null||this.O||(y.H=x,x=null),this.P)t:{for(var a=0,c=0;c<this.i.length;c++){e:{var u=this.i[c];if("__data__"in u.map&&(u=u.map.__data__,typeof u=="string")){u=u.length;break e}u=void 0}if(u===void 0)break;if(a+=u,4096<a){a=c;break t}if(a===4096||c===this.i.length-1){a=c+1;break t}}a=1e3}else a=1e3;a=Ta(this,y,a),c=pe(this.I),ut(c,"RID",n),ut(c,"CVER",22),this.D&&ut(c,"X-HTTP-Session-Id",this.D),Ci(this,c),x&&(this.O?a="headers="+encodeURIComponent(String(va(x)))+"&"+a:this.m&&Lr(c,this.m,x)),Fr(this.h,y),this.Ua&&ut(c,"TYPE","init"),this.P?(ut(c,"$req",a),ut(c,"SID","null"),y.T=!0,Dr(y,c,null)):Dr(y,c,a),this.G=2}}else this.G==3&&(n?Ea(this,n):this.i.length==0||ca(this.h)||Ea(this))};function Ea(n,a){var c;a?c=a.l:c=n.U++;let u=pe(n.I);ut(u,"SID",n.K),ut(u,"RID",c),ut(u,"AID",n.T),Ci(n,u),n.m&&n.o&&Lr(u,n.m,n.o),c=new Ee(n,n.j,c,n.B+1),n.m===null&&(c.H=n.o),a&&(n.i=a.D.concat(n.i)),a=Ta(n,c,1e3),c.I=Math.round(.5*n.wa)+Math.round(.5*n.wa*Math.random()),Fr(n.h,c),Dr(c,u,a)}function Ci(n,a){n.H&&se(n.H,function(c,u){ut(a,u,c)}),n.l&&ma({},function(c,u){ut(a,u,c)})}function Ta(n,a,c){c=Math.min(n.i.length,c);var u=n.l?V(n.l.Na,n.l,n):null;t:{var y=n.i;let x=-1;for(;;){let T=["count="+c];x==-1?0<c?(x=y[0].g,T.push("ofs="+x)):x=0:T.push("ofs="+x);let st=!0;for(let Ot=0;Ot<c;Ot++){let J=y[Ot].g,St=y[Ot].map;if(J-=x,0>J)x=Math.max(0,y[Ot].g-100),st=!1;else try{xu(St,T,"req"+J+"_")}catch{u&&u(St)}}if(st){u=T.join("&");break t}}}return n=n.i.splice(0,c),a.D=n,u}function Sa(n){if(!n.g&&!n.u){n.Y=1;var a=n.Fa;ni||Us(),ii||(ni(),ii=!0),br.add(a,n),n.v=0}}function Br(n){return n.g||n.u||3<=n.v?!1:(n.Y++,n.u=li(V(n.Fa,n),Da(n,n.v)),n.v++,!0)}i.Fa=function(){if(this.u=null,Aa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var n=2*this.R;this.j.info("BP detection timer enabled: "+n),this.A=li(V(this.ab,this),n)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),ho(this),Aa(this))};function zr(n){n.A!=null&&(d.clearTimeout(n.A),n.A=null)}function Aa(n){n.g=new Ee(n,n.j,"rpc",n.Y),n.m===null&&(n.g.H=n.o),n.g.O=0;var a=pe(n.qa);ut(a,"RID","rpc"),ut(a,"SID",n.K),ut(a,"AID",n.T),ut(a,"CI",n.F?"0":"1"),!n.F&&n.ja&&ut(a,"TO",n.ja),ut(a,"TYPE","xmlhttp"),Ci(n,a),n.m&&n.o&&Lr(a,n.m,n.o),n.L&&(n.g.I=n.L);var c=n.g;n=n.ia,c.L=1,c.v=lo(pe(a)),c.m=null,c.P=!0,oa(c,n)}i.Za=function(){this.C!=null&&(this.C=null,ho(this),Br(this),Bt(19))};function po(n){n.C!=null&&(d.clearTimeout(n.C),n.C=null)}function ka(n,a){var c=null;if(n.g==a){po(n),zr(n),n.g=null;var u=2}else if(Vr(n.h,a))c=a.D,da(n.h,a),u=1;else return;if(n.G!=0){if(a.o)if(u==1){c=a.m?a.m.length:0,a=Date.now()-a.F;var y=n.B;u=io(),Ut(u,new ta(u,c)),go(n)}else Sa(n);else if(y=a.s,y==3||y==0&&0<a.X||!(u==1&&Su(n,a)||u==2&&Br(n)))switch(c&&0<c.length&&(a=n.h,a.i=a.i.concat(c)),y){case 1:$e(n,5);break;case 4:$e(n,10);break;case 3:$e(n,6);break;default:$e(n,2)}}}function Da(n,a){let c=n.Ta+Math.floor(Math.random()*n.cb);return n.isActive()||(c*=2),c*a}function $e(n,a){if(n.j.info("Error code "+a),a==2){var c=V(n.fb,n),u=n.Xa;let y=!u;u=new qe(u||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ao(u,"https"),lo(u),y?Mu(u.toString(),c):Ou(u.toString(),c)}else Bt(2);n.G=0,n.l&&n.l.sa(a),Ra(n),Ia(n)}i.fb=function(n){n?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Ra(n){if(n.G=0,n.ka=[],n.l){let a=ua(n.h);(a.length!=0||n.i.length!=0)&&(nt(n.ka,a),nt(n.ka,n.i),n.h.i.length=0,rt(n.i),n.i.length=0),n.l.ra()}}function Na(n,a,c){var u=c instanceof qe?pe(c):new qe(c);if(u.g!="")a&&(u.g=a+"."+u.g),co(u,u.s);else{var y=d.location;u=y.protocol,a=a?a+"."+y.hostname:y.hostname,y=+y.port;var x=new qe(null);u&&ao(x,u),a&&(x.g=a),y&&co(x,y),c&&(x.l=c),u=x}return c=n.D,a=n.ya,c&&a&&ut(u,c,a),ut(u,"VER",n.la),Ci(n,u),u}function Va(n,a,c){if(a&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return a=n.Ca&&!n.pa?new gt(new pi({eb:c})):new gt(n.pa),a.Ha(n.J),a}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fa(){}i=Fa.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function fo(){}fo.prototype.g=function(n,a){return new Ht(n,a)};function Ht(n,a){Tt.call(this),this.g=new xa(a),this.l=n,this.h=a&&a.messageUrlParams||null,n=a&&a.messageHeaders||null,a&&a.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.o=n,n=a&&a.initMessageHeaders||null,a&&a.messageContentType&&(n?n["X-WebChannel-Content-Type"]=a.messageContentType:n={"X-WebChannel-Content-Type":a.messageContentType}),a&&a.va&&(n?n["X-WebChannel-Client-Profile"]=a.va:n={"X-WebChannel-Client-Profile":a.va}),this.g.S=n,(n=a&&a.Sb)&&!vt(n)&&(this.g.m=n),this.v=a&&a.supportsCrossDomainXhr||!1,this.u=a&&a.sendRawJson||!1,(a=a&&a.httpSessionIdParam)&&!vt(a)&&(this.g.D=a,n=this.h,n!==null&&a in n&&(n=this.h,a in n&&delete n[a])),this.j=new hn(this)}R(Ht,Tt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Ur(this.g)},Ht.prototype.o=function(n){var a=this.g;if(typeof n=="string"){var c={};c.__data__=n,n=c}else this.u&&(c={},c.__data__=Ir(n),n=c);a.i.push(new hu(a.Ya++,n)),a.G==3&&go(a)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Ur(this.g),delete this.g,Ht.aa.N.call(this)};function La(n){Tr.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var a=n.__sm__;if(a){t:{for(let c in a){n=c;break t}n=void 0}(this.i=n)&&(n=this.i,a=a!==null&&n in a?a[n]:void 0),this.data=a}else this.data=n}R(La,Tr);function Ua(){Sr.call(this),this.status=1}R(Ua,Sr);function hn(n){this.g=n}R(hn,Fa),hn.prototype.ua=function(){Ut(this.g,"a")},hn.prototype.ta=function(n){Ut(this.g,new La(n))},hn.prototype.sa=function(n){Ut(this.g,new Ua)},hn.prototype.ra=function(){Ut(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,pl=Oe.createWebChannelTransport=function(){return new fo},gl=Oe.getStatEventTarget=function(){return io()},hl=Oe.Event=je,ml=Oe.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oo.NO_ERROR=0,oo.TIMEOUT=8,oo.HTTP_ERROR=6,ul=Oe.ErrorCode=oo,ea.COMPLETE="complete",dl=Oe.EventType=ea,Ys.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,ll=Oe.WebChannel=Ys,Bm=Oe.FetchXmlHttpFactory=pi,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,cl=Oe.XhrIo=gt}).apply(typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{});var fl="@firebase/firestore",_l="4.8.0";var jt=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");var gr="11.10.0";var or=new Fn("@firebase/firestore");function oe(i,...t){if(or.logLevel<=at.DEBUG){let r=t.map(kl);or.debug(`Firestore (${gr}): ${i}`,...r)}}function Al(i,...t){if(or.logLevel<=at.ERROR){let r=t.map(kl);or.error(`Firestore (${gr}): ${i}`,...r)}}function kl(i){if(typeof i=="string")return i;try{return function(r){return JSON.stringify(r)}(i)}catch{return i}}function Qt(i,t,r){let e="Unexpected state";typeof t=="string"?e=t:r=t,Dl(i,e,r)}function Dl(i,t,r){let e=`FIRESTORE (${gr}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(r!==void 0)try{e+=" CONTEXT: "+JSON.stringify(r)}catch{e+=" CONTEXT: "+r}throw Al(e),new Error(e)}function an(i,t,r,e){let o="Unexpected state";typeof r=="string"?o=r:e=r,i||Dl(t,o,e)}var et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=class extends Pe{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var cn=class{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}};var fs=class{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},_s=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(jt.UNAUTHENTICATED))}shutdown(){}};var bs=class{constructor(t){this.t=t,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){an(this.o===void 0,42304);let e=this.i,o=m=>this.i!==e?(e=this.i,r(m)):Promise.resolve(),s=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cn,t.enqueueRetryable(()=>o(this.currentUser))};let l=()=>{let m=s;t.enqueueRetryable(()=>q(this,null,function*(){yield m.promise,yield o(this.currentUser)}))},d=m=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){let m=this.t.getImmediate({optional:!0});m?d(m):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cn)}},0),l()}getToken(){let t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(e=>this.i!==t?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(an(typeof e.accessToken=="string",31837,{l:e}),new fs(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return an(t===null||typeof t=="string",2055,{h:t}),new jt(t)}},Cs=class{constructor(t,r,e){this.P=t,this.T=r,this.I=e,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},vs=class{constructor(t,r,e){this.P=t,this.T=r,this.I=e}getToken(){return Promise.resolve(new Cs(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rr=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ps=class{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xc(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){an(this.o===void 0,3512);let e=s=>{s.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let l=s.token!==this.m;return this.m=s.token,oe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>e(s))};let o=s=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?o(s):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rr(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(an(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new rr(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function zm(i){let t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let e=0;e<i;e++)r[e]=Math.floor(256*Math.random());return r}function jm(){return new TextEncoder}var ys=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516),e="";for(;e.length<20;){let o=zm(40);for(let s=0;s<o.length;++s)e.length<20&&o[s]<r&&(e+=t.charAt(o[s]%62))}return e}};function te(i,t){return i<t?-1:i>t?1:0}function Gm(i,t){let r=0;for(;r<i.length&&r<t.length;){let e=i.codePointAt(r),o=t.codePointAt(r);if(e!==o){if(e<128&&o<128)return te(e,o);{let s=jm(),l=qm(s.encode(bl(i,r)),s.encode(bl(t,r)));return l!==0?l:te(e,o)}}r+=e>65535?2:1}return te(i.length,t.length)}function bl(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function qm(i,t){for(let r=0;r<i.length&&r<t.length;++r)if(i[r]!==t[r])return te(i[r],t[r]);return te(i.length,t.length)}var Cl="__name__",sr=class i{constructor(t,r,e){r===void 0?r=0:r>t.length&&Qt(637,{offset:r,range:t.length}),e===void 0?e=t.length-r:e>t.length-r&&Qt(1746,{length:e,range:t.length-r}),this.segments=t,this.offset=r,this.len=e}get length(){return this.len}isEqual(t){return i.comparator(this,t)===0}child(t){let r=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(e=>{r.push(e)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,e=this.limit();r<e;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){let e=Math.min(t.length,r.length);for(let o=0;o<e;o++){let s=i.compareSegments(t.get(o),r.get(o));if(s!==0)return s}return te(t.length,r.length)}static compareSegments(t,r){let e=i.isNumericId(t),o=i.isNumericId(r);return e&&!o?-1:!e&&o?1:e&&o?i.extractNumericId(t).compare(i.extractNumericId(r)):Gm(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nr.fromString(t.substring(4,t.length-2))}},we=class i extends sr{construct(t,r,e){return new i(t,r,e)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let r=[];for(let e of t){if(e.indexOf("//")>=0)throw new X(et.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);r.push(...e.split("/").filter(o=>o.length>0))}return new i(r)}static emptyPath(){return new i([])}},$m=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ms=class i extends sr{construct(t,r,e){return new i(t,r,e)}static isValidIdentifier(t){return $m.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cl}static keyField(){return new i([Cl])}static fromServerFormat(t){let r=[],e="",o=0,s=()=>{if(e.length===0)throw new X(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(e),e=""},l=!1;for(;o<t.length;){let d=t[o];if(d==="\\"){if(o+1===t.length)throw new X(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new X(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);e+=m,o+=2}else d==="`"?(l=!l,o++):d!=="."||l?(e+=d,o++):(s(),o++)}if(s(),l)throw new X(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new i(r)}static emptyPath(){return new i([])}};var xe=class i{constructor(t){this.path=t}static fromPath(t){return new i(we.fromString(t))}static fromName(t){return new i(we.fromString(t).popFirst(5))}static empty(){return new i(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&we.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return we.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new i(new we(t.slice()))}};function Km(i,t,r,e){if(t===!0&&e===!0)throw new X(et.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function Hm(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function bt(i,t){let r={typeString:i};return t&&(r.value=t),r}function Zi(i,t){if(!Hm(i))throw new X(et.INVALID_ARGUMENT,"JSON must be an object");let r;for(let e in t)if(t[e]){let o=t[e].typeString,s="value"in t[e]?{value:t[e].value}:void 0;if(!(e in i)){r=`JSON missing required field: '${e}'`;break}let l=i[e];if(o&&typeof l!==o){r=`JSON field '${e}' must be a ${o}.`;break}if(s!==void 0&&l!==s.value){r=`Expected '${e}' field to equal '${s.value}'`;break}}if(r)throw new X(et.INVALID_ARGUMENT,r);return!0}var vl=-62135596800,Pl=1e6,xt=class i{static now(){return i.fromMillis(Date.now())}static fromDate(t){return i.fromMillis(t.getTime())}static fromMillis(t){let r=Math.floor(t/1e3),e=Math.floor((t-1e3*r)*Pl);return new i(r,e)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new X(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new X(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<vl)throw new X(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new X(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pl}_compareTo(t){return this.seconds===t.seconds?te(this.nanoseconds,t.nanoseconds):te(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:i._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zi(t,i._jsonSchema))return new i(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-vl;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:bt("string",xt._jsonSchemaVersion),seconds:bt("number"),nanoseconds:bt("number")};var Os=class{constructor(t,r,e,o){this.indexId=t,this.collectionGroup=r,this.fields=e,this.indexState=o}};Os.UNKNOWN_ID=-1;function Qm(i){return i.name==="IndexedDbTransactionError"}function Wm(i){return i===0&&1/i==-1/0}var Ym="remoteDocuments",Rl="owner";var Nl="mutationQueues";var Vl="mutations";var Fl="documentMutations",Xm="remoteDocumentsV14";var Ll="remoteDocumentGlobal";var Ul="targets";var Bl="targetDocuments";var zl="targetGlobal",jl="collectionParents";var Gl="clientMetadata";var ql="bundles";var $l="namedQueries";var Jm="indexConfiguration";var Zm="indexState";var th="indexEntries";var Kl="documentOverlays";var eh="globals";var nh=[Nl,Vl,Fl,Ym,Ul,Rl,zl,Bl,Gl,Ll,jl,ql,$l],Vf=[...nh,Kl],ih=[Nl,Vl,Fl,Xm,Ul,Rl,zl,Bl,Gl,Ll,jl,ql,$l,Kl],oh=ih,rh=[...oh,Jm,Zm,th];var Ff=[...rh,eh];var Jn=class i{constructor(t,r){this.comparator=t,this.root=r||he.EMPTY}insert(t,r){return new i(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,he.BLACK,null,null))}remove(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,he.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){let e=this.comparator(t,r.key);if(e===0)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}indexOf(t){let r=0,e=this.root;for(;!e.isEmpty();){let o=this.comparator(t,e.key);if(o===0)return r+e.left.size;o<0?e=e.left:(r+=e.left.size+1,e=e.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,e)=>(t(r,e),!1))}toString(){let t=[];return this.inorderTraversal((r,e)=>(t.push(`${r}:${e}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qn(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qn(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qn(this.root,t,this.comparator,!0)}},Qn=class{constructor(t,r,e,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=r?e(t.key,r):1,r&&o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},he=class i{constructor(t,r,e,o,s){this.key=t,this.value=r,this.color=e!=null?e:i.RED,this.left=o!=null?o:i.EMPTY,this.right=s!=null?s:i.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,e,o,s){return new i(t!=null?t:this.key,r!=null?r:this.value,e!=null?e:this.color,o!=null?o:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,e){let o=this,s=e(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,r,e),null):s===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(t,r,e)),o.fixUp()}removeMin(){if(this.left.isEmpty())return i.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let e,o=this;if(r(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(t,o.key)===0){if(o.right.isEmpty())return i.EMPTY;e=o.right.min(),o=o.copy(e.key,e.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qt(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw Qt(27949);return t+(this.isRed()?0:1)}};he.EMPTY=null,he.RED=!0,he.BLACK=!1;he.EMPTY=new class{constructor(){this.size=0}get key(){throw Qt(57766)}get value(){throw Qt(16141)}get color(){throw Qt(16727)}get left(){throw Qt(29726)}get right(){throw Qt(36894)}copy(t,r,e,o,s){return this}insert(t,r,e){return new he(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ar=class i{constructor(t){this.comparator=t,this.data=new Jn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,e)=>(t(r),!1))}forEachInRange(t,r){let e=this.data.getIteratorFrom(t[0]);for(;e.hasNext();){let o=e.getNext();if(this.comparator(o.key,t[1])>=0)return;r(o.key)}}forEachWhile(t,r){let e;for(e=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();e.hasNext();)if(!t(e.getNext().key))return}firstAfterOrEqual(t){let r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new cr(this.data.getIterator())}getIteratorFrom(t){return new cr(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(e=>{r=r.add(e)}),r}isEqual(t){if(!(t instanceof i)||this.size!==t.size)return!1;let r=this.data.getIterator(),e=t.data.getIterator();for(;r.hasNext();){let o=r.getNext().key,s=e.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(r=>{t.push(r)}),t}toString(){let t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){let r=new i(this.comparator);return r.data=t,r}},cr=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ws=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ze=class i{constructor(t){this.binaryString=t}static fromBase64String(t){let r=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ws("Invalid base64 string: "+s):s}}(t);return new i(r)}static fromUint8Array(t){let r=function(o){let s="";for(let l=0;l<o.length;++l)s+=String.fromCharCode(o[l]);return s}(t);return new i(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){let e=new Uint8Array(r.length);for(let o=0;o<r.length;o++)e[o]=r.charCodeAt(o);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return te(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};ze.EMPTY_BYTE_STRING=new ze("");var sh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ah(i){if(an(!!i,39018),typeof i=="string"){let t=0,r=sh.exec(i);if(an(!!r,46558,{timestamp:i}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),t=Number(o)}let e=new Date(i);return{seconds:Math.floor(e.getTime()/1e3),nanos:t}}return{seconds:Qi(i.seconds),nanos:Qi(i.nanos)}}function Qi(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ch(i){return typeof i=="string"?ze.fromBase64String(i):ze.fromUint8Array(i)}var yl="(default)",xs=class i{constructor(t,r){this.projectId=t,this.database=r||yl}static empty(){return new i("","")}get isDefaultDatabase(){return this.database===yl}isEqual(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database}};var Hl="__type__",lh="__max__";var Ql="__vector__",Wl="value";function dh(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Hl])===null||r===void 0?void 0:r.stringValue)===Ql}function uh(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===lh}var Uf={mapValue:{fields:{[Hl]:{stringValue:Ql},[Wl]:{arrayValue:{}}}}};var Is=class{constructor(t,r=null,e=[],o=[],s=null,l="F",d=null,m=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=e,this.filters=o,this.limit=s,this.limitType=l,this.startAt=d,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function mh(i){return new Is(i)}var Bf=new Jn(xe.comparator);var zf=new Jn(xe.comparator);var jf=new Jn(xe.comparator),Gf=new ar(xe.comparator);var qf=new ar(te);var Ml,Y;(Y=Ml||(Ml={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";var $f=new nr([4294967295,4294967295],0);var lr=class{constructor(){}bt(t,r){this.Dt(t,r),r.vt()}Dt(t,r){if("nullValue"in t)this.Ct(r,5);else if("booleanValue"in t)this.Ct(r,10),r.Ft(t.booleanValue?1:0);else if("integerValue"in t)this.Ct(r,15),r.Ft(Qi(t.integerValue));else if("doubleValue"in t){let e=Qi(t.doubleValue);isNaN(e)?this.Ct(r,13):(this.Ct(r,15),Wm(e)?r.Ft(0):r.Ft(e))}else if("timestampValue"in t){let e=t.timestampValue;this.Ct(r,20),typeof e=="string"&&(e=ah(e)),r.Mt(`${e.seconds||""}`),r.Ft(e.nanos||0)}else if("stringValue"in t)this.xt(t.stringValue,r),this.Ot(r);else if("bytesValue"in t)this.Ct(r,30),r.Nt(ch(t.bytesValue)),this.Ot(r);else if("referenceValue"in t)this.Bt(t.referenceValue,r);else if("geoPointValue"in t){let e=t.geoPointValue;this.Ct(r,45),r.Ft(e.latitude||0),r.Ft(e.longitude||0)}else"mapValue"in t?uh(t)?this.Ct(r,Number.MAX_SAFE_INTEGER):dh(t)?this.Lt(t.mapValue,r):(this.kt(t.mapValue,r),this.Ot(r)):"arrayValue"in t?(this.qt(t.arrayValue,r),this.Ot(r)):Qt(19022,{Qt:t})}xt(t,r){this.Ct(r,25),this.$t(t,r)}$t(t,r){r.Mt(t)}kt(t,r){let e=t.fields||{};this.Ct(r,55);for(let o of Object.keys(e))this.xt(o,r),this.Dt(e[o],r)}Lt(t,r){var e,o;let s=t.fields||{};this.Ct(r,53);let l=Wl,d=((o=(e=s[l].arrayValue)===null||e===void 0?void 0:e.values)===null||o===void 0?void 0:o.length)||0;this.Ct(r,15),r.Ft(Qi(d)),this.xt(l,r),this.Dt(s[l],r)}qt(t,r){let e=t.values||[];this.Ct(r,50);for(let o of e)this.Dt(o,r)}Bt(t,r){this.Ct(r,37),xe.fromName(t).path.forEach(e=>{this.Ct(r,60),this.$t(e,r)})}Ct(t,r){t.Ft(r)}Ot(t){t.Ft(2)}};lr.Ut=new lr;var Kf=new Uint8Array(0);var Yl=41943040,me=class i{static withCacheSize(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,e){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=e}};me.DEFAULT_COLLECTION_PERCENTILE=10,me.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,me.DEFAULT=new me(Yl,me.DEFAULT_COLLECTION_PERCENTILE,me.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),me.DISABLED=new me(-1,0,0);var hh=1048576;function ps(){return typeof document<"u"?document:null}var Es=class{constructor(t,r,e=1e3,o=1.5,s=6e4){this.Fi=t,this.timerId=r,this.d_=e,this.E_=o,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();let r=Math.floor(this.R_+this.p_()),e=Math.max(0,Date.now()-this.m_),o=Math.max(0,r-e);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${e} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Ts=class i{constructor(t,r,e,o,s){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=e,this.op=o,this.removalCallback=s,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,e,o,s){let l=Date.now()+e,d=new i(t,r,l,o,s);return d.start(e),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var Ol,wl;(wl=Ol||(Ol={})).Fa="default",wl.Cache="cache";function gh(i){let t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}var xl=new Map;var ph="firestore.googleapis.com",Il=!0,dr=class{constructor(t){var r,e;if(t.host===void 0){if(t.ssl!==void 0)throw new X(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ph,this.ssl=Il}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:Il;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Yl;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<hh)throw new X(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Km("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gh((e=t.experimentalLongPollingOptions)!==null&&e!==void 0?e:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(e,o){return e.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},Ss=class{constructor(t,r,e,o){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=e,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dr({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new X(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dr(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new _s;switch(e.type){case"firstParty":return new vs(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new X(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return q(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){let e=xl.get(r);e&&(oe("ComponentProvider","Removing Datastore"),xl.delete(r),e.terminate())}(this),Promise.resolve()}};var As=class i{constructor(t,r,e){this.converter=r,this._query=e,this.type="query",this.firestore=t}withConverter(t){return new i(this.firestore,t,this._query)}},ln=class i{constructor(t,r,e){this.converter=r,this._key=e,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new i(this.firestore,t,this._key)}toJSON(){return{type:i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,e){if(Zi(r,i._jsonSchema))return new i(t,e||null,new xe(we.fromString(r.referencePath)))}};ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:bt("string",ln._jsonSchemaVersion),referencePath:bt("string")};var ks=class i extends As{constructor(t,r,e){super(t,r,mh(e)),this._path=e,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new ln(this.firestore,null,new xe(t))}withConverter(t){return new i(this.firestore,t,this._path)}};var El="AsyncQueue",ur=class{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Es(this,"async_queue_retry"),this.oc=()=>{let e=ps();e&&oe(El,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=t;let r=ps();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;let r=ps();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});let r=new cn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}cc(){return q(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Qm(t))throw t;oe(El,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(t){let r=this._c.then(()=>(this.nc=!0,t().catch(e=>{throw this.tc=e,this.nc=!1,Al("INTERNAL UNHANDLED ERROR: ",Tl(e)),e}).then(e=>(this.nc=!1,e))));return this._c=r,r}enqueueAfterDelay(t,r,e){this.ac(),this.sc.indexOf(t)>-1&&(r=0);let o=Ts.createAndSchedule(this,t,r,e,s=>this.lc(s));return this.ec.push(o),o}ac(){this.tc&&Qt(47125,{hc:Tl(this.tc)})}verifyOperationInProgress(){}Pc(){return q(this,null,function*(){let t;do t=this._c,yield t;while(t!==this._c)})}Tc(t){for(let r of this.ec)if(r.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((r,e)=>r.targetTimeMs-e.targetTimeMs);for(let r of this.ec)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){let r=this.ec.indexOf(t);this.ec.splice(r,1)}};function Tl(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}var Ds=class extends Ss{constructor(t,r,e,o){super(t,r,e,o),this.type="firestore",this._queue=new ur,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return q(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new ur(t),this._firestoreClient=void 0,yield t}})}};var Wi=class i{constructor(t){this._byteString=t}static fromBase64String(t){try{return new i(ze.fromBase64String(t))}catch(r){throw new X(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new i(ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zi(t,i._jsonSchema))return i.fromBase64String(t.bytes)}};Wi._jsonSchemaVersion="firestore/bytes/1.0",Wi._jsonSchema={type:bt("string",Wi._jsonSchemaVersion),bytes:bt("string")};var mr=class{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new X(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ms(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var Yi=class i{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new X(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new X(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return te(this._lat,t._lat)||te(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:i._jsonSchemaVersion}}static fromJSON(t){if(Zi(t,i._jsonSchema))return new i(t.latitude,t.longitude)}};Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:bt("string",Yi._jsonSchemaVersion),latitude:bt("number"),longitude:bt("number")};var Xi=class i{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(e,o){if(e.length!==o.length)return!1;for(let s=0;s<e.length;++s)if(e[s]!==o[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zi(t,i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new i(t.vectorValues);throw new X(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:bt("string",Xi._jsonSchemaVersion),vectorValues:bt("object")};var fh=new RegExp("[~\\*/\\[\\]]");function _h(i,t,r){if(t.search(fh)>=0)throw Sl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new mr(...t.split("."))._internalPath}catch{throw Sl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Sl(i,t,r,e,o){let s=e&&!e.isEmpty(),l=o!==void 0,d=`Function ${t}() called with invalid data`;r&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(s||l)&&(m+=" (found",s&&(m+=` in field ${e}`),l&&(m+=` in document ${o}`),m+=")"),new X(et.INVALID_ARGUMENT,d+i+m)}var hr=class{constructor(t,r,e,o,s){this._firestore=t,this._userDataWriter=r,this._key=e,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new Rs(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let r=this._document.data.field(Xl("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}},Rs=class extends hr{data(){return super.data()}};function Xl(i,t){return typeof t=="string"?_h(i,t):t instanceof mr?t._internalPath:t._delegate._internalPath}var Wn=class{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Yn=class i extends hr{constructor(t,r,e,o,s,l){super(t,r,e,o,l),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let r=new Xn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){let e=this._document.data.field(Xl("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,r={};return r.type=i._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}};Yn._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yn._jsonSchema={type:bt("string",Yn._jsonSchemaVersion),bundleSource:bt("string","DocumentSnapshot"),bundleName:bt("string"),bundle:bt("string")};var Xn=class extends Yn{data(t={}){return super.data(t)}},Ji=class i{constructor(t,r,e,o){this._firestore=t,this._userDataWriter=r,this._snapshot=o,this.metadata=new Wn(o.hasPendingWrites,o.fromCache),this.query=e}get docs(){let t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(e=>{t.call(r,new Xn(this._firestore,this._userDataWriter,e.key,e,new Wn(this._snapshot.mutatedKeys.has(e.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new X(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(d=>{let m=new Xn(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Wn(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:l++}})}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>s||d.type!==3).map(d=>{let m=new Xn(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Wn(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter),b=-1,I=-1;return d.type!==0&&(b=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),I=l.indexOf(d.doc.key)),{type:bh(d.type),doc:m,oldIndex:b,newIndex:I}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=i._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ys.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let r=[],e=[],o=[];return this.docs.forEach(s=>{s._document!==null&&(r.push(s._document),e.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),o.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function bh(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qt(61501,{type:i})}}Ji._jsonSchemaVersion="firestore/querySnapshot/1.0",Ji._jsonSchema={type:bt("string",Ji._jsonSchemaVersion),bundleSource:bt("string","QuerySnapshot"),bundleName:bt("string"),bundle:bt("string")};(function(t,r=!0){(function(o){gr=o})(Jc),Ti(new Ve("firestore",(e,{instanceIdentifier:o,options:s})=>{let l=e.getProvider("app").getImmediate(),d=new Ds(new bs(e.getProvider("auth-internal")),new Ps(l,e.getProvider("app-check-internal")),function(b,I){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new X(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xs(b.options.projectId,I)}(l,o),l);return s=Object.assign({useFetchStreams:r},s),d._setSettings(s),d},"PUBLIC").setMultipleInstances(!0)),Ln(fl,_l,t),Ln(fl,_l,"esm2017")})();function Ch(i,t){i&1&&H(0,"mat-spinner",21)}function vh(i,t){i&1&&(h(0,"p",16),C(1,"Email is required"),g())}function Ph(i,t){i&1&&(h(0,"p",16),C(1,"Please enter a valid email address"),g())}function yh(i,t){i&1&&(h(0,"p",16),C(1,"This person is already a member of the group"),g())}function Mh(i,t){if(i&1&&(h(0,"p",22),C(1),g()),i&2){let r=k();Ct("user-found",r.userExists)("user-not-found",!r.userExists&&!r.checkingUser),O(),G(" ",r.getUserStatusText()," ")}}function Oh(i,t){if(i&1&&H(0,"img",31),i&2){let r=k().$implicit;S("src",r.photoURL,Ke)("alt",r.displayName)}}function wh(i,t){i&1&&(h(0,"mat-icon"),C(1,"person"),g())}function xh(i,t){if(i&1){let r=ct();h(0,"div",23)(1,"div",24),U(2,Oh,1,2,"img",25)(3,wh,2,0,"mat-icon",26),g(),h(4,"div",27)(5,"span",28),C(6),g(),h(7,"span",29),C(8),g()(),h(9,"button",30),F("click",function(){let o=Q(r).$implicit,s=k();return W(s.onDeleteMember(o.userId))}),h(10,"mat-icon"),C(11,"delete"),g()()()}if(i&2){let r=t.$implicit;O(2),S("ngIf",r.photoURL),O(),S("ngIf",!r.photoURL),O(3),$(r.displayName),O(2),$(r.email)}}var Zn=(()=>{let t=class t{constructor(e,o,s,l,d,m){this.fb=e,this.dialogRef=o,this.data=s,this.auth=l,this.userService=d,this.dialog=m,this.isSubmitting=!1,this.userExists=!1,this.checkingUser=!1,this.group=s.group,this.memberForm=this.fb.group({email:["",[lt.required,lt.email]]})}ngOnInit(){setTimeout(()=>{let e=document.querySelector('input[formControlName="email"]');e&&e.focus()},100)}onEmailChange(){return q(this,null,function*(){var o,s,l;let e=(o=this.memberForm.get("email"))==null?void 0:o.value;if(e&&this.isEmailAlreadyMember(e)){(s=this.memberForm.get("email"))==null||s.setErrors({alreadyMember:!0}),this.userExists=!1;return}if(e&&((l=this.memberForm.get("email"))!=null&&l.valid)){this.checkingUser=!0;try{let d=yield this.userService.findUserByEmail(e);this.userExists=!!d}catch(d){console.error("Error checking user:",d),this.userExists=!1}finally{this.checkingUser=!1}}else this.userExists=!1})}onSubmit(){return q(this,null,function*(){if(this.memberForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let o={email:this.memberForm.value.email.trim().toLowerCase(),role:sn.MEMBER};this.dialogRef.close(o)}catch(e){console.error("Error adding member:",e)}finally{this.isSubmitting=!1}}else this.memberForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(e){let o=this.memberForm.get(e);return o!=null&&o.hasError("required")?`${e.charAt(0).toUpperCase()+e.slice(1)} is required`:o!=null&&o.hasError("email")?"Please enter a valid email address":o!=null&&o.hasError("alreadyMember")?"This user is already a member of this group":""}isEmailAlreadyMember(e){return this.group.members.some(o=>o.email.toLowerCase()===e.toLowerCase())}getRoleDisplayName(e){return{admin:"Admin",member:"Member"}[e]||e}getUserStatusText(){var o,s;return this.checkingUser?"Checking if user exists...":this.userExists?"\u2713 User found in system - invitation will be sent immediately":((o=this.memberForm.get("email"))==null?void 0:o.value)&&((s=this.memberForm.get("email"))!=null&&s.valid)?"\u2139 User not found - invitation will be sent when they register":""}onDeleteMember(e){this.dialog.open(Je,{data:{title:"Delete Member",message:"Are you sure you want to delete this member? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(o=>{o&&this.dialogRef.close({action:"delete",userId:e})})}};t.\u0275fac=function(o){return new(o||t)(A(wn),A(Sn),A(Ao),A(Vt),A(Tn),A(de))},t.\u0275cmp=mt({type:t,selectors:[["app-add-member-dialog"]],decls:36,vars:10,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Add Member",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"member-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","email","formControlName","email","placeholder","Enter member's email address","autofocus","",1,"form-input",3,"input"],[1,"field-footer"],[1,"error-message"],[1,"status-message",3,"user-found","user-not-found"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"bottom-spacing"],["diameter","16"],[1,"status-message"],[1,"member-item"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],["mat-icon-button","",3,"click"],[3,"src","alt"]],template:function(o,s){if(o&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),F("click",function(){return s.onCancel()}),h(4,"mat-icon"),C(5,"arrow_back"),g()(),h(6,"h6",4),C(7," Add Member "),g()(),h(8,"button",5),F("click",function(){return s.onCancel()}),h(9,"mat-icon"),C(10,"close"),g()(),h(11,"button",6),F("click",function(){return s.onSubmit()}),U(12,Ch,1,0,"mat-spinner",7),C(13),g()()(),h(14,"div",8)(15,"div",9)(16,"form",10),F("ngSubmit",function(){return s.onSubmit()}),h(17,"div",11)(18,"label",12)(19,"mat-icon",13),C(20,"email"),g(),C(21," Email Address * "),g(),h(22,"input",14),F("input",function(){return s.onEmailChange()}),g(),h(23,"div",15),U(24,vh,2,0,"p",16)(25,Ph,2,0,"p",16)(26,yh,2,0,"p",16)(27,Mh,2,5,"p",17),g()(),h(28,"div",11)(29,"label",12)(30,"mat-icon",13),C(31,"people"),g(),C(32),g(),h(33,"div",18),U(34,xh,12,4,"div",19),g()(),H(35,"div",20),g()()()),o&2){let l,d,m;O(11),S("disabled",s.memberForm.invalid||s.isSubmitting),O(),S("ngIf",s.isSubmitting),O(),G(" ",s.isSubmitting?"Adding...":"Add"," "),O(3),S("formGroup",s.memberForm),O(8),pt((l=s.memberForm.get("email"))!=null&&l.hasError("required")&&((l=s.memberForm.get("email"))!=null&&l.touched)?24:-1),O(),pt((d=s.memberForm.get("email"))!=null&&d.hasError("email")&&((d=s.memberForm.get("email"))!=null&&d.touched)?25:-1),O(),pt((m=s.memberForm.get("email"))!=null&&m.hasError("alreadyMember")&&((m=s.memberForm.get("email"))!=null&&m.touched)?26:-1),O(),pt(s.getUserStatusText()?27:-1),O(5),G(" Current Members (",s.group.members.length,") "),O(2),S("ngForOf",s.group.members)}},dependencies:[Re,Nt,yn,Cn,vn,Pn,Mn,On,Kt,Zt,Lt,le,An],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.75rem;margin:.25rem 0 0;display:flex;align-items:center;gap:.25rem;padding:.5rem;border-radius:6px;font-weight:500}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#059669;background-color:#d1fae5;border:1px solid #a7f3d0}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#6ee7b7;background-color:#064e3b;border-color:#047857}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#d97706;background-color:#fef3c7;border:1px solid #fde68a}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#fbbf24;background-color:#451a03;border-color:#92400e}.members-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;border:1px solid #e5e7eb;border-radius:8px;background:#f9fafb}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]{max-height:250px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]{max-height:200px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;border-bottom:1px solid #e5e7eb;background:#fff}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.75rem;gap:.5rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.625rem;gap:.375rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center;overflow:hidden;flex-shrink:0}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:36px;height:36px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:32px;height:32px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{background:#374151}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:20px;width:20px;height:20px}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#374151;font-weight:500;font-size:.875rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#f3f4f6}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.65rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#9ca3af}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem;height:24px;font-weight:500}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.7rem;height:22px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.65rem;height:20px}}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let i=t;return i})();function Th(i,t){if(i&1){let r=ct();h(0,"button",15),F("click",function(o){Q(r);let s=k();return W(s.onDeleteGroup(o))}),h(1,"mat-icon"),C(2,"delete"),g(),h(3,"span"),C(4,"Delete Group"),g()()}}var td=(()=>{let t=class t{constructor(e,o,s){this.router=e,this.auth=o,this.dialog=s,this.isSelected=!1,this.isMobile=!1,this.groupSelected=new yt,this.addMember=new yt,this.deleteGroup=new yt}onGroupClick(){this.router.navigate(["dashboard/splitwise/group",this.group.id])}openAddMemberDialog(e){e.stopPropagation(),this.dialog.open(Zn,{width:this.isMobile?"90vw":"400px",maxWidth:this.isMobile?"400px":"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(s=>{s&&this.addMember.emit({groupId:this.group.id,request:s})})}onDeleteGroup(e){e.stopPropagation(),this.deleteGroup.emit(this.group)}getGroupMemberCount(){return this.group.members.filter(e=>e.isActive).length}getCurrentUserRole(){let e=this.auth.currentUser;if(!e)return"";let o=this.group.members.find(s=>s.userId===e.uid);return(o==null?void 0:o.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}formatDate(e){return e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString():""}formatCurrency(e,o="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:o}).format(e)}};t.\u0275fac=function(o){return new(o||t)(A(bn),A(Vt),A(de))},t.\u0275cmp=mt({type:t,selectors:[["app-group"]],inputs:{group:"group",isSelected:"isSelected",isMobile:"isMobile"},outputs:{groupSelected:"groupSelected",addMember:"addMember",deleteGroup:"deleteGroup"},decls:28,vars:12,consts:[["groupMenu","matMenu"],[1,"group-item",3,"click"],[1,"group-info"],[1,"group-header"],[1,"group-title-section"],[1,"group-name"],[1,"group-meta"],[1,"member-count"],[1,"member-text"],[1,"created-date"],[1,"group-actions"],["mat-icon-button","",1,"menu-trigger",3,"click","matMenuTriggerFor"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"]],template:function(o,s){if(o&1){let l=ct();h(0,"div",1),F("click",function(){return Q(l),W(s.onGroupClick())}),h(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),C(5),Ce(6,"titlecase"),g(),h(7,"div",6)(8,"span",7)(9,"mat-icon"),C(10,"people"),g(),h(11,"span",8),C(12),g()(),h(13,"span",9),C(14),g()()()()(),h(15,"div",10)(16,"button",11),F("click",function(m){return Q(l),W(m.stopPropagation())}),h(17,"mat-icon"),C(18,"more_vert"),g()(),h(19,"mat-menu",12,0)(21,"button",13),F("click",function(m){return Q(l),W(s.openAddMemberDialog(m))}),h(22,"mat-icon"),C(23,"person_add"),g(),h(24,"span"),C(25,"Add Member"),g()(),H(26,"mat-divider"),U(27,Th,5,0,"button",14),g()()()}if(o&2){let l=We(20);Ct("selected",s.isSelected)("mobile",s.isMobile),O(5),$(_n(6,10,s.group.name)),O(7),G("",s.getGroupMemberCount()," members"),O(2),G("Created ",s.formatDate(s.group.createdAt),""),O(2),S("matMenuTriggerFor",l),ae("aria-label","More options for "+s.group.name),O(11),S("ngIf",s.canManageGroup())}},dependencies:[Nt,Vo,Zt,Lt,Do,ko,Ro,Oo],styles:[".group-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:16px;border:1px solid #e0e0e0;border-radius:12px;margin-bottom:12px;cursor:pointer;transition:all .2s ease;background:#fff;position:relative;min-height:80px}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;box-shadow:0 4px 12px #1976d226;transform:translateY(-1px)}.group-item.selected[_ngcontent-%COMP%]{border-color:#1976d2;background:#f3f8ff;box-shadow:0 4px 12px #1976d233}.group-item.mobile[_ngcontent-%COMP%]{padding:12px;min-height:70px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{flex:1;min-width:0;margin-right:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.1rem;font-weight:600;color:#333;line-height:1.3;word-break:break-word}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.8rem;color:#666;font-weight:500}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#1976d2}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   .member-text[_ngcontent-%COMP%]{white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.75rem;color:#999;white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:flex-start}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d20a}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#f443360a}@media (max-width: 768px){.group-item[_ngcontent-%COMP%]{padding:12px;margin-bottom:8px;min-height:70px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{margin-right:8px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px;flex-direction:row;align-items:center}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 480px){.group-item[_ngcontent-%COMP%]{padding:10px;min-height:65px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:4px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.65rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:28px;height:28px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}@media (prefers-color-scheme: dark){.group-item[_ngcontent-%COMP%]{background:#2d2d2d;border-color:#404040;color:#e0e0e0}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;background:#3a3a3a}.group-item.selected[_ngcontent-%COMP%]{background:#1a3a5f;border-color:#1976d2}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{color:#e0e0e0}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{color:#b0b0b0}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{color:#888}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{color:#b0b0b0}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d21a}}"]});let i=t;return i})();var id=(i,t)=>t.id;function Ah(i,t){if(i&1){let r=ct();h(0,"div",17)(1,"div",18)(2,"div",19)(3,"h4"),C(4),g(),h(5,"p"),C(6),g(),h(7,"small"),C(8),g()(),h(9,"div",20)(10,"button",21),F("click",function(){let o=Q(r).$implicit,s=k(2);return W(s.acceptInvitation(o))}),h(11,"mat-icon"),C(12,"check"),g(),C(13," Accept "),g(),h(14,"button",22),F("click",function(){let o=Q(r).$implicit,s=k(2);return W(s.declineInvitation(o))}),h(15,"mat-icon"),C(16,"close"),g(),C(17," Decline "),g()()()()}if(i&2){let r=t.$implicit,e=k(2);O(4),$(r.groupName),O(2),G("Invited by ",r.invitedByDisplayName,""),O(2),$(e.formatDate(r.createdAt))}}function kh(i,t){if(i&1&&(h(0,"div",14)(1,"mat-card",15)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),C(5,"mail"),g(),C(6," Pending Invitations "),g()(),h(7,"mat-card-content")(8,"div",16),Hr(9,Ah,18,3,"div",17,id),g()()()()),i&2){let r=k();O(9),Qr(r.invitations)}}function Dh(i,t){if(i&1){let r=ct();h(0,"app-group",23),F("addMember",function(o){Q(r);let s=k();return W(s.handleAddMember(o))})("deleteGroup",function(o){Q(r);let s=k();return W(s.deleteGroup(o))}),g()}if(i&2){let r=t.$implicit,e=k();S("group",r)("isSelected",!1)("isMobile",e.isMobile)}}var od=(()=>{let t=class t{constructor(e,o,s,l,d){this.breakpointObserver=e,this.auth=o,this.store=s,this.dialog=l,this.notificationService=d,this.groups=[],this.invitations=[],this.isMobile=!1,this.currentUser=null,this.error=null,this.destroy$=new ne,this.breakpointObserver.observe([En.Handset]).pipe(be(this.destroy$)).subscribe(m=>{this.isMobile=m.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.loadData(),this.subscribeToStore()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(Kn).pipe(be(this.destroy$)).subscribe(e=>{this.groups=e.groups,this.invitations=e.invitations,this.error=e.error,this.error&&(this.notificationService.error(this.error),this.store.dispatch(Ue()))})}loadData(){this.store.dispatch(Bn()),this.store.dispatch(zn())}openCreateGroupDialog(){this.dialog.open(il,{width:this.isMobile?"90vw":"500px",maxWidth:this.isMobile?"500px":"90vw",disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(o=>{o&&this.store.dispatch(jn({request:o}))})}handleAddMember(e){this.store.dispatch(ue(e))}acceptInvitation(e){this.store.dispatch(Gn({invitationId:e.id}))}declineInvitation(e){this.store.dispatch(qn({invitationId:e.id}))}deleteGroup(e){this.dialog.open(Je,{width:"300px",data:{title:"Delete Group",message:'Are you sure you want to delete the group "${group.name}"?',confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(o=>{o&&this.store.dispatch(Fe({groupId:e.id}))})}formatDate(e){return e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString():""}formatCurrency(e,o="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:o}).format(e)}};t.\u0275fac=function(o){return new(o||t)(A(In),A(Vt),A($t),A(de),A(Ne))},t.\u0275cmp=mt({type:t,selectors:[["app-splitwise"]],decls:21,vars:1,consts:[[1,"splitwise-container"],[1,"header"],[1,"header-content"],[1,"title-section"],[1,"title-icon"],[1,"title"],[1,"subtitle"],[1,"header-actions"],["mat-raised-button","","color","primary",1,"create-group-btn",3,"click"],[1,"main-content"],["class","invitations-section",4,"ngIf"],[1,"groups-section"],[1,"groups-list"],[3,"group","isSelected","isMobile"],[1,"invitations-section"],[1,"invitations-card"],[1,"invitations-list"],[1,"invitation-item"],[1,"invitation-info"],[1,"invitation-details"],[1,"invitation-actions"],["mat-button","","color","primary",1,"accept-btn",3,"click"],["mat-button","","color","warn",1,"decline-btn",3,"click"],[3,"addMember","deleteGroup","group","isSelected","isMobile"]],template:function(o,s){o&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),C(5,"group"),g(),h(6,"h1",5),C(7,"Splitwise"),g(),h(8,"p",6),C(9,"Split expenses with friends and family"),g()(),h(10,"div",7)(11,"button",8),F("click",function(){return s.openCreateGroupDialog()}),h(12,"mat-icon"),C(13,"add"),g(),C(14," Create Group "),g()()()(),h(15,"div",9),U(16,kh,11,0,"div",10),h(17,"div",11)(18,"div",12),Hr(19,Dh,1,3,"app-group",13,id),g()()()()),o&2&&(O(16),S("ngIf",s.invitations.length>0),O(3),Qr(s.groups))},dependencies:[Nt,kn,Rn,Nn,Dn,Kt,Lt,td],styles:[".splitwise-container[_ngcontent-%COMP%]{background:#f9fafb;padding:20px}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}}.header[_ngcontent-%COMP%]{margin-bottom:30px}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));padding:1rem;border-radius:1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#fff}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:2.5rem;font-weight:700}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffffe6;margin:0;font-size:1.1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem}}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;font-weight:600;padding:12px 24px;border-radius:25px;transition:all .3s ease}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;border-color:#ffffff80;transform:translateY(-2px)}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;color:#fff}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.1rem}.main-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.invitations-section[_ngcontent-%COMP%]{margin-bottom:30px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]{padding:15px 0;border-bottom:1px solid #eee}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media (max-width: 768px){.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 5px;color:#666}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#999;font-size:.85rem}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background:#45a049}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]:hover{background:#da190b}.groups-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:30px}@media (max-width: 1024px){.groups-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fffffff2;border-radius:15px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#ccc;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin:0 0 10px;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 30px;font-size:1.1rem}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:12px 24px;border-radius:25px;font-weight:600}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#333;font-weight:600;font-size:1.3rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:30px}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{flex-direction:column}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]{border-color:#667eea;color:#667eea;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;margin:0 0 20px;font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid #eee}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#999;font-size:1.5rem;width:1.5rem;height:1.5rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#333;font-weight:500;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{color:#999;font-size:.8rem;text-transform:capitalize}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]{margin-bottom:20px}.groups-section[_ngcontent-%COMP%]{gap:15px}.details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 480px){.splitwise-container[_ngcontent-%COMP%]{padding:8px}.header[_ngcontent-%COMP%]{margin-bottom:15px}.groups-section[_ngcontent-%COMP%]{gap:10px}}"]});let i=t;return i})();function Rh(i,t){i&1&&H(0,"mat-spinner",33)}function Nh(i,t){i&1&&(h(0,"mat-icon"),C(1,"check"),g())}function Vh(i,t){i&1&&(h(0,"p",19),C(1,"Total amount is required"),g())}function Fh(i,t){i&1&&(h(0,"p",19),C(1,"Amount must be greater than 0"),g())}function Lh(i,t){if(i&1&&(h(0,"div",34)(1,"span",35),C(2,"Difference:"),g(),h(3,"span",36),C(4),h(5,"span",37),C(6),g()()()),i&2){let r=k();O(3),Ct("positive",r.getTotalSplitAmount()>r.totalAmount)("negative",r.getTotalSplitAmount()<r.totalAmount),O(),G(" ",r.formatCurrency(r.Math.abs(r.getTotalSplitAmount()-r.totalAmount))," "),O(2),$(r.getTotalSplitAmount()>r.totalAmount?"Over":"Under")}}function Uh(i,t){if(i&1&&H(0,"img",60),i&2){let r,e,o=k().$implicit,s=k();S("src",s.getMemberPhotoURL((r=o.get("userId"))==null?null:r.value),Ke)("alt",(e=o.get("displayName"))==null?null:e.value)}}function Bh(i,t){if(i&1&&(h(0,"div",61),C(1),g()),i&2){let r,e=k().$implicit,o=k();O(),G(" ",o.getMemberInitials((r=e.get("displayName"))==null?null:r.value)," ")}}function zh(i,t){if(i&1){let r=ct();h(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",41),U(4,Uh,1,2,"img",42)(5,Bh,2,1,"div",43),g(),h(6,"div",44)(7,"span",45),C(8),g(),h(9,"span",46),C(10),g()()(),h(11,"button",47),F("click",function(){let o=Q(r).index,s=k();return W(s.removeSplit(o))}),h(12,"mat-icon"),C(13,"delete"),g()()(),h(14,"div",48)(15,"div",49)(16,"div",50)(17,"label",51),C(18,"Amount"),g(),h(19,"div",52),H(20,"input",53),h(21,"span",54),C(22),g()()(),h(23,"div",50)(24,"label",51),C(25,"Percentage"),g(),h(26,"div",52),H(27,"input",55),h(28,"span",54),C(29,"%"),g()()()(),h(30,"div",56)(31,"label",57),H(32,"input",58),h(33,"span",59),C(34,"Paid"),g()()()()()}if(i&2){let r,e,o,s,l=t.$implicit,d=t.index,m=k();S("formGroupName",d),O(4),S("ngIf",m.getMemberPhotoURL((r=l.get("userId"))==null?null:r.value)),O(),S("ngIf",!m.getMemberPhotoURL((e=l.get("userId"))==null?null:e.value)),O(3),$((o=l.get("displayName"))==null?null:o.value),O(2),$((s=l.get("email"))==null?null:s.value),O(12),$(m.transaction.currency||"USD")}}function jh(i,t){if(i&1&&H(0,"img",60),i&2){let r=k().$implicit;S("src",r.photoURL,Ke)("alt",r.displayName)}}function Gh(i,t){if(i&1&&(h(0,"div",61),C(1),g()),i&2){let r=k().$implicit,e=k(2);O(),G(" ",e.getMemberInitials(r.displayName)," ")}}function qh(i,t){if(i&1){let r=ct();h(0,"button",67),F("click",function(){let o=Q(r).$implicit,s=k(2);return W(s.addMemberSplit(o))}),h(1,"div",41),U(2,jh,1,2,"img",42)(3,Gh,2,1,"div",43),g(),h(4,"div",40)(5,"span",45),C(6),g(),h(7,"span",46),C(8),g()(),h(9,"mat-icon",68),C(10,"add"),g()()}if(i&2){let r=t.$implicit;O(2),S("ngIf",r.photoURL),O(),S("ngIf",!r.photoURL),O(3),$(r.displayName),O(2),$(r.email)}}function $h(i,t){if(i&1&&(h(0,"div",62)(1,"div",63)(2,"div",64),C(3,"Available Members"),g(),h(4,"div",65),U(5,qh,11,4,"button",66),g()()()),i&2){let r=k();O(5),S("ngForOf",r.getAvailableMembers())}}function Kh(i,t){if(i&1&&(h(0,"div",72)(1,"mat-icon"),C(2,"error"),g(),h(3,"span"),C(4),Ce(5,"number"),g()()),i&2){let r=k(2);O(4),G("Total percentage must equal 100% (currently ",Yr(5,1,r.getTotalPercentage(),"1.1-1"),"%)")}}function Hh(i,t){if(i&1&&(h(0,"div",73)(1,"mat-icon"),C(2,"warning"),g(),h(3,"span"),C(4),g()()),i&2){let r=k(2);O(4),Wr("Split amounts don't match transaction total (",r.formatCurrency(r.Math.abs(r.getTotalSplitAmount()-r.totalAmount))," ",r.getTotalSplitAmount()>r.totalAmount?"over":"under",")")}}function Qh(i,t){if(i&1&&(h(0,"div",69),U(1,Kh,6,4,"div",70)(2,Hh,5,2,"div",71),g()),i&2){let r=k();O(),S("ngIf",r.Math.abs(r.getTotalPercentage()-100)>.01),O(),S("ngIf",r.Math.abs(r.getTotalSplitAmount()-r.totalAmount)>.01)}}var rd=(()=>{let t=class t{constructor(e,o,s){this.fb=e,this.dialogRef=o,this.data=s,this.totalAmount=0,this.splitMode="percentage",this.isSubmitting=!1,this.Math=Math,this.transaction=s.transaction,this.groupMembers=s.groupMembers,this.totalAmount=this.transaction.totalAmount}ngOnInit(){this.initForm()}initForm(){var e;this.editForm=this.fb.group({totalAmount:[this.transaction.totalAmount,[lt.required,lt.min(.01)]],splits:this.fb.array([])}),this.transaction.splits.forEach(o=>{this.addSplit(o)}),(e=this.editForm.get("totalAmount"))==null||e.valueChanges.subscribe(o=>{this.totalAmount=o,this.updateSplitPercentages()})}get splitsArray(){return this.editForm.get("splits")}addSplit(e){var s,l;let o=this.fb.group({userId:[(e==null?void 0:e.userId)||"",lt.required],displayName:[(e==null?void 0:e.displayName)||"",lt.required],email:[(e==null?void 0:e.email)||"",lt.required],amount:[(e==null?void 0:e.amount)||0,[lt.required,lt.min(0)]],percentage:[(e==null?void 0:e.percentage)||0,[lt.required,lt.min(0),lt.max(100)]],isPaid:[(e==null?void 0:e.isPaid)||!1]});this.splitsArray.push(o),(s=o.get("amount"))==null||s.valueChanges.subscribe(d=>{if(this.totalAmount>0&&d!==null&&d!==void 0){let m=d/this.totalAmount*100;o.patchValue({percentage:Math.round(m*100)/100},{emitEvent:!1})}}),(l=o.get("percentage"))==null||l.valueChanges.subscribe(d=>{if(d!=null){let m=d/100*this.totalAmount;o.patchValue({amount:Math.round(m*100)/100},{emitEvent:!1})}})}removeSplit(e){this.splitsArray.removeAt(e),this.updateSplitPercentages()}updateSplitPercentages(){this.splitsArray.controls.forEach(o=>{var l;let s=((l=o.get("amount"))==null?void 0:l.value)||0;if(this.totalAmount>0&&s!==null&&s!==void 0){let d=s/this.totalAmount*100;o.patchValue({percentage:Math.round(d*100)/100},{emitEvent:!1})}})}updateSplitAmounts(){this.splitsArray.controls.forEach(o=>{var l;let s=((l=o.get("percentage"))==null?void 0:l.value)||0;if(s!=null){let d=s/100*this.totalAmount;o.patchValue({amount:Math.round(d*100)/100},{emitEvent:!1})}})}addMemberSplit(e){if(!this.splitsArray.controls.find(s=>{var l;return((l=s.get("userId"))==null?void 0:l.value)===e.userId})){let s=this.fb.group({userId:[e.userId,lt.required],displayName:[e.displayName],email:[e.email,lt.required],amount:[0,[lt.required,lt.min(0)]],percentage:[0,[lt.required,lt.min(0),lt.max(100)]],isPaid:[!1]});this.splitsArray.push(s),this.updateSplitPercentages()}}getAvailableMembers(){let e=this.splitsArray.controls.map(o=>{var s;return(s=o.get("userId"))==null?void 0:s.value});return this.groupMembers.filter(o=>!e.includes(o.userId))}getTotalPercentage(){return this.splitsArray.controls.reduce((e,o)=>{var s;return e+(((s=o.get("percentage"))==null?void 0:s.value)||0)},0)}getTotalSplitAmount(){return this.splitsArray.controls.reduce((e,o)=>{var s;return e+(((s=o.get("amount"))==null?void 0:s.value)||0)},0)}isFormValid(){let e=this.getTotalPercentage();return this.editForm.valid&&Math.abs(e-100)<.01}onCancel(){this.dialogRef.close()}onSave(){if(this.isFormValid()){let e=this.editForm.value,o={totalAmount:e.totalAmount,splits:e.splits.map(s=>({userId:s.userId,displayName:s.displayName,email:s.email,amount:s.amount,percentage:s.percentage,isPaid:s.isPaid}))};this.dialogRef.close(o)}}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:this.transaction.currency||"USD"}).format(e)}setSplitMode(e){this.splitMode=e,e==="percentage"?this.updateSplitPercentages():this.updateSplitAmounts()}getMemberPhotoURL(e){let o=this.groupMembers.find(s=>s.userId===e);return(o==null?void 0:o.photoURL)||null}getMemberInitials(e){return e?e.split(" ").map(o=>o.charAt(0)).join("").toUpperCase().slice(0,2):"?"}};t.\u0275fac=function(o){return new(o||t)(A(wn),A(Sn),A(Ao))},t.\u0275cmp=mt({type:t,selectors:[["app-edit-transaction-dialog"]],decls:71,vars:27,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Save Changes",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"transaction-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],[1,"amount-input-container"],["type","number","formControlName","totalAmount","step","0.01","min","0.01","placeholder","0.00",1,"form-input"],[1,"currency-suffix"],[1,"field-footer"],[1,"error-message"],[1,"split-mode-selector"],["type","button",1,"mode-option",3,"click"],[1,"field-subtitle"],[1,"split-balance-info"],[1,"balance-item"],[1,"balance-label"],[1,"balance-amount"],["class","balance-difference",4,"ngIf"],["formArrayName","splits",1,"splits-list"],["class","split-item",3,"formGroupName",4,"ngFor","ngForOf"],["class","add-member-section",4,"ngIf"],["class","validation-section",4,"ngIf"],[1,"bottom-spacing"],["diameter","16"],[1,"balance-difference"],[1,"difference-label"],[1,"difference-amount"],[1,"difference-type"],[1,"split-item",3,"formGroupName"],[1,"split-header"],[1,"member-info"],[1,"member-avatar"],["class","avatar-image",3,"src","alt",4,"ngIf"],["class","avatar-placeholder",4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],["type","button","mat-icon-button","",1,"remove-btn",3,"click"],[1,"split-controls"],[1,"split-input-group"],[1,"input-field"],[1,"input-label"],[1,"input-container"],["type","number","formControlName","amount","step","0.01","min","0","placeholder","0.00",1,"split-input"],[1,"input-suffix"],["type","number","formControlName","percentage","step","0.1","min","0","max","100","placeholder","0.0",1,"split-input"],[1,"paid-toggle"],[1,"toggle-label"],["type","checkbox","formControlName","isPaid",1,"toggle-checkbox"],[1,"toggle-text"],[1,"avatar-image",3,"src","alt"],[1,"avatar-placeholder"],[1,"add-member-section"],[1,"available-members"],[1,"section-label"],[1,"members-grid"],["type","button","class","member-option",3,"click",4,"ngFor","ngForOf"],["type","button",1,"member-option",3,"click"],[1,"add-icon"],[1,"validation-section"],["class","validation-item error",4,"ngIf"],["class","validation-item warning",4,"ngIf"],[1,"validation-item","error"],[1,"validation-item","warning"]],template:function(o,s){if(o&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),F("click",function(){return s.onCancel()}),h(4,"mat-icon"),C(5,"arrow_back"),g()(),h(6,"h6",4),C(7," Edit Transaction "),g()(),h(8,"button",5),F("click",function(){return s.onCancel()}),h(9,"mat-icon"),C(10,"close"),g()(),h(11,"button",6),F("click",function(){return s.onSave()}),U(12,Rh,1,0,"mat-spinner",7)(13,Nh,2,0,"mat-icon",8),C(14),g()()(),h(15,"div",9)(16,"div",10)(17,"form",11),F("ngSubmit",function(){return s.onSave()}),h(18,"div",12)(19,"label",13)(20,"mat-icon",14),C(21,"attach_money"),g(),C(22," Total Amount * "),g(),h(23,"div",15),H(24,"input",16),h(25,"span",17),C(26),g()(),h(27,"div",18),U(28,Vh,2,0,"p",19)(29,Fh,2,0,"p",19),g()(),h(30,"div",12)(31,"label",13)(32,"mat-icon",14),C(33,"settings"),g(),C(34," Split Mode "),g(),h(35,"div",20)(36,"button",21),F("click",function(){return s.setSplitMode("percentage")}),h(37,"mat-icon"),C(38,"percent"),g(),h(39,"span"),C(40,"Percentage"),g()(),h(41,"button",21),F("click",function(){return s.setSplitMode("amount")}),h(42,"mat-icon"),C(43,"account_balance_wallet"),g(),h(44,"span"),C(45,"Amount"),g()()()(),h(46,"div",12)(47,"label",13)(48,"mat-icon",14),C(49,"people"),g(),C(50," Splits "),h(51,"span",22),C(52),Ce(53,"number"),g()(),h(54,"div",23)(55,"div",24)(56,"span",25),C(57,"Split Total:"),g(),h(58,"span",26),C(59),g()(),h(60,"div",24)(61,"span",25),C(62,"Transaction Total:"),g(),h(63,"span",26),C(64),g()(),U(65,Lh,7,6,"div",27),g(),h(66,"div",28),U(67,zh,35,6,"div",29),g(),U(68,$h,6,1,"div",30),g(),U(69,Qh,3,2,"div",31),H(70,"div",32),g()()()),o&2){let l,d;O(11),S("disabled",!s.isFormValid()||s.isSubmitting),O(),S("ngIf",s.isSubmitting),O(),S("ngIf",!s.isSubmitting),O(),G(" ",s.isSubmitting?"Saving...":"Save"," "),O(3),S("formGroup",s.editForm),O(9),$(s.transaction.currency||"USD"),O(2),pt((l=s.editForm.get("totalAmount"))!=null&&l.hasError("required")&&((l=s.editForm.get("totalAmount"))!=null&&l.touched)?28:-1),O(),pt((d=s.editForm.get("totalAmount"))!=null&&d.hasError("min")&&((d=s.editForm.get("totalAmount"))!=null&&d.touched)?29:-1),O(7),Ct("selected",s.splitMode==="percentage"),O(5),Ct("selected",s.splitMode==="amount"),O(11),Wr("(",Yr(53,24,s.getTotalPercentage(),"1.1-1"),"% \u2022 ",s.formatCurrency(s.getTotalSplitAmount()),")"),O(3),Ct("over",s.getTotalSplitAmount()>s.totalAmount)("under",s.getTotalSplitAmount()<s.totalAmount),O(4),$(s.formatCurrency(s.getTotalSplitAmount())),O(5),$(s.formatCurrency(s.totalAmount)),O(),S("ngIf",s.Math.abs(s.getTotalSplitAmount()-s.totalAmount)>.01),O(2),S("ngForOf",s.splitsArray.controls),O(),S("ngIf",s.getAvailableMembers().length>0),O(),S("ngIf",!s.isFormValid())}},dependencies:[Re,Nt,yn,Cn,rc,oc,vn,Pn,lc,cc,Mn,On,sc,ac,Kt,Zt,Lt,le,An,nc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .transaction-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .transaction-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .transaction-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-subtitle[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:400;margin-left:auto}.amount-input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 3rem .875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem 2.5rem .75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem 2.25rem .625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.amount-input-container[_ngcontent-%COMP%]   .currency-suffix[_ngcontent-%COMP%]{position:absolute;right:1rem;color:#6b7280;font-size:.875rem;font-weight:500;pointer-events:none}@media (max-width: 480px){.amount-input-container[_ngcontent-%COMP%]   .currency-suffix[_ngcontent-%COMP%]{right:.875rem;font-size:.8rem}}@media (max-width: 360px){.amount-input-container[_ngcontent-%COMP%]   .currency-suffix[_ngcontent-%COMP%]{right:.75rem;font-size:.75rem}}.split-mode-selector[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.75rem}@media (max-width: 480px){.split-mode-selector[_ngcontent-%COMP%]{gap:.5rem}}@media (max-width: 360px){.split-mode-selector[_ngcontent-%COMP%]{gap:.375rem}}.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:1rem;border:2px solid #e5e7eb;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:80px}@media (max-width: 480px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]{padding:.75rem;min-height:70px;gap:.375rem}}@media (max-width: 360px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]{padding:.625rem;min-height:60px;gap:.25rem}}.dark[_ngcontent-%COMP%]   .split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]{border-color:#4b5563}.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff}.split-mode-selector[_ngcontent-%COMP%]   .mode-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#dbeafe;color:#1d4ed8}.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}@media (max-width: 480px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}@media (max-width: 360px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}}.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}@media (max-width: 480px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}}@media (max-width: 360px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}}.split-balance-info[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:1rem;margin-bottom:1rem}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]{padding:.875rem}}@media (max-width: 360px){.split-balance-info[_ngcontent-%COMP%]{padding:.75rem}}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid #e2e8f0}.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{border-color:#374151}.split-balance-info[_ngcontent-%COMP%]   .balance-item.over[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{color:#dc2626;font-weight:600}.split-balance-info[_ngcontent-%COMP%]   .balance-item.under[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{color:#ea580c;font-weight:600}.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-label[_ngcontent-%COMP%]{font-size:.8rem}}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-label[_ngcontent-%COMP%]{color:#9ca3af}.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:.875rem;color:#1f2937;font-weight:600}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:.8rem}}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{color:#f9fafb}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;margin-top:.5rem;border-top:2px solid #e2e8f0;background:#f1f5f9;border-radius:6px;padding:.75rem}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]{border-color:#374151;background:#374151}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-label[_ngcontent-%COMP%]{font-size:.8rem}}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-label[_ngcontent-%COMP%]{color:#9ca3af}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:600}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount[_ngcontent-%COMP%]{font-size:.8rem}}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount.positive[_ngcontent-%COMP%]{color:#dc2626}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount.negative[_ngcontent-%COMP%]{color:#ea580c}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount[_ngcontent-%COMP%]   .difference-type[_ngcontent-%COMP%]{font-size:.75rem;padding:.125rem .375rem;border-radius:4px;font-weight:500;text-transform:uppercase}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount[_ngcontent-%COMP%]   .difference-type[_ngcontent-%COMP%]{font-size:.7rem;padding:.1rem .25rem}}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount.positive[_ngcontent-%COMP%]   .difference-type[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount.negative[_ngcontent-%COMP%]   .difference-type[_ngcontent-%COMP%]{background:#fff7ed;color:#ea580c;border:1px solid #fed7aa}.splits-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:1rem}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{padding:.875rem}}@media (max-width: 360px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{padding:.75rem}}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;flex-shrink:0}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:36px;height:36px}}@media (max-width: 360px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:32px;height:32px}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;justify-content:center;font-size:.875rem;font-weight:600;text-transform:uppercase}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{font-size:.75rem}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:0}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:.875rem;line-height:1.2;margin-bottom:.125rem}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#f9fafb}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.75rem}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 360px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.65rem}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{color:#ef4444;min-width:32px;width:32px;height:32px}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{background:#fef2f2}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.75rem}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]{gap:.5rem}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:#374151;margin-bottom:.375rem;display:block}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{color:#f3f4f6}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .split-input[_ngcontent-%COMP%]{width:100%;padding:.625rem 2rem .625rem .75rem;border:1px solid #d1d5db;border-radius:6px;background:transparent;font-size:14px;min-height:40px;transition:all .2s ease}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .split-input[_ngcontent-%COMP%]{padding:.5rem 1.75rem .5rem .625rem;min-height:36px;font-size:13px}}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .split-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .split-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f61a}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .split-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-suffix[_ngcontent-%COMP%]{position:absolute;right:.75rem;color:#6b7280;font-size:.75rem;font-weight:500;pointer-events:none}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-suffix[_ngcontent-%COMP%]{right:.625rem;font-size:.7rem}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border-radius:6px;transition:background-color .2s ease}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]:hover{background:#f3f4f6}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]:hover{background:#374151}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]   .toggle-checkbox[_ngcontent-%COMP%]{width:18px;height:18px;accent-color:#3b82f6}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{color:#f3f4f6}.add-member-section[_ngcontent-%COMP%]{margin-top:1rem}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.75rem}.dark[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{color:#f3f4f6}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem;border:1px solid #e5e7eb;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s ease;text-align:left}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]{padding:.625rem;gap:.625rem}}.dark[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.dark[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]:hover{background:#1e3a8a}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;overflow:hidden;flex-shrink:0}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:32px;height:32px}}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:600;text-transform:uppercase}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{font-size:.75rem}}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:0}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:.875rem;line-height:1.2;margin-bottom:.125rem}.dark[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#f9fafb}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.8rem}}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.7rem}}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.25rem;width:1.25rem;height:1.25rem;flex-shrink:0}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}}.validation-section[_ngcontent-%COMP%]{margin-top:1rem}.validation-section[_ngcontent-%COMP%]   .validation-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem;border-radius:6px;margin-bottom:.5rem}.validation-section[_ngcontent-%COMP%]   .validation-item.error[_ngcontent-%COMP%]{background:#fef2f2;border:1px solid #fecaca;color:#dc2626}.validation-section[_ngcontent-%COMP%]   .validation-item.error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#dc2626;font-size:1rem;width:1rem;height:1rem}.validation-section[_ngcontent-%COMP%]   .validation-item.error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.validation-section[_ngcontent-%COMP%]   .validation-item.warning[_ngcontent-%COMP%]{background:#fff7ed;border:1px solid #fed7aa;color:#ea580c}.validation-section[_ngcontent-%COMP%]   .validation-item.warning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ea580c;font-size:1rem;width:1rem;height:1rem}.validation-section[_ngcontent-%COMP%]   .validation-item.warning[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let i=t;return i})();var sd=(()=>{let t=class t{constructor(){}toDate(e){try{if(!e)return null;if(e instanceof Date)return e;if(e instanceof xt)return e.toDate();if(e&&typeof e=="object"&&"seconds"in e)return new xt(e.seconds,e.nanoseconds).toDate();if(typeof e=="number")return new Date(e);if(typeof e=="string"){let o=new Date(e);return isNaN(o.getTime())?null:o}return e&&typeof e.toDate=="function"?e.toDate():null}catch(o){return console.error("Error converting timestamp to date:",o,e),null}}toTimestamp(e){try{if(!e)return null;if(e instanceof xt)return e;if(e instanceof Date)return xt.fromDate(e);if(typeof e=="number")return xt.fromDate(new Date(e));if(typeof e=="string"){let o=new Date(e);if(!isNaN(o.getTime()))return xt.fromDate(o)}return e&&typeof e.toDate=="function"?xt.fromDate(e.toDate()):null}catch(o){return console.error("Error converting date to timestamp:",o,e),null}}fromFormDate(e){try{if(!e)return null;let o=new Date(e);return isNaN(o.getTime())?null:xt.fromDate(o)}catch(o){return console.error("Error converting form date to timestamp:",o,e),null}}now(){return xt.fromDate(new Date)}compare(e,o){let s=this.toDate(e),l=this.toDate(o);return!s&&!l?0:s?l?s.getTime()-l.getTime():1:-1}sortByDate(e,o,s=!1){return[...e].sort((l,d)=>{let m=this.toDate(l[o]),b=this.toDate(d[o]);if(!m&&!b)return 0;if(!m)return s?-1:1;if(!b)return s?1:-1;let I=m.getTime()-b.getTime();return s?I:-I})}filterByDateRange(e,o,s,l){let d=this.toDate(s),m=this.toDate(l);return!d&&!m?e:e.filter(b=>{let I=this.toDate(b[o]);return I?d&&m?I>=d&&I<=m:d?I>=d:m?I<=m:!0:!1})}isValidDate(e){let o=this.toDate(e);return o!==null&&!isNaN(o.getTime())}formatDate(e,o="MM/DD/YYYY"){let s=this.toDate(e);if(!s)return"Invalid Date";let l=s.getDate().toString().padStart(2,"0"),d=(s.getMonth()+1).toString().padStart(2,"0"),m=s.getFullYear();return o.replace("MM",d).replace("DD",l).replace("YYYY",m.toString())}toISOString(e){let o=this.toDate(e);return o?o.toISOString().split("T")[0]:""}getRelativeTime(e){let o=this.toDate(e);if(!o)return"Unknown";let l=Math.floor((new Date().getTime()-o.getTime())/1e3);if(l<60)return"Just now";if(l<3600){let d=Math.floor(l/60);return`${d} minute${d>1?"s":""} ago`}else if(l<86400){let d=Math.floor(l/3600);return`${d} hour${d>1?"s":""} ago`}else if(l<2592e3){let d=Math.floor(l/86400);return`${d} day${d>1?"s":""} ago`}else return this.formatDate(o)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var ti=(()=>{let t=class t{constructor(e,o,s,l,d){this.firestore=e,this.auth=o,this.notificationService=s,this.dateService=l,this.userService=d}getUserGroups(e){let o=this.auth.currentUser;if(!(o!=null&&o.email))return K([]);let s=Ft(this.firestore,"splitwise-groups"),l=Xt(s,zt("isActive","==",!0),xn("createdAt","desc"));return Z(Yt(l)).pipe(it(d=>d.docs.map(m=>D({id:m.id},m.data())).filter(m=>m.members.some(b=>{var I;return b.email.toLowerCase()===((I=o.email)==null?void 0:I.toLowerCase())&&b.isActive}))),ht(d=>(console.error("Error fetching user groups:",d),K([]))))}getGroupById(e){return wt(ft(this.firestore,"splitwise-groups",e)).then(o=>o.exists()?D({id:o.id},o.data()):null)}createGroup(e,o){let s=this.auth.currentUser;if(!s)throw new Error("User not authenticated");let l={name:e.name,description:e.description||"",createdBy:o,members:[{userId:s.uid,email:s.email||"",displayName:s.displayName||s.email||"",photoURL:s.photoURL||"",role:sn.ADMIN,joinedAt:new Date,isActive:!0}],currency:e.currency||"USD",createdAt:new Date,updatedAt:new Date,isActive:!0,syncStatus:ts.SYNCED},d=Ft(this.firestore,"splitwise-groups");return Z(wi(d,l)).pipe(it(m=>D({id:m.id},l)))}deleteGroup(e,o){let s=ft(this.firestore,"splitwise-groups",e);return Z(Jt(s,{isActive:!1,updatedAt:new Date}))}getUserInvitations(e){let o=this.auth.currentUser;if(!(o!=null&&o.email))return K([]);let s=Ft(this.firestore,"splitwise-invitations"),l=Xt(s,zt("invitedEmail","==",o.email),zt("status","==","pending"),xn("createdAt","desc"));return Z(Yt(l)).pipe(it(d=>d.docs.map(m=>D({id:m.id},m.data()))),it(d=>d.filter(m=>!this.isInvitationExpired(m))),ht(d=>(console.error("Error fetching invitations:",d),K([]))))}isInvitationExpired(e){let o;return e.expiresAt instanceof xt?o=e.expiresAt.toDate():e.expiresAt instanceof Date?o=e.expiresAt:o=new Date(e.expiresAt),o<new Date}markExpiredInvitations(e){return q(this,null,function*(){try{let o=this.auth.currentUser;if(!(o!=null&&o.email))return;let s=Ft(this.firestore,"splitwise-invitations"),l=Xt(s,zt("invitedEmail","==",o.email),zt("status","==","pending")),d=yield Yt(l),m=bc(this.firestore),b=!1;d.docs.forEach(I=>{let E=I.data();this.isInvitationExpired(E)&&(m.update(I.ref,{status:Hn.EXPIRED,updatedAt:new Date}),b=!0)}),b&&(yield m.commit())}catch(o){console.error("Error marking expired invitations:",o)}})}acceptInvitation(e,o){return q(this,null,function*(){try{let s=this.auth.currentUser;if(!s)throw new Error("User not authenticated");let l=ft(this.firestore,"splitwise-invitations",e),d=yield wt(l);if(!d.exists())throw new Error("Invitation not found");let m=d.data();yield Jt(l,{status:Hn.ACCEPTED,updatedAt:new Date});let b=ft(this.firestore,"splitwise-groups",m.groupId),I=yield wt(b);if(!I.exists())throw new Error("Group not found");let V=I.data().members.map(N=>{var R;return N.email.toLowerCase()===m.invitedEmail.toLowerCase()?L(D({},N),{userId:s.uid,displayName:s.displayName||((R=s.email)==null?void 0:R.split("@")[0])||N.displayName,photoURL:s.photoURL||N.photoURL,isActive:!0}):N});yield Jt(b,{members:V,updatedAt:new Date}),this.notificationService.success(`Successfully joined ${m.groupName}!`)}catch(s){throw console.error("Error accepting invitation:",s),this.notificationService.error("Failed to accept invitation"),s}})}declineInvitation(e,o){return q(this,null,function*(){try{if(!this.auth.currentUser)throw new Error("User not authenticated");let l=ft(this.firestore,"splitwise-invitations",e),d=yield wt(l);if(!d.exists())throw new Error("Invitation not found");let m=d.data();yield Jt(l,{status:Hn.DECLINED,updatedAt:new Date});let b=ft(this.firestore,"splitwise-groups",m.groupId),I=yield wt(b);if(I.exists()){let V=I.data().members.filter(N=>N.email.toLowerCase()!==m.invitedEmail.toLowerCase());yield Jt(b,{members:V,updatedAt:new Date})}this.notificationService.success(`Invitation to ${m.groupName} declined`)}catch(s){throw console.error("Error declining invitation:",s),this.notificationService.error("Failed to decline invitation"),s}})}addMemberToGroup(e,o,s){return q(this,null,function*(){var l;try{if(!this.auth.currentUser)throw new Error("User not authenticated");let m=ft(this.firestore,"splitwise-groups",e),b=yield wt(m);if(!b.exists())throw new Error("Group not found");let I=b.data();if(I.members.find(N=>N.email.toLowerCase()===o.email.toLowerCase()))throw new Error("User is already a member of this group");let V=yield this.userService.findUserByEmail(o.email);if(V){yield this.sendGroupInvitation(e,o.email,s);let N={userId:V.uid,email:o.email,displayName:V.firstName||((l=V.email)==null?void 0:l.split("@")[0])||o.email.split("@")[0],photoURL:V.photoURL||"",role:o.role||sn.MEMBER,joinedAt:new Date,isActive:!1},R=[...I.members,N];return yield Jt(m,{members:R,updatedAt:new Date}),this.notificationService.success(`Invitation sent to ${o.email}`),L(D({id:e},I),{members:R,updatedAt:new Date})}else{let N={userId:"",email:o.email,displayName:o.email.split("@")[0],role:o.role||sn.MEMBER,joinedAt:new Date,isActive:!1},R=[...I.members,N];return yield Jt(m,{members:R,updatedAt:new Date}),yield this.sendGroupInvitation(e,o.email,s),this.notificationService.success(`Invitation sent to ${o.email}. They will be added when they register and accept.`),L(D({id:e},I),{members:R,updatedAt:new Date})}}catch(d){throw console.error("Error adding member to group:",d),this.notificationService.error(d instanceof Error?d.message:"Failed to add member"),d}})}getGroupTransactions(e,o){let s=Ft(this.firestore,"splitwise-transactions"),l=Xt(s,zt("groupId","==",e),xn("createdAt","desc"));return Z(Yt(l)).pipe(it(d=>d.docs.map(m=>D({id:m.id},m.data()))),ht(d=>(console.error("Error fetching group transactions:",d),K([]))))}getGroupSettlements(e,o){let s=Ft(this.firestore,"splitwise-settlements"),l=Xt(s,zt("groupId","==",e),xn("createdAt","desc"));return Z(Yt(l)).pipe(it(d=>d.docs.map(m=>D({id:m.id},m.data()))),ht(d=>(console.error("Error fetching group settlements:",d),K([]))))}getSettlementsByTransaction(e){let o=Ft(this.firestore,"splitwise-settlements"),s=Xt(o,zt("originalTransactionId","==",e),xn("createdAt","desc"));return Z(Yt(s)).pipe(it(l=>l.docs.map(d=>D({id:d.id},d.data()))),ht(l=>(console.error("Error fetching settlements by transaction:",l),K([]))))}createSplitTransaction(e,o){if(!this.auth.currentUser)throw new Error("User not authenticated");let l={groupId:e.groupId,originalTransactionId:e.originalTransactionId,amount:e.amount,createdBy:o,splits:e.splits.map(m=>L(D({},m),{email:m.email||"",displayName:m.displayName||""})),totalAmount:e.amount,currency:"USD",createdAt:new Date,updatedAt:new Date,syncStatus:ts.SYNCED},d=Ft(this.firestore,"splitwise-transactions");return Z(wi(d,l)).pipe(it(m=>D({id:m.id},l)))}getGroup(e){return Z(wt(ft(this.firestore,"splitwise-groups",e))).pipe(it(o=>o.exists()?D({id:o.id},o.data()):null))}updateGroup(e,o){return q(this,null,function*(){var s;try{if(!((s=this.auth.currentUser)==null?void 0:s.uid))throw new Error("User not authenticated");let d={updatedAt:new Date};o.name&&(d.name=o.name),o.description!==void 0&&(d.description=o.description),o.currency&&(d.currency=o.currency),yield Jt(ft(this.firestore,"splitwise-groups",e),d),this.notificationService.success("Group updated successfully")}catch(l){throw console.error("Error updating group:",l),this.notificationService.error("Failed to update group"),l}})}removeMemberFromGroup(e,o,s){return q(this,null,function*(){try{if(!s)throw new Error("User not authenticated");let l=ft(this.firestore,"splitwise-groups",e),d=yield wt(l);if(!d.exists())throw new Error("Group not found");let b=d.data().members.filter(I=>I.userId!==o);yield Jt(l,{members:b,updatedAt:new Date}),this.notificationService.success("Member removed successfully")}catch(l){throw console.error("Error removing member:",l),this.notificationService.error("Failed to remove member"),l}})}getSplitTransaction(e){return Z(wt(ft(this.firestore,"splitwise-transactions",e))).pipe(it(o=>o.exists()?D({id:o.id},o.data()):null))}updateSplitTransaction(e,o){return q(this,null,function*(){var s;try{if(!((s=this.auth.currentUser)==null?void 0:s.uid))throw new Error("User not authenticated");let d={updatedAt:new Date};if(o.payee&&(d.payee=o.payee),o.amount&&(d.amount=o.amount),o.type&&(d.type=o.type),o.date&&(d.date=this.dateService.toTimestamp(o.date)),o.notes!==void 0&&(d.notes=o.notes),o.categoryId&&(d.categoryId=o.categoryId),o.category&&(d.category=o.category),o.splits){let m=yield wt(ft(this.firestore,"splitwise-transactions",e));if(!m.exists())throw new Error("Transaction not found");let b=m.data(),E=(yield wt(ft(this.firestore,"splitwise-groups",b.groupId))).data(),V=o.splits.map(N=>{let R=E.members.find(rt=>rt.userId===N.userId);return L(D({},N),{email:(R==null?void 0:R.email)||"",displayName:(R==null?void 0:R.displayName)||"",isPaid:N.isPaid!==void 0?N.isPaid:!1})});d.splits=V,o.amount&&(d.totalAmount=o.amount)}yield Jt(ft(this.firestore,"splitwise-transactions",e),d),this.notificationService.success("Split transaction updated successfully")}catch(l){throw console.error("Error updating split transaction:",l),this.notificationService.error("Failed to update split transaction"),l}})}deleteSplitTransaction(e,o){return q(this,null,function*(){try{if(!o)throw new Error("User not authenticated");let s=Xt(Ft(this.firestore,"splitwise-transactions"),zt("originalTransactionId","==",e)),l=yield Yt(s);if(l.empty)throw new Error("Transaction not found");let m=l.docs[0].data().splits.map(b=>L(D({},b),{amount:-b.amount}));yield Zr(l.docs[0].ref),yield this.cleanupSettlementsForTransaction(e),this.notificationService.success("Split transaction deleted successfully")}catch(s){throw console.error("Error deleting split transaction:",s),this.notificationService.error("Failed to delete split transaction"),s}})}cleanupSettlementsForTransaction(e){return q(this,null,function*(){try{let o=Ft(this.firestore,"splitwise-settlements"),s=Xt(o,zt("originalTransactionId","==",e)),l=yield Yt(s);if(!l.empty){let d=l.docs.map(m=>Zr(m.ref));yield Promise.all(d),console.log(`Cleaned up ${l.docs.length} settlements for transaction ${e}`)}}catch(o){console.error("Error cleaning up settlements for transaction:",o)}})}createSettlement(e){return q(this,null,function*(){var o;try{if(!((o=this.auth.currentUser)==null?void 0:o.uid))throw new Error("User not authenticated");let l=yield wt(ft(this.firestore,"splitwise-groups",e.groupId));if(!l.exists())throw new Error("Group not found");let d=l.data(),m={groupId:e.groupId,originalTransactionId:e.originalTransactionId,fromUserId:e.fromUserId,toUserId:e.toUserId,amount:e.amount,currency:d.currency||"USD",status:Hi.PENDING,notes:e.notes||"",createdAt:new Date,updatedAt:new Date};return(yield wi(Ft(this.firestore,"splitwise-settlements"),m)).id}catch(s){throw console.error("Error creating settlement:",s),s}})}completeSettlement(e){return q(this,null,function*(){var o;try{if(!((o=this.auth.currentUser)==null?void 0:o.uid))throw new Error("User not authenticated");yield Jt(ft(this.firestore,"splitwise-settlements",e),{status:Hi.COMPLETED,settledAt:new Date,updatedAt:new Date});let d=(yield wt(ft(this.firestore,"splitwise-settlements",e))).data()}catch(s){throw console.error("Error completing settlement:",s),s}})}sendGroupInvitation(e,o,s){return q(this,null,function*(){try{let l=this.auth.currentUser;if(!l)throw new Error("User not authenticated");let m=(yield wt(ft(this.firestore,"splitwise-groups",e))).data(),b={groupId:e,groupName:m.name,invitedBy:s,invitedByEmail:l.email||"",invitedByDisplayName:l.displayName||"",invitedEmail:o,status:Hn.PENDING,expiresAt:new Date(Date.now()+7*24*60*60*1e3),createdAt:new Date,updatedAt:new Date};yield wi(Ft(this.firestore,"splitwise-invitations"),b)}catch(l){throw console.error("Error sending invitation:",l),l}})}getGroupSummary(e){return q(this,null,function*(){var I;if(!((I=this.auth.currentUser)==null?void 0:I.uid))throw new Error("User not authenticated");let[s,l]=yield Promise.all([Yt(Xt(Ft(this.firestore,"splitwise-transactions"),zt("groupId","==",e))),Yt(Xt(Ft(this.firestore,"splitwise-settlements"),zt("groupId","==",e),zt("status","==",Hi.PENDING)))]),m=(yield wt(ft(this.firestore,"splitwise-groups",e))).data(),b=s.docs.reduce((E,V)=>{let N=V.data();return E+N.amount},0);return{groupId:e,totalTransactions:s.docs.length,totalAmount:b,averageAmount:s.docs.length>0?b/s.docs.length:0,memberCount:m.members.length,activeMemberCount:m.members.filter(E=>E.isActive).length,pendingSettlements:l.docs.length,lastActivity:new Date}})}getMemberBalances(e){return q(this,null,function*(){var b;if(!((b=this.auth.currentUser)==null?void 0:b.uid))throw new Error("User not authenticated");let l=(yield wt(ft(this.firestore,"splitwise-groups",e))).data(),d=yield Yt(Xt(Ft(this.firestore,"splitwise-transactions"),zt("groupId","==",e))),m=new Map;return l.members.forEach(I=>{m.set(I.userId,{userId:I.userId,email:I.email,displayName:I.displayName,totalPaid:0,totalOwed:0,netBalance:0,transactionCount:0})}),d.docs.forEach(I=>{I.data().splits.forEach(V=>{let N=m.get(V.userId);N&&(N.transactionCount++,V.amount>0?N.totalPaid+=V.amount:N.totalOwed+=Math.abs(V.amount),N.netBalance=N.totalPaid-N.totalOwed)})}),Array.from(m.values())})}};t.\u0275fac=function(o){return new(o||t)(ot(_c),ot(Vt),ot(Ne),ot(sd),ot(Tn))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var cd=new Pt("CdkAccordion");var Xh=0,ld=(()=>{let t=class t{get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let o=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,o)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(e,o,s){this.accordion=e,this._changeDetectorRef=o,this._expansionDispatcher=s,this._openCloseAllSubscription=bo.EMPTY,this.closed=new yt,this.opened=new yt,this.destroyed=new yt,this.expandedChange=new yt,this.id=`cdk-accordion-child-${Xh++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=s.listen((l,d)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===d&&this.id!==l&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}};t.\u0275fac=function(o){return new(o||t)(A(cd,12),A(ve),A(So))},t.\u0275dir=Ae({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",Rt],disabled:[2,"disabled","disabled",Rt]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[Ye([{provide:cd,useValue:void 0}]),ke]});let i=t;return i})(),dd=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=kt({});let i=t;return i})();var tg=["body"],eg=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],ng=["mat-expansion-panel-header","*","mat-action-row"];function ig(i,t){}var og=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],rg=["mat-panel-title","mat-panel-description","*"];function sg(i,t){if(i&1&&(h(0,"span",1),qr(),h(1,"svg",2),H(2,"path",3),g()()),i&2){let r=k();S("@indicatorRotate",r._getExpandedState())}}var ud=new Pt("MAT_ACCORDION"),md="225ms cubic-bezier(0.4,0.0,0.2,1)",fd={indicatorRotate:es("indicatorRotate",[Ii("collapsed, void",xi({transform:"rotate(0deg)"})),Ii("expanded",xi({transform:"rotate(180deg)"})),is("expanded <=> collapsed, void => collapsed",ns(md))]),bodyExpansion:es("bodyExpansion",[Ii("collapsed, void",xi({height:"0px",visibility:"hidden"})),Ii("expanded",xi({height:"*",visibility:""})),is("expanded <=> collapsed, void => collapsed",ns(md))])},_d=new Pt("MAT_EXPANSION_PANEL"),ag=(()=>{let t=class t{constructor(e,o){this._template=e,this._expansionPanel=o}};t.\u0275fac=function(o){return new(o||t)(A(Ya),A(_d,8))},t.\u0275dir=Ae({type:t,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0});let i=t;return i})(),cg=0,bd=new Pt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Vs=(()=>{let t=class t extends ld{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,o,s,l,d,m,b){super(e,o,s),this._viewContainerRef=l,this._animationMode=m,this._hideToggle=!1,this.afterExpand=new yt,this.afterCollapse=new yt,this._inputChanges=new ne,this._headerId=`mat-expansion-panel-header-${cg++}`,this.accordion=e,this._document=d,this._animationsDisabled=m==="NoopAnimations",b&&(this.hideToggle=b.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Ha(null),_e(()=>this.expanded&&!this._portal),Co(1)).subscribe(()=>{this._portal=new xc(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,o=this._body.nativeElement;return e===o||o.contains(e)}return!1}_animationStarted(e){var o;!hd(e)&&!this._animationsDisabled&&this._body&&((o=this._body)==null||o.nativeElement.setAttribute("inert",""))}_animationDone(e){hd(e)||(e.toState==="expanded"?this.afterExpand.emit():e.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}};t.\u0275fac=function(o){return new(o||t)(A(ud,12),A(ve),A(So),A(Xa),A(tc),A($r,8),A(bd,8))},t.\u0275cmp=mt({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(o,s,l){if(o&1&&yi(l,ag,5),o&2){let d;He(d=Qe())&&(s._lazyContent=d.first)}},viewQuery:function(o,s){if(o&1&&Mi(tg,5),o&2){let l;He(l=Qe())&&(s._body=l.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(o,s){o&2&&Ct("mat-expanded",s.expanded)("_mat-animation-noopable",s._animationsDisabled)("mat-expansion-panel-spacing",s._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",Rt],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[Ye([{provide:ud,useValue:void 0},{provide:_d,useExisting:t}]),ke,Kr,yo,De],ngContentSelectors:ng,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(o,s){if(o&1){let l=ct();fn(eg),ce(0),h(1,"div",1,0),F("@bodyExpansion.start",function(m){return Q(l),W(s._animationStarted(m))})("@bodyExpansion.done",function(m){return Q(l),W(s._animationDone(m))}),h(3,"div",2),ce(4,1),U(5,ig,0,0,"ng-template",3),g(),ce(6,2),g()}o&2&&(O(),S("@bodyExpansion",s._getExpandedState())("id",s.id),ae("aria-labelledby",s._headerId),O(4),S("cdkPortalOutlet",s._portal))},dependencies:[Ic],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[fd.bodyExpansion]},changeDetection:0});let i=t;return i})();function hd(i){return i.fromState==="void"}var Cd=(()=>{let t=class t{constructor(e,o,s,l,d,m,b){this.panel=e,this._element=o,this._focusMonitor=s,this._changeDetectorRef=l,this._animationMode=m,this._parentChangeSubscription=bo.EMPTY,this.tabIndex=0;let I=e.accordion?e.accordion._stateChanges.pipe(_e(E=>!!(E.hideToggle||E.togglePosition))):ja;this.tabIndex=parseInt(b||"")||0,this._parentChangeSubscription=vi(e.opened,e.closed,I,e._inputChanges.pipe(_e(E=>!!(E.hideToggle||E.disabled||E.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(_e(()=>e._containsFocus())).subscribe(()=>s.focusVia(o,"program")),d&&(this.expandedHeight=d.expandedHeight,this.collapsedHeight=d.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Cc(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,o){e?this._focusMonitor.focusVia(this._element,e,o):this._element.nativeElement.focus(o)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}};t.\u0275fac=function(o){return new(o||t)(A(Vs,1),A(Pi),A(Eo),A(ve),A(bd,8),A($r,8),Mo("tabindex"))},t.\u0275cmp=mt({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(o,s){o&1&&F("click",function(){return s._toggle()})("keydown",function(d){return s._keydown(d)}),o&2&&(ae("id",s.panel._headerId)("tabindex",s.disabled?-1:s.tabIndex)("aria-controls",s._getPanelId())("aria-expanded",s._isExpanded())("aria-disabled",s.panel.disabled),Ja("height",s._getHeaderHeight()),Ct("mat-expanded",s._isExpanded())("mat-expansion-toggle-indicator-after",s._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",s._getTogglePosition()==="before")("_mat-animation-noopable",s._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Za(e)]},standalone:!0,features:[ke,De],ngContentSelectors:rg,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(o,s){o&1&&(fn(og),h(0,"span",0),ce(1),ce(2,1),ce(3,2),g(),U(4,sg,3,1,"span",1)),o&2&&(Ct("mat-content-hide-toggle",!s._showToggle()),O(4),pt(s._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[fd.indicatorRotate]},changeDetection:0});let i=t;return i})();var vd=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=Ae({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0});let i=t;return i})();var Pd=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=kt({imports:[Xe,dd,Ec]});let i=t;return i})();function dg(i,t){i&1&&(h(0,"div",5),H(1,"mat-spinner",6),h(2,"p"),C(3,"Loading group details..."),g()())}function ug(i,t){if(i&1){let r=ct();h(0,"button",34),F("click",function(){Q(r);let o=k(2);return W(o.deleteGroup())}),h(1,"mat-icon"),C(2,"delete"),g(),h(3,"span"),C(4,"Delete Group"),g()()}}function mg(i,t){i&1&&(h(0,"span",49),C(1,"(You)"),g())}function hg(i,t){if(i&1&&(h(0,"span",50),C(1),g()),i&2){let r=k().$implicit,e=k(3);O(),G(" ",e.getCurrentUserStatus(r.netBalance)," ")}}function gg(i,t){if(i&1&&(h(0,"div",40)(1,"div",41)(2,"div",42),C(3),U(4,mg,2,0,"span",43),g(),h(5,"div",44)(6,"span",45),C(7),g(),h(8,"span",46),C(9),g()()(),h(10,"div",47),C(11),U(12,hg,2,1,"span",48),g()()),i&2){let r=t.$implicit,e=k(3);Ct("current-user",r.userId===(e.currentUser==null?null:e.currentUser.uid)),O(3),G(" ",r.displayName," "),O(),S("ngIf",r.userId===(e.currentUser==null?null:e.currentUser.uid)),O(3),G("Paid: ",e.formatCurrency(r.totalPaid,e.group.currency),""),O(2),G("Owed: ",e.formatCurrency(r.totalOwed,e.group.currency),""),O(),pn(e.getBalanceColor(r.netBalance)),O(),G(" ",e.formatCurrency(r.netBalance,e.group.currency)," "),O(),S("ngIf",r.userId===(e.currentUser==null?null:e.currentUser.uid))}}function pg(i,t){i&1&&(h(0,"span"),C(1," All balances are settled!"),g())}function fg(i,t){i&1&&(h(0,"span"),C(1,"See who owes what to whom"),g())}function _g(i,t){if(i&1&&(h(0,"div",56)(1,"div",57)(2,"mat-icon"),C(3),g(),h(4,"span",58),C(5),g()(),h(6,"div",59),C(7),g()()),i&2){let r=t.$implicit,e=k(4);pn(r.type),O(2),pn(r.type==="owes"?"arrow_upward":"arrow_downward"),O(),G(" ",r.type==="owes"?"arrow_upward":"arrow_downward"," "),O(2),$(r.message),O(),pn(r.type),O(),G(" ",e.formatCurrency(r.amount,e.group.currency)," ")}}function bg(i,t){i&1&&(h(0,"div",60)(1,"mat-icon"),C(2,"check_circle"),g(),h(3,"span"),C(4,"All are settled!"),g()())}function Cg(i,t){if(i&1&&(h(0,"div",51)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"mat-icon"),C(5,"account_tree"),g(),U(6,pg,2,0,"span",52)(7,fg,2,0,"span",52),g()(),h(8,"div",53),U(9,_g,8,9,"div",54)(10,bg,5,0,"div",55),g()()()),i&2){let r=k(3);O(6),S("ngIf",r.getDetailedBalanceBreakdown(r.currentUser.uid).length===0),O(),S("ngIf",r.getDetailedBalanceBreakdown(r.currentUser.uid).length>0),O(2),S("ngForOf",r.getDetailedBalanceBreakdown(r.currentUser.uid)),O(),S("ngIf",r.getDetailedBalanceBreakdown(r.currentUser.uid).length===0)}}function vg(i,t){if(i&1&&(h(0,"div",35)(1,"mat-card",36)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),C(5,"account_balance_wallet"),g(),h(6,"span"),C(7,"Member Balances"),g()(),h(8,"mat-card-subtitle"),C(9," Who owes what to whom "),g()(),h(10,"mat-card-content")(11,"div",37),U(12,gg,13,10,"div",38),g(),U(13,Cg,11,4,"div",39),g()()()),i&2){let r=k(2);O(12),S("ngForOf",r.getMemberBalances()),O(),S("ngIf",r.currentUser==null?null:r.currentUser.uid)}}function Pg(i,t){if(i&1){let r=ct();h(0,"div",65)(1,"div",66)(2,"div",67)(3,"span",68),C(4),g()(),h(5,"div",69)(6,"span",70),C(7),g(),h(8,"mat-icon"),C(9,"arrow_forward"),g(),h(10,"span",71),C(11),g()(),h(12,"div",72),C(13),g()(),h(14,"button",73),F("click",function(){let o=Q(r).$implicit,s=k(3);return W(s.createSettlement(o))}),h(15,"mat-icon"),C(16),g(),h(17,"span"),C(18),g()()()}if(i&2){let r=t.$implicit,e=k(3);pn(r.type),O(4),$(e.getSettlementMessage(r)),O(3),$(r.fromUserName),O(4),$(r.toUserName),O(2),G(" ",e.formatCurrency(r.amount,r.currency)," "),O(),S("color",r.type==="you_owe"?"warn":"primary")("disabled",r.type==="others"),O(2),$(r.type==="you_owe"?"payment":"check"),O(2),$(r.type==="you_owe"?"Pay":"Settle")}}function yg(i,t){if(i&1&&(h(0,"div",61)(1,"mat-card",62)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),C(5,"swap_horiz"),g(),h(6,"span"),C(7,"Settlement Suggestions"),g()(),h(8,"mat-card-subtitle"),C(9),g()(),h(10,"mat-card-content")(11,"div",63),U(12,Pg,19,10,"div",64),g()()()()),i&2){let r=k(2);O(9),G(" ",r.getSettlementSubtitle()," "),O(3),S("ngForOf",r.getSettlementSuggestions())}}function Mg(i,t){if(i&1){let r=ct();h(0,"div",76),F("click",function(){let o=Q(r).$implicit,s=k(3);return W(s.openEditTransactionDialog(o))}),h(1,"div",77)(2,"div",78)(3,"div",79),C(4),g(),h(5,"div",80)(6,"span",81),C(7),g(),h(8,"span",82),C(9),g()()(),h(10,"div",83),C(11),g()()()}if(i&2){let r=t.$implicit,e=k(3);O(4),G(" ",e.getTransactionTitle(r)," "),O(3),G("Paid by ",e.getTransactionCreatorName(r),""),O(2),$(e.formatDate(r.createdAt)),O(2),G(" ",e.formatCurrency(r.totalAmount,r.currency)," ")}}function Og(i,t){if(i&1&&(h(0,"div",74),U(1,Mg,12,4,"div",75),g()),i&2){let r=k(2);O(),S("ngForOf",r.transactions)}}function wg(i,t){if(i&1){let r=ct();h(0,"div",84)(1,"mat-icon",85),C(2,"receipt"),g(),h(3,"p"),C(4,"No transactions yet"),g(),h(5,"button",86),F("click",function(){Q(r);let o=k(2);return W(o.addTransaction())}),h(6,"mat-icon"),C(7,"add"),g(),C(8," Add Transaction "),g()()}}function xg(i,t){if(i&1&&(h(0,"div",94),C(1),g()),i&2){let r=k().$implicit,e=k(3);O(),G(" ",e.formatDate(r.settledAt)," ")}}function Ig(i,t){if(i&1&&(h(0,"div",91)(1,"div",92)(2,"div",69)(3,"span",70),C(4),g(),h(5,"mat-icon"),C(6,"arrow_forward"),g(),h(7,"span",71),C(8),g()(),h(9,"div",72),C(10),g(),U(11,xg,2,1,"div",93),g()()),i&2){let r=t.$implicit,e=k(3);O(4),$(e.getMemberName(r.fromUserId)),O(4),$(e.getMemberName(r.toUserId)),O(2),G(" ",e.formatCurrency(r.amount,r.currency)," "),O(),S("ngIf",r.settledAt)}}function Eg(i,t){if(i&1&&(h(0,"div",87)(1,"mat-card",88)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),C(5,"check_circle"),g(),h(6,"span"),C(7),g()()(),h(8,"mat-card-content")(9,"div",89),U(10,Ig,12,4,"div",90),g()()()()),i&2){let r=k(2);O(7),G("Completed Settlements (",r.getCompletedSettlementsCount(),")"),O(3),S("ngForOf",r.getCompletedSettlements())}}function Tg(i,t){if(i&1){let r=ct();h(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"button",11),F("click",function(){Q(r);let o=k();return W(o.goBack())}),h(5,"mat-icon",12),F("click",function(){Q(r);let o=k();return W(o.goBack())}),C(6,"arrow_back"),g()(),h(7,"span",13),C(8),Ce(9,"titlecase"),g(),h(10,"button",14)(11,"mat-icon"),C(12,"more_vert"),g()()(),h(13,"div",15)(14,"mat-menu",16,0)(16,"button",17),F("click",function(){Q(r);let o=k();return W(o.openAddMemberDialog())}),h(17,"mat-icon"),C(18,"person_add"),g(),h(19,"span"),C(20,"Add Member"),g()(),H(21,"mat-divider"),U(22,ug,5,0,"button",18),g()()()(),h(23,"div",19)(24,"mat-card",20)(25,"div",21)(26,"div",22)(27,"div",23),F("click",function(){Q(r);let o=k();return W(o.openAddMemberDialog())}),h(28,"div",24),C(29),g(),h(30,"div",25),C(31,"Members"),g()()(),h(32,"div",22)(33,"div",26)(34,"div",24),C(35),g(),h(36,"div",25),C(37,"Total Balance"),g()()()()()(),U(38,vg,14,2,"div",27)(39,yg,13,2,"div",28),h(40,"div",29)(41,"mat-card",30)(42,"mat-card-header")(43,"mat-card-title")(44,"mat-icon"),C(45,"receipt"),g(),h(46,"span"),C(47),g()(),h(48,"mat-card-subtitle"),C(49),g()(),h(50,"mat-card-content"),U(51,Og,2,1,"div",31)(52,wg,9,0,"div",32),g()()(),U(53,Eg,11,2,"div",33),g()}if(i&2){let r=We(15),e=k();O(8),$(_n(9,12,e.group.name)),O(2),S("matMenuTriggerFor",r),O(12),S("ngIf",e.canManageGroup()),O(7),$(e.getGroupMemberCount()),O(6),$(e.formatCurrency(e.getTotalBalance(),e.group.currency)),O(3),S("ngIf",e.showBalances),O(),S("ngIf",e.getSettlementSuggestions().length>0),O(8),G("Transactions (",e.getTransactionCount(),")"),O(2),G(" Total: ",e.formatCurrency(e.getTotalTransactionAmount(),e.group.currency)," "),O(2),S("ngIf",e.transactions.length>0),O(),S("ngIf",e.transactions.length===0),O(),S("ngIf",e.getCompletedSettlementsCount()>0)}}function Sg(i,t){if(i&1){let r=ct();h(0,"div",95)(1,"mat-icon",96),C(2,"error"),g(),h(3,"h3"),C(4,"Group Not Found"),g(),h(5,"p"),C(6,"The group you're looking for doesn't exist or you don't have access to it."),g(),h(7,"button",86),F("click",function(){Q(r);let o=k();return W(o.goBack())}),h(8,"mat-icon"),C(9,"arrow_back"),g(),C(10," Go Back "),g()()}}var yd=(()=>{let t=class t{constructor(e,o,s,l,d,m,b,I){this.route=e,this.router=o,this.auth=s,this.store=l,this.dialog=d,this.notificationService=m,this.breakpointObserver=b,this.splitwiseService=I,this.group=null,this.transactions=[],this.settlements=[],this.error=null,this.currentUser=null,this.isMobile=!1,this.isLoading=!1,this.Math=Math,this.showBalances=!0,this.destroy$=new ne,this.breakpointObserver.observe([En.Handset]).pipe(be(this.destroy$)).subscribe(E=>{this.isMobile=E.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(Kn).pipe(be(this.destroy$)).subscribe(e=>{this.isLoading=e.loading,this.error=e.error;let o=this.route.snapshot.paramMap.get("id");o&&(this.group=e.groups.find(s=>s.id===o)||null,!this.group&&!this.isLoading&&this.splitwiseService.getGroupById(o).then(s=>{this.group=s})),this.transactions=e.transactions.filter(s=>s.groupId===o),this.settlements=e.settlements.filter(s=>s.groupId===o),this.transactions.length>0&&(console.log("=== DEBUG: Balance Calculations ==="),this.calculateNetBalances(),console.log("=== END DEBUG ===")),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Ue())),console.log("Store state updated:",{loading:e.loading,transactionsCount:e.transactions.length,settlementsCount:e.settlements.length,error:e.error})})}reloadData(){let e=this.route.snapshot.paramMap.get("id");e&&(this.store.dispatch(on({groupId:e})),this.store.dispatch(rn({groupId:e})))}loadGroupDetails(){let e=this.route.snapshot.paramMap.get("id");e&&(this.store.dispatch(Me({groupId:e})),this.store.dispatch(on({groupId:e})),this.store.dispatch(rn({groupId:e})))}goBack(){this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(Zn,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(o=>{o&&(o.action==="delete"?this.store.dispatch(Le({groupId:this.group.id,userId:o.userId})):this.store.dispatch(ue({groupId:this.group.id,request:o})))})}deleteGroup(){this.group&&this.dialog.open(Je,{width:"300px",data:{title:"Delete Group",message:'Are you sure you want to delete the group "${this.group.name}"?',confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(e=>{var o;e&&(this.store.dispatch(Fe({groupId:(o=this.group)==null?void 0:o.id})),this.goBack())})}getCurrentUserRole(){if(!this.group||!this.currentUser)return"";let e=this.group.members.find(o=>o.userId===this.currentUser.uid);return(e==null?void 0:e.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}getGroupMemberCount(){var e;return((e=this.group)==null?void 0:e.members.filter(o=>o.isActive).length)||0}formatDate(e){return e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString():""}formatCurrency(e,o="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:o}).format(e)}getTotalBalance(){return this.group?this.transactions.reduce((e,o)=>e+o.splits.reduce((s,l)=>s+l.amount,0),0):0}calculateNetBalances(){let e={};for(let s of this.transactions){let l=s.createdBy;console.log(`Processing transaction ${s.id}:`),console.log(`  Total amount: ${s.totalAmount}`),console.log(`  Paid by: ${this.getMemberName(l)}`);for(let d of s.splits){let{userId:m,amount:b}=d;if(console.log(`  Split: ${this.getMemberName(m)} should pay ${b}`),m===l){console.log(`    ${this.getMemberName(m)} paid for this transaction, so they don't owe anyone`);continue}else e[m]||(e[m]={}),e[m][l]||(e[m][l]=0),e[m][l]+=b,console.log(`    ${this.getMemberName(m)} owes ${this.getMemberName(l)} ${b}`)}}for(let s of this.settlements){if(s.status==="cancelled")continue;let{fromUserId:l,toUserId:d,amount:m}=s;e[l]||(e[l]={}),e[l][d]||(e[l][d]=0),e[l][d]-=m}let o=this.simplifyBalances(e);return console.log("Final simplified balances:",o),o}simplifyBalances(e){var l,d;let o={},s=new Set;for(let m in e)for(let b in e[m]){let I=`${m}_${b}`,E=`${b}_${m}`;if(s.has(I)||s.has(E))continue;let V=((l=e[m])==null?void 0:l[b])||0,N=((d=e[b])==null?void 0:d[m])||0,R=V-N;R>0?(o[m]||(o[m]={}),o[m][b]=Math.round(R*100)/100):R<0&&(o[b]||(o[b]={}),o[b][m]=Math.round(-R*100)/100),s.add(I),s.add(E)}return o}getMemberBalances(){if(!this.group)return[];let e=this.calculateNetBalances(),o=[];return this.group.members.forEach(s=>{let l=e[s.userId]||{},d=0;Object.values(l).forEach(I=>{I>0&&(d+=I)});let m=0;Object.keys(e).forEach(I=>{if(I!==s.userId){let V=(e[I]||{})[s.userId]||0;V>0&&(m+=V)}});let b=m-d;o.push({userId:s.userId,displayName:s.displayName,email:s.email,totalPaid:m,totalOwed:d,netBalance:b,simplifiedBalances:l})}),o.sort((s,l)=>l.netBalance-s.netBalance)}getDetailedBalanceBreakdown(e){let o=this.calculateNetBalances(),s=o[e]||{},l=[];return Object.entries(s).forEach(([d,m])=>{var b;m>0&&l.push({type:"owes",otherUserId:d,otherUserName:this.getMemberName(d),amount:m,message:`${this.getMemberName(e)} owes ${this.getMemberName(d)} ${this.formatCurrency(m,((b=this.group)==null?void 0:b.currency)||"USD")}`})}),Object.keys(o).forEach(d=>{var m;if(d!==e){let I=(o[d]||{})[e]||0;I>0&&l.push({type:"owed",otherUserId:d,otherUserName:this.getMemberName(d),amount:I,message:`${this.getMemberName(d)} owes ${this.getMemberName(e)} ${this.formatCurrency(I,((m=this.group)==null?void 0:m.currency)||"USD")}`})}}),l.sort((d,m)=>m.amount-d.amount)}getBalanceBetweenUsers(e,o){var m,b;let s=this.calculateNetBalances(),l=((m=s[e])==null?void 0:m[o])||0,d=((b=s[o])==null?void 0:b[e])||0;return l-d}getBalanceSummary(){let e=this.getMemberBalances(),o=e.filter(l=>l.netBalance<0),s=e.filter(l=>l.netBalance>0);return{owes:o,owed:s}}getSettlementSuggestions(){var m;let e=this.getMemberBalances(),o=[],s=this.transactions;if(!((m=this.currentUser)!=null&&m.uid))return o;let l=e.find(b=>b.userId===this.currentUser.uid);if(!l)return o;let d=l.netBalance;if(d<0){let b=Math.abs(d);e.filter(E=>E.netBalance>0&&E.userId!==this.currentUser.uid).forEach(E=>{var R,rt;let V=E.netBalance,N=this.getBalanceBetweenUsers(this.currentUser.uid,E.userId);if(N>0){let nt=Math.min(N,V);nt>0&&o.push({fromUserId:this.currentUser.uid,fromUserName:l.displayName,toUserId:E.userId,toUserName:E.displayName,amount:nt,currency:((R=this.group)==null?void 0:R.currency)||"USD",type:"you_owe",originalTransactionId:((rt=s.find(Mt=>Mt.splits.some(vt=>vt.userId===E.userId)))==null?void 0:rt.originalTransactionId)||""})}})}else if(d>0){let b=d;e.filter(E=>E.netBalance<0&&E.userId!==this.currentUser.uid).forEach(E=>{var N,R;let V=this.getBalanceBetweenUsers(E.userId,this.currentUser.uid);if(V>0){let rt=Math.min(V,b);rt>0&&o.push({fromUserId:E.userId,fromUserName:E.displayName,toUserId:this.currentUser.uid,toUserName:l.displayName,amount:rt,currency:((N=this.group)==null?void 0:N.currency)||"USD",type:"owed_to_you",originalTransactionId:((R=s.find(nt=>nt.splits.some(Mt=>Mt.userId===E.userId)))==null?void 0:R.originalTransactionId)||""})}})}else{let b=e.filter(E=>E.netBalance<0&&E.userId!==this.currentUser.uid),I=e.filter(E=>E.netBalance>0&&E.userId!==this.currentUser.uid);b.forEach(E=>{let N=Math.abs(E.netBalance);I.forEach(R=>{var Mt,vt;if(N<=0)return;let rt=R.netBalance,nt=this.getBalanceBetweenUsers(E.userId,R.userId);if(nt>0){let It=Math.min(N,rt,nt);It>0&&(o.push({fromUserId:E.userId,fromUserName:E.displayName,toUserId:R.userId,toUserName:R.displayName,amount:It,currency:((Mt=this.group)==null?void 0:Mt.currency)||"USD",type:"others",originalTransactionId:((vt=s.find(re=>re.splits.some(dn=>dn.userId===E.userId)))==null?void 0:vt.originalTransactionId)||""}),N-=It)}})})}return o.filter(b=>!this.settlements.find(E=>E.fromUserId===b.fromUserId&&E.toUserId===b.toUserId&&E.status!=="cancelled"))}createSettlement(e){var s;if(!this.group){this.notificationService.error("Group not found");return}if(!((s=this.currentUser)!=null&&s.uid)){this.notificationService.error("User not authenticated");return}this.dialog.open(Je,{width:"400px",data:{title:"Settlement",message:`Confirm settlement of ${this.formatCurrency(e.amount,e.currency)} from ${e.fromUserName} to ${e.toUserName}?`,confirmText:"Confirm",cancelText:"Cancel"}}).afterClosed().subscribe(l=>{if(l)try{console.log("Creating settlement:",e),this.store.dispatch($n({groupId:this.group.id,fromUserId:e.fromUserId,toUserId:e.toUserId,amount:e.amount,notes:"Settlement created from balance summary",originalTransactionId:e.originalTransactionId})),this.notificationService.success("Settlement created successfully"),setTimeout(()=>{this.reloadData()},1e3)}catch(d){console.error("Error creating settlement:",d),this.notificationService.error("Failed to create settlement")}})}toggleBalanceDisplay(){this.showBalances=!this.showBalances}getBalanceColor(e){return e>0?"positive":e<0?"negative":"neutral"}getSettlementSubtitle(){var s;if(!((s=this.currentUser)!=null&&s.uid))return"Quick settlements to balance the group";let o=this.getMemberBalances().find(l=>l.userId===this.currentUser.uid);return o?o.netBalance<0?"You owe money to these members":o.netBalance>0?"These members owe you money":"Other members can settle their balances":"Quick settlements to balance the group"}getSettlementMessage(e){switch(e.type){case"you_owe":return`You owe ${e.toUserName}`;case"owed_to_you":return`${e.fromUserName} owes you`;case"others":return`${e.fromUserName} owes ${e.toUserName}`;default:return"Settlement suggestion"}}getCurrentUserStatus(e){return e<0?"(You owe)":e>0?"(You are owed)":"(Balanced)"}getSettlementStatus(e,o){let s=this.settlements.find(l=>l.fromUserId===e&&l.toUserId===o);return s?{exists:!0,status:s.status,amount:s.amount}:{exists:!1,status:"",amount:0}}isSettlementPending(e,o){return!!this.settlements.find(l=>l.fromUserId===e&&l.toUserId===o&&l.status==="pending")}isSettlementCompleted(e,o){return!!this.settlements.find(l=>l.fromUserId===e&&l.toUserId===o&&l.status==="completed")}getExistingSettlementsSummary(){var s;if(!((s=this.currentUser)!=null&&s.uid))return[];let e=[];return this.settlements.filter(l=>(l.fromUserId===this.currentUser.uid||l.toUserId===this.currentUser.uid)&&l.status!=="cancelled").forEach(l=>{let d=l.fromUserId===this.currentUser.uid,m=d?l.toUserId:l.fromUserId,b=this.getMemberName(m);e.push({fromUserId:l.fromUserId,fromUserName:this.getMemberName(l.fromUserId),toUserId:l.toUserId,toUserName:this.getMemberName(l.toUserId),amount:l.amount,currency:l.currency,status:l.status,isInvolvingCurrentUser:!0,isFromCurrentUser:d,otherUserName:b})}),e}getPendingSettlementsCount(){return this.settlements.filter(e=>e.status==="pending").length}getCompletedSettlementsCount(){return this.settlements.filter(e=>e.status==="completed").length}getCompletedSettlements(){return this.settlements.filter(e=>e.status==="completed")}getTransactionCreatorName(e){return this.getMemberName(e.createdBy)}getTransactionTitle(e){return`Transaction (${e.splits.length} members)`}getTotalTransactionAmount(){return this.transactions.reduce((e,o)=>e+o.totalAmount,0)}getTransactionCount(){return this.transactions.length}getSettlementCount(){return this.settlements.length}getMemberName(e){if(!this.group)return"Unknown";let o=this.group.members.find(s=>s.userId===e);return(o==null?void 0:o.displayName)||"Unknown"}getTransactionDetails(){return this.transactions.map(e=>{let o=e.splits.reduce((l,d)=>l+d.amount,0),s=e.totalAmount/o;return{id:e.id,totalAmount:e.totalAmount,paidBy:this.getMemberName(e.createdBy),totalSplitAmount:o,splitRatio:s,splits:e.splits.map(l=>({userId:l.userId,userName:this.getMemberName(l.userId),splitAmount:l.amount,actualAmount:l.amount*s,isPaidBy:l.userId===e.createdBy}))}})}toggleMembers(){var e;this.router.navigate(["dashboard/splitwise/members",(e=this.group)==null?void 0:e.id])}addTransaction(){var e;this.router.navigate(["dashboard/transactions"],{queryParams:{splitGroupId:(e=this.group)==null?void 0:e.id,returnUrl:this.router.url}})}openEditTransactionDialog(e){if(!this.group)return;this.dialog.open(rd,{width:"700px",maxWidth:"90vw",maxHeight:"90vh",data:{transaction:e,groupMembers:this.group.members},disableClose:!0,panelClass:"edit-transaction-dialog"}).afterClosed().subscribe(s=>{s&&this.splitwiseService.updateSplitTransaction(e.id,{amount:s.totalAmount,splits:s.splits}).then(()=>{this.notificationService.success("Transaction updated successfully"),this.reloadData()}).catch(l=>{console.error("Error updating transaction:",l),this.notificationService.error("Failed to update transaction")})})}};t.\u0275fac=function(o){return new(o||t)(A(xo),A(bn),A(Vt),A($t),A(de),A(Ne),A(In),A(ti))},t.\u0275cmp=mt({type:t,selectors:[["app-group-details"]],decls:4,vars:3,consts:[["groupMenu","matMenu"],[1,"group-details-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header"],[1,"header-content"],[1,"header-navigation"],["mat-icon-button","","aria-label","Go back",1,"back-btn","!z-[999]",3,"click"],[3,"click"],[1,"group-title"],["mat-icon-button","","aria-label","More options",1,"more-actions-btn",3,"matMenuTriggerFor"],[1,"header-actions"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],[1,"stats-section"],[1,"stats-card"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-content",3,"click"],[1,"stat-value"],[1,"stat-label"],[1,"stat-content"],["class","balances-section",4,"ngIf"],["class","settlement-suggestions",4,"ngIf"],[1,"transactions-section"],[1,"transactions-card"],["class","transactions-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","settlements-section",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"],[1,"balances-section"],[1,"balances-card"],[1,"balances-list"],["class","balance-item",3,"current-user",4,"ngFor","ngForOf"],["class","detailed-balances",4,"ngIf"],[1,"balance-item"],[1,"balance-info"],[1,"member-name"],["class","current-user-badge",4,"ngIf"],[1,"balance-details"],[1,"paid"],[1,"owed"],[1,"net-balance"],["class","status-indicator",4,"ngIf"],[1,"current-user-badge"],[1,"status-indicator"],[1,"detailed-balances"],[4,"ngIf"],[1,"breakdown-list"],["class","breakdown-item",3,"class",4,"ngFor","ngForOf"],["class","no-breakdown",4,"ngIf"],[1,"breakdown-item"],[1,"breakdown-info"],[1,"breakdown-message"],[1,"breakdown-amount"],[1,"no-breakdown"],[1,"settlement-suggestions"],[1,"suggestions-card"],[1,"suggestions-list"],["class","suggestion-item",3,"class",4,"ngFor","ngForOf"],[1,"suggestion-item"],[1,"suggestion-info"],[1,"suggestion-message"],[1,"message-text"],[1,"settlement-parties"],[1,"from-user"],[1,"to-user"],[1,"settlement-amount"],["mat-raised-button","","size","small",3,"click","color","disabled"],[1,"transactions-list"],["class","transaction-item simple",3,"click",4,"ngFor","ngForOf"],[1,"transaction-item","simple",3,"click"],[1,"transaction-main"],[1,"transaction-info"],[1,"transaction-title"],[1,"transaction-meta"],[1,"paid-by"],[1,"transaction-date"],[1,"transaction-amount"],[1,"empty-state"],[1,"empty-icon"],["mat-raised-button","","color","primary",3,"click"],[1,"settlements-section"],[1,"settlements-card"],[1,"settlements-list"],["class","settlement-item",4,"ngFor","ngForOf"],[1,"settlement-item"],[1,"settlement-info"],["class","settlement-date",4,"ngIf"],[1,"settlement-date"],[1,"error-state"],[1,"error-icon"]],template:function(o,s){o&1&&(h(0,"div",1),U(1,dg,4,0,"div",2)(2,Tg,54,14,"div",3)(3,Sg,11,0,"div",4),g()),o&2&&(O(),S("ngIf",s.isLoading),O(),S("ngIf",!s.isLoading&&s.group),O(),S("ngIf",!s.isLoading&&!s.group))},dependencies:[Re,Nt,kn,Rn,Nn,No,Dn,Vo,Kt,Zt,Lt,le,Do,ko,Ro,Vs,Cd,vd,Oo],styles:[".group-details-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:24px;min-height:100vh;background:#fafafa}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px;text-align:center;padding:40px 20px}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#e0e0e0}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:18px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 24px;font-size:14px;line-height:1.5}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;font-weight:500;font-size:14px;border-radius:6px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#fff;border-radius:8px;margin-bottom:24px;box-shadow:0 1px 3px #0000001a;padding:20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:20px;padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:16px;padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease;border-radius:50%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#333;background-color:#f5f5f5}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#333;line-height:1.2}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease;border-radius:50%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]:hover{color:#333;background-color:#f5f5f5}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:flex;gap:1px;background:#f0f0f0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{flex-direction:column}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;background:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{text-align:center;cursor:pointer;padding:24px 16px;transition:background-color .2s ease;width:100%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]:hover{background-color:#fafafa}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-bottom:4px;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:#666;font-weight:400;text-transform:uppercase;letter-spacing:.5px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]{background-color:#f8f9fa;border-left:3px solid #333;padding-left:16px;margin:0 -16px 0 0;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]   .current-user-badge[_ngcontent-%COMP%]{background:#333;color:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#333;margin-bottom:2px;display:flex;align-items:center;gap:8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]   .current-user-badge[_ngcontent-%COMP%]{background:#666;color:#fff;padding:1px 6px;border-radius:4px;font-size:10px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]   .paid[_ngcontent-%COMP%]{color:#666;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]   .owed[_ngcontent-%COMP%]{color:#666;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]{font-weight:600;font-size:14px;text-align:right}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.positive[_ngcontent-%COMP%]{color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.negative[_ngcontent-%COMP%]{color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.neutral[_ngcontent-%COMP%]{color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{display:block;font-size:10px;font-weight:400;margin-top:2px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.you_owe[_ngcontent-%COMP%]{border-left:3px solid #ff6b6b}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.owed_to_you[_ngcontent-%COMP%]{border-left:3px solid #51cf66}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.others[_ngcontent-%COMP%]{border-left:3px solid #ffd43b}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#333;margin-bottom:2px;display:flex;align-items:center;gap:8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]{font-size:10px;font-weight:500;padding:1px 6px;border-radius:4px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status.pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status.completed[_ngcontent-%COMP%]{background:#d1edff;color:#0c5460}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;color:#666;margin-bottom:2px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px;color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;font-weight:500;font-size:12px;transition:all .2s ease;min-width:80px;height:32px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){transform:none;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px;font-size:14px;width:14px;height:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;padding:12px 0;background-color:#fff;transition:background-color .2s ease;cursor:pointer}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]{flex:1;min-width:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-title[_ngcontent-%COMP%]{font-weight:500;color:#333;margin-bottom:2px;font-size:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:12px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .paid-by[_ngcontent-%COMP%]{font-weight:400;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333;white-space:nowrap}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#e0e0e0;margin-bottom:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:20px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;font-weight:500;padding:10px 20px;font-size:14px;transition:all .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:none;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;color:#666;margin-bottom:2px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px;color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333;margin-bottom:2px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-date[_ngcontent-%COMP%]{font-size:11px;color:#999;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]{margin-top:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #f0f0f0;border-radius:6px;background:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header{padding:12px 16px;background:#fafafa;border-radius:6px 6px 0 0;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-expansion-panel-header-title{font-weight:500;color:#333;display:flex;align-items:center;gap:8px;font-size:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-expansion-panel-header-description{color:#666;font-size:12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header mat-icon{color:#666;font-size:16px;width:16px;height:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:16px;background:#fff;border-radius:0 0 6px 6px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f8f8f8;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;border-radius:4px;padding-left:8px;padding-right:8px;margin:0 -8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owes[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owes[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{color:#ff6b6b;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owed[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#51cf66}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owed[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{color:#51cf66;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   .breakdown-message[_ngcontent-%COMP%]{font-size:13px;color:#333;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .no-breakdown[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;color:#51cf66;font-weight:500;background:#f8f9fa;border-radius:4px;border:1px solid #e9ecef}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .no-breakdown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#51cf66;font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#ff6b6b}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#fff5f5}"]});let i=t;return i})();function Ag(i,t){if(i&1&&H(0,"img",16),i&2){let r=k().$implicit;S("src",r.photoURL,Ke)("alt",r.displayName)}}function kg(i,t){i&1&&(h(0,"mat-icon"),C(1,"person"),g())}function Dg(i,t){if(i&1&&(h(0,"div",7)(1,"div",8)(2,"div",9),U(3,Ag,1,2,"img",10)(4,kg,2,0,"mat-icon",11),g(),h(5,"div",12)(6,"span",13),C(7),g(),h(8,"span",14),C(9),g(),h(10,"span",15),C(11),g()()()()),i&2){let r=t.$implicit;O(3),S("ngIf",r.photoURL),O(),S("ngIf",!r.photoURL),O(3),$(r.displayName),O(2),$(r.email),O(2),$(r.role)}}var Md=(()=>{let t=class t{constructor(){this.isMobile=!1,this.addMember=new yt,this.Math=Math}formatCurrency(e,o="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:o}).format(e)}getGroupMemberCount(){var e;return((e=this.group)==null?void 0:e.members.filter(o=>o.isActive).length)||0}getPositiveBalanceMembers(){return this.group?[]:[]}getNegativeBalanceMembers(){return this.group?[]:[]}getNeutralBalanceMembers(){return this.group?[]:[]}onAddMember(){this.addMember.emit()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=mt({type:t,selectors:[["app-members"]],inputs:{group:"group",isMobile:"isMobile"},outputs:{addMember:"addMember"},decls:18,vars:2,consts:[[1,"members-container"],[1,"members-section"],[1,"members-card"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"add-member-section"],["mat-stroked-button","","color","primary",3,"click"],[1,"member-item"],[1,"member-info"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],[1,"member-role"],[3,"src","alt"]],template:function(o,s){o&1&&(h(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title")(5,"mat-icon"),C(6,"people"),g(),C(7," Members "),g(),h(8,"mat-card-subtitle"),C(9),g()(),h(10,"mat-card-content")(11,"div",3),U(12,Dg,12,5,"div",4),g()()()(),h(13,"div",5)(14,"button",6),F("click",function(){return s.onAddMember()}),h(15,"mat-icon"),C(16,"person_add"),g(),C(17," Add Member "),g()()()),o&2&&(O(9),G(" ",s.getGroupMemberCount()," active members "),O(3),S("ngForOf",s.group.members))},dependencies:[Re,Nt,kn,Rn,Nn,No,Dn,Kt,Lt],styles:[".members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:12px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:11px;color:#1976d2;text-transform:uppercase;letter-spacing:.5px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]   .positive-icon[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]{border-left:4px solid #f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]   .negative-icon[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]{border-left:4px solid #666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]   .neutral-icon[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px 0}@media (max-width: 768px){.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:12px 0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:11px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:10px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let i=t;return i})();function Ng(i,t){i&1&&(h(0,"div",4),H(1,"mat-spinner",5),h(2,"p"),C(3,"Loading group members..."),g()())}function Vg(i,t){if(i&1){let r=ct();h(0,"div",6)(1,"div",7)(2,"button",8),F("click",function(){Q(r);let o=k();return W(o.goBack())}),h(3,"mat-icon"),C(4,"arrow_back"),g()()(),h(5,"app-members",9),F("addMember",function(){Q(r);let o=k();return W(o.openAddMemberDialog())}),g()()}if(i&2){let r=k();O(5),S("group",r.group)("isMobile",r.isMobile)}}function Fg(i,t){if(i&1){let r=ct();h(0,"div",10)(1,"mat-icon",11),C(2,"error"),g(),h(3,"h3"),C(4,"Group Not Found"),g(),h(5,"p"),C(6,"The group you're looking for doesn't exist or you don't have access to it."),g(),h(7,"button",12),F("click",function(){Q(r);let o=k();return W(o.goBack())}),C(8," Go Back "),g()()}}var Od=(()=>{let t=class t{constructor(e,o,s,l,d,m,b){this.route=e,this.router=o,this.auth=s,this.store=l,this.dialog=d,this.notificationService=m,this.breakpointObserver=b,this.group=null,this.isLoading=!1,this.error=null,this.currentUser=null,this.isMobile=!1,this.destroy$=new ne,this.breakpointObserver.observe([En.Handset]).pipe(be(this.destroy$)).subscribe(I=>{this.isMobile=I.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(Kn).pipe(be(this.destroy$)).subscribe(e=>{this.isLoading=e.loading,this.error=e.error;let o=this.route.snapshot.paramMap.get("id");o&&(this.group=e.groups.find(s=>s.id===o)||null,!this.group&&!this.isLoading&&this.store.dispatch(Me({groupId:o}))),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Ue()))})}loadGroupDetails(){let e=this.route.snapshot.paramMap.get("id");e&&this.store.dispatch(Me({groupId:e}))}goBack(){this.group?this.router.navigate(["dashboard/splitwise/group",this.group.id]):this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(Zn,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(o=>{o&&(o.action==="delete"?this.store.dispatch(Le({groupId:this.group.id,userId:o.userId})):this.store.dispatch(ue({groupId:this.group.id,request:o})))})}};t.\u0275fac=function(o){return new(o||t)(A(xo),A(bn),A(Vt),A($t),A(de),A(Ne),A(In))},t.\u0275cmp=mt({type:t,selectors:[["app-members-page"]],decls:4,vars:3,consts:[[1,"members-page-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header-actions"],["mat-icon-button","",1,"back-btn",3,"click"],[3,"addMember","group","isMobile"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","primary",3,"click"]],template:function(o,s){o&1&&(h(0,"div",0),U(1,Ng,4,0,"div",1)(2,Vg,6,2,"div",2)(3,Fg,9,0,"div",3),g()),o&2&&(O(),S("ngIf",s.isLoading),O(),S("ngIf",!s.isLoading&&s.group),O(),S("ngIf",!s.isLoading&&!s.group))},dependencies:[Nt,Kt,Zt,Lt,le,Md],styles:[".members-page-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh;background:#f5f5f5}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px;text-align:center}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:24px;box-shadow:0 2px 8px #0000001a}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1976d2}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex:1}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 4px;font-size:24px;font-weight:600;color:#333}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}@media (max-width: 768px){.members-page-container[_ngcontent-%COMP%]{padding:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{width:100%}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}}"]});let i=t;return i})();var Lg=[{path:"",component:od},{path:"group/:id",component:yd},{path:"members/:id",component:Od}],wd=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=kt({imports:[Oi.forChild(Lg),Oi]});let i=t;return i})();var xd=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=kt({imports:[vc,wo,Xe,To,Oc,Fo]});let i=t;return i})();var Ug=["button"],Bg=["*"];function zg(i,t){if(i&1&&H(0,"mat-pseudo-checkbox",3),i&2){let r=k();S("disabled",r.disabled)}}function jg(i,t){if(i&1&&H(0,"mat-pseudo-checkbox",3),i&2){let r=k();S("disabled",r.disabled)}}var Id=new Pt("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:Gg});function Gg(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var Ed=new Pt("MatButtonToggleGroup"),qg={provide:ic,useExisting:Qa(()=>$g),multi:!0},Td=0,pr=class{constructor(t,r){this.source=t,this.value=r}},$g=(()=>{let t=class t{get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get value(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(o=>o.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=e,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(e){this._hideMultipleSelectionIndicator=e,this._markButtonsForCheck()}constructor(e,o,s){var l,d;this._changeDetector=e,this._dir=s,this._multiple=!1,this._disabled=!1,this._disabledInteractive=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name=`mat-button-toggle-group-${Td++}`,this.valueChange=new yt,this.change=new yt,this.appearance=o&&o.appearance?o.appearance:"standard",this.hideSingleSelectionIndicator=(l=o==null?void 0:o.hideSingleSelectionIndicator)!=null?l:!1,this.hideMultipleSelectionIndicator=(d=o==null?void 0:o.hideMultipleSelectionIndicator)!=null?d:!1}ngOnInit(){this._selectionModel=new Tc(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked)),this.multiple||this._initializeTabIndex()}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_keydown(e){if(this.multiple||this.disabled)return;let s=e.target.id,l=this._buttonToggles.toArray().findIndex(m=>m.buttonId===s),d=null;switch(e.keyCode){case 32:case 13:d=this._buttonToggles.get(l)||null;break;case 38:d=this._getNextButton(l,-1);break;case 37:d=this._getNextButton(l,this.dir==="ltr"?-1:1);break;case 40:d=this._getNextButton(l,1);break;case 39:d=this._getNextButton(l,this.dir==="ltr"?1:-1);break;default:return}d&&(e.preventDefault(),d._onButtonClick(),d.focus())}_emitChangeEvent(e){let o=new pr(e,this.value);this._rawValue=o.value,this._controlValueAccessorChangeFn(o.value),this.change.emit(o)}_syncButtonToggle(e,o,s=!1,l=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?o?this._selectionModel.select(e):this._selectionModel.deselect(e):l=!0,l?Promise.resolve().then(()=>this._updateModelValue(e,s)):this._updateModelValue(e,s)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(o=>e.value!=null&&o===e.value):e.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(e=>{e.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let e=0;e<this._buttonToggles.length;e++){let o=this._buttonToggles.get(e);if(!o.disabled){o.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(e,o){let s=this._buttonToggles;for(let l=1;l<=s.length;l++){let d=(e+o*l+s.length)%s.length,m=s.get(d);if(m&&!m.disabled)return m}return null}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(o=>this._selectValue(o))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>{e.checked=!1,this.multiple||(e.tabIndex=-1)})}_selectValue(e){let o=this._buttonToggles.find(s=>s.value!=null&&s.value===e);o&&(o.checked=!0,this._selectionModel.select(o),this.multiple||(o.tabIndex=0))}_updateModelValue(e,o){o&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){var e;(e=this._buttonToggles)==null||e.forEach(o=>o._markForCheck())}};t.\u0275fac=function(o){return new(o||t)(A(ve),A(Id,8),A(Pc,8))},t.\u0275dir=Ae({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(o,s,l){if(o&1&&yi(l,Sd,5),o&2){let d;He(d=Qe())&&(s._buttonToggles=d)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(o,s){o&1&&F("keydown",function(d){return s._keydown(d)}),o&2&&(ae("role",s.multiple?"group":"radiogroup")("aria-disabled",s.disabled),Ct("mat-button-toggle-vertical",s.vertical)("mat-button-toggle-group-appearance-standard",s.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",Rt],value:"value",multiple:[2,"multiple","multiple",Rt],disabled:[2,"disabled","disabled",Rt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Rt],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Rt],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",Rt]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[Ye([qg,{provide:Ed,useExisting:t}]),ke]});let i=t;return i})(),Sd=(()=>{let t=class t{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(e){this._tabIndex=e,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=e}get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}constructor(e,o,s,l,d,m){var I;this._changeDetectorRef=o,this._elementRef=s,this._focusMonitor=l,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new yt;let b=Number(d);this.tabIndex=b||b===0?b:null,this.buttonToggleGroup=e,this.appearance=m&&m.appearance?m.appearance:"standard",this.disabledInteractive=(I=m==null?void 0:m.disabledInteractive)!=null?I:!1}ngOnInit(){let e=this.buttonToggleGroup;this.id=this.id||`mat-button-toggle-${Td++}`,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){if(this.disabled)return;let e=this.isSingleSelector()?!0:!this._checked;if(e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let o=this.buttonToggleGroup._buttonToggles.find(s=>s.tabIndex===0);o&&(o.tabIndex=-1),this.tabIndex=0}this.change.emit(new pr(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}};t.\u0275fac=function(o){return new(o||t)(A(Ed,8),A(ve),A(Pi),A(Eo),Mo("tabindex"),A(Id,8))},t.\u0275cmp=mt({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(o,s){if(o&1&&Mi(Ug,5),o&2){let l;He(l=Qe())&&(s._buttonElement=l.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(o,s){o&1&&F("focus",function(){return s.focus()}),o&2&&(ae("aria-label",null)("aria-labelledby",null)("id",s.id)("name",null),Ct("mat-button-toggle-standalone",!s.buttonToggleGroup)("mat-button-toggle-checked",s.checked)("mat-button-toggle-disabled",s.disabled)("mat-button-toggle-disabled-interactive",s.disabledInteractive)("mat-button-toggle-appearance-standard",s.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",Rt],appearance:"appearance",checked:[2,"checked","checked",Rt],disabled:[2,"disabled","disabled",Rt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Rt]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[ke,De],ngContentSelectors:Bg,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(o,s){if(o&1){let l=ct();fn(),h(0,"button",1,0),F("click",function(){return Q(l),W(s._onButtonClick())}),h(2,"span",2),U(3,zg,1,1,"mat-pseudo-checkbox",3)(4,jg,1,1,"mat-pseudo-checkbox",3),ce(5),g()(),H(6,"span",4)(7,"span",5)}if(o&2){let l=We(1);S("id",s.buttonId)("disabled",s.disabled&&!s.disabledInteractive||null),ae("role",s.isSingleSelector()?"radio":"button")("tabindex",s.disabled&&!s.disabledInteractive?-1:s.tabIndex)("aria-pressed",s.isSingleSelector()?null:s.checked)("aria-checked",s.isSingleSelector()?s.checked:null)("name",s._getButtonName())("aria-label",s.ariaLabel)("aria-labelledby",s.ariaLabelledby)("aria-disabled",s.disabled&&s.disabledInteractive?"true":null),O(3),pt(s.buttonToggleGroup&&s.checked&&!s.buttonToggleGroup.multiple&&!s.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),O(),pt(s.buttonToggleGroup&&s.checked&&s.buttonToggleGroup.multiple&&!s.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),O(3),S("matRippleTrigger",l)("matRippleDisabled",s.disableRipple||s.disabled)}},dependencies:[yc,Mc],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0});let i=t;return i})(),Ad=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=kt({imports:[Xe,To,Sd,Xe]});let i=t;return i})();var Kg={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},_r="__@ngrx/effects_create__";function Gt(i,t={}){let r=t.functional?i:i(),e=D(D({},Kg),t);return Object.defineProperty(r,_r,{value:e}),r}function Hg(i){return Object.getOwnPropertyNames(i).filter(e=>i[e]&&i[e].hasOwnProperty(_r)?i[e][_r].hasOwnProperty("dispatch"):!1).map(e=>{let o=i[e][_r];return D({propertyName:e},o)})}function Qg(i){return Hg(i)}function Nd(i){return Object.getPrototypeOf(i)}function Wg(i){return!!i.constructor&&i.constructor.name!=="Object"&&i.constructor.name!=="Function"}function Vd(i){return typeof i=="function"}function kd(i){return i.filter(Vd)}function Yg(i){return i instanceof Pt||Vd(i)}function Xg(i,t,r){let e=Nd(i),s=!!e&&e.constructor.name!=="Object"?e.constructor.name:null,l=Qg(i).map(({propertyName:d,dispatch:m,useEffectsErrorHandler:b})=>{let I=typeof i[d]=="function"?i[d]():i[d],E=b?r(I,t):I;return m===!1?E.pipe(Ga()):E.pipe(Ka()).pipe(it(N=>({effect:i[d],notification:N,propertyName:d,sourceName:s,sourceInstance:i})))});return vi(...l)}var Jg=10;function Fd(i,t,r=Jg){return i.pipe(ht(e=>(t&&t.handleError(e),r<=1?i:Fd(i,t,r-1))))}var Ld=(()=>{let t=class t extends Ba{constructor(e){super(),e&&(this.source=e)}lift(e){let o=new t;return o.source=this,o.operator=e,o}};t.\u0275fac=function(o){return new(o||t)(ot(hc))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function qt(...i){return _e(t=>i.some(r=>typeof r=="string"?r===t.type:r.type===t.type))}var Ud=new Pt("@ngrx/effects Internal Root Guard"),fr=new Pt("@ngrx/effects User Provided Effects"),Fs=new Pt("@ngrx/effects Internal Root Effects"),Bd=new Pt("@ngrx/effects Internal Root Effects Instances"),Dd=new Pt("@ngrx/effects Internal Feature Effects"),zd=new Pt("@ngrx/effects Internal Feature Effects Instance Groups"),Zg=new Pt("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Fd}),jd="@ngrx/effects/init",I0=B(jd);function tp(i,t){if(i.notification.kind==="N"){let r=i.notification.value;!ep(r)&&t.handleError(new Error(`Effect ${np(i)} dispatched an invalid action: ${ip(r)}`))}}function ep(i){return typeof i!="function"&&i&&i.type&&typeof i.type=="string"}function np({propertyName:i,sourceInstance:t,sourceName:r}){let e=typeof t[i]=="function";return!!r?`"${r}.${String(i)}${e?"()":""}"`:`"${String(i)}()"`}function ip(i){try{return JSON.stringify(i)}catch{return i}}var op="ngrxOnIdentifyEffects";function rp(i){return Ls(i,op)}var sp="ngrxOnRunEffects";function ap(i){return Ls(i,sp)}var cp="ngrxOnInitEffects";function lp(i){return Ls(i,cp)}function Ls(i,t){return i&&t in i&&typeof i[t]=="function"}var Gd=(()=>{let t=class t extends ne{constructor(e,o){super(),this.errorHandler=e,this.effectsErrorHandler=o}addEffects(e){this.next(e)}toActions(){return this.pipe(Gr(e=>Wg(e)?Nd(e):e),tt(e=>e.pipe(Gr(dp))),tt(e=>{let o=e.pipe($a(l=>up(this.errorHandler,this.effectsErrorHandler)(l)),it(l=>(tp(l,this.errorHandler),l.notification)),_e(l=>l.kind==="N"&&l.value!=null),qa()),s=e.pipe(Co(1),_e(lp),it(l=>l.ngrxOnInitEffects()));return vi(o,s)}))}};t.\u0275fac=function(o){return new(o||t)(ot(Wa),ot(Zg))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function dp(i){return rp(i)?i.ngrxOnIdentifyEffects():""}function up(i,t){return r=>{let e=Xg(r,i,t);return ap(r)?r.ngrxOnRunEffects(e):e}}var qd=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(e,o){this.effectSources=e,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(o){return new(o||t)(ot(Gd),ot($t))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),$d=(()=>{let t=class t{constructor(e,o,s,l,d,m,b){this.sources=e,o.start();for(let I of l)e.addEffects(I);s.dispatch({type:jd})}addEffects(e){this.sources.addEffects(e)}};t.\u0275fac=function(o){return new(o||t)(ot(Gd),ot(qd),ot($t),ot(Bd),ot(Xr,8),ot(Jr,8),ot(Ud,8))},t.\u0275mod=Dt({type:t}),t.\u0275inj=kt({});let i=t;return i})(),mp=(()=>{let t=class t{constructor(e,o,s,l){let d=o.flat();for(let m of d)e.addEffects(m)}};t.\u0275fac=function(o){return new(o||t)(ot($d),ot(zd),ot(Xr,8),ot(Jr,8))},t.\u0275mod=Dt({type:t}),t.\u0275inj=kt({});let i=t;return i})(),Kd=(()=>{let t=class t{static forFeature(...e){let o=e.flat(),s=kd(o);return{ngModule:mp,providers:[s,{provide:Dd,multi:!0,useValue:o},{provide:fr,multi:!0,useValue:[]},{provide:zd,multi:!0,useFactory:Rd,deps:[Dd,fr]}]}}static forRoot(...e){let o=e.flat(),s=kd(o);return{ngModule:$d,providers:[s,{provide:Fs,useValue:[o]},{provide:Ud,useFactory:hp},{provide:fr,multi:!0,useValue:[]},{provide:Bd,useFactory:Rd,deps:[Fs,fr]}]}}};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=kt({});let i=t;return i})();function Rd(i,t){let r=[];for(let e of i)r.push(...e);for(let e of t)r.push(...e);return r.map(e=>Yg(e)?vo(e):e)}function hp(){let i=vo(qd,{optional:!0,skipSelf:!0}),t=vo(Fs,{self:!0});if(!(t.length===1&&t[0].length===0)&&i)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Hd={groups:[],invitations:[],transactions:[],settlements:[],selectedGroup:null,loading:!1,error:null};var Qd=pc(Hd,z(Bn,i=>L(D({},i),{loading:!0,error:null})),z(Uo,(i,{groups:t})=>L(D({},i),{groups:t,loading:!1,error:null})),z(ki,(i,{error:t})=>L(D({},i),{loading:!1,error:t})),z(Me,i=>L(D({},i),{loading:!0,error:null})),z(Bo,(i,{group:t})=>L(D({},i),{groups:i.groups.find(r=>r.id===t.id)?i.groups.map(r=>r.id===t.id?t:r):[...i.groups,t],selectedGroup:t,loading:!1,error:null})),z(Di,(i,{error:t})=>L(D({},i),{loading:!1,error:t})),z(zn,i=>L(D({},i),{loading:!0,error:null})),z(zo,(i,{invitations:t})=>L(D({},i),{invitations:t,loading:!1,error:null})),z(Ri,(i,{error:t})=>L(D({},i),{loading:!1,error:t})),z(jn,i=>L(D({},i),{loading:!0,error:null})),z(jo,(i,{group:t})=>L(D({},i),{groups:[...i.groups,t],loading:!1,error:null})),z(Ni,(i,{error:t})=>L(D({},i),{loading:!1,error:t})),z(ue,i=>L(D({},i),{loading:!0,error:null})),z(Go,(i,{group:t})=>L(D({},i),{groups:i.groups.map(r=>r.id===t.id?t:r),loading:!1,error:null})),z(Vi,(i,{error:t})=>L(D({},i),{loading:!1,error:t})),z(Gn,i=>L(D({},i),{loading:!0,error:null})),z(qo,(i,{invitationId:t})=>L(D({},i),{invitations:i.invitations.filter(r=>r.id!==t),loading:!1,error:null})),z(Fi,(i,{error:t})=>L(D({},i),{loading:!1,error:t})),z(qn,i=>L(D({},i),{loading:!0,error:null})),z($o,(i,{invitationId:t})=>L(D({},i),{invitations:i.invitations.filter(r=>r.id!==t),loading:!1,error:null})),z(Li,(i,{error:t})=>L(D({},i),{loading:!1,error:t})),z(Fe,i=>L(D({},i),{loading:!0,error:null})),z(Ko,(i,{groupId:t})=>{var r;return L(D({},i),{groups:i.groups.filter(e=>e.id!==t),selectedGroup:((r=i.selectedGroup)==null?void 0:r.id)===t?null:i.selectedGroup,loading:!1,error:null})}),z(Ui,(i,{error:t})=>L(D({},i),{loading:!1,error:t})),z(ol,(i,{group:t})=>L(D({},i),{selectedGroup:t})),z(on,i=>L(D({},i),{loading:!0,error:null})),z(Ho,(i,{transactions:t})=>L(D({},i),{transactions:t,loading:!1,error:null})),z(Bi,(i,{error:t})=>L(D({},i),{loading:!1,error:t})),z(rn,i=>L(D({},i),{loading:!0,error:null})),z(Qo,(i,{settlements:t})=>L(D({},i),{settlements:t,loading:!1,error:null})),z(zi,(i,{error:t})=>L(D({},i),{loading:!1,error:t})),z(Wo,i=>L(D({},i),{loading:!0,error:null})),z(Yo,(i,{transaction:t})=>L(D({},i),{transactions:[...i.transactions,t],loading:!1,error:null})),z(ji,(i,{error:t})=>L(D({},i),{loading:!1,error:t})),z(Xo,i=>L(D({},i),{loading:!0,error:null})),z(Jo,(i,{transaction:t})=>L(D({},i),{transactions:i.transactions.map(r=>r.id===t.id?t:r),loading:!1,error:null})),z(Gi,(i,{error:t})=>L(D({},i),{loading:!1,error:t})),z($n,i=>L(D({},i),{loading:!0,error:null})),z(Zo,(i,{settlement:t})=>L(D({},i),{settlements:[...i.settlements,t],loading:!1,error:null})),z(qi,(i,{error:t})=>L(D({},i),{loading:!1,error:t})),z(Le,i=>L(D({},i),{loading:!0,error:null})),z(tr,(i,{groupId:t})=>L(D({},i),{loading:!1,error:null})),z($i,(i,{error:t})=>L(D({},i),{loading:!1,error:t})),z(Ue,i=>L(D({},i),{error:null})));var Wd=(()=>{let t=class t{constructor(e,o,s,l,d){this.actions$=e,this.splitwiseService=o,this.userService=s,this.store=l,this.auth=d,this.loadGroups$=Gt(()=>this.actions$.pipe(qt(Bn),tt(()=>Z(this.userService.getCurrentUser()).pipe(tt(m=>m!=null&&m.uid?this.splitwiseService.getUserGroups(m.uid).pipe(it(b=>Uo({groups:b||[]})),ht(b=>K(ki({error:b.message})))):K(ki({error:"User not authenticated"}))))))),this.loadGroupById$=Gt(()=>this.actions$.pipe(qt(Me),tt(m=>Z(this.splitwiseService.getGroupById(m.groupId)).pipe(it(b=>b?Bo({group:b}):Di({error:"Group not found"})),ht(b=>K(Di({error:b.message}))))))),this.loadInvitations$=Gt(()=>this.actions$.pipe(qt(zn),tt(()=>Z(this.userService.getCurrentUser()).pipe(tt(m=>m!=null&&m.uid?this.splitwiseService.getUserInvitations(m.uid).pipe(it(b=>zo({invitations:b||[]})),ht(b=>K(Ri({error:b.message})))):K(Ri({error:"User not authenticated"}))))))),this.createGroup$=Gt(()=>this.actions$.pipe(qt(jn),tt(m=>Z(this.userService.getCurrentUser()).pipe(tt(b=>b!=null&&b.uid?this.splitwiseService.createGroup(m.request,b.uid).pipe(it(I=>jo({group:I})),ht(I=>K(Ni({error:I.message})))):K(Ni({error:"User not authenticated"}))))))),this.addMember$=Gt(()=>this.actions$.pipe(qt(ue),tt(m=>Z(this.userService.getCurrentUser()).pipe(tt(b=>b!=null&&b.uid?Z(this.splitwiseService.addMemberToGroup(m.groupId,m.request,b.uid)).pipe(it(I=>Go({group:I})),ht(I=>K(Vi({error:I.message})))):K(Vi({error:"User not authenticated"}))))))),this.acceptInvitation$=Gt(()=>this.actions$.pipe(qt(Gn),tt(m=>Z(this.userService.getCurrentUser()).pipe(tt(b=>b!=null&&b.uid?Z(this.splitwiseService.acceptInvitation(m.invitationId,b.uid)).pipe(it(()=>qo({invitationId:m.invitationId})),ht(I=>K(Fi({error:I.message})))):K(Fi({error:"User not authenticated"}))))))),this.declineInvitation$=Gt(()=>this.actions$.pipe(qt(qn),tt(m=>Z(this.userService.getCurrentUser()).pipe(tt(b=>b!=null&&b.uid?Z(this.splitwiseService.declineInvitation(m.invitationId,b.uid)).pipe(it(()=>$o({invitationId:m.invitationId})),ht(I=>K(Li({error:I.message})))):K(Li({error:"User not authenticated"}))))))),this.deleteGroup$=Gt(()=>this.actions$.pipe(qt(Fe),tt(m=>Z(this.userService.getCurrentUser()).pipe(tt(b=>b!=null&&b.uid?this.splitwiseService.deleteGroup(m.groupId,b.uid).pipe(it(()=>Ko({groupId:m.groupId})),ht(I=>K(Ui({error:I.message})))):K(Ui({error:"User not authenticated"}))))))),this.loadTransactions$=Gt(()=>this.actions$.pipe(qt(on),tt(m=>Z(this.userService.getCurrentUser()).pipe(tt(b=>b!=null&&b.uid?this.splitwiseService.getGroupTransactions(m.groupId,b.uid).pipe(it(I=>Ho({transactions:I||[]})),ht(I=>K(Bi({error:I.message})))):K(Bi({error:"User not authenticated"}))))))),this.loadSettlements$=Gt(()=>this.actions$.pipe(qt(rn),tt(m=>Z(this.userService.getCurrentUser()).pipe(tt(b=>b!=null&&b.uid?this.splitwiseService.getGroupSettlements(m.groupId,b.uid).pipe(it(I=>Qo({settlements:I||[]})),ht(I=>K(zi({error:I.message})))):K(zi({error:"User not authenticated"}))))))),this.createSplitTransaction$=Gt(()=>this.actions$.pipe(qt(Wo),tt(m=>Z(this.userService.getCurrentUser()).pipe(tt(b=>b!=null&&b.uid?this.splitwiseService.createSplitTransaction(m.request,b.uid).pipe(it(I=>Yo({transaction:I})),ht(I=>K(ji({error:I.message})))):K(ji({error:"User not authenticated"}))))))),this.updateSplitTransaction$=Gt(()=>this.actions$.pipe(qt(Xo),tt(m=>Z(this.userService.getCurrentUser()).pipe(tt(b=>b!=null&&b.uid?Z(this.splitwiseService.updateSplitTransaction(m.transactionId,m.updates)).pipe(it(()=>Jo({transaction:{id:m.transactionId}})),ht(I=>K(Gi({error:I.message})))):K(Gi({error:"User not authenticated"}))))))),this.createSettlement$=Gt(()=>this.actions$.pipe(qt($n),tt(m=>Z(this.userService.getCurrentUser()).pipe(tt(b=>{if(!(b!=null&&b.uid))return K(qi({error:"User not authenticated"}));let I={groupId:m.groupId,fromUserId:m.fromUserId,toUserId:m.toUserId,amount:m.amount,notes:m.notes,originalTransactionId:m.originalTransactionId};return Z(this.splitwiseService.createSettlement(I)).pipe(it(E=>Zo({settlement:{id:E}})),ht(E=>K(qi({error:E.message}))))}))))),this.removeMember$=Gt(()=>this.actions$.pipe(qt(Le),tt(m=>Z(this.userService.getCurrentUser()).pipe(tt(b=>b!=null&&b.uid?Z(this.splitwiseService.removeMemberFromGroup(m.groupId,m.userId,b.uid)).pipe(it(()=>tr({groupId:m.groupId})),ht(I=>K($i({error:I.message})))):K($i({error:"User not authenticated"})))))))}};t.\u0275fac=function(o){return new(o||t)(ot(Ld),ot(ti),ot(Tn),ot($t),ot(Vt))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac});let i=t;return i})();function pp(i,t){if(i&1&&(h(0,"div",0)(1,"div",1),H(2,"div",2),h(3,"p",3),C(4),g()()()),i&2){let r=k();O(4),$(r.message)}}var B0=(()=>{let t=class t{constructor(e){this.loaderService=e,this.message="Loading...",this.loading$=this.loaderService.loading$}};t.\u0275fac=function(o){return new(o||t)(A(Vc))},t.\u0275cmp=mt({type:t,selectors:[["app-loader"]],inputs:{message:"message"},standalone:!0,features:[De],decls:2,vars:3,consts:[[1,"loader-overlay"],[1,"loader"],[1,"spinner"],[1,"loader-message"]],template:function(o,s){o&1&&(U(0,pp,5,1,"div",0),Ce(1,"async")),o&2&&pt(_n(1,1,s.loading$)?0:-1)},dependencies:[ec],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#f9fafbf2;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9999}.loader[_ngcontent-%COMP%]{background:transparent;border-radius:1rem;padding:2rem;max-width:300px;width:90%;text-align:center;display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-top:4px solid #46777f;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loader-message[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:500;font-size:1.125rem;color:#1f2937;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.loader[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem}.loader-message[_ngcontent-%COMP%]{font-size:1rem}}"]});let i=t;return i})();var Yd=(()=>{let t=class t{constructor(){this.currentLanguage=new za("en"),this.translations={loading:{en:"Loading...",hi:"\u0932\u094B\u0921 \u0939\u094B \u0930\u0939\u093E \u0939\u0948..."},error:{en:"Error",hi:"\u0924\u094D\u0930\u0941\u091F\u093F"},success:{en:"Success",hi:"\u0938\u092B\u0932\u0924\u093E"},cancel:{en:"Cancel",hi:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902"},save:{en:"Save",hi:"\u0938\u0939\u0947\u091C\u0947\u0902"},delete:{en:"Delete",hi:"\u0939\u091F\u093E\u090F\u0902"},edit:{en:"Edit",hi:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},add:{en:"Add",hi:"\u091C\u094B\u0921\u093C\u0947\u0902"},close:{en:"Close",hi:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902"},logout:{en:"Logout",hi:"\u0932\u0949\u0917\u0906\u0909\u091F"},login:{en:"Login",hi:"\u0932\u0949\u0917\u093F\u0928"},signup:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},email:{en:"Email",hi:"\u0908\u092E\u0947\u0932"},password:{en:"Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921"},name:{en:"Name",hi:"\u0928\u093E\u092E"},amount:{en:"Amount",hi:"\u0930\u093E\u0936\u093F"},date:{en:"Date",hi:"\u0924\u093E\u0930\u0940\u0916"},category:{en:"Category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940"},type:{en:"Type",hi:"\u092A\u094D\u0930\u0915\u093E\u0930"},income:{en:"Income",hi:"\u0906\u092F"},expense:{en:"Expense",hi:"\u0916\u0930\u094D\u091A"},total:{en:"Total",hi:"\u0915\u0941\u0932"},balance:{en:"Balance",hi:"\u0936\u0947\u0937 \u0930\u093E\u0936\u093F"},actions:{en:"Actions",hi:"\u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},search:{en:"Search",hi:"\u0916\u094B\u091C\u0947\u0902"},filter:{en:"Filter",hi:"\u092B\u093C\u093F\u0932\u094D\u091F\u0930"},clear:{en:"Clear",hi:"\u0938\u093E\u092B\u093C \u0915\u0930\u0947\u0902"},settings:{en:"Settings",hi:"\u0938\u0947\u091F\u093F\u0902\u0917\u094D\u0938"},dashboard:{en:"Dashboard",hi:"\u0921\u0948\u0936\u092C\u094B\u0930\u094D\u0921"},home:{en:"Home",hi:"\u0939\u094B\u092E"},accounts:{en:"Accounts",hi:"\u0916\u093E\u0924\u0947"},transactions:{en:"Transactions",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928"},categories:{en:"Categories",hi:"\u0936\u094D\u0930\u0947\u0923\u093F\u092F\u093E\u0902"},budgets:{en:"Budgets",hi:"\u092C\u091C\u091F"},goals:{en:"Goals",hi:"\u0932\u0915\u094D\u0937\u094D\u092F"},reports:{en:"Reports",hi:"\u0930\u093F\u092A\u094B\u0930\u094D\u091F\u094D\u0938"},calendar:{en:"Calendar",hi:"\u0915\u0948\u0932\u0947\u0902\u0921\u0930"},notes:{en:"Notes",hi:"\u0928\u094B\u091F\u094D\u0938"},tax:{en:"Tax",hi:"\u0915\u0930"},tools:{en:"Tools",hi:"\u0909\u092A\u0915\u0930\u0923"},moneyManager:{en:`${ie.APP_NAME}`,hi:"\u092E\u0928\u0940 \u092E\u0948\u0928\u0947\u091C\u0930"},manageFinances:{en:"Manage your finances",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0915\u0930\u0947\u0902"},welcomeBack:{en:"Welcome Back!",hi:"\u0935\u093E\u092A\u0938\u0940 \u092A\u0930 \u0938\u094D\u0935\u093E\u0917\u0924 \u0939\u0948!"},youSpend:{en:"You Spend",hi:"\u0906\u092A\u0915\u093E \u0916\u0930\u094D\u091A"},youEarn:{en:"You Earn",hi:"\u0906\u092A\u0915\u0940 \u0915\u092E\u093E\u0908"},netBalance:{en:"Net Balance",hi:"\u0936\u0941\u0926\u094D\u0927 \u0936\u0947\u0937"},thisMonth:{en:"This Month",hi:"\u0907\u0938 \u092E\u0939\u0940\u0928\u0947"},lastMonth:{en:"Last Month",hi:"\u092A\u093F\u091B\u0932\u0947 \u092E\u0939\u0940\u0928\u0947"},quickActions:{en:"Quick Actions",hi:"\u0924\u094D\u0935\u0930\u093F\u0924 \u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},recentTransactions:{en:"Recent Transactions",hi:"\u0939\u093E\u0932 \u0915\u0947 \u0932\u0947\u0928-\u0926\u0947\u0928"},upcomingBills:{en:"Upcoming Bills",hi:"\u0906\u0917\u093E\u092E\u0940 \u092C\u093F\u0932"},savingsGoal:{en:"Savings Goal",hi:"\u092C\u091A\u0924 \u0932\u0915\u094D\u0937\u094D\u092F"},signIn:{en:"Sign In",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928"},signUp:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},signOut:{en:"Sign Out",hi:"\u0938\u093E\u0907\u0928 \u0906\u0909\u091F"},forgotPassword:{en:"Forgot Password?",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092D\u0942\u0932 \u0917\u090F?"},resetPassword:{en:"Reset Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0930\u0940\u0938\u0947\u091F \u0915\u0930\u0947\u0902"},emailPlaceholder:{en:"Enter your email",hi:"\u0905\u092A\u0928\u093E \u0908\u092E\u0947\u0932 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},passwordPlaceholder:{en:"Enter your password",hi:"\u0905\u092A\u0928\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},confirmPassword:{en:"Confirm Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0915\u0940 \u092A\u0941\u0937\u094D\u091F\u093F \u0915\u0930\u0947\u0902"},namePlaceholder:{en:"Enter your name",hi:"\u0905\u092A\u0928\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},loginSuccess:{en:"Successfully signed in",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},loginError:{en:"Failed to sign in",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},signupSuccess:{en:"Successfully signed up",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},signupError:{en:"Failed to sign up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},sessionExpired:{en:"Session expired. Please sign in again.",hi:"\u0938\u0924\u094D\u0930 \u0938\u092E\u093E\u092A\u094D\u0924 \u0939\u094B \u0917\u092F\u093E\u0964 \u0915\u0943\u092A\u092F\u093E \u092B\u093F\u0930 \u0938\u0947 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902\u0964"},invalidCredentials:{en:"Invalid email or password",hi:"\u0905\u092E\u093E\u0928\u094D\u092F \u0908\u092E\u0947\u0932 \u092F\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921"},passwordMismatch:{en:"Passwords do not match",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092E\u0947\u0932 \u0928\u0939\u0940\u0902 \u0916\u093E\u0924\u0947"},emailRequired:{en:"Email is required",hi:"\u0908\u092E\u0947\u0932 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},passwordRequired:{en:"Password is required",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},nameRequired:{en:"Name is required",hi:"\u0928\u093E\u092E \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},addTransaction:{en:"Add Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0947\u0902"},editTransaction:{en:"Edit Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},deleteTransaction:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},transactionHistory:{en:"Transaction History",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0907\u0924\u093F\u0939\u093E\u0938"},manageTransactions:{en:"Manage and track your financial transactions",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924\u0940\u092F \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0914\u0930 \u091F\u094D\u0930\u0948\u0915\u093F\u0902\u0917 \u0915\u0930\u0947\u0902"},payee:{en:"Payee",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E"},payeePlaceholder:{en:"Enter payee name",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E \u0915\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},amountPlaceholder:{en:"Enter amount",hi:"\u0930\u093E\u0936\u093F \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},categoryPlaceholder:{en:"Select category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940 \u091A\u0941\u0928\u0947\u0902"},datePlaceholder:{en:"Select date",hi:"\u0924\u093E\u0930\u0940\u0916 \u091A\u0941\u0928\u0947\u0902"},notesPlaceholder:{en:"Add notes (optional)",hi:"\u0928\u094B\u091F\u094D\u0938 \u091C\u094B\u0921\u093C\u0947\u0902 (\u0935\u0948\u0915\u0932\u094D\u092A\u093F\u0915)"},noTransactions:{en:"No transactions yet",hi:"\u0905\u092D\u0940 \u0924\u0915 \u0915\u094B\u0908 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0928\u0939\u0940\u0902"},noTransactionsMessage:{en:"Start by adding your first transaction to track your finances.",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u091F\u094D\u0930\u0948\u0915 \u0930\u0916\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0905\u092A\u0928\u093E \u092A\u0939\u0932\u093E \u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0915\u0930 \u0936\u0941\u0930\u0942 \u0915\u0930\u0947\u0902\u0964"},transactionAdded:{en:"Transaction added successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u091C\u094B\u0921\u093C\u093E \u0917\u092F\u093E"},transactionUpdated:{en:"Transaction updated successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0905\u092A\u0921\u0947\u091F \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},transactionDeleted:{en:"Transaction deleted successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},confirmDelete:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},confirmDeleteMessage:{en:"Are you sure you want to delete this transaction?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0907\u0938 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u094B \u0939\u091F\u093E\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"},networkError:{en:"Network error. Please check your connection.",hi:"\u0928\u0947\u091F\u0935\u0930\u094D\u0915 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0915\u0928\u0947\u0915\u094D\u0936\u0928 \u091C\u093E\u0902\u091A\u0947\u0902\u0964"},serverError:{en:"Server error. Please try again later.",hi:"\u0938\u0930\u094D\u0935\u0930 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u092C\u093E\u0926 \u092E\u0947\u0902 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},validationError:{en:"Please check your input and try again.",hi:"\u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0907\u0928\u092A\u0941\u091F \u091C\u093E\u0902\u091A\u0947\u0902 \u0914\u0930 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},dataSaved:{en:"Data saved successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u0939\u0947\u091C\u093E \u0917\u092F\u093E"},dataDeleted:{en:"Data deleted successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},changesDiscarded:{en:"Changes discarded",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917 \u0926\u093F\u090F \u0917\u090F"},unsavedChanges:{en:"You have unsaved changes",hi:"\u0906\u092A\u0915\u0947 \u092A\u093E\u0938 \u0905\u0938\u0939\u0947\u091C\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0939\u0948\u0902"},confirmDiscard:{en:"Discard Changes",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0947\u0902"},confirmDiscardMessage:{en:"Are you sure you want to discard your changes?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0905\u092A\u0928\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"}};let e=localStorage.getItem("app_language");e&&(e==="en"||e==="hi")?this.currentLanguage.next(e):navigator.language.split("-")[0]==="hi"&&this.currentLanguage.next("hi")}getCurrentLanguage(){return this.currentLanguage.asObservable()}getCurrentLanguageValue(){return this.currentLanguage.value}setLanguage(e){this.currentLanguage.next(e),localStorage.setItem("app_language",e)}translate(e){let o=this.translations[e];return o&&(o[this.currentLanguage.value]||o.en)||e}translateWithParams(e,o){let s=this.translate(e);return Object.keys(o).forEach(l=>{s=s.replace(`{{${l}}}`,o[l])}),s}getAvailableLanguages(){return[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"\u0939\u093F\u0902\u0926\u0940"}]}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var q0=(()=>{let t=class t{constructor(e){this.translationService=e}transform(e,o){return o?this.translationService.translateWithParams(e,o):this.translationService.translate(e)}};t.\u0275fac=function(o){return new(o||t)(A(Yd,16))},t.\u0275pipe=Po({name:"translate",type:t,pure:!0,standalone:!0});let i=t;return i})();var H0=(()=>{let t=class t{transform(e,o){if(e==null||e==="")return this.formatCurrency(0,o);let s=typeof e=="string"?parseFloat(e):e;return isNaN(s)?"Invalid amount":this.formatCurrency(s,o)}formatCurrency(e,o){let{currency:s=ie.CURRENCY.DEFAULT,locale:l=ie.LANGUAGE.DEFAULT,showSymbol:d=!0,showCode:m=!1,decimalPlaces:b,compact:I=!1,signDisplay:E="auto",notation:V="standard"}=o||{},N=this.getCurrencyConfig(s),R=e%1!==0,rt=b!==void 0?R?b:0:R?N.decimalPlaces:0,nt=b!==void 0?b:N.decimalPlaces,Mt={style:"currency",currency:s,minimumFractionDigits:rt,maximumFractionDigits:nt,signDisplay:E,notation:I?"compact":V};d?m&&(Mt.currencyDisplay="narrowSymbol"):Mt.currencyDisplay="code";try{return new Intl.NumberFormat(l,Mt).format(e)}catch(vt){return console.error("Currency formatting error:",vt),this.fallbackFormat(e,s,N)}}getCurrencyConfig(e){let o=e;return{symbol:ie.CURRENCY.SYMBOLS[o]||e,decimalPlaces:ie.CURRENCY.DECIMAL_PLACES[o]||2}}fallbackFormat(e,o,s){let l=s.symbol,d=e%1===0?e.toFixed(0):e.toFixed(s.decimalPlaces);return`${l}${d}`}static getCurrencySymbol(e){let o=e;return ie.CURRENCY.SYMBOLS[o]||e}static getDecimalPlaces(e){let o=e;return ie.CURRENCY.DECIMAL_PLACES[o]||2}static isSupportedCurrency(e){return ie.CURRENCY.SUPPORTED.includes(e)}static getSupportedCurrencies(){return ie.CURRENCY.SUPPORTED}};t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=Po({name:"currency",type:t,pure:!0,standalone:!0});let i=t;return i})();var GC=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=kt({providers:[ti],imports:[wo,uc,mc,Oi,wd,Uc,xd,wc,Sc,kc,Rc,Lc,Nc,Ac,Dc,zc,jc,Fo,Fc,Pd,Ad,Bc,gc.forFeature("splitwise",Qd),Kd.forFeature([Wd])]});let i=t;return i})();export{xt as a,q0 as b,Bn as c,zn as d,Gn as e,qn as f,Wo as g,sd as h,ti as i,Vm as j,Vs as k,Cd as l,vd as m,Pd as n,H0 as o,$g as p,Sd as q,Ad as r,Au as s,bp as t,Cp as u,xd as v,Gt as w,Ld as x,qt as y,Kd as z,B0 as A,GC as B};

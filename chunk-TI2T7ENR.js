import{$d as We,Ab as Un,Ad as $i,Bb as Ft,Bd as Ea,C as Bi,Cb as ga,Cd as Ia,Db as at,Dc as _a,Dd as Ta,E as ji,Fb as Ot,Fd as Ki,Gb as be,Gd as Qi,Hd as Sa,Ic as ba,Jb as Bn,Jd as Hi,Kb as ye,Kc as ya,L as aa,Lc as va,Ld as Wi,M as zi,Md as Aa,N as ca,Nb as Ht,Nd as ka,O as la,Ob as Wt,Oc as Lt,Od as Da,Pd as Ra,Qd as Yi,Rc as Yt,Rd as Xi,S as N,Sc as wa,Sd as Ji,T as B,Td as Va,Vd as Zi,Wd as Na,Xd as Ke,Yb as ho,Yd as Qe,Zd as He,_ as ua,_d as tr,aa as At,ae as Fa,ba as nt,bc as jt,be as La,ca as Gi,cb as ma,ce as er,da as lo,de as nr,ea as uo,ee as Ua,fa as da,fe as Ba,ga as j,ha,j as Vi,l as Ge,md as ve,o as Ln,pc as fa,pd as kt,qc as qe,qd as Ca,r as Ni,rc as $e,rd as Xt,sd as Pa,t as se,tb as Ct,u as Fi,ud as Ma,v as Li,wd as xa,xd as qi,yb as pa,yd as Oa,z as Ui,zd as we}from"./chunk-MYA6VK5W.js";import{$b as y,Aa as ft,Ad as oa,Ba as Qt,Bd as sa,Da as Si,Ec as co,F as io,Fd as Ri,H as Ii,J as pt,Jc as ki,Ka as lt,Kc as Di,La as ut,N as Js,O as Zs,Qb as U,R as ta,Ra as ia,Sb as T,T as ea,Ub as Ae,W as ro,Xb as oo,Ya as je,Z as na,Zb as so,_b as ao,ac as v,bc as dt,c as Ys,f as _e,fc as Tt,g as Xs,ha as re,ic as K,kc as V,p as rt,pa as Nt,pb as Ai,q as W,qa as Kt,sa as oe,ua as Y,ub as O,uc as Fn,v as Z,va as Ti,vb as A,vc as M,wc as H,x as et,xc as ot,xd as ze,yc as ra,yd as St}from"./chunk-6PX2HEG6.js";import{a as S,b as k,k as q}from"./chunk-LKDXID24.js";var mo=Gi("profile"),ou=nt(mo,n=>n.profile),lm=nt(mo,n=>n.loading),um=nt(mo,n=>n.error),Ye=nt(ou,n=>n==null?void 0:n.preferences),po=nt(Ye,n=>n==null?void 0:n.defaultCurrency),dm=nt(Ye,n=>n==null?void 0:n.language),hm=nt(Ye,n=>n==null?void 0:n.timezone),mm=nt(Ye,n=>n==null?void 0:n.notifications),pm=nt(Ye,n=>n==null?void 0:n.emailUpdates),gm=nt(Ye,n=>n==null?void 0:n.budgetAlerts);var ja=function(n){let e=[],r=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},au=function(n){let e=[],r=0,i=0;for(;r<n.length;){let o=n[r++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){let c=n[r++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){let c=n[r++],u=n[r++],h=n[r++],C=((o&7)<<18|(c&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(C>>10)),e[i++]=String.fromCharCode(56320+(C&1023))}else{let c=n[r++],u=n[r++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},cu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){let c=n[o],u=o+1<n.length,h=u?n[o+1]:0,C=o+2<n.length,x=C?n[o+2]:0,I=c>>2,D=(c&3)<<4|h>>4,R=(h&15)<<2|x>>6,$=x&63;C||($=64,u||(R=64)),i.push(r[I],r[D],r[R],r[$])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ja(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):au(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let r=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){let c=r[n.charAt(o++)],h=o<n.length?r[n.charAt(o)]:0;++o;let x=o<n.length?r[n.charAt(o)]:64;++o;let D=o<n.length?r[n.charAt(o)]:64;if(++o,c==null||h==null||x==null||D==null)throw new go;let R=c<<2|h>>4;if(i.push(R),x!==64){let $=h<<4&240|x>>2;if(i.push($),D!==64){let L=x<<6&192|D;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},go=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},lu=function(n){let e=ja(n);return cu.encodeByteArray(e,!0)},fo=function(n){return lu(n).replace(/\./g,"")};function _o(){try{return typeof indexedDB=="object"}catch{return!1}}function za(){return new Promise((n,e)=>{try{let r=!0,i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){e(r)}})}var uu="FirebaseError",ae=class n extends Error{constructor(e,r,i){super(r),this.code=e,this.customData=i,this.name=uu,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jn.prototype.create)}},jn=class{constructor(e,r,i){this.service=e,this.serviceName=r,this.errors=i}create(e,...r){let i=r[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?du(c,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new ae(o,h,i)}};function du(n,e){return n.replace(hu,(r,i)=>{let o=e[i];return o!=null?String(o):`<${i}?>`})}var hu=/\{\$([^}]+)}/g;var ym=4*60*60*1e3;var Ce=class{constructor(e,r,i){this.name=e,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var mu=[],tt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(tt||{}),pu={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},gu=tt.INFO,fu={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},_u=(n,e,...r)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),o=fu[e];if(o)console[o](`[${i}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Xe=class{constructor(e){this.name=e,this._logLevel=gu,this._logHandler=_u,this._userLogHandler=null,mu.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pu[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}};var yo=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(yu(r)){let i=r.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(r=>r).join(" ")}};function yu(n){let e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}var vo="@firebase/app",Ga="0.13.2";var ce=new Xe("@firebase/app"),vu="@firebase/app-compat",wu="@firebase/analytics-compat",Cu="@firebase/analytics",Pu="@firebase/app-check-compat",Mu="@firebase/app-check",xu="@firebase/auth",Ou="@firebase/auth-compat",Eu="@firebase/database",Iu="@firebase/data-connect",Tu="@firebase/database-compat",Su="@firebase/functions",Au="@firebase/functions-compat",ku="@firebase/installations",Du="@firebase/installations-compat",Ru="@firebase/messaging",Vu="@firebase/messaging-compat",Nu="@firebase/performance",Fu="@firebase/performance-compat",Lu="@firebase/remote-config",Uu="@firebase/remote-config-compat",Bu="@firebase/storage",ju="@firebase/storage-compat",zu="@firebase/firestore",Gu="@firebase/ai",qu="@firebase/firestore-compat",$u="firebase",Ku="11.10.0";var Qu={[vo]:"fire-core",[vu]:"fire-core-compat",[Cu]:"fire-analytics",[wu]:"fire-analytics-compat",[Mu]:"fire-app-check",[Pu]:"fire-app-check-compat",[xu]:"fire-auth",[Ou]:"fire-auth-compat",[Eu]:"fire-rtdb",[Iu]:"fire-data-connect",[Tu]:"fire-rtdb-compat",[Su]:"fire-fn",[Au]:"fire-fn-compat",[ku]:"fire-iid",[Du]:"fire-iid-compat",[Ru]:"fire-fcm",[Vu]:"fire-fcm-compat",[Nu]:"fire-perf",[Fu]:"fire-perf-compat",[Lu]:"fire-rc",[Uu]:"fire-rc-compat",[Bu]:"fire-gcs",[ju]:"fire-gcs-compat",[zu]:"fire-fst",[qu]:"fire-fst-compat",[Gu]:"fire-vertex","fire-js":"fire-js",[$u]:"fire-js-all"};var Hu=new Map,Wu=new Map,qa=new Map;function $a(n,e){try{n.container.addComponent(e)}catch(r){ce.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,r)}}function zn(n){let e=n.name;if(qa.has(e))return ce.debug(`There were multiple attempts to register component ${e}.`),!1;qa.set(e,n);for(let r of Hu.values())$a(r,n);for(let r of Wu.values())$a(r,n);return!0}function Wa(n){return n==null?!1:n.settings!==void 0}var Yu={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Po=new jn("app","Firebase",Yu);var Ya=Ku;function Je(n,e,r){var i;let o=(i=Qu[n])!==null&&i!==void 0?i:n;r&&(o+=`-${r}`);let c=o.match(/\s|\//),u=e.match(/\s|\//);if(c||u){let h=[`Unable to register library "${o}" with version "${e}":`];c&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ce.warn(h.join(" "));return}zn(new Ce(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}var Xu="firebase-heartbeat-database",Ju=1,Gn="firebase-heartbeat-store",bo=null;function Xa(){return bo||(bo=ma(Xu,Ju,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gn)}catch(r){console.warn(r)}}}}).catch(n=>{throw Po.create("idb-open",{originalErrorMessage:n.message})})),bo}function Zu(n){return q(this,null,function*(){try{let r=(yield Xa()).transaction(Gn),i=yield r.objectStore(Gn).get(Ja(n));return yield r.done,i}catch(e){if(e instanceof ae)ce.warn(e.message);else{let r=Po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ce.warn(r.message)}}})}function Ka(n,e){return q(this,null,function*(){try{let i=(yield Xa()).transaction(Gn,"readwrite");yield i.objectStore(Gn).put(e,Ja(n)),yield i.done}catch(r){if(r instanceof ae)ce.warn(r.message);else{let i=Po.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ce.warn(i.message)}}})}function Ja(n){return`${n.name}!${n.options.appId}`}var td=1024,ed=30,wo=class{constructor(e){this.container=e,this._heartbeatsCache=null;let r=this.container.getProvider("app").getImmediate();this._storage=new Co(r),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return q(this,null,function*(){var e,r;try{let o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Qa();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>ed){let u=id(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ce.warn(i)}})}getHeartbeatsHeader(){return q(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let r=Qa(),{heartbeatsToSend:i,unsentEntries:o}=nd(this._heartbeatsCache.heartbeats),c=fo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return ce.warn(r),""}})}};function Qa(){return new Date().toISOString().substring(0,10)}function nd(n,e=td){let r=[],i=n.slice();for(let o of n){let c=r.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),Ha(r)>e){c.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Ha(r)>e){r.pop();break}i=i.slice(1)}return{heartbeatsToSend:r,unsentEntries:i}}var Co=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return q(this,null,function*(){return _o()?za().then(()=>!0).catch(()=>!1):!1})}read(){return q(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield Zu(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return q(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return Ka(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return q(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return Ka(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return})}};function Ha(n){return fo(JSON.stringify({version:2,heartbeats:n})).length}function id(n){if(n.length===0)return-1;let e=0,r=n[0].date;for(let i=1;i<n.length;i++)n[i].date<r&&(r=n[i].date,e=i);return e}function rd(n){zn(new Ce("platform-logger",e=>new yo(e),"PRIVATE")),zn(new Ce("heartbeat",e=>new wo(e),"PRIVATE")),Je(vo,Ga,n),Je(vo,Ga,"esm2017"),Je("fire-js","")}rd("");function cd(n,e){n&1&&(y(0,"mat-error"),M(1," Group name is required "),v())}function ld(n,e){n&1&&(y(0,"mat-error"),M(1," Group name must be at least 2 characters "),v())}function ud(n,e){n&1&&(y(0,"mat-error"),M(1," Group name must not exceed 50 characters "),v())}function dd(n,e){n&1&&(y(0,"mat-error"),M(1," Description must not exceed 200 characters "),v())}function hd(n,e){n&1&&dt(0,"mat-spinner",18)}function md(n,e){n&1&&(y(0,"mat-icon"),M(1,"add"),v())}var Za=(()=>{let e=class e{constructor(i,o,c,u){this.fb=i,this.dialogRef=o,this.auth=c,this.store=u,this.isSubmitting=!1,this.userCurrency$=this.store.select(po),this.groupForm=this.fb.group({name:["",[se.required,se.minLength(2),se.maxLength(50)]],description:["",[se.maxLength(200)]],initialMembers:[[]]})}ngOnInit(){}onSubmit(){return q(this,null,function*(){var i;if(this.groupForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let o=this.groupForm.value,c=this.store.select(po),u="USD";c.subscribe(C=>{C&&(u=C)}).unsubscribe();let h={name:o.name.trim(),description:((i=o.description)==null?void 0:i.trim())||"",currency:u,initialMembers:o.initialMembers||[]};this.dialogRef.close(h)}catch(o){console.error("Error creating group:",o)}finally{this.isSubmitting=!1}}else this.groupForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(i){var c,u;let o=this.groupForm.get(i);return o!=null&&o.hasError("required")?`${i.charAt(0).toUpperCase()+i.slice(1)} is required`:o!=null&&o.hasError("minlength")?`${i.charAt(0).toUpperCase()+i.slice(1)} must be at least ${(c=o.errors)==null?void 0:c.minlength.requiredLength} characters`:o!=null&&o.hasError("maxlength")?`${i.charAt(0).toUpperCase()+i.slice(1)} must not exceed ${(u=o.errors)==null?void 0:u.maxlength.requiredLength} characters`:""}};e.\u0275fac=function(o){return new(o||e)(A(zi),A(qi),A(Ct),A(At))},e.\u0275cmp=ft({type:e,selectors:[["app-create-group-dialog"]],decls:53,vars:12,consts:[[1,"create-group-dialog"],[1,"dialog-header"],["mat-dialog-title",""],["mat-icon-button","",1,"close-btn",3,"click"],[1,"group-form",3,"ngSubmit","formGroup"],[1,"form-content"],["appearance","fill",1,"full-width"],["matInput","","formControlName","name","placeholder","Enter group name","maxlength","50"],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","description","placeholder","Describe your group","rows","3","maxlength","200"],[1,"info-section"],[1,"info-icon"],[1,"info-content"],[1,"dialog-actions"],["type","button","mat-button","",3,"click","disabled"],["type","submit","mat-raised-button","","color","primary",1,"create-btn",3,"disabled"],["diameter","20","class","spinner",4,"ngIf"],["diameter","20",1,"spinner"]],template:function(o,c){if(o&1&&(y(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon"),M(4,"group_add"),v(),M(5," Create New Group "),v(),y(6,"button",3),K("click",function(){return c.onCancel()}),y(7,"mat-icon"),M(8,"close"),v()()(),y(9,"form",4),K("ngSubmit",function(){return c.onSubmit()}),y(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),M(13,"Group Name"),v(),dt(14,"input",7),y(15,"mat-icon",8),M(16,"group"),v(),U(17,cd,2,0,"mat-error",9)(18,ld,2,0,"mat-error",9)(19,ud,2,0,"mat-error",9),y(20,"mat-hint"),M(21),v()(),y(22,"mat-form-field",6)(23,"mat-label"),M(24,"Description (Optional)"),v(),dt(25,"textarea",10),y(26,"mat-icon",8),M(27,"description"),v(),U(28,dd,2,0,"mat-error",9),y(29,"mat-hint"),M(30),v()(),y(31,"div",11)(32,"mat-icon",12),M(33,"info"),v(),y(34,"div",13)(35,"h4"),M(36,"What happens next?"),v(),y(37,"ul")(38,"li"),M(39,"You'll be added as the group admin"),v(),y(40,"li"),M(41,"You can invite friends by email"),v(),y(42,"li"),M(43,"Start adding shared expenses"),v(),y(44,"li"),M(45,"Track who owes what to whom"),v()()()()(),y(46,"div",14)(47,"button",15),K("click",function(){return c.onCancel()}),M(48," Cancel "),v(),y(49,"button",16),U(50,hd,1,0,"mat-spinner",17)(51,md,2,0,"mat-icon",9),M(52),v()()()()),o&2){let u,h,C,x,I,D;O(9),T("formGroup",c.groupForm),O(8),T("ngIf",(u=c.groupForm.get("name"))==null?null:u.hasError("required")),O(),T("ngIf",(h=c.groupForm.get("name"))==null?null:h.hasError("minlength")),O(),T("ngIf",(C=c.groupForm.get("name"))==null?null:C.hasError("maxlength")),O(2),ot("",((x=c.groupForm.get("name"))==null||x.value==null?null:x.value.length)||0,"/50"),O(7),T("ngIf",(I=c.groupForm.get("description"))==null?null:I.hasError("maxlength")),O(2),ot("",((D=c.groupForm.get("description"))==null||D.value==null?null:D.value.length)||0,"/200"),O(17),T("disabled",c.isSubmitting),O(2),T("disabled",c.groupForm.invalid||c.isSubmitting),O(),T("ngIf",c.isSubmitting),O(),T("ngIf",!c.isSubmitting),O(),ot(" ",c.isSubmitting?"Creating...":"Create Group"," ")}},dependencies:[St,Ui,Ni,Fi,Li,aa,Bi,ji,Lt,Yt,kt,$i,Wi,Ki,Sa,Qi,Hi,Zi,Xt],styles:[".create-group-dialog[_ngcontent-%COMP%]{min-width:400px;max-width:500px}@media (max-width: 768px){.create-group-dialog[_ngcontent-%COMP%]{min-width:90vw;max-width:90vw}}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid #eee}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:10px;color:#333;font-weight:600}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea}.dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#666}.group-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.group-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{display:flex;gap:15px;padding:20px;background:#f8f9fa;border-radius:10px;border-left:4px solid #667eea;margin-top:20px}.group-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#667eea;font-size:1.5rem;width:1.5rem;height:1.5rem;margin-top:2px}.group-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{flex:1}.group-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;color:#333;font-weight:600;font-size:1rem}.group-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px;color:#666}.group-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px;font-size:.9rem;line-height:1.4}.group-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.group-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;margin-top:30px;padding-top:20px;border-top:1px solid #eee}@media (max-width: 768px){.group-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{flex-direction:column-reverse}}.group-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 24px;font-weight:600;border-radius:25px;min-width:140px}.group-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{margin-right:8px}.group-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:0}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#ddd}  .mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#667eea}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#667eea}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-label{color:#667eea}  .mat-select-panel .mat-option.mat-selected{background:#667eea1a;color:#667eea}@media (max-width: 768px){.create-group-dialog[_ngcontent-%COMP%]{padding:20px}.dialog-header[_ngcontent-%COMP%]{margin-bottom:15px;padding-bottom:10px}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.group-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{padding:15px;margin-top:15px}.group-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem}.group-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:.85rem}.group-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{margin-top:20px;padding-top:15px}}"]});let n=e;return n})();var nn=N("[Splitwise] Load Groups"),rr=N("[Splitwise] Load Groups Success",B()),Kn=N("[Splitwise] Load Groups Failure",B()),rn=N("[Splitwise] Load Group by ID",B()),$m=N("[Splitwise] Load Group by ID Success",B()),Km=N("[Splitwise] Load Group by ID Failure",B()),on=N("[Splitwise] Load Invitations"),or=N("[Splitwise] Load Invitations Success",B()),Qn=N("[Splitwise] Load Invitations Failure",B()),sn=N("[Splitwise] Create Group",B()),sr=N("[Splitwise] Create Group Success",B()),Hn=N("[Splitwise] Create Group Failure",B()),Jt=N("[Splitwise] Add Member",B()),ar=N("[Splitwise] Add Member Success",B()),Wn=N("[Splitwise] Add Member Failure",B()),an=N("[Splitwise] Accept Invitation",B()),cr=N("[Splitwise] Accept Invitation Success",B()),Yn=N("[Splitwise] Accept Invitation Failure",B()),cn=N("[Splitwise] Decline Invitation",B()),lr=N("[Splitwise] Decline Invitation Success",B()),Xn=N("[Splitwise] Decline Invitation Failure",B()),Pe=N("[Splitwise] Delete Group",B()),ur=N("[Splitwise] Delete Group Success",B()),Jn=N("[Splitwise] Delete Group Failure",B()),tc=N("[Splitwise] Select Group",B()),ln=N("[Splitwise] Load Transactions",B()),dr=N("[Splitwise] Load Transactions Success",B()),Zn=N("[Splitwise] Load Transactions Failure",B()),un=N("[Splitwise] Load Settlements",B()),hr=N("[Splitwise] Load Settlements Success",B()),ti=N("[Splitwise] Load Settlements Failure",B()),mr=N("[Splitwise] Create Split Transaction",B()),pr=N("[Splitwise] Create Split Transaction Success",B()),ei=N("[Splitwise] Create Split Transaction Failure",B()),Me=N("[Splitwise] Clear Error");var xe=Gi("splitwise"),dn=nt(xe,n=>n),pd=nt(xe,n=>n.groups),gd=nt(xe,n=>n.invitations),fd=nt(xe,n=>n.transactions),_d=nt(xe,n=>n.settlements),gr=nt(xe,n=>n.selectedGroup),Hm=nt(xe,n=>n.loading),Wm=nt(xe,n=>n.error),Ym=nt(pd,n=>n.filter(e=>e.isActive)),Xm=nt(gd,n=>n.filter(e=>e.status==="pending")),Jm=nt(fd,gr,(n,e)=>e?n.filter(r=>r.groupId===e.id):[]),Zm=nt(_d,gr,(n,e)=>e?n.filter(r=>r.groupId===e.id):[]),tp=nt(gr,n=>(n==null?void 0:n.members.filter(e=>e.isActive).length)||0),ep=nt(gr,n=>"");var De=function(n){return n.ADMIN="admin",n.MEMBER="member",n}(De||{}),Mo=function(n){return n.PENDING="pending",n.PARTIAL="partial",n.COMPLETED="completed",n.CANCELLED="cancelled",n}(Mo||{}),ii=function(n){return n.PENDING="pending",n.COMPLETED="completed",n.CANCELLED="cancelled",n}(ii||{}),xo=function(n){return n.PENDING="pending",n.ACCEPTED="accepted",n.DECLINED="declined",n.EXPIRED="expired",n}(xo||{});function yd(n,e){n&1&&(y(0,"mat-error"),M(1," Email is required "),v())}function vd(n,e){n&1&&(y(0,"mat-error"),M(1," Please enter a valid email address "),v())}function wd(n,e){n&1&&(y(0,"mat-error"),M(1," This person is already a member of the group "),v())}function Cd(n,e){n&1&&(y(0,"mat-icon",34),M(1,"admin_panel_settings"),v())}function Pd(n,e){n&1&&(y(0,"mat-icon",34),M(1,"person"),v())}function Md(n,e){if(n&1&&(y(0,"mat-option",28)(1,"div",29)(2,"div",30)(3,"span",31),M(4),v(),y(5,"span",32),M(6),v()(),U(7,Cd,2,0,"mat-icon",33)(8,Pd,2,0,"mat-icon",33),v()()),n&2){let r=e.$implicit,i=V();T("value",r),O(4),H(i.getRoleDisplayName(r)),O(2),H(i.getRoleDescription(r)),O(),T("ngIf",r==="admin"),O(),T("ngIf",r==="member")}}function xd(n,e){n&1&&(y(0,"mat-error"),M(1," Role is required "),v())}function Od(n,e){if(n&1&&dt(0,"img",43),n&2){let r=V().$implicit;T("src",r.photoURL,Ai)("alt",r.displayName)}}function Ed(n,e){n&1&&(y(0,"mat-icon"),M(1,"person"),v())}function Id(n,e){if(n&1&&(y(0,"div",35)(1,"div",36),U(2,Od,1,2,"img",37)(3,Ed,2,0,"mat-icon",14),v(),y(4,"div",38)(5,"span",39),M(6),v(),y(7,"span",40),M(8),v()(),y(9,"div",41)(10,"mat-chip",42),M(11),v()()()),n&2){let r=e.$implicit,i=V();O(2),T("ngIf",r.photoURL),O(),T("ngIf",!r.photoURL),O(3),H(r.displayName),O(2),H(r.email),O(2),T("color",r.role==="admin"?"accent":"primary"),O(),ot(" ",i.getRoleDisplayName(r.role)," ")}}function Td(n,e){n&1&&dt(0,"mat-spinner",44)}function Sd(n,e){n&1&&(y(0,"mat-icon"),M(1,"person_add"),v())}var hn=(()=>{let e=class e{constructor(i,o,c,u){this.fb=i,this.dialogRef=o,this.data=c,this.auth=u,this.isSubmitting=!1,this.roles=Object.values(De),this.group=c.group,this.memberForm=this.fb.group({email:["",[se.required,se.email]],role:[De.MEMBER,se.required]})}ngOnInit(){setTimeout(()=>{let i=document.querySelector('input[formControlName="email"]');i&&i.focus()},100)}onSubmit(){return q(this,null,function*(){if(this.memberForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let i=this.memberForm.value,o={email:i.email.trim().toLowerCase(),role:i.role};this.dialogRef.close(o)}catch(i){console.error("Error adding member:",i)}finally{this.isSubmitting=!1}}else this.memberForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(i){let o=this.memberForm.get(i);return o!=null&&o.hasError("required")?`${i.charAt(0).toUpperCase()+i.slice(1)} is required`:o!=null&&o.hasError("email")?"Please enter a valid email address":""}getRoleDisplayName(i){return{admin:"Admin",member:"Member"}[i]||i}getRoleDescription(i){return{admin:"Can manage group settings and members",member:"Can add expenses and view group activity"}[i]||""}isEmailAlreadyMember(i){return this.group.members.some(o=>o.email.toLowerCase()===i.toLowerCase())}onEmailChange(){var o,c;let i=(o=this.memberForm.get("email"))==null?void 0:o.value;i&&this.isEmailAlreadyMember(i)&&((c=this.memberForm.get("email"))==null||c.setErrors({alreadyMember:!0}))}};e.\u0275fac=function(o){return new(o||e)(A(zi),A(qi),A(Oa),A(Ct))},e.\u0275cmp=ft({type:e,selectors:[["app-add-member-dialog"]],decls:50,vars:15,consts:[[1,"add-member-dialog"],[1,"dialog-header"],[1,"header-content"],[1,"header-title"],[1,"header-icon"],["mat-dialog-title",""],[1,"header-subtitle"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"member-form",3,"ngSubmit","formGroup"],[1,"form-content"],[1,"form-section"],["appearance","fill",1,"full-width"],["matInput","","formControlName","email","placeholder","Enter member's email address","type","email",3,"input"],["matSuffix",""],[4,"ngIf"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],[1,"members-section"],[1,"section-header"],[1,"section-title"],[1,"section-icon"],[1,"member-count"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"dialog-actions"],["type","button","mat-stroked-button","",1,"cancel-btn",3,"click","disabled"],["type","submit","mat-raised-button","","color","primary",1,"add-btn",3,"disabled"],["diameter","20","class","spinner",4,"ngIf"],[3,"value"],[1,"role-option"],[1,"role-info"],[1,"role-name"],[1,"role-description"],["class","role-icon",4,"ngIf"],[1,"role-icon"],[1,"member-item"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],[1,"member-role"],["selected","",3,"color"],[3,"src","alt"],["diameter","20",1,"spinner"]],template:function(o,c){if(o&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),M(5,"person_add"),v(),y(6,"h2",5),M(7,"Add Member"),v()(),y(8,"p",6),M(9),v()(),y(10,"button",7),K("click",function(){return c.onCancel()}),y(11,"mat-icon"),M(12,"close"),v()()(),y(13,"form",8),K("ngSubmit",function(){return c.onSubmit()}),y(14,"mat-dialog-content",9)(15,"div",10)(16,"mat-form-field",11)(17,"mat-label"),M(18,"Email Address"),v(),y(19,"input",12),K("input",function(){return c.onEmailChange()}),v(),y(20,"mat-icon",13),M(21,"email"),v(),U(22,yd,2,0,"mat-error",14)(23,vd,2,0,"mat-error",14)(24,wd,2,0,"mat-error",14),v()(),y(25,"div",10)(26,"mat-form-field",11)(27,"mat-label"),M(28,"Role"),v(),y(29,"mat-select",15),U(30,Md,9,5,"mat-option",16),v(),U(31,xd,2,0,"mat-error",14),v()(),y(32,"div",17)(33,"div",18)(34,"h4",19)(35,"mat-icon",20),M(36,"people"),v(),M(37," Current Members "),v(),y(38,"span",21),M(39),v()(),y(40,"div",22),U(41,Id,12,6,"div",23),v()()(),y(42,"mat-dialog-actions",24)(43,"button",25),K("click",function(){return c.onCancel()}),M(44," Cancel "),v(),y(45,"button",26),U(46,Td,1,0,"mat-spinner",27)(47,Sd,2,0,"mat-icon",14),y(48,"span"),M(49),v()()()()()),o&2){let u,h,C,x;O(9),ot('Add a new member to "',c.group.name,'"'),O(4),T("formGroup",c.memberForm),O(9),T("ngIf",(u=c.memberForm.get("email"))==null?null:u.hasError("required")),O(),T("ngIf",(h=c.memberForm.get("email"))==null?null:h.hasError("email")),O(),T("ngIf",(C=c.memberForm.get("email"))==null?null:C.hasError("alreadyMember")),O(6),T("ngForOf",c.roles),O(),T("ngIf",(x=c.memberForm.get("role"))==null?null:x.hasError("required")),O(8),ra("",c.group.members.length," member",c.group.members.length!==1?"s":"",""),O(2),T("ngForOf",c.group.members),O(2),T("disabled",c.isSubmitting),O(2),T("disabled",c.memberForm.invalid||c.isSubmitting),O(),T("ngIf",c.isSubmitting),O(),T("ngIf",!c.isSubmitting),O(2),H(c.isSubmitting?"Adding...":"Add Member")}},dependencies:[ze,St,Ui,Ni,Fi,Li,Bi,ji,Lt,Yt,kt,$i,Ia,Ea,Wi,Ki,Qi,Hi,Zi,ka,va,Xt,nr],styles:[".add-member-dialog[_ngcontent-%COMP%]{min-width:450px;max-width:550px;padding:0}@media (max-width: 768px){.add-member-dialog[_ngcontent-%COMP%]{min-width:90vw;max-width:90vw}}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:24px 24px 0;margin-bottom:24px}.dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1;margin-right:16px}.dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:8px}.dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:24px;width:24px;height:24px}.dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-weight:600;font-size:20px;line-height:1.2}.dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px;line-height:1.4}.dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#666;margin-top:-8px;margin-right:-8px}.dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333;background:#0000000a}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]{padding:0 24px}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:24px}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]{margin-top:32px;padding-top:24px;border-top:1px solid #e0e0e0}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:8px;color:#333;font-weight:600;font-size:16px}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:20px;width:20px;height:20px}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{color:#666;font-size:14px;font-weight:500}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]{max-height:240px;overflow-y:auto;border:1px solid #e0e0e0;border-radius:12px;background:#fafafa}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;border-bottom:1px solid #f0f0f0;background:#fff}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:first-child{border-radius:12px 12px 0 0}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 12px 12px}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden;flex-shrink:0}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#999;font-size:20px;width:20px;height:20px}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#333;font-weight:500;font-size:14px;line-height:1.2}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#666;font-size:12px;line-height:1.2}.member-form[_ngcontent-%COMP%]   .form-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:11px;height:24px;font-weight:500}.member-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:32px;padding:24px;background:#fafafa;border-top:1px solid #e0e0e0}@media (max-width: 768px){.member-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:16px}}.member-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{min-width:100px;border-color:#ccc;color:#666}.member-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{border-color:#999;color:#333}.member-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:140px;padding:12px 24px;font-weight:500;border-radius:8px}.member-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{margin-right:8px}.member-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.member-form[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}  .role-option{display:flex;align-items:center;justify-content:space-between;width:100%;padding:8px 0}  .role-option .role-info{display:flex;flex-direction:column;gap:2px}  .role-option .role-info .role-name{font-weight:500;color:#333;font-size:14px}  .role-option .role-info .role-description{font-size:12px;color:#666;line-height:1.2}  .role-option .role-icon{color:#1976d2;font-size:18px;width:18px;height:18px}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#e0e0e0}  .mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#1976d2}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#1976d2}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-label{color:#1976d2}  .mat-form-field-appearance-outline .mat-form-field-label{color:#666}  .mat-form-field-appearance-outline .mat-form-field-suffix{color:#999}  .mat-select-panel .mat-option.mat-selected{background:#1976d21a;color:#1976d2}  .mat-select-panel .mat-option:hover{background:#1976d20d}  .mat-chip.mat-standard-chip.mat-chip-selected.mat-accent{background-color:#ff4081;color:#fff}  .mat-chip.mat-standard-chip.mat-chip-selected.mat-primary{background-color:#1976d2;color:#fff}.members-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.members-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.members-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.members-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}"]});let n=e;return n})();function kd(n,e){if(n&1){let r=Tt();y(0,"button",12),K("click",function(o){lt(r);let c=V();return ut(c.onDeleteGroup(o))}),y(1,"mat-icon"),M(2,"delete"),v(),M(3," Delete Group "),v()}}var nc=(()=>{let e=class e{constructor(i,o,c){this.router=i,this.auth=o,this.dialog=c,this.isSelected=!1,this.isMobile=!1,this.groupSelected=new je,this.addMember=new je,this.deleteGroup=new je}onGroupClick(){this.router.navigate(["dashboard/splitwise/group",this.group.id])}openAddMemberDialog(i){i.stopPropagation(),this.dialog.open(hn,{width:this.isMobile?"90vw":"400px",maxWidth:this.isMobile?"400px":"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(c=>{c&&this.addMember.emit({groupId:this.group.id,request:c})})}onDeleteGroup(i){i.stopPropagation(),this.deleteGroup.emit(this.group)}getGroupMemberCount(){return this.group.members.filter(i=>i.isActive).length}getCurrentUserRole(){let i=this.auth.currentUser;if(!i)return"";let o=this.group.members.find(c=>c.userId===i.uid);return(o==null?void 0:o.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}formatDate(i){return i?(i.toDate?i.toDate():new Date(i)).toLocaleDateString():""}formatCurrency(i,o="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:o}).format(i)}};e.\u0275fac=function(o){return new(o||e)(A(Ge),A(Ct),A(we))},e.\u0275cmp=ft({type:e,selectors:[["app-group"]],inputs:{group:"group",isSelected:"isSelected",isMobile:"isMobile"},outputs:{groupSelected:"groupSelected",addMember:"addMember",deleteGroup:"deleteGroup"},decls:25,vars:9,consts:[["groupMenu","matMenu"],[1,"group-item",3,"click"],[1,"group-info"],[1,"group-header"],[1,"group-name"],[1,"group-meta"],[1,"member-count"],[1,"created-date","text-sm","text-gray-500"],[1,"group-actions"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"]],template:function(o,c){if(o&1){let u=Tt();y(0,"div",1),K("click",function(){return lt(u),ut(c.onGroupClick())}),y(1,"div",2)(2,"div",3)(3,"h3",4),M(4),ki(5,"titlecase"),v(),y(6,"div",5)(7,"span",6)(8,"mat-icon"),M(9,"people"),v(),M(10),v(),y(11,"span",7),M(12),v()()()(),y(13,"div",8)(14,"button",9),K("click",function(C){return lt(u),ut(C.stopPropagation())}),y(15,"mat-icon"),M(16,"more_vert"),v()(),y(17,"mat-menu",null,0)(19,"button",10),K("click",function(C){return lt(u),ut(c.openAddMemberDialog(C))}),y(20,"mat-icon"),M(21,"person_add"),v(),M(22," Add Member "),v(),dt(23,"mat-divider"),U(24,kd,4,0,"button",11),v()()()}if(o&2){let u=Fn(18);Ae("selected",c.isSelected),O(4),H(Di(5,7,c.group.name)),O(6),ot(" ",c.getGroupMemberCount()," members "),O(2),ot("Created ",c.formatDate(c.group.createdAt),""),O(2),T("matMenuTriggerFor",u),O(10),T("ngIf",c.canManageGroup())}},dependencies:[St,La,Yt,kt,Xi,Yi,Ji,sa],styles:[".group-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px;border:1px solid #e0e0e0;border-radius:8px;margin-bottom:12px;cursor:pointer;transition:all .2s ease;background:#fff}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;box-shadow:0 2px 8px #1976d21a}.group-item.selected[_ngcontent-%COMP%]{border-color:#1976d2;background:#f3f8ff;box-shadow:0 2px 8px #1976d226}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{flex:1;min-width:0}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px;font-weight:600;color:#333}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;font-size:14px;color:#666}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:12px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{color:#666}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]:hover{color:#1976d2}@media (max-width: 768px){.group-item[_ngcontent-%COMP%]{padding:12px;margin-bottom:8px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:14px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:11px}}"]});let n=e;return n})();var oc=(n,e)=>e.id;function Rd(n,e){n&1&&(y(0,"div",11),dt(1,"mat-spinner",12),y(2,"p"),M(3,"Loading your groups..."),v()())}function Vd(n,e){if(n&1){let r=Tt();y(0,"div",21)(1,"div",22)(2,"div",23)(3,"h4"),M(4),v(),y(5,"p"),M(6),v(),y(7,"small"),M(8),v()(),y(9,"div",24)(10,"button",25),K("click",function(){let o=lt(r).$implicit,c=V(3);return ut(c.acceptInvitation(o))}),y(11,"mat-icon"),M(12,"check"),v(),M(13," Accept "),v(),y(14,"button",26),K("click",function(){let o=lt(r).$implicit,c=V(3);return ut(c.declineInvitation(o))}),y(15,"mat-icon"),M(16,"close"),v(),M(17," Decline "),v()()()()}if(n&2){let r=e.$implicit,i=V(3);O(4),H(r.groupName),O(2),ot("Invited by ",r.invitedByDisplayName,""),O(2),H(i.formatDate(r.createdAt))}}function Nd(n,e){if(n&1&&(y(0,"div",18)(1,"mat-card",19)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),M(5,"mail"),v(),M(6," Pending Invitations "),v()(),y(7,"mat-card-content")(8,"div",20),so(9,Vd,18,3,"div",21,oc),v()()()()),n&2){let r=V(2);O(9),ao(r.invitations)}}function Fd(n,e){if(n&1){let r=Tt();y(0,"app-group",27),K("addMember",function(o){lt(r);let c=V(2);return ut(c.handleAddMember(o))})("deleteGroup",function(o){lt(r);let c=V(2);return ut(c.deleteGroup(o))}),v()}if(n&2){let r=e.$implicit,i=V(2);T("group",r)("isSelected",!1)("isMobile",i.isMobile)}}function Ld(n,e){if(n&1&&(y(0,"div",13),U(1,Nd,11,0,"div",14),y(2,"div",15)(3,"div",16),so(4,Fd,1,3,"app-group",17,oc),v()()()),n&2){let r=V();O(),T("ngIf",r.invitations.length>0),O(3),ao(r.groups)}}var sc=(()=>{let e=class e{constructor(i,o,c,u,h){this.breakpointObserver=i,this.auth=o,this.store=c,this.dialog=u,this.notificationService=h,this.groups=[],this.invitations=[],this.isLoading=!1,this.isMobile=!1,this.currentUser=null,this.error=null,this.destroy$=new _e,this.breakpointObserver.observe([$e.Handset]).pipe(re(this.destroy$)).subscribe(C=>{this.isMobile=C.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.loadData(),this.subscribeToStore()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(dn).pipe(re(this.destroy$)).subscribe(i=>{this.groups=i.groups,this.invitations=i.invitations,this.isLoading=i.loading,this.error=i.error,this.error&&(this.notificationService.error(this.error),this.store.dispatch(Me()))})}loadData(){this.store.dispatch(nn()),this.store.dispatch(on())}openCreateGroupDialog(){this.dialog.open(Za,{width:this.isMobile?"90vw":"500px",maxWidth:this.isMobile?"500px":"90vw",disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(o=>{o&&this.store.dispatch(sn({request:o}))})}handleAddMember(i){this.store.dispatch(Jt(i))}acceptInvitation(i){this.store.dispatch(an({invitationId:i.id}))}declineInvitation(i){this.store.dispatch(cn({invitationId:i.id}))}deleteGroup(i){confirm(`Are you sure you want to delete the group "${i.name}"?`)&&this.store.dispatch(Pe({groupId:i.id}))}formatDate(i){return i?(i.toDate?i.toDate():new Date(i)).toLocaleDateString():""}formatCurrency(i,o="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:o}).format(i)}};e.\u0275fac=function(o){return new(o||e)(A(qe),A(Ct),A(At),A(we),A(ve))},e.\u0275cmp=ft({type:e,selectors:[["app-splitwise"]],decls:17,vars:2,consts:[[1,"splitwise-container"],[1,"header"],[1,"header-content"],[1,"title-section"],[1,"title-icon"],[1,"title"],[1,"subtitle"],[1,"header-actions"],["mat-raised-button","","color","primary",1,"create-group-btn",3,"click"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],["class","invitations-section",4,"ngIf"],[1,"groups-section"],[1,"groups-list"],[3,"group","isSelected","isMobile"],[1,"invitations-section"],[1,"invitations-card"],[1,"invitations-list"],[1,"invitation-item"],[1,"invitation-info"],[1,"invitation-details"],[1,"invitation-actions"],["mat-button","","color","primary",1,"accept-btn",3,"click"],["mat-button","","color","warn",1,"decline-btn",3,"click"],[3,"addMember","deleteGroup","group","isSelected","isMobile"]],template:function(o,c){o&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),M(5,"group"),v(),y(6,"h1",5),M(7,"Splitwise"),v(),y(8,"p",6),M(9,"Split expenses with friends and family"),v()(),y(10,"div",7)(11,"button",8),K("click",function(){return c.openCreateGroupDialog()}),y(12,"mat-icon"),M(13,"add"),v(),M(14," Create Group "),v()()()(),U(15,Rd,4,0,"div",9)(16,Ld,6,1,"div",10),v()),o&2&&(O(15),T("ngIf",c.isLoading),O(),T("ngIf",!c.isLoading))},dependencies:[St,Ke,He,We,Qe,Lt,kt,Xt,nc],styles:[".splitwise-container[_ngcontent-%COMP%]{background:#f9fafb;padding:20px}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}}.header[_ngcontent-%COMP%]{margin-bottom:30px}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));padding:1rem;border-radius:1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#fff}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:2.5rem;font-weight:700}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffffe6;margin:0;font-size:1.1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem}}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;font-weight:600;padding:12px 24px;border-radius:25px;transition:all .3s ease}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;border-color:#ffffff80;transform:translateY(-2px)}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;color:#fff}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.1rem}.main-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.invitations-section[_ngcontent-%COMP%]{margin-bottom:30px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]{padding:15px 0;border-bottom:1px solid #eee}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media (max-width: 768px){.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 5px;color:#666}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#999;font-size:.85rem}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background:#45a049}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]:hover{background:#da190b}.groups-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:30px}@media (max-width: 1024px){.groups-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}.groups-list[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;padding:20px;margin-bottom:15px;cursor:pointer;transition:all .3s ease;border:2px solid transparent;position:relative}.groups-list[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.groups-list[_ngcontent-%COMP%]   .group-item.selected[_ngcontent-%COMP%]{border-color:#e5e7ee;color:#000;background-color:#fff}.groups-list[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px}@media (max-width: 768px){.groups-list[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}.groups-list[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{margin:0;color:inherit;font-weight:600;font-size:1.2rem}.groups-list[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center;width:100%;justify-content:space-between}.groups-list[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;color:inherit;font-size:.9rem}.groups-list[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.groups-list[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .group-role[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:4px 8px;border-radius:12px;font-size:.8rem;font-weight:500;text-transform:capitalize}.groups-list[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-description[_ngcontent-%COMP%]{color:inherit;margin:0 0 15px;font-size:.95rem;line-height:1.4}.groups-list[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.85rem;color:inherit}.groups-list[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-footer[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{border:1px solid #667eea;padding:4px 8px;border-radius:8px;font-weight:500}.groups-list[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px}.groups-list[_ngcontent-%COMP%]   .group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{color:#fff!important}.groups-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fffffff2;border-radius:15px}.groups-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#ccc;margin-bottom:20px}.groups-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin:0 0 10px;font-weight:600}.groups-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 30px;font-size:1.1rem}.groups-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:12px 24px;border-radius:25px;font-weight:600}.groups-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#333;font-weight:600;font-size:1.3rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:30px}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{flex-direction:column}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]{border-color:#667eea;color:#667eea;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;margin:0 0 20px;font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid #eee}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#999;font-size:1.5rem;width:1.5rem;height:1.5rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#333;font-weight:500;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{color:#999;font-size:.8rem;text-transform:capitalize}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]{margin-bottom:20px}.groups-section[_ngcontent-%COMP%]{gap:15px}.group-item[_ngcontent-%COMP%]{padding:15px!important}.details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{margin-bottom:20px}}"]});let n=e;return n})();function Ud(n,e){n&1&&(y(0,"div",5),dt(1,"mat-spinner",6),y(2,"p"),M(3,"Loading group details..."),v()())}function Bd(n,e){if(n&1){let r=Tt();y(0,"button",28),K("click",function(){lt(r);let o=V(2);return ut(o.deleteGroup())}),y(1,"mat-icon"),M(2,"delete"),v(),M(3," Delete Group "),v()}}function jd(n,e){if(n&1&&(y(0,"div",45)(1,"div",46)(2,"span",47),M(3),v(),y(4,"span",48),M(5),v()(),y(6,"div",49)(7,"mat-icon"),M(8),v()()()),n&2){let r=e.$implicit,i=V().$implicit,o=V(3);O(3),H(r.displayName),O(2),H(o.formatCurrency(r.amount,i.currency)),O(2),Ae("paid",r.isPaid)("unpaid",!r.isPaid),O(),ot(" ",r.isPaid?"check_circle":"pending"," ")}}function zd(n,e){if(n&1&&(y(0,"div",31)(1,"div",32)(2,"div",33)(3,"div",34),M(4),v(),y(5,"div",35)(6,"span",36),M(7),v(),y(8,"span",37),M(9),v()()(),y(10,"div",38)(11,"mat-chip",39),M(12),v()()(),y(13,"div",40)(14,"div",41)(15,"span",42),M(16),v()(),y(17,"div",43),U(18,jd,9,7,"div",44),v()()()),n&2){let r=e.$implicit,i=V(3);O(4),ot(" ",i.formatCurrency(r.totalAmount,r.currency)," "),O(3),ot("by ",i.getTransactionCreatorName(r),""),O(2),H(i.formatDate(r.createdAt)),O(2),T("color",i.getTransactionStatusColor(r.status)),O(),ot(" ",i.getTransactionStatusText(r.status)," "),O(4),H(i.getTransactionSplitsSummary(r)),O(2),T("ngForOf",r.splits)}}function Gd(n,e){if(n&1&&(y(0,"div",29),U(1,zd,19,7,"div",30),v()),n&2){let r=V(2);O(),T("ngForOf",r.transactions)}}function qd(n,e){if(n&1&&(y(0,"div",54)(1,"div",55)(2,"div",56)(3,"span",57),M(4),v(),y(5,"mat-icon"),M(6,"arrow_forward"),v(),y(7,"span",58),M(8),v()(),y(9,"div",59),M(10),v()(),y(11,"div",60)(12,"mat-chip",39),M(13),v()()()),n&2){let r=e.$implicit,i=V(3);O(4),H(i.getMemberName(r.fromUserId)),O(4),H(i.getMemberName(r.toUserId)),O(2),ot(" ",i.formatCurrency(r.amount,r.currency)," "),O(2),T("color",r.status==="completed"?"success":"warning"),O(),ot(" ",r.status==="completed"?"Completed":"Pending"," ")}}function $d(n,e){if(n&1&&(y(0,"div",50)(1,"mat-card",51)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),M(5,"swap_horiz"),v(),M(6),v()(),y(7,"mat-card-content")(8,"div",52),U(9,qd,14,5,"div",53),v()()()()),n&2){let r=V(2);O(6),ot(" Settlements (",r.getSettlementCount(),") "),O(3),T("ngForOf",r.settlements)}}function Kd(n,e){if(n&1){let r=Tt();y(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"button",11),K("click",function(){lt(r);let o=V();return ut(o.goBack())}),y(5,"mat-icon"),M(6,"arrow_back"),v()(),y(7,"button",12)(8,"mat-icon"),M(9,"more_vert"),v()(),y(10,"mat-menu",null,0)(12,"button",13),K("click",function(){lt(r);let o=V();return ut(o.openAddMemberDialog())}),y(13,"mat-icon"),M(14,"person_add"),v(),M(15," Add Member "),v(),U(16,Bd,4,0,"button",14),v()(),y(17,"div",15)(18,"h1",16),M(19),v(),y(20,"p",17),M(21),v()()()(),y(22,"div",18)(23,"mat-card",19)(24,"div",20)(25,"div",21)(26,"div",22),M(27),v(),y(28,"div",23),M(29,"Members"),v()(),y(30,"div",21)(31,"div",22),M(32),v(),y(33,"div",23),M(34,"Total Balance"),v()(),y(35,"div",21)(36,"div",22),M(37),v(),y(38,"div",23),M(39,"Transactions"),v()(),y(40,"div",21)(41,"div",22),M(42),v(),y(43,"div",23),M(44,"Total Spent"),v()()()()(),y(45,"div",24)(46,"mat-card",25)(47,"mat-card-header")(48,"mat-card-title")(49,"mat-icon"),M(50,"receipt"),v(),M(51),v(),y(52,"mat-card-subtitle"),M(53),v()(),y(54,"mat-card-content"),U(55,Gd,2,1,"div",26),v()()(),U(56,$d,10,2,"div",27),v()}if(n&2){let r=Fn(11),i=V();O(7),T("matMenuTriggerFor",r),O(9),T("ngIf",i.canManageGroup()),O(3),H(i.group.name),O(2),H(i.group.description||"No description"),O(6),H(i.getGroupMemberCount()),O(5),H(i.formatCurrency(i.getTotalBalance(),i.group.currency)),O(5),H(i.getTransactionCount()),O(5),H(i.formatCurrency(i.getTotalTransactionAmount(),i.group.currency)),O(9),ot(" Transactions (",i.getTransactionCount(),") "),O(2),ot(" Total: ",i.formatCurrency(i.getTotalTransactionAmount(),i.group.currency)," "),O(2),T("ngIf",i.transactions.length>0),O(),T("ngIf",i.settlements.length>0)}}function Qd(n,e){if(n&1){let r=Tt();y(0,"div",61)(1,"mat-icon",62),M(2,"error"),v(),y(3,"h3"),M(4,"Group Not Found"),v(),y(5,"p"),M(6,"The group you're looking for doesn't exist or you don't have access to it."),v(),y(7,"button",63),K("click",function(){lt(r);let o=V();return ut(o.goBack())}),M(8," Go Back "),v()()}}var ac=(()=>{let e=class e{constructor(i,o,c,u,h,C,x){this.route=i,this.router=o,this.auth=c,this.store=u,this.dialog=h,this.notificationService=C,this.breakpointObserver=x,this.group=null,this.transactions=[],this.settlements=[],this.isLoading=!1,this.error=null,this.currentUser=null,this.isMobile=!1,this.Math=Math,this.destroy$=new _e,this.breakpointObserver.observe([$e.Handset]).pipe(re(this.destroy$)).subscribe(I=>{this.isMobile=I.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(dn).pipe(re(this.destroy$)).subscribe(i=>{this.isLoading=i.loading,this.error=i.error;let o=this.route.snapshot.paramMap.get("id");o&&(this.group=i.groups.find(c=>c.id===o)||null,!this.group&&!this.isLoading&&this.store.dispatch(rn({groupId:o}))),this.transactions=i.transactions.filter(c=>c.groupId===o),this.settlements=i.settlements.filter(c=>c.groupId===o),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Me()))})}loadGroupDetails(){let i=this.route.snapshot.paramMap.get("id");i&&(this.store.dispatch(rn({groupId:i})),this.store.dispatch(ln({groupId:i})),this.store.dispatch(un({groupId:i})))}goBack(){this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(hn,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(o=>{o&&this.store.dispatch(Jt({groupId:this.group.id,request:o}))})}deleteGroup(){this.group&&confirm(`Are you sure you want to delete the group "${this.group.name}"?`)&&(this.store.dispatch(Pe({groupId:this.group.id})),this.goBack())}getCurrentUserRole(){if(!this.group||!this.currentUser)return"";let i=this.group.members.find(o=>o.userId===this.currentUser.uid);return(i==null?void 0:i.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}getGroupMemberCount(){var i;return((i=this.group)==null?void 0:i.members.filter(o=>o.isActive).length)||0}formatDate(i){return i?(i.toDate?i.toDate():new Date(i)).toLocaleDateString():""}formatCurrency(i,o="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:o}).format(i)}getTotalBalance(){return this.group?this.group.members.reduce((i,o)=>i+o.balance,0):0}getTransactionStatusColor(i){switch(i){case"completed":return"success";case"partial":return"warning";case"pending":return"info";case"cancelled":return"error";default:return"default"}}getTransactionStatusText(i){switch(i){case"completed":return"Completed";case"partial":return"Partial";case"pending":return"Pending";case"cancelled":return"Cancelled";default:return"Unknown"}}getTransactionCreatorName(i){if(!this.group)return"";let o=this.group.members.find(c=>c.userId===i.createdBy);return(o==null?void 0:o.displayName)||"Unknown"}getTransactionSplitsSummary(i){let o=i.splits.filter(u=>u.isPaid).length,c=i.splits.length;return`${o}/${c} paid`}getTotalTransactionAmount(){return this.transactions.reduce((i,o)=>i+o.totalAmount,0)}getTransactionCount(){return this.transactions.length}getSettlementCount(){return this.settlements.length}getMemberName(i){if(!this.group)return"Unknown";let o=this.group.members.find(c=>c.userId===i);return(o==null?void 0:o.displayName)||"Unknown"}toggleMembers(){var i;this.router.navigate(["dashboard/splitwise/members",(i=this.group)==null?void 0:i.id])}};e.\u0275fac=function(o){return new(o||e)(A(Vi),A(Ge),A(Ct),A(At),A(we),A(ve),A(qe))},e.\u0275cmp=ft({type:e,selectors:[["app-group-details"]],decls:4,vars:3,consts:[["groupMenu","matMenu"],[1,"group-details-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header"],[1,"header-content"],[1,"header-actions"],["mat-icon-button","",1,"back-btn",3,"click"],["mat-icon-button","",1,"more-actions-btn",3,"matMenuTriggerFor"],["mat-menu-item","",1,"add-member-btn",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],[1,"title-section"],[1,"title"],[1,"subtitle"],[1,"stats-section"],[1,"stats-card"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"transactions-section"],[1,"transactions-card"],["class","transactions-list",4,"ngIf"],["class","settlements-section",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"],[1,"transactions-list"],["class","transaction-item",4,"ngFor","ngForOf"],[1,"transaction-item"],[1,"transaction-header"],[1,"transaction-info"],[1,"transaction-amount"],[1,"transaction-meta"],[1,"transaction-creator"],[1,"transaction-date"],[1,"transaction-status"],["selected","",3,"color"],[1,"transaction-splits"],[1,"splits-summary"],[1,"splits-count"],[1,"splits-details"],["class","split-item",4,"ngFor","ngForOf"],[1,"split-item"],[1,"split-member"],[1,"member-name"],[1,"split-amount"],[1,"split-status"],[1,"settlements-section"],[1,"settlements-card"],[1,"settlements-list"],["class","settlement-item",4,"ngFor","ngForOf"],[1,"settlement-item"],[1,"settlement-info"],[1,"settlement-parties"],[1,"from-user"],[1,"to-user"],[1,"settlement-amount"],[1,"settlement-status"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","primary",3,"click"]],template:function(o,c){o&1&&(y(0,"div",1),U(1,Ud,4,0,"div",2)(2,Kd,57,12,"div",3)(3,Qd,9,0,"div",4),v()),o&2&&(O(),T("ngIf",c.isLoading),O(),T("ngIf",!c.isLoading&&c.group),O(),T("ngIf",!c.isLoading&&!c.group))},dependencies:[ze,St,Ke,He,We,tr,Qe,Lt,Yt,kt,Xt,nr,Xi,Yi,Ji],styles:[".group-details-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh;background:#f5f5f5}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px;text-align:center}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:24px;box-shadow:0 2px 8px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;gap:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1976d2}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 4px;font-size:24px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1976d2}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .members-toggle-btn[_ngcontent-%COMP%]{color:#666;transition:all .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .members-toggle-btn[_ngcontent-%COMP%]:hover{color:#1976d2}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]{color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:24px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:24px;padding:20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{text-align:center}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:28px;font-weight:600;color:#1976d2;margin-bottom:8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#666;font-size:14px;text-transform:uppercase;letter-spacing:.5px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]{margin-bottom:24px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 0;border-bottom:1px solid #f0f0f0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:12px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:11px;color:#1976d2;text-transform:uppercase;letter-spacing:.5px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]{margin-bottom:24px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]   .positive-icon[_ngcontent-%COMP%]{color:#4caf50}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]{border-left:4px solid #f44336}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]   .negative-icon[_ngcontent-%COMP%]{color:#f44336}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:24px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-placeholder[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#ccc;margin-bottom:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;margin-bottom:16px;padding:16px;background:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#333;margin-bottom:4px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]{display:flex;gap:12px;font-size:12px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-creator[_ngcontent-%COMP%]{font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-status[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:11px;height:24px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-summary[_ngcontent-%COMP%]{margin-bottom:8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-summary[_ngcontent-%COMP%]   .splits-count[_ngcontent-%COMP%]{font-size:12px;color:#666;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f0f0f0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-member[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-member[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-member[_ngcontent-%COMP%]   .split-amount[_ngcontent-%COMP%]{font-size:12px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-status[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-status[_ngcontent-%COMP%]   mat-icon.paid[_ngcontent-%COMP%]{color:#4caf50}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-splits[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-status[_ngcontent-%COMP%]   mat-icon.unpaid[_ngcontent-%COMP%]{color:#ff9800}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   .add-transaction-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px 0;border-top:1px solid #f0f0f0;margin-top:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:24px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:4px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1976d2}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:11px;height:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]{padding:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{width:100%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px;padding:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let n=e;return n})();function Hd(n,e){if(n&1&&dt(0,"img",18),n&2){let r=V().$implicit;T("src",r.photoURL,Ai)("alt",r.displayName)}}function Wd(n,e){n&1&&(y(0,"mat-icon"),M(1,"person"),v())}function Yd(n,e){if(n&1&&(y(0,"div",7)(1,"div",8)(2,"div",9),U(3,Hd,1,2,"img",10)(4,Wd,2,0,"mat-icon",11),v(),y(5,"div",12)(6,"span",13),M(7),v(),y(8,"span",14),M(9),v(),y(10,"span",15),M(11),v()()(),y(12,"div",16)(13,"span",17),M(14),v()()()),n&2){let r=e.$implicit,i=V();O(3),T("ngIf",r.photoURL),O(),T("ngIf",!r.photoURL),O(3),H(r.displayName),O(2),H(r.email),O(2),H(r.role),O(2),Ae("positive",r.balance>0)("negative",r.balance<0)("neutral",r.balance===0),O(),ot(" ",i.formatCurrency(r.balance,i.group.currency)," ")}}var cc=(()=>{let e=class e{constructor(){this.isMobile=!1,this.addMember=new je,this.Math=Math}formatCurrency(i,o="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:o}).format(i)}getGroupMemberCount(){var i;return((i=this.group)==null?void 0:i.members.filter(o=>o.isActive).length)||0}getPositiveBalanceMembers(){return this.group?this.group.members.filter(i=>i.balance>0):[]}getNegativeBalanceMembers(){return this.group?this.group.members.filter(i=>i.balance<0):[]}getNeutralBalanceMembers(){return this.group?this.group.members.filter(i=>i.balance===0):[]}onAddMember(){this.addMember.emit()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=ft({type:e,selectors:[["app-members"]],inputs:{group:"group",isMobile:"isMobile"},outputs:{addMember:"addMember"},decls:18,vars:2,consts:[[1,"members-container"],[1,"members-section"],[1,"members-card"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"add-member-section"],["mat-stroked-button","","color","primary",3,"click"],[1,"member-item"],[1,"member-info"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],[1,"member-role"],[1,"member-balance"],[1,"balance-amount"],[3,"src","alt"]],template:function(o,c){o&1&&(y(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title")(5,"mat-icon"),M(6,"people"),v(),M(7," Members "),v(),y(8,"mat-card-subtitle"),M(9),v()(),y(10,"mat-card-content")(11,"div",3),U(12,Yd,15,12,"div",4),v()()()(),y(13,"div",5)(14,"button",6),K("click",function(){return c.onAddMember()}),y(15,"mat-icon"),M(16,"person_add"),v(),M(17," Add Member "),v()()()),o&2&&(O(9),ot(" ",c.getGroupMemberCount()," active members "),O(3),T("ngForOf",c.group.members))},dependencies:[ze,St,Ke,He,We,tr,Qe,Lt,kt],styles:[".members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:12px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:11px;color:#1976d2;text-transform:uppercase;letter-spacing:.5px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]   .positive-icon[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]{border-left:4px solid #f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]   .negative-icon[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]{border-left:4px solid #666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]   .neutral-icon[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px 0}@media (max-width: 768px){.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:12px 0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:11px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:10px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let n=e;return n})();function Jd(n,e){n&1&&(y(0,"div",4),dt(1,"mat-spinner",5),y(2,"p"),M(3,"Loading group members..."),v()())}function Zd(n,e){if(n&1){let r=Tt();y(0,"div",6)(1,"div",7)(2,"button",8),K("click",function(){lt(r);let o=V();return ut(o.goBack())}),y(3,"mat-icon"),M(4,"arrow_back"),v()()(),y(5,"app-members",9),K("addMember",function(){lt(r);let o=V();return ut(o.openAddMemberDialog())}),v()()}if(n&2){let r=V();O(5),T("group",r.group)("isMobile",r.isMobile)}}function th(n,e){if(n&1){let r=Tt();y(0,"div",10)(1,"mat-icon",11),M(2,"error"),v(),y(3,"h3"),M(4,"Group Not Found"),v(),y(5,"p"),M(6,"The group you're looking for doesn't exist or you don't have access to it."),v(),y(7,"button",12),K("click",function(){lt(r);let o=V();return ut(o.goBack())}),M(8," Go Back "),v()()}}var lc=(()=>{let e=class e{constructor(i,o,c,u,h,C,x){this.route=i,this.router=o,this.auth=c,this.store=u,this.dialog=h,this.notificationService=C,this.breakpointObserver=x,this.group=null,this.isLoading=!1,this.error=null,this.currentUser=null,this.isMobile=!1,this.destroy$=new _e,this.breakpointObserver.observe([$e.Handset]).pipe(re(this.destroy$)).subscribe(I=>{this.isMobile=I.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(dn).pipe(re(this.destroy$)).subscribe(i=>{this.isLoading=i.loading,this.error=i.error;let o=this.route.snapshot.paramMap.get("id");o&&(this.group=i.groups.find(c=>c.id===o)||null,!this.group&&!this.isLoading&&this.store.dispatch(rn({groupId:o}))),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Me()))})}loadGroupDetails(){let i=this.route.snapshot.paramMap.get("id");i&&this.store.dispatch(rn({groupId:i}))}goBack(){this.group?this.router.navigate(["dashboard/splitwise/group",this.group.id]):this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(hn,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(o=>{o&&this.store.dispatch(Jt({groupId:this.group.id,request:o}))})}};e.\u0275fac=function(o){return new(o||e)(A(Vi),A(Ge),A(Ct),A(At),A(we),A(ve),A(qe))},e.\u0275cmp=ft({type:e,selectors:[["app-members-page"]],decls:4,vars:3,consts:[[1,"members-page-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header-actions"],["mat-icon-button","",1,"back-btn",3,"click"],[3,"addMember","group","isMobile"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","primary",3,"click"]],template:function(o,c){o&1&&(y(0,"div",0),U(1,Jd,4,0,"div",1)(2,Zd,6,2,"div",2)(3,th,9,0,"div",3),v()),o&2&&(O(),T("ngIf",c.isLoading),O(),T("ngIf",!c.isLoading&&c.group),O(),T("ngIf",!c.isLoading&&!c.group))},dependencies:[St,Lt,Yt,kt,Xt,cc],styles:[".members-page-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh;background:#f5f5f5}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px;text-align:center}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:24px;box-shadow:0 2px 8px #0000001a}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1976d2}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex:1}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 4px;font-size:24px;font-weight:600;color:#333}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}@media (max-width: 768px){.members-page-container[_ngcontent-%COMP%]{padding:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{width:100%}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}}"]});let n=e;return n})();var eh=[{path:"",component:sc},{path:"group/:id",component:ac},{path:"members/:id",component:lc}],uc=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Qt({type:e}),e.\u0275inj=Kt({imports:[Ln.forChild(eh),Ln]});let n=e;return n})();var dc=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Qt({type:e}),e.\u0275inj=Kt({imports:[fa,Ri,_a,ba,ya,er]});let n=e;return n})();var nh={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},_r="__@ngrx/effects_create__";function zt(n,e={}){let r=e.functional?n:n(),i=S(S({},nh),e);return Object.defineProperty(r,_r,{value:i}),r}function ih(n){return Object.getOwnPropertyNames(n).filter(i=>n[i]&&n[i].hasOwnProperty(_r)?n[i][_r].hasOwnProperty("dispatch"):!1).map(i=>{let o=n[i][_r];return S({propertyName:i},o)})}function rh(n){return ih(n)}function gc(n){return Object.getPrototypeOf(n)}function oh(n){return!!n.constructor&&n.constructor.name!=="Object"&&n.constructor.name!=="Function"}function fc(n){return typeof n=="function"}function hc(n){return n.filter(fc)}function sh(n){return n instanceof oe||fc(n)}function ah(n,e,r){let i=gc(n),c=!!i&&i.constructor.name!=="Object"?i.constructor.name:null,u=rh(n).map(({propertyName:h,dispatch:C,useEffectsErrorHandler:x})=>{let I=typeof n[h]=="function"?n[h]():n[h],D=x?r(I,e):I;return C===!1?D.pipe(Zs()):D.pipe(na()).pipe(Z($=>({effect:n[h],notification:$,propertyName:h,sourceName:c,sourceInstance:n})))});return io(...u)}var ch=10;function _c(n,e,r=ch){return n.pipe(pt(i=>(e&&e.handleError(i),r<=1?n:_c(n,e,r-1))))}var bc=(()=>{let e=class e extends Ys{constructor(i){super(),i&&(this.source=i)}lift(i){let o=new e;return o.source=this,o.operator=i,o}};e.\u0275fac=function(o){return new(o||e)(Y(ua))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Gt(...n){return Ii(e=>n.some(r=>typeof r=="string"?r===e.type:r.type===e.type))}var yc=new oe("@ngrx/effects Internal Root Guard"),fr=new oe("@ngrx/effects User Provided Effects"),Eo=new oe("@ngrx/effects Internal Root Effects"),vc=new oe("@ngrx/effects Internal Root Effects Instances"),mc=new oe("@ngrx/effects Internal Feature Effects"),wc=new oe("@ngrx/effects Internal Feature Effects Instance Groups"),lh=new oe("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>_c}),Cc="@ngrx/effects/init",kg=N(Cc);function uh(n,e){if(n.notification.kind==="N"){let r=n.notification.value;!dh(r)&&e.handleError(new Error(`Effect ${hh(n)} dispatched an invalid action: ${mh(r)}`))}}function dh(n){return typeof n!="function"&&n&&n.type&&typeof n.type=="string"}function hh({propertyName:n,sourceInstance:e,sourceName:r}){let i=typeof e[n]=="function";return!!r?`"${r}.${String(n)}${i?"()":""}"`:`"${String(n)}()"`}function mh(n){try{return JSON.stringify(n)}catch{return n}}var ph="ngrxOnIdentifyEffects";function gh(n){return Io(n,ph)}var fh="ngrxOnRunEffects";function _h(n){return Io(n,fh)}var bh="ngrxOnInitEffects";function yh(n){return Io(n,bh)}function Io(n,e){return n&&e in n&&typeof n[e]=="function"}var Pc=(()=>{let e=class e extends _e{constructor(i,o){super(),this.errorHandler=i,this.effectsErrorHandler=o}addEffects(i){this.next(i)}toActions(){return this.pipe(ro(i=>oh(i)?gc(i):i),et(i=>i.pipe(ro(vh))),et(i=>{let o=i.pipe(ea(u=>wh(this.errorHandler,this.effectsErrorHandler)(u)),Z(u=>(uh(u,this.errorHandler),u.notification)),Ii(u=>u.kind==="N"&&u.value!=null),ta()),c=i.pipe(Js(1),Ii(yh),Z(u=>u.ngrxOnInitEffects()));return io(o,c)}))}};e.\u0275fac=function(o){return new(o||e)(Y(ia),Y(lh))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function vh(n){return gh(n)?n.ngrxOnIdentifyEffects():""}function wh(n,e){return r=>{let i=ah(r,n,e);return _h(r)?r.ngrxOnRunEffects(i):i}}var Mc=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(i,o){this.effectSources=i,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(o){return new(o||e)(Y(Pc),Y(At))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),xc=(()=>{let e=class e{constructor(i,o,c,u,h,C,x){this.sources=i,o.start();for(let I of u)i.addEffects(I);c.dispatch({type:Cc})}addEffects(i){this.sources.addEffects(i)}};e.\u0275fac=function(o){return new(o||e)(Y(Pc),Y(Mc),Y(At),Y(vc),Y(lo,8),Y(uo,8),Y(yc,8))},e.\u0275mod=Qt({type:e}),e.\u0275inj=Kt({});let n=e;return n})(),Ch=(()=>{let e=class e{constructor(i,o,c,u){let h=o.flat();for(let C of h)i.addEffects(C)}};e.\u0275fac=function(o){return new(o||e)(Y(xc),Y(wc),Y(lo,8),Y(uo,8))},e.\u0275mod=Qt({type:e}),e.\u0275inj=Kt({});let n=e;return n})(),Oc=(()=>{let e=class e{static forFeature(...i){let o=i.flat(),c=hc(o);return{ngModule:Ch,providers:[c,{provide:mc,multi:!0,useValue:o},{provide:fr,multi:!0,useValue:[]},{provide:wc,multi:!0,useFactory:pc,deps:[mc,fr]}]}}static forRoot(...i){let o=i.flat(),c=hc(o);return{ngModule:xc,providers:[c,{provide:Eo,useValue:[o]},{provide:yc,useFactory:Ph},{provide:fr,multi:!0,useValue:[]},{provide:vc,useFactory:pc,deps:[Eo,fr]}]}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Qt({type:e}),e.\u0275inj=Kt({});let n=e;return n})();function pc(n,e){let r=[];for(let i of n)r.push(...i);for(let i of e)r.push(...i);return r.map(i=>sh(i)?Ti(i):i)}function Ph(){let n=Ti(Mc,{optional:!0,skipSelf:!0}),e=Ti(Eo,{self:!0});if(!(e.length===1&&e[0].length===0)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Ec={groups:[],invitations:[],transactions:[],settlements:[],selectedGroup:null,loading:!1,error:null};var Ic=ha(Ec,j(nn,n=>k(S({},n),{loading:!0,error:null})),j(rr,(n,{groups:e})=>k(S({},n),{groups:e,loading:!1,error:null})),j(Kn,(n,{error:e})=>k(S({},n),{loading:!1,error:e})),j(on,n=>k(S({},n),{loading:!0,error:null})),j(or,(n,{invitations:e})=>k(S({},n),{invitations:e,loading:!1,error:null})),j(Qn,(n,{error:e})=>k(S({},n),{loading:!1,error:e})),j(sn,n=>k(S({},n),{loading:!0,error:null})),j(sr,(n,{group:e})=>k(S({},n),{groups:[...n.groups,e],loading:!1,error:null})),j(Hn,(n,{error:e})=>k(S({},n),{loading:!1,error:e})),j(Jt,n=>k(S({},n),{loading:!0,error:null})),j(ar,(n,{group:e})=>k(S({},n),{groups:n.groups.map(r=>r.id===e.id?e:r),loading:!1,error:null})),j(Wn,(n,{error:e})=>k(S({},n),{loading:!1,error:e})),j(an,n=>k(S({},n),{loading:!0,error:null})),j(cr,(n,{invitationId:e})=>k(S({},n),{invitations:n.invitations.filter(r=>r.id!==e),loading:!1,error:null})),j(Yn,(n,{error:e})=>k(S({},n),{loading:!1,error:e})),j(cn,n=>k(S({},n),{loading:!0,error:null})),j(lr,(n,{invitationId:e})=>k(S({},n),{invitations:n.invitations.filter(r=>r.id!==e),loading:!1,error:null})),j(Xn,(n,{error:e})=>k(S({},n),{loading:!1,error:e})),j(Pe,n=>k(S({},n),{loading:!0,error:null})),j(ur,(n,{groupId:e})=>{var r;return k(S({},n),{groups:n.groups.filter(i=>i.id!==e),selectedGroup:((r=n.selectedGroup)==null?void 0:r.id)===e?null:n.selectedGroup,loading:!1,error:null})}),j(Jn,(n,{error:e})=>k(S({},n),{loading:!1,error:e})),j(tc,(n,{group:e})=>k(S({},n),{selectedGroup:e})),j(ln,n=>k(S({},n),{loading:!0,error:null})),j(dr,(n,{transactions:e})=>k(S({},n),{transactions:e,loading:!1,error:null})),j(Zn,(n,{error:e})=>k(S({},n),{loading:!1,error:e})),j(un,n=>k(S({},n),{loading:!0,error:null})),j(hr,(n,{settlements:e})=>k(S({},n),{settlements:e,loading:!1,error:null})),j(ti,(n,{error:e})=>k(S({},n),{loading:!1,error:e})),j(mr,n=>k(S({},n),{loading:!0,error:null})),j(pr,(n,{transaction:e})=>k(S({},n),{transactions:[...n.transactions,e],loading:!1,error:null})),j(ei,(n,{error:e})=>k(S({},n),{loading:!1,error:e})),j(Me,n=>k(S({},n),{error:null})));var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sc={};var br,Ac;(function(){var n;function e(b,d){function p(){}p.prototype=d.prototype,b.D=d.prototype,b.prototype=new p,b.prototype.constructor=b,b.C=function(g,f,w){for(var m=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)m[ee-2]=arguments[ee];return d.prototype[f].apply(g,m)}}function r(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,r),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,d,p){p||(p=0);var g=Array(16);if(typeof d=="string")for(var f=0;16>f;++f)g[f]=d.charCodeAt(p++)|d.charCodeAt(p++)<<8|d.charCodeAt(p++)<<16|d.charCodeAt(p++)<<24;else for(f=0;16>f;++f)g[f]=d[p++]|d[p++]<<8|d[p++]<<16|d[p++]<<24;d=b.g[0],p=b.g[1],f=b.g[2];var w=b.g[3],m=d+(w^p&(f^w))+g[0]+3614090360&4294967295;d=p+(m<<7&4294967295|m>>>25),m=w+(f^d&(p^f))+g[1]+3905402710&4294967295,w=d+(m<<12&4294967295|m>>>20),m=f+(p^w&(d^p))+g[2]+606105819&4294967295,f=w+(m<<17&4294967295|m>>>15),m=p+(d^f&(w^d))+g[3]+3250441966&4294967295,p=f+(m<<22&4294967295|m>>>10),m=d+(w^p&(f^w))+g[4]+4118548399&4294967295,d=p+(m<<7&4294967295|m>>>25),m=w+(f^d&(p^f))+g[5]+1200080426&4294967295,w=d+(m<<12&4294967295|m>>>20),m=f+(p^w&(d^p))+g[6]+2821735955&4294967295,f=w+(m<<17&4294967295|m>>>15),m=p+(d^f&(w^d))+g[7]+4249261313&4294967295,p=f+(m<<22&4294967295|m>>>10),m=d+(w^p&(f^w))+g[8]+1770035416&4294967295,d=p+(m<<7&4294967295|m>>>25),m=w+(f^d&(p^f))+g[9]+2336552879&4294967295,w=d+(m<<12&4294967295|m>>>20),m=f+(p^w&(d^p))+g[10]+4294925233&4294967295,f=w+(m<<17&4294967295|m>>>15),m=p+(d^f&(w^d))+g[11]+2304563134&4294967295,p=f+(m<<22&4294967295|m>>>10),m=d+(w^p&(f^w))+g[12]+1804603682&4294967295,d=p+(m<<7&4294967295|m>>>25),m=w+(f^d&(p^f))+g[13]+4254626195&4294967295,w=d+(m<<12&4294967295|m>>>20),m=f+(p^w&(d^p))+g[14]+2792965006&4294967295,f=w+(m<<17&4294967295|m>>>15),m=p+(d^f&(w^d))+g[15]+1236535329&4294967295,p=f+(m<<22&4294967295|m>>>10),m=d+(f^w&(p^f))+g[1]+4129170786&4294967295,d=p+(m<<5&4294967295|m>>>27),m=w+(p^f&(d^p))+g[6]+3225465664&4294967295,w=d+(m<<9&4294967295|m>>>23),m=f+(d^p&(w^d))+g[11]+643717713&4294967295,f=w+(m<<14&4294967295|m>>>18),m=p+(w^d&(f^w))+g[0]+3921069994&4294967295,p=f+(m<<20&4294967295|m>>>12),m=d+(f^w&(p^f))+g[5]+3593408605&4294967295,d=p+(m<<5&4294967295|m>>>27),m=w+(p^f&(d^p))+g[10]+38016083&4294967295,w=d+(m<<9&4294967295|m>>>23),m=f+(d^p&(w^d))+g[15]+3634488961&4294967295,f=w+(m<<14&4294967295|m>>>18),m=p+(w^d&(f^w))+g[4]+3889429448&4294967295,p=f+(m<<20&4294967295|m>>>12),m=d+(f^w&(p^f))+g[9]+568446438&4294967295,d=p+(m<<5&4294967295|m>>>27),m=w+(p^f&(d^p))+g[14]+3275163606&4294967295,w=d+(m<<9&4294967295|m>>>23),m=f+(d^p&(w^d))+g[3]+4107603335&4294967295,f=w+(m<<14&4294967295|m>>>18),m=p+(w^d&(f^w))+g[8]+1163531501&4294967295,p=f+(m<<20&4294967295|m>>>12),m=d+(f^w&(p^f))+g[13]+2850285829&4294967295,d=p+(m<<5&4294967295|m>>>27),m=w+(p^f&(d^p))+g[2]+4243563512&4294967295,w=d+(m<<9&4294967295|m>>>23),m=f+(d^p&(w^d))+g[7]+1735328473&4294967295,f=w+(m<<14&4294967295|m>>>18),m=p+(w^d&(f^w))+g[12]+2368359562&4294967295,p=f+(m<<20&4294967295|m>>>12),m=d+(p^f^w)+g[5]+4294588738&4294967295,d=p+(m<<4&4294967295|m>>>28),m=w+(d^p^f)+g[8]+2272392833&4294967295,w=d+(m<<11&4294967295|m>>>21),m=f+(w^d^p)+g[11]+1839030562&4294967295,f=w+(m<<16&4294967295|m>>>16),m=p+(f^w^d)+g[14]+4259657740&4294967295,p=f+(m<<23&4294967295|m>>>9),m=d+(p^f^w)+g[1]+2763975236&4294967295,d=p+(m<<4&4294967295|m>>>28),m=w+(d^p^f)+g[4]+1272893353&4294967295,w=d+(m<<11&4294967295|m>>>21),m=f+(w^d^p)+g[7]+4139469664&4294967295,f=w+(m<<16&4294967295|m>>>16),m=p+(f^w^d)+g[10]+3200236656&4294967295,p=f+(m<<23&4294967295|m>>>9),m=d+(p^f^w)+g[13]+681279174&4294967295,d=p+(m<<4&4294967295|m>>>28),m=w+(d^p^f)+g[0]+3936430074&4294967295,w=d+(m<<11&4294967295|m>>>21),m=f+(w^d^p)+g[3]+3572445317&4294967295,f=w+(m<<16&4294967295|m>>>16),m=p+(f^w^d)+g[6]+76029189&4294967295,p=f+(m<<23&4294967295|m>>>9),m=d+(p^f^w)+g[9]+3654602809&4294967295,d=p+(m<<4&4294967295|m>>>28),m=w+(d^p^f)+g[12]+3873151461&4294967295,w=d+(m<<11&4294967295|m>>>21),m=f+(w^d^p)+g[15]+530742520&4294967295,f=w+(m<<16&4294967295|m>>>16),m=p+(f^w^d)+g[2]+3299628645&4294967295,p=f+(m<<23&4294967295|m>>>9),m=d+(f^(p|~w))+g[0]+4096336452&4294967295,d=p+(m<<6&4294967295|m>>>26),m=w+(p^(d|~f))+g[7]+1126891415&4294967295,w=d+(m<<10&4294967295|m>>>22),m=f+(d^(w|~p))+g[14]+2878612391&4294967295,f=w+(m<<15&4294967295|m>>>17),m=p+(w^(f|~d))+g[5]+4237533241&4294967295,p=f+(m<<21&4294967295|m>>>11),m=d+(f^(p|~w))+g[12]+1700485571&4294967295,d=p+(m<<6&4294967295|m>>>26),m=w+(p^(d|~f))+g[3]+2399980690&4294967295,w=d+(m<<10&4294967295|m>>>22),m=f+(d^(w|~p))+g[10]+4293915773&4294967295,f=w+(m<<15&4294967295|m>>>17),m=p+(w^(f|~d))+g[1]+2240044497&4294967295,p=f+(m<<21&4294967295|m>>>11),m=d+(f^(p|~w))+g[8]+1873313359&4294967295,d=p+(m<<6&4294967295|m>>>26),m=w+(p^(d|~f))+g[15]+4264355552&4294967295,w=d+(m<<10&4294967295|m>>>22),m=f+(d^(w|~p))+g[6]+2734768916&4294967295,f=w+(m<<15&4294967295|m>>>17),m=p+(w^(f|~d))+g[13]+1309151649&4294967295,p=f+(m<<21&4294967295|m>>>11),m=d+(f^(p|~w))+g[4]+4149444226&4294967295,d=p+(m<<6&4294967295|m>>>26),m=w+(p^(d|~f))+g[11]+3174756917&4294967295,w=d+(m<<10&4294967295|m>>>22),m=f+(d^(w|~p))+g[2]+718787259&4294967295,f=w+(m<<15&4294967295|m>>>17),m=p+(w^(f|~d))+g[9]+3951481745&4294967295,b.g[0]=b.g[0]+d&4294967295,b.g[1]=b.g[1]+(f+(m<<21&4294967295|m>>>11))&4294967295,b.g[2]=b.g[2]+f&4294967295,b.g[3]=b.g[3]+w&4294967295}i.prototype.u=function(b,d){d===void 0&&(d=b.length);for(var p=d-this.blockSize,g=this.B,f=this.h,w=0;w<d;){if(f==0)for(;w<=p;)o(this,b,w),w+=this.blockSize;if(typeof b=="string"){for(;w<d;)if(g[f++]=b.charCodeAt(w++),f==this.blockSize){o(this,g),f=0;break}}else for(;w<d;)if(g[f++]=b[w++],f==this.blockSize){o(this,g),f=0;break}}this.h=f,this.o+=d},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var d=1;d<b.length-8;++d)b[d]=0;var p=8*this.o;for(d=b.length-8;d<b.length;++d)b[d]=p&255,p/=256;for(this.u(b),b=Array(16),d=p=0;4>d;++d)for(var g=0;32>g;g+=8)b[p++]=this.g[d]>>>g&255;return b};function c(b,d){var p=h;return Object.prototype.hasOwnProperty.call(p,b)?p[b]:p[b]=d(b)}function u(b,d){this.h=d;for(var p=[],g=!0,f=b.length-1;0<=f;f--){var w=b[f]|0;g&&w==d||(p[f]=w,g=!1)}this.g=p}var h={};function C(b){return-128<=b&&128>b?c(b,function(d){return new u([d|0],0>d?-1:0)}):new u([b|0],0>b?-1:0)}function x(b){if(isNaN(b)||!isFinite(b))return D;if(0>b)return X(x(-b));for(var d=[],p=1,g=0;b>=p;g++)d[g]=b/p|0,p*=4294967296;return new u(d,0)}function I(b,d){if(b.length==0)throw Error("number format error: empty string");if(d=d||10,2>d||36<d)throw Error("radix out of range: "+d);if(b.charAt(0)=="-")return X(I(b.substring(1),d));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var p=x(Math.pow(d,8)),g=D,f=0;f<b.length;f+=8){var w=Math.min(8,b.length-f),m=parseInt(b.substring(f,f+w),d);8>w?(w=x(Math.pow(d,w)),g=g.j(w).add(x(m))):(g=g.j(p),g=g.add(x(m)))}return g}var D=C(0),R=C(1),$=C(16777216);n=u.prototype,n.m=function(){if(ct(this))return-X(this).m();for(var b=0,d=1,p=0;p<this.g.length;p++){var g=this.i(p);b+=(0<=g?g:4294967296+g)*d,d*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(L(this))return"0";if(ct(this))return"-"+X(this).toString(b);for(var d=x(Math.pow(b,6)),p=this,g="";;){var f=he(p,d).g;p=mt(p,f.j(d));var w=((0<p.g.length?p.g[0]:p.h)>>>0).toString(b);if(p=f,L(p))return w+g;for(;6>w.length;)w="0"+w;g=w+g}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function L(b){if(b.h!=0)return!1;for(var d=0;d<b.g.length;d++)if(b.g[d]!=0)return!1;return!0}function ct(b){return b.h==-1}n.l=function(b){return b=mt(this,b),ct(b)?-1:L(b)?0:1};function X(b){for(var d=b.g.length,p=[],g=0;g<d;g++)p[g]=~b.g[g];return new u(p,~b.h).add(R)}n.abs=function(){return ct(this)?X(this):this},n.add=function(b){for(var d=Math.max(this.g.length,b.g.length),p=[],g=0,f=0;f<=d;f++){var w=g+(this.i(f)&65535)+(b.i(f)&65535),m=(w>>>16)+(this.i(f)>>>16)+(b.i(f)>>>16);g=m>>>16,w&=65535,m&=65535,p[f]=m<<16|w}return new u(p,p[p.length-1]&-2147483648?-1:0)};function mt(b,d){return b.add(X(d))}n.j=function(b){if(L(this)||L(b))return D;if(ct(this))return ct(b)?X(this).j(X(b)):X(X(this).j(b));if(ct(b))return X(this.j(X(b)));if(0>this.l($)&&0>b.l($))return x(this.m()*b.m());for(var d=this.g.length+b.g.length,p=[],g=0;g<2*d;g++)p[g]=0;for(g=0;g<this.g.length;g++)for(var f=0;f<b.g.length;f++){var w=this.i(g)>>>16,m=this.i(g)&65535,ee=b.i(f)>>>16,bn=b.i(f)&65535;p[2*g+2*f]+=m*bn,Pt(p,2*g+2*f),p[2*g+2*f+1]+=w*bn,Pt(p,2*g+2*f+1),p[2*g+2*f+1]+=m*ee,Pt(p,2*g+2*f+1),p[2*g+2*f+2]+=w*ee,Pt(p,2*g+2*f+2)}for(g=0;g<d;g++)p[g]=p[2*g+1]<<16|p[2*g];for(g=d;g<2*d;g++)p[g]=0;return new u(p,0)};function Pt(b,d){for(;(b[d]&65535)!=b[d];)b[d+1]+=b[d]>>>16,b[d]&=65535,d++}function Vt(b,d){this.g=b,this.h=d}function he(b,d){if(L(d))throw Error("division by zero");if(L(b))return new Vt(D,D);if(ct(b))return d=he(X(b),d),new Vt(X(d.g),X(d.h));if(ct(d))return d=he(b,X(d)),new Vt(X(d.g),d.h);if(30<b.g.length){if(ct(b)||ct(d))throw Error("slowDivide_ only works with positive integers.");for(var p=R,g=d;0>=g.l(b);)p=ui(p),g=ui(g);var f=$t(p,1),w=$t(g,1);for(g=$t(g,2),p=$t(p,2);!L(g);){var m=w.add(g);0>=m.l(b)&&(f=f.add(p),w=m),g=$t(g,1),p=$t(p,1)}return d=mt(b,f.j(d)),new Vt(f,d)}for(f=D;0<=b.l(d);){for(p=Math.max(1,Math.floor(b.m()/d.m())),g=Math.ceil(Math.log(p)/Math.LN2),g=48>=g?1:Math.pow(2,g-48),w=x(p),m=w.j(d);ct(m)||0<m.l(b);)p-=g,w=x(p),m=w.j(d);L(w)&&(w=R),f=f.add(w),b=mt(b,m)}return new Vt(f,b)}n.A=function(b){return he(this,b).h},n.and=function(b){for(var d=Math.max(this.g.length,b.g.length),p=[],g=0;g<d;g++)p[g]=this.i(g)&b.i(g);return new u(p,this.h&b.h)},n.or=function(b){for(var d=Math.max(this.g.length,b.g.length),p=[],g=0;g<d;g++)p[g]=this.i(g)|b.i(g);return new u(p,this.h|b.h)},n.xor=function(b){for(var d=Math.max(this.g.length,b.g.length),p=[],g=0;g<d;g++)p[g]=this.i(g)^b.i(g);return new u(p,this.h^b.h)};function ui(b){for(var d=b.g.length+1,p=[],g=0;g<d;g++)p[g]=b.i(g)<<1|b.i(g-1)>>>31;return new u(p,b.h)}function $t(b,d){var p=d>>5;d%=32;for(var g=b.g.length-p,f=[],w=0;w<g;w++)f[w]=0<d?b.i(w+p)>>>d|b.i(w+p+1)<<32-d:b.i(w+p);return new u(f,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ac=Sc.Md5=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=x,u.fromString=I,br=Sc.Integer=u}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});var yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le={};var kc,xh,Dc,Rc,Vc,Nc,Fc,Lc,Uc;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,s,a){return t==Array.prototype||t==Object.prototype||(t[s]=a.value),t};function r(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof yr=="object"&&yr];for(var s=0;s<t.length;++s){var a=t[s];if(a&&a.Math==Math)return a}throw Error("Cannot find global object")}var i=r(this);function o(t,s){if(s)t:{var a=i;t=t.split(".");for(var l=0;l<t.length-1;l++){var _=t[l];if(!(_ in a))break t;a=a[_]}t=t[t.length-1],l=a[t],s=s(l),s!=l&&s!=null&&e(a,t,{configurable:!0,writable:!0,value:s})}}function c(t,s){t instanceof String&&(t+="");var a=0,l=!1,_={next:function(){if(!l&&a<t.length){var P=a++;return{value:s(P,t[P]),done:!1}}return l=!0,{done:!0,value:void 0}}};return _[Symbol.iterator]=function(){return _},_}o("Array.prototype.values",function(t){return t||function(){return c(this,function(s,a){return a})}});var u=u||{},h=this||self;function C(t){var s=typeof t;return s=s!="object"?s:t?Array.isArray(t)?"array":s:"null",s=="array"||s=="object"&&typeof t.length=="number"}function x(t){var s=typeof t;return s=="object"&&t!=null||s=="function"}function I(t,s,a){return t.call.apply(t.bind,arguments)}function D(t,s,a){if(!t)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var _=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_,l),t.apply(s,_)}}return function(){return t.apply(s,arguments)}}function R(t,s,a){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:D,R.apply(null,arguments)}function $(t,s){var a=Array.prototype.slice.call(arguments,1);return function(){var l=a.slice();return l.push.apply(l,arguments),t.apply(this,l)}}function L(t,s){function a(){}a.prototype=s.prototype,t.aa=s.prototype,t.prototype=new a,t.prototype.constructor=t,t.Qb=function(l,_,P){for(var E=Array(arguments.length-2),J=2;J<arguments.length;J++)E[J-2]=arguments[J];return s.prototype[_].apply(l,E)}}function ct(t){let s=t.length;if(0<s){let a=Array(s);for(let l=0;l<s;l++)a[l]=t[l];return a}return[]}function X(t,s){for(let a=1;a<arguments.length;a++){let l=arguments[a];if(C(l)){let _=t.length||0,P=l.length||0;t.length=_+P;for(let E=0;E<P;E++)t[_+E]=l[E]}else t.push(l)}}class mt{constructor(s,a){this.i=s,this.j=a,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}function Pt(t){return/^[\s\xa0]*$/.test(t)}function Vt(){var t=h.navigator;return t&&(t=t.userAgent)?t:""}function he(t){return he[" "](t),t}he[" "]=function(){};var ui=Vt().indexOf("Gecko")!=-1&&!(Vt().toLowerCase().indexOf("webkit")!=-1&&Vt().indexOf("Edge")==-1)&&!(Vt().indexOf("Trident")!=-1||Vt().indexOf("MSIE")!=-1)&&Vt().indexOf("Edge")==-1;function $t(t,s,a){for(let l in t)s.call(a,t[l],l,t)}function b(t,s){for(let a in t)s.call(void 0,t[a],a,t)}function d(t){let s={};for(let a in t)s[a]=t[a];return s}let p="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g(t,s){let a,l;for(let _=1;_<arguments.length;_++){l=arguments[_];for(a in l)t[a]=l[a];for(let P=0;P<p.length;P++)a=p[P],Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a])}}function f(t){var s=1;t=t.split(":");let a=[];for(;0<s&&t.length;)a.push(t.shift()),s--;return t.length&&a.push(t.join(":")),a}function w(t){h.setTimeout(()=>{throw t},0)}function m(){var t=kr;let s=null;return t.g&&(s=t.g,t.g=t.g.next,t.g||(t.h=null),s.next=null),s}class ee{constructor(){this.h=this.g=null}add(s,a){let l=bn.get();l.set(s,a),this.h?this.h.next=l:this.g=l,this.h=l}}var bn=new mt(()=>new xl,t=>t.reset());class xl{constructor(){this.next=this.g=this.h=null}set(s,a){this.h=s,this.g=a,this.next=null}reset(){this.next=this.g=this.h=null}}let yn,vn=!1,kr=new ee,Wo=()=>{let t=h.Promise.resolve(void 0);yn=()=>{t.then(Ol)}};var Ol=()=>{for(var t;t=m();){try{t.h.call(t.g)}catch(a){w(a)}var s=bn;s.j(t),100>s.h&&(s.h++,t.next=s.g,s.g=t)}vn=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function bt(t,s){this.type=t,this.g=this.target=s,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var El=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var t=!1,s=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let a=()=>{};h.addEventListener("test",a,s),h.removeEventListener("test",a,s)}catch{}return t}();function wn(t,s){if(bt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var a=this.type=t.type,l=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=s,s=t.relatedTarget){if(ui){t:{try{he(s.nodeName);var _=!0;break t}catch{}_=!1}_||(s=null)}}else a=="mouseover"?s=t.fromElement:a=="mouseout"&&(s=t.toElement);this.relatedTarget=s,l?(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Il[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&wn.aa.h.call(this)}}L(wn,bt);var Il={2:"touch",3:"pen",4:"mouse"};wn.prototype.h=function(){wn.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cn="closure_listenable_"+(1e6*Math.random()|0),Tl=0;function Sl(t,s,a,l,_){this.listener=t,this.proxy=null,this.src=s,this.type=a,this.capture=!!l,this.ha=_,this.key=++Tl,this.da=this.fa=!1}function di(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function hi(t){this.src=t,this.g={},this.h=0}hi.prototype.add=function(t,s,a,l,_){var P=t.toString();t=this.g[P],t||(t=this.g[P]=[],this.h++);var E=Rr(t,s,l,_);return-1<E?(s=t[E],a||(s.fa=!1)):(s=new Sl(s,this.src,P,!!l,_),s.fa=a,t.push(s)),s};function Dr(t,s){var a=s.type;if(a in t.g){var l=t.g[a],_=Array.prototype.indexOf.call(l,s,void 0),P;(P=0<=_)&&Array.prototype.splice.call(l,_,1),P&&(di(s),t.g[a].length==0&&(delete t.g[a],t.h--))}}function Rr(t,s,a,l){for(var _=0;_<t.length;++_){var P=t[_];if(!P.da&&P.listener==s&&P.capture==!!a&&P.ha==l)return _}return-1}var Vr="closure_lm_"+(1e6*Math.random()|0),Nr={};function Yo(t,s,a,l,_){if(l&&l.once)return Jo(t,s,a,l,_);if(Array.isArray(s)){for(var P=0;P<s.length;P++)Yo(t,s[P],a,l,_);return null}return a=Br(a),t&&t[Cn]?t.K(s,a,x(l)?!!l.capture:!!l,_):Xo(t,s,a,!1,l,_)}function Xo(t,s,a,l,_,P){if(!s)throw Error("Invalid event type");var E=x(_)?!!_.capture:!!_,J=Lr(t);if(J||(t[Vr]=J=new hi(t)),a=J.add(s,a,l,E,P),a.proxy)return a;if(l=Al(),a.proxy=l,l.src=t,l.listener=a,t.addEventListener)El||(_=E),_===void 0&&(_=!1),t.addEventListener(s.toString(),l,_);else if(t.attachEvent)t.attachEvent(ts(s.toString()),l);else if(t.addListener&&t.removeListener)t.addListener(l);else throw Error("addEventListener and attachEvent are unavailable.");return a}function Al(){function t(a){return s.call(t.src,t.listener,a)}let s=kl;return t}function Jo(t,s,a,l,_){if(Array.isArray(s)){for(var P=0;P<s.length;P++)Jo(t,s[P],a,l,_);return null}return a=Br(a),t&&t[Cn]?t.L(s,a,x(l)?!!l.capture:!!l,_):Xo(t,s,a,!0,l,_)}function Zo(t,s,a,l,_){if(Array.isArray(s))for(var P=0;P<s.length;P++)Zo(t,s[P],a,l,_);else l=x(l)?!!l.capture:!!l,a=Br(a),t&&t[Cn]?(t=t.i,s=String(s).toString(),s in t.g&&(P=t.g[s],a=Rr(P,a,l,_),-1<a&&(di(P[a]),Array.prototype.splice.call(P,a,1),P.length==0&&(delete t.g[s],t.h--)))):t&&(t=Lr(t))&&(s=t.g[s.toString()],t=-1,s&&(t=Rr(s,a,l,_)),(a=-1<t?s[t]:null)&&Fr(a))}function Fr(t){if(typeof t!="number"&&t&&!t.da){var s=t.src;if(s&&s[Cn])Dr(s.i,t);else{var a=t.type,l=t.proxy;s.removeEventListener?s.removeEventListener(a,l,t.capture):s.detachEvent?s.detachEvent(ts(a),l):s.addListener&&s.removeListener&&s.removeListener(l),(a=Lr(s))?(Dr(a,t),a.h==0&&(a.src=null,s[Vr]=null)):di(t)}}}function ts(t){return t in Nr?Nr[t]:Nr[t]="on"+t}function kl(t,s){if(t.da)t=!0;else{s=new wn(s,this);var a=t.listener,l=t.ha||t.src;t.fa&&Fr(t),t=a.call(l,s)}return t}function Lr(t){return t=t[Vr],t instanceof hi?t:null}var Ur="__closure_events_fn_"+(1e9*Math.random()>>>0);function Br(t){return typeof t=="function"?t:(t[Ur]||(t[Ur]=function(s){return t.handleEvent(s)}),t[Ur])}function yt(){me.call(this),this.i=new hi(this),this.M=this,this.F=null}L(yt,me),yt.prototype[Cn]=!0,yt.prototype.removeEventListener=function(t,s,a,l){Zo(this,t,s,a,l)};function Mt(t,s){var a,l=t.F;if(l)for(a=[];l;l=l.F)a.push(l);if(t=t.M,l=s.type||s,typeof s=="string")s=new bt(s,t);else if(s instanceof bt)s.target=s.target||t;else{var _=s;s=new bt(l,t),g(s,_)}if(_=!0,a)for(var P=a.length-1;0<=P;P--){var E=s.g=a[P];_=mi(E,l,!0,s)&&_}if(E=s.g=t,_=mi(E,l,!0,s)&&_,_=mi(E,l,!1,s)&&_,a)for(P=0;P<a.length;P++)E=s.g=a[P],_=mi(E,l,!1,s)&&_}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var t=this.i,s;for(s in t.g){for(var a=t.g[s],l=0;l<a.length;l++)di(a[l]);delete t.g[s],t.h--}}this.F=null},yt.prototype.K=function(t,s,a,l){return this.i.add(String(t),s,!1,a,l)},yt.prototype.L=function(t,s,a,l){return this.i.add(String(t),s,!0,a,l)};function mi(t,s,a,l){if(s=t.i.g[String(s)],!s)return!0;s=s.concat();for(var _=!0,P=0;P<s.length;++P){var E=s[P];if(E&&!E.da&&E.capture==a){var J=E.listener,gt=E.ha||E.src;E.fa&&Dr(t.i,E),_=J.call(gt,l)!==!1&&_}}return _&&!l.defaultPrevented}function es(t,s,a){if(typeof t=="function")a&&(t=R(t,a));else if(t&&typeof t.handleEvent=="function")t=R(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:h.setTimeout(t,s||0)}function ns(t){t.g=es(()=>{t.g=null,t.i&&(t.i=!1,ns(t))},t.l);let s=t.h;t.h=null,t.m.apply(null,s)}class Dl extends me{constructor(s,a){super(),this.m=s,this.l=a,this.h=null,this.i=!1,this.g=null}j(s){this.h=arguments,this.g?this.i=!0:ns(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pn(t){me.call(this),this.h=t,this.g={}}L(Pn,me);var is=[];function rs(t){$t(t.g,function(s,a){this.g.hasOwnProperty(a)&&Fr(s)},t),t.g={}}Pn.prototype.N=function(){Pn.aa.N.call(this),rs(this)},Pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jr=h.JSON.stringify,Rl=h.JSON.parse,Vl=class{stringify(t){return h.JSON.stringify(t,void 0)}parse(t){return h.JSON.parse(t,void 0)}};function zr(){}zr.prototype.h=null;function os(t){return t.h||(t.h=t.i())}function ss(){}var Mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gr(){bt.call(this,"d")}L(Gr,bt);function qr(){bt.call(this,"c")}L(qr,bt);var Ee={},as=null;function pi(){return as=as||new yt}Ee.La="serverreachability";function cs(t){bt.call(this,Ee.La,t)}L(cs,bt);function xn(t){let s=pi();Mt(s,new cs(s))}Ee.STAT_EVENT="statevent";function ls(t,s){bt.call(this,Ee.STAT_EVENT,t),this.stat=s}L(ls,bt);function xt(t){let s=pi();Mt(s,new ls(s,t))}Ee.Ma="timingevent";function us(t,s){bt.call(this,Ee.Ma,t),this.size=s}L(us,bt);function On(t,s){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){t()},s)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function Nl(t,s,a,l,_,P){t.info(function(){if(t.g)if(P)for(var E="",J=P.split("&"),gt=0;gt<J.length;gt++){var G=J[gt].split("=");if(1<G.length){var vt=G[0];G=G[1];var wt=vt.split("_");E=2<=wt.length&&wt[1]=="type"?E+(vt+"="+G+"&"):E+(vt+"=redacted&")}}else E=null;else E=P;return"XMLHTTP REQ ("+l+") [attempt "+_+"]: "+s+`
`+a+`
`+E})}function Fl(t,s,a,l,_,P,E){t.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+_+"]: "+s+`
`+a+`
`+P+" "+E})}function Fe(t,s,a,l){t.info(function(){return"XMLHTTP TEXT ("+s+"): "+Ul(t,a)+(l?" "+l:"")})}function Ll(t,s){t.info(function(){return"TIMEOUT: "+s})}En.prototype.info=function(){};function Ul(t,s){if(!t.g)return s;if(!s)return null;try{var a=JSON.parse(s);if(a){for(t=0;t<a.length;t++)if(Array.isArray(a[t])){var l=a[t];if(!(2>l.length)){var _=l[1];if(Array.isArray(_)&&!(1>_.length)){var P=_[0];if(P!="noop"&&P!="stop"&&P!="close")for(var E=1;E<_.length;E++)_[E]=""}}}}return jr(a)}catch{return s}}var gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ds={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$r;function fi(){}L(fi,zr),fi.prototype.g=function(){return new XMLHttpRequest},fi.prototype.i=function(){return{}},$r=new fi;function pe(t,s,a,l){this.j=t,this.i=s,this.l=a,this.R=l||1,this.U=new Pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hs}function hs(){this.i=null,this.g="",this.h=!1}var ms={},Kr={};function Qr(t,s,a){t.L=1,t.v=vi(ne(s)),t.m=a,t.P=!0,ps(t,null)}function ps(t,s){t.F=Date.now(),_i(t),t.A=ne(t.v);var a=t.A,l=t.R;Array.isArray(l)||(l=[String(l)]),Is(a.i,"t",l),t.C=0,a=t.j.J,t.h=new hs,t.g=Ks(t.j,a?s:null,!t.m),0<t.O&&(t.M=new Dl(R(t.Y,t,t.g),t.O)),s=t.U,a=t.g,l=t.ca;var _="readystatechange";Array.isArray(_)||(_&&(is[0]=_.toString()),_=is);for(var P=0;P<_.length;P++){var E=Yo(a,_[P],l||s.handleEvent,!1,s.h||s);if(!E)break;s.g[E.key]=E}s=t.H?d(t.H):{},t.m?(t.u||(t.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,s)):(t.u="GET",t.g.ea(t.A,t.u,null,s)),xn(),Nl(t.i,t.u,t.A,t.l,t.R,t.m)}pe.prototype.ca=function(t){t=t.target;let s=this.M;s&&ie(t)==3?s.j():this.Y(t)},pe.prototype.Y=function(t){try{if(t==this.g)t:{let wt=ie(this.g);var s=this.g.Ba();let Be=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Vs(this.g)))){this.J||wt!=4||s==7||(s==8||0>=Be?xn(3):xn(2)),Hr(this);var a=this.g.Z();this.X=a;e:if(gs(this)){var l=Vs(this.g);t="";var _=l.length,P=ie(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ie(this),In(this);var E="";break e}this.h.i=new h.TextDecoder}for(s=0;s<_;s++)this.h.h=!0,t+=this.h.i.decode(l[s],{stream:!(P&&s==_-1)});l.length=0,this.h.g+=t,this.C=0,E=this.h.g}else E=this.g.oa();if(this.o=a==200,Fl(this.i,this.u,this.A,this.l,this.R,wt,a),this.o){if(this.T&&!this.K){e:{if(this.g){var J,gt=this.g;if((J=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pt(J)){var G=J;break e}}G=null}if(a=G)Fe(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wr(this,a);else{this.o=!1,this.s=3,xt(12),Ie(this),In(this);break t}}if(this.P){a=!0;let Bt;for(;!this.J&&this.C<E.length;)if(Bt=Bl(this,E),Bt==Kr){wt==4&&(this.s=4,xt(14),a=!1),Fe(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==ms){this.s=4,xt(15),Fe(this.i,this.l,E,"[Invalid Chunk]"),a=!1;break}else Fe(this.i,this.l,Bt,null),Wr(this,Bt);if(gs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||E.length!=0||this.h.h||(this.s=1,xt(16),a=!1),this.o=this.o&&a,!a)Fe(this.i,this.l,E,"[Invalid Chunked Response]"),Ie(this),In(this);else if(0<E.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),eo(vt),vt.M=!0,xt(11))}}else Fe(this.i,this.l,E,null),Wr(this,E);wt==4&&Ie(this),this.o&&!this.J&&(wt==4?zs(this.j,this):(this.o=!1,_i(this)))}else iu(this.g),a==400&&0<E.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Ie(this),In(this)}}}catch{}finally{}};function gs(t){return t.g?t.u=="GET"&&t.L!=2&&t.j.Ca:!1}function Bl(t,s){var a=t.C,l=s.indexOf(`
`,a);return l==-1?Kr:(a=Number(s.substring(a,l)),isNaN(a)?ms:(l+=1,l+a>s.length?Kr:(s=s.slice(l,l+a),t.C=l+a,s)))}pe.prototype.cancel=function(){this.J=!0,Ie(this)};function _i(t){t.S=Date.now()+t.I,fs(t,t.I)}function fs(t,s){if(t.B!=null)throw Error("WatchDog timer not null");t.B=On(R(t.ba,t),s)}function Hr(t){t.B&&(h.clearTimeout(t.B),t.B=null)}pe.prototype.ba=function(){this.B=null;let t=Date.now();0<=t-this.S?(Ll(this.i,this.A),this.L!=2&&(xn(),xt(17)),Ie(this),this.s=2,In(this)):fs(this,this.S-t)};function In(t){t.j.G==0||t.J||zs(t.j,t)}function Ie(t){Hr(t);var s=t.M;s&&typeof s.ma=="function"&&s.ma(),t.M=null,rs(t.U),t.g&&(s=t.g,t.g=null,s.abort(),s.ma())}function Wr(t,s){try{var a=t.j;if(a.G!=0&&(a.g==t||Yr(a.h,t))){if(!t.K&&Yr(a.h,t)&&a.G==3){try{var l=a.Da.g.parse(s)}catch{l=null}if(Array.isArray(l)&&l.length==3){var _=l;if(_[0]==0){t:if(!a.u){if(a.g)if(a.g.F+3e3<t.F)xi(a),Pi(a);else break t;to(a),xt(18)}}else a.za=_[1],0<a.za-a.T&&37500>_[2]&&a.F&&a.v==0&&!a.C&&(a.C=On(R(a.Za,a),6e3));if(1>=ys(a.h)&&a.ca){try{a.ca()}catch{}a.ca=void 0}}else Se(a,11)}else if((t.K||a.g==t)&&xi(a),!Pt(s))for(_=a.Da.g.parse(s),s=0;s<_.length;s++){let G=_[s];if(a.T=G[0],G=G[1],a.G==2)if(G[0]=="c"){a.K=G[1],a.ia=G[2];let vt=G[3];vt!=null&&(a.la=vt,a.j.info("VER="+a.la));let wt=G[4];wt!=null&&(a.Aa=wt,a.j.info("SVER="+a.Aa));let Be=G[5];Be!=null&&typeof Be=="number"&&0<Be&&(l=1.5*Be,a.L=l,a.j.info("backChannelRequestTimeoutMs_="+l)),l=a;let Bt=t.g;if(Bt){let Ei=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ei){var P=l.h;P.g||Ei.indexOf("spdy")==-1&&Ei.indexOf("quic")==-1&&Ei.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Xr(P,P.h),P.h=null))}if(l.D){let no=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;no&&(l.ya=no,it(l.I,l.D,no))}}a.G=3,a.l&&a.l.ua(),a.ba&&(a.R=Date.now()-t.F,a.j.info("Handshake RTT: "+a.R+"ms")),l=a;var E=t;if(l.qa=$s(l,l.J?l.ia:null,l.W),E.K){vs(l.h,E);var J=E,gt=l.L;gt&&(J.I=gt),J.B&&(Hr(J),_i(J)),l.g=E}else Bs(l);0<a.i.length&&Mi(a)}else G[0]!="stop"&&G[0]!="close"||Se(a,7);else a.G==3&&(G[0]=="stop"||G[0]=="close"?G[0]=="stop"?Se(a,7):Zr(a):G[0]!="noop"&&a.l&&a.l.ta(G),a.v=0)}}xn(4)}catch{}}var jl=class{constructor(t,s){this.g=t,this.map=s}};function _s(t){this.l=t||10,h.PerformanceNavigationTiming?(t=h.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bs(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ys(t){return t.h?1:t.g?t.g.size:0}function Yr(t,s){return t.h?t.h==s:t.g?t.g.has(s):!1}function Xr(t,s){t.g?t.g.add(s):t.h=s}function vs(t,s){t.h&&t.h==s?t.h=null:t.g&&t.g.has(s)&&t.g.delete(s)}_s.prototype.cancel=function(){if(this.i=ws(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function ws(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let s=t.i;for(let a of t.g.values())s=s.concat(a.D);return s}return ct(t.i)}function zl(t){if(t.V&&typeof t.V=="function")return t.V();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(C(t)){for(var s=[],a=t.length,l=0;l<a;l++)s.push(t[l]);return s}s=[],a=0;for(l in t)s[a++]=t[l];return s}function Gl(t){if(t.na&&typeof t.na=="function")return t.na();if(!t.V||typeof t.V!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(C(t)||typeof t=="string"){var s=[];t=t.length;for(var a=0;a<t;a++)s.push(a);return s}s=[],a=0;for(let l in t)s[a++]=l;return s}}}function Cs(t,s){if(t.forEach&&typeof t.forEach=="function")t.forEach(s,void 0);else if(C(t)||typeof t=="string")Array.prototype.forEach.call(t,s,void 0);else for(var a=Gl(t),l=zl(t),_=l.length,P=0;P<_;P++)s.call(void 0,l[P],a&&a[P],t)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ql(t,s){if(t){t=t.split("&");for(var a=0;a<t.length;a++){var l=t[a].indexOf("="),_=null;if(0<=l){var P=t[a].substring(0,l);_=t[a].substring(l+1)}else P=t[a];s(P,_?decodeURIComponent(_.replace(/\+/g," ")):"")}}}function Te(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof Te){this.h=t.h,bi(this,t.j),this.o=t.o,this.g=t.g,yi(this,t.s),this.l=t.l;var s=t.i,a=new An;a.i=s.i,s.g&&(a.g=new Map(s.g),a.h=s.h),Ms(this,a),this.m=t.m}else t&&(s=String(t).match(Ps))?(this.h=!1,bi(this,s[1]||"",!0),this.o=Tn(s[2]||""),this.g=Tn(s[3]||"",!0),yi(this,s[4]),this.l=Tn(s[5]||"",!0),Ms(this,s[6]||"",!0),this.m=Tn(s[7]||"")):(this.h=!1,this.i=new An(null,this.h))}Te.prototype.toString=function(){var t=[],s=this.j;s&&t.push(Sn(s,xs,!0),":");var a=this.g;return(a||s=="file")&&(t.push("//"),(s=this.o)&&t.push(Sn(s,xs,!0),"@"),t.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a=this.s,a!=null&&t.push(":",String(a))),(a=this.l)&&(this.g&&a.charAt(0)!="/"&&t.push("/"),t.push(Sn(a,a.charAt(0)=="/"?Ql:Kl,!0))),(a=this.i.toString())&&t.push("?",a),(a=this.m)&&t.push("#",Sn(a,Wl)),t.join("")};function ne(t){return new Te(t)}function bi(t,s,a){t.j=a?Tn(s,!0):s,t.j&&(t.j=t.j.replace(/:$/,""))}function yi(t,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);t.s=s}else t.s=null}function Ms(t,s,a){s instanceof An?(t.i=s,Yl(t.i,t.h)):(a||(s=Sn(s,Hl)),t.i=new An(s,t.h))}function it(t,s,a){t.i.set(s,a)}function vi(t){return it(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Tn(t,s){return t?s?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Sn(t,s,a){return typeof t=="string"?(t=encodeURI(t).replace(s,$l),a&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $l(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var xs=/[#\/\?@]/g,Kl=/[#\?:]/g,Ql=/[#\?]/g,Hl=/[#\?@]/g,Wl=/#/g;function An(t,s){this.h=this.g=null,this.i=t||null,this.j=!!s}function ge(t){t.g||(t.g=new Map,t.h=0,t.i&&ql(t.i,function(s,a){t.add(decodeURIComponent(s.replace(/\+/g," ")),a)}))}n=An.prototype,n.add=function(t,s){ge(this),this.i=null,t=Le(this,t);var a=this.g.get(t);return a||this.g.set(t,a=[]),a.push(s),this.h+=1,this};function Os(t,s){ge(t),s=Le(t,s),t.g.has(s)&&(t.i=null,t.h-=t.g.get(s).length,t.g.delete(s))}function Es(t,s){return ge(t),s=Le(t,s),t.g.has(s)}n.forEach=function(t,s){ge(this),this.g.forEach(function(a,l){a.forEach(function(_){t.call(s,_,l,this)},this)},this)},n.na=function(){ge(this);let t=Array.from(this.g.values()),s=Array.from(this.g.keys()),a=[];for(let l=0;l<s.length;l++){let _=t[l];for(let P=0;P<_.length;P++)a.push(s[l])}return a},n.V=function(t){ge(this);let s=[];if(typeof t=="string")Es(this,t)&&(s=s.concat(this.g.get(Le(this,t))));else{t=Array.from(this.g.values());for(let a=0;a<t.length;a++)s=s.concat(t[a])}return s},n.set=function(t,s){return ge(this),this.i=null,t=Le(this,t),Es(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[s]),this.h+=1,this},n.get=function(t,s){return t?(t=this.V(t),0<t.length?String(t[0]):s):s};function Is(t,s,a){Os(t,s),0<a.length&&(t.i=null,t.g.set(Le(t,s),ct(a)),t.h+=a.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],s=Array.from(this.g.keys());for(var a=0;a<s.length;a++){var l=s[a];let P=encodeURIComponent(String(l)),E=this.V(l);for(l=0;l<E.length;l++){var _=P;E[l]!==""&&(_+="="+encodeURIComponent(String(E[l]))),t.push(_)}}return this.i=t.join("&")};function Le(t,s){return s=String(s),t.j&&(s=s.toLowerCase()),s}function Yl(t,s){s&&!t.j&&(ge(t),t.i=null,t.g.forEach(function(a,l){var _=l.toLowerCase();l!=_&&(Os(this,l),Is(this,_,a))},t)),t.j=s}function Xl(t,s){let a=new En;if(h.Image){let l=new Image;l.onload=$(fe,a,"TestLoadImage: loaded",!0,s,l),l.onerror=$(fe,a,"TestLoadImage: error",!1,s,l),l.onabort=$(fe,a,"TestLoadImage: abort",!1,s,l),l.ontimeout=$(fe,a,"TestLoadImage: timeout",!1,s,l),h.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=t}else s(!1)}function Jl(t,s){let a=new En,l=new AbortController,_=setTimeout(()=>{l.abort(),fe(a,"TestPingServer: timeout",!1,s)},1e4);fetch(t,{signal:l.signal}).then(P=>{clearTimeout(_),P.ok?fe(a,"TestPingServer: ok",!0,s):fe(a,"TestPingServer: server error",!1,s)}).catch(()=>{clearTimeout(_),fe(a,"TestPingServer: error",!1,s)})}function fe(t,s,a,l,_){try{_&&(_.onload=null,_.onerror=null,_.onabort=null,_.ontimeout=null),l(a)}catch{}}function Zl(){this.g=new Vl}function tu(t,s,a){let l=a||"";try{Cs(t,function(_,P){let E=_;x(_)&&(E=jr(_)),s.push(l+P+"="+encodeURIComponent(E))})}catch(_){throw s.push(l+"type="+encodeURIComponent("_badmap")),_}}function kn(t){this.l=t.Ub||null,this.j=t.eb||!1}L(kn,zr),kn.prototype.g=function(){return new wi(this.l,this.j)},kn.prototype.i=function(t){return function(){return t}}({});function wi(t,s){yt.call(this),this.D=t,this.o=s,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(wi,yt),n=wi.prototype,n.open=function(t,s){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=s,this.readyState=1,Rn(this)},n.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let s={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(s.body=t),(this.D||h).fetch(new Request(this.A,s)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dn(this)),this.readyState=0},n.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Rn(this)),this.g&&(this.readyState=3,Rn(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ts(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ts(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}n.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var s=t.value?t.value:new Uint8Array(0);(s=this.v.decode(s,{stream:!t.done}))&&(this.response=this.responseText+=s)}t.done?Dn(this):Rn(this),this.readyState==3&&Ts(this)}},n.Ra=function(t){this.g&&(this.response=this.responseText=t,Dn(this))},n.Qa=function(t){this.g&&(this.response=t,Dn(this))},n.ga=function(){this.g&&Dn(this)};function Dn(t){t.readyState=4,t.l=null,t.j=null,t.v=null,Rn(t)}n.setRequestHeader=function(t,s){this.u.append(t,s)},n.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],s=this.h.entries();for(var a=s.next();!a.done;)a=a.value,t.push(a[0]+": "+a[1]),a=s.next();return t.join(`\r
`)};function Rn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});function Ss(t){let s="";return $t(t,function(a,l){s+=l,s+=":",s+=a,s+=`\r
`}),s}function Jr(t,s,a){t:{for(l in a){var l=!1;break t}l=!0}l||(a=Ss(a),typeof t=="string"?a!=null&&encodeURIComponent(String(a)):it(t,s,a))}function st(t){yt.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(st,yt);var eu=/^https?$/i,nu=["POST","PUT"];n=st.prototype,n.Ha=function(t){this.J=t},n.ea=function(t,s,a,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);s=s?s.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$r.g(),this.v=this.o?os(this.o):os($r),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(s,String(t),!0),this.B=!1}catch(P){As(this,P);return}if(t=a||"",a=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var _ in l)a.set(_,l[_]);else if(typeof l.keys=="function"&&typeof l.get=="function")for(let P of l.keys())a.set(P,l.get(P));else throw Error("Unknown input type for opt_headers: "+String(l));l=Array.from(a.keys()).find(P=>P.toLowerCase()=="content-type"),_=h.FormData&&t instanceof h.FormData,!(0<=Array.prototype.indexOf.call(nu,s,void 0))||l||_||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,E]of a)this.g.setRequestHeader(P,E);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rs(this),this.u=!0,this.g.send(t),this.u=!1}catch(P){As(this,P)}};function As(t,s){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=s,t.m=5,ks(t),Ci(t)}function ks(t){t.A||(t.A=!0,Mt(t,"complete"),Mt(t,"error"))}n.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,Mt(this,"complete"),Mt(this,"abort"),Ci(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ds(this):this.bb())},n.bb=function(){Ds(this)};function Ds(t){if(t.h&&typeof u<"u"&&(!t.v[1]||ie(t)!=4||t.Z()!=2)){if(t.u&&ie(t)==4)es(t.Ea,0,t);else if(Mt(t,"readystatechange"),ie(t)==4){t.h=!1;try{let E=t.Z();t:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}var a;if(!(a=s)){var l;if(l=E===0){var _=String(t.D).match(Ps)[1]||null;!_&&h.self&&h.self.location&&(_=h.self.location.protocol.slice(0,-1)),l=!eu.test(_?_.toLowerCase():"")}a=l}if(a)Mt(t,"complete"),Mt(t,"success");else{t.m=6;try{var P=2<ie(t)?t.g.statusText:""}catch{P=""}t.l=P+" ["+t.Z()+"]",ks(t)}}finally{Ci(t)}}}}function Ci(t,s){if(t.g){Rs(t);let a=t.g,l=t.v[0]?()=>{}:null;t.g=null,t.v=null,s||Mt(t,"ready");try{a.onreadystatechange=l}catch{}}}function Rs(t){t.I&&(h.clearTimeout(t.I),t.I=null)}n.isActive=function(){return!!this.g};function ie(t){return t.g?t.g.readyState:0}n.Z=function(){try{return 2<ie(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(t){if(this.g){var s=this.g.responseText;return t&&s.indexOf(t)==0&&(s=s.substring(t.length)),Rl(s)}};function Vs(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function iu(t){let s={};t=(t.g&&2<=ie(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let l=0;l<t.length;l++){if(Pt(t[l]))continue;var a=f(t[l]);let _=a[0];if(a=a[1],typeof a!="string")continue;a=a.trim();let P=s[_]||[];s[_]=P,P.push(a)}b(s,function(l){return l.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vn(t,s,a){return a&&a.internalChannelParams&&a.internalChannelParams[t]||s}function Ns(t){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vn("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vn("baseRetryDelayMs",5e3,t),this.cb=Vn("retryDelaySeedMs",1e4,t),this.Wa=Vn("forwardChannelMaxRetries",2,t),this.wa=Vn("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new _s(t&&t.concurrentRequestLimit),this.Da=new Zl,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ns.prototype,n.la=8,n.G=1,n.connect=function(t,s,a,l){xt(0),this.W=t,this.H=s||{},a&&l!==void 0&&(this.H.OSID=a,this.H.OAID=l),this.F=this.X,this.I=$s(this,null,this.W),Mi(this)};function Zr(t){if(Fs(t),t.G==3){var s=t.U++,a=ne(t.I);if(it(a,"SID",t.K),it(a,"RID",s),it(a,"TYPE","terminate"),Nn(t,a),s=new pe(t,t.j,s),s.L=2,s.v=vi(ne(a)),a=!1,h.navigator&&h.navigator.sendBeacon)try{a=h.navigator.sendBeacon(s.v.toString(),"")}catch{}!a&&h.Image&&(new Image().src=s.v,a=!0),a||(s.g=Ks(s.j,null),s.g.ea(s.v)),s.F=Date.now(),_i(s)}qs(t)}function Pi(t){t.g&&(eo(t),t.g.cancel(),t.g=null)}function Fs(t){Pi(t),t.u&&(h.clearTimeout(t.u),t.u=null),xi(t),t.h.cancel(),t.s&&(typeof t.s=="number"&&h.clearTimeout(t.s),t.s=null)}function Mi(t){if(!bs(t.h)&&!t.s){t.s=!0;var s=t.Ga;yn||Wo(),vn||(yn(),vn=!0),kr.add(s,t),t.B=0}}function ru(t,s){return ys(t.h)>=t.h.j-(t.s?1:0)?!1:t.s?(t.i=s.D.concat(t.i),!0):t.G==1||t.G==2||t.B>=(t.Va?0:t.Wa)?!1:(t.s=On(R(t.Ga,t,s),Gs(t,t.B)),t.B++,!0)}n.Ga=function(t){if(this.s)if(this.s=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;let _=new pe(this,this.j,t),P=this.o;if(this.S&&(P?(P=d(P),g(P,this.S)):P=this.S),this.m!==null||this.O||(_.H=P,P=null),this.P)t:{for(var s=0,a=0;a<this.i.length;a++){e:{var l=this.i[a];if("__data__"in l.map&&(l=l.map.__data__,typeof l=="string")){l=l.length;break e}l=void 0}if(l===void 0)break;if(s+=l,4096<s){s=a;break t}if(s===4096||a===this.i.length-1){s=a+1;break t}}s=1e3}else s=1e3;s=Us(this,_,s),a=ne(this.I),it(a,"RID",t),it(a,"CVER",22),this.D&&it(a,"X-HTTP-Session-Id",this.D),Nn(this,a),P&&(this.O?s="headers="+encodeURIComponent(String(Ss(P)))+"&"+s:this.m&&Jr(a,this.m,P)),Xr(this.h,_),this.Ua&&it(a,"TYPE","init"),this.P?(it(a,"$req",s),it(a,"SID","null"),_.T=!0,Qr(_,a,null)):Qr(_,a,s),this.G=2}}else this.G==3&&(t?Ls(this,t):this.i.length==0||bs(this.h)||Ls(this))};function Ls(t,s){var a;s?a=s.l:a=t.U++;let l=ne(t.I);it(l,"SID",t.K),it(l,"RID",a),it(l,"AID",t.T),Nn(t,l),t.m&&t.o&&Jr(l,t.m,t.o),a=new pe(t,t.j,a,t.B+1),t.m===null&&(a.H=t.o),s&&(t.i=s.D.concat(t.i)),s=Us(t,a,1e3),a.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),Xr(t.h,a),Qr(a,l,s)}function Nn(t,s){t.H&&$t(t.H,function(a,l){it(s,l,a)}),t.l&&Cs({},function(a,l){it(s,l,a)})}function Us(t,s,a){a=Math.min(t.i.length,a);var l=t.l?R(t.l.Na,t.l,t):null;t:{var _=t.i;let P=-1;for(;;){let E=["count="+a];P==-1?0<a?(P=_[0].g,E.push("ofs="+P)):P=0:E.push("ofs="+P);let J=!0;for(let gt=0;gt<a;gt++){let G=_[gt].g,vt=_[gt].map;if(G-=P,0>G)P=Math.max(0,_[gt].g-100),J=!1;else try{tu(vt,E,"req"+G+"_")}catch{l&&l(vt)}}if(J){l=E.join("&");break t}}}return t=t.i.splice(0,a),s.D=t,l}function Bs(t){if(!t.g&&!t.u){t.Y=1;var s=t.Fa;yn||Wo(),vn||(yn(),vn=!0),kr.add(s,t),t.v=0}}function to(t){return t.g||t.u||3<=t.v?!1:(t.Y++,t.u=On(R(t.Fa,t),Gs(t,t.v)),t.v++,!0)}n.Fa=function(){if(this.u=null,js(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=On(R(this.ab,this),t)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),Pi(this),js(this))};function eo(t){t.A!=null&&(h.clearTimeout(t.A),t.A=null)}function js(t){t.g=new pe(t,t.j,"rpc",t.Y),t.m===null&&(t.g.H=t.o),t.g.O=0;var s=ne(t.qa);it(s,"RID","rpc"),it(s,"SID",t.K),it(s,"AID",t.T),it(s,"CI",t.F?"0":"1"),!t.F&&t.ja&&it(s,"TO",t.ja),it(s,"TYPE","xmlhttp"),Nn(t,s),t.m&&t.o&&Jr(s,t.m,t.o),t.L&&(t.g.I=t.L);var a=t.g;t=t.ia,a.L=1,a.v=vi(ne(s)),a.m=null,a.P=!0,ps(a,t)}n.Za=function(){this.C!=null&&(this.C=null,Pi(this),to(this),xt(19))};function xi(t){t.C!=null&&(h.clearTimeout(t.C),t.C=null)}function zs(t,s){var a=null;if(t.g==s){xi(t),eo(t),t.g=null;var l=2}else if(Yr(t.h,s))a=s.D,vs(t.h,s),l=1;else return;if(t.G!=0){if(s.o)if(l==1){a=s.m?s.m.length:0,s=Date.now()-s.F;var _=t.B;l=pi(),Mt(l,new us(l,a)),Mi(t)}else Bs(t);else if(_=s.s,_==3||_==0&&0<s.X||!(l==1&&ru(t,s)||l==2&&to(t)))switch(a&&0<a.length&&(s=t.h,s.i=s.i.concat(a)),_){case 1:Se(t,5);break;case 4:Se(t,10);break;case 3:Se(t,6);break;default:Se(t,2)}}}function Gs(t,s){let a=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(a*=2),a*s}function Se(t,s){if(t.j.info("Error code "+s),s==2){var a=R(t.fb,t),l=t.Xa;let _=!l;l=new Te(l||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||bi(l,"https"),vi(l),_?Xl(l.toString(),a):Jl(l.toString(),a)}else xt(2);t.G=0,t.l&&t.l.sa(s),qs(t),Fs(t)}n.fb=function(t){t?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function qs(t){if(t.G=0,t.ka=[],t.l){let s=ws(t.h);(s.length!=0||t.i.length!=0)&&(X(t.ka,s),X(t.ka,t.i),t.h.i.length=0,ct(t.i),t.i.length=0),t.l.ra()}}function $s(t,s,a){var l=a instanceof Te?ne(a):new Te(a);if(l.g!="")s&&(l.g=s+"."+l.g),yi(l,l.s);else{var _=h.location;l=_.protocol,s=s?s+"."+_.hostname:_.hostname,_=+_.port;var P=new Te(null);l&&bi(P,l),s&&(P.g=s),_&&yi(P,_),a&&(P.l=a),l=P}return a=t.D,s=t.ya,a&&s&&it(l,a,s),it(l,"VER",t.la),Nn(t,l),l}function Ks(t,s,a){if(s&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return s=t.Ca&&!t.pa?new st(new kn({eb:a})):new st(t.pa),s.Ha(t.J),s}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qs(){}n=Qs.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Oi(){}Oi.prototype.g=function(t,s){return new Dt(t,s)};function Dt(t,s){yt.call(this),this.g=new Ns(s),this.l=t,this.h=s&&s.messageUrlParams||null,t=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(t?t["X-WebChannel-Content-Type"]=s.messageContentType:t={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.va&&(t?t["X-WebChannel-Client-Profile"]=s.va:t={"X-WebChannel-Client-Profile":s.va}),this.g.S=t,(t=s&&s.Sb)&&!Pt(t)&&(this.g.m=t),this.v=s&&s.supportsCrossDomainXhr||!1,this.u=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!Pt(s)&&(this.g.D=s,t=this.h,t!==null&&s in t&&(t=this.h,s in t&&delete t[s])),this.j=new Ue(this)}L(Dt,yt),Dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dt.prototype.close=function(){Zr(this.g)},Dt.prototype.o=function(t){var s=this.g;if(typeof t=="string"){var a={};a.__data__=t,t=a}else this.u&&(a={},a.__data__=jr(t),t=a);s.i.push(new jl(s.Ya++,t)),s.G==3&&Mi(s)},Dt.prototype.N=function(){this.g.l=null,delete this.j,Zr(this.g),delete this.g,Dt.aa.N.call(this)};function Hs(t){Gr.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var s=t.__sm__;if(s){t:{for(let a in s){t=a;break t}t=void 0}(this.i=t)&&(t=this.i,s=s!==null&&t in s?s[t]:void 0),this.data=s}else this.data=t}L(Hs,Gr);function Ws(){qr.call(this),this.status=1}L(Ws,qr);function Ue(t){this.g=t}L(Ue,Qs),Ue.prototype.ua=function(){Mt(this.g,"a")},Ue.prototype.ta=function(t){Mt(this.g,new Hs(t))},Ue.prototype.sa=function(t){Mt(this.g,new Ws)},Ue.prototype.ra=function(){Mt(this.g,"b")},Oi.prototype.createWebChannel=Oi.prototype.g,Dt.prototype.send=Dt.prototype.o,Dt.prototype.open=Dt.prototype.m,Dt.prototype.close=Dt.prototype.close,Uc=le.createWebChannelTransport=function(){return new Oi},Lc=le.getStatEventTarget=function(){return pi()},Fc=le.Event=Ee,Nc=le.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,Vc=le.ErrorCode=gi,ds.COMPLETE="complete",Rc=le.EventType=ds,ss.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Dc=le.WebChannel=ss,xh=le.FetchXmlHttpFactory=kn,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,kc=le.XhrIo=st}).apply(typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{});var Bc="@firebase/firestore",jc="4.8.0";var Et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");var Sr="11.10.0";var vr=new Xe("@firebase/firestore");function qt(n,...e){if(vr.logLevel<=tt.DEBUG){let r=e.map(nl);vr.debug(`Firestore (${Sr}): ${n}`,...r)}}function el(n,...e){if(vr.logLevel<=tt.ERROR){let r=e.map(nl);vr.error(`Firestore (${Sr}): ${n}`,...r)}}function nl(n){if(typeof n=="string")return n;try{return function(r){return JSON.stringify(r)}(n)}catch{return n}}function Rt(n,e,r){let i="Unexpected state";typeof e=="string"?i=e:r=e,il(n,i,r)}function il(n,e,r){let i=`FIRESTORE (${Sr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(r!==void 0)try{i+=" CONTEXT: "+JSON.stringify(r)}catch{i+=" CONTEXT: "+r}throw el(i),new Error(i)}function Re(n,e,r,i){let o="Unexpected state";typeof r=="string"?o=r:i=r,n||il(e,o,i)}var Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends ae{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ve=class{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}};var So=class{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ao=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Et.UNAUTHENTICATED))}shutdown(){}};var ko=class{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Re(this.o===void 0,42304);let i=this.i,o=C=>this.i!==i?(i=this.i,r(C)):Promise.resolve(),c=new Ve;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ve,e.enqueueRetryable(()=>o(this.currentUser))};let u=()=>{let C=c;e.enqueueRetryable(()=>q(this,null,function*(){yield C.promise,yield o(this.currentUser)}))},h=C=>{qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(C=>h(C)),setTimeout(()=>{if(!this.auth){let C=this.t.getImmediate({optional:!0});C?h(C):(qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ve)}},0),u()}getToken(){let e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(i=>this.i!==e?(qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Re(typeof i.accessToken=="string",31837,{l:i}),new So(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new Et(e)}},Do=class{constructor(e,r,i){this.P=e,this.T=r,this.I=i,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Ro=class{constructor(e,r,i){this.P=e,this.T=r,this.I=i}getToken(){return Promise.resolve(new Do(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},wr=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Vo=class{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Re(this.o===void 0,3512);let i=c=>{c.error!=null&&qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);let u=c.token!==this.m;return this.m=c.token,qt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};let o=c=>{qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){let c=this.V.getImmediate({optional:!0});c?o(c):qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wr(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Re(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new wr(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Oh(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let i=0;i<n;i++)r[i]=Math.floor(256*Math.random());return r}function Eh(){return new TextEncoder}var No=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516),i="";for(;i.length<20;){let o=Oh(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<r&&(i+=e.charAt(o[c]%62))}return i}};function Ut(n,e){return n<e?-1:n>e?1:0}function Ih(n,e){let r=0;for(;r<n.length&&r<e.length;){let i=n.codePointAt(r),o=e.codePointAt(r);if(i!==o){if(i<128&&o<128)return Ut(i,o);{let c=Eh(),u=Th(c.encode(zc(n,r)),c.encode(zc(e,r)));return u!==0?u:Ut(i,o)}}r+=i>65535?2:1}return Ut(n.length,e.length)}function zc(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Th(n,e){for(let r=0;r<n.length&&r<e.length;++r)if(n[r]!==e[r])return Ut(n[r],e[r]);return Ut(n.length,e.length)}var Gc="__name__",Cr=class n{constructor(e,r,i){r===void 0?r=0:r>e.length&&Rt(637,{offset:r,range:e.length}),i===void 0?i=e.length-r:i>e.length-r&&Rt(1746,{length:i,range:e.length-r}),this.segments=e,this.offset=r,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let r=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{r.push(i)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,i=this.limit();r<i;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){let i=Math.min(e.length,r.length);for(let o=0;o<i;o++){let c=n.compareSegments(e.get(o),r.get(o));if(c!==0)return c}return Ut(e.length,r.length)}static compareSegments(e,r){let i=n.isNumericId(e),o=n.isNumericId(r);return i&&!o?-1:!i&&o?1:i&&o?n.extractNumericId(e).compare(n.extractNumericId(r)):Ih(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}},ue=class n extends Cr{construct(e,r,i){return new n(e,r,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let r=[];for(let i of e){if(i.indexOf("//")>=0)throw new z(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);r.push(...i.split("/").filter(o=>o.length>0))}return new n(r)}static emptyPath(){return new n([])}},Sh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fo=class n extends Cr{construct(e,r,i){return new n(e,r,i)}static isValidIdentifier(e){return Sh.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gc}static keyField(){return new n([Gc])}static fromServerFormat(e){let r=[],i="",o=0,c=()=>{if(i.length===0)throw new z(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(i),i=""},u=!1;for(;o<e.length;){let h=e[o];if(h==="\\"){if(o+1===e.length)throw new z(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let C=e[o+1];if(C!=="\\"&&C!=="."&&C!=="`")throw new z(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=C,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(i+=h,o++):(c(),o++)}if(c(),u)throw new z(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(r)}static emptyPath(){return new n([])}};var de=class n{constructor(e){this.path=e}static fromPath(e){return new n(ue.fromString(e))}static fromName(e){return new n(ue.fromString(e).popFirst(5))}static empty(){return new n(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return ue.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ue(e.slice()))}};function Ah(n,e,r,i){if(e===!0&&i===!0)throw new z(Q.INVALID_ARGUMENT,`${n} and ${r} cannot be used together.`)}function kh(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ht(n,e){let r={typeString:n};return e&&(r.value=e),r}function li(n,e){if(!kh(n))throw new z(Q.INVALID_ARGUMENT,"JSON must be an object");let r;for(let i in e)if(e[i]){let o=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){r=`JSON missing required field: '${i}'`;break}let u=n[i];if(o&&typeof u!==o){r=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){r=`Expected '${i}' field to equal '${c.value}'`;break}}if(r)throw new z(Q.INVALID_ARGUMENT,r);return!0}var qc=-62135596800,$c=1e6,It=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let r=Math.floor(e/1e3),i=Math.floor((e-1e3*r)*$c);return new n(r,i)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new z(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new z(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<qc)throw new z(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$c}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(li(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-qc;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:ht("string",It._jsonSchemaVersion),seconds:ht("number"),nanoseconds:ht("number")};var Lo=class{constructor(e,r,i,o){this.indexId=e,this.collectionGroup=r,this.fields=i,this.indexState=o}};Lo.UNKNOWN_ID=-1;function Dh(n){return n.name==="IndexedDbTransactionError"}function Rh(n){return n===0&&1/n==-1/0}var Vh="remoteDocuments",rl="owner";var ol="mutationQueues";var sl="mutations";var al="documentMutations",Nh="remoteDocumentsV14";var cl="remoteDocumentGlobal";var ll="targets";var ul="targetDocuments";var dl="targetGlobal",hl="collectionParents";var ml="clientMetadata";var pl="bundles";var gl="namedQueries";var Fh="indexConfiguration";var Lh="indexState";var Uh="indexEntries";var fl="documentOverlays";var Bh="globals";var jh=[ol,sl,al,Vh,ll,rl,dl,ul,ml,cl,hl,pl,gl],uf=[...jh,fl],zh=[ol,sl,al,Nh,ll,rl,dl,ul,ml,cl,hl,pl,gl,fl],Gh=zh,qh=[...Gh,Fh,Lh,Uh];var df=[...qh,Bh];var _n=class n{constructor(e,r){this.comparator=e,this.root=r||te.EMPTY}insert(e,r){return new n(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,te.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,te.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}indexOf(e){let r=0,i=this.root;for(;!i.isEmpty();){let o=this.comparator(e,i.key);if(o===0)return r+i.left.size;o<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,i)=>(e(r,i),!1))}toString(){let e=[];return this.inorderTraversal((r,i)=>(e.push(`${r}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mn(this.root,e,this.comparator,!1)}getReverseIterator(){return new mn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mn(this.root,e,this.comparator,!0)}},mn=class{constructor(e,r,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?i(e.key,r):1,r&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},te=class n{constructor(e,r,i,o,c){this.key=e,this.value=r,this.color=i!=null?i:n.RED,this.left=o!=null?o:n.EMPTY,this.right=c!=null?c:n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,i,o,c){return new n(e!=null?e:this.key,r!=null?r:this.value,i!=null?i:this.color,o!=null?o:this.left,c!=null?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let o=this,c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,r,i),null):c===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let i,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return n.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Rt(27949);return e+(this.isRed()?0:1)}};te.EMPTY=null,te.RED=!0,te.BLACK=!1;te.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(e,r,i,o,c){return this}insert(e,r,i){return new te(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Pr=class n{constructor(e){this.comparator=e,this.data=new _n(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,i)=>(e(r),!1))}forEachInRange(e,r){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Mr(this.data.getIterator())}getIteratorFrom(e){return new Mr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(i=>{r=r.add(i)}),r}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let r=this.data.getIterator(),i=e.data.getIterator();for(;r.hasNext();){let o=r.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(r=>{e.push(r)}),e}toString(){let e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){let r=new n(this.comparator);return r.data=e,r}},Mr=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Uo=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Oe=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let r=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Uo("Invalid base64 string: "+c):c}}(e);return new n(r)}static fromUint8Array(e){let r=function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c}(e);return new n(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){let i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Oe.EMPTY_BYTE_STRING=new Oe("");var $h=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kh(n){if(Re(!!n,39018),typeof n=="string"){let e=0,r=$h.exec(n);if(Re(!!r,46558,{timestamp:n}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ri(n.seconds),nanos:ri(n.nanos)}}function ri(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qh(n){return typeof n=="string"?Oe.fromBase64String(n):Oe.fromUint8Array(n)}var Kc="(default)",Bo=class n{constructor(e,r){this.projectId=e,this.database=r||Kc}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var _l="__type__",Hh="__max__";var bl="__vector__",yl="value";function Wh(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[_l])===null||r===void 0?void 0:r.stringValue)===bl}function Yh(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Hh}var mf={mapValue:{fields:{[_l]:{stringValue:bl},[yl]:{arrayValue:{}}}}};var jo=class{constructor(e,r=null,i=[],o=[],c=null,u="F",h=null,C=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=u,this.startAt=h,this.endAt=C,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Xh(n){return new jo(n)}var pf=new _n(de.comparator);var gf=new _n(de.comparator);var ff=new _n(de.comparator),_f=new Pr(de.comparator);var bf=new Pr(Ut);var Qc,F;(F=Qc||(Qc={}))[F.OK=0]="OK",F[F.CANCELLED=1]="CANCELLED",F[F.UNKNOWN=2]="UNKNOWN",F[F.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",F[F.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",F[F.NOT_FOUND=5]="NOT_FOUND",F[F.ALREADY_EXISTS=6]="ALREADY_EXISTS",F[F.PERMISSION_DENIED=7]="PERMISSION_DENIED",F[F.UNAUTHENTICATED=16]="UNAUTHENTICATED",F[F.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",F[F.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",F[F.ABORTED=10]="ABORTED",F[F.OUT_OF_RANGE=11]="OUT_OF_RANGE",F[F.UNIMPLEMENTED=12]="UNIMPLEMENTED",F[F.INTERNAL=13]="INTERNAL",F[F.UNAVAILABLE=14]="UNAVAILABLE",F[F.DATA_LOSS=15]="DATA_LOSS";var yf=new br([4294967295,4294967295],0);var xr=class{constructor(){}bt(e,r){this.Dt(e,r),r.vt()}Dt(e,r){if("nullValue"in e)this.Ct(r,5);else if("booleanValue"in e)this.Ct(r,10),r.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(r,15),r.Ft(ri(e.integerValue));else if("doubleValue"in e){let i=ri(e.doubleValue);isNaN(i)?this.Ct(r,13):(this.Ct(r,15),Rh(i)?r.Ft(0):r.Ft(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ct(r,20),typeof i=="string"&&(i=Kh(i)),r.Mt(`${i.seconds||""}`),r.Ft(i.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,r),this.Ot(r);else if("bytesValue"in e)this.Ct(r,30),r.Nt(Qh(e.bytesValue)),this.Ot(r);else if("referenceValue"in e)this.Bt(e.referenceValue,r);else if("geoPointValue"in e){let i=e.geoPointValue;this.Ct(r,45),r.Ft(i.latitude||0),r.Ft(i.longitude||0)}else"mapValue"in e?Yh(e)?this.Ct(r,Number.MAX_SAFE_INTEGER):Wh(e)?this.Lt(e.mapValue,r):(this.kt(e.mapValue,r),this.Ot(r)):"arrayValue"in e?(this.qt(e.arrayValue,r),this.Ot(r)):Rt(19022,{Qt:e})}xt(e,r){this.Ct(r,25),this.$t(e,r)}$t(e,r){r.Mt(e)}kt(e,r){let i=e.fields||{};this.Ct(r,55);for(let o of Object.keys(i))this.xt(o,r),this.Dt(i[o],r)}Lt(e,r){var i,o;let c=e.fields||{};this.Ct(r,53);let u=yl,h=((o=(i=c[u].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.length)||0;this.Ct(r,15),r.Ft(ri(h)),this.xt(u,r),this.Dt(c[u],r)}qt(e,r){let i=e.values||[];this.Ct(r,50);for(let o of i)this.Dt(o,r)}Bt(e,r){this.Ct(r,37),de.fromName(e).path.forEach(i=>{this.Ct(r,60),this.$t(i,r)})}Ct(e,r){e.Ft(r)}Ot(e){e.Ft(2)}};xr.Ut=new xr;var vf=new Uint8Array(0);var vl=41943040,Zt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=i}};Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(vl,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);var Jh=1048576;function To(){return typeof document<"u"?document:null}var zo=class{constructor(e,r,i=1e3,o=1.5,c=6e4){this.Fi=e,this.timerId=r,this.d_=i,this.E_=o,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let r=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),o=Math.max(0,r-i);o>0&&qt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Go=class n{constructor(e,r,i,o,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new Ve,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,i,o,c){let u=Date.now()+i,h=new n(e,r,u,o,c);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var Hc,Wc;(Wc=Hc||(Hc={})).Fa="default",Wc.Cache="cache";function Zh(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Yc=new Map;var tm="firestore.googleapis.com",Xc=!0,Or=class{constructor(e){var r,i;if(e.host===void 0){if(e.ssl!==void 0)throw new z(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tm,this.ssl=Xc}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:Xc;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vl;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Jh)throw new z(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ah("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zh((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new z(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new z(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new z(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},qo=class{constructor(e,r,i,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Or({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Or(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ao;switch(i.type){case"firstParty":return new Ro(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new z(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return q(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){let i=Yc.get(r);i&&(qt("ComponentProvider","Removing Datastore"),Yc.delete(r),i.terminate())}(this),Promise.resolve()}};var $o=class n{constructor(e,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ne=class n{constructor(e,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,i){if(li(r,n._jsonSchema))return new n(e,i||null,new de(ue.fromString(r.referencePath)))}};Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:ht("string",Ne._jsonSchemaVersion),referencePath:ht("string")};var Ko=class n extends $o{constructor(e,r,i){super(e,r,Xh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ne(this.firestore,null,new de(e))}withConverter(e){return new n(this.firestore,e,this._path)}};var Jc="AsyncQueue",Er=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new zo(this,"async_queue_retry"),this.oc=()=>{let i=To();i&&qt(Jc,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;let r=To();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let r=To();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let r=new Ve;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return q(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Dh(e))throw e;qt(Jc,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let r=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,el("INTERNAL UNHANDLED ERROR: ",Zc(i)),i}).then(i=>(this.nc=!1,i))));return this._c=r,r}enqueueAfterDelay(e,r,i){this.ac(),this.sc.indexOf(e)>-1&&(r=0);let o=Go.createAndSchedule(this,e,r,i,c=>this.lc(c));return this.ec.push(o),o}ac(){this.tc&&Rt(47125,{hc:Zc(this.tc)})}verifyOperationInProgress(){}Pc(){return q(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let r of this.ec)if(r.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((r,i)=>r.targetTimeMs-i.targetTimeMs);for(let r of this.ec)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let r=this.ec.indexOf(e);this.ec.splice(r,1)}};function Zc(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Qo=class extends qo{constructor(e,r,i,o){super(e,r,i,o),this.type="firestore",this._queue=new Er,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return q(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Er(e),this._firestoreClient=void 0,yield e}})}};var oi=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Oe.fromBase64String(e))}catch(r){throw new z(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new n(Oe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(li(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:ht("string",oi._jsonSchemaVersion),bytes:ht("string")};var Ir=class{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new z(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var si=class n{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new z(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new z(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(li(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:ht("string",si._jsonSchemaVersion),latitude:ht("number"),longitude:ht("number")};var ai=class n{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(li(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new n(e.vectorValues);throw new z(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:ht("string",ai._jsonSchemaVersion),vectorValues:ht("object")};var em=new RegExp("[~\\*/\\[\\]]");function nm(n,e,r){if(e.search(em)>=0)throw tl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,r);try{return new Ir(...e.split("."))._internalPath}catch{throw tl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,r)}}function tl(n,e,r,i,o){let c=i&&!i.isEmpty(),u=o!==void 0,h=`Function ${e}() called with invalid data`;r&&(h+=" (via `toFirestore()`)"),h+=". ";let C="";return(c||u)&&(C+=" (found",c&&(C+=` in field ${i}`),u&&(C+=` in document ${o}`),C+=")"),new z(Q.INVALID_ARGUMENT,h+n+C)}var Tr=class{constructor(e,r,i,o,c){this._firestore=e,this._userDataWriter=r,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ho(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let r=this._document.data.field(wl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}},Ho=class extends Tr{data(){return super.data()}};function wl(n,e){return typeof e=="string"?nm(n,e):e instanceof Ir?e._internalPath:e._delegate._internalPath}var pn=class{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},gn=class n extends Tr{constructor(e,r,i,o,c,u){super(e,r,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let r=new fn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){let i=this._document.data.field(wl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new z(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,r={};return r.type=n._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}};gn._jsonSchemaVersion="firestore/documentSnapshot/1.0",gn._jsonSchema={type:ht("string",gn._jsonSchemaVersion),bundleSource:ht("string","DocumentSnapshot"),bundleName:ht("string"),bundle:ht("string")};var fn=class extends gn{data(e={}){return super.data(e)}},ci=class n{constructor(e,r,i,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new pn(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){let e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(i=>{e.call(r,new fn(this._firestore,this._userDataWriter,i.key,i,new pn(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new z(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{let C=new fn(o._firestore,o._userDataWriter,h.doc.key,h.doc,new pn(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:C,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>c||h.type!==3).map(h=>{let C=new fn(o._firestore,o._userDataWriter,h.doc.key,h.doc,new pn(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter),x=-1,I=-1;return h.type!==0&&(x=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),I=u.indexOf(h.doc.key)),{type:im(h.type),doc:C,oldIndex:x,newIndex:I}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new z(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=No.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let r=[],i=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(r.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function im(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:n})}}ci._jsonSchemaVersion="firestore/querySnapshot/1.0",ci._jsonSchema={type:ht("string",ci._jsonSchemaVersion),bundleSource:ht("string","QuerySnapshot"),bundleName:ht("string"),bundle:ht("string")};(function(e,r=!0){(function(o){Sr=o})(Ya),zn(new Ce("firestore",(i,{instanceIdentifier:o,options:c})=>{let u=i.getProvider("app").getImmediate(),h=new Qo(new ko(i.getProvider("auth-internal")),new Vo(u,i.getProvider("app-check-internal")),function(x,I){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new z(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bo(x.options.projectId,I)}(u,o),u);return c=Object.assign({useFetchStreams:r},c),h._setSettings(c),h},"PUBLIC").setMultipleInstances(!0)),Je(Bc,jc,e),Je(Bc,jc,"esm2017")})();var Cl=(()=>{let e=class e{constructor(){}toDate(i){try{if(!i)return null;if(i instanceof Date)return i;if(i instanceof It)return i.toDate();if(i&&typeof i=="object"&&"seconds"in i)return new It(i.seconds,i.nanoseconds).toDate();if(typeof i=="number")return new Date(i);if(typeof i=="string"){let o=new Date(i);return isNaN(o.getTime())?null:o}return i&&typeof i.toDate=="function"?i.toDate():null}catch(o){return console.error("Error converting timestamp to date:",o,i),null}}toTimestamp(i){try{if(!i)return null;if(i instanceof It)return i;if(i instanceof Date)return It.fromDate(i);if(typeof i=="number")return It.fromDate(new Date(i));if(typeof i=="string"){let o=new Date(i);if(!isNaN(o.getTime()))return It.fromDate(o)}return i&&typeof i.toDate=="function"?It.fromDate(i.toDate()):null}catch(o){return console.error("Error converting date to timestamp:",o,i),null}}fromFormDate(i){try{if(!i)return null;let o=new Date(i);return isNaN(o.getTime())?null:It.fromDate(o)}catch(o){return console.error("Error converting form date to timestamp:",o,i),null}}now(){return It.fromDate(new Date)}compare(i,o){let c=this.toDate(i),u=this.toDate(o);return!c&&!u?0:c?u?c.getTime()-u.getTime():1:-1}sortByDate(i,o,c=!1){return[...i].sort((u,h)=>{let C=this.toDate(u[o]),x=this.toDate(h[o]);if(!C&&!x)return 0;if(!C)return c?-1:1;if(!x)return c?1:-1;let I=C.getTime()-x.getTime();return c?I:-I})}filterByDateRange(i,o,c,u){let h=this.toDate(c),C=this.toDate(u);return!h&&!C?i:i.filter(x=>{let I=this.toDate(x[o]);return I?h&&C?I>=h&&I<=C:h?I>=h:C?I<=C:!0:!1})}isValidDate(i){let o=this.toDate(i);return o!==null&&!isNaN(o.getTime())}formatDate(i,o="MM/DD/YYYY"){let c=this.toDate(i);if(!c)return"Invalid Date";let u=c.getDate().toString().padStart(2,"0"),h=(c.getMonth()+1).toString().padStart(2,"0"),C=c.getFullYear();return o.replace("MM",h).replace("DD",u).replace("YYYY",C.toString())}toISOString(i){let o=this.toDate(i);return o?o.toISOString().split("T")[0]:""}getRelativeTime(i){let o=this.toDate(i);if(!o)return"Unknown";let u=Math.floor((new Date().getTime()-o.getTime())/1e3);if(u<60)return"Just now";if(u<3600){let h=Math.floor(u/60);return`${h} minute${h>1?"s":""} ago`}else if(u<86400){let h=Math.floor(u/3600);return`${h} hour${h>1?"s":""} ago`}else if(u<2592e3){let h=Math.floor(u/86400);return`${h} day${h>1?"s":""} ago`}else return this.formatDate(o)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Ar=(()=>{let e=class e{constructor(i,o,c,u){this.firestore=i,this.auth=o,this.notificationService=c,this.dateService=u}getUserGroups(i){let o=Ft(this.firestore,`splitwise/${i}/groups`),c=ye(o,Wt("isActive","==",!0),Bn("createdAt","desc"));return rt(be(c)).pipe(Z(u=>u.docs.map(h=>S({id:h.id},h.data()))),pt(u=>(console.error("Error fetching user groups:",u),W([]))))}getGroupById(i){var c;let o=(c=this.auth.currentUser)==null?void 0:c.uid;return o?Ot(at(this.firestore,`splitwise/${o}/groups`,i)).then(u=>u.exists()?S({id:u.id},u.data()):null):Promise.resolve(null)}createGroup(i,o){let c=this.auth.currentUser;if(!c)throw new Error("User not authenticated");let u={name:i.name,description:i.description||"",createdBy:o,members:[{userId:c.uid,email:c.email||"",displayName:c.displayName||c.email||"",photoURL:c.photoURL||"",role:De.ADMIN,joinedAt:new Date,isActive:!0,balance:0}],currency:i.currency||"USD",createdAt:new Date,updatedAt:new Date,isActive:!0,syncStatus:ho.SYNCED},h=Ft(this.firestore,`splitwise/${o}/groups`);return rt(Un(h,u)).pipe(Z(C=>S({id:C.id},u)))}deleteGroup(i,o){let c=at(this.firestore,`splitwise/${o}/groups`,i);return rt(Ht(c,{isActive:!1,updatedAt:new Date}))}getUserInvitations(i){let o=this.auth.currentUser;if(!(o!=null&&o.email))return W([]);let c=Ft(this.firestore,`splitwise/${i}/invitations`),u=ye(c,Wt("invitedEmail","==",o.email),Wt("status","==","pending"),Bn("createdAt","desc"));return rt(be(u)).pipe(Z(h=>h.docs.map(C=>S({id:C.id},C.data()))),pt(h=>(console.error("Error fetching invitations:",h),W([]))))}acceptInvitation(i,o){let c=at(this.firestore,`splitwise/${o}/invitations`,i);return rt(Ht(c,{status:"accepted",updatedAt:new Date}))}declineInvitation(i,o){let c=at(this.firestore,`splitwise/${o}/invitations`,i);return rt(Ht(c,{status:"declined",updatedAt:new Date}))}addMemberToGroup(i,o,c){let u=at(this.firestore,`splitwise/${c}/groups`,i);return rt(Ot(u)).pipe(Z(h=>{if(!h.exists())throw new Error("Group not found");return h.data()}),Z(h=>{let C={userId:"",email:o.email,displayName:o.email.split("@")[0],role:o.role||De.MEMBER,joinedAt:new Date,isActive:!1,balance:0},x=[...h.members,C];return k(S({},h),{members:x,updatedAt:new Date})}),et(h=>rt(Ht(u,{members:h.members,updatedAt:new Date})).pipe(Z(()=>S({id:i},h)))))}getGroupTransactions(i,o){let c=Ft(this.firestore,`splitwise/${o}/transactions`),u=ye(c,Wt("groupId","==",i),Bn("createdAt","desc"));return rt(be(u)).pipe(Z(h=>h.docs.map(C=>S({id:C.id},C.data()))),pt(h=>(console.error("Error fetching group transactions:",h),W([]))))}getGroupSettlements(i,o){let c=Ft(this.firestore,`splitwise/${o}/settlements`),u=ye(c,Wt("groupId","==",i),Bn("createdAt","desc"));return rt(be(u)).pipe(Z(h=>h.docs.map(C=>S({id:C.id},C.data()))),pt(h=>(console.error("Error fetching group settlements:",h),W([]))))}createSplitTransaction(i,o){if(!this.auth.currentUser)throw new Error("User not authenticated");let u={groupId:i.groupId,originalTransactionId:i.originalTransactionId,amount:i.amount,createdBy:o,splits:i.splits.map(C=>k(S({},C),{email:"",displayName:""})),totalAmount:i.amount,currency:"USD",status:Mo.PENDING,createdAt:new Date,updatedAt:new Date,syncStatus:ho.SYNCED},h=Ft(this.firestore,`splitwise/${o}/transactions`);return rt(Un(h,u)).pipe(Z(C=>S({id:C.id},u)))}getGroup(i){var c;let o=(c=this.auth.currentUser)==null?void 0:c.uid;return o?rt(Ot(at(this.firestore,`splitwise/${o}/groups`,i))).pipe(Z(u=>u.exists()?S({id:u.id},u.data()):null)):W(null)}updateGroup(i,o){return q(this,null,function*(){var c;try{let u=(c=this.auth.currentUser)==null?void 0:c.uid;if(!u)throw new Error("User not authenticated");let h={updatedAt:new Date};o.name&&(h.name=o.name),o.description!==void 0&&(h.description=o.description),o.currency&&(h.currency=o.currency),yield Ht(at(this.firestore,`splitwise/${u}/groups`,i),h),this.notificationService.success("Group updated successfully")}catch(u){throw console.error("Error updating group:",u),this.notificationService.error("Failed to update group"),u}})}removeMemberFromGroup(i,o){return q(this,null,function*(){var c;try{let u=(c=this.auth.currentUser)==null?void 0:c.uid;if(!u)throw new Error("User not authenticated");let h=at(this.firestore,`splitwise/${u}/groups`,i),C=yield Ot(h);if(!C.exists())throw new Error("Group not found");let I=C.data().members.filter(D=>D.userId!==o);yield Ht(h,{members:I,updatedAt:new Date}),this.notificationService.success("Member removed successfully")}catch(u){throw console.error("Error removing member:",u),this.notificationService.error("Failed to remove member"),u}})}getSplitTransaction(i){var c;let o=(c=this.auth.currentUser)==null?void 0:c.uid;return o?rt(Ot(at(this.firestore,`splitwise/${o}/transactions`,i))).pipe(Z(u=>u.exists()?S({id:u.id},u.data()):null)):W(null)}updateSplitTransaction(i,o){return q(this,null,function*(){var c;try{let u=(c=this.auth.currentUser)==null?void 0:c.uid;if(!u)throw new Error("User not authenticated");let h={updatedAt:new Date};if(o.payee&&(h.payee=o.payee),o.amount&&(h.amount=o.amount),o.type&&(h.type=o.type),o.date&&(h.date=this.dateService.toTimestamp(o.date)),o.notes!==void 0&&(h.notes=o.notes),o.categoryId&&(h.categoryId=o.categoryId),o.category&&(h.category=o.category),o.status&&(h.status=o.status),o.splits){let I=o.splits.reduce((X,mt)=>X+mt.amount,0);if(Math.abs(I-(o.amount||0))>.01)throw new Error("Split amounts must equal the total transaction amount");let D=yield Ot(at(this.firestore,`splitwise/${u}/transactions`,i));if(!D.exists())throw new Error("Transaction not found");let R=D.data(),L=(yield Ot(at(this.firestore,`splitwise/${u}/groups`,R.groupId))).data(),ct=o.splits.map(X=>{let mt=L.members.find(Pt=>Pt.userId===X.userId);return k(S({},X),{email:(mt==null?void 0:mt.email)||"",displayName:(mt==null?void 0:mt.displayName)||"",isPaid:!1})});h.splits=ct,h.totalAmount=o.amount,yield this.updateMemberBalances(R.groupId,ct)}yield Ht(at(this.firestore,`splitwise/${u}/transactions`,i),h);let x=(yield Ot(at(this.firestore,`splitwise/${u}/transactions`,i))).data();this.notificationService.success("Split transaction updated successfully")}catch(u){throw console.error("Error updating split transaction:",u),this.notificationService.error("Failed to update split transaction"),u}})}deleteSplitTransaction(i){return q(this,null,function*(){var o;try{let c=(o=this.auth.currentUser)==null?void 0:o.uid;if(!c)throw new Error("User not authenticated");let u=yield Ot(at(this.firestore,`splitwise/${c}/transactions`,i));if(!u.exists())throw new Error("Transaction not found");let h=u.data(),C=h.splits.map(x=>k(S({},x),{amount:-x.amount}));yield this.updateMemberBalances(h.groupId,C),yield ga(at(this.firestore,`splitwise/${c}/transactions`,i)),this.notificationService.success("Split transaction deleted successfully")}catch(c){throw console.error("Error deleting split transaction:",c),this.notificationService.error("Failed to delete split transaction"),c}})}createSettlement(i){return q(this,null,function*(){var o;try{let c=(o=this.auth.currentUser)==null?void 0:o.uid;if(!c)throw new Error("User not authenticated");let u={groupId:i.groupId,fromUserId:i.fromUserId,toUserId:i.toUserId,amount:i.amount,currency:"USD",status:ii.PENDING,notes:i.notes||"",createdAt:new Date,updatedAt:new Date};return(yield Un(Ft(this.firestore,`splitwise/${c}/settlements`),u)).id}catch(c){throw console.error("Error creating settlement:",c),c}})}completeSettlement(i){return q(this,null,function*(){var o;try{let c=(o=this.auth.currentUser)==null?void 0:o.uid;if(!c)throw new Error("User not authenticated");yield Ht(at(this.firestore,`splitwise/${c}/settlements`,i),{status:ii.COMPLETED,settledAt:new Date,updatedAt:new Date});let h=(yield Ot(at(this.firestore,`splitwise/${c}/settlements`,i))).data()}catch(c){throw console.error("Error completing settlement:",c),c}})}sendGroupInvitation(i,o){return q(this,null,function*(){var c;try{let u=(c=this.auth.currentUser)==null?void 0:c.uid;if(!u)throw new Error("User not authenticated");let h=this.auth.currentUser,x=(yield Ot(at(this.firestore,`splitwise/${u}/groups`,i))).data(),I={groupId:i,groupName:x.name,invitedBy:u,invitedByEmail:(h==null?void 0:h.email)||"",invitedByDisplayName:(h==null?void 0:h.displayName)||"",invitedEmail:o,status:xo.PENDING,expiresAt:new Date(Date.now()+7*24*60*60*1e3),createdAt:new Date,updatedAt:new Date};yield Un(Ft(this.firestore,`splitwise/${u}/invitations`),I)}catch(u){throw console.error("Error sending invitation:",u),u}})}updateMemberBalances(i,o){return q(this,null,function*(){var I;let c=(I=this.auth.currentUser)==null?void 0:I.uid;if(!c)return;let u=at(this.firestore,`splitwise/${c}/groups`,i),x=(yield Ot(u)).data().members.map(D=>{let R=o.find($=>$.userId===D.userId);return R?k(S({},D),{balance:D.balance+R.amount}):D});yield Ht(u,{members:x,updatedAt:new Date})})}getGroupSummary(i){return q(this,null,function*(){var I;let o=(I=this.auth.currentUser)==null?void 0:I.uid;if(!o)throw new Error("User not authenticated");let[c,u]=yield Promise.all([be(ye(Ft(this.firestore,`splitwise/${o}/transactions`),Wt("groupId","==",i))),be(ye(Ft(this.firestore,`splitwise/${o}/settlements`),Wt("groupId","==",i),Wt("status","==",ii.PENDING)))]),C=(yield Ot(at(this.firestore,`splitwise/${o}/groups`,i))).data(),x=c.docs.reduce((D,R)=>{let $=R.data();return D+$.amount},0);return{groupId:i,totalTransactions:c.docs.length,totalAmount:x,averageAmount:c.docs.length>0?x/c.docs.length:0,memberCount:C.members.length,activeMemberCount:C.members.filter(D=>D.isActive).length,pendingSettlements:u.docs.length,lastActivity:new Date}})}getMemberBalances(i){return q(this,null,function*(){var x;let o=(x=this.auth.currentUser)==null?void 0:x.uid;if(!o)throw new Error("User not authenticated");let u=(yield Ot(at(this.firestore,`splitwise/${o}/groups`,i))).data(),h=yield be(ye(Ft(this.firestore,`splitwise/${o}/transactions`),Wt("groupId","==",i))),C=new Map;return u.members.forEach(I=>{C.set(I.userId,{userId:I.userId,email:I.email,displayName:I.displayName,totalPaid:0,totalOwed:0,netBalance:0,transactionCount:0})}),h.docs.forEach(I=>{I.data().splits.forEach(R=>{let $=C.get(R.userId);$&&($.transactionCount++,R.amount>0?$.totalPaid+=R.amount:$.totalOwed+=Math.abs(R.amount),$.netBalance=$.totalPaid-$.totalOwed)})}),Array.from(C.values())})}};e.\u0275fac=function(o){return new(o||e)(Y(pa),Y(Ct),Y(ve),Y(Cl))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Pl=(()=>{let e=class e{constructor(i,o,c,u,h){this.actions$=i,this.splitwiseService=o,this.userService=c,this.store=u,this.auth=h,this.loadGroups$=zt(()=>this.actions$.pipe(Gt(nn),et(()=>rt(this.userService.getCurrentUser()).pipe(et(C=>C!=null&&C.uid?this.splitwiseService.getUserGroups(C.uid).pipe(Z(x=>rr({groups:x||[]})),pt(x=>W(Kn({error:x.message})))):W(Kn({error:"User not authenticated"}))))))),this.loadInvitations$=zt(()=>this.actions$.pipe(Gt(on),et(()=>rt(this.userService.getCurrentUser()).pipe(et(C=>C!=null&&C.uid?this.splitwiseService.getUserInvitations(C.uid).pipe(Z(x=>or({invitations:x||[]})),pt(x=>W(Qn({error:x.message})))):W(Qn({error:"User not authenticated"}))))))),this.createGroup$=zt(()=>this.actions$.pipe(Gt(sn),et(C=>rt(this.userService.getCurrentUser()).pipe(et(x=>x!=null&&x.uid?this.splitwiseService.createGroup(C.request,x.uid).pipe(Z(I=>sr({group:I})),pt(I=>W(Hn({error:I.message})))):W(Hn({error:"User not authenticated"}))))))),this.addMember$=zt(()=>this.actions$.pipe(Gt(Jt),et(C=>rt(this.userService.getCurrentUser()).pipe(et(x=>x!=null&&x.uid?this.splitwiseService.addMemberToGroup(C.groupId,C.request,x.uid).pipe(Z(I=>ar({group:I})),pt(I=>W(Wn({error:I.message})))):W(Wn({error:"User not authenticated"}))))))),this.acceptInvitation$=zt(()=>this.actions$.pipe(Gt(an),et(C=>rt(this.userService.getCurrentUser()).pipe(et(x=>x!=null&&x.uid?this.splitwiseService.acceptInvitation(C.invitationId,x.uid).pipe(Z(()=>cr({invitationId:C.invitationId})),pt(I=>W(Yn({error:I.message})))):W(Yn({error:"User not authenticated"}))))))),this.declineInvitation$=zt(()=>this.actions$.pipe(Gt(cn),et(C=>rt(this.userService.getCurrentUser()).pipe(et(x=>x!=null&&x.uid?this.splitwiseService.declineInvitation(C.invitationId,x.uid).pipe(Z(()=>lr({invitationId:C.invitationId})),pt(I=>W(Xn({error:I.message})))):W(Xn({error:"User not authenticated"}))))))),this.deleteGroup$=zt(()=>this.actions$.pipe(Gt(Pe),et(C=>rt(this.userService.getCurrentUser()).pipe(et(x=>x!=null&&x.uid?this.splitwiseService.deleteGroup(C.groupId,x.uid).pipe(Z(()=>ur({groupId:C.groupId})),pt(I=>W(Jn({error:I.message})))):W(Jn({error:"User not authenticated"}))))))),this.loadTransactions$=zt(()=>this.actions$.pipe(Gt(ln),et(C=>rt(this.userService.getCurrentUser()).pipe(et(x=>x!=null&&x.uid?this.splitwiseService.getGroupTransactions(C.groupId,x.uid).pipe(Z(I=>dr({transactions:I||[]})),pt(I=>W(Zn({error:I.message})))):W(Zn({error:"User not authenticated"}))))))),this.loadSettlements$=zt(()=>this.actions$.pipe(Gt(un),et(C=>rt(this.userService.getCurrentUser()).pipe(et(x=>x!=null&&x.uid?this.splitwiseService.getGroupSettlements(C.groupId,x.uid).pipe(Z(I=>hr({settlements:I||[]})),pt(I=>W(ti({error:I.message})))):W(ti({error:"User not authenticated"}))))))),this.createSplitTransaction$=zt(()=>this.actions$.pipe(Gt(mr),et(C=>rt(this.userService.getCurrentUser()).pipe(et(x=>x!=null&&x.uid?this.splitwiseService.createSplitTransaction(C.request,x.uid).pipe(Z(I=>pr({transaction:I})),pt(I=>W(ei({error:I.message})))):W(ei({error:"User not authenticated"})))))))}};e.\u0275fac=function(o){return new(o||e)(Y(bc),Y(Ar),Y(Ma),Y(At),Y(Ct))},e.\u0275prov=Nt({token:e,factory:e.\u0275fac});let n=e;return n})();function sm(n,e){if(n&1&&(y(0,"div",0)(1,"div",1),dt(2,"div",2),y(3,"p",3),M(4),v()()()),n&2){let r=V();O(4),H(r.message)}}var Bf=(()=>{let e=class e{constructor(i){this.loaderService=i,this.message="Loading...",this.loading$=this.loaderService.loading$}};e.\u0275fac=function(o){return new(o||e)(A(Ra))},e.\u0275cmp=ft({type:e,selectors:[["app-loader"]],inputs:{message:"message"},standalone:!0,features:[co],decls:2,vars:3,consts:[[1,"loader-overlay"],[1,"loader"],[1,"spinner"],[1,"loader-message"]],template:function(o,c){o&1&&(U(0,sm,5,1,"div",0),ki(1,"async")),o&2&&oo(Di(1,1,c.loading$)?0:-1)},dependencies:[oa],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#f9fafbf2;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9999}.loader[_ngcontent-%COMP%]{background:transparent;border-radius:1rem;padding:2rem;max-width:300px;width:90%;text-align:center;display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-top:4px solid #46777f;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loader-message[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:500;font-size:1.125rem;color:#1f2937;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.loader[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem}.loader-message[_ngcontent-%COMP%]{font-size:1rem}}"]});let n=e;return n})();var Ml=(()=>{let e=class e{constructor(){this.currentLanguage=new Xs("en"),this.translations={loading:{en:"Loading...",hi:"\u0932\u094B\u0921 \u0939\u094B \u0930\u0939\u093E \u0939\u0948..."},error:{en:"Error",hi:"\u0924\u094D\u0930\u0941\u091F\u093F"},success:{en:"Success",hi:"\u0938\u092B\u0932\u0924\u093E"},cancel:{en:"Cancel",hi:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902"},save:{en:"Save",hi:"\u0938\u0939\u0947\u091C\u0947\u0902"},delete:{en:"Delete",hi:"\u0939\u091F\u093E\u090F\u0902"},edit:{en:"Edit",hi:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},add:{en:"Add",hi:"\u091C\u094B\u0921\u093C\u0947\u0902"},close:{en:"Close",hi:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902"},logout:{en:"Logout",hi:"\u0932\u0949\u0917\u0906\u0909\u091F"},login:{en:"Login",hi:"\u0932\u0949\u0917\u093F\u0928"},signup:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},email:{en:"Email",hi:"\u0908\u092E\u0947\u0932"},password:{en:"Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921"},name:{en:"Name",hi:"\u0928\u093E\u092E"},amount:{en:"Amount",hi:"\u0930\u093E\u0936\u093F"},date:{en:"Date",hi:"\u0924\u093E\u0930\u0940\u0916"},category:{en:"Category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940"},type:{en:"Type",hi:"\u092A\u094D\u0930\u0915\u093E\u0930"},income:{en:"Income",hi:"\u0906\u092F"},expense:{en:"Expense",hi:"\u0916\u0930\u094D\u091A"},total:{en:"Total",hi:"\u0915\u0941\u0932"},balance:{en:"Balance",hi:"\u0936\u0947\u0937 \u0930\u093E\u0936\u093F"},actions:{en:"Actions",hi:"\u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},search:{en:"Search",hi:"\u0916\u094B\u091C\u0947\u0902"},filter:{en:"Filter",hi:"\u092B\u093C\u093F\u0932\u094D\u091F\u0930"},clear:{en:"Clear",hi:"\u0938\u093E\u092B\u093C \u0915\u0930\u0947\u0902"},settings:{en:"Settings",hi:"\u0938\u0947\u091F\u093F\u0902\u0917\u094D\u0938"},dashboard:{en:"Dashboard",hi:"\u0921\u0948\u0936\u092C\u094B\u0930\u094D\u0921"},home:{en:"Home",hi:"\u0939\u094B\u092E"},accounts:{en:"Accounts",hi:"\u0916\u093E\u0924\u0947"},transactions:{en:"Transactions",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928"},categories:{en:"Categories",hi:"\u0936\u094D\u0930\u0947\u0923\u093F\u092F\u093E\u0902"},budgets:{en:"Budgets",hi:"\u092C\u091C\u091F"},goals:{en:"Goals",hi:"\u0932\u0915\u094D\u0937\u094D\u092F"},reports:{en:"Reports",hi:"\u0930\u093F\u092A\u094B\u0930\u094D\u091F\u094D\u0938"},calendar:{en:"Calendar",hi:"\u0915\u0948\u0932\u0947\u0902\u0921\u0930"},notes:{en:"Notes",hi:"\u0928\u094B\u091F\u094D\u0938"},tax:{en:"Tax",hi:"\u0915\u0930"},tools:{en:"Tools",hi:"\u0909\u092A\u0915\u0930\u0923"},moneyManager:{en:`${jt.APP_NAME}`,hi:"\u092E\u0928\u0940 \u092E\u0948\u0928\u0947\u091C\u0930"},manageFinances:{en:"Manage your finances",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0915\u0930\u0947\u0902"},welcomeBack:{en:"Welcome Back!",hi:"\u0935\u093E\u092A\u0938\u0940 \u092A\u0930 \u0938\u094D\u0935\u093E\u0917\u0924 \u0939\u0948!"},youSpend:{en:"You Spend",hi:"\u0906\u092A\u0915\u093E \u0916\u0930\u094D\u091A"},youEarn:{en:"You Earn",hi:"\u0906\u092A\u0915\u0940 \u0915\u092E\u093E\u0908"},netBalance:{en:"Net Balance",hi:"\u0936\u0941\u0926\u094D\u0927 \u0936\u0947\u0937"},thisMonth:{en:"This Month",hi:"\u0907\u0938 \u092E\u0939\u0940\u0928\u0947"},lastMonth:{en:"Last Month",hi:"\u092A\u093F\u091B\u0932\u0947 \u092E\u0939\u0940\u0928\u0947"},quickActions:{en:"Quick Actions",hi:"\u0924\u094D\u0935\u0930\u093F\u0924 \u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},recentTransactions:{en:"Recent Transactions",hi:"\u0939\u093E\u0932 \u0915\u0947 \u0932\u0947\u0928-\u0926\u0947\u0928"},upcomingBills:{en:"Upcoming Bills",hi:"\u0906\u0917\u093E\u092E\u0940 \u092C\u093F\u0932"},savingsGoal:{en:"Savings Goal",hi:"\u092C\u091A\u0924 \u0932\u0915\u094D\u0937\u094D\u092F"},signIn:{en:"Sign In",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928"},signUp:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},signOut:{en:"Sign Out",hi:"\u0938\u093E\u0907\u0928 \u0906\u0909\u091F"},forgotPassword:{en:"Forgot Password?",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092D\u0942\u0932 \u0917\u090F?"},resetPassword:{en:"Reset Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0930\u0940\u0938\u0947\u091F \u0915\u0930\u0947\u0902"},emailPlaceholder:{en:"Enter your email",hi:"\u0905\u092A\u0928\u093E \u0908\u092E\u0947\u0932 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},passwordPlaceholder:{en:"Enter your password",hi:"\u0905\u092A\u0928\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},confirmPassword:{en:"Confirm Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0915\u0940 \u092A\u0941\u0937\u094D\u091F\u093F \u0915\u0930\u0947\u0902"},namePlaceholder:{en:"Enter your name",hi:"\u0905\u092A\u0928\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},loginSuccess:{en:"Successfully signed in",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},loginError:{en:"Failed to sign in",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},signupSuccess:{en:"Successfully signed up",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},signupError:{en:"Failed to sign up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},sessionExpired:{en:"Session expired. Please sign in again.",hi:"\u0938\u0924\u094D\u0930 \u0938\u092E\u093E\u092A\u094D\u0924 \u0939\u094B \u0917\u092F\u093E\u0964 \u0915\u0943\u092A\u092F\u093E \u092B\u093F\u0930 \u0938\u0947 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902\u0964"},invalidCredentials:{en:"Invalid email or password",hi:"\u0905\u092E\u093E\u0928\u094D\u092F \u0908\u092E\u0947\u0932 \u092F\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921"},passwordMismatch:{en:"Passwords do not match",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092E\u0947\u0932 \u0928\u0939\u0940\u0902 \u0916\u093E\u0924\u0947"},emailRequired:{en:"Email is required",hi:"\u0908\u092E\u0947\u0932 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},passwordRequired:{en:"Password is required",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},nameRequired:{en:"Name is required",hi:"\u0928\u093E\u092E \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},addTransaction:{en:"Add Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0947\u0902"},editTransaction:{en:"Edit Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},deleteTransaction:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},transactionHistory:{en:"Transaction History",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0907\u0924\u093F\u0939\u093E\u0938"},manageTransactions:{en:"Manage and track your financial transactions",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924\u0940\u092F \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0914\u0930 \u091F\u094D\u0930\u0948\u0915\u093F\u0902\u0917 \u0915\u0930\u0947\u0902"},payee:{en:"Payee",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E"},payeePlaceholder:{en:"Enter payee name",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E \u0915\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},amountPlaceholder:{en:"Enter amount",hi:"\u0930\u093E\u0936\u093F \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},categoryPlaceholder:{en:"Select category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940 \u091A\u0941\u0928\u0947\u0902"},datePlaceholder:{en:"Select date",hi:"\u0924\u093E\u0930\u0940\u0916 \u091A\u0941\u0928\u0947\u0902"},notesPlaceholder:{en:"Add notes (optional)",hi:"\u0928\u094B\u091F\u094D\u0938 \u091C\u094B\u0921\u093C\u0947\u0902 (\u0935\u0948\u0915\u0932\u094D\u092A\u093F\u0915)"},noTransactions:{en:"No transactions yet",hi:"\u0905\u092D\u0940 \u0924\u0915 \u0915\u094B\u0908 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0928\u0939\u0940\u0902"},noTransactionsMessage:{en:"Start by adding your first transaction to track your finances.",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u091F\u094D\u0930\u0948\u0915 \u0930\u0916\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0905\u092A\u0928\u093E \u092A\u0939\u0932\u093E \u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0915\u0930 \u0936\u0941\u0930\u0942 \u0915\u0930\u0947\u0902\u0964"},transactionAdded:{en:"Transaction added successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u091C\u094B\u0921\u093C\u093E \u0917\u092F\u093E"},transactionUpdated:{en:"Transaction updated successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0905\u092A\u0921\u0947\u091F \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},transactionDeleted:{en:"Transaction deleted successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},confirmDelete:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},confirmDeleteMessage:{en:"Are you sure you want to delete this transaction?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0907\u0938 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u094B \u0939\u091F\u093E\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"},networkError:{en:"Network error. Please check your connection.",hi:"\u0928\u0947\u091F\u0935\u0930\u094D\u0915 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0915\u0928\u0947\u0915\u094D\u0936\u0928 \u091C\u093E\u0902\u091A\u0947\u0902\u0964"},serverError:{en:"Server error. Please try again later.",hi:"\u0938\u0930\u094D\u0935\u0930 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u092C\u093E\u0926 \u092E\u0947\u0902 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},validationError:{en:"Please check your input and try again.",hi:"\u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0907\u0928\u092A\u0941\u091F \u091C\u093E\u0902\u091A\u0947\u0902 \u0914\u0930 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},dataSaved:{en:"Data saved successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u0939\u0947\u091C\u093E \u0917\u092F\u093E"},dataDeleted:{en:"Data deleted successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},changesDiscarded:{en:"Changes discarded",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917 \u0926\u093F\u090F \u0917\u090F"},unsavedChanges:{en:"You have unsaved changes",hi:"\u0906\u092A\u0915\u0947 \u092A\u093E\u0938 \u0905\u0938\u0939\u0947\u091C\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0939\u0948\u0902"},confirmDiscard:{en:"Discard Changes",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0947\u0902"},confirmDiscardMessage:{en:"Are you sure you want to discard your changes?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0905\u092A\u0928\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"}};let i=localStorage.getItem("app_language");i&&(i==="en"||i==="hi")?this.currentLanguage.next(i):navigator.language.split("-")[0]==="hi"&&this.currentLanguage.next("hi")}getCurrentLanguage(){return this.currentLanguage.asObservable()}getCurrentLanguageValue(){return this.currentLanguage.value}setLanguage(i){this.currentLanguage.next(i),localStorage.setItem("app_language",i)}translate(i){let o=this.translations[i];return o&&(o[this.currentLanguage.value]||o.en)||i}translateWithParams(i,o){let c=this.translate(i);return Object.keys(o).forEach(u=>{c=c.replace(`{{${u}}}`,o[u])}),c}getAvailableLanguages(){return[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"\u0939\u093F\u0902\u0926\u0940"}]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var qf=(()=>{let e=class e{constructor(i){this.translationService=i}transform(i,o){return o?this.translationService.translateWithParams(i,o):this.translationService.translate(i)}};e.\u0275fac=function(o){return new(o||e)(A(Ml,16))},e.\u0275pipe=Si({name:"translate",type:e,pure:!0,standalone:!0});let n=e;return n})();var Qf=(()=>{let e=class e{transform(i,o){if(i==null||i==="")return this.formatCurrency(0,o);let c=typeof i=="string"?parseFloat(i):i;return isNaN(c)?"Invalid amount":this.formatCurrency(c,o)}formatCurrency(i,o){let{currency:c=jt.CURRENCY.DEFAULT,locale:u=jt.LANGUAGE.DEFAULT,showSymbol:h=!0,showCode:C=!1,decimalPlaces:x,compact:I=!1,signDisplay:D="auto",notation:R="standard"}=o||{},$=this.getCurrencyConfig(c),L=i%1!==0,ct=x!==void 0?L?x:0:L?$.decimalPlaces:0,X=x!==void 0?x:$.decimalPlaces,mt={style:"currency",currency:c,minimumFractionDigits:ct,maximumFractionDigits:X,signDisplay:D,notation:I?"compact":R};h?C&&(mt.currencyDisplay="narrowSymbol"):mt.currencyDisplay="code";try{return new Intl.NumberFormat(u,mt).format(i)}catch(Pt){return console.error("Currency formatting error:",Pt),this.fallbackFormat(i,c,$)}}getCurrencyConfig(i){let o=i;return{symbol:jt.CURRENCY.SYMBOLS[o]||i,decimalPlaces:jt.CURRENCY.DECIMAL_PLACES[o]||2}}fallbackFormat(i,o,c){let u=c.symbol,h=i%1===0?i.toFixed(0):i.toFixed(c.decimalPlaces);return`${u}${h}`}static getCurrencySymbol(i){let o=i;return jt.CURRENCY.SYMBOLS[o]||i}static getDecimalPlaces(i){let o=i;return jt.CURRENCY.DECIMAL_PLACES[o]||2}static isSupportedCurrency(i){return jt.CURRENCY.SUPPORTED.includes(i)}static getSupportedCurrencies(){return jt.CURRENCY.SUPPORTED}};e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=Si({name:"currency",type:e,pure:!0,standalone:!0});let n=e;return n})();var L_=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Qt({type:e}),e.\u0275inj=Kt({providers:[Ar],imports:[Ri,ca,la,Ln,uc,Fa,dc,wa,Ca,Ta,Aa,Na,Da,Pa,xa,Ua,Ba,er,Va,da.forFeature("splitwise",Ic),Oc.forFeature([Pl])]});let n=e;return n})();export{It as a,qf as b,pd as c,nn as d,mr as e,Cl as f,Ar as g,Qf as h,ou as i,lm as j,um as k,dc as l,zt as m,bc as n,Gt as o,Oc as p,Bf as q,L_ as r};

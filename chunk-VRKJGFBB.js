import{$d as lr,Ab as Xn,Bb as Rt,Bd as Ra,C as er,Cb as vo,Cd as Ze,Db as lt,Dc as Ia,Dd as Va,E as nr,Fb as ft,Gb as Xt,Ic as Ea,Jb as Jn,Kb as Jt,Kc as Ta,L as _a,M as ir,Md as Na,N as Ca,Nb as jt,O as ba,Ob as Lt,Oc as Gt,Od as Fa,Pb as wa,Pd as La,Qd as we,Rc as Zt,Rd as sr,S as N,Sc as Sa,Sd as ar,T as B,Td as cr,Ud as Ua,Xd as Ba,Yb as Oo,Yd as tn,Zd as en,_ as Pa,_d as nn,aa as Dt,ae as rn,ba as st,bc as Kt,be as za,ca as rr,cb as va,ce as dr,da as yo,de as ur,ea as Mo,ee as ja,fa as ya,fe as Ga,ga as F,ge as qa,ha as Ma,j as Yi,l as We,md as ve,o as Yn,pc as xa,pd as Vt,qc as Ye,qd as Aa,r as Xi,rc as Xe,rd as Oe,sd as ka,t as Me,tb as wt,u as Ji,ud as Je,v as Zi,vd as or,wd as Da,xd as te,yb as Oa,z as tr}from"./chunk-YEEZXU7R.js";import{$b as _,Aa as Ct,Ad as fa,Ba as Yt,Bd as Hi,Da as Ki,Ec as Po,F as po,Fd as Wi,H as qi,J as ut,Jc as Ke,Ka as nt,Kc as Qe,La as it,N as da,O as ua,Qb as G,R as ma,Ra as pa,Rb as Hn,Sb as D,T as ha,Ub as ye,Vb as _o,W as fo,Xb as Ft,Ya as $e,Z as ga,Zb as Co,_b as bo,ac as P,bc as mt,c as ca,f as Pe,fc as pt,g as la,ha as ae,ic as z,kc as R,p as W,pa as zt,pb as Qi,q,qa as Wt,sa as ce,ua as tt,ub as I,uc as Wn,v as Z,va as $i,vb as U,vc as O,wc as rt,x as Y,xc as $,xd as He,yd as kt}from"./chunk-6PX2HEG6.js";import{a as T,b as A,k as j}from"./chunk-LKDXID24.js";var wo=rr("profile"),md=st(wo,i=>i.profile),ph=st(wo,i=>i.loading),fh=st(wo,i=>i.error),on=st(md,i=>i==null?void 0:i.preferences),xo=st(on,i=>i==null?void 0:i.defaultCurrency),_h=st(on,i=>i==null?void 0:i.language),Ch=st(on,i=>i==null?void 0:i.timezone),bh=st(on,i=>i==null?void 0:i.notifications),Ph=st(on,i=>i==null?void 0:i.emailUpdates),yh=st(on,i=>i==null?void 0:i.budgetAlerts);var $a=function(i){let t=[],o=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?t[o++]=r:r<2048?(t[o++]=r>>6|192,t[o++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),t[o++]=r>>18|240,t[o++]=r>>12&63|128,t[o++]=r>>6&63|128,t[o++]=r&63|128):(t[o++]=r>>12|224,t[o++]=r>>6&63|128,t[o++]=r&63|128)}return t},gd=function(i){let t=[],o=0,n=0;for(;o<i.length;){let r=i[o++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let c=i[o++];t[n++]=String.fromCharCode((r&31)<<6|c&63)}else if(r>239&&r<365){let c=i[o++],d=i[o++],u=i[o++],p=((r&7)<<18|(c&63)<<12|(d&63)<<6|u&63)-65536;t[n++]=String.fromCharCode(55296+(p>>10)),t[n++]=String.fromCharCode(56320+(p&1023))}else{let c=i[o++],d=i[o++];t[n++]=String.fromCharCode((r&15)<<12|(c&63)<<6|d&63)}}return t.join("")},pd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();let o=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){let c=i[r],d=r+1<i.length,u=d?i[r+1]:0,p=r+2<i.length,v=p?i[r+2]:0,x=c>>2,V=(c&3)<<4|u>>4,S=(u&15)<<2|v>>6,k=v&63;p||(k=64,d||(S=64)),n.push(o[x],o[V],o[S],o[k])}return n.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray($a(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):gd(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();let o=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){let c=o[i.charAt(r++)],u=r<i.length?o[i.charAt(r)]:0;++r;let v=r<i.length?o[i.charAt(r)]:64;++r;let V=r<i.length?o[i.charAt(r)]:64;if(++r,c==null||u==null||v==null||V==null)throw new Io;let S=c<<2|u>>4;if(n.push(S),v!==64){let k=u<<4&240|v>>2;if(n.push(k),V!==64){let L=v<<6&192|V;n.push(L)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},Io=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fd=function(i){let t=$a(i);return pd.encodeByteArray(t,!0)},Eo=function(i){return fd(i).replace(/\./g,"")};function To(){try{return typeof indexedDB=="object"}catch{return!1}}function Ka(){return new Promise((i,t)=>{try{let o=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),o||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{o=!1},r.onerror=()=>{var c;t(((c=r.error)===null||c===void 0?void 0:c.message)||"")}}catch(o){t(o)}})}var _d="FirebaseError",le=class i extends Error{constructor(t,o,n){super(o),this.code=t,this.customData=n,this.name=_d,Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zn.prototype.create)}},Zn=class{constructor(t,o,n){this.service=t,this.serviceName=o,this.errors=n}create(t,...o){let n=o[0]||{},r=`${this.service}/${t}`,c=this.errors[t],d=c?Cd(c,n):"Error",u=`${this.serviceName}: ${d} (${r}).`;return new le(r,u,n)}};function Cd(i,t){return i.replace(bd,(o,n)=>{let r=t[n];return r!=null?String(r):`<${n}?>`})}var bd=/\{\$([^}]+)}/g;var wh=4*60*60*1e3;var xe=class{constructor(t,o,n){this.name=t,this.instanceFactory=o,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Pd=[],ot=function(i){return i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",i}(ot||{}),yd={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},Md=ot.INFO,vd={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},Od=(i,t,...o)=>{if(t<i.logLevel)return;let n=new Date().toISOString(),r=vd[t];if(r)console[r](`[${n}]  ${i.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},sn=class{constructor(t){this.name=t,this._logLevel=Md,this._logHandler=Od,this._userLogHandler=null,Pd.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yd[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...t),this._logHandler(this,ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...t),this._logHandler(this,ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...t),this._logHandler(this,ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...t),this._logHandler(this,ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...t),this._logHandler(this,ot.ERROR,...t)}};var Ao=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(xd(o)){let n=o.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(o=>o).join(" ")}};function xd(i){let t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}var ko="@firebase/app",Qa="0.13.2";var de=new sn("@firebase/app"),Id="@firebase/app-compat",Ed="@firebase/analytics-compat",Td="@firebase/analytics",Sd="@firebase/app-check-compat",Ad="@firebase/app-check",kd="@firebase/auth",Dd="@firebase/auth-compat",Rd="@firebase/database",Vd="@firebase/data-connect",Nd="@firebase/database-compat",Fd="@firebase/functions",Ld="@firebase/functions-compat",Ud="@firebase/installations",Bd="@firebase/installations-compat",zd="@firebase/messaging",jd="@firebase/messaging-compat",Gd="@firebase/performance",qd="@firebase/performance-compat",$d="@firebase/remote-config",Kd="@firebase/remote-config-compat",Qd="@firebase/storage",Hd="@firebase/storage-compat",Wd="@firebase/firestore",Yd="@firebase/ai",Xd="@firebase/firestore-compat",Jd="firebase",Zd="11.10.0";var tu={[ko]:"fire-core",[Id]:"fire-core-compat",[Td]:"fire-analytics",[Ed]:"fire-analytics-compat",[Ad]:"fire-app-check",[Sd]:"fire-app-check-compat",[kd]:"fire-auth",[Dd]:"fire-auth-compat",[Rd]:"fire-rtdb",[Vd]:"fire-data-connect",[Nd]:"fire-rtdb-compat",[Fd]:"fire-fn",[Ld]:"fire-fn-compat",[Ud]:"fire-iid",[Bd]:"fire-iid-compat",[zd]:"fire-fcm",[jd]:"fire-fcm-compat",[Gd]:"fire-perf",[qd]:"fire-perf-compat",[$d]:"fire-rc",[Kd]:"fire-rc-compat",[Qd]:"fire-gcs",[Hd]:"fire-gcs-compat",[Wd]:"fire-fst",[Xd]:"fire-fst-compat",[Yd]:"fire-vertex","fire-js":"fire-js",[Jd]:"fire-js-all"};var eu=new Map,nu=new Map,Ha=new Map;function Wa(i,t){try{i.container.addComponent(t)}catch(o){de.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,o)}}function ti(i){let t=i.name;if(Ha.has(t))return de.debug(`There were multiple attempts to register component ${t}.`),!1;Ha.set(t,i);for(let o of eu.values())Wa(o,i);for(let o of nu.values())Wa(o,i);return!0}function Za(i){return i==null?!1:i.settings!==void 0}var iu={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vo=new Zn("app","Firebase",iu);var tc=Zd;function an(i,t,o){var n;let r=(n=tu[i])!==null&&n!==void 0?n:i;o&&(r+=`-${o}`);let c=r.match(/\s|\//),d=t.match(/\s|\//);if(c||d){let u=[`Unable to register library "${r}" with version "${t}":`];c&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),c&&d&&u.push("and"),d&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),de.warn(u.join(" "));return}ti(new xe(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var ru="firebase-heartbeat-database",ou=1,ei="firebase-heartbeat-store",So=null;function ec(){return So||(So=va(ru,ou,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(ei)}catch(o){console.warn(o)}}}}).catch(i=>{throw Vo.create("idb-open",{originalErrorMessage:i.message})})),So}function su(i){return j(this,null,function*(){try{let o=(yield ec()).transaction(ei),n=yield o.objectStore(ei).get(nc(i));return yield o.done,n}catch(t){if(t instanceof le)de.warn(t.message);else{let o=Vo.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});de.warn(o.message)}}})}function Ya(i,t){return j(this,null,function*(){try{let n=(yield ec()).transaction(ei,"readwrite");yield n.objectStore(ei).put(t,nc(i)),yield n.done}catch(o){if(o instanceof le)de.warn(o.message);else{let n=Vo.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});de.warn(n.message)}}})}function nc(i){return`${i.name}!${i.options.appId}`}var au=1024,cu=30,Do=class{constructor(t){this.container=t,this._heartbeatsCache=null;let o=this.container.getProvider("app").getImmediate();this._storage=new Ro(o),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return j(this,null,function*(){var t,o;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Xa();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((o=this._heartbeatsCache)===null||o===void 0?void 0:o.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:r}),this._heartbeatsCache.heartbeats.length>cu){let d=du(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){de.warn(n)}})}getHeartbeatsHeader(){return j(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let o=Xa(),{heartbeatsToSend:n,unsentEntries:r}=lu(this._heartbeatsCache.heartbeats),c=Eo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=o,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(o){return de.warn(o),""}})}};function Xa(){return new Date().toISOString().substring(0,10)}function lu(i,t=au){let o=[],n=i.slice();for(let r of i){let c=o.find(d=>d.agent===r.agent);if(c){if(c.dates.push(r.date),Ja(o)>t){c.dates.pop();break}}else if(o.push({agent:r.agent,dates:[r.date]}),Ja(o)>t){o.pop();break}n=n.slice(1)}return{heartbeatsToSend:o,unsentEntries:n}}var Ro=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return j(this,null,function*(){return To()?Ka().then(()=>!0).catch(()=>!1):!1})}read(){return j(this,null,function*(){if(yield this._canUseIndexedDBPromise){let o=yield su(this.app);return o!=null&&o.heartbeats?o:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return j(this,null,function*(){var o;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Ya(this.app,{lastSentHeartbeatDate:(o=t.lastSentHeartbeatDate)!==null&&o!==void 0?o:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return j(this,null,function*(){var o;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Ya(this.app,{lastSentHeartbeatDate:(o=t.lastSentHeartbeatDate)!==null&&o!==void 0?o:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function Ja(i){return Eo(JSON.stringify({version:2,heartbeats:i})).length}function du(i){if(i.length===0)return-1;let t=0,o=i[0].date;for(let n=1;n<i.length;n++)i[n].date<o&&(o=i[n].date,t=n);return t}function uu(i){ti(new xe("platform-logger",t=>new Ao(t),"PRIVATE")),ti(new xe("heartbeat",t=>new Do(t),"PRIVATE")),an(ko,Qa,i),an(ko,Qa,"esm2017"),an("fire-js","")}uu("");function hu(i,t){i&1&&mt(0,"mat-spinner",23)}function gu(i,t){i&1&&(_(0,"p",16),O(1,"Group name is required"),P())}function pu(i,t){i&1&&(_(0,"p",16),O(1,"Group name must be at least 2 characters"),P())}function fu(i,t){i&1&&(_(0,"p",16),O(1,"Group name must not exceed 50 characters"),P())}function _u(i,t){i&1&&(_(0,"p",16),O(1,"Description must not exceed 200 characters"),P())}var rc=(()=>{let t=class t{constructor(n,r,c,d){this.fb=n,this.dialogRef=r,this.auth=c,this.store=d,this.isSubmitting=!1,this.userCurrency$=this.store.select(xo),this.groupForm=this.fb.group({name:["",[Me.required,Me.minLength(2),Me.maxLength(50)]],description:["",[Me.maxLength(200)]],initialMembers:[[]]})}ngOnInit(){}onSubmit(){return j(this,null,function*(){var n;if(this.groupForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let r=this.groupForm.value,c=this.store.select(xo),d="USD";c.subscribe(p=>{p&&(d=p)}).unsubscribe();let u={name:r.name.trim(),description:((n=r.description)==null?void 0:n.trim())||"",currency:d,initialMembers:r.initialMembers||[]};this.dialogRef.close(u)}catch(r){console.error("Error creating group:",r)}finally{this.isSubmitting=!1}}else this.groupForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(n){var c,d;let r=this.groupForm.get(n);return r!=null&&r.hasError("required")?`${n.charAt(0).toUpperCase()+n.slice(1)} is required`:r!=null&&r.hasError("minlength")?`${n.charAt(0).toUpperCase()+n.slice(1)} must be at least ${(c=r.errors)==null?void 0:c.minlength.requiredLength} characters`:r!=null&&r.hasError("maxlength")?`${n.charAt(0).toUpperCase()+n.slice(1)} must not exceed ${(d=r.errors)==null?void 0:d.maxlength.requiredLength} characters`:""}};t.\u0275fac=function(r){return new(r||t)(U(ir),U(or),U(wt),U(Dt))},t.\u0275cmp=Ct({type:t,selectors:[["app-create-group-dialog"]],decls:55,vars:10,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Create Group",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"group-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","text","formControlName","name","placeholder","Enter group name","autofocus","","maxlength","50",1,"form-input"],[1,"field-footer"],[1,"error-message"],[1,"character-count"],["formControlName","description","placeholder","Describe your group","maxlength","200","rows","3",1,"form-input"],[1,"info-section"],[1,"info-icon"],[1,"info-content"],[1,"bottom-spacing"],["diameter","16"]],template:function(r,c){if(r&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),z("click",function(){return c.onCancel()}),_(4,"mat-icon"),O(5,"arrow_back"),P()(),_(6,"h6",4),O(7," Create New Group "),P()(),_(8,"button",5),z("click",function(){return c.onCancel()}),_(9,"mat-icon"),O(10,"close"),P()(),_(11,"button",6),z("click",function(){return c.onSubmit()}),G(12,hu,1,0,"mat-spinner",7),O(13),P()()(),_(14,"div",8)(15,"div",9)(16,"form",10),z("ngSubmit",function(){return c.onSubmit()}),_(17,"div",11)(18,"label",12)(19,"mat-icon",13),O(20,"group"),P(),O(21," Group Name * "),P(),mt(22,"input",14),_(23,"div",15),G(24,gu,2,0,"p",16)(25,pu,2,0,"p",16)(26,fu,2,0,"p",16),_(27,"span",17),O(28),P()()(),_(29,"div",11)(30,"label",12)(31,"mat-icon",13),O(32,"description"),P(),O(33," Description (Optional) "),P(),mt(34,"textarea",18),_(35,"div",15),G(36,_u,2,0,"p",16),_(37,"span",17),O(38),P()()(),_(39,"div",19)(40,"mat-icon",20),O(41,"info"),P(),_(42,"div",21)(43,"h4"),O(44,"What happens next?"),P(),_(45,"ul")(46,"li"),O(47,"You'll be added as the group admin"),P(),_(48,"li"),O(49,"You can invite friends by email"),P(),_(50,"li"),O(51,"Start adding shared expenses"),P(),_(52,"li"),O(53,"Track who owes what to whom"),P()()()(),mt(54,"div",22),P()()()),r&2){let d,u,p,v,x,V;I(11),D("disabled",c.groupForm.invalid||c.isSubmitting),I(),D("ngIf",c.isSubmitting),I(),$(" ",c.isSubmitting?"Creating...":"Create"," "),I(3),D("formGroup",c.groupForm),I(8),Ft((d=c.groupForm.get("name"))!=null&&d.hasError("required")&&((d=c.groupForm.get("name"))!=null&&d.touched)?24:-1),I(),Ft((u=c.groupForm.get("name"))!=null&&u.hasError("minlength")&&((u=c.groupForm.get("name"))!=null&&u.touched)?25:-1),I(),Ft((p=c.groupForm.get("name"))!=null&&p.hasError("maxlength")&&((p=c.groupForm.get("name"))!=null&&p.touched)?26:-1),I(2),$(" ",((v=c.groupForm.get("name"))==null||v.value==null?null:v.value.length)||0,"/50 "),I(8),Ft((x=c.groupForm.get("description"))!=null&&x.hasError("maxlength")&&((x=c.groupForm.get("description"))!=null&&x.touched)?36:-1),I(2),$(" ",((V=c.groupForm.get("description"))==null||V.value==null?null:V.value.length)||0,"/200 ")}},dependencies:[kt,tr,Xi,Ji,Zi,_a,er,nr,Gt,Zt,Vt,Oe,Ze],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease;resize:vertical}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{font-size:.7rem}}.info-section[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.25rem;background:#f8f9fa;border-radius:12px;border-left:4px solid #3b82f6;margin-top:.5rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;gap:.75rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px;gap:.5rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{background:#1f2937;border-left-color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.5rem;width:1.5rem;height:1.5rem;margin-top:.125rem;flex-shrink:0}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{flex:1}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#1f2937;font-weight:600;font-size:1rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:.5rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.375rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem;color:#6b7280}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:.875rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#9ca3af}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.375rem;font-size:.875rem;line-height:1.4}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.25rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.125rem}}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let i=t;return i})();var un=N("[Splitwise] Load Groups"),mr=N("[Splitwise] Load Groups Success",B()),ri=N("[Splitwise] Load Groups Failure",B()),ue=N("[Splitwise] Load Group by ID",B()),hr=N("[Splitwise] Load Group by ID Success",B()),oi=N("[Splitwise] Load Group by ID Failure",B()),mn=N("[Splitwise] Load Invitations"),gr=N("[Splitwise] Load Invitations Success",B()),si=N("[Splitwise] Load Invitations Failure",B()),hn=N("[Splitwise] Create Group",B()),pr=N("[Splitwise] Create Group Success",B()),ai=N("[Splitwise] Create Group Failure",B()),ee=N("[Splitwise] Add Member",B()),fr=N("[Splitwise] Add Member Success",B()),ci=N("[Splitwise] Add Member Failure",B()),gn=N("[Splitwise] Accept Invitation",B()),_r=N("[Splitwise] Accept Invitation Success",B()),li=N("[Splitwise] Accept Invitation Failure",B()),pn=N("[Splitwise] Decline Invitation",B()),Cr=N("[Splitwise] Decline Invitation Success",B()),di=N("[Splitwise] Decline Invitation Failure",B()),Ie=N("[Splitwise] Delete Group",B()),br=N("[Splitwise] Delete Group Success",B()),ui=N("[Splitwise] Delete Group Failure",B()),oc=N("[Splitwise] Select Group",B()),fn=N("[Splitwise] Load Transactions",B()),Pr=N("[Splitwise] Load Transactions Success",B()),mi=N("[Splitwise] Load Transactions Failure",B()),_n=N("[Splitwise] Load Settlements",B()),yr=N("[Splitwise] Load Settlements Success",B()),hi=N("[Splitwise] Load Settlements Failure",B()),Mr=N("[Splitwise] Create Split Transaction",B()),vr=N("[Splitwise] Create Split Transaction Success",B()),gi=N("[Splitwise] Create Split Transaction Failure",B()),Cn=N("[Splitwise] Update Split Transaction",B()),Or=N("[Splitwise] Update Split Transaction Success",B()),pi=N("[Splitwise] Update Split Transaction Failure",B()),bn=N("[Splitwise] Create Settlement",B()),wr=N("[Splitwise] Create Settlement Success",B()),fi=N("[Splitwise] Create Settlement Failure",B()),Ee=N("[Splitwise] Remove Member",B()),xr=N("[Splitwise] Remove Member Success",B()),_i=N("[Splitwise] Remove Member Failure",B()),Te=N("[Splitwise] Clear Error");var Se=rr("splitwise"),Pn=st(Se,i=>i),Cu=st(Se,i=>i.groups),bu=st(Se,i=>i.invitations),Pu=st(Se,i=>i.transactions),yu=st(Se,i=>i.settlements),Ir=st(Se,i=>i.selectedGroup),Jh=st(Se,i=>i.loading),Zh=st(Se,i=>i.error),tg=st(Cu,i=>i.filter(t=>t.isActive)),eg=st(bu,i=>i.filter(t=>t.status==="pending")),ng=st(Pu,Ir,(i,t)=>t?i.filter(o=>o.groupId===t.id):[]),ig=st(yu,Ir,(i,t)=>t?i.filter(o=>o.groupId===t.id):[]),rg=st(Ir,i=>(i==null?void 0:i.members.filter(t=>t.isActive).length)||0),og=st(Ir,i=>"");var Fe=function(i){return i.ADMIN="admin",i.MEMBER="member",i}(Fe||{}),Fo=function(i){return i.PENDING="pending",i.PARTIAL="partial",i.COMPLETED="completed",i.CANCELLED="cancelled",i}(Fo||{}),bi=function(i){return i.PENDING="pending",i.COMPLETED="completed",i.CANCELLED="cancelled",i}(bi||{}),yn=function(i){return i.PENDING="pending",i.ACCEPTED="accepted",i.DECLINED="declined",i.EXPIRED="expired",i}(yn||{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ac={};var Er,cc;(function(){var i;function t(y,m){function g(){}g.prototype=m.prototype,y.D=m.prototype,y.prototype=new g,y.prototype.constructor=y,y.C=function(f,C,M){for(var h=Array(arguments.length-2),re=2;re<arguments.length;re++)h[re-2]=arguments[re];return m.prototype[C].apply(f,h)}}function o(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,o),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(y,m,g){g||(g=0);var f=Array(16);if(typeof m=="string")for(var C=0;16>C;++C)f[C]=m.charCodeAt(g++)|m.charCodeAt(g++)<<8|m.charCodeAt(g++)<<16|m.charCodeAt(g++)<<24;else for(C=0;16>C;++C)f[C]=m[g++]|m[g++]<<8|m[g++]<<16|m[g++]<<24;m=y.g[0],g=y.g[1],C=y.g[2];var M=y.g[3],h=m+(M^g&(C^M))+f[0]+3614090360&4294967295;m=g+(h<<7&4294967295|h>>>25),h=M+(C^m&(g^C))+f[1]+3905402710&4294967295,M=m+(h<<12&4294967295|h>>>20),h=C+(g^M&(m^g))+f[2]+606105819&4294967295,C=M+(h<<17&4294967295|h>>>15),h=g+(m^C&(M^m))+f[3]+3250441966&4294967295,g=C+(h<<22&4294967295|h>>>10),h=m+(M^g&(C^M))+f[4]+4118548399&4294967295,m=g+(h<<7&4294967295|h>>>25),h=M+(C^m&(g^C))+f[5]+1200080426&4294967295,M=m+(h<<12&4294967295|h>>>20),h=C+(g^M&(m^g))+f[6]+2821735955&4294967295,C=M+(h<<17&4294967295|h>>>15),h=g+(m^C&(M^m))+f[7]+4249261313&4294967295,g=C+(h<<22&4294967295|h>>>10),h=m+(M^g&(C^M))+f[8]+1770035416&4294967295,m=g+(h<<7&4294967295|h>>>25),h=M+(C^m&(g^C))+f[9]+2336552879&4294967295,M=m+(h<<12&4294967295|h>>>20),h=C+(g^M&(m^g))+f[10]+4294925233&4294967295,C=M+(h<<17&4294967295|h>>>15),h=g+(m^C&(M^m))+f[11]+2304563134&4294967295,g=C+(h<<22&4294967295|h>>>10),h=m+(M^g&(C^M))+f[12]+1804603682&4294967295,m=g+(h<<7&4294967295|h>>>25),h=M+(C^m&(g^C))+f[13]+4254626195&4294967295,M=m+(h<<12&4294967295|h>>>20),h=C+(g^M&(m^g))+f[14]+2792965006&4294967295,C=M+(h<<17&4294967295|h>>>15),h=g+(m^C&(M^m))+f[15]+1236535329&4294967295,g=C+(h<<22&4294967295|h>>>10),h=m+(C^M&(g^C))+f[1]+4129170786&4294967295,m=g+(h<<5&4294967295|h>>>27),h=M+(g^C&(m^g))+f[6]+3225465664&4294967295,M=m+(h<<9&4294967295|h>>>23),h=C+(m^g&(M^m))+f[11]+643717713&4294967295,C=M+(h<<14&4294967295|h>>>18),h=g+(M^m&(C^M))+f[0]+3921069994&4294967295,g=C+(h<<20&4294967295|h>>>12),h=m+(C^M&(g^C))+f[5]+3593408605&4294967295,m=g+(h<<5&4294967295|h>>>27),h=M+(g^C&(m^g))+f[10]+38016083&4294967295,M=m+(h<<9&4294967295|h>>>23),h=C+(m^g&(M^m))+f[15]+3634488961&4294967295,C=M+(h<<14&4294967295|h>>>18),h=g+(M^m&(C^M))+f[4]+3889429448&4294967295,g=C+(h<<20&4294967295|h>>>12),h=m+(C^M&(g^C))+f[9]+568446438&4294967295,m=g+(h<<5&4294967295|h>>>27),h=M+(g^C&(m^g))+f[14]+3275163606&4294967295,M=m+(h<<9&4294967295|h>>>23),h=C+(m^g&(M^m))+f[3]+4107603335&4294967295,C=M+(h<<14&4294967295|h>>>18),h=g+(M^m&(C^M))+f[8]+1163531501&4294967295,g=C+(h<<20&4294967295|h>>>12),h=m+(C^M&(g^C))+f[13]+2850285829&4294967295,m=g+(h<<5&4294967295|h>>>27),h=M+(g^C&(m^g))+f[2]+4243563512&4294967295,M=m+(h<<9&4294967295|h>>>23),h=C+(m^g&(M^m))+f[7]+1735328473&4294967295,C=M+(h<<14&4294967295|h>>>18),h=g+(M^m&(C^M))+f[12]+2368359562&4294967295,g=C+(h<<20&4294967295|h>>>12),h=m+(g^C^M)+f[5]+4294588738&4294967295,m=g+(h<<4&4294967295|h>>>28),h=M+(m^g^C)+f[8]+2272392833&4294967295,M=m+(h<<11&4294967295|h>>>21),h=C+(M^m^g)+f[11]+1839030562&4294967295,C=M+(h<<16&4294967295|h>>>16),h=g+(C^M^m)+f[14]+4259657740&4294967295,g=C+(h<<23&4294967295|h>>>9),h=m+(g^C^M)+f[1]+2763975236&4294967295,m=g+(h<<4&4294967295|h>>>28),h=M+(m^g^C)+f[4]+1272893353&4294967295,M=m+(h<<11&4294967295|h>>>21),h=C+(M^m^g)+f[7]+4139469664&4294967295,C=M+(h<<16&4294967295|h>>>16),h=g+(C^M^m)+f[10]+3200236656&4294967295,g=C+(h<<23&4294967295|h>>>9),h=m+(g^C^M)+f[13]+681279174&4294967295,m=g+(h<<4&4294967295|h>>>28),h=M+(m^g^C)+f[0]+3936430074&4294967295,M=m+(h<<11&4294967295|h>>>21),h=C+(M^m^g)+f[3]+3572445317&4294967295,C=M+(h<<16&4294967295|h>>>16),h=g+(C^M^m)+f[6]+76029189&4294967295,g=C+(h<<23&4294967295|h>>>9),h=m+(g^C^M)+f[9]+3654602809&4294967295,m=g+(h<<4&4294967295|h>>>28),h=M+(m^g^C)+f[12]+3873151461&4294967295,M=m+(h<<11&4294967295|h>>>21),h=C+(M^m^g)+f[15]+530742520&4294967295,C=M+(h<<16&4294967295|h>>>16),h=g+(C^M^m)+f[2]+3299628645&4294967295,g=C+(h<<23&4294967295|h>>>9),h=m+(C^(g|~M))+f[0]+4096336452&4294967295,m=g+(h<<6&4294967295|h>>>26),h=M+(g^(m|~C))+f[7]+1126891415&4294967295,M=m+(h<<10&4294967295|h>>>22),h=C+(m^(M|~g))+f[14]+2878612391&4294967295,C=M+(h<<15&4294967295|h>>>17),h=g+(M^(C|~m))+f[5]+4237533241&4294967295,g=C+(h<<21&4294967295|h>>>11),h=m+(C^(g|~M))+f[12]+1700485571&4294967295,m=g+(h<<6&4294967295|h>>>26),h=M+(g^(m|~C))+f[3]+2399980690&4294967295,M=m+(h<<10&4294967295|h>>>22),h=C+(m^(M|~g))+f[10]+4293915773&4294967295,C=M+(h<<15&4294967295|h>>>17),h=g+(M^(C|~m))+f[1]+2240044497&4294967295,g=C+(h<<21&4294967295|h>>>11),h=m+(C^(g|~M))+f[8]+1873313359&4294967295,m=g+(h<<6&4294967295|h>>>26),h=M+(g^(m|~C))+f[15]+4264355552&4294967295,M=m+(h<<10&4294967295|h>>>22),h=C+(m^(M|~g))+f[6]+2734768916&4294967295,C=M+(h<<15&4294967295|h>>>17),h=g+(M^(C|~m))+f[13]+1309151649&4294967295,g=C+(h<<21&4294967295|h>>>11),h=m+(C^(g|~M))+f[4]+4149444226&4294967295,m=g+(h<<6&4294967295|h>>>26),h=M+(g^(m|~C))+f[11]+3174756917&4294967295,M=m+(h<<10&4294967295|h>>>22),h=C+(m^(M|~g))+f[2]+718787259&4294967295,C=M+(h<<15&4294967295|h>>>17),h=g+(M^(C|~m))+f[9]+3951481745&4294967295,y.g[0]=y.g[0]+m&4294967295,y.g[1]=y.g[1]+(C+(h<<21&4294967295|h>>>11))&4294967295,y.g[2]=y.g[2]+C&4294967295,y.g[3]=y.g[3]+M&4294967295}n.prototype.u=function(y,m){m===void 0&&(m=y.length);for(var g=m-this.blockSize,f=this.B,C=this.h,M=0;M<m;){if(C==0)for(;M<=g;)r(this,y,M),M+=this.blockSize;if(typeof y=="string"){for(;M<m;)if(f[C++]=y.charCodeAt(M++),C==this.blockSize){r(this,f),C=0;break}}else for(;M<m;)if(f[C++]=y[M++],C==this.blockSize){r(this,f),C=0;break}}this.h=C,this.o+=m},n.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var m=1;m<y.length-8;++m)y[m]=0;var g=8*this.o;for(m=y.length-8;m<y.length;++m)y[m]=g&255,g/=256;for(this.u(y),y=Array(16),m=g=0;4>m;++m)for(var f=0;32>f;f+=8)y[g++]=this.g[m]>>>f&255;return y};function c(y,m){var g=u;return Object.prototype.hasOwnProperty.call(g,y)?g[y]:g[y]=m(y)}function d(y,m){this.h=m;for(var g=[],f=!0,C=y.length-1;0<=C;C--){var M=y[C]|0;f&&M==m||(g[C]=M,f=!1)}this.g=g}var u={};function p(y){return-128<=y&&128>y?c(y,function(m){return new d([m|0],0>m?-1:0)}):new d([y|0],0>y?-1:0)}function v(y){if(isNaN(y)||!isFinite(y))return V;if(0>y)return J(v(-y));for(var m=[],g=1,f=0;y>=g;f++)m[f]=y/g|0,g*=4294967296;return new d(m,0)}function x(y,m){if(y.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(y.charAt(0)=="-")return J(x(y.substring(1),m));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=v(Math.pow(m,8)),f=V,C=0;C<y.length;C+=8){var M=Math.min(8,y.length-C),h=parseInt(y.substring(C,C+M),m);8>M?(M=v(Math.pow(m,M)),f=f.j(M).add(v(h))):(f=f.j(g),f=f.add(v(h)))}return f}var V=p(0),S=p(1),k=p(16777216);i=d.prototype,i.m=function(){if(at(this))return-J(this).m();for(var y=0,m=1,g=0;g<this.g.length;g++){var f=this.i(g);y+=(0<=f?f:4294967296+f)*m,m*=4294967296}return y},i.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(L(this))return"0";if(at(this))return"-"+J(this).toString(y);for(var m=v(Math.pow(y,6)),g=this,f="";;){var C=pe(g,m).g;g=gt(g,C.j(m));var M=((0<g.g.length?g.g[0]:g.h)>>>0).toString(y);if(g=C,L(g))return M+f;for(;6>M.length;)M="0"+M;f=M+f}},i.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function L(y){if(y.h!=0)return!1;for(var m=0;m<y.g.length;m++)if(y.g[m]!=0)return!1;return!0}function at(y){return y.h==-1}i.l=function(y){return y=gt(this,y),at(y)?-1:L(y)?0:1};function J(y){for(var m=y.g.length,g=[],f=0;f<m;f++)g[f]=~y.g[f];return new d(g,~y.h).add(S)}i.abs=function(){return at(this)?J(this):this},i.add=function(y){for(var m=Math.max(this.g.length,y.g.length),g=[],f=0,C=0;C<=m;C++){var M=f+(this.i(C)&65535)+(y.i(C)&65535),h=(M>>>16)+(this.i(C)>>>16)+(y.i(C)>>>16);f=h>>>16,M&=65535,h&=65535,g[C]=h<<16|M}return new d(g,g[g.length-1]&-2147483648?-1:0)};function gt(y,m){return y.add(J(m))}i.j=function(y){if(L(this)||L(y))return V;if(at(this))return at(y)?J(this).j(J(y)):J(J(this).j(y));if(at(y))return J(this.j(J(y)));if(0>this.l(k)&&0>y.l(k))return v(this.m()*y.m());for(var m=this.g.length+y.g.length,g=[],f=0;f<2*m;f++)g[f]=0;for(f=0;f<this.g.length;f++)for(var C=0;C<y.g.length;C++){var M=this.i(f)>>>16,h=this.i(f)&65535,re=y.i(C)>>>16,Tn=y.i(C)&65535;g[2*f+2*C]+=h*Tn,xt(g,2*f+2*C),g[2*f+2*C+1]+=M*Tn,xt(g,2*f+2*C+1),g[2*f+2*C+1]+=h*re,xt(g,2*f+2*C+1),g[2*f+2*C+2]+=M*re,xt(g,2*f+2*C+2)}for(f=0;f<m;f++)g[f]=g[2*f+1]<<16|g[2*f];for(f=m;f<2*m;f++)g[f]=0;return new d(g,0)};function xt(y,m){for(;(y[m]&65535)!=y[m];)y[m+1]+=y[m]>>>16,y[m]&=65535,m++}function Bt(y,m){this.g=y,this.h=m}function pe(y,m){if(L(m))throw Error("division by zero");if(L(y))return new Bt(V,V);if(at(y))return m=pe(J(y),m),new Bt(J(m.g),J(m.h));if(at(m))return m=pe(y,J(m)),new Bt(J(m.g),m.h);if(30<y.g.length){if(at(y)||at(m))throw Error("slowDivide_ only works with positive integers.");for(var g=S,f=m;0>=f.l(y);)g=xi(g),f=xi(f);var C=Ht(g,1),M=Ht(f,1);for(f=Ht(f,2),g=Ht(g,2);!L(f);){var h=M.add(f);0>=h.l(y)&&(C=C.add(g),M=h),f=Ht(f,1),g=Ht(g,1)}return m=gt(y,C.j(m)),new Bt(C,m)}for(C=V;0<=y.l(m);){for(g=Math.max(1,Math.floor(y.m()/m.m())),f=Math.ceil(Math.log(g)/Math.LN2),f=48>=f?1:Math.pow(2,f-48),M=v(g),h=M.j(m);at(h)||0<h.l(y);)g-=f,M=v(g),h=M.j(m);L(M)&&(M=S),C=C.add(M),y=gt(y,h)}return new Bt(C,y)}i.A=function(y){return pe(this,y).h},i.and=function(y){for(var m=Math.max(this.g.length,y.g.length),g=[],f=0;f<m;f++)g[f]=this.i(f)&y.i(f);return new d(g,this.h&y.h)},i.or=function(y){for(var m=Math.max(this.g.length,y.g.length),g=[],f=0;f<m;f++)g[f]=this.i(f)|y.i(f);return new d(g,this.h|y.h)},i.xor=function(y){for(var m=Math.max(this.g.length,y.g.length),g=[],f=0;f<m;f++)g[f]=this.i(f)^y.i(f);return new d(g,this.h^y.h)};function xi(y){for(var m=y.g.length+1,g=[],f=0;f<m;f++)g[f]=y.i(f)<<1|y.i(f-1)>>>31;return new d(g,y.h)}function Ht(y,m){var g=m>>5;m%=32;for(var f=y.g.length-g,C=[],M=0;M<f;M++)C[M]=0<m?y.i(M+g)>>>m|y.i(M+g+1)<<32-m:y.i(M+g);return new d(C,y.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,cc=ac.Md5=n,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=x,Er=ac.Integer=d}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});var Tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},me={};var lc,Mu,dc,uc,mc,hc,gc,pc,fc;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,s,a){return e==Array.prototype||e==Object.prototype||(e[s]=a.value),e};function o(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tr=="object"&&Tr];for(var s=0;s<e.length;++s){var a=e[s];if(a&&a.Math==Math)return a}throw Error("Cannot find global object")}var n=o(this);function r(e,s){if(s)t:{var a=n;e=e.split(".");for(var l=0;l<e.length-1;l++){var b=e[l];if(!(b in a))break t;a=a[b]}e=e[e.length-1],l=a[e],s=s(l),s!=l&&s!=null&&t(a,e,{configurable:!0,writable:!0,value:s})}}function c(e,s){e instanceof String&&(e+="");var a=0,l=!1,b={next:function(){if(!l&&a<e.length){var w=a++;return{value:s(w,e[w]),done:!1}}return l=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}r("Array.prototype.values",function(e){return e||function(){return c(this,function(s,a){return a})}});var d=d||{},u=this||self;function p(e){var s=typeof e;return s=s!="object"?s:e?Array.isArray(e)?"array":s:"null",s=="array"||s=="object"&&typeof e.length=="number"}function v(e){var s=typeof e;return s=="object"&&e!=null||s=="function"}function x(e,s,a){return e.call.apply(e.bind,arguments)}function V(e,s,a){if(!e)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,l),e.apply(s,b)}}return function(){return e.apply(s,arguments)}}function S(e,s,a){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:V,S.apply(null,arguments)}function k(e,s){var a=Array.prototype.slice.call(arguments,1);return function(){var l=a.slice();return l.push.apply(l,arguments),e.apply(this,l)}}function L(e,s){function a(){}a.prototype=s.prototype,e.aa=s.prototype,e.prototype=new a,e.prototype.constructor=e,e.Qb=function(l,b,w){for(var E=Array(arguments.length-2),et=2;et<arguments.length;et++)E[et-2]=arguments[et];return s.prototype[b].apply(l,E)}}function at(e){let s=e.length;if(0<s){let a=Array(s);for(let l=0;l<s;l++)a[l]=e[l];return a}return[]}function J(e,s){for(let a=1;a<arguments.length;a++){let l=arguments[a];if(p(l)){let b=e.length||0,w=l.length||0;e.length=b+w;for(let E=0;E<w;E++)e[b+E]=l[E]}else e.push(l)}}class gt{constructor(s,a){this.i=s,this.j=a,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}function xt(e){return/^[\s\xa0]*$/.test(e)}function Bt(){var e=u.navigator;return e&&(e=e.userAgent)?e:""}function pe(e){return pe[" "](e),e}pe[" "]=function(){};var xi=Bt().indexOf("Gecko")!=-1&&!(Bt().toLowerCase().indexOf("webkit")!=-1&&Bt().indexOf("Edge")==-1)&&!(Bt().indexOf("Trident")!=-1||Bt().indexOf("MSIE")!=-1)&&Bt().indexOf("Edge")==-1;function Ht(e,s,a){for(let l in e)s.call(a,e[l],l,e)}function y(e,s){for(let a in e)s.call(void 0,e[a],a,e)}function m(e){let s={};for(let a in e)s[a]=e[a];return s}let g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function f(e,s){let a,l;for(let b=1;b<arguments.length;b++){l=arguments[b];for(a in l)e[a]=l[a];for(let w=0;w<g.length;w++)a=g[w],Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}}function C(e){var s=1;e=e.split(":");let a=[];for(;0<s&&e.length;)a.push(e.shift()),s--;return e.length&&a.push(e.join(":")),a}function M(e){u.setTimeout(()=>{throw e},0)}function h(){var e=Gr;let s=null;return e.g&&(s=e.g,e.g=e.g.next,e.g||(e.h=null),s.next=null),s}class re{constructor(){this.h=this.g=null}add(s,a){let l=Tn.get();l.set(s,a),this.h?this.h.next=l:this.g=l,this.h=l}}var Tn=new gt(()=>new kl,e=>e.reset());class kl{constructor(){this.next=this.g=this.h=null}set(s,a){this.h=s,this.g=a,this.next=null}reset(){this.next=this.g=this.h=null}}let Sn,An=!1,Gr=new re,as=()=>{let e=u.Promise.resolve(void 0);Sn=()=>{e.then(Dl)}};var Dl=()=>{for(var e;e=h();){try{e.h.call(e.g)}catch(a){M(a)}var s=Tn;s.j(e),100>s.h&&(s.h++,e.next=s.g,s.g=e)}An=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function yt(e,s){this.type=e,this.g=this.target=s,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var Rl=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,s=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let a=()=>{};u.addEventListener("test",a,s),u.removeEventListener("test",a,s)}catch{}return e}();function kn(e,s){if(yt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var a=this.type=e.type,l=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=s,s=e.relatedTarget){if(xi){t:{try{pe(s.nodeName);var b=!0;break t}catch{}b=!1}b||(s=null)}}else a=="mouseover"?s=e.fromElement:a=="mouseout"&&(s=e.toElement);this.relatedTarget=s,l?(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Vl[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&kn.aa.h.call(this)}}L(kn,yt);var Vl={2:"touch",3:"pen",4:"mouse"};kn.prototype.h=function(){kn.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Dn="closure_listenable_"+(1e6*Math.random()|0),Nl=0;function Fl(e,s,a,l,b){this.listener=e,this.proxy=null,this.src=s,this.type=a,this.capture=!!l,this.ha=b,this.key=++Nl,this.da=this.fa=!1}function Ii(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Ei(e){this.src=e,this.g={},this.h=0}Ei.prototype.add=function(e,s,a,l,b){var w=e.toString();e=this.g[w],e||(e=this.g[w]=[],this.h++);var E=$r(e,s,l,b);return-1<E?(s=e[E],a||(s.fa=!1)):(s=new Fl(s,this.src,w,!!l,b),s.fa=a,e.push(s)),s};function qr(e,s){var a=s.type;if(a in e.g){var l=e.g[a],b=Array.prototype.indexOf.call(l,s,void 0),w;(w=0<=b)&&Array.prototype.splice.call(l,b,1),w&&(Ii(s),e.g[a].length==0&&(delete e.g[a],e.h--))}}function $r(e,s,a,l){for(var b=0;b<e.length;++b){var w=e[b];if(!w.da&&w.listener==s&&w.capture==!!a&&w.ha==l)return b}return-1}var Kr="closure_lm_"+(1e6*Math.random()|0),Qr={};function cs(e,s,a,l,b){if(l&&l.once)return ds(e,s,a,l,b);if(Array.isArray(s)){for(var w=0;w<s.length;w++)cs(e,s[w],a,l,b);return null}return a=Xr(a),e&&e[Dn]?e.K(s,a,v(l)?!!l.capture:!!l,b):ls(e,s,a,!1,l,b)}function ls(e,s,a,l,b,w){if(!s)throw Error("Invalid event type");var E=v(b)?!!b.capture:!!b,et=Wr(e);if(et||(e[Kr]=et=new Ei(e)),a=et.add(s,a,l,E,w),a.proxy)return a;if(l=Ll(),a.proxy=l,l.src=e,l.listener=a,e.addEventListener)Rl||(b=E),b===void 0&&(b=!1),e.addEventListener(s.toString(),l,b);else if(e.attachEvent)e.attachEvent(ms(s.toString()),l);else if(e.addListener&&e.removeListener)e.addListener(l);else throw Error("addEventListener and attachEvent are unavailable.");return a}function Ll(){function e(a){return s.call(e.src,e.listener,a)}let s=Ul;return e}function ds(e,s,a,l,b){if(Array.isArray(s)){for(var w=0;w<s.length;w++)ds(e,s[w],a,l,b);return null}return a=Xr(a),e&&e[Dn]?e.L(s,a,v(l)?!!l.capture:!!l,b):ls(e,s,a,!0,l,b)}function us(e,s,a,l,b){if(Array.isArray(s))for(var w=0;w<s.length;w++)us(e,s[w],a,l,b);else l=v(l)?!!l.capture:!!l,a=Xr(a),e&&e[Dn]?(e=e.i,s=String(s).toString(),s in e.g&&(w=e.g[s],a=$r(w,a,l,b),-1<a&&(Ii(w[a]),Array.prototype.splice.call(w,a,1),w.length==0&&(delete e.g[s],e.h--)))):e&&(e=Wr(e))&&(s=e.g[s.toString()],e=-1,s&&(e=$r(s,a,l,b)),(a=-1<e?s[e]:null)&&Hr(a))}function Hr(e){if(typeof e!="number"&&e&&!e.da){var s=e.src;if(s&&s[Dn])qr(s.i,e);else{var a=e.type,l=e.proxy;s.removeEventListener?s.removeEventListener(a,l,e.capture):s.detachEvent?s.detachEvent(ms(a),l):s.addListener&&s.removeListener&&s.removeListener(l),(a=Wr(s))?(qr(a,e),a.h==0&&(a.src=null,s[Kr]=null)):Ii(e)}}}function ms(e){return e in Qr?Qr[e]:Qr[e]="on"+e}function Ul(e,s){if(e.da)e=!0;else{s=new kn(s,this);var a=e.listener,l=e.ha||e.src;e.fa&&Hr(e),e=a.call(l,s)}return e}function Wr(e){return e=e[Kr],e instanceof Ei?e:null}var Yr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xr(e){return typeof e=="function"?e:(e[Yr]||(e[Yr]=function(s){return e.handleEvent(s)}),e[Yr])}function Mt(){fe.call(this),this.i=new Ei(this),this.M=this,this.F=null}L(Mt,fe),Mt.prototype[Dn]=!0,Mt.prototype.removeEventListener=function(e,s,a,l){us(this,e,s,a,l)};function It(e,s){var a,l=e.F;if(l)for(a=[];l;l=l.F)a.push(l);if(e=e.M,l=s.type||s,typeof s=="string")s=new yt(s,e);else if(s instanceof yt)s.target=s.target||e;else{var b=s;s=new yt(l,e),f(s,b)}if(b=!0,a)for(var w=a.length-1;0<=w;w--){var E=s.g=a[w];b=Ti(E,l,!0,s)&&b}if(E=s.g=e,b=Ti(E,l,!0,s)&&b,b=Ti(E,l,!1,s)&&b,a)for(w=0;w<a.length;w++)E=s.g=a[w],b=Ti(E,l,!1,s)&&b}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var e=this.i,s;for(s in e.g){for(var a=e.g[s],l=0;l<a.length;l++)Ii(a[l]);delete e.g[s],e.h--}}this.F=null},Mt.prototype.K=function(e,s,a,l){return this.i.add(String(e),s,!1,a,l)},Mt.prototype.L=function(e,s,a,l){return this.i.add(String(e),s,!0,a,l)};function Ti(e,s,a,l){if(s=e.i.g[String(s)],!s)return!0;s=s.concat();for(var b=!0,w=0;w<s.length;++w){var E=s[w];if(E&&!E.da&&E.capture==a){var et=E.listener,_t=E.ha||E.src;E.fa&&qr(e.i,E),b=et.call(_t,l)!==!1&&b}}return b&&!l.defaultPrevented}function hs(e,s,a){if(typeof e=="function")a&&(e=S(e,a));else if(e&&typeof e.handleEvent=="function")e=S(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:u.setTimeout(e,s||0)}function gs(e){e.g=hs(()=>{e.g=null,e.i&&(e.i=!1,gs(e))},e.l);let s=e.h;e.h=null,e.m.apply(null,s)}class Bl extends fe{constructor(s,a){super(),this.m=s,this.l=a,this.h=null,this.i=!1,this.g=null}j(s){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(e){fe.call(this),this.h=e,this.g={}}L(Rn,fe);var ps=[];function fs(e){Ht(e.g,function(s,a){this.g.hasOwnProperty(a)&&Hr(s)},e),e.g={}}Rn.prototype.N=function(){Rn.aa.N.call(this),fs(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jr=u.JSON.stringify,zl=u.JSON.parse,jl=class{stringify(e){return u.JSON.stringify(e,void 0)}parse(e){return u.JSON.parse(e,void 0)}};function Zr(){}Zr.prototype.h=null;function _s(e){return e.h||(e.h=e.i())}function Cs(){}var Vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function to(){yt.call(this,"d")}L(to,yt);function eo(){yt.call(this,"c")}L(eo,yt);var ke={},bs=null;function Si(){return bs=bs||new Mt}ke.La="serverreachability";function Ps(e){yt.call(this,ke.La,e)}L(Ps,yt);function Nn(e){let s=Si();It(s,new Ps(s))}ke.STAT_EVENT="statevent";function ys(e,s){yt.call(this,ke.STAT_EVENT,e),this.stat=s}L(ys,yt);function Et(e){let s=Si();It(s,new ys(s,e))}ke.Ma="timingevent";function Ms(e,s){yt.call(this,ke.Ma,e),this.size=s}L(Ms,yt);function Fn(e,s){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){e()},s)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function Gl(e,s,a,l,b,w){e.info(function(){if(e.g)if(w)for(var E="",et=w.split("&"),_t=0;_t<et.length;_t++){var H=et[_t].split("=");if(1<H.length){var vt=H[0];H=H[1];var Ot=vt.split("_");E=2<=Ot.length&&Ot[1]=="type"?E+(vt+"="+H+"&"):E+(vt+"=redacted&")}}else E=null;else E=w;return"XMLHTTP REQ ("+l+") [attempt "+b+"]: "+s+`
`+a+`
`+E})}function ql(e,s,a,l,b,w,E){e.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+b+"]: "+s+`
`+a+`
`+w+" "+E})}function ze(e,s,a,l){e.info(function(){return"XMLHTTP TEXT ("+s+"): "+Kl(e,a)+(l?" "+l:"")})}function $l(e,s){e.info(function(){return"TIMEOUT: "+s})}Ln.prototype.info=function(){};function Kl(e,s){if(!e.g)return s;if(!s)return null;try{var a=JSON.parse(s);if(a){for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var l=a[e];if(!(2>l.length)){var b=l[1];if(Array.isArray(b)&&!(1>b.length)){var w=b[0];if(w!="noop"&&w!="stop"&&w!="close")for(var E=1;E<b.length;E++)b[E]=""}}}}return Jr(a)}catch{return s}}var Ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},no;function ki(){}L(ki,Zr),ki.prototype.g=function(){return new XMLHttpRequest},ki.prototype.i=function(){return{}},no=new ki;function _e(e,s,a,l){this.j=e,this.i=s,this.l=a,this.R=l||1,this.U=new Rn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Os}function Os(){this.i=null,this.g="",this.h=!1}var ws={},io={};function ro(e,s,a){e.L=1,e.v=Ni(oe(s)),e.m=a,e.P=!0,xs(e,null)}function xs(e,s){e.F=Date.now(),Di(e),e.A=oe(e.v);var a=e.A,l=e.R;Array.isArray(l)||(l=[String(l)]),Bs(a.i,"t",l),e.C=0,a=e.j.J,e.h=new Os,e.g=ra(e.j,a?s:null,!e.m),0<e.O&&(e.M=new Bl(S(e.Y,e,e.g),e.O)),s=e.U,a=e.g,l=e.ca;var b="readystatechange";Array.isArray(b)||(b&&(ps[0]=b.toString()),b=ps);for(var w=0;w<b.length;w++){var E=cs(a,b[w],l||s.handleEvent,!1,s.h||s);if(!E)break;s.g[E.key]=E}s=e.H?m(e.H):{},e.m?(e.u||(e.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,s)):(e.u="GET",e.g.ea(e.A,e.u,null,s)),Nn(),Gl(e.i,e.u,e.A,e.l,e.R,e.m)}_e.prototype.ca=function(e){e=e.target;let s=this.M;s&&se(e)==3?s.j():this.Y(e)},_e.prototype.Y=function(e){try{if(e==this.g)t:{let Ot=se(this.g);var s=this.g.Ba();let qe=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Qs(this.g)))){this.J||Ot!=4||s==7||(s==8||0>=qe?Nn(3):Nn(2)),oo(this);var a=this.g.Z();this.X=a;e:if(Is(this)){var l=Qs(this.g);e="";var b=l.length,w=se(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){De(this),Un(this);var E="";break e}this.h.i=new u.TextDecoder}for(s=0;s<b;s++)this.h.h=!0,e+=this.h.i.decode(l[s],{stream:!(w&&s==b-1)});l.length=0,this.h.g+=e,this.C=0,E=this.h.g}else E=this.g.oa();if(this.o=a==200,ql(this.i,this.u,this.A,this.l,this.R,Ot,a),this.o){if(this.T&&!this.K){e:{if(this.g){var et,_t=this.g;if((et=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xt(et)){var H=et;break e}}H=null}if(a=H)ze(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,so(this,a);else{this.o=!1,this.s=3,Et(12),De(this),Un(this);break t}}if(this.P){a=!0;let $t;for(;!this.J&&this.C<E.length;)if($t=Ql(this,E),$t==io){Ot==4&&(this.s=4,Et(14),a=!1),ze(this.i,this.l,null,"[Incomplete Response]");break}else if($t==ws){this.s=4,Et(15),ze(this.i,this.l,E,"[Invalid Chunk]"),a=!1;break}else ze(this.i,this.l,$t,null),so(this,$t);if(Is(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||E.length!=0||this.h.h||(this.s=1,Et(16),a=!1),this.o=this.o&&a,!a)ze(this.i,this.l,E,"[Invalid Chunked Response]"),De(this),Un(this);else if(0<E.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ho(vt),vt.M=!0,Et(11))}}else ze(this.i,this.l,E,null),so(this,E);Ot==4&&De(this),this.o&&!this.J&&(Ot==4?ta(this.j,this):(this.o=!1,Di(this)))}else dd(this.g),a==400&&0<E.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),De(this),Un(this)}}}catch{}finally{}};function Is(e){return e.g?e.u=="GET"&&e.L!=2&&e.j.Ca:!1}function Ql(e,s){var a=e.C,l=s.indexOf(`
`,a);return l==-1?io:(a=Number(s.substring(a,l)),isNaN(a)?ws:(l+=1,l+a>s.length?io:(s=s.slice(l,l+a),e.C=l+a,s)))}_e.prototype.cancel=function(){this.J=!0,De(this)};function Di(e){e.S=Date.now()+e.I,Es(e,e.I)}function Es(e,s){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Fn(S(e.ba,e),s)}function oo(e){e.B&&(u.clearTimeout(e.B),e.B=null)}_e.prototype.ba=function(){this.B=null;let e=Date.now();0<=e-this.S?($l(this.i,this.A),this.L!=2&&(Nn(),Et(17)),De(this),this.s=2,Un(this)):Es(this,this.S-e)};function Un(e){e.j.G==0||e.J||ta(e.j,e)}function De(e){oo(e);var s=e.M;s&&typeof s.ma=="function"&&s.ma(),e.M=null,fs(e.U),e.g&&(s=e.g,e.g=null,s.abort(),s.ma())}function so(e,s){try{var a=e.j;if(a.G!=0&&(a.g==e||ao(a.h,e))){if(!e.K&&ao(a.h,e)&&a.G==3){try{var l=a.Da.g.parse(s)}catch{l=null}if(Array.isArray(l)&&l.length==3){var b=l;if(b[0]==0){t:if(!a.u){if(a.g)if(a.g.F+3e3<e.F)zi(a),Ui(a);else break t;mo(a),Et(18)}}else a.za=b[1],0<a.za-a.T&&37500>b[2]&&a.F&&a.v==0&&!a.C&&(a.C=Fn(S(a.Za,a),6e3));if(1>=As(a.h)&&a.ca){try{a.ca()}catch{}a.ca=void 0}}else Ve(a,11)}else if((e.K||a.g==e)&&zi(a),!xt(s))for(b=a.Da.g.parse(s),s=0;s<b.length;s++){let H=b[s];if(a.T=H[0],H=H[1],a.G==2)if(H[0]=="c"){a.K=H[1],a.ia=H[2];let vt=H[3];vt!=null&&(a.la=vt,a.j.info("VER="+a.la));let Ot=H[4];Ot!=null&&(a.Aa=Ot,a.j.info("SVER="+a.Aa));let qe=H[5];qe!=null&&typeof qe=="number"&&0<qe&&(l=1.5*qe,a.L=l,a.j.info("backChannelRequestTimeoutMs_="+l)),l=a;let $t=e.g;if($t){let Gi=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gi){var w=l.h;w.g||Gi.indexOf("spdy")==-1&&Gi.indexOf("quic")==-1&&Gi.indexOf("h2")==-1||(w.j=w.l,w.g=new Set,w.h&&(co(w,w.h),w.h=null))}if(l.D){let go=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(l.ya=go,ct(l.I,l.D,go))}}a.G=3,a.l&&a.l.ua(),a.ba&&(a.R=Date.now()-e.F,a.j.info("Handshake RTT: "+a.R+"ms")),l=a;var E=e;if(l.qa=ia(l,l.J?l.ia:null,l.W),E.K){ks(l.h,E);var et=E,_t=l.L;_t&&(et.I=_t),et.B&&(oo(et),Di(et)),l.g=E}else Js(l);0<a.i.length&&Bi(a)}else H[0]!="stop"&&H[0]!="close"||Ve(a,7);else a.G==3&&(H[0]=="stop"||H[0]=="close"?H[0]=="stop"?Ve(a,7):uo(a):H[0]!="noop"&&a.l&&a.l.ta(H),a.v=0)}}Nn(4)}catch{}}var Hl=class{constructor(e,s){this.g=e,this.map=s}};function Ts(e){this.l=e||10,u.PerformanceNavigationTiming?(e=u.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ss(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function As(e){return e.h?1:e.g?e.g.size:0}function ao(e,s){return e.h?e.h==s:e.g?e.g.has(s):!1}function co(e,s){e.g?e.g.add(s):e.h=s}function ks(e,s){e.h&&e.h==s?e.h=null:e.g&&e.g.has(s)&&e.g.delete(s)}Ts.prototype.cancel=function(){if(this.i=Ds(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function Ds(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let s=e.i;for(let a of e.g.values())s=s.concat(a.D);return s}return at(e.i)}function Wl(e){if(e.V&&typeof e.V=="function")return e.V();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(p(e)){for(var s=[],a=e.length,l=0;l<a;l++)s.push(e[l]);return s}s=[],a=0;for(l in e)s[a++]=e[l];return s}function Yl(e){if(e.na&&typeof e.na=="function")return e.na();if(!e.V||typeof e.V!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(p(e)||typeof e=="string"){var s=[];e=e.length;for(var a=0;a<e;a++)s.push(a);return s}s=[],a=0;for(let l in e)s[a++]=l;return s}}}function Rs(e,s){if(e.forEach&&typeof e.forEach=="function")e.forEach(s,void 0);else if(p(e)||typeof e=="string")Array.prototype.forEach.call(e,s,void 0);else for(var a=Yl(e),l=Wl(e),b=l.length,w=0;w<b;w++)s.call(void 0,l[w],a&&a[w],e)}var Vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xl(e,s){if(e){e=e.split("&");for(var a=0;a<e.length;a++){var l=e[a].indexOf("="),b=null;if(0<=l){var w=e[a].substring(0,l);b=e[a].substring(l+1)}else w=e[a];s(w,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Re(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof Re){this.h=e.h,Ri(this,e.j),this.o=e.o,this.g=e.g,Vi(this,e.s),this.l=e.l;var s=e.i,a=new jn;a.i=s.i,s.g&&(a.g=new Map(s.g),a.h=s.h),Ns(this,a),this.m=e.m}else e&&(s=String(e).match(Vs))?(this.h=!1,Ri(this,s[1]||"",!0),this.o=Bn(s[2]||""),this.g=Bn(s[3]||"",!0),Vi(this,s[4]),this.l=Bn(s[5]||"",!0),Ns(this,s[6]||"",!0),this.m=Bn(s[7]||"")):(this.h=!1,this.i=new jn(null,this.h))}Re.prototype.toString=function(){var e=[],s=this.j;s&&e.push(zn(s,Fs,!0),":");var a=this.g;return(a||s=="file")&&(e.push("//"),(s=this.o)&&e.push(zn(s,Fs,!0),"@"),e.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a=this.s,a!=null&&e.push(":",String(a))),(a=this.l)&&(this.g&&a.charAt(0)!="/"&&e.push("/"),e.push(zn(a,a.charAt(0)=="/"?td:Zl,!0))),(a=this.i.toString())&&e.push("?",a),(a=this.m)&&e.push("#",zn(a,nd)),e.join("")};function oe(e){return new Re(e)}function Ri(e,s,a){e.j=a?Bn(s,!0):s,e.j&&(e.j=e.j.replace(/:$/,""))}function Vi(e,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);e.s=s}else e.s=null}function Ns(e,s,a){s instanceof jn?(e.i=s,id(e.i,e.h)):(a||(s=zn(s,ed)),e.i=new jn(s,e.h))}function ct(e,s,a){e.i.set(s,a)}function Ni(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Bn(e,s){return e?s?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zn(e,s,a){return typeof e=="string"?(e=encodeURI(e).replace(s,Jl),a&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jl(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Fs=/[#\/\?@]/g,Zl=/[#\?:]/g,td=/[#\?]/g,ed=/[#\?@]/g,nd=/#/g;function jn(e,s){this.h=this.g=null,this.i=e||null,this.j=!!s}function Ce(e){e.g||(e.g=new Map,e.h=0,e.i&&Xl(e.i,function(s,a){e.add(decodeURIComponent(s.replace(/\+/g," ")),a)}))}i=jn.prototype,i.add=function(e,s){Ce(this),this.i=null,e=je(this,e);var a=this.g.get(e);return a||this.g.set(e,a=[]),a.push(s),this.h+=1,this};function Ls(e,s){Ce(e),s=je(e,s),e.g.has(s)&&(e.i=null,e.h-=e.g.get(s).length,e.g.delete(s))}function Us(e,s){return Ce(e),s=je(e,s),e.g.has(s)}i.forEach=function(e,s){Ce(this),this.g.forEach(function(a,l){a.forEach(function(b){e.call(s,b,l,this)},this)},this)},i.na=function(){Ce(this);let e=Array.from(this.g.values()),s=Array.from(this.g.keys()),a=[];for(let l=0;l<s.length;l++){let b=e[l];for(let w=0;w<b.length;w++)a.push(s[l])}return a},i.V=function(e){Ce(this);let s=[];if(typeof e=="string")Us(this,e)&&(s=s.concat(this.g.get(je(this,e))));else{e=Array.from(this.g.values());for(let a=0;a<e.length;a++)s=s.concat(e[a])}return s},i.set=function(e,s){return Ce(this),this.i=null,e=je(this,e),Us(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[s]),this.h+=1,this},i.get=function(e,s){return e?(e=this.V(e),0<e.length?String(e[0]):s):s};function Bs(e,s,a){Ls(e,s),0<a.length&&(e.i=null,e.g.set(je(e,s),at(a)),e.h+=a.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],s=Array.from(this.g.keys());for(var a=0;a<s.length;a++){var l=s[a];let w=encodeURIComponent(String(l)),E=this.V(l);for(l=0;l<E.length;l++){var b=w;E[l]!==""&&(b+="="+encodeURIComponent(String(E[l]))),e.push(b)}}return this.i=e.join("&")};function je(e,s){return s=String(s),e.j&&(s=s.toLowerCase()),s}function id(e,s){s&&!e.j&&(Ce(e),e.i=null,e.g.forEach(function(a,l){var b=l.toLowerCase();l!=b&&(Ls(this,l),Bs(this,b,a))},e)),e.j=s}function rd(e,s){let a=new Ln;if(u.Image){let l=new Image;l.onload=k(be,a,"TestLoadImage: loaded",!0,s,l),l.onerror=k(be,a,"TestLoadImage: error",!1,s,l),l.onabort=k(be,a,"TestLoadImage: abort",!1,s,l),l.ontimeout=k(be,a,"TestLoadImage: timeout",!1,s,l),u.setTimeout(function(){l.ontimeout&&l.ontimeout()},1e4),l.src=e}else s(!1)}function od(e,s){let a=new Ln,l=new AbortController,b=setTimeout(()=>{l.abort(),be(a,"TestPingServer: timeout",!1,s)},1e4);fetch(e,{signal:l.signal}).then(w=>{clearTimeout(b),w.ok?be(a,"TestPingServer: ok",!0,s):be(a,"TestPingServer: server error",!1,s)}).catch(()=>{clearTimeout(b),be(a,"TestPingServer: error",!1,s)})}function be(e,s,a,l,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),l(a)}catch{}}function sd(){this.g=new jl}function ad(e,s,a){let l=a||"";try{Rs(e,function(b,w){let E=b;v(b)&&(E=Jr(b)),s.push(l+w+"="+encodeURIComponent(E))})}catch(b){throw s.push(l+"type="+encodeURIComponent("_badmap")),b}}function Gn(e){this.l=e.Ub||null,this.j=e.eb||!1}L(Gn,Zr),Gn.prototype.g=function(){return new Fi(this.l,this.j)},Gn.prototype.i=function(e){return function(){return e}}({});function Fi(e,s){Mt.call(this),this.D=e,this.o=s,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Fi,Mt),i=Fi.prototype,i.open=function(e,s){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=s,this.readyState=1,$n(this)},i.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let s={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(s.body=e),(this.D||u).fetch(new Request(this.A,s)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},i.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zs(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))};function zs(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}i.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var s=e.value?e.value:new Uint8Array(0);(s=this.v.decode(s,{stream:!e.done}))&&(this.response=this.responseText+=s)}e.done?qn(this):$n(this),this.readyState==3&&zs(this)}},i.Ra=function(e){this.g&&(this.response=this.responseText=e,qn(this))},i.Qa=function(e){this.g&&(this.response=e,qn(this))},i.ga=function(){this.g&&qn(this)};function qn(e){e.readyState=4,e.l=null,e.j=null,e.v=null,$n(e)}i.setRequestHeader=function(e,s){this.u.append(e,s)},i.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],s=this.h.entries();for(var a=s.next();!a.done;)a=a.value,e.push(a[0]+": "+a[1]),a=s.next();return e.join(`\r
`)};function $n(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});function js(e){let s="";return Ht(e,function(a,l){s+=l,s+=":",s+=a,s+=`\r
`}),s}function lo(e,s,a){t:{for(l in a){var l=!1;break t}l=!0}l||(a=js(a),typeof e=="string"?a!=null&&encodeURIComponent(String(a)):ct(e,s,a))}function dt(e){Mt.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(dt,Mt);var cd=/^https?$/i,ld=["POST","PUT"];i=dt.prototype,i.Ha=function(e){this.J=e},i.ea=function(e,s,a,l){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);s=s?s.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():no.g(),this.v=this.o?_s(this.o):_s(no),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(s,String(e),!0),this.B=!1}catch(w){Gs(this,w);return}if(e=a||"",a=new Map(this.headers),l)if(Object.getPrototypeOf(l)===Object.prototype)for(var b in l)a.set(b,l[b]);else if(typeof l.keys=="function"&&typeof l.get=="function")for(let w of l.keys())a.set(w,l.get(w));else throw Error("Unknown input type for opt_headers: "+String(l));l=Array.from(a.keys()).find(w=>w.toLowerCase()=="content-type"),b=u.FormData&&e instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ld,s,void 0))||l||b||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[w,E]of a)this.g.setRequestHeader(w,E);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(e),this.u=!1}catch(w){Gs(this,w)}};function Gs(e,s){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=s,e.m=5,qs(e),Li(e)}function qs(e){e.A||(e.A=!0,It(e,"complete"),It(e,"error"))}i.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,It(this,"complete"),It(this,"abort"),Li(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),dt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?$s(this):this.bb())},i.bb=function(){$s(this)};function $s(e){if(e.h&&typeof d<"u"&&(!e.v[1]||se(e)!=4||e.Z()!=2)){if(e.u&&se(e)==4)hs(e.Ea,0,e);else if(It(e,"readystatechange"),se(e)==4){e.h=!1;try{let E=e.Z();t:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}var a;if(!(a=s)){var l;if(l=E===0){var b=String(e.D).match(Vs)[1]||null;!b&&u.self&&u.self.location&&(b=u.self.location.protocol.slice(0,-1)),l=!cd.test(b?b.toLowerCase():"")}a=l}if(a)It(e,"complete"),It(e,"success");else{e.m=6;try{var w=2<se(e)?e.g.statusText:""}catch{w=""}e.l=w+" ["+e.Z()+"]",qs(e)}}finally{Li(e)}}}}function Li(e,s){if(e.g){Ks(e);let a=e.g,l=e.v[0]?()=>{}:null;e.g=null,e.v=null,s||It(e,"ready");try{a.onreadystatechange=l}catch{}}}function Ks(e){e.I&&(u.clearTimeout(e.I),e.I=null)}i.isActive=function(){return!!this.g};function se(e){return e.g?e.g.readyState:0}i.Z=function(){try{return 2<se(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(e){if(this.g){var s=this.g.responseText;return e&&s.indexOf(e)==0&&(s=s.substring(e.length)),zl(s)}};function Qs(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function dd(e){let s={};e=(e.g&&2<=se(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let l=0;l<e.length;l++){if(xt(e[l]))continue;var a=C(e[l]);let b=a[0];if(a=a[1],typeof a!="string")continue;a=a.trim();let w=s[b]||[];s[b]=w,w.push(a)}y(s,function(l){return l.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kn(e,s,a){return a&&a.internalChannelParams&&a.internalChannelParams[e]||s}function Hs(e){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kn("baseRetryDelayMs",5e3,e),this.cb=Kn("retryDelaySeedMs",1e4,e),this.Wa=Kn("forwardChannelMaxRetries",2,e),this.wa=Kn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ts(e&&e.concurrentRequestLimit),this.Da=new sd,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Hs.prototype,i.la=8,i.G=1,i.connect=function(e,s,a,l){Et(0),this.W=e,this.H=s||{},a&&l!==void 0&&(this.H.OSID=a,this.H.OAID=l),this.F=this.X,this.I=ia(this,null,this.W),Bi(this)};function uo(e){if(Ws(e),e.G==3){var s=e.U++,a=oe(e.I);if(ct(a,"SID",e.K),ct(a,"RID",s),ct(a,"TYPE","terminate"),Qn(e,a),s=new _e(e,e.j,s),s.L=2,s.v=Ni(oe(a)),a=!1,u.navigator&&u.navigator.sendBeacon)try{a=u.navigator.sendBeacon(s.v.toString(),"")}catch{}!a&&u.Image&&(new Image().src=s.v,a=!0),a||(s.g=ra(s.j,null),s.g.ea(s.v)),s.F=Date.now(),Di(s)}na(e)}function Ui(e){e.g&&(ho(e),e.g.cancel(),e.g=null)}function Ws(e){Ui(e),e.u&&(u.clearTimeout(e.u),e.u=null),zi(e),e.h.cancel(),e.s&&(typeof e.s=="number"&&u.clearTimeout(e.s),e.s=null)}function Bi(e){if(!Ss(e.h)&&!e.s){e.s=!0;var s=e.Ga;Sn||as(),An||(Sn(),An=!0),Gr.add(s,e),e.B=0}}function ud(e,s){return As(e.h)>=e.h.j-(e.s?1:0)?!1:e.s?(e.i=s.D.concat(e.i),!0):e.G==1||e.G==2||e.B>=(e.Va?0:e.Wa)?!1:(e.s=Fn(S(e.Ga,e,s),ea(e,e.B)),e.B++,!0)}i.Ga=function(e){if(this.s)if(this.s=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let b=new _e(this,this.j,e),w=this.o;if(this.S&&(w?(w=m(w),f(w,this.S)):w=this.S),this.m!==null||this.O||(b.H=w,w=null),this.P)t:{for(var s=0,a=0;a<this.i.length;a++){e:{var l=this.i[a];if("__data__"in l.map&&(l=l.map.__data__,typeof l=="string")){l=l.length;break e}l=void 0}if(l===void 0)break;if(s+=l,4096<s){s=a;break t}if(s===4096||a===this.i.length-1){s=a+1;break t}}s=1e3}else s=1e3;s=Xs(this,b,s),a=oe(this.I),ct(a,"RID",e),ct(a,"CVER",22),this.D&&ct(a,"X-HTTP-Session-Id",this.D),Qn(this,a),w&&(this.O?s="headers="+encodeURIComponent(String(js(w)))+"&"+s:this.m&&lo(a,this.m,w)),co(this.h,b),this.Ua&&ct(a,"TYPE","init"),this.P?(ct(a,"$req",s),ct(a,"SID","null"),b.T=!0,ro(b,a,null)):ro(b,a,s),this.G=2}}else this.G==3&&(e?Ys(this,e):this.i.length==0||Ss(this.h)||Ys(this))};function Ys(e,s){var a;s?a=s.l:a=e.U++;let l=oe(e.I);ct(l,"SID",e.K),ct(l,"RID",a),ct(l,"AID",e.T),Qn(e,l),e.m&&e.o&&lo(l,e.m,e.o),a=new _e(e,e.j,a,e.B+1),e.m===null&&(a.H=e.o),s&&(e.i=s.D.concat(e.i)),s=Xs(e,a,1e3),a.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),co(e.h,a),ro(a,l,s)}function Qn(e,s){e.H&&Ht(e.H,function(a,l){ct(s,l,a)}),e.l&&Rs({},function(a,l){ct(s,l,a)})}function Xs(e,s,a){a=Math.min(e.i.length,a);var l=e.l?S(e.l.Na,e.l,e):null;t:{var b=e.i;let w=-1;for(;;){let E=["count="+a];w==-1?0<a?(w=b[0].g,E.push("ofs="+w)):w=0:E.push("ofs="+w);let et=!0;for(let _t=0;_t<a;_t++){let H=b[_t].g,vt=b[_t].map;if(H-=w,0>H)w=Math.max(0,b[_t].g-100),et=!1;else try{ad(vt,E,"req"+H+"_")}catch{l&&l(vt)}}if(et){l=E.join("&");break t}}}return e=e.i.splice(0,a),s.D=e,l}function Js(e){if(!e.g&&!e.u){e.Y=1;var s=e.Fa;Sn||as(),An||(Sn(),An=!0),Gr.add(s,e),e.v=0}}function mo(e){return e.g||e.u||3<=e.v?!1:(e.Y++,e.u=Fn(S(e.Fa,e),ea(e,e.v)),e.v++,!0)}i.Fa=function(){if(this.u=null,Zs(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Fn(S(this.ab,this),e)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Ui(this),Zs(this))};function ho(e){e.A!=null&&(u.clearTimeout(e.A),e.A=null)}function Zs(e){e.g=new _e(e,e.j,"rpc",e.Y),e.m===null&&(e.g.H=e.o),e.g.O=0;var s=oe(e.qa);ct(s,"RID","rpc"),ct(s,"SID",e.K),ct(s,"AID",e.T),ct(s,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(s,"TO",e.ja),ct(s,"TYPE","xmlhttp"),Qn(e,s),e.m&&e.o&&lo(s,e.m,e.o),e.L&&(e.g.I=e.L);var a=e.g;e=e.ia,a.L=1,a.v=Ni(oe(s)),a.m=null,a.P=!0,xs(a,e)}i.Za=function(){this.C!=null&&(this.C=null,Ui(this),mo(this),Et(19))};function zi(e){e.C!=null&&(u.clearTimeout(e.C),e.C=null)}function ta(e,s){var a=null;if(e.g==s){zi(e),ho(e),e.g=null;var l=2}else if(ao(e.h,s))a=s.D,ks(e.h,s),l=1;else return;if(e.G!=0){if(s.o)if(l==1){a=s.m?s.m.length:0,s=Date.now()-s.F;var b=e.B;l=Si(),It(l,new Ms(l,a)),Bi(e)}else Js(e);else if(b=s.s,b==3||b==0&&0<s.X||!(l==1&&ud(e,s)||l==2&&mo(e)))switch(a&&0<a.length&&(s=e.h,s.i=s.i.concat(a)),b){case 1:Ve(e,5);break;case 4:Ve(e,10);break;case 3:Ve(e,6);break;default:Ve(e,2)}}}function ea(e,s){let a=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(a*=2),a*s}function Ve(e,s){if(e.j.info("Error code "+s),s==2){var a=S(e.fb,e),l=e.Xa;let b=!l;l=new Re(l||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ri(l,"https"),Ni(l),b?rd(l.toString(),a):od(l.toString(),a)}else Et(2);e.G=0,e.l&&e.l.sa(s),na(e),Ws(e)}i.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function na(e){if(e.G=0,e.ka=[],e.l){let s=Ds(e.h);(s.length!=0||e.i.length!=0)&&(J(e.ka,s),J(e.ka,e.i),e.h.i.length=0,at(e.i),e.i.length=0),e.l.ra()}}function ia(e,s,a){var l=a instanceof Re?oe(a):new Re(a);if(l.g!="")s&&(l.g=s+"."+l.g),Vi(l,l.s);else{var b=u.location;l=b.protocol,s=s?s+"."+b.hostname:b.hostname,b=+b.port;var w=new Re(null);l&&Ri(w,l),s&&(w.g=s),b&&Vi(w,b),a&&(w.l=a),l=w}return a=e.D,s=e.ya,a&&s&&ct(l,a,s),ct(l,"VER",e.la),Qn(e,l),l}function ra(e,s,a){if(s&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return s=e.Ca&&!e.pa?new dt(new Gn({eb:a})):new dt(e.pa),s.Ha(e.J),s}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function oa(){}i=oa.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ji(){}ji.prototype.g=function(e,s){return new Nt(e,s)};function Nt(e,s){Mt.call(this),this.g=new Hs(s),this.l=e,this.h=s&&s.messageUrlParams||null,e=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(e?e["X-WebChannel-Content-Type"]=s.messageContentType:e={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.va&&(e?e["X-WebChannel-Client-Profile"]=s.va:e={"X-WebChannel-Client-Profile":s.va}),this.g.S=e,(e=s&&s.Sb)&&!xt(e)&&(this.g.m=e),this.v=s&&s.supportsCrossDomainXhr||!1,this.u=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!xt(s)&&(this.g.D=s,e=this.h,e!==null&&s in e&&(e=this.h,s in e&&delete e[s])),this.j=new Ge(this)}L(Nt,Mt),Nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){uo(this.g)},Nt.prototype.o=function(e){var s=this.g;if(typeof e=="string"){var a={};a.__data__=e,e=a}else this.u&&(a={},a.__data__=Jr(e),e=a);s.i.push(new Hl(s.Ya++,e)),s.G==3&&Bi(s)},Nt.prototype.N=function(){this.g.l=null,delete this.j,uo(this.g),delete this.g,Nt.aa.N.call(this)};function sa(e){to.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var s=e.__sm__;if(s){t:{for(let a in s){e=a;break t}e=void 0}(this.i=e)&&(e=this.i,s=s!==null&&e in s?s[e]:void 0),this.data=s}else this.data=e}L(sa,to);function aa(){eo.call(this),this.status=1}L(aa,eo);function Ge(e){this.g=e}L(Ge,oa),Ge.prototype.ua=function(){It(this.g,"a")},Ge.prototype.ta=function(e){It(this.g,new sa(e))},Ge.prototype.sa=function(e){It(this.g,new aa)},Ge.prototype.ra=function(){It(this.g,"b")},ji.prototype.createWebChannel=ji.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,fc=me.createWebChannelTransport=function(){return new ji},pc=me.getStatEventTarget=function(){return Si()},gc=me.Event=ke,hc=me.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,mc=me.ErrorCode=Ai,vs.COMPLETE="complete",uc=me.EventType=vs,Cs.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,dc=me.WebChannel=Cs,Mu=me.FetchXmlHttpFactory=Gn,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,lc=me.XhrIo=dt}).apply(typeof Tr<"u"?Tr:typeof self<"u"?self:typeof window<"u"?window:{});var _c="@firebase/firestore",Cc="4.8.0";var Tt=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");var Br="11.10.0";var Sr=new sn("@firebase/firestore");function Qt(i,...t){if(Sr.logLevel<=ot.DEBUG){let o=t.map(Dc);Sr.debug(`Firestore (${Br}): ${i}`,...o)}}function kc(i,...t){if(Sr.logLevel<=ot.ERROR){let o=t.map(Dc);Sr.error(`Firestore (${Br}): ${i}`,...o)}}function Dc(i){if(typeof i=="string")return i;try{return function(o){return JSON.stringify(o)}(i)}catch{return i}}function Ut(i,t,o){let n="Unexpected state";typeof t=="string"?n=t:o=t,Rc(i,n,o)}function Rc(i,t,o){let n=`FIRESTORE (${Br}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(o!==void 0)try{n+=" CONTEXT: "+JSON.stringify(o)}catch{n+=" CONTEXT: "+o}throw kc(n),new Error(n)}function Le(i,t,o,n){let r="Unexpected state";typeof o=="string"?r=o:n=o,i||Rc(t,r,n)}var X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends le{constructor(t,o){super(t,o),this.code=t,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ue=class{constructor(){this.promise=new Promise((t,o)=>{this.resolve=t,this.reject=o})}};var Uo=class{constructor(t,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Bo=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,o){t.enqueueRetryable(()=>o(Tt.UNAUTHENTICATED))}shutdown(){}};var zo=class{constructor(t){this.t=t,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,o){Le(this.o===void 0,42304);let n=this.i,r=p=>this.i!==n?(n=this.i,o(p)):Promise.resolve(),c=new Ue;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ue,t.enqueueRetryable(()=>r(this.currentUser))};let d=()=>{let p=c;t.enqueueRetryable(()=>j(this,null,function*(){yield p.promise,yield r(this.currentUser)}))},u=p=>{Qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>u(p)),setTimeout(()=>{if(!this.auth){let p=this.t.getImmediate({optional:!0});p?u(p):(Qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ue)}},0),d()}getToken(){let t=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(n=>this.i!==t?(Qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Le(typeof n.accessToken=="string",31837,{l:n}),new Uo(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return Le(t===null||typeof t=="string",2055,{h:t}),new Tt(t)}},jo=class{constructor(t,o,n){this.P=t,this.T=o,this.I=n,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Go=class{constructor(t,o,n){this.P=t,this.T=o,this.I=n}getToken(){return Promise.resolve(new jo(this.P,this.T,this.I))}start(t,o){t.enqueueRetryable(()=>o(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ar=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},qo=class{constructor(t,o){this.V=o,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Za(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,o){Le(this.o===void 0,3512);let n=c=>{c.error!=null&&Qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);let d=c.token!==this.m;return this.m=c.token,Qt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?o(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>n(c))};let r=c=>{Qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>r(c)),setTimeout(()=>{if(!this.appCheck){let c=this.V.getImmediate({optional:!0});c?r(c):Qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ar(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(o=>o?(Le(typeof o.token=="string",44558,{tokenResult:o}),this.m=o.token,new Ar(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function vu(i){let t=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(o);else for(let n=0;n<i;n++)o[n]=Math.floor(256*Math.random());return o}function Ou(){return new TextEncoder}var $o=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=62*Math.floor(4.129032258064516),n="";for(;n.length<20;){let r=vu(40);for(let c=0;c<r.length;++c)n.length<20&&r[c]<o&&(n+=t.charAt(r[c]%62))}return n}};function qt(i,t){return i<t?-1:i>t?1:0}function wu(i,t){let o=0;for(;o<i.length&&o<t.length;){let n=i.codePointAt(o),r=t.codePointAt(o);if(n!==r){if(n<128&&r<128)return qt(n,r);{let c=Ou(),d=xu(c.encode(bc(i,o)),c.encode(bc(t,o)));return d!==0?d:qt(n,r)}}o+=n>65535?2:1}return qt(i.length,t.length)}function bc(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function xu(i,t){for(let o=0;o<i.length&&o<t.length;++o)if(i[o]!==t[o])return qt(i[o],t[o]);return qt(i.length,t.length)}var Pc="__name__",kr=class i{constructor(t,o,n){o===void 0?o=0:o>t.length&&Ut(637,{offset:o,range:t.length}),n===void 0?n=t.length-o:n>t.length-o&&Ut(1746,{length:n,range:t.length-o}),this.segments=t,this.offset=o,this.len=n}get length(){return this.len}isEqual(t){return i.comparator(this,t)===0}child(t){let o=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(n=>{o.push(n)}):o.push(t),this.construct(o)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}forEach(t){for(let o=this.offset,n=this.limit();o<n;o++)t(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,o){let n=Math.min(t.length,o.length);for(let r=0;r<n;r++){let c=i.compareSegments(t.get(r),o.get(r));if(c!==0)return c}return qt(t.length,o.length)}static compareSegments(t,o){let n=i.isNumericId(t),r=i.isNumericId(o);return n&&!r?-1:!n&&r?1:n&&r?i.extractNumericId(t).compare(i.extractNumericId(o)):wu(t,o)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Er.fromString(t.substring(4,t.length-2))}},he=class i extends kr{construct(t,o,n){return new i(t,o,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let o=[];for(let n of t){if(n.indexOf("//")>=0)throw new Q(X.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);o.push(...n.split("/").filter(r=>r.length>0))}return new i(o)}static emptyPath(){return new i([])}},Iu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ko=class i extends kr{construct(t,o,n){return new i(t,o,n)}static isValidIdentifier(t){return Iu.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pc}static keyField(){return new i([Pc])}static fromServerFormat(t){let o=[],n="",r=0,c=()=>{if(n.length===0)throw new Q(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(n),n=""},d=!1;for(;r<t.length;){let u=t[r];if(u==="\\"){if(r+1===t.length)throw new Q(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let p=t[r+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Q(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=p,r+=2}else u==="`"?(d=!d,r++):u!=="."||d?(n+=u,r++):(c(),r++)}if(c(),d)throw new Q(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new i(o)}static emptyPath(){return new i([])}};var ge=class i{constructor(t){this.path=t}static fromPath(t){return new i(he.fromString(t))}static fromName(t){return new i(he.fromString(t).popFirst(5))}static empty(){return new i(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,o){return he.comparator(t.path,o.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new i(new he(t.slice()))}};function Eu(i,t,o,n){if(t===!0&&n===!0)throw new Q(X.INVALID_ARGUMENT,`${i} and ${o} cannot be used together.`)}function Tu(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function ht(i,t){let o={typeString:i};return t&&(o.value=t),o}function wi(i,t){if(!Tu(i))throw new Q(X.INVALID_ARGUMENT,"JSON must be an object");let o;for(let n in t)if(t[n]){let r=t[n].typeString,c="value"in t[n]?{value:t[n].value}:void 0;if(!(n in i)){o=`JSON missing required field: '${n}'`;break}let d=i[n];if(r&&typeof d!==r){o=`JSON field '${n}' must be a ${r}.`;break}if(c!==void 0&&d!==c.value){o=`Expected '${n}' field to equal '${c.value}'`;break}}if(o)throw new Q(X.INVALID_ARGUMENT,o);return!0}var yc=-62135596800,Mc=1e6,Pt=class i{static now(){return i.fromMillis(Date.now())}static fromDate(t){return i.fromMillis(t.getTime())}static fromMillis(t){let o=Math.floor(t/1e3),n=Math.floor((t-1e3*o)*Mc);return new i(o,n)}constructor(t,o){if(this.seconds=t,this.nanoseconds=o,o<0)throw new Q(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new Q(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(t<yc)throw new Q(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Q(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mc}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:i._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wi(t,i._jsonSchema))return new i(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-yc;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:ht("string",Pt._jsonSchemaVersion),seconds:ht("number"),nanoseconds:ht("number")};var Qo=class{constructor(t,o,n,r){this.indexId=t,this.collectionGroup=o,this.fields=n,this.indexState=r}};Qo.UNKNOWN_ID=-1;function Su(i){return i.name==="IndexedDbTransactionError"}function Au(i){return i===0&&1/i==-1/0}var ku="remoteDocuments",Vc="owner";var Nc="mutationQueues";var Fc="mutations";var Lc="documentMutations",Du="remoteDocumentsV14";var Uc="remoteDocumentGlobal";var Bc="targets";var zc="targetDocuments";var jc="targetGlobal",Gc="collectionParents";var qc="clientMetadata";var $c="bundles";var Kc="namedQueries";var Ru="indexConfiguration";var Vu="indexState";var Nu="indexEntries";var Qc="documentOverlays";var Fu="globals";var Lu=[Nc,Fc,Lc,ku,Bc,Vc,jc,zc,qc,Uc,Gc,$c,Kc],kg=[...Lu,Qc],Uu=[Nc,Fc,Lc,Du,Bc,Vc,jc,zc,qc,Uc,Gc,$c,Kc,Qc],Bu=Uu,zu=[...Bu,Ru,Vu,Nu];var Dg=[...zu,Fu];var xn=class i{constructor(t,o){this.comparator=t,this.root=o||ie.EMPTY}insert(t,o){return new i(this.comparator,this.root.insert(t,o,this.comparator).copy(null,null,ie.BLACK,null,null))}remove(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ie.BLACK,null,null))}get(t){let o=this.root;for(;!o.isEmpty();){let n=this.comparator(t,o.key);if(n===0)return o.value;n<0?o=o.left:n>0&&(o=o.right)}return null}indexOf(t){let o=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(t,n.key);if(r===0)return o+n.left.size;r<0?n=n.left:(o+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((o,n)=>(t(o,n),!1))}toString(){let t=[];return this.inorderTraversal((o,n)=>(t.push(`${o}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mn(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mn(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mn(this.root,t,this.comparator,!0)}},Mn=class{constructor(t,o,n,r){this.isReverse=r,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=o?n(t.key,o):1,o&&r&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),o={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},ie=class i{constructor(t,o,n,r,c){this.key=t,this.value=o,this.color=n!=null?n:i.RED,this.left=r!=null?r:i.EMPTY,this.right=c!=null?c:i.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,o,n,r,c){return new i(t!=null?t:this.key,o!=null?o:this.value,n!=null?n:this.color,r!=null?r:this.left,c!=null?c:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,o,n){let r=this,c=n(t,r.key);return r=c<0?r.copy(null,null,null,r.left.insert(t,o,n),null):c===0?r.copy(null,o,null,null,null):r.copy(null,null,null,null,r.right.insert(t,o,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return i.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,o){let n,r=this;if(o(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,o),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),o(t,r.key)===0){if(r.right.isEmpty())return i.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,o))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,o)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw Ut(27949);return t+(this.isRed()?0:1)}};ie.EMPTY=null,ie.RED=!0,ie.BLACK=!1;ie.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(t,o,n,r,c){return this}insert(t,o,n){return new ie(t,o)}remove(t,o){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Dr=class i{constructor(t){this.comparator=t,this.data=new xn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((o,n)=>(t(o),!1))}forEachInRange(t,o){let n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;o(r.key)}}forEachWhile(t,o){let n;for(n=o!==void 0?this.data.getIteratorFrom(o):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){let o=this.data.getIteratorFrom(t);return o.hasNext()?o.getNext().key:null}getIterator(){return new Rr(this.data.getIterator())}getIteratorFrom(t){return new Rr(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let o=this;return o.size<t.size&&(o=t,t=this),t.forEach(n=>{o=o.add(n)}),o}isEqual(t){if(!(t instanceof i)||this.size!==t.size)return!1;let o=this.data.getIterator(),n=t.data.getIterator();for(;o.hasNext();){let r=o.getNext().key,c=n.getNext().key;if(this.comparator(r,c)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(o=>{t.push(o)}),t}toString(){let t=[];return this.forEach(o=>t.push(o)),"SortedSet("+t.toString()+")"}copy(t){let o=new i(this.comparator);return o.data=t,o}},Rr=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ho=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ae=class i{constructor(t){this.binaryString=t}static fromBase64String(t){let o=function(r){try{return atob(r)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Ho("Invalid base64 string: "+c):c}}(t);return new i(o)}static fromUint8Array(t){let o=function(r){let c="";for(let d=0;d<r.length;++d)c+=String.fromCharCode(r[d]);return c}(t);return new i(o)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(o){return btoa(o)}(this.binaryString)}toUint8Array(){return function(o){let n=new Uint8Array(o.length);for(let r=0;r<o.length;r++)n[r]=o.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Ae.EMPTY_BYTE_STRING=new Ae("");var ju=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gu(i){if(Le(!!i,39018),typeof i=="string"){let t=0,o=ju.exec(i);if(Le(!!o,46558,{timestamp:i}),o[1]){let r=o[1];r=(r+"000000000").substr(0,9),t=Number(r)}let n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Pi(i.seconds),nanos:Pi(i.nanos)}}function Pi(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function qu(i){return typeof i=="string"?Ae.fromBase64String(i):Ae.fromUint8Array(i)}var vc="(default)",Wo=class i{constructor(t,o){this.projectId=t,this.database=o||vc}static empty(){return new i("","")}get isDefaultDatabase(){return this.database===vc}isEqual(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database}};var Hc="__type__",$u="__max__";var Wc="__vector__",Yc="value";function Ku(i){var t,o;return((o=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Hc])===null||o===void 0?void 0:o.stringValue)===Wc}function Qu(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===$u}var Vg={mapValue:{fields:{[Hc]:{stringValue:Wc},[Yc]:{arrayValue:{}}}}};var Yo=class{constructor(t,o=null,n=[],r=[],c=null,d="F",u=null,p=null){this.path=t,this.collectionGroup=o,this.explicitOrderBy=n,this.filters=r,this.limit=c,this.limitType=d,this.startAt=u,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Hu(i){return new Yo(i)}var Ng=new xn(ge.comparator);var Fg=new xn(ge.comparator);var Lg=new xn(ge.comparator),Ug=new Dr(ge.comparator);var Bg=new Dr(qt);var Oc,K;(K=Oc||(Oc={}))[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";var zg=new Er([4294967295,4294967295],0);var Vr=class{constructor(){}bt(t,o){this.Dt(t,o),o.vt()}Dt(t,o){if("nullValue"in t)this.Ct(o,5);else if("booleanValue"in t)this.Ct(o,10),o.Ft(t.booleanValue?1:0);else if("integerValue"in t)this.Ct(o,15),o.Ft(Pi(t.integerValue));else if("doubleValue"in t){let n=Pi(t.doubleValue);isNaN(n)?this.Ct(o,13):(this.Ct(o,15),Au(n)?o.Ft(0):o.Ft(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Ct(o,20),typeof n=="string"&&(n=Gu(n)),o.Mt(`${n.seconds||""}`),o.Ft(n.nanos||0)}else if("stringValue"in t)this.xt(t.stringValue,o),this.Ot(o);else if("bytesValue"in t)this.Ct(o,30),o.Nt(qu(t.bytesValue)),this.Ot(o);else if("referenceValue"in t)this.Bt(t.referenceValue,o);else if("geoPointValue"in t){let n=t.geoPointValue;this.Ct(o,45),o.Ft(n.latitude||0),o.Ft(n.longitude||0)}else"mapValue"in t?Qu(t)?this.Ct(o,Number.MAX_SAFE_INTEGER):Ku(t)?this.Lt(t.mapValue,o):(this.kt(t.mapValue,o),this.Ot(o)):"arrayValue"in t?(this.qt(t.arrayValue,o),this.Ot(o)):Ut(19022,{Qt:t})}xt(t,o){this.Ct(o,25),this.$t(t,o)}$t(t,o){o.Mt(t)}kt(t,o){let n=t.fields||{};this.Ct(o,55);for(let r of Object.keys(n))this.xt(r,o),this.Dt(n[r],o)}Lt(t,o){var n,r;let c=t.fields||{};this.Ct(o,53);let d=Yc,u=((r=(n=c[d].arrayValue)===null||n===void 0?void 0:n.values)===null||r===void 0?void 0:r.length)||0;this.Ct(o,15),o.Ft(Pi(u)),this.xt(d,o),this.Dt(c[d],o)}qt(t,o){let n=t.values||[];this.Ct(o,50);for(let r of n)this.Dt(r,o)}Bt(t,o){this.Ct(o,37),ge.fromName(t).path.forEach(n=>{this.Ct(o,60),this.$t(n,o)})}Ct(t,o){t.Ft(o)}Ot(t){t.Ft(2)}};Vr.Ut=new Vr;var jg=new Uint8Array(0);var Xc=41943040,ne=class i{static withCacheSize(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,o,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=n}};ne.DEFAULT_COLLECTION_PERCENTILE=10,ne.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ne.DEFAULT=new ne(Xc,ne.DEFAULT_COLLECTION_PERCENTILE,ne.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ne.DISABLED=new ne(-1,0,0);var Wu=1048576;function Lo(){return typeof document<"u"?document:null}var Xo=class{constructor(t,o,n=1e3,r=1.5,c=6e4){this.Fi=t,this.timerId=o,this.d_=n,this.E_=r,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();let o=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,o-n);r>0&&Qt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${o} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Jo=class i{constructor(t,o,n,r,c){this.asyncQueue=t,this.timerId=o,this.targetTimeMs=n,this.op=r,this.removalCallback=c,this.deferred=new Ue,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,o,n,r,c){let d=Date.now()+n,u=new i(t,o,d,r,c);return u.start(n),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var wc,xc;(xc=wc||(wc={})).Fa="default",xc.Cache="cache";function Yu(i){let t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}var Ic=new Map;var Xu="firestore.googleapis.com",Ec=!0,Nr=class{constructor(t){var o,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Q(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xu,this.ssl=Ec}else this.host=t.host,this.ssl=(o=t.ssl)!==null&&o!==void 0?o:Ec;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Xc;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Wu)throw new Q(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Eu("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yu((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new Q(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Q(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Q(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},Zo=class{constructor(t,o,n,r){this._authCredentials=t,this._appCheckCredentials=o,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nr({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Q(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nr(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Bo;switch(n.type){case"firstParty":return new Go(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Q(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return j(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(o){let n=Ic.get(o);n&&(Qt("ComponentProvider","Removing Datastore"),Ic.delete(o),n.terminate())}(this),Promise.resolve()}};var ts=class i{constructor(t,o,n){this.converter=o,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new i(this.firestore,t,this._query)}},Be=class i{constructor(t,o,n){this.converter=o,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new i(this.firestore,t,this._key)}toJSON(){return{type:i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,o,n){if(wi(o,i._jsonSchema))return new i(t,n||null,new ge(he.fromString(o.referencePath)))}};Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:ht("string",Be._jsonSchemaVersion),referencePath:ht("string")};var es=class i extends ts{constructor(t,o,n){super(t,o,Hu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new ge(t))}withConverter(t){return new i(this.firestore,t,this._path)}};var Tc="AsyncQueue",Fr=class{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Xo(this,"async_queue_retry"),this.oc=()=>{let n=Lo();n&&Qt(Tc,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=t;let o=Lo();o&&typeof o.addEventListener=="function"&&o.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;let o=Lo();o&&typeof o.removeEventListener=="function"&&o.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});let o=new Ue;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}cc(){return j(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Su(t))throw t;Qt(Tc,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(t){let o=this._c.then(()=>(this.nc=!0,t().catch(n=>{throw this.tc=n,this.nc=!1,kc("INTERNAL UNHANDLED ERROR: ",Sc(n)),n}).then(n=>(this.nc=!1,n))));return this._c=o,o}enqueueAfterDelay(t,o,n){this.ac(),this.sc.indexOf(t)>-1&&(o=0);let r=Jo.createAndSchedule(this,t,o,n,c=>this.lc(c));return this.ec.push(r),r}ac(){this.tc&&Ut(47125,{hc:Sc(this.tc)})}verifyOperationInProgress(){}Pc(){return j(this,null,function*(){let t;do t=this._c,yield t;while(t!==this._c)})}Tc(t){for(let o of this.ec)if(o.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((o,n)=>o.targetTimeMs-n.targetTimeMs);for(let o of this.ec)if(o.skipDelay(),t!=="all"&&o.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){let o=this.ec.indexOf(t);this.ec.splice(o,1)}};function Sc(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}var ns=class extends Zo{constructor(t,o,n,r){super(t,o,n,r),this.type="firestore",this._queue=new Fr,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return j(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new Fr(t),this._firestoreClient=void 0,yield t}})}};var yi=class i{constructor(t){this._byteString=t}static fromBase64String(t){try{return new i(Ae.fromBase64String(t))}catch(o){throw new Q(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(t){return new i(Ae.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wi(t,i._jsonSchema))return i.fromBase64String(t.bytes)}};yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:ht("string",yi._jsonSchemaVersion),bytes:ht("string")};var Lr=class{constructor(...t){for(let o=0;o<t.length;++o)if(t[o].length===0)throw new Q(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ko(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var Mi=class i{constructor(t,o){if(!isFinite(t)||t<-90||t>90)throw new Q(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(o)||o<-180||o>180)throw new Q(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=t,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:i._jsonSchemaVersion}}static fromJSON(t){if(wi(t,i._jsonSchema))return new i(t.latitude,t.longitude)}};Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:ht("string",Mi._jsonSchemaVersion),latitude:ht("number"),longitude:ht("number")};var vi=class i{constructor(t){this._values=(t||[]).map(o=>o)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,r){if(n.length!==r.length)return!1;for(let c=0;c<n.length;++c)if(n[c]!==r[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wi(t,i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(o=>typeof o=="number"))return new i(t.vectorValues);throw new Q(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:ht("string",vi._jsonSchemaVersion),vectorValues:ht("object")};var Ju=new RegExp("[~\\*/\\[\\]]");function Zu(i,t,o){if(t.search(Ju)>=0)throw Ac(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,o);try{return new Lr(...t.split("."))._internalPath}catch{throw Ac(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,o)}}function Ac(i,t,o,n,r){let c=n&&!n.isEmpty(),d=r!==void 0,u=`Function ${t}() called with invalid data`;o&&(u+=" (via `toFirestore()`)"),u+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${n}`),d&&(p+=` in document ${r}`),p+=")"),new Q(X.INVALID_ARGUMENT,u+i+p)}var Ur=class{constructor(t,o,n,r,c){this._firestore=t,this._userDataWriter=o,this._key=n,this._document=r,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new is(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let o=this._document.data.field(Jc("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o)}}},is=class extends Ur{data(){return super.data()}};function Jc(i,t){return typeof t=="string"?Zu(i,t):t instanceof Lr?t._internalPath:t._delegate._internalPath}var vn=class{constructor(t,o){this.hasPendingWrites=t,this.fromCache=o}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},On=class i extends Ur{constructor(t,o,n,r,c,d){super(t,o,n,r,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let o=new wn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,o={}){if(this._document){let n=this._document.data.field(Jc("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,o.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,o={};return o.type=i._jsonSchemaVersion,o.bundle="",o.bundleSource="DocumentSnapshot",o.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?o:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),o.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),o)}};On._jsonSchemaVersion="firestore/documentSnapshot/1.0",On._jsonSchema={type:ht("string",On._jsonSchemaVersion),bundleSource:ht("string","DocumentSnapshot"),bundleName:ht("string"),bundle:ht("string")};var wn=class extends On{data(t={}){return super.data(t)}},Oi=class i{constructor(t,o,n,r){this._firestore=t,this._userDataWriter=o,this._snapshot=r,this.metadata=new vn(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let t=[];return this.forEach(o=>t.push(o)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,o){this._snapshot.docs.forEach(n=>{t.call(o,new wn(this._firestore,this._userDataWriter,n.key,n,new vn(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let o=!!t.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new Q(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(r,c){if(r._snapshot.oldDocs.isEmpty()){let d=0;return r._snapshot.docChanges.map(u=>{let p=new wn(r._firestore,r._userDataWriter,u.doc.key,u.doc,new vn(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>c||u.type!==3).map(u=>{let p=new wn(r._firestore,r._userDataWriter,u.doc.key,u.doc,new vn(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),v=-1,x=-1;return u.type!==0&&(v=d.indexOf(u.doc.key),d=d.delete(u.doc.key)),u.type!==1&&(d=d.add(u.doc),x=d.indexOf(u.doc.key)),{type:tm(u.type),doc:p,oldIndex:v,newIndex:x}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=i._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$o.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let o=[],n=[],r=[];return this.docs.forEach(c=>{c._document!==null&&(o.push(c._document),n.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),r.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function tm(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:i})}}Oi._jsonSchemaVersion="firestore/querySnapshot/1.0",Oi._jsonSchema={type:ht("string",Oi._jsonSchemaVersion),bundleSource:ht("string","QuerySnapshot"),bundleName:ht("string"),bundle:ht("string")};(function(t,o=!0){(function(r){Br=r})(tc),ti(new xe("firestore",(n,{instanceIdentifier:r,options:c})=>{let d=n.getProvider("app").getImmediate(),u=new ns(new zo(n.getProvider("auth-internal")),new qo(d,n.getProvider("app-check-internal")),function(v,x){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Q(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wo(v.options.projectId,x)}(d,r),d);return c=Object.assign({useFetchStreams:o},c),u._setSettings(c),u},"PUBLIC").setMultipleInstances(!0)),an(_c,Cc,t),an(_c,Cc,"esm2017")})();function em(i,t){i&1&&mt(0,"mat-spinner",21)}function nm(i,t){i&1&&(_(0,"p",16),O(1,"Email is required"),P())}function im(i,t){i&1&&(_(0,"p",16),O(1,"Please enter a valid email address"),P())}function rm(i,t){i&1&&(_(0,"p",16),O(1,"This person is already a member of the group"),P())}function om(i,t){if(i&1&&(_(0,"p",22),O(1),P()),i&2){let o=R();ye("user-found",o.userExists)("user-not-found",!o.userExists&&!o.checkingUser),I(),$(" ",o.getUserStatusText()," ")}}function sm(i,t){if(i&1&&mt(0,"img",31),i&2){let o=R().$implicit;D("src",o.photoURL,Qi)("alt",o.displayName)}}function am(i,t){i&1&&(_(0,"mat-icon"),O(1,"person"),P())}function cm(i,t){if(i&1){let o=pt();_(0,"div",23)(1,"div",24),G(2,sm,1,2,"img",25)(3,am,2,0,"mat-icon",26),P(),_(4,"div",27)(5,"span",28),O(6),P(),_(7,"span",29),O(8),P()(),_(9,"button",30),z("click",function(){let r=nt(o).$implicit,c=R();return it(c.onDeleteMember(r.userId))}),_(10,"mat-icon"),O(11,"delete"),P()()()}if(i&2){let o=t.$implicit;I(2),D("ngIf",o.photoURL),I(),D("ngIf",!o.photoURL),I(3),rt(o.displayName),I(2),rt(o.email)}}var In=(()=>{let t=class t{constructor(n,r,c,d,u,p){this.fb=n,this.dialogRef=r,this.data=c,this.auth=d,this.userService=u,this.dialog=p,this.isSubmitting=!1,this.userExists=!1,this.checkingUser=!1,this.group=c.group,this.memberForm=this.fb.group({email:["",[Me.required,Me.email]]})}ngOnInit(){setTimeout(()=>{let n=document.querySelector('input[formControlName="email"]');n&&n.focus()},100)}onEmailChange(){return j(this,null,function*(){var r,c,d;let n=(r=this.memberForm.get("email"))==null?void 0:r.value;if(n&&this.isEmailAlreadyMember(n)){(c=this.memberForm.get("email"))==null||c.setErrors({alreadyMember:!0}),this.userExists=!1;return}if(n&&((d=this.memberForm.get("email"))!=null&&d.valid)){this.checkingUser=!0;try{let u=yield this.userService.findUserByEmail(n);this.userExists=!!u}catch(u){console.error("Error checking user:",u),this.userExists=!1}finally{this.checkingUser=!1}}else this.userExists=!1})}onSubmit(){return j(this,null,function*(){if(this.memberForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let r={email:this.memberForm.value.email.trim().toLowerCase(),role:Fe.MEMBER};this.dialogRef.close(r)}catch(n){console.error("Error adding member:",n)}finally{this.isSubmitting=!1}}else this.memberForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(n){let r=this.memberForm.get(n);return r!=null&&r.hasError("required")?`${n.charAt(0).toUpperCase()+n.slice(1)} is required`:r!=null&&r.hasError("email")?"Please enter a valid email address":r!=null&&r.hasError("alreadyMember")?"This user is already a member of this group":""}isEmailAlreadyMember(n){return this.group.members.some(r=>r.email.toLowerCase()===n.toLowerCase())}getRoleDisplayName(n){return{admin:"Admin",member:"Member"}[n]||n}getUserStatusText(){var r,c;return this.checkingUser?"Checking if user exists...":this.userExists?"\u2713 User found in system - invitation will be sent immediately":((r=this.memberForm.get("email"))==null?void 0:r.value)&&((c=this.memberForm.get("email"))!=null&&c.valid)?"\u2139 User not found - invitation will be sent when they register":""}onDeleteMember(n){this.dialog.open(we,{data:{title:"Delete Member",message:"Are you sure you want to delete this member? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(r=>{r&&this.dialogRef.close({action:"delete",userId:n})})}};t.\u0275fac=function(r){return new(r||t)(U(ir),U(or),U(Da),U(wt),U(Je),U(te))},t.\u0275cmp=Ct({type:t,selectors:[["app-add-member-dialog"]],decls:36,vars:10,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Add Member",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"member-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","email","formControlName","email","placeholder","Enter member's email address","autofocus","",1,"form-input",3,"input"],[1,"field-footer"],[1,"error-message"],[1,"status-message",3,"user-found","user-not-found"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"bottom-spacing"],["diameter","16"],[1,"status-message"],[1,"member-item"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],["mat-icon-button","",3,"click"],[3,"src","alt"]],template:function(r,c){if(r&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),z("click",function(){return c.onCancel()}),_(4,"mat-icon"),O(5,"arrow_back"),P()(),_(6,"h6",4),O(7," Add Member "),P()(),_(8,"button",5),z("click",function(){return c.onCancel()}),_(9,"mat-icon"),O(10,"close"),P()(),_(11,"button",6),z("click",function(){return c.onSubmit()}),G(12,em,1,0,"mat-spinner",7),O(13),P()()(),_(14,"div",8)(15,"div",9)(16,"form",10),z("ngSubmit",function(){return c.onSubmit()}),_(17,"div",11)(18,"label",12)(19,"mat-icon",13),O(20,"email"),P(),O(21," Email Address * "),P(),_(22,"input",14),z("input",function(){return c.onEmailChange()}),P(),_(23,"div",15),G(24,nm,2,0,"p",16)(25,im,2,0,"p",16)(26,rm,2,0,"p",16)(27,om,2,5,"p",17),P()(),_(28,"div",11)(29,"label",12)(30,"mat-icon",13),O(31,"people"),P(),O(32),P(),_(33,"div",18),G(34,cm,12,4,"div",19),P()(),mt(35,"div",20),P()()()),r&2){let d,u,p;I(11),D("disabled",c.memberForm.invalid||c.isSubmitting),I(),D("ngIf",c.isSubmitting),I(),$(" ",c.isSubmitting?"Adding...":"Add"," "),I(3),D("formGroup",c.memberForm),I(8),Ft((d=c.memberForm.get("email"))!=null&&d.hasError("required")&&((d=c.memberForm.get("email"))!=null&&d.touched)?24:-1),I(),Ft((u=c.memberForm.get("email"))!=null&&u.hasError("email")&&((u=c.memberForm.get("email"))!=null&&u.touched)?25:-1),I(),Ft((p=c.memberForm.get("email"))!=null&&p.hasError("alreadyMember")&&((p=c.memberForm.get("email"))!=null&&p.touched)?26:-1),I(),Ft(c.getUserStatusText()?27:-1),I(5),$(" Current Members (",c.group.members.length,") "),I(2),D("ngForOf",c.group.members)}},dependencies:[He,kt,tr,Xi,Ji,Zi,er,nr,Gt,Zt,Vt,Oe,Ze],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.75rem;margin:.25rem 0 0;display:flex;align-items:center;gap:.25rem;padding:.5rem;border-radius:6px;font-weight:500}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#059669;background-color:#d1fae5;border:1px solid #a7f3d0}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#6ee7b7;background-color:#064e3b;border-color:#047857}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#d97706;background-color:#fef3c7;border:1px solid #fde68a}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#fbbf24;background-color:#451a03;border-color:#92400e}.members-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;border:1px solid #e5e7eb;border-radius:8px;background:#f9fafb}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]{max-height:250px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]{max-height:200px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;border-bottom:1px solid #e5e7eb;background:#fff}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.75rem;gap:.5rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.625rem;gap:.375rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center;overflow:hidden;flex-shrink:0}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:36px;height:36px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:32px;height:32px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{background:#374151}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:20px;width:20px;height:20px}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#374151;font-weight:500;font-size:.875rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#f3f4f6}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.65rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#9ca3af}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem;height:24px;font-weight:500}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.7rem;height:22px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.65rem;height:20px}}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let i=t;return i})();function um(i,t){if(i&1){let o=pt();_(0,"button",15),z("click",function(r){nt(o);let c=R();return it(c.onDeleteGroup(r))}),_(1,"mat-icon"),O(2,"delete"),P(),_(3,"span"),O(4,"Delete Group"),P()()}}var el=(()=>{let t=class t{constructor(n,r,c){this.router=n,this.auth=r,this.dialog=c,this.isSelected=!1,this.isMobile=!1,this.groupSelected=new $e,this.addMember=new $e,this.deleteGroup=new $e}onGroupClick(){this.router.navigate(["dashboard/splitwise/group",this.group.id])}openAddMemberDialog(n){n.stopPropagation(),this.dialog.open(In,{width:this.isMobile?"90vw":"400px",maxWidth:this.isMobile?"400px":"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(c=>{c&&this.addMember.emit({groupId:this.group.id,request:c})})}onDeleteGroup(n){n.stopPropagation(),this.deleteGroup.emit(this.group)}getGroupMemberCount(){return this.group.members.filter(n=>n.isActive).length}getCurrentUserRole(){let n=this.auth.currentUser;if(!n)return"";let r=this.group.members.find(c=>c.userId===n.uid);return(r==null?void 0:r.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}formatDate(n){return n?(n.toDate?n.toDate():new Date(n)).toLocaleDateString():""}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}};t.\u0275fac=function(r){return new(r||t)(U(We),U(wt),U(te))},t.\u0275cmp=Ct({type:t,selectors:[["app-group"]],inputs:{group:"group",isSelected:"isSelected",isMobile:"isMobile"},outputs:{groupSelected:"groupSelected",addMember:"addMember",deleteGroup:"deleteGroup"},decls:28,vars:12,consts:[["groupMenu","matMenu"],[1,"group-item",3,"click"],[1,"group-info"],[1,"group-header"],[1,"group-title-section"],[1,"group-name"],[1,"group-meta"],[1,"member-count"],[1,"member-text"],[1,"created-date"],[1,"group-actions"],["mat-icon-button","",1,"menu-trigger",3,"click","matMenuTriggerFor"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"]],template:function(r,c){if(r&1){let d=pt();_(0,"div",1),z("click",function(){return nt(d),it(c.onGroupClick())}),_(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),O(5),Ke(6,"titlecase"),P(),_(7,"div",6)(8,"span",7)(9,"mat-icon"),O(10,"people"),P(),_(11,"span",8),O(12),P()(),_(13,"span",9),O(14),P()()()()(),_(15,"div",10)(16,"button",11),z("click",function(p){return nt(d),it(p.stopPropagation())}),_(17,"mat-icon"),O(18,"more_vert"),P()(),_(19,"mat-menu",12,0)(21,"button",13),z("click",function(p){return nt(d),it(c.openAddMemberDialog(p))}),_(22,"mat-icon"),O(23,"person_add"),P(),_(24,"span"),O(25,"Add Member"),P()(),mt(26,"mat-divider"),G(27,um,5,0,"button",14),P()()()}if(r&2){let d=Wn(20);ye("selected",c.isSelected)("mobile",c.isMobile),I(5),rt(Qe(6,10,c.group.name)),I(7),$("",c.getGroupMemberCount()," members"),I(2),$("Created ",c.formatDate(c.group.createdAt),""),I(2),D("matMenuTriggerFor",d),Hn("aria-label","More options for "+c.group.name),I(11),D("ngIf",c.canManageGroup())}},dependencies:[kt,dr,Zt,Vt,ar,sr,cr,Hi],styles:[".group-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:16px;border:1px solid #e0e0e0;border-radius:12px;margin-bottom:12px;cursor:pointer;transition:all .2s ease;background:#fff;position:relative;min-height:80px}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;box-shadow:0 4px 12px #1976d226;transform:translateY(-1px)}.group-item.selected[_ngcontent-%COMP%]{border-color:#1976d2;background:#f3f8ff;box-shadow:0 4px 12px #1976d233}.group-item.mobile[_ngcontent-%COMP%]{padding:12px;min-height:70px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{flex:1;min-width:0;margin-right:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.1rem;font-weight:600;color:#333;line-height:1.3;word-break:break-word}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.8rem;color:#666;font-weight:500}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#1976d2}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   .member-text[_ngcontent-%COMP%]{white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.75rem;color:#999;white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:flex-start}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d20a}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#f443360a}@media (max-width: 768px){.group-item[_ngcontent-%COMP%]{padding:12px;margin-bottom:8px;min-height:70px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{margin-right:8px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px;flex-direction:row;align-items:center}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 480px){.group-item[_ngcontent-%COMP%]{padding:10px;min-height:65px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:4px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.65rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:28px;height:28px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}@media (prefers-color-scheme: dark){.group-item[_ngcontent-%COMP%]{background:#2d2d2d;border-color:#404040;color:#e0e0e0}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;background:#3a3a3a}.group-item.selected[_ngcontent-%COMP%]{background:#1a3a5f;border-color:#1976d2}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{color:#e0e0e0}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{color:#b0b0b0}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{color:#888}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{color:#b0b0b0}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d21a}}"]});let i=t;return i})();var rl=(i,t)=>t.id;function hm(i,t){if(i&1){let o=pt();_(0,"div",17)(1,"div",18)(2,"div",19)(3,"h4"),O(4),P(),_(5,"p"),O(6),P(),_(7,"small"),O(8),P()(),_(9,"div",20)(10,"button",21),z("click",function(){let r=nt(o).$implicit,c=R(2);return it(c.acceptInvitation(r))}),_(11,"mat-icon"),O(12,"check"),P(),O(13," Accept "),P(),_(14,"button",22),z("click",function(){let r=nt(o).$implicit,c=R(2);return it(c.declineInvitation(r))}),_(15,"mat-icon"),O(16,"close"),P(),O(17," Decline "),P()()()()}if(i&2){let o=t.$implicit,n=R(2);I(4),rt(o.groupName),I(2),$("Invited by ",o.invitedByDisplayName,""),I(2),rt(n.formatDate(o.createdAt))}}function gm(i,t){if(i&1&&(_(0,"div",14)(1,"mat-card",15)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),O(5,"mail"),P(),O(6," Pending Invitations "),P()(),_(7,"mat-card-content")(8,"div",16),Co(9,hm,18,3,"div",17,rl),P()()()()),i&2){let o=R();I(9),bo(o.invitations)}}function pm(i,t){if(i&1){let o=pt();_(0,"app-group",23),z("addMember",function(r){nt(o);let c=R();return it(c.handleAddMember(r))})("deleteGroup",function(r){nt(o);let c=R();return it(c.deleteGroup(r))}),P()}if(i&2){let o=t.$implicit,n=R();D("group",o)("isSelected",!1)("isMobile",n.isMobile)}}var ol=(()=>{let t=class t{constructor(n,r,c,d,u){this.breakpointObserver=n,this.auth=r,this.store=c,this.dialog=d,this.notificationService=u,this.groups=[],this.invitations=[],this.isMobile=!1,this.currentUser=null,this.error=null,this.destroy$=new Pe,this.breakpointObserver.observe([Xe.Handset]).pipe(ae(this.destroy$)).subscribe(p=>{this.isMobile=p.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.loadData(),this.subscribeToStore()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(Pn).pipe(ae(this.destroy$)).subscribe(n=>{this.groups=n.groups,this.invitations=n.invitations,this.error=n.error,this.error&&(this.notificationService.error(this.error),this.store.dispatch(Te()))})}loadData(){this.store.dispatch(un()),this.store.dispatch(mn())}openCreateGroupDialog(){this.dialog.open(rc,{width:this.isMobile?"90vw":"500px",maxWidth:this.isMobile?"500px":"90vw",disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(r=>{r&&this.store.dispatch(hn({request:r}))})}handleAddMember(n){this.store.dispatch(ee(n))}acceptInvitation(n){this.store.dispatch(gn({invitationId:n.id}))}declineInvitation(n){this.store.dispatch(pn({invitationId:n.id}))}deleteGroup(n){this.dialog.open(we,{width:"300px",data:{title:"Delete Group",message:'Are you sure you want to delete the group "${group.name}"?',confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(r=>{r&&this.store.dispatch(Ie({groupId:n.id}))})}formatDate(n){return n?(n.toDate?n.toDate():new Date(n)).toLocaleDateString():""}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}};t.\u0275fac=function(r){return new(r||t)(U(Ye),U(wt),U(Dt),U(te),U(ve))},t.\u0275cmp=Ct({type:t,selectors:[["app-splitwise"]],decls:21,vars:1,consts:[[1,"splitwise-container"],[1,"header"],[1,"header-content"],[1,"title-section"],[1,"title-icon"],[1,"title"],[1,"subtitle"],[1,"header-actions"],["mat-raised-button","","color","primary",1,"create-group-btn",3,"click"],[1,"main-content"],["class","invitations-section",4,"ngIf"],[1,"groups-section"],[1,"groups-list"],[3,"group","isSelected","isMobile"],[1,"invitations-section"],[1,"invitations-card"],[1,"invitations-list"],[1,"invitation-item"],[1,"invitation-info"],[1,"invitation-details"],[1,"invitation-actions"],["mat-button","","color","primary",1,"accept-btn",3,"click"],["mat-button","","color","warn",1,"decline-btn",3,"click"],[3,"addMember","deleteGroup","group","isSelected","isMobile"]],template:function(r,c){r&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),O(5,"group"),P(),_(6,"h1",5),O(7,"Splitwise"),P(),_(8,"p",6),O(9,"Split expenses with friends and family"),P()(),_(10,"div",7)(11,"button",8),z("click",function(){return c.openCreateGroupDialog()}),_(12,"mat-icon"),O(13,"add"),P(),O(14," Create Group "),P()()()(),_(15,"div",9),G(16,gm,11,0,"div",10),_(17,"div",11)(18,"div",12),Co(19,pm,1,3,"app-group",13,rl),P()()()()),r&2&&(I(16),D("ngIf",c.invitations.length>0),I(3),bo(c.groups))},dependencies:[kt,tn,nn,rn,en,Gt,Vt,el],styles:[".splitwise-container[_ngcontent-%COMP%]{background:#f9fafb;padding:20px}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}}.header[_ngcontent-%COMP%]{margin-bottom:30px}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));padding:1rem;border-radius:1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#fff}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:2.5rem;font-weight:700}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffffe6;margin:0;font-size:1.1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem}}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;font-weight:600;padding:12px 24px;border-radius:25px;transition:all .3s ease}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;border-color:#ffffff80;transform:translateY(-2px)}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;color:#fff}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.1rem}.main-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.invitations-section[_ngcontent-%COMP%]{margin-bottom:30px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]{padding:15px 0;border-bottom:1px solid #eee}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media (max-width: 768px){.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 5px;color:#666}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#999;font-size:.85rem}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background:#45a049}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]:hover{background:#da190b}.groups-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:30px}@media (max-width: 1024px){.groups-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fffffff2;border-radius:15px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#ccc;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin:0 0 10px;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 30px;font-size:1.1rem}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:12px 24px;border-radius:25px;font-weight:600}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#333;font-weight:600;font-size:1.3rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:30px}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{flex-direction:column}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]{border-color:#667eea;color:#667eea;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;margin:0 0 20px;font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid #eee}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#999;font-size:1.5rem;width:1.5rem;height:1.5rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#333;font-weight:500;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{color:#999;font-size:.8rem;text-transform:capitalize}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]{margin-bottom:20px}.groups-section[_ngcontent-%COMP%]{gap:15px}.details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 480px){.splitwise-container[_ngcontent-%COMP%]{padding:8px}.header[_ngcontent-%COMP%]{margin-bottom:15px}.groups-section[_ngcontent-%COMP%]{gap:10px}}"]});let i=t;return i})();var sl=(()=>{let t=class t{constructor(){}toDate(n){try{if(!n)return null;if(n instanceof Date)return n;if(n instanceof Pt)return n.toDate();if(n&&typeof n=="object"&&"seconds"in n)return new Pt(n.seconds,n.nanoseconds).toDate();if(typeof n=="number")return new Date(n);if(typeof n=="string"){let r=new Date(n);return isNaN(r.getTime())?null:r}return n&&typeof n.toDate=="function"?n.toDate():null}catch(r){return console.error("Error converting timestamp to date:",r,n),null}}toTimestamp(n){try{if(!n)return null;if(n instanceof Pt)return n;if(n instanceof Date)return Pt.fromDate(n);if(typeof n=="number")return Pt.fromDate(new Date(n));if(typeof n=="string"){let r=new Date(n);if(!isNaN(r.getTime()))return Pt.fromDate(r)}return n&&typeof n.toDate=="function"?Pt.fromDate(n.toDate()):null}catch(r){return console.error("Error converting date to timestamp:",r,n),null}}fromFormDate(n){try{if(!n)return null;let r=new Date(n);return isNaN(r.getTime())?null:Pt.fromDate(r)}catch(r){return console.error("Error converting form date to timestamp:",r,n),null}}now(){return Pt.fromDate(new Date)}compare(n,r){let c=this.toDate(n),d=this.toDate(r);return!c&&!d?0:c?d?c.getTime()-d.getTime():1:-1}sortByDate(n,r,c=!1){return[...n].sort((d,u)=>{let p=this.toDate(d[r]),v=this.toDate(u[r]);if(!p&&!v)return 0;if(!p)return c?-1:1;if(!v)return c?1:-1;let x=p.getTime()-v.getTime();return c?x:-x})}filterByDateRange(n,r,c,d){let u=this.toDate(c),p=this.toDate(d);return!u&&!p?n:n.filter(v=>{let x=this.toDate(v[r]);return x?u&&p?x>=u&&x<=p:u?x>=u:p?x<=p:!0:!1})}isValidDate(n){let r=this.toDate(n);return r!==null&&!isNaN(r.getTime())}formatDate(n,r="MM/DD/YYYY"){let c=this.toDate(n);if(!c)return"Invalid Date";let d=c.getDate().toString().padStart(2,"0"),u=(c.getMonth()+1).toString().padStart(2,"0"),p=c.getFullYear();return r.replace("MM",u).replace("DD",d).replace("YYYY",p.toString())}toISOString(n){let r=this.toDate(n);return r?r.toISOString().split("T")[0]:""}getRelativeTime(n){let r=this.toDate(n);if(!r)return"Unknown";let d=Math.floor((new Date().getTime()-r.getTime())/1e3);if(d<60)return"Just now";if(d<3600){let u=Math.floor(d/60);return`${u} minute${u>1?"s":""} ago`}else if(d<86400){let u=Math.floor(d/3600);return`${u} hour${u>1?"s":""} ago`}else if(d<2592e3){let u=Math.floor(d/86400);return`${u} day${u>1?"s":""} ago`}else return this.formatDate(r)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var En=(()=>{let t=class t{constructor(n,r,c,d,u){this.firestore=n,this.auth=r,this.notificationService=c,this.dateService=d,this.userService=u}getUserGroups(n){let r=this.auth.currentUser;if(!(r!=null&&r.email))return q([]);let c=Rt(this.firestore,"splitwise-groups"),d=Jt(c,Lt("isActive","==",!0),Jn("createdAt","desc"));return W(Xt(d)).pipe(Z(u=>u.docs.map(p=>T({id:p.id},p.data())).filter(p=>p.members.some(v=>{var x;return v.email.toLowerCase()===((x=r.email)==null?void 0:x.toLowerCase())&&v.isActive}))),ut(u=>(console.error("Error fetching user groups:",u),q([]))))}getGroupById(n){return ft(lt(this.firestore,"splitwise-groups",n)).then(r=>r.exists()?T({id:r.id},r.data()):null)}createGroup(n,r){let c=this.auth.currentUser;if(!c)throw new Error("User not authenticated");let d={name:n.name,description:n.description||"",createdBy:r,members:[{userId:c.uid,email:c.email||"",displayName:c.displayName||c.email||"",photoURL:c.photoURL||"",role:Fe.ADMIN,joinedAt:new Date,isActive:!0}],currency:n.currency||"USD",createdAt:new Date,updatedAt:new Date,isActive:!0,syncStatus:Oo.SYNCED},u=Rt(this.firestore,"splitwise-groups");return W(Xn(u,d)).pipe(Z(p=>T({id:p.id},d)))}deleteGroup(n,r){let c=lt(this.firestore,"splitwise-groups",n);return W(jt(c,{isActive:!1,updatedAt:new Date}))}getUserInvitations(n){let r=this.auth.currentUser;if(!(r!=null&&r.email))return q([]);let c=Rt(this.firestore,"splitwise-invitations"),d=Jt(c,Lt("invitedEmail","==",r.email),Lt("status","==","pending"),Jn("createdAt","desc"));return W(Xt(d)).pipe(Z(u=>u.docs.map(p=>T({id:p.id},p.data()))),Z(u=>u.filter(p=>!this.isInvitationExpired(p))),ut(u=>(console.error("Error fetching invitations:",u),q([]))))}isInvitationExpired(n){let r;return n.expiresAt instanceof Pt?r=n.expiresAt.toDate():n.expiresAt instanceof Date?r=n.expiresAt:r=new Date(n.expiresAt),r<new Date}markExpiredInvitations(n){return j(this,null,function*(){try{let r=this.auth.currentUser;if(!(r!=null&&r.email))return;let c=Rt(this.firestore,"splitwise-invitations"),d=Jt(c,Lt("invitedEmail","==",r.email),Lt("status","==","pending")),u=yield Xt(d),p=wa(this.firestore),v=!1;u.docs.forEach(x=>{let V=x.data();this.isInvitationExpired(V)&&(p.update(x.ref,{status:yn.EXPIRED,updatedAt:new Date}),v=!0)}),v&&(yield p.commit())}catch(r){console.error("Error marking expired invitations:",r)}})}acceptInvitation(n,r){return j(this,null,function*(){try{let c=this.auth.currentUser;if(!c)throw new Error("User not authenticated");let d=lt(this.firestore,"splitwise-invitations",n),u=yield ft(d);if(!u.exists())throw new Error("Invitation not found");let p=u.data();yield jt(d,{status:yn.ACCEPTED,updatedAt:new Date});let v=lt(this.firestore,"splitwise-groups",p.groupId),x=yield ft(v);if(!x.exists())throw new Error("Group not found");let S=x.data().members.map(k=>{var L;return k.email.toLowerCase()===p.invitedEmail.toLowerCase()?A(T({},k),{userId:c.uid,displayName:c.displayName||((L=c.email)==null?void 0:L.split("@")[0])||k.displayName,photoURL:c.photoURL||k.photoURL,isActive:!0}):k});yield jt(v,{members:S,updatedAt:new Date}),this.notificationService.success(`Successfully joined ${p.groupName}!`)}catch(c){throw console.error("Error accepting invitation:",c),this.notificationService.error("Failed to accept invitation"),c}})}declineInvitation(n,r){return j(this,null,function*(){try{if(!this.auth.currentUser)throw new Error("User not authenticated");let d=lt(this.firestore,"splitwise-invitations",n),u=yield ft(d);if(!u.exists())throw new Error("Invitation not found");let p=u.data();yield jt(d,{status:yn.DECLINED,updatedAt:new Date});let v=lt(this.firestore,"splitwise-groups",p.groupId),x=yield ft(v);if(x.exists()){let S=x.data().members.filter(k=>k.email.toLowerCase()!==p.invitedEmail.toLowerCase());yield jt(v,{members:S,updatedAt:new Date})}this.notificationService.success(`Invitation to ${p.groupName} declined`)}catch(c){throw console.error("Error declining invitation:",c),this.notificationService.error("Failed to decline invitation"),c}})}addMemberToGroup(n,r,c){return j(this,null,function*(){var d;try{if(!this.auth.currentUser)throw new Error("User not authenticated");let p=lt(this.firestore,"splitwise-groups",n),v=yield ft(p);if(!v.exists())throw new Error("Group not found");let x=v.data();if(x.members.find(k=>k.email.toLowerCase()===r.email.toLowerCase()))throw new Error("User is already a member of this group");let S=yield this.userService.findUserByEmail(r.email);if(S){yield this.sendGroupInvitation(n,r.email,c);let k={userId:S.uid,email:r.email,displayName:S.firstName||((d=S.email)==null?void 0:d.split("@")[0])||r.email.split("@")[0],photoURL:S.photoURL||"",role:r.role||Fe.MEMBER,joinedAt:new Date,isActive:!1},L=[...x.members,k];return yield jt(p,{members:L,updatedAt:new Date}),this.notificationService.success(`Invitation sent to ${r.email}`),A(T({id:n},x),{members:L,updatedAt:new Date})}else{let k={userId:"",email:r.email,displayName:r.email.split("@")[0],role:r.role||Fe.MEMBER,joinedAt:new Date,isActive:!1},L=[...x.members,k];return yield jt(p,{members:L,updatedAt:new Date}),yield this.sendGroupInvitation(n,r.email,c),this.notificationService.success(`Invitation sent to ${r.email}. They will be added when they register and accept.`),A(T({id:n},x),{members:L,updatedAt:new Date})}}catch(u){throw console.error("Error adding member to group:",u),this.notificationService.error(u instanceof Error?u.message:"Failed to add member"),u}})}getGroupTransactions(n,r){let c=Rt(this.firestore,"splitwise-transactions"),d=Jt(c,Lt("groupId","==",n),Jn("createdAt","desc"));return W(Xt(d)).pipe(Z(u=>u.docs.map(p=>T({id:p.id},p.data()))),ut(u=>(console.error("Error fetching group transactions:",u),q([]))))}getGroupSettlements(n,r){let c=Rt(this.firestore,"splitwise-settlements"),d=Jt(c,Lt("groupId","==",n),Jn("createdAt","desc"));return W(Xt(d)).pipe(Z(u=>u.docs.map(p=>T({id:p.id},p.data()))),ut(u=>(console.error("Error fetching group settlements:",u),q([]))))}createSplitTransaction(n,r){if(!this.auth.currentUser)throw new Error("User not authenticated");let d={groupId:n.groupId,originalTransactionId:n.originalTransactionId,amount:n.amount,createdBy:r,splits:n.splits.map(p=>A(T({},p),{email:"",displayName:""})),totalAmount:n.amount,currency:"USD",status:Fo.PENDING,createdAt:new Date,updatedAt:new Date,syncStatus:Oo.SYNCED},u=Rt(this.firestore,"splitwise-transactions");return W(Xn(u,d)).pipe(Z(p=>T({id:p.id},d)))}getGroup(n){return W(ft(lt(this.firestore,"splitwise-groups",n))).pipe(Z(r=>r.exists()?T({id:r.id},r.data()):null))}updateGroup(n,r){return j(this,null,function*(){var c;try{if(!((c=this.auth.currentUser)==null?void 0:c.uid))throw new Error("User not authenticated");let u={updatedAt:new Date};r.name&&(u.name=r.name),r.description!==void 0&&(u.description=r.description),r.currency&&(u.currency=r.currency),yield jt(lt(this.firestore,"splitwise-groups",n),u),this.notificationService.success("Group updated successfully")}catch(d){throw console.error("Error updating group:",d),this.notificationService.error("Failed to update group"),d}})}removeMemberFromGroup(n,r,c){return j(this,null,function*(){try{if(!c)throw new Error("User not authenticated");let d=lt(this.firestore,"splitwise-groups",n),u=yield ft(d);if(!u.exists())throw new Error("Group not found");let v=u.data().members.filter(x=>x.userId!==r);yield jt(d,{members:v,updatedAt:new Date}),this.notificationService.success("Member removed successfully")}catch(d){throw console.error("Error removing member:",d),this.notificationService.error("Failed to remove member"),d}})}getSplitTransaction(n){return W(ft(lt(this.firestore,"splitwise-transactions",n))).pipe(Z(r=>r.exists()?T({id:r.id},r.data()):null))}updateSplitTransaction(n,r){return j(this,null,function*(){var c;try{if(!((c=this.auth.currentUser)==null?void 0:c.uid))throw new Error("User not authenticated");let u={updatedAt:new Date};if(r.payee&&(u.payee=r.payee),r.amount&&(u.amount=r.amount),r.type&&(u.type=r.type),r.date&&(u.date=this.dateService.toTimestamp(r.date)),r.notes!==void 0&&(u.notes=r.notes),r.categoryId&&(u.categoryId=r.categoryId),r.category&&(u.category=r.category),r.status&&(u.status=r.status),r.splits){let x=r.splits.reduce((J,gt)=>J+gt.amount,0);if(Math.abs(x-(r.amount||0))>.01)throw new Error("Split amounts must equal the total transaction amount");let V=yield ft(lt(this.firestore,"splitwise-transactions",n));if(!V.exists())throw new Error("Transaction not found");let S=V.data(),L=(yield ft(lt(this.firestore,"splitwise-groups",S.groupId))).data(),at=r.splits.map(J=>{let gt=L.members.find(xt=>xt.userId===J.userId);return A(T({},J),{email:(gt==null?void 0:gt.email)||"",displayName:(gt==null?void 0:gt.displayName)||"",isPaid:!1})});u.splits=at,u.totalAmount=r.amount,yield this.updateMemberBalances(S.groupId,at)}yield jt(lt(this.firestore,"splitwise-transactions",n),u);let v=(yield ft(lt(this.firestore,"splitwise-transactions",n))).data();this.notificationService.success("Split transaction updated successfully")}catch(d){throw console.error("Error updating split transaction:",d),this.notificationService.error("Failed to update split transaction"),d}})}deleteSplitTransaction(n){return j(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");let d=yield ft(lt(this.firestore,"splitwise-transactions",n));if(!d.exists())throw new Error("Transaction not found");let u=d.data(),p=u.splits.map(v=>A(T({},v),{amount:-v.amount}));yield this.updateMemberBalances(u.groupId,p),yield vo(lt(this.firestore,"splitwise-transactions",n)),this.notificationService.success("Split transaction deleted successfully")}catch(c){throw console.error("Error deleting split transaction:",c),this.notificationService.error("Failed to delete split transaction"),c}})}createSettlement(n){return j(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");let d={groupId:n.groupId,fromUserId:n.fromUserId,toUserId:n.toUserId,amount:n.amount,currency:"USD",status:bi.PENDING,notes:n.notes||"",createdAt:new Date,updatedAt:new Date};return(yield Xn(Rt(this.firestore,"splitwise-settlements"),d)).id}catch(c){throw console.error("Error creating settlement:",c),c}})}completeSettlement(n){return j(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");yield jt(lt(this.firestore,"splitwise-settlements",n),{status:bi.COMPLETED,settledAt:new Date,updatedAt:new Date});let u=(yield ft(lt(this.firestore,"splitwise-settlements",n))).data()}catch(c){throw console.error("Error completing settlement:",c),c}})}sendGroupInvitation(n,r,c){return j(this,null,function*(){try{let d=this.auth.currentUser;if(!d)throw new Error("User not authenticated");let p=(yield ft(lt(this.firestore,"splitwise-groups",n))).data(),v={groupId:n,groupName:p.name,invitedBy:c,invitedByEmail:d.email||"",invitedByDisplayName:d.displayName||"",invitedEmail:r,status:yn.PENDING,expiresAt:new Date(Date.now()+7*24*60*60*1e3),createdAt:new Date,updatedAt:new Date};yield Xn(Rt(this.firestore,"splitwise-invitations"),v)}catch(d){throw console.error("Error sending invitation:",d),d}})}updateMemberBalances(n,r){return j(this,null,function*(){console.warn("updateMemberBalances is deprecated. Use getMemberBalances() instead.")})}getGroupSummary(n){return j(this,null,function*(){var x;if(!((x=this.auth.currentUser)==null?void 0:x.uid))throw new Error("User not authenticated");let[c,d]=yield Promise.all([Xt(Jt(Rt(this.firestore,"splitwise-transactions"),Lt("groupId","==",n))),Xt(Jt(Rt(this.firestore,"splitwise-settlements"),Lt("groupId","==",n),Lt("status","==",bi.PENDING)))]),p=(yield ft(lt(this.firestore,"splitwise-groups",n))).data(),v=c.docs.reduce((V,S)=>{let k=S.data();return V+k.amount},0);return{groupId:n,totalTransactions:c.docs.length,totalAmount:v,averageAmount:c.docs.length>0?v/c.docs.length:0,memberCount:p.members.length,activeMemberCount:p.members.filter(V=>V.isActive).length,pendingSettlements:d.docs.length,lastActivity:new Date}})}getMemberBalances(n){return j(this,null,function*(){var v;if(!((v=this.auth.currentUser)==null?void 0:v.uid))throw new Error("User not authenticated");let d=(yield ft(lt(this.firestore,"splitwise-groups",n))).data(),u=yield Xt(Jt(Rt(this.firestore,"splitwise-transactions"),Lt("groupId","==",n))),p=new Map;return d.members.forEach(x=>{p.set(x.userId,{userId:x.userId,email:x.email,displayName:x.displayName,totalPaid:0,totalOwed:0,netBalance:0,transactionCount:0})}),u.docs.forEach(x=>{x.data().splits.forEach(S=>{let k=p.get(S.userId);k&&(k.transactionCount++,S.amount>0?k.totalPaid+=S.amount:k.totalOwed+=Math.abs(S.amount),k.netBalance=k.totalPaid-k.totalOwed)})}),Array.from(p.values())})}deleteSplitTransactionRollback(n,r){return j(this,null,function*(){try{let c=Rt(this.firestore,"splitwise-transactions"),d=Jt(c,Lt("originalTransactionId","==",n)),u=yield Xt(d);if(u.empty)throw new Error("Transaction not found");let v=u.docs[0].id;yield vo(lt(this.firestore,`splitwise-transactions/${v}`)),console.log(`Transaction with ID ${v} deleted successfully`)}catch(c){throw console.error("Error deleting split transaction rollback:",c),c}})}};t.\u0275fac=function(r){return new(r||t)(tt(Oa),tt(wt),tt(ve),tt(sl),tt(Je))},t.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function _m(i,t){i&1&&(_(0,"div",5),mt(1,"mat-spinner",6),_(2,"p"),O(3,"Loading group details..."),P()())}function Cm(i,t){if(i&1){let o=pt();_(0,"button",34),z("click",function(){nt(o);let r=R(2);return it(r.deleteGroup())}),_(1,"mat-icon"),O(2,"delete"),P(),_(3,"span"),O(4,"Delete Group"),P()()}}function bm(i,t){i&1&&(_(0,"span",48),O(1,"(You)"),P())}function Pm(i,t){if(i&1&&(_(0,"span",49),O(1),P()),i&2){let o=R().$implicit,n=R(3);I(),$(" ",n.getCurrentUserStatus(o.netBalance)," ")}}function ym(i,t){if(i&1&&(_(0,"div",39)(1,"div",40)(2,"div",41),O(3),G(4,bm,2,0,"span",42),P(),_(5,"div",43)(6,"span",44),O(7),P(),_(8,"span",45),O(9),P()()(),_(10,"div",46),O(11),G(12,Pm,2,1,"span",47),P()()),i&2){let o=t.$implicit,n=R(3);ye("current-user",o.userId===(n.currentUser==null?null:n.currentUser.uid)),I(3),$(" ",o.displayName," "),I(),D("ngIf",o.userId===(n.currentUser==null?null:n.currentUser.uid)),I(3),$("Paid: ",n.formatCurrency(o.totalPaid,n.group.currency),""),I(2),$("Owed: ",n.formatCurrency(o.totalOwed,n.group.currency),""),I(),_o(n.getBalanceColor(o.netBalance)),I(),$(" ",n.formatCurrency(o.netBalance,n.group.currency)," "),I(),D("ngIf",o.userId===(n.currentUser==null?null:n.currentUser.uid))}}function Mm(i,t){if(i&1&&(_(0,"div",35)(1,"mat-card",36)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),O(5,"account_balance_wallet"),P(),_(6,"span"),O(7,"Member Balances"),P()(),_(8,"mat-card-subtitle"),O(9," Who owes what to whom "),P()(),_(10,"mat-card-content")(11,"div",37),G(12,ym,13,10,"div",38),P()()()()),i&2){let o=R(2);I(12),D("ngForOf",o.getMemberBalances())}}function vm(i,t){if(i&1){let o=pt();_(0,"div",54)(1,"div",55)(2,"div",56)(3,"span",57),O(4),P()(),_(5,"div",58)(6,"span",59),O(7),P(),_(8,"mat-icon"),O(9,"arrow_forward"),P(),_(10,"span",60),O(11),P()(),_(12,"div",61),O(13),P()(),_(14,"button",62),z("click",function(){let r=nt(o).$implicit,c=R(3);return it(c.createSettlement(r))}),_(15,"mat-icon"),O(16),P(),O(17),P()()}if(i&2){let o=t.$implicit,n=R(3);_o(o.type),I(4),rt(n.getSettlementMessage(o)),I(3),rt(o.fromUserName),I(4),rt(o.toUserName),I(2),$(" ",n.formatCurrency(o.amount,o.currency)," "),I(),D("color",o.type==="you_owe"?"warn":"primary")("disabled",o.type==="others"),I(2),rt(o.type==="you_owe"?"payment":"check"),I(),$(" ",o.type==="you_owe"?"Pay":"Settle"," ")}}function Om(i,t){if(i&1&&(_(0,"div",50)(1,"mat-card",51)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),O(5,"swap_horiz"),P(),_(6,"span"),O(7,"Settlement Suggestions"),P()(),_(8,"mat-card-subtitle"),O(9),P()(),_(10,"mat-card-content")(11,"div",52),G(12,vm,18,10,"div",53),P()()()()),i&2){let o=R(2);I(9),$(" ",o.getSettlementSubtitle()," "),I(3),D("ngForOf",o.getSettlementSuggestions())}}function wm(i,t){if(i&1){let o=pt();_(0,"button",74),z("click",function(){nt(o);let r=R().$implicit,c=R(3);return it(c.settleTransaction(r))}),_(1,"mat-icon"),O(2,"check_circle"),P()()}}function xm(i,t){if(i&1&&(_(0,"div",80)(1,"div",81)(2,"span",41),O(3),P(),_(4,"span",82),O(5),P()(),_(6,"div",83)(7,"mat-icon"),O(8),P()()()),i&2){let o=t.$implicit,n=R(2).$implicit,r=R(3);I(3),rt(o.displayName),I(2),rt(r.formatCurrency(o.amount,n.currency)),I(2),ye("paid",o.isPaid)("unpaid",!o.isPaid),Hn("aria-label",o.isPaid?"Paid":"Pending"),I(),$(" ",o.isPaid?"check_circle":"pending"," ")}}function Im(i,t){if(i&1&&(_(0,"div",75)(1,"div",76)(2,"span",77),O(3),P()(),_(4,"div",78),G(5,xm,9,8,"div",79),P()()),i&2){let o=R().$implicit,n=R(3);I(3),rt(n.getTransactionSplitsSummary(o)),I(2),D("ngForOf",o.splits)}}function Em(i,t){if(i&1&&(_(0,"div",65)(1,"div",66)(2,"div",67),O(3),P(),_(4,"div",68),O(5),P(),_(6,"div",69),O(7),P()(),_(8,"div",70)(9,"mat-chip",71),O(10),P(),G(11,wm,3,0,"button",72),P(),G(12,Im,6,2,"div",73),P()),i&2){let o=t.$implicit,n=R(3);I(3),$(" ",n.formatCurrency(o.totalAmount,o.currency)," "),I(2),$(" ",n.getCompactTransactionSummary(o)," "),I(2),$(" ",n.formatDate(o.createdAt)," "),I(2),D("color",n.getTransactionStatusColor(o.status)),I(),$(" ",n.getTransactionStatusText(o.status)," "),I(),D("ngIf",o.status!=="completed"),I(),D("ngIf",o.splits.length>0)}}function Tm(i,t){if(i&1&&(_(0,"div",63),G(1,Em,13,7,"div",64),P()),i&2){let o=R(2);I(),D("ngForOf",o.transactions)}}function Sm(i,t){if(i&1){let o=pt();_(0,"div",84)(1,"mat-icon",85),O(2,"receipt"),P(),_(3,"p"),O(4,"No transactions yet"),P(),_(5,"button",86),z("click",function(){nt(o);let r=R(2);return it(r.addTransaction())}),_(6,"mat-icon"),O(7,"add"),P(),O(8," Add Transaction "),P()()}}function Am(i,t){if(i&1&&(_(0,"div",91)(1,"div",92)(2,"div",58)(3,"span",59),O(4),P(),_(5,"mat-icon"),O(6,"arrow_forward"),P(),_(7,"span",60),O(8),P()(),_(9,"div",61),O(10),P()(),_(11,"div",93)(12,"mat-chip",71),O(13),P()()()),i&2){let o=t.$implicit,n=R(3);I(4),rt(n.getMemberName(o.fromUserId)),I(4),rt(n.getMemberName(o.toUserId)),I(2),$(" ",n.formatCurrency(o.amount,o.currency)," "),I(2),D("color",o.status==="completed"?"success":"warning"),I(),$(" ",o.status==="completed"?"Completed":"Pending"," ")}}function km(i,t){if(i&1&&(_(0,"div",87)(1,"mat-card",88)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),O(5,"swap_horiz"),P(),_(6,"span"),O(7),P()()(),_(8,"mat-card-content")(9,"div",89),G(10,Am,14,5,"div",90),P()()()()),i&2){let o=R(2);I(7),$("Settlements (",o.getSettlementCount(),")"),I(3),D("ngForOf",o.settlements)}}function Dm(i,t){if(i&1){let o=pt();_(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"button",11),z("click",function(){nt(o);let r=R();return it(r.goBack())}),_(5,"mat-icon",12),z("click",function(){nt(o);let r=R();return it(r.goBack())}),O(6,"arrow_back"),P()(),_(7,"span",13),O(8),Ke(9,"titlecase"),P(),_(10,"button",14)(11,"mat-icon"),O(12,"more_vert"),P()()(),_(13,"div",15)(14,"mat-menu",16,0)(16,"button",17),z("click",function(){nt(o);let r=R();return it(r.openAddMemberDialog())}),_(17,"mat-icon"),O(18,"person_add"),P(),_(19,"span"),O(20,"Add Member"),P()(),mt(21,"mat-divider"),G(22,Cm,5,0,"button",18),P()()()(),_(23,"div",19)(24,"mat-card",20)(25,"div",21)(26,"div",22)(27,"div",23),z("click",function(){nt(o);let r=R();return it(r.openAddMemberDialog())}),_(28,"div",24),O(29),P(),_(30,"div",25),O(31,"Members"),P()()(),_(32,"div",22)(33,"div",26)(34,"div",24),O(35),P(),_(36,"div",25),O(37,"Total Balance"),P()()()()()(),G(38,Mm,13,1,"div",27)(39,Om,13,2,"div",28),_(40,"div",29)(41,"mat-card",30)(42,"mat-card-header")(43,"mat-card-title")(44,"mat-icon"),O(45,"receipt"),P(),_(46,"span"),O(47),P()(),_(48,"mat-card-subtitle"),O(49),P()(),_(50,"mat-card-content"),G(51,Tm,2,1,"div",31)(52,Sm,9,0,"div",32),P()()(),G(53,km,11,2,"div",33),P()}if(i&2){let o=Wn(15),n=R();I(8),rt(Qe(9,12,n.group.name)),I(2),D("matMenuTriggerFor",o),I(12),D("ngIf",n.canManageGroup()),I(7),rt(n.getGroupMemberCount()),I(6),rt(n.formatCurrency(n.getTotalBalance(),n.group.currency)),I(3),D("ngIf",n.showBalances),I(),D("ngIf",n.getSettlementSuggestions().length>0),I(8),$("Transactions (",n.getTransactionCount(),")"),I(2),$(" Total: ",n.formatCurrency(n.getTotalTransactionAmount(),n.group.currency)," "),I(2),D("ngIf",n.transactions.length>0),I(),D("ngIf",n.transactions.length===0),I(),D("ngIf",n.settlements.length>0)}}function Rm(i,t){if(i&1){let o=pt();_(0,"div",94)(1,"mat-icon",95),O(2,"error"),P(),_(3,"h3"),O(4,"Group Not Found"),P(),_(5,"p"),O(6,"The group you're looking for doesn't exist or you don't have access to it."),P(),_(7,"button",86),z("click",function(){nt(o);let r=R();return it(r.goBack())}),_(8,"mat-icon"),O(9,"arrow_back"),P(),O(10," Go Back "),P()()}}var cl=(()=>{let t=class t{constructor(n,r,c,d,u,p,v,x){this.route=n,this.router=r,this.auth=c,this.store=d,this.dialog=u,this.notificationService=p,this.breakpointObserver=v,this.splitwiseService=x,this.group=null,this.transactions=[],this.settlements=[],this.error=null,this.currentUser=null,this.isMobile=!1,this.isLoading=!1,this.Math=Math,this.showBalances=!0,this.destroy$=new Pe,this.breakpointObserver.observe([Xe.Handset]).pipe(ae(this.destroy$)).subscribe(V=>{this.isMobile=V.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(Pn).pipe(ae(this.destroy$)).subscribe(n=>{this.isLoading=n.loading,this.error=n.error;let r=this.route.snapshot.paramMap.get("id");r&&(this.group=n.groups.find(c=>c.id===r)||null,!this.group&&!this.isLoading&&this.splitwiseService.getGroupById(r).then(c=>{this.group=c})),this.transactions=n.transactions.filter(c=>c.groupId===r),this.settlements=n.settlements.filter(c=>c.groupId===r),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Te()))})}loadGroupDetails(){let n=this.route.snapshot.paramMap.get("id");n&&(this.store.dispatch(ue({groupId:n})),this.store.dispatch(fn({groupId:n})),this.store.dispatch(_n({groupId:n})))}goBack(){this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(In,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(r=>{r&&(r.action==="delete"?this.store.dispatch(Ee({groupId:this.group.id,userId:r.userId})):this.store.dispatch(ee({groupId:this.group.id,request:r})))})}deleteGroup(){this.group&&this.dialog.open(we,{width:"300px",data:{title:"Delete Group",message:'Are you sure you want to delete the group "${this.group.name}"?',confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(n=>{var r;n&&(this.store.dispatch(Ie({groupId:(r=this.group)==null?void 0:r.id})),this.goBack())})}getCurrentUserRole(){if(!this.group||!this.currentUser)return"";let n=this.group.members.find(r=>r.userId===this.currentUser.uid);return(n==null?void 0:n.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}getGroupMemberCount(){var n;return((n=this.group)==null?void 0:n.members.filter(r=>r.isActive).length)||0}formatDate(n){return n?(n.toDate?n.toDate():new Date(n)).toLocaleDateString():""}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}getTotalBalance(){return this.group?this.transactions.reduce((n,r)=>n+r.splits.reduce((c,d)=>c+d.amount,0),0):0}getMemberBalances(){if(!this.group)return[];let n=new Map;return this.group.members.forEach(r=>{n.set(r.userId,{userId:r.userId,displayName:r.displayName,email:r.email,totalPaid:0,totalOwed:0,netBalance:0})}),this.transactions.forEach(r=>{r.splits.forEach(c=>{let d=n.get(c.userId);d&&(c.isPaid?d.totalPaid+=c.amount:d.totalOwed+=c.amount)})}),n.forEach(r=>{r.netBalance=r.totalPaid-r.totalOwed}),Array.from(n.values()).sort((r,c)=>c.netBalance-r.netBalance)}getBalanceSummary(){let n=this.getMemberBalances(),r=n.filter(d=>d.netBalance<0),c=n.filter(d=>d.netBalance>0);return{owes:r,owed:c}}getSettlementSuggestions(){var u;let n=this.getMemberBalances(),r=[];if(!((u=this.currentUser)!=null&&u.uid))return r;let c=n.find(p=>p.userId===this.currentUser.uid);if(!c)return r;let d=c.netBalance;if(d<0){let p=Math.abs(d);n.filter(x=>x.netBalance>0&&x.userId!==this.currentUser.uid).forEach(x=>{var k;let V=x.netBalance,S=Math.min(p,V);S>0&&r.push({fromUserId:this.currentUser.uid,fromUserName:c.displayName,toUserId:x.userId,toUserName:x.displayName,amount:S,currency:((k=this.group)==null?void 0:k.currency)||"USD",type:"you_owe"})})}else if(d>0){let p=d;n.filter(x=>x.netBalance<0&&x.userId!==this.currentUser.uid).forEach(x=>{var k;let V=Math.abs(x.netBalance),S=Math.min(p,V);S>0&&r.push({fromUserId:x.userId,fromUserName:x.displayName,toUserId:this.currentUser.uid,toUserName:c.displayName,amount:S,currency:((k=this.group)==null?void 0:k.currency)||"USD",type:"owed_to_you"})})}else{let p=n.filter(x=>x.netBalance<0&&x.userId!==this.currentUser.uid),v=n.filter(x=>x.netBalance>0&&x.userId!==this.currentUser.uid);p.forEach(x=>{let S=Math.abs(x.netBalance);v.forEach(k=>{var J;if(S<=0)return;let L=k.netBalance,at=Math.min(S,L);at>0&&(r.push({fromUserId:x.userId,fromUserName:x.displayName,toUserId:k.userId,toUserName:k.displayName,amount:at,currency:((J=this.group)==null?void 0:J.currency)||"USD",type:"others"}),S-=at)})})}return r}settleTransaction(n){if(!this.group)return;this.dialog.open(we,{width:"400px",data:{title:"Settle Transaction",message:"Mark all splits in this transaction as paid?",confirmText:"Settle",cancelText:"Cancel"}}).afterClosed().subscribe(c=>{if(c){let d=n.splits.map(u=>{var p;return A(T({},u),{isPaid:!0,paidBy:(p=this.currentUser)==null?void 0:p.uid,paidAt:new Date})});this.store.dispatch(Cn({groupId:this.group.id,transactionId:n.id,updates:{splits:d,status:"completed"}}))}})}createSettlement(n){if(!this.group)return;this.dialog.open(we,{width:"400px",data:{title:"Create Settlement",message:`Create settlement of ${this.formatCurrency(n.amount,n.currency)} from ${n.fromUserName} to ${n.toUserName}?`,confirmText:"Create",cancelText:"Cancel"}}).afterClosed().subscribe(c=>{c&&this.store.dispatch(bn({groupId:this.group.id,fromUserId:n.fromUserId,toUserId:n.toUserId,amount:n.amount,notes:"Settlement created from balance summary"}))})}toggleBalanceDisplay(){this.showBalances=!this.showBalances}getBalanceColor(n){return n>0?"positive":n<0?"negative":"neutral"}getCompactTransactionSummary(n){let r=n.splits.filter(u=>u.isPaid).length,c=n.splits.length,d=this.getTransactionCreatorName(n);return r===c?`Paid by ${d}`:r===0?`Pending - ${d}`:`${r}/${c} paid - ${d}`}getSettlementSubtitle(){var c;if(!((c=this.currentUser)!=null&&c.uid))return"Quick settlements to balance the group";let r=this.getMemberBalances().find(d=>d.userId===this.currentUser.uid);return r?r.netBalance<0?"You owe money to these members":r.netBalance>0?"These members owe you money":"Other members can settle their balances":"Quick settlements to balance the group"}getSettlementMessage(n){switch(n.type){case"you_owe":return`You owe ${n.toUserName}`;case"owed_to_you":return`${n.fromUserName} owes you`;case"others":return`${n.fromUserName} owes ${n.toUserName}`;default:return"Settlement suggestion"}}getCurrentUserStatus(n){return n<0?"(You owe)":n>0?"(You are owed)":"(Balanced)"}getTransactionStatusColor(n){switch(n){case"completed":return"success";case"partial":return"warning";case"pending":return"info";case"cancelled":return"error";default:return"default"}}getTransactionStatusText(n){switch(n){case"completed":return"Completed";case"partial":return"Partial";case"pending":return"Pending";case"cancelled":return"Cancelled";default:return"Unknown"}}getTransactionCreatorName(n){if(!this.group)return"";let r=this.group.members.find(c=>c.userId===n.createdBy);return(r==null?void 0:r.displayName)||"Unknown"}getTransactionSplitsSummary(n){let r=n.splits.filter(d=>d.isPaid).length,c=n.splits.length;return`${r}/${c} paid`}getTotalTransactionAmount(){return this.transactions.reduce((n,r)=>n+r.totalAmount,0)}getTransactionCount(){return this.transactions.length}getSettlementCount(){return this.settlements.length}getMemberName(n){if(!this.group)return"Unknown";let r=this.group.members.find(c=>c.userId===n);return(r==null?void 0:r.displayName)||"Unknown"}toggleMembers(){var n;this.router.navigate(["dashboard/splitwise/members",(n=this.group)==null?void 0:n.id])}addTransaction(){var n;this.router.navigate(["dashboard/transactions"],{queryParams:{splitGroupId:(n=this.group)==null?void 0:n.id,returnUrl:this.router.url}})}};t.\u0275fac=function(r){return new(r||t)(U(Yi),U(We),U(wt),U(Dt),U(te),U(ve),U(Ye),U(En))},t.\u0275cmp=Ct({type:t,selectors:[["app-group-details"]],decls:4,vars:3,consts:[["groupMenu","matMenu"],[1,"group-details-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header"],[1,"header-content"],[1,"header-navigation"],["mat-icon-button","","aria-label","Go back",1,"back-btn","!z-[999]",3,"click"],[3,"click"],[1,"group-title"],["mat-icon-button","","aria-label","More options",1,"more-actions-btn",3,"matMenuTriggerFor"],[1,"header-actions"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],[1,"stats-section"],[1,"stats-card"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-content",3,"click"],[1,"stat-value"],[1,"stat-label"],[1,"stat-content"],["class","balances-section",4,"ngIf"],["class","settlement-suggestions",4,"ngIf"],[1,"transactions-section"],[1,"transactions-card"],["class","transactions-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","settlements-section",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"],[1,"balances-section"],[1,"balances-card"],[1,"balances-list"],["class","balance-item",3,"current-user",4,"ngFor","ngForOf"],[1,"balance-item"],[1,"balance-info"],[1,"member-name"],["class","current-user-badge",4,"ngIf"],[1,"balance-details"],[1,"paid"],[1,"owed"],[1,"net-balance"],["class","status-indicator",4,"ngIf"],[1,"current-user-badge"],[1,"status-indicator"],[1,"settlement-suggestions"],[1,"suggestions-card"],[1,"suggestions-list"],["class","suggestion-item",3,"class",4,"ngFor","ngForOf"],[1,"suggestion-item"],[1,"suggestion-info"],[1,"suggestion-message"],[1,"message-text"],[1,"settlement-parties"],[1,"from-user"],[1,"to-user"],[1,"settlement-amount"],["mat-raised-button","","size","small",3,"click","color","disabled"],[1,"transactions-list"],["class","transaction-item compact",4,"ngFor","ngForOf"],[1,"transaction-item","compact"],[1,"transaction-main"],[1,"transaction-amount"],[1,"transaction-summary"],[1,"transaction-date"],[1,"transaction-actions"],["selected","",3,"color"],["mat-icon-button","","color","primary","matTooltip","Settle transaction",3,"click",4,"ngIf"],["class","transaction-details",4,"ngIf"],["mat-icon-button","","color","primary","matTooltip","Settle transaction",3,"click"],[1,"transaction-details"],[1,"splits-summary"],[1,"splits-count"],[1,"splits-details"],["class","split-item",4,"ngFor","ngForOf"],[1,"split-item"],[1,"split-member"],[1,"split-amount"],[1,"split-status"],[1,"empty-state"],[1,"empty-icon"],["mat-raised-button","","color","primary",3,"click"],[1,"settlements-section"],[1,"settlements-card"],[1,"settlements-list"],["class","settlement-item",4,"ngFor","ngForOf"],[1,"settlement-item"],[1,"settlement-info"],[1,"settlement-status"],[1,"error-state"],[1,"error-icon"]],template:function(r,c){r&1&&(_(0,"div",1),G(1,_m,4,0,"div",2)(2,Dm,54,14,"div",3)(3,Rm,11,0,"div",4),P()),r&2&&(I(),D("ngIf",c.isLoading),I(),D("ngIf",!c.isLoading&&c.group),I(),D("ngIf",!c.isLoading&&!c.group))},dependencies:[He,kt,tn,nn,rn,lr,en,dr,Gt,Zt,Vt,Oe,Ze,ja,ar,sr,cr,Hi],styles:[".group-details-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh;background:#f9fafb}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px;margin:0}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px;text-align:center;padding:40px 20px}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:1.5rem;font-weight:600}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 24px;font-size:1rem;line-height:1.5}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 24px;font-weight:600}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-radius:12px;margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d20a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:600;color:#333;line-height:1.2}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:1.25rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d20a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:flex;gap:16px;padding:20px;justify-content:space-between}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{flex-direction:column;gap:16px;padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{gap:12px;padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:20px;text-align:center;cursor:pointer;transition:all .2s ease;border-radius:8px;background:#f8f9fa}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:hover{background-color:#1976d20a;transform:translateY(-1px)}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1976d2;margin-bottom:4px}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.25rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#666;font-weight:500}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:12px 12px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#333;font-weight:600;font-size:1.25rem}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.1rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:24px;width:24px;height:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:.875rem;margin-top:4px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px;padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]{background-color:#1976d20d;border-left:4px solid #1976d2;border-radius:0 8px 8px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]{border-left:none;border-top:4px solid #1976d2;border-radius:8px 8px 0 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]   .current-user-badge[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;padding:2px 8px;border-radius:12px;font-size:.75rem;margin-left:8px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;margin-left:8px;opacity:.8}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]{flex:1;width:100%}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px;display:flex;align-items:center}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{margin-bottom:0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:.875rem}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]{flex-direction:column;gap:4px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]   .paid[_ngcontent-%COMP%]{color:#4caf50}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]   .owed[_ngcontent-%COMP%]{color:#f44336}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;text-align:right}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]{align-self:flex-end;font-size:1rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.positive[_ngcontent-%COMP%]{color:#4caf50}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.negative[_ngcontent-%COMP%]{color:#f44336}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.neutral[_ngcontent-%COMP%]{color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:12px 12px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#333;font-weight:600;font-size:1.25rem}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.1rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:24px;width:24px;height:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:.875rem;margin-top:4px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease;border-left:4px solid transparent}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px;padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.you_owe[_ngcontent-%COMP%]{border-left-color:#f44336;background-color:#f4433605}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.you_owe[_ngcontent-%COMP%]{border-left:none;border-top:4px solid #f44336}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.you_owe[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:#f44336;font-weight:600}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.you_owe[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{color:#f44336;font-weight:600}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.you_owe[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.owed_to_you[_ngcontent-%COMP%]{border-left-color:#4caf50;background-color:#4caf5005}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.owed_to_you[_ngcontent-%COMP%]{border-left:none;border-top:4px solid #4caf50}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.owed_to_you[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:#4caf50;font-weight:600}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.owed_to_you[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{color:#4caf50;font-weight:600}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.owed_to_you[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.others[_ngcontent-%COMP%]{border-left-color:#ff9800;background-color:#ff980005}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.others[_ngcontent-%COMP%]{border-left:none;border-top:4px solid #ff9800}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.others[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:#666;font-style:italic}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.others[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ccc;color:#666;cursor:not-allowed}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]{flex:1;width:100%}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]{margin-bottom:8px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]{margin-bottom:4px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:4px}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{flex-wrap:wrap;gap:4px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:600;color:#f44336}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:600;color:#4caf50}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-size:.875rem;color:#666;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:8px 16px;font-size:.875rem;border-radius:6px;transition:all .2s ease;white-space:nowrap}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-end;padding:6px 12px;font-size:.8rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 2px 4px #0003}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:12px 12px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#333;font-weight:600;font-size:1.25rem}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.1rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:24px;width:24px;height:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:.875rem;margin-top:4px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]{padding:16px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px;margin-bottom:8px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#333;min-width:100px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-size:1rem;min-width:auto}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-summary[_ngcontent-%COMP%]{flex:1;margin:0 16px;font-size:.875rem;color:#666}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-summary[_ngcontent-%COMP%]{margin:0;font-size:.8rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{font-size:.75rem;color:#999;min-width:80px;text-align:right}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{text-align:left;min-width:auto}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px;margin-bottom:8px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-actions[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;padding:12px;margin-top:8px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]{padding:8px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .splits-summary[_ngcontent-%COMP%]{margin-bottom:8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .splits-summary[_ngcontent-%COMP%]   .splits-count[_ngcontent-%COMP%]{font-size:.75rem;color:#666;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:4px 0}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-member[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex:1;margin-right:16px}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-member[_ngcontent-%COMP%]{margin-right:0;width:100%}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-member[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.875rem;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-member[_ngcontent-%COMP%]   .split-amount[_ngcontent-%COMP%]{font-size:.875rem;color:#666;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-status[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-status[_ngcontent-%COMP%]   mat-icon.paid[_ngcontent-%COMP%]{color:#4caf50}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .splits-details[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-status[_ngcontent-%COMP%]   mat-icon.unpaid[_ngcontent-%COMP%]{color:#ff9800}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:30px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#ccc;margin-bottom:16px}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;margin-bottom:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 24px;font-size:1rem}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 24px;font-weight:600}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:.9rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:12px 12px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#333;font-weight:600;font-size:1.25rem}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.1rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:24px;width:24px;height:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px;padding:16px 0}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]{padding:12px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]{flex:1;min-width:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:4px;flex-wrap:wrap}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{gap:4px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:.875rem}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#666;flex-shrink:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:.875rem}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1976d2}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]{flex-shrink:0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]{align-self:flex-end}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem;height:24px;font-weight:500}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#f443360a}"]});let i=t;return i})();function Vm(i,t){if(i&1&&mt(0,"img",16),i&2){let o=R().$implicit;D("src",o.photoURL,Qi)("alt",o.displayName)}}function Nm(i,t){i&1&&(_(0,"mat-icon"),O(1,"person"),P())}function Fm(i,t){if(i&1&&(_(0,"div",7)(1,"div",8)(2,"div",9),G(3,Vm,1,2,"img",10)(4,Nm,2,0,"mat-icon",11),P(),_(5,"div",12)(6,"span",13),O(7),P(),_(8,"span",14),O(9),P(),_(10,"span",15),O(11),P()()()()),i&2){let o=t.$implicit;I(3),D("ngIf",o.photoURL),I(),D("ngIf",!o.photoURL),I(3),rt(o.displayName),I(2),rt(o.email),I(2),rt(o.role)}}var ll=(()=>{let t=class t{constructor(){this.isMobile=!1,this.addMember=new $e,this.Math=Math}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}getGroupMemberCount(){var n;return((n=this.group)==null?void 0:n.members.filter(r=>r.isActive).length)||0}getPositiveBalanceMembers(){return this.group?[]:[]}getNegativeBalanceMembers(){return this.group?[]:[]}getNeutralBalanceMembers(){return this.group?[]:[]}onAddMember(){this.addMember.emit()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-members"]],inputs:{group:"group",isMobile:"isMobile"},outputs:{addMember:"addMember"},decls:18,vars:2,consts:[[1,"members-container"],[1,"members-section"],[1,"members-card"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"add-member-section"],["mat-stroked-button","","color","primary",3,"click"],[1,"member-item"],[1,"member-info"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],[1,"member-role"],[3,"src","alt"]],template:function(r,c){r&1&&(_(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title")(5,"mat-icon"),O(6,"people"),P(),O(7," Members "),P(),_(8,"mat-card-subtitle"),O(9),P()(),_(10,"mat-card-content")(11,"div",3),G(12,Fm,12,5,"div",4),P()()()(),_(13,"div",5)(14,"button",6),z("click",function(){return c.onAddMember()}),_(15,"mat-icon"),O(16,"person_add"),P(),O(17," Add Member "),P()()()),r&2&&(I(9),$(" ",c.getGroupMemberCount()," active members "),I(3),D("ngForOf",c.group.members))},dependencies:[He,kt,tn,nn,rn,lr,en,Gt,Vt],styles:[".members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:12px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:11px;color:#1976d2;text-transform:uppercase;letter-spacing:.5px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]   .positive-icon[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]{border-left:4px solid #f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]   .negative-icon[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]{border-left:4px solid #666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]   .neutral-icon[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px 0}@media (max-width: 768px){.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:12px 0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:11px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:10px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let i=t;return i})();function Um(i,t){i&1&&(_(0,"div",4),mt(1,"mat-spinner",5),_(2,"p"),O(3,"Loading group members..."),P()())}function Bm(i,t){if(i&1){let o=pt();_(0,"div",6)(1,"div",7)(2,"button",8),z("click",function(){nt(o);let r=R();return it(r.goBack())}),_(3,"mat-icon"),O(4,"arrow_back"),P()()(),_(5,"app-members",9),z("addMember",function(){nt(o);let r=R();return it(r.openAddMemberDialog())}),P()()}if(i&2){let o=R();I(5),D("group",o.group)("isMobile",o.isMobile)}}function zm(i,t){if(i&1){let o=pt();_(0,"div",10)(1,"mat-icon",11),O(2,"error"),P(),_(3,"h3"),O(4,"Group Not Found"),P(),_(5,"p"),O(6,"The group you're looking for doesn't exist or you don't have access to it."),P(),_(7,"button",12),z("click",function(){nt(o);let r=R();return it(r.goBack())}),O(8," Go Back "),P()()}}var dl=(()=>{let t=class t{constructor(n,r,c,d,u,p,v){this.route=n,this.router=r,this.auth=c,this.store=d,this.dialog=u,this.notificationService=p,this.breakpointObserver=v,this.group=null,this.isLoading=!1,this.error=null,this.currentUser=null,this.isMobile=!1,this.destroy$=new Pe,this.breakpointObserver.observe([Xe.Handset]).pipe(ae(this.destroy$)).subscribe(x=>{this.isMobile=x.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(Pn).pipe(ae(this.destroy$)).subscribe(n=>{this.isLoading=n.loading,this.error=n.error;let r=this.route.snapshot.paramMap.get("id");r&&(this.group=n.groups.find(c=>c.id===r)||null,!this.group&&!this.isLoading&&this.store.dispatch(ue({groupId:r}))),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Te()))})}loadGroupDetails(){let n=this.route.snapshot.paramMap.get("id");n&&this.store.dispatch(ue({groupId:n}))}goBack(){this.group?this.router.navigate(["dashboard/splitwise/group",this.group.id]):this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(In,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(r=>{r&&(r.action==="delete"?this.store.dispatch(Ee({groupId:this.group.id,userId:r.userId})):this.store.dispatch(ee({groupId:this.group.id,request:r})))})}};t.\u0275fac=function(r){return new(r||t)(U(Yi),U(We),U(wt),U(Dt),U(te),U(ve),U(Ye))},t.\u0275cmp=Ct({type:t,selectors:[["app-members-page"]],decls:4,vars:3,consts:[[1,"members-page-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header-actions"],["mat-icon-button","",1,"back-btn",3,"click"],[3,"addMember","group","isMobile"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","primary",3,"click"]],template:function(r,c){r&1&&(_(0,"div",0),G(1,Um,4,0,"div",1)(2,Bm,6,2,"div",2)(3,zm,9,0,"div",3),P()),r&2&&(I(),D("ngIf",c.isLoading),I(),D("ngIf",!c.isLoading&&c.group),I(),D("ngIf",!c.isLoading&&!c.group))},dependencies:[kt,Gt,Zt,Vt,Oe,ll],styles:[".members-page-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh;background:#f5f5f5}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px;text-align:center}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:24px;box-shadow:0 2px 8px #0000001a}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1976d2}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex:1}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 4px;font-size:24px;font-weight:600;color:#333}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}@media (max-width: 768px){.members-page-container[_ngcontent-%COMP%]{padding:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{width:100%}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}}"]});let i=t;return i})();var jm=[{path:"",component:ol},{path:"group/:id",component:cl},{path:"members/:id",component:dl}],ul=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=Wt({imports:[Yn.forChild(jm),Yn]});let i=t;return i})();var ml=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=Wt({imports:[xa,Wi,Ia,Ea,Ta,ur]});let i=t;return i})();var Gm={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},jr="__@ngrx/effects_create__";function St(i,t={}){let o=t.functional?i:i(),n=T(T({},Gm),t);return Object.defineProperty(o,jr,{value:n}),o}function qm(i){return Object.getOwnPropertyNames(i).filter(n=>i[n]&&i[n].hasOwnProperty(jr)?i[n][jr].hasOwnProperty("dispatch"):!1).map(n=>{let r=i[n][jr];return T({propertyName:n},r)})}function $m(i){return qm(i)}function fl(i){return Object.getPrototypeOf(i)}function Km(i){return!!i.constructor&&i.constructor.name!=="Object"&&i.constructor.name!=="Function"}function _l(i){return typeof i=="function"}function hl(i){return i.filter(_l)}function Qm(i){return i instanceof ce||_l(i)}function Hm(i,t,o){let n=fl(i),c=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,d=$m(i).map(({propertyName:u,dispatch:p,useEffectsErrorHandler:v})=>{let x=typeof i[u]=="function"?i[u]():i[u],V=v?o(x,t):x;return p===!1?V.pipe(ua()):V.pipe(ga()).pipe(Z(k=>({effect:i[u],notification:k,propertyName:u,sourceName:c,sourceInstance:i})))});return po(...d)}var Wm=10;function Cl(i,t,o=Wm){return i.pipe(ut(n=>(t&&t.handleError(n),o<=1?i:Cl(i,t,o-1))))}var bl=(()=>{let t=class t extends ca{constructor(n){super(),n&&(this.source=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}};t.\u0275fac=function(r){return new(r||t)(tt(Pa))},t.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function At(...i){return qi(t=>i.some(o=>typeof o=="string"?o===t.type:o.type===t.type))}var Pl=new ce("@ngrx/effects Internal Root Guard"),zr=new ce("@ngrx/effects User Provided Effects"),os=new ce("@ngrx/effects Internal Root Effects"),yl=new ce("@ngrx/effects Internal Root Effects Instances"),gl=new ce("@ngrx/effects Internal Feature Effects"),Ml=new ce("@ngrx/effects Internal Feature Effects Instance Groups"),Ym=new ce("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Cl}),vl="@ngrx/effects/init",kf=N(vl);function Xm(i,t){if(i.notification.kind==="N"){let o=i.notification.value;!Jm(o)&&t.handleError(new Error(`Effect ${Zm(i)} dispatched an invalid action: ${th(o)}`))}}function Jm(i){return typeof i!="function"&&i&&i.type&&typeof i.type=="string"}function Zm({propertyName:i,sourceInstance:t,sourceName:o}){let n=typeof t[i]=="function";return!!o?`"${o}.${String(i)}${n?"()":""}"`:`"${String(i)}()"`}function th(i){try{return JSON.stringify(i)}catch{return i}}var eh="ngrxOnIdentifyEffects";function nh(i){return ss(i,eh)}var ih="ngrxOnRunEffects";function rh(i){return ss(i,ih)}var oh="ngrxOnInitEffects";function sh(i){return ss(i,oh)}function ss(i,t){return i&&t in i&&typeof i[t]=="function"}var Ol=(()=>{let t=class t extends Pe{constructor(n,r){super(),this.errorHandler=n,this.effectsErrorHandler=r}addEffects(n){this.next(n)}toActions(){return this.pipe(fo(n=>Km(n)?fl(n):n),Y(n=>n.pipe(fo(ah))),Y(n=>{let r=n.pipe(ha(d=>ch(this.errorHandler,this.effectsErrorHandler)(d)),Z(d=>(Xm(d,this.errorHandler),d.notification)),qi(d=>d.kind==="N"&&d.value!=null),ma()),c=n.pipe(da(1),qi(sh),Z(d=>d.ngrxOnInitEffects()));return po(r,c)}))}};t.\u0275fac=function(r){return new(r||t)(tt(pa),tt(Ym))},t.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function ah(i){return nh(i)?i.ngrxOnIdentifyEffects():""}function ch(i,t){return o=>{let n=Hm(o,i,t);return rh(o)?o.ngrxOnRunEffects(n):n}}var wl=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(n,r){this.effectSources=n,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(tt(Ol),tt(Dt))},t.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),xl=(()=>{let t=class t{constructor(n,r,c,d,u,p,v){this.sources=n,r.start();for(let x of d)n.addEffects(x);c.dispatch({type:vl})}addEffects(n){this.sources.addEffects(n)}};t.\u0275fac=function(r){return new(r||t)(tt(Ol),tt(wl),tt(Dt),tt(yl),tt(yo,8),tt(Mo,8),tt(Pl,8))},t.\u0275mod=Yt({type:t}),t.\u0275inj=Wt({});let i=t;return i})(),lh=(()=>{let t=class t{constructor(n,r,c,d){let u=r.flat();for(let p of u)n.addEffects(p)}};t.\u0275fac=function(r){return new(r||t)(tt(xl),tt(Ml),tt(yo,8),tt(Mo,8))},t.\u0275mod=Yt({type:t}),t.\u0275inj=Wt({});let i=t;return i})(),Il=(()=>{let t=class t{static forFeature(...n){let r=n.flat(),c=hl(r);return{ngModule:lh,providers:[c,{provide:gl,multi:!0,useValue:r},{provide:zr,multi:!0,useValue:[]},{provide:Ml,multi:!0,useFactory:pl,deps:[gl,zr]}]}}static forRoot(...n){let r=n.flat(),c=hl(r);return{ngModule:xl,providers:[c,{provide:os,useValue:[r]},{provide:Pl,useFactory:dh},{provide:zr,multi:!0,useValue:[]},{provide:yl,useFactory:pl,deps:[os,zr]}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=Wt({});let i=t;return i})();function pl(i,t){let o=[];for(let n of i)o.push(...n);for(let n of t)o.push(...n);return o.map(n=>Qm(n)?$i(n):n)}function dh(){let i=$i(wl,{optional:!0,skipSelf:!0}),t=$i(os,{self:!0});if(!(t.length===1&&t[0].length===0)&&i)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var El={groups:[],invitations:[],transactions:[],settlements:[],selectedGroup:null,loading:!1,error:null};var Tl=Ma(El,F(un,i=>A(T({},i),{loading:!0,error:null})),F(mr,(i,{groups:t})=>A(T({},i),{groups:t,loading:!1,error:null})),F(ri,(i,{error:t})=>A(T({},i),{loading:!1,error:t})),F(ue,i=>A(T({},i),{loading:!0,error:null})),F(hr,(i,{group:t})=>A(T({},i),{groups:i.groups.find(o=>o.id===t.id)?i.groups.map(o=>o.id===t.id?t:o):[...i.groups,t],selectedGroup:t,loading:!1,error:null})),F(oi,(i,{error:t})=>A(T({},i),{loading:!1,error:t})),F(mn,i=>A(T({},i),{loading:!0,error:null})),F(gr,(i,{invitations:t})=>A(T({},i),{invitations:t,loading:!1,error:null})),F(si,(i,{error:t})=>A(T({},i),{loading:!1,error:t})),F(hn,i=>A(T({},i),{loading:!0,error:null})),F(pr,(i,{group:t})=>A(T({},i),{groups:[...i.groups,t],loading:!1,error:null})),F(ai,(i,{error:t})=>A(T({},i),{loading:!1,error:t})),F(ee,i=>A(T({},i),{loading:!0,error:null})),F(fr,(i,{group:t})=>A(T({},i),{groups:i.groups.map(o=>o.id===t.id?t:o),loading:!1,error:null})),F(ci,(i,{error:t})=>A(T({},i),{loading:!1,error:t})),F(gn,i=>A(T({},i),{loading:!0,error:null})),F(_r,(i,{invitationId:t})=>A(T({},i),{invitations:i.invitations.filter(o=>o.id!==t),loading:!1,error:null})),F(li,(i,{error:t})=>A(T({},i),{loading:!1,error:t})),F(pn,i=>A(T({},i),{loading:!0,error:null})),F(Cr,(i,{invitationId:t})=>A(T({},i),{invitations:i.invitations.filter(o=>o.id!==t),loading:!1,error:null})),F(di,(i,{error:t})=>A(T({},i),{loading:!1,error:t})),F(Ie,i=>A(T({},i),{loading:!0,error:null})),F(br,(i,{groupId:t})=>{var o;return A(T({},i),{groups:i.groups.filter(n=>n.id!==t),selectedGroup:((o=i.selectedGroup)==null?void 0:o.id)===t?null:i.selectedGroup,loading:!1,error:null})}),F(ui,(i,{error:t})=>A(T({},i),{loading:!1,error:t})),F(oc,(i,{group:t})=>A(T({},i),{selectedGroup:t})),F(fn,i=>A(T({},i),{loading:!0,error:null})),F(Pr,(i,{transactions:t})=>A(T({},i),{transactions:t,loading:!1,error:null})),F(mi,(i,{error:t})=>A(T({},i),{loading:!1,error:t})),F(_n,i=>A(T({},i),{loading:!0,error:null})),F(yr,(i,{settlements:t})=>A(T({},i),{settlements:t,loading:!1,error:null})),F(hi,(i,{error:t})=>A(T({},i),{loading:!1,error:t})),F(Mr,i=>A(T({},i),{loading:!0,error:null})),F(vr,(i,{transaction:t})=>A(T({},i),{transactions:[...i.transactions,t],loading:!1,error:null})),F(gi,(i,{error:t})=>A(T({},i),{loading:!1,error:t})),F(Cn,i=>A(T({},i),{loading:!0,error:null})),F(Or,(i,{transaction:t})=>A(T({},i),{transactions:i.transactions.map(o=>o.id===t.id?t:o),loading:!1,error:null})),F(pi,(i,{error:t})=>A(T({},i),{loading:!1,error:t})),F(bn,i=>A(T({},i),{loading:!0,error:null})),F(wr,(i,{settlement:t})=>A(T({},i),{settlements:[...i.settlements,t],loading:!1,error:null})),F(fi,(i,{error:t})=>A(T({},i),{loading:!1,error:t})),F(Ee,i=>A(T({},i),{loading:!0,error:null})),F(xr,(i,{groupId:t})=>A(T({},i),{loading:!1,error:null})),F(_i,(i,{error:t})=>A(T({},i),{loading:!1,error:t})),F(Te,i=>A(T({},i),{error:null})));var Sl=(()=>{let t=class t{constructor(n,r,c,d,u){this.actions$=n,this.splitwiseService=r,this.userService=c,this.store=d,this.auth=u,this.loadGroups$=St(()=>this.actions$.pipe(At(un),Y(()=>W(this.userService.getCurrentUser()).pipe(Y(p=>p!=null&&p.uid?this.splitwiseService.getUserGroups(p.uid).pipe(Z(v=>mr({groups:v||[]})),ut(v=>q(ri({error:v.message})))):q(ri({error:"User not authenticated"}))))))),this.loadGroupById$=St(()=>this.actions$.pipe(At(ue),Y(p=>W(this.splitwiseService.getGroupById(p.groupId)).pipe(Z(v=>v?hr({group:v}):oi({error:"Group not found"})),ut(v=>q(oi({error:v.message}))))))),this.loadInvitations$=St(()=>this.actions$.pipe(At(mn),Y(()=>W(this.userService.getCurrentUser()).pipe(Y(p=>p!=null&&p.uid?this.splitwiseService.getUserInvitations(p.uid).pipe(Z(v=>gr({invitations:v||[]})),ut(v=>q(si({error:v.message})))):q(si({error:"User not authenticated"}))))))),this.createGroup$=St(()=>this.actions$.pipe(At(hn),Y(p=>W(this.userService.getCurrentUser()).pipe(Y(v=>v!=null&&v.uid?this.splitwiseService.createGroup(p.request,v.uid).pipe(Z(x=>pr({group:x})),ut(x=>q(ai({error:x.message})))):q(ai({error:"User not authenticated"}))))))),this.addMember$=St(()=>this.actions$.pipe(At(ee),Y(p=>W(this.userService.getCurrentUser()).pipe(Y(v=>v!=null&&v.uid?W(this.splitwiseService.addMemberToGroup(p.groupId,p.request,v.uid)).pipe(Z(x=>fr({group:x})),ut(x=>q(ci({error:x.message})))):q(ci({error:"User not authenticated"}))))))),this.acceptInvitation$=St(()=>this.actions$.pipe(At(gn),Y(p=>W(this.userService.getCurrentUser()).pipe(Y(v=>v!=null&&v.uid?W(this.splitwiseService.acceptInvitation(p.invitationId,v.uid)).pipe(Z(()=>_r({invitationId:p.invitationId})),ut(x=>q(li({error:x.message})))):q(li({error:"User not authenticated"}))))))),this.declineInvitation$=St(()=>this.actions$.pipe(At(pn),Y(p=>W(this.userService.getCurrentUser()).pipe(Y(v=>v!=null&&v.uid?W(this.splitwiseService.declineInvitation(p.invitationId,v.uid)).pipe(Z(()=>Cr({invitationId:p.invitationId})),ut(x=>q(di({error:x.message})))):q(di({error:"User not authenticated"}))))))),this.deleteGroup$=St(()=>this.actions$.pipe(At(Ie),Y(p=>W(this.userService.getCurrentUser()).pipe(Y(v=>v!=null&&v.uid?this.splitwiseService.deleteGroup(p.groupId,v.uid).pipe(Z(()=>br({groupId:p.groupId})),ut(x=>q(ui({error:x.message})))):q(ui({error:"User not authenticated"}))))))),this.loadTransactions$=St(()=>this.actions$.pipe(At(fn),Y(p=>W(this.userService.getCurrentUser()).pipe(Y(v=>v!=null&&v.uid?this.splitwiseService.getGroupTransactions(p.groupId,v.uid).pipe(Z(x=>Pr({transactions:x||[]})),ut(x=>q(mi({error:x.message})))):q(mi({error:"User not authenticated"}))))))),this.loadSettlements$=St(()=>this.actions$.pipe(At(_n),Y(p=>W(this.userService.getCurrentUser()).pipe(Y(v=>v!=null&&v.uid?this.splitwiseService.getGroupSettlements(p.groupId,v.uid).pipe(Z(x=>yr({settlements:x||[]})),ut(x=>q(hi({error:x.message})))):q(hi({error:"User not authenticated"}))))))),this.createSplitTransaction$=St(()=>this.actions$.pipe(At(Mr),Y(p=>W(this.userService.getCurrentUser()).pipe(Y(v=>v!=null&&v.uid?this.splitwiseService.createSplitTransaction(p.request,v.uid).pipe(Z(x=>vr({transaction:x})),ut(x=>q(gi({error:x.message})))):q(gi({error:"User not authenticated"}))))))),this.updateSplitTransaction$=St(()=>this.actions$.pipe(At(Cn),Y(p=>W(this.userService.getCurrentUser()).pipe(Y(v=>v!=null&&v.uid?W(this.splitwiseService.updateSplitTransaction(p.transactionId,p.updates)).pipe(Z(()=>Or({transaction:{id:p.transactionId}})),ut(x=>q(pi({error:x.message})))):q(pi({error:"User not authenticated"}))))))),this.createSettlement$=St(()=>this.actions$.pipe(At(bn),Y(p=>W(this.userService.getCurrentUser()).pipe(Y(v=>{if(!(v!=null&&v.uid))return q(fi({error:"User not authenticated"}));let x={groupId:p.groupId,fromUserId:p.fromUserId,toUserId:p.toUserId,amount:p.amount,notes:p.notes};return W(this.splitwiseService.createSettlement(x)).pipe(Z(V=>wr({settlement:{id:V}})),ut(V=>q(fi({error:V.message}))))}))))),this.removeMember$=St(()=>this.actions$.pipe(At(Ee),Y(p=>W(this.userService.getCurrentUser()).pipe(Y(v=>v!=null&&v.uid?W(this.splitwiseService.removeMemberFromGroup(p.groupId,p.userId,v.uid)).pipe(Z(()=>xr({groupId:p.groupId})),ut(x=>q(_i({error:x.message})))):q(_i({error:"User not authenticated"})))))))}};t.\u0275fac=function(r){return new(r||t)(tt(bl),tt(En),tt(Je),tt(Dt),tt(wt))},t.\u0275prov=zt({token:t,factory:t.\u0275fac});let i=t;return i})();function mh(i,t){if(i&1&&(_(0,"div",0)(1,"div",1),mt(2,"div",2),_(3,"p",3),O(4),P()()()),i&2){let o=R();I(4),rt(o.message)}}var $f=(()=>{let t=class t{constructor(n){this.loaderService=n,this.message="Loading...",this.loading$=this.loaderService.loading$}};t.\u0275fac=function(r){return new(r||t)(U(La))},t.\u0275cmp=Ct({type:t,selectors:[["app-loader"]],inputs:{message:"message"},standalone:!0,features:[Po],decls:2,vars:3,consts:[[1,"loader-overlay"],[1,"loader"],[1,"spinner"],[1,"loader-message"]],template:function(r,c){r&1&&(G(0,mh,5,1,"div",0),Ke(1,"async")),r&2&&Ft(Qe(1,1,c.loading$)?0:-1)},dependencies:[fa],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#f9fafbf2;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9999}.loader[_ngcontent-%COMP%]{background:transparent;border-radius:1rem;padding:2rem;max-width:300px;width:90%;text-align:center;display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-top:4px solid #46777f;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loader-message[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:500;font-size:1.125rem;color:#1f2937;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.loader[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem}.loader-message[_ngcontent-%COMP%]{font-size:1rem}}"]});let i=t;return i})();var Al=(()=>{let t=class t{constructor(){this.currentLanguage=new la("en"),this.translations={loading:{en:"Loading...",hi:"\u0932\u094B\u0921 \u0939\u094B \u0930\u0939\u093E \u0939\u0948..."},error:{en:"Error",hi:"\u0924\u094D\u0930\u0941\u091F\u093F"},success:{en:"Success",hi:"\u0938\u092B\u0932\u0924\u093E"},cancel:{en:"Cancel",hi:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902"},save:{en:"Save",hi:"\u0938\u0939\u0947\u091C\u0947\u0902"},delete:{en:"Delete",hi:"\u0939\u091F\u093E\u090F\u0902"},edit:{en:"Edit",hi:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},add:{en:"Add",hi:"\u091C\u094B\u0921\u093C\u0947\u0902"},close:{en:"Close",hi:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902"},logout:{en:"Logout",hi:"\u0932\u0949\u0917\u0906\u0909\u091F"},login:{en:"Login",hi:"\u0932\u0949\u0917\u093F\u0928"},signup:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},email:{en:"Email",hi:"\u0908\u092E\u0947\u0932"},password:{en:"Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921"},name:{en:"Name",hi:"\u0928\u093E\u092E"},amount:{en:"Amount",hi:"\u0930\u093E\u0936\u093F"},date:{en:"Date",hi:"\u0924\u093E\u0930\u0940\u0916"},category:{en:"Category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940"},type:{en:"Type",hi:"\u092A\u094D\u0930\u0915\u093E\u0930"},income:{en:"Income",hi:"\u0906\u092F"},expense:{en:"Expense",hi:"\u0916\u0930\u094D\u091A"},total:{en:"Total",hi:"\u0915\u0941\u0932"},balance:{en:"Balance",hi:"\u0936\u0947\u0937 \u0930\u093E\u0936\u093F"},actions:{en:"Actions",hi:"\u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},search:{en:"Search",hi:"\u0916\u094B\u091C\u0947\u0902"},filter:{en:"Filter",hi:"\u092B\u093C\u093F\u0932\u094D\u091F\u0930"},clear:{en:"Clear",hi:"\u0938\u093E\u092B\u093C \u0915\u0930\u0947\u0902"},settings:{en:"Settings",hi:"\u0938\u0947\u091F\u093F\u0902\u0917\u094D\u0938"},dashboard:{en:"Dashboard",hi:"\u0921\u0948\u0936\u092C\u094B\u0930\u094D\u0921"},home:{en:"Home",hi:"\u0939\u094B\u092E"},accounts:{en:"Accounts",hi:"\u0916\u093E\u0924\u0947"},transactions:{en:"Transactions",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928"},categories:{en:"Categories",hi:"\u0936\u094D\u0930\u0947\u0923\u093F\u092F\u093E\u0902"},budgets:{en:"Budgets",hi:"\u092C\u091C\u091F"},goals:{en:"Goals",hi:"\u0932\u0915\u094D\u0937\u094D\u092F"},reports:{en:"Reports",hi:"\u0930\u093F\u092A\u094B\u0930\u094D\u091F\u094D\u0938"},calendar:{en:"Calendar",hi:"\u0915\u0948\u0932\u0947\u0902\u0921\u0930"},notes:{en:"Notes",hi:"\u0928\u094B\u091F\u094D\u0938"},tax:{en:"Tax",hi:"\u0915\u0930"},tools:{en:"Tools",hi:"\u0909\u092A\u0915\u0930\u0923"},moneyManager:{en:`${Kt.APP_NAME}`,hi:"\u092E\u0928\u0940 \u092E\u0948\u0928\u0947\u091C\u0930"},manageFinances:{en:"Manage your finances",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0915\u0930\u0947\u0902"},welcomeBack:{en:"Welcome Back!",hi:"\u0935\u093E\u092A\u0938\u0940 \u092A\u0930 \u0938\u094D\u0935\u093E\u0917\u0924 \u0939\u0948!"},youSpend:{en:"You Spend",hi:"\u0906\u092A\u0915\u093E \u0916\u0930\u094D\u091A"},youEarn:{en:"You Earn",hi:"\u0906\u092A\u0915\u0940 \u0915\u092E\u093E\u0908"},netBalance:{en:"Net Balance",hi:"\u0936\u0941\u0926\u094D\u0927 \u0936\u0947\u0937"},thisMonth:{en:"This Month",hi:"\u0907\u0938 \u092E\u0939\u0940\u0928\u0947"},lastMonth:{en:"Last Month",hi:"\u092A\u093F\u091B\u0932\u0947 \u092E\u0939\u0940\u0928\u0947"},quickActions:{en:"Quick Actions",hi:"\u0924\u094D\u0935\u0930\u093F\u0924 \u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},recentTransactions:{en:"Recent Transactions",hi:"\u0939\u093E\u0932 \u0915\u0947 \u0932\u0947\u0928-\u0926\u0947\u0928"},upcomingBills:{en:"Upcoming Bills",hi:"\u0906\u0917\u093E\u092E\u0940 \u092C\u093F\u0932"},savingsGoal:{en:"Savings Goal",hi:"\u092C\u091A\u0924 \u0932\u0915\u094D\u0937\u094D\u092F"},signIn:{en:"Sign In",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928"},signUp:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},signOut:{en:"Sign Out",hi:"\u0938\u093E\u0907\u0928 \u0906\u0909\u091F"},forgotPassword:{en:"Forgot Password?",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092D\u0942\u0932 \u0917\u090F?"},resetPassword:{en:"Reset Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0930\u0940\u0938\u0947\u091F \u0915\u0930\u0947\u0902"},emailPlaceholder:{en:"Enter your email",hi:"\u0905\u092A\u0928\u093E \u0908\u092E\u0947\u0932 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},passwordPlaceholder:{en:"Enter your password",hi:"\u0905\u092A\u0928\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},confirmPassword:{en:"Confirm Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0915\u0940 \u092A\u0941\u0937\u094D\u091F\u093F \u0915\u0930\u0947\u0902"},namePlaceholder:{en:"Enter your name",hi:"\u0905\u092A\u0928\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},loginSuccess:{en:"Successfully signed in",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},loginError:{en:"Failed to sign in",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},signupSuccess:{en:"Successfully signed up",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},signupError:{en:"Failed to sign up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},sessionExpired:{en:"Session expired. Please sign in again.",hi:"\u0938\u0924\u094D\u0930 \u0938\u092E\u093E\u092A\u094D\u0924 \u0939\u094B \u0917\u092F\u093E\u0964 \u0915\u0943\u092A\u092F\u093E \u092B\u093F\u0930 \u0938\u0947 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902\u0964"},invalidCredentials:{en:"Invalid email or password",hi:"\u0905\u092E\u093E\u0928\u094D\u092F \u0908\u092E\u0947\u0932 \u092F\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921"},passwordMismatch:{en:"Passwords do not match",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092E\u0947\u0932 \u0928\u0939\u0940\u0902 \u0916\u093E\u0924\u0947"},emailRequired:{en:"Email is required",hi:"\u0908\u092E\u0947\u0932 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},passwordRequired:{en:"Password is required",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},nameRequired:{en:"Name is required",hi:"\u0928\u093E\u092E \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},addTransaction:{en:"Add Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0947\u0902"},editTransaction:{en:"Edit Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},deleteTransaction:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},transactionHistory:{en:"Transaction History",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0907\u0924\u093F\u0939\u093E\u0938"},manageTransactions:{en:"Manage and track your financial transactions",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924\u0940\u092F \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0914\u0930 \u091F\u094D\u0930\u0948\u0915\u093F\u0902\u0917 \u0915\u0930\u0947\u0902"},payee:{en:"Payee",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E"},payeePlaceholder:{en:"Enter payee name",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E \u0915\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},amountPlaceholder:{en:"Enter amount",hi:"\u0930\u093E\u0936\u093F \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},categoryPlaceholder:{en:"Select category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940 \u091A\u0941\u0928\u0947\u0902"},datePlaceholder:{en:"Select date",hi:"\u0924\u093E\u0930\u0940\u0916 \u091A\u0941\u0928\u0947\u0902"},notesPlaceholder:{en:"Add notes (optional)",hi:"\u0928\u094B\u091F\u094D\u0938 \u091C\u094B\u0921\u093C\u0947\u0902 (\u0935\u0948\u0915\u0932\u094D\u092A\u093F\u0915)"},noTransactions:{en:"No transactions yet",hi:"\u0905\u092D\u0940 \u0924\u0915 \u0915\u094B\u0908 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0928\u0939\u0940\u0902"},noTransactionsMessage:{en:"Start by adding your first transaction to track your finances.",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u091F\u094D\u0930\u0948\u0915 \u0930\u0916\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0905\u092A\u0928\u093E \u092A\u0939\u0932\u093E \u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0915\u0930 \u0936\u0941\u0930\u0942 \u0915\u0930\u0947\u0902\u0964"},transactionAdded:{en:"Transaction added successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u091C\u094B\u0921\u093C\u093E \u0917\u092F\u093E"},transactionUpdated:{en:"Transaction updated successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0905\u092A\u0921\u0947\u091F \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},transactionDeleted:{en:"Transaction deleted successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},confirmDelete:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},confirmDeleteMessage:{en:"Are you sure you want to delete this transaction?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0907\u0938 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u094B \u0939\u091F\u093E\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"},networkError:{en:"Network error. Please check your connection.",hi:"\u0928\u0947\u091F\u0935\u0930\u094D\u0915 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0915\u0928\u0947\u0915\u094D\u0936\u0928 \u091C\u093E\u0902\u091A\u0947\u0902\u0964"},serverError:{en:"Server error. Please try again later.",hi:"\u0938\u0930\u094D\u0935\u0930 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u092C\u093E\u0926 \u092E\u0947\u0902 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},validationError:{en:"Please check your input and try again.",hi:"\u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0907\u0928\u092A\u0941\u091F \u091C\u093E\u0902\u091A\u0947\u0902 \u0914\u0930 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},dataSaved:{en:"Data saved successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u0939\u0947\u091C\u093E \u0917\u092F\u093E"},dataDeleted:{en:"Data deleted successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},changesDiscarded:{en:"Changes discarded",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917 \u0926\u093F\u090F \u0917\u090F"},unsavedChanges:{en:"You have unsaved changes",hi:"\u0906\u092A\u0915\u0947 \u092A\u093E\u0938 \u0905\u0938\u0939\u0947\u091C\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0939\u0948\u0902"},confirmDiscard:{en:"Discard Changes",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0947\u0902"},confirmDiscardMessage:{en:"Are you sure you want to discard your changes?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0905\u092A\u0928\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"}};let n=localStorage.getItem("app_language");n&&(n==="en"||n==="hi")?this.currentLanguage.next(n):navigator.language.split("-")[0]==="hi"&&this.currentLanguage.next("hi")}getCurrentLanguage(){return this.currentLanguage.asObservable()}getCurrentLanguageValue(){return this.currentLanguage.value}setLanguage(n){this.currentLanguage.next(n),localStorage.setItem("app_language",n)}translate(n){let r=this.translations[n];return r&&(r[this.currentLanguage.value]||r.en)||n}translateWithParams(n,r){let c=this.translate(n);return Object.keys(r).forEach(d=>{c=c.replace(`{{${d}}}`,r[d])}),c}getAvailableLanguages(){return[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"\u0939\u093F\u0902\u0926\u0940"}]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var Wf=(()=>{let t=class t{constructor(n){this.translationService=n}transform(n,r){return r?this.translationService.translateWithParams(n,r):this.translationService.translate(n)}};t.\u0275fac=function(r){return new(r||t)(U(Al,16))},t.\u0275pipe=Ki({name:"translate",type:t,pure:!0,standalone:!0});let i=t;return i})();var Jf=(()=>{let t=class t{transform(n,r){if(n==null||n==="")return this.formatCurrency(0,r);let c=typeof n=="string"?parseFloat(n):n;return isNaN(c)?"Invalid amount":this.formatCurrency(c,r)}formatCurrency(n,r){let{currency:c=Kt.CURRENCY.DEFAULT,locale:d=Kt.LANGUAGE.DEFAULT,showSymbol:u=!0,showCode:p=!1,decimalPlaces:v,compact:x=!1,signDisplay:V="auto",notation:S="standard"}=r||{},k=this.getCurrencyConfig(c),L=n%1!==0,at=v!==void 0?L?v:0:L?k.decimalPlaces:0,J=v!==void 0?v:k.decimalPlaces,gt={style:"currency",currency:c,minimumFractionDigits:at,maximumFractionDigits:J,signDisplay:V,notation:x?"compact":S};u?p&&(gt.currencyDisplay="narrowSymbol"):gt.currencyDisplay="code";try{return new Intl.NumberFormat(d,gt).format(n)}catch(xt){return console.error("Currency formatting error:",xt),this.fallbackFormat(n,c,k)}}getCurrencyConfig(n){let r=n;return{symbol:Kt.CURRENCY.SYMBOLS[r]||n,decimalPlaces:Kt.CURRENCY.DECIMAL_PLACES[r]||2}}fallbackFormat(n,r,c){let d=c.symbol,u=n%1===0?n.toFixed(0):n.toFixed(c.decimalPlaces);return`${d}${u}`}static getCurrencySymbol(n){let r=n;return Kt.CURRENCY.SYMBOLS[r]||n}static getDecimalPlaces(n){let r=n;return Kt.CURRENCY.DECIMAL_PLACES[r]||2}static isSupportedCurrency(n){return Kt.CURRENCY.SUPPORTED.includes(n)}static getSupportedCurrencies(){return Kt.CURRENCY.SUPPORTED}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Ki({name:"currency",type:t,pure:!0,standalone:!0});let i=t;return i})();var G_=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=Wt({providers:[En],imports:[Wi,Ca,ba,Yn,ul,za,ml,Sa,Aa,Ra,Na,Ba,Fa,ka,Va,Ga,qa,ur,Ua,ya.forFeature("splitwise",Tl),Il.forFeature([Sl])]});let i=t;return i})();export{Pt as a,Wf as b,un as c,mn as d,gn as e,pn as f,Mr as g,sl as h,En as i,Cu as j,Jf as k,md as l,ph as m,fh as n,ml as o,St as p,bl as q,At as r,Il as s,$f as t,G_ as u};

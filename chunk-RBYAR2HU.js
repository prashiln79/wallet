import{$d as Mt,A as Je,B as pe,Bd as ue,C as Xe,Cc as lt,E as et,Ec as mt,F as tt,Fd as _e,G as it,H as nt,Hc as he,Hd as fe,I as at,Id as ht,J as ot,Jd as ve,Kc as X,Kd as gt,Ld as ut,M as rt,Md as _t,N as ct,Nc as ee,Nd as ft,O as st,Oc as De,Od as be,Pd as Ce,Qd as Me,Rd as xe,Sd as vt,Ud as ye,Vd as bt,Xd as je,Yd as Pe,Zd as Ct,ae as Oe,be as xt,ce as ne,id as L,l as Ke,lc as Y,ld as N,mc as Z,md as ze,nd as B,o as Te,od as Re,q as We,qd as te,r as Q,rd as ie,sd as Ve,t as A,tb as W,u as K,uc as dt,v as Ye,vd as ge,x as U,yc as J,z as Ze,zd as pt}from"./chunk-W5BAYRJ4.js";import{$b as t,Aa as T,Ba as D,Bd as me,Ed as Fe,Fc as le,Jc as H,Ka as C,Kc as G,L as ce,La as M,Qb as g,S as se,Sb as m,Tb as $,Ub as I,Vb as Ae,ac as e,bc as _,f as R,fc as O,g as $e,ha as E,ic as f,kc as p,nc as Qe,pa as qe,pb as Ge,qa as F,sa as He,ub as s,uc as de,vb as x,vc as i,wc as u,xc as y,xd as V,yc as q,yd as j}from"./chunk-FA2IIB5J.js";import{a as k,b as w,e as Be,k as S}from"./chunk-LKDXID24.js";var yt=(()=>{let c=class c{};c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=D({type:c}),c.\u0275inj=F({imports:[dt,J,J]});let o=c;return o})();var Zt=new He("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})});var Pt=(()=>{let c=class c{};c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=D({type:c}),c.\u0275inj=F({providers:[lt,{provide:Zt,useValue:{separatorKeyCodes:[13]}}],imports:[J,mt,J]});let o=c;return o})();var Ot=[{id:"overview",label:"Overview",icon:"dashboard",order:1,isExpanded:!0,isCollapsible:!1,items:[{id:"dashboard",label:"Dashboard",icon:"dashboard",description:"Overview and statistics",order:1,route:"dashboard"}]},{id:"management",label:"Management",icon:"manage_accounts",order:2,isExpanded:!0,isCollapsible:!0,items:[{id:"users",label:"Users",icon:"people",description:"Manage user accounts",order:1,route:"users",permissions:["admin"]},{id:"feedback",label:"User Feedback",icon:"feedback",description:"View and manage user feedback",order:2,route:"feedback",permissions:["admin"]}]},{id:"analytics",label:"Analytics",icon:"analytics",order:3,isExpanded:!0,isCollapsible:!0,items:[{id:"analytics",label:"Analytics",icon:"analytics",description:"App usage statistics",order:1,route:"analytics",permissions:["admin"]},{id:"reports",label:"Reports",icon:"assessment",description:"Generate and view reports",order:2,route:"reports",permissions:["admin"],isVisible:!1}]},{id:"system",label:"System",icon:"settings",order:4,isExpanded:!0,isCollapsible:!0,items:[{id:"settings",label:"Settings",icon:"settings",description:"Admin configuration",order:1,route:"settings",permissions:["admin"]},{id:"logs",label:"System Logs",icon:"list_alt",description:"View system logs",order:2,route:"logs",permissions:["admin"],isVisible:!1},{id:"backup",label:"Backup & Restore",icon:"backup",description:"Data backup and restore",order:3,route:"backup",permissions:["admin"],isVisible:!1}]}],St=()=>Ot.sort((o,c)=>o.order-c.order).map(o=>w(k({},o),{items:o.items.filter(c=>c.isVisible!==!1).sort((c,a)=>c.order-a.order)}));var kt=()=>Ot.flatMap(o=>o.items).filter(o=>o.isVisible!==!1).sort((o,c)=>o.order-c.order),wt=o=>kt().find(c=>c.id===o),Ue=(o=[])=>kt().filter(c=>c.permissions?c.permissions.some(a=>o.includes(a)):!0);var Se=(()=>{let c=class c{constructor(){this.sidebarState=new $e({sections:[],navigationItems:[],activeSection:"dashboard",userPermissions:["admin"]}),this.sidebarState$=this.sidebarState.asObservable(),this.initializeSidebar()}initializeSidebar(){let n=this.sidebarState.value,r=St(),d=Ue(n.userPermissions);this.sidebarState.next(w(k({},n),{sections:r,navigationItems:d}))}getSidebarState(){return this.sidebarState$}getCurrentState(){return this.sidebarState.value}setActiveSection(n){let r=this.sidebarState.value;this.sidebarState.next(w(k({},r),{activeSection:n}))}getActiveSection(){let n=this.sidebarState.value;return wt(n.activeSection)}getActiveSectionLabel(){let n=this.getActiveSection();return n?n.label:"Dashboard"}setUserPermissions(n){let r=this.sidebarState.value,d=Ue(n);this.sidebarState.next(w(k({},r),{userPermissions:n,navigationItems:d}))}toggleSection(n){let r=this.sidebarState.value,d=r.sections.map(l=>l.id===n&&l.isCollapsible?w(k({},l),{isExpanded:!l.isExpanded}):l);this.sidebarState.next(w(k({},r),{sections:d}))}isSectionExpanded(n){let d=this.sidebarState.value.sections.find(l=>l.id===n);return d&&d.isExpanded||!1}isSectionCollapsible(n){let d=this.sidebarState.value.sections.find(l=>l.id===n);return d&&d.isCollapsible||!1}getSectionItems(n){let d=this.sidebarState.value.sections.find(l=>l.id===n);return d?d.items:[]}getAllSections(){return this.sidebarState.value.sections}getAllNavigationItems(){return this.sidebarState.value.navigationItems}addBadgeToItem(n,r){let d=this.sidebarState.value,l=d.sections.map(h=>w(k({},h),{items:h.items.map(v=>v.id===n?w(k({},v),{badge:r}):v)}));this.sidebarState.next(w(k({},d),{sections:l}))}removeBadgeFromItem(n){let r=this.sidebarState.value,d=r.sections.map(l=>w(k({},l),{items:l.items.map(h=>{if(h.id===n){let v=h,{badge:b}=v;return Be(v,["badge"])}return h})}));this.sidebarState.next(w(k({},r),{sections:d}))}showItem(n){let r=this.sidebarState.value,d=r.sections.map(l=>w(k({},l),{items:l.items.map(h=>h.id===n?w(k({},h),{isVisible:!0}):h)}));this.sidebarState.next(w(k({},r),{sections:d}))}hideItem(n){let r=this.sidebarState.value,d=r.sections.map(l=>w(k({},l),{items:l.items.map(h=>h.id===n?w(k({},h),{isVisible:!1}):h)}));this.sidebarState.next(w(k({},r),{sections:d}))}refreshSidebar(){this.initializeSidebar()}};c.\u0275fac=function(r){return new(r||c)},c.\u0275prov=qe({token:c,factory:c.\u0275fac,providedIn:"root"});let o=c;return o})();var ci=()=>[5,10,25,50];function si(o,c){if(o&1&&(t(0,"mat-option",24),i(1),e()),o&2){let a=c.$implicit;m("value",a.value),s(),y(" ",a.label," ")}}function di(o,c){if(o&1&&(t(0,"mat-option",24),i(1),e()),o&2){let a=c.$implicit;m("value",a.value),s(),y(" ",a.label," ")}}function li(o,c){if(o&1&&(t(0,"span",25),i(1),e()),o&2){let a=p();s(),q(" Page ",a.currentPage," of ",a.getTotalPages()," ")}}function mi(o,c){o&1&&(t(0,"div",26),_(1,"mat-spinner",27),t(2,"p"),i(3,"Loading users..."),e()())}function pi(o,c){if(o&1&&_(0,"img",55),o&2){let a=p().$implicit;m("src",a.photoURL,Ge)("alt",a.displayName||a.email)}}function hi(o,c){o&1&&(t(0,"mat-icon"),i(1,"person"),e())}function gi(o,c){o&1&&(t(0,"span",56)(1,"mat-icon"),i(2,"verified"),e(),i(3," Verified "),e())}function ui(o,c){if(o&1){let a=O();t(0,"button",47),f("click",function(){C(a);let r=p().$implicit,d=p(2);return M(d.updateUserStatus(r,"active"))}),t(1,"mat-icon"),i(2,"check_circle"),e(),i(3," Activate User "),e()}}function _i(o,c){if(o&1){let a=O();t(0,"button",47),f("click",function(){C(a);let r=p().$implicit,d=p(2);return M(d.updateUserStatus(r,"suspended"))}),t(1,"mat-icon"),i(2,"block"),e(),i(3," Suspend User "),e()}}function fi(o,c){if(o&1){let a=O();t(0,"button",47),f("click",function(){C(a);let r=p().$implicit,d=p(2);return M(d.updateUserStatus(r,"pending"))}),t(1,"mat-icon"),i(2,"pending"),e(),i(3," Mark as Pending "),e()}}function vi(o,c){if(o&1&&(t(0,"div",51)(1,"span",52),i(2,"Last Sign In:"),e(),t(3,"span",53),i(4),e()()),o&2){let a=p().$implicit,n=p(2);s(4),u(n.formatDateTime(a.lastSignInAt))}}function bi(o,c){if(o&1){let a=O();t(0,"div",30)(1,"div",31)(2,"div",32)(3,"div",33)(4,"div",34),g(5,pi,1,2,"img",35)(6,hi,2,0,"mat-icon",36),e(),t(7,"div",37)(8,"h4"),i(9),e(),t(10,"p"),i(11),e(),t(12,"div",38)(13,"span",39)(14,"mat-icon"),i(15,"receipt_long"),e(),i(16),e(),t(17,"span",39)(18,"mat-icon"),i(19,"category"),e(),i(20),e()()()(),t(21,"div",40)(22,"span",41)(23,"mat-icon"),i(24),e(),i(25),H(26,"titlecase"),e(),t(27,"span",42)(28,"mat-icon"),i(29),e(),i(30),e(),g(31,gi,4,0,"span",43),e()(),t(32,"div",44)(33,"button",45)(34,"mat-icon"),i(35,"more_vert"),e()(),t(36,"mat-menu",null,0),g(38,ui,4,0,"button",46)(39,_i,4,0,"button",46)(40,fi,4,0,"button",46),_(41,"mat-divider"),t(42,"button",47),f("click",function(){let r=C(a).$implicit,d=p(2);return M(d.toggleAdminRole(r))}),t(43,"mat-icon"),i(44),e(),i(45),e(),_(46,"mat-divider"),t(47,"button",47),f("click",function(){let r=C(a).$implicit,d=p(2);return M(d.sendEmailToUser(r))}),t(48,"mat-icon"),i(49,"email"),e(),i(50," Send Email "),e(),_(51,"mat-divider"),t(52,"button",48),f("click",function(){let r=C(a).$implicit,d=p(2);return M(d.deleteUser(r))}),t(53,"mat-icon"),i(54,"delete"),e(),i(55," Delete User "),e()()()(),t(56,"div",49)(57,"div",50)(58,"div",51)(59,"span",52),i(60,"Created:"),e(),t(61,"span",53),i(62),e()(),g(63,vi,5,1,"div",54),e()()()}if(o&2){let a=c.$implicit,n=de(37),r=p(2);s(5),m("ngIf",a.photoURL),s(),m("ngIf",!a.photoURL),s(3),u(a.displayName||"No Name"),s(2),u(a.email),s(5),y(" ",a.totalTransactions||0," transactions "),s(4),y(" ",a.totalCategories||0," categories "),s(2),$("background-color",r.getStatusColor(a.status)),s(2),u(r.getStatusIcon(a.status)),s(),y(" ",G(26,23,a.status)," "),s(2),I("admin",a.isAdmin),s(2),u(a.isAdmin?"admin_panel_settings":"person"),s(),y(" ",a.isAdmin?"Admin":"User"," "),s(),m("ngIf",a.emailVerified),s(2),m("matMenuTriggerFor",n),s(5),m("ngIf",a.status!=="active"),s(),m("ngIf",a.status!=="suspended"),s(),m("ngIf",a.status!=="pending"),s(4),u(a.isAdmin?"person":"admin_panel_settings"),s(),y(" ",a.isAdmin?"Remove Admin":"Make Admin"," "),s(17),u(r.formatDate(a.createdAt)),s(),m("ngIf",a.lastSignInAt)}}function Ci(o,c){if(o&1&&(t(0,"div",28),g(1,bi,64,25,"div",29),e()),o&2){let a=p();s(),m("ngForOf",a.getPaginatedUsers())}}function Mi(o,c){o&1&&(t(0,"p"),i(1," No users match your current filters. Try adjusting your search criteria. "),e())}function xi(o,c){o&1&&(t(0,"p"),i(1," No users have registered yet. "),e())}function yi(o,c){if(o&1){let a=O();t(0,"button",59),f("click",function(){C(a);let r=p(2);return M(r.clearFilters())}),i(1," Clear Filters "),e()}}function Pi(o,c){if(o&1&&(t(0,"div",57)(1,"mat-icon"),i(2,"people"),e(),t(3,"h3"),i(4,"No users found"),e(),g(5,Mi,2,0,"p",36)(6,xi,2,0,"p",36)(7,yi,2,0,"button",58),e()),o&2){let a=p();s(5),m("ngIf",a.filteredUsers.length===0&&a.usersList.length>0),s(),m("ngIf",a.usersList.length===0),s(),m("ngIf",a.filteredUsers.length===0&&a.usersList.length>0)}}function Oi(o,c){if(o&1){let a=O();t(0,"div",60)(1,"mat-paginator",61),f("page",function(r){C(a);let d=p();return M(d.onPageChange(r.pageIndex+1))}),e()()}if(o&2){let a=p();s(),m("length",a.totalItems)("pageSize",a.itemsPerPage)("pageIndex",a.currentPage-1)("pageSizeOptions",le(4,ci))}}var zt=(()=>{let c=class c{constructor(n,r,d,l,h){this.breakpointObserver=n,this.auth=r,this.userService=d,this.dialog=l,this.notificationService=h,this.usersList=[],this.filteredUsers=[],this.isLoading=!1,this.isMobile=!1,this.currentUser=null,this.destroy$=new R,this.searchControl=new U(""),this.statusFilter=new U("all"),this.roleFilter=new U("all"),this.statusOptions=[{value:"all",label:"All Status"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"pending",label:"Pending"}],this.roleOptions=[{value:"all",label:"All Roles"},{value:"user",label:"User"},{value:"admin",label:"Admin"}],this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.breakpointObserver.observe([Z.Handset]).pipe(E(this.destroy$)).subscribe(v=>{this.isMobile=v.matches})}ngOnInit(){this.initializeComponent(),this.setupSearchAndFilters()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeComponent(){return S(this,null,function*(){this.currentUser=yield this.auth.currentUser,yield this.loadUsers()})}setupSearchAndFilters(){this.searchControl.valueChanges.pipe(E(this.destroy$),ce(300),se()).subscribe(()=>{this.applyFilters()}),this.statusFilter.valueChanges.pipe(E(this.destroy$)).subscribe(()=>this.applyFilters()),this.roleFilter.valueChanges.pipe(E(this.destroy$)).subscribe(()=>this.applyFilters())}loadUsers(){return S(this,null,function*(){this.isLoading=!0;try{this.usersList=yield this.userService.getAllUsers(),this.applyFilters()}catch(n){console.error("Error loading users:",n),this.notificationService.error("Failed to load users")}finally{this.isLoading=!1}})}applyFilters(){var h;let n=[...this.usersList],r=(h=this.searchControl.value)==null?void 0:h.toLowerCase();r&&(n=n.filter(v=>{var b;return((b=v.displayName)==null?void 0:b.toLowerCase().includes(r))||v.email.toLowerCase().includes(r)}));let d=this.statusFilter.value;d&&d!=="all"&&(n=n.filter(v=>v.status===d));let l=this.roleFilter.value;l&&l!=="all"&&(l==="admin"?n=n.filter(v=>v.isAdmin):n=n.filter(v=>!v.isAdmin)),n.sort((v,b)=>b.createdAt.getTime()-v.createdAt.getTime()),this.filteredUsers=n,this.totalItems=n.length,this.currentPage=1}getStatusColor(n){switch(n){case"active":return"#10b981";case"suspended":return"#ef4444";case"pending":return"#f59e0b";default:return"#6b7280"}}getStatusIcon(n){switch(n){case"active":return"check_circle";case"suspended":return"block";case"pending":return"pending";default:return"help"}}formatDate(n){return n.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateTime(n){return n.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}updateUserStatus(n,r){return S(this,null,function*(){try{yield this.userService.updateUserStatus(n.uid,r),n.status=r,this.notificationService.success(`User status updated to ${r}`)}catch(d){console.error("Error updating user status:",d),this.notificationService.error("Failed to update user status")}})}deleteUser(n){return S(this,null,function*(){this.dialog.open(be,{width:"400px",data:{title:"Delete User",message:`Are you sure you want to delete ${n.displayName||n.email}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:"warn"}}).afterClosed().subscribe(d=>S(this,null,function*(){if(d)try{yield this.userService.deleteUser(n.uid),this.usersList=this.usersList.filter(l=>l.uid!==n.uid),this.applyFilters(),this.notificationService.success("User deleted successfully")}catch(l){console.error("Error deleting user:",l),this.notificationService.error("Failed to delete user")}}))})}sendEmailToUser(n){this.notificationService.info(`Email functionality will be implemented for ${n.email}`)}toggleAdminRole(n){return S(this,null,function*(){try{yield this.userService.toggleAdminRole(n.uid),n.isAdmin=!n.isAdmin,this.notificationService.success(`Admin role ${n.isAdmin?"granted":"revoked"} for ${n.displayName||n.email}`)}catch(r){console.error("Error toggling admin role:",r),this.notificationService.error("Failed to update admin role")}})}getPaginatedUsers(){let n=(this.currentPage-1)*this.itemsPerPage,r=n+this.itemsPerPage;return this.filteredUsers.slice(n,r)}onPageChange(n){this.currentPage=n}getTotalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)}clearFilters(){this.searchControl.setValue(""),this.statusFilter.setValue("all"),this.roleFilter.setValue("all")}exportUsers(){try{let n=this.generateCSV(),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),l=URL.createObjectURL(r);d.setAttribute("href",l),d.setAttribute("download",`users_export_${new Date().toISOString().split("T")[0]}.csv`),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d),this.notificationService.success("Users exported successfully")}catch(n){console.error("Error exporting users:",n),this.notificationService.error("Failed to export users")}}generateCSV(){let n=["Name","Email","Status","Role","Email Verified","Created Date","Last Sign In","Transactions","Categories"],r=this.filteredUsers.map(l=>[l.displayName||"N/A",l.email,l.status,l.isAdmin?"Admin":"User",l.emailVerified?"Yes":"No",this.formatDate(l.createdAt),l.lastSignInAt?this.formatDateTime(l.lastSignInAt):"Never",l.totalTransactions||0,l.totalCategories||0]);return[n,...r].map(l=>l.map(h=>`"${h}"`).join(",")).join(`
`)}};c.\u0275fac=function(r){return new(r||c)(x(Y),x(W),x(te),x(ge),x(L))},c.\u0275cmp=T({type:c,selectors:[["app-admin-users"]],decls:44,vars:13,consts:[["menu","matMenu"],[1,"admin-users-container"],[1,"section-header"],[1,"header-content"],[1,"header-actions"],["mat-raised-button","","color","accent",3,"click","disabled"],["mat-raised-button","","color","warn",3,"click"],[1,"filters-section"],[1,"search-bar"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Search by name or email",3,"formControl"],["matSuffix",""],[1,"filter-controls"],["appearance","outline",1,"filter-field"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"results-summary"],[1,"summary-info"],[1,"total-count"],["class","page-info",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","users-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","pagination-container",4,"ngIf"],[3,"value"],[1,"page-info"],[1,"loading-state"],["diameter","40"],[1,"users-list"],["class","user-item",4,"ngFor","ngForOf"],[1,"user-item"],[1,"user-header"],[1,"user-meta"],[1,"user-info"],[1,"avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"user-details"],[1,"user-stats"],[1,"stat"],[1,"user-badges"],[1,"badge","status"],[1,"badge","role"],["class","badge verified",4,"ngIf"],[1,"user-actions"],["mat-icon-button","","matTooltip","Actions",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"delete-action",3,"click"],[1,"user-content"],[1,"user-dates"],[1,"date-info"],[1,"label"],[1,"value"],["class","date-info",4,"ngIf"],[3,"src","alt"],[1,"badge","verified"],[1,"empty-state"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"pagination-container"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(r,d){r&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2"),i(4,"User Management"),e(),t(5,"p"),i(6,"Manage user accounts and permissions"),e()(),t(7,"div",4)(8,"button",5),f("click",function(){return d.exportUsers()}),t(9,"mat-icon"),i(10,"download"),e(),i(11," Export CSV "),e(),t(12,"button",6),f("click",function(){return d.clearFilters()}),t(13,"mat-icon"),i(14,"clear"),e(),i(15," Clear Filters "),e()()(),t(16,"div",7)(17,"div",8)(18,"mat-form-field",9)(19,"mat-label"),i(20,"Search users"),e(),_(21,"input",10),t(22,"mat-icon",11),i(23,"search"),e()()(),t(24,"div",12)(25,"mat-form-field",13)(26,"mat-label"),i(27,"Status"),e(),t(28,"mat-select",14),g(29,si,2,2,"mat-option",15),e()(),t(30,"mat-form-field",13)(31,"mat-label"),i(32,"Role"),e(),t(33,"mat-select",14),g(34,di,2,2,"mat-option",15),e()()()(),t(35,"div",16)(36,"div",17)(37,"span",18),i(38),e(),g(39,li,2,2,"span",19),e()(),g(40,mi,4,0,"div",20)(41,Ci,2,1,"div",21)(42,Pi,8,3,"div",22)(43,Oi,2,5,"div",23),e()),r&2&&(s(8),m("disabled",d.filteredUsers.length===0),s(13),m("formControl",d.searchControl),s(7),m("formControl",d.statusFilter),s(),m("ngForOf",d.statusOptions),s(4),m("formControl",d.roleFilter),s(),m("ngForOf",d.roleOptions),s(4),q("Showing ",d.filteredUsers.length," of ",d.usersList.length," users"),s(),m("ngIf",d.totalItems>0),s(),m("ngIf",d.isLoading),s(),m("ngIf",!d.isLoading&&d.getPaginatedUsers().length>0),s(),m("ngIf",!d.isLoading&&d.getPaginatedUsers().length===0),s(),m("ngIf",d.getTotalPages()>1))},dependencies:[V,j,X,ee,N,B,ie,Q,K,pe,ye,fe,ue,_e,ve,he,Pe,Me,Ce,xe,Oe,me],styles:["@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.admin-users-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;gap:1rem}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1f2937;margin:0 0 .5rem}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}.section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0}.section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-shrink:0}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{justify-content:stretch}.section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.filters-section[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{margin-bottom:1rem}.filters-section[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%}.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]{grid-template-columns:1fr}}.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{width:100%}.results-summary[_ngcontent-%COMP%]{margin-bottom:1.5rem}.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}@media (max-width: 768px){.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}}.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{font-weight:500;color:#374151}.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;gap:1rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem}.users-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.user-item[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;transition:all .2s ease;animation:_ngcontent-%COMP%_slideInUp .3s ease-out}.user-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-1px)}.user-item[_ngcontent-%COMP%]   .user-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem;gap:1rem}@media (max-width: 768px){.user-item[_ngcontent-%COMP%]   .user-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.user-item[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex:1;gap:1rem}@media (max-width: 768px){.user-item[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:48px;height:48px;background:#f3f4f6;border-radius:50%;display:flex;align-items:center;justify-content:center;overflow:hidden}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280;font-size:1.5rem}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1f2937;margin:0 0 .25rem}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0 0 .5rem}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-stats[_ngcontent-%COMP%]{display:flex;gap:1rem}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.75rem;color:#6b7280}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:.875rem;width:.875rem;height:.875rem}.user-item[_ngcontent-%COMP%]   .user-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.user-item[_ngcontent-%COMP%]   .user-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:500;color:#fff}.user-item[_ngcontent-%COMP%]   .user-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:.875rem;width:.875rem;height:.875rem}.user-item[_ngcontent-%COMP%]   .user-badges[_ngcontent-%COMP%]   .badge.status[_ngcontent-%COMP%]{background:#10b981}.user-item[_ngcontent-%COMP%]   .user-badges[_ngcontent-%COMP%]   .badge.role[_ngcontent-%COMP%]{background:#6b7280}.user-item[_ngcontent-%COMP%]   .user-badges[_ngcontent-%COMP%]   .badge.role.admin[_ngcontent-%COMP%]{background:#667eea}.user-item[_ngcontent-%COMP%]   .user-badges[_ngcontent-%COMP%]   .badge.verified[_ngcontent-%COMP%]{background:#fbbf24;color:#92400e}.user-item[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;padding-top:1rem}.user-item[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .user-dates[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.user-item[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .user-dates[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.user-item[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .user-dates[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.user-item[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .user-dates[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.875rem;color:#374151}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:#9ca3af;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#374151;margin:0 0 .5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0 0 1.5rem;max-width:400px}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.dark[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.dark[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]{background:#374151;border-color:#4b5563}.dark[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{background:#374151}.dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]{border-top-color:#374151}.dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#d1d5db}.dark[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}@media (max-width: 480px){.section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.filters-section[_ngcontent-%COMP%], .user-item[_ngcontent-%COMP%]{padding:1rem}.user-stats[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.empty-state[_ngcontent-%COMP%]{padding:2rem 1rem}}"]});let o=c;return o})();var ki=()=>[5,10,25,50];function wi(o,c){if(o&1&&(t(0,"mat-option",24),i(1),e()),o&2){let a=c.$implicit;m("value",a.value),s(),y(" ",a.label," ")}}function Ii(o,c){if(o&1&&(t(0,"mat-option",24),i(1),e()),o&2){let a=c.$implicit;m("value",a.value),s(),y(" ",a.label," ")}}function Ei(o,c){if(o&1&&(t(0,"mat-option",24),i(1),e()),o&2){let a=c.$implicit;m("value",a.value),s(),y(" ",a.label," ")}}function Ai(o,c){if(o&1&&(t(0,"mat-option",24),i(1),e()),o&2){let a=c.$implicit;m("value",a.value),s(),y(" ",a.label," ")}}function Fi(o,c){if(o&1&&(t(0,"span",25),i(1),e()),o&2){let a=p();s(),q(" Page ",a.currentPage," of ",a.getTotalPages()," ")}}function Ti(o,c){o&1&&(t(0,"div",26),_(1,"mat-spinner",27),t(2,"p"),i(3,"Loading feedback..."),e()())}function Di(o,c){if(o&1&&(t(0,"span",52)(1,"mat-icon"),i(2,"star"),e(),i(3),e()),o&2){let a=p().$implicit;s(3),y(" ",a.rating,"/5 ")}}function zi(o,c){if(o&1){let a=O();t(0,"button",53),f("click",function(){C(a);let r=p().$implicit,d=p(2);return M(d.updateFeedbackStatus(r,"pending"))}),t(1,"mat-icon"),i(2,"pending"),e(),i(3," Mark as Pending "),e()}}function Ri(o,c){if(o&1){let a=O();t(0,"button",53),f("click",function(){C(a);let r=p().$implicit,d=p(2);return M(d.updateFeedbackStatus(r,"reviewed"))}),t(1,"mat-icon"),i(2,"visibility"),e(),i(3," Mark as Reviewed "),e()}}function Vi(o,c){if(o&1){let a=O();t(0,"button",53),f("click",function(){C(a);let r=p().$implicit,d=p(2);return M(d.updateFeedbackStatus(r,"resolved"))}),t(1,"mat-icon"),i(2,"check_circle"),e(),i(3," Mark as Resolved "),e()}}function ji(o,c){if(o&1){let a=O();t(0,"div",30)(1,"div",31)(2,"div",32)(3,"div",33)(4,"div",34)(5,"mat-icon"),i(6,"person"),e()(),t(7,"div",35)(8,"h4"),i(9),e(),t(10,"p"),i(11),e()()(),t(12,"div",36)(13,"span",37)(14,"mat-icon"),i(15),e(),i(16),H(17,"titlecase"),e(),t(18,"span",38),i(19),H(20,"titlecase"),e(),t(21,"span",39),i(22),H(23,"titlecase"),e(),g(24,Di,4,1,"span",40),e()(),t(25,"div",41)(26,"button",42)(27,"mat-icon"),i(28,"more_vert"),e()(),t(29,"mat-menu",null,0),g(31,zi,4,0,"button",43)(32,Ri,4,0,"button",43)(33,Vi,4,0,"button",43),_(34,"mat-divider"),t(35,"button",44),f("click",function(){let r=C(a).$implicit,d=p(2);return M(d.deleteFeedback(r))}),t(36,"mat-icon"),i(37,"delete"),e(),i(38," Delete Feedback "),e()()()(),t(39,"div",45)(40,"div",46)(41,"h3"),i(42),e(),t(43,"span",47),i(44),e()(),t(45,"div",48)(46,"p"),i(47),e()()(),t(48,"div",49)(49,"div",50)(50,"span",51)(51,"mat-icon"),i(52,"computer"),e(),i(53),e(),t(54,"span",51)(55,"mat-icon"),i(56,"info"),e(),i(57),e()()()()}if(o&2){let a=c.$implicit,n=de(30),r=p(2);s(9),u(a.name),s(2),u(a.email),s(2),$("background-color",r.getStatusColor(a.status)),s(2),u(r.getCategoryIcon(a.category)),s(),y(" ",G(17,22,a.category)," "),s(2),$("background-color",r.getPriorityColor(a.priority)),s(),y(" ",G(20,24,a.priority)," "),s(2),$("background-color",r.getStatusColor(a.status)),s(),y(" ",G(23,26,a.status)," "),s(2),m("ngIf",a.rating),s(2),m("matMenuTriggerFor",n),s(5),m("ngIf",a.status!=="pending"),s(),m("ngIf",a.status!=="reviewed"),s(),m("ngIf",a.status!=="resolved"),s(9),u(a.subject),s(2),u(r.formatDate(a.timestamp)),s(3),u(a.message),s(6),y(" ",a.userAgent==null?null:a.userAgent.substring(0,50),"... "),s(4),y(" v",a.appVersion," ")}}function Ui(o,c){if(o&1&&(t(0,"div",28),g(1,ji,58,28,"div",29),e()),o&2){let a=p();s(),m("ngForOf",a.getPaginatedFeedback())}}function Li(o,c){o&1&&(t(0,"p"),i(1," No feedback matches your current filters. Try adjusting your search criteria. "),e())}function Ni(o,c){o&1&&(t(0,"p"),i(1," No feedback has been submitted yet. "),e())}function Bi(o,c){if(o&1){let a=O();t(0,"button",57),f("click",function(){C(a);let r=p(2);return M(r.clearFilters())}),i(1," Clear Filters "),e()}}function $i(o,c){if(o&1&&(t(0,"div",54)(1,"mat-icon"),i(2,"feedback"),e(),t(3,"h3"),i(4,"No feedback found"),e(),g(5,Li,2,0,"p",55)(6,Ni,2,0,"p",55)(7,Bi,2,0,"button",56),e()),o&2){let a=p();s(5),m("ngIf",a.filteredFeedback.length===0&&a.feedbackList.length>0),s(),m("ngIf",a.feedbackList.length===0),s(),m("ngIf",a.filteredFeedback.length===0&&a.feedbackList.length>0)}}function qi(o,c){if(o&1){let a=O();t(0,"div",58)(1,"mat-paginator",59),f("page",function(r){C(a);let d=p();return M(d.onPageChange(r.pageIndex+1))}),e()()}if(o&2){let a=p();s(),m("length",a.totalItems)("pageSize",a.itemsPerPage)("pageIndex",a.currentPage-1)("pageSizeOptions",le(4,ki))}}var Vt=(()=>{let c=class c{constructor(n,r,d,l,h,v){this.breakpointObserver=n,this.auth=r,this.feedbackService=d,this.dialog=l,this.notificationService=h,this.ssrService=v,this.feedbackList=[],this.filteredFeedback=[],this.isLoading=!1,this.isMobile=!1,this.currentUser=null,this.destroy$=new R,this.searchControl=new U(""),this.statusFilter=new U("all"),this.categoryFilter=new U("all"),this.priorityFilter=new U("all"),this.dateRangeFilter=new U("all"),this.statusOptions=[{value:"all",label:"All Status"},{value:"pending",label:"Pending"},{value:"reviewed",label:"Reviewed"},{value:"resolved",label:"Resolved"}],this.categoryOptions=[{value:"all",label:"All Categories"},{value:"bug",label:"Bug Report"},{value:"feature",label:"Feature Request"},{value:"improvement",label:"Improvement"},{value:"general",label:"General"},{value:"support",label:"Support"}],this.priorityOptions=[{value:"all",label:"All Priorities"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],this.dateRangeOptions=[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"quarter",label:"This Quarter"}],this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.breakpointObserver.observe([Z.Handset]).pipe(E(this.destroy$)).subscribe(b=>{this.isMobile=b.matches})}ngOnInit(){this.initializeComponent(),this.setupSearchAndFilters()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeComponent(){return S(this,null,function*(){this.currentUser=yield this.auth.currentUser,yield this.loadFeedback()})}setupSearchAndFilters(){this.searchControl.valueChanges.pipe(E(this.destroy$),ce(300),se()).subscribe(()=>{this.applyFilters()}),this.statusFilter.valueChanges.pipe(E(this.destroy$)).subscribe(()=>this.applyFilters()),this.categoryFilter.valueChanges.pipe(E(this.destroy$)).subscribe(()=>this.applyFilters()),this.priorityFilter.valueChanges.pipe(E(this.destroy$)).subscribe(()=>this.applyFilters()),this.dateRangeFilter.valueChanges.pipe(E(this.destroy$)).subscribe(()=>this.applyFilters())}loadFeedback(){return S(this,null,function*(){this.isLoading=!0;try{this.feedbackList=yield this.feedbackService.getAllFeedback(),this.applyFilters()}catch(n){console.error("Error loading feedback:",n),this.notificationService.error("Failed to load feedback")}finally{this.isLoading=!1}})}applyFilters(){var b;let n=[...this.feedbackList],r=(b=this.searchControl.value)==null?void 0:b.toLowerCase();r&&(n=n.filter(P=>P.name.toLowerCase().includes(r)||P.email.toLowerCase().includes(r)||P.subject.toLowerCase().includes(r)||P.message.toLowerCase().includes(r)));let d=this.statusFilter.value;d&&d!=="all"&&(n=n.filter(P=>P.status===d));let l=this.categoryFilter.value;l&&l!=="all"&&(n=n.filter(P=>P.category===l));let h=this.priorityFilter.value;h&&h!=="all"&&(n=n.filter(P=>P.priority===h));let v=this.dateRangeFilter.value;v&&v!=="all"&&(n=this.filterByDateRange(n,v)),n.sort((P,ae)=>{var oe,Le,re,Ne;let qt=((Le=(oe=P.timestamp)==null?void 0:oe.toDate)==null?void 0:Le.call(oe))||new Date(P.timestamp);return(((Ne=(re=ae.timestamp)==null?void 0:re.toDate)==null?void 0:Ne.call(re))||new Date(ae.timestamp)).getTime()-qt.getTime()}),this.filteredFeedback=n,this.totalItems=n.length,this.currentPage=1}filterByDateRange(n,r){let d=new Date,l=new Date;switch(r){case"today":l.setHours(0,0,0,0);break;case"week":l.setDate(d.getDate()-7);break;case"month":l.setMonth(d.getMonth()-1);break;case"quarter":l.setMonth(d.getMonth()-3);break;default:return n}return n.filter(h=>{var b,P;return(((P=(b=h.timestamp)==null?void 0:b.toDate)==null?void 0:P.call(b))||new Date(h.timestamp))>=l})}getStatusColor(n){switch(n){case"pending":return"#f59e0b";case"reviewed":return"#3b82f6";case"resolved":return"#10b981";default:return"#6b7280"}}getPriorityColor(n){switch(n){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#6b7280"}}getCategoryIcon(n){switch(n){case"bug":return"bug_report";case"feature":return"lightbulb";case"improvement":return"trending_up";case"general":return"chat";case"support":return"help";default:return"feedback"}}formatDate(n){var d;return n?(((d=n.toDate)==null?void 0:d.call(n))||new Date(n)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}updateFeedbackStatus(n,r){return S(this,null,function*(){try{yield this.feedbackService.updateFeedbackStatus(n.id,r),n.status=r,this.notificationService.success(`Feedback status updated to ${r}`)}catch(d){console.error("Error updating feedback status:",d),this.notificationService.error("Failed to update feedback status")}})}deleteFeedback(n){return S(this,null,function*(){this.dialog.open(be,{width:this.isMobile?"90vw":"400px",data:{title:"Delete Feedback",message:`Are you sure you want to delete feedback from ${n.name}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",type:"delete"}}).afterClosed().subscribe(d=>S(this,null,function*(){if(d&&n.id)try{yield this.feedbackService.deleteFeedback(n.id),this.feedbackList=this.feedbackList.filter(l=>l.id!==n.id),this.applyFilters(),this.notificationService.success("Feedback deleted successfully")}catch(l){console.error("Error deleting feedback:",l),this.notificationService.error("Failed to delete feedback")}}))})}getPaginatedFeedback(){let n=(this.currentPage-1)*this.itemsPerPage,r=n+this.itemsPerPage;return this.filteredFeedback.slice(n,r)}onPageChange(n){this.currentPage=n}getTotalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)}clearFilters(){this.searchControl.setValue(""),this.statusFilter.setValue("all"),this.categoryFilter.setValue("all"),this.priorityFilter.setValue("all"),this.dateRangeFilter.setValue("all")}exportFeedback(){if(this.ssrService.isClientSide()){let n=this.generateCSV(),r=new Blob([n],{type:"text/csv"}),d=window.URL.createObjectURL(r),l=document.createElement("a");l.href=d,l.download=`feedback-export-${new Date().toISOString().split("T")[0]}.csv`,l.click(),window.URL.revokeObjectURL(d),this.notificationService.success("Feedback exported successfully")}}generateCSV(){let n=["Name","Email","Subject","Category","Priority","Status","Rating","Message","Date"],r=this.filteredFeedback.map(l=>[l.name,l.email,l.subject,l.category,l.priority,l.status,l.rating||"N/A",l.message.replace(/"/g,'""'),this.formatDate(l.timestamp)]);return[n,...r].map(l=>l.map(h=>`"${h}"`).join(",")).join(`
`)}};c.\u0275fac=function(r){return new(r||c)(x(Y),x(W),x(ne),x(ge),x(L),x(ut))},c.\u0275cmp=T({type:c,selectors:[["app-admin-feedback"]],decls:54,vars:17,consts:[["menu","matMenu"],[1,"admin-feedback-container"],[1,"section-header"],[1,"header-content"],[1,"header-actions"],["mat-raised-button","","color","accent",3,"click","disabled"],["mat-raised-button","","color","warn",3,"click"],[1,"filters-section"],[1,"search-bar"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Search by name, email, subject, or message",3,"formControl"],["matSuffix",""],[1,"filter-controls"],["appearance","outline",1,"filter-field"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"results-summary"],[1,"summary-info"],[1,"total-count"],["class","page-info",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","feedback-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","pagination-container",4,"ngIf"],[3,"value"],[1,"page-info"],[1,"loading-state"],["diameter","40"],[1,"feedback-list"],["class","feedback-item",4,"ngFor","ngForOf"],[1,"feedback-item"],[1,"feedback-header"],[1,"feedback-meta"],[1,"user-info"],[1,"avatar"],[1,"user-details"],[1,"feedback-badges"],[1,"badge","category"],[1,"badge","priority"],[1,"badge","status"],["class","badge rating",4,"ngIf"],[1,"feedback-actions"],["mat-icon-button","","matTooltip","Actions",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"],[1,"feedback-content"],[1,"feedback-subject"],[1,"timestamp"],[1,"feedback-message"],[1,"feedback-footer"],[1,"technical-info"],[1,"info-item"],[1,"badge","rating"],["mat-menu-item","",3,"click"],[1,"empty-state"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"pagination-container"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(r,d){r&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2"),i(4,"User Feedback Management"),e(),t(5,"p"),i(6,"View, filter, and manage user feedback submissions"),e()(),t(7,"div",4)(8,"button",5),f("click",function(){return d.exportFeedback()}),t(9,"mat-icon"),i(10,"download"),e(),i(11," Export CSV "),e(),t(12,"button",6),f("click",function(){return d.clearFilters()}),t(13,"mat-icon"),i(14,"clear"),e(),i(15," Clear Filters "),e()()(),t(16,"div",7)(17,"div",8)(18,"mat-form-field",9)(19,"mat-label"),i(20,"Search feedback"),e(),_(21,"input",10),t(22,"mat-icon",11),i(23,"search"),e()()(),t(24,"div",12)(25,"mat-form-field",13)(26,"mat-label"),i(27,"Status"),e(),t(28,"mat-select",14),g(29,wi,2,2,"mat-option",15),e()(),t(30,"mat-form-field",13)(31,"mat-label"),i(32,"Category"),e(),t(33,"mat-select",14),g(34,Ii,2,2,"mat-option",15),e()(),t(35,"mat-form-field",13)(36,"mat-label"),i(37,"Priority"),e(),t(38,"mat-select",14),g(39,Ei,2,2,"mat-option",15),e()(),t(40,"mat-form-field",13)(41,"mat-label"),i(42,"Date Range"),e(),t(43,"mat-select",14),g(44,Ai,2,2,"mat-option",15),e()()()(),t(45,"div",16)(46,"div",17)(47,"span",18),i(48),e(),g(49,Fi,2,2,"span",19),e()(),g(50,Ti,4,0,"div",20)(51,Ui,2,1,"div",21)(52,$i,8,3,"div",22)(53,qi,2,5,"div",23),e()),r&2&&(s(8),m("disabled",d.filteredFeedback.length===0),s(13),m("formControl",d.searchControl),s(7),m("formControl",d.statusFilter),s(),m("ngForOf",d.statusOptions),s(4),m("formControl",d.categoryFilter),s(),m("ngForOf",d.categoryOptions),s(4),m("formControl",d.priorityFilter),s(),m("ngForOf",d.priorityOptions),s(4),m("formControl",d.dateRangeFilter),s(),m("ngForOf",d.dateRangeOptions),s(4),q("Showing ",d.filteredFeedback.length," of ",d.feedbackList.length," feedback items"),s(),m("ngIf",d.totalItems>0),s(),m("ngIf",d.isLoading),s(),m("ngIf",!d.isLoading&&d.getPaginatedFeedback().length>0),s(),m("ngIf",!d.isLoading&&d.getPaginatedFeedback().length===0),s(),m("ngIf",d.getTotalPages()>1))},dependencies:[V,j,X,ee,N,B,ie,Q,K,pe,ye,fe,ue,_e,ve,he,Pe,Me,Ce,xe,Oe,me],styles:["@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.admin-feedback-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;gap:1rem}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1f2937;margin:0 0 .5rem}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}.section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0}.section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-shrink:0}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{justify-content:stretch}.section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.filters-section[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{margin-bottom:1rem}.filters-section[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%}.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]{grid-template-columns:1fr}}.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{width:100%}.results-summary[_ngcontent-%COMP%]{margin-bottom:1.5rem}.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}@media (max-width: 768px){.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}}.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{font-weight:500;color:#374151}.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;gap:1rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem}.feedback-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.feedback-item[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;transition:all .2s ease;animation:_ngcontent-%COMP%_slideInUp .3s ease-out}.feedback-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-1px)}.feedback-item[_ngcontent-%COMP%]   .feedback-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem;gap:1rem}@media (max-width: 768px){.feedback-item[_ngcontent-%COMP%]   .feedback-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.feedback-item[_ngcontent-%COMP%]   .feedback-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex:1;gap:1rem}@media (max-width: 768px){.feedback-item[_ngcontent-%COMP%]   .feedback-meta[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}}.feedback-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.feedback-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:48px;height:48px;background:#f3f4f6;border-radius:50%;display:flex;align-items:center;justify-content:center}.feedback-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280;font-size:1.5rem}.feedback-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1f2937;margin:0 0 .25rem}.feedback-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0}.feedback-item[_ngcontent-%COMP%]   .feedback-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.feedback-item[_ngcontent-%COMP%]   .feedback-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:500;color:#fff}.feedback-item[_ngcontent-%COMP%]   .feedback-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:.875rem;width:.875rem;height:.875rem}.feedback-item[_ngcontent-%COMP%]   .feedback-badges[_ngcontent-%COMP%]   .badge.category[_ngcontent-%COMP%]{background:#667eea}.feedback-item[_ngcontent-%COMP%]   .feedback-badges[_ngcontent-%COMP%]   .badge.priority[_ngcontent-%COMP%]{background:#f59e0b}.feedback-item[_ngcontent-%COMP%]   .feedback-badges[_ngcontent-%COMP%]   .badge.status[_ngcontent-%COMP%]{background:#10b981}.feedback-item[_ngcontent-%COMP%]   .feedback-badges[_ngcontent-%COMP%]   .badge.rating[_ngcontent-%COMP%]{background:#fbbf24;color:#92400e}.feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]{margin-bottom:1rem}.feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]   .feedback-subject[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.75rem;gap:1rem}@media (max-width: 768px){.feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]   .feedback-subject[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}.feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]   .feedback-subject[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0;flex:1}.feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]   .feedback-subject[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;white-space:nowrap}.feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]   .feedback-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#374151;line-height:1.6;margin:0;white-space:pre-wrap}.feedback-item[_ngcontent-%COMP%]   .feedback-footer[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;padding-top:1rem}.feedback-item[_ngcontent-%COMP%]   .feedback-footer[_ngcontent-%COMP%]   .technical-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.feedback-item[_ngcontent-%COMP%]   .feedback-footer[_ngcontent-%COMP%]   .technical-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.75rem;color:#6b7280}.feedback-item[_ngcontent-%COMP%]   .feedback-footer[_ngcontent-%COMP%]   .technical-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:.875rem;width:.875rem;height:.875rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:#9ca3af;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#374151;margin:0 0 .5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0 0 1.5rem;max-width:400px}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.dark[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.dark[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]{background:#374151;border-color:#4b5563}.dark[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{background:#374151}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]   .feedback-subject[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]   .feedback-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d1d5db}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .feedback-footer[_ngcontent-%COMP%]{border-top-color:#374151}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .feedback-footer[_ngcontent-%COMP%]   .technical-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}@media (max-width: 480px){.section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.filters-section[_ngcontent-%COMP%], .feedback-item[_ngcontent-%COMP%]{padding:1rem}.feedback-badges[_ngcontent-%COMP%]{justify-content:flex-start}.empty-state[_ngcontent-%COMP%]{padding:2rem 1rem}}"]});let o=c;return o})();function Gi(o,c){o&1&&(t(0,"div",5),_(1,"mat-spinner",6),t(2,"p"),i(3,"Loading analytics data..."),e()())}function Qi(o,c){if(o&1&&(t(0,"div",34)(1,"span",35),i(2),e(),t(3,"span",36),i(4),e()()),o&2){let a=c.$implicit,n=c.index,r=p(2);s(2),u(a),s(2),y("",r.analyticsData.userGrowth.data[n]," users")}}function Ki(o,c){if(o&1&&(t(0,"div",34)(1,"span",35),i(2),e(),t(3,"span",36),i(4),e()()),o&2){let a=c.$implicit,n=c.index,r=p(2);s(2),u(a),s(2),y("",r.analyticsData.feedbackTrends.data[n]," feedback")}}function Wi(o,c){if(o&1&&(t(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"mat-icon"),i(5,"people"),e()(),t(6,"div",11)(7,"h3"),i(8),e(),t(9,"p"),i(10,"Total Users"),e(),t(11,"span",12),i(12),e()()(),t(13,"div",9)(14,"div",13)(15,"mat-icon"),i(16,"trending_up"),e()(),t(17,"div",11)(18,"h3"),i(19),e(),t(20,"p"),i(21,"Active Users"),e(),t(22,"span",12),i(23,"Active in last 30 days"),e()()(),t(24,"div",9)(25,"div",14)(26,"mat-icon"),i(27,"feedback"),e()(),t(28,"div",11)(29,"h3"),i(30),e(),t(31,"p"),i(32,"Total Feedback"),e(),t(33,"span",15),i(34,"All time submissions"),e()()(),t(35,"div",9)(36,"div",16)(37,"mat-icon"),i(38,"star"),e()(),t(39,"div",11)(40,"h3"),i(41),e(),t(42,"p"),i(43,"Average Rating"),e(),t(44,"span",12),i(45,"User satisfaction"),e()()()(),t(46,"div",17)(47,"h3"),i(48,"Feedback Status Overview"),e(),t(49,"div",18)(50,"div",19)(51,"div",20)(52,"mat-icon"),i(53,"pending"),e(),t(54,"span"),i(55,"Pending"),e()(),t(56,"div",21)(57,"h4"),i(58),e(),t(59,"div",22),_(60,"div",23),e(),t(61,"span",24),i(62),e()()(),t(63,"div",25)(64,"div",20)(65,"mat-icon"),i(66,"check_circle"),e(),t(67,"span"),i(68,"Resolved"),e()(),t(69,"div",21)(70,"h4"),i(71),e(),t(72,"div",22),_(73,"div",23),e(),t(74,"span",24),i(75),e()()()()(),t(76,"div",26)(77,"div",27)(78,"h3"),i(79,"User Growth Trend"),e(),t(80,"div",28)(81,"mat-icon"),i(82,"trending_up"),e(),t(83,"p"),i(84,"User growth chart will be implemented with chart library"),e(),t(85,"div",29),g(86,Qi,5,2,"div",30),e()()(),t(87,"div",27)(88,"h3"),i(89,"Feedback Trends"),e(),t(90,"div",28)(91,"mat-icon"),i(92,"analytics"),e(),t(93,"p"),i(94,"Feedback trends chart will be implemented with chart library"),e(),t(95,"div",29),g(96,Ki,5,2,"div",30),e()()()(),t(97,"div",31)(98,"h3"),i(99,"Quick Insights"),e(),t(100,"div",32)(101,"div",33)(102,"mat-icon"),i(103,"insights"),e(),t(104,"h4"),i(105,"User Engagement"),e(),t(106,"p"),i(107),e()(),t(108,"div",33)(109,"mat-icon"),i(110,"speed"),e(),t(111,"h4"),i(112,"Response Time"),e(),t(113,"p"),i(114,"Average feedback response time: 2.3 days"),e()(),t(115,"div",33)(116,"mat-icon"),i(117,"thumb_up"),e(),t(118,"h4"),i(119,"Satisfaction"),e(),t(120,"p"),i(121),e()()()()()),o&2){let a=p();s(8),u(a.analyticsData.userActivity.totalUsers),s(4),y("+",a.analyticsData.userActivity.newUsers," this month"),s(7),u(a.analyticsData.userActivity.activeUsers),s(11),u(a.analyticsData.feedbackMetrics.totalFeedback),s(11),y("",a.analyticsData.feedbackMetrics.averageRating,"/5"),s(17),u(a.analyticsData.feedbackMetrics.pendingFeedback),s(2),$("width",a.getFeedbackStatusPercentage("pending"),"%")("background-color",a.getStatusColor("pending")),s(2),y("",a.getFeedbackStatusPercentage("pending"),"%"),s(9),u(a.analyticsData.feedbackMetrics.resolvedFeedback),s(2),$("width",a.getFeedbackStatusPercentage("resolved"),"%")("background-color",a.getStatusColor("resolved")),s(2),y("",a.getFeedbackStatusPercentage("resolved"),"%"),s(11),m("ngForOf",a.analyticsData.userGrowth.labels),s(10),m("ngForOf",a.analyticsData.feedbackTrends.labels),s(11),y("",a.analyticsData.userActivity.activeUsers/a.analyticsData.userActivity.totalUsers*100,"% of users are active"),s(14),y("",a.analyticsData.feedbackMetrics.averageRating>=4?"High":"Good"," user satisfaction rating")}}function Yi(o,c){o&1&&(t(0,"div",37)(1,"mat-icon"),i(2,"analytics"),e(),t(3,"h3"),i(4,"No Analytics Data"),e(),t(5,"p"),i(6,"Analytics data will appear here once users start using the application."),e()())}var jt=(()=>{let c=class c{constructor(n,r,d){this.userService=n,this.feedbackService=r,this.notificationService=d,this.analyticsData=null,this.isLoading=!1,this.destroy$=new R}ngOnInit(){this.loadAnalytics()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAnalytics(){return S(this,null,function*(){this.isLoading=!0;try{let n=yield this.userService.getUserStatistics(),r=yield this.feedbackService.getAllFeedback();this.analyticsData=this.generateAnalyticsData(n,r)}catch(n){console.error("Error loading analytics:",n),this.notificationService.error("Failed to load analytics data")}finally{this.isLoading=!1}})}generateAnalyticsData(n,r){let d=this.generateUserGrowthData(),l=this.generateFeedbackTrends(r),h={activeUsers:n.activeUsers,newUsers:n.totalUsers*.1,totalUsers:n.totalUsers},v=this.calculateFeedbackMetrics(r);return{userGrowth:d,feedbackTrends:l,userActivity:h,feedbackMetrics:v}}generateUserGrowthData(){let n=[],r=[];for(let d=5;d>=0;d--){let l=new Date;l.setMonth(l.getMonth()-d),n.push(l.toLocaleDateString("en-US",{month:"short",year:"numeric"})),r.push(Math.floor(Math.random()*50)+10)}return{labels:n,data:r}}generateFeedbackTrends(n){let r=[],d=[],l=new Map;n.forEach(h=>{var P,ae;let b=(((ae=(P=h.timestamp)==null?void 0:P.toDate)==null?void 0:ae.call(P))||new Date(h.timestamp)).toLocaleDateString("en-US",{month:"short",year:"numeric"});l.set(b,(l.get(b)||0)+1)});for(let h=5;h>=0;h--){let v=new Date;v.setMonth(v.getMonth()-h);let b=v.toLocaleDateString("en-US",{month:"short",year:"numeric"});r.push(b),d.push(l.get(b)||0)}return{labels:r,data:d}}calculateFeedbackMetrics(n){let r=n.length,d=n.filter(b=>b.status==="pending").length,l=n.filter(b=>b.status==="resolved").length,h=n.filter(b=>b.rating).map(b=>b.rating),v=h.length>0?h.reduce((b,P)=>b+P,0)/h.length:0;return{totalFeedback:r,pendingFeedback:d,resolvedFeedback:l,averageRating:Math.round(v*10)/10}}getFeedbackStatusPercentage(n){if(!this.analyticsData)return 0;let r=this.analyticsData.feedbackMetrics.totalFeedback;if(r===0)return 0;switch(n){case"pending":return Math.round(this.analyticsData.feedbackMetrics.pendingFeedback/r*100);case"resolved":return Math.round(this.analyticsData.feedbackMetrics.resolvedFeedback/r*100);default:return 0}}getStatusColor(n){switch(n){case"pending":return"#f59e0b";case"resolved":return"#10b981";default:return"#6b7280"}}};c.\u0275fac=function(r){return new(r||c)(x(te),x(ne),x(L))},c.\u0275cmp=T({type:c,selectors:[["app-admin-analytics"]],decls:9,vars:3,consts:[[1,"analytics-container"],[1,"section-header"],["class","loading-state",4,"ngIf"],["class","analytics-content",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"loading-state"],["diameter","50"],[1,"analytics-content"],[1,"metrics-grid"],[1,"metric-card"],[1,"metric-icon","users"],[1,"metric-content"],[1,"metric-change","positive"],[1,"metric-icon","active"],[1,"metric-icon","feedback"],[1,"metric-change","neutral"],[1,"metric-icon","rating"],[1,"feedback-overview"],[1,"status-cards"],[1,"status-card","pending"],[1,"status-header"],[1,"status-content"],[1,"progress-bar"],[1,"progress-fill"],[1,"percentage"],[1,"status-card","resolved"],[1,"charts-section"],[1,"chart-container"],[1,"chart-placeholder"],[1,"chart-data"],["class","data-point",4,"ngFor","ngForOf"],[1,"insights-section"],[1,"insights-grid"],[1,"insight-card"],[1,"data-point"],[1,"label"],[1,"value"],[1,"empty-state"]],template:function(r,d){r&1&&(t(0,"div",0)(1,"div",1)(2,"h2"),i(3,"Analytics Dashboard"),e(),t(4,"p"),i(5,"App usage statistics and insights"),e()(),g(6,Gi,4,0,"div",2)(7,Wi,122,21,"div",3)(8,Yi,7,0,"div",4),e()),r&2&&(s(6),m("ngIf",d.isLoading),s(),m("ngIf",!d.isLoading&&d.analyticsData),s(),m("ngIf",!d.isLoading&&!d.analyticsData))},dependencies:[V,j,N,B],styles:[".analytics-container[_ngcontent-%COMP%]{padding:2rem}@media (max-width: 768px){.analytics-container[_ngcontent-%COMP%]{padding:1rem}}.section-header[_ngcontent-%COMP%]{margin-bottom:2rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1f2937;margin:0 0 .5rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;color:#6b7280}.analytics-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}@media (max-width: 768px){.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.metric-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;display:flex;align-items:center;gap:1rem;transition:all .2s ease}.metric-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px #0000001a;transform:translateY(-2px)}.metric-card[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.metric-card[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;color:#fff}.metric-card[_ngcontent-%COMP%]   .metric-icon.users[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.metric-card[_ngcontent-%COMP%]   .metric-icon.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.metric-card[_ngcontent-%COMP%]   .metric-icon.feedback[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.metric-card[_ngcontent-%COMP%]   .metric-icon.rating[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]{flex:1}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin:0 0 .25rem}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0 0 .5rem}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-change[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-change.positive[_ngcontent-%COMP%]{color:#10b981}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-change.negative[_ngcontent-%COMP%]{color:#ef4444}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-change.neutral[_ngcontent-%COMP%]{color:#6b7280}.feedback-overview[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.feedback-overview[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 1.5rem}.status-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.status-card[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;border:1px solid #e5e7eb}.status-card.pending[_ngcontent-%COMP%]{background:#fef3c7;border-color:#f59e0b}.status-card.resolved[_ngcontent-%COMP%]{background:#d1fae5;border-color:#10b981}.status-card[_ngcontent-%COMP%]   .status-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.status-card[_ngcontent-%COMP%]   .status-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem}.status-card[_ngcontent-%COMP%]   .status-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#374151}.status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1f2937;margin:0 0 .5rem}.status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#0000001a;border-radius:4px;overflow:hidden;margin-bottom:.5rem}.status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .3s ease}.status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#6b7280}.charts-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1.5rem}@media (max-width: 768px){.charts-section[_ngcontent-%COMP%]{grid-template-columns:1fr}}.chart-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.chart-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 1rem}.chart-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem;background:#f9fafb;border-radius:8px;border:2px dashed #d1d5db}.chart-placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;color:#9ca3af;margin-bottom:1rem}.chart-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;text-align:center;margin-bottom:1.5rem}.chart-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:100%}.chart-data[_ngcontent-%COMP%]   .data-point[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem;background:#fff;border-radius:4px;border:1px solid #e5e7eb}.chart-data[_ngcontent-%COMP%]   .data-point[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;color:#374151}.chart-data[_ngcontent-%COMP%]   .data-point[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.insights-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.insights-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 1.5rem}.insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.insight-card[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;background:#f8fafc;border:1px solid #e5e7eb;transition:all .2s ease}.insight-card[_ngcontent-%COMP%]:hover{background:#f1f5f9;transform:translateY(-1px)}.insight-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#3b82f6;margin-bottom:.5rem}.insight-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1f2937;margin:0 0 .5rem}.insight-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;color:#9ca3af;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#374151;margin:0 0 .5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0}"]});let o=c;return o})();function Ji(o,c){o&1&&(t(0,"div",4),_(1,"mat-spinner",5),t(2,"p"),i(3,"Loading settings..."),e()())}function Xi(o,c){if(o&1){let a=O();t(0,"div",21),f("click",function(){let r=C(a).$implicit,d=p(2);return M(d.setActiveCategory(r.id))}),t(1,"mat-icon"),i(2),e(),t(3,"div",22)(4,"span",23),i(5),e(),t(6,"span",24),i(7),e()()()}if(o&2){let a=c.$implicit,n=p(2);I("active",n.activeCategory===a.id),s(2),u(a.icon),s(3),u(a.label),s(2),u(a.description)}}function en(o,c){o&1&&(t(0,"div",38),i(1," Application name is required and must be at least 2 characters "),e())}function tn(o,c){o&1&&(t(0,"div",38),i(1," Version is required "),e())}function nn(o,c){if(o&1&&(t(0,"div",25)(1,"h3"),i(2,"General Settings"),e(),t(3,"div",26)(4,"label",27),i(5,"Application Name"),e(),_(6,"input",28),g(7,en,2,0,"div",29),e(),t(8,"div",26)(9,"label",30),i(10,"Application Version"),e(),_(11,"input",31),g(12,tn,2,0,"div",29),e(),t(13,"div",32)(14,"label",33),_(15,"input",34)(16,"span",35),i(17," Enable Maintenance Mode "),e(),t(18,"p",36),i(19,"When enabled, users will see a maintenance page"),e()(),t(20,"div",32)(21,"label",33),_(22,"input",37)(23,"span",35),i(24," Enable User Registration "),e(),t(25,"p",36),i(26,"Allow new users to register accounts"),e()()()),o&2){let a=p(2);s(6),I("invalid",a.isFormControlInvalid("appName")),s(),m("ngIf",a.isFormControlInvalid("appName")),s(4),I("invalid",a.isFormControlInvalid("appVersion")),s(),m("ngIf",a.isFormControlInvalid("appVersion"))}}function an(o,c){o&1&&(t(0,"div",38),i(1," Session timeout must be between 5 and 120 minutes "),e())}function on(o,c){o&1&&(t(0,"div",38),i(1," Login attempts must be between 3 and 10 "),e())}function rn(o,c){if(o&1&&(t(0,"div",25)(1,"h3"),i(2,"Security Settings"),e(),t(3,"div",26)(4,"label",39),i(5,"Session Timeout (minutes)"),e(),_(6,"input",40),g(7,an,2,0,"div",29),e(),t(8,"div",26)(9,"label",41),i(10,"Maximum Login Attempts"),e(),_(11,"input",42),g(12,on,2,0,"div",29),e(),t(13,"div",32)(14,"label",33),_(15,"input",43)(16,"span",35),i(17," Require Email Verification "),e(),t(18,"p",36),i(19,"Users must verify their email before accessing the app"),e()(),t(20,"div",32)(21,"label",33),_(22,"input",44)(23,"span",35),i(24," Enable Two-Factor Authentication "),e(),t(25,"p",36),i(26,"Allow users to enable 2FA for additional security"),e()()()),o&2){let a=p(2);s(6),I("invalid",a.isFormControlInvalid("sessionTimeout")),s(),m("ngIf",a.isFormControlInvalid("sessionTimeout")),s(4),I("invalid",a.isFormControlInvalid("maxLoginAttempts")),s(),m("ngIf",a.isFormControlInvalid("maxLoginAttempts"))}}function cn(o,c){o&1&&(t(0,"div",25)(1,"h3"),i(2,"Notification Settings"),e(),t(3,"div",32)(4,"label",33),_(5,"input",45)(6,"span",35),i(7," Enable Email Notifications "),e(),t(8,"p",36),i(9,"Send email notifications to users"),e()(),t(10,"div",32)(11,"label",33),_(12,"input",46)(13,"span",35),i(14," Enable Push Notifications "),e(),t(15,"p",36),i(16,"Send push notifications to mobile devices"),e()(),t(17,"div",32)(18,"label",33),_(19,"input",47)(20,"span",35),i(21," Feedback Notifications "),e(),t(22,"p",36),i(23,"Notify admins when new feedback is submitted"),e()(),t(24,"div",32)(25,"label",33),_(26,"input",48)(27,"span",35),i(28," Admin Notifications "),e(),t(29,"p",36),i(30,"Send notifications to admin users"),e()()())}function sn(o,c){o&1&&(t(0,"div",38),i(1," File size must be between 1 and 50 MB "),e())}function dn(o,c){o&1&&(t(0,"div",38),i(1," Backup frequency is required "),e())}function ln(o,c){if(o&1&&(t(0,"div",25)(1,"h3"),i(2,"Performance Settings"),e(),t(3,"div",26)(4,"label",49),i(5,"Maximum File Upload Size (MB)"),e(),_(6,"input",50),g(7,sn,2,0,"div",29),e(),t(8,"div",26)(9,"label",51),i(10,"Backup Frequency"),e(),t(11,"select",52)(12,"option",53),i(13,"Daily"),e(),t(14,"option",54),i(15,"Weekly"),e(),t(16,"option",55),i(17,"Monthly"),e()(),g(18,dn,2,0,"div",29),e(),t(19,"div",32)(20,"label",33),_(21,"input",56)(22,"span",35),i(23," Enable Analytics "),e(),t(24,"p",36),i(25,"Collect usage analytics and statistics"),e()(),t(26,"div",32)(27,"label",33),_(28,"input",57)(29,"span",35),i(30," Debug Mode "),e(),t(31,"p",36),i(32,"Enable debug logging and development features"),e()(),t(33,"div",32)(34,"label",33),_(35,"input",58)(36,"span",35),i(37," Enable Caching "),e(),t(38,"p",36),i(39,"Cache data for improved performance"),e()(),t(40,"div",32)(41,"label",33),_(42,"input",59)(43,"span",35),i(44," Enable Compression "),e(),t(45,"p",36),i(46,"Compress responses for faster loading"),e()()()),o&2){let a=p(2);s(6),I("invalid",a.isFormControlInvalid("maxFileUploadSize")),s(),m("ngIf",a.isFormControlInvalid("maxFileUploadSize")),s(4),I("invalid",a.isFormControlInvalid("backupFrequency")),s(7),m("ngIf",a.isFormControlInvalid("backupFrequency"))}}function mn(o,c){o&1&&_(0,"mat-spinner",60)}function pn(o,c){o&1&&(t(0,"span"),i(1,"Save Settings"),e())}function hn(o,c){o&1&&(t(0,"span"),i(1,"Saving..."),e())}function gn(o,c){if(o&1){let a=O();t(0,"div",6)(1,"form",7),f("ngSubmit",function(){C(a);let r=p();return M(r.saveSettings())}),t(2,"div",8),g(3,Xi,8,5,"div",9),e(),t(4,"div",10),g(5,nn,27,6,"div",11)(6,rn,27,6,"div",11)(7,cn,31,0,"div",11)(8,ln,47,6,"div",11),t(9,"div",12)(10,"button",13),f("click",function(){C(a);let r=p();return M(r.resetSettings())}),i(11," Reset "),e(),t(12,"div",14)(13,"button",15),f("click",function(){C(a);let r=p();return M(r.exportSettings())}),t(14,"mat-icon"),i(15,"download"),e(),i(16," Export "),e(),t(17,"label",16)(18,"mat-icon"),i(19,"upload"),e(),i(20," Import "),t(21,"input",17),f("change",function(r){C(a);let d=p();return M(d.importSettings(r))}),e()()(),t(22,"button",18),g(23,mn,1,0,"mat-spinner",19)(24,pn,2,0,"span",20)(25,hn,2,0,"span",20),e()()()()()}if(o&2){let a=p();s(),m("formGroup",a.settingsForm),s(2),m("ngForOf",a.settingsCategories),s(2),m("ngIf",a.activeCategory==="general"),s(),m("ngIf",a.activeCategory==="security"),s(),m("ngIf",a.activeCategory==="notifications"),s(),m("ngIf",a.activeCategory==="performance"),s(2),m("disabled",a.isSaving),s(3),m("disabled",a.isSaving),s(9),m("disabled",a.settingsForm.invalid||a.isSaving),s(),m("ngIf",a.isSaving),s(),m("ngIf",!a.isSaving),s(),m("ngIf",a.isSaving)}}var Ut=(()=>{let c=class c{constructor(n,r){this.fb=n,this.notificationService=r,this.isLoading=!1,this.isSaving=!1,this.destroy$=new R,this.settingsCategories=[{id:"general",label:"General Settings",icon:"settings",description:"Basic application configuration"},{id:"security",label:"Security Settings",icon:"security",description:"Security and authentication settings"},{id:"notifications",label:"Notifications",icon:"notifications",description:"Email and push notification settings"},{id:"performance",label:"Performance",icon:"speed",description:"Performance and optimization settings"}],this.activeCategory="general",this.settingsForm=this.createForm()}ngOnInit(){this.loadSettings()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}createForm(){return this.fb.group({appName:["Money Manager",[A.required,A.minLength(2)]],appVersion:["1.0.0",[A.required]],maintenanceMode:[!1],userRegistrationEnabled:[!0],sessionTimeout:[30,[A.required,A.min(5),A.max(120)]],maxLoginAttempts:[5,[A.required,A.min(3),A.max(10)]],requireEmailVerification:[!0],enableTwoFactor:[!1],emailNotificationsEnabled:[!0],pushNotificationsEnabled:[!0],feedbackNotificationsEnabled:[!0],adminNotificationsEnabled:[!0],maxFileUploadSize:[5,[A.required,A.min(1),A.max(50)]],backupFrequency:["daily",[A.required]],analyticsEnabled:[!0],debugMode:[!1],cacheEnabled:[!0],compressionEnabled:[!0]})}loadSettings(){return S(this,null,function*(){this.isLoading=!0;try{let n=localStorage.getItem("admin-settings");if(n){let r=JSON.parse(n);this.settingsForm.patchValue(r)}}catch(n){console.error("Error loading settings:",n),this.notificationService.error("Failed to load settings")}finally{this.isLoading=!1}})}saveSettings(){return S(this,null,function*(){if(this.settingsForm.invalid){this.notificationService.warning("Please fix the form errors before saving");return}this.isSaving=!0;try{let n=this.settingsForm.value;localStorage.setItem("admin-settings",JSON.stringify(n)),this.notificationService.success("Settings saved successfully")}catch(n){console.error("Error saving settings:",n),this.notificationService.error("Failed to save settings")}finally{this.isSaving=!1}})}resetSettings(){this.settingsForm.reset(),this.loadSettings(),this.notificationService.info("Settings reset to default values")}setActiveCategory(n){this.activeCategory=n}getActiveCategory(){return this.settingsCategories.find(n=>n.id===this.activeCategory)}exportSettings(){try{let n=this.settingsForm.value,r=JSON.stringify(n,null,2),d=new Blob([r],{type:"application/json"}),l=URL.createObjectURL(d),h=document.createElement("a");h.href=l,h.download=`admin-settings-${new Date().toISOString().split("T")[0]}.json`,h.click(),URL.revokeObjectURL(l),this.notificationService.success("Settings exported successfully")}catch(n){console.error("Error exporting settings:",n),this.notificationService.error("Failed to export settings")}}importSettings(n){let r=n.target.files[0];if(!r)return;let d=new FileReader;d.onload=l=>{try{let h=JSON.parse(l.target.result);this.settingsForm.patchValue(h),this.notificationService.success("Settings imported successfully")}catch(h){console.error("Error importing settings:",h),this.notificationService.error("Invalid settings file")}},d.readAsText(r)}getFormControl(n){return this.settingsForm.get(n)}isFormControlInvalid(n){let r=this.getFormControl(n);return r?r.invalid&&r.touched:!1}};c.\u0275fac=function(r){return new(r||c)(x(rt),x(L))},c.\u0275cmp=T({type:c,selectors:[["app-admin-settings"]],decls:8,vars:2,consts:[[1,"settings-container"],[1,"section-header"],["class","loading-state",4,"ngIf"],["class","settings-content",4,"ngIf"],[1,"loading-state"],["diameter","50"],[1,"settings-content"],[3,"ngSubmit","formGroup"],[1,"settings-nav"],["class","nav-item",3,"active","click",4,"ngFor","ngForOf"],[1,"settings-form"],["class","settings-section",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"action-group"],["type","button",1,"btn","btn-outline",3,"click","disabled"],[1,"btn","btn-outline","import-btn"],["type","file","accept",".json",2,"display","none",3,"change"],["type","submit",1,"btn","btn-primary",3,"disabled"],["diameter","20",4,"ngIf"],[4,"ngIf"],[1,"nav-item",3,"click"],[1,"nav-content"],[1,"nav-label"],[1,"nav-description"],[1,"settings-section"],[1,"form-group"],["for","appName"],["id","appName","type","text","formControlName","appName","placeholder","Enter application name"],["class","error-message",4,"ngIf"],["for","appVersion"],["id","appVersion","type","text","formControlName","appVersion","placeholder","e.g., 1.0.0"],[1,"form-group","checkbox-group"],[1,"checkbox-label"],["type","checkbox","formControlName","maintenanceMode"],[1,"checkmark"],[1,"help-text"],["type","checkbox","formControlName","userRegistrationEnabled"],[1,"error-message"],["for","sessionTimeout"],["id","sessionTimeout","type","number","formControlName","sessionTimeout","min","5","max","120"],["for","maxLoginAttempts"],["id","maxLoginAttempts","type","number","formControlName","maxLoginAttempts","min","3","max","10"],["type","checkbox","formControlName","requireEmailVerification"],["type","checkbox","formControlName","enableTwoFactor"],["type","checkbox","formControlName","emailNotificationsEnabled"],["type","checkbox","formControlName","pushNotificationsEnabled"],["type","checkbox","formControlName","feedbackNotificationsEnabled"],["type","checkbox","formControlName","adminNotificationsEnabled"],["for","maxFileUploadSize"],["id","maxFileUploadSize","type","number","formControlName","maxFileUploadSize","min","1","max","50"],["for","backupFrequency"],["id","backupFrequency","formControlName","backupFrequency"],["value","daily"],["value","weekly"],["value","monthly"],["type","checkbox","formControlName","analyticsEnabled"],["type","checkbox","formControlName","debugMode"],["type","checkbox","formControlName","cacheEnabled"],["type","checkbox","formControlName","compressionEnabled"],["diameter","20"]],template:function(r,d){r&1&&(t(0,"div",0)(1,"div",1)(2,"h2"),i(3,"Admin Settings"),e(),t(4,"p"),i(5,"Configure application settings and preferences"),e()(),g(6,Ji,4,0,"div",2)(7,gn,26,12,"div",3),e()),r&2&&(s(6),m("ngIf",d.isLoading),s(),m("ngIf",!d.isLoading))},dependencies:[V,j,N,B,Ze,it,nt,Q,Je,We,tt,K,Ye,ot,at,Xe,et],styles:['.settings-container[_ngcontent-%COMP%]{padding:2rem}@media (max-width: 768px){.settings-container[_ngcontent-%COMP%]{padding:1rem}}.section-header[_ngcontent-%COMP%]{margin-bottom:2rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1f2937;margin:0 0 .5rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;color:#6b7280}.settings-content[_ngcontent-%COMP%]{display:flex;gap:2rem}@media (max-width: 1024px){.settings-content[_ngcontent-%COMP%]{flex-direction:column}}.settings-nav[_ngcontent-%COMP%]{width:280px;background:#fff;border-radius:12px;padding:1rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;height:fit-content}@media (max-width: 1024px){.settings-nav[_ngcontent-%COMP%]{width:100%}}.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;cursor:pointer;transition:all .2s ease;border-radius:8px;margin-bottom:.5rem}.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.settings-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:#eff6ff;border-left:3px solid #3b82f6}.settings-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{color:#1e40af;font-weight:600}.settings-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3b82f6}.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#6b7280;flex-shrink:0}.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-content[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151}.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-content[_ngcontent-%COMP%]   .nav-description[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.settings-form[_ngcontent-%COMP%]{flex:1;background:#fff;border-radius:12px;padding:2rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 768px){.settings-form[_ngcontent-%COMP%]{padding:1rem}}.settings-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f2937;margin:0 0 2rem;padding-bottom:.5rem;border-bottom:2px solid #e5e7eb}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:6px;font-size:.875rem;transition:all .2s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select.invalid[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.75rem;color:#ef4444;margin-top:.25rem}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;cursor:pointer;font-weight:500;color:#374151}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #d1d5db;border-radius:4px;position:relative;transition:all .2s ease}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;left:6px;top:2px;width:6px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg);opacity:0;transition:opacity .2s ease}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]{background:#3b82f6;border-color:#3b82f6}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]:after{opacity:1}.checkbox-group[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin:.5rem 0 0 2rem}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:2rem;padding-top:2rem;border-top:1px solid #e5e7eb}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}}.action-group[_ngcontent-%COMP%]{display:flex;gap:.5rem}@media (max-width: 768px){.action-group[_ngcontent-%COMP%]{justify-content:center}}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:6px;font-size:.875rem;font-weight:500;text-decoration:none;cursor:pointer;transition:all .2s ease;border:none}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6b7280;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#4b5563}.btn.btn-outline[_ngcontent-%COMP%]{background:transparent;color:#374151;border:1px solid #d1d5db}.btn.btn-outline[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;border-color:#9ca3af}.btn.import-btn[_ngcontent-%COMP%]{cursor:pointer}.btn.import-btn[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem}.btn[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:.5rem}@media (max-width: 768px){.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{padding:.75rem}.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-content[_ngcontent-%COMP%]   .nav-description[_ngcontent-%COMP%]{display:none}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{justify-content:center}}']});let o=c;return o})();function _n(o,c){o&1&&(t(0,"div",3),_(1,"mat-spinner",4),t(2,"p"),i(3,"Checking admin access..."),e()())}function fn(o,c){if(o&1){let a=O();t(0,"button",33),f("click",function(){C(a);let r=p(2);return M(r.toggleSidebar())}),t(1,"mat-icon"),i(2,"menu"),e()()}}function vn(o,c){if(o&1){let a=O();t(0,"div",34),f("click",function(){C(a);let r=p(2);return M(r.closeSidebar())}),e()}}function bn(o,c){if(o&1&&(t(0,"div",43)(1,"mat-icon"),i(2),e()()),o&2){let a=p().$implicit,n=p(2);s(2),u(n.isSectionExpanded(a.id)?"expand_less":"expand_more")}}function Cn(o,c){o&1&&(t(0,"div",51)(1,"mat-icon"),i(2,"chevron_right"),e()())}function Mn(o,c){if(o&1&&(t(0,"div",52)(1,"span",53),i(2),e()()),o&2){let a=p().$implicit;s(),Ae("badge-"+a.badge.color),s(),y(" ",a.badge.text," ")}}function xn(o,c){if(o&1){let a=O();t(0,"div",44),f("click",function(){let r=C(a).$implicit,d=p(3);return M(d.setActiveSection(r.id))}),t(1,"div",45)(2,"mat-icon"),i(3),e()(),t(4,"div",46)(5,"span",47),i(6),e(),t(7,"span",48),i(8),e()(),g(9,Cn,3,0,"div",49)(10,Mn,3,3,"div",50),e()}if(o&2){let a=c.$implicit,n=p(3);I("active",n.activeSection===a.id),Qe("matTooltip",a.description),s(3),u(a.icon),s(3),u(a.label),s(2),u(a.description),s(),m("ngIf",n.activeSection===a.id),s(),m("ngIf",a.badge)}}function yn(o,c){if(o&1){let a=O();t(0,"div",35)(1,"div",36),f("click",function(){let r=C(a).$implicit,d=p(2);return M(r.isCollapsible?d.toggleSection(r.id):null)}),t(2,"div",37)(3,"mat-icon"),i(4),e()(),t(5,"div",38)(6,"span",39),i(7),e()(),g(8,bn,3,1,"div",40),e(),t(9,"div",41),g(10,xn,11,8,"div",42),e()()}if(o&2){let a=c.$implicit,n=p(2);s(),I("collapsible",a.isCollapsible),s(3),u(a.icon),s(3),u(a.label),s(),m("ngIf",a.isCollapsible),s(),I("expanded",n.isSectionExpanded(a.id)),s(),m("ngForOf",n.getSectionItems(a.id))}}function Pn(o,c){if(o&1){let a=O();t(0,"div",54)(1,"div",55)(2,"h2"),i(3,"Dashboard Overview"),e(),t(4,"p"),i(5,"Key metrics and statistics for your application"),e()(),t(6,"div",56)(7,"div",57)(8,"div",58)(9,"mat-icon"),i(10,"people"),e()(),t(11,"div",59)(12,"h3"),i(13),e(),t(14,"p"),i(15,"Total Users"),e(),t(16,"span",60),i(17,"+12% this month"),e()()(),t(18,"div",57)(19,"div",61)(20,"mat-icon"),i(21,"feedback"),e()(),t(22,"div",59)(23,"h3"),i(24),e(),t(25,"p"),i(26,"Total Feedback"),e(),t(27,"span",60),i(28,"+8% this week"),e()()(),t(29,"div",57)(30,"div",62)(31,"mat-icon"),i(32,"pending"),e()(),t(33,"div",59)(34,"h3"),i(35),e(),t(36,"p"),i(37,"Pending Feedback"),e(),t(38,"span",63),i(39,"Requires attention"),e()()(),t(40,"div",57)(41,"div",64)(42,"mat-icon"),i(43,"trending_up"),e()(),t(44,"div",59)(45,"h3"),i(46),e(),t(47,"p"),i(48,"Active Users"),e(),t(49,"span",60),i(50,"+15% this month"),e()()(),t(51,"div",57)(52,"div",65)(53,"mat-icon"),i(54,"receipt_long"),e()(),t(55,"div",59)(56,"h3"),i(57),e(),t(58,"p"),i(59,"Total Transactions"),e(),t(60,"span",60),i(61,"+22% this month"),e()()(),t(62,"div",57)(63,"div",66)(64,"mat-icon"),i(65,"category"),e()(),t(66,"div",59)(67,"h3"),i(68),e(),t(69,"p"),i(70,"Total Categories"),e(),t(71,"span",63),i(72,"Stable"),e()()()(),t(73,"div",67)(74,"h3"),i(75,"Quick Actions"),e(),t(76,"div",68)(77,"button",69),f("click",function(){C(a);let r=p(2);return M(r.setActiveSection("feedback"))}),t(78,"mat-icon"),i(79,"feedback"),e(),t(80,"div",70)(81,"span",71),i(82,"View Feedback"),e(),t(83,"span",72),i(84,"Manage user feedback"),e()()(),t(85,"button",73),f("click",function(){C(a);let r=p(2);return M(r.setActiveSection("users"))}),t(86,"mat-icon"),i(87,"people"),e(),t(88,"div",70)(89,"span",71),i(90,"Manage Users"),e(),t(91,"span",72),i(92,"User account management"),e()()(),t(93,"button",74),f("click",function(){C(a);let r=p(2);return M(r.setActiveSection("analytics"))}),t(94,"mat-icon"),i(95,"analytics"),e(),t(96,"div",70)(97,"span",71),i(98,"View Analytics"),e(),t(99,"span",72),i(100,"App usage statistics"),e()()(),t(101,"button",69),f("click",function(){C(a);let r=p(2);return M(r.setActiveSection("settings"))}),t(102,"mat-icon"),i(103,"settings"),e(),t(104,"div",70)(105,"span",71),i(106,"Admin Settings"),e(),t(107,"span",72),i(108,"Configuration options"),e()()()()()()}if(o&2){let a=p(2);s(13),u(a.dashboardStats.totalUsers),s(11),u(a.dashboardStats.totalFeedback),s(11),u(a.dashboardStats.pendingFeedback),s(11),u(a.dashboardStats.activeUsers),s(11),u(a.dashboardStats.totalTransactions),s(11),u(a.dashboardStats.totalCategories)}}function On(o,c){o&1&&(t(0,"div",75)(1,"div",55)(2,"h2"),i(3,"User Feedback Management"),e(),t(4,"p"),i(5,"View and manage user feedback and suggestions"),e()(),_(6,"app-admin-feedback"),e())}function Sn(o,c){o&1&&(t(0,"div",76)(1,"div",55)(2,"h2"),i(3,"User Management"),e(),t(4,"p"),i(5,"Manage user accounts, roles, and permissions"),e()(),_(6,"app-admin-users"),e())}function kn(o,c){o&1&&(t(0,"div",77)(1,"div",55)(2,"h2"),i(3,"Analytics Dashboard"),e(),t(4,"p"),i(5,"Comprehensive analytics and insights"),e()(),_(6,"app-admin-analytics"),e())}function wn(o,c){o&1&&(t(0,"div",78)(1,"div",55)(2,"h2"),i(3,"Admin Settings"),e(),t(4,"p"),i(5,"Configure application settings and preferences"),e()(),_(6,"app-admin-settings"),e())}function In(o,c){if(o&1){let a=O();t(0,"div",5)(1,"header",6)(2,"div",7)(3,"div",8)(4,"button",9),f("click",function(){C(a);let r=p();return M(r.goToDashboard())}),t(5,"mat-icon"),i(6,"arrow_back"),e()(),g(7,fn,3,0,"button",10),t(8,"div",11)(9,"h1"),i(10,"Admin Panel"),e(),t(11,"p"),i(12,"Manage your Money Manager application"),e()()(),t(13,"div",12)(14,"div",13)(15,"mat-icon"),i(16,"admin_panel_settings"),e(),t(17,"span"),i(18),e()(),t(19,"button",14),f("click",function(){C(a);let r=p();return M(r.logout())}),t(20,"mat-icon"),i(21,"logout"),e()()()()(),t(22,"div",15),g(23,vn,1,0,"div",16),t(24,"aside",17)(25,"div",18)(26,"h3"),i(27,"Admin Navigation"),e()(),t(28,"nav",19),g(29,yn,11,8,"div",20),e(),t(30,"div",21)(31,"div",22)(32,"mat-icon",23),i(33,"verified_user"),e(),t(34,"span"),i(35,"Admin Access"),e()()()(),t(36,"main",24)(37,"div",25)(38,"span",26),i(39,"Admin"),e(),t(40,"mat-icon"),i(41,"chevron_right"),e(),t(42,"span",27),i(43),e()(),g(44,Pn,109,6,"div",28)(45,On,7,0,"div",29)(46,Sn,7,0,"div",30)(47,kn,7,0,"div",31)(48,wn,7,0,"div",32),e()()()}if(o&2){let a=p();s(7),m("ngIf",a.isMobile),s(11),u((a.currentUser==null?null:a.currentUser.displayName)||(a.currentUser==null?null:a.currentUser.email)),s(5),m("ngIf",a.isMobile&&a.isSidebarOpen),s(),I("mobile-sidebar",a.isMobile)("open",a.isSidebarOpen),s(5),m("ngForOf",a.adminSections),s(14),u(a.getActiveSectionLabel()),s(),m("ngIf",a.activeSection==="dashboard"),s(),m("ngIf",a.activeSection==="feedback"),s(),m("ngIf",a.activeSection==="users"),s(),m("ngIf",a.activeSection==="analytics"),s(),m("ngIf",a.activeSection==="settings")}}var Lt=(()=>{let c=class c{constructor(n,r,d,l,h,v,b){this.breakpointObserver=n,this.auth=r,this.router=d,this.userService=l,this.feedbackService=h,this.notificationService=v,this.adminSidebarService=b,this.isMobile=!1,this.isSidebarOpen=!1,this.currentUser=null,this.isAdmin=!1,this.userPermissions=["admin"],this.destroy$=new R,this.adminSections=[],this.adminNavigationItems=[],this.activeSection="dashboard",this.dashboardStats={totalUsers:0,totalFeedback:0,pendingFeedback:0,activeUsers:0,totalTransactions:0,totalCategories:0},this.breakpointObserver.observe([Z.Handset]).pipe(E(this.destroy$)).subscribe(P=>{this.isMobile=P.matches,this.isMobile||(this.isSidebarOpen=!1)})}ngOnInit(){this.initializeAdmin()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeAdmin(){return S(this,null,function*(){try{if(this.currentUser=yield this.auth.currentUser,!this.currentUser){this.notificationService.error("Authentication required"),this.router.navigate(["/sign-in"]);return}if(this.isAdmin=yield this.checkAdminStatus(),!this.isAdmin){this.notificationService.error("Admin access required"),this.router.navigate(["/dashboard"]);return}this.initializeSidebar(),yield this.loadDashboardStats()}catch(n){console.error("Error initializing admin:",n),this.notificationService.error("Failed to initialize admin panel")}})}checkAdminStatus(){return S(this,null,function*(){return this.userService.isAdmin})}initializeSidebar(){this.adminSidebarService.setUserPermissions(this.userPermissions),this.adminSidebarService.getSidebarState().pipe(E(this.destroy$)).subscribe(n=>{this.adminSections=n.sections,this.adminNavigationItems=n.navigationItems,this.activeSection=n.activeSection})}loadDashboardStats(){return S(this,null,function*(){try{let n=yield this.userService.getUserStatistics(),r=yield this.feedbackService.getAllFeedback(),d=r.filter(l=>l.status==="pending").length;this.dashboardStats={totalUsers:n.totalUsers,totalFeedback:r.length,pendingFeedback:d,activeUsers:n.activeUsers,totalTransactions:n.totalTransactions,totalCategories:n.totalCategories},d>0&&this.adminSidebarService.addBadgeToItem("feedback",{text:d.toString(),color:"warn"})}catch(n){console.error("Error loading dashboard stats:",n),this.notificationService.error("Failed to load dashboard statistics")}})}setActiveSection(n){this.adminSidebarService.setActiveSection(n),this.isMobile&&(this.isSidebarOpen=!1)}getActiveSection(){return this.adminSidebarService.getActiveSection()}getActiveSectionLabel(){return this.adminSidebarService.getActiveSectionLabel()}toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}closeSidebar(){this.isSidebarOpen=!1}toggleSection(n){this.adminSidebarService.toggleSection(n)}isSectionExpanded(n){return this.adminSidebarService.isSectionExpanded(n)}isSectionCollapsible(n){return this.adminSidebarService.isSectionCollapsible(n)}getSectionItems(n){return this.adminSidebarService.getSectionItems(n)}logout(){this.auth.signOut().then(()=>{this.notificationService.success("Logged out successfully"),this.router.navigate(["/sign-in"])}).catch(n=>{console.error("Logout error:",n),this.notificationService.error("Failed to logout")})}goToDashboard(){this.router.navigate(["/dashboard"])}};c.\u0275fac=function(r){return new(r||c)(x(Y),x(W),x(Ke),x(te),x(ne),x(L),x(Se))},c.\u0275cmp=T({type:c,selectors:[["app-admin"]],decls:3,vars:2,consts:[[1,"admin-container"],["class","loading-container",4,"ngIf"],["class","admin-panel",4,"ngIf"],[1,"loading-container"],["diameter","50"],[1,"admin-panel"],[1,"admin-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","matTooltip","Back to Dashboard",1,"back-button",3,"click"],["mat-icon-button","","class","menu-toggle","matTooltip","Toggle Menu",3,"click",4,"ngIf"],[1,"header-title"],[1,"header-right"],[1,"user-info"],["mat-icon-button","","matTooltip","Logout",3,"click"],[1,"admin-content"],["class","mobile-overlay",3,"click",4,"ngIf"],[1,"admin-sidebar"],[1,"sidebar-header"],[1,"sidebar-nav"],["class","nav-section",4,"ngFor","ngForOf"],[1,"sidebar-footer"],[1,"admin-status"],[1,"status-icon"],[1,"main-content"],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],["class","dashboard-section",4,"ngIf"],["class","feedback-section",4,"ngIf"],["class","users-section",4,"ngIf"],["class","analytics-section",4,"ngIf"],["class","settings-section",4,"ngIf"],["mat-icon-button","","matTooltip","Toggle Menu",1,"menu-toggle",3,"click"],[1,"mobile-overlay",3,"click"],[1,"nav-section"],[1,"section-header",3,"click"],[1,"section-icon"],[1,"section-content"],[1,"section-label"],["class","section-toggle",4,"ngIf"],[1,"section-items"],["class","nav-item",3,"active","matTooltip","click",4,"ngFor","ngForOf"],[1,"section-toggle"],[1,"nav-item",3,"click","matTooltip"],[1,"nav-icon"],[1,"nav-content"],[1,"nav-label"],[1,"nav-description"],["class","nav-indicator",4,"ngIf"],["class","nav-badge",4,"ngIf"],[1,"nav-indicator"],[1,"nav-badge"],[1,"badge"],[1,"dashboard-section"],[1,"section-header"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon","users"],[1,"stat-content"],[1,"stat-trend","positive"],[1,"stat-icon","feedback"],[1,"stat-icon","pending"],[1,"stat-trend","neutral"],[1,"stat-icon","active"],[1,"stat-icon","transactions"],[1,"stat-icon","categories"],[1,"quick-actions"],[1,"actions-grid"],["mat-raised-button","","color","primary",1,"action-button",3,"click"],[1,"action-content"],[1,"action-title"],[1,"action-subtitle"],["mat-raised-button","","color","accent",1,"action-button",3,"click"],["mat-raised-button","","color","warn",1,"action-button",3,"click"],[1,"feedback-section"],[1,"users-section"],[1,"analytics-section"],[1,"settings-section"]],template:function(r,d){r&1&&(t(0,"div",0),g(1,_n,4,0,"div",1)(2,In,49,14,"div",2),e()),r&2&&(s(),m("ngIf",!d.isAdmin),s(),m("ngIf",d.isAdmin))},dependencies:[V,j,X,ee,N,B,ie,zt,Vt,jt,Ut],styles:["@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.admin-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;flex-direction:column}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;color:#fff}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.1rem;opacity:.9}.admin-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background:#f8fafc}.admin-header[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e2e8f0;box-shadow:0 2px 4px #0000001a;z-index:100}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;max-width:1400px;margin:0 auto}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%], .admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]{color:#64748b;transition:all .3s ease}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover, .admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]:hover{color:#3b82f6;background:#eff6ff}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:700;color:#1e293b;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0 0;color:#64748b;font-size:.9rem}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#f1f5f9;border-radius:8px;color:#475569;font-weight:500}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3b82f6}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#64748b;transition:all .3s ease}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#ef4444;background:#fef2f2}.admin-content[_ngcontent-%COMP%]{display:flex;flex:1;overflow:hidden}.admin-sidebar[_ngcontent-%COMP%]{width:280px;background:#fff;border-right:1px solid #e2e8f0;display:flex;flex-direction:column;transition:all .3s ease}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:1.5rem 1.5rem 1rem;border-bottom:1px solid #f1f5f9}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:600;color:#1e293b}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:1rem 0}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]{margin-bottom:1rem}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 1.5rem;margin:.25rem 1rem;border-radius:12px;transition:all .3s ease;cursor:default}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-header.collapsible[_ngcontent-%COMP%]{cursor:pointer}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-header.collapsible[_ngcontent-%COMP%]:hover{background:#f8fafc}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:8px;background:#e2e8f0;margin-right:.75rem}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#64748b;font-size:1rem}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]{flex:1}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-content[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{font-weight:600;color:#374151;font-size:.9rem;text-transform:uppercase;letter-spacing:.05em}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-toggle[_ngcontent-%COMP%]{color:#64748b;transition:all .3s ease}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .3s ease}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items.expanded[_ngcontent-%COMP%]{max-height:500px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 1.5rem;margin:.25rem 1rem .25rem 2.5rem;border-radius:12px;cursor:pointer;transition:all .3s ease;position:relative}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background:#f8fafc;transform:translate(4px)}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 4px 12px #667eea4d}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{color:#fff;font-weight:600}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-description[_ngcontent-%COMP%]{color:#fffc}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-indicator[_ngcontent-%COMP%]{color:#fff}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:10px;background:#f1f5f9;margin-right:1rem;transition:all .3s ease}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#64748b;font-size:1.25rem}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-content[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-weight:500;color:#1e293b;font-size:.95rem}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-content[_ngcontent-%COMP%]   .nav-description[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b;margin-top:.125rem}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-indicator[_ngcontent-%COMP%]{color:#64748b;opacity:0;transition:all .3s ease}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-badge[_ngcontent-%COMP%]{margin-left:.5rem}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-badge[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-badge[_ngcontent-%COMP%]   .badge.badge-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-badge[_ngcontent-%COMP%]   .badge.badge-accent[_ngcontent-%COMP%]{background:#8b5cf6;color:#fff}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-badge[_ngcontent-%COMP%]   .badge.badge-warn[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-section[_ngcontent-%COMP%]   .section-items[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-badge[_ngcontent-%COMP%]   .badge.badge-success[_ngcontent-%COMP%]{background:#10b981;color:#fff}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-top:1px solid #f1f5f9}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .admin-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem;background:#f0fdf4;border-radius:8px;color:#166534;font-size:.9rem;font-weight:500}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .admin-status[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{color:#22c55e}.admin-sidebar.mobile-sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;z-index:1000;transform:translate(-100%);transition:transform .3s ease}.admin-sidebar.mobile-sidebar.open[_ngcontent-%COMP%]{transform:translate(0)}.mobile-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.main-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:2rem;background:#f8fafc}.main-content[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:2rem;padding:.75rem 1rem;background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.main-content[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{color:#64748b;font-size:.9rem}.main-content[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#1e293b;font-weight:600}.main-content[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#94a3b8;font-size:1rem}.main-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:2rem}.main-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.875rem;font-weight:700;color:#1e293b;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.main-content[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b;font-size:1.1rem}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem;margin-bottom:3rem}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;box-shadow:0 4px 6px #0000000d;border:1px solid #e2e8f0;transition:all .3s ease;display:flex;align-items:center;gap:1rem}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #0000001a}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:60px;height:60px;border-radius:12px}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.users[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8)}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.feedback[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.pending[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed)}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.transactions[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.categories[_ngcontent-%COMP%]{background:linear-gradient(135deg,#06b6d4,#0891b2)}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:1.75rem}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:2rem;font-weight:700;color:#1e293b}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#64748b;font-weight:500}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-trend[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-trend.positive[_ngcontent-%COMP%]{color:#10b981}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-trend.negative[_ngcontent-%COMP%]{color:#ef4444}.dashboard-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-trend.neutral[_ngcontent-%COMP%]{color:#64748b}.dashboard-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:2rem;box-shadow:0 4px 6px #0000000d;border:1px solid #e2e8f0}.dashboard-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:1.5rem;font-weight:600;color:#1e293b}.dashboard-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.dashboard-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.25rem;border-radius:12px;transition:all .3s ease;text-align:left;height:auto}.dashboard-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.dashboard-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem}.dashboard-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.dashboard-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]   .action-title[_ngcontent-%COMP%]{font-weight:600;font-size:1rem}.dashboard-section[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]   .action-subtitle[_ngcontent-%COMP%]{font-size:.85rem;opacity:.8;margin-top:.25rem}.feedback-section[_ngcontent-%COMP%], .users-section[_ngcontent-%COMP%], .analytics-section[_ngcontent-%COMP%], .settings-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 6px #0000000d;border:1px solid #e2e8f0;overflow:hidden}@media (max-width: 768px){.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:1rem}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.main-content[_ngcontent-%COMP%]{padding:1rem}.stats-grid[_ngcontent-%COMP%], .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.admin-sidebar[_ngcontent-%COMP%]{width:100%}.admin-sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:.25rem .5rem;padding:1rem}}@media (max-width: 480px){.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.stat-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{margin-bottom:1rem}.action-button[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.action-button[_ngcontent-%COMP%]   .action-content[_ngcontent-%COMP%]{margin-top:.5rem}}"]});let o=c;return o})();var Nt=(()=>{let c=class c{};c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=D({type:c}),c.\u0275inj=F({providers:[Se]});let o=c;return o})();var En=[{path:"",component:Lt,canActivate:[_t,ft],data:{requireEmailVerification:!0,requireActiveSession:!0,roles:["admin"]}}],Bt=(()=>{let c=class c{};c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=D({type:c}),c.\u0275inj=F({imports:[Te.forChild(En),Te]});let o=c;return o})();var $t=(()=>{let c=class c{};c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=D({type:c}),c.\u0275inj=F({imports:[Fe,je,De,ze,Re,Ve,Fe,je,De,ze,Re,Ve]});let o=c;return o})();var Bo=(()=>{let c=class c{};c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=D({type:c}),c.\u0275inj=F({imports:[$t,st,ct,Bt,Nt,bt,ht,gt,Mt,Ct,vt,pt,xt,yt,Pt]});let o=c;return o})();export{Bo as AdminModule};

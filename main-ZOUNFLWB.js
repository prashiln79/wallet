import{A as en,B as Fb,C as Rb,D as Nb,a as eu,b as cb,c as lb,d as db,e as Xt,f as Da,g as ms,h as mb,i as ub,j as pb,k as fb,l as tu,m as Ur,n as bb,o as Cb,p as yb,q as wb,r as rh,s as Pb,t as kb,u as Cd,v as Tb,w as Eb,x as mh,y as Jt,z as Aa}from"./chunk-6YC45KP2.js";import{a as Gi,b as Bm,c as Vm,d as ts,e as Zc,f as jm,g as ns,h as Jc,i as zm,j as el,k as is,l as Um,m as Ym,n as Wm,o as pd,p as mv,q as hb,r as gb,s as ga,t as Jr,u as ah,v as Mb,w as Ob,x as dh,y as Ab}from"./chunk-RBJ2CGZJ.js";import{$ as ev,$a as hv,$b as Iv,$c as qs,$d as oh,A as rr,Aa as Sm,Ab as Ov,Ac as ol,Ad as Vi,Ba as Pm,Bb as Tv,Bc as Km,Bd as ji,C as Mr,Ca as km,Cb as ma,Cc as $v,Cd as di,D as qx,Da as Om,Db as kr,Dc as pa,Dd as cl,Ea as Tm,Eb as Xm,Ec as Gv,Ed as ll,F as Sr,Fa as av,Fb as zt,Fc as qv,Fd as dl,G as zc,Ga as Em,Gb as Ev,Gc as li,Gd as bd,H as Uc,Ha as ov,Hb as Ii,Hc as fa,Hd as ha,I as Yc,Ia as zr,Ib as as,Ic as $s,Id as ml,J as pm,Ja as Dm,Jb as Dv,Jc as qf,Jd as eh,K as fm,Ka as Im,Kb as Yf,Kd as En,L as Wc,La as Xc,Lb as Wf,Ld as th,M as Hc,Ma as sv,Mb as Hf,Mc as _d,Md as _b,N as Pr,Na as Am,Nb as gd,Nd as Ia,O as Bf,Oa as Ro,Ob as oo,Od as co,P as Vf,Pa as cv,Pb as pi,Pd as nu,Q as Zt,Qa as Fm,Qc as Xi,Qd as xb,R as Xx,Ra as Kc,Rb as $f,Rc as Xf,Rd as us,S as Kx,Sa as Rm,Sc as Xv,Sd as vb,T as Pt,Ta as Nm,Tc as Nt,Td as Or,U as Et,Ua as Qc,Uc as cs,Ud as nh,V as jf,Va as lv,Vc as Kv,Vd as cr,W as hm,Wa as Lm,Wb as Gf,Wc as mn,Wd as ih,X as Qx,Xa as dv,Xb as so,Xc as Gs,Xd as ul,Y as Zx,Ya as uv,Yb as qn,Yc as Kf,Yd as ps,Z as Jx,Za as pv,Zb as qi,Zc as Qf,Zd as fs,_ as zf,_a as fv,_b as os,_c as Jv,_d as hs,a as Vx,aa as tv,ab as Hm,ac as ss,ad as eb,ae as Sb,b as jx,ba as Ft,bb as $m,bc as il,bd as tb,be as lo,c as om,ca as jt,cb as tl,cc as Ot,cd as Qm,ce as sh,d as zx,da as ao,db as fd,dc as ci,dd as nb,de as iu,e as sm,eb as Gm,ec as Av,ed as xd,ee as ch,f as Ux,fb as nl,fc as Fv,fd as Zm,fe as gs,g as Yx,ga as nv,gb as hd,gc as Rv,h as Wx,ha as Ee,hb as Uf,hc as Nv,i as cm,ia as ka,ib as rs,ic as Ai,id as ib,j as Hx,ja as Qr,jb as gv,jc as ua,jd as sl,k as lm,ka as gm,kb as _v,kc as rl,kd as Xs,ke as lh,l as hn,la as _m,lb as xv,lc as Lv,ld as Ks,le as Db,m as dm,ma as $c,mb as vv,mc as Za,md as rb,me as Ib,n as $x,na as iv,nb as bv,nc as al,nd as Zf,ne as uh,o as md,oa as xm,ob as qm,od as ab,p as mm,pa as Gc,pb as Cv,pc as Bv,pd as ds,q as Gx,qa as rv,qb as yv,qc as Vv,qd as Jm,r as on,ra as vm,rb as wv,rc as jv,rd as vt,s as um,sa as qc,sb as Mv,sd as Ta,t as wt,ta as bm,tb as Sv,tc as or,td as ob,u as sn,ua as Cm,ub as kt,uc as Oa,ud as lt,v as yi,va as ym,vb as Pv,vc as zv,vd,w as jc,wa as wm,wb as kv,wc as Uv,wd as Ea,xa as ud,xc as Yv,xd as Jf,y as wi,ya as es,yb as ar,yc as Wv,yd as sb,z as Mi,za as Mm,zb as Zr,zc as Hv,zd as Bi}from"./chunk-ME555GOB.js";import{f as Lb,g as yd,h as ru,m as Bb,n as au,p as Vb,u as jb}from"./chunk-KNNB45FI.js";import{$ as yx,$b as l,$c as Lx,Aa as pn,Ac as ut,Ad as Pa,Ba as At,Bb as Lf,Bc as pt,Bd as Ci,C as Ac,Cb as kn,Cc as Gn,Cd as Bx,D as bx,Da as Rc,Db as Ax,Dc as fn,Dd as Vc,E as ir,Ed as Fo,Fb as Qa,Fc as im,G as Hn,Gb as ca,Gc as rm,Hc as Rx,Hd as Jo,I as Yt,Ia as Xn,Ib as Fx,Ic as _e,J as Cx,Ja as N,Jc as Ne,K as Eo,Ka as L,Kb as jn,Kc as Rt,La as Kn,M as aa,Ma as jr,Mb as Jn,Md as sr,Na as gr,Nd as Un,O as Rf,Oa as Hs,Pa as qr,Pb as U,Pd as Ut,Qa as Ox,Qb as Kt,Qd as Rn,R as Fc,Rb as M,Rd as ls,Sb as Vt,Sd as Nn,Ta as Nf,Tb as Fe,Td as Qv,Ua as Do,Ub as Ct,Uc as Nx,Ud as Zv,Va as an,Wb as Qe,Xa as Ve,Xb as Ti,Ya as q0,Yb as Ge,Zb as qe,_b as c,a as cn,aa as wx,ab as X0,ac as se,ad as Tn,ba as Mx,bb as sa,bc as Io,bd as Nc,c as rn,cc as Ao,da as $0,dc as Xr,ea as Xa,ec as ue,f as _t,fa as oa,fc as J0,fd as Ht,g as ln,ga as yt,gc as em,gd as Lc,h as Ys,hc as F,ic as tm,j as hx,ja as Sx,jc as w,k as gx,ka as Px,kc as Ei,l as W0,la as kx,lc as $n,mc as la,n as _x,na as Ka,nc as Di,oa as at,ob as Tx,oc as Qt,od as da,p as hr,pa as un,pc as ft,q as st,qb as Ex,qc as ht,r as H0,ra as Pn,rb as K0,s as xx,ta as Ie,tb as h,tc as zn,td as am,u as vx,ua as dn,ub as T,uc as d,v as tt,vb as Q0,vc as G,vd as Kr,w as Ic,wa as Ws,wb as _r,wc as ae,wd as Sa,x as qt,xa as G0,xb as Dx,xc as _n,xd as dt,yb as Ix,yc as nm,za as Se,zb as Z0,zc as mt,zd as Bc}from"./chunk-BVIQKR4L.js";import{a as oe,b as de,c as px,d as Ec,e as Dc,f as fx,h as ra,k as me}from"./chunk-LKDXID24.js";var _a=fx((Ph,Ml)=>{"use strict";(function(e,n){typeof Ph=="object"&&typeof Ml<"u"?Ml.exports=n():typeof define=="function"&&define.amd?define(n):e.moment=n()})(Ph,function(){"use strict";var e;function n(){return e.apply(null,arguments)}function r(p){e=p}function t(p){return p instanceof Array||Object.prototype.toString.call(p)==="[object Array]"}function i(p){return p!=null&&Object.prototype.toString.call(p)==="[object Object]"}function a(p,_){return Object.prototype.hasOwnProperty.call(p,_)}function o(p){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(p).length===0;var _;for(_ in p)if(a(p,_))return!1;return!0}function s(p){return p===void 0}function m(p){return typeof p=="number"||Object.prototype.toString.call(p)==="[object Number]"}function u(p){return p instanceof Date||Object.prototype.toString.call(p)==="[object Date]"}function f(p,_){var b=[],S,R=p.length;for(S=0;S<R;++S)b.push(_(p[S],S));return b}function g(p,_){for(var b in _)a(_,b)&&(p[b]=_[b]);return a(_,"toString")&&(p.toString=_.toString),a(_,"valueOf")&&(p.valueOf=_.valueOf),p}function x(p,_,b,S){return W1(p,_,b,S,!0).utc()}function C(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(p){return p._pf==null&&(p._pf=C()),p._pf}var v;Array.prototype.some?v=Array.prototype.some:v=function(p){var _=Object(this),b=_.length>>>0,S;for(S=0;S<b;S++)if(S in _&&p.call(this,_[S],S,_))return!0;return!1};function P(p){var _=null,b=!1,S=p._d&&!isNaN(p._d.getTime());if(S&&(_=y(p),b=v.call(_.parsedDateParts,function(R){return R!=null}),S=_.overflow<0&&!_.empty&&!_.invalidEra&&!_.invalidMonth&&!_.invalidWeekday&&!_.weekdayMismatch&&!_.nullInput&&!_.invalidFormat&&!_.userInvalidated&&(!_.meridiem||_.meridiem&&b),p._strict&&(S=S&&_.charsLeftOver===0&&_.unusedTokens.length===0&&_.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(p))p._isValid=S;else return S;return p._isValid}function D(p){var _=x(NaN);return p!=null?g(y(_),p):y(_).userInvalidated=!0,_}var I=n.momentProperties=[],A=!1;function K(p,_){var b,S,R,ne=I.length;if(s(_._isAMomentObject)||(p._isAMomentObject=_._isAMomentObject),s(_._i)||(p._i=_._i),s(_._f)||(p._f=_._f),s(_._l)||(p._l=_._l),s(_._strict)||(p._strict=_._strict),s(_._tzm)||(p._tzm=_._tzm),s(_._isUTC)||(p._isUTC=_._isUTC),s(_._offset)||(p._offset=_._offset),s(_._pf)||(p._pf=y(_)),s(_._locale)||(p._locale=_._locale),ne>0)for(b=0;b<ne;b++)S=I[b],R=_[S],s(R)||(p[S]=R);return p}function J(p){K(this,p),this._d=new Date(p._d!=null?p._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),A===!1&&(A=!0,n.updateOffset(this),A=!1)}function O(p){return p instanceof J||p!=null&&p._isAMomentObject!=null}function k(p){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+p)}function V(p,_){var b=!0;return g(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,p),b){var S=[],R,ne,be,et=arguments.length;for(ne=0;ne<et;ne++){if(R="",typeof arguments[ne]=="object"){R+=`
[`+ne+"] ";for(be in arguments[0])a(arguments[0],be)&&(R+=be+": "+arguments[0][be]+", ");R=R.slice(0,-2)}else R=arguments[ne];S.push(R)}k(p+`
Arguments: `+Array.prototype.slice.call(S).join("")+`
`+new Error().stack),b=!1}return _.apply(this,arguments)},_)}var W={};function ee(p,_){n.deprecationHandler!=null&&n.deprecationHandler(p,_),W[p]||(k(_),W[p]=!0)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;function re(p){return typeof Function<"u"&&p instanceof Function||Object.prototype.toString.call(p)==="[object Function]"}function ie(p){var _,b;for(b in p)a(p,b)&&(_=p[b],re(_)?this[b]=_:this["_"+b]=_);this._config=p,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ke(p,_){var b=g({},p),S;for(S in _)a(_,S)&&(i(p[S])&&i(_[S])?(b[S]={},g(b[S],p[S]),g(b[S],_[S])):_[S]!=null?b[S]=_[S]:delete b[S]);for(S in p)a(p,S)&&!a(_,S)&&i(p[S])&&(b[S]=g({},b[S]));return b}function Be(p){p!=null&&this.set(p)}var ye;Object.keys?ye=Object.keys:ye=function(p){var _,b=[];for(_ in p)a(p,_)&&b.push(_);return b};var $e={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Te(p,_,b){var S=this._calendar[p]||this._calendar.sameElse;return re(S)?S.call(_,b):S}function nt(p,_,b){var S=""+Math.abs(p),R=_-S.length,ne=p>=0;return(ne?b?"+":"":"-")+Math.pow(10,Math.max(0,R)).toString().substr(1)+S}var Me=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ae=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ce={},X={};function te(p,_,b,S){var R=S;typeof S=="string"&&(R=function(){return this[S]()}),p&&(X[p]=R),_&&(X[_[0]]=function(){return nt(R.apply(this,arguments),_[1],_[2])}),b&&(X[b]=function(){return this.localeData().ordinal(R.apply(this,arguments),p)})}function Q(p){return p.match(/\[[\s\S]/)?p.replace(/^\[|\]$/g,""):p.replace(/\\/g,"")}function Z(p){var _=p.match(Me),b,S;for(b=0,S=_.length;b<S;b++)X[_[b]]?_[b]=X[_[b]]:_[b]=Q(_[b]);return function(R){var ne="",be;for(be=0;be<S;be++)ne+=re(_[be])?_[be].call(R,p):_[be];return ne}}function le(p,_){return p.isValid()?(_=Pe(_,p.localeData()),ce[_]=ce[_]||Z(_),ce[_](p)):p.localeData().invalidDate()}function Pe(p,_){var b=5;function S(R){return _.longDateFormat(R)||R}for(Ae.lastIndex=0;b>=0&&Ae.test(p);)p=p.replace(Ae,S),Ae.lastIndex=0,b-=1;return p}var Oe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function we(p){var _=this._longDateFormat[p],b=this._longDateFormat[p.toUpperCase()];return _||!b?_:(this._longDateFormat[p]=b.match(Me).map(function(S){return S==="MMMM"||S==="MM"||S==="DD"||S==="dddd"?S.slice(1):S}).join(""),this._longDateFormat[p])}var xe="Invalid date";function ot(){return this._invalidDate}var H="%d",ct=/\d{1,2}/;function Ke(p){return this._ordinal.replace("%d",p)}var St={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Je(p,_,b,S){var R=this._relativeTime[b];return re(R)?R(p,_,b,S):R.replace(/%d/i,p)}function Re(p,_){var b=this._relativeTime[p>0?"future":"past"];return re(b)?b(_):b.replace(/%s/i,_)}var Lt={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function yn(p){return typeof p=="string"?Lt[p]||Lt[p.toLowerCase()]:void 0}function Qn(p){var _={},b,S;for(S in p)a(p,S)&&(b=yn(S),b&&(_[b]=p[S]));return _}var fr={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ai(p){var _=[],b;for(b in p)a(p,b)&&_.push({unit:b,priority:fr[b]});return _.sort(function(S,R){return S.priority-R.priority}),_}var vi=/\d/,Dt=/\d\d/,Wn=/\d{3}/,bi=/\d{4}/,Hr=/[+-]?\d{6}/,Bt=/\d\d?/,Li=/\d\d\d\d?/,xt=/\d\d\d\d\d\d?/,wn=/\d{1,3}/,$i=/\d{1,4}/,oi=/[+-]?\d{1,6}/,$r=/\d+/,Ls=/[+-]?\d+/,hf=/Z|[+-]\d\d:?\d\d/gi,yc=/Z|[+-]\d\d(?::?\d\d)?/gi,I0=/[+-]?\d+(\.\d{1,3})?/,Xo=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,yo=/^[1-9]\d?/,nd=/^([1-9]\d|\d)/,wc;wc={};function Ze(p,_,b){wc[p]=re(_)?_:function(S,R){return S&&b?b:_}}function gf(p,_){return a(wc,p)?wc[p](_._strict,_._locale):new RegExp(_f(p))}function _f(p){return Ha(p.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(_,b,S,R,ne){return b||S||R||ne}))}function Ha(p){return p.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Gr(p){return p<0?Math.ceil(p)||0:Math.floor(p)}function nn(p){var _=+p,b=0;return _!==0&&isFinite(_)&&(b=Gr(_)),b}var id={};function On(p,_){var b,S=_,R;for(typeof p=="string"&&(p=[p]),m(_)&&(S=function(ne,be){be[_]=nn(ne)}),R=p.length,b=0;b<R;b++)id[p[b]]=S}function Bs(p,_){On(p,function(b,S,R,ne){R._w=R._w||{},_(b,R._w,R,ne)})}function rd(p,_,b){_!=null&&a(id,p)&&id[p](_,b._a,b,p)}function Mc(p){return p%4===0&&p%100!==0||p%400===0}var nr=0,$a=1,E=2,z=3,B=4,j=5,Y=6,q=7,pe=8;te("Y",0,0,function(){var p=this.year();return p<=9999?nt(p,4):"+"+p}),te(0,["YY",2],0,function(){return this.year()%100}),te(0,["YYYY",4],0,"year"),te(0,["YYYYY",5],0,"year"),te(0,["YYYYYY",6,!0],0,"year"),Ze("Y",Ls),Ze("YY",Bt,Dt),Ze("YYYY",$i,bi),Ze("YYYYY",oi,Hr),Ze("YYYYYY",oi,Hr),On(["YYYYY","YYYYYY"],nr),On("YYYY",function(p,_){_[nr]=p.length===2?n.parseTwoDigitYear(p):nn(p)}),On("YY",function(p,_){_[nr]=n.parseTwoDigitYear(p)}),On("Y",function(p,_){_[nr]=parseInt(p,10)});function ve(p){return Mc(p)?366:365}n.parseTwoDigitYear=function(p){return nn(p)+(nn(p)>68?1900:2e3)};var fe=ge("FullYear",!0);function he(){return Mc(this.year())}function ge(p,_){return function(b){return b!=null?(ze(this,p,b),n.updateOffset(this,_),this):Le(this,p)}}function Le(p,_){if(!p.isValid())return NaN;var b=p._d,S=p._isUTC;switch(_){case"Milliseconds":return S?b.getUTCMilliseconds():b.getMilliseconds();case"Seconds":return S?b.getUTCSeconds():b.getSeconds();case"Minutes":return S?b.getUTCMinutes():b.getMinutes();case"Hours":return S?b.getUTCHours():b.getHours();case"Date":return S?b.getUTCDate():b.getDate();case"Day":return S?b.getUTCDay():b.getDay();case"Month":return S?b.getUTCMonth():b.getMonth();case"FullYear":return S?b.getUTCFullYear():b.getFullYear();default:return NaN}}function ze(p,_,b){var S,R,ne,be,et;if(!(!p.isValid()||isNaN(b))){switch(S=p._d,R=p._isUTC,_){case"Milliseconds":return void(R?S.setUTCMilliseconds(b):S.setMilliseconds(b));case"Seconds":return void(R?S.setUTCSeconds(b):S.setSeconds(b));case"Minutes":return void(R?S.setUTCMinutes(b):S.setMinutes(b));case"Hours":return void(R?S.setUTCHours(b):S.setHours(b));case"Date":return void(R?S.setUTCDate(b):S.setDate(b));case"FullYear":break;default:return}ne=b,be=p.month(),et=p.date(),et=et===29&&be===1&&!Mc(ne)?28:et,R?S.setUTCFullYear(ne,be,et):S.setFullYear(ne,be,et)}}function it(p){return p=yn(p),re(this[p])?this[p]():this}function Ye(p,_){if(typeof p=="object"){p=Qn(p);var b=ai(p),S,R=b.length;for(S=0;S<R;S++)this[b[S].unit](p[b[S].unit])}else if(p=yn(p),re(this[p]))return this[p](_);return this}function Xe(p,_){return(p%_+_)%_}var rt;Array.prototype.indexOf?rt=Array.prototype.indexOf:rt=function(p){var _;for(_=0;_<this.length;++_)if(this[_]===p)return _;return-1};function Fn(p,_){if(isNaN(p)||isNaN(_))return NaN;var b=Xe(_,12);return p+=(_-b)/12,b===1?Mc(p)?29:28:31-b%7%2}te("M",["MM",2],"Mo",function(){return this.month()+1}),te("MMM",0,0,function(p){return this.localeData().monthsShort(this,p)}),te("MMMM",0,0,function(p){return this.localeData().months(this,p)}),Ze("M",Bt,yo),Ze("MM",Bt,Dt),Ze("MMM",function(p,_){return _.monthsShortRegex(p)}),Ze("MMMM",function(p,_){return _.monthsRegex(p)}),On(["M","MM"],function(p,_){_[$a]=nn(p)-1}),On(["MMM","MMMM"],function(p,_,b,S){var R=b._locale.monthsParse(p,S,b._strict);R!=null?_[$a]=R:y(b).invalidMonth=p});var yr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ui="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),wr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Vs=Xo,js=Xo;function wo(p,_){return p?t(this._months)?this._months[p.month()]:this._months[(this._months.isFormat||wr).test(_)?"format":"standalone"][p.month()]:t(this._months)?this._months:this._months.standalone}function ad(p,_){return p?t(this._monthsShort)?this._monthsShort[p.month()]:this._monthsShort[wr.test(_)?"format":"standalone"][p.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ga(p,_,b){var S,R,ne,be=p.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],S=0;S<12;++S)ne=x([2e3,S]),this._shortMonthsParse[S]=this.monthsShort(ne,"").toLocaleLowerCase(),this._longMonthsParse[S]=this.months(ne,"").toLocaleLowerCase();return b?_==="MMM"?(R=rt.call(this._shortMonthsParse,be),R!==-1?R:null):(R=rt.call(this._longMonthsParse,be),R!==-1?R:null):_==="MMM"?(R=rt.call(this._shortMonthsParse,be),R!==-1?R:(R=rt.call(this._longMonthsParse,be),R!==-1?R:null)):(R=rt.call(this._longMonthsParse,be),R!==-1?R:(R=rt.call(this._shortMonthsParse,be),R!==-1?R:null))}function BP(p,_,b){var S,R,ne;if(this._monthsParseExact)return Ga.call(this,p,_,b);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),S=0;S<12;S++){if(R=x([2e3,S]),b&&!this._longMonthsParse[S]&&(this._longMonthsParse[S]=new RegExp("^"+this.months(R,"").replace(".","")+"$","i"),this._shortMonthsParse[S]=new RegExp("^"+this.monthsShort(R,"").replace(".","")+"$","i")),!b&&!this._monthsParse[S]&&(ne="^"+this.months(R,"")+"|^"+this.monthsShort(R,""),this._monthsParse[S]=new RegExp(ne.replace(".",""),"i")),b&&_==="MMMM"&&this._longMonthsParse[S].test(p))return S;if(b&&_==="MMM"&&this._shortMonthsParse[S].test(p))return S;if(!b&&this._monthsParse[S].test(p))return S}}function I1(p,_){if(!p.isValid())return p;if(typeof _=="string"){if(/^\d+$/.test(_))_=nn(_);else if(_=p.localeData().monthsParse(_),!m(_))return p}var b=_,S=p.date();return S=S<29?S:Math.min(S,Fn(p.year(),b)),p._isUTC?p._d.setUTCMonth(b,S):p._d.setMonth(b,S),p}function A1(p){return p!=null?(I1(this,p),n.updateOffset(this,!0),this):Le(this,"Month")}function VP(){return Fn(this.year(),this.month())}function jP(p){return this._monthsParseExact?(a(this,"_monthsRegex")||F1.call(this),p?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Vs),this._monthsShortStrictRegex&&p?this._monthsShortStrictRegex:this._monthsShortRegex)}function zP(p){return this._monthsParseExact?(a(this,"_monthsRegex")||F1.call(this),p?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=js),this._monthsStrictRegex&&p?this._monthsStrictRegex:this._monthsRegex)}function F1(){function p(It,gn){return gn.length-It.length}var _=[],b=[],S=[],R,ne,be,et;for(R=0;R<12;R++)ne=x([2e3,R]),be=Ha(this.monthsShort(ne,"")),et=Ha(this.months(ne,"")),_.push(be),b.push(et),S.push(et),S.push(be);_.sort(p),b.sort(p),S.sort(p),this._monthsRegex=new RegExp("^("+S.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+b.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+_.join("|")+")","i")}function UP(p,_,b,S,R,ne,be){var et;return p<100&&p>=0?(et=new Date(p+400,_,b,S,R,ne,be),isFinite(et.getFullYear())&&et.setFullYear(p)):et=new Date(p,_,b,S,R,ne,be),et}function od(p){var _,b;return p<100&&p>=0?(b=Array.prototype.slice.call(arguments),b[0]=p+400,_=new Date(Date.UTC.apply(null,b)),isFinite(_.getUTCFullYear())&&_.setUTCFullYear(p)):_=new Date(Date.UTC.apply(null,arguments)),_}function A0(p,_,b){var S=7+_-b,R=(7+od(p,0,S).getUTCDay()-_)%7;return-R+S-1}function R1(p,_,b,S,R){var ne=(7+b-S)%7,be=A0(p,S,R),et=1+7*(_-1)+ne+be,It,gn;return et<=0?(It=p-1,gn=ve(It)+et):et>ve(p)?(It=p+1,gn=et-ve(p)):(It=p,gn=et),{year:It,dayOfYear:gn}}function sd(p,_,b){var S=A0(p.year(),_,b),R=Math.floor((p.dayOfYear()-S-1)/7)+1,ne,be;return R<1?(be=p.year()-1,ne=R+Mo(be,_,b)):R>Mo(p.year(),_,b)?(ne=R-Mo(p.year(),_,b),be=p.year()+1):(be=p.year(),ne=R),{week:ne,year:be}}function Mo(p,_,b){var S=A0(p,_,b),R=A0(p+1,_,b);return(ve(p)-S+R)/7}te("w",["ww",2],"wo","week"),te("W",["WW",2],"Wo","isoWeek"),Ze("w",Bt,yo),Ze("ww",Bt,Dt),Ze("W",Bt,yo),Ze("WW",Bt,Dt),Bs(["w","ww","W","WW"],function(p,_,b,S){_[S.substr(0,1)]=nn(p)});function YP(p){return sd(p,this._week.dow,this._week.doy).week}var WP={dow:0,doy:6};function HP(){return this._week.dow}function $P(){return this._week.doy}function GP(p){var _=this.localeData().week(this);return p==null?_:this.add((p-_)*7,"d")}function qP(p){var _=sd(this,1,4).week;return p==null?_:this.add((p-_)*7,"d")}te("d",0,"do","day"),te("dd",0,0,function(p){return this.localeData().weekdaysMin(this,p)}),te("ddd",0,0,function(p){return this.localeData().weekdaysShort(this,p)}),te("dddd",0,0,function(p){return this.localeData().weekdays(this,p)}),te("e",0,0,"weekday"),te("E",0,0,"isoWeekday"),Ze("d",Bt),Ze("e",Bt),Ze("E",Bt),Ze("dd",function(p,_){return _.weekdaysMinRegex(p)}),Ze("ddd",function(p,_){return _.weekdaysShortRegex(p)}),Ze("dddd",function(p,_){return _.weekdaysRegex(p)}),Bs(["dd","ddd","dddd"],function(p,_,b,S){var R=b._locale.weekdaysParse(p,S,b._strict);R!=null?_.d=R:y(b).invalidWeekday=p}),Bs(["d","e","E"],function(p,_,b,S){_[S]=nn(p)});function XP(p,_){return typeof p!="string"?p:isNaN(p)?(p=_.weekdaysParse(p),typeof p=="number"?p:null):parseInt(p,10)}function KP(p,_){return typeof p=="string"?_.weekdaysParse(p)%7||7:isNaN(p)?null:p}function xf(p,_){return p.slice(_,7).concat(p.slice(0,_))}var QP="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),N1="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ZP="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),JP=Xo,ek=Xo,tk=Xo;function nk(p,_){var b=t(this._weekdays)?this._weekdays:this._weekdays[p&&p!==!0&&this._weekdays.isFormat.test(_)?"format":"standalone"];return p===!0?xf(b,this._week.dow):p?b[p.day()]:b}function ik(p){return p===!0?xf(this._weekdaysShort,this._week.dow):p?this._weekdaysShort[p.day()]:this._weekdaysShort}function rk(p){return p===!0?xf(this._weekdaysMin,this._week.dow):p?this._weekdaysMin[p.day()]:this._weekdaysMin}function ak(p,_,b){var S,R,ne,be=p.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],S=0;S<7;++S)ne=x([2e3,1]).day(S),this._minWeekdaysParse[S]=this.weekdaysMin(ne,"").toLocaleLowerCase(),this._shortWeekdaysParse[S]=this.weekdaysShort(ne,"").toLocaleLowerCase(),this._weekdaysParse[S]=this.weekdays(ne,"").toLocaleLowerCase();return b?_==="dddd"?(R=rt.call(this._weekdaysParse,be),R!==-1?R:null):_==="ddd"?(R=rt.call(this._shortWeekdaysParse,be),R!==-1?R:null):(R=rt.call(this._minWeekdaysParse,be),R!==-1?R:null):_==="dddd"?(R=rt.call(this._weekdaysParse,be),R!==-1||(R=rt.call(this._shortWeekdaysParse,be),R!==-1)?R:(R=rt.call(this._minWeekdaysParse,be),R!==-1?R:null)):_==="ddd"?(R=rt.call(this._shortWeekdaysParse,be),R!==-1||(R=rt.call(this._weekdaysParse,be),R!==-1)?R:(R=rt.call(this._minWeekdaysParse,be),R!==-1?R:null)):(R=rt.call(this._minWeekdaysParse,be),R!==-1||(R=rt.call(this._weekdaysParse,be),R!==-1)?R:(R=rt.call(this._shortWeekdaysParse,be),R!==-1?R:null))}function ok(p,_,b){var S,R,ne;if(this._weekdaysParseExact)return ak.call(this,p,_,b);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),S=0;S<7;S++){if(R=x([2e3,1]).day(S),b&&!this._fullWeekdaysParse[S]&&(this._fullWeekdaysParse[S]=new RegExp("^"+this.weekdays(R,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[S]=new RegExp("^"+this.weekdaysShort(R,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[S]=new RegExp("^"+this.weekdaysMin(R,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[S]||(ne="^"+this.weekdays(R,"")+"|^"+this.weekdaysShort(R,"")+"|^"+this.weekdaysMin(R,""),this._weekdaysParse[S]=new RegExp(ne.replace(".",""),"i")),b&&_==="dddd"&&this._fullWeekdaysParse[S].test(p))return S;if(b&&_==="ddd"&&this._shortWeekdaysParse[S].test(p))return S;if(b&&_==="dd"&&this._minWeekdaysParse[S].test(p))return S;if(!b&&this._weekdaysParse[S].test(p))return S}}function sk(p){if(!this.isValid())return p!=null?this:NaN;var _=Le(this,"Day");return p!=null?(p=XP(p,this.localeData()),this.add(p-_,"d")):_}function ck(p){if(!this.isValid())return p!=null?this:NaN;var _=(this.day()+7-this.localeData()._week.dow)%7;return p==null?_:this.add(p-_,"d")}function lk(p){if(!this.isValid())return p!=null?this:NaN;if(p!=null){var _=KP(p,this.localeData());return this.day(this.day()%7?_:_-7)}else return this.day()||7}function dk(p){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||vf.call(this),p?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=JP),this._weekdaysStrictRegex&&p?this._weekdaysStrictRegex:this._weekdaysRegex)}function mk(p){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||vf.call(this),p?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ek),this._weekdaysShortStrictRegex&&p?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function uk(p){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||vf.call(this),p?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tk),this._weekdaysMinStrictRegex&&p?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function vf(){function p(Vr,To){return To.length-Vr.length}var _=[],b=[],S=[],R=[],ne,be,et,It,gn;for(ne=0;ne<7;ne++)be=x([2e3,1]).day(ne),et=Ha(this.weekdaysMin(be,"")),It=Ha(this.weekdaysShort(be,"")),gn=Ha(this.weekdays(be,"")),_.push(et),b.push(It),S.push(gn),R.push(et),R.push(It),R.push(gn);_.sort(p),b.sort(p),S.sort(p),R.sort(p),this._weekdaysRegex=new RegExp("^("+R.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+S.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+_.join("|")+")","i")}function bf(){return this.hours()%12||12}function pk(){return this.hours()||24}te("H",["HH",2],0,"hour"),te("h",["hh",2],0,bf),te("k",["kk",2],0,pk),te("hmm",0,0,function(){return""+bf.apply(this)+nt(this.minutes(),2)}),te("hmmss",0,0,function(){return""+bf.apply(this)+nt(this.minutes(),2)+nt(this.seconds(),2)}),te("Hmm",0,0,function(){return""+this.hours()+nt(this.minutes(),2)}),te("Hmmss",0,0,function(){return""+this.hours()+nt(this.minutes(),2)+nt(this.seconds(),2)});function L1(p,_){te(p,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),_)})}L1("a",!0),L1("A",!1);function B1(p,_){return _._meridiemParse}Ze("a",B1),Ze("A",B1),Ze("H",Bt,nd),Ze("h",Bt,yo),Ze("k",Bt,yo),Ze("HH",Bt,Dt),Ze("hh",Bt,Dt),Ze("kk",Bt,Dt),Ze("hmm",Li),Ze("hmmss",xt),Ze("Hmm",Li),Ze("Hmmss",xt),On(["H","HH"],z),On(["k","kk"],function(p,_,b){var S=nn(p);_[z]=S===24?0:S}),On(["a","A"],function(p,_,b){b._isPm=b._locale.isPM(p),b._meridiem=p}),On(["h","hh"],function(p,_,b){_[z]=nn(p),y(b).bigHour=!0}),On("hmm",function(p,_,b){var S=p.length-2;_[z]=nn(p.substr(0,S)),_[B]=nn(p.substr(S)),y(b).bigHour=!0}),On("hmmss",function(p,_,b){var S=p.length-4,R=p.length-2;_[z]=nn(p.substr(0,S)),_[B]=nn(p.substr(S,2)),_[j]=nn(p.substr(R)),y(b).bigHour=!0}),On("Hmm",function(p,_,b){var S=p.length-2;_[z]=nn(p.substr(0,S)),_[B]=nn(p.substr(S))}),On("Hmmss",function(p,_,b){var S=p.length-4,R=p.length-2;_[z]=nn(p.substr(0,S)),_[B]=nn(p.substr(S,2)),_[j]=nn(p.substr(R))});function fk(p){return(p+"").toLowerCase().charAt(0)==="p"}var hk=/[ap]\.?m?\.?/i,gk=ge("Hours",!0);function _k(p,_,b){return p>11?b?"pm":"PM":b?"am":"AM"}var V1={calendar:$e,longDateFormat:Oe,invalidDate:xe,ordinal:H,dayOfMonthOrdinalParse:ct,relativeTime:St,months:yr,monthsShort:ui,week:WP,weekdays:QP,weekdaysMin:ZP,weekdaysShort:N1,meridiemParse:hk},si={},cd={},ld;function xk(p,_){var b,S=Math.min(p.length,_.length);for(b=0;b<S;b+=1)if(p[b]!==_[b])return b;return S}function j1(p){return p&&p.toLowerCase().replace("_","-")}function vk(p){for(var _=0,b,S,R,ne;_<p.length;){for(ne=j1(p[_]).split("-"),b=ne.length,S=j1(p[_+1]),S=S?S.split("-"):null;b>0;){if(R=F0(ne.slice(0,b).join("-")),R)return R;if(S&&S.length>=b&&xk(ne,S)>=b-1)break;b--}_++}return ld}function bk(p){return!!(p&&p.match("^[^/\\\\]*$"))}function F0(p){var _=null,b;if(si[p]===void 0&&typeof Ml<"u"&&Ml&&Ml.exports&&bk(p))try{_=ld._abbr,b=px,b("./locale/"+p),Ko(_)}catch{si[p]=null}return si[p]}function Ko(p,_){var b;return p&&(s(_)?b=So(p):b=Cf(p,_),b?ld=b:typeof console<"u"&&console.warn&&console.warn("Locale "+p+" not found. Did you forget to load it?")),ld._abbr}function Cf(p,_){if(_!==null){var b,S=V1;if(_.abbr=p,si[p]!=null)ee("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),S=si[p]._config;else if(_.parentLocale!=null)if(si[_.parentLocale]!=null)S=si[_.parentLocale]._config;else if(b=F0(_.parentLocale),b!=null)S=b._config;else return cd[_.parentLocale]||(cd[_.parentLocale]=[]),cd[_.parentLocale].push({name:p,config:_}),null;return si[p]=new Be(ke(S,_)),cd[p]&&cd[p].forEach(function(R){Cf(R.name,R.config)}),Ko(p),si[p]}else return delete si[p],null}function Ck(p,_){if(_!=null){var b,S,R=V1;si[p]!=null&&si[p].parentLocale!=null?si[p].set(ke(si[p]._config,_)):(S=F0(p),S!=null&&(R=S._config),_=ke(R,_),S==null&&(_.abbr=p),b=new Be(_),b.parentLocale=si[p],si[p]=b),Ko(p)}else si[p]!=null&&(si[p].parentLocale!=null?(si[p]=si[p].parentLocale,p===Ko()&&Ko(p)):si[p]!=null&&delete si[p]);return si[p]}function So(p){var _;if(p&&p._locale&&p._locale._abbr&&(p=p._locale._abbr),!p)return ld;if(!t(p)){if(_=F0(p),_)return _;p=[p]}return vk(p)}function yk(){return ye(si)}function yf(p){var _,b=p._a;return b&&y(p).overflow===-2&&(_=b[$a]<0||b[$a]>11?$a:b[E]<1||b[E]>Fn(b[nr],b[$a])?E:b[z]<0||b[z]>24||b[z]===24&&(b[B]!==0||b[j]!==0||b[Y]!==0)?z:b[B]<0||b[B]>59?B:b[j]<0||b[j]>59?j:b[Y]<0||b[Y]>999?Y:-1,y(p)._overflowDayOfYear&&(_<nr||_>E)&&(_=E),y(p)._overflowWeeks&&_===-1&&(_=q),y(p)._overflowWeekday&&_===-1&&(_=pe),y(p).overflow=_),p}var wk=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mk=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sk=/Z|[+-]\d\d(?::?\d\d)?/,R0=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],wf=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Pk=/^\/?Date\((-?\d+)/i,kk=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ok={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function z1(p){var _,b,S=p._i,R=wk.exec(S)||Mk.exec(S),ne,be,et,It,gn=R0.length,Vr=wf.length;if(R){for(y(p).iso=!0,_=0,b=gn;_<b;_++)if(R0[_][1].exec(R[1])){be=R0[_][0],ne=R0[_][2]!==!1;break}if(be==null){p._isValid=!1;return}if(R[3]){for(_=0,b=Vr;_<b;_++)if(wf[_][1].exec(R[3])){et=(R[2]||" ")+wf[_][0];break}if(et==null){p._isValid=!1;return}}if(!ne&&et!=null){p._isValid=!1;return}if(R[4])if(Sk.exec(R[4]))It="Z";else{p._isValid=!1;return}p._f=be+(et||"")+(It||""),Sf(p)}else p._isValid=!1}function Tk(p,_,b,S,R,ne){var be=[Ek(p),ui.indexOf(_),parseInt(b,10),parseInt(S,10),parseInt(R,10)];return ne&&be.push(parseInt(ne,10)),be}function Ek(p){var _=parseInt(p,10);return _<=49?2e3+_:_<=999?1900+_:_}function Dk(p){return p.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ik(p,_,b){if(p){var S=N1.indexOf(p),R=new Date(_[0],_[1],_[2]).getDay();if(S!==R)return y(b).weekdayMismatch=!0,b._isValid=!1,!1}return!0}function Ak(p,_,b){if(p)return Ok[p];if(_)return 0;var S=parseInt(b,10),R=S%100,ne=(S-R)/100;return ne*60+R}function U1(p){var _=kk.exec(Dk(p._i)),b;if(_){if(b=Tk(_[4],_[3],_[2],_[5],_[6],_[7]),!Ik(_[1],b,p))return;p._a=b,p._tzm=Ak(_[8],_[9],_[10]),p._d=od.apply(null,p._a),p._d.setUTCMinutes(p._d.getUTCMinutes()-p._tzm),y(p).rfc2822=!0}else p._isValid=!1}function Fk(p){var _=Pk.exec(p._i);if(_!==null){p._d=new Date(+_[1]);return}if(z1(p),p._isValid===!1)delete p._isValid;else return;if(U1(p),p._isValid===!1)delete p._isValid;else return;p._strict?p._isValid=!1:n.createFromInputFallback(p)}n.createFromInputFallback=V("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(p){p._d=new Date(p._i+(p._useUTC?" UTC":""))});function Sc(p,_,b){return p!=null?p:_!=null?_:b}function Rk(p){var _=new Date(n.now());return p._useUTC?[_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate()]:[_.getFullYear(),_.getMonth(),_.getDate()]}function Mf(p){var _,b,S=[],R,ne,be;if(!p._d){for(R=Rk(p),p._w&&p._a[E]==null&&p._a[$a]==null&&Nk(p),p._dayOfYear!=null&&(be=Sc(p._a[nr],R[nr]),(p._dayOfYear>ve(be)||p._dayOfYear===0)&&(y(p)._overflowDayOfYear=!0),b=od(be,0,p._dayOfYear),p._a[$a]=b.getUTCMonth(),p._a[E]=b.getUTCDate()),_=0;_<3&&p._a[_]==null;++_)p._a[_]=S[_]=R[_];for(;_<7;_++)p._a[_]=S[_]=p._a[_]==null?_===2?1:0:p._a[_];p._a[z]===24&&p._a[B]===0&&p._a[j]===0&&p._a[Y]===0&&(p._nextDay=!0,p._a[z]=0),p._d=(p._useUTC?od:UP).apply(null,S),ne=p._useUTC?p._d.getUTCDay():p._d.getDay(),p._tzm!=null&&p._d.setUTCMinutes(p._d.getUTCMinutes()-p._tzm),p._nextDay&&(p._a[z]=24),p._w&&typeof p._w.d<"u"&&p._w.d!==ne&&(y(p).weekdayMismatch=!0)}}function Nk(p){var _,b,S,R,ne,be,et,It,gn;_=p._w,_.GG!=null||_.W!=null||_.E!=null?(ne=1,be=4,b=Sc(_.GG,p._a[nr],sd(Zn(),1,4).year),S=Sc(_.W,1),R=Sc(_.E,1),(R<1||R>7)&&(It=!0)):(ne=p._locale._week.dow,be=p._locale._week.doy,gn=sd(Zn(),ne,be),b=Sc(_.gg,p._a[nr],gn.year),S=Sc(_.w,gn.week),_.d!=null?(R=_.d,(R<0||R>6)&&(It=!0)):_.e!=null?(R=_.e+ne,(_.e<0||_.e>6)&&(It=!0)):R=ne),S<1||S>Mo(b,ne,be)?y(p)._overflowWeeks=!0:It!=null?y(p)._overflowWeekday=!0:(et=R1(b,S,R,ne,be),p._a[nr]=et.year,p._dayOfYear=et.dayOfYear)}n.ISO_8601=function(){},n.RFC_2822=function(){};function Sf(p){if(p._f===n.ISO_8601){z1(p);return}if(p._f===n.RFC_2822){U1(p);return}p._a=[],y(p).empty=!0;var _=""+p._i,b,S,R,ne,be,et=_.length,It=0,gn,Vr;for(R=Pe(p._f,p._locale).match(Me)||[],Vr=R.length,b=0;b<Vr;b++)ne=R[b],S=(_.match(gf(ne,p))||[])[0],S&&(be=_.substr(0,_.indexOf(S)),be.length>0&&y(p).unusedInput.push(be),_=_.slice(_.indexOf(S)+S.length),It+=S.length),X[ne]?(S?y(p).empty=!1:y(p).unusedTokens.push(ne),rd(ne,S,p)):p._strict&&!S&&y(p).unusedTokens.push(ne);y(p).charsLeftOver=et-It,_.length>0&&y(p).unusedInput.push(_),p._a[z]<=12&&y(p).bigHour===!0&&p._a[z]>0&&(y(p).bigHour=void 0),y(p).parsedDateParts=p._a.slice(0),y(p).meridiem=p._meridiem,p._a[z]=Lk(p._locale,p._a[z],p._meridiem),gn=y(p).era,gn!==null&&(p._a[nr]=p._locale.erasConvertYear(gn,p._a[nr])),Mf(p),yf(p)}function Lk(p,_,b){var S;return b==null?_:p.meridiemHour!=null?p.meridiemHour(_,b):(p.isPM!=null&&(S=p.isPM(b),S&&_<12&&(_+=12),!S&&_===12&&(_=0)),_)}function Bk(p){var _,b,S,R,ne,be,et=!1,It=p._f.length;if(It===0){y(p).invalidFormat=!0,p._d=new Date(NaN);return}for(R=0;R<It;R++)ne=0,be=!1,_=K({},p),p._useUTC!=null&&(_._useUTC=p._useUTC),_._f=p._f[R],Sf(_),P(_)&&(be=!0),ne+=y(_).charsLeftOver,ne+=y(_).unusedTokens.length*10,y(_).score=ne,et?ne<S&&(S=ne,b=_):(S==null||ne<S||be)&&(S=ne,b=_,be&&(et=!0));g(p,b||_)}function Vk(p){if(!p._d){var _=Qn(p._i),b=_.day===void 0?_.date:_.day;p._a=f([_.year,_.month,b,_.hour,_.minute,_.second,_.millisecond],function(S){return S&&parseInt(S,10)}),Mf(p)}}function jk(p){var _=new J(yf(Y1(p)));return _._nextDay&&(_.add(1,"d"),_._nextDay=void 0),_}function Y1(p){var _=p._i,b=p._f;return p._locale=p._locale||So(p._l),_===null||b===void 0&&_===""?D({nullInput:!0}):(typeof _=="string"&&(p._i=_=p._locale.preparse(_)),O(_)?new J(yf(_)):(u(_)?p._d=_:t(b)?Bk(p):b?Sf(p):zk(p),P(p)||(p._d=null),p))}function zk(p){var _=p._i;s(_)?p._d=new Date(n.now()):u(_)?p._d=new Date(_.valueOf()):typeof _=="string"?Fk(p):t(_)?(p._a=f(_.slice(0),function(b){return parseInt(b,10)}),Mf(p)):i(_)?Vk(p):m(_)?p._d=new Date(_):n.createFromInputFallback(p)}function W1(p,_,b,S,R){var ne={};return(_===!0||_===!1)&&(S=_,_=void 0),(b===!0||b===!1)&&(S=b,b=void 0),(i(p)&&o(p)||t(p)&&p.length===0)&&(p=void 0),ne._isAMomentObject=!0,ne._useUTC=ne._isUTC=R,ne._l=b,ne._i=p,ne._f=_,ne._strict=S,jk(ne)}function Zn(p,_,b,S){return W1(p,_,b,S,!1)}var Uk=V("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var p=Zn.apply(null,arguments);return this.isValid()&&p.isValid()?p<this?this:p:D()}),Yk=V("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var p=Zn.apply(null,arguments);return this.isValid()&&p.isValid()?p>this?this:p:D()});function H1(p,_){var b,S;if(_.length===1&&t(_[0])&&(_=_[0]),!_.length)return Zn();for(b=_[0],S=1;S<_.length;++S)(!_[S].isValid()||_[S][p](b))&&(b=_[S]);return b}function Wk(){var p=[].slice.call(arguments,0);return H1("isBefore",p)}function Hk(){var p=[].slice.call(arguments,0);return H1("isAfter",p)}var $k=function(){return Date.now?Date.now():+new Date},dd=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Gk(p){var _,b=!1,S,R=dd.length;for(_ in p)if(a(p,_)&&!(rt.call(dd,_)!==-1&&(p[_]==null||!isNaN(p[_]))))return!1;for(S=0;S<R;++S)if(p[dd[S]]){if(b)return!1;parseFloat(p[dd[S]])!==nn(p[dd[S]])&&(b=!0)}return!0}function qk(){return this._isValid}function Xk(){return qa(NaN)}function N0(p){var _=Qn(p),b=_.year||0,S=_.quarter||0,R=_.month||0,ne=_.week||_.isoWeek||0,be=_.day||0,et=_.hour||0,It=_.minute||0,gn=_.second||0,Vr=_.millisecond||0;this._isValid=Gk(_),this._milliseconds=+Vr+gn*1e3+It*6e4+et*1e3*60*60,this._days=+be+ne*7,this._months=+R+S*3+b*12,this._data={},this._locale=So(),this._bubble()}function L0(p){return p instanceof N0}function Pf(p){return p<0?Math.round(-1*p)*-1:Math.round(p)}function Kk(p,_,b){var S=Math.min(p.length,_.length),R=Math.abs(p.length-_.length),ne=0,be;for(be=0;be<S;be++)(b&&p[be]!==_[be]||!b&&nn(p[be])!==nn(_[be]))&&ne++;return ne+R}function $1(p,_){te(p,0,0,function(){var b=this.utcOffset(),S="+";return b<0&&(b=-b,S="-"),S+nt(~~(b/60),2)+_+nt(~~b%60,2)})}$1("Z",":"),$1("ZZ",""),Ze("Z",yc),Ze("ZZ",yc),On(["Z","ZZ"],function(p,_,b){b._useUTC=!0,b._tzm=kf(yc,p)});var Qk=/([\+\-]|\d\d)/gi;function kf(p,_){var b=(_||"").match(p),S,R,ne;return b===null?null:(S=b[b.length-1]||[],R=(S+"").match(Qk)||["-",0,0],ne=+(R[1]*60)+nn(R[2]),ne===0?0:R[0]==="+"?ne:-ne)}function Of(p,_){var b,S;return _._isUTC?(b=_.clone(),S=(O(p)||u(p)?p.valueOf():Zn(p).valueOf())-b.valueOf(),b._d.setTime(b._d.valueOf()+S),n.updateOffset(b,!1),b):Zn(p).local()}function Tf(p){return-Math.round(p._d.getTimezoneOffset())}n.updateOffset=function(){};function Zk(p,_,b){var S=this._offset||0,R;if(!this.isValid())return p!=null?this:NaN;if(p!=null){if(typeof p=="string"){if(p=kf(yc,p),p===null)return this}else Math.abs(p)<16&&!b&&(p=p*60);return!this._isUTC&&_&&(R=Tf(this)),this._offset=p,this._isUTC=!0,R!=null&&this.add(R,"m"),S!==p&&(!_||this._changeInProgress?K1(this,qa(p-S,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?S:Tf(this)}function Jk(p,_){return p!=null?(typeof p!="string"&&(p=-p),this.utcOffset(p,_),this):-this.utcOffset()}function eO(p){return this.utcOffset(0,p)}function tO(p){return this._isUTC&&(this.utcOffset(0,p),this._isUTC=!1,p&&this.subtract(Tf(this),"m")),this}function nO(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var p=kf(hf,this._i);p!=null?this.utcOffset(p):this.utcOffset(0,!0)}return this}function iO(p){return this.isValid()?(p=p?Zn(p).utcOffset():0,(this.utcOffset()-p)%60===0):!1}function rO(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function aO(){if(!s(this._isDSTShifted))return this._isDSTShifted;var p={},_;return K(p,this),p=Y1(p),p._a?(_=p._isUTC?x(p._a):Zn(p._a),this._isDSTShifted=this.isValid()&&Kk(p._a,_.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function oO(){return this.isValid()?!this._isUTC:!1}function sO(){return this.isValid()?this._isUTC:!1}function G1(){return this.isValid()?this._isUTC&&this._offset===0:!1}var cO=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,lO=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qa(p,_){var b=p,S=null,R,ne,be;return L0(p)?b={ms:p._milliseconds,d:p._days,M:p._months}:m(p)||!isNaN(+p)?(b={},_?b[_]=+p:b.milliseconds=+p):(S=cO.exec(p))?(R=S[1]==="-"?-1:1,b={y:0,d:nn(S[E])*R,h:nn(S[z])*R,m:nn(S[B])*R,s:nn(S[j])*R,ms:nn(Pf(S[Y]*1e3))*R}):(S=lO.exec(p))?(R=S[1]==="-"?-1:1,b={y:zs(S[2],R),M:zs(S[3],R),w:zs(S[4],R),d:zs(S[5],R),h:zs(S[6],R),m:zs(S[7],R),s:zs(S[8],R)}):b==null?b={}:typeof b=="object"&&("from"in b||"to"in b)&&(be=dO(Zn(b.from),Zn(b.to)),b={},b.ms=be.milliseconds,b.M=be.months),ne=new N0(b),L0(p)&&a(p,"_locale")&&(ne._locale=p._locale),L0(p)&&a(p,"_isValid")&&(ne._isValid=p._isValid),ne}qa.fn=N0.prototype,qa.invalid=Xk;function zs(p,_){var b=p&&parseFloat(p.replace(",","."));return(isNaN(b)?0:b)*_}function q1(p,_){var b={};return b.months=_.month()-p.month()+(_.year()-p.year())*12,p.clone().add(b.months,"M").isAfter(_)&&--b.months,b.milliseconds=+_-+p.clone().add(b.months,"M"),b}function dO(p,_){var b;return p.isValid()&&_.isValid()?(_=Of(_,p),p.isBefore(_)?b=q1(p,_):(b=q1(_,p),b.milliseconds=-b.milliseconds,b.months=-b.months),b):{milliseconds:0,months:0}}function X1(p,_){return function(b,S){var R,ne;return S!==null&&!isNaN(+S)&&(ee(_,"moment()."+_+"(period, number) is deprecated. Please use moment()."+_+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ne=b,b=S,S=ne),R=qa(b,S),K1(this,R,p),this}}function K1(p,_,b,S){var R=_._milliseconds,ne=Pf(_._days),be=Pf(_._months);p.isValid()&&(S=S==null?!0:S,be&&I1(p,Le(p,"Month")+be*b),ne&&ze(p,"Date",Le(p,"Date")+ne*b),R&&p._d.setTime(p._d.valueOf()+R*b),S&&n.updateOffset(p,ne||be))}var mO=X1(1,"add"),uO=X1(-1,"subtract");function Q1(p){return typeof p=="string"||p instanceof String}function pO(p){return O(p)||u(p)||Q1(p)||m(p)||hO(p)||fO(p)||p===null||p===void 0}function fO(p){var _=i(p)&&!o(p),b=!1,S=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],R,ne,be=S.length;for(R=0;R<be;R+=1)ne=S[R],b=b||a(p,ne);return _&&b}function hO(p){var _=t(p),b=!1;return _&&(b=p.filter(function(S){return!m(S)&&Q1(p)}).length===0),_&&b}function gO(p){var _=i(p)&&!o(p),b=!1,S=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],R,ne;for(R=0;R<S.length;R+=1)ne=S[R],b=b||a(p,ne);return _&&b}function _O(p,_){var b=p.diff(_,"days",!0);return b<-6?"sameElse":b<-1?"lastWeek":b<0?"lastDay":b<1?"sameDay":b<2?"nextDay":b<7?"nextWeek":"sameElse"}function xO(p,_){arguments.length===1&&(arguments[0]?pO(arguments[0])?(p=arguments[0],_=void 0):gO(arguments[0])&&(_=arguments[0],p=void 0):(p=void 0,_=void 0));var b=p||Zn(),S=Of(b,this).startOf("day"),R=n.calendarFormat(this,S)||"sameElse",ne=_&&(re(_[R])?_[R].call(this,b):_[R]);return this.format(ne||this.localeData().calendar(R,this,Zn(b)))}function vO(){return new J(this)}function bO(p,_){var b=O(p)?p:Zn(p);return this.isValid()&&b.isValid()?(_=yn(_)||"millisecond",_==="millisecond"?this.valueOf()>b.valueOf():b.valueOf()<this.clone().startOf(_).valueOf()):!1}function CO(p,_){var b=O(p)?p:Zn(p);return this.isValid()&&b.isValid()?(_=yn(_)||"millisecond",_==="millisecond"?this.valueOf()<b.valueOf():this.clone().endOf(_).valueOf()<b.valueOf()):!1}function yO(p,_,b,S){var R=O(p)?p:Zn(p),ne=O(_)?_:Zn(_);return this.isValid()&&R.isValid()&&ne.isValid()?(S=S||"()",(S[0]==="("?this.isAfter(R,b):!this.isBefore(R,b))&&(S[1]===")"?this.isBefore(ne,b):!this.isAfter(ne,b))):!1}function wO(p,_){var b=O(p)?p:Zn(p),S;return this.isValid()&&b.isValid()?(_=yn(_)||"millisecond",_==="millisecond"?this.valueOf()===b.valueOf():(S=b.valueOf(),this.clone().startOf(_).valueOf()<=S&&S<=this.clone().endOf(_).valueOf())):!1}function MO(p,_){return this.isSame(p,_)||this.isAfter(p,_)}function SO(p,_){return this.isSame(p,_)||this.isBefore(p,_)}function PO(p,_,b){var S,R,ne;if(!this.isValid())return NaN;if(S=Of(p,this),!S.isValid())return NaN;switch(R=(S.utcOffset()-this.utcOffset())*6e4,_=yn(_),_){case"year":ne=B0(this,S)/12;break;case"month":ne=B0(this,S);break;case"quarter":ne=B0(this,S)/3;break;case"second":ne=(this-S)/1e3;break;case"minute":ne=(this-S)/6e4;break;case"hour":ne=(this-S)/36e5;break;case"day":ne=(this-S-R)/864e5;break;case"week":ne=(this-S-R)/6048e5;break;default:ne=this-S}return b?ne:Gr(ne)}function B0(p,_){if(p.date()<_.date())return-B0(_,p);var b=(_.year()-p.year())*12+(_.month()-p.month()),S=p.clone().add(b,"months"),R,ne;return _-S<0?(R=p.clone().add(b-1,"months"),ne=(_-S)/(S-R)):(R=p.clone().add(b+1,"months"),ne=(_-S)/(R-S)),-(b+ne)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function kO(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function OO(p){if(!this.isValid())return null;var _=p!==!0,b=_?this.clone().utc():this;return b.year()<0||b.year()>9999?le(b,_?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):re(Date.prototype.toISOString)?_?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",le(b,"Z")):le(b,_?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function TO(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var p="moment",_="",b,S,R,ne;return this.isLocal()||(p=this.utcOffset()===0?"moment.utc":"moment.parseZone",_="Z"),b="["+p+'("]',S=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",R="-MM-DD[T]HH:mm:ss.SSS",ne=_+'[")]',this.format(b+S+R+ne)}function EO(p){p||(p=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var _=le(this,p);return this.localeData().postformat(_)}function DO(p,_){return this.isValid()&&(O(p)&&p.isValid()||Zn(p).isValid())?qa({to:this,from:p}).locale(this.locale()).humanize(!_):this.localeData().invalidDate()}function IO(p){return this.from(Zn(),p)}function AO(p,_){return this.isValid()&&(O(p)&&p.isValid()||Zn(p).isValid())?qa({from:this,to:p}).locale(this.locale()).humanize(!_):this.localeData().invalidDate()}function FO(p){return this.to(Zn(),p)}function Z1(p){var _;return p===void 0?this._locale._abbr:(_=So(p),_!=null&&(this._locale=_),this)}var J1=V("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(p){return p===void 0?this.localeData():this.locale(p)});function ex(){return this._locale}var V0=1e3,Pc=60*V0,j0=60*Pc,tx=(365*400+97)*24*j0;function kc(p,_){return(p%_+_)%_}function nx(p,_,b){return p<100&&p>=0?new Date(p+400,_,b)-tx:new Date(p,_,b).valueOf()}function ix(p,_,b){return p<100&&p>=0?Date.UTC(p+400,_,b)-tx:Date.UTC(p,_,b)}function RO(p){var _,b;if(p=yn(p),p===void 0||p==="millisecond"||!this.isValid())return this;switch(b=this._isUTC?ix:nx,p){case"year":_=b(this.year(),0,1);break;case"quarter":_=b(this.year(),this.month()-this.month()%3,1);break;case"month":_=b(this.year(),this.month(),1);break;case"week":_=b(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":_=b(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":_=b(this.year(),this.month(),this.date());break;case"hour":_=this._d.valueOf(),_-=kc(_+(this._isUTC?0:this.utcOffset()*Pc),j0);break;case"minute":_=this._d.valueOf(),_-=kc(_,Pc);break;case"second":_=this._d.valueOf(),_-=kc(_,V0);break}return this._d.setTime(_),n.updateOffset(this,!0),this}function NO(p){var _,b;if(p=yn(p),p===void 0||p==="millisecond"||!this.isValid())return this;switch(b=this._isUTC?ix:nx,p){case"year":_=b(this.year()+1,0,1)-1;break;case"quarter":_=b(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":_=b(this.year(),this.month()+1,1)-1;break;case"week":_=b(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":_=b(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":_=b(this.year(),this.month(),this.date()+1)-1;break;case"hour":_=this._d.valueOf(),_+=j0-kc(_+(this._isUTC?0:this.utcOffset()*Pc),j0)-1;break;case"minute":_=this._d.valueOf(),_+=Pc-kc(_,Pc)-1;break;case"second":_=this._d.valueOf(),_+=V0-kc(_,V0)-1;break}return this._d.setTime(_),n.updateOffset(this,!0),this}function LO(){return this._d.valueOf()-(this._offset||0)*6e4}function BO(){return Math.floor(this.valueOf()/1e3)}function VO(){return new Date(this.valueOf())}function jO(){var p=this;return[p.year(),p.month(),p.date(),p.hour(),p.minute(),p.second(),p.millisecond()]}function zO(){var p=this;return{years:p.year(),months:p.month(),date:p.date(),hours:p.hours(),minutes:p.minutes(),seconds:p.seconds(),milliseconds:p.milliseconds()}}function UO(){return this.isValid()?this.toISOString():null}function YO(){return P(this)}function WO(){return g({},y(this))}function HO(){return y(this).overflow}function $O(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}te("N",0,0,"eraAbbr"),te("NN",0,0,"eraAbbr"),te("NNN",0,0,"eraAbbr"),te("NNNN",0,0,"eraName"),te("NNNNN",0,0,"eraNarrow"),te("y",["y",1],"yo","eraYear"),te("y",["yy",2],0,"eraYear"),te("y",["yyy",3],0,"eraYear"),te("y",["yyyy",4],0,"eraYear"),Ze("N",Ef),Ze("NN",Ef),Ze("NNN",Ef),Ze("NNNN",iT),Ze("NNNNN",rT),On(["N","NN","NNN","NNNN","NNNNN"],function(p,_,b,S){var R=b._locale.erasParse(p,S,b._strict);R?y(b).era=R:y(b).invalidEra=p}),Ze("y",$r),Ze("yy",$r),Ze("yyy",$r),Ze("yyyy",$r),Ze("yo",aT),On(["y","yy","yyy","yyyy"],nr),On(["yo"],function(p,_,b,S){var R;b._locale._eraYearOrdinalRegex&&(R=p.match(b._locale._eraYearOrdinalRegex)),b._locale.eraYearOrdinalParse?_[nr]=b._locale.eraYearOrdinalParse(p,R):_[nr]=parseInt(p,10)});function GO(p,_){var b,S,R,ne=this._eras||So("en")._eras;for(b=0,S=ne.length;b<S;++b){switch(typeof ne[b].since){case"string":R=n(ne[b].since).startOf("day"),ne[b].since=R.valueOf();break}switch(typeof ne[b].until){case"undefined":ne[b].until=1/0;break;case"string":R=n(ne[b].until).startOf("day").valueOf(),ne[b].until=R.valueOf();break}}return ne}function qO(p,_,b){var S,R,ne=this.eras(),be,et,It;for(p=p.toUpperCase(),S=0,R=ne.length;S<R;++S)if(be=ne[S].name.toUpperCase(),et=ne[S].abbr.toUpperCase(),It=ne[S].narrow.toUpperCase(),b)switch(_){case"N":case"NN":case"NNN":if(et===p)return ne[S];break;case"NNNN":if(be===p)return ne[S];break;case"NNNNN":if(It===p)return ne[S];break}else if([be,et,It].indexOf(p)>=0)return ne[S]}function XO(p,_){var b=p.since<=p.until?1:-1;return _===void 0?n(p.since).year():n(p.since).year()+(_-p.offset)*b}function KO(){var p,_,b,S=this.localeData().eras();for(p=0,_=S.length;p<_;++p)if(b=this.clone().startOf("day").valueOf(),S[p].since<=b&&b<=S[p].until||S[p].until<=b&&b<=S[p].since)return S[p].name;return""}function QO(){var p,_,b,S=this.localeData().eras();for(p=0,_=S.length;p<_;++p)if(b=this.clone().startOf("day").valueOf(),S[p].since<=b&&b<=S[p].until||S[p].until<=b&&b<=S[p].since)return S[p].narrow;return""}function ZO(){var p,_,b,S=this.localeData().eras();for(p=0,_=S.length;p<_;++p)if(b=this.clone().startOf("day").valueOf(),S[p].since<=b&&b<=S[p].until||S[p].until<=b&&b<=S[p].since)return S[p].abbr;return""}function JO(){var p,_,b,S,R=this.localeData().eras();for(p=0,_=R.length;p<_;++p)if(b=R[p].since<=R[p].until?1:-1,S=this.clone().startOf("day").valueOf(),R[p].since<=S&&S<=R[p].until||R[p].until<=S&&S<=R[p].since)return(this.year()-n(R[p].since).year())*b+R[p].offset;return this.year()}function eT(p){return a(this,"_erasNameRegex")||Df.call(this),p?this._erasNameRegex:this._erasRegex}function tT(p){return a(this,"_erasAbbrRegex")||Df.call(this),p?this._erasAbbrRegex:this._erasRegex}function nT(p){return a(this,"_erasNarrowRegex")||Df.call(this),p?this._erasNarrowRegex:this._erasRegex}function Ef(p,_){return _.erasAbbrRegex(p)}function iT(p,_){return _.erasNameRegex(p)}function rT(p,_){return _.erasNarrowRegex(p)}function aT(p,_){return _._eraYearOrdinalRegex||$r}function Df(){var p=[],_=[],b=[],S=[],R,ne,be,et,It,gn=this.eras();for(R=0,ne=gn.length;R<ne;++R)be=Ha(gn[R].name),et=Ha(gn[R].abbr),It=Ha(gn[R].narrow),_.push(be),p.push(et),b.push(It),S.push(be),S.push(et),S.push(It);this._erasRegex=new RegExp("^("+S.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+_.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+p.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+b.join("|")+")","i")}te(0,["gg",2],0,function(){return this.weekYear()%100}),te(0,["GG",2],0,function(){return this.isoWeekYear()%100});function z0(p,_){te(0,[p,p.length],0,_)}z0("gggg","weekYear"),z0("ggggg","weekYear"),z0("GGGG","isoWeekYear"),z0("GGGGG","isoWeekYear"),Ze("G",Ls),Ze("g",Ls),Ze("GG",Bt,Dt),Ze("gg",Bt,Dt),Ze("GGGG",$i,bi),Ze("gggg",$i,bi),Ze("GGGGG",oi,Hr),Ze("ggggg",oi,Hr),Bs(["gggg","ggggg","GGGG","GGGGG"],function(p,_,b,S){_[S.substr(0,2)]=nn(p)}),Bs(["gg","GG"],function(p,_,b,S){_[S]=n.parseTwoDigitYear(p)});function oT(p){return rx.call(this,p,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function sT(p){return rx.call(this,p,this.isoWeek(),this.isoWeekday(),1,4)}function cT(){return Mo(this.year(),1,4)}function lT(){return Mo(this.isoWeekYear(),1,4)}function dT(){var p=this.localeData()._week;return Mo(this.year(),p.dow,p.doy)}function mT(){var p=this.localeData()._week;return Mo(this.weekYear(),p.dow,p.doy)}function rx(p,_,b,S,R){var ne;return p==null?sd(this,S,R).year:(ne=Mo(p,S,R),_>ne&&(_=ne),uT.call(this,p,_,b,S,R))}function uT(p,_,b,S,R){var ne=R1(p,_,b,S,R),be=od(ne.year,0,ne.dayOfYear);return this.year(be.getUTCFullYear()),this.month(be.getUTCMonth()),this.date(be.getUTCDate()),this}te("Q",0,"Qo","quarter"),Ze("Q",vi),On("Q",function(p,_){_[$a]=(nn(p)-1)*3});function pT(p){return p==null?Math.ceil((this.month()+1)/3):this.month((p-1)*3+this.month()%3)}te("D",["DD",2],"Do","date"),Ze("D",Bt,yo),Ze("DD",Bt,Dt),Ze("Do",function(p,_){return p?_._dayOfMonthOrdinalParse||_._ordinalParse:_._dayOfMonthOrdinalParseLenient}),On(["D","DD"],E),On("Do",function(p,_){_[E]=nn(p.match(Bt)[0])});var ax=ge("Date",!0);te("DDD",["DDDD",3],"DDDo","dayOfYear"),Ze("DDD",wn),Ze("DDDD",Wn),On(["DDD","DDDD"],function(p,_,b){b._dayOfYear=nn(p)});function fT(p){var _=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return p==null?_:this.add(p-_,"d")}te("m",["mm",2],0,"minute"),Ze("m",Bt,nd),Ze("mm",Bt,Dt),On(["m","mm"],B);var hT=ge("Minutes",!1);te("s",["ss",2],0,"second"),Ze("s",Bt,nd),Ze("ss",Bt,Dt),On(["s","ss"],j);var gT=ge("Seconds",!1);te("S",0,0,function(){return~~(this.millisecond()/100)}),te(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),te(0,["SSS",3],0,"millisecond"),te(0,["SSSS",4],0,function(){return this.millisecond()*10}),te(0,["SSSSS",5],0,function(){return this.millisecond()*100}),te(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),te(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),te(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),te(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Ze("S",wn,vi),Ze("SS",wn,Dt),Ze("SSS",wn,Wn);var Qo,ox;for(Qo="SSSS";Qo.length<=9;Qo+="S")Ze(Qo,$r);function _T(p,_){_[Y]=nn(("0."+p)*1e3)}for(Qo="S";Qo.length<=9;Qo+="S")On(Qo,_T);ox=ge("Milliseconds",!1),te("z",0,0,"zoneAbbr"),te("zz",0,0,"zoneName");function xT(){return this._isUTC?"UTC":""}function vT(){return this._isUTC?"Coordinated Universal Time":""}var je=J.prototype;je.add=mO,je.calendar=xO,je.clone=vO,je.diff=PO,je.endOf=NO,je.format=EO,je.from=DO,je.fromNow=IO,je.to=AO,je.toNow=FO,je.get=it,je.invalidAt=HO,je.isAfter=bO,je.isBefore=CO,je.isBetween=yO,je.isSame=wO,je.isSameOrAfter=MO,je.isSameOrBefore=SO,je.isValid=YO,je.lang=J1,je.locale=Z1,je.localeData=ex,je.max=Yk,je.min=Uk,je.parsingFlags=WO,je.set=Ye,je.startOf=RO,je.subtract=uO,je.toArray=jO,je.toObject=zO,je.toDate=VO,je.toISOString=OO,je.inspect=TO,typeof Symbol<"u"&&Symbol.for!=null&&(je[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),je.toJSON=UO,je.toString=kO,je.unix=BO,je.valueOf=LO,je.creationData=$O,je.eraName=KO,je.eraNarrow=QO,je.eraAbbr=ZO,je.eraYear=JO,je.year=fe,je.isLeapYear=he,je.weekYear=oT,je.isoWeekYear=sT,je.quarter=je.quarters=pT,je.month=A1,je.daysInMonth=VP,je.week=je.weeks=GP,je.isoWeek=je.isoWeeks=qP,je.weeksInYear=dT,je.weeksInWeekYear=mT,je.isoWeeksInYear=cT,je.isoWeeksInISOWeekYear=lT,je.date=ax,je.day=je.days=sk,je.weekday=ck,je.isoWeekday=lk,je.dayOfYear=fT,je.hour=je.hours=gk,je.minute=je.minutes=hT,je.second=je.seconds=gT,je.millisecond=je.milliseconds=ox,je.utcOffset=Zk,je.utc=eO,je.local=tO,je.parseZone=nO,je.hasAlignedHourOffset=iO,je.isDST=rO,je.isLocal=oO,je.isUtcOffset=sO,je.isUtc=G1,je.isUTC=G1,je.zoneAbbr=xT,je.zoneName=vT,je.dates=V("dates accessor is deprecated. Use date instead.",ax),je.months=V("months accessor is deprecated. Use month instead",A1),je.years=V("years accessor is deprecated. Use year instead",fe),je.zone=V("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Jk),je.isDSTShifted=V("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",aO);function bT(p){return Zn(p*1e3)}function CT(){return Zn.apply(null,arguments).parseZone()}function sx(p){return p}var Mn=Be.prototype;Mn.calendar=Te,Mn.longDateFormat=we,Mn.invalidDate=ot,Mn.ordinal=Ke,Mn.preparse=sx,Mn.postformat=sx,Mn.relativeTime=Je,Mn.pastFuture=Re,Mn.set=ie,Mn.eras=GO,Mn.erasParse=qO,Mn.erasConvertYear=XO,Mn.erasAbbrRegex=tT,Mn.erasNameRegex=eT,Mn.erasNarrowRegex=nT,Mn.months=wo,Mn.monthsShort=ad,Mn.monthsParse=BP,Mn.monthsRegex=zP,Mn.monthsShortRegex=jP,Mn.week=YP,Mn.firstDayOfYear=$P,Mn.firstDayOfWeek=HP,Mn.weekdays=nk,Mn.weekdaysMin=rk,Mn.weekdaysShort=ik,Mn.weekdaysParse=ok,Mn.weekdaysRegex=dk,Mn.weekdaysShortRegex=mk,Mn.weekdaysMinRegex=uk,Mn.isPM=fk,Mn.meridiem=_k;function U0(p,_,b,S){var R=So(),ne=x().set(S,_);return R[b](ne,p)}function cx(p,_,b){if(m(p)&&(_=p,p=void 0),p=p||"",_!=null)return U0(p,_,b,"month");var S,R=[];for(S=0;S<12;S++)R[S]=U0(p,S,b,"month");return R}function If(p,_,b,S){typeof p=="boolean"?(m(_)&&(b=_,_=void 0),_=_||""):(_=p,b=_,p=!1,m(_)&&(b=_,_=void 0),_=_||"");var R=So(),ne=p?R._week.dow:0,be,et=[];if(b!=null)return U0(_,(b+ne)%7,S,"day");for(be=0;be<7;be++)et[be]=U0(_,(be+ne)%7,S,"day");return et}function yT(p,_){return cx(p,_,"months")}function wT(p,_){return cx(p,_,"monthsShort")}function MT(p,_,b){return If(p,_,b,"weekdays")}function ST(p,_,b){return If(p,_,b,"weekdaysShort")}function PT(p,_,b){return If(p,_,b,"weekdaysMin")}Ko("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(p){var _=p%10,b=nn(p%100/10)===1?"th":_===1?"st":_===2?"nd":_===3?"rd":"th";return p+b}}),n.lang=V("moment.lang is deprecated. Use moment.locale instead.",Ko),n.langData=V("moment.langData is deprecated. Use moment.localeData instead.",So);var Po=Math.abs;function kT(){var p=this._data;return this._milliseconds=Po(this._milliseconds),this._days=Po(this._days),this._months=Po(this._months),p.milliseconds=Po(p.milliseconds),p.seconds=Po(p.seconds),p.minutes=Po(p.minutes),p.hours=Po(p.hours),p.months=Po(p.months),p.years=Po(p.years),this}function lx(p,_,b,S){var R=qa(_,b);return p._milliseconds+=S*R._milliseconds,p._days+=S*R._days,p._months+=S*R._months,p._bubble()}function OT(p,_){return lx(this,p,_,1)}function TT(p,_){return lx(this,p,_,-1)}function dx(p){return p<0?Math.floor(p):Math.ceil(p)}function ET(){var p=this._milliseconds,_=this._days,b=this._months,S=this._data,R,ne,be,et,It;return p>=0&&_>=0&&b>=0||p<=0&&_<=0&&b<=0||(p+=dx(Af(b)+_)*864e5,_=0,b=0),S.milliseconds=p%1e3,R=Gr(p/1e3),S.seconds=R%60,ne=Gr(R/60),S.minutes=ne%60,be=Gr(ne/60),S.hours=be%24,_+=Gr(be/24),It=Gr(mx(_)),b+=It,_-=dx(Af(It)),et=Gr(b/12),b%=12,S.days=_,S.months=b,S.years=et,this}function mx(p){return p*4800/146097}function Af(p){return p*146097/4800}function DT(p){if(!this.isValid())return NaN;var _,b,S=this._milliseconds;if(p=yn(p),p==="month"||p==="quarter"||p==="year")switch(_=this._days+S/864e5,b=this._months+mx(_),p){case"month":return b;case"quarter":return b/3;case"year":return b/12}else switch(_=this._days+Math.round(Af(this._months)),p){case"week":return _/7+S/6048e5;case"day":return _+S/864e5;case"hour":return _*24+S/36e5;case"minute":return _*1440+S/6e4;case"second":return _*86400+S/1e3;case"millisecond":return Math.floor(_*864e5)+S;default:throw new Error("Unknown unit "+p)}}function ko(p){return function(){return this.as(p)}}var ux=ko("ms"),IT=ko("s"),AT=ko("m"),FT=ko("h"),RT=ko("d"),NT=ko("w"),LT=ko("M"),BT=ko("Q"),VT=ko("y"),jT=ux;function zT(){return qa(this)}function UT(p){return p=yn(p),this.isValid()?this[p+"s"]():NaN}function Us(p){return function(){return this.isValid()?this._data[p]:NaN}}var YT=Us("milliseconds"),WT=Us("seconds"),HT=Us("minutes"),$T=Us("hours"),GT=Us("days"),qT=Us("months"),XT=Us("years");function KT(){return Gr(this.days()/7)}var Oo=Math.round,Oc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function QT(p,_,b,S,R){return R.relativeTime(_||1,!!b,p,S)}function ZT(p,_,b,S){var R=qa(p).abs(),ne=Oo(R.as("s")),be=Oo(R.as("m")),et=Oo(R.as("h")),It=Oo(R.as("d")),gn=Oo(R.as("M")),Vr=Oo(R.as("w")),To=Oo(R.as("y")),Zo=ne<=b.ss&&["s",ne]||ne<b.s&&["ss",ne]||be<=1&&["m"]||be<b.m&&["mm",be]||et<=1&&["h"]||et<b.h&&["hh",et]||It<=1&&["d"]||It<b.d&&["dd",It];return b.w!=null&&(Zo=Zo||Vr<=1&&["w"]||Vr<b.w&&["ww",Vr]),Zo=Zo||gn<=1&&["M"]||gn<b.M&&["MM",gn]||To<=1&&["y"]||["yy",To],Zo[2]=_,Zo[3]=+p>0,Zo[4]=S,QT.apply(null,Zo)}function JT(p){return p===void 0?Oo:typeof p=="function"?(Oo=p,!0):!1}function eE(p,_){return Oc[p]===void 0?!1:_===void 0?Oc[p]:(Oc[p]=_,p==="s"&&(Oc.ss=_-1),!0)}function tE(p,_){if(!this.isValid())return this.localeData().invalidDate();var b=!1,S=Oc,R,ne;return typeof p=="object"&&(_=p,p=!1),typeof p=="boolean"&&(b=p),typeof _=="object"&&(S=Object.assign({},Oc,_),_.s!=null&&_.ss==null&&(S.ss=_.s-1)),R=this.localeData(),ne=ZT(this,!b,S,R),b&&(ne=R.pastFuture(+this,ne)),R.postformat(ne)}var Ff=Math.abs;function Tc(p){return(p>0)-(p<0)||+p}function Y0(){if(!this.isValid())return this.localeData().invalidDate();var p=Ff(this._milliseconds)/1e3,_=Ff(this._days),b=Ff(this._months),S,R,ne,be,et=this.asSeconds(),It,gn,Vr,To;return et?(S=Gr(p/60),R=Gr(S/60),p%=60,S%=60,ne=Gr(b/12),b%=12,be=p?p.toFixed(3).replace(/\.?0+$/,""):"",It=et<0?"-":"",gn=Tc(this._months)!==Tc(et)?"-":"",Vr=Tc(this._days)!==Tc(et)?"-":"",To=Tc(this._milliseconds)!==Tc(et)?"-":"",It+"P"+(ne?gn+ne+"Y":"")+(b?gn+b+"M":"")+(_?Vr+_+"D":"")+(R||S||p?"T":"")+(R?To+R+"H":"")+(S?To+S+"M":"")+(p?To+be+"S":"")):"P0D"}var xn=N0.prototype;xn.isValid=qk,xn.abs=kT,xn.add=OT,xn.subtract=TT,xn.as=DT,xn.asMilliseconds=ux,xn.asSeconds=IT,xn.asMinutes=AT,xn.asHours=FT,xn.asDays=RT,xn.asWeeks=NT,xn.asMonths=LT,xn.asQuarters=BT,xn.asYears=VT,xn.valueOf=jT,xn._bubble=ET,xn.clone=zT,xn.get=UT,xn.milliseconds=YT,xn.seconds=WT,xn.minutes=HT,xn.hours=$T,xn.days=GT,xn.weeks=KT,xn.months=qT,xn.years=XT,xn.humanize=tE,xn.toISOString=Y0,xn.toString=Y0,xn.toJSON=Y0,xn.locale=Z1,xn.localeData=ex,xn.toIsoString=V("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Y0),xn.lang=J1,te("X",0,0,"unix"),te("x",0,0,"valueOf"),Ze("x",Ls),Ze("X",I0),On("X",function(p,_,b){b._d=new Date(parseFloat(p)*1e3)}),On("x",function(p,_,b){b._d=new Date(nn(p))});return n.version="2.30.1",r(Zn),n.fn=je,n.min=Wk,n.max=Hk,n.now=$k,n.utc=x,n.unix=bT,n.months=yT,n.isDate=u,n.locale=Ko,n.invalid=D,n.duration=qa,n.isMoment=O,n.weekdays=MT,n.parseZone=CT,n.localeData=So,n.isDuration=L0,n.monthsShort=wT,n.weekdaysMin=PT,n.defineLocale=Cf,n.updateLocale=Ck,n.locales=yk,n.weekdaysShort=ST,n.normalizeUnits=yn,n.relativeTimeRounding=JT,n.relativeTimeThreshold=eE,n.calendarFormat=_O,n.prototype=je,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})});var MM=fx((R_,N_)=>{"use strict";((e,n)=>{typeof define=="function"&&define.amd?define([],n):typeof N_=="object"&&typeof R_<"u"?N_.exports=n():e.Papa=n()})(R_,function e(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},r,t=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,a={},o=0,s={};function m(O){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var V=A(k);V.chunkSize=parseInt(V.chunkSize),k.step||k.chunk||(V.chunkSize=null),this._handle=new C(V),(this._handle.streamer=this)._config=V}).call(this,O),this.parseChunk=function(k,V){var W=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<W){let re=this._config.newline;re||(ee=this._config.quoteChar||'"',re=this._handle.guessLineEndings(k,ee)),k=[...k.split(re).slice(W)].join(re)}this.isFirstChunk&&J(this._config.beforeFirstChunk)&&(ee=this._config.beforeFirstChunk(k))!==void 0&&(k=ee),this.isFirstChunk=!1,this._halted=!1;var W=this._partialLine+k,ee=(this._partialLine="",this._handle.parse(W,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=ee.meta.cursor,W=(this._finished||(this._partialLine=W.substring(k-this._baseIndex),this._baseIndex=k),ee&&ee.data&&(this._rowCount+=ee.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)n.postMessage({results:ee,workerId:s.WORKER_ID,finished:W});else if(J(this._config.chunk)&&!V){if(this._config.chunk(ee,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=ee=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ee.data),this._completeResults.errors=this._completeResults.errors.concat(ee.errors),this._completeResults.meta=ee.meta),this._completed||!W||!J(this._config.complete)||ee&&ee.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),W||ee&&ee.meta.paused||this._nextChunk(),ee}this._halted=!0},this._sendError=function(k){J(this._config.error)?this._config.error(k):i&&this._config.error&&n.postMessage({workerId:s.WORKER_ID,error:k,finished:!1})}}function u(O){var k;(O=O||{}).chunkSize||(O.chunkSize=s.RemoteChunkSize),m.call(this,O),this._nextChunk=t?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(V){this._input=V,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),t||(k.onload=K(this._chunkLoaded,this),k.onerror=K(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!t),this._config.downloadRequestHeaders){var V,W=this._config.downloadRequestHeaders;for(V in W)k.setRequestHeader(V,W[V])}var ee;this._config.chunkSize&&(ee=this._start+this._config.chunkSize-1,k.setRequestHeader("Range","bytes="+this._start+"-"+ee));try{k.send(this._config.downloadRequestBody)}catch(re){this._chunkError(re.message)}t&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(V=>(V=V.getResponseHeader("Content-Range"))!==null?parseInt(V.substring(V.lastIndexOf("/")+1)):-1)(k),this.parseChunk(k.responseText)))},this._chunkError=function(V){V=k.statusText||V,this._sendError(new Error(V))}}function f(O){(O=O||{}).chunkSize||(O.chunkSize=s.LocalChunkSize),m.call(this,O);var k,V,W=typeof FileReader<"u";this.stream=function(ee){this._input=ee,V=ee.slice||ee.webkitSlice||ee.mozSlice,W?((k=new FileReader).onload=K(this._chunkLoaded,this),k.onerror=K(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var ee=this._input,re=(this._config.chunkSize&&(re=Math.min(this._start+this._config.chunkSize,this._input.size),ee=V.call(ee,this._start,re)),k.readAsText(ee,this._config.encoding));W||this._chunkLoaded({target:{result:re}})},this._chunkLoaded=function(ee){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(ee.target.result)},this._chunkError=function(){this._sendError(k.error)}}function g(O){var k;m.call(this,O=O||{}),this.stream=function(V){return k=V,this._nextChunk()},this._nextChunk=function(){var V,W;if(!this._finished)return V=this._config.chunkSize,k=V?(W=k.substring(0,V),k.substring(V)):(W=k,""),this._finished=!k,this.parseChunk(W)}}function x(O){m.call(this,O=O||{});var k=[],V=!0,W=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(ee){this._input=ee,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){W&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):V=!0},this._streamData=K(function(ee){try{k.push(typeof ee=="string"?ee:ee.toString(this._config.encoding)),V&&(V=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(re){this._streamError(re)}},this),this._streamError=K(function(ee){this._streamCleanUp(),this._sendError(ee)},this),this._streamEnd=K(function(){this._streamCleanUp(),W=!0,this._streamData("")},this),this._streamCleanUp=K(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function C(O){var k,V,W,ee,re=Math.pow(2,53),ie=-re,ke=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Be=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ye=this,$e=0,Te=0,nt=!1,Me=!1,Ae=[],ce={data:[],errors:[],meta:{}};function X(le){return O.skipEmptyLines==="greedy"?le.join("").trim()==="":le.length===1&&le[0].length===0}function te(){if(ce&&W&&(Z("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),W=!1),O.skipEmptyLines&&(ce.data=ce.data.filter(function(xe){return!X(xe)})),Q()){let xe=function(ot,H){J(O.transformHeader)&&(ot=O.transformHeader(ot,H)),Ae.push(ot)};var we=xe;if(ce)if(Array.isArray(ce.data[0])){for(var le=0;Q()&&le<ce.data.length;le++)ce.data[le].forEach(xe);ce.data.splice(0,1)}else ce.data.forEach(xe)}function Pe(xe,ot){for(var H=O.header?{}:[],ct=0;ct<xe.length;ct++){var Ke=ct,St=xe[ct],St=((Je,Re)=>(Lt=>(O.dynamicTypingFunction&&O.dynamicTyping[Lt]===void 0&&(O.dynamicTyping[Lt]=O.dynamicTypingFunction(Lt)),(O.dynamicTyping[Lt]||O.dynamicTyping)===!0))(Je)?Re==="true"||Re==="TRUE"||Re!=="false"&&Re!=="FALSE"&&((Lt=>{if(ke.test(Lt)&&(Lt=parseFloat(Lt),ie<Lt&&Lt<re))return 1})(Re)?parseFloat(Re):Be.test(Re)?new Date(Re):Re===""?null:Re):Re)(Ke=O.header?ct>=Ae.length?"__parsed_extra":Ae[ct]:Ke,St=O.transform?O.transform(St,Ke):St);Ke==="__parsed_extra"?(H[Ke]=H[Ke]||[],H[Ke].push(St)):H[Ke]=St}return O.header&&(ct>Ae.length?Z("FieldMismatch","TooManyFields","Too many fields: expected "+Ae.length+" fields but parsed "+ct,Te+ot):ct<Ae.length&&Z("FieldMismatch","TooFewFields","Too few fields: expected "+Ae.length+" fields but parsed "+ct,Te+ot)),H}var Oe;ce&&(O.header||O.dynamicTyping||O.transform)&&(Oe=1,!ce.data.length||Array.isArray(ce.data[0])?(ce.data=ce.data.map(Pe),Oe=ce.data.length):ce.data=Pe(ce.data,0),O.header&&ce.meta&&(ce.meta.fields=Ae),Te+=Oe)}function Q(){return O.header&&Ae.length===0}function Z(le,Pe,Oe,we){le={type:le,code:Pe,message:Oe},we!==void 0&&(le.row=we),ce.errors.push(le)}J(O.step)&&(ee=O.step,O.step=function(le){ce=le,Q()?te():(te(),ce.data.length!==0&&($e+=le.data.length,O.preview&&$e>O.preview?V.abort():(ce.data=ce.data[0],ee(ce,ye))))}),this.parse=function(le,Pe,Oe){var we=O.quoteChar||'"',we=(O.newline||(O.newline=this.guessLineEndings(le,we)),W=!1,O.delimiter?J(O.delimiter)&&(O.delimiter=O.delimiter(le),ce.meta.delimiter=O.delimiter):((we=((xe,ot,H,ct,Ke)=>{var St,Je,Re,Lt;Ke=Ke||[",","	","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var yn=0;yn<Ke.length;yn++){for(var Qn,fr=Ke[yn],ai=0,vi=0,Dt=0,Wn=(Re=void 0,new v({comments:ct,delimiter:fr,newline:ot,preview:10}).parse(xe)),bi=0;bi<Wn.data.length;bi++)H&&X(Wn.data[bi])?Dt++:(Qn=Wn.data[bi].length,vi+=Qn,Re===void 0?Re=Qn:0<Qn&&(ai+=Math.abs(Qn-Re),Re=Qn));0<Wn.data.length&&(vi/=Wn.data.length-Dt),(Je===void 0||ai<=Je)&&(Lt===void 0||Lt<vi)&&1.99<vi&&(Je=ai,St=fr,Lt=vi)}return{successful:!!(O.delimiter=St),bestDelimiter:St}})(le,O.newline,O.skipEmptyLines,O.comments,O.delimitersToGuess)).successful?O.delimiter=we.bestDelimiter:(W=!0,O.delimiter=s.DefaultDelimiter),ce.meta.delimiter=O.delimiter),A(O));return O.preview&&O.header&&we.preview++,k=le,V=new v(we),ce=V.parse(k,Pe,Oe),te(),nt?{meta:{paused:!0}}:ce||{meta:{paused:!1}}},this.paused=function(){return nt},this.pause=function(){nt=!0,V.abort(),k=J(O.chunk)?"":k.substring(V.getCharIndex())},this.resume=function(){ye.streamer._halted?(nt=!1,ye.streamer.parseChunk(k,!0)):setTimeout(ye.resume,3)},this.aborted=function(){return Me},this.abort=function(){Me=!0,V.abort(),ce.meta.aborted=!0,J(O.complete)&&O.complete(ce),k=""},this.guessLineEndings=function(xe,we){xe=xe.substring(0,1048576);var we=new RegExp(y(we)+"([^]*?)"+y(we),"gm"),Oe=(xe=xe.replace(we,"")).split("\r"),we=xe.split(`
`),xe=1<we.length&&we[0].length<Oe[0].length;if(Oe.length===1||xe)return`
`;for(var ot=0,H=0;H<Oe.length;H++)Oe[H][0]===`
`&&ot++;return ot>=Oe.length/2?`\r
`:"\r"}}function y(O){return O.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(O){var k=(O=O||{}).delimiter,V=O.newline,W=O.comments,ee=O.step,re=O.preview,ie=O.fastMode,ke=null,Be=!1,ye=O.quoteChar==null?'"':O.quoteChar,$e=ye;if(O.escapeChar!==void 0&&($e=O.escapeChar),(typeof k!="string"||-1<s.BAD_DELIMITERS.indexOf(k))&&(k=","),W===k)throw new Error("Comment character same as delimiter");W===!0?W="#":(typeof W!="string"||-1<s.BAD_DELIMITERS.indexOf(W))&&(W=!1),V!==`
`&&V!=="\r"&&V!==`\r
`&&(V=`
`);var Te=0,nt=!1;this.parse=function(Me,Ae,ce){if(typeof Me!="string")throw new Error("Input must be a string");var X=Me.length,te=k.length,Q=V.length,Z=W.length,le=J(ee),Pe=[],Oe=[],we=[],xe=Te=0;if(!Me)return ai();if(ie||ie!==!1&&Me.indexOf(ye)===-1){for(var ot=Me.split(V),H=0;H<ot.length;H++){if(we=ot[H],Te+=we.length,H!==ot.length-1)Te+=V.length;else if(ce)return ai();if(!W||we.substring(0,Z)!==W){if(le){if(Pe=[],Lt(we.split(k)),vi(),nt)return ai()}else Lt(we.split(k));if(re&&re<=H)return Pe=Pe.slice(0,re),ai(!0)}}return ai()}for(var ct=Me.indexOf(k,Te),Ke=Me.indexOf(V,Te),St=new RegExp(y($e)+y(ye),"g"),Je=Me.indexOf(ye,Te);;)if(Me[Te]===ye)for(Je=Te,Te++;;){if((Je=Me.indexOf(ye,Je+1))===-1)return ce||Oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Pe.length,index:Te}),Qn();if(Je===X-1)return Qn(Me.substring(Te,Je).replace(St,ye));if(ye===$e&&Me[Je+1]===$e)Je++;else if(ye===$e||Je===0||Me[Je-1]!==$e){ct!==-1&&ct<Je+1&&(ct=Me.indexOf(k,Je+1));var Re=yn((Ke=Ke!==-1&&Ke<Je+1?Me.indexOf(V,Je+1):Ke)===-1?ct:Math.min(ct,Ke));if(Me.substr(Je+1+Re,te)===k){we.push(Me.substring(Te,Je).replace(St,ye)),Me[Te=Je+1+Re+te]!==ye&&(Je=Me.indexOf(ye,Te)),ct=Me.indexOf(k,Te),Ke=Me.indexOf(V,Te);break}if(Re=yn(Ke),Me.substring(Je+1+Re,Je+1+Re+Q)===V){if(we.push(Me.substring(Te,Je).replace(St,ye)),fr(Je+1+Re+Q),ct=Me.indexOf(k,Te),Je=Me.indexOf(ye,Te),le&&(vi(),nt))return ai();if(re&&Pe.length>=re)return ai(!0);break}Oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Pe.length,index:Te}),Je++}}else if(W&&we.length===0&&Me.substring(Te,Te+Z)===W){if(Ke===-1)return ai();Te=Ke+Q,Ke=Me.indexOf(V,Te),ct=Me.indexOf(k,Te)}else if(ct!==-1&&(ct<Ke||Ke===-1))we.push(Me.substring(Te,ct)),Te=ct+te,ct=Me.indexOf(k,Te);else{if(Ke===-1)break;if(we.push(Me.substring(Te,Ke)),fr(Ke+Q),le&&(vi(),nt))return ai();if(re&&Pe.length>=re)return ai(!0)}return Qn();function Lt(Dt){Pe.push(Dt),xe=Te}function yn(Dt){var Wn=0;return Wn=Dt!==-1&&(Dt=Me.substring(Je+1,Dt))&&Dt.trim()===""?Dt.length:Wn}function Qn(Dt){return ce||(Dt===void 0&&(Dt=Me.substring(Te)),we.push(Dt),Te=X,Lt(we),le&&vi()),ai()}function fr(Dt){Te=Dt,Lt(we),we=[],Ke=Me.indexOf(V,Te)}function ai(Dt){if(O.header&&!Ae&&Pe.length&&!Be){var Wn=Pe[0],bi=Object.create(null),Hr=new Set(Wn);let Bt=!1;for(let Li=0;Li<Wn.length;Li++){let xt=Wn[Li];if(bi[xt=J(O.transformHeader)?O.transformHeader(xt,Li):xt]){let wn,$i=bi[xt];for(;wn=xt+"_"+$i,$i++,Hr.has(wn););Hr.add(wn),Wn[Li]=wn,bi[xt]++,Bt=!0,(ke=ke===null?{}:ke)[wn]=xt}else bi[xt]=1,Wn[Li]=xt;Hr.add(xt)}Bt&&console.warn("Duplicate headers found and renamed."),Be=!0}return{data:Pe,errors:Oe,meta:{delimiter:k,linebreak:V,aborted:nt,truncated:!!Dt,cursor:xe+(Ae||0),renamedHeaders:ke}}}function vi(){ee(ai()),Pe=[],Oe=[]}},this.abort=function(){nt=!0},this.getCharIndex=function(){return Te}}function P(O){var k=O.data,V=a[k.workerId],W=!1;if(k.error)V.userError(k.error,k.file);else if(k.results&&k.results.data){var ee={abort:function(){W=!0,D(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:I,resume:I};if(J(V.userStep)){for(var re=0;re<k.results.data.length&&(V.userStep({data:k.results.data[re],errors:k.results.errors,meta:k.results.meta},ee),!W);re++);delete k.results}else J(V.userChunk)&&(V.userChunk(k.results,ee,k.file),delete k.results)}k.finished&&!W&&D(k.workerId,k.results)}function D(O,k){var V=a[O];J(V.userComplete)&&V.userComplete(k),V.terminate(),delete a[O]}function I(){throw new Error("Not implemented.")}function A(O){if(typeof O!="object"||O===null)return O;var k,V=Array.isArray(O)?[]:{};for(k in O)V[k]=A(O[k]);return V}function K(O,k){return function(){O.apply(k,arguments)}}function J(O){return typeof O=="function"}return s.parse=function(O,k){var V=(k=k||{}).dynamicTyping||!1;if(J(V)&&(k.dynamicTypingFunction=V,V={}),k.dynamicTyping=V,k.transform=!!J(k.transform)&&k.transform,!k.worker||!s.WORKERS_SUPPORTED)return V=null,s.NODE_STREAM_INPUT,typeof O=="string"?(O=(W=>W.charCodeAt(0)!==65279?W:W.slice(1))(O),V=new(k.download?u:g)(k)):O.readable===!0&&J(O.read)&&J(O.on)?V=new x(k):(n.File&&O instanceof File||O instanceof Object)&&(V=new f(k)),V.stream(O);(V=(()=>{var W;return!!s.WORKERS_SUPPORTED&&(W=(()=>{var ee=n.URL||n.webkitURL||null,re=e.toString();return s.BLOB_URL||(s.BLOB_URL=ee.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",re,")();"],{type:"text/javascript"})))})(),(W=new n.Worker(W)).onmessage=P,W.id=o++,a[W.id]=W)})()).userStep=k.step,V.userChunk=k.chunk,V.userComplete=k.complete,V.userError=k.error,k.step=J(k.step),k.chunk=J(k.chunk),k.complete=J(k.complete),k.error=J(k.error),delete k.worker,V.postMessage({input:O,config:k,workerId:V.id})},s.unparse=function(O,k){var V=!1,W=!0,ee=",",re=`\r
`,ie='"',ke=ie+ie,Be=!1,ye=null,$e=!1,Te=((()=>{if(typeof k=="object"){if(typeof k.delimiter!="string"||s.BAD_DELIMITERS.filter(function(Ae){return k.delimiter.indexOf(Ae)!==-1}).length||(ee=k.delimiter),typeof k.quotes!="boolean"&&typeof k.quotes!="function"&&!Array.isArray(k.quotes)||(V=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(Be=k.skipEmptyLines),typeof k.newline=="string"&&(re=k.newline),typeof k.quoteChar=="string"&&(ie=k.quoteChar),typeof k.header=="boolean"&&(W=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");ye=k.columns}k.escapeChar!==void 0&&(ke=k.escapeChar+ie),k.escapeFormulae instanceof RegExp?$e=k.escapeFormulae:typeof k.escapeFormulae=="boolean"&&k.escapeFormulae&&($e=/^[=+\-@\t\r].*$/)}})(),new RegExp(y(ie),"g"));if(typeof O=="string"&&(O=JSON.parse(O)),Array.isArray(O)){if(!O.length||Array.isArray(O[0]))return nt(null,O,Be);if(typeof O[0]=="object")return nt(ye||Object.keys(O[0]),O,Be)}else if(typeof O=="object")return typeof O.data=="string"&&(O.data=JSON.parse(O.data)),Array.isArray(O.data)&&(O.fields||(O.fields=O.meta&&O.meta.fields||ye),O.fields||(O.fields=Array.isArray(O.data[0])?O.fields:typeof O.data[0]=="object"?Object.keys(O.data[0]):[]),Array.isArray(O.data[0])||typeof O.data[0]=="object"||(O.data=[O.data])),nt(O.fields||[],O.data||[],Be);throw new Error("Unable to serialize unrecognized input");function nt(Ae,ce,X){var te="",Q=(typeof Ae=="string"&&(Ae=JSON.parse(Ae)),typeof ce=="string"&&(ce=JSON.parse(ce)),Array.isArray(Ae)&&0<Ae.length),Z=!Array.isArray(ce[0]);if(Q&&W){for(var le=0;le<Ae.length;le++)0<le&&(te+=ee),te+=Me(Ae[le],le);0<ce.length&&(te+=re)}for(var Pe=0;Pe<ce.length;Pe++){var Oe=(Q?Ae:ce[Pe]).length,we=!1,xe=Q?Object.keys(ce[Pe]).length===0:ce[Pe].length===0;if(X&&!Q&&(we=X==="greedy"?ce[Pe].join("").trim()==="":ce[Pe].length===1&&ce[Pe][0].length===0),X==="greedy"&&Q){for(var ot=[],H=0;H<Oe;H++){var ct=Z?Ae[H]:H;ot.push(ce[Pe][ct])}we=ot.join("").trim()===""}if(!we){for(var Ke=0;Ke<Oe;Ke++){0<Ke&&!xe&&(te+=ee);var St=Q&&Z?Ae[Ke]:Ke;te+=Me(ce[Pe][St],Ke)}Pe<ce.length-1&&(!X||0<Oe&&!xe)&&(te+=re)}}return te}function Me(Ae,ce){var X,te;return Ae==null?"":Ae.constructor===Date?JSON.stringify(Ae).slice(1,25):(te=!1,$e&&typeof Ae=="string"&&$e.test(Ae)&&(Ae="'"+Ae,te=!0),X=Ae.toString().replace(Te,ke),(te=te||V===!0||typeof V=="function"&&V(Ae,ce)||Array.isArray(V)&&V[ce]||((Q,Z)=>{for(var le=0;le<Z.length;le++)if(-1<Q.indexOf(Z[le]))return!0;return!1})(X,s.BAD_DELIMITERS)||-1<X.indexOf(ee)||X.charAt(0)===" "||X.charAt(X.length-1)===" ")?ie+X+ie:X)}},s.RECORD_SEP="",s.UNIT_SEP="",s.BYTE_ORDER_MARK="\uFEFF",s.BAD_DELIMITERS=["\r",`
`,'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!t&&!!n.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=v,s.ParserHandle=C,s.NetworkStreamer=u,s.FileStreamer=f,s.StringStreamer=g,s.ReadableStreamStreamer=x,n.jQuery&&((r=n.jQuery).fn.parse=function(O){var k=O.config||{},V=[];return this.each(function(re){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var ie=0;ie<this.files.length;ie++)V.push({file:this.files[ie],inputElem:this,instanceConfig:r.extend({},k)})}),W(),this;function W(){if(V.length===0)J(O.complete)&&O.complete();else{var re,ie,ke,Be,ye=V[0];if(J(O.before)){var $e=O.before(ye.file,ye.inputElem);if(typeof $e=="object"){if($e.action==="abort")return re="AbortError",ie=ye.file,ke=ye.inputElem,Be=$e.reason,void(J(O.error)&&O.error({name:re},ie,ke,Be));if($e.action==="skip")return void ee();typeof $e.config=="object"&&(ye.instanceConfig=r.extend(ye.instanceConfig,$e.config))}else if($e==="skip")return void ee()}var Te=ye.instanceConfig.complete;ye.instanceConfig.complete=function(nt){J(Te)&&Te(nt,ye.file,ye.inputElem),ee()},s.parse(ye.file,ye.instanceConfig)}}function ee(){V.splice(0,1),W()}}),i&&(n.onmessage=function(O){O=O.data,s.WORKER_ID===void 0&&O&&(s.WORKER_ID=O.workerId),typeof O.input=="string"?n.postMessage({workerId:s.WORKER_ID,results:s.parse(O.input,O.config),finished:!0}):(n.File&&O.input instanceof File||O.input instanceof Object)&&(O=s.parse(O.input,O.config))&&n.postMessage({workerId:s.WORKER_ID,results:O,finished:!0})}),(u.prototype=Object.create(m.prototype)).constructor=u,(f.prototype=Object.create(m.prototype)).constructor=f,(g.prototype=Object.create(g.prototype)).constructor=g,(x.prototype=Object.create(m.prototype)).constructor=x,s})});var mo=Pt("[Budgets] Load Budgets",Et()),ou=Pt("[Budgets] Load Budgets Success",Et()),su=Pt("[Budgets] Load Budgets Failure",Et()),pl=Pt("[Budgets] Create Budget",Et()),cu=Pt("[Budgets] Create Budget Success",Et()),lu=Pt("[Budgets] Create Budget Failure",Et()),du=Pt("[Budgets] Update Budget",Et()),mu=Pt("[Budgets] Update Budget Success",Et()),uu=Pt("[Budgets] Update Budget Failure",Et()),fl=Pt("[Budgets] Delete Budget",Et()),pu=Pt("[Budgets] Delete Budget Success",Et()),fu=Pt("[Budgets] Delete Budget Failure",Et()),hl=Pt("[Budgets] Update Spent",Et()),hu=Pt("[Budgets] Update Spent Success",Et()),gu=Pt("[Budgets] Update Spent Failure",Et());var uo=Pt("[Goals] Load Goals",Et()),_u=Pt("[Goals] Load Goals Success",Et()),xu=Pt("[Goals] Load Goals Failure",Et()),gl=Pt("[Goals] Create Goal",Et()),vu=Pt("[Goals] Create Goal Success",Et()),bu=Pt("[Goals] Create Goal Failure",Et()),Cu=Pt("[Goals] Update Goal",Et()),yu=Pt("[Goals] Update Goal Success",Et()),wu=Pt("[Goals] Update Goal Failure",Et()),_l=Pt("[Goals] Delete Goal",Et()),Mu=Pt("[Goals] Delete Goal Success",Et()),Su=Pt("[Goals] Delete Goal Failure",Et()),xl=Pt("[Goals] Update Current Amount",Et()),Pu=Pt("[Goals] Update Current Amount Success",Et()),ku=Pt("[Goals] Update Current Amount Failure",Et());var po=Pt("[Profile] Load Profile",Et()),Ou=Pt("[Profile] Load Profile Success",Et()),Tu=Pt("[Profile] Load Profile Failure",Et()),vl=Pt("[Profile] Update Profile",Et()),Eu=Pt("[Profile] Update Profile Success",Et()),Du=Pt("[Profile] Update Profile Failure",Et()),Iu=Pt("[Profile] Create Profile",Et()),Au=Pt("[Profile] Create Profile Success",Et()),Fu=Pt("[Profile] Create Profile Failure",Et()),Ru=Pt("[Profile] Delete Profile",Et()),Nu=Pt("[Profile] Delete Profile Success"),Lu=Pt("[Profile] Delete Profile Failure",Et()),Bu=Pt("[Profile] Update Preferences",Et()),Vu=Pt("[Profile] Update Preferences Success",Et()),ju=Pt("[Profile] Update Preferences Failure",Et());var ei=function(e){return e.LOGIN_ATTEMPT="LOGIN_ATTEMPT",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.LOGIN_FAILED="LOGIN_FAILED",e.LOGOUT="LOGOUT",e.PASSWORD_CHANGE="PASSWORD_CHANGE",e.PASSWORD_RESET="PASSWORD_RESET",e.SUSPICIOUS_ACTIVITY="SUSPICIOUS_ACTIVITY",e.RATE_LIMIT_EXCEEDED="RATE_LIMIT_EXCEEDED",e.UNAUTHORIZED_ACCESS="UNAUTHORIZED_ACCESS",e.SESSION_EXPIRED="SESSION_EXPIRED",e.ACCOUNT_LOCKED="ACCOUNT_LOCKED",e.ACCOUNT_UNLOCKED="ACCOUNT_UNLOCKED",e.FORCE_LOGOUT="FORCE_LOGOUT",e.SECURITY_ALERT="SECURITY_ALERT",e}(ei||{}),ti=function(e){return e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical",e}(ti||{}),zb=(()=>{let n=class n{constructor(t,i,a){this.router=t,this.userService=i,this.notificationService=a,this.securityEvents=new ln([]),this.securityStatus=new ln(null),this.securityConfig={SESSION_TIMEOUT:30*60*1e3,MAX_LOGIN_ATTEMPTS:5,LOCKOUT_DURATION:15*60*1e3,PASSWORD_MIN_LENGTH:8,REQUIRE_EMAIL_VERIFICATION:!0,ENABLE_TWO_FACTOR:!1,ENABLE_RATE_LIMITING:!0,ENABLE_AUDIT_LOGGING:!0,ENABLE_SECURITY_HEADERS:!0,ALLOWED_ORIGINS:["localhost","127.0.0.1","yourdomain.com"],BLOCKED_IPS:[]},this.securityEvents$=this.securityEvents.asObservable(),this.securityStatus$=this.securityStatus.asObservable(),this.initializeSecurityMonitoring()}initializeSecurityMonitoring(){this.userService.userAuth$.subscribe(t=>{this.updateSecurityStatus()}),setInterval(()=>{},6e4),this.monitorSuspiciousActivity()}logSecurityEvent(t,i,a={},o){let s={id:this.generateEventId(),type:t,level:i,userId:o,timestamp:new Date,details:a,userAgent:navigator.userAgent,ipAddress:this.getClientIP(),location:window.location.href,resolved:!1},m=this.securityEvents.value;m.push(s),m.length>1e3&&m.shift(),this.securityEvents.next(m),i===ti.CRITICAL&&this.handleCriticalSecurityEvent(s),console.log("Security Event:",s)}handleCriticalSecurityEvent(t){switch(t.type){case ei.SUSPICIOUS_ACTIVITY:this.notificationService.error("Suspicious activity detected. Please review your account.");break;case ei.UNAUTHORIZED_ACCESS:this.forceLogout("Unauthorized access detected");break;case ei.ACCOUNT_LOCKED:this.notificationService.warning("Account locked due to multiple failed login attempts.");break;case ei.SECURITY_ALERT:this.notificationService.error("Security alert: Please review your account immediately.");break}}updateSecurityStatus(){let t=this.userService.userAuth$.value,i=this.userService.getSecurityStatus(),a={isAuthenticated:!!t,sessionActive:(i==null?void 0:i.sessionActive)||!1,sessionAge:(i==null?void 0:i.sessionAge)||0,loginAttempts:(i==null?void 0:i.loginAttempts)||0,isAccountLocked:(i==null?void 0:i.isLocked)||!1,isEmailVerified:(i==null?void 0:i.isEmailVerified)||!1,twoFactorEnabled:!1,lastLoginTime:i!=null&&i.lastLogin?new Date(i.lastLogin):void 0,securityLevel:this.calculateSecurityLevel(i),recentSecurityEvents:this.getRecentSecurityEvents()};this.securityStatus.next(a)}calculateSecurityLevel(t){if(!t)return ti.LOW;let i=0;return t.isEmailVerified&&(i+=2),t.isLocked||(i+=1),t.loginAttempts<2&&(i+=1),t.sessionActive&&(i+=1),i>=4?ti.HIGH:i>=2?ti.MEDIUM:ti.LOW}getRecentSecurityEvents(){let t=this.securityEvents.value,i=new Date(Date.now()-60*60*1e3);return t.filter(a=>a.timestamp>i)}performSecurityChecks(){let t=this.userService.userAuth$.value;if(!t)return;let i=this.userService.getSecurityStatus();i&&!i.sessionActive&&(this.logSecurityEvent(ei.SESSION_EXPIRED,ti.HIGH,{userId:t.uid},t.uid),this.forceLogout("Session expired")),this.detectSuspiciousActivityPatterns()}detectSuspiciousActivityPatterns(){let t=this.getRecentSecurityEvents(),i=this.userService.userAuth$.value;if(!i)return;let a=t.filter(s=>s.type===ei.LOGIN_FAILED&&s.userId===i.uid);a.length>=3&&this.logSecurityEvent(ei.SUSPICIOUS_ACTIVITY,ti.HIGH,{reason:"multiple_failed_logins",count:a.length},i.uid);let o=t.filter(s=>s.timestamp>new Date(Date.now()-5*60*1e3));o.length>10&&this.logSecurityEvent(ei.SUSPICIOUS_ACTIVITY,ti.MEDIUM,{reason:"rapid_activity",count:o.length})}monitorSuspiciousActivity(){let t=0,i=Date.now();this.router.events.subscribe(()=>{let a=Date.now();a-i<1e3?(t++,t>10&&this.logSecurityEvent(ei.SUSPICIOUS_ACTIVITY,ti.MEDIUM,{reason:"rapid_navigation",count:t})):t=0,i=a})}forceLogout(t){this.logSecurityEvent(ei.FORCE_LOGOUT,ti.CRITICAL,{reason:t}),this.userService.forceLogout(t)}validateSecurityConfig(){let t=[];return this.securityConfig.PASSWORD_MIN_LENGTH<8&&t.push("Password minimum length should be at least 8 characters"),this.securityConfig.SESSION_TIMEOUT<5*60*1e3&&t.push("Session timeout should be at least 5 minutes"),this.securityConfig.MAX_LOGIN_ATTEMPTS<3&&t.push("Maximum login attempts should be at least 3"),t.length>0?(console.warn("Security configuration issues:",t),!1):!0}getSecurityConfig(){return oe({},this.securityConfig)}updateSecurityConfig(t){Object.assign(this.securityConfig,t),this.logSecurityEvent(ei.SECURITY_ALERT,ti.MEDIUM,{reason:"config_updated",updates:t})}getSecurityEventsByType(t){return this.securityEvents.value.filter(i=>i.type===t)}getSecurityEventsByLevel(t){return this.securityEvents.value.filter(i=>i.level===t)}resolveSecurityEvent(t){let i=this.securityEvents.value,a=i.findIndex(o=>o.id===t);a!==-1&&(i[a].resolved=!0,this.securityEvents.next(i))}clearResolvedEvents(){let t=this.securityEvents.value.filter(i=>!i.resolved);this.securityEvents.next(t)}generateEventId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getClientIP(){return"client-side"}isOriginAllowed(t){return this.securityConfig.ALLOWED_ORIGINS.some(i=>t.includes(i))}isIPBlocked(t){return this.securityConfig.BLOCKED_IPS.includes(t)}blockIP(t,i){this.securityConfig.BLOCKED_IPS.includes(t)||(this.securityConfig.BLOCKED_IPS.push(t),this.logSecurityEvent(ei.SECURITY_ALERT,ti.HIGH,{reason:i,ip:t}))}unblockIP(t){let i=this.securityConfig.BLOCKED_IPS.indexOf(t);i!==-1&&(this.securityConfig.BLOCKED_IPS.splice(i,1),this.logSecurityEvent(ei.SECURITY_ALERT,ti.MEDIUM,{reason:"ip_unblocked",ip:t}))}};n.\u0275fac=function(i){return new(i||n)(Ie(hn),Ie(Bi),Ie(vt))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var rE=(e,n,r,t)=>({"bg-red-500":e,"bg-yellow-500":n,"bg-blue-500":r,"bg-green-500":t});function aE(e,n){if(e&1&&(c(0,"p",41),d(1),l()),e&2){let r=w(2);h(),ae(" Time remaining: ",r.getLockoutTimeRemaining()," minutes ")}}function oE(e,n){if(e&1&&(c(0,"div",36)(1,"div",37),Kn(),c(2,"svg",38),se(3,"path",39),l(),jr(),c(4,"span",40),d(5,"Account Temporarily Locked"),l()(),c(6,"p",41),d(7,"Too many failed login attempts. Please try again later."),l(),U(8,aE,2,1,"p",42),l()),e&2){let r=w();h(8),M("ngIf",r.lockoutTimeRemaining>0)}}function sE(e,n){if(e&1&&(c(0,"div",43)(1,"div",37),Kn(),c(2,"svg",38),se(3,"path",44),l(),jr(),c(4,"span",40),d(5,"Login Attempts"),l()(),c(6,"p",41),d(7),l()()),e&2){let r=w();h(7),_n(" Failed attempts: ",r.loginAttempts," / ",r.maxLoginAttempts," ")}}function cE(e,n){e&1&&(c(0,"span"),d(1),_e(2,"translate"),l()),e&2&&(h(),G(Ne(2,1,"emailRequired")))}function lE(e,n){e&1&&(c(0,"span"),d(1,"Please enter a valid email address"),l())}function dE(e,n){e&1&&(c(0,"span"),d(1,"Disposable email addresses are not allowed"),l())}function mE(e,n){if(e&1&&(c(0,"div",45),U(1,cE,3,3,"span",28)(2,lE,2,0,"span",28)(3,dE,2,0,"span",28),l()),e&2){let r,t,i,a=w();h(),M("ngIf",(r=a.signInForm.get("email"))==null||r.errors==null?null:r.errors.required),h(),M("ngIf",(t=a.signInForm.get("email"))==null||t.errors==null?null:t.errors.email),h(),M("ngIf",(i=a.signInForm.get("email"))==null||i.errors==null?null:i.errors.disposableEmail)}}function uE(e,n){e&1&&(c(0,"span"),d(1,"Full name is required"),l())}function pE(e,n){e&1&&(c(0,"span"),d(1,"Name must be at least 2 characters long"),l())}function fE(e,n){if(e&1&&(c(0,"div",45),U(1,uE,2,0,"span",28)(2,pE,2,0,"span",28),l()),e&2){let r,t,i=w(2);h(),M("ngIf",(r=i.signInForm.get("name"))==null||r.errors==null?null:r.errors.required),h(),M("ngIf",(t=i.signInForm.get("name"))==null||t.errors==null?null:t.errors.minLength)}}function hE(e,n){if(e&1&&(c(0,"div",11)(1,"label",46),d(2,"Full Name"),l(),se(3,"input",47),U(4,fE,3,2,"div",14),l()),e&2){let r,t=w();h(3),Kt("data-security-level",t.securityLevel),h(),M("ngIf",((r=t.signInForm.get("name"))==null?null:r.invalid)&&((r=t.signInForm.get("name"))==null?null:r.touched))}}function gE(e,n){e&1&&(c(0,"a",48),d(1,"Forget Password?"),l())}function _E(e,n){e&1&&(Kn(),c(0,"svg",49),se(1,"path",50)(2,"path",51),l())}function xE(e,n){e&1&&(Kn(),c(0,"svg",49),se(1,"path",52),l())}function vE(e,n){e&1&&(c(0,"span"),d(1,"Password must be at least 8 characters with uppercase, lowercase, number, and special character"),l())}function bE(e,n){if(e&1&&(c(0,"div",53)(1,"div",54)(2,"span"),d(3,"Password strength:"),l(),c(4,"span"),d(5),l()(),c(6,"div",55),se(7,"div",56),l(),c(8,"div",57),U(9,vE,2,0,"span",28),l()()),e&2){let r=w();h(4),Ct(r.getPasswordStrengthColor()),h(),G(r.getPasswordStrengthText()),h(2),Vt("width",r.passwordStrength/4*100,"%"),M("ngClass",Rx(7,rE,r.passwordStrength<=1,r.passwordStrength===2,r.passwordStrength===3,r.passwordStrength>=4)),h(2),M("ngIf",r.passwordStrength<3)}}function CE(e,n){e&1&&(c(0,"span"),d(1),_e(2,"translate"),l()),e&2&&(h(),G(Ne(2,1,"passwordRequired")))}function yE(e,n){e&1&&(c(0,"span"),d(1,"Password must be at least 8 characters long"),l())}function wE(e,n){e&1&&(c(0,"span"),d(1,"Password must contain uppercase, lowercase, number, and special character"),l())}function ME(e,n){if(e&1&&(c(0,"div",45),U(1,CE,3,3,"span",28)(2,yE,2,0,"span",28)(3,wE,2,0,"span",28),l()),e&2){let r,t,i,a=w();h(),M("ngIf",(r=a.signInForm.get("password"))==null||r.errors==null?null:r.errors.required),h(),M("ngIf",(t=a.signInForm.get("password"))==null||t.errors==null?null:t.errors.minLength),h(),M("ngIf",(i=a.signInForm.get("password"))==null||i.errors==null?null:i.errors.passwordStrength)}}function SE(e,n){e&1&&(Kn(),c(0,"svg",49),se(1,"path",50)(2,"path",51),l())}function PE(e,n){e&1&&(Kn(),c(0,"svg",49),se(1,"path",52),l())}function kE(e,n){e&1&&(c(0,"span"),d(1),_e(2,"translate"),l()),e&2&&(h(),ae("",Ne(2,1,"confirmPassword")," is required"))}function OE(e,n){e&1&&(c(0,"span"),d(1,"Passwords do not match"),l())}function TE(e,n){if(e&1&&(c(0,"div",45),U(1,kE,3,3,"span",28)(2,OE,2,0,"span",28),l()),e&2){let r,t,i=w(2);h(),M("ngIf",(r=i.signInForm.get("confirmPassword"))==null||r.errors==null?null:r.errors.required),h(),M("ngIf",(t=i.signInForm.get("confirmPassword"))==null||t.errors==null?null:t.errors.notMatch)}}function EE(e,n){if(e&1){let r=ue();c(0,"div",11)(1,"label",58),d(2),_e(3,"translate"),l(),c(4,"div",19),se(5,"input",59),c(6,"button",21),F("click",function(){N(r);let i=w();return L(i.toggleConfirmPasswordVisibility())}),U(7,SE,3,0,"svg",22)(8,PE,2,0,"svg",22),l()(),U(9,TE,3,2,"div",14),l()}if(e&2){let r,t=w();h(2),G(Ne(3,6,"confirmPassword")),h(3),M("type",t.showConfirmPassword?"text":"password"),Kt("data-security-level",t.securityLevel),h(2),M("ngIf",!t.showConfirmPassword),h(),M("ngIf",t.showConfirmPassword),h(),M("ngIf",((r=t.signInForm.get("confirmPassword"))==null?null:r.invalid)&&((r=t.signInForm.get("confirmPassword"))==null?null:r.touched))}}function DE(e,n){e&1&&se(0,"mat-spinner",60)}function IE(e,n){if(e&1&&(c(0,"span"),d(1),_e(2,"translate"),_e(3,"translate"),l()),e&2){let r=w();h(),G(r.isSignInPage?Ne(2,1,"signIn"):Ne(3,3,"signUp"))}}function AE(e,n){if(e&1&&(c(0,"span"),d(1),l()),e&2){let r=w();h(),G(r.isSignInPage?"Signing in...":"Creating account...")}}function FE(e,n){e&1&&(Kn(),c(0,"svg",61),se(1,"path",62)(2,"path",63)(3,"path",64)(4,"path",65),l())}function RE(e,n){e&1&&se(0,"mat-spinner",66)}function NE(e,n){e&1&&(c(0,"div",67)(1,"div",37),Kn(),c(2,"svg",68),se(3,"path",69)(4,"path",70),l(),jr(),c(5,"span",71),d(6,"Security"),l()(),c(7,"p",72),d(8," Enterprise-grade encryption and secure authentication protect your data. "),l()())}var gh=(()=>{let n=class n{constructor(t,i,a,o,s,m,u,f){this.fb=t,this.router=i,this.route=a,this.userService=o,this.notificationService=s,this.securityService=m,this.validationService=u,this.store=f,this.isSignInPage=!0,this.isLoading=!1,this.isAccountLocked=!1,this.lockoutTimeRemaining=0,this.loginAttempts=0,this.maxLoginAttempts=5,this.showPassword=!1,this.showConfirmPassword=!1,this.passwordStrength=0,this.securityLevel="moderate",this.showSecurityNotice=!1,this.destroy$=new _t,this.loginAttemptCount=0,this.lastLoginAttempt=0,this.rateLimitWindow=6e4,this.maxAttemptsPerWindow=3,this.initializeForm(),this._setIsSignInPage(this.router.url.includes("/sign-in")),this.checkQueryParams()}ngOnInit(){this.setupFormValidation(),this.checkSecurityStatus(),this.startSecurityMonitoring(),setTimeout(()=>{this.showSecurityNotice=!0},100)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.signInForm=this.fb.group({email:["",[...this.validationService.getProfileEmailValidators(),this.emailDomainValidator.bind(this)]],password:["",[...this.validationService.getAuthPasswordValidators(),this.passwordStrengthValidator.bind(this)]]})}setupFormValidation(){var t,i;(t=this.signInForm.get("password"))==null||t.valueChanges.pipe(yt(this.destroy$),Eo(300),Fc()).subscribe(a=>{this.passwordStrength=this.calculatePasswordStrength(a)}),(i=this.signInForm.get("email"))==null||i.valueChanges.pipe(yt(this.destroy$),Eo(500),Fc()).subscribe(a=>{this.monitorEmailInput(a)})}checkQueryParams(){this.route.queryParams.subscribe(t=>{t.error&&this.handleSecurityError(t.error,t.message),t.session==="expired"&&this.notificationService.warning("Your session has expired. Please sign in again."),t.cacheUpdate==="true"&&this.notificationService.info("Application updated. Please sign in again.")})}checkSecurityStatus(){let t=this.userService.getSecurityStatus();t&&(this.isAccountLocked=t.isLocked,this.loginAttempts=t.loginAttempts,this.maxLoginAttempts=t.remainingAttempts+t.loginAttempts,this.isAccountLocked&&this.calculateLockoutTime())}startSecurityMonitoring(){setInterval(()=>{this.checkSecurityStatus()},1e4)}onSignIn(){return me(this,null,function*(){var a,o;if(!this.signInForm.valid){this.notificationService.error("Please fill all required fields correctly"),this.markFormGroupTouched();return}if(this.isRateLimited()){this.notificationService.error("Too many login attempts. Please wait before trying again.");return}if(this.isAccountLocked){this.notificationService.error(`Account is temporarily locked. Please try again in ${Math.ceil(this.lockoutTimeRemaining/6e4)} minutes.`);return}let t=(a=this.signInForm.get("email"))==null?void 0:a.value,i=(o=this.signInForm.get("password"))==null?void 0:o.value;this.securityService.logSecurityEvent(ei.LOGIN_ATTEMPT,ti.MEDIUM,{email:t,timestamp:new Date().toISOString()});try{this.isLoading=!0,this.loginAttemptCount++,this.lastLoginAttempt=Date.now(),yield this.userService.signIn(t,i),this.securityService.logSecurityEvent(ei.LOGIN_SUCCESS,ti.LOW,{email:t,timestamp:new Date().toISOString()}),this.notificationService.success("Successfully signed in!"),yield this.loadUserData(),this.router.navigate(["/dashboard"])}catch(s){this.handleSignInError(s,t)}finally{this.isLoading=!1}})}onSignUp(){return me(this,null,function*(){var o,s,m,u,f,g;if(!this.signInForm.valid){this.notificationService.error("Please fill all required fields correctly"),this.markFormGroupTouched();return}if(this.passwordStrength<3){this.notificationService.error("Password is too weak. Please choose a stronger password.");return}if(((o=this.signInForm.get("password"))==null?void 0:o.value)!==((s=this.signInForm.get("confirmPassword"))==null?void 0:s.value)){this.notificationService.error("Passwords do not match"),(m=this.signInForm.get("confirmPassword"))==null||m.setErrors({notMatch:!0});return}let t=(u=this.signInForm.get("email"))==null?void 0:u.value,i=(f=this.signInForm.get("password"))==null?void 0:f.value,a=((g=this.signInForm.get("name"))==null?void 0:g.value)||"User";this.securityService.logSecurityEvent(ei.SECURITY_ALERT,ti.MEDIUM,{type:"registration_attempt",email:t,timestamp:new Date().toISOString()});try{this.isLoading=!0,yield this.userService.signUp(t,i,a),this.securityService.logSecurityEvent(ei.SECURITY_ALERT,ti.LOW,{type:"registration_success",email:t,timestamp:new Date().toISOString()}),this.notificationService.success("Account created successfully! Please check your email for verification."),this._setIsSignInPage(!0)}catch(x){this.handleSignUpError(x,t)}finally{this.isLoading=!1}})}signInWithGoogle(){return me(this,null,function*(){if(this.isRateLimited()){this.notificationService.error("Too many sign-in attempts. Please wait before trying again.");return}try{this.isLoading=!0,this.securityService.logSecurityEvent(ei.LOGIN_ATTEMPT,ti.MEDIUM,{method:"google",timestamp:new Date().toISOString()}),yield this.userService.signInWithGoogle(),this.securityService.logSecurityEvent(ei.LOGIN_SUCCESS,ti.LOW,{method:"google",timestamp:new Date().toISOString()}),this.notificationService.success("Successfully signed in with Google!"),yield this.loadUserData(),this.router.navigate(["/dashboard"])}catch(t){this.handleGoogleSignInError(t)}finally{this.isLoading=!1}})}loadUserData(){return me(this,null,function*(){try{let t=this.userService.userAuth$.value;if(!(t!=null&&t.uid)){console.warn("No user ID available for loading data");return}yield Promise.all([this.store.dispatch(Gi({userId:t.uid})),this.store.dispatch(zr({userId:t.uid})),this.store.dispatch(Qr({userId:t.uid})),this.store.dispatch(mo({userId:t.uid})),this.store.dispatch(uo({userId:t.uid})),this.store.dispatch(po({userId:t.uid}))])}catch(t){console.error("Error loading user data:",t)}})}handleSignInError(t,i){switch(console.error("Sign-in error:",t),this.securityService.logSecurityEvent(ei.LOGIN_FAILED,ti.HIGH,{email:i,error:t.message||"Unknown error",timestamp:new Date().toISOString()}),t.code){case"auth/user-not-found":this.notificationService.error("No account found with this email address.");break;case"auth/wrong-password":this.notificationService.error("Incorrect password. Please try again.");break;case"auth/too-many-requests":this.notificationService.error("Too many failed attempts. Please try again later."),this.isAccountLocked=!0;break;case"auth/user-disabled":this.notificationService.error("This account has been disabled. Please contact support.");break;case"auth/invalid-email":this.notificationService.error("Invalid email address format.");break;default:this.notificationService.error(t.message||"Sign-in failed. Please try again.")}}handleSignUpError(t,i){switch(console.error("Sign-up error:",t),this.securityService.logSecurityEvent(ei.SECURITY_ALERT,ti.HIGH,{type:"registration_failed",email:i,error:t.message||"Unknown error",timestamp:new Date().toISOString()}),t.code){case"auth/email-already-in-use":this.notificationService.error("An account with this email already exists.");break;case"auth/weak-password":this.notificationService.error("Password is too weak. Please choose a stronger password.");break;case"auth/invalid-email":this.notificationService.error("Invalid email address format.");break;default:this.notificationService.error(t.message||"Registration failed. Please try again.")}}handleGoogleSignInError(t){console.error("Google sign-in error:",t),this.securityService.logSecurityEvent(ei.LOGIN_FAILED,ti.MEDIUM,{method:"google",error:t.message||"Unknown error",timestamp:new Date().toISOString()}),t.code==="auth/popup-closed-by-user"?this.notificationService.error("Sign-in was cancelled. Please try again."):t.code==="auth/popup-blocked"?this.notificationService.error("Popup was blocked. Please allow popups for this site and try again."):t.code==="auth/cancelled-popup-request"?this.notificationService.error("Sign-in request was cancelled. Please try again."):this.notificationService.error("Google sign-in failed. Please try again or use email sign-in.")}handleSecurityError(t,i){switch(t){case"unauthorized":this.notificationService.error("Session expired. Please sign in again.");break;case"insufficient_permissions":this.notificationService.error("You do not have permission to access that page.");break;case"security_error":this.notificationService.error(i||"A security error occurred.");break;case"auth_failed":this.notificationService.error("Authentication failed. Please try again.");break;default:this.notificationService.error("An error occurred. Please try again.")}}isRateLimited(){let i=Date.now()-this.lastLoginAttempt;return i<this.rateLimitWindow&&this.loginAttemptCount>=this.maxAttemptsPerWindow?!0:(i>=this.rateLimitWindow&&(this.loginAttemptCount=0),!1)}calculateLockoutTime(){let t=this.userService.getSecurityStatus();if(t&&t.lockoutTime){let i=Date.now();this.lockoutTimeRemaining=Math.max(0,t.lockoutTime-i)}}calculatePasswordStrength(t){if(!t)return 0;let i=0;return t.length>=8&&i++,/[a-z]/.test(t)&&i++,/[A-Z]/.test(t)&&i++,/[0-9]/.test(t)&&i++,/[^A-Za-z0-9]/.test(t)&&i++,Math.min(i,4)}monitorEmailInput(t){if(!t)return;[/test/i,/admin/i,/root/i,/temp/i,/fake/i].some(a=>a.test(t))&&this.securityService.logSecurityEvent(ei.SUSPICIOUS_ACTIVITY,ti.MEDIUM,{type:"suspicious_email",email:t,timestamp:new Date().toISOString()})}emailDomainValidator(t){if(!t.value)return null;let i=t.value.toLowerCase(),a=["tempmail.org","10minutemail.com","guerrillamail.com","mailinator.com","throwaway.email","temp-mail.org"],o=i.split("@")[1];return a.includes(o)?{disposableEmail:!0}:null}passwordStrengthValidator(t){if(!t.value)return null;let i=t.value,a=8,o=/[A-Z]/.test(i),s=/[a-z]/.test(i),m=/\d/.test(i),u=/[!@#$%^&*(),.?":{}|<>]/.test(i);return i.length<a?{minLength:{requiredLength:a,actualLength:i.length}}:!o||!s||!m||!u?{passwordStrength:!0}:null}markFormGroupTouched(){Object.keys(this.signInForm.controls).forEach(t=>{let i=this.signInForm.get(t);i==null||i.markAsTouched()})}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}getPasswordStrengthText(){switch(this.passwordStrength){case 0:return"Very Weak";case 1:return"Weak";case 2:return"Fair";case 3:return"Good";case 4:return"Strong";default:return"Very Weak"}}getPasswordStrengthColor(){switch(this.passwordStrength){case 0:return"text-red-500";case 1:return"text-orange-500";case 2:return"text-yellow-500";case 3:return"text-blue-500";case 4:return"text-green-500";default:return"text-red-500"}}getLockoutTimeRemaining(){return Math.ceil(this.lockoutTimeRemaining/6e4)}gotoPage(){this._setIsSignInPage(!this.isSignInPage)}_setIsSignInPage(t){this.isSignInPage=t,this.isSignInPage?(this.signInForm.removeControl("confirmPassword"),this.signInForm.removeControl("name")):(this.signInForm.addControl("confirmPassword",this.fb.control("",[wt.required])),this.signInForm.addControl("name",this.fb.control("",[wt.required,wt.minLength(2)])))}};n.\u0275fac=function(i){return new(i||n)(T(Pr),T(hn),T(Hx),T(Bi),T(vt),T(zb),T(Ta),T(Ft))},n.\u0275cmp=Se({type:n,selectors:[["app-sign-in"]],decls:54,vars:39,consts:[[1,"flex","items-center","h-screen","bg-blue-100"],[1,"flex","w-full","max-w-sm","mx-auto","bg-white","rounded-lg","shadow-lg","dark:bg-gray-800","lg:max-w-4xl","h-screen","overflow-auto","lg:max-h-[43rem]"],[1,"hidden","bg-cover","lg:flex","lg:w-1/2","items-center","bg-blue-50"],[1,"bg"],[1,"w-full","px-6","py-8","md:px-8","lg:w-1/2","overflow-auto"],[1,"flex","justify-center","mx-auto"],["src","assets/images/logo.svg","alt","Logo","loading","eager",1,"w-auto","h-20"],[1,"mt-3","text-xl","text-center","text-gray-600","dark:text-gray-200"],["class","mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",4,"ngIf"],["class","mt-4 p-3 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded-lg",4,"ngIf"],["appSecurity","moderate",1,"form-container",3,"formGroup"],[1,"mt-4"],["for","LoggingEmailAddress",1,"block","mb-2","text-sm","font-medium","text-gray-600","dark:text-gray-200"],["id","LoggingEmailAddress","formControlName","email","type","email","autocomplete","email",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","rounded-lg","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring","focus:ring-blue-300"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"flex","justify-between"],["for","loggingPassword",1,"block","mb-2","text-sm","font-medium","text-gray-600","dark:text-gray-200"],["class","text-xs text-gray-500 dark:text-gray-300 hover:underline",4,"ngIf"],[1,"relative"],["id","loggingPassword","formControlName","password","autocomplete","current-password",1,"block","w-full","px-4","py-2","pr-10","text-gray-700","bg-white","border","rounded-lg","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring","focus:ring-blue-300",3,"type"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-gray-400","hover:text-gray-600",3,"click"],["class","w-5 h-5","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"mt-6"],[1,"w-full","px-6","py-3","text-sm","font-medium","tracking-wide","text-white","capitalize","transition-colors","duration-300","transform","bg-primary","rounded-lg","hover:bg-primary800","focus:outline-none","focus:ring","focus:ring-gray-300","focus:ring-opacity-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"flex","items-center","justify-center"],["diameter","20","class","mr-2",4,"ngIf"],[4,"ngIf"],["type","button",1,"w-full","px-6","mt-4","py-3","text-sm","font-medium","tracking-wide","text-gray-600","capitalize","transition-colors","duration-300","transform","border","border-gray-300","rounded-lg","hover:bg-gray-50","dark:border-gray-600","dark:text-gray-200","dark:hover:bg-gray-700","focus:outline-none","focus:ring","focus:ring-gray-300","focus:ring-opacity-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","w-5 h-5 mr-2 ","viewBox","0 0 40 40",4,"ngIf"],["diameter","20","class","mr-2 text-blue-500",4,"ngIf"],[1,"flex","items-center","justify-between","mt-4"],[1,"w-1/5","border-b","dark:border-gray-600","md:w-1/4"],[1,"text-xs","text-gray-500","uppercase","dark:text-gray-400","hover:underline","cursor-pointer",3,"click"],["class","mt-4 p-2 bg-gray-50 border border-gray-200 rounded-md security-notice",4,"ngIf"],[1,"mt-4","p-3","bg-red-100","border","border-red-400","text-red-700","rounded-lg"],[1,"flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","mr-2"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"font-medium"],[1,"mt-1","text-sm"],["class","mt-1 text-sm",4,"ngIf"],[1,"mt-4","p-3","bg-yellow-100","border","border-yellow-400","text-yellow-700","rounded-lg"],["fill-rule","evenodd","d","M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"text-red-500","text-sm","mt-1"],["for","userName",1,"block","mb-2","text-sm","font-medium","text-gray-600","dark:text-gray-200"],["id","userName","formControlName","name","type","text","autocomplete","name",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","rounded-lg","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring","focus:ring-blue-300"],[1,"text-xs","text-gray-500","dark:text-gray-300","hover:underline"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"],[1,"mt-2"],[1,"flex","items-center","justify-between","text-sm"],[1,"mt-1","w-full","bg-gray-200","rounded-full","h-2"],[1,"h-2","rounded-full","transition-all","duration-300",3,"ngClass"],[1,"mt-1","text-xs","text-gray-500"],["for","confirmPassword",1,"block","mb-2","text-sm","font-medium","text-gray-600","dark:text-gray-200"],["id","confirmPassword","formControlName","confirmPassword","autocomplete","new-password",1,"block","w-full","px-4","py-2","pr-10","text-gray-700","bg-white","border","rounded-lg","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring","focus:ring-blue-300",3,"type"],["diameter","20",1,"mr-2"],["viewBox","0 0 40 40",1,"w-5","h-5","mr-2"],["d","M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.045 27.2142 24.3525 30 20 30C14.4775 30 10 25.5225 10 20C10 14.4775 14.4775 9.99999 20 9.99999C22.5492 9.99999 24.8683 10.9617 26.6342 12.5325L31.3483 7.81833C28.3717 5.04416 24.39 3.33333 20 3.33333C10.7958 3.33333 3.33335 10.7958 3.33335 20C3.33335 29.2042 10.7958 36.6667 20 36.6667C29.2042 36.6667 36.6667 29.2042 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z","fill","#FFC107"],["d","M5.25497 12.2425L10.7308 16.2583C12.2125 12.59 15.8008 9.99999 20 9.99999C22.5491 9.99999 24.8683 10.9617 26.6341 12.5325L31.3483 7.81833C28.3716 5.04416 24.39 3.33333 20 3.33333C13.5983 3.33333 8.04663 6.94749 5.25497 12.2425Z","fill","#FF3D00"],["d","M20 36.6667C24.305 36.6667 28.2167 35.0192 31.1742 32.34L26.0159 27.975C24.3425 29.2425 22.2625 30 20 30C15.665 30 11.9842 27.2359 10.5975 23.3784L5.16254 27.5659C7.92087 32.9634 13.5225 36.6667 20 36.6667Z","fill","#4CAF50"],["d","M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.7592 25.1975 27.56 26.805 26.0133 27.9758C26.0142 27.975 26.015 27.975 26.0158 27.9742L31.1742 32.3392C30.8092 32.6708 36.6667 28.3333 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z","fill","#1976D2"],["diameter","20",1,"mr-2","text-blue-500"],[1,"mt-4","p-2","bg-gray-50","border","border-gray-200","rounded-md","security-notice"],["fill","currentColor","viewBox","0 0 16 16",1,"w-3","h-3","mr-1.5","text-gray-500"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0-1A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"],["d","M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"],[1,"text-xs","text-gray-600","font-medium"],[1,"mt-0.5","text-xs","text-gray-500"]],template:function(i,a){if(i&1&&(c(0,"section",0)(1,"div",1)(2,"div",2),se(3,"div",3),l(),c(4,"div",4)(5,"div",5),se(6,"img",6),l(),c(7,"p",7),d(8),_e(9,"translate"),l(),U(10,oE,9,1,"div",8)(11,sE,8,2,"div",9),c(12,"form",10)(13,"div",11)(14,"label",12),d(15),_e(16,"translate"),l(),se(17,"input",13),U(18,mE,4,3,"div",14)(19,hE,5,2,"div",15),c(20,"div",11)(21,"div",16)(22,"label",17),d(23),_e(24,"translate"),l(),U(25,gE,2,0,"a",18),l(),c(26,"div",19),se(27,"input",20),c(28,"button",21),F("click",function(){return a.togglePasswordVisibility()}),U(29,_E,3,0,"svg",22)(30,xE,2,0,"svg",22),l()(),U(31,bE,10,12,"div",23)(32,ME,4,3,"div",14),l(),U(33,EE,10,8,"div",15),l(),c(34,"div",24)(35,"button",25),F("click",function(){return a.isSignInPage?a.onSignIn():a.onSignUp()}),c(36,"div",26),U(37,DE,1,0,"mat-spinner",27)(38,IE,4,5,"span",28)(39,AE,2,1,"span",28),l()(),c(40,"button",29),F("click",function(){return a.signInWithGoogle()}),c(41,"div",26),U(42,FE,5,0,"svg",30)(43,RE,1,0,"mat-spinner",31),d(44),_e(45,"translate"),l()()(),c(46,"div",32),se(47,"span",33),c(48,"a",34),F("click",function(){return a.gotoPage()}),d(49),_e(50,"translate"),_e(51,"translate"),l(),se(52,"span",33),l(),U(53,NE,9,0,"div",35),l()()()()),i&2){let o,s,m;h(8),ae(" ",Ne(9,27,"welcomeBack")," "),h(2),M("ngIf",a.isAccountLocked),h(),M("ngIf",!a.isAccountLocked&&a.loginAttempts>0),h(),M("formGroup",a.signInForm),h(3),ae(" ",Ne(16,29,"email")," Address "),h(2),Kt("data-security-level",a.securityLevel),h(),M("ngIf",((o=a.signInForm.get("email"))==null?null:o.invalid)&&((o=a.signInForm.get("email"))==null?null:o.touched)),h(),M("ngIf",!a.isSignInPage),h(4),G(Ne(24,31,"password")),h(2),M("ngIf",a.isSignInPage),h(2),M("type",a.showPassword?"text":"password"),Kt("data-security-level",a.securityLevel),h(2),M("ngIf",!a.showPassword),h(),M("ngIf",a.showPassword),h(),M("ngIf",!a.isSignInPage&&((s=a.signInForm.get("password"))==null?null:s.value)),h(),M("ngIf",((m=a.signInForm.get("password"))==null?null:m.invalid)&&((m=a.signInForm.get("password"))==null?null:m.touched)),h(),M("ngIf",!a.isSignInPage),h(2),M("disabled",a.isLoading||a.isAccountLocked||a.signInForm.invalid),h(2),M("ngIf",a.isLoading),h(),M("ngIf",!a.isLoading),h(),M("ngIf",a.isLoading),h(),M("disabled",a.isLoading||a.isAccountLocked),h(2),M("ngIf",!a.isLoading),h(),M("ngIf",a.isLoading),h(),ae(" ",a.isLoading?"Signing in...":Ne(45,33,"signIn")+" with Google"," "),h(5),ae("or ",a.isSignInPage?Ne(50,35,"signUp"):Ne(51,37,"signIn"),""),h(4),M("ngIf",a.showSecurityNotice)}},dependencies:[Kr,dt,Mi,on,sn,yi,Mr,Sr,Ea,eu],styles:['.bg[_ngcontent-%COMP%]{background-image:url("./media/sign-in-TAB6YH4B.png");height:22rem;width:25rem}.security-notice[_ngcontent-%COMP%]{opacity:0;transform:translateY(10px);animation:_ngcontent-%COMP%_fadeInUp .3s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeInUp{to{opacity:1;transform:translateY(0)}}.form-container[_ngcontent-%COMP%]{will-change:transform;contain:layout style paint}']});let e=n;return e})();var Ub=(()=>{let n=class n{constructor(t,i,a,o,s){this.dialog=t,this.store=i,this.splitwiseService=a,this.userService=o,this.dateService=s}checkAndShowInvitations(){return me(this,null,function*(){try{let t=yield this.userService.getCurrentUser();if(!(t!=null&&t.uid))return;let i=yield this.splitwiseService.getUserInvitations(t.uid).toPromise();if(i&&i.length>0){let a=i.filter(o=>!this.isInvitationExpired(o));a.length>0&&this.showInvitationPopup(a)}}catch(t){console.error("Error checking invitations:",t)}})}showInvitationPopup(t){if(!t||t.length===0)return;let i=this.dialog.open(ha,{data:{title:"Invitations",message:`You have invitations to Splitwise Groups - ${t.map(a=>a.groupName).join(", ")}. Please accept or decline them.`,confirmText:"Accept",cancelText:"Decline",type:"warning"}});i.afterClosed().subscribe(()=>{i.componentInstance.data.confirmText==="Accept"?this.store.dispatch(lb({invitationId:t[0].id})):i.componentInstance.data.confirmText==="Decline"&&this.store.dispatch(db({invitationId:t[0].id}))})}isInvitationExpired(t){if(!t.expiresAt)return!1;let i=null;return t.expiresAt instanceof Date?i=t.expiresAt:t.expiresAt.toDate?i=t.expiresAt.toDate():i=this.dateService.toDate(t.expiresAt),i?i<new Date:!1}showInvitationsAfterLogin(){return me(this,null,function*(){setTimeout(()=>{this.checkAndShowInvitations()},1e3)})}};n.\u0275fac=function(i){return new(i||n)(Ie(di),Ie(Ft),Ie(ms),Ie(Bi),Ie(Xt))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function VE(e,n){if(e&1&&(c(0,"div",30)(1,"mat-icon",31),d(2,"note"),l(),c(3,"span"),d(4),l()()),e&2){let r=w().$implicit;h(4),G(r.notes)}}function jE(e,n){if(e&1){let r=ue();c(0,"div",20)(1,"mat-checkbox",21),F("change",function(){let i=N(r).$implicit,a=w();return L(i.id&&a.toggleTransaction(i.id))}),l(),c(2,"div",22)(3,"div",23)(4,"span",24),d(5),l(),c(6,"span",25),d(7),l()(),c(8,"div",26)(9,"span",27),d(10),l(),c(11,"span",28),d(12),l()(),U(13,VE,5,1,"div",29),l()()}if(e&2){let r=n.$implicit,t=w();Fe("selected",r.id&&t.selectedTransactions.has(r.id)),h(),M("checked",r.id&&t.selectedTransactions.has(r.id)),h(4),G(r.payee),h(),Fe("income",r.type==="income")("expense",r.type==="expense"),h(),ae(" ",t.formatAmount(r.amount)," "),h(3),G(r.category),h(2),G(t.getRecurringIntervalText(r.recurringInterval)),h(),M("ngIf",r.notes)}}function zE(e,n){if(e&1&&(c(0,"div",8)(1,"label",9)(2,"mat-icon",10),d(3,"calculate"),l(),d(4," Summary "),l(),c(5,"div",32)(6,"div",33)(7,"span",34),d(8,"Selected Transactions:"),l(),c(9,"span",35),d(10),l()(),c(11,"div",36)(12,"span",34),d(13,"Total Amount:"),l(),c(14,"span",37),d(15),l()()()()),e&2){let r=w();h(10),G(r.getSelectedTransactions().length),h(5),G(r.formatAmount(r.getSelectedTransactionsTotal()))}}var Wb=(()=>{let n=class n{constructor(t,i,a,o){this.data=t,this.dialogRef=i,this.store=a,this.currencyService=o,this.selectedTransactions=new Set,this.allSelected=!1,this.userCurrency$=this.store.select(fb)}ngOnInit(){this.selectAll()}selectAll(){this.allSelected=!0,this.selectedTransactions.clear(),this.data.transactions.forEach(t=>{t.id&&this.selectedTransactions.add(t.id)})}deselectAll(){this.allSelected=!1,this.selectedTransactions.clear()}toggleTransaction(t){this.selectedTransactions.has(t)?this.selectedTransactions.delete(t):this.selectedTransactions.add(t),this.updateSelectAllState()}updateSelectAllState(){this.allSelected=this.data.transactions.every(t=>t.id&&this.selectedTransactions.has(t.id))}getSelectedTransactions(){return this.data.transactions.filter(t=>t.id&&this.selectedTransactions.has(t.id))}getRecurringIntervalText(t){switch(t){case qi.DAILY:return"Daily";case qi.WEEKLY:return"Weekly";case qi.MONTHLY:return"Monthly";case qi.YEARLY:return"Yearly";default:return"Unknown"}}formatAmount(t){return this.currencyService.formatAmount(t)}getSelectedTransactionsTotal(){return this.getSelectedTransactions().reduce((t,i)=>t+i.amount,0)}trackByTransactionId(t,i){return i.id||t.toString()}confirm(){let t=this.getSelectedTransactions();this.dialogRef.close({action:"confirm",transactions:t})}skip(){this.dialogRef.close({action:"skip"})}cancel(){this.dialogRef.close({action:"cancel"})}};n.\u0275fac=function(i){return new(i||n)(T(ji),T(Vi),T(Ft),T(tu))},n.\u0275cmp=Se({type:n,selectors:[["app-recurring-transaction-confirmation-dialog"]],decls:34,vars:5,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],[1,"mobile-content"],[1,"form-container"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],[1,"field-description"],["color","primary",1,"select-all-checkbox",3,"change","checked"],[1,"transactions-list"],["class","transaction-item",3,"selected",4,"ngFor","ngForOf","ngForTrackBy"],["class","form-field",4,"ngIf"],[1,"action-buttons"],["mat-stroked-button","",1,"skip-button",3,"click"],["mat-raised-button","","color","primary",1,"confirm-button",3,"click","disabled"],[1,"bottom-spacing"],[1,"transaction-item"],["color","primary",1,"transaction-checkbox",3,"change","checked"],[1,"transaction-details"],[1,"transaction-header"],[1,"payee"],[1,"amount"],[1,"transaction-meta"],[1,"category"],[1,"interval"],["class","transaction-notes",4,"ngIf"],[1,"transaction-notes"],[1,"note-icon"],[1,"summary-content"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"summary-item","total"],[1,"summary-value","total-amount"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),F("click",function(){return a.cancel()}),c(4,"mat-icon"),d(5,"arrow_back"),l()(),c(6,"h6",4),d(7," Recurring Transactions "),l()(),c(8,"button",5),F("click",function(){return a.cancel()}),c(9,"mat-icon"),d(10,"close"),l()()()(),c(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9)(15,"mat-icon",10),d(16,"schedule"),l(),d(17," Due Transactions "),l(),c(18,"p",11),d(19," Select which recurring transactions you'd like to process: "),l()(),c(20,"div",8)(21,"mat-checkbox",12),F("change",function(){return a.allSelected?a.deselectAll():a.selectAll()}),d(22," Select All Transactions "),l()(),c(23,"div",8)(24,"div",13),U(25,jE,14,12,"div",14),l()(),U(26,zE,16,2,"div",15),c(27,"div",8)(28,"div",16)(29,"button",17),F("click",function(){return a.skip()}),d(30," Skip All "),l(),c(31,"button",18),F("click",function(){return a.confirm()}),d(32," Process Selected "),l()()(),se(33,"div",19),l()()),i&2&&(h(21),M("checked",a.allSelected),h(4),M("ngForOf",a.data.transactions)("ngForTrackBy",a.trackByTransactionId),h(),M("ngIf",a.getSelectedTransactions().length>0),h(5),M("disabled",a.getSelectedTransactions().length===0))},dependencies:[Sa,dt,Nt,mn,lt,ml,En],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}.form-field[_ngcontent-%COMP%]{margin-bottom:1.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{margin-bottom:1.25rem}}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1rem;font-weight:600;color:#1f2937;margin-bottom:.5rem}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f9fafb}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:20px;width:20px;height:20px}.form-field[_ngcontent-%COMP%]   .field-description[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.5;margin:0 0 1rem}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-description[_ngcontent-%COMP%]{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .select-all-checkbox[_ngcontent-%COMP%]{font-weight:500;color:#374151}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .select-all-checkbox[_ngcontent-%COMP%]{color:#d1d5db}.transactions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.transaction-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:.75rem;display:flex;align-items:flex-start;gap:.75rem;transition:border-color .2s ease}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.transaction-item.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#f8fafc}.dark[_ngcontent-%COMP%]   .transaction-item.selected[_ngcontent-%COMP%]{background:#1e3a8a;border-color:#60a5fa}.transaction-item[_ngcontent-%COMP%]   .transaction-checkbox[_ngcontent-%COMP%]{margin-top:.125rem}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]{flex:1;min-width:0}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.25rem}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .payee[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:.875rem}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .payee[_ngcontent-%COMP%]{color:#f9fafb}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .amount.income[_ngcontent-%COMP%]{color:#10b981}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .amount.expense[_ngcontent-%COMP%]{color:#ef4444}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.25rem}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151;padding:.125rem .375rem;border-radius:4px;font-size:.75rem}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{background:#374151;color:#d1d5db}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .interval[_ngcontent-%COMP%]{color:#3b82f6;font-size:.75rem}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .interval[_ngcontent-%COMP%]{color:#60a5fa}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-notes[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.75rem;color:#6b7280;font-style:italic}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-notes[_ngcontent-%COMP%]{color:#9ca3af}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-notes[_ngcontent-%COMP%]   .note-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.summary-content[_ngcontent-%COMP%]{background:#f9fafb;border-radius:6px;padding:.75rem}.dark[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{background:#374151}.summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.875rem;padding:.25rem 0}.summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{color:#6b7280}.dark[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{color:#9ca3af}.summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.dark[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{color:#f9fafb}.summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value.total-amount[_ngcontent-%COMP%]{color:#059669}.dark[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value.total-amount[_ngcontent-%COMP%]{color:#34d399}.summary-content[_ngcontent-%COMP%]   .summary-item.total[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;margin-top:.5rem;padding-top:.5rem}.dark[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item.total[_ngcontent-%COMP%]{border-color:#4b5563}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem}@media (max-width: 480px){.action-buttons[_ngcontent-%COMP%]{flex-direction:column}}.action-buttons[_ngcontent-%COMP%]   .skip-button[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]{flex:1;min-height:44px;display:flex;align-items:center;justify-content:center;font-weight:500;border-radius:6px}@media (max-width: 480px){.action-buttons[_ngcontent-%COMP%]   .skip-button[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]{min-height:40px}}.action-buttons[_ngcontent-%COMP%]   .skip-button[_ngcontent-%COMP%]{border:1px solid #d1d5db;color:#6b7280;background:#fff}.dark[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .skip-button[_ngcontent-%COMP%]{border-color:#4b5563;color:#9ca3af;background:#374151}.action-buttons[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none}.action-buttons[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]:hover{background:#2563eb}.action-buttons[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}"]});let e=n;return e})();var Hb=(()=>{let n=class n{constructor(t,i){this.firestore=t,this.auth=i,this.isOnlineSubject=new ln(!0),this.isOnline$=this.isOnlineSubject.asObservable()}getCurrentUserId(){var t;return((t=this.auth.currentUser)==null?void 0:t.uid)||null}isAuthenticated(){return!!this.auth.currentUser}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getCollectionRef(t){let i=this.getCurrentUserId();if(!i)throw new Error(ci.AUTH.SESSION_EXPIRED);return ma(this.firestore,`users/${i}/${t}`)}getDocumentRef(t,i){let a=this.getCurrentUserId();if(!a)throw new Error(ci.AUTH.SESSION_EXPIRED);return zt(this.firestore,`users/${a}/${t}/${i}`)}handleError(t,i){console.error(`Error in ${i}:`,t);let a=ci.NETWORK.SERVER_ERROR;if(t.code)switch(t.code){case"auth/user-not-found":a=ci.AUTH.USER_NOT_FOUND;break;case"auth/wrong-password":a=ci.AUTH.INVALID_CREDENTIALS;break;case"auth/email-already-in-use":a=ci.AUTH.EMAIL_ALREADY_EXISTS;break;case"auth/weak-password":a=ci.AUTH.WEAK_PASSWORD;break;case"permission-denied":a=ci.PERMISSION.ACCESS_DENIED;break;case"unavailable":a=ci.NETWORK.CONNECTION_ERROR;break;default:a=t.message||ci.NETWORK.SERVER_ERROR}return H0(()=>new Error(a))}validateRequiredFields(t,i){let a=i.filter(o=>!t[o]);if(a.length>0)throw new Error(`${ci.VALIDATION.REQUIRED_FIELD}: ${a.join(", ")}`)}validateAmount(t){if(t<Ot.VALIDATION.MIN_AMOUNT||t>Ot.VALIDATION.MAX_AMOUNT)throw new Error(ci.VALIDATION.INVALID_AMOUNT)}validateStringLength(t,i,a,o){if(t.length<i)throw new Error(`${ci.VALIDATION.MIN_LENGTH.replace("{min}",i.toString())} for ${o}`);if(t.length>a)throw new Error(`${ci.VALIDATION.MAX_LENGTH.replace("{max}",a.toString())} for ${o}`)}addSyncStatus(t,i=os.SYNCED){return de(oe({},t),{syncStatus:i,lastSyncedAt:gd()})}addMetadata(t,i){return de(oe({},t),{createdAt:gd(),updatedAt:gd(),createdBy:i,updatedBy:i})}updateMetadata(t,i){return de(oe({},t),{updatedAt:gd(),updatedBy:i})}cacheData(t,i){try{let a={data:i,timestamp:Date.now(),expiry:Date.now()+Ot.OFFLINE.CACHE_EXPIRY};localStorage.setItem(t,JSON.stringify(a))}catch(a){console.error("Failed to cache data:",a)}}getCachedData(t){try{let i=localStorage.getItem(t);if(!i)return null;let a=JSON.parse(i);return Date.now()>a.expiry?(localStorage.removeItem(t),null):a.data}catch(i){return console.error("Failed to get cached data:",i),null}}clearCachedData(t){try{localStorage.removeItem(t)}catch(i){console.error("Failed to clear cached data:",i)}}debounce(t,i=Ot.PERFORMANCE.DEBOUNCE_DELAY){let a;return(...o)=>{clearTimeout(a),a=setTimeout(()=>t(...o),i)}}throttle(t,i=Ot.PERFORMANCE.THROTTLE_DELAY){let a=0;return(...o)=>{let s=Date.now();s-a>=i&&(a=s,t(...o))}}formatCurrency(t,i="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:i}).format(t)}formatDate(t,i="MM/dd/yyyy"){let a={year:"numeric",month:"2-digit",day:"2-digit"};return new Intl.DateTimeFormat("en-US",a).format(t)}isDataExpired(t,i=Ot.OFFLINE.CACHE_EXPIRY){return Date.now()-t>i}retryOperation(o){return me(this,arguments,function*(t,i=Ot.OFFLINE.MAX_RETRY_ATTEMPTS,a=1e3){let s;for(let m=0;m<=i;m++)try{return yield t()}catch(u){if(s=u,m===i)throw u;let f=a*Math.pow(2,m);yield new Promise(g=>setTimeout(g,f))}throw s})}};n.\u0275fac=function(i){return new(i||n)(Ie(Zr),Ie(kt))},n.\u0275prov=at({token:n,factory:n.\u0275fac});let e=n;return e})();var Cl=(()=>{let n=class n{constructor(t,i){this.firestore=t,this.auth=i}createAccount(t,i){return new rn(a=>{let o=this.generateAccountId(),s=de(oe({accountId:o,userId:t},i),{createdAt:new Date,isActive:!0}),m=zt(this.firestore,`users/${t}/accounts/${o}`);oo(m,s).then(()=>{a.next(o),a.complete()}).catch(u=>{a.error(u)})})}getAccounts(t){let i=ma(this.firestore,`users/${t}/accounts`);return new rn(a=>{as(i).then(o=>{let s=[];o.forEach(m=>{s.push(m.data())}),a.next(s)})})}getAccount(t,i){return new rn(a=>{let o=zt(this.firestore,`users/${t}/accounts/${i}`);Ii(o).then(s=>{s.exists()?a.next(s.data()):a.next(void 0),a.complete()}).catch(s=>{a.error(s)})})}updateAccount(t,i,a){return new rn(o=>{let s=zt(this.firestore,`users/${t}/accounts/${i}`),m=de(oe({},a),{updatedAt:new Date});pi(s,m).then(()=>{o.next(),o.complete()}).catch(u=>{o.error(u)})})}deleteAccount(t,i){return new rn(a=>{let o=zt(this.firestore,`users/${t}/accounts/${i}`);kr(o).then(()=>{a.next(),a.complete()}).catch(s=>{a.error(s)})})}updateAccountBalanceForTransaction(t,i,a,o,s){return new rn(m=>{me(this,null,function*(){try{let f=zt(this.firestore,`users/${t}/accounts/${i}`),g=yield Ii(f);if(!g.exists()){m.error("Account not found");return}let x=g.data(),C=0,y=0;switch(a){case"create":s&&(C=s.type==="income"?s.amount:-s.amount,x.type==="loan"&&s.type==="expense"&&(y=-s.amount));break;case"update":if(o&&s){let P=o.type==="income"?o.amount:-o.amount;if(C=(s.type==="income"?s.amount:-s.amount)-P,x.type==="loan"){let I=o.type==="expense"?-o.amount:0;y=(s.type==="expense"?-s.amount:0)-I}}break;case"delete":o&&(C=o.type==="income"?-o.amount:o.amount,x.type==="loan"&&o.type==="expense"&&(y=o.amount));break}let v={balance:(x.balance||0)+C,updatedAt:new Date};if(x.type==="loan"&&x.loanDetails&&y!==0){let P=x.loanDetails.remainingBalance||0,D=Math.max(0,P+y);v["loanDetails.remainingBalance"]=D}yield pi(f,v),m.next(v.balance),m.complete()}catch(f){m.error(f)}})})}updateAccountBalanceForTransactions(t,i){return new rn(a=>{me(this,null,function*(){try{let s=$f(this.firestore),m=new Map,u=new Map;i.forEach(f=>{let g=m.get(f.accountId)||0,x=f.type==="income"?f.amount:-f.amount;if(m.set(f.accountId,g+x),f.type==="expense"){let C=u.get(f.accountId)||0;u.set(f.accountId,C+f.amount)}});for(let[f,g]of m){let x=zt(this.firestore,`users/${t}/accounts/${f}`),C=yield Ii(x);if(C.exists()){let y=C.data(),P={balance:(y.balance||0)+g,updatedAt:new Date};if(y.type==="loan"&&y.loanDetails){let D=u.get(f)||0;if(D>0){let I=y.loanDetails.remainingBalance||0,A=Math.max(0,I-D);P["loanDetails.remainingBalance"]=A}}s.update(x,P)}}yield s.commit(),a.next(),a.complete()}catch(s){a.error(s)}})})}updateAccountBalanceForAccountTransfer(t,i,a,o){return new rn(s=>{me(this,null,function*(){try{let u=$f(this.firestore),f=zt(this.firestore,`users/${t}/accounts/${i}`),g=zt(this.firestore,`users/${t}/accounts/${a}`),[x,C]=yield Promise.all([Ii(f),Ii(g)]);if(!x.exists()||!C.exists()){s.error("One or both accounts not found");return}let y=x.data(),v=C.data(),P=o.type==="income"?o.amount:-o.amount,D={balance:(y.balance||0)-P,updatedAt:new Date};if(y.type==="loan"&&y.loanDetails&&o.type==="expense"){let K=(y.loanDetails.remainingBalance||0)+o.amount;D["loanDetails.remainingBalance"]=K}let I={balance:(v.balance||0)+P,updatedAt:new Date};if(v.type==="loan"&&v.loanDetails&&o.type==="expense"){let A=v.loanDetails.remainingBalance||0,K=Math.max(0,A-o.amount);I["loanDetails.remainingBalance"]=K}u.update(f,D),u.update(g,I),yield u.commit(),s.next(),s.complete()}catch(u){s.error(u)}})})}generateAccountId(){return"acc_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}};n.\u0275fac=function(i){return new(i||n)(Ie(Zr),Ie(kt))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var wl=(()=>{let n=class n extends Hb{constructor(t,i,a,o,s,m,u){super(t,i),this.dateService=a,this.store=o,this.accountsService=s,this.splitwiseService=m,this.commonSyncService=u,this.transactionsSubject=new ln([])}createTransaction(t,i){return new rn(a=>{let o=this.generateId(),s=de(oe({},i),{id:o,date:this.dateService.toDate(i.date),syncStatus:this.commonSyncService.isCurrentlyOnline()?"synced":"pending"});me(this,null,function*(){try{if(this.commonSyncService.isCurrentlyOnline())try{let u=zt(this.firestore,`users/${t}/transactions/${o}`);yield oo(u,s),i.isSplitTransaction&&i.splitGroupId&&(yield this.createSplitTransaction(i.splitGroupId,i,u.id,t)),this.store.dispatch(es({userId:t,accountId:i.accountId,transactionType:"create",newTransaction:s})),this.store.dispatch(Zc({transaction:s})),this.updateTransactionCache(t,"create",s),a.next(),a.complete()}catch(u){console.error("Failed to create transaction online:",u),yield this.addToSyncQueue("create",s),this.store.dispatch(Zc({transaction:s})),this.updateTransactionCache(t,"create",s),a.next(),a.complete()}else yield this.addToSyncQueue("create",s),this.store.dispatch(Zc({transaction:s})),this.updateTransactionCache(t,"create",s),a.next(),a.complete()}catch(u){console.error("Error in createTransaction:",u),a.error(u)}})})}updateTransaction(t,i,a){return new rn(o=>{me(this,null,function*(){try{let m=de(oe({},a),{updatedAt:new Date,updatedBy:t,syncStatus:this.commonSyncService.isCurrentlyOnline()?"synced":"pending"});if(this.commonSyncService.isCurrentlyOnline())try{let u=zt(this.firestore,`users/${t}/transactions/${i}`);yield pi(u,m),(a.amount||a.accountId)&&this.store.dispatch(es({userId:t,accountId:a.accountId||"",transactionType:"update",oldTransaction:{id:i},newTransaction:m})),this.store.dispatch(Jc({transaction:oe({id:i},m)})),this.updateTransactionCache(t,"update",oe({id:i},m)),o.next(),o.complete()}catch(u){console.error("Failed to update transaction online:",u),yield this.addToSyncQueue("update",oe({id:i},m)),this.store.dispatch(Jc({transaction:oe({id:i},m)})),this.updateTransactionCache(t,"update",oe({id:i},m)),o.next(),o.complete()}else yield this.addToSyncQueue("update",oe({id:i},m)),this.store.dispatch(Jc({transaction:oe({id:i},m)})),this.updateTransactionCache(t,"update",oe({id:i},m)),o.next(),o.complete()}catch(m){o.error(m)}})})}deleteTransaction(t,i){return new rn(a=>{me(this,null,function*(){try{let s=zt(this.firestore,`users/${t}/transactions/${i}`),m=yield Ii(s),u=m.exists()?oe({id:m.id},m.data()):null;if(this.commonSyncService.isCurrentlyOnline())try{yield kr(s),u&&(this.store.dispatch(es({userId:t,accountId:u.accountId,transactionType:"delete",oldTransaction:u})),u.isSplitTransaction&&(yield this.splitwiseService.deleteSplitTransaction(u.id,t))),this.store.dispatch(is({transactionId:i})),this.updateTransactionCache(t,"delete",{id:i}),a.next(),a.complete()}catch(f){console.error("Failed to delete transaction online:",f),yield this.addToSyncQueue("delete",{id:i}),this.store.dispatch(is({transactionId:i})),this.updateTransactionCache(t,"delete",{id:i}),a.next(),a.complete()}else yield this.addToSyncQueue("delete",{id:i}),this.store.dispatch(is({transactionId:i})),this.updateTransactionCache(t,"delete",{id:i}),a.next(),a.complete()}catch(s){a.error(s)}})})}getTransactions(t){let i=Hf(ma(this.firestore,`users/${t}/transactions`),Wf("date","desc"));return new rn(a=>{let o=Yf(i,s=>{let m=[];if(s.forEach(u=>{let f=oe({id:u.id},u.data());m.push(f)}),!this.commonSyncService.isCurrentlyOnline()){let u=this.getCachedTransactions(t),f=u.map(C=>C.id),g=m.map(C=>C.id),x=u.filter(C=>C.id&&!g.includes(C.id));m.push(...x)}this.cacheTransactions(t,m),this.transactionsSubject.next(m),a.next(m)},s=>{if(console.error("Failed to fetch transactions:",s),this.commonSyncService.isCurrentlyOnline())a.next([]);else{let m=this.getCachedTransactions(t);this.transactionsSubject.next(m),a.next(m)}});return()=>o()})}getTransaction(t,i){return new rn(a=>{me(this,null,function*(){try{let s=zt(this.firestore,`users/${t}/transactions/${i}`),m=yield Ii(s);if(m.exists()){let u=oe({id:m.id},m.data());a.next(u)}else a.next(void 0);a.complete()}catch(s){a.error(s)}})})}getSyncStatus(){let t=this.commonSyncService.syncStatus;return{count:t.pendingItems,hasPendingOperations:t.pendingItems>0}}forceSync(){return me(this,null,function*(){yield this.commonSyncService.manualSync()})}getRecurringTransactions(t){let i=Hf(ma(this.firestore,`users/${t}/transactions`),Wf("date","desc"));return new rn(a=>{let o=Yf(i,s=>{let m=[];s.forEach(f=>{let g=oe({id:f.id},f.data());m.push(g)});let u=m.filter(f=>f.isRecurring===!0);a.next(u)},s=>{console.error("Failed to fetch recurring transactions:",s),a.next([])});return()=>o()})}getDueRecurringTransactions(t){return this.getRecurringTransactions(t).pipe(tt(i=>{let a=new Date;return a.setHours(0,0,0,0),i.filter(o=>{if(!o.nextOccurrence)return!1;let s=o.nextOccurrence instanceof Date?o.nextOccurrence:o.nextOccurrence.toDate();return s.setHours(0,0,0,0),s<=a})}))}processRecurringTransaction(t,i){return new rn(a=>{me(this,null,function*(){try{let s=de(oe({},i),{date:new Date,nextOccurrence:void 0,isRecurring:!1,recurringInterval:void 0,recurringEndDate:void 0,createdAt:new Date,updatedAt:new Date,createdBy:t,updatedBy:t,syncStatus:os.SYNCED,isPending:!1,lastSyncedAt:new Date});if(yield this.createTransaction(t,s).toPromise(),i.recurringInterval&&i.nextOccurrence){let m=this.calculateNextOccurrence(i.recurringInterval,i.nextOccurrence),u={nextOccurrence:m,updatedAt:new Date,updatedBy:t};i.recurringEndDate&&m>i.recurringEndDate&&(u.isRecurring=!1,u.recurringInterval=void 0,u.recurringEndDate=void 0),yield this.updateTransaction(t,i.id,u).toPromise()}a.next(),a.complete()}catch(s){console.error("Failed to process recurring transaction:",s),a.error(s)}})})}calculateNextOccurrence(t,i){let a=i instanceof Date?i:i.toDate(),o=new Date(a);switch(t){case qi.DAILY:o.setDate(o.getDate()+1);break;case qi.WEEKLY:o.setDate(o.getDate()+7);break;case qi.MONTHLY:o.setMonth(o.getMonth()+1);break;case qi.YEARLY:o.setFullYear(o.getFullYear()+1);break;default:o.setDate(o.getDate()+1)}return o}createSplitTransaction(t,i,a,o){return me(this,null,function*(){try{let s={groupId:t,originalTransactionId:a,amount:i.amount,splits:i.splits||[]};yield this.splitwiseService.createSplitTransaction(s,o).toPromise()}catch(s){console.error("Failed to create split transaction:",s)}})}addToSyncQueue(t,i){return me(this,null,function*(){let a={id:this.generateId(),type:"transaction",operation:t,data:i,maxRetries:3},o=yield this.commonSyncService.registerSyncItem(a);o.success||console.error("Failed to register transaction for sync:",o.errors)})}getCachedTransactions(t){try{let i=localStorage.getItem(`transactions-cache-${t}`);if(i)return JSON.parse(i).filter(o=>o&&o.id)}catch(i){console.error("Error loading cached transactions:",i)}return[]}cacheTransactions(t,i){try{localStorage.setItem(`transactions-cache-${t}`,JSON.stringify(i))}catch(a){console.error("Error caching transactions:",a)}}updateTransactionCache(t,i,a){try{let o=this.getCachedTransactions(t);switch(i){case"create":a&&o.push(a);break;case"update":if(a){let s=o.findIndex(m=>m.id===a.id);s!==-1&&(o[s]=a)}break;case"delete":if(a){let s=o.findIndex(m=>m.id===a.id);s!==-1&&o.splice(s,1)}break}this.cacheTransactions(t,o)}catch(o){console.error("Error updating transaction cache:",o)}}isFirebaseValidationError(t){var i,a;return t&&(t.code==="permission-denied"||t.code==="unavailable"||t.code==="invalid-argument"||((i=t.message)==null?void 0:i.includes("permission"))||((a=t.message)==null?void 0:a.includes("validation")))}};n.\u0275fac=function(i){return new(i||n)(Ie(Zr),Ie(kt),Ie(Xt),Ie(Ft),Ie(Cl),Ie(ms),Ie(ga))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var $b=(()=>{let n=class n{constructor(t,i,a,o){this.transactionsService=t,this.userService=i,this.notificationService=a,this.dialog=o}checkDueRecurringTransactions(){var i;let t=(i=this.userService.userAuth$.value)==null?void 0:i.uid;return t?this.transactionsService.getDueRecurringTransactions(t).pipe(oa(a=>a.length===0?st(void 0):this.showRecurringTransactionConfirmation(a))):st(void 0)}showRecurringTransactionConfirmation(t){return new rn(i=>{this.dialog.open(Wb,{width:"400px",data:{transactions:t},disableClose:!0}).afterClosed().subscribe(o=>{o&&o.action==="confirm"?this.processConfirmedTransactions(o.transactions).subscribe({next:()=>{this.notificationService.success("Recurring transactions processed successfully"),i.next(),i.complete()},error:s=>{this.notificationService.error("Failed to process recurring transactions"),i.error(s)}}):(i.next(),i.complete())})})}processConfirmedTransactions(t){var a;let i=(a=this.userService.userAuth$.value)==null?void 0:a.uid;return i?new rn(o=>{let s=0,m=t.length,u=()=>{if(s>=m){o.next(),o.complete();return}let f=t[s];this.transactionsService.processRecurringTransaction(i,f).subscribe({next:()=>{s++,u()},error:g=>{console.error(`Failed to process transaction ${f.id}:`,g),s++,u()}})};u()}):st(void 0)}getRecurringTransactions(t){return this.transactionsService.getRecurringTransactions(t)}getRecurringTransactionsSummary(t){return this.transactionsService.getRecurringTransactions(t).pipe(tt(i=>{let a=new Date;a.setHours(0,0,0,0);let o=i.filter(m=>{if(!m.nextOccurrence)return!1;let u=m.nextOccurrence instanceof Date?m.nextOccurrence:m.nextOccurrence.toDate();return u.setHours(0,0,0,0),u<=a}).length,s=i.filter(m=>{if(!m.nextOccurrence)return!1;let u=m.nextOccurrence instanceof Date?m.nextOccurrence:m.nextOccurrence.toDate();return u.setHours(0,0,0,0),u>a}).length;return{total:i.length,due:o,upcoming:s}}))}};n.\u0275fac=function(i){return new(i||n)(Ie(wl),Ie(Bi),Ie(vt),Ie(di))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var YE=[{label:"Navigation",icon:"navigation",order:1,isExpanded:!0,isCollapsible:!0,children:[{label:"dashboard",route:"/dashboard/home",icon:"dashboard",order:1},{label:"accounts",route:"/dashboard/accounts",icon:"account_balance",order:2},{label:"transactions",route:"/dashboard/transactions",icon:"receipt_long",order:3},{label:"categories",route:"/dashboard/category",icon:"category",order:4},{label:"reports",route:"/dashboard/reports",icon:"analytics",order:7}]},{label:"Tools",icon:"build",order:2,isExpanded:!0,isCollapsible:!0,children:[{label:"tax",route:"/dashboard/tax",icon:"calculate",order:3},{label:"Splitwise",route:"/dashboard/splitwise",icon:"group",order:4}]},{label:"Account",icon:"person",order:3,isExpanded:!0,isCollapsible:!0,children:[{label:"Profile",route:"/dashboard/profile",icon:"account_circle",order:1},{label:"Notifications",route:"/dashboard/notifications",icon:"notifications",order:3},{label:"Feedback",route:"/dashboard/feedback",icon:"feedback",order:4}]},{label:"Admin",icon:"admin_panel_settings",order:4,isExpanded:!1,isCollapsible:!0,children:[{label:"admin_panel",route:"/admin",icon:"admin_panel_settings",order:1}]}],Gb=()=>YE.sort((e,n)=>e.order-n.order);var Kb=["*"],WE=["content"],HE=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],$E=["mat-drawer","mat-drawer-content","*"];function GE(e,n){if(e&1){let r=ue();c(0,"div",1),F("click",function(){N(r);let i=w();return L(i._onBackdropClicked())}),l()}if(e&2){let r=w();Fe("mat-drawer-shown",r._isShowingBackdrop())}}function qE(e,n){e&1&&(c(0,"mat-drawer-content"),$n(1,2),l())}var XE={transformDrawer:sr("transform",[Rn("open, open-instant",Ut({transform:"none",visibility:"visible"})),Rn("void",Ut({"box-shadow":"none",visibility:"hidden"})),Nn("void => open-instant",Un("0ms")),Nn("void <=> open, open-instant => void",Un("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var KE=new Pn("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:QE}),Qb=new Pn("MAT_DRAWER_CONTAINER");function QE(){return!1}var Pd=(()=>{let n=class n extends sl{constructor(t,i,a,o,s){super(a,o,s),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}};n.\u0275fac=function(i){return new(i||n)(T(Tn),T(Ka(()=>Mh)),T(an),T(ib),T(kn))},n.\u0275cmp=Se({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,a){i&2&&Vt("margin-left",a._container._contentMargins.left,"px")("margin-right",a._container._contentMargins.right,"px")},standalone:!0,features:[Gn([{provide:sl,useExisting:n}]),jn,fn],ngContentSelectors:Kb,decls:1,vars:0,template:function(i,a){i&1&&(Ei(),$n(0))},encapsulation:2,changeDetection:0});let e=n;return e})(),wh=(()=>{let n=class n{get position(){return this._position}set position(t){t=t==="end"?"end":"start",t!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=al(t)}get autoFocus(){let t=this._autoFocus;return t==null?this.mode==="side"?"dialog":"first-tabbable":t}set autoFocus(t){(t==="true"||t==="false"||t==null)&&(t=al(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(al(t))}constructor(t,i,a,o,s,m,u,f){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=a,this._platform=o,this._ngZone=s,this._interactivityChecker=m,this._doc=u,this._container=f,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new _t,this._animationEnd=new _t,this._animationState="void",this.openedChange=new Ve(!0),this._openedStream=this.openedChange.pipe(Hn(g=>g),tt(()=>{})),this.openedStart=this._animationStarted.pipe(Hn(g=>g.fromState!==g.toState&&g.toState.indexOf("open")===0),Rf(void 0)),this._closedStream=this.openedChange.pipe(Hn(g=>!g),tt(()=>{})),this.closedStart=this._animationStarted.pipe(Hn(g=>g.fromState!==g.toState&&g.toState==="void"),Rf(void 0)),this._destroyed=new _t,this.onPositionChanged=new Ve,this._modeChanged=new _t,this._injector=dn(qr),this._changeDetectorRef=dn(Tn),this.openedChange.pipe(yt(this._destroyed)).subscribe(g=>{g?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ac(this._elementRef.nativeElement,"keydown").pipe(Hn(g=>g.keyCode===27&&!this.disableClose&&!Za(g)),yt(this._destroyed)).subscribe(g=>this._ngZone.run(()=>{this.close(),g.stopPropagation(),g.preventDefault()}))}),this._animationEnd.subscribe(g=>{let{fromState:x,toState:C}=g;(C.indexOf("open")===0&&x==="void"||C==="void"&&x.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let a=()=>{t.removeEventListener("blur",a),t.removeEventListener("mousedown",a),t.removeAttribute("tabindex")};t.addEventListener("blur",a),t.addEventListener("mousedown",a)})),t.focus(i)}_focusByCssSelector(t,i){let a=this._elementRef.nativeElement.querySelector(t);a&&this._forceFocus(a,i)}_takeFocus(){if(!this._focusTrap)return;let t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Qa(()=>{!this._focusTrap.focusInitialElement()&&typeof t.focus=="function"&&t.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(t){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var t,i;(t=this._focusTrap)==null||t.destroy(),(i=this._anchor)==null||i.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);let a=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),a}_setOpen(t,i,a){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(a)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(aa(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){var t;this._focusTrap&&(this._focusTrap.enabled=!!((t=this._container)!=null&&t.hasBackdrop)&&this.opened)}_updatePositionInParent(t){if(!this._platform.isBrowser)return;let i=this._elementRef.nativeElement,a=i.parentNode;t==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),a.insertBefore(this._anchor,i)),a.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}};n.\u0275fac=function(i){return new(i||n)(T(an),T(Wv),T(ol),T(ua),T(kn),T(Yv),T(da,8),T(Qb,8))},n.\u0275cmp=Se({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,a){if(i&1&&Qt(WE,5),i&2){let o;ft(o=ht())&&(a._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(i,a){i&1&&tm("@transform.start",function(s){return a._animationStarted.next(s)})("@transform.done",function(s){return a._animationEnd.next(s)}),i&2&&(em("@transform",a._animationState),Kt("align",null),Fe("mat-drawer-end",a.position==="end")("mat-drawer-over",a.mode==="over")("mat-drawer-push",a.mode==="push")("mat-drawer-side",a.mode==="side")("mat-drawer-opened",a.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[fn],ngContentSelectors:Kb,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,a){i&1&&(Ei(),c(0,"div",1,0),$n(2),l())},dependencies:[sl],encapsulation:2,data:{animation:[XE.transformDrawer]},changeDetection:0});let e=n;return e})(),Mh=(()=>{let n=class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=al(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=t==null?null:al(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,a,o,s,m=!1,u){this._dir=t,this._element=i,this._ngZone=a,this._changeDetectorRef=o,this._animationMode=u,this._drawers=new q0,this.backdropClick=new Ve,this._destroyed=new _t,this._doCheckSubject=new _t,this._contentMargins={left:null,right:null},this._contentMarginChanges=new _t,this._injector=dn(qr),t&&t.change.pipe(yt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(yt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=m}ngAfterContentInit(){this._allDrawers.changes.pipe(Xa(this._allDrawers),yt(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Xa(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Eo(10),yt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened){if(this._left.mode=="side")t+=this._left._getWidth();else if(this._left.mode=="push"){let a=this._left._getWidth();t+=a,i-=a}}if(this._right&&this._right.opened){if(this._right.mode=="side")i+=this._right._getWidth();else if(this._right.mode=="push"){let a=this._right._getWidth();i+=a,t-=a}}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Hn(i=>i.fromState!==i.toState),yt(this._drawers.changes)).subscribe(i=>{i.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),t.mode!=="side"&&t.openedChange.pipe(yt(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(yt(this._drawers.changes)).subscribe(()=>{Qa(()=>{this._validateDrawers()},{injector:this._injector,phase:Ax.Read})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(yt(ir(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){let i=this._element.nativeElement.classList,a="mat-drawer-container-has-open";t?i.add(a):i.remove(a)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{t.position=="end"?(this._end!=null,this._end=t):(this._start!=null,this._start=t)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return t!=null&&t.opened}_drawerHasBackdrop(t){return this._backdropOverride==null?!!t&&t.mode!=="side":this._backdropOverride}};n.\u0275fac=function(i){return new(i||n)(T(pa,8),T(an),T(kn),T(Tn),T(Xs),T(KE),T(sa,8))},n.\u0275cmp=Se({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,a,o){if(i&1&&(Di(o,Pd,5),Di(o,wh,5)),i&2){let s;ft(s=ht())&&(a._content=s.first),ft(s=ht())&&(a._allDrawers=s)}},viewQuery:function(i,a){if(i&1&&Qt(Pd,5),i&2){let o;ft(o=ht())&&(a._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,a){i&2&&Fe("mat-drawer-container-explicit-backdrop",a._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[Gn([{provide:Qb,useExisting:n}]),fn],ngContentSelectors:$E,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,a){i&1&&(Ei(HE),U(0,GE,1,2,"div",0),$n(1),$n(2,1),U(3,qE,2,0,"mat-drawer-content")),i&2&&(Qe(a.hasBackdrop?0:-1),h(3),Qe(a._content?-1:3))},dependencies:[Pd],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0});let e=n;return e})();var Sh=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({imports:[li,Ks,Ks,li]});let e=n;return e})();var JE=["drawer"],e3=(e,n)=>n.label,t3=(e,n)=>n.route;function n3(e,n){if(e&1&&(c(0,"mat-icon",32),d(1," expand_more "),l()),e&2){let r=w(2).$implicit;Fe("rotate-180",!r.isExpanded)}}function i3(e,n){if(e&1){let r=ue();c(0,"div",27),F("click",function(){N(r);let i=w().$implicit,a=w();return L(a.toggleSection(i))}),c(1,"div",28)(2,"mat-icon",29),d(3),l(),c(4,"h6",30),d(5),l()(),U(6,n3,2,2,"mat-icon",31),l()}if(e&2){let r=w().$implicit;Fe("cursor-pointer",r.isCollapsible)("cursor-default",!r.isCollapsible)("hover:bg-blue-50",r.isCollapsible),h(3),G(r.icon),h(2),G(r.label),h(),M("ngIf",r.isCollapsible)}}function r3(e,n){if(e&1){let r=ue();c(0,"a",33),F("click",function(){N(r),w(2);let i=zn(2);return L(i.toggle())}),se(1,"div",34),c(2,"mat-icon",35),d(3),l(),c(4,"span",36),d(5),_e(6,"translate"),l()()}if(e&2){let r=n.$implicit,t=w(2);M("routerLink",r.route),h(),Fe("opacity-100",t.router.isActive(r.route,!1)),h(2),G(r.icon),h(2),G(Ne(6,5,r.label))}}function a3(e,n){e&1&&se(0,"div",37)}function o3(e,n){if(e&1&&(c(0,"div",12),U(1,i3,7,9,"div",23),c(2,"div",24),Ge(3,r3,7,7,"a",25,t3),l(),U(5,a3,1,0,"div",26),l()),e&2){let r=n.$implicit,t=w();h(),M("ngIf",r.label=="Admin"&&t.isAdmin),h(),Fe("max-h-0",!r.isExpanded)("max-h-96",r.isExpanded)("opacity-0",!r.isExpanded)("opacity-100",r.isExpanded),h(),qe(r.children),h(2),M("ngIf",r!==t.navigationSections[t.navigationSections.length-1])}}var Zb=(()=>{let n=class n{constructor(t,i,a,o){this.auth=t,this.router=i,this.elementRef=a,this.userService=o,this.isAdmin=!1,this.navigationSections=[],this.navigationSections=Gb()}ngOnInit(){this.isAdmin=this.userService.isAdmin}toggleSection(t){t.isCollapsible&&(t.isExpanded=!t.isExpanded)}ngAfterViewInit(){document.addEventListener("click",this.handleDocumentClick.bind(this))}handleKeyDown(t){t.key==="Escape"&&this.drawer&&this.drawer.opened&&this.drawer.close()}handleDocumentClick(t){if(this.drawer&&this.drawer.opened){let i=t.target;this.elementRef.nativeElement.contains(i)||i.closest('button[aria-label="Open sidebar"]')||this.drawer.close()}}logout(){return me(this,null,function*(){yield this.auth.signOut(),this.router.navigate(["/sign-in"],{queryParams:{loggedOut:"true"}})})}};n.\u0275fac=function(i){return new(i||n)(T(kt),T(hn),T(an),T(Bi))},n.\u0275cmp=Se({type:n,selectors:[["side-bar"]],viewQuery:function(i,a){if(i&1&&Qt(JE,5),i&2){let o;ft(o=ht())&&(a.drawer=o.first)}},hostBindings:function(i,a){i&1&&F("keydown",function(s){return a.handleKeyDown(s)},!1,K0)},decls:38,vars:7,consts:[["drawer",""],[1,"example-container","!z-[999]","h-screen"],[1,"!fixed","bg-white","shadow-2xl","w-72","border-r","border-gray-100","backdrop-blur-sm",3,"mode"],[1,"h-full","flex","flex-col","overflow-auto"],[1,"flex","items-center","justify-between","p-5","border-b","border-gray-100","bg-gradient-to-r","from-gray-50","to-white"],[1,"flex","items-center","gap-3"],["routerLink","/dashboard",1,"w-8","h-8","bg-gradient-to-br","bg-primary","rounded-lg","flex","items-center","justify-center","cursor-pointer"],[1,"text-[2rem]","!h-[33px]","!w-[33px]"],[1,"text-lg","font-semibold","text-gray-900"],["mat-icon-button","","routerLink","/dashboard","aria-label","Close sidebar",1,"text-gray-400","hover:text-gray-600","hover:bg-gray-50","rounded-lg","transition-colors",3,"click"],["mat-icon-button","","aria-label","Close sidebar",1,"text-gray-400","hover:text-gray-600","hover:bg-gray-50","rounded-lg","transition-colors",3,"click"],[1,"flex-1","p-4"],[1,"mb-6"],[1,"p-5","border-t","border-gray-100","bg-gradient-to-r","from-white","to-gray-50"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-2"],[1,"text-gray-400","text-sm"],[1,"text-xs","text-gray-500"],["mat-icon-button","","matTooltip","Logout",1,"text-gray-400","hover:text-red-600","hover:bg-red-50","rounded-lg","transition-colors",3,"click"],[1,"text-sm"],[1,"!overflow-hidden"],["aria-label","Open sidebar",1,"flex","items-center","gap-2","px-3","py-2","rounded-lg","hover:bg-gray-200","transition-colors",3,"click"],[1,"text-gray-600"],["class","flex items-center justify-between mb-3 cursor-pointer hover:bg-gray-50 rounded-lg p-2.5 transition-all duration-200 group",3,"cursor-pointer","cursor-default","hover:bg-blue-50","click",4,"ngIf"],[1,"space-y-1","overflow-hidden","transition-all","duration-300","ease-in-out"],["routerLinkActive","bg-blue-50 text-blue-700 border-r-2 border-blue-600 shadow-sm",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","hover:bg-gray-50","hover:shadow-sm","transition-all","duration-200","group","relative",3,"routerLink"],["class","mt-6 pt-4 border-t border-gray-100",4,"ngIf"],[1,"flex","items-center","justify-between","mb-3","cursor-pointer","hover:bg-gray-50","rounded-lg","p-2.5","transition-all","duration-200","group",3,"click"],[1,"flex","items-center","gap-2.5"],[1,"text-gray-500","text-[1.5rem]","group-hover:text-blue-600","transition-colors","relative","top-[-7px]"],[1,"text-xs","font-semibold","text-gray-600","uppercase","tracking-wider","group-hover:text-blue-700","transition-colors"],["class","text-gray-400 text-sm transition-all duration-200 group-hover:text-blue-600",3,"rotate-180",4,"ngIf"],[1,"text-gray-400","text-sm","transition-all","duration-200","group-hover:text-blue-600"],["routerLinkActive","bg-blue-50 text-blue-700 border-r-2 border-blue-600 shadow-sm",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","hover:bg-gray-50","hover:shadow-sm","transition-all","duration-200","group","relative",3,"click","routerLink"],[1,"absolute","left-0","top-1/2","transform","-translate-y-1/2","w-1","h-6","bg-blue-600","rounded-r-full","opacity-0","transition-opacity","duration-200"],[1,"text-gray-400","group-hover:text-blue-600","transition-colors","text-lg","ml-1"],[1,"font-medium","text-sm","text-gray-700","group-hover:text-blue-700","transition-colors"],[1,"mt-6","pt-4","border-t","border-gray-100"]],template:function(i,a){if(i&1){let o=ue();c(0,"mat-drawer-container",1)(1,"mat-drawer",2,0)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"mat-icon",7),d(8,"account_balance_wallet"),l()(),c(9,"span",8),d(10),_e(11,"translate"),l()(),c(12,"div",5)(13,"button",9),F("click",function(){N(o);let m=zn(2);return L(m.toggle())}),c(14,"mat-icon"),d(15,"home"),l()(),c(16,"button",10),F("click",function(){N(o);let m=zn(2);return L(m.toggle())}),c(17,"mat-icon"),d(18,"close"),l()()()(),c(19,"nav",11),Ge(20,o3,6,10,"div",12,e3),l(),c(22,"div",13)(23,"div",14)(24,"div",15)(25,"mat-icon",16),d(26,"settings"),l(),c(27,"span",17),d(28),_e(29,"translate"),l()(),c(30,"button",18),F("click",function(){return N(o),L(a.logout())}),c(31,"mat-icon",19),d(32,"logout"),l()()()()()(),c(33,"mat-drawer-content",20)(34,"div")(35,"button",21),F("click",function(){N(o);let m=zn(2);return L(m.toggle())}),c(36,"mat-icon",22),d(37,"menu"),l()()()()()}i&2&&(h(),M("mode","over"),h(9),G(Ne(11,3,"moneyManager")),h(10),qe(a.navigationSections),h(8),G(Ne(29,5,"settings")))},dependencies:[dt,dm,$x,mn,lt,wh,Mh,Pd,En,eu],styles:[".full-height[_ngcontent-%COMP%]{height:100vh}.color-ball[_ngcontent-%COMP%]{height:3rem;width:3rem;font-size:clamp(2.5rem,6vw,4rem)}"]});let e=n;return e})();var Jb=(()=>{let n=class n{constructor(t){this.elementRef=t,this.clickOutside=new Ve}onClick(t){this.elementRef.nativeElement.contains(t)||this.clickOutside.emit()}};n.\u0275fac=function(i){return new(i||n)(T(an))},n.\u0275dir=At({type:n,selectors:[["","clickOutside",""]],hostBindings:function(i,a){i&1&&F("click",function(s){return a.onClick(s.target)},!1,K0)},outputs:{clickOutside:"clickOutside"}});let e=n;return e})();function l3(e,n){if(e&1&&se(0,"img",6),e&2){let r=w();la("src",r.user.photoURL,Tx)}}function d3(e,n){if(e&1&&(c(0,"span",7),d(1),_e(2,"titlecase"),l()),e&2){let r=w();h(),G(Ne(2,1,r.user.displayName?r.user.displayName:"User"))}}function m3(e,n){if(e&1&&(Kn(),c(0,"svg",8),se(1,"path",9),l()),e&2){let r=w();Fe("rotate-180",r.isOpen)}}function u3(e,n){if(e&1){let r=ue();c(0,"div",10)(1,"div",11)(2,"button",12),F("click",function(){N(r);let i=w();return L(i.viewProfile())}),Kn(),c(3,"svg",13),se(4,"path",14)(5,"path",15),l(),jr(),c(6,"span"),d(7,"View Profile"),l()(),c(8,"button",12),F("click",function(){N(r);let i=w();return L(i.openSettings())}),Kn(),c(9,"svg",13),se(10,"path",16),l(),jr(),c(11,"span"),d(12,"Settings"),l()(),c(13,"button",12),F("click",function(){N(r);let i=w();return L(i.openCacheManager())}),Kn(),c(14,"svg",13),se(15,"path",17),l(),jr(),c(16,"span"),d(17,"Cache Management"),l()(),c(18,"button",12),F("click",function(){N(r);let i=w();return L(i.shareApp())}),c(19,"mat-icon",18),d(20,"share"),l(),c(21,"span"),d(22,"Share App"),l()(),c(23,"button",12),F("click",function(){N(r);let i=w();return L(i.openHelp())}),Kn(),c(24,"svg",13),se(25,"path",19),l(),jr(),c(26,"span"),d(27,"Help"),l()()(),se(28,"div",20),c(29,"div",11)(30,"button",21),F("click",function(i){N(r);let a=w();return L(a.signOut(i))}),Kn(),c(31,"svg",13),se(32,"path",22),l(),jr(),c(33,"span"),d(34,"Sign Out"),l()()()()}e&2&&M("@slideDown",void 0)}var eC=(()=>{let n=class n{constructor(t,i,a,o,s){this.userService=t,this.notificationService=i,this.router=a,this.breakpointObserver=o,this.splitwiseService=s,this.isOpen=!1,this.isMobile=!1,this.user={displayName:"",photoURL:""},this.breakpointObserver.observe(Oa.Handset).subscribe(m=>{this.isMobile=m.matches})}ngOnInit(){this.userService.userAuth$.pipe(aa(1)).subscribe(t=>{this.user={displayName:t==null?void 0:t.displayName,photoURL:t==null?void 0:t.photoURL}})}toggle(t){t&&t.stopPropagation(),console.log("toggling"),this.isOpen=!this.isOpen}close(){this.isOpen=!1}viewProfile(){console.log("View profile clicked"),this.router.navigate(["/dashboard/profile"]),this.close()}openSettings(){console.log("Settings clicked"),this.notificationService.info("Settings feature coming soon"),this.close()}openCacheManager(){console.log("Cache management clicked"),this.notificationService.info("Opening cache management"),this.showCacheManagerDialog(),this.close()}showCacheManagerDialog(){let t=document.createElement("div");t.className="fixed inset-0 z-[9999] bg-black bg-opacity-50 flex items-center justify-center p-4",t.innerHTML=`
      <div class="bg-white rounded-lg shadow-xl max-w-md w-full max-h-[80vh] overflow-y-auto">
        <div class="p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-gray-900">Cache Management</h3>
            <button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-gray-600">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>
          
          <div class="space-y-4">
            <!-- Clear Cache Button -->
            <button 
              onclick="clearAppCache()"
              class="w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
              </svg>
              <span>Clear Cache</span>
            </button>

            <!-- Force Update Button -->
            <button 
              onclick="forceAppUpdate()"
              class="w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
              </svg>
              <span>Force Update</span>
            </button>

            <!-- App Info -->
            <div class="p-3 bg-gray-50 rounded-lg">
              <h4 class="font-medium text-gray-900 mb-2">App Information</h4>
              <div class="space-y-1">
                <div class="flex justify-between">
                  <span class="text-sm text-gray-600">Version:</span>
                  <span class="text-sm font-medium">${new Date().toISOString().split("T")[0]}</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-sm text-gray-600">Last Updated:</span>
                  <span class="text-sm font-medium">${new Date(localStorage.getItem("app-version")||new Date().toISOString().split("T")[0]).toLocaleDateString()}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    `,window.clearAppCache=()=>me(this,null,function*(){try{if("caches"in window){let i=yield caches.keys();yield Promise.all(i.map(a=>caches.delete(a)))}"indexedDB"in window&&(yield indexedDB.databases()).forEach(a=>{a.name&&indexedDB.deleteDatabase(a.name)}),this.notificationService.success("Cache cleared successfully!"),t.remove()}catch(i){console.error("Failed to clear cache:",i),this.notificationService.error("Failed to clear cache. Please try again.")}}),window.forceAppUpdate=()=>{localStorage.setItem("app-version",new Date().toISOString().split("T")[0]),this.notificationService.info("App update initiated"),window.location.reload()},document.body.appendChild(t),t.addEventListener("click",i=>{i.target===t&&t.remove()})}openHelp(){console.log("Help clicked"),this.notificationService.info("Help feature coming soon"),this.close()}signOut(t){return me(this,null,function*(){console.log("signing out");try{yield this.userService.signOut(),this.notificationService.success("Signed out successfully"),t.stopPropagation(),this.close()}catch(i){console.error("Error signing out:",i),this.notificationService.error("Failed to sign out")}})}shareApp(){this.splitwiseService.sharePWA(),this.close()}};n.\u0275fac=function(i){return new(i||n)(T(Bi),T(vt),T(hn),T(or),T(ms))},n.\u0275cmp=Se({type:n,selectors:[["app-user"]],decls:6,vars:4,consts:[[1,"relative","inline-block",3,"clickOutside"],["type","button",1,"relative","z-10","flex","items-center","p-2","text-sm","text-gray-600","bg-transparent","border","border-transparent","rounded-md","focus:border-blue-500","focus:ring-opacity-40","dark:focus:ring-opacity-40","focus:ring-blue-300","dark:focus:ring-blue-400","focus:ring","dark:text-white","dark:bg-gray-800","focus:outline-none","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors",3,"click"],["class","flex-shrink-0 object-cover mx-1 rounded-full w-9 h-9 border-2 border-gray-200 dark:border-gray-600","alt","avatar",3,"src",4,"ngIf"],["class","mx-1 truncate max-w-100",4,"ngIf"],["class","w-5 h-5 mx-1 transition-transform duration-200","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",3,"rotate-180",4,"ngIf"],["class","absolute right-0 z-20 w-64 py-2 mt-2 overflow-hidden origin-top-right bg-white rounded-lg shadow-xl dark:bg-gray-800 border border-gray-200 dark:border-gray-700",4,"ngIf"],["alt","avatar",1,"flex-shrink-0","object-cover","mx-1","rounded-full","w-9","h-9","border-2","border-gray-200","dark:border-gray-600",3,"src"],[1,"mx-1","truncate","max-w-100"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","mx-1","transition-transform","duration-200"],["d","M12 15.713L18.01 9.70299L16.597 8.28799L12 12.888L7.40399 8.28799L5.98999 9.70199L12 15.713Z","fill","currentColor"],[1,"absolute","right-0","z-20","w-64","py-2","mt-2","overflow-hidden","origin-top-right","bg-white","rounded-lg","shadow-xl","dark:bg-gray-800","border","border-gray-200","dark:border-gray-700"],[1,"py-1"],[1,"flex","items-center","w-full","px-4","py-2","text-sm","text-gray-600","capitalize","transition-colors","duration-200","dark:text-gray-300","hover:bg-gray-100","dark:hover:bg-gray-700","dark:hover:text-white","focus:outline-none","focus:bg-gray-100","dark:focus:bg-gray-700",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","mr-3"],["d","M7 8C7 5.23858 9.23858 3 12 3C14.7614 3 17 5.23858 17 8C17 10.7614 14.7614 13 12 13C9.23858 13 7 10.7614 7 8ZM12 11C13.6569 11 15 9.65685 15 8C15 6.34315 13.6569 5 12 5C10.3431 5 9 6.34315 9 8C9 9.65685 10.3431 11 12 11Z","fill","currentColor"],["d","M6.34315 16.3431C4.84285 17.8434 4 19.8783 4 22H6C6 20.4087 6.63214 18.8826 7.75736 17.7574C8.88258 16.6321 10.4087 16 12 16C13.5913 16 15.1174 16.6321 16.2426 17.7574C17.3679 18.8826 18 20.4087 18 22H20C20 19.8783 19.1571 17.8434 17.6569 16.3431C16.1566 14.8429 14.1217 14 12 14C9.87827 14 7.84344 14.8429 6.34315 16.3431Z","fill","currentColor"],["d","M13.8199 22H10.1799C9.71003 22 9.30347 21.673 9.20292 21.214L8.79592 19.33C8.25297 19.0921 7.73814 18.7946 7.26092 18.443L5.42392 19.028C4.97592 19.1709 4.48891 18.9823 4.25392 18.575L2.42992 15.424C2.19751 15.0165 2.27758 14.5025 2.62292 14.185L4.04792 12.885C3.98312 12.2961 3.98312 11.7019 4.04792 11.113L2.62292 9.816C2.27707 9.49837 2.19697 8.98372 2.42992 8.576L4.24992 5.423C4.48491 5.0157 4.97192 4.82714 5.41992 4.97L7.25692 5.555C7.50098 5.37416 7.75505 5.20722 8.01792 5.055C8.27026 4.91269 8.52995 4.78385 8.79592 4.669L9.20392 2.787C9.30399 2.32797 9.71011 2.00049 10.1799 2H13.8199C14.2897 2.00049 14.6958 2.32797 14.7959 2.787L15.2079 4.67C15.4887 4.79352 15.7622 4.93308 16.0269 5.088C16.2739 5.23081 16.5126 5.38739 16.7419 5.557L18.5799 4.972C19.0276 4.82967 19.514 5.01816 19.7489 5.425L21.5689 8.578C21.8013 8.98548 21.7213 9.49951 21.3759 9.817L19.9509 11.117C20.0157 11.7059 20.0157 12.3001 19.9509 12.889L21.3759 14.189C21.7213 14.5065 21.8013 15.0205 21.5689 15.428L19.7489 18.581C19.514 18.9878 19.0276 19.1763 18.5799 19.034L16.7419 18.449C16.5093 18.6203 16.2677 18.7789 16.0179 18.924C15.7557 19.0759 15.4853 19.2131 15.2079 19.335L14.7959 21.214C14.6954 21.6726 14.2894 21.9996 13.8199 22ZM7.61992 16.229L8.43992 16.829C8.62477 16.9652 8.81743 17.0904 9.01692 17.204C9.20462 17.3127 9.39788 17.4115 9.59592 17.5L10.5289 17.909L10.9859 20H13.0159L13.4729 17.908L14.4059 17.499C14.8132 17.3194 15.1998 17.0961 15.5589 16.833L16.3799 16.233L18.4209 16.883L19.4359 15.125L17.8529 13.682L17.9649 12.67C18.0141 12.2274 18.0141 11.7806 17.9649 11.338L17.8529 10.326L19.4369 8.88L18.4209 7.121L16.3799 7.771L15.5589 7.171C15.1997 6.90671 14.8132 6.68175 14.4059 6.5L13.4729 6.091L13.0159 4H10.9859L10.5269 6.092L9.59592 6.5C9.39772 6.58704 9.20444 6.68486 9.01692 6.793C8.81866 6.90633 8.62701 7.03086 8.44292 7.166L7.62192 7.766L5.58192 7.116L4.56492 8.88L6.14792 10.321L6.03592 11.334C5.98672 11.7766 5.98672 12.2234 6.03592 12.666L6.14792 13.678L4.56492 15.121L5.57992 16.879L7.61992 16.229ZM11.9959 16C9.78678 16 7.99592 14.2091 7.99592 12C7.99592 9.79086 9.78678 8 11.9959 8C14.2051 8 15.9959 9.79086 15.9959 12C15.9932 14.208 14.2039 15.9972 11.9959 16ZM11.9959 10C10.9033 10.0011 10.0138 10.8788 9.99815 11.9713C9.98249 13.0638 10.8465 13.9667 11.9386 13.9991C13.0307 14.0315 13.9468 13.1815 13.9959 12.09V12.49V12C13.9959 10.8954 13.1005 10 11.9959 10Z","fill","currentColor"],["d","M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3ZM19 19H5V5H19V19ZM17 13H7V11H17V13ZM13 17H7V15H13V17ZM7 9V7H17V9H7Z","fill","currentColor"],[1,"text-sm","mr-1"],["d","M12 22C6.47967 21.9939 2.00606 17.5203 2 12V11.8C2.10993 6.30452 6.63459 1.92794 12.1307 2.00087C17.6268 2.07379 22.0337 6.56887 21.9978 12.0653C21.9619 17.5618 17.4966 21.9989 12 22ZM11.984 20H12C16.4167 19.9956 19.9942 16.4127 19.992 11.996C19.9898 7.57928 16.4087 3.99999 11.992 3.99999C7.57528 3.99999 3.99421 7.57928 3.992 11.996C3.98979 16.4127 7.56729 19.9956 11.984 20ZM13 18H11V16H13V18ZM13 15H11C10.9684 13.6977 11.6461 12.4808 12.77 11.822C13.43 11.316 14 10.88 14 9.99999C14 8.89542 13.1046 7.99999 12 7.99999C10.8954 7.99999 10 8.89542 10 9.99999H8V9.90999C8.01608 8.48093 8.79333 7.16899 10.039 6.46839C11.2846 5.76778 12.8094 5.78493 14.039 6.51339C15.2685 7.24184 16.0161 8.57093 16 9.99999C15.9284 11.079 15.3497 12.0602 14.44 12.645C13.6177 13.1612 13.0847 14.0328 13 15Z","fill","currentColor"],[1,"border-t","border-gray-100","dark:border-gray-700","my-1"],[1,"flex","items-center","w-full","px-4","py-2","text-sm","text-red-600","capitalize","transition-colors","duration-200","dark:text-red-400","hover:bg-red-50","dark:hover:bg-red-900/20","focus:outline-none","focus:bg-red-50","dark:focus:bg-red-900/20",3,"click"],["d","M19 21H10C8.89543 21 8 20.1046 8 19V15H10V19H19V5H10V9H8V5C8 3.89543 8.89543 3 10 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21ZM12 16V13H3V11H12V8L17 12L12 16Z","fill","currentColor"]],template:function(i,a){i&1&&(c(0,"div",0),F("clickOutside",function(){return a.close()}),c(1,"button",1),F("click",function(s){return a.toggle(s)}),U(2,l3,1,1,"img",2)(3,d3,3,3,"span",3)(4,m3,2,2,"svg",4),l(),U(5,u3,35,1,"div",5),l()),i&2&&(h(2),M("ngIf",a.user==null?null:a.user.photoURL),h(),M("ngIf",!a.isMobile||!(a.user!=null&&a.user.photoURL)),h(),M("ngIf",!a.isMobile),h(),M("ngIf",a.isOpen))},dependencies:[dt,lt,Jb,Pa],data:{animation:[sr("slideDown",[Rn("void",Ut({opacity:0,transform:"translateY(-10px) scale(0.95)"})),Rn("*",Ut({opacity:1,transform:"translateY(0) scale(1)"})),Nn("void => *",[Un("200ms ease-out")]),Nn("* => void",[Un("150ms ease-in")])])]}});let e=n;return e})();var tC=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Se({type:n,selectors:[["app-header"]],decls:3,vars:0,consts:[[1,"header","flex","justify-between","p-2"]],template:function(i,a){i&1&&(c(0,"header",0),se(1,"side-bar")(2,"app-user"),l())},dependencies:[Zb,eC]});let e=n;return e})();var Th=ra(_a());var kh=ao("categories"),zi=jt(kh,e=>e.ids.map(n=>e.entities[n]).filter(n=>n)),Uu=jt(kh,e=>e.loading),dX=jt(kh,e=>e.error);var mX=jt(zi,e=>e.filter(n=>n.type===qn.INCOME)),uX=jt(zi,e=>e.filter(n=>n.type===qn.EXPENSE));var Sl=(()=>{let n=class n{constructor(t,i){this.firestore=t,this.store=i,this.categories={},this.store.select(zi).subscribe(a=>{a.forEach(o=>{o.id&&(this.categories[o.id]=o)})})}getUserCategoriesCollection(t){return ma(this.firestore,`users/${t}/categories`)}getCategories(t){let i=this.getUserCategoriesCollection(t);return new rn(a=>{as(i).then(o=>{let s=[];o.forEach(m=>{let u=m.data(),f={id:m.id,name:u==null?void 0:u.name,type:u==null?void 0:u.type,icon:(u==null?void 0:u.icon)||"category",color:(u==null?void 0:u.color)||"#46777f",createdAt:u==null?void 0:u.createdAt,budget:(u==null?void 0:u.budget)||null,parentCategoryId:(u==null?void 0:u.parentCategoryId)||null,isSubCategory:(u==null?void 0:u.isSubCategory)||!1,subCategories:(u==null?void 0:u.subCategories)||[]};s.push(f)}),a.next(s),a.complete()}).catch(o=>{a.error(o)})})}createCategory(t,i,a,o,s){return new rn(m=>{Tv(this.getUserCategoriesCollection(t),{name:i,type:a,icon:o,color:s,createdAt:Date.now()}).then(()=>{m.next(),m.complete()}).catch(u=>{m.error(u)})})}updateCategory(t,i,a,o,s,m,u,f,g){return new rn(x=>{let C=zt(this.firestore,`users/${t}/categories/${i}`);Ii(C).then(y=>{if(y.exists()){let v=y.data(),P={name:a,type:o,icon:s,color:m};if(u&&(P.budget=u),f!==void 0)if(f==null){if(v.parentCategoryId){let D=this.categories[v.parentCategoryId];if(D&&D.subCategories){let I=D.subCategories.filter(A=>A!==i);pi(zt(this.firestore,`users/${t}/categories/${v.parentCategoryId}`),{subCategories:I})}}P.parentCategoryId=Xm()}else{if(v.parentCategoryId&&v.parentCategoryId!==f){let I=this.categories[v.parentCategoryId];if(I&&I.subCategories){let A=I.subCategories.filter(K=>K!==i);pi(zt(this.firestore,`users/${t}/categories/${v.parentCategoryId}`),{subCategories:A})}}let D=this.categories[f];if(D){let I=[...D.subCategories||[],i];pi(zt(this.firestore,`users/${t}/categories/${f}`),{subCategories:I})}P.parentCategoryId=f}g!==void 0&&(P.isSubCategory=g),pi(C,P).then(()=>{x.next(),x.complete()}).catch(D=>{x.error(D)})}else x.error(new Error("Category not found"))}).catch(y=>{x.error(y)})})}deleteCategory(t,i){return new rn(a=>{let o=zt(this.firestore,`users/${t}/categories/${i}`);Ii(o).then(s=>{if(s.exists()){let m=s.data();if(m.isSubCategory&&m.parentCategoryId){let u=this.categories[m.parentCategoryId];if(u&&u.subCategories){let f=u.subCategories.filter(g=>g!==i);pi(zt(this.firestore,`users/${t}/categories/${m.parentCategoryId}`),{subCategories:f}).then(()=>{kr(o).then(()=>{a.next(),a.complete()}).catch(g=>{a.error(g)})}).catch(g=>{a.error(g)})}else kr(o).then(()=>{a.next(),a.complete()}).catch(f=>{a.error(f)})}else if(m.subCategories&&m.subCategories.length>0){let u=m.subCategories.map(f=>kr(zt(this.firestore,`users/${t}/categories/${f}`)));Promise.all(u).then(()=>{kr(o).then(()=>{a.next(),a.complete()}).catch(f=>{a.error(f)})}).catch(f=>{a.error(f)})}else kr(o).then(()=>{a.next(),a.complete()}).catch(u=>{a.error(u)})}else a.next(),a.complete()}).catch(s=>{a.error(s)})})}getCategoryNameById(t){var i;return((i=this.categories[t])==null?void 0:i.name)||""}removeFromParentCategory(t,i){return new rn(a=>{let o=zt(this.firestore,`users/${t}/categories/${i}`);Ii(o).then(s=>{if(s.exists()){let m=s.data();if(m.parentCategoryId){let u=this.categories[m.parentCategoryId];if(u&&u.subCategories){let f=u.subCategories.filter(g=>g!==i);pi(zt(this.firestore,`users/${t}/categories/${m.parentCategoryId}`),{subCategories:f}).then(()=>{pi(o,{parentCategoryId:Xm(),isSubCategory:!1}).then(()=>{a.next(),a.complete()}).catch(g=>{a.error(g)})}).catch(g=>{a.error(g)})}else pi(o,{parentCategoryId:Xm(),isSubCategory:!1}).then(()=>{a.next(),a.complete()}).catch(f=>{a.error(f)})}else a.next(),a.complete()}else a.error(new Error("Category not found"))}).catch(s=>{a.error(s)})})}getCategoryWithSubCategories(t,i){return new rn(a=>{this.getCategories(t).subscribe(o=>{a.next(o.find(s=>s.id===i)||null),a.complete()},o=>{a.error(o)})})}hasSubCategories(t){let i=this.categories[t];return(i==null?void 0:i.subCategories)&&i.subCategories.length>0||!1}getSubCategoriesCount(t){var a;let i=this.categories[t];return((a=i==null?void 0:i.subCategories)==null?void 0:a.length)||0}};n.\u0275fac=function(i){return new(i||n)(Ie(Zr),Ie(Ft))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var Eh=(e,n)=>n.value;function h3(e,n){e&1&&(c(0,"p",14),d(1,"Account name is required"),l())}function g3(e,n){e&1&&(c(0,"p",14),d(1,"Account name must be less than 50 characters"),l())}function _3(e,n){if(e&1&&(c(0,"mat-option",18),d(1),l()),e&2){let r=n.$implicit;M("value",r.value),h(),G(r.label)}}function x3(e,n){e&1&&(c(0,"mat-error"),d(1,"Account type is required"),l())}function v3(e,n){if(e&1&&(c(0,"p",20),d(1),l()),e&2){let r=w();h(),G(r.getBalanceError())}}function b3(e,n){e&1&&(c(0,"p",20),d(1,"Lender name is required"),l())}function C3(e,n){if(e&1&&(c(0,"p",20),d(1),l()),e&2){let r=w(2);h(),G(r.getLoanAmountError())}}function y3(e,n){if(e&1&&(c(0,"p",20),d(1),l()),e&2){let r=w(2);h(),G(r.getInterestRateError())}}function w3(e,n){if(e&1&&(c(0,"p",20),d(1),l()),e&2){let r=w(2);h(),G(r.getDurationError())}}function M3(e,n){if(e&1&&(c(0,"div",44)(1,"span",45),d(2),_e(3,"currency"),l(),c(4,"mat-icon",24),d(5,"calculate"),l()(),c(6,"p",39),d(7," Calculated using loan amortization formula "),l()),e&2){let r=w(2);h(2),ae(" ",Ne(3,1,r.getCalculatedMonthlyPayment())," ")}}function S3(e,n){e&1&&(se(0,"input",46),c(1,"p",39),d(2," Enter your actual monthly payment amount "),l())}function P3(e,n){if(e&1&&(c(0,"mat-option",18),d(1),l()),e&2){let r=n.$implicit;M("value",r.value),h(),G(r.label)}}function k3(e,n){if(e&1&&(c(0,"mat-option",18),d(1),l()),e&2){let r=n.$implicit;M("value",r.value),h(),G(r.label)}}function O3(e,n){if(e&1){let r=ue();c(0,"div",21)(1,"h4",23)(2,"mat-icon",24),d(3,"account_balance_wallet"),l(),d(4," Loan Details "),l(),c(5,"div",25)(6,"label",11),d(7," Lender Name * "),l(),se(8,"input",26),U(9,b3,2,0,"p",20),l(),c(10,"div",25)(11,"label",11),d(12," Loan Amount * "),l(),se(13,"input",27),U(14,C3,2,1,"p",20),l(),c(15,"div",25)(16,"label",11),d(17," Annual Interest Rate (%) * "),l(),se(18,"input",28),U(19,y3,2,1,"p",20),l(),c(20,"div",25)(21,"label",11),d(22," Loan Start Date * "),l(),se(23,"input",29),l(),c(24,"div",25)(25,"label",11),d(26," Loan Duration (months) * "),l(),se(27,"input",30),U(28,w3,2,1,"p",20),l(),c(29,"div",25)(30,"label",11),d(31," Monthly Payment Amount "),l(),c(32,"div",31)(33,"label",3),se(34,"input",32),c(35,"span",33),d(36," Use calculated payment amount "),l()()(),U(37,M3,8,3)(38,S3,3,0),l(),c(39,"div",25)(40,"label",11),d(41," Repayment Frequency * "),l(),c(42,"mat-form-field",16)(43,"mat-label"),d(44,"Select frequency"),l(),c(45,"mat-select",34),Ge(46,P3,2,2,"mat-option",18,Eh),l()()(),c(48,"div",25)(49,"label",11),d(50," Loan Status * "),l(),c(51,"mat-form-field",16)(52,"mat-label"),d(53,"Select status"),l(),c(54,"mat-select",35),Ge(55,k3,2,2,"mat-option",18,Eh),l()()(),c(57,"div",25)(58,"label",11),d(59," Calculated Remaining Balance "),l(),c(60,"div",36),se(61,"input",37),c(62,"button",38),F("click",function(){N(r);let i=w();return L(i.updateRemainingBalance())}),d(63," Recalculate "),l()(),c(64,"p",39),d(65," Automatically calculated based on time elapsed since loan start date "),l()(),c(66,"div",25)(67,"label",11),d(68," Next Payment Due Date * "),l(),se(69,"input",40),l(),c(70,"div",25)(71,"label",3),se(72,"input",41),c(73,"span",33),d(74," Show payment reminders "),l()()(),c(75,"div",25)(76,"label",3),se(77,"input",42),c(78,"span",33),d(79," Create recurring transaction for loan payments "),l()(),c(80,"p",43),d(81," Automatically creates a recurring transaction for monthly loan payments "),l()()()}if(e&2){let r,t,i,a=w();h(9),Qe((r=a.accountForm.get("lenderName"))!=null&&r.hasError("required")&&((r=a.accountForm.get("lenderName"))!=null&&r.touched)?9:-1),h(5),Qe(a.getLoanAmountError()?14:-1),h(5),Qe(a.getInterestRateError()?19:-1),h(9),Qe(a.getDurationError()?28:-1),h(9),Qe((t=a.accountForm.get("useCalculatedPayment"))!=null&&t.value?37:-1),h(),Qe((i=a.accountForm.get("useCalculatedPayment"))!=null&&i.value?-1:38),h(8),qe(a.repaymentFrequencies),h(9),qe(a.loanStatuses)}}var Td=(()=>{let n=class n{constructor(t,i,a,o,s,m,u,f,g,x,C){var y,v,P,D,I,A,K,J,O,k,V;this.dialogData=t,this.fb=i,this.dialogRef=a,this.auth=o,this.notificationService=s,this.hapticFeedback=m,this.validationService=u,this.store=f,this.transactionsService=g,this.categoryService=x,this.accountsService=C,this.isSubmitting=!1,this.accountTypes=[{value:so.BANK,label:"Bank Account (Checking/Savings)"},{value:so.CASH,label:"Cash"},{value:so.CREDIT,label:"Credit Card"},{value:so.LOAN,label:"Loan"},{value:so.INVESTMENT,label:"Investment"}],this.repaymentFrequencies=[{value:"monthly",label:"Monthly"},{value:"weekly",label:"Weekly"}],this.loanStatuses=[{value:"active",label:"Active"},{value:"closed",label:"Closed"},{value:"defaulted",label:"Defaulted"}],this.accountForm=this.fb.group({name:["",this.validationService.getAccountNameValidators()],type:["bank",wt.required],balance:[0,this.validationService.getAccountBalanceValidators()],description:[""],lenderName:[""],loanAmount:[0,this.validationService.getLoanAmountValidators()],interestRate:[0,this.validationService.getInterestRateValidators()],startDate:[new Date],durationMonths:[12,this.validationService.getDurationMonthsValidators()],repaymentFrequency:["monthly"],status:["active"],remainingBalance:[0,[wt.min(0)]],nextDueDate:[new Date],showReminder:[!0],useCalculatedPayment:[!0],customMonthlyPayment:[0,[wt.min(0)]],createRecurringTransaction:[!0]}),this.dialogData&&(this.accountForm.patchValue(oe({name:this.dialogData.name,type:this.dialogData.type,balance:this.dialogData.balance||0,description:this.dialogData.description},this.dialogData.loanDetails&&{lenderName:this.dialogData.loanDetails.lenderName,loanAmount:this.dialogData.loanDetails.loanAmount,interestRate:this.dialogData.loanDetails.interestRate,startDate:this.dialogData.loanDetails.startDate,durationMonths:this.dialogData.loanDetails.durationMonths,repaymentFrequency:this.dialogData.loanDetails.repaymentFrequency,status:this.dialogData.loanDetails.status,remainingBalance:this.dialogData.loanDetails.remainingBalance,nextDueDate:this.dialogData.loanDetails.nextDueDate,showReminder:this.dialogData.loanDetails.showReminder,useCalculatedPayment:!0,customMonthlyPayment:this.dialogData.loanDetails.monthlyPayment||0,createRecurringTransaction:!0})),setTimeout(()=>{this.updateRemainingBalance()},100),(y=this.accountForm.get("loanAmount"))==null||y.valueChanges.subscribe(W=>{var ee;((ee=this.accountForm.get("type"))==null?void 0:ee.value)==="loan"&&this.accountForm.patchValue({balance:-W},{emitEvent:!1})}),(v=this.accountForm.get("type"))==null||v.valueChanges.subscribe(W=>{let ee=this.accountForm.get("lenderName"),re=this.accountForm.get("loanAmount"),ie=this.accountForm.get("interestRate"),ke=this.accountForm.get("durationMonths"),Be=this.accountForm.get("nextDueDate");W==="loan"?(ee==null||ee.setValidators([wt.required]),re==null||re.setValidators([wt.required,...this.validationService.getLoanAmountValidators()]),ie==null||ie.setValidators([wt.required,...this.validationService.getInterestRateValidators()]),ke==null||ke.setValidators([wt.required,...this.validationService.getDurationMonthsValidators()]),Be==null||Be.setValidators([wt.required])):(ee==null||ee.clearValidators(),re==null||re.clearValidators(),ie==null||ie.clearValidators(),ke==null||ke.clearValidators(),Be==null||Be.clearValidators()),ee==null||ee.updateValueAndValidity(),re==null||re.updateValueAndValidity(),ie==null||ie.updateValueAndValidity(),ke==null||ke.updateValueAndValidity(),Be==null||Be.updateValueAndValidity()}),(P=this.accountForm.get("loanAmount"))==null||P.valueChanges.subscribe(()=>{this.updateRemainingBalance()}),(D=this.accountForm.get("startDate"))==null||D.valueChanges.subscribe(()=>{this.updateRemainingBalance()}),(I=this.accountForm.get("interestRate"))==null||I.valueChanges.subscribe(()=>{this.updateRemainingBalance()}),(A=this.accountForm.get("durationMonths"))==null||A.valueChanges.subscribe(()=>{this.updateRemainingBalance()}),(K=this.accountForm.get("repaymentFrequency"))==null||K.valueChanges.subscribe(()=>{this.updateRemainingBalance()}),(J=this.accountForm.get("useCalculatedPayment"))==null||J.valueChanges.subscribe(W=>{if(W){let ee=this.getCalculatedMonthlyPayment();this.accountForm.patchValue({customMonthlyPayment:ee},{emitEvent:!1})}}),(O=this.accountForm.get("loanAmount"))==null||O.valueChanges.subscribe(()=>{var W;if((W=this.accountForm.get("useCalculatedPayment"))!=null&&W.value){let ee=this.getCalculatedMonthlyPayment();this.accountForm.patchValue({customMonthlyPayment:ee},{emitEvent:!1})}}),(k=this.accountForm.get("interestRate"))==null||k.valueChanges.subscribe(()=>{var W;if((W=this.accountForm.get("useCalculatedPayment"))!=null&&W.value){let ee=this.getCalculatedMonthlyPayment();this.accountForm.patchValue({customMonthlyPayment:ee},{emitEvent:!1})}}),(V=this.accountForm.get("durationMonths"))==null||V.valueChanges.subscribe(()=>{var W;if((W=this.accountForm.get("useCalculatedPayment"))!=null&&W.value){let ee=this.getCalculatedMonthlyPayment();this.accountForm.patchValue({customMonthlyPayment:ee},{emitEvent:!1})}}))}ngOnInit(){var t,i;this.userId=(t=this.auth.currentUser)==null?void 0:t.uid,!this.dialogData&&((i=this.accountForm.get("type"))==null?void 0:i.value)==="loan"&&this.updateRemainingBalance()}onSubmit(){return me(this,null,function*(){var t,i,a;if(this.accountForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let o=this.accountForm.value,s=o.type==="loan",m={name:o.name.trim(),type:o.type,balance:Number(o.balance)||0,description:o.description};s&&(m.loanDetails={lenderName:o.lenderName.trim(),loanAmount:Number(o.loanAmount)||0,interestRate:Number(o.interestRate)||0,startDate:o.startDate,durationMonths:Number(o.durationMonths)||12,repaymentFrequency:o.repaymentFrequency,status:o.status,remainingBalance:Number(o.remainingBalance)||0,nextDueDate:o.nextDueDate,showReminder:o.showReminder}),(t=this.dialogData)!=null&&t.accountId?(yield this.store.dispatch(Gc({userId:this.userId,accountId:this.dialogData.accountId,accountData:m})),this.notificationService.success("Account updated successfully")):(yield this.store.dispatch($c({userId:this.userId,accountData:m})),s&&m.loanDetails&&((i=this.accountForm.get("createRecurringTransaction"))!=null&&i.value)&&this.createLoanPaymentRecurringTransactionAfterAccountCreation(m),s&&((a=this.accountForm.get("createRecurringTransaction"))!=null&&a.value)?this.notificationService.success("Loan account created successfully! A recurring transaction for loan payments has been set up."):s?this.notificationService.success("Loan account created successfully!"):this.notificationService.success("Account added successfully"),this.hapticFeedback.successVibration()),this.dialogRef.close(!0)}catch(o){this.notificationService.error("Failed to save account"),console.error("Error saving account:",o)}finally{this.isSubmitting=!1}}})}onClose(){this.dialogRef.close()}getNameError(){let t=this.accountForm.get("name");return t?this.validationService.getAccountNameError(t):""}getBalanceError(){let t=this.accountForm.get("balance");return t?this.validationService.getAccountBalanceError(t):""}isLoanAccount(){var t;return((t=this.accountForm.get("type"))==null?void 0:t.value)==="loan"}getLoanAmountError(){let t=this.accountForm.get("loanAmount");return t?this.validationService.getLoanAmountError(t):""}getInterestRateError(){let t=this.accountForm.get("interestRate");return t?this.validationService.getInterestRateError(t):""}getDurationError(){let t=this.accountForm.get("durationMonths");return t?this.validationService.getDurationError(t):""}getCalculatedMonthlyPayment(){var s,m,u,f,g;if(!this.isLoanAccount())return 0;if(!((s=this.accountForm.get("useCalculatedPayment"))==null?void 0:s.value))return((m=this.accountForm.get("customMonthlyPayment"))==null?void 0:m.value)||0;let i=((u=this.accountForm.get("loanAmount"))==null?void 0:u.value)||0,a=((f=this.accountForm.get("interestRate"))==null?void 0:f.value)||0,o=((g=this.accountForm.get("durationMonths"))==null?void 0:g.value)||12;return this.calculateMonthlyPayment(i,a,o)}getCurrentRemainingBalance(){var t;return((t=this.accountForm.get("remainingBalance"))==null?void 0:t.value)||0}updateRemainingBalance(){var m,u,f,g;if(!this.isLoanAccount())return;let t=((m=this.accountForm.get("loanAmount"))==null?void 0:m.value)||0,i=(u=this.accountForm.get("startDate"))==null?void 0:u.value,a=((f=this.accountForm.get("durationMonths"))==null?void 0:f.value)||12,o=((g=this.accountForm.get("repaymentFrequency"))==null?void 0:g.value)||"monthly";if(console.log("Updating remaining balance:",{loanAmount:t,startDate:i,durationMonths:a,repaymentFrequency:o}),!i||t<=0){this.accountForm.patchValue({remainingBalance:t},{emitEvent:!1}),console.log("Setting remaining balance to loan amount:",t);return}let s=this.calculateRemainingBalance(t,i,a,o);console.log("Calculated remaining balance:",s),this.accountForm.patchValue({remainingBalance:s,balance:-s},{emitEvent:!1})}calculateRemainingBalance(t,i,a,o){var v;let s=new Date,m=new Date(i),u=Math.round((0,Th.default)(s).diff((0,Th.default)(m),"months",!0)),f=0;if(o==="weekly"){let P=Math.floor((s.getTime()-m.getTime())/6048e5);f=Math.max(0,P)}else f=Math.max(0,u);let g=((v=this.accountForm.get("interestRate"))==null?void 0:v.value)||0,x=this.calculateMonthlyPayment(t,g,a),C=f*x,y=Math.max(0,t-C);return console.log("Remaining balance calculation details:",{today:s.toISOString(),start:m.toISOString(),monthsElapsed:u,paymentsMade:f,interestRate:g,monthlyPayment:x,totalPaid:C,remainingBalance:y}),Math.round(y*100)/100}findOrCreateLoanPaymentCategory(t){return this.categoryService.getCategories(t).pipe(oa(i=>{let a=i.find(o=>o.name.toLowerCase().includes("loan")&&o.type===qn.EXPENSE);return a!=null&&a.id?st(a.id):this.categoryService.createCategory(t,"Loan Payment",qn.EXPENSE,"account_balance","#ef4444").pipe(oa(()=>this.categoryService.getCategories(t)),tt(o=>{let s=o.find(m=>m.name==="Loan Payment"&&m.type===qn.EXPENSE);return(s==null?void 0:s.id)||""}))}))}calculateMonthlyPayment(t,i,a){if(a<=0||i<=0)return t/a;let o=i/(12*100),s=o*Math.pow(1+o,a),m=Math.pow(1+o,a)-1;if(m===0)return t/a;let u=t*(s/m);return Math.round(u*100)/100}createLoanPaymentRecurringTransaction(t,i,a){return this.findOrCreateLoanPaymentCategory(t).pipe(oa(o=>{if(!o)throw new Error("Failed to create loan payment category");let s=this.getCalculatedMonthlyPayment(),m={userId:t,accountId:i,categoryId:o,category:"Loan Payment",payee:a.lenderName,amount:s,type:qn.EXPENSE,date:new Date,notes:`Monthly payment for ${a.lenderName} loan`,status:il.COMPLETED,paymentMethod:ss.BANK_TRANSFER,isRecurring:!0,recurringInterval:a.repaymentFrequency==="weekly"?qi.WEEKLY:qi.MONTHLY,recurringEndDate:this.calculateLoanEndDate(a.startDate,a.durationMonths),nextOccurrence:a.nextDueDate,createdAt:new Date,updatedAt:new Date,createdBy:t,updatedBy:t,syncStatus:"synced",isPending:!1,lastSyncedAt:new Date};return this.transactionsService.createTransaction(t,m)}))}calculateLoanEndDate(t,i){let a=new Date(t);return a.setMonth(a.getMonth()+i),a}createLoanPaymentRecurringTransactionAfterAccountCreation(t){setTimeout(()=>me(this,null,function*(){try{let i=yield this.store.select(o=>o.accounts.entities).pipe(tt(o=>Object.values(o))).toPromise(),a=i==null?void 0:i.find(o=>o.name===t.name&&o.type===t.type);a!=null&&a.accountId&&(yield this.createLoanPaymentRecurringTransaction(this.userId,a.accountId,t.loanDetails).toPromise(),this.notificationService.success("Loan payment recurring transaction created successfully"))}catch(i){console.error("Failed to create loan payment recurring transaction:",i),this.notificationService.warning("Account created but failed to create loan payment recurring transaction")}}),1e3)}};n.\u0275fac=function(i){return new(i||n)(T(ji),T(Pr),T(Vi),T(kt),T(vt),T(Da),T(Ta),T(Ft),T(wl),T(Sl),T(Cl))},n.\u0275cmp=Se({type:n,selectors:[["app-add-account-dialog"]],decls:40,vars:11,consts:[[1,"sticky","top-0","z-20","bg-white","dark:bg-gray-800","border-b","border-gray-200","dark:border-gray-700","shadow-sm"],[1,"flex","items-center","justify-between","px-4","py-3"],[1,"text-lg","font-semibold","text-gray-900","dark:text-gray-100"],[1,"flex","items-center","gap-2"],["mat-icon-button","","color","primary","matTooltip","Save Account",1,"w-10","h-10","!bg-primary",3,"click","disabled"],[1,"text-white"],["mat-icon-button","","type","button","matTooltip","Close",1,"text-gray-500","hover:text-gray-700","dark:text-gray-400","dark:hover:text-gray-200",3,"click"],[1,"flex-1","overflow-y-auto","bg-gray-50","dark:bg-gray-900","h-[100vh]"],[1,"p-4","space-y-6"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-4","shadow-sm"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["type","text","formControlName","name","placeholder","e.g., Chase Checking",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"maxlength"],[1,"flex","justify-between","items-center","mt-1"],[1,"text-red-500","text-sm"],[1,"text-xs","text-gray-500"],["appearance","fill",1,"w-full"],["formControlName","type"],[3,"value"],["type","number","formControlName","balance","placeholder","0.00","step","0.01",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],[1,"text-red-500","text-sm","mt-1"],[1,"bg-amber-50","dark:bg-amber-900/20","border","border-amber-200","dark:border-amber-800","rounded-lg","p-4"],[1,"h-20"],[1,"text-sm","font-semibold","text-amber-800","dark:text-amber-200","mb-4","flex","items-center","gap-2"],[1,"text-amber-600","dark:text-amber-400"],[1,"mb-4"],["type","text","formControlName","lenderName","placeholder","e.g., Bank of America",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","number","formControlName","loanAmount","placeholder","0.00","step","0.01",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","number","formControlName","interestRate","placeholder","5.5","step","0.1",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","date","formControlName","startDate",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","number","formControlName","durationMonths","placeholder","12",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],[1,"mb-3"],["type","checkbox","formControlName","useCalculatedPayment",1,"w-4","h-4","text-amber-600","bg-gray-100","border-gray-300","rounded","focus:ring-amber-500","dark:focus:ring-amber-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],["formControlName","repaymentFrequency"],["formControlName","status"],[1,"flex","gap-2"],["type","number","formControlName","remainingBalance","readonly","",1,"flex-1","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-gray-100","dark:bg-gray-700","text-gray-600","dark:text-gray-400"],["type","button",1,"px-4","py-3","bg-amber-600","text-white","rounded-lg","hover:bg-amber-700","focus:outline-none","focus:ring-2","focus:ring-amber-500",3,"click"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1"],["type","date","formControlName","nextDueDate",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","checkbox","formControlName","showReminder",1,"w-4","h-4","text-amber-600","bg-gray-100","border-gray-300","rounded","focus:ring-amber-500","dark:focus:ring-amber-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],["type","checkbox","formControlName","createRecurringTransaction",1,"w-4","h-4","text-amber-600","bg-gray-100","border-gray-300","rounded","focus:ring-amber-500","dark:focus:ring-amber-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1","ml-6"],[1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-gray-100","dark:bg-gray-700","text-gray-600","dark:text-gray-400","flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-amber-600","dark:text-amber-400"],["type","number","formControlName","customMonthlyPayment","placeholder","0.00","step","0.01",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"]],template:function(i,a){if(i&1&&(c(0,"div",0)(1,"div",1)(2,"h6",2),d(3),l(),c(4,"div",3)(5,"button",4),F("click",function(){return a.onSubmit()}),c(6,"mat-icon",5),d(7),l()(),c(8,"button",6),F("click",function(){return a.onClose()}),c(9,"mat-icon"),d(10,"close"),l()()()()(),c(11,"div",7)(12,"div",8)(13,"form",9),F("ngSubmit",function(){return a.onSubmit()}),c(14,"div",10)(15,"label",11),d(16," Account Name * "),l(),se(17,"input",12),c(18,"div",13),U(19,h3,2,0,"p",14)(20,g3,2,0,"p",14),c(21,"span",15),d(22),l()()(),c(23,"div",10)(24,"label",11),d(25," Account Type * "),l(),c(26,"mat-form-field",16)(27,"mat-label"),d(28,"Select account type"),l(),c(29,"mat-select",17),Ge(30,_3,2,2,"mat-option",18,Eh),l(),U(32,x3,2,0,"mat-error"),l()(),c(33,"div",10)(34,"label",11),d(35," Initial Balance * "),l(),se(36,"input",19),U(37,v3,2,1,"p",20),l(),U(38,O3,82,6,"div",21),se(39,"div",22),l()()()),i&2){let o,s,m,u;h(3),ae(" ",a.dialogData!=null&&a.dialogData.accountId?"Edit":"Add"," Account "),h(2),M("disabled",a.accountForm.invalid||a.isSubmitting),h(2),ae(" ",a.isSubmitting?"hourglass_empty":"check"," "),h(6),M("formGroup",a.accountForm),h(4),M("maxlength",50),h(2),Qe((o=a.accountForm.get("name"))!=null&&o.hasError("required")&&((o=a.accountForm.get("name"))!=null&&o.touched)?19:-1),h(),Qe((s=a.accountForm.get("name"))!=null&&s.hasError("maxlength")?20:-1),h(2),ae(" ",((m=a.accountForm.get("name"))==null||m.value==null?null:m.value.length)||0,"/50 "),h(8),qe(a.accountTypes),h(2),Qe((u=a.accountForm.get("type"))!=null&&u.hasError("required")&&((u=a.accountForm.get("type"))!=null&&u.touched)?32:-1),h(5),Qe(a.getBalanceError()?37:-1),h(),Qe(a.isLoanAccount()?38:-1)}},dependencies:[Mi,on,rr,Gx,sn,yi,Hc,Mr,Sr,mn,lt,Or,Ia,co,cr,Xi,En,Ur],styles:["[_nghost-%COMP%]{display:block;max-width:600px;width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}button[_ngcontent-%COMP%]:active{transform:translateY(0)}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.text-red-500[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.text-green-500[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}*[_ngcontent-%COMP%]{transition:background-color .3s ease,color .3s ease,border-color .3s ease}"]});let e=n;return e})();function T3(e,n){if(e&1){let r=ue();c(0,"button",14),F("click",function(){N(r);let i=w();return L(i.clearSearch())}),c(1,"mat-icon"),d(2,"clear"),l()()}}function E3(e,n){if(e&1){let r=ue();c(0,"div",15)(1,"mat-icon",16),d(2,"search_off"),l(),c(3,"p",17),d(4,"No icons found"),l(),c(5,"button",18),F("click",function(){N(r);let i=w();return L(i.clearSearch())}),d(6," Clear Search "),l()()}}function D3(e,n){if(e&1){let r=ue();c(0,"button",21),F("click",function(){let i=N(r).$implicit,a=w(2);return L(a.selectIcon(i))}),c(1,"mat-icon",22),d(2),l(),c(3,"span",23),d(4),l()()}if(e&2){let r=n.$implicit,t=w(2);Fe("selected",t.selectedIcon===r),Kt("aria-label","Select "+r+" icon"),h(2),G(r),h(2),G(r)}}function I3(e,n){if(e&1&&(c(0,"div",19),U(1,D3,5,5,"button",20),l()),e&2){let r=w();h(),M("ngForOf",r.filteredIcons)("ngForTrackBy",r.trackByIcon)}}var nC=(()=>{let n=class n{constructor(t,i){this.dialogRef=t,this.data=i,this.availableIcons=Rv,this.searchTerm="",this.filteredIcons=[],this.selectedIcon=i.currentIcon||"category",this.filteredIcons=[...this.availableIcons]}ngOnInit(){this.data.availableIcons&&(this.availableIcons=this.data.availableIcons,this.filteredIcons=[...this.availableIcons])}selectIcon(t){this.selectedIcon=t,this.dialogRef.close(t)}onSearchChange(){this.searchTerm.trim()?this.filteredIcons=this.availableIcons.filter(t=>t.toLowerCase().includes(this.searchTerm.toLowerCase())):this.filteredIcons=[...this.availableIcons]}clearSearch(){this.searchTerm="",this.filteredIcons=[...this.availableIcons]}onCancel(){this.dialogRef.close()}trackByIcon(t,i){return i}};n.\u0275fac=function(i){return new(i||n)(T(Vi),T(ji))},n.\u0275cmp=Se({type:n,selectors:[["app-icon-selector-dialog"]],decls:19,vars:4,consts:[[1,"icon-selector-dialog"],[1,"dialog-header"],[1,"dialog-title"],["mat-icon-button","","aria-label","Close",1,"close-button",3,"click"],[1,"search-container"],[1,"search-input-wrapper"],[1,"search-icon"],["type","text","placeholder","Search icons...","autocomplete","off","spellcheck","false",1,"search-input",3,"ngModelChange","input","ngModel"],["mat-icon-button","","class","clear-search-button","type","button","aria-label","Clear search",3,"click",4,"ngIf"],[1,"icons-container"],["class","no-results",4,"ngIf"],["class","icons-grid",4,"ngIf"],[1,"dialog-actions"],["mat-stroked-button","",1,"cancel-button",3,"click"],["mat-icon-button","","type","button","aria-label","Clear search",1,"clear-search-button",3,"click"],[1,"no-results"],[1,"no-results-icon"],[1,"no-results-text"],["mat-stroked-button","",1,"clear-search-btn",3,"click"],[1,"icons-grid"],["type","button","class","icon-option",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"icon-option",3,"click"],[1,"icon"],[1,"icon-name"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"h2",2),d(3,"Choose Icon"),l(),c(4,"button",3),F("click",function(){return a.onCancel()}),c(5,"mat-icon"),d(6,"close"),l()()(),c(7,"div",4)(8,"div",5)(9,"mat-icon",6),d(10,"search"),l(),c(11,"input",7),pt("ngModelChange",function(s){return ut(a.searchTerm,s)||(a.searchTerm=s),s}),F("input",function(){return a.onSearchChange()}),l(),U(12,T3,3,0,"button",8),l()(),c(13,"div",9),U(14,E3,7,0,"div",10)(15,I3,2,2,"div",11),l(),c(16,"div",12)(17,"button",13),F("click",function(){return a.onCancel()}),d(18," Cancel "),l()()()),i&2&&(h(11),mt("ngModel",a.searchTerm),h(),M("ngIf",a.searchTerm),h(2),M("ngIf",a.filteredIcons&&a.filteredIcons.length===0),h(),M("ngIf",a.filteredIcons&&a.filteredIcons.length>0))},dependencies:[Sa,dt,on,sn,wi,Nt,mn,lt],styles:[".icon-selector-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:90vh;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 10px 25px #0000001a}@media (max-width: 640px){.icon-selector-dialog[_ngcontent-%COMP%]{height:100vh;max-height:100vh;border-radius:0}}.dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.25rem 1.5rem;border-bottom:1px solid #f1f5f9;background:#fff}@media (max-width: 640px){.dialog-header[_ngcontent-%COMP%]{padding:1rem}}.dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#64748b;min-width:40px;min-height:40px;border-radius:8px}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:#334155;background:#f8fafc}.search-container[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #f1f5f9;background:#fff}@media (max-width: 640px){.search-container[_ngcontent-%COMP%]{padding:.75rem 1rem}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;color:#94a3b8;font-size:1.125rem;width:1.125rem;height:1.125rem;pointer-events:none}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem .75rem .75rem 2.25rem;border:1px solid #e2e8f0;border-radius:8px;font-size:.875rem;background:#f8fafc;transition:all .2s ease;min-height:40px}@media (max-width: 640px){.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{min-height:44px;font-size:16px}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;background:#fff;box-shadow:0 0 0 3px #3b82f61a}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .clear-search-button[_ngcontent-%COMP%]{position:absolute;right:.5rem;color:#94a3b8;min-width:28px;min-height:28px;border-radius:6px}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .clear-search-button[_ngcontent-%COMP%]:hover{color:#64748b;background:#f1f5f9}.icons-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem 1.5rem;background:#fafafa}@media (max-width: 640px){.icons-container[_ngcontent-%COMP%]{padding:.75rem 1rem}}.icons-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.icons-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.icons-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:2px}.icons-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.icons-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem}.icons-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#94a3b8;margin-bottom:.75rem}.icons-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .no-results-text[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin:0 0 1rem}.icons-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]{min-height:36px;padding:.5rem 1rem;font-size:.875rem}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(72px,1fr));gap:.5rem}@media (min-width: 768px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:.75rem}}@media (max-width: 640px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(64px,1fr));gap:.5rem}}@media (max-width: 480px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(56px,1fr));gap:.5rem}}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.75rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;cursor:pointer;transition:all .15s ease;min-height:72px;text-decoration:none}@media (min-width: 768px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{min-height:90px;padding:.75rem .5rem;justify-content:space-between}}@media (max-width: 640px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{min-height:64px;padding:.5rem}}@media (max-width: 480px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{min-height:56px;padding:.5rem}}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#f0f9ff;transform:translateY(-1px);box-shadow:0 2px 8px #3b82f61a}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#dbeafe;color:#1d4ed8;transform:translateY(-1px);box-shadow:0 2px 8px #3b82f626}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.75rem;width:1.75rem;height:1.75rem;color:inherit}@media (min-width: 768px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;margin-bottom:.25rem}}@media (max-width: 640px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}}@media (max-width: 480px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{display:none;font-size:.75rem;font-weight:500;color:#64748b;text-align:center;word-break:break-word;line-height:1.2;text-transform:capitalize;margin-top:.25rem}@media (min-width: 768px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{display:block}}.icon-option.selected[_ngcontent-%COMP%]   .icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{color:#1d4ed8;font-weight:600}.dialog-actions[_ngcontent-%COMP%]{display:flex;padding:1rem 1.5rem;border-top:1px solid #f1f5f9;background:#fff}@media (max-width: 640px){.dialog-actions[_ngcontent-%COMP%]{padding:.75rem 1rem}}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{width:100%;min-height:40px;padding:.75rem 1.5rem;font-weight:500;color:#64748b;border-color:#e2e8f0}@media (max-width: 640px){.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{min-height:44px}}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:hover{color:#334155;border-color:#cbd5e1;background:#f8fafc}@keyframes _ngcontent-%COMP%_fadeInUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.icon-selector-dialog[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .2s ease-out}"]});let e=n;return e})();function A3(e,n){if(e&1){let r=ue();c(0,"button",14),F("click",function(){N(r);let i=w();return L(i.clearSearch())}),c(1,"mat-icon"),d(2,"clear"),l()()}}function F3(e,n){if(e&1){let r=ue();c(0,"div",15)(1,"mat-icon",16),d(2,"search_off"),l(),c(3,"p",17),d(4,"No colors found"),l(),c(5,"button",18),F("click",function(){N(r);let i=w();return L(i.clearSearch())}),d(6," Clear Search "),l()()}}function R3(e,n){e&1&&(c(0,"mat-icon",23),d(1,"check"),l())}function N3(e,n){if(e&1){let r=ue();c(0,"button",21),F("click",function(){let i=N(r).$implicit,a=w(2);return L(a.selectColor(i.value))}),c(1,"span",22),d(2),l(),U(3,R3,2,0,"mat-icon",23),l()}if(e&2){let r=n.$implicit,t=w(2);Vt("background-color",r.value),Fe("selected",t.selectedColor===r.value),Kt("aria-label","Select "+r.label+" color"),h(2),G(r.label),h(),Qe(t.selectedColor===r.value?3:-1)}}function L3(e,n){if(e&1&&(c(0,"div",19),Ge(1,N3,4,7,"button",20,Ti),l()),e&2){let r=w();h(),qe(r.filteredColors)}}var iC=(()=>{let n=class n{constructor(t,i){this.dialogRef=t,this.data=i,this.availableColors=Nv,this.searchTerm="",this.filteredColors=[],this.selectedColor=i.currentColor||"#46777f",this.filteredColors=[...this.availableColors]}ngOnInit(){}selectColor(t){this.selectedColor=t,this.dialogRef.close(t)}onSearchChange(){this.searchTerm.trim()?this.filteredColors=this.availableColors.filter(t=>t.label.toLowerCase().includes(this.searchTerm.toLowerCase())):this.filteredColors=[...this.availableColors]}clearSearch(){this.searchTerm="",this.filteredColors=[...this.availableColors]}onCancel(){this.dialogRef.close()}trackByColor(t,i){return i}};n.\u0275fac=function(i){return new(i||n)(T(Vi),T(ji))},n.\u0275cmp=Se({type:n,selectors:[["app-color-selector-dialog"]],decls:19,vars:4,consts:[[1,"color-selector-dialog"],[1,"dialog-header"],[1,"dialog-title"],["mat-icon-button","","aria-label","Close",1,"close-button",3,"click"],[1,"search-container"],[1,"search-input-wrapper"],[1,"search-icon"],["type","text","placeholder","Search colors...","autocomplete","off","spellcheck","false",1,"search-input",3,"ngModelChange","input","ngModel"],["mat-icon-button","","class","clear-search-button","type","button","aria-label","Clear search",3,"click",4,"ngIf"],[1,"colors-container"],["class","no-results",4,"ngIf"],["class","colors-grid",4,"ngIf"],[1,"dialog-actions"],["mat-stroked-button","",1,"cancel-button",3,"click"],["mat-icon-button","","type","button","aria-label","Clear search",1,"clear-search-button",3,"click"],[1,"no-results"],[1,"no-results-icon"],[1,"no-results-text"],["mat-stroked-button","",1,"clear-search-btn",3,"click"],[1,"colors-grid"],["type","button",1,"color-option",3,"selected","background-color"],["type","button",1,"color-option",3,"click"],[1,"color-name"],[1,"check-icon"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"h2",2),d(3,"Choose Color"),l(),c(4,"button",3),F("click",function(){return a.onCancel()}),c(5,"mat-icon"),d(6,"close"),l()()(),c(7,"div",4)(8,"div",5)(9,"mat-icon",6),d(10,"search"),l(),c(11,"input",7),pt("ngModelChange",function(s){return ut(a.searchTerm,s)||(a.searchTerm=s),s}),F("input",function(){return a.onSearchChange()}),l(),U(12,A3,3,0,"button",8),l()(),c(13,"div",9),U(14,F3,7,0,"div",10)(15,L3,3,0,"div",11),l(),c(16,"div",12)(17,"button",13),F("click",function(){return a.onCancel()}),d(18," Cancel "),l()()()),i&2&&(h(11),mt("ngModel",a.searchTerm),h(),M("ngIf",a.searchTerm),h(2),M("ngIf",a.filteredColors.length===0),h(),M("ngIf",a.filteredColors.length>0))},dependencies:[dt,on,sn,wi,Nt,mn,lt],styles:[".color-selector-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:90vh;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 10px 25px #0000001a}@media (max-width: 640px){.color-selector-dialog[_ngcontent-%COMP%]{height:100vh;max-height:100vh;border-radius:0}}.dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.25rem 1.5rem;border-bottom:1px solid #f1f5f9;background:#fff}@media (max-width: 640px){.dialog-header[_ngcontent-%COMP%]{padding:1rem}}.dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#64748b;min-width:40px;min-height:40px;border-radius:8px}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:#334155;background:#f8fafc}.search-container[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #f1f5f9;background:#fff}@media (max-width: 640px){.search-container[_ngcontent-%COMP%]{padding:.75rem 1rem}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;color:#94a3b8;font-size:1.125rem;width:1.125rem;height:1.125rem;pointer-events:none}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem .75rem .75rem 2.25rem;border:1px solid #e2e8f0;border-radius:8px;font-size:.875rem;background:#f8fafc;transition:all .2s ease;min-height:40px}@media (max-width: 640px){.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{min-height:44px;font-size:16px}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;background:#fff;box-shadow:0 0 0 3px #3b82f61a}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .clear-search-button[_ngcontent-%COMP%]{position:absolute;right:.5rem;color:#94a3b8;min-width:28px;min-height:28px;border-radius:6px}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .clear-search-button[_ngcontent-%COMP%]:hover{color:#64748b;background:#f1f5f9}.colors-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem 1.5rem;background:#fafafa}@media (max-width: 640px){.colors-container[_ngcontent-%COMP%]{padding:.75rem 1rem}}.colors-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.colors-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.colors-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:2px}.colors-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.colors-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem}.colors-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#94a3b8;margin-bottom:.75rem}.colors-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .no-results-text[_ngcontent-%COMP%]{color:#64748b;font-size:.875rem;margin:0 0 1rem}.colors-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]{min-height:36px;padding:.5rem 1rem;font-size:.875rem}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(72px,1fr));gap:.5rem}@media (min-width: 768px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:.75rem}}@media (max-width: 640px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(64px,1fr));gap:.5rem}}@media (max-width: 480px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(56px,1fr));gap:.5rem}}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.75rem;border:1px solid #e2e8f0;border-radius:8px;background:#fff;cursor:pointer;transition:all .15s ease;min-height:72px;position:relative}@media (min-width: 768px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{min-height:90px;padding:.75rem .5rem;justify-content:space-between}}@media (max-width: 640px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{min-height:64px;padding:.5rem}}@media (max-width: 480px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{min-height:56px;padding:.5rem}}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#f0f9ff;transform:translateY(-1px);box-shadow:0 2px 8px #3b82f61a}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;transform:translateY(-1px);box-shadow:0 2px 8px #3b82f626}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option.selected[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem;border-radius:50%;border:2px solid white;box-shadow:0 2px 4px #0000001a}@media (min-width: 768px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:2rem;height:2rem;margin-bottom:.25rem}}@media (max-width: 640px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}}@media (max-width: 480px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem}}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{display:none;font-size:.75rem;font-weight:500;font-family:Roboto Mono,monospace;color:#64748b;text-align:center;word-break:break-word;line-height:1.2;margin-top:.25rem;background-color:#ffffff80;padding:5px;border-radius:5px}@media (min-width: 768px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{display:block}}.color-option.selected[_ngcontent-%COMP%]   .colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{color:#1d4ed8;font-weight:600}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{position:absolute;top:.25rem;right:.25rem;color:#fff;font-size:.875rem;width:.875rem;height:.875rem;background:#000000b3;border-radius:50%;padding:.125rem;opacity:0;transform:scale(0);transition:all .15s ease}@media (min-width: 768px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}@media (max-width: 640px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{font-size:.75rem;width:.75rem;height:.75rem}}.dialog-actions[_ngcontent-%COMP%]{display:flex;padding:1rem 1.5rem;border-top:1px solid #f1f5f9;background:#fff}@media (max-width: 640px){.dialog-actions[_ngcontent-%COMP%]{padding:.75rem 1rem}}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{width:100%;min-height:40px;padding:.75rem 1.5rem;font-weight:500;color:#64748b;border-color:#e2e8f0}@media (max-width: 640px){.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{min-height:44px}}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:hover{color:#334155;border-color:#cbd5e1;background:#f8fafc}@keyframes _ngcontent-%COMP%_fadeInUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.color-selector-dialog[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .2s ease-out}"]});let e=n;return e})();function B3(e,n){e&1&&se(0,"mat-spinner",33)}function V3(e,n){e&1&&(c(0,"mat-icon"),d(1,"check"),l())}function j3(e,n){if(e&1&&(c(0,"p",17),d(1),l()),e&2){let r=w();h(),G(r.getNameError())}}function z3(e,n){if(e&1&&(c(0,"p",17),d(1),l()),e&2){let r=w();h(),G(r.getTypeError())}}var Yu=(()=>{let n=class n{constructor(t,i,a,o,s,m,u,f,g,x,C){this.dialogData=t,this.store=i,this.fb=a,this.dialogRef=o,this.auth=s,this.notificationService=m,this.router=u,this.hapticFeedback=f,this.dialog=g,this.validationService=x,this.ssrService=C,this.isSubmitting=!1,this.userId="",this.categoryForm=this.fb.group({name:["",this.validationService.getCategoryNameValidators()],type:["expense",wt.required],icon:["category",wt.required],color:["#46777f",wt.required]})}ngOnInit(){var t;this.userId=((t=this.auth.currentUser)==null?void 0:t.uid)||"",this.ssrService.isClientSide()&&window.addEventListener("popstate",i=>{this.dialogRef.close(),i.preventDefault()}),this.dialogData&&this.categoryForm.patchValue({name:this.dialogData.name,type:this.dialogData.type,icon:this.dialogData.icon||"category",color:this.dialogData.color||"#46777f"})}onSubmit(){return me(this,null,function*(){var t;if(this.categoryForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let i=this.categoryForm.value;(t=this.dialogData)!=null&&t.id?(yield this.store.dispatch(Ro({userId:this.userId,categoryId:this.dialogData.id,name:i.name.trim(),categoryType:i.type,icon:i.icon,color:i.color})),this.notificationService.success("Category updated successfully")):(yield this.store.dispatch(Xc({userId:this.userId,name:i.name.trim(),categoryType:i.type,icon:i.icon,color:i.color})),this.notificationService.success("Category added successfully"),this.hapticFeedback.successVibration()),this.dialogRef.close(!0)}catch(i){this.notificationService.error("Failed to save category"),console.error("Error saving category:",i)}finally{this.isSubmitting=!1}}})}onCancel(){this.dialogRef.close(!1)}selectType(t){this.categoryForm.patchValue({type:t})}getNameError(){let t=this.categoryForm.get("name");return t?this.validationService.getAccountNameError(t):""}getTypeError(){let t=this.categoryForm.get("type");return t!=null&&t.hasError("required")?"Category type is required":""}openIconSelectorDialog(){var t;this.dialog.open(nC,{width:"90vw",maxWidth:"500px",height:"80vh",maxHeight:"600px",data:{currentIcon:(t=this.categoryForm.get("icon"))==null?void 0:t.value},disableClose:!1,autoFocus:!1}).afterClosed().subscribe(i=>{i&&(this.categoryForm.patchValue({icon:i}),this.hapticFeedback.lightVibration())})}openColorSelectorDialog(){var i;this.dialog.open(iC,{width:"90vw",maxWidth:"500px",height:"80vh",maxHeight:"600px",data:{currentColor:(i=this.categoryForm.get("color"))==null?void 0:i.value},disableClose:!1,autoFocus:!1}).afterClosed().subscribe(a=>{a&&(this.categoryForm.patchValue({color:a}),this.hapticFeedback.lightVibration())})}};n.\u0275fac=function(i){return new(i||n)(T(ji),T(Ft),T(Pr),T(Vi),T(kt),T(vt),T(hn),T(Da),T(di),T(Ta),T(Jr))},n.\u0275cmp=Se({type:n,selectors:[["app-mobile-category-add-edit-popup"]],decls:73,vars:22,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Save Category",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"category-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","text","formControlName","name","placeholder","e.g., Groceries","autofocus","",1,"form-input"],[1,"field-footer"],[1,"error-message"],[1,"character-count"],[1,"type-selector"],["type","button",1,"type-option",3,"click"],[1,"icon-selector"],["type","button",1,"icon-preview-button",3,"click"],[1,"icon-preview"],[1,"selected-icon"],[1,"icon-name"],[1,"dropdown-icon"],[1,"color-selector"],["type","button",1,"color-preview-button",3,"click"],[1,"color-preview"],[1,"color-swatch"],[1,"color-name"],[1,"bottom-spacing"],["diameter","16"]],template:function(i,a){if(i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),F("click",function(){return a.onCancel()}),c(4,"mat-icon"),d(5,"arrow_back"),l()(),c(6,"h6",4),d(7),l()(),c(8,"button",5),F("click",function(){return a.onCancel()}),c(9,"mat-icon"),d(10,"close"),l()(),c(11,"button",6),F("click",function(){return a.onSubmit()}),U(12,B3,1,0,"mat-spinner",7)(13,V3,2,0,"mat-icon",8),d(14),l()()(),c(15,"div",9)(16,"div",10)(17,"form",11),F("ngSubmit",function(){return a.onSubmit()}),c(18,"div",12)(19,"label",13)(20,"mat-icon",14),d(21,"label"),l(),d(22," Category Name * "),l(),se(23,"input",15),c(24,"div",16),U(25,j3,2,1,"p",17),c(26,"span",18),d(27),l()()(),c(28,"div",12)(29,"label",13)(30,"mat-icon",14),d(31,"category"),l(),d(32," Category Type * "),l(),c(33,"div",19)(34,"button",20),F("click",function(){return a.selectType("expense")}),c(35,"mat-icon"),d(36,"trending_down"),l(),c(37,"span"),d(38,"Expense"),l()(),c(39,"button",20),F("click",function(){return a.selectType("income")}),c(40,"mat-icon"),d(41,"trending_up"),l(),c(42,"span"),d(43,"Income"),l()()(),U(44,z3,2,1,"p",17),l(),c(45,"div",12)(46,"label",13)(47,"mat-icon",14),d(48,"emoji_emotions"),l(),d(49," Category Icon * "),l(),c(50,"div",21)(51,"button",22),F("click",function(){return a.openIconSelectorDialog()}),c(52,"div",23)(53,"mat-icon",24),d(54),l(),c(55,"span",25),d(56),l()(),c(57,"mat-icon",26),d(58,"expand_more"),l()()()(),c(59,"div",12)(60,"label",13)(61,"mat-icon",14),d(62,"palette"),l(),d(63," Category Color * "),l(),c(64,"div",27)(65,"button",28),F("click",function(){return a.openColorSelectorDialog()}),c(66,"div",29),se(67,"div",30),c(68,"span",31),d(69),l()(),c(70,"mat-icon",26),d(71,"expand_more"),l()()()(),se(72,"div",32),l()()()),i&2){let o,s,m,u,f,g,x,C,y,v,P;h(7),ae(" ",a.dialogData!=null&&a.dialogData.id?"Edit":"Add"," Category "),h(4),M("disabled",a.categoryForm.invalid||a.isSubmitting),h(),M("ngIf",a.isSubmitting),h(),M("ngIf",!a.isSubmitting),h(),ae(" ",a.isSubmitting?"Saving...":"Save"," "),h(3),M("formGroup",a.categoryForm),h(8),Qe(a.getNameError()&&((o=a.categoryForm.get("name"))!=null&&o.touched)?25:-1),h(2),ae(" ",((s=a.categoryForm.get("name"))==null||s.value==null?null:s.value.length)||0,"/50 "),h(7),Fe("selected",((m=a.categoryForm.get("type"))==null?null:m.value)==="expense"),h(5),Fe("selected",((u=a.categoryForm.get("type"))==null?null:u.value)==="income"),h(5),Qe(a.getTypeError()&&((f=a.categoryForm.get("type"))!=null&&f.touched)?44:-1),h(7),Fe("active",(g=a.categoryForm.get("icon"))==null?null:g.value),h(3),G(((x=a.categoryForm.get("icon"))==null?null:x.value)||"category"),h(2),G(((C=a.categoryForm.get("icon"))==null?null:C.value)||"category"),h(9),Fe("active",(y=a.categoryForm.get("color"))==null?null:y.value),h(2),Vt("background-color",((v=a.categoryForm.get("color"))==null?null:v.value)||"#005cbb"),h(2),G(((P=a.categoryForm.get("color"))==null?null:P.value)||"#005cbb")}},dependencies:[dt,Mi,on,sn,yi,Mr,Sr,Nt,mn,lt,Ea,En],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .category-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .category-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;margin-top:.25rem;font-style:italic}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-hint[_ngcontent-%COMP%]{font-size:.7rem}}.type-selector[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.75rem}@media (max-width: 480px){.type-selector[_ngcontent-%COMP%]{gap:.5rem}}@media (max-width: 360px){.type-selector[_ngcontent-%COMP%]{gap:.375rem}}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:1rem;border:2px solid #e5e7eb;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:80px}@media (max-width: 480px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{padding:.75rem;min-height:70px;gap:.375rem}}@media (max-width: 360px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{padding:.625rem;min-height:60px;gap:.25rem}}.dark[_ngcontent-%COMP%]   .type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{border-color:#4b5563}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff}.type-selector[_ngcontent-%COMP%]   .type-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#dbeafe;color:#1d4ed8}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}@media (max-width: 480px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}@media (max-width: 360px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}@media (max-width: 480px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}}@media (max-width: 360px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}}.icon-selector[_ngcontent-%COMP%]{position:relative}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:48px}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px}}@media (max-width: 360px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]{border-color:#4b5563}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button.active[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]{gap:.5rem}}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;color:#3b82f6}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{color:#374151;font-family:Roboto Mono,monospace;font-size:.875rem}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{color:#f3f4f6}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{color:#6b7280;transition:transform .2s ease}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button.active[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;z-index:50;margin-top:.25rem;background:#fff;border:1px solid #d1d5db;border-radius:8px;box-shadow:0 10px 25px #00000026;max-height:300px;overflow:hidden;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]{max-height:250px}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]{background:#1f2937;border-color:#4b5563}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border-bottom:1px solid #e5e7eb}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]{padding:.625rem .875rem}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]{border-color:#374151}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151;margin:0}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.8rem}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#f3f4f6}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{min-width:32px;min-height:32px;color:#6b7280}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{min-width:28px;min-height:28px}}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]:hover{background:#f3f4f6}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]:hover{background:#374151}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);gap:.5rem;padding:1rem;max-height:250px;overflow-y:auto}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);gap:.375rem;padding:.75rem;max-height:200px}}@media (max-width: 360px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:.25rem;padding:.625rem}}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.75rem;border:1px solid #e5e7eb;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:44px}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{padding:.625rem;min-height:40px}}@media (max-width: 360px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{padding:.5rem;min-height:36px}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{border-color:#4b5563}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff;transform:scale(1.05)}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#dbeafe;color:#1d4ed8}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}}@media (max-width: 360px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.color-selector[_ngcontent-%COMP%]{position:relative}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:48px}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px}}@media (max-width: 360px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]{border-color:#4b5563}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.color-selector[_ngcontent-%COMP%]   .color-preview-button.active[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{gap:.5rem}}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-swatch[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:6px;border:2px solid #e5e7eb;flex-shrink:0}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-swatch[_ngcontent-%COMP%]{width:20px;height:20px}}@media (max-width: 360px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-swatch[_ngcontent-%COMP%]{width:18px;height:18px}}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{color:#374151;font-family:Roboto Mono,monospace;font-size:.875rem}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{color:#f3f4f6}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{color:#6b7280;transition:transform .2s ease}.color-selector[_ngcontent-%COMP%]   .color-preview-button.active[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;z-index:50;margin-top:.25rem;background:#fff;border:1px solid #d1d5db;border-radius:8px;box-shadow:0 10px 25px #00000026;max-height:300px;overflow:hidden;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]{max-height:250px}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]{background:#1f2937;border-color:#4b5563}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border-bottom:1px solid #e5e7eb}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]{padding:.625rem .875rem}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]{border-color:#374151}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151;margin:0}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.8rem}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#f3f4f6}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{min-width:32px;min-height:32px;color:#6b7280}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{min-width:28px;min-height:28px}}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]:hover{background:#f3f4f6}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]:hover{background:#374151}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(8,1fr);gap:.5rem;padding:1rem;max-height:250px;overflow-y:auto}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr);gap:.375rem;padding:.75rem;max-height:200px}}@media (max-width: 360px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);gap:.25rem;padding:.625rem}}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.75rem;border:2px solid #e5e7eb;border-radius:8px;cursor:pointer;transition:all .2s ease;min-height:44px;position:relative}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{padding:.625rem;min-height:40px}}@media (max-width: 360px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{padding:.5rem;min-height:36px}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{border-color:#4b5563}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:scale(1.1);box-shadow:0 4px 12px #00000026}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f64d}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option.selected[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-weight:700;font-size:14px;text-shadow:0 1px 2px rgba(0,0,0,.5)}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option.selected[_ngcontent-%COMP%]:after{font-size:12px}}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}.icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar, .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track, .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.dark[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track, .dark[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#374151}.icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.dark[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .dark[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6b7280}.icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.dark[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .dark[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:1rem;border:2px solid #e5e7eb;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:48px}@media (max-width: 480px){.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]{padding:.875rem;min-height:44px}}@media (max-width: 360px){.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]{padding:.75rem;min-height:40px}}.dark[_ngcontent-%COMP%]   .budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]{border-color:#4b5563}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#f0f9ff}.dark[_ngcontent-%COMP%]   .budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]:hover{background:#1e3a8a}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button.active[_ngcontent-%COMP%]{border-color:#3b82f6;background:#f0f9ff}.dark[_ngcontent-%COMP%]   .budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button.active[_ngcontent-%COMP%]{background:#1e3a8a}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{color:#6b7280;transition:transform .2s ease}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151}@media (max-width: 480px){.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{color:#f3f4f6}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .budget-icon[_ngcontent-%COMP%]{color:#3b82f6}.budget-section[_ngcontent-%COMP%]{background:#f8fafc;border-radius:8px;padding:1rem;margin-top:.5rem;border:1px solid #e2e8f0}@media (max-width: 480px){.budget-section[_ngcontent-%COMP%]{padding:.875rem;margin-top:.375rem}}@media (max-width: 360px){.budget-section[_ngcontent-%COMP%]{padding:.75rem;margin-top:.25rem}}.dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}.budget-section[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}@media (max-width: 480px){.budget-section[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{gap:.875rem}}@media (max-width: 360px){.budget-section[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{gap:.75rem}}.budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]{width:100%}.budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151}@media (max-width: 480px){.budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{color:#f3f4f6}.budget-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.budget-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.budget-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.budget-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}.form-field[_ngcontent-%COMP%]{padding:1rem}.type-selector[_ngcontent-%COMP%]{gap:.5rem}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{padding:.75rem;min-height:70px}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}.budget-section[_ngcontent-%COMP%]{padding:.75rem}.budget-section[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{gap:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}.form-field[_ngcontent-%COMP%]{padding:.875rem}.type-selector[_ngcontent-%COMP%]{gap:.375rem}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{padding:.625rem;min-height:60px}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}.budget-section[_ngcontent-%COMP%]{padding:.625rem}.budget-section[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{gap:.625rem}}@media (max-height: 500px) and (orientation: landscape){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}.form-field[_ngcontent-%COMP%]{padding:.75rem}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{min-height:60px;padding:.5rem}.budget-section[_ngcontent-%COMP%]{padding:.75rem}}@media (-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi){.form-field[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]{box-shadow:0 .5px 1.5px #0000001a}}@media (hover: none) and (pointer: coarse){.type-option[_ngcontent-%COMP%], .icon-option[_ngcontent-%COMP%], .color-option[_ngcontent-%COMP%], .budget-toggle-button[_ngcontent-%COMP%]{min-height:44px}.type-option[_ngcontent-%COMP%]:hover, .icon-option[_ngcontent-%COMP%]:hover, .color-option[_ngcontent-%COMP%]:hover, .budget-toggle-button[_ngcontent-%COMP%]:hover{transform:none}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{min-height:44px}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}']});let e=n;return e})();var xa=ra(_a());var Ed=ao("accounts"),Fa=jt(Ed,e=>e.ids.map(n=>e.entities[n]).filter(n=>n)),Wu=jt(Ed,e=>e.loading),rC=jt(Ed,e=>e.error),U3=jt(Ed,e=>e.selectedAccountId),VX=jt(Ed,U3,(e,n)=>n?e.entities[n]:null);var jX=jt(Fa,e=>e.filter(n=>n.isActive!==!1)),aC=jt(Fa,e=>e.reduce((n,r)=>{if(r.type===so.LOAN){let t=r.loanDetails;return n-t.remainingBalance}return n+r.balance},0));var Dd=ao("transactions"),Ji=jt(Dd,e=>e.ids.map(n=>e.entities[n]).filter(Boolean)),Hu=jt(Dd,e=>e.loading),sC=jt(Dd,e=>e.error),Y3=jt(Dd,e=>e.selectedTransactionId),WX=jt(Dd,Y3,(e,n)=>n?e.entities[n]:null);var Dh=e=>e instanceof ar?new Date(e.seconds*1e3):e instanceof Date?e:new Date(e);var cC=(e,n,r)=>{let t=Dh(e);return t.getMonth()===n&&t.getFullYear()===r};var lC=jt(Ji,e=>e.filter(n=>n.type===qn.INCOME)),Ih=jt(lC,e=>e.reduce((n,r)=>n+r.amount,0)),dC=(e,n)=>jt(lC,r=>r.filter(t=>t.date&&cC(t.date,e,n)).reduce((t,i)=>t+i.amount,0)),mC=jt(Ji,e=>e.filter(n=>n.type===qn.EXPENSE)),Ah=jt(mC,e=>e.reduce((n,r)=>n+r.amount,0)),uC=(e,n)=>jt(mC,r=>r.filter(t=>t.date&&cC(t.date,e,n)).reduce((t,i)=>t+i.amount,0)),W3=jt(Ji,e=>e.filter(n=>n.type===qn.TRANSFER)),HX=jt(W3,e=>e.reduce((n,r)=>n+r.amount,0)),pC=jt(Ih,Ah,(e,n)=>e-n);var fC=jt(Ji,e=>e.length&&e.filter(n=>n.date).sort((n,r)=>{let t=Dh(n.date);return Dh(r.date).getTime()-t.getTime()})[0]||null);var $X=jt(Ji,e=>{let n=new Map;return e.forEach(r=>{let t=r.categoryId;n.has(t)||n.set(t,{categoryId:r.categoryId,categoryName:r.category,totalAmount:0,transactionCount:0});let i=n.get(t);i.totalAmount+=r.amount,i.transactionCount+=1}),Array.from(n.values()).sort((r,t)=>t.totalAmount-r.totalAmount)}),GX=jt(Ji,e=>{let n=new Map;return e.forEach(r=>{let t=r.accountId;n.has(t)||n.set(t,{accountId:r.accountId,totalAmount:0,transactionCount:0});let i=n.get(t);i.totalAmount+=r.amount,i.transactionCount+=1}),Array.from(n.values()).sort((r,t)=>t.totalAmount-r.totalAmount)}),qX=jt(Ji,e=>e.reduce((n,r)=>n+(r.taxAmount||0),0));var XX=jt(Ji,e=>e.filter(n=>n.status==="pending")),KX=jt(Ji,e=>e.filter(n=>n.isRecurring===!0));var H3=["switch"],$3=["*"];function G3(e,n){e&1&&(c(0,"span",10),Kn(),c(1,"svg",12),se(2,"path",13),l(),c(3,"svg",14),se(4,"path",15),l()())}var q3=new Pn("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),X3={provide:mm,useExisting:Ka(()=>Ra),multi:!0},$u=class{constructor(n,r){this.source=n,this.checked=r}},K3=0,Ra=(()=>{let n=class n{_createChangeEvent(t){return new $u(this,t)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,a,o,s,m){var u,f;this._elementRef=t,this._focusMonitor=i,this._changeDetectorRef=a,this.defaults=s,this._onChange=g=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new Ve,this.toggleChange=new Ve,this.tabIndex=parseInt(o)||0,this.color=s.color||"accent",this._noopAnimations=m==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++K3}`,this.hideIcon=(u=s.hideIcon)!=null?u:!1,this.disabledInteractive=(f=s.disabledInteractive)!=null?f:!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t==="keyboard"||t==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(t){t.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}validate(t){return this.required&&t.value!==!0?{required:!0}:null}registerOnValidatorChange(t){this._validatorOnChange=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new $u(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}};n.\u0275fac=function(i){return new(i||n)(T(an),T(ol),T(Tn),Hs("tabindex"),T(q3),T(sa,8))},n.\u0275cmp=Se({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,a){if(i&1&&Qt(H3,5),i&2){let o;ft(o=ht())&&(a._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,a){i&2&&(J0("id",a.id),Kt("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Ct(a.color?"mat-"+a.color:""),Fe("mat-mdc-slide-toggle-focused",a._focused)("mat-mdc-slide-toggle-checked",a.checked)("_mat-animation-noopable",a._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",Ht],color:"color",disabled:[2,"disabled","disabled",Ht],disableRipple:[2,"disableRipple","disableRipple",Ht],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Lc(t)],checked:[2,"checked","checked",Ht],hideIcon:[2,"hideIcon","hideIcon",Ht],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ht]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[Gn([X3,{provide:um,useExisting:n,multi:!0}]),Jn,Xn,fn],ngContentSelectors:$3,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,a){if(i&1){let o=ue();Ei(),c(0,"div",1)(1,"button",2,0),F("click",function(){return N(o),L(a._handleClick())}),se(3,"span",3),c(4,"span",4)(5,"span",5)(6,"span",6),se(7,"span",7),l(),c(8,"span",8),se(9,"span",9),l(),U(10,G3,5,0,"span",10),l()()(),c(11,"label",11),F("click",function(m){return N(o),L(m.stopPropagation())}),$n(12),l()()}if(i&2){let o=zn(2);M("labelPosition",a.labelPosition),h(),Fe("mdc-switch--selected",a.checked)("mdc-switch--unselected",!a.checked)("mdc-switch--checked",a.checked)("mdc-switch--disabled",a.disabled)("mat-mdc-slide-toggle-disabled-interactive",a.disabledInteractive),M("tabIndex",a.disabled&&!a.disabledInteractive?-1:a.tabIndex)("disabled",a.disabled&&!a.disabledInteractive),Kt("id",a.buttonId)("name",a.name)("aria-label",a.ariaLabel)("aria-labelledby",a._getAriaLabelledBy())("aria-describedby",a.ariaDescribedby)("aria-required",a.required||null)("aria-checked",a.checked)("aria-disabled",a.disabled&&a.disabledInteractive?"true":null),h(8),M("matRippleTrigger",o)("matRippleDisabled",a.disableRipple||a.disabled)("matRippleCentered",!0),h(),Qe(a.hideIcon?-1:10),h(),M("for",a.buttonId),Kt("id",a._labelId)}},dependencies:[_d,Xv],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0});let e=n;return e})();var Fh=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({imports:[Ra,li,li]});let e=n;return e})();var Q3=["amountInput"],Z3=(e,n)=>n.accountId,J3=(e,n)=>n.value,e4=(e,n)=>n.id;function t4(e,n){if(e&1&&(c(0,"p",14),d(1),l()),e&2){let r=w();h(),G(r.getAmountError())}}function n4(e,n){e&1&&(c(0,"p",17),d(1,"Description is required"),l())}function i4(e,n){if(e&1&&(c(0,"mat-option",25),d(1),l()),e&2){let r=n.$implicit;M("value",r.id),h(),G(r==null?null:r.name)}}function r4(e,n){if(e&1&&(c(0,"p",14),d(1),l()),e&2){let r=w();h(),G(r.getDateError())}}function a4(e,n){if(e&1&&(c(0,"mat-option",25),d(1),_e(2,"titlecase"),l()),e&2){let r=n.$implicit;M("value",r.accountId),h(),_n("",r.name," (",Ne(2,3,r.type),")")}}function o4(e,n){e&1&&(c(0,"mat-error"),d(1,"Account is required"),l())}function s4(e,n){if(e&1&&(c(0,"mat-option",25)(1,"div",4)(2,"mat-icon",22),d(3),l(),c(4,"span"),d(5),l()()()),e&2){let r=n.$implicit;M("value",r.value),h(3),G(r.icon),h(2),G(r.label)}}function c4(e,n){if(e&1&&(c(0,"div",29)(1,"label",12),d(2," Payment Method "),l(),c(3,"mat-form-field",23)(4,"mat-label"),d(5,"Select payment method"),l(),c(6,"mat-select",49)(7,"mat-option",50),d(8,"None"),l(),Ge(9,s4,6,3,"mat-option",25,J3),l()()()),e&2){let r=w();h(9),qe(r.paymentMethods)}}function l4(e,n){if(e&1&&(c(0,"mat-option",25)(1,"div",52)(2,"span"),d(3),l(),c(4,"span",18),d(5),l()()()),e&2){let r=n.$implicit;M("value",r.id),h(3),G(r.name),h(2),ae("",r.members.length," members")}}function d4(e,n){e&1&&(c(0,"mat-error"),d(1,"Please select a group for split transaction"),l())}function m4(e,n){if(e&1&&(c(0,"div",36)(1,"div")(2,"label",12),d(3," Select Group * "),l(),c(4,"mat-form-field",23)(5,"mat-label"),d(6,"Choose a group to split with"),l(),c(7,"mat-select",51),Ge(8,l4,6,3,"mat-option",25,e4),_e(10,"async"),l(),U(11,d4,2,0,"mat-error"),l()()()),e&2){let r,t=w();h(8),qe(Ne(10,1,t.groups$)),h(3),Qe((r=t.transactionForm.get("splitGroupId"))!=null&&r.hasError("required")&&((r=t.transactionForm.get("splitGroupId"))!=null&&r.touched)?11:-1)}}function u4(e,n){if(e&1&&(c(0,"p"),d(1),l()),e&2){let r,t=w(2);h(),ae("\u2022 Until ",(r=t.transactionForm.get("recurringEndDate"))==null?null:r.value,"")}}function p4(e,n){if(e&1&&(c(0,"div",36)(1,"div")(2,"label",12),d(3," Repeat Every "),l(),c(4,"mat-form-field",23)(5,"mat-label"),d(6,"Select interval"),l(),c(7,"mat-select",53)(8,"mat-option",25),d(9,"Daily"),l(),c(10,"mat-option",25),d(11,"Weekly"),l(),c(12,"mat-option",25),d(13,"Monthly"),l(),c(14,"mat-option",25),d(15,"Yearly"),l()()()(),c(16,"div")(17,"label",12),d(18," Start Date "),l(),se(19,"input",54),l(),c(20,"div")(21,"label",12),d(22," End Date (Optional) "),l(),se(23,"input",55),c(24,"p",56),d(25,"Leave empty for unlimited recurrence"),l()(),c(26,"div",57)(27,"div",58)(28,"mat-icon",59),d(29,"info"),l(),c(30,"span",60),d(31,"Recurring Details"),l()(),c(32,"div",61)(33,"p"),d(34),l(),c(35,"p"),d(36),l(),U(37,u4,2,1,"p"),c(38,"p"),d(39,"\u2022 You'll be notified when each occurrence is due"),l()()()()),e&2){let r,t,i,a=w();h(8),M("value","daily"),h(2),M("value","weekly"),h(2),M("value","monthly"),h(2),M("value","yearly"),h(5),M("min",a.recurringMinDate)("max",a.recurringMaxDate),h(4),M("min",a.recurringMinDate)("max",a.recurringMaxDate),h(11),ae("\u2022 Transaction will repeat ",((r=a.transactionForm.get("recurringInterval"))==null?null:r.value)||"monthly",""),h(2),ae("\u2022 Starting from ",((t=a.transactionForm.get("recurringStartDate"))==null?null:t.value)||"today",""),h(),Qe((i=a.transactionForm.get("recurringEndDate"))!=null&&i.value?37:-1)}}function f4(e,n){if(e&1&&(c(0,"span",42),d(1),l()),e&2){let r,t=w();h(),ae(" \u20B9",(((r=t.transactionForm.get("taxAmount"))==null?null:r.value)||0).toFixed(2)," ")}}function h4(e,n){if(e&1&&(c(0,"div",65)(1,"span",63),d(2,"Tax Amount:"),l(),c(3,"span",66),d(4),l()(),c(5,"div",67)(6,"span",68),d(7,"Total Amount:"),l(),c(8,"span",69),d(9),l()()),e&2){let r,t,i=w(2);h(4),ae(" +\u20B9",(((r=i.transactionForm.get("taxAmount"))==null?null:r.value)||0).toFixed(2)," "),h(5),ae(" \u20B9",((((t=i.transactionForm.get("amount"))==null?null:t.value)||0)+(((t=i.transactionForm.get("taxAmount"))==null?null:t.value)||0)).toFixed(2)," ")}}function g4(e,n){if(e&1&&(c(0,"div",44)(1,"div",62)(2,"span",63),d(3,"Transaction Amount:"),l(),c(4,"span",64),d(5),l()(),U(6,h4,10,2),l()),e&2){let r,t,i=w();h(5),ae(" \u20B9",(((r=i.transactionForm.get("amount"))==null?null:r.value)||0).toFixed(2)," "),h(),Qe((((t=i.transactionForm.get("taxAmount"))==null?null:t.value)||0)>0?6:-1)}}function _4(e,n){e&1&&(c(0,"p",14),d(1,"Tax amount cannot be negative"),l())}function x4(e,n){e&1&&(c(0,"p",17),d(1,"Tax percentage cannot be negative"),l())}function v4(e,n){e&1&&(c(0,"p",17),d(1,"Tax percentage cannot exceed 100%"),l())}function b4(e,n){if(e&1){let r=ue();c(0,"div",47)(1,"button",70),F("click",function(){N(r);let i=w();return L(i.clearTaxFields())}),c(2,"mat-icon",71),d(3,"clear"),l(),d(4," Clear Tax Fields "),l()()}}var Ad=(()=>{let n=class n{constructor(t,i,a,o,s,m,u,f,g,x,C,y,v,P){this.dialogData=t,this.store=i,this.fb=a,this.dialogRef=o,this.auth=s,this.notificationService=m,this.router=u,this.hapticFeedback=f,this.dialog=g,this.loaderService=x,this.dateService=C,this.validationService=y,this.breakpointObserver=v,this.splitwiseService=P,this.isSubmitting=!1,this.isMobile=!1,this.paymentMethods=[{value:ss.CREDIT_CARD,label:"Credit Card",icon:"credit_card"},{value:ss.DEBIT_CARD,label:"Debit Card",icon:"credit_card"},{value:ss.BANK_TRANSFER,label:"Bank Transfer",icon:"account_balance"},{value:ss.CASH,label:"Cash",icon:"money"},{value:ss.DIGITAL_WALLET,label:"Digital Wallet",icon:"account_balance_wallet"}],this.editMode=!1,this.TransactionType=qn,this.recurringMinDate=(0,xa.default)().add(1,"day").format("YYYY-MM-DD"),this.recurringMaxDate=(0,xa.default)().add(1,"year").format("YYYY-MM-DD"),this.store.dispatch(cb()),this.groups$=this.store.select(bb),this.categoryList$=this.store.select(zi),this.accountList$=this.store.select(Fa),this.transactionForm=this.fb.group({payee:["",this.validationService.getTransactionPayeeValidators()],amount:["",this.validationService.getTransactionAmountValidators()],date:[(0,xa.default)().format("YYYY-MM-DD"),wt.required],description:[""],categoryId:[""],categoryName:[""],categoryType:[""],accountId:["",wt.required],taxAmount:[0,[wt.min(0)]],taxPercentage:[0,[wt.min(0),wt.max(100)]],taxes:[[]],paymentMethod:[""],isRecurring:[!1],recurringInterval:[qi.MONTHLY],recurringStartDate:[(0,xa.default)().format("YYYY-MM-DD")],recurringEndDate:[(0,xa.default)().add(1,"year").format("YYYY-MM-DD")],recurringAmount:[0],recurringNotes:[""],recurringCategoryId:[""],recurringCategoryName:[""],isSplitTransaction:[!1],splitGroupId:[""],splitAmount:[0]}),this.isMobile=this.breakpointObserver.isMatched("(max-width: 640px)")}ngOnInit(){var t;this.userId=(t=this.auth.currentUser)==null?void 0:t.uid,this.initializeFormData(),window.addEventListener("popstate",i=>{this.dialogRef.close(),i.preventDefault()})}initializeFormData(){var t,i,a,o;(t=this.dialogData)!=null&&t.id?(this.editMode=!0,this.transactionForm.patchValue({payee:this.dialogData.payee||"",amount:this.dialogData.amount||"",date:this.dialogData.date?(0,xa.default)(this.dateService.toDate(this.dialogData.date)).format("YYYY-MM-DD"):(0,xa.default)().format("YYYY-MM-DD"),description:this.dialogData.notes||"",categoryId:this.dialogData.categoryId||"",categoryName:this.dialogData.categoryName||"",categoryType:this.dialogData.categoryType||"",accountId:this.dialogData.accountId||"",taxAmount:this.dialogData.taxAmount||0,taxPercentage:this.dialogData.taxPercentage||0,taxes:this.dialogData.taxes||[],paymentMethod:this.dialogData.paymentMethod||"",isRecurring:this.dialogData.isRecurring||!1,recurringInterval:this.dialogData.recurringInterval||qi.MONTHLY,recurringStartDate:this.dialogData.nextOccurrence?(0,xa.default)(this.dateService.toDate(this.dialogData.nextOccurrence)).format("YYYY-MM-DD"):(0,xa.default)().format("YYYY-MM-DD"),recurringEndDate:this.dialogData.recurringEndDate?(0,xa.default)(this.dateService.toDate(this.dialogData.recurringEndDate)).format("YYYY-MM-DD"):(0,xa.default)().add(1,"year").format("YYYY-MM-DD")}),(i=this.transactionForm.get("isSplitTransaction"))==null||i.setValue(this.dialogData.isSplitTransaction||!1),(a=this.transactionForm.get("splitGroupId"))==null||a.setValue(this.dialogData.splitGroupId||""),(o=this.transactionForm.get("splitAmount"))==null||o.setValue(this.dialogData.splitAmount||0),this.onCategoryChange(this.dialogData.categoryId)):(this.transactionForm.patchValue({payee:"",amount:"",date:(0,xa.default)().format("YYYY-MM-DD"),description:"",categoryId:"",categoryName:"",categoryType:"",accountId:"",taxAmount:0,taxPercentage:0,taxes:[],paymentMethod:""}),this.getRecentTransaction())}getRecentTransaction(){this.store.select(fC).pipe(aa(1)).subscribe(t=>{t&&this.transactionForm.patchValue({categoryName:t.category,categoryType:t.type,categoryId:t.categoryId,payee:t.payee,accountId:t.accountId,isSplitTransaction:t.isSplitTransaction,splitGroupId:t.splitGroupId})})}ngAfterViewInit(){setTimeout(()=>{this.amountInput&&this.amountInput.nativeElement.focus()},200)}onSubmit(){return me(this,null,function*(){var t,i,a;if(this.transactionForm.markAllAsTouched(),(t=this.transactionForm.get("isSplitTransaction"))!=null&&t.value&&!((i=this.transactionForm.get("splitGroupId"))!=null&&i.value)){this.notificationService.error("Please select a group for split transaction");return}if(this.transactionForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{this.loaderService.show();let o=this.transactionForm.value,s={payee:o.payee,accountId:o.accountId,amount:parseFloat(o.amount),category:o.categoryName,categoryId:o.categoryId,type:o.categoryType,date:new Date(o.date+" "+this.dateService.now().toDate().toLocaleTimeString()),notes:o.description,taxAmount:o.taxAmount||0,taxPercentage:o.taxPercentage||0,taxes:o.taxes||[],paymentMethod:o.paymentMethod||"",isRecurring:o.isRecurring||!1,recurringInterval:o.recurringInterval||qi.MONTHLY,recurringEndDate:o.recurringEndDate?new Date(o.recurringEndDate):null,nextOccurrence:o.isRecurring?new Date(o.recurringStartDate||o.date):null,status:il.COMPLETED,isSplitTransaction:o.isSplitTransaction||!1,splitGroupId:o.splitGroupId||"",updatedBy:this.userId,updatedAt:new Date};if((a=this.dialogData)!=null&&a.id)yield this.store.dispatch(ns({userId:this.userId,transactionId:this.dialogData.id,transaction:s})),this.notificationService.success("Transaction updated successfully");else{let m=yield this.store.dispatch(ts({userId:this.userId,transaction:de(oe({userId:this.userId},s),{syncStatus:os.PENDING,createdAt:new Date,updatedAt:new Date,createdBy:this.userId,updatedBy:this.userId})}));this.notificationService.success("Transaction added successfully"),this.hapticFeedback.successVibration()}o.isSplitTransaction&&this.router.navigate(["/dashboard/splitwise/group",o.splitGroupId]),this.dialogRef.close(!0)}catch(o){console.error("Error saving transaction:",o),this.notificationService.error("Failed to save transaction")}finally{this.isSubmitting=!1,this.loaderService.hide()}}})}onClose(){this.dialogRef.close()}getAmountError(){let t=this.transactionForm.get("amount");return t?this.validationService.getTransactionAmountError(t):""}getDateError(){let t=this.transactionForm.get("date");return t!=null&&t.hasError("required")?"Date is required":""}openNewAccountDialog(){this.dialog.open(Td,{width:this.isMobile?"90vw":"400px",maxWidth:this.isMobile?"400px":"90vw",data:null,disableClose:!0,panelClass:"mobile-dialog"})}openEditAccountDialog(t){this.dialog.open(Td,{width:this.isMobile?"90vw":"400px",maxWidth:this.isMobile?"400px":"90vw",data:t,disableClose:!0,panelClass:"mobile-dialog"})}openNewCategoryDialog(){this.dialog.open(Yu,{width:"90vw",maxWidth:"400px",data:null,disableClose:!0,panelClass:"mobile-dialog"})}onCategoryChange(t){t&&this.categoryList$.pipe(aa(1),tt(i=>i.find(a=>a.id===t)),Hn(i=>!!i)).subscribe(i=>{this.transactionForm.patchValue({categoryName:i.name,categoryType:i.type,payee:this.editMode?this.dialogData.payee:i.name})})}onTaxPercentageChange(){var a,o;let t=((a=this.transactionForm.get("amount"))==null?void 0:a.value)||0,i=((o=this.transactionForm.get("taxPercentage"))==null?void 0:o.value)||0;if(t>0&&i>0){let s=t*i/100;this.transactionForm.patchValue({taxAmount:parseFloat(s.toFixed(2))},{emitEvent:!1})}}onTaxAmountChange(){var a,o;let t=((a=this.transactionForm.get("amount"))==null?void 0:a.value)||0,i=((o=this.transactionForm.get("taxAmount"))==null?void 0:o.value)||0;if(t>0&&i>0){let s=i/t*100;this.transactionForm.patchValue({taxPercentage:parseFloat(s.toFixed(2))},{emitEvent:!1})}}onAmountChange(){var a,o;let t=((a=this.transactionForm.get("amount"))==null?void 0:a.value)||0,i=((o=this.transactionForm.get("taxAmount"))==null?void 0:o.value)||0;if(t>0&&i>0){let s=i/t*100;this.transactionForm.patchValue({taxPercentage:parseFloat(s.toFixed(2))},{emitEvent:!1})}}clearTaxFields(){this.transactionForm.patchValue({taxAmount:0,taxPercentage:0,taxes:[]})}toggleSplitTransaction(){var i;let t=this.transactionForm.get("splitGroupId");(i=this.transactionForm.get("isSplitTransaction"))!=null&&i.value?t==null||t.setValidators([wt.required]):(t==null||t.clearValidators(),t==null||t.setValue("")),t==null||t.updateValueAndValidity()}openSplitwise(){this.router.navigate(["/dashboard/splitwise"])}};n.\u0275fac=function(i){return new(i||n)(T(ji),T(Ft),T(Pr),T(Vi),T(kt),T(vt),T(hn),T(Da),T(di),T(ul),T(Xt),T(Ta),T(or),T(ms))},n.\u0275cmp=Se({type:n,selectors:[["app-mobile-add-transaction"]],viewQuery:function(i,a){if(i&1&&Qt(Q3,5),i&2){let o;ft(o=ht())&&(a.amountInput=o.first)}},decls:112,vars:25,consts:[["amountInput",""],[1,"sticky","top-0","z-20","bg-white","dark:bg-gray-800","border-b","border-gray-200","dark:border-gray-700","shadow-sm"],[1,"flex","items-center","justify-between","px-4","py-3"],[1,"text-lg","font-semibold","text-gray-900","dark:text-gray-100"],[1,"flex","items-center","gap-2"],["mat-icon-button","","color","primary","matTooltip","Save Transaction",1,"w-10","h-10","!bg-primary",3,"click","disabled"],[1,"text-white"],["mat-icon-button","","type","button","matTooltip","Close",1,"text-gray-500","hover:text-gray-700","dark:text-gray-400","dark:hover:text-gray-200",3,"click"],[1,"flex-1","overflow-y-auto","bg-gray-50","dark:bg-gray-900"],[1,"p-4","space-y-6"],[1,"space-y-6",3,"ngSubmit","keydown.enter","formGroup"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-4","shadow-sm","space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["type","number","formControlName","amount","placeholder","0.00","step","0.01",1,"w-full","text-2xl","font-bold","text-center","py-3","px-4","border-0","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","rounded-lg",3,"input"],[1,"text-red-500","text-sm","mt-1"],["type","text","formControlName","payee","placeholder","Enter description",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"maxlength"],[1,"flex","justify-between","items-center","mt-1"],[1,"text-red-500","text-sm"],[1,"text-xs","text-gray-500"],[1,"flex","items-center","justify-between","mb-2"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","button",1,"text-xs","text-blue-600","dark:text-blue-400","hover:text-blue-800","dark:hover:text-blue-300","font-medium","flex","items-center","gap-1",3,"click"],[1,"text-sm"],["appearance","fill",1,"w-full"],["formControlName","categoryId",3,"selectionChange"],[3,"value"],[1,"relative"],["type","date","formControlName","date",1,"w-full","py-3","px-4","pr-10","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","[&::-webkit-calendar-picker-indicator]:bg-none","[&::-webkit-calendar-picker-indicator]:bg-transparent","[&::-webkit-calendar-picker-indicator]:opacity-0","[&::-webkit-calendar-picker-indicator]:absolute","[&::-webkit-calendar-picker-indicator]:right-0","[&::-webkit-calendar-picker-indicator]:top-0","[&::-webkit-calendar-picker-indicator]:w-full","[&::-webkit-calendar-picker-indicator]:h-full","[&::-webkit-calendar-picker-indicator]:cursor-pointer"],[1,"absolute","right-3","top-1/2","transform","-translate-y-1/2","text-gray-400","pointer-events-none"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-4","shadow-sm"],[1,"space-y-2"],["formControlName","accountId"],["class","bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",4,"ngIf"],["formControlName","description","placeholder","Add any additional notes...",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","resize-none",3,"rows"],[1,"flex","items-center","justify-between","mb-4"],["formControlName","isSplitTransaction",3,"change"],[1,"space-y-4"],["formControlName","isRecurring"],[1,"bg-white","dark:bg-gray-800","shadow-sm","border-0"],[1,"px-4","py-3"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800","dark:bg-blue-900","dark:text-blue-200"],[1,"space-y-4","px-4","pb-4"],[1,"bg-gray-50","dark:bg-gray-700","rounded-lg","p-3"],["type","number","formControlName","taxAmount","placeholder","0.00","step","0.01",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input"],["type","number","formControlName","taxPercentage","placeholder","0","step","0.01","min","0","max","100",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input"],[1,"pt-2"],[1,"h-20"],["formControlName","paymentMethod"],["value",""],["formControlName","splitGroupId"],[1,"flex","items-center","justify-between","w-full"],["formControlName","recurringInterval"],["type","date","formControlName","recurringStartDate",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"min","max"],["type","date","formControlName","recurringEndDate",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"min","max"],[1,"text-xs","text-gray-500","mt-1"],[1,"bg-blue-50","dark:bg-blue-900/20","rounded-lg","p-3"],[1,"flex","items-center","gap-2","mb-2"],[1,"text-sm","text-blue-600","dark:text-blue-400"],[1,"text-sm","font-medium","text-blue-800","dark:text-blue-200"],[1,"text-sm","text-blue-700","dark:text-blue-300","space-y-1"],[1,"flex","justify-between","items-center","text-sm"],[1,"text-gray-600","dark:text-gray-300"],[1,"font-medium","text-gray-900","dark:text-gray-100"],[1,"flex","justify-between","items-center","text-sm","mt-1"],[1,"font-medium","text-red-600","dark:text-red-400"],[1,"flex","justify-between","items-center","text-sm","mt-2","pt-2","border-t","border-gray-200","dark:border-gray-600"],[1,"font-medium","text-gray-700","dark:text-gray-300"],[1,"font-bold","text-green-600","dark:text-green-400"],["type","button",1,"w-full","py-2","px-4","text-sm","text-gray-600","dark:text-gray-400","hover:text-gray-800","dark:hover:text-gray-200","border","border-gray-300","dark:border-gray-600","rounded-lg","hover:bg-gray-50","dark:hover:bg-gray-700","transition-colors","duration-200",3,"click"],[1,"text-sm","mr-2"]],template:function(i,a){if(i&1){let o=ue();c(0,"div",1)(1,"div",2)(2,"h6",3),d(3),l(),c(4,"div",4)(5,"button",5),F("click",function(){return N(o),L(a.onSubmit())}),c(6,"mat-icon",6),d(7),l()(),c(8,"button",7),F("click",function(){return N(o),L(a.onClose())}),c(9,"mat-icon"),d(10,"close"),l()()()()(),c(11,"div",8)(12,"div",9)(13,"form",10),F("ngSubmit",function(){return N(o),L(a.onSubmit())})("keydown.enter",function(){return N(o),L(a.onSubmit())}),c(14,"div",11)(15,"div")(16,"label",12),d(17," Amount * "),l(),c(18,"input",13,0),F("input",function(){return N(o),L(a.onAmountChange())}),l(),U(20,t4,2,1,"p",14),l(),c(21,"div")(22,"label",12),d(23," Description * "),l(),se(24,"input",15),c(25,"div",16),U(26,n4,2,0,"p",17),c(27,"span",18),d(28),l()()(),c(29,"div")(30,"div",19)(31,"label",20),d(32," Category "),l(),c(33,"button",21),F("click",function(){return N(o),L(a.openNewCategoryDialog())}),c(34,"mat-icon",22),d(35,"add"),l(),d(36,"Add "),l()(),c(37,"mat-form-field",23)(38,"mat-label"),d(39,"Select a category"),l(),c(40,"mat-select",24),F("selectionChange",function(m){return N(o),L(a.onCategoryChange(m.value))}),Ge(41,i4,2,2,"mat-option",25,Ti),_e(43,"async"),l()()(),c(44,"div")(45,"label",12),d(46," Date * "),l(),c(47,"div",26),se(48,"input",27),c(49,"mat-icon",28),d(50," calendar_today "),l()(),U(51,r4,2,1,"p",14),l()(),c(52,"div",29)(53,"div",19)(54,"label",20),d(55," Account * "),l(),c(56,"button",21),F("click",function(){return N(o),L(a.openNewAccountDialog())}),c(57,"mat-icon",22),d(58,"add"),l(),d(59," Add "),l()(),c(60,"div",30)(61,"mat-form-field",23)(62,"mat-label"),d(63,"Select an account"),l(),c(64,"mat-select",31),Ge(65,a4,3,5,"mat-option",25,Z3),_e(67,"async"),l(),U(68,o4,2,0,"mat-error"),l()()(),U(69,c4,11,0,"div",32),c(70,"div",29)(71,"label",12),d(72," Notes "),l(),se(73,"textarea",33),l(),c(74,"div",29)(75,"div",34)(76,"label",20),d(77," Split with Group "),l(),c(78,"mat-slide-toggle",35),F("change",function(){return N(o),L(a.toggleSplitTransaction())}),l()(),U(79,m4,12,3,"div",36),l(),c(80,"div",29)(81,"div",34)(82,"label",20),d(83," Recurring Transaction "),l(),se(84,"mat-slide-toggle",37),l(),U(85,p4,40,11,"div",36),l(),c(86,"mat-expansion-panel",38)(87,"mat-expansion-panel-header",39)(88,"mat-panel-title",4)(89,"mat-icon",40),d(90,"receipt"),l(),c(91,"span",41),d(92," Tax Information (Optional) "),l(),U(93,f4,2,1,"span",42),l()(),c(94,"div",43),U(95,g4,7,2,"div",44),c(96,"div")(97,"label",12),d(98," Tax Amount "),l(),c(99,"input",45),F("input",function(){return N(o),L(a.onTaxAmountChange())}),l(),U(100,_4,2,0,"p",14),l(),c(101,"div")(102,"label",12),d(103," Tax Percentage (%) "),l(),c(104,"input",46),F("input",function(){return N(o),L(a.onTaxPercentageChange())}),l(),c(105,"div",16),U(106,x4,2,0,"p",17)(107,v4,2,0,"p",17),c(108,"span",18),d(109),l()()(),U(110,b4,5,0,"div",47),l()(),se(111,"div",48),l()()()}if(i&2){let o,s,m,u,f,g,x,C,y,v,P,D,I,A;h(3),ae(" ",a.dialogData!=null&&a.dialogData.id?"Edit":"Add"," Transaction "),h(2),M("disabled",a.transactionForm.invalid||a.isSubmitting),h(2),ae(" ",a.isSubmitting?"hourglass_empty":"check"," "),h(6),M("formGroup",a.transactionForm),h(7),Qe(a.getAmountError()&&((o=a.transactionForm.get("amount"))!=null&&o.touched)?20:-1),h(4),M("maxlength",45),h(2),Qe((s=a.transactionForm.get("payee"))!=null&&s.hasError("required")&&((s=a.transactionForm.get("payee"))!=null&&s.touched)?26:-1),h(2),ae(" ",((m=a.transactionForm.get("payee"))==null||m.value==null?null:m.value.length)||0,"/45 "),h(13),qe(Ne(43,21,a.categoryList$)),h(10),Qe(a.getDateError()?51:-1),h(14),qe(Ne(67,23,a.accountList$)),h(3),Qe((u=a.transactionForm.get("accountId"))!=null&&u.hasError("required")&&((u=a.transactionForm.get("accountId"))!=null&&u.touched)?68:-1),h(),M("ngIf",((f=a.transactionForm.get("type"))==null?null:f.value)===a.TransactionType.EXPENSE),h(4),M("rows",3),h(6),Qe((g=a.transactionForm.get("isSplitTransaction"))!=null&&g.value?79:-1),h(6),Qe((x=a.transactionForm.get("isRecurring"))!=null&&x.value?85:-1),h(8),Qe((((C=a.transactionForm.get("taxAmount"))==null?null:C.value)||0)>0||(((C=a.transactionForm.get("taxPercentage"))==null?null:C.value)||0)>0?93:-1),h(2),Qe((((y=a.transactionForm.get("amount"))==null?null:y.value)||0)>0?95:-1),h(5),Qe((v=a.transactionForm.get("taxAmount"))!=null&&v.hasError("min")&&((v=a.transactionForm.get("taxAmount"))!=null&&v.touched)?100:-1),h(6),Qe((P=a.transactionForm.get("taxPercentage"))!=null&&P.hasError("min")&&((P=a.transactionForm.get("taxPercentage"))!=null&&P.touched)?106:-1),h(),Qe((D=a.transactionForm.get("taxPercentage"))!=null&&D.hasError("max")&&((D=a.transactionForm.get("taxPercentage"))!=null&&D.touched)?107:-1),h(2),ae(" ",((I=a.transactionForm.get("taxPercentage"))==null?null:I.value)||0,"% "),h(),Qe((((A=a.transactionForm.get("taxAmount"))==null?null:A.value)||0)>0||(((A=a.transactionForm.get("taxPercentage"))==null?null:A.value)||0)>0?110:-1)}},dependencies:[dt,Mi,on,rr,sn,yi,Hc,fm,pm,Mr,Sr,mn,lt,Or,Ia,co,cr,Xi,En,Ra,Cb,yb,wb,Bc,Pa],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;font-size:16px}.dark   [_nghost-%COMP%]{background-color:#111827}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;transform:scale(1.01);transition:transform .15s ease-out}button[_ngcontent-%COMP%]{transition:transform .15s ease-out,opacity .15s ease-out;will-change:transform}button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px)}button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield;-webkit-appearance:none;appearance:none}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0}.overflow-y-auto[_ngcontent-%COMP%]{scroll-behavior:smooth;-webkit-overflow-scrolling:touch;overscroll-behavior:contain}.bg-white[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]{transition:transform .15s ease-out,box-shadow .15s ease-out;will-change:transform}.bg-white[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000014}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.text-red-500[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .4s ease-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-3px)}75%{transform:translate(3px)}}.text-green-500[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse .4s ease-out}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}@media (max-width: 768px){[_nghost-%COMP%]{font-size:16px}button[_ngcontent-%COMP%]{min-height:44px;min-width:44px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:16px;padding:12px 16px;border-radius:8px}.text-2xl[_ngcontent-%COMP%]{font-size:1.75rem;line-height:1.2}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{transform:none}button[_ngcontent-%COMP%]:hover:not(:disabled){transform:none}.bg-white[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]:hover{transform:none}}@media (max-width: 480px){[_nghost-%COMP%]{font-size:16px}.p-4[_ngcontent-%COMP%]{padding:1rem}button[_ngcontent-%COMP%]{min-height:48px;min-width:48px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:16px;padding:14px 16px}}@media (min-width: 769px){button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px)}.bg-white[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000014}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{transform:scale(1.01)}}@media (-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi){.bg-white[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000001a}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%], .bg-white[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]{transform:none!important;transition:none!important}}*[_ngcontent-%COMP%]{transition:background-color .2s ease,color .2s ease,border-color .2s ease}button[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px}"]});let e=n;return e})();var bs=(()=>{let n=class n{constructor(t){this.breakpointObserver=t,this.device={isMobile:!1,isTablePortrait:!1,isDesktop:!1},this.breakpointObserver.observe([Oa.Handset]).subscribe(i=>{this.device.isMobile=i.matches}),this.breakpointObserver.observe([Oa.TabletPortrait]).subscribe(i=>{this.device.isTablePortrait=i.matches}),this.breakpointObserver.observe([Oa.Web]).subscribe(i=>{this.device.isDesktop=i.matches})}};n.\u0275fac=function(i){return new(i||n)(Ie(or))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function C4(e,n){if(e&1&&(c(0,"footer",0)(1,"div",2)(2,"div",3)(3,"mat-icon",4),d(4,"account_balance_wallet"),l(),c(5,"span",5),d(6,"Money Manager"),l(),c(7,"span",6),d(8),l()(),c(9,"div",7)(10,"span"),d(11,"\xA9 2024 Money Manager"),l(),c(12,"span",8),d(13,"\u2022"),l(),c(14,"span",8),d(15,"All rights reserved"),l(),c(16,"span",8),d(17,"\u2022"),l()()()()),e&2){let r=w();h(8),ae("v",r.getAppVersion(),"")}}function y4(e,n){if(e&1){let r=ue();c(0,"footer",1)(1,"div",9)(2,"div",10)(3,"button",11),F("click",function(){N(r);let i=w();return L(i.home())}),c(4,"div",12),F("click",function(){N(r);let i=w();return L(i.home())}),c(5,"mat-icon",13),d(6,"home"),l()(),c(7,"span",14),d(8,"Home"),l()(),c(9,"button",11),F("click",function(){N(r);let i=w();return L(i.quickExpense())}),c(10,"div",12),F("click",function(){N(r);let i=w();return L(i.quickExpense())}),c(11,"mat-icon",13),d(12,"trending_down"),l()(),c(13,"span",14),d(14,"Expense"),l()(),c(15,"button",11),F("click",function(){N(r);let i=w();return L(i.addTransaction())}),c(16,"div",15)(17,"mat-icon",16),d(18,"add_circle"),l()(),c(19,"span",17),d(20,"Add"),l()(),c(21,"button",11),F("click",function(){N(r);let i=w();return L(i.navigateTo("/dashboard/category"))}),c(22,"div",12),F("click",function(){N(r);let i=w();return L(i.navigateTo("/dashboard/category"))}),c(23,"mat-icon",13),d(24,"layers"),l()(),c(25,"span",14),d(26,"Category"),l()(),c(27,"button",11),F("click",function(){N(r);let i=w();return L(i.navigateTo("/dashboard/accounts"))}),c(28,"div",12),F("click",function(){N(r);let i=w();return L(i.navigateTo("/dashboard/accounts"))}),c(29,"mat-icon",13),d(30,"account_balance"),l()(),c(31,"span",14),d(32,"Accounts"),l()()()()()}if(e&2){let r=w();h(4),Ct(r.isHomeActive()?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),h(),Ct(r.isHomeActive()?"text-white":"text-gray-600 dark:text-gray-400"),h(2),Ct(r.isHomeActive()?"text-primary dark:text-primary":"text-gray-700 dark:text-gray-300"),h(3),Ct(r.isExpenseActive()?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),h(),Ct(r.isExpenseActive()?"text-white":"text-gray-600 dark:text-gray-400"),h(2),Ct(r.isExpenseActive()?"text-primary dark:text-primary":"text-gray-700 dark:text-gray-300"),h(9),Ct(r.isCategoryActive()?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),h(),Ct(r.isCategoryActive()?"text-white":"text-gray-600 dark:text-gray-400"),h(2),Ct(r.isCategoryActive()?"text-primary dark:text-primary":"text-gray-700 dark:text-gray-300"),h(3),Ct(r.isAccountsActive()?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),h(),Ct(r.isAccountsActive()?"text-white":"text-gray-600 dark:text-gray-400"),h(2),Ct(r.isAccountsActive()?"text-primary dark:text-primary":"text-gray-700 dark:text-gray-300")}}var gC=(()=>{let n=class n{constructor(t,i,a,o,s,m){this.commonSyncService=t,this.router=i,this._dialog=a,this.hapticFeedback=o,this.cdr=s,this.breakpointService=m}ngOnInit(){this.routeSubscription=this.router.events.pipe(Hn(t=>t instanceof cm)).subscribe(()=>{this.cdr.detectChanges()})}ngOnDestroy(){var t;(t=this.routeSubscription)==null||t.unsubscribe()}isHomeActive(){return this.router.url==="/dashboard"||this.router.url==="/dashboard/home"}isExpenseActive(){return this.router.url==="/dashboard/transactions"}isReportsActive(){return this.router.url==="/dashboard/reports"}isCategoryActive(){return this.router.url==="/dashboard/category"}isAccountsActive(){return this.router.url==="/dashboard/accounts"}isMoreActive(){return["/dashboard/accounts","/dashboard/budgets","/dashboard/goals","/dashboard/notes","/dashboard/tax","/dashboard/subscription"].includes(this.router.url)}addTransaction(){let t=this._dialog.open(Ad,{width:"600px",maxWidth:"100vw"})}home(){this.router.navigate(["/dashboard/home"])}quickExpense(){this.router.navigate(["/dashboard/transactions"])}reports(){console.log("Quick transfer clicked"),this.router.navigate(["/dashboard/reports"])}scanReceipt(){console.log("Scan receipt clicked"),alert("Receipt scanning feature coming soon!")}openAddTransactionModal(){console.log("Open add transaction modal clicked"),this.router.navigate(["/dashboard/add-transaction"])}openSettings(){console.log("Settings clicked"),this.router.navigate(["/dashboard/settings"])}openReports(){console.log("Reports clicked"),this.router.navigate(["/dashboard/reports"])}openSearch(){console.log("Search clicked"),alert("Search feature coming soon!")}onMoreMenuClick(){this.hapticFeedback.buttonClick(),console.log("More menu clicked")}navigateTo(t){this.router.navigate([t])}getAppVersion(){return new Date().toISOString().split("T")[0]}getNetworkStatusClass(){let t=this.commonSyncService.getCurrentNetworkStatus();return t.online?t.effectiveType==="4g"?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300":t.effectiveType==="3g"?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-300":"bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-300":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300"}getNetworkIndicatorClass(){let t=this.commonSyncService.getCurrentNetworkStatus();return t.online?t.effectiveType==="4g"?"bg-green-500":t.effectiveType==="3g"?"bg-yellow-500":"bg-gray-500":"bg-red-500"}getNetworkStatusText(){let t=this.commonSyncService.getCurrentNetworkStatus();return t.online?t.effectiveType==="4g"?"4G":t.effectiveType==="3g"?"3G":t.effectiveType==="2g"?"2G":"Online":"Offline"}};n.\u0275fac=function(i){return new(i||n)(T(ga),T(hn),T(di),T(Da),T(Tn),T(bs))},n.\u0275cmp=Se({type:n,selectors:[["app-footer"]],decls:2,vars:2,consts:[[1,"hidden","md:flex","flex-shrink-0","bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700","shadow-sm"],[1,"flex-shrink-0","bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700","shadow-lg"],[1,"flex","items-center","justify-between","px-6","py-4","w-full"],[1,"flex","items-center","gap-3","text-sm","text-gray-600","dark:text-gray-300"],[1,"text-gray-400","dark:text-gray-500"],[1,"font-medium"],[1,"text-xs","text-gray-400","dark:text-gray-500"],[1,"flex","items-center","gap-1","text-xs","text-gray-500","dark:text-gray-400"],[1,"hidden","lg:inline"],[1,"px-2","py-3"],[1,"grid","grid-cols-5","gap-2"],[1,"group","flex","flex-col","items-center","gap-2",3,"click"],[1,"w-10","h-10","rounded-xl","flex","items-center","justify-center","shadow-md","transition-all","duration-200",3,"click"],[1,"text-lg","relative","bottom-1"],[1,"text-xs","font-medium","transition-colors","duration-200"],[1,"w-12","h-12","bg-gray-500","rounded-xl","flex","items-center","justify-center","shadow-md","hover:scale-105","transition-all","duration-200"],[1,"text-white","text-lg","relative","bottom-1"],[1,"text-xs","font-medium","text-gray-700","dark:text-gray-300"]],template:function(i,a){i&1&&U(0,C4,18,1,"footer",0)(1,y4,33,24,"footer",1),i&2&&(Qe(!a.breakpointService.device.isTablePortrait&&!a.breakpointService.device.isMobile?0:-1),h(),Qe(a.breakpointService.device.isMobile||a.breakpointService.device.isTablePortrait?1:-1))},dependencies:[lt],styles:["[_nghost-%COMP%]{display:block}footer[_ngcontent-%COMP%]{transition:all .3s ease}footer[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a}.hidden.md\\:flex[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#fffffff2}.dark[_ngcontent-%COMP%]   .hidden.md\\:flex[_ngcontent-%COMP%]{background:#1f2937f2}.md\\:hidden[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#fffffffa}.dark[_ngcontent-%COMP%]   .md\\:hidden[_ngcontent-%COMP%]{background:#1f2937fa}.md\\:hidden[_ngcontent-%COMP%]   .main-action[_ngcontent-%COMP%]{box-shadow:0 4px 12px #3b82f64d}.md\\:hidden[_ngcontent-%COMP%]   .main-action[_ngcontent-%COMP%]:hover{box-shadow:0 6px 16px #3b82f666}.md\\:hidden[_ngcontent-%COMP%]   .main-action[_ngcontent-%COMP%]:active{box-shadow:0 2px 8px #3b82f64d}.md\\:hidden[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]{transition:all .2s ease}.md\\:hidden[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.md\\:hidden[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]:active{transform:translateY(0)}.md\\:hidden[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{transition:all .2s ease}.md\\:hidden[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]:hover   .action-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.md\\:hidden[_ngcontent-%COMP%]   .network-status[_ngcontent-%COMP%]{transition:all .3s ease}.md\\:hidden[_ngcontent-%COMP%]   .network-status[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.action-income[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.action-income[_ngcontent-%COMP%]:hover{background:#10b9811a}.action-expense[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.action-expense[_ngcontent-%COMP%]:hover{background:#ef44441a}.action-scan[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed)}.action-scan[_ngcontent-%COMP%]:hover{background:#8b5cf61a}.action-search[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563)}.action-search[_ngcontent-%COMP%]:hover{background:#6b72801a}.action-more[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563)}.action-more[_ngcontent-%COMP%]:hover{background:#6b72801a}.network-online[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.network-offline[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.network-slow[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}@media (max-width: 640px){.mobile-footer[_ngcontent-%COMP%]   .main-action[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:.875rem}.mobile-footer[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{gap:.25rem}.mobile-footer[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}}.dark[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{border-color:#4b556380}.dark[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .network-status[_ngcontent-%COMP%]{background:#4b556333}.dark[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]:hover{background:#4b55631a}@keyframes _ngcontent-%COMP%_networkPulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.network-status-changing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_networkPulse .6s ease-in-out}button[_ngcontent-%COMP%]{transition:all .2s ease}button[_ngcontent-%COMP%]:focus{outline:none;ring:2px;ring-color:rgba(59,130,246,.5)}.footer-button[_ngcontent-%COMP%]{transition:all .2s ease}.footer-button.active[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);box-shadow:0 4px 12px #3b82f64d}.footer-button.active[_ngcontent-%COMP%]   .action-label[_ngcontent-%COMP%]{color:#3b82f6;font-weight:600}.footer-button[_ngcontent-%COMP%]:hover:not(.active)   .action-icon[_ngcontent-%COMP%]{transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-panel[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 8px 32px #0000001f;border:1px solid rgba(0,0,0,.08)}.dark[_ngcontent-%COMP%]   .more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-panel[_ngcontent-%COMP%]{background:#1f2937;border-color:#ffffff1a;box-shadow:0 8px 32px #0000004d}.more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;font-size:14px;font-weight:500;color:#374151;transition:all .2s ease}.dark[_ngcontent-%COMP%]   .more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]{color:#d1d5db}.more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]:hover{background:#3b82f614}.dark[_ngcontent-%COMP%]   .more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]:hover{background:#3b82f626}.more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280;font-size:20px;width:20px;height:20px}.dark[_ngcontent-%COMP%]   .more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af}.more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.menu-item[_ngcontent-%COMP%]{background-color:#ffffff80;border-radius:12px;margin:4px}.menu-item[_ngcontent-%COMP%]:hover{background-color:#ffffff80}"]});let e=n;return e})();var _C=(()=>{let n=class n{constructor(t,i,a,o,s){this.breakpointObserver=t,this.store=i,this.userService=a,this.invitationPopupService=o,this.recurringTransactionService=s,this.isMobile=!1,this.breakpointObserver.observe([Oa.Handset]).subscribe(m=>{this.isMobile=m.matches})}ngOnInit(){var t,i,a,o,s,m;this.store.dispatch(po({userId:((t=this.userService.userAuth$.value)==null?void 0:t.uid)||""})),this.store.dispatch(Qr({userId:((i=this.userService.userAuth$.value)==null?void 0:i.uid)||""})),this.store.dispatch(zr({userId:((a=this.userService.userAuth$.value)==null?void 0:a.uid)||""})),this.store.dispatch(mo({userId:((o=this.userService.userAuth$.value)==null?void 0:o.uid)||""})),this.store.dispatch(uo({userId:((s=this.userService.userAuth$.value)==null?void 0:s.uid)||""})),this.store.dispatch(Gi({userId:((m=this.userService.userAuth$.value)==null?void 0:m.uid)||""})),this.invitationPopupService.showInvitationsAfterLogin(),setTimeout(()=>{this.recurringTransactionService.checkDueRecurringTransactions().subscribe()},2e3)}};n.\u0275fac=function(i){return new(i||n)(T(or),T(Ft),T(Bi),T(Ub),T($b))},n.\u0275cmp=Se({type:n,selectors:[["app-dashboard"]],decls:6,vars:0,consts:[[1,"h-[100vh]","flex","flex-col","bg-gray-50"],[1,"flex-1","overflow-y-auto"],[1,"mx-auto","px-4","py-1","lg:py-2"]],template:function(i,a){i&1&&(c(0,"div",0),se(1,"app-header"),c(2,"main",1)(3,"div",2),se(4,"router-outlet"),l()(),se(5,"app-footer"),l())},dependencies:[lm,tC,gC]});let e=n;return e})();var Bh=["*"];function M4(e,n){e&1&&$n(0)}var S4=["tabListContainer"],P4=["tabList"],k4=["tabListInner"],O4=["nextPaginator"],T4=["previousPaginator"],E4=e=>({animationDuration:e}),D4=(e,n)=>({value:e,params:n});function I4(e,n){}var A4=["tabBodyWrapper"],F4=["tabHeader"];function R4(e,n){}function N4(e,n){if(e&1&&U(0,R4,0,0,"ng-template",12),e&2){let r=w().$implicit;M("cdkPortalOutlet",r.templateLabel)}}function L4(e,n){if(e&1&&d(0),e&2){let r=w().$implicit;G(r.textLabel)}}function B4(e,n){if(e&1){let r=ue();c(0,"div",7,2),F("click",function(){let i=N(r),a=i.$implicit,o=i.$index,s=w(),m=zn(1);return L(s._handleClick(a,m,o))})("cdkFocusChange",function(i){let a=N(r).$index,o=w();return L(o._tabFocusChanged(i,a))}),se(2,"span",8)(3,"div",9),c(4,"span",10)(5,"span",11),U(6,N4,1,1,null,12)(7,L4,1,1),l()()()}if(e&2){let r=n.$implicit,t=n.$index,i=zn(1),a=w();Ct(r.labelClass),Fe("mdc-tab--active",a.selectedIndex===t),M("id",a._getTabLabelId(t))("disabled",r.disabled)("fitInkBarToContent",a.fitInkBarToContent),Kt("tabIndex",a._getTabIndex(t))("aria-posinset",t+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(t))("aria-selected",a.selectedIndex===t)("aria-label",r.ariaLabel||null)("aria-labelledby",!r.ariaLabel&&r.ariaLabelledby?r.ariaLabelledby:null),h(3),M("matRippleTrigger",i)("matRippleDisabled",r.disabled||a.disableRipple),h(3),Qe(r.templateLabel?6:7)}}function V4(e,n){e&1&&$n(0)}function j4(e,n){if(e&1){let r=ue();c(0,"mat-tab-body",13),F("_onCentered",function(){N(r);let i=w();return L(i._removeTabBodyWrapperHeight())})("_onCentering",function(i){N(r);let a=w();return L(a._setTabBodyWrapperHeight(i))}),l()}if(e&2){let r=n.$implicit,t=n.$index,i=w();Ct(r.bodyClass),Fe("mat-mdc-tab-body-active",i.selectedIndex===t),M("id",i._getTabContentId(t))("content",r.content)("position",r.position)("origin",r.origin)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),Kt("tabindex",i.contentTabIndex!=null&&i.selectedIndex===t?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(t))("aria-hidden",i.selectedIndex!==t)}}var z4=new Pn("MatTabContent"),U4=(()=>{let n=class n{constructor(t){this.template=t}};n.\u0275fac=function(i){return new(i||n)(T(_r))},n.\u0275dir=At({type:n,selectors:[["","matTabContent",""]],standalone:!0,features:[Gn([{provide:z4,useExisting:n}])]});let e=n;return e})(),Y4=new Pn("MatTabLabel"),bC=new Pn("MAT_TAB"),Vh=(()=>{let n=class n extends Jv{constructor(t,i,a){super(t,i),this._closestTab=a}};n.\u0275fac=function(i){return new(i||n)(T(_r),T(ca),T(bC,8))},n.\u0275dir=At({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[Gn([{provide:Y4,useExisting:n}]),jn]});let e=n;return e})(),CC=new Pn("MAT_TAB_GROUP"),Vo=(()=>{let n=class n{get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}constructor(t,i){this._viewContainerRef=t,this._closestTabGroup=i,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new _t,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Qf(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}};n.\u0275fac=function(i){return new(i||n)(T(ca),T(CC,8))},n.\u0275cmp=Se({type:n,selectors:[["mat-tab"]],contentQueries:function(i,a,o){if(i&1&&(Di(o,Vh,5),Di(o,U4,7,_r)),i&2){let s;ft(s=ht())&&(a.templateLabel=s.first),ft(s=ht())&&(a._explicitContent=s.first)}},viewQuery:function(i,a){if(i&1&&Qt(_r,7),i&2){let o;ft(o=ht())&&(a._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",Ht],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[Gn([{provide:bC,useExisting:n}]),Jn,Xn,fn],ngContentSelectors:Bh,decls:1,vars:0,template:function(i,a){i&1&&(Ei(),U(0,M4,1,0,"ng-template"))},encapsulation:2});let e=n;return e})(),Rh="mdc-tab-indicator--active",xC="mdc-tab-indicator--no-transition",Nh=class{constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar())}alignToElement(n){var i,a;let r=this._items.find(o=>o.elementRef.nativeElement===n),t=this._currentItem;if(r!==t&&(t==null||t.deactivateInkBar(),r)){let o=(a=t==null?void 0:(i=t.elementRef.nativeElement).getBoundingClientRect)==null?void 0:a.call(i);r.activateInkBar(o),this._currentItem=r}}},W4=(()=>{let n=class n{constructor(){this._elementRef=dn(an),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){let i=this._elementRef.nativeElement;if(!t||!i.getBoundingClientRect||!this._inkBarContentElement){i.classList.add(Rh);return}let a=i.getBoundingClientRect(),o=t.width/a.width,s=t.left-a.left;i.classList.add(xC),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${o})`),i.getBoundingClientRect(),i.classList.remove(xC),i.classList.add(Rh),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Rh)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){var t;(t=this._inkBarElement)==null||t.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let t=this._elementRef.nativeElement.ownerDocument||document,i=this._inkBarElement=t.createElement("span"),a=this._inkBarContentElement=t.createElement("span");i.className="mdc-tab-indicator",a.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",i.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let t=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;t.appendChild(this._inkBarElement)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275dir=At({type:n,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Ht]},features:[Jn]});let e=n;return e})();var yC=(()=>{let n=class n extends W4{constructor(t){super(),this.elementRef=t,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}};n.\u0275fac=function(i){return new(i||n)(T(an))},n.\u0275dir=At({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,a){i&2&&(Kt("aria-disabled",!!a.disabled),Fe("mat-mdc-tab-disabled",a.disabled))},inputs:{disabled:[2,"disabled","disabled",Ht]},standalone:!0,features:[Jn,jn]});let e=n;return e})(),vC=rl({passive:!0}),H4=650,$4=100,G4=(()=>{let n=class n{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){let i=isNaN(t)?0:t;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}constructor(t,i,a,o,s,m,u){this._elementRef=t,this._changeDetectorRef=i,this._viewportRuler=a,this._dir=o,this._ngZone=s,this._platform=m,this._animationMode=u,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new _t,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new _t,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Ve,this.indexFocused=new Ve,this._sharedResizeObserver=dn(_b),this._injector=dn(qr),s.runOutsideAngular(()=>{Ac(t.nativeElement,"mouseleave").pipe(yt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Ac(this._previousPaginator.nativeElement,"touchstart",vC).pipe(yt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ac(this._nextPaginator.nativeElement,"touchstart",vC).pipe(yt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let t=this._dir?this._dir.change:st("ltr"),i=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(Eo(32),yt(this._destroyed)),a=this._viewportRuler.change(150).pipe(yt(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Uv(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),Qa(o,{injector:this._injector}),ir(t,a,i,this._items.changes,this._itemsResized()).pipe(yt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?W0:this._items.changes.pipe(Xa(this._items),oa(t=>new rn(i=>this._ngZone.runOutsideAngular(()=>{let a=new ResizeObserver(o=>i.next(o));return t.forEach(o=>a.observe(o.elementRef.nativeElement)),()=>{a.disconnect()}}))),$0(1),Hn(t=>t.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){var t;(t=this._keyManager)==null||t.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Za(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){let t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return this._items?!!this._items.toArray()[t]:!0}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();let i=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?i.scrollLeft=0:i.scrollLeft=i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let t=this.scrollDistance,i=this._getLayoutDirection()==="ltr"?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){let i=this._tabListContainer.nativeElement.offsetWidth,a=(t=="before"?-1:1)*i/3;return this._scrollTo(this._scrollDistance+a)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;let i=this._items?this._items.toArray()[t]:null;if(!i)return;let a=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=i.elementRef.nativeElement,m,u;this._getLayoutDirection()=="ltr"?(m=o,u=m+s):(u=this._tabListInner.nativeElement.offsetWidth-o,m=u-s);let f=this.scrollDistance,g=this.scrollDistance+a;m<f?this.scrollDistance-=f-m:u>g&&(this.scrollDistance+=Math.min(u-g,m-f))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let t=this._tabListInner.nativeElement.scrollWidth,i=this._elementRef.nativeElement.offsetWidth,a=t-i>=5;a||(this.scrollDistance=0),a!==this._showPaginationControls&&(this._showPaginationControls=a,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let t=this._tabListInner.nativeElement.scrollWidth,i=this._tabListContainer.nativeElement.offsetWidth;return t-i||0}_alignInkBarToSelectedTab(){let t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=t?t.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,i){i&&i.button!=null&&i.button!==0||(this._stopInterval(),bx(H4,$4).pipe(yt(ir(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:a,distance:o}=this._scrollHeader(t);(o===0||o>=a)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}};n.\u0275fac=function(i){return new(i||n)(T(an),T(Tn),T(Xs),T(pa,8),T(kn),T(ua),T(sa,8))},n.\u0275dir=At({type:n,inputs:{disablePagination:[2,"disablePagination","disablePagination",Ht],selectedIndex:[2,"selectedIndex","selectedIndex",Lc]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Jn]});let e=n;return e})(),q4=(()=>{let n=class n extends G4{constructor(t,i,a,o,s,m,u){super(t,i,a,o,s,m,u),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new Nh(this._items),super.ngAfterContentInit()}_itemSelected(t){t.preventDefault()}};n.\u0275fac=function(i){return new(i||n)(T(an),T(Tn),T(Xs),T(pa,8),T(kn),T(ua),T(sa,8))},n.\u0275cmp=Se({type:n,selectors:[["mat-tab-header"]],contentQueries:function(i,a,o){if(i&1&&Di(o,yC,4),i&2){let s;ft(s=ht())&&(a._items=s)}},viewQuery:function(i,a){if(i&1&&(Qt(S4,7),Qt(P4,7),Qt(k4,7),Qt(O4,5),Qt(T4,5)),i&2){let o;ft(o=ht())&&(a._tabListContainer=o.first),ft(o=ht())&&(a._tabList=o.first),ft(o=ht())&&(a._tabListInner=o.first),ft(o=ht())&&(a._nextPaginator=o.first),ft(o=ht())&&(a._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,a){i&2&&Fe("mat-mdc-tab-header-pagination-controls-enabled",a._showPaginationControls)("mat-mdc-tab-header-rtl",a._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",Ht]},standalone:!0,features:[Jn,jn,fn],ngContentSelectors:Bh,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(i,a){if(i&1){let o=ue();Ei(),c(0,"div",5,0),F("click",function(){return N(o),L(a._handlePaginatorClick("before"))})("mousedown",function(m){return N(o),L(a._handlePaginatorPress("before",m))})("touchend",function(){return N(o),L(a._stopInterval())}),se(2,"div",6),l(),c(3,"div",7,1),F("keydown",function(m){return N(o),L(a._handleKeydown(m))}),c(5,"div",8,2),F("cdkObserveContent",function(){return N(o),L(a._onContentChanges())}),c(7,"div",9,3),$n(9),l()()(),c(10,"div",10,4),F("mousedown",function(m){return N(o),L(a._handlePaginatorPress("after",m))})("click",function(){return N(o),L(a._handlePaginatorClick("after"))})("touchend",function(){return N(o),L(a._stopInterval())}),se(12,"div",6),l()}i&2&&(Fe("mat-mdc-tab-header-pagination-disabled",a._disableScrollBefore),M("matRippleDisabled",a._disableScrollBefore||a.disableRipple),h(3),Fe("_mat-animation-noopable",a._animationMode==="NoopAnimations"),h(2),Kt("aria-label",a.ariaLabel||null)("aria-labelledby",a.ariaLabelledby||null),h(5),Fe("mat-mdc-tab-header-pagination-disabled",a._disableScrollAfter),M("matRippleDisabled",a._disableScrollAfter||a.disableRipple))},dependencies:[_d,jv],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2});let e=n;return e})(),X4=new Pn("MAT_TABS_CONFIG"),K4={translateTab:sr("translateTab",[Rn("center, void, left-origin-center, right-origin-center",Ut({transform:"none",visibility:"visible"})),Rn("left",Ut({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Rn("right",Ut({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Nn("* => left, * => right, left => center, right => center",Un("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Nn("void => left-origin-center",[Ut({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Un("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Nn("void => right-origin-center",[Ut({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Un("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},Q4=(()=>{let n=class n extends qs{constructor(t,i,a,o){super(t,i,o),this._host=a,this._centeringSub=cn.EMPTY,this._leavingSub=cn.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Xa(this._host._isCenterPosition(this._host._position))).subscribe(t=>{this._host._content&&t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}};n.\u0275fac=function(i){return new(i||n)(T(Ix),T(ca),T(Ka(()=>wC)),T(da))},n.\u0275dir=At({type:n,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[jn]});let e=n;return e})(),wC=(()=>{let n=class n{set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(t,i,a){this._elementRef=t,this._dir=i,this._dirChangeSubscription=cn.EMPTY,this._translateTabComplete=new _t,this._onCentering=new Ve,this._beforeCentering=new Ve,this._afterLeavingCenter=new Ve,this._onCentered=new Ve(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),a.markForCheck()})),this._translateTabComplete.subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){let i=this._isCenterPosition(t.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(t){return t=="center"||t=="left-origin-center"||t=="right-origin-center"}_computePositionAnimationState(t=this._getLayoutDirection()){this._positionIndex<0?this._position=t=="ltr"?"left":"right":this._positionIndex>0?this._position=t=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(t){let i=this._getLayoutDirection();return i=="ltr"&&t<=0||i=="rtl"&&t>0?"left-origin-center":"right-origin-center"}};n.\u0275fac=function(i){return new(i||n)(T(an),T(pa,8),T(Tn))},n.\u0275cmp=Se({type:n,selectors:[["mat-tab-body"]],viewQuery:function(i,a){if(i&1&&Qt(qs,5),i&2){let o;ft(o=ht())&&(a._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[fn],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(i,a){if(i&1){let o=ue();c(0,"div",1,0),F("@translateTab.start",function(m){return N(o),L(a._onTranslateTabStarted(m))})("@translateTab.done",function(m){return N(o),L(a._translateTabComplete.next(m))}),U(2,I4,0,0,"ng-template",2),l()}i&2&&M("@translateTab",rm(3,D4,a._position,im(1,E4,a.animationDuration)))},dependencies:[Q4,sl],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[K4.translateTab]}});let e=n;return e})(),Z4=0,J4=!0,Cs=(()=>{let n=class n{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=t,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=isNaN(t)?null:t}get animationDuration(){return this._animationDuration}set animationDuration(t){let i=t+"";this._animationDuration=/^\d+$/.test(i)?t+"ms":i}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=isNaN(t)?null:t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){if(!J4)throw new Error("mat-tab-group background color must be set through the Sass theming API");let i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&i.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}constructor(t,i,a,o){this._elementRef=t,this._changeDetectorRef=i,this._animationMode=o,this._tabs=new q0,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=cn.EMPTY,this._tabLabelSubscription=cn.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new Ve,this.focusChange=new Ve,this.animationDone=new Ve,this.selectedTabChange=new Ve(!0),this._isServer=!dn(ua).isBrowser,this._groupId=Z4++,this.animationDuration=a&&a.animationDuration?a.animationDuration:"500ms",this.disablePagination=a&&a.disablePagination!=null?a.disablePagination:!1,this.dynamicHeight=a&&a.dynamicHeight!=null?a.dynamicHeight:!1,(a==null?void 0:a.contentTabIndex)!=null&&(this.contentTabIndex=a.contentTabIndex),this.preserveContent=!!(a!=null&&a.preserveContent),this.fitInkBarToContent=a&&a.fitInkBarToContent!=null?a.fitInkBarToContent:!1,this.stretchTabs=a&&a.stretchTabs!=null?a.stretchTabs:!0}ngAfterContentChecked(){let t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){let i=this._selectedIndex==null;if(!i){this.selectedTabChange.emit(this._createChangeEvent(t));let a=this._tabBodyWrapper.nativeElement;a.style.minHeight=a.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((a,o)=>a.isActive=o===t),i||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,a)=>{i.position=a-t,this._selectedIndex!=null&&i.position==0&&!i.origin&&(i.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){let i=this._tabs.toArray(),a;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,a=i[o];break}!a&&i[t]&&Promise.resolve().then(()=>{i[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Xa(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){let i=this._tabHeader;i&&(i.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){let i=new Lh;return i.index=t,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[t]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=ir(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=t+"px")}_removeTabBodyWrapperHeight(){let t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,i,a){i.focusIndex=a,t.disabled||(this.selectedIndex=a)}_getTabIndex(t){var a;let i=(a=this._lastFocusedTabIndex)!=null?a:this.selectedIndex;return t===i?0:-1}_tabFocusChanged(t,i){t&&t!=="mouse"&&t!=="touch"&&(this._tabHeader.focusIndex=i)}};n.\u0275fac=function(i){return new(i||n)(T(an),T(Tn),T(X4,8),T(sa,8))},n.\u0275cmp=Se({type:n,selectors:[["mat-tab-group"]],contentQueries:function(i,a,o){if(i&1&&Di(o,Vo,5),i&2){let s;ft(s=ht())&&(a._allTabs=s)}},viewQuery:function(i,a){if(i&1&&(Qt(A4,5),Qt(F4,5)),i&2){let o;ft(o=ht())&&(a._tabBodyWrapper=o.first),ft(o=ht())&&(a._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(i,a){i&2&&(Ct("mat-"+(a.color||"primary")),Vt("--mat-tab-animation-duration",a.animationDuration),Fe("mat-mdc-tab-group-dynamic-height",a.dynamicHeight)("mat-mdc-tab-group-inverted-header",a.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",a.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Ht],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",Ht],dynamicHeight:[2,"dynamicHeight","dynamicHeight",Ht],selectedIndex:[2,"selectedIndex","selectedIndex",Lc],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Lc],disablePagination:[2,"disablePagination","disablePagination",Ht],disableRipple:[2,"disableRipple","disableRipple",Ht],preserveContent:[2,"preserveContent","preserveContent",Ht],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[Gn([{provide:CC,useExisting:n}]),Jn,fn],ngContentSelectors:Bh,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(i,a){if(i&1){let o=ue();Ei(),c(0,"mat-tab-header",3,0),F("indexFocused",function(m){return N(o),L(a._focusChanged(m))})("selectFocusedIndex",function(m){return N(o),L(a.selectedIndex=m)}),Ge(2,B4,8,17,"div",4,Ti),l(),U(4,V4,1,0),c(5,"div",5,1),Ge(7,j4,1,13,"mat-tab-body",6,Ti),l()}i&2&&(M("selectedIndex",a.selectedIndex||0)("disableRipple",a.disableRipple)("disablePagination",a.disablePagination)("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledby),h(2),qe(a._tabs),h(2),Qe(a._isServer?4:-1),h(),Fe("_mat-animation-noopable",a._animationMode==="NoopAnimations"),h(2),qe(a._tabs))},dependencies:[q4,yC,Km,_d,qs,wC],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-app-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-app-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-app-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2});let e=n;return e})(),Lh=class{};var jh=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({imports:[li,li]});let e=n;return e})();var eD=(e,n)=>n.accountId,tD=(e,n)=>n.id,nD=e=>({"mt-[-12px] m-1":e});function iD(e,n){if(e&1){let r=ue();c(0,"div",11)(1,"p",12),d(2),l(),c(3,"button",13),F("click",function(){N(r);let i=w();return L(i.clearError())}),c(4,"mat-icon"),d(5,"close"),l()()()}if(e&2){let r=w();h(2),G(r.errorMessage)}}function rD(e,n){if(e&1){let r=ue();c(0,"button",14),F("click",function(){N(r);let i=w();return L(i.addAccount())}),c(1,"mat-icon"),d(2,"add"),l()()}}function aD(e,n){if(e&1){let r=ue();c(0,"div",15)(1,"button",16),F("click",function(){N(r);let i=w();return L(i.addAccount())}),c(2,"mat-icon"),d(3,"add"),l()()()}}function oD(e,n){if(e&1&&(c(0,"div",17)(1,"div",18)(2,"h2",19),d(3,"Manage Accounts"),l(),c(4,"p",20),d(5),_e(6,"async"),_e(7,"async"),l()()()),e&2){let r,t=w();h(5),_n("(",((r=Ne(6,2,t.accounts$))==null?null:r.length)||0," account",(((r=Ne(7,4,t.accounts$))==null?null:r.length)||0)!==1?"s":"",")")}}function sD(e,n){if(e&1&&(c(0,"div",32)(1,"span",33),d(2,"Assets:"),l(),c(3,"span",34),d(4),_e(5,"currency"),l()()),e&2){let r=w(2);h(4),G(Ne(5,1,r.getTotalPositiveBalance()))}}function cD(e,n){if(e&1&&(c(0,"div",35)(1,"span",33),d(2,"Liabilities:"),l(),c(3,"span",34),d(4),_e(5,"currency"),l()()),e&2){let r=w(2);h(4),G(Ne(5,1,r.getTotalNegativeBalance()))}}function lD(e,n){if(e&1&&(c(0,"div",21)(1,"div",22)(2,"mat-icon",23),d(3,"account_balance"),l(),c(4,"h3",24),d(5,"Total Balance"),l()(),c(6,"div",25)(7,"div",26)(8,"span",27),d(9,"Net Worth:"),l(),c(10,"span",28),_e(11,"async"),d(12),_e(13,"async"),_e(14,"currency"),l()()(),c(15,"div",29),U(16,sD,6,3,"div",30)(17,cD,6,3,"div",31),l()()),e&2){let r,t,i,a,o=w();M("ngClass",im(12,nD,o.home)),h(10),Ct(((r=Ne(11,6,o.totalBalance$))!==null&&r!==void 0?r:0)>=0?"positive":"negative"),h(2),ae(" ",Ne(14,10,(t=Ne(13,8,o.totalBalance$))!==null&&t!==void 0?t:0)," "),h(4),M("ngIf",(i=o.getPositiveAccounts())==null?null:i.length),h(),M("ngIf",(a=o.getNegativeAccounts())==null?null:a.length)}}function dD(e,n){if(e&1){let r=ue();c(0,"button",41),F("click",function(){N(r);let i=w(2);return L(i.addAccount())}),c(1,"mat-icon"),d(2,"add"),l(),d(3," Add Account "),l()}}function mD(e,n){if(e&1&&(c(0,"div",36)(1,"div",37)(2,"mat-icon"),d(3,"account_balance"),l()(),c(4,"h3",38),d(5,"No accounts yet"),l(),c(6,"p",39),d(7,"Add your first account to get started"),l(),U(8,dD,4,0,"button",40),l()),e&2){let r=w();h(8),M("ngIf",r.isMobile)}}function uD(e,n){if(e&1&&(c(0,"div",54)(1,"span",66),d(2,"Loan Interest Rate:"),l(),c(3,"span",67),d(4),l()()),e&2){let r,t=w().$implicit,i=w(2);h(4),ae("",(r=i.getLoanDetails(t))==null?null:r.interestRate,"%")}}function pD(e,n){if(e&1&&(c(0,"span",55),d(1),_e(2,"titlecase"),l()),e&2){let r=w().$implicit;h(),G(Ne(2,1,r.type))}}function fD(e,n){if(e&1&&(c(0,"div",72)(1,"span",73),d(2,"Description:"),l(),c(3,"span",74),d(4),l()()),e&2){let r=w(2).$implicit;h(4),G(r.description)}}function hD(e,n){if(e&1&&(c(0,"div",72)(1,"span",73),d(2,"Created:"),l(),c(3,"span",74),d(4),_e(5,"date"),l()()),e&2){let r=w(2).$implicit,t=w(2);h(4),G(Rt(5,1,t.dateService.toDate(r.createdAt),"shortDate"))}}function gD(e,n){if(e&1&&(c(0,"div",72)(1,"span",73),d(2,"Loan Term:"),l(),c(3,"span",74),d(4),l()()),e&2){let r,t=w(3).$implicit,i=w(2);h(4),ae("",(r=i.getLoanDetails(t))==null?null:r.durationMonths," months")}}function _D(e,n){if(e&1&&(c(0,"mat-tab",83)(1,"div",71)(2,"div",72)(3,"span",73),d(4,"Lender Name:"),l(),c(5,"span",74),d(6),l()(),c(7,"div",72)(8,"span",73),d(9,"Interest Rate:"),l(),c(10,"span",74),d(11),l()(),c(12,"div",72)(13,"span",73),d(14,"Monthly Interest:"),l(),c(15,"span",84),d(16),_e(17,"currency"),l()(),c(18,"div",72)(19,"span",73),d(20,"Next Due Date:"),l(),c(21,"span",74),d(22),_e(23,"date"),l()(),c(24,"div",72)(25,"span",73),d(26,"Remaining Balance:"),l(),c(27,"span",74),d(28),_e(29,"currency"),l()(),c(30,"div",72)(31,"span",73),d(32,"Monthly Payment:"),l(),c(33,"span",74),d(34),_e(35,"currency"),l()(),U(36,gD,5,1,"div",75),l()()),e&2){let r,t,i,a,o,s,m=w(2).$implicit,u=w(2);h(6),G(((r=u.getLoanDetails(m))==null?null:r.lenderName)||"N/A"),h(5),ae("",(t=u.getLoanDetails(m))==null?null:t.interestRate,"%"),h(5),G(Ne(17,7,u.calculateMonthlyInterest(m))),h(6),G(Rt(23,9,(i=u.getLoanDetails(m))==null?null:i.nextDueDate,"fullDate")),h(6),G(Ne(29,12,(a=u.getLoanDetails(m))==null?null:a.remainingBalance)),h(6),G(Ne(35,14,(o=u.getLoanDetails(m))==null?null:o.monthlyPayment)),h(2),M("ngIf",(s=u.getLoanDetails(m))==null?null:s.durationMonths)}}function xD(e,n){e&1&&(c(0,"div",85)(1,"mat-icon"),d(2,"receipt_long"),l(),c(3,"p"),d(4,"No recent transactions"),l()())}function vD(e,n){if(e&1&&(c(0,"div",87)(1,"div",88)(2,"span",89),d(3),l(),c(4,"span",90),d(5),_e(6,"date"),l()(),c(7,"span",91),d(8),_e(9,"currency"),l()()),e&2){let r=n.$implicit;h(3),G(r.description),h(2),G(Rt(6,5,r.date,"shortDate")),h(2),Ct(r.amount>=0?"positive":"negative"),h(),ae(" ",Ne(9,8,r.amount)," ")}}function bD(e,n){if(e&1&&(c(0,"div",86),Ge(1,vD,10,10,"div",87,tD),l()),e&2){let r=w(2).$implicit,t=w(2);h(),qe(t.getRecentTransactions(r))}}function CD(e,n){if(e&1&&(c(0,"div",68)(1,"mat-tab-group",69)(2,"mat-tab",70)(3,"div",71)(4,"div",72)(5,"span",73),d(6,"Account Name:"),l(),c(7,"span",74),d(8),l()(),c(9,"div",72)(10,"span",73),d(11,"Account Type:"),l(),c(12,"span",74),d(13),_e(14,"titlecase"),l()(),c(15,"div",72)(16,"span",73),d(17,"Current Balance:"),l(),c(18,"span",74),d(19),_e(20,"currency"),l()(),U(21,fD,5,1,"div",75)(22,hD,6,4,"div",75),l()(),U(23,_D,37,16,"mat-tab",76),c(24,"mat-tab",77)(25,"div",71),U(26,xD,5,0,"div",78)(27,bD,3,0,"div",79),l()(),c(28,"mat-tab",80)(29,"div",71)(30,"div",72)(31,"span",73),d(32,"Total Transactions:"),l(),c(33,"span",74),d(34),l()(),c(35,"div",72)(36,"span",73),d(37,"Total Deposits:"),l(),c(38,"span",81),d(39),_e(40,"currency"),l()(),c(41,"div",72)(42,"span",73),d(43,"Total Withdrawals:"),l(),c(44,"span",82),d(45),_e(46,"currency"),l()(),c(47,"div",72)(48,"span",73),d(49,"Average Transaction:"),l(),c(50,"span",74),d(51),_e(52,"currency"),l()(),c(53,"div",72)(54,"span",73),d(55,"Largest Transaction:"),l(),c(56,"span",74),d(57),_e(58,"currency"),l()(),c(59,"div",72)(60,"span",73),d(61,"This Month:"),l(),c(62,"span",74),d(63),_e(64,"currency"),l()(),c(65,"div",72)(66,"span",73),d(67,"Last Month:"),l(),c(68,"span",74),d(69),_e(70,"currency"),l()()()()()()),e&2){let r,t,i,a,o,s,m,u,f,g=w().$implicit,x=w(2);h(8),G(g.name),h(5),G(Ne(14,17,g.type)),h(5),Ct(g.balance>=0?"positive":"negative"),h(),ae(" ",Ne(20,19,g.balance)," "),h(2),M("ngIf",g.description),h(),M("ngIf",g.createdAt),h(),M("ngIf",x.isLoanAccount(g)),h(3),M("ngIf",!((r=x.getRecentTransactions(g))!=null&&r.length)),h(),M("ngIf",(t=x.getRecentTransactions(g))==null?null:t.length),h(7),G(((i=x.getAccountStats(g))==null?null:i.totalTransactions)||0),h(5),G(Ne(40,21,(a=x.getAccountStats(g))==null?null:a.totalDeposits)),h(6),G(Ne(46,23,(o=x.getAccountStats(g))==null?null:o.totalWithdrawals)),h(6),G(Ne(52,25,(s=x.getAccountStats(g))==null?null:s.averageTransaction)),h(6),G(Ne(58,27,(m=x.getAccountStats(g))==null?null:m.largestTransaction)),h(6),G(Ne(64,29,(u=x.getAccountStats(g))==null?null:u.thisMonth)),h(6),G(Ne(70,31,(f=x.getAccountStats(g))==null?null:f.lastMonth))}}function yD(e,n){if(e&1){let r=ue();c(0,"div",44)(1,"div",45)(2,"div",46)(3,"div",47)(4,"div",48)(5,"mat-icon",49),d(6),l()(),c(7,"div",50)(8,"div",51)(9,"h3",52),d(10),_e(11,"titlecase"),l()(),c(12,"div",53),U(13,uD,5,1,"div",54)(14,pD,3,3,"span",55),l(),c(15,"div",56)(16,"span",57),d(17,"Balance:"),l(),c(18,"span",58),d(19),_e(20,"currency"),_e(21,"currency"),l()()()()(),c(22,"div",59)(23,"mat-menu",null,0)(25,"button",60),F("click",function(){let i=N(r).$implicit,a=w(2);return L(a.editAccount(i))}),c(26,"mat-icon"),d(27,"edit"),l(),d(28," Edit "),l(),c(29,"button",61),F("click",function(){let i=N(r).$implicit,a=w(2);return L(a.deleteAccount(i))}),c(30,"mat-icon"),d(31,"delete"),l(),d(32," Delete "),l()(),c(33,"button",62)(34,"mat-icon"),d(35,"more_vert"),l()()()(),c(36,"div",63)(37,"button",64),F("click",function(){let i=N(r).$implicit,a=w(2);return L(a.toggleAccountExpansion(i))}),c(38,"mat-icon"),d(39),l(),c(40,"span"),d(41),l()()(),U(42,CD,71,33,"div",65),l()}if(e&2){let r,t=n.$implicit,i=zn(24),a=w(2);Ct(a.getBalanceClass(t)),Fe("expanded",(a.expandedAccount==null?null:a.expandedAccount.accountId)===t.accountId),h(6),G(a.getAccountIcon(t.type)),h(4),G(Ne(11,14,t.name)),h(3),Qe(a.isLoanAccount(t)?13:14),h(5),Ct(t.balance>=0?"positive":"negative"),h(),ae(" ",a.isLoanAccount(t)?Ne(20,16,(r=a.getLoanDetails(t))==null?null:r.remainingBalance):Ne(21,18,t.balance)," "),h(14),M("matMenuTriggerFor",i),h(6),G((a.expandedAccount==null?null:a.expandedAccount.accountId)===t.accountId?"expand_less":"expand_more"),h(2),G((a.expandedAccount==null?null:a.expandedAccount.accountId)===t.accountId?"Show Less":"Show More"),h(),M("ngIf",(a.expandedAccount==null?null:a.expandedAccount.accountId)===t.accountId)}}function wD(e,n){if(e&1&&(c(0,"div",42),Ge(1,yD,43,20,"div",43,eD),l()),e&2){let r=n.ngIf;h(),qe(r)}}var Ol=(()=>{let n=class n{constructor(t,i,a,o,s,m,u){this.auth=t,this.router=i,this.dialog=a,this.breakpointObserver=o,this.notificationService=s,this.store=m,this.dateService=u,this.home=!1,this.accounts$=st([]),this.accounts=[],this.isLoading=!1,this.errorMessage="",this.isMobile=!1,this.selectedAccount=null,this.expandedAccount=null,this.userId="",this.destroy$=new _t,this.accounts$=this.store.select(Fa)||st([]),this.isLoading$=this.store.select(Wu),this.error$=this.store.select(rC),this.totalBalance$=this.store.select(aC)}ngOnInit(){this.initializeComponent(),this.setupMobileDetection()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeComponent(){return me(this,null,function*(){let t=this.auth.currentUser;if(!t){this.errorMessage="User not authenticated";return}this.userId=t.uid,this.loadUserAccounts()})}loadUserAccounts(){this.store.dispatch(Qr({userId:this.userId})),this.accounts$.pipe(yt(this.destroy$)).subscribe(t=>{this.accounts=t}),this.isLoading$.pipe(yt(this.destroy$)).subscribe(t=>{this.isLoading=t}),this.error$.pipe(yt(this.destroy$)).subscribe(t=>{t&&(this.errorMessage="Failed to load accounts",console.error("Error loading accounts:",t))})}clearError(){this.errorMessage=""}trackByAccountId(t,i){return i.accountId}setupMobileDetection(){this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(t=>{this.isMobile=t.matches})}openAccountDialog(t){this.dialog.open(Td,{width:this.isMobile?"100vw":"500px",height:this.isMobile?"100vh":"auto",maxWidth:this.isMobile?"100vw":"500px",panelClass:this.isMobile?"full-screen-dialog":"",data:t||null}).afterClosed().subscribe(a=>{a&&this.store.dispatch(Qr({userId:this.userId}))})}editAccount(t){this.openAccountDialog(t)}deleteAccount(t){return me(this,null,function*(){this.dialog.open(ha,{width:"400px",data:{title:"Delete Account",message:`Are you sure you want to delete "${t.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:"warn"}}).afterClosed().subscribe(a=>me(this,null,function*(){if(a)try{this.store.dispatch(qc({userId:this.userId,accountId:t.accountId})),this.notificationService.success("Account deleted successfully")}catch(o){this.notificationService.error("Failed to delete account"),console.error("Error deleting account:",o)}}))})}addAccount(){this.openAccountDialog()}calculateMonthlyInterest(t){if(t.type!=="loan"||!t.loanDetails)return 0;let{interestRate:i,remainingBalance:a}=t.loanDetails;return i/12/100*a}isLoanAccount(t){return t.type==="loan"&&!!t.loanDetails}getLoanDetails(t){return t.loanDetails}onAccountClick(t){var i;((i=this.selectedAccount)==null?void 0:i.accountId)===t.accountId?this.selectedAccount=null:this.selectedAccount=t}getBalanceClass(t){return t.type==="loan"?"loan-account":t.balance>=0?"positive-balance":"negative-balance"}getAccountIcon(t){switch(t){case"bank":return"account_balance";case"cash":return"payments";case"credit":return"credit_card";case"loan":return"account_balance_wallet";default:return"account_balance"}}toggleAccountExpansion(t){var i;((i=this.expandedAccount)==null?void 0:i.accountId)===t.accountId?this.expandedAccount=null:this.expandedAccount=t}getRecentTransactions(t){return[]}getPositiveAccounts(){return this.accounts.filter(t=>t.balance>0)}getNegativeAccounts(){return this.accounts.filter(t=>t.balance<0)}getTotalPositiveBalance(){return this.getPositiveAccounts().reduce((t,i)=>t+i.balance,0)}getTotalNegativeBalance(){return this.getNegativeAccounts().reduce((t,i)=>{if(i.type===so.LOAN){let a=i.loanDetails;return t-a.remainingBalance}return t+i.balance},0)}getAccountStats(t){return{totalTransactions:0,totalDeposits:0,totalWithdrawals:0,averageTransaction:0,largestTransaction:0,thisMonth:0,lastMonth:0}}};n.\u0275fac=function(i){return new(i||n)(T(kt),T(hn),T(di),T(or),T(vt),T(Ft),T(Xt))},n.\u0275cmp=Se({type:n,selectors:[["user-accounts"]],inputs:{home:"home"},decls:13,vars:13,consts:[["menu","matMenu"],[1,"accounts-container"],["class","error-message mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center justify-between",4,"ngIf"],["mat-fab","","color","primary","class","add-account-btn z-[100]",3,"click",4,"ngIf"],["class","fab-button",4,"ngIf"],[1,"accounts-grid"],[1,"accounts-list"],["class","section-header",4,"ngIf"],["class","balance-summary-card",3,"ngClass",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","accounts-grid-list",4,"ngIf"],[1,"error-message","mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg","flex","items-center","justify-between"],[1,"text-red-700","text-sm"],["mat-icon-button","",1,"error-close-button",3,"click"],["mat-fab","","color","primary",1,"add-account-btn","z-[100]",3,"click"],[1,"fab-button"],["mat-fab","","color","primary",1,"desktop-fab-btn",3,"click"],[1,"section-header"],[1,"header-content"],[1,"section-title"],[1,"section-subtitle"],[1,"balance-summary-card",3,"ngClass"],[1,"balance-summary-header"],[1,"balance-icon"],[1,"balance-summary-title"],[1,"balance-summary-stats"],[1,"balance-stat-item"],[1,"balance-stat-label"],[1,"balance-stat-value"],[1,"balance-breakdown"],["class","breakdown-item positive",4,"ngIf"],["class","breakdown-item negative",4,"ngIf"],[1,"breakdown-item","positive"],[1,"breakdown-label"],[1,"breakdown-value"],[1,"breakdown-item","negative"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-text"],["mat-raised-button","","color","primary","class","empty-state-button",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",1,"empty-state-button",3,"click"],[1,"accounts-grid-list"],[1,"account-item",3,"class","expanded"],[1,"account-item"],[1,"account-content"],[1,"account-info"],[1,"account-icon-name"],[1,"account-icon-container"],[1,"account-icon"],[1,"account-details"],[1,"account-header"],[1,"account-name"],[1,"account-type-info"],[1,"loan-info"],[1,"account-type"],[1,"account-balance-info"],[1,"balance-label"],[1,"balance-value"],[1,"account-actions"],["mat-menu-item","","matTooltip","Edit account",1,"action-button","edit-button",3,"click"],["mat-menu-item","","matTooltip","Delete account",1,"action-button","delete-button",3,"click"],["matIconButton","",3,"matMenuTriggerFor"],[1,"expand-section"],["mat-button","",1,"expand-btn",3,"click"],["class","account-details-expanded",4,"ngIf"],[1,"loan-label"],[1,"loan-value"],[1,"account-details-expanded"],[1,"details-tabs"],["label","Basic Details"],[1,"tab-content"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],["class","detail-row",4,"ngIf"],["label","Loan Details",4,"ngIf"],["label","Recent Transactions"],["class","no-transactions",4,"ngIf"],["class","transaction-list",4,"ngIf"],["label","Statistics"],[1,"detail-value","positive"],[1,"detail-value","negative"],["label","Loan Details"],[1,"detail-value","interest-amount"],[1,"no-transactions"],[1,"transaction-list"],[1,"transaction-item"],[1,"transaction-info"],[1,"transaction-description"],[1,"transaction-date"],[1,"transaction-amount"]],template:function(i,a){if(i&1&&(c(0,"div",1),U(1,iD,6,1,"div",2)(2,rD,3,0,"button",3)(3,aD,4,0,"div",4),c(4,"div",5)(5,"section",6),U(6,oD,8,6,"div",7)(7,lD,18,14,"div",8),_e(8,"async"),U(9,mD,9,1,"div",9),_e(10,"async"),U(11,wD,3,0,"div",10),_e(12,"async"),l()()()),i&2){let o,s;h(),M("ngIf",a.errorMessage),h(),M("ngIf",a.isMobile&&!a.home),h(),M("ngIf",!a.isMobile),h(3),M("ngIf",!a.home),h(),M("ngIf",((o=(o=Ne(8,7,a.accounts$))==null?null:o.length)!==null&&o!==void 0?o:0)>0),h(2),M("ngIf",((s=Ne(10,9,a.accounts$))==null?null:s.length)===0&&!a.home),h(2),M("ngIf",!a.home&&Ne(12,11,a.accounts$))}},dependencies:[Kr,dt,Nt,mn,cs,lt,fs,ps,hs,Vo,Cs,En,Bc,Pa,Ci,Ur],styles:["@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.accounts-container[_ngcontent-%COMP%]{padding:1rem;background:inherit;overflow:auto}@media (max-width: 640px){.accounts-container[_ngcontent-%COMP%]{padding:.5rem}}.error-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease}.error-message[_ngcontent-%COMP%]   .error-close-button[_ngcontent-%COMP%]{color:#dc2626;min-width:44px;min-height:44px}.add-account-btn[_ngcontent-%COMP%]{position:fixed;bottom:8rem;right:1rem;z-index:100;box-shadow:0 4px 12px #00000026;transition:all .2s ease}.add-account-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 16px #0003}.accounts-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;max-width:1200px;margin:0 auto;transition:opacity .3s ease}.accounts-grid.loading[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}@media (min-width: 768px){.accounts-grid[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:3rem}}@media (max-width: 640px){.accounts-grid[_ngcontent-%COMP%]{gap:1.5rem}}.accounts-list[_ngcontent-%COMP%]{width:100%;padding:.2rem}.accounts-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;position:relative}.accounts-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;flex:1}.accounts-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:clamp(1.25rem,3vw,2rem);font-weight:600;color:#1f2937;margin:0 0 .25rem;height:35px}.accounts-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:clamp(.75rem,2vw,1rem);margin:0}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;border:1px solid #e5e7eb;margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a;border-left:4px solid #4d98a4}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]{padding:.5rem}}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-header[_ngcontent-%COMP%]   .balance-icon[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(70 119 127 / var(--tw-text-opacity));font-size:1.5rem;width:1.5rem;height:1.5rem}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-header[_ngcontent-%COMP%]   .balance-summary-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#1f2937;margin:0}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-stats[_ngcontent-%COMP%]{margin-bottom:1rem}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-stats[_ngcontent-%COMP%]   .balance-stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:5px}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-stats[_ngcontent-%COMP%]   .balance-stat-item[_ngcontent-%COMP%]   .balance-stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-stats[_ngcontent-%COMP%]   .balance-stat-item[_ngcontent-%COMP%]   .balance-stat-value[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-stats[_ngcontent-%COMP%]   .balance-stat-item[_ngcontent-%COMP%]   .balance-stat-value.positive[_ngcontent-%COMP%]{color:#10b981}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-stats[_ngcontent-%COMP%]   .balance-stat-item[_ngcontent-%COMP%]   .balance-stat-value.negative[_ngcontent-%COMP%]{color:#ef4444}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;justify-content:flex-end}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;border-radius:6px;font-size:.875rem}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{justify-content:space-between}}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.positive[_ngcontent-%COMP%]{background:#f0fdf4;color:#166534}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.positive[_ngcontent-%COMP%]   .breakdown-label[_ngcontent-%COMP%]{font-weight:500}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.positive[_ngcontent-%COMP%]   .breakdown-value[_ngcontent-%COMP%]{font-weight:600}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.negative[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.negative[_ngcontent-%COMP%]   .breakdown-label[_ngcontent-%COMP%]{font-weight:500}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.negative[_ngcontent-%COMP%]   .breakdown-value[_ngcontent-%COMP%]{font-weight:600}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;background:#fff;border-radius:12px;border:2px dashed #d1d5db}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{margin-bottom:1rem}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:clamp(2.5rem,6vw,4rem);width:clamp(2.5rem,6vw,4rem);height:clamp(2.5rem,6vw,4rem);color:#9ca3af}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.5rem);font-weight:500;color:#374151;margin:0 0 .5rem}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{color:#6b7280;font-size:clamp(.75rem,2vw,1rem);margin:0 0 1.5rem}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-state-button[_ngcontent-%COMP%]{min-height:44px;padding:.75rem 1.5rem;display:inline-flex;align-items:center;gap:.5rem}.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;max-height:calc(65vh - 250px);overflow-y:auto;scrollbar-width:thin;scrollbar-color:#cbd5e1 #f1f5f9}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]{gap:.75rem;max-height:60vh}}.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]{width:100%;max-width:48%;background:#fff;border-radius:12px;padding:1.25rem;border:1px solid #e5e7eb;cursor:pointer;transition:all .2s ease;border-left:4px solid transparent}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;max-width:100%}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a;border-color:#d1d5db}.accounts-list[_ngcontent-%COMP%]   .account-item.positive-balance[_ngcontent-%COMP%]{border-left-color:#10b981}.accounts-list[_ngcontent-%COMP%]   .account-item.negative-balance[_ngcontent-%COMP%]{border-left-color:#ef4444}.accounts-list[_ngcontent-%COMP%]   .account-item.loan-account[_ngcontent-%COMP%]{border-left-color:#f59e0b}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;position:relative}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-content[_ngcontent-%COMP%]{gap:.75rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]{padding:0 10px 10px;flex:1}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]{gap:.5rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-icon-container[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0;background:#f3f4f6}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-icon-container[_ngcontent-%COMP%]{width:2rem;height:2rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-icon-container[_ngcontent-%COMP%]   .account-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem;color:#6b7280}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:.5rem}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]{gap:.375rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-header[_ngcontent-%COMP%]{gap:.125rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-header[_ngcontent-%COMP%]   .account-name[_ngcontent-%COMP%]{padding-top:8px;font-size:clamp(1rem,2.5vw,1.25rem);font-weight:600;color:#1f2937;margin:0;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:80%}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-header[_ngcontent-%COMP%]   .account-name[_ngcontent-%COMP%]{font-size:1rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-type-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-type-info[_ngcontent-%COMP%]   .account-type[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-type-info[_ngcontent-%COMP%]   .loan-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;flex-wrap:wrap}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-type-info[_ngcontent-%COMP%]   .loan-info[_ngcontent-%COMP%]   .loan-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-type-info[_ngcontent-%COMP%]   .loan-info[_ngcontent-%COMP%]   .loan-value[_ngcontent-%COMP%]{font-size:.75rem;color:#dc2626;font-weight:600}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-balance-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;flex-wrap:wrap}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-balance-info[_ngcontent-%COMP%]   .balance-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-balance-info[_ngcontent-%COMP%]   .balance-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-balance-info[_ngcontent-%COMP%]   .balance-value.positive[_ngcontent-%COMP%]{color:#10b981}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-balance-info[_ngcontent-%COMP%]   .balance-value.negative[_ngcontent-%COMP%]{color:#ef4444}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]{color:#3b82f6}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3b82f6}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]{color:#dc2626}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#dc2626}.expand-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:8px 0;border-top:1px solid #e5e7eb}.expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover{color:#374151;background:#f3f4f6}.account-details-expanded[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;background:#f9fafb;animation:_ngcontent-%COMP%_slideDown .3s ease}.account-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-header{background:#fff;border-bottom:1px solid #e5e7eb}.account-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label{color:#6b7280;font-weight:500}.account-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label.mat-mdc-tab-label-active{color:#3b82f6}.account-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-ink-bar{background-color:#3b82f6}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:16px;background:#fff;min-height:200px}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f3f4f6}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-weight:500;color:#6b7280;font-size:.875rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-weight:600;color:#111827;font-size:.875rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.positive[_ngcontent-%COMP%]{color:#10b981}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.negative[_ngcontent-%COMP%]{color:#ef4444}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.interest-amount[_ngcontent-%COMP%]{color:#dc2626;font-weight:700}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]{text-align:center;padding:32px 16px;color:#6b7280}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;margin-bottom:8px;opacity:.5}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:#f9fafb;border-radius:6px;transition:background .2s ease}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background:#f3f4f6}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-description[_ngcontent-%COMP%]{font-weight:500;color:#111827;font-size:.875rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.positive[_ngcontent-%COMP%]{color:#10b981}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.negative[_ngcontent-%COMP%]{color:#ef4444}@media (max-width: 768px){.accounts-container[_ngcontent-%COMP%]{padding:.5rem}.accounts-grid[_ngcontent-%COMP%]{gap:1rem}.balance-summary-card[_ngcontent-%COMP%]{padding:1rem}.balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}@media (max-width: 480px){.accounts-container[_ngcontent-%COMP%]{padding:.25rem}.balance-summary-card[_ngcontent-%COMP%]{padding:.5rem;margin:0}.balance-summary-card[_ngcontent-%COMP%]   .balance-summary-header[_ngcontent-%COMP%]   .balance-summary-title[_ngcontent-%COMP%]{font-size:1rem}.account-item[_ngcontent-%COMP%]{padding:.75rem}.account-item[_ngcontent-%COMP%]   .account-content[_ngcontent-%COMP%]{gap:.5rem}.account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]{padding:0 5px 5px}}"]});let e=n;return e})();var Xu=(()=>{let n=class n{constructor(t,i,a){this.fb=t,this.dateService=i,this.validationService=a}createBudgetForm(){return this.fb.group({hasBudget:[!1],budgetAmount:[0,this.validationService.getBudgetAmountValidators()],budgetPeriod:["monthly",wt.required],budgetStartDate:[new Date,wt.required],budgetEndDate:[null],budgetAlertThreshold:[80,this.validationService.getBudgetThresholdValidators()],budgetAlertEnabled:[!0]})}initializeBudgetForm(t,i){var a,o,s,m,u,f,g,x,C,y;(a=i==null?void 0:i.budget)!=null&&a.hasBudget&&t.patchValue({hasBudget:(o=i.budget)==null?void 0:o.hasBudget,budgetAmount:((s=i.budget)==null?void 0:s.budgetAmount)||0,budgetPeriod:((m=i.budget)==null?void 0:m.budgetPeriod)||"monthly",budgetStartDate:(u=i.budget)!=null&&u.budgetStartDate?this.dateService.toDate((f=i.budget)==null?void 0:f.budgetStartDate):new Date,budgetEndDate:(g=i.budget)!=null&&g.budgetEndDate?this.dateService.toDate((x=i.budget)==null?void 0:x.budgetEndDate):null,budgetAlertThreshold:((C=i.budget)==null?void 0:C.budgetAlertThreshold)||80,budgetAlertEnabled:((y=i.budget)==null?void 0:y.budgetAlertEnabled)!==!1}),this.setupBudgetFormValidation(t)}setupBudgetFormValidation(t){var i,a;(i=t.get("hasBudget"))==null||i.valueChanges.subscribe(o=>{var s,m,u,f,g,x,C,y,v,P,D,I;o?((s=t.get("budgetAmount"))==null||s.enable(),(m=t.get("budgetPeriod"))==null||m.enable(),(u=t.get("budgetStartDate"))==null||u.enable(),(f=t.get("budgetEndDate"))==null||f.enable(),(g=t.get("budgetAlertThreshold"))==null||g.enable(),(x=t.get("budgetAlertEnabled"))==null||x.enable()):((C=t.get("budgetAmount"))==null||C.disable(),(y=t.get("budgetPeriod"))==null||y.disable(),(v=t.get("budgetStartDate"))==null||v.disable(),(P=t.get("budgetEndDate"))==null||P.disable(),(D=t.get("budgetAlertThreshold"))==null||D.disable(),(I=t.get("budgetAlertEnabled"))==null||I.disable())}),(a=t.get("hasBudget"))==null||a.updateValueAndValidity()}getBudgetDataFromForm(t){var a;let i=t.value;return{hasBudget:i.hasBudget||!1,budgetAmount:i.hasBudget&&(i==null?void 0:i.budgetAmount)||0,budgetPeriod:i.hasBudget&&(i==null?void 0:i.budgetPeriod)||"monthly",budgetStartDate:i.hasBudget&&((a=i==null?void 0:i.budgetStartDate)==null?void 0:a.getTime())||null,budgetEndDate:i.hasBudget&&i.budgetEndDate?i.budgetEndDate.getTime():null,budgetAlertThreshold:i.hasBudget&&(i==null?void 0:i.budgetAlertThreshold)||80,budgetAlertEnabled:i.hasBudget&&(i==null?void 0:i.budgetAlertEnabled)||!0}}isBudgetFormValid(t){var i;return(i=t.get("hasBudget"))!=null&&i.value?t.valid:!0}getBudgetPeriods(){return[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}]}formatBudgetAmount(t){return t?t.toLocaleString(Ot.LANGUAGE.DEFAULT,{minimumFractionDigits:2,maximumFractionDigits:2}):"0"}formatBudgetPeriod(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}getBudgetProgressColor(t,i,a){var o;return!((o=t.budget)!=null&&o.hasBudget)||!i?"#6b7280":i>=100?"#ef4444":i>=a?"#f59e0b":i>=60?"#3b82f6":"#10b981"}};n.\u0275fac=function(i){return new(i||n)(Ie(Pr),Ie(Xt),Ie(Ta))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var MD=["mat-calendar-body",""];function SD(e,n){return this._trackRow(n)}var AC=(e,n)=>n.id;function PD(e,n){if(e&1&&(c(0,"tr",0)(1,"td",3),d(2),l()()),e&2){let r=w();h(),Vt("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),Kt("colspan",r.numCols),h(),ae(" ",r.label," ")}}function kD(e,n){if(e&1&&(c(0,"td",3),d(1),l()),e&2){let r=w(2);Vt("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),Kt("colspan",r._firstRowOffset),h(),ae(" ",r._firstRowOffset>=r.labelMinRequiredCells?r.label:""," ")}}function OD(e,n){if(e&1){let r=ue();c(0,"td",6)(1,"button",7),F("click",function(i){let a=N(r).$implicit,o=w(2);return L(o._cellClicked(a,i))})("focus",function(i){let a=N(r).$implicit,o=w(2);return L(o._emitActiveDateChange(a,i))}),c(2,"span",8),d(3),l(),se(4,"span",9),l()()}if(e&2){let r=n.$implicit,t=n.$index,i=w().$index,a=w();Vt("width",a._cellWidth)("padding-top",a._cellPadding)("padding-bottom",a._cellPadding),Kt("data-mat-row",i)("data-mat-col",t),h(),Fe("mat-calendar-body-disabled",!r.enabled)("mat-calendar-body-active",a._isActiveCell(i,t))("mat-calendar-body-range-start",a._isRangeStart(r.compareValue))("mat-calendar-body-range-end",a._isRangeEnd(r.compareValue))("mat-calendar-body-in-range",a._isInRange(r.compareValue))("mat-calendar-body-comparison-bridge-start",a._isComparisonBridgeStart(r.compareValue,i,t))("mat-calendar-body-comparison-bridge-end",a._isComparisonBridgeEnd(r.compareValue,i,t))("mat-calendar-body-comparison-start",a._isComparisonStart(r.compareValue))("mat-calendar-body-comparison-end",a._isComparisonEnd(r.compareValue))("mat-calendar-body-in-comparison-range",a._isInComparisonRange(r.compareValue))("mat-calendar-body-preview-start",a._isPreviewStart(r.compareValue))("mat-calendar-body-preview-end",a._isPreviewEnd(r.compareValue))("mat-calendar-body-in-preview",a._isInPreview(r.compareValue)),M("ngClass",r.cssClasses)("tabindex",a._isActiveCell(i,t)?0:-1),Kt("aria-label",r.ariaLabel)("aria-disabled",!r.enabled||null)("aria-pressed",a._isSelected(r.compareValue))("aria-current",a.todayValue===r.compareValue?"date":null)("aria-describedby",a._getDescribedby(r.compareValue)),h(),Fe("mat-calendar-body-selected",a._isSelected(r.compareValue))("mat-calendar-body-comparison-identical",a._isComparisonIdentical(r.compareValue))("mat-calendar-body-today",a.todayValue===r.compareValue),h(),ae(" ",r.displayValue," ")}}function TD(e,n){if(e&1&&(c(0,"tr",1),U(1,kD,2,6,"td",4),Ge(2,OD,5,48,"td",5,AC),l()),e&2){let r=n.$implicit,t=n.$index,i=w();h(),Qe(t===0&&i._firstRowOffset?1:-1),h(),qe(r)}}function ED(e,n){if(e&1&&(c(0,"th",2)(1,"span",6),d(2),l(),c(3,"span",3),d(4),l()()),e&2){let r=n.$implicit;h(2),G(r.long),h(2),G(r.narrow)}}var DD=["*"];function ID(e,n){}function AD(e,n){if(e&1){let r=ue();c(0,"mat-month-view",4),pt("activeDateChange",function(i){N(r);let a=w();return ut(a.activeDate,i)||(a.activeDate=i),L(i)}),F("_userSelection",function(i){N(r);let a=w();return L(a._dateSelected(i))})("dragStarted",function(i){N(r);let a=w();return L(a._dragStarted(i))})("dragEnded",function(i){N(r);let a=w();return L(a._dragEnded(i))}),l()}if(e&2){let r=w();mt("activeDate",r.activeDate),M("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName)("activeDrag",r._activeDrag)}}function FD(e,n){if(e&1){let r=ue();c(0,"mat-year-view",5),pt("activeDateChange",function(i){N(r);let a=w();return ut(a.activeDate,i)||(a.activeDate=i),L(i)}),F("monthSelected",function(i){N(r);let a=w();return L(a._monthSelectedInYearView(i))})("selectedChange",function(i){N(r);let a=w();return L(a._goToDateInView(i,"month"))}),l()}if(e&2){let r=w();mt("activeDate",r.activeDate),M("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function RD(e,n){if(e&1){let r=ue();c(0,"mat-multi-year-view",6),pt("activeDateChange",function(i){N(r);let a=w();return ut(a.activeDate,i)||(a.activeDate=i),L(i)}),F("yearSelected",function(i){N(r);let a=w();return L(a._yearSelectedInMultiYearView(i))})("selectedChange",function(i){N(r);let a=w();return L(a._goToDateInView(i,"year"))}),l()}if(e&2){let r=w();mt("activeDate",r.activeDate),M("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function ND(e,n){}var LD=["button"],BD=[[["","matDatepickerToggleIcon",""]]],VD=["[matDatepickerToggleIcon]"];function jD(e,n){e&1&&(Kn(),c(0,"svg",2),se(1,"path",3),l())}var jd=(()=>{let n=class n{constructor(){this.changes=new _t,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})(),zD=0,Nd=class{constructor(n,r,t,i,a={},o=n,s){this.value=n,this.displayValue=r,this.ariaLabel=t,this.enabled=i,this.cssClasses=a,this.compareValue=o,this.rawValue=s,this.id=zD++}},UD=1,PC=rl({passive:!1,capture:!0}),ys=rl({passive:!0,capture:!0}),Ku=rl({passive:!0}),El=(()=>{let n=class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(t,i){this._elementRef=t,this._ngZone=i,this._platform=dn(ua),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Ve,this.previewChange=new Ve,this.activeDateChange=new Ve,this.dragStarted=new Ve,this.dragEnded=new Ve,this._didDragSinceMouseDown=!1,this._injector=dn(qr),this._trackRow=a=>a,this._enterHandler=a=>{if(this._skipNextFocus&&a.type==="focus"){this._skipNextFocus=!1;return}if(a.target&&this.isRange){let o=this._getCellFromElement(a.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:a}))}},this._touchmoveHandler=a=>{if(!this.isRange)return;let o=kC(a),s=o?this._getCellFromElement(o):null;o!==a.target&&(this._didDragSinceMouseDown=!0),Yh(a.target)&&a.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:s!=null&&s.enabled?s:null,event:a}))},this._leaveHandler=a=>{this.previewEnd!==null&&this.isRange&&(a.type!=="blur"&&(this._didDragSinceMouseDown=!0),a.target&&this._getCellFromElement(a.target)&&!(a.relatedTarget&&this._getCellFromElement(a.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:a})))},this._mousedownHandler=a=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let o=a.target&&this._getCellFromElement(a.target);!o||!this._isInRange(o.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:o.rawValue,event:a})})},this._mouseupHandler=a=>{if(!this.isRange)return;let o=Yh(a.target);if(!o){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:a})});return}o.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{var m;let s=this._getCellFromElement(o);this.dragEnded.emit({value:(m=s==null?void 0:s.rawValue)!=null?m:null,event:a})})},this._touchendHandler=a=>{let o=kC(a);o&&this._mouseupHandler({target:o})},this._id=`mat-calendar-body-${UD++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{let a=t.nativeElement;a.addEventListener("touchmove",this._touchmoveHandler,PC),a.addEventListener("mouseenter",this._enterHandler,ys),a.addEventListener("focus",this._enterHandler,ys),a.addEventListener("mouseleave",this._leaveHandler,ys),a.addEventListener("blur",this._leaveHandler,ys),a.addEventListener("mousedown",this._mousedownHandler,Ku),a.addEventListener("touchstart",this._mousedownHandler,Ku),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(t,i){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}_emitActiveDateChange(t,i){t.enabled&&this.activeDateChange.emit({value:t.value,event:i})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){let i=t.numCols,{rows:a,numCols:o}=this;(t.rows||i)&&(this._firstRowOffset=a&&a.length&&a[0].length?o-a[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/o}%`),(i||!this._cellWidth)&&(this._cellWidth=`${100/o}%`)}ngOnDestroy(){let t=this._elementRef.nativeElement;t.removeEventListener("touchmove",this._touchmoveHandler,PC),t.removeEventListener("mouseenter",this._enterHandler,ys),t.removeEventListener("focus",this._enterHandler,ys),t.removeEventListener("mouseleave",this._leaveHandler,ys),t.removeEventListener("blur",this._leaveHandler,ys),t.removeEventListener("mousedown",this._mousedownHandler,Ku),t.removeEventListener("touchstart",this._mousedownHandler,Ku),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(t,i){let a=t*this.numCols+i;return t&&(a-=this._firstRowOffset),a==this.activeCell}_focusActiveCell(t=!0){Qa(()=>{setTimeout(()=>{let i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(t||(this._skipNextFocus=!0),i.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return Wh(t,this.startValue,this.endValue)}_isRangeEnd(t){return Hh(t,this.startValue,this.endValue)}_isInRange(t){return $h(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return Wh(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,i,a){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let o=this.rows[i][a-1];if(!o){let s=this.rows[i-1];o=s&&s[s.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(t,i,a){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let o=this.rows[i][a+1];if(!o){let s=this.rows[i+1];o=s&&s[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(t){return Hh(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return $h(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return Wh(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return Hh(t,this.previewStart,this.previewEnd)}_isInPreview(t){return $h(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){return this.isRange?this.startValue===t&&this.endValue===t?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===t?this._startDateLabelId:this.endValue===t?this._endDateLabelId:null:null}_getCellFromElement(t){let i=Yh(t);if(i){let a=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(a&&o)return this.rows[parseInt(a)][parseInt(o)]}return null}};n.\u0275fac=function(i){return new(i||n)(T(an),T(kn))},n.\u0275cmp=Se({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[Xn,fn],attrs:MD,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,a){i&1&&(U(0,PD,3,6,"tr",0),Ge(1,TD,4,1,"tr",1,SD,!0),c(3,"span",2),d(4),l(),c(5,"span",2),d(6),l()),i&2&&(Qe(a._firstRowOffset<a.labelMinRequiredCells?0:-1),h(),qe(a.rows),h(2),M("id",a._startDateLabelId),h(),ae(" ",a.startDateAccessibleName,`
`),h(),M("id",a._endDateLabelId),h(),ae(" ",a.endDateAccessibleName,`
`))},dependencies:[Kr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0});let e=n;return e})();function Uh(e){return(e==null?void 0:e.nodeName)==="TD"}function Yh(e){var r;let n;return Uh(e)?n=e:Uh(e.parentNode)?n=e.parentNode:Uh((r=e.parentNode)==null?void 0:r.parentNode)&&(n=e.parentNode.parentNode),(n==null?void 0:n.getAttribute("data-mat-row"))!=null?n:null}function Wh(e,n,r){return r!==null&&n!==r&&e<r&&e===n}function Hh(e,n,r){return n!==null&&n!==r&&e>=n&&e===r}function $h(e,n,r,t){return t&&n!==null&&r!==null&&n!==r&&e>=n&&e<=r}function kC(e){let n=e.changedTouches[0];return document.elementFromPoint(n.clientX,n.clientY)}var Na=class{constructor(n,r){this.start=n,this.end=r}},Ld=(()=>{let n=class n{constructor(t,i){this.selection=t,this._adapter=i,this._selectionChanged=new _t,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,i){let a=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:a})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}};n.\u0275fac=function(i){Q0()},n.\u0275prov=at({token:n,factory:n.\u0275fac});let e=n;return e})(),YD=(()=>{let n=class n extends Ld{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let t=new n(this._adapter);return t.updateSelection(this.selection,this),t}};n.\u0275fac=function(i){return new(i||n)(Ie(fa))},n.\u0275prov=at({token:n,factory:n.\u0275fac});let e=n;return e})();function WD(e,n){return e||new YD(n)}var FC={provide:Ld,deps:[[new Ws,new G0,Ld],fa],useFactory:WD};var RC=new Pn("MAT_DATE_RANGE_SELECTION_STRATEGY");var Gh=7,HD=0,OC=(()=>{let n=class n{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){t instanceof Na?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,a,o,s){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=a,this._dir=o,this._rangeStrategy=s,this._rerenderSubscription=cn.EMPTY,this.activeDrag=null,this.selectedChange=new Ve,this._userSelection=new Ve,this.dragStarted=new Ve,this.dragEnded=new Ve,this.activeDateChange=new Ve,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Xa(null)).subscribe(()=>this._init())}ngOnChanges(t){let i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){let i=t.value,a=this._getDateFromDayOfMonth(i),o,s;this._selected instanceof Na?(o=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):o=s=this._getDateInCurrentMonth(this._selected),(o!==i||s!==i)&&this.selectedChange.emit(a),this._userSelection.emit({value:a,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){let i=t.value,a=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(i),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){let i=this._activeDate,a=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&t.preventDefault();return;case 27:this._previewEnd!=null&&!Za(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation());return;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===32||t.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(Gh+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%Gh,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:i}){var a,o;if(this._rangeStrategy){let s=i?i.rawValue:null,m=this._rangeStrategy.createPreview(s,this.selected,t);if(this._previewStart=this._getCellCompareValue(m.start),this._previewEnd=this._getCellCompareValue(m.end),this.activeDrag&&s){let u=(o=(a=this._rangeStrategy).createDrag)==null?void 0:o.call(a,this.activeDrag.value,this.selected,s,t);u&&(this._previewStart=this._getCellCompareValue(u.start),this._previewEnd=this._getCellCompareValue(u.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){var i,a;if(this.activeDrag)if(t.value){let o=(a=(i=this._rangeStrategy)==null?void 0:i.createDrag)==null?void 0:a.call(i,this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:o!=null?o:null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){let t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow"),o=this._dateAdapter.getDayOfWeekNames("long").map((s,m)=>({long:s,narrow:i[m],id:HD++}));this._weekdays=o.slice(t).concat(o.slice(0,t))}_createWeekCells(){let t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let a=0,o=this._firstWeekOffset;a<t;a++,o++){o==Gh&&(this._weeks.push([]),o=0);let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),a+1),m=this._shouldEnableDate(s),u=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),f=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new Nd(a+1,i[a],u,m,f,this._getCellCompareValue(s),s))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,i){return!!(t&&i&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i)&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i))}_getCellCompareValue(t){if(t){let i=this._dateAdapter.getYear(t),a=this._dateAdapter.getMonth(t),o=this._dateAdapter.getDate(t);return new Date(i,a,o).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(t){t instanceof Na?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}};n.\u0275fac=function(i){return new(i||n)(T(Tn),T($s,8),T(fa,8),T(pa,8),T(RC,8))},n.\u0275cmp=Se({type:n,selectors:[["mat-month-view"]],viewQuery:function(i,a){if(i&1&&Qt(El,5),i&2){let o;ft(o=ht())&&(a._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[Xn,fn],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(i,a){i&1&&(c(0,"table",0)(1,"thead",1)(2,"tr"),Ge(3,ED,5,2,"th",2,AC),l(),c(5,"tr",3),se(6,"th",4),l()(),c(7,"tbody",5),F("selectedValueChange",function(s){return a._dateSelected(s)})("activeDateChange",function(s){return a._updateActiveDate(s)})("previewChange",function(s){return a._previewChanged(s)})("dragStarted",function(s){return a.dragStarted.emit(s)})("dragEnded",function(s){return a._dragEnded(s)})("keyup",function(s){return a._handleCalendarBodyKeyup(s)})("keydown",function(s){return a._handleCalendarBodyKeydown(s)}),l()()),i&2&&(h(3),qe(a._weekdays),h(4),M("label",a._monthLabel)("rows",a._weeks)("todayValue",a._todayDate)("startValue",a._rangeStart)("endValue",a._rangeEnd)("comparisonStart",a._comparisonRangeStart)("comparisonEnd",a._comparisonRangeEnd)("previewStart",a._previewStart)("previewEnd",a._previewEnd)("isRange",a._isRange)("labelMinRequiredCells",3)("activeCell",a._dateAdapter.getDate(a.activeDate)-1)("startDateAccessibleName",a.startDateAccessibleName)("endDateAccessibleName",a.endDateAccessibleName))},dependencies:[El],encapsulation:2,changeDetection:0});let e=n;return e})(),va=24,qh=4,TC=(()=>{let n=class n{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),NC(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){t instanceof Na?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,a){this._changeDetectorRef=t,this._dateAdapter=i,this._dir=a,this._rerenderSubscription=cn.EMPTY,this.selectedChange=new Ve,this.yearSelected=new Ve,this.activeDateChange=new Ve,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Xa(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let i=this._dateAdapter.getYear(this._activeDate)-Fd(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let a=0,o=[];a<va;a++)o.push(i+a),o.length==qh&&(this._years.push(o.map(s=>this._createCellForYear(s))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){let i=t.value,a=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(a),this.selectedChange.emit(o)}_updateActiveDate(t){let i=t.value,a=this._activeDate;this.activeDate=this._getDateFromYear(i),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){let i=this._activeDate,a=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-qh);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,qh);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Fd(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,va-Fd(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-va*10:-va);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?va*10:va);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===32||t.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return Fd(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){let i=this._dateAdapter.getMonth(this.activeDate),a=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,i,1));return this._dateAdapter.createDate(t,i,Math.min(this._dateAdapter.getDate(this.activeDate),a))}_createCellForYear(t){let i=this._dateAdapter.createDate(t,0,1),a=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new Nd(t,a,a,this._shouldEnableYear(t),o)}_shouldEnableYear(t){if(t==null||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(t,0,1);for(let a=i;this._dateAdapter.getYear(a)==t;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(t){if(this._selectedYear=null,t instanceof Na){let i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}};n.\u0275fac=function(i){return new(i||n)(T(Tn),T(fa,8),T(pa,8))},n.\u0275cmp=Se({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(i,a){if(i&1&&Qt(El,5),i&2){let o;ft(o=ht())&&(a._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[fn],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(i,a){i&1&&(c(0,"table",0)(1,"thead",1)(2,"tr"),se(3,"th",2),l()(),c(4,"tbody",3),F("selectedValueChange",function(s){return a._yearSelected(s)})("activeDateChange",function(s){return a._updateActiveDate(s)})("keyup",function(s){return a._handleCalendarBodyKeyup(s)})("keydown",function(s){return a._handleCalendarBodyKeydown(s)}),l()()),i&2&&(h(4),M("rows",a._years)("todayValue",a._todayYear)("startValue",a._selectedYear)("endValue",a._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",a._getActiveCell()))},dependencies:[El],encapsulation:2,changeDetection:0});let e=n;return e})();function NC(e,n,r,t,i){let a=e.getYear(n),o=e.getYear(r),s=LC(e,t,i);return Math.floor((a-s)/va)===Math.floor((o-s)/va)}function Fd(e,n,r,t){let i=e.getYear(n);return $D(i-LC(e,r,t),va)}function LC(e,n,r){let t=0;return r?t=e.getYear(r)-va+1:n&&(t=e.getYear(n)),t}function $D(e,n){return(e%n+n)%n}var EC=(()=>{let n=class n{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){t instanceof Na?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,a,o){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=a,this._dir=o,this._rerenderSubscription=cn.EMPTY,this.selectedChange=new Ve,this.monthSelected=new Ve,this.activeDateChange=new Ve,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Xa(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){let i=t.value,a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(a);let o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(t){let i=t.value,a=this._activeDate;this.activeDate=this._getDateFromMonth(i),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){let i=this._activeDate,a=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===32||t.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(a=>this._createCellForMonth(a,t[a]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),a=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),a))}_createCellForMonth(t,i){let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),o=this._dateAdapter.format(a,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(a,"year"):void 0;return new Nd(t,i.toLocaleUpperCase(),o,this._shouldEnableMonth(t),s)}_shouldEnableMonth(t){let i=this._dateAdapter.getYear(this.activeDate);if(t==null||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;let a=this._dateAdapter.createDate(i,t,1);for(let o=a;this._dateAdapter.getMonth(o)==t;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(t,i){if(this.maxDate){let a=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return t>a||t===a&&i>o}return!1}_isYearAndMonthBeforeMinDate(t,i){if(this.minDate){let a=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return t<a||t===a&&i<o}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(t){t instanceof Na?this._selectedMonth=this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._selectedMonth=this._getMonthInCurrentYear(t)}};n.\u0275fac=function(i){return new(i||n)(T(Tn),T($s,8),T(fa,8),T(pa,8))},n.\u0275cmp=Se({type:n,selectors:[["mat-year-view"]],viewQuery:function(i,a){if(i&1&&Qt(El,5),i&2){let o;ft(o=ht())&&(a._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[fn],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(i,a){i&1&&(c(0,"table",0)(1,"thead",1)(2,"tr"),se(3,"th",2),l()(),c(4,"tbody",3),F("selectedValueChange",function(s){return a._monthSelected(s)})("activeDateChange",function(s){return a._updateActiveDate(s)})("keyup",function(s){return a._handleCalendarBodyKeyup(s)})("keydown",function(s){return a._handleCalendarBodyKeydown(s)}),l()()),i&2&&(h(4),M("label",a._yearLabel)("rows",a._months)("todayValue",a._todayMonth)("startValue",a._selectedMonth)("endValue",a._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",a._dateAdapter.getMonth(a.activeDate)))},dependencies:[El],encapsulation:2,changeDetection:0});let e=n;return e})(),GD=1,BC=(()=>{let n=class n{constructor(t,i,a,o,s){this._intl=t,this.calendar=i,this._dateAdapter=a,this._dateFormats=o,this._id=`mat-calendar-header-${GD++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-va)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:va)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,i){return this.calendar.currentView=="month"?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):this.calendar.currentView=="year"?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):NC(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let i=this._dateAdapter.getYear(this.calendar.activeDate)-Fd(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),a=i+va-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(a,0,1));return[o,s]}};n.\u0275fac=function(i){return new(i||n)(T(jd),T(Ka(()=>Bd)),T(fa,8),T($s,8),T(Tn))},n.\u0275cmp=Se({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[fn],ngContentSelectors:DD,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(i,a){i&1&&(Ei(),c(0,"div",0)(1,"div",1)(2,"span",2),d(3),l(),c(4,"button",3),F("click",function(){return a.currentPeriodClicked()}),c(5,"span",4),d(6),l(),Kn(),c(7,"svg",5),se(8,"polygon",6),l()(),jr(),se(9,"div",7),$n(10),c(11,"button",8),F("click",function(){return a.previousClicked()}),Kn(),c(12,"svg",9),se(13,"path",10),l()(),jr(),c(14,"button",11),F("click",function(){return a.nextClicked()}),Kn(),c(15,"svg",9),se(16,"path",12),l()()()()),i&2&&(h(2),M("id",a._periodButtonLabelId),h(),G(a.periodButtonDescription),h(),Kt("aria-label",a.periodButtonLabel)("aria-describedby",a._periodButtonLabelId),h(2),G(a.periodButtonText),h(),Fe("mat-calendar-invert",a.calendar.currentView!=="month"),h(4),M("disabled",!a.previousEnabled()),Kt("aria-label",a.prevButtonLabel),h(3),M("disabled",!a.nextEnabled()),Kt("aria-label",a.nextButtonLabel))},dependencies:[Nt,mn],encapsulation:2,changeDetection:0});let e=n;return e})(),Bd=(()=>{let n=class n{get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){t instanceof Na?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){let i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(t,i,a,o){this._dateAdapter=i,this._dateFormats=a,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Ve,this.yearSelected=new Ve,this.monthSelected=new Ve,this.viewChanged=new Ve(!0),this._userSelection=new Ve,this._userDragDrop=new Ve,this._activeDrag=null,this.stateChanges=new _t,this._intlChanges=t.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Kf(this.headerComponent||BC),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){let i=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,a=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,o=i||a||t.dateFilter;if(o&&!o.firstChange){let s=this._getCurrentViewComponent();s&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){let i=t.value;(this.selected instanceof Na||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,i){this.activeDate=t,this.currentView=i}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}};n.\u0275fac=function(i){return new(i||n)(T(jd),T(fa,8),T($s,8),T(Tn))},n.\u0275cmp=Se({type:n,selectors:[["mat-calendar"]],viewQuery:function(i,a){if(i&1&&(Qt(OC,5),Qt(EC,5),Qt(TC,5)),i&2){let o;ft(o=ht())&&(a.monthView=o.first),ft(o=ht())&&(a.yearView=o.first),ft(o=ht())&&(a.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[Gn([FC]),Xn,fn],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(i,a){if(i&1&&(U(0,ID,0,0,"ng-template",0),c(1,"div",1),U(2,AD,1,11,"mat-month-view",2)(3,FD,1,6,"mat-year-view",3)(4,RD,1,6,"mat-multi-year-view",3),l()),i&2){let o;M("cdkPortalOutlet",a._calendarHeaderPortal),h(2),Qe((o=a.currentView)==="month"?2:o==="year"?3:o==="multi-year"?4:-1)}},dependencies:[qs,Km,OC,EC,TC],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let e=n;return e})(),DC={transformPanel:sr("transformPanel",[Nn("void => enter-dropdown",Un("120ms cubic-bezier(0, 0, 0.2, 1)",ls([Ut({opacity:0,transform:"scale(1, 0.8)"}),Ut({opacity:1,transform:"scale(1, 1)"})]))),Nn("void => enter-dialog",Un("150ms cubic-bezier(0, 0, 0.2, 1)",ls([Ut({opacity:0,transform:"scale(0.7)"}),Ut({transform:"none",opacity:1})]))),Nn("* => void",Un("100ms linear",Ut({opacity:0})))]),fadeInCalendar:sr("fadeInCalendar",[Rn("void",Ut({opacity:0})),Rn("enter",Ut({opacity:1})),Nn("void => *",Un("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},qD=0,VC=new Pn("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let e=dn(ds);return()=>e.scrollStrategies.reposition()}});function XD(e){return()=>e.scrollStrategies.reposition()}var KD={provide:VC,deps:[ds],useFactory:XD},jC=(()=>{let n=class n{constructor(t,i,a,o,s,m){this._elementRef=t,this._changeDetectorRef=i,this._globalModel=a,this._dateAdapter=o,this._rangeSelectionStrategy=s,this._subscriptions=new cn,this._animationDone=new _t,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=m.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){let i=this._model.selection,a=t.value,o=i instanceof Na;if(o&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(a,i,t.event);this._model.updateSelection(s,this)}else a&&(o||!this._dateAdapter.sameDate(a,i))&&this._model.add(a);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(t){this._isAnimating=t.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,i){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,i&&this._changeDetectorRef.detectChanges()}};n.\u0275fac=function(i){return new(i||n)(T(an),T(Tn),T(Ld),T(fa),T(RC,8),T(jd))},n.\u0275cmp=Se({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(i,a){if(i&1&&Qt(Bd,5),i&2){let o;ft(o=ht())&&(a._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(i,a){i&1&&tm("@transformPanel.start",function(s){return a._handleAnimationEvent(s)})("@transformPanel.done",function(s){return a._handleAnimationEvent(s)}),i&2&&(em("@transformPanel",a._animationState),Ct(a.color?"mat-"+a.color:""),Fe("mat-datepicker-content-touch",a.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[fn],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(i,a){if(i&1&&(c(0,"div",0)(1,"mat-calendar",1),F("yearSelected",function(s){return a.datepicker._selectYear(s)})("monthSelected",function(s){return a.datepicker._selectMonth(s)})("viewChanged",function(s){return a.datepicker._viewChanged(s)})("_userSelection",function(s){return a._handleUserSelection(s)})("_userDragDrop",function(s){return a._handleUserDragDrop(s)}),l(),U(2,ND,0,0,"ng-template",2),c(3,"button",3),F("focus",function(){return a._closeButtonFocused=!0})("blur",function(){return a._closeButtonFocused=!1})("click",function(){return a.datepicker.close()}),d(4),l()()),i&2){let o;Fe("mat-datepicker-content-container-with-custom-header",a.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",a._actionsPortal),Kt("aria-modal",!0)("aria-labelledby",(o=a._dialogLabelId)!==null&&o!==void 0?o:void 0),h(),Ct(a.datepicker.panelClass),M("id",a.datepicker.id)("startAt",a.datepicker.startAt)("startView",a.datepicker.startView)("minDate",a.datepicker._getMinDate())("maxDate",a.datepicker._getMaxDate())("dateFilter",a.datepicker._getDateFilter())("headerComponent",a.datepicker.calendarHeaderComponent)("selected",a._getSelected())("dateClass",a.datepicker.dateClass)("comparisonStart",a.comparisonStart)("comparisonEnd",a.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",a.startDateAccessibleName)("endDateAccessibleName",a.endDateAccessibleName),h(),M("cdkPortalOutlet",a._actionsPortal),h(),Fe("cdk-visually-hidden",!a._closeButtonFocused),M("color",a.color||"primary"),h(),G(a._closeButtonText)}},dependencies:[Hv,Bd,qs,Nt],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[DC.transformPanel,DC.fadeInCalendar]},changeDetection:0});let e=n;return e})(),IC=(()=>{let n=class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){t!==this._disabled&&(this._disabled=t,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=Vv(t)}get opened(){return this._opened}set opened(t){t?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(t,i,a,o,s,m,u){this._overlay=t,this._viewContainerRef=a,this._dateAdapter=s,this._dir=m,this._model=u,this._inputStateChanges=cn.EMPTY,this._document=dn(da),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new Ve,this.monthSelected=new Ve,this.viewChanged=new Ve(!0),this.openedStream=new Ve,this.closedStream=new Ve,this._opened=!1,this.id=`mat-datepicker-${qD++}`,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new _t,this._injector=dn(qr),this._changeDetectorRef=dn(Tn),this._dateAdapter,this._scrollStrategy=o,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(t){let i=t.xPosition||t.yPosition;if(i&&!i.firstChange&&this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;a instanceof ab&&(this._setConnectedPositions(a),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){var i;this._actionsPortal,this._actionsPortal=t,(i=this._componentRef)==null||i.instance._assignActions(t,!0)}removeActions(t){var i;t===this._actionsPortal&&(this._actionsPortal=null,(i=this._componentRef)==null||i.instance._assignActions(null,!0))}open(){var t;this._opened||this.disabled||(t=this._componentRef)!=null&&t.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=Lv(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){var a;if(!this._opened||(a=this._componentRef)!=null&&a.instance._isAnimating)return;let t=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:o,location:s}=this._componentRef;o._startExitAnimation(),o._animationDone.pipe(aa(1)).subscribe(()=>{let m=this._document.activeElement;t&&(!m||m===this._document.activeElement||s.nativeElement.contains(m))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}t?setTimeout(i):i()}_applyPendingSelection(){var t,i;(i=(t=this._componentRef)==null?void 0:t.instance)==null||i._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let t=this.touchUi,i=new Kf(jC,this._viewContainerRef),a=this._overlayRef=this._overlay.create(new Zf({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${t?"dialog":"popup"}`}));this._getCloseStream(a).subscribe(o=>{o&&o.preventDefault(),this.close()}),a.keydownEvents().subscribe(o=>{let s=o.keyCode;(s===38||s===40||s===37||s===39||s===33||s===34)&&o.preventDefault()}),this._componentRef=a.attach(i),this._forwardContentValues(this._componentRef.instance),t||Qa(()=>{a.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){let i=this.xPosition==="end"?"end":"start",a=i==="start"?"end":"start",o=this.yPosition==="above"?"bottom":"top",s=o==="top"?"bottom":"top";return t.withPositions([{originX:i,originY:s,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:s},{originX:a,originY:s,overlayX:a,overlayY:o},{originX:a,originY:o,overlayX:a,overlayY:s}])}_getCloseStream(t){let i=["ctrlKey","shiftKey","metaKey"];return ir(t.backdropClick(),t.detachments(),t.keydownEvents().pipe(Hn(a=>a.keyCode===27&&!Za(a)||this.datepickerInput&&Za(a,"altKey")&&a.keyCode===38&&i.every(o=>!Za(a,o)))))}};n.\u0275fac=function(i){return new(i||n)(T(ds),T(kn),T(ca),T(VC),T(fa,8),T(pa,8),T(Ld))},n.\u0275dir=At({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",Ht],disabled:[2,"disabled","disabled",Ht],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",Ht],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",Ht]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Jn,Xn]});let e=n;return e})(),tp=(()=>{let n=class n extends IC{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=gr(n)))(a||n)}})(),n.\u0275cmp=Se({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[Gn([FC,{provide:IC,useExisting:n}]),jn,fn],decls:0,vars:0,template:function(i,a){},encapsulation:2,changeDetection:0});let e=n;return e})(),Tl=class{constructor(n,r){this.target=n,this.targetElement=r,this.value=this.target.value}},QD=(()=>{let n=class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){let i=t,a=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&a.blur&&a.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){let a=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(a),this._cvaOnChange(a),this._onTouched(),this._formatValue(a),this.dateInput.emit(new Tl(this,this._elementRef.nativeElement)),this.dateChange.emit(new Tl(this,this._elementRef.nativeElement))}})}constructor(t,i,a){this._elementRef=t,this._dateAdapter=i,this._dateFormats=a,this.dateChange=new Ve,this.dateInput=new Ve,this.stateChanges=new _t,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=cn.EMPTY,this._localeSubscription=cn.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{let s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!s||this._matchesFilter(s)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{let s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),m=this._getMinDate();return!m||!s||this._dateAdapter.compareDate(m,s)<=0?null:{matDatepickerMin:{min:m,actual:s}}},this._maxValidator=o=>{let s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),m=this._getMaxDate();return!m||!s||this._dateAdapter.compareDate(m,s)>=0?null:{matDatepickerMax:{max:m,actual:s}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){ZD(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){let i=["ctrlKey","shiftKey","metaKey"];Za(t,"altKey")&&t.keyCode===40&&i.every(o=>!Za(t,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){let i=this._lastValueValid,a=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(a),a=this._dateAdapter.getValidDateOrNull(a);let o=!this._dateAdapter.sameDate(a,this.value);!a||o?this._cvaOnChange(a):(t&&!this.value&&this._cvaOnChange(a),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(a),this.dateInput.emit(new Tl(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Tl(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t!=null?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){let i=this._getDateFilter();return!i||i(t)}};n.\u0275fac=function(i){return new(i||n)(T(an),T(fa,8),T($s,8))},n.\u0275dir=At({type:n,inputs:{value:"value",disabled:[2,"disabled","disabled",Ht]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[Jn,Xn]});let e=n;return e})();function ZD(e,n){let r=Object.keys(e);for(let t of r){let{previousValue:i,currentValue:a}=e[t];if(n.isDateInstance(i)&&n.isDateInstance(a)){if(!n.sameDate(i,a))return!0}else return!0}return!1}var JD={provide:mm,useExisting:Ka(()=>Dl),multi:!0},e5={provide:um,useExisting:Ka(()=>Dl),multi:!0},Dl=(()=>{let n=class n extends QD{set matDatepicker(t){t&&(this._datepicker=t,this._ariaOwns.set(t.opened?t.id:null),this._closedSubscription=t.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=t.openedStream.subscribe(()=>{this._ariaOwns.set(t.id)}),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(t){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){let i=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(t,i,a,o){super(t,i,a),this._formField=o,this._closedSubscription=cn.EMPTY,this._openedSubscription=cn.EMPTY,this._ariaOwns=Fx(null),this._validator=wt.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}};n.\u0275fac=function(i){return new(i||n)(T(an),T(fa,8),T($s,8),T(vb,8))},n.\u0275dir=At({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,a){i&1&&F("input",function(s){return a._onInput(s.target.value)})("change",function(){return a._onChange()})("blur",function(){return a._onBlur()})("keydown",function(s){return a._onKeydown(s)}),i&2&&(J0("disabled",a.disabled),Kt("aria-haspopup",a._datepicker?"dialog":null)("aria-owns",a._ariaOwns())("min",a.min?a._dateAdapter.toIso8601(a.min):null)("max",a.max?a._dateAdapter.toIso8601(a.max):null)("data-mat-calendar",a._datepicker?a._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[Gn([JD,e5,{provide:Sb,useExisting:n}]),jn]});let e=n;return e})(),t5=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275dir=At({type:n,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0});let e=n;return e})(),zd=(()=>{let n=class n{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=t}constructor(t,i,a){this._intl=t,this._changeDetectorRef=i,this._stateChanges=cn.EMPTY;let o=Number(a);this.tabIndex=o||o===0?o:null}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){let t=this.datepicker?this.datepicker.stateChanges:st(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:st(),a=this.datepicker?ir(this.datepicker.openedStream,this.datepicker.closedStream):st();this._stateChanges.unsubscribe(),this._stateChanges=ir(this._intl.changes,t,i,a).subscribe(()=>this._changeDetectorRef.markForCheck())}};n.\u0275fac=function(i){return new(i||n)(T(jd),T(Tn),Hs("tabindex"))},n.\u0275cmp=Se({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,a,o){if(i&1&&Di(o,t5,5),i&2){let s;ft(s=ht())&&(a._customIcon=s.first)}},viewQuery:function(i,a){if(i&1&&Qt(LD,5),i&2){let o;ft(o=ht())&&(a._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,a){i&1&&F("click",function(s){return a._open(s)}),i&2&&(Kt("tabindex",null)("data-mat-calendar",a.datepicker?a.datepicker.id:null),Fe("mat-datepicker-toggle-active",a.datepicker&&a.datepicker.opened)("mat-accent",a.datepicker&&a.datepicker.color==="accent")("mat-warn",a.datepicker&&a.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",Ht],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[Jn,Xn,fn],ngContentSelectors:VD,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,a){i&1&&(Ei(BD),c(0,"button",1,0),U(2,jD,2,0,":svg:svg",2),$n(3),l()),i&2&&(M("disabled",a.disabled)("disableRipple",a.disableRipple),Kt("aria-haspopup",a.datepicker?"dialog":null)("aria-label",a.ariaLabel||a._intl.openCalendarLabel)("tabindex",a.disabled?-1:a.tabIndex),h(2),Qe(a._customIcon?-1:2))},dependencies:[mn],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0});let e=n;return e})();var Qh=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({providers:[jd,KD],imports:[Fo,Gs,Jm,$v,eb,li,jC,zd,BC,Ks]});let e=n;return e})();var n5=(e,n)=>n.value;function i5(e,n){e&1&&(c(0,"mat-error"),d(1," Budget amount is required "),l())}function r5(e,n){e&1&&(c(0,"mat-error"),d(1," Budget amount must be greater than 0 "),l())}function a5(e,n){if(e&1&&(c(0,"div",16)(1,"label",17),d(2,"Budget Amount"),l(),c(3,"mat-form-field",18),se(4,"input",19),U(5,i5,2,0,"mat-error",20)(6,r5,2,0,"mat-error",20),l()()),e&2){let r=w();h(5),M("ngIf",r.budgetAmountControl==null?null:r.budgetAmountControl.hasError("required")),h(),M("ngIf",r.budgetAmountControl==null?null:r.budgetAmountControl.hasError("min"))}}function o5(e,n){if(e&1&&(c(0,"mat-option",22),d(1),l()),e&2){let r=n.$implicit;M("value",r.value),h(),ae(" ",r.label," ")}}function s5(e,n){e&1&&(c(0,"mat-error"),d(1," Budget period is required "),l())}function c5(e,n){if(e&1&&(c(0,"div",16)(1,"label",17),d(2,"Budget Period"),l(),c(3,"mat-form-field",18)(4,"mat-select",21),Ge(5,o5,2,2,"mat-option",22,n5),l(),U(7,s5,2,0,"mat-error",20),l()()),e&2){let r=w();h(5),qe(r.budgetPeriods),h(2),M("ngIf",r.budgetPeriodControl==null?null:r.budgetPeriodControl.hasError("required"))}}function l5(e,n){e&1&&(c(0,"mat-error"),d(1," Start date is required "),l())}function d5(e,n){if(e&1&&(c(0,"div",16)(1,"label",17),d(2,"Start Date"),l(),c(3,"mat-form-field",18),se(4,"input",23)(5,"mat-datepicker-toggle",24)(6,"mat-datepicker",null,0),U(8,l5,2,0,"mat-error",20),l()()),e&2){let r,t=zn(7),i=w();h(4),M("matDatepicker",t)("min",i.minDate)("max",i.maxDate),h(),M("for",t),h(3),M("ngIf",(r=i.budgetForm.get("budgetStartDate"))==null?null:r.hasError("required"))}}function m5(e,n){if(e&1&&(c(0,"div",16)(1,"label",17),d(2,"End Date (Optional)"),l(),c(3,"mat-form-field",18),se(4,"input",25)(5,"mat-datepicker-toggle",24)(6,"mat-datepicker",null,1),l()()),e&2){let r=zn(7),t=w();h(4),M("matDatepicker",r)("min",t.minDate)("max",t.maxDate),h(),M("for",r)}}function u5(e,n){e&1&&(c(0,"mat-error"),d(1," Threshold must be at least 0% "),l())}function p5(e,n){e&1&&(c(0,"mat-error"),d(1," Threshold cannot exceed 100% "),l())}function f5(e,n){if(e&1&&(c(0,"div",16)(1,"label",17),d(2,"Alert Threshold (%)"),l(),c(3,"mat-form-field",18),se(4,"input",26),c(5,"mat-hint"),d(6,"Get notified when you reach this percentage of your budget"),l(),U(7,u5,2,0,"mat-error",20)(8,p5,2,0,"mat-error",20),l()()),e&2){let r,t,i=w();h(7),M("ngIf",(r=i.budgetForm.get("budgetAlertThreshold"))==null?null:r.hasError("min")),h(),M("ngIf",(t=i.budgetForm.get("budgetAlertThreshold"))==null?null:t.hasError("max"))}}function h5(e,n){e&1&&(c(0,"div",16)(1,"mat-slide-toggle",27)(2,"span",28),d(3,"Enable budget alerts"),l()()())}var zC=(()=>{let n=class n{constructor(t,i,a){this.dialogRef=t,this.data=i,this.budgetService=a,this.minDate=new Date,this.maxDate=new Date(new Date().getFullYear()+1,11,31),this.budgetForm=this.budgetService.createBudgetForm(),this.budgetPeriods=this.budgetService.getBudgetPeriods()}ngOnInit(){this.budgetService.initializeBudgetForm(this.budgetForm,this.data.category)}onCancel(){this.dialogRef.close()}onSave(){if(this.budgetService.isBudgetFormValid(this.budgetForm)){let t=this.budgetService.getBudgetDataFromForm(this.budgetForm);this.dialogRef.close(t)}}get isFormValid(){return this.budgetService.isBudgetFormValid(this.budgetForm)}get budgetAmountControl(){return this.budgetForm.get("budgetAmount")}get budgetPeriodControl(){return this.budgetForm.get("budgetPeriod")}};n.\u0275fac=function(i){return new(i||n)(T(Vi),T(ji),T(Xu))},n.\u0275cmp=Se({type:n,selectors:[["app-category-budget-dialog"]],decls:30,vars:11,consts:[["startPicker",""],["endPicker",""],[1,"budget-dialog-container"],[1,"dialog-header"],["mat-dialog-title",""],[1,"header-icon"],["mat-icon-button","",1,"close-button",3,"click"],[1,"dialog-content"],[1,"budget-form",3,"formGroup"],[1,"form-field-toggle"],[1,"toggle-label","text-sm","font-semibold"],["formControlName","hasBudget","color","primary",1,"budget-toggle"],["class","form-field",4,"ngIf"],[1,"dialog-actions"],["mat-button","",1,"cancel-button",3,"click"],["mat-raised-button","","color","primary",1,"save-button",3,"click","disabled"],[1,"form-field"],[1,"field-label"],["appearance","fill",1,"form-input-field"],["matInput","","type","number","formControlName","budgetAmount","placeholder","0.00","step","0.01",1,"form-input"],[4,"ngIf"],["formControlName","budgetPeriod",1,"form-select"],[3,"value"],["matInput","","formControlName","budgetStartDate","placeholder","Choose start date",1,"form-input",3,"matDatepicker","min","max"],["matSuffix","",3,"for"],["matInput","","formControlName","budgetEndDate","placeholder","Choose end date (optional)",1,"form-input",3,"matDatepicker","min","max"],["matInput","","type","number","formControlName","budgetAlertThreshold","placeholder","80",1,"form-input"],["formControlName","budgetAlertEnabled","color","primary",1,"alert-toggle"],[1,"toggle-label"]],template:function(i,a){if(i&1&&(c(0,"div",2)(1,"div",3)(2,"h2",4)(3,"mat-icon",5),d(4,"account_balance_wallet"),l(),d(5),l(),c(6,"button",6),F("click",function(){return a.onCancel()}),c(7,"mat-icon"),d(8,"close"),l()()(),c(9,"mat-dialog-content",7)(10,"form",8)(11,"div",9)(12,"span",10),d(13),l(),se(14,"mat-slide-toggle",11),l(),U(15,a5,7,2,"div",12)(16,c5,8,1,"div",12)(17,d5,9,5,"div",12)(18,m5,8,4,"div",12)(19,f5,9,2,"div",12)(20,h5,4,0,"div",12),l()(),c(21,"mat-dialog-actions",13)(22,"button",14),F("click",function(){return a.onCancel()}),c(23,"mat-icon"),d(24,"cancel"),l(),d(25," Cancel "),l(),c(26,"button",15),F("click",function(){return a.onSave()}),c(27,"mat-icon"),d(28,"save"),l(),d(29),l()()()),i&2){let o,s,m,u,f,g;h(5),ae(" ",a.data.isEdit?"Edit":"Set"," Budget "),h(5),M("formGroup",a.budgetForm),h(3),ae("Set budget for ",a.data.category.name,""),h(2),M("ngIf",(o=a.budgetForm.get("hasBudget"))==null?null:o.value),h(),M("ngIf",(s=a.budgetForm.get("hasBudget"))==null?null:s.value),h(),M("ngIf",(m=a.budgetForm.get("hasBudget"))==null?null:m.value),h(),M("ngIf",(u=a.budgetForm.get("hasBudget"))==null?null:u.value),h(),M("ngIf",(f=a.budgetForm.get("hasBudget"))==null?null:f.value),h(),M("ngIf",(g=a.budgetForm.get("hasBudget"))==null?null:g.value),h(6),M("disabled",!a.isFormValid),h(3),ae(" ",a.data.isEdit?"Update":"Set"," Budget ")}},dependencies:[dt,Mi,on,rr,sn,yi,Mr,Sr,Nt,mn,lt,tp,Dl,zd,Or,nu,co,us,cr,Xi,lo,cl,dl,ll,Ra],styles:["@media (max-width: 640px){.budget-dialog-container[_ngcontent-%COMP%]{min-width:320px;max-width:100vw}}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem 0;border-bottom:1px solid #e5e7eb}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-left:0!important;margin:0;display:flex;align-items:center;gap:.5rem;font-size:1.25rem;font-weight:600;color:#1f2937}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{color:#3b82f6}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#6b7280}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:#374151;background-color:#f3f4f6}.dialog-content[_ngcontent-%COMP%]{padding:1.5rem;max-height:70vh;overflow-y:auto}.dialog-content[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-weight:500;color:#374151;font-size:.875rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]{width:100%}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:.875rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%], .dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]{margin-top:.5rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-weight:500;color:#374151;margin-left:.5rem}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;padding:1rem 1.5rem 1.5rem;border-top:1px solid #e5e7eb}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{color:#6b7280}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:hover{color:#374151;background-color:#f3f4f6}.dialog-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.dialog-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb}.dialog-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{background-color:#9ca3af;color:#6b7280}.form-field-toggle[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline}"]});let e=n;return e})();function g5(e,n){if(e&1){let r=ue();c(0,"mat-list-item",13),F("click",function(){let i=N(r).$implicit,a=w();return L(a.selectCategory(i))}),c(1,"div",14)(2,"div",15)(3,"mat-icon",16),d(4),l()(),c(5,"div",17)(6,"span",18),d(7),l(),c(8,"span",19),d(9),_e(10,"titlecase"),l()(),c(11,"mat-icon",20),d(12,"arrow_forward_ios"),l()()()}if(e&2){let r=n.$implicit,t=w();Fe("selected",t.selectedCategory===r),h(3),Vt("color",r.color),h(),ae(" ",r.icon," "),h(3),G(r.name),h(2),G(Ne(10,7,r.type))}}function _5(e,n){e&1&&(c(0,"div",21)(1,"mat-icon",22),d(2,"category"),l(),c(3,"p"),d(4,"No categories available"),l()())}var UC=(()=>{let n=class n{constructor(t,i){this.dialogRef=t,this.data=i,this.selectedCategory=null}ngOnInit(){}selectCategory(t){this.selectedCategory=t,this.dialogRef.close(t)}onCancel(){this.dialogRef.close(null)}trackByCategory(t,i){return i.id||t.toString()}};n.\u0275fac=function(i){return new(i||n)(T(Vi),T(ji))},n.\u0275cmp=Se({type:n,selectors:[["app-parent-category-selector-dialog"]],standalone:!0,features:[fn],decls:18,vars:5,consts:[[1,"parent-category-dialog"],[1,"dialog-header"],["mat-dialog-title","",1,"dialog-title"],["mat-icon-button","","aria-label","Close dialog",1,"close-button",3,"click"],["mat-dialog-content","",1,"dialog-content"],[1,"dialog-message"],[1,"categories-container"],[1,"categories-list"],[1,"category-list"],["class","category-item",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","no-categories",4,"ngIf"],["mat-dialog-actions","",1,"dialog-actions"],["mat-button","",1,"cancel-button",3,"click"],[1,"category-item",3,"click"],[1,"category-info"],[1,"category-icon-wrapper"],[1,"category-icon"],[1,"category-details"],[1,"category-name"],[1,"category-type"],[1,"select-icon"],[1,"no-categories"],[1,"no-categories-icon"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"h2",2),d(3),l(),c(4,"button",3),F("click",function(){return a.onCancel()}),c(5,"mat-icon"),d(6,"close"),l()()(),c(7,"div",4)(8,"p",5),d(9),l(),c(10,"div",6)(11,"div",7)(12,"mat-list",8),U(13,g5,13,9,"mat-list-item",9),l()(),U(14,_5,5,0,"div",10),l()(),c(15,"div",11)(16,"button",12),F("click",function(){return a.onCancel()}),d(17,"Cancel"),l()()()),i&2&&(h(3),G(a.data.title),h(6),G(a.data.message),h(4),M("ngForOf",a.data.categories)("ngForTrackBy",a.trackByCategory),h(),M("ngIf",a.data.categories.length===0))},dependencies:[Fo,Sa,dt,Pa,bd,cl,dl,ll,Gs,Nt,mn,vd,lt,Cd,Pb,kb],styles:[".parent-category-dialog[_ngcontent-%COMP%]{min-width:320px;max-width:90vw;width:100%;border-radius:12px;overflow:hidden;box-shadow:0 4px 20px #0000001a}@media (max-width: 599px){.parent-category-dialog[_ngcontent-%COMP%]{min-width:280px;max-width:95vw}}@media (min-width: 600px) and (max-width: 959px){.parent-category-dialog[_ngcontent-%COMP%]{min-width:400px;max-width:500px}}@media (min-width: 960px){.parent-category-dialog[_ngcontent-%COMP%]{min-width:450px;max-width:550px}}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px 16px;border-bottom:1px solid #e0e0e0;background:linear-gradient(135deg,#f8f9fa,#fff)}@media (max-width: 599px){.dialog-header[_ngcontent-%COMP%]{padding:16px 20px 12px}}.dialog-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#333}@media (max-width: 599px){.dialog-title[_ngcontent-%COMP%]{font-size:1.25rem}}.close-button[_ngcontent-%COMP%]{color:#666;transition:all .2s ease}.close-button[_ngcontent-%COMP%]:hover{color:#333;background-color:#0000000a;transform:scale(1.1)}.close-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #1976d233}.dialog-content[_ngcontent-%COMP%]{padding:20px 24px}@media (max-width: 599px){.dialog-content[_ngcontent-%COMP%]{padding:16px 20px}}.dialog-message[_ngcontent-%COMP%]{margin:0 0 20px;color:#666;font-size:.95rem;line-height:1.5}@media (max-width: 599px){.dialog-message[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:16px}}.categories-container[_ngcontent-%COMP%]{position:relative}.categories-list[_ngcontent-%COMP%]{max-height:350px;overflow-y:auto}@media (max-width: 599px){.categories-list[_ngcontent-%COMP%]{max-height:300px}}.categories-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.categories-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.categories-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.categories-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.category-list[_ngcontent-%COMP%]{padding:0}.category-item[_ngcontent-%COMP%]{cursor:pointer;border-radius:12px;margin-bottom:8px;transition:all .2s ease;border:1px solid transparent}.category-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;border-color:#e9ecef;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.category-item.selected[_ngcontent-%COMP%]{background-color:#1976d214;border-color:#1976d2}.category-item.selected[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{color:#1976d2;font-weight:600}.category-item.selected[_ngcontent-%COMP%]   .select-icon[_ngcontent-%COMP%]{color:#1976d2;transform:translate(2px)}.category-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}@media (max-width: 599px){.category-item[_ngcontent-%COMP%]{margin-bottom:6px}}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;width:100%;padding:4px 0}@media (max-width: 599px){.category-info[_ngcontent-%COMP%]{gap:12px}}.category-icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;background-color:#0000000a;flex-shrink:0}@media (max-width: 599px){.category-icon-wrapper[_ngcontent-%COMP%]{width:36px;height:36px}}.category-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}@media (max-width: 599px){.category-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}.category-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:0}.category-name[_ngcontent-%COMP%]{font-weight:500;font-size:1rem;color:#333;margin-bottom:2px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width: 599px){.category-name[_ngcontent-%COMP%]{font-size:.95rem}}.category-type[_ngcontent-%COMP%]{color:#666;font-size:.8rem;text-transform:uppercase;letter-spacing:.5px;font-weight:500}@media (max-width: 599px){.category-type[_ngcontent-%COMP%]{font-size:.75rem}}.select-icon[_ngcontent-%COMP%]{color:#ccc;font-size:16px;transition:all .2s ease;flex-shrink:0}@media (max-width: 599px){.select-icon[_ngcontent-%COMP%]{font-size:14px}}.no-categories[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center;color:#666}@media (max-width: 599px){.no-categories[_ngcontent-%COMP%]{padding:30px 16px}}.no-categories-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px;opacity:.5}@media (max-width: 599px){.no-categories-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;margin-bottom:12px}}.no-categories[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}@media (max-width: 599px){.no-categories[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}.dialog-actions[_ngcontent-%COMP%]{padding:16px 24px 20px;justify-content:flex-end;border-top:1px solid #e0e0e0;background-color:#fafafa}@media (max-width: 599px){.dialog-actions[_ngcontent-%COMP%]{padding:12px 20px 16px}}.cancel-button[_ngcontent-%COMP%]{min-width:80px;font-weight:500;border-radius:6px;transition:all .2s ease}.cancel-button[_ngcontent-%COMP%]:hover{background-color:#0000000a}@media (max-width: 599px){.cancel-button[_ngcontent-%COMP%]{min-width:70px;font-size:.9rem}}"]});let e=n;return e})();var Jh=ra(_a());function x5(e,n){if(e&1&&(c(0,"div",29)(1,"div",30),se(2,"div",31),l(),c(3,"span",32),d(4),_e(5,"currency"),l()()),e&2){let r=w(2);h(2),Vt("width",r.Math.min(r.calculateBudgetProgressPercentage(r.category),100),"%")("background-color",r.getBudgetProgressColor(r.category)),h(2),_n(" ",Ne(5,6,r.calculateBudgetSpent(r.category))," (",r.calculateBudgetProgressPercentage(r.category).toFixed(1),"%) ")}}function v5(e,n){if(e&1&&(c(0,"div",23)(1,"div",24)(2,"span",25),d(3,"Budget:"),l(),c(4,"span",26),d(5),_e(6,"currency"),l(),c(7,"span",27),d(8),l()(),U(9,x5,6,8,"div",28),l()),e&2){let r=w();h(5),G(Ne(6,3,r.category.budget==null?null:r.category.budget.budgetAmount)),h(3),ae("/ ",r.formatBudgetPeriod(r.category.budget==null?null:r.category.budget.budgetPeriod),""),h(),M("ngIf",r.category.budget==null?null:r.category.budget.hasBudget)}}function b5(e,n){if(e&1&&(c(0,"div",33)(1,"span",34),d(2),l(),c(3,"span",35),d(4),_e(5,"currency"),_e(6,"currency"),l()()),e&2){let r=w();h(2),G(r.category.type==="expense"?"Spent:":"Income:"),h(2),G(r.category.type==="expense"?Ne(5,2,r.calculateTotalSpentPerMonth(r.category)):Ne(6,4,r.calculateTotalIncomePerMonth(r.category)))}}function C5(e,n){if(e&1){let r=ue();c(0,"button",36),F("click",function(){N(r);let i=w();return L(i.onOpenBudgetDialog())}),c(1,"mat-icon"),d(2,"account_balance_wallet"),l(),d(3),l()}if(e&2){let r=w();M("matTooltip",r.category.budget!=null&&r.category.budget.hasBudget?"Edit budget":"Set budget"),h(3),ae(" ",r.category.budget!=null&&r.category.budget.hasBudget?"Edit Budget":"Set Budget"," ")}}function y5(e,n){if(e&1){let r=ue();c(0,"button",37),F("click",function(){N(r);let i=w();return L(i.onSelectParentCategory())}),c(1,"mat-icon"),d(2,"account_tree"),l(),d(3," Select Parent Category "),l()}}function w5(e,n){if(e&1){let r=ue();c(0,"button",38),F("click",function(){N(r);let i=w();return L(i.onRemoveFromParentCategory())}),c(1,"mat-icon"),d(2,"account_tree_off"),l(),d(3," Remove from Parent "),l()}}function M5(e,n){if(e&1){let r=ue();c(0,"div",39)(1,"button",40),F("click",function(){N(r);let i=w();return L(i.onToggleExpansion())}),c(2,"mat-icon"),d(3),l(),c(4,"span"),d(5),l()()()}if(e&2){let r=w();h(3),G(r.isExpanded?"expand_less":"expand_more"),h(2),G(r.isExpanded?"Show Less":"Show More")}}function S5(e,n){if(e&1&&(c(0,"div",45)(1,"span",46),d(2,"Budget Start Date:"),l(),c(3,"span",47),d(4),_e(5,"date"),l()()),e&2){let r=w(3);h(4),G(Rt(5,1,r.dateService.toDate(r.category.budget==null?null:r.category.budget.budgetStartDate),"shortDate"))}}function P5(e,n){if(e&1&&(c(0,"div",45)(1,"span",46),d(2,"Budget End Date:"),l(),c(3,"span",47),d(4),l()()),e&2){let r=w(3);h(4),G(r.category.budget==null?null:r.category.budget.budgetEndDate)}}function k5(e,n){if(e&1&&(c(0,"mat-tab",55)(1,"div",44)(2,"div",45)(3,"span",46),d(4,"Budget Amount:"),l(),c(5,"span",47),d(6),_e(7,"currency"),l()(),c(8,"div",45)(9,"span",46),d(10,"Budget Period:"),l(),c(11,"span",47),d(12),l()(),c(13,"div",45)(14,"span",46),d(15,"Amount Spent:"),l(),c(16,"span",47),d(17),_e(18,"currency"),l()(),c(19,"div",45)(20,"span",46),d(21,"Remaining Budget:"),l(),c(22,"span",47),d(23),_e(24,"currency"),l()(),c(25,"div",45)(26,"span",46),d(27,"Progress Percentage:"),l(),c(28,"span",47),d(29),l()(),U(30,S5,6,4,"div",56)(31,P5,5,1,"div",56),l()()),e&2){let r=w(2);h(6),G(Ne(7,13,r.category.budget==null?null:r.category.budget.budgetAmount)),h(6),G(r.formatBudgetPeriod(r.category.budget==null?null:r.category.budget.budgetPeriod)),h(4),Ct(r.getBudgetStatusClass(r.category)),h(),ae(" ",Ne(18,15,r.calculateBudgetSpent(r.category))," "),h(5),Ct(r.getRemainingBudgetClass(r.category)),h(),ae(" ",Ne(24,17,r.calculateBudgetRemaining(r.category))," "),h(5),Ct(r.getBudgetStatusClass(r.category)),h(),ae(" ",r.calculateBudgetProgressPercentage(r.category).toFixed(1),"% "),h(),M("ngIf",r.category.budget==null?null:r.category.budget.budgetStartDate),h(),M("ngIf",r.category.budget==null?null:r.category.budget.budgetEndDate)}}function O5(e,n){if(e&1){let r=ue();c(0,"button",59),F("click",function(){N(r);let i=w(3);return L(i.onOpenBudgetDialog())}),c(1,"mat-icon"),d(2,"add"),l(),d(3," Set Budget "),l()}}function T5(e,n){if(e&1&&(c(0,"mat-tab",55)(1,"div",44)(2,"div",57)(3,"mat-icon"),d(4,"account_balance_wallet"),l(),c(5,"h4"),d(6,"No Budget Set"),l(),c(7,"p"),d(8,"This category doesn't have a budget configured yet."),l(),U(9,O5,4,0,"button",58),l()()()),e&2){let r=w(2);h(9),M("ngIf",r.category.type==="expense")}}function E5(e,n){e&1&&(c(0,"div",60)(1,"mat-icon"),d(2,"receipt_long"),l(),c(3,"p"),d(4,"No recent transactions"),l()())}function D5(e,n){if(e&1&&(c(0,"div",63)(1,"div",64)(2,"span",65),d(3),l(),c(4,"span",66),d(5),_e(6,"date"),l()(),c(7,"span",67),d(8),_e(9,"currency"),l()()),e&2){let r=n.$implicit,t=w(3);h(3),G(r.payee),h(2),G(Rt(6,5,t.dateService.toDate(r.date),"shortDate")),h(2),Ct(r.amount>=0?"positive":"negative"),h(),ae(" ",Ne(9,8,r.amount)," ")}}function I5(e,n){if(e&1&&(c(0,"div",61),U(1,D5,10,10,"div",62),l()),e&2){let r=w(2);h(),M("ngForOf",r.recentTransactions)}}function A5(e,n){if(e&1&&(c(0,"div",41)(1,"mat-tab-group",42)(2,"mat-tab",43)(3,"div",44)(4,"div",45)(5,"span",46),d(6,"Category Name:"),l(),c(7,"span",47),d(8),l()(),c(9,"div",45)(10,"span",46),d(11,"Category Type:"),l(),c(12,"span",47),d(13),_e(14,"titlecase"),l()(),c(15,"div",45)(16,"span",46),d(17,"Icon:"),l(),c(18,"span",47)(19,"mat-icon"),d(20),l(),d(21),l()(),c(22,"div",45)(23,"span",46),d(24,"Color:"),l(),c(25,"span",47),se(26,"div",48),d(27),l()()()(),U(28,k5,32,19,"mat-tab",49)(29,T5,10,1,"mat-tab",49),c(30,"mat-tab",50)(31,"div",44),U(32,E5,5,0,"div",51)(33,I5,2,1,"div",52),l()(),c(34,"mat-tab",53)(35,"div",44)(36,"div",45)(37,"span",46),d(38,"Total Transactions:"),l(),c(39,"span",47),d(40),l()(),c(41,"div",45)(42,"span",46),d(43,"Total Spent:"),l(),c(44,"span",54),d(45),_e(46,"currency"),l()(),c(47,"div",45)(48,"span",46),d(49,"Average Transaction:"),l(),c(50,"span",47),d(51),_e(52,"currency"),l()(),c(53,"div",45)(54,"span",46),d(55,"Largest Transaction:"),l(),c(56,"span",54),d(57),_e(58,"currency"),l()(),c(59,"div",45)(60,"span",46),d(61,"This Month:"),l(),c(62,"span",54),d(63),_e(64,"currency"),l()(),c(65,"div",45)(66,"span",46),d(67,"Last Month:"),l(),c(68,"span",54),d(69),_e(70,"currency"),l()()()()()()),e&2){let r=w();h(8),G(r.category.name),h(5),G(Ne(14,19,r.category.type)),h(6),Vt("color",r.category.color),h(),G(r.category.icon||"category"),h(),ae(" ",r.category.icon||"category"," "),h(5),Vt("background-color",r.category.color),h(),ae(" ",r.category.color," "),h(),M("ngIf",r.category==null||r.category.budget==null?null:r.category.budget.hasBudget),h(),M("ngIf",!(!(r.category==null||r.category.budget==null)&&r.category.budget.hasBudget)),h(3),M("ngIf",!(r.recentTransactions!=null&&r.recentTransactions.length)),h(),M("ngIf",r.recentTransactions==null?null:r.recentTransactions.length),h(7),G((r.categoryStats==null?null:r.categoryStats.totalTransactions)||0),h(5),G(Ne(46,21,r.categoryStats==null?null:r.categoryStats.totalSpent)),h(6),G(Ne(52,23,r.categoryStats==null?null:r.categoryStats.averageTransaction)),h(6),G(Ne(58,25,r.categoryStats==null?null:r.categoryStats.largestTransaction)),h(6),G(Ne(64,27,r.categoryStats==null?null:r.categoryStats.thisMonth)),h(6),G(Ne(70,29,r.categoryStats==null?null:r.categoryStats.lastMonth))}}var YC=(()=>{let n=class n{constructor(t){this.dateService=t,this.isExpanded=!1,this.isMobile=!1,this.home=!1,this.recentTransactions=[],this.subCategoryCount=0,this.allTransactions=[],this.editCategory=new Ve,this.deleteCategory=new Ve,this.openBudgetDialog=new Ve,this.selectParentCategory=new Ve,this.removeFromParentCategory=new Ve,this.toggleExpansion=new Ve}calculateBudgetSpent(t){var m,u;if(!((m=t.budget)!=null&&m.hasBudget)||!((u=t.budget)!=null&&u.budgetAmount))return 0;let i=this.allTransactions.filter(f=>f.categoryId===t.id&&f.type===qn.EXPENSE),a=t.budget.budgetStartDate,o=t.budget.budgetEndDate,s=i;if(a){let f=this.dateService.toDate(a);if(!f)return 0;s=s.filter(g=>{let x=this.dateService.toDate(g.date);return x&&x>=f})}if(o){let f=this.dateService.toDate(o);if(!f)return 0;s=s.filter(g=>{let x=this.dateService.toDate(g.date);return x&&x<=f})}return s.reduce((f,g)=>f+Math.abs(g.amount),0)}calculateBudgetRemaining(t){var a,o;if(!((a=t.budget)!=null&&a.hasBudget)||!((o=t.budget)!=null&&o.budgetAmount))return 0;let i=this.calculateBudgetSpent(t);return Math.max(0,(t.budget.budgetAmount||0)-i)}calculateBudgetProgressPercentage(t){var o,s;if(!((o=t.budget)!=null&&o.hasBudget)||!((s=t.budget)!=null&&s.budgetAmount))return 0;let i=this.calculateBudgetSpent(t),a=t.budget.budgetAmount||0;return a===0?0:Math.min(100,i/a*100)}calculateTotalSpentPerMonth(t){return!this.recentTransactions||this.recentTransactions.length===0?0:this.recentTransactions.reduce((i,a)=>i+Math.abs(a.amount),0)}calculateTotalIncomePerMonth(t){if(!this.recentTransactions||this.recentTransactions.length===0)return 0;let i=new Date().getMonth(),a=new Date().getFullYear();return this.recentTransactions.filter(o=>{let s=this.dateService.toDate(o.date);return s?o.categoryId===t.id&&o.amount>0&&s.getMonth()===i&&s.getFullYear()===a:!1}).reduce((o,s)=>o+s.amount,0)}getBudgetProgressColor(t){let i=this.calculateBudgetProgressPercentage(t);return i>=100?"#ef4444":i>=80?"#f59e0b":i>=60?"#3b82f6":"#10b981"}formatBudgetPeriod(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}getBudgetStatusClass(t){let i=this.calculateBudgetProgressPercentage(t);return i>=100?"danger":i>=80?"warning":"safe"}getRemainingBudgetClass(t){return this.calculateBudgetRemaining(t)<0?"danger":"safe"}onEditCategory(){this.editCategory.emit(this.category)}onDeleteCategory(){this.deleteCategory.emit(this.category)}onOpenBudgetDialog(){this.openBudgetDialog.emit(this.category)}onSelectParentCategory(){this.selectParentCategory.emit(this.category)}onRemoveFromParentCategory(){this.removeFromParentCategory.emit(this.category)}onToggleExpansion(){this.toggleExpansion.emit(this.category)}};n.\u0275fac=function(i){return new(i||n)(T(Xt))},n.\u0275cmp=Se({type:n,selectors:[["app-category-card"]],inputs:{category:"category",isExpanded:"isExpanded",isMobile:"isMobile",home:"home",recentTransactions:"recentTransactions",categoryStats:"categoryStats",subCategoryCount:"subCategoryCount",Math:"Math",allTransactions:"allTransactions"},outputs:{editCategory:"editCategory",deleteCategory:"deleteCategory",openBudgetDialog:"openBudgetDialog",selectParentCategory:"selectParentCategory",removeFromParentCategory:"removeFromParentCategory",toggleExpansion:"toggleExpansion"},decls:35,vars:19,consts:[["menu","matMenu"],[1,"category-item"],[1,"category-content"],[1,"category-info"],[1,"category-icon-name"],[1,"category-icon-container"],[1,"category-icon"],[1,"category-header"],[1,"category-name"],[1,"text-[0.6rem]","text-gray-400","italic"],[1,"category-details"],["class","budget-info",4,"ngIf"],["class","category-spent",4,"ngIf"],[1,"category-actions"],["mat-menu-item","","class","action-button budget-button",3,"matTooltip","click",4,"ngIf"],["mat-menu-item","","matTooltip","Edit category",1,"action-button","edit-button",3,"click"],["mat-menu-item","","class","action-button parent-button","matTooltip","Select parent category",3,"click",4,"ngIf"],["mat-menu-item","","class","action-button remove-parent-button","matTooltip","Remove from parent category",3,"click",4,"ngIf"],["mat-menu-item","","matTooltip","Delete category",1,"action-button","delete-button",3,"click"],[1,"!text-red-800"],["matIconButton","",3,"matMenuTriggerFor"],["class","expand-section",4,"ngIf"],["class","category-details-expanded",4,"ngIf"],[1,"budget-info"],[1,"budget-amount"],[1,"budget-label"],[1,"budget-value"],[1,"budget-period"],["class","budget-progress",4,"ngIf"],[1,"budget-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"category-spent"],[1,"category-spent-label"],[1,"category-spent-value"],["mat-menu-item","",1,"action-button","budget-button",3,"click","matTooltip"],["mat-menu-item","","matTooltip","Select parent category",1,"action-button","parent-button",3,"click"],["mat-menu-item","","matTooltip","Remove from parent category",1,"action-button","remove-parent-button",3,"click"],[1,"expand-section"],["mat-button","",1,"expand-btn",3,"click"],[1,"category-details-expanded"],[1,"details-tabs"],["label","Basic Details"],[1,"tab-content"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],[1,"color-preview"],["label","Budget Details",4,"ngIf"],["label","Recent Transactions"],["class","no-transactions",4,"ngIf"],["class","transaction-list",4,"ngIf"],["label","Statistics"],[1,"detail-value","negative"],["label","Budget Details"],["class","detail-row",4,"ngIf"],[1,"no-budget-details"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"no-transactions"],[1,"transaction-list"],["class","transaction-item",4,"ngFor","ngForOf"],[1,"transaction-item"],[1,"transaction-info"],[1,"transaction-description"],[1,"transaction-date"],[1,"transaction-amount"]],template:function(i,a){if(i&1){let o=ue();c(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"mat-icon",6),d(6),l()(),c(7,"div",7)(8,"h3",8),d(9),c(10,"span",9),d(11),_e(12,"titlecase"),l()()()(),c(13,"div",10),U(14,v5,10,5,"div",11)(15,b5,7,6,"div",12),l()(),c(16,"div",13)(17,"mat-menu",null,0),U(19,C5,4,2,"button",14),c(20,"button",15),F("click",function(){return N(o),L(a.onEditCategory())}),c(21,"mat-icon"),d(22,"edit"),l(),d(23," Edit "),l(),U(24,y5,4,0,"button",16)(25,w5,4,0,"button",17),c(26,"button",18),F("click",function(){return N(o),L(a.onDeleteCategory())}),c(27,"mat-icon",19),d(28,"delete"),l(),d(29," Delete "),l()(),c(30,"button",20)(31,"mat-icon"),d(32,"more_vert"),l()()()(),U(33,M5,6,2,"div",21)(34,A5,71,31,"div",22),l()}if(i&2){let o=zn(18);Vt("border-left-color",a.category.color),Fe("expanded",a.isExpanded),h(5),Vt("color",a.category.color),h(),G(a.category.icon||"category"),h(3),ae("",a.category.name," "),h(2),ae(" ",Ne(12,17,a.category.type),""),h(3),M("ngIf",a.category==null||a.category.budget==null?null:a.category.budget.hasBudget),h(),M("ngIf",!(!(a.category==null||a.category.budget==null)&&a.category.budget.hasBudget)),h(4),M("ngIf",!a.home&&a.category.type==="expense"),h(5),M("ngIf",!a.category.isSubCategory&&!(a.category.subCategories!=null&&a.category.subCategories.length)),h(),M("ngIf",a.category.isSubCategory||a.category.parentCategoryId),h(5),M("matMenuTriggerFor",o),h(3),M("ngIf",!a.isMobile),h(),M("ngIf",a.isExpanded)}},dependencies:[Sa,dt,Nt,lt,fs,ps,hs,Vo,Cs,En,Pa,Ci,Ur],styles:["@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.category-item[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:12px;padding:1.25rem;border:1px solid #e5e7eb;cursor:pointer;transition:all .2s ease;border-left:4px solid transparent;animation:_ngcontent-%COMP%_slideIn .3s ease}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]{padding:.5rem;border-radius:10px}}.category-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a;border-color:#d1d5db}.category-item.expanded[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;position:relative}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]{gap:.75rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{flex:1;min-width:0;padding-right:3rem}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{padding-right:1.5rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;margin-bottom:.75rem}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]{gap:.5rem;margin-bottom:.5rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-icon-container[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-icon-container[_ngcontent-%COMP%]{width:2rem;height:2rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-icon-container[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem;color:#fff}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-icon-container[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;flex:1;min-width:0}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{gap:.125rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.25rem);font-weight:600;color:#1f2937;margin:0;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:.5rem}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]{gap:.375rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.375rem;width:100%}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]{gap:.25rem}}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;flex-wrap:wrap}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]   .budget-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]   .budget-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]   .budget-period[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:6px;background-color:#e5e7eb;border-radius:3px;overflow:hidden}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease;border-radius:3px}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;display:block;line-height:1.2}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-spent[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.25rem;flex-wrap:wrap;padding:.25rem 0}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-spent[_ngcontent-%COMP%]   .category-spent-label[_ngcontent-%COMP%]{font-size:.775rem;color:#6b7280;font-weight:500}.category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-spent[_ngcontent-%COMP%]   .category-spent-value[_ngcontent-%COMP%]{font-size:.775rem;font-weight:600;color:#6b7280;position:relative;left:.3rem}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0;align-items:flex-start;position:absolute;right:0;top:0}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]{gap:.25rem}}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   button[matIconButton][_ngcontent-%COMP%]{min-width:44px;min-height:44px}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   button[matIconButton][_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   button[matIconButton][_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1)}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   button[matIconButton][_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px}@media (max-width: 640px){.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1)}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.budget-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#dbeafe}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.budget-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:#2563eb}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.budget-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#fef3c7}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:#d97706}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#fee2e2}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:#dc2626}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.parent-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#e0e7ff}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.parent-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:#6366f1}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.parent-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.remove-parent-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#fef3c7}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.remove-parent-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:#f59e0b}.category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.remove-parent-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.expand-section[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;font-weight:500;transition:all .2s ease}.expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover{color:#3b82f6;background:#eff6ff}.expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;margin-right:.5rem}.category-details-expanded[_ngcontent-%COMP%]{margin-top:1.5rem;border-top:1px solid #e5e7eb;padding-top:1.5rem}.category-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-header{border-bottom:1px solid #e5e7eb}.category-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-header .mat-mdc-tab-label-container .mat-mdc-tab-label{color:#6b7280;font-weight:500;min-width:120px}.category-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-header .mat-mdc-tab-label-container .mat-mdc-tab-label.mat-mdc-tab-label-active{color:#3b82f6}.category-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-header .mat-mdc-tab-label-container .mat-mdc-tab-header-pagination{display:none}.category-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-header .mat-mdc-ink-bar{background-color:#3b82f6}.category-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-group .mat-mdc-tab-body-wrapper .mat-mdc-tab-body .mat-mdc-tab-body-content{padding:1rem 0}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;border-bottom:1px solid #f3f4f6}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.875rem;color:#1f2937;font-weight:600;display:flex;align-items:center;gap:.5rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.danger[_ngcontent-%COMP%]{color:#dc2626}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.warning[_ngcontent-%COMP%]{color:#f59e0b}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.safe[_ngcontent-%COMP%]{color:#10b981}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.negative[_ngcontent-%COMP%]{color:#dc2626}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:50%;border:1px solid #d1d5db}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-budget-details[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-budget-details[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:#9ca3af;margin-bottom:1rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-budget-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#374151;margin:0 0 .5rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-budget-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0 0 1.5rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#9ca3af;margin-bottom:1rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;border-bottom:1px solid #f3f4f6}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-description[_ngcontent-%COMP%]{font-size:.875rem;color:#1f2937;font-weight:500}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.positive[_ngcontent-%COMP%]{color:#10b981}.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.negative[_ngcontent-%COMP%]{color:#dc2626}"]});let e=n;return e})();var tg=(e,n)=>n.id;function R5(e,n){if(e&1){let r=ue();c(0,"div",9)(1,"p",10),d(2),l(),c(3,"button",11),F("click",function(){N(r);let i=w();return L(i.clearError())}),c(4,"mat-icon"),d(5,"close"),l()()()}if(e&2){let r=w();h(2),G(r.errorMessage)}}function N5(e,n){if(e&1){let r=ue();c(0,"button",12),F("click",function(){N(r);let i=w();return L(i.openAddMobileDialog())}),c(1,"mat-icon"),d(2,"add"),l()()}}function L5(e,n){if(e&1){let r=ue();c(0,"button",13),F("click",function(){N(r);let i=w();return L(i.openAddMobileDialog())}),c(1,"mat-icon"),d(2,"add"),l()()}}function B5(e,n){if(e&1&&(c(0,"div",14)(1,"div",15)(2,"h2",16),d(3,"Manage Categories"),l(),c(4,"p",17),d(5),l()()()),e&2){let r=w();h(5),_n("(",r.categories.length," categor",r.categories.length!==1?"ies":"y",")")}}function V5(e,n){if(e&1){let r=ue();c(0,"button",23),F("click",function(){N(r);let i=w(2);return L(i.openAddMobileDialog())}),c(1,"mat-icon"),d(2,"add"),l(),d(3," Add Category "),l()}}function j5(e,n){if(e&1&&(c(0,"div",18)(1,"div",19)(2,"mat-icon"),d(3,"local_offer"),l()(),c(4,"h3",20),d(5,"No categories yet"),l(),c(6,"p",21),d(7,"Add your first category to get started"),l(),U(8,V5,4,0,"button",22),l()),e&2){let r=w();h(8),M("ngIf",r.isMobile)}}function z5(e,n){if(e&1){let r=ue();c(0,"div",42)(1,"button",43),F("click",function(){N(r);let i=w(3);return L(i.toggleBudgetSummaryExpansion())}),c(2,"mat-icon"),d(3),l(),c(4,"span"),d(5),l()()()}if(e&2){let r=w(3);h(3),G(r.isBudgetSummaryExpanded?"expand_less":"expand_more"),h(2),G(r.isBudgetSummaryExpanded?"Show Less":"Show More")}}function U5(e,n){if(e&1&&(c(0,"div",48)(1,"span",49),d(2,"Highest Spending Category:"),l(),c(3,"span",50)(4,"mat-icon"),d(5),l(),d(6),_e(7,"currency"),l()()),e&2){let r=w(4);h(4),Vt("color",r.getDetailedBudgetStats().mostExpensiveCategory.color),h(),G(r.getDetailedBudgetStats().mostExpensiveCategory.icon),h(),_n(" ",r.getDetailedBudgetStats().mostExpensiveCategory.name," (",Ne(7,5,r.getDetailedBudgetStats().mostExpensiveCategory.spent),") ")}}function Y5(e,n){if(e&1&&(c(0,"div",48)(1,"span",49),d(2,"Lowest Spending Category:"),l(),c(3,"span",50)(4,"mat-icon"),d(5),l(),d(6),_e(7,"currency"),l()()),e&2){let r=w(4);h(4),Vt("color",r.getDetailedBudgetStats().leastExpensiveCategory.color),h(),G(r.getDetailedBudgetStats().leastExpensiveCategory.icon),h(),_n(" ",r.getDetailedBudgetStats().leastExpensiveCategory.name," (",Ne(7,5,r.getDetailedBudgetStats().leastExpensiveCategory.spent),") ")}}function W5(e,n){if(e&1&&(c(0,"div",54)(1,"div",55)(2,"mat-icon"),d(3),l(),c(4,"span",56),d(5),l()(),c(6,"div",57)(7,"div",58)(8,"span",59),d(9,"Budget:"),l(),c(10,"span",60),d(11),_e(12,"currency"),l()(),c(13,"div",58)(14,"span",59),d(15,"Spent:"),l(),c(16,"span",61),d(17),_e(18,"currency"),l()(),c(19,"div",58)(20,"span",59),d(21,"Remaining:"),l(),c(22,"span",60),d(23),_e(24,"currency"),l()(),c(25,"div",58)(26,"span",59),d(27,"Progress:"),l(),c(28,"span",60),d(29),l()()(),c(30,"div",62)(31,"div",37),se(32,"div",38),l()()()),e&2){let r=n.$implicit,t=w(4);h(2),Vt("color",r.color),h(),G(r.icon),h(2),G(r.name),h(6),G(Ne(12,16,r.budget)),h(6),G(Ne(18,18,r.spent)),h(5),Ct(r.remaining<0?"danger":"safe"),h(),ae(" ",Ne(24,20,r.remaining)," "),h(5),Ct(r.progress>=90?"danger":r.progress>=75?"warning":"safe"),h(),ae(" ",r.progress.toFixed(1),"% "),h(3),Vt("width",t.Math.min(r.progress,100),"%")("background-color",r.progress>=100?"#ef4444":r.progress>=80?"#f59e0b":r.progress>=60?"#3b82f6":"#10b981")}}function H5(e,n){if(e&1&&(c(0,"div",44)(1,"mat-tab-group",45)(2,"mat-tab",46)(3,"div",47)(4,"div",48)(5,"span",49),d(6,"Total Categories with Budget:"),l(),c(7,"span",50),d(8),l()(),c(9,"div",48)(10,"span",49),d(11,"Average Budget per Category:"),l(),c(12,"span",50),d(13),_e(14,"currency"),l()(),c(15,"div",48)(16,"span",49),d(17,"Average Spent per Category:"),l(),c(18,"span",50),d(19),_e(20,"currency"),l()(),U(21,U5,8,7,"div",51)(22,Y5,8,7,"div",51),l()(),c(23,"mat-tab",52)(24,"div",47)(25,"div",53),Ge(26,W5,33,22,"div",54,tg),l()()()()()),e&2){let r=w(3);h(8),G(r.getDetailedBudgetStats().totalCategories),h(5),G(Ne(14,5,r.getOverallBudgetStats().averageBudget)),h(6),G(Ne(20,7,r.getDetailedBudgetStats().averageSpentPerCategory)),h(2),M("ngIf",r.getDetailedBudgetStats().mostExpensiveCategory),h(),M("ngIf",r.getDetailedBudgetStats().leastExpensiveCategory),h(4),qe(r.getDetailedBudgetStats().categories)}}function $5(e,n){if(e&1&&(c(0,"div",28)(1,"div",29)(2,"mat-icon",30),d(3,"account_balance_wallet"),l(),c(4,"h3",31),d(5,"Overall Monthly Budget"),l()(),c(6,"div",32)(7,"div",33)(8,"span",34),d(9,"Total Budget:"),l(),c(10,"span",35),d(11),_e(12,"currency"),l()()(),c(13,"div",36)(14,"div",37),se(15,"div",38),l(),c(16,"div",39),d(17),_e(18,"currency"),_e(19,"currency"),l()(),U(20,z5,6,2,"div",40)(21,H5,28,9,"div",41),l()),e&2){let r=w(2);Fe("expanded",r.isBudgetSummaryExpanded),h(11),G(Ne(12,12,r.getOverallBudgetStats().totalBudget)),h(4),Vt("width",r.Math.min(r.getOverallBudgetStats().overallProgress,100),"%")("background-color",r.getOverallBudgetProgressColor()),h(2),nm(" ",Ne(18,14,r.getOverallBudgetStats().totalSpent)," / ",Ne(19,16,r.getOverallBudgetStats().totalBudget)," (",r.getOverallBudgetStats().overallProgress.toFixed(1),"%) "),h(3),M("ngIf",!r.isMobile||r.home),h(),M("ngIf",r.isBudgetSummaryExpanded)}}function G5(e,n){e&1&&se(0,"hr",63)}function q5(e,n){e&1&&(c(0,"div",64)(1,"div",65)(2,"mat-icon",66),d(3,"info"),l(),c(4,"div",67)(5,"h4",68),d(6,"No Budgets Set"),l(),c(7,"p",69),d(8,"Set budgets for your expense categories to track your spending goals."),l()()()())}function X5(e,n){if(e&1){let r=ue();c(0,"app-category-card",72),F("editCategory",function(i){N(r);let a=w(4);return L(a.editCategory(i))})("deleteCategory",function(i){N(r);let a=w(4);return L(a.deleteCategory(i))})("openBudgetDialog",function(i){N(r);let a=w(4);return L(a.openBudgetDialog(i))})("selectParentCategory",function(i){N(r);let a=w(4);return L(a.selectParentCategory(i))})("removeFromParentCategory",function(i){N(r);let a=w(4);return L(a.removeFromParentCategory(i))})("toggleExpansion",function(i){N(r);let a=w(4);return L(a.toggleCategoryExpansion(i))}),l()}if(e&2){let r=w().$implicit,t=w(3);M("category",r)("isExpanded",(t.expandedCategory==null?null:t.expandedCategory.id)===r.id)("isMobile",t.isMobile)("home",t.home)("recentTransactions",t.getRecentTransactions(r))("categoryStats",t.getCategoryStats(r))("allTransactions",t.transactions)("Math",t.Math)}}function K5(e,n){if(e&1){let r=ue();c(0,"app-category-card",76),F("editCategory",function(i){N(r);let a=w(5);return L(a.editCategory(i))})("deleteCategory",function(i){N(r);let a=w(5);return L(a.deleteCategory(i))})("openBudgetDialog",function(i){N(r);let a=w(5);return L(a.openBudgetDialog(i))})("selectParentCategory",function(i){N(r);let a=w(5);return L(a.selectParentCategory(i))})("removeFromParentCategory",function(i){N(r);let a=w(5);return L(a.removeFromParentCategory(i))})("toggleExpansion",function(i){N(r);let a=w(5);return L(a.toggleCategoryExpansion(i))}),l()}if(e&2){let r=n.$implicit,t=w(5);M("category",r)("isExpanded",(t.expandedCategory==null?null:t.expandedCategory.id)===r.id)("isMobile",t.isMobile)("home",t.home)("recentTransactions",t.getRecentTransactions(r))("categoryStats",t.getCategoryStats(r))("allTransactions",t.transactions)("subCategoryCount",0)("Math",t.Math)}}function Q5(e,n){if(e&1&&(c(0,"div",71)(1,"div",73),d(2,"Sub-categories"),l(),c(3,"div",74),Ge(4,K5,1,9,"app-category-card",75,tg),l()()),e&2){let r=w().$implicit,t=w(3);h(4),qe(t.getSubCategoriesForCategory(r.id))}}function Z5(e,n){if(e&1&&U(0,X5,1,8,"app-category-card",70)(1,Q5,6,0,"div",71),e&2){let r=n.$implicit,t=w(3);Qe(!r.isSubCategory&&!r.parentCategoryId?0:-1),h(),Qe(t.getSubCategoriesForCategory(r.id).length>0?1:-1)}}function J5(e,n){if(e&1&&Ge(0,Z5,2,2,null,null,tg),e&2){let r=w(2);qe(r.categories)}}function eI(e,n){if(e&1&&(c(0,"div",24),U(1,$5,22,18,"div",25)(2,G5,1,0,"hr",26)(3,q5,9,0,"div",27)(4,J5,2,0),l()),e&2){let r=w();h(),M("ngIf",r.getOverallBudgetStats().categoriesWithBudget>0),h(),M("ngIf",!r.home&&r.isMobile),h(),M("ngIf",!r.home&&r.getOverallBudgetStats().categoriesWithBudget===0),h(),Qe(r.home?-1:4)}}var Il=(()=>{let n=class n{constructor(t,i,a,o,s,m,u,f,g){this.auth=t,this.dialog=i,this.notificationService=a,this.hapticFeedback=o,this.breakpointObserver=s,this.store=m,this.budgetService=u,this.dateService=f,this.breakpointService=g,this.home=!1,this.Math=Math,this.transactions=[],this.isLoading=!1,this.errorMessage="",this.isMobile=!1,this.expandedCategory=null,this.isBudgetSummaryExpanded=!1,this.userId="",this.destroy$=new _t,this.isLoading$=this.store.select(Uu),this.transactions$=this.store.select(Ji),this.breakpointObserver.observe([Oa.Handset]).subscribe(x=>{this.isMobile=x.matches})}ngOnInit(){this.initializeComponent(),this.subscribeToStoreData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeComponent(){return me(this,null,function*(){let t=yield this.auth.currentUser;if(!t){this.errorMessage="User not authenticated";return}this.userId=t.uid,this.loadUserCategories(),this.loadUserTransactions()})}loadUserCategories(){this.store.dispatch(zr({userId:this.userId}))}loadUserTransactions(){this.store.dispatch(Gi({userId:this.userId}))}subscribeToStoreData(){this.store.select(zi).subscribe(t=>{this.categories=t.sort((i,a)=>{var m,u,f,g,x,C,y,v,P,D,I,A;let o=(u=(m=i.budget)==null?void 0:m.hasBudget)!=null?u:!1,s=(g=(f=a.budget)==null?void 0:f.hasBudget)!=null?g:!1;if(o!==s)return o?-1:1;if(this.breakpointService.device.isDesktop){let K=((C=(x=i.subCategories)==null?void 0:x.length)!=null?C:0)>0,J=((v=(y=a.subCategories)==null?void 0:y.length)!=null?v:0)>0;if(K!==J)return K?1:-1}else{let K=((D=(P=i.subCategories)==null?void 0:P.length)!=null?D:0)>0,J=((A=(I=a.subCategories)==null?void 0:I.length)!=null?A:0)>0;if(K!==J)return K?-1:1}return i.name.localeCompare(a.name)})}),this.transactions$.pipe(yt(this.destroy$)).subscribe(t=>{this.transactions=t}),this.isLoading$.pipe(yt(this.destroy$)).subscribe(t=>{this.isLoading=t})}editCategory(t){this.isMobile&&this.hapticFeedback.lightVibration(),this.openMobileDialog(t)}deleteCategory(t){this.isMobile&&this.hapticFeedback.warningVibration(),this.dialog.open(ha,{width:this.isMobile?"90vw":"600px",maxWidth:this.isMobile?"400px":"90vw",data:{title:"Delete Category",message:`Are you sure you want to delete "${t.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",type:"delete"}}).afterClosed().pipe(yt(this.destroy$)).subscribe(a=>{a&&t.id&&this.performDelete(t.id)})}performDelete(t){this.store.dispatch(Kc({userId:this.userId,categoryId:t})),this.notificationService.success("Category deleted successfully")}trackByCategoryId(t,i){return i.id||t}clearError(){this.errorMessage=""}openMobileDialog(t){this.dialog.open(Yu,{width:this.isMobile?"90vw":"600px",maxWidth:this.isMobile?"400px":"90vw",data:t||null,disableClose:!0,panelClass:this.isMobile?"mobile-dialog":"desktop-dialog"}).afterClosed().pipe(yt(this.destroy$)).subscribe(a=>{a&&this.loadUserCategories()})}openAddMobileDialog(){this.isMobile&&this.hapticFeedback.lightVibration(),this.openMobileDialog()}selectParentCategory(t){this.dialog.open(UC,{width:this.isMobile?"90vw":"500px",data:{title:"Select Parent Category",message:`Select a parent category for "${t.name}"`,categories:this.categories.filter(a=>a.id!==t.id&&!a.isSubCategory&&!a.parentCategoryId)},disableClose:!1}).afterClosed().subscribe(a=>{a&&this.convertToSubCategory(t,a)})}convertToSubCategory(t,i){this.store.dispatch(Ro({userId:this.userId,categoryId:t.id,name:t.name,categoryType:t.type,icon:t.icon,color:t.color,parentCategoryId:i.id,isSubCategory:!0})),this.notificationService.success(`"${t.name}" is now a sub-category of "${i.name}"`)}removeFromParentCategory(t){this.store.dispatch(Qc({userId:this.userId,categoryId:t.id})),this.notificationService.success(`"${t.name}" is now a main category`)}getSubCategoriesForCategory(t){return this.categories.filter(i=>i.isSubCategory&&i.parentCategoryId===t)}openBudgetDialog(t){var a;this.dialog.open(zC,{width:"500px",maxWidth:"90vw",data:{category:t,isEdit:((a=t.budget)==null?void 0:a.hasBudget)||!1},disableClose:!1}).afterClosed().subscribe(o=>{o&&this.updateCategoryBudget(t,o)})}updateCategoryBudget(t,i){this.store.dispatch(Ro({userId:this.userId,categoryId:t.id,name:t.name,categoryType:t.type,icon:t.icon,color:t.color,budgetData:i})),this.notificationService.success(i.hasBudget?"Budget set successfully for "+t.name:"Budget removed from "+t.name)}getBudgetProgressColor(t,i,a){var m;let o=i!=null?i:this.calculateBudgetProgressPercentage(t),s=a!=null?a:((m=t.budget)==null?void 0:m.budgetAlertThreshold)||80;return this.budgetService.getBudgetProgressColor(t,o,s)}formatBudgetPeriod(t){return this.budgetService.formatBudgetPeriod(t)}toggleCategoryExpansion(t){var i;((i=this.expandedCategory)==null?void 0:i.id)===t.id?this.expandedCategory=null:this.expandedCategory=t}toggleBudgetSummaryExpansion(){this.isBudgetSummaryExpanded=!this.isBudgetSummaryExpanded}getRecentTransactions(t){return!t||!t.name?[]:this.transactions.filter(i=>i.categoryId===t.id&&(0,Jh.default)(this.dateService.toDate(i.date)).isSame((0,Jh.default)(),"month"))}getCategoryStats(t){if(!t||!t.name)return{totalTransactions:0,totalSpent:0,averageTransaction:0,largestTransaction:0,thisMonth:0,lastMonth:0};let i=this.transactions.filter(I=>I.categoryId===t.id);if(i.length===0)return{totalTransactions:0,totalSpent:0,averageTransaction:0,largestTransaction:0,thisMonth:0,lastMonth:0};let a=i.length,o=i.reduce((I,A)=>I+Math.abs(A.amount),0),s=o/a,m=Math.max(...i.map(I=>Math.abs(I.amount))),u=new Date,f=u.getMonth(),g=u.getFullYear(),x=f===0?11:f-1,C=f===0?g-1:g,y=i.filter(I=>{let A=this.dateService.toDate(I.date)||new Date;return A.getMonth()===f&&A.getFullYear()===g}),v=i.filter(I=>{let A=this.dateService.toDate(I.date)||new Date;return A.getMonth()===x&&A.getFullYear()===C}),P=y.reduce((I,A)=>I+Math.abs(A.amount),0),D=v.reduce((I,A)=>I+Math.abs(A.amount),0);return{totalTransactions:a,totalSpent:o,averageTransaction:s,largestTransaction:m,thisMonth:P,lastMonth:D}}getBudgetStatusClass(t,i){var o;if(!((o=t.budget)!=null&&o.hasBudget))return"";let a=i!=null?i:this.calculateBudgetProgressPercentage(t);return a>=90?"danger":a>=75?"warning":"safe"}getRemainingBudgetClass(t,i){var s,m,u;if(!((s=t.budget)!=null&&s.hasBudget))return"";let a=i!=null?i:this.calculateBudgetSpent(t),o=(((m=t.budget)==null?void 0:m.budgetAmount)||0)-a;return o<=0?"danger":o<(((u=t.budget)==null?void 0:u.budgetAmount)||0)*.1?"warning":"safe"}calculateTotalSpentPerMonth(t){return this.transactions.filter(o=>o.categoryId===t.id).reduce((o,s)=>o+Math.abs(s.amount),0)}calculateTotalIncomePerMonth(t){return this.transactions.filter(o=>o.categoryId===t.id).reduce((o,s)=>o+s.amount,0)}calculateBudgetSpent(t){var m,u;if(!((m=t.budget)!=null&&m.hasBudget)||!((u=t.budget)!=null&&u.budgetAmount))return 0;let i=this.transactions.filter(f=>f.categoryId===t.id&&f.type===qn.EXPENSE),a=t.budget.budgetStartDate,o=t.budget.budgetEndDate,s=i;if(a){let f=this.dateService.toDate(a);if(!f)return 0;s=s.filter(g=>{let x=this.dateService.toDate(g.date);return x&&x>=f})}if(o){let f=this.dateService.toDate(o);if(!f)return 0;s=s.filter(g=>{let x=this.dateService.toDate(g.date);return x&&x<=f})}return s.reduce((f,g)=>f+Math.abs(g.amount),0)}calculateBudgetRemaining(t){var a,o;if(!((a=t.budget)!=null&&a.hasBudget)||!((o=t.budget)!=null&&o.budgetAmount))return 0;let i=this.calculateBudgetSpent(t);return Math.max(0,(t.budget.budgetAmount||0)-i)}calculateBudgetProgressPercentage(t){var o,s;if(!((o=t.budget)!=null&&o.hasBudget)||!((s=t.budget)!=null&&s.budgetAmount))return 0;let i=this.calculateBudgetSpent(t),a=t.budget.budgetAmount||0;return a===0?0:Math.min(100,i/a*100)}getOverallBudgetStats(){let t=this.categories.filter(u=>{var f;return((f=u.budget)==null?void 0:f.hasBudget)&&u.type===qn.EXPENSE});if(t.length===0)return{totalBudget:0,totalSpent:0,totalRemaining:0,overallProgress:0,categoriesWithBudget:0,averageBudget:0};let i=t.reduce((u,f)=>{var g;return u+(((g=f.budget)==null?void 0:g.budgetAmount)||0)},0),a=t.reduce((u,f)=>u+this.calculateBudgetSpent(f),0),o=i-a,s=i>0?a/i*100:0,m=i/t.length;return{totalBudget:i,totalSpent:a,totalRemaining:o,overallProgress:s,categoriesWithBudget:t.length,averageBudget:m}}getOverallBudgetStatusClass(){let t=this.getOverallBudgetStats();return t.overallProgress>=90?"danger":t.overallProgress>=75?"warning":"safe"}getOverallBudgetProgressColor(){let t=this.getOverallBudgetStats();return t.overallProgress>=100?"#ef4444":t.overallProgress>=80?"#f59e0b":t.overallProgress>=60?"#3b82f6":"#10b981"}getDetailedBudgetStats(){let t=this.categories.filter(u=>{var f;return((f=u.budget)==null?void 0:f.hasBudget)&&u.type===qn.EXPENSE});if(t.length===0)return{categories:[],totalCategories:0,averageSpentPerCategory:0,mostExpensiveCategory:null,leastExpensiveCategory:null};let i=t.map(u=>{var f;return{name:u.name,budget:((f=u.budget)==null?void 0:f.budgetAmount)||0,spent:this.calculateBudgetSpent(u),remaining:this.calculateBudgetRemaining(u),progress:this.calculateBudgetProgressPercentage(u),color:u.color,icon:u.icon}}),o=i.reduce((u,f)=>u+f.spent,0)/i.length,s=i.reduce((u,f)=>f.spent>u.spent?f:u,i[0]),m=i.reduce((u,f)=>f.spent<u.spent?f:u,i[0]);return{categories:i.sort((u,f)=>f.spent-u.spent),totalCategories:i.length,averageSpentPerCategory:o,mostExpensiveCategory:s,leastExpensiveCategory:m}}};n.\u0275fac=function(i){return new(i||n)(T(kt),T(di),T(vt),T(Da),T(or),T(Ft),T(Xu),T(Xt),T(bs))},n.\u0275cmp=Se({type:n,selectors:[["user-category"]],inputs:{home:"home"},decls:9,vars:6,consts:[[1,"categories-container"],["class","error-message mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center justify-between",4,"ngIf"],["mat-fab","","color","primary","class","mobile-fab-btn add-category-btn",3,"click",4,"ngIf"],["mat-fab","","color","primary","class","desktop-fab-btn",3,"click",4,"ngIf"],[1,"categories-grid"],[1,"categories-list"],["class","section-header",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","categories-grid-list",4,"ngIf"],[1,"error-message","mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg","flex","items-center","justify-between"],[1,"text-red-700","text-sm"],["mat-icon-button","",1,"error-close-button",3,"click"],["mat-fab","","color","primary",1,"mobile-fab-btn","add-category-btn",3,"click"],["mat-fab","","color","primary",1,"desktop-fab-btn",3,"click"],[1,"section-header"],[1,"header-content"],[1,"section-title"],[1,"section-subtitle"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-text"],["mat-raised-button","","color","primary","class","empty-state-button",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",1,"empty-state-button",3,"click"],[1,"categories-grid-list"],["class","budget-summary-card lg:col-span-2",3,"expanded",4,"ngIf"],["class","my-1",4,"ngIf"],["class","no-budget-card",4,"ngIf"],[1,"budget-summary-card","lg:col-span-2"],[1,"budget-summary-header"],[1,"budget-icon"],[1,"budget-summary-title"],[1,"budget-summary-stats"],[1,"budget-stat-item"],[1,"budget-stat-label"],[1,"budget-stat-value"],[1,"overall-budget-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],["class","expand-section",4,"ngIf"],["class","budget-details-expanded",4,"ngIf"],[1,"expand-section"],["mat-button","",1,"expand-btn",3,"click"],[1,"budget-details-expanded"],[1,"details-tabs"],["label","Summary"],[1,"tab-content"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],["class","detail-row",4,"ngIf"],["label","Category Breakdown"],[1,"category-breakdown-list"],[1,"category-breakdown-item"],[1,"category-breakdown-header"],[1,"category-name"],[1,"category-breakdown-stats"],[1,"breakdown-stat"],[1,"breakdown-label"],[1,"breakdown-value"],[1,"breakdown-value","spent"],[1,"category-breakdown-progress"],[1,"my-1"],[1,"no-budget-card"],[1,"no-budget-content"],[1,"no-budget-icon"],[1,"no-budget-text-content"],[1,"no-budget-title"],[1,"no-budget-text"],[3,"category","isExpanded","isMobile","home","recentTransactions","categoryStats","allTransactions","Math"],[1,"sub-category-wrapper","lg:col-span-1"],[3,"editCategory","deleteCategory","openBudgetDialog","selectParentCategory","removeFromParentCategory","toggleExpansion","category","isExpanded","isMobile","home","recentTransactions","categoryStats","allTransactions","Math"],[1,"group-header"],[1,"sub-categories-container"],[3,"category","isExpanded","isMobile","home","recentTransactions","categoryStats","allTransactions","subCategoryCount","Math"],[3,"editCategory","deleteCategory","openBudgetDialog","selectParentCategory","removeFromParentCategory","toggleExpansion","category","isExpanded","isMobile","home","recentTransactions","categoryStats","allTransactions","subCategoryCount","Math"]],template:function(i,a){i&1&&(c(0,"div",0),U(1,R5,6,1,"div",1)(2,N5,3,0,"button",2)(3,L5,3,0,"button",3),c(4,"div",4)(5,"section",5),U(6,B5,6,2,"div",6)(7,j5,9,1,"div",7)(8,eI,5,4,"div",8),l()()()),i&2&&(h(),M("ngIf",a.errorMessage),h(),M("ngIf",a.isMobile&&!a.home),h(),M("ngIf",!a.isMobile),h(3),M("ngIf",!a.home),h(),M("ngIf",a.categories&&a.categories.length===0&&!a.home),h(),M("ngIf",a.categories.length>0))},dependencies:[dt,Nt,mn,cs,lt,Vo,Cs,YC,Ur],styles:['@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.categories-container[_ngcontent-%COMP%]{background:inherit;overflow:auto;position:relative}@media (max-width: 640px){.categories-container[_ngcontent-%COMP%]{padding:.5rem}}.error-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease}.error-message[_ngcontent-%COMP%]   .error-close-button[_ngcontent-%COMP%]{color:#dc2626;min-width:44px;min-height:44px}.loading-indicator[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:linear-gradient(90deg,#f8fafc,#e2e8f0,#f8fafc);border-bottom:1px solid #e2e8f0;box-shadow:0 2px 4px #0000000d;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.loading-indicator[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{height:3px}.loading-indicator[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]     .mat-progress-bar-fill:after{background:linear-gradient(90deg,#3b82f6,#1d4ed8,#3b82f6);animation:_ngcontent-%COMP%_shimmer 2s ease-in-out infinite}.loading-indicator[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]     .mat-progress-bar-buffer{background:#3b82f61a}.categories-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;max-width:1200px;margin:0 auto;transition:opacity .3s ease}.categories-grid.loading[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}@media (min-width: 768px){.categories-grid[_ngcontent-%COMP%]{gap:3rem}}@media (max-width: 640px){.categories-grid[_ngcontent-%COMP%]{gap:1.5rem}}.categories-list[_ngcontent-%COMP%]{width:100%}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;position:relative}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;flex:1}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:clamp(1.25rem,3vw,2rem);font-weight:600;color:#1f2937;margin:0 0 .25rem;height:35px}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:clamp(.75rem,2vw,1rem);margin:0}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .mobile-add-button[_ngcontent-%COMP%]{flex-shrink:0;margin-left:1rem;box-shadow:0 4px 12px #00000026;transition:all .2s ease;min-width:56px;min-height:56px}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .mobile-add-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 16px #0003}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .mobile-add-button[_ngcontent-%COMP%]{min-width:48px;min-height:48px}}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;background:#fff;border-radius:12px;border:2px dashed #d1d5db}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{margin-bottom:1rem}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:clamp(2.5rem,6vw,4rem);width:clamp(2.5rem,6vw,4rem);height:clamp(2.5rem,6vw,4rem);color:#9ca3af}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.5rem);font-weight:500;color:#374151;margin:0 0 .5rem}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{color:#6b7280;font-size:clamp(.75rem,2vw,1rem);margin:0 0 1.5rem}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-state-button[_ngcontent-%COMP%]{min-height:44px;padding:.75rem 1.5rem;display:inline-flex;align-items:center;gap:.5rem}.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem;max-height:calc(92vh - 250px);overflow-y:auto;scrollbar-width:thin;scrollbar-color:#cbd5e1 #f1f5f9}@media (min-width: 768px){.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1.5rem}}@media (min-width: 1200px){.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(445px,1fr));gap:2rem}}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]{max-height:100vh;gap:.75rem;padding-bottom:2rem}}.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.categories-list[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]{width:100%}.sub-category-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;margin-top:1.5rem;margin-bottom:.5rem;background:#f8fafc;border:2.8px dashed #d4d5d7;border-radius:12px;padding:1rem;box-shadow:0 1px 3px #0000000d}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]{border-radius:10px;margin-top:0;margin-bottom:1rem0}}.sub-category-wrapper[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{position:absolute;top:-.75rem;left:1rem;background:#f8fafc;padding:0 .5rem;font-size:.75rem;font-weight:600;color:#6b7280;border:1px solid #e2e8f0;border-radius:6px;z-index:1}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{font-size:.7rem;padding:0 .375rem;top:-.625rem;left:.75rem}}.sub-category-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;left:2rem;top:-1.5rem;width:2px;height:1rem;z-index:0}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]:before{left:1.5rem;top:-.95rem;width:1.5px;height:3.75rem;background:linear-gradient(to bottom,#3b82f6,#d1d5db)}}.sub-category-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;left:2rem;top:-.5rem;width:1rem;height:2px;background:#3b82f6;z-index:0}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]:after{left:1.5rem;width:.75rem;height:1.5px}}.sub-category-wrapper[_ngcontent-%COMP%]   .sub-categories-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-top:.5rem;position:relative}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]   .sub-categories-container[_ngcontent-%COMP%]{gap:.5rem}}.sub-category-wrapper[_ngcontent-%COMP%]   .sub-categories-container[_ngcontent-%COMP%]:before{content:"";position:absolute;left:1.5rem;top:0;bottom:0;width:2px;background:linear-gradient(to bottom,#d1d5db,#e5e7eb);z-index:0}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]   .sub-categories-container[_ngcontent-%COMP%]:before{left:1rem;width:1.5px}}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]{width:100%;transform:scale(.98);opacity:.95;transition:all .3s ease;position:relative}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:hover{transform:scale(1);opacity:1;z-index:10;border-left-color:#3b82f6}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(1){transform:scale(1);opacity:1;z-index:3}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(2){transform:scale(.99);opacity:.98;z-index:2}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(3){transform:scale(.98);opacity:.95;z-index:1}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(n+4){transform:scale(.97);opacity:.9}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-.75rem;top:50%;width:8px;height:8px;background:#3b82f6;border:2px solid #f8fafc;border-radius:50%;transform:translateY(-50%);z-index:1;box-shadow:0 1px 3px #0000001a}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:before{left:-.5rem;width:6px;height:6px;border-width:1.5px}}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:after{content:"";position:absolute;left:-.5rem;top:50%;width:.5rem;height:2px;background:#3b82f6;transform:translateY(-50%);z-index:0}@media (max-width: 640px){.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:after{left:-.375rem;width:.375rem;height:1.5px}.sub-category-wrapper[_ngcontent-%COMP%]{gap:.25rem}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]{transform:scale(.99)}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:hover{transform:scale(1)}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(1){transform:scale(1)}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(2){transform:scale(.995)}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(3){transform:scale(.99)}.sub-category-wrapper[_ngcontent-%COMP%]   app-category-card[_ngcontent-%COMP%]:nth-child(n+4){transform:scale(.985)}}.budget-summary-card[_ngcontent-%COMP%]{width:100%;background:#dbfbff4a;border-radius:12px;padding:1.25rem;border:1px solid #e5e7eb;transition:all .2s ease;border-left:4px solid #4d98a4;position:relative;overflow:hidden}@media (max-width: 640px){.budget-summary-card[_ngcontent-%COMP%]{padding:.5rem;border-radius:10px}}.budget-summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a;border-color:#d1d5db}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin:.65rem 0 .5rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-header[_ngcontent-%COMP%]   .budget-icon[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;width:1.5rem;height:1.5rem;--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));border-radius:8px;padding:.5rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-header[_ngcontent-%COMP%]   .budget-summary-title[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.25rem);font-weight:600;color:#1f2937;margin:0;line-height:1.2}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:.5rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#6b7280}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.spent[_ngcontent-%COMP%], .budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.danger[_ngcontent-%COMP%]{color:#dc2626}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.warning[_ngcontent-%COMP%]{color:#f59e0b}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.safe[_ngcontent-%COMP%]{color:#10b981}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;margin-bottom:1rem}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:6px;background-color:#e5e7eb;border-radius:3px;overflow:hidden}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease;border-radius:3px}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;display:block;line-height:1.2}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:.75rem;border-top:1px solid #e5e7eb}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-footer[_ngcontent-%COMP%]   .budget-categories-count[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]{display:flex;justify-content:center;border-top:1px solid #e5e7eb}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;display:flex;align-items:center;gap:.5rem;transition:color .2s ease}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover{color:#3b82f6}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid #e5e7eb}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-group .mat-tab-header{border-bottom:1px solid #e5e7eb;margin-bottom:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-group .mat-tab-header .mat-tab-label{color:#6b7280;font-weight:500;min-width:120px}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-group .mat-tab-header .mat-tab-label.mat-tab-label-active{color:#3b82f6}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-group .mat-tab-header .mat-ink-bar{background-color:#3b82f6}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:.5rem 0}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid #f3f4f6}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.875rem;color:#1f2937;font-weight:600;display:flex;align-items:center;gap:.5rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1f2937}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem;margin-bottom:.75rem}@media (max-width: 480px){.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]{grid-template-columns:1fr}}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.spent[_ngcontent-%COMP%], .budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.danger[_ngcontent-%COMP%]{color:#dc2626}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.warning[_ngcontent-%COMP%]{color:#f59e0b}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.safe[_ngcontent-%COMP%]{color:#10b981}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:6px;background-color:#e5e7eb;border-radius:3px;overflow:hidden}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease;border-radius:3px}.no-budget-card[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:12px;padding:1.25rem;border:1px solid #e5e7eb;transition:all .2s ease;border-left:4px solid #f59e0b;margin-bottom:1rem}@media (max-width: 640px){.no-budget-card[_ngcontent-%COMP%]{padding:.5rem;border-radius:10px}}.no-budget-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a;border-color:#d1d5db}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]{display:flex;align-items:center;align-items:flex-start;gap:.75rem}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-icon[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;width:1.5rem;height:1.5rem;background:#f59e0b;border-radius:12px;padding:.5rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]{flex:1}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-title[_ngcontent-%COMP%]{font-size:clamp(.8rem,2.5vw,1.25rem);font-weight:600;color:#1f2937;margin:0 0 .25rem;line-height:1.2}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin:0;line-height:1.2}.add-category-btn[_ngcontent-%COMP%]{position:fixed!important;bottom:8rem;right:1rem;z-index:100;box-shadow:0 4px 12px #00000026;transition:all .2s ease}.add-category-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 16px #0003}  .mat-autocomplete-panel{border-radius:8px;box-shadow:0 4px 12px #00000026;border:1px solid #e5e7eb;max-height:200px}  .mat-autocomplete-panel .mat-option{padding:.75rem 1rem;font-size:.875rem;color:#374151;transition:all .2s ease}  .mat-autocomplete-panel .mat-option:hover{background:#f3f4f6}  .mat-autocomplete-panel .mat-option.mat-selected{background:#dbeafe;color:#1d4ed8}']});let e=n;return e})();var In=ra(_a());var jo=ra(_a());var ws=(()=>{let n=class n{constructor(){this.selectedDateSubject=new ln(null),this.selectedDateRangeSubject=new ln(null),this.categoryFilterSubject=new ln(null),this.searchTermSubject=new ln(""),this.selectedCategorySubject=new ln(["all"]),this.selectedTypeSubject=new ln("all"),this.accountFilterSubject=new ln([]),this.amountRangeSubject=new ln({min:null,max:null}),this.statusFilterSubject=new ln([]),this.tagsSubject=new ln([]),this.filterStateSubject=new ln(this.getDefaultFilterState()),this.filterHistorySubject=new ln([]),this.filterPresetsSubject=new ln([]),this.activePresetSubject=new ln(null),this.selectedDate$=this.selectedDateSubject.asObservable(),this.selectedDateRange$=this.selectedDateRangeSubject.asObservable(),this.categoryFilter$=this.categoryFilterSubject.asObservable(),this.searchTerm$=this.searchTermSubject.asObservable(),this.selectedCategory$=this.selectedCategorySubject.asObservable(),this.selectedType$=this.selectedTypeSubject.asObservable(),this.accountFilter$=this.accountFilterSubject.asObservable(),this.amountRange$=this.amountRangeSubject.asObservable(),this.statusFilter$=this.statusFilterSubject.asObservable(),this.tags$=this.tagsSubject.asObservable(),this.filterState$=this.filterStateSubject.asObservable(),this.filterHistory$=this.filterHistorySubject.asObservable(),this.filterPresets$=this.filterPresetsSubject.asObservable(),this.activePreset$=this.activePresetSubject.asObservable(),this.hasActiveFilters$=this.filterState$.pipe(tt(t=>this.hasActiveFilters(t)),Fc()),this.activeFiltersCount$=this.filterState$.pipe(tt(t=>this.getActiveFiltersCount(t)),Fc()),this.initializePresets(),this.setupFilterStateUpdates()}setSelectedDate(t){this.selectedDateSubject.next(t),this.selectedDateRangeSubject.next(null)}getSelectedDate(){return this.selectedDateSubject.value}setSelectedDateRange(t,i){if(!t||!i){console.warn("Invalid date range provided");return}this.selectedDateRangeSubject.next({startDate:t,endDate:i}),this.selectedDateSubject.next(null)}getSelectedDateRange(){return this.selectedDateRangeSubject.value}setCategoryFilter(t,i,a,o){if(!t||i===void 0||a===void 0||!o){console.warn("Invalid category filter parameters provided");return}let s={categoryId:t,year:i,month:a,monthName:o};this.categoryFilterSubject.next(s)}getCategoryFilter(){return this.categoryFilterSubject.value}setSearchTerm(t){this.searchTermSubject.next(t||"")}getSearchTerm(){return this.searchTermSubject.value}setSelectedCategory(t){if(!Array.isArray(t)||t.length===0){console.warn("Invalid categories array provided");return}this.selectedCategorySubject.next(t)}getSelectedCategory(){return this.selectedCategorySubject.value}setSelectedType(t){this.selectedTypeSubject.next(t||"all")}getSelectedType(){return this.selectedTypeSubject.value}setAccountFilter(t){if(!Array.isArray(t)){console.warn("Invalid accounts array provided");return}this.accountFilterSubject.next(t)}getAccountFilter(){return this.accountFilterSubject.value}setAmountRange(t,i){this.amountRangeSubject.next({min:t,max:i})}getAmountRange(){return this.amountRangeSubject.value}setStatusFilter(t){if(!Array.isArray(t)){console.warn("Invalid statuses array provided");return}this.statusFilterSubject.next(t)}getStatusFilter(){return this.statusFilterSubject.value}setTags(t){if(!Array.isArray(t)){console.warn("Invalid tags array provided");return}this.tagsSubject.next(t)}getTags(){return this.tagsSubject.value}clearSelectedDate(){this.selectedDateSubject.next(null),this.selectedDateRangeSubject.next(null)}clearCategoryFilter(){this.categoryFilterSubject.next(null)}clearSearchTerm(){this.searchTermSubject.next("")}clearSelectedCategory(){this.selectedCategorySubject.next(["all"])}clearSelectedType(){this.selectedTypeSubject.next("all")}clearAccountFilter(){this.accountFilterSubject.next([])}clearAmountRange(){this.amountRangeSubject.next({min:null,max:null})}clearStatusFilter(){this.statusFilterSubject.next([])}clearTags(){this.tagsSubject.next([])}clearAllFilters(){this.clearSelectedDate(),this.clearCategoryFilter(),this.clearSearchTerm(),this.clearSelectedCategory(),this.clearSelectedType(),this.clearAccountFilter(),this.clearAmountRange(),this.clearStatusFilter(),this.clearTags(),this.activePresetSubject.next(null)}setupFilterStateUpdates(){Ic([this.selectedDate$,this.selectedDateRange$,this.categoryFilter$,this.searchTerm$,this.selectedCategory$,this.selectedType$,this.accountFilter$,this.amountRange$,this.statusFilter$,this.tags$]).subscribe(([t,i,a,o,s,m,u,f,g,x])=>{let C={searchTerm:o,selectedCategory:s,selectedType:m,selectedDate:t,selectedDateRange:i,categoryFilter:a,accountFilter:u,amountRange:f,statusFilter:g,tags:x};this.filterStateSubject.next(C),this.addToHistory(C)})}saveAsPreset(t,i){if(!t||!i){console.warn("Preset name and description are required");return}let a=this.getCurrentFilterState(),o={id:this.generatePresetId(),name:t,description:i,filter:a},s=[...this.filterPresetsSubject.value,o];this.filterPresetsSubject.next(s),this.savePresetsToStorage(s)}applyPreset(t){let a=this.filterPresetsSubject.value.find(o=>o.id===t);a?(this.applyFilterState(a.filter),this.activePresetSubject.next(t)):console.warn(`Preset with id ${t} not found`)}deletePreset(t){let i=this.filterPresetsSubject.value.filter(a=>a.id!==t);this.filterPresetsSubject.next(i),this.savePresetsToStorage(i)}addToHistory(t){let i={timestamp:new Date,filter:t,description:this.generateFilterDescription(t)},a=this.filterHistorySubject.value,o=[i,...a.slice(0,9)];this.filterHistorySubject.next(o)}getFilterHistory(){return this.filterHistorySubject.value}clearFilterHistory(){this.filterHistorySubject.next([])}getCurrentFilterState(){return this.filterStateSubject.value}hasActiveFilters(t){let i=t||this.getCurrentFilterState();return!!(i.searchTerm||!i.selectedCategory.includes("all")||i.selectedType!=="all"||i.selectedDate||i.selectedDateRange||i.categoryFilter||i.accountFilter.length>0||i.amountRange.min!==null||i.amountRange.max!==null||i.statusFilter.length>0||i.tags.length>0)}getActiveFiltersCount(t){let i=t||this.getCurrentFilterState(),a=0;return i.searchTerm&&a++,i.selectedCategory.includes("all")||a++,i.selectedType!=="all"&&a++,i.selectedDate&&a++,i.selectedDateRange&&a++,i.categoryFilter&&a++,i.accountFilter.length>0&&a++,(i.amountRange.min!==null||i.amountRange.max!==null)&&a++,i.statusFilter.length>0&&a++,i.tags.length>0&&a++,a}applyFilterState(t){t.searchTerm!==void 0&&this.setSearchTerm(t.searchTerm),t.selectedCategory!==void 0&&this.setSelectedCategory(t.selectedCategory),t.selectedType!==void 0&&this.setSelectedType(t.selectedType),t.selectedDate!==void 0&&this.setSelectedDate(t.selectedDate),t.selectedDateRange!==void 0&&t.selectedDateRange&&this.setSelectedDateRange(t.selectedDateRange.startDate,t.selectedDateRange.endDate),t.categoryFilter!==void 0&&this.categoryFilterSubject.next(t.categoryFilter),t.accountFilter!==void 0&&this.setAccountFilter(t.accountFilter),t.amountRange!==void 0&&this.setAmountRange(t.amountRange.min,t.amountRange.max),t.statusFilter!==void 0&&this.setStatusFilter(t.statusFilter),t.tags!==void 0&&this.setTags(t.tags)}resetToDefaults(){this.applyFilterState(this.getDefaultFilterState())}getDefaultFilterState(){return{searchTerm:"",selectedCategory:["all"],selectedType:"all",selectedDate:null,selectedDateRange:null,categoryFilter:null,accountFilter:[],amountRange:{min:null,max:null},statusFilter:[],tags:[]}}getDefaultPresets(){return[{id:"default-all",name:"All Transactions",description:"Show all transactions without filters",filter:this.getDefaultFilterState(),isDefault:!0},{id:"default-current-month",name:"Current Month",description:"Show transactions from current month",filter:de(oe({},this.getDefaultFilterState()),{selectedDateRange:{startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)}})}]}initializePresets(){let t=this.loadPresetsFromStorage();this.filterPresetsSubject.next(t)}generatePresetId(){return`preset-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}generateFilterDescription(t){let i=[];return t.searchTerm&&i.push(`Search: "${t.searchTerm}"`),t.selectedCategory.includes("all")||i.push(`Category: ${t.selectedCategory.join(", ")}`),t.selectedType!=="all"&&i.push(`Type: ${t.selectedType}`),t.selectedDate&&i.push(`Date: ${t.selectedDate.toLocaleDateString()}`),t.selectedDateRange&&i.push(`Date Range: ${t.selectedDateRange.startDate.toLocaleDateString()} - ${t.selectedDateRange.endDate.toLocaleDateString()}`),t.categoryFilter&&i.push(`Category Filter: ${t.categoryFilter.categoryId} (${t.categoryFilter.monthName} ${t.categoryFilter.year})`),i.length>0?i.join(", "):"No filters applied"}savePresetsToStorage(t){try{localStorage.setItem("money-manager-filter-presets",JSON.stringify(t))}catch(i){console.warn("Failed to save filter presets to localStorage:",i)}}loadPresetsFromStorage(){try{let t=localStorage.getItem("money-manager-filter-presets");return t?JSON.parse(t):this.getDefaultPresets()}catch(t){return console.warn("Failed to load filter presets from localStorage:",t),this.getDefaultPresets()}}filterTransactions(t,i){let a=i||this.getCurrentFilterState(),o=[...t];if(a.searchTerm&&a.searchTerm.trim()){let s=a.searchTerm.toLowerCase().trim();o=o.filter(m=>{var u,f;return((u=m.payee)==null?void 0:u.toLowerCase().includes(s))||((f=m.category)==null?void 0:f.toLowerCase().includes(s))||m.notes&&m.notes.toLowerCase().includes(s)})}if(a.selectedCategory&&!a.selectedCategory.includes("all")&&(o=o.filter(s=>a.selectedCategory.includes(s.categoryId))),a.selectedType&&a.selectedType!=="all"&&(o=o.filter(s=>s.type===a.selectedType)),a.selectedDate){let s=(0,jo.default)(a.selectedDate).startOf("day");o=o.filter(m=>{let u=this.getTransactionDate(m.date);return u?(0,jo.default)(u).startOf("day").isSame(s,"day"):!1})}if(a.selectedDateRange&&a.selectedDateRange.startDate&&a.selectedDateRange.endDate){let s=(0,jo.default)(a.selectedDateRange.startDate).startOf("day"),m=(0,jo.default)(a.selectedDateRange.endDate).endOf("day");o=o.filter(u=>{let f=this.getTransactionDate(u.date);return f?(0,jo.default)(f).isBetween(s,m,"day","[]"):!1})}return a.accountFilter&&a.accountFilter.length>0&&(o=o.filter(s=>a.accountFilter.includes(s.accountId))),a.amountRange&&(a.amountRange.min!==null&&(o=o.filter(s=>s.amount>=(a.amountRange.min||0))),a.amountRange.max!==null&&(o=o.filter(s=>s.amount<=(a.amountRange.max||0)))),a.statusFilter&&a.statusFilter.length>0&&(o=o.filter(s=>a.statusFilter.includes(s.status))),a.tags&&a.tags.length>0&&(o=o.filter(s=>s.tags&&a.tags.some(m=>s.tags.includes(m)))),o}filterTransactionsWithCustomFilters(t,i){let a={searchTerm:i.searchTerm||"",selectedCategory:i.selectedCategory||["all"],selectedType:i.selectedType||"all",selectedDate:i.selectedDate||null,selectedDateRange:i.selectedDateRange||null,categoryFilter:null,accountFilter:i.accountFilter||[],amountRange:i.amountRange||{min:null,max:null},statusFilter:i.statusFilter||[],tags:i.tags||[]};return this.filterTransactions(t,a)}sortTransactions(t,i="date-desc"){let a=[...t];switch(i){case"date-desc":return a.sort((o,s)=>{var f,g;let m=this.getTransactionDate(o.date),u=this.getTransactionDate(s.date);return((f=u==null?void 0:u.getTime())!=null?f:0)-((g=m==null?void 0:m.getTime())!=null?g:0)});case"date-asc":return a.sort((o,s)=>{var f,g;let m=this.getTransactionDate(o.date),u=this.getTransactionDate(s.date);return((f=m==null?void 0:m.getTime())!=null?f:0)-((g=u==null?void 0:u.getTime())!=null?g:0)});case"amount-desc":return a.sort((o,s)=>s.amount-o.amount);case"amount-asc":return a.sort((o,s)=>o.amount-s.amount);case"payee-asc":return a.sort((o,s)=>o.payee.localeCompare(s.payee));case"category-asc":return a.sort((o,s)=>o.category.localeCompare(s.category));default:return a.sort((o,s)=>{var f,g;let m=this.getTransactionDate(o.date),u=this.getTransactionDate(s.date);return((f=u==null?void 0:u.getTime())!=null?f:0)-((g=m==null?void 0:m.getTime())!=null?g:0)})}}filterAndSortTransactions(t,i,a="date-desc"){let o=this.filterTransactions(t,i);return this.sortTransactions(o,a)}getTransactionDate(t){if(!t)return null;if(t&&typeof t=="object"&&"seconds"in t)return new Date(t.seconds*1e3);if(t instanceof Date)return t;if(typeof t=="string"){let i=new Date(t);return isNaN(i.getTime())?null:i}else if(typeof t=="number")return new Date(t);return null}filterCurrentYearTransactions(t,i){let a=(0,jo.default)().year(),o=t.filter(s=>{let m=this.getTransactionDate(s.date);return m?(0,jo.default)(m).year()===a:!1});return this.filterTransactions(o,i)}filterYearTransactions(t,i,a){let o=t.filter(s=>{let m=this.getTransactionDate(s.date);return m?(0,jo.default)(m).year()===i:!1});return this.filterTransactions(o,a)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var HC=new Pn("NGX_ECHARTS_CONFIG"),ng=class{constructor(){this.subject=new Ys(1),this.subscriptions=new cn}doFilter(n){this.subject.next(n)}dispose(){this.subscriptions.unsubscribe()}notEmpty(n,r){this.subscriptions.add(this.subject.subscribe(t=>{if(t[n]){let i=t[n].currentValue;i!=null&&r(i)}}))}has(n,r){this.subscriptions.add(this.subject.subscribe(t=>{if(t[n]){let i=t[n].currentValue;r(i)}}))}notFirst(n,r){this.subscriptions.add(this.subject.subscribe(t=>{if(t[n]&&!t[n].isFirstChange()){let i=t[n].currentValue;r(i)}}))}notFirstAndEmpty(n,r){this.subscriptions.add(this.subject.subscribe(t=>{if(t[n]&&!t[n].isFirstChange()){let i=t[n].currentValue;i!=null&&r(i)}}))}},rp=(()=>{let n=class n{constructor(){var t;this.el=dn(an),this.ngZone=dn(kn),this.config=dn(HC),this.options=Do(null),this.theme=Do((t=this.config.theme)!=null?t:null),this.initOpts=Do(null),this.merge=Do(null),this.autoResize=Do(!0),this.loading=Do(!1),this.loadingType=Do("default"),this.loadingOpts=Do(null),this.chartInit=Nf(),this.optionsError=Nf(),this.chartClick=Zt(this.createLazyEvent("click")),this.chartDblClick=Zt(this.createLazyEvent("dblclick")),this.chartMouseDown=Zt(this.createLazyEvent("mousedown")),this.chartMouseMove=Zt(this.createLazyEvent("mousemove")),this.chartMouseUp=Zt(this.createLazyEvent("mouseup")),this.chartMouseOver=Zt(this.createLazyEvent("mouseover")),this.chartMouseOut=Zt(this.createLazyEvent("mouseout")),this.chartGlobalOut=Zt(this.createLazyEvent("globalout")),this.chartContextMenu=Zt(this.createLazyEvent("contextmenu")),this.chartHighlight=Zt(this.createLazyEvent("highlight")),this.chartDownplay=Zt(this.createLazyEvent("downplay")),this.chartSelectChanged=Zt(this.createLazyEvent("selectchanged")),this.chartLegendSelectChanged=Zt(this.createLazyEvent("legendselectchanged")),this.chartLegendSelected=Zt(this.createLazyEvent("legendselected")),this.chartLegendUnselected=Zt(this.createLazyEvent("legendunselected")),this.chartLegendLegendSelectAll=Zt(this.createLazyEvent("legendselectall")),this.chartLegendLegendInverseSelect=Zt(this.createLazyEvent("legendinverseselect")),this.chartLegendScroll=Zt(this.createLazyEvent("legendscroll")),this.chartDataZoom=Zt(this.createLazyEvent("datazoom")),this.chartDataRangeSelected=Zt(this.createLazyEvent("datarangeselected")),this.chartGraphRoam=Zt(this.createLazyEvent("graphroam")),this.chartGeoRoam=Zt(this.createLazyEvent("georoam")),this.chartTreeRoam=Zt(this.createLazyEvent("treeroam")),this.chartTimelineChanged=Zt(this.createLazyEvent("timelinechanged")),this.chartTimelinePlayChanged=Zt(this.createLazyEvent("timelineplaychanged")),this.chartRestore=Zt(this.createLazyEvent("restore")),this.chartDataViewChanged=Zt(this.createLazyEvent("dataviewchanged")),this.chartMagicTypeChanged=Zt(this.createLazyEvent("magictypechanged")),this.chartGeoSelectChanged=Zt(this.createLazyEvent("geoselectchanged")),this.chartGeoSelected=Zt(this.createLazyEvent("geoselected")),this.chartGeoUnselected=Zt(this.createLazyEvent("geounselected")),this.chartAxisAreaSelected=Zt(this.createLazyEvent("axisareaselected")),this.chartBrush=Zt(this.createLazyEvent("brush")),this.chartBrushEnd=Zt(this.createLazyEvent("brushend")),this.chartBrushSelected=Zt(this.createLazyEvent("brushselected")),this.chartGlobalCursorTaken=Zt(this.createLazyEvent("globalcursortaken")),this.chartRendered=Zt(this.createLazyEvent("rendered")),this.chartFinished=Zt(this.createLazyEvent("finished")),this.animationFrameID=null,this.chart$=new Ys(1),this.resize$=new _t,this.changeFilter=new ng,this.resizeObFired=!1,this.echarts=this.config.echarts}ngOnChanges(t){this.changeFilter.doFilter(t)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(Sx(100,hx,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize()&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(t=>{for(let i of t)i.target===this.el.nativeElement&&(this.resizeObFired?this.animationFrameID=window.requestAnimationFrame(()=>{this.resize$.next()}):this.resizeObFired=!0)})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",t=>this.onOptionsChange(t)),this.changeFilter.notFirstAndEmpty("merge",t=>this.setOption(t)),this.changeFilter.has("loading",t=>this.toggleLoading(!!t)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(t){this.chart?t?this.chart.showLoading(this.loadingType(),this.loadingOpts()):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(i=>t?i.showLoading(this.loadingType(),this.loadingOpts()):i.hideLoading())}setOption(t,i){if(this.chart)try{this.chart.setOption(t,i)}catch(a){console.error(a),this.optionsError.emit(a)}}refreshChart(){return me(this,null,function*(){this.dispose(),yield this.initChart()})}createChart(){let t=this.el.nativeElement;if(window&&window.getComputedStyle){let i=window.getComputedStyle(t,null).getPropertyValue("height");(!i||i==="0px")&&(!t.style.height||t.style.height==="0px")&&(t.style.height="400px")}return this.ngZone.runOutsideAngular(()=>(typeof this.echarts=="function"?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:a})=>{var o,s;return a(t,(s=this.theme())!=null?s:(o=this.config)==null?void 0:o.theme,this.initOpts())}))}initChart(){return me(this,null,function*(){yield this.onOptionsChange(this.options());let t=this.merge();t&&this.chart&&this.setOption(t)})}onOptionsChange(t){return me(this,null,function*(){t&&(this.chart?this.setOption(this.options(),!0):(this.chart=yield this.createChart(),this.chart$.next(this.chart),this.chartInit.emit(this.chart),this.setOption(this.options(),!0)))})}createLazyEvent(t){return Xx(this.chartInit).pipe(oa(i=>new rn(a=>(i.on(t,o=>this.ngZone.run(()=>a.next(o))),()=>{this.chart&&(this.chart.isDisposed()||i.off(t))}))))}};n.\u0275fac=function(i){return new(i||n)},n.\u0275dir=At({type:n,selectors:[["echarts"],["","echarts",""]],inputs:{options:[1,"options"],theme:[1,"theme"],initOpts:[1,"initOpts"],merge:[1,"merge"],autoResize:[1,"autoResize"],loading:[1,"loading"],loadingType:[1,"loadingType"],loadingOpts:[1,"loadingOpts"]},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],standalone:!0,features:[Xn]});let e=n;return e})();function tI(e){return{provide:HC,useValue:e}}var $C=(()=>{let n=class n{static forRoot(t){return{ngModule:n,providers:[tI(t)]}}static forChild(){return{ngModule:n}}};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({});let e=n;return e})();var Ud=ra(_a());var qC=(()=>{let n=class n{constructor(t,i,a,o){this.auth=t,this.notificationService=i,this.currencyService=a,this.store=o,this.totalSpendAmt=0,this.totalIncomeAmt=0,this.showYearly=!1,this.userCurrency=this.currencyService.getDefaultCurrency(),this.subscriptions=new cn,this.totalIncome$=this.store.select(Ih),this.totalIncomeByMonth$=this.store.select(dC((0,Ud.default)().month(),(0,Ud.default)().year())),this.totalExpenses$=this.store.select(Ah),this.totalExpensesByMonth$=this.store.select(uC((0,Ud.default)().month(),(0,Ud.default)().year())),this.netBalance$=this.store.select(pC)}ngOnInit(){var i;this.subscriptions.add(this.currencyService.currentCurrency$.subscribe(a=>{this.userCurrency=a}));let t=(i=this.auth.currentUser)==null?void 0:i.uid;t&&this.store.dispatch(Gi({userId:t})),this.subscriptions.add(this.totalIncome$.subscribe(a=>{this.totalIncomeAmt=a})),this.subscriptions.add(this.totalExpenses$.subscribe(a=>{this.totalSpendAmt=a}))}ngOnDestroy(){this.subscriptions.unsubscribe()}toggleExpenseIncome(){this.showYearly=!this.showYearly}};n.\u0275fac=function(i){return new(i||n)(T(kt),T(vt),T(tu),T(Ft))},n.\u0275cmp=Se({type:n,selectors:[["total-balance"]],decls:17,vars:18,consts:[[1,"text-center","mb-2","pt-5","md:pt-0","mt-2"],[1,"grid","grid-cols-1","gap-4"],[1,"text-center",3,"click"],[1,"text-lg","text-muted","text-gray-500"],[1,"text-responsive-lg","mt-1","font-bold","text-primary"],[1,"text-gray-500"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2),F("click",function(){return a.toggleExpenseIncome()}),c(3,"div",3),d(4,"You Expense | Income"),l(),c(5,"div",4),d(6),_e(7,"async"),_e(8,"currency"),_e(9,"async"),_e(10,"currency"),c(11,"span",5),d(12),_e(13,"async"),_e(14,"currency"),_e(15,"async"),_e(16,"currency"),l()()()()()),i&2&&(h(6),ae(" ",a.showYearly?Ne(8,4,Ne(7,2,a.totalExpenses$)):Ne(10,8,Ne(9,6,a.totalExpensesByMonth$))," \xA0 | \xA0 "),h(6),G(a.showYearly?Ne(14,12,Ne(13,10,a.totalIncome$)):Ne(16,16,Ne(15,14,a.totalIncomeByMonth$))))},dependencies:[Bc,Ur]});let e=n;return e})();var iI=["calendar"],rI=(e,n)=>n.value;function aI(e,n){e&1&&(c(0,"div",19),se(1,"total-balance",20),l())}function oI(e,n){if(e&1){let r=ue();c(0,"button",21),F("click",function(){N(r);let i=w();return L(i.clearAll())}),c(1,"mat-icon"),d(2,"clear"),l()()}}function sI(e,n){if(e&1){let r=ue();c(0,"button",22),F("click",function(){N(r);let i=w();return L(i.toggleControls())}),c(1,"mat-icon"),d(2,"expand_more"),l()()}if(e&2){let r=w();Fe("rotated",r.isControlsExpanded),la("matTooltip",r.isControlsExpanded?"Hide controls":"Show controls")}}function cI(e,n){if(e&1){let r=ue();c(0,"div",23)(1,"button",12),F("click",function(){N(r);let i=w();return L(i.toggleChartViewMode())}),c(2,"mat-icon"),d(3,"category"),l(),d(4," Category View "),l(),c(5,"button",12),F("click",function(){N(r);let i=w();return L(i.toggleChartViewMode())}),c(6,"mat-icon"),d(7,"compare_arrows"),l(),d(8," Income vs Expense "),l()()}if(e&2){let r=w();h(),M("color",r.chartViewMode==="category"?"primary":"basic"),h(4),M("color",r.chartViewMode==="income-expense"?"primary":"basic")}}function lI(e,n){if(e&1&&(c(0,"mat-option",28),d(1),l()),e&2){let r=n.$implicit;M("value",r),h(),ae(" ",r," ")}}function dI(e,n){if(e&1&&(c(0,"mat-option",28),d(1),l()),e&2){let r=n.$implicit;M("value",r.value),h(),ae(" ",r.label," ")}}function mI(e,n){if(e&1){let r=ue();c(0,"div",24)(1,"div",25)(2,"mat-form-field",26)(3,"mat-label"),d(4,"Year"),l(),c(5,"mat-select",27),pt("valueChange",function(i){N(r);let a=w();return ut(a.selectedYear,i)||(a.selectedYear=i),L(i)}),F("selectionChange",function(i){N(r);let a=w();return L(a.onYearChange(i.value))}),Ge(6,lI,2,2,"mat-option",28,Ti),l()(),c(8,"mat-form-field",29)(9,"mat-label"),d(10,"Month"),l(),c(11,"mat-select",27),pt("valueChange",function(i){N(r);let a=w();return ut(a.selectedMonth,i)||(a.selectedMonth=i),L(i)}),F("selectionChange",function(i){N(r);let a=w();return L(a.onMonthChange(i.value))}),Ge(12,dI,2,2,"mat-option",28,rI),l()()()()}if(e&2){let r=w();h(5),mt("value",r.selectedYear),h(),qe(r.availableYears),h(5),mt("value",r.selectedMonth),h(),qe(r.availableMonths)}}function uI(e,n){if(e&1){let r=ue();c(0,"div",30)(1,"button",31),F("click",function(){N(r);let i=w();return L(i.goToPreviousMonth())}),c(2,"mat-icon"),d(3,"chevron_left"),l()(),c(4,"button",32),F("click",function(){N(r);let i=w();return L(i.goToToday())}),c(5,"mat-icon"),d(6,"today"),l(),d(7," Today "),l(),c(8,"button",33),F("click",function(){N(r);let i=w();return L(i.goToNextMonth())}),c(9,"mat-icon"),d(10,"chevron_right"),l()()()}}function pI(e,n){if(e&1){let r=ue();c(0,"div",34)(1,"div",35)(2,"div",36),F("chartClick",function(i){N(r);let a=w();return L(a.onChartClick(i))}),l()()()}if(e&2){let r=w();h(2),M("options",r.pieChartOption)}}function fI(e,n){if(e&1&&(c(0,"span",47),d(1),_e(2,"date"),l()),e&2){let r=w(2);h(),ae(" ",Rt(2,1,r.startDate,"MMM dd, yyyy")," ")}}function hI(e,n){e&1&&(c(0,"span",48),d(1,"Not selected"),l())}function gI(e,n){if(e&1&&(c(0,"span",49),d(1),_e(2,"date"),l()),e&2){let r=w(2);h(),ae(" ",Rt(2,1,r.endDate,"MMM dd, yyyy")," ")}}function _I(e,n){e&1&&(c(0,"span",48),d(1,"Not selected"),l())}function xI(e,n){if(e&1&&(c(0,"div",50)(1,"div",51)(2,"div",52)(3,"div",53),d(4,"Income"),l(),c(5,"div",54),d(6),_e(7,"number"),l()(),c(8,"div",52)(9,"div",53),d(10,"Expenses"),l(),c(11,"div",55),d(12),_e(13,"number"),l()(),c(14,"div",52)(15,"div",53),d(16,"Net"),l(),c(17,"div",56),d(18),_e(19,"number"),l()()(),c(20,"div",57),d(21),l()()),e&2){let r=w(2);h(6),ae("\u20B9",Rt(7,7,r.getRangeTotalIncome(),"1.2-2"),""),h(6),ae("\u20B9",Rt(13,10,r.getRangeTotalExpenses(),"1.2-2"),""),h(5),M("ngClass",r.getRangeNetAmount()>=0?"positive":"negative"),h(),ae(" \u20B9",Rt(19,13,r.getRangeNetAmount(),"1.2-2")," "),h(3),nm(" ",r.rangeTransactions.length," transactions in ",r.getDaysInRange()," day",r.getDaysInRange()!==1?"s":""," ")}}function vI(e,n){if(e&1&&(c(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"span",41),d(5,"Start:"),l(),U(6,fI,3,4,"span",42)(7,hI,2,0,"span",43),l(),c(8,"mat-icon",44),d(9,"arrow_forward"),l(),c(10,"div",40)(11,"span",41),d(12,"End:"),l(),U(13,gI,3,4,"span",45)(14,_I,2,0,"span",43),l()(),U(15,xI,22,16,"div",46),l()()),e&2){let r=w();h(6),M("ngIf",r.startDate),h(),M("ngIf",!r.startDate),h(6),M("ngIf",r.endDate),h(),M("ngIf",!r.endDate),h(),M("ngIf",r.startDate&&r.endDate)}}function bI(e,n){if(e&1&&(c(0,"div",37)(1,"div",58)(2,"div",59)(3,"mat-icon",60),d(4,"event"),l(),c(5,"span",61),d(6),_e(7,"date"),l()(),c(8,"div",62)(9,"div",51)(10,"div",52)(11,"div",53),d(12,"Income"),l(),c(13,"div",54),d(14),_e(15,"number"),l()(),c(16,"div",52)(17,"div",53),d(18,"Expenses"),l(),c(19,"div",55),d(20),_e(21,"number"),l()(),c(22,"div",52)(23,"div",53),d(24,"Net"),l(),c(25,"div",56),d(26),_e(27,"number"),l()()(),c(28,"div",57),d(29),l()()()()),e&2){let r=w();h(6),G(Rt(7,6,r.selectedDate,"fullDate")),h(8),ae("\u20B9",Rt(15,9,r.getTotalIncome(),"1.2-2"),""),h(6),ae("\u20B9",Rt(21,12,r.getTotalExpenses(),"1.2-2"),""),h(5),M("ngClass",r.getNetAmount()>=0?"positive":"negative"),h(),ae(" \u20B9",Rt(27,15,r.getNetAmount(),"1.2-2")," "),h(3),ae(" ",r.selectedDateTransactions.length," transactions ")}}function CI(e,n){if(e&1){let r=ue();c(0,"div",63)(1,"mat-calendar",64,0),F("selectedChange",function(i){N(r);let a=w();return L(a.onDateSelected(i))}),l()()}if(e&2){let r=w();h(),M("dateClass",r.dateClass)("selected",r.selectedDate)}}var XC=(()=>{let n=class n{constructor(t,i,a,o,s,m){this.breakpointObserver=t,this.userService=i,this.filterService=a,this.notificationService=o,this.dateService=s,this.store=m,this.isMobile=!1,this.transactions=[],this.categories=[],this.selectedDate=null,this.selectedDateTransactions=[],this.isRangeMode=!1,this.startDate=null,this.endDate=null,this.rangeTransactions=[],this.isControlsExpanded=!1,this.pieChartOption={},this.showPieChart=!1,this.showCalendar=!0,this.chartViewMode="category",this.currentViewDate=new Date,this.selectedYear=new Date().getFullYear(),this.selectedMonth=new Date().getMonth(),this.availableYears=[],this.availableMonths=[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}],this.subscription=new cn,this.dateClass=(u,f)=>{if(f==="month"){let g=(0,In.default)(u).startOf("day"),x="",C=this.transactions.some(v=>(0,In.default)(this.dateService.toDate(v.date)).startOf("day").isSame(g,"day")&&v.type===qn.INCOME);if(this.transactions.some(v=>(0,In.default)(this.dateService.toDate(v.date)).startOf("day").isSame(g,"day"))&&(C?x+="has-transactions has-income ":x+="has-transactions has-expense "),this.isRangeMode){if(this.startDate&&(0,In.default)(this.startDate).startOf("day").isSame(g,"day")&&(x+="range-start "),this.endDate&&(0,In.default)(this.endDate).startOf("day").isSame(g,"day")&&(x+="range-end "),this.startDate&&this.endDate){let v=(0,In.default)(this.startDate).startOf("day"),P=(0,In.default)(this.endDate).endOf("day");g.isBetween(v,P,"day","[]")&&(x+="range-in-between ")}}else this.selectedDate&&(0,In.default)(this.selectedDate).startOf("day").isSame(g,"day")&&(x+="selected-date ");return x.trim()}return""},this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(u=>{this.isMobile=u.matches})}ngOnInit(){this.loadTransactions(),this.loadCategories(),this.initializePieChart(),this.generateAvailableYears()}ngOnDestroy(){this.subscription.unsubscribe()}loadTransactions(){this.subscription.add(this.store.select(Ji).subscribe({next:t=>{this.transactions=t,this.updatePieChart(),this.updateCalendar()},error:t=>{console.error("Error loading transactions:",t),this.notificationService.error("Failed to load calendar data")}}))}loadCategories(){this.subscription.add(this.store.select(zi).subscribe({next:t=>{this.categories=t,this.updatePieChart()},error:t=>{console.error("Error loading categories:",t)}}))}generateAvailableYears(){let t=new Date().getFullYear();this.availableYears=[];for(let i=t-5;i<=t+1;i++)this.availableYears.push(i)}initializePieChart(){this.pieChartOption={title:{text:"Category-wise Spending",left:"center",textStyle:{fontSize:14,fontWeight:"bold"}},tooltip:{trigger:"item",formatter:"{b}<br> \u20B9{c} ({d}%)"},legend:{orient:"horizontal",left:"center",bottom:"10%",type:"scroll"},series:[{name:"Categories",type:"pie",radius:"50%",data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}updatePieChart(){this.chartViewMode==="category"?this.updateCategoryChart():this.updateIncomeExpenseChart()}updateCategoryChart(){let t=this.getFilteredTransactions(),i=this.getCategorySpendingData(t),a=t.reduce((o,s)=>o+s.amount,0);this.pieChartOption=de(oe({},this.pieChartOption),{title:{text:`${this.availableMonths[this.selectedMonth].label} ${this.selectedYear} - \u20B9${a.toLocaleString()}`,left:"center",textStyle:{fontSize:14,fontWeight:"bold"}},series:[{name:"Categories",type:"pie",radius:"50%",label:{show:!0,position:"outside",formatter:"{b} ({d}%)"},data:i,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}onChartClick(t){this.chartViewMode==="category"&&t.data&&!this.isMobile&&this.applyCategoryFilter(t.data.categoryId||t.data.name)}applyCategoryFilter(t){let i=this.categories.find(o=>o.id===t),a=i?i.name:t;this.filterService.setCategoryFilter(t,this.selectedYear,this.selectedMonth,this.availableMonths[this.selectedMonth].label),this.notificationService.success(`Filtering transactions for ${a} in ${this.availableMonths[this.selectedMonth].label} ${this.selectedYear}`)}updateIncomeExpenseChart(){let t=0,i=0;this.isRangeMode&&this.startDate&&this.endDate?(t=this.getRangeTotalIncome(),i=this.getRangeTotalExpenses()):this.selectedDate&&(t=this.getTotalIncome(),i=this.getTotalExpenses()),this.pieChartOption=de(oe({},this.pieChartOption),{title:{text:"Income vs Expenses",left:"center",textStyle:{fontSize:14,fontWeight:"bold"}},series:[{name:"Transactions",type:"pie",radius:"50%",data:[{value:t,name:"Income",itemStyle:{color:"#10b981"}},{value:i,name:"Expenses",itemStyle:{color:"#ef4444"}}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}getFilteredTransactions(){let t=(0,In.default)([this.selectedYear,this.selectedMonth,1]),i=(0,In.default)(t).endOf("month");return this.transactions.filter(a=>(0,In.default)(this.dateService.toDate(a.date)).isBetween(t,i,"day","[]")&&a.type==="expense")}getCategorySpendingData(t){let i=new Map;t.forEach(o=>{let s=o.categoryId,m=this.categories.find(f=>f.id===s),u=m?m.name:"";if(u&&s)if(i.has(s)){let f=i.get(s);f.amount+=o.amount}else i.set(s,{name:u,id:s,amount:o.amount})});let a=["#5B8DEF","#A0C4FF","#B8B8FF","#CDB4DB","#FFAFCC","#FFC8DD","#FDCB82","#90DBF4","#ADE8F4","#CAF0F8","#A2D2FF","#D0F4DE"];return Array.from(i.values()).map((o,s)=>({name:o.name,categoryId:o.id,value:o.amount,itemStyle:{color:a[s%a.length]}}))}togglePieChart(){this.showPieChart=!this.showPieChart,this.showCalendar=!this.showCalendar,this.showPieChart&&this.updatePieChart()}toggleCalendar(){this.showCalendar=!this.showCalendar,this.showPieChart=!this.showCalendar}toggleChartViewMode(){this.chartViewMode=this.chartViewMode==="category"?"income-expense":"category",this.updatePieChart()}onYearChange(t){this.selectedYear=t,this.updatePieChart()}onMonthChange(t){this.selectedMonth=t,this.updatePieChart()}goToPreviousMonth(){this.currentViewDate=(0,In.default)(this.currentViewDate).subtract(1,"month").toDate()}goToNextMonth(){this.currentViewDate=(0,In.default)(this.currentViewDate).add(1,"month").toDate()}goToToday(){this.currentViewDate=new Date}onDateSelected(t){this.isRangeMode?this.handleRangeSelection(t):this.handleSingleDateSelection(t),this.updatePieChart()}handleSingleDateSelection(t){this.selectedDate=t,t?(this.selectedDateTransactions=this.getTransactionsForDate(t),this.filterService.setSelectedDate(t)):(this.selectedDateTransactions=[],this.filterService.clearSelectedDate())}handleRangeSelection(t){t&&(!this.startDate||this.startDate&&this.endDate?(this.startDate=t,this.endDate=null,this.rangeTransactions=[]):(t>=this.startDate?this.endDate=t:(this.endDate=this.startDate,this.startDate=t),this.rangeTransactions=this.getTransactionsForDateRange(this.startDate,this.endDate),this.filterService.setSelectedDateRange(this.startDate,this.endDate)))}getTransactionsForDate(t){let i=(0,In.default)(t).startOf("day");return this.transactions.filter(a=>(0,In.default)(this.dateService.toDate(a.date)).startOf("day").isSame(i,"day"))}getTransactionsForDateRange(t,i){let a=(0,In.default)(t).startOf("day"),o=(0,In.default)(i).endOf("day");return this.transactions.filter(s=>(0,In.default)(this.dateService.toDate(s.date)).isBetween(a,o,"day","[]"))}formatDate(t){return(0,In.default)(t).format("YYYY-MM-DD")}getTotalIncome(){return this.selectedDateTransactions.filter(t=>t.type===qn.INCOME).reduce((t,i)=>t+i.amount,0)}getTotalExpenses(){return this.selectedDateTransactions.filter(t=>t.type==="expense").reduce((t,i)=>t+i.amount,0)}getNetAmount(){return this.getTotalIncome()-this.getTotalExpenses()}toggleRangeMode(){this.isRangeMode=!this.isRangeMode,this.clearSelections()}toggleControls(){this.isControlsExpanded=!this.isControlsExpanded}hasSelection(){return this.isRangeMode?this.startDate!==null||this.endDate!==null:this.selectedDate!==null}clearSelections(){this.selectedDate=null,this.selectedDateTransactions=[],this.startDate=null,this.endDate=null,this.rangeTransactions=[],this.filterService.clearSelectedDate(),this.updatePieChart()}getRangeTotalIncome(){return this.rangeTransactions.filter(t=>t.type===qn.INCOME).reduce((t,i)=>t+i.amount,0)}getRangeTotalExpenses(){return this.rangeTransactions.filter(t=>t.type==="expense").reduce((t,i)=>t+i.amount,0)}getRangeNetAmount(){return this.getRangeTotalIncome()-this.getRangeTotalExpenses()}getFormattedDateRange(){if(!this.startDate||!this.endDate)return"";let t=(0,In.default)(this.startDate),i=(0,In.default)(this.endDate);return t.isSame(i,"day")?t.format("MMM DD, YYYY"):t.isSame(i,"year")?`${t.format("MMM DD")} - ${i.format("MMM DD, YYYY")}`:`${t.format("MMM DD, YYYY")} - ${i.format("MMM DD, YYYY")}`}getDaysInRange(){if(!this.startDate||!this.endDate)return 0;let t=(0,In.default)(this.startDate);return(0,In.default)(this.endDate).diff(t,"days")+1}isToday(t){return(0,In.default)(t).isSame((0,In.default)(),"day")}isPastDate(t){return(0,In.default)(t).isBefore((0,In.default)(),"day")}isFutureDate(t){return(0,In.default)(t).isAfter((0,In.default)(),"day")}clearAll(){this.clearSelections(),this.isControlsExpanded=this.isRangeMode=!1,this.filterService.clearSelectedDate()}updateCalendar(){this.calendar&&this.calendar.updateTodaysDate()}};n.\u0275fac=function(i){return new(i||n)(T(or),T(Bi),T(ws),T(vt),T(Xt),T(Ft))},n.\u0275cmp=Se({type:n,selectors:[["calendar-view"]],viewQuery:function(i,a){if(i&1&&Qt(iI,5),i&2){let o;ft(o=ht())&&(a.calendar=o.first)}},decls:35,vars:18,consts:[["calendar",""],[1,"demo-inline-calendar-card"],["class","m-4 flex justify-around",4,"ngIf"],[1,"calendar-header"],[1,"header-main"],[1,"header-title","sm:text-sm","text-xs"],[1,"header-actions"],["mat-icon-button","","color","warn","matTooltip","Clear selection",3,"click",4,"ngIf"],["mat-icon-button","",3,"click","color","matTooltip"],["mat-icon-button","",3,"rotated","matTooltip","click",4,"ngIf"],[1,"controls-section"],[1,"mode-toggle"],["mat-raised-button","",3,"click","color"],["class","chart-mode-toggle",4,"ngIf"],["class","date-filters",4,"ngIf"],["class","calendar-navigation",4,"ngIf"],["class","pie-chart-section",4,"ngIf"],["class","status-section",4,"ngIf"],["class","calendar-container",4,"ngIf"],[1,"m-4","flex","justify-around"],[1,"md:col-span-2","lg:col-span-7"],["mat-icon-button","","color","warn","matTooltip","Clear selection",3,"click"],["mat-icon-button","",3,"click","matTooltip"],[1,"chart-mode-toggle"],[1,"date-filters"],[1,"filter-row"],["appearance","fill",1,"year-select"],[3,"valueChange","selectionChange","value"],[3,"value"],["appearance","fill",1,"month-select"],[1,"calendar-navigation"],["mat-icon-button","","matTooltip","Previous month",3,"click"],["mat-raised-button","","color","primary","matTooltip","Go to today",3,"click"],["mat-icon-button","","matTooltip","Next month",3,"click"],[1,"pie-chart-section"],[1,"chart-container"],["echarts","",1,"pie-chart",3,"chartClick","options"],[1,"status-section"],[1,"range-status"],[1,"date-range-display"],[1,"date-item"],[1,"date-label"],["class","date-value start-date",4,"ngIf"],["class","date-placeholder",4,"ngIf"],[1,"arrow-icon"],["class","date-value end-date",4,"ngIf"],["class","range-summary",4,"ngIf"],[1,"date-value","start-date"],[1,"date-placeholder"],[1,"date-value","end-date"],[1,"range-summary"],[1,"summary-grid"],[1,"summary-item"],[1,"summary-label"],[1,"summary-amount","income"],[1,"summary-amount","expense"],[1,"summary-amount",3,"ngClass"],[1,"transaction-count"],[1,"single-date-status"],[1,"selected-date-display"],[1,"date-icon"],[1,"selected-date-text"],[1,"date-summary"],[1,"calendar-container"],[3,"selectedChange","dateClass","selected"]],template:function(i,a){i&1&&(c(0,"mat-card",1),U(1,aI,2,0,"div",2),c(2,"div",3)(3,"div",4)(4,"div",5)(5,"mat-icon"),d(6,"calendar_today"),l(),c(7,"span"),d(8,"Calendar"),l()(),c(9,"div",6),U(10,oI,3,0,"button",7),c(11,"button",8),F("click",function(){return a.togglePieChart()}),c(12,"mat-icon"),d(13,"pie_chart"),l()(),c(14,"button",8),F("click",function(){return a.toggleCalendar()}),c(15,"mat-icon"),d(16,"calendar_month"),l()(),U(17,sI,3,3,"button",9),l()(),c(18,"div",10)(19,"div",11)(20,"button",12),F("click",function(){return a.toggleRangeMode()}),c(21,"mat-icon"),d(22,"event"),l(),d(23," Single Date "),l(),c(24,"button",12),F("click",function(){return a.toggleRangeMode()}),c(25,"mat-icon"),d(26,"date_range"),l(),d(27," Date Range "),l()(),U(28,cI,9,2,"div",13)(29,mI,14,2,"div",14)(30,uI,11,0,"div",15),l()(),U(31,pI,3,1,"div",16)(32,vI,16,5,"div",17)(33,bI,30,18,"div",17)(34,CI,3,2,"div",18),l()),i&2&&(h(),M("ngIf",!a.isRangeMode&&!a.selectedDate),h(9),M("ngIf",a.hasSelection()),h(),la("matTooltip",a.showPieChart?"Hide chart":"Show chart"),M("color",a.showPieChart?"primary":"basic"),h(3),la("matTooltip",a.showCalendar&&!a.showPieChart?"Hide calendar":"Show calendar"),M("color",a.showCalendar&&!a.showPieChart?"primary":"basic"),h(3),M("ngIf",!a.isMobile),h(),Fe("expanded",a.isControlsExpanded),h(2),M("color",a.isRangeMode?"basic":"primary"),h(4),M("color",a.isRangeMode?"primary":"basic"),h(4),M("ngIf",a.showPieChart),h(),M("ngIf",a.showPieChart&&a.chartViewMode==="category"),h(),M("ngIf",a.showCalendar),h(),M("ngIf",a.showPieChart),h(),M("ngIf",a.isRangeMode&&a.showCalendar),h(),M("ngIf",!a.isRangeMode&&a.selectedDate&&a.showCalendar),h(),M("ngIf",a.showCalendar&&!a.showPieChart))},dependencies:[Kr,dt,gs,Nt,mn,lt,Bd,Or,Ia,cr,Xi,En,rp,qC,Vc,Ci],styles:[".demo-inline-calendar-card[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto;overflow:hidden}.calendar-header[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;color:#374151}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.25rem}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:transform .2s ease}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button.rotated[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .3s ease,padding .3s ease;padding:0 1rem}.calendar-header[_ngcontent-%COMP%]   .controls-section.expanded[_ngcontent-%COMP%]{max-height:400px;padding:1rem;background-color:#f0f8ff}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .mode-toggle[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;margin-bottom:1rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;max-width:150px}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .chart-mode-toggle[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;margin-bottom:1rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .chart-mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;max-width:150px;font-size:.75rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .chart-mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;margin-right:.25rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]{margin-bottom:1rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%], .calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]{flex:1;max-width:120px}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]     .mat-mdc-form-field, .calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]     .mat-mdc-form-field{font-size:.875rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]     .mat-mdc-select, .calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]     .mat-mdc-select{font-size:.875rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .calendar-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .calendar-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .2s ease}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .calendar-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.pie-chart-section[_ngcontent-%COMP%]{padding:1rem 0;border-bottom:1px solid #f3f4f6;background:#f4f3f6}.pie-chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.pie-chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]{width:100%;height:450px;max-width:450px;cursor:pointer}@media (max-width: 480px){.pie-chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]{width:100%;height:350px;max-width:350px}}.status-section[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #f3f4f6}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%]{font-weight:600}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.start-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.start-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.start-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.start-date[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(70 119 127 / var(--tw-text-opacity))}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.end-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.end-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.end-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.end-date[_ngcontent-%COMP%]{color:#10b981}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-placeholder[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-placeholder[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-placeholder[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-placeholder[_ngcontent-%COMP%]{color:#9ca3af;font-style:italic}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:1rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%]{color:#10b981}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .selected-date-text[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .selected-date-text[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .selected-date-text[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .selected-date-text[_ngcontent-%COMP%]{font-weight:600;color:#374151}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]{background:#f8fafc;border-radius:8px;padding:1rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:.5rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{text-align:center}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin-bottom:.25rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.income[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.income[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.income[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.income[_ngcontent-%COMP%]{color:#10b981}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.expense[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.expense[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.expense[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.expense[_ngcontent-%COMP%]{color:#ef4444}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.positive[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.positive[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.positive[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.positive[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(70 119 127 / var(--tw-text-opacity))}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.negative[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.negative[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.negative[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.negative[_ngcontent-%COMP%]{color:#f59e0b}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]{text-align:center;font-size:.75rem;color:#6b7280}.calendar-container[_ngcontent-%COMP%]{padding:1rem}  .mat-calendar-body-cell.has-transactions.has-income .mat-calendar-body-cell-content{background-color:#a6eeb3!important}  .mat-calendar-body-cell.has-transactions.has-expense{color:#fff!important;font-weight:700;border-radius:50%}  .mat-calendar-body-cell.has-transactions.has-expense .mat-calendar-body-cell-content{background-color:#c8dbdf!important}  .mat-calendar-body-cell.has-transactions:hover .mat-calendar-body-cell-content{--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity))}  .mat-calendar-body-cell.mat-calendar-body-active .mat-calendar-body-cell-content{--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));color:#fff!important}  .mat-calendar-body-cell.range-start .mat-calendar-body-cell-content{background-color:#059669!important;color:#fff!important;font-weight:700}  .mat-calendar-body-cell.range-end .mat-calendar-body-cell-content{background-color:#dc2626!important;color:#fff!important;font-weight:700}  .mat-calendar-body-cell.range-in-between .mat-calendar-body-cell-content{background-color:#fbbf24!important;color:#1f2937!important;font-weight:500}  .mat-calendar-body-cell.selected-date .mat-calendar-body-cell-content{background-color:#7c3aed!important;color:#fff!important;font-weight:700}.transaction-summary[_ngcontent-%COMP%]   .income-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dcfce7,#bbf7d0)}.transaction-summary[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fee2e2,#fecaca)}.transaction-summary[_ngcontent-%COMP%]   .net-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe)}.transaction-item[_ngcontent-%COMP%]{transition:all .2s ease}.transaction-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a}@media (max-width: 768px){.demo-inline-calendar-card[_ngcontent-%COMP%]{max-width:100%}.transaction-summary[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}"]});let e=n;return e})();var MI=[[["caption"]],[["colgroup"],["col"]],"*"],SI=["caption","colgroup, col","*"];function PI(e,n){e&1&&$n(0,2)}function kI(e,n){e&1&&(c(0,"thead",0),Xr(1,1),l(),c(2,"tbody",0),Xr(3,2)(4,3),l(),c(5,"tfoot",0),Xr(6,4),l())}function OI(e,n){e&1&&Xr(0,1)(1,2)(2,3)(3,4)}var Ja=new Pn("CDK_TABLE");var dp=(()=>{let n=class n{constructor(t){this.template=t}};n.\u0275fac=function(i){return new(i||n)(T(_r))},n.\u0275dir=At({type:n,selectors:[["","cdkCellDef",""]],standalone:!0});let e=n;return e})(),mp=(()=>{let n=class n{constructor(t){this.template=t}};n.\u0275fac=function(i){return new(i||n)(T(_r))},n.\u0275dir=At({type:n,selectors:[["","cdkHeaderCellDef",""]],standalone:!0});let e=n;return e})(),ZC=(()=>{let n=class n{constructor(t){this.template=t}};n.\u0275fac=function(i){return new(i||n)(T(_r))},n.\u0275dir=At({type:n,selectors:[["","cdkFooterCellDef",""]],standalone:!0});let e=n;return e})(),Al=(()=>{let n=class n{get name(){return this._name}set name(t){this._setNameInput(t)}get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){t!==this._stickyEnd&&(this._stickyEnd=t,this._hasStickyChanged=!0)}constructor(t){this._table=t,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}};n.\u0275fac=function(i){return new(i||n)(T(Ja,8))},n.\u0275dir=At({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,a,o){if(i&1&&(Di(o,dp,5),Di(o,mp,5),Di(o,ZC,5)),i&2){let s;ft(s=ht())&&(a.cell=s.first),ft(s=ht())&&(a.headerCell=s.first),ft(s=ht())&&(a.footerCell=s.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",Ht],stickyEnd:[2,"stickyEnd","stickyEnd",Ht]},standalone:!0,features:[Gn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Jn]});let e=n;return e})(),op=class{constructor(n,r){r.nativeElement.classList.add(...n._columnCssClassName)}},JC=(()=>{let n=class n extends op{constructor(t,i){super(t,i)}};n.\u0275fac=function(i){return new(i||n)(T(Al),T(an))},n.\u0275dir=At({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[jn]});let e=n;return e})();var ey=(()=>{let n=class n extends op{constructor(t,i){var o;super(t,i);let a=(o=t._table)==null?void 0:o._getCellRole();a&&i.nativeElement.setAttribute("role",a)}};n.\u0275fac=function(i){return new(i||n)(T(Al),T(an))},n.\u0275dir=At({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[jn]});let e=n;return e})(),sp=class{constructor(){this.tasks=[],this.endTasks=[]}},cp=new Pn("_COALESCED_STYLE_SCHEDULER"),ag=(()=>{let n=class n{constructor(t){this._currentSchedule=null,this._ngZone=dn(kn)}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new sp,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let t=this._currentSchedule;this._currentSchedule=new sp;for(let i of t.tasks)i();for(let i of t.endTasks)i()}this._currentSchedule=null})))}};n.\u0275fac=function(i){return new(i||n)(Ie(kn))},n.\u0275prov=at({token:n,factory:n.\u0275fac});let e=n;return e})();var og=(()=>{let n=class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){let i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Yd?t.headerCell.template:this instanceof sg?t.footerCell.template:t.cell.template}};n.\u0275fac=function(i){return new(i||n)(T(_r),T(Nc))},n.\u0275dir=At({type:n,features:[Xn]});let e=n;return e})(),Yd=(()=>{let n=class n extends og{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,i,a){super(t,i),this._table=a,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}};n.\u0275fac=function(i){return new(i||n)(T(_r),T(Nc),T(Ja,8))},n.\u0275dir=At({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",Ht]},standalone:!0,features:[Jn,jn,Xn]});let e=n;return e})(),sg=(()=>{let n=class n extends og{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,i,a){super(t,i),this._table=a,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}};n.\u0275fac=function(i){return new(i||n)(T(_r),T(Nc),T(Ja,8))},n.\u0275dir=At({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",Ht]},standalone:!0,features:[Jn,jn,Xn]});let e=n;return e})(),up=(()=>{let n=class n extends og{constructor(t,i,a){super(t,i),this._table=a}};n.\u0275fac=function(i){return new(i||n)(T(_r),T(Nc),T(Ja,8))},n.\u0275dir=At({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[jn]});let e=n;return e})(),Js=(()=>{let n=class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}};n.mostRecentCellOutlet=null,n.\u0275fac=function(i){return new(i||n)(T(ca))},n.\u0275dir=At({type:n,selectors:[["","cdkCellOutlet",""]],standalone:!0});let e=n;return e})(),cg=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Se({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[fn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,a){i&1&&Xr(0,0)},dependencies:[Js],encapsulation:2});let e=n;return e})();var lg=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Se({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[fn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,a){i&1&&Xr(0,0)},dependencies:[Js],encapsulation:2});let e=n;return e})(),ty=(()=>{let n=class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}};n.\u0275fac=function(i){return new(i||n)(T(_r))},n.\u0275dir=At({type:n,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0});let e=n;return e})(),KC=["top","bottom","left","right"],rg=class{constructor(n,r,t,i,a=!0,o=!0,s){this._isNativeHtmlTable=n,this._stickCellCss=r,this.direction=t,this._coalescedStyleScheduler=i,this._isBrowser=a,this._needsPositionStickyOnElement=o,this._positionListener=s,this._elemSizeCache=new WeakMap,this._resizeObserver=globalThis!=null&&globalThis.ResizeObserver?new globalThis.ResizeObserver(m=>this._updateCachedSizes(m)):null,this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null,this._cachedCellWidths=[],this._borderCellCss={top:`${r}-border-elem-top`,bottom:`${r}-border-elem-bottom`,left:`${r}-border-elem-left`,right:`${r}-border-elem-right`}}clearStickyPositioning(n,r){(r.includes("left")||r.includes("right"))&&this._removeFromStickyColumnReplayQueue(n);let t=[];for(let i of n)if(i.nodeType===i.ELEMENT_NODE){t.push(i);for(let a=0;a<i.children.length;a++)t.push(i.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(let i of t)this._removeStickyStyle(i,r)})}updateStickyColumns(n,r,t,i=!0,a=!0){if(a&&this._updateStickyColumnReplayQueue({rows:[...n],stickyStartStates:[...r],stickyEndStates:[...t]}),!n.length||!this._isBrowser||!(r.some(o=>o)||t.some(o=>o))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let o=n[0],s=o.children.length,m=this._getCellWidths(o,i),u=this._getStickyStartColumnPositions(m,r),f=this._getStickyEndColumnPositions(m,t),g=r.lastIndexOf(!0),x=t.indexOf(!0),C=this.direction==="rtl",y=C?"right":"left",v=C?"left":"right";for(let P of n)for(let D=0;D<s;D++){let I=P.children[D];r[D]&&this._addStickyStyle(I,y,u[D],D===g),t[D]&&this._addStickyStyle(I,v,f[D],D===x)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:g===-1?[]:m.slice(0,g+1).map((P,D)=>r[D]?P:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:x===-1?[]:m.slice(x).map((P,D)=>t[D+x]?P:null).reverse()}))})}stickRows(n,r,t){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{var f,g;let i=t==="bottom"?n.slice().reverse():n,a=t==="bottom"?r.slice().reverse():r,o=[],s=[],m=[];for(let x=0,C=0;x<i.length;x++){if(!a[x])continue;o[x]=C;let y=i[x];m[x]=this._isNativeHtmlTable?Array.from(y.children):[y];let v=this._retrieveElementSize(y).height;C+=v,s[x]=v}let u=a.lastIndexOf(!0);for(let x=0;x<i.length;x++){if(!a[x])continue;let C=o[x],y=x===u;for(let v of m[x])this._addStickyStyle(v,t,C,y)}t==="top"?(f=this._positionListener)==null||f.stickyHeaderRowsUpdated({sizes:s,offsets:o,elements:m}):(g=this._positionListener)==null||g.stickyFooterRowsUpdated({sizes:s,offsets:o,elements:m})})}updateStickyFooterContainer(n,r){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let t=n.querySelector("tfoot");t&&(r.some(i=>!i)?this._removeStickyStyle(t,["bottom"]):this._addStickyStyle(t,"bottom",0,!1))})}_removeStickyStyle(n,r){for(let i of r)n.style[i]="",n.classList.remove(this._borderCellCss[i]);KC.some(i=>r.indexOf(i)===-1&&n.style[i])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}_addStickyStyle(n,r,t,i){n.classList.add(this._stickCellCss),i&&n.classList.add(this._borderCellCss[r]),n.style[r]=`${t}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){let r={top:100,bottom:10,left:1,right:1},t=0;for(let i of KC)n.style[i]&&(t+=r[i]);return t?`${t}`:""}_getCellWidths(n,r=!0){if(!r&&this._cachedCellWidths.length)return this._cachedCellWidths;let t=[],i=n.children;for(let a=0;a<i.length;a++){let o=i[a];t.push(this._retrieveElementSize(o).width)}return this._cachedCellWidths=t,t}_getStickyStartColumnPositions(n,r){let t=[],i=0;for(let a=0;a<n.length;a++)r[a]&&(t[a]=i,i+=n[a]);return t}_getStickyEndColumnPositions(n,r){let t=[],i=0;for(let a=n.length;a>0;a--)r[a]&&(t[a]=i,i+=n[a]);return t}_retrieveElementSize(n){let r=this._elemSizeCache.get(n);if(r)return r;let t=n.getBoundingClientRect(),i={width:t.width,height:t.height};return this._resizeObserver&&(this._elemSizeCache.set(n,i),this._resizeObserver.observe(n,{box:"border-box"})),i}_updateStickyColumnReplayQueue(n){this._removeFromStickyColumnReplayQueue(n.rows),!this._stickyColumnsReplayTimeout&&this._updatedStickyColumnsParamsToReplay.push(n)}_removeFromStickyColumnReplayQueue(n){let r=new Set(n);for(let t of this._updatedStickyColumnsParamsToReplay)t.rows=t.rows.filter(i=>!r.has(i));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(t=>!!t.rows.length)}_updateCachedSizes(n){var t,i;let r=!1;for(let a of n){let o=(t=a.borderBoxSize)!=null&&t.length?{width:a.borderBoxSize[0].inlineSize,height:a.borderBoxSize[0].blockSize}:{width:a.contentRect.width,height:a.contentRect.height};o.width!==((i=this._elemSizeCache.get(a.target))==null?void 0:i.width)&&TI(a.target)&&(r=!0),this._elemSizeCache.set(a.target,o)}r&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{for(let a of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(a.rows,a.stickyStartStates,a.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null},0))}};function TI(e){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(n=>e.classList.contains(n))}var lp=new Pn("CDK_SPL");var dg=(()=>{let n=class n{constructor(t,i){this.viewContainer=t,this.elementRef=i;let a=dn(Ja);a._rowOutlet=this,a._outletAssigned()}};n.\u0275fac=function(i){return new(i||n)(T(ca),T(an))},n.\u0275dir=At({type:n,selectors:[["","rowOutlet",""]],standalone:!0});let e=n;return e})(),mg=(()=>{let n=class n{constructor(t,i){this.viewContainer=t,this.elementRef=i;let a=dn(Ja);a._headerRowOutlet=this,a._outletAssigned()}};n.\u0275fac=function(i){return new(i||n)(T(ca),T(an))},n.\u0275dir=At({type:n,selectors:[["","headerRowOutlet",""]],standalone:!0});let e=n;return e})(),ug=(()=>{let n=class n{constructor(t,i){this.viewContainer=t,this.elementRef=i;let a=dn(Ja);a._footerRowOutlet=this,a._outletAssigned()}};n.\u0275fac=function(i){return new(i||n)(T(ca),T(an))},n.\u0275dir=At({type:n,selectors:[["","footerRowOutlet",""]],standalone:!0});let e=n;return e})(),pg=(()=>{let n=class n{constructor(t,i){this.viewContainer=t,this.elementRef=i;let a=dn(Ja);a._noDataRowOutlet=this,a._outletAssigned()}};n.\u0275fac=function(i){return new(i||n)(T(ca),T(an))},n.\u0275dir=At({type:n,selectors:[["","noDataRowOutlet",""]],standalone:!0});let e=n;return e})();var fg=(()=>{let n=class n{_getCellRole(){if(this._cellRoleInternal===void 0){let t=this._elementRef.nativeElement.getAttribute("role");return t==="grid"||t==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=t,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=t,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,i,a,o,s,m,u,f,g,x,C,y){this._differs=t,this._changeDetectorRef=i,this._elementRef=a,this._dir=s,this._platform=u,this._viewRepeater=f,this._coalescedStyleScheduler=g,this._viewportRuler=x,this._stickyPositioningListener=C,this._onDestroy=new _t,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Ve,this.viewChange=new ln({start:0,end:Number.MAX_VALUE}),this._injector=dn(qr),o||a.nativeElement.setAttribute("role","table"),this._document=m,this._isServer=!u.isBrowser,this._isNativeHtmlTable=a.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(yt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){var t,i,a;[(t=this._rowOutlet)==null?void 0:t.viewContainer,(i=this._headerRowOutlet)==null?void 0:i.viewContainer,(a=this._footerRowOutlet)==null?void 0:a.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(o=>{o==null||o.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Qm(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let t=this._dataDiffer.diff(this._renderRows);if(!t){this._updateNoDataRow(),this.contentChanged.next();return}let i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(a,o,s)=>this._getEmbeddedViewArgs(a.item,s),a=>a.item.data,a=>{a.operation===nb.INSERTED&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(a=>{let o=i.get(a.currentIndex);o.context.$implicit=a.item.data}),this._updateNoDataRow(),Qa(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){let t=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let a=QC(this._headerRowOutlet,"thead");a&&(a.style.display=t.length?"":"none")}let i=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,i,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){let t=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let a=QC(this._footerRowOutlet,"tfoot");a&&(a.style.display=t.length?"":"none")}let i=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){let t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{let s=[];for(let m=0;m<i.length;m++)this._renderRows[m].rowDef===o&&s.push(i[m]);this._addStickyColumnStyles(s,o)}),a.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let a=0;a<this._data.length;a++){let o=this._data[a],s=this._getRenderRowsForData(o,a,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let m=0;m<s.length;m++){let u=s[m],f=this._cachedRenderRowsMap.get(u.data);f.has(u.rowDef)?f.get(u.rowDef).push(u):f.set(u.rowDef,[u]),t.push(u)}}return t}_getRenderRowsForData(t,i,a){return this._getRowDefs(t,i).map(s=>{let m=a&&a.has(s)?a.get(s):[];if(m.length){let u=m.shift();return u.dataIndex=i,u}else return{data:t,rowDef:s,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ap(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=ap(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ap(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ap(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let t=this._rowDefs.filter(i=>!i.when);!this.multiTemplateDataRows&&t.length>1,this._defaultRowDef=t[0]}_renderUpdatedColumns(){let t=(s,m)=>{let u=!!m.getColumnsDiff();return s||u},i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();let a=this._headerRowDefs.reduce(t,!1);a&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(t,!1);return o&&this._forceRenderFooterRows(),i||a||o}_switchDataSource(t){this._data=[],Qm(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;Qm(this.dataSource)?t=this.dataSource.connect(this):xx(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=st(this.dataSource)),this._renderChangeSubscription=t.pipe(yt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){let a=Array.from(i.columns||[]).map(m=>{let u=this._columnDefsByName.get(m);return u}),o=a.map(m=>m.sticky),s=a.map(m=>m.stickyEnd);this._stickyStyler.updateStickyColumns(t,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){let i=[];for(let a=0;a<t.viewContainer.length;a++){let o=t.viewContainer.get(a);i.push(o.rootNodes[0])}return i}_getRowDefs(t,i){if(this._rowDefs.length==1)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(o=>!o.when||o.when(i,t));else{let o=this._rowDefs.find(s=>s.when&&s.when(i,t))||this._defaultRowDef;o&&a.push(o)}return a.length,a}_getEmbeddedViewArgs(t,i){let a=t.rowDef,o={$implicit:t.data};return{templateRef:a.template,context:o,index:i}}_renderRow(t,i,a,o={}){let s=t.viewContainer.createEmbeddedView(i.template,o,a);return this._renderCellTemplateForItem(i,o),s}_renderCellTemplateForItem(t,i){for(let a of this._getCellTemplates(t))Js.mostRecentCellOutlet&&Js.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let t=this._rowOutlet.viewContainer;for(let i=0,a=t.length;i<a;i++){let s=t.get(i).context;s.count=a,s.first=i===0,s.last=i===a-1,s.even=i%2===0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[i].dataIndex,s.renderIndex=i):s.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return!t||!t.columns?[]:Array.from(t.columns,i=>{let a=this._columnDefsByName.get(i);return t.extractCellTemplate(a)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let t=(i,a)=>i||a.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let t=this._dir?this._dir.value:"ltr";this._stickyStyler=new rg(this._isNativeHtmlTable,this.stickyCssClass,t,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:st()).pipe(yt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){let t=this._customNoDataRow||this._noDataRow;if(!t)return;let i=this._rowOutlet.viewContainer.length===0;if(i===this._isShowingNoDataRow)return;let a=this._noDataRowOutlet.viewContainer;if(i){let o=a.createEmbeddedView(t.templateRef),s=o.rootNodes[0];o.rootNodes.length===1&&(s==null?void 0:s.nodeType)===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(t._contentClassName))}else a.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}};n.\u0275fac=function(i){return new(i||n)(T(Nc),T(Tn),T(an),Hs("role"),T(pa,8),T(da),T(ua),T(xd),T(cp),T(Xs),T(lp,12),T(kn,8))},n.\u0275cmp=Se({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,a,o){if(i&1&&(Di(o,ty,5),Di(o,Al,5),Di(o,up,5),Di(o,Yd,5),Di(o,sg,5)),i&2){let s;ft(s=ht())&&(a._noDataRow=s.first),ft(s=ht())&&(a._contentColumnDefs=s),ft(s=ht())&&(a._contentRowDefs=s),ft(s=ht())&&(a._contentHeaderRowDefs=s),ft(s=ht())&&(a._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,a){i&2&&Fe("cdk-table-fixed-layout",a.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",Ht],fixedLayout:[2,"fixedLayout","fixedLayout",Ht]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[Gn([{provide:Ja,useExisting:n},{provide:xd,useClass:Zm},{provide:cp,useClass:ag},{provide:lp,useValue:null}]),Jn,fn],ngContentSelectors:SI,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,a){i&1&&(Ei(MI),$n(0),$n(1,1),U(2,PI,1,0)(3,kI,7,0)(4,OI,4,0)),i&2&&(h(2),Qe(a._isServer?2:-1),h(),Qe(a._isNativeHtmlTable?3:4))},dependencies:[mg,dg,pg,ug],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2});let e=n;return e})();function ap(e,n){return e.concat(Array.from(n))}function QC(e,n){let r=n.toUpperCase(),t=e.viewContainer.element.nativeElement;for(;t;){let i=t.nodeType===1?t.nodeName:null;if(i===r)return t;if(i==="TABLE")break;t=t.parentNode}return null}var ny=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({imports:[rb]});let e=n;return e})();var EI=[[["caption"]],[["colgroup"],["col"]],"*"],DI=["caption","colgroup, col","*"];function II(e,n){e&1&&$n(0,2)}function AI(e,n){e&1&&(c(0,"thead",0),Xr(1,1),l(),c(2,"tbody",2),Xr(3,3)(4,4),l(),c(5,"tfoot",0),Xr(6,5),l())}function FI(e,n){e&1&&Xr(0,1)(1,3)(2,4)(3,5)}var iy=(()=>{let n=class n extends fg{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=gr(n)))(a||n)}})(),n.\u0275cmp=Se({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,a){i&2&&Fe("mdc-table-fixed-layout",a.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[Gn([{provide:fg,useExisting:n},{provide:Ja,useExisting:n},{provide:cp,useClass:ag},{provide:xd,useClass:Zm},{provide:lp,useValue:null}]),jn,fn],ngContentSelectors:DI,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,a){i&1&&(Ei(EI),$n(0),$n(1,1),U(2,II,1,0)(3,AI,7,0)(4,FI,4,0)),i&2&&(h(2),Qe(a._isServer?2:-1),h(),Qe(a._isNativeHtmlTable?3:4))},dependencies:[mg,dg,pg,ug],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-app-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-app-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-app-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-app-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-app-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2});let e=n;return e})(),ry=(()=>{let n=class n extends dp{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=gr(n)))(a||n)}})(),n.\u0275dir=At({type:n,selectors:[["","matCellDef",""]],standalone:!0,features:[Gn([{provide:dp,useExisting:n}]),jn]});let e=n;return e})(),ay=(()=>{let n=class n extends mp{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=gr(n)))(a||n)}})(),n.\u0275dir=At({type:n,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[Gn([{provide:mp,useExisting:n}]),jn]});let e=n;return e})();var oy=(()=>{let n=class n extends Al{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=gr(n)))(a||n)}})(),n.\u0275dir=At({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[Gn([{provide:Al,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),jn]});let e=n;return e})(),sy=(()=>{let n=class n extends JC{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=gr(n)))(a||n)}})(),n.\u0275dir=At({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[jn]});let e=n;return e})();var cy=(()=>{let n=class n extends ey{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=gr(n)))(a||n)}})(),n.\u0275dir=At({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[jn]});let e=n;return e})();var ly=(()=>{let n=class n extends Yd{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=gr(n)))(a||n)}})(),n.\u0275dir=At({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",Ht]},standalone:!0,features:[Gn([{provide:Yd,useExisting:n}]),Jn,jn]});let e=n;return e})();var dy=(()=>{let n=class n extends up{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=gr(n)))(a||n)}})(),n.\u0275dir=At({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[Gn([{provide:up,useExisting:n}]),jn]});let e=n;return e})(),my=(()=>{let n=class n extends cg{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=gr(n)))(a||n)}})(),n.\u0275cmp=Se({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[Gn([{provide:cg,useExisting:n}]),jn,fn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,a){i&1&&Xr(0,0)},dependencies:[Js],encapsulation:2});let e=n;return e})();var uy=(()=>{let n=class n extends lg{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=gr(n)))(a||n)}})(),n.\u0275cmp=Se({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[Gn([{provide:lg,useExisting:n}]),jn,fn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,a){i&1&&Xr(0,0)},dependencies:[Js],encapsulation:2});let e=n;return e})();var hg=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({imports:[li,ny,li]});let e=n;return e})(),RI=9007199254740991,ec=class extends tb{get data(){return this._data.value}set data(n){n=Array.isArray(n)?n:[],this._data.next(n),this._renderChangesSubscription||this._filterData(n)}get filter(){return this._filter.value}set filter(n){this._filter.next(n),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(n){this._sort=n,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(n){this._paginator=n,this._updateChangeSubscription()}constructor(n=[]){super(),this._renderData=new ln([]),this._filter=new ln(""),this._internalPageChanges=new _t,this._renderChangesSubscription=null,this.sortingDataAccessor=(r,t)=>{let i=r[t];if(Bv(i)){let a=Number(i);return a<RI?a:i}return i},this.sortData=(r,t)=>{let i=t.active,a=t.direction;return!i||a==""?r:r.sort((o,s)=>{let m=this.sortingDataAccessor(o,i),u=this.sortingDataAccessor(s,i),f=typeof m,g=typeof u;f!==g&&(f==="number"&&(m+=""),g==="number"&&(u+=""));let x=0;return m!=null&&u!=null?m>u?x=1:m<u&&(x=-1):m!=null?x=1:u!=null&&(x=-1),x*(a=="asc"?1:-1)})},this.filterPredicate=(r,t)=>{let i=Object.keys(r).reduce((o,s)=>o+r[s]+"\u25EC","").toLowerCase(),a=t.trim().toLowerCase();return i.indexOf(a)!=-1},this._data=new ln(n),this._updateChangeSubscription()}_updateChangeSubscription(){var s;let n=this._sort?ir(this._sort.sortChange,this._sort.initialized):st(null),r=this._paginator?ir(this._paginator.page,this._internalPageChanges,this._paginator.initialized):st(null),t=this._data,i=Ic([t,this._filter]).pipe(tt(([m])=>this._filterData(m))),a=Ic([i,n]).pipe(tt(([m])=>this._orderData(m))),o=Ic([a,r]).pipe(tt(([m])=>this._pageData(m)));(s=this._renderChangesSubscription)==null||s.unsubscribe(),this._renderChangesSubscription=o.subscribe(m=>this._renderData.next(m))}_filterData(n){return this.filteredData=this.filter==null||this.filter===""?n:n.filter(r=>this.filterPredicate(r,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(n){return this.sort?this.sortData(n.slice(),this.sort):n}_pageData(n){if(!this.paginator)return n;let r=this.paginator.pageIndex*this.paginator.pageSize;return n.slice(r,r+this.paginator.pageSize)}_updatePaginator(n){Promise.resolve().then(()=>{let r=this.paginator;if(r&&(r.length=n,r.pageIndex>0)){let t=Math.ceil(r.length/r.pageSize)-1||0,i=Math.min(r.pageIndex,t);i!==r.pageIndex&&(r.pageIndex=i,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var n;(n=this._renderChangesSubscription)==null||n.unsubscribe(),this._renderChangesSubscription=null}};var i0={};i0.version="0.18.5";var xo=1200,Wl=1252,LI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Ug={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Yg=function(e){LI.indexOf(e)!=-1&&(Wl=Ug[0]=e)};function BI(){Yg(1252)}var to=function(e){xo=e,Yg(e)};function Wg(){to(1200),BI()}function Eg(e){for(var n=[],r=0,t=e.length;r<t;++r)n[r]=e.charCodeAt(r);return n}function VI(e){for(var n=[],r=0;r<e.length>>1;++r)n[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return n.join("")}function C2(e){for(var n=[],r=0;r<e.length>>1;++r)n[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return n.join("")}var $d=function(e){var n=e.charCodeAt(0),r=e.charCodeAt(1);return n==255&&r==254?VI(e.slice(2)):n==254&&r==255?C2(e.slice(2)):n==65279?e.slice(1):e},pp=function(n){return String.fromCharCode(n)},py=function(n){return String.fromCharCode(n)},An;var ki=null,Wd=!0,Ss="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r0(e){for(var n="",r=0,t=0,i=0,a=0,o=0,s=0,m=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,t=e.charCodeAt(u++),o=(r&3)<<4|t>>4,i=e.charCodeAt(u++),s=(t&15)<<2|i>>6,m=i&63,isNaN(t)?s=m=64:isNaN(i)&&(m=64),n+=Ss.charAt(a)+Ss.charAt(o)+Ss.charAt(s)+Ss.charAt(m);return n}function wa(e){var n="",r=0,t=0,i=0,a=0,o=0,s=0,m=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=Ss.indexOf(e.charAt(u++)),o=Ss.indexOf(e.charAt(u++)),r=a<<2|o>>4,n+=String.fromCharCode(r),s=Ss.indexOf(e.charAt(u++)),t=(o&15)<<4|s>>2,s!==64&&(n+=String.fromCharCode(t)),m=Ss.indexOf(e.charAt(u++)),i=(s&3)<<6|m,m!==64&&(n+=String.fromCharCode(i));return n}var tn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ho=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(n,r){return r?new Buffer(n,r):new Buffer(n)}:Buffer.from.bind(Buffer)}return function(){}}();function Os(e){return tn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function fy(e){return tn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ca=function(n){return tn?Ho(n,"binary"):n.split("").map(function(r){return r.charCodeAt(0)&255})};function Lp(e){if(typeof ArrayBuffer>"u")return Ca(e);for(var n=new ArrayBuffer(e.length),r=new Uint8Array(n),t=0;t!=e.length;++t)r[t]=e.charCodeAt(t)&255;return n}function Is(e){if(Array.isArray(e))return e.map(function(t){return String.fromCharCode(t)}).join("");for(var n=[],r=0;r<e.length;++r)n[r]=String.fromCharCode(e[r]);return n.join("")}function jI(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function Hg(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Hg(new Uint8Array(e));for(var n=new Array(e.length),r=0;r<e.length;++r)n[r]=e[r];return n}var ur=tn?function(e){return Buffer.concat(e.map(function(n){return Buffer.isBuffer(n)?n:Ho(n)}))}:function(e){if(typeof Uint8Array<"u"){var n=0,r=0;for(n=0;n<e.length;++n)r+=e[n].length;var t=new Uint8Array(r),i=0;for(n=0,r=0;n<e.length;r+=i,++n)if(i=e[n].length,e[n]instanceof Uint8Array)t.set(e[n],r);else{if(typeof e[n]=="string")throw"wtf";t.set(new Uint8Array(e[n]),r)}return t}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function zI(e){for(var n=[],r=0,t=e.length+250,i=Os(e.length+255),a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o<128)i[r++]=o;else if(o<2048)i[r++]=192|o>>6&31,i[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=e.charCodeAt(++a)&1023;i[r++]=240|o>>8&7,i[r++]=128|o>>2&63,i[r++]=128|s>>6&15|(o&3)<<4,i[r++]=128|s&63}else i[r++]=224|o>>12&15,i[r++]=128|o>>6&63,i[r++]=128|o&63;r>t&&(n.push(i.slice(0,r)),r=0,i=Os(65535),t=65530)}return n.push(i.slice(0,r)),ur(n)}var Fr=/\u0000/g,Gd=/[\u0001-\u0006]/g;function jl(e){for(var n="",r=e.length-1;r>=0;)n+=e.charAt(r--);return n}function no(e,n){var r=""+e;return r.length>=n?r:Si("0",n-r.length)+r}function $g(e,n){var r=""+e;return r.length>=n?r:Si(" ",n-r.length)+r}function Mp(e,n){var r=""+e;return r.length>=n?r:r+Si(" ",n-r.length)}function UI(e,n){var r=""+Math.round(e);return r.length>=n?r:Si("0",n-r.length)+r}function YI(e,n){var r=""+e;return r.length>=n?r:Si("0",n-r.length)+r}var hy=Math.pow(2,32);function Fl(e,n){if(e>hy||e<-hy)return UI(e,n);var r=Math.round(e);return YI(r,n)}function Sp(e,n){return n=n||0,e.length>=7+n&&(e.charCodeAt(n)|32)===103&&(e.charCodeAt(n+1)|32)===101&&(e.charCodeAt(n+2)|32)===110&&(e.charCodeAt(n+3)|32)===101&&(e.charCodeAt(n+4)|32)===114&&(e.charCodeAt(n+5)|32)===97&&(e.charCodeAt(n+6)|32)===108}var gy=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],gg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function WI(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',e}var bt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},_y={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},HI={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Pp(e,n,r){for(var t=e<0?-1:1,i=e*t,a=0,o=1,s=0,m=1,u=0,f=0,g=Math.floor(i);u<n&&(g=Math.floor(i),s=g*o+a,f=g*u+m,!(i-g<5e-8));)i=1/(i-g),a=o,o=s,m=u,u=f;if(f>n&&(u>n?(f=m,s=a):(f=u,s=o)),!r)return[0,t*s,f];var x=Math.floor(t*s/f);return[x,t*s-x*f,f]}function Ps(e,n,r){if(e>2958465||e<0)return null;var t=e|0,i=Math.floor(86400*(e-t)),a=0,o=[],s={D:t,T:i,u:86400*(e-t)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),n&&n.date1904&&(t+=1462),s.u>.9999&&(s.u=0,++i==86400&&(s.T=i=0,++t,++s.D)),t===60)o=r?[1317,10,29]:[1900,2,29],a=3;else if(t===0)o=r?[1317,8,29]:[1900,1,0],a=6;else{t>60&&--t;var m=new Date(1900,0,1);m.setDate(m.getDate()+t-1),o=[m.getFullYear(),m.getMonth()+1,m.getDate()],a=m.getDay(),t<60&&(a=(a+6)%7),r&&(a=QI(m,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=i%60,i=Math.floor(i/60),s.M=i%60,i=Math.floor(i/60),s.H=i,s.q=a,s}var y2=new Date(1899,11,31,0,0,0),$I=y2.getTime(),GI=new Date(1900,2,1,0,0,0);function w2(e,n){var r=e.getTime();return n?r-=1461*24*60*60*1e3:e>=GI&&(r+=24*60*60*1e3),(r-($I+(e.getTimezoneOffset()-y2.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Gg(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function qI(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function XI(e){var n=e<0?12:11,r=Gg(e.toFixed(12));return r.length<=n||(r=e.toPrecision(10),r.length<=n)?r:e.toExponential(5)}function KI(e){var n=Gg(e.toFixed(11));return n.length>(e<0?12:11)||n==="0"||n==="-0"?e.toPrecision(6):n}function a0(e){var n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return n>=-4&&n<=-1?r=e.toPrecision(10+n):Math.abs(n)<=9?r=XI(e):n===10?r=e.toFixed(10).substr(0,12):r=KI(e),Gg(qI(r.toUpperCase()))}function oc(e,n){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):a0(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ma(14,w2(e,n&&n.date1904),n)}throw new Error("unsupported value in General format: "+e)}function QI(e,n){n[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function ZI(e,n,r,t){var i="",a=0,o=0,s=r.y,m,u=0;switch(e){case 98:s=r.y+543;case 121:switch(n.length){case 1:case 2:m=s%100,u=2;break;default:m=s%1e4,u=4;break}break;case 109:switch(n.length){case 1:case 2:m=r.m,u=n.length;break;case 3:return gg[r.m-1][1];case 5:return gg[r.m-1][0];default:return gg[r.m-1][2]}break;case 100:switch(n.length){case 1:case 2:m=r.d,u=n.length;break;case 3:return gy[r.q][0];default:return gy[r.q][1]}break;case 104:switch(n.length){case 1:case 2:m=1+(r.H+11)%12,u=n.length;break;default:throw"bad hour format: "+n}break;case 72:switch(n.length){case 1:case 2:m=r.H,u=n.length;break;default:throw"bad hour format: "+n}break;case 77:switch(n.length){case 1:case 2:m=r.M,u=n.length;break;default:throw"bad minute format: "+n}break;case 115:if(n!="s"&&n!="ss"&&n!=".0"&&n!=".00"&&n!=".000")throw"bad second format: "+n;return r.u===0&&(n=="s"||n=="ss")?no(r.S,n.length):(t>=2?o=t===3?1e3:100:o=t===1?10:1,a=Math.round(o*(r.S+r.u)),a>=60*o&&(a=0),n==="s"?a===0?"0":""+a/o:(i=no(a,2+t),n==="ss"?i.substr(0,2):"."+i.substr(2,n.length-1)));case 90:switch(n){case"[h]":case"[hh]":m=r.D*24+r.H;break;case"[m]":case"[mm]":m=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":m=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+n}u=n.length===3?1:2;break;case 101:m=s,u=1;break}var f=u>0?no(m,u):"";return f}function ks(e){var n=3;if(e.length<=n)return e;for(var r=e.length%n,t=e.substr(0,r);r!=e.length;r+=n)t+=(t.length>0?",":"")+e.substr(r,n);return t}var M2=/%/g;function JI(e,n,r){var t=n.replace(M2,""),i=n.length-t.length;return Uo(e,t,r*Math.pow(10,2*i))+Si("%",i)}function eA(e,n,r){for(var t=n.length-1;n.charCodeAt(t-1)===44;)--t;return Uo(e,n.substr(0,t),r/Math.pow(10,3*(n.length-t)))}function S2(e,n){var r,t=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(n==0)return"0.0E+0";if(n<0)return"-"+S2(e,-n);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(n)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(n/Math.pow(10,a)).toPrecision(t+1+(i+a)%i),r.indexOf("e")===-1){var o=Math.floor(Math.log(n)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,m,u,f){return m+u+f.substr(0,(i+a)%i)+"."+f.substr(a)+"E"})}else r=n.toExponential(t);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var P2=/# (\?+)( ?)\/( ?)(\d+)/;function tA(e,n,r){var t=parseInt(e[4],10),i=Math.round(n*t),a=Math.floor(i/t),o=i-a*t,s=t;return r+(a===0?"":""+a)+" "+(o===0?Si(" ",e[1].length+1+e[4].length):$g(o,e[1].length)+e[2]+"/"+e[3]+no(s,e[4].length))}function nA(e,n,r){return r+(n===0?"":""+n)+Si(" ",e[1].length+2+e[4].length)}var k2=/^#*0*\.([0#]+)/,O2=/\).*[0#]/,T2=/\(###\) ###\\?-####/;function Yr(e){for(var n="",r,t=0;t!=e.length;++t)switch(r=e.charCodeAt(t)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(r)}return n}function xy(e,n){var r=Math.pow(10,n);return""+Math.round(e*r)/r}function vy(e,n){var r=e-Math.floor(e),t=Math.pow(10,n);return n<(""+Math.round(r*t)).length?0:Math.round(r*t)}function iA(e,n){return n<(""+Math.round((e-Math.floor(e))*Math.pow(10,n))).length?1:0}function rA(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ba(e,n,r){if(e.charCodeAt(0)===40&&!n.match(O2)){var t=n.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ba("n",t,r):"("+Ba("n",t,-r)+")"}if(n.charCodeAt(n.length-1)===44)return eA(e,n,r);if(n.indexOf("%")!==-1)return JI(e,n,r);if(n.indexOf("E")!==-1)return S2(n,r);if(n.charCodeAt(0)===36)return"$"+Ba(e,n.substr(n.charAt(1)==" "?2:1),r);var i,a,o,s,m=Math.abs(r),u=r<0?"-":"";if(n.match(/^00+$/))return u+Fl(m,n.length);if(n.match(/^[#?]+$/))return i=Fl(r,0),i==="0"&&(i=""),i.length>n.length?i:Yr(n.substr(0,n.length-i.length))+i;if(a=n.match(P2))return tA(a,m,u);if(n.match(/^#+0+$/))return u+Fl(m,n.length-n.indexOf("0"));if(a=n.match(k2))return i=xy(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Yr(a[1])).replace(/\.$/,"."+Yr(a[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+Si("0",Yr(a[1]).length-v.length)}),n.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(n=n.replace(/^#+([0.])/,"$1"),a=n.match(/^(0*)\.(#*)$/))return u+xy(m,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=n.match(/^#{1,3},##0(\.?)$/))return u+ks(Fl(m,0));if(a=n.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ba(e,n,-r):ks(""+(Math.floor(r)+iA(r,a[1].length)))+"."+no(vy(r,a[1].length),a[1].length);if(a=n.match(/^#,#*,#0/))return Ba(e,n.replace(/^#,#*,/,""),r);if(a=n.match(/^([0#]+)(\\?-([0#]+))+$/))return i=jl(Ba(e,n.replace(/[\\-]/g,""),r)),o=0,jl(jl(n.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(n.match(T2))return i=Ba(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(a=n.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=Pp(m,Math.pow(10,o)-1,!1),i=""+u,f=Uo("n",a[1],s[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+a[2]+"/"+a[3],f=Mp(s[2],o),f.length<a[4].length&&(f=Yr(a[4].substr(a[4].length-f.length))+f),i+=f,i;if(a=n.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=Pp(m,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?$g(s[1],o)+a[2]+"/"+a[3]+Mp(s[2],o):Si(" ",2*o+1+a[2].length+a[3].length));if(a=n.match(/^[#0?]+$/))return i=Fl(r,0),n.length<=i.length?i:Yr(n.substr(0,n.length-i.length))+i;if(a=n.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=n.indexOf(".")-o,x=n.length-i.length-g;return Yr(n.substr(0,g)+i+n.substr(n.length-x))}if(a=n.match(/^00,000\.([#0]*0)$/))return o=vy(r,a[1].length),r<0?"-"+Ba(e,n,-r):ks(rA(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?no(0,3-y.length):"")+y})+"."+no(o,a[1].length);switch(n){case"###,##0.00":return Ba(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var C=ks(Fl(m,0));return C!=="0"?u+C:"";case"###,###.00":return Ba(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ba(e,"#,##0.00",r).replace(/^0\./,".");default:}throw new Error("unsupported format |"+n+"|")}function aA(e,n,r){for(var t=n.length-1;n.charCodeAt(t-1)===44;)--t;return Uo(e,n.substr(0,t),r/Math.pow(10,3*(n.length-t)))}function oA(e,n,r){var t=n.replace(M2,""),i=n.length-t.length;return Uo(e,t,r*Math.pow(10,2*i))+Si("%",i)}function E2(e,n){var r,t=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(n==0)return"0.0E+0";if(n<0)return"-"+E2(e,-n);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(n)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(n/Math.pow(10,a)).toPrecision(t+1+(i+a)%i),!r.match(/[Ee]/)){var o=Math.floor(Math.log(n)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,m,u,f){return m+u+f.substr(0,(i+a)%i)+"."+f.substr(a)+"E"})}else r=n.toExponential(t);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ho(e,n,r){if(e.charCodeAt(0)===40&&!n.match(O2)){var t=n.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ho("n",t,r):"("+ho("n",t,-r)+")"}if(n.charCodeAt(n.length-1)===44)return aA(e,n,r);if(n.indexOf("%")!==-1)return oA(e,n,r);if(n.indexOf("E")!==-1)return E2(n,r);if(n.charCodeAt(0)===36)return"$"+ho(e,n.substr(n.charAt(1)==" "?2:1),r);var i,a,o,s,m=Math.abs(r),u=r<0?"-":"";if(n.match(/^00+$/))return u+no(m,n.length);if(n.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>n.length?i:Yr(n.substr(0,n.length-i.length))+i;if(a=n.match(P2))return nA(a,m,u);if(n.match(/^#+0+$/))return u+no(m,n.length-n.indexOf("0"));if(a=n.match(k2))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Yr(a[1])).replace(/\.$/,"."+Yr(a[1])),i=i.replace(/\.(\d*)$/,function(y,v){return"."+v+Si("0",Yr(a[1]).length-v.length)}),n.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(n=n.replace(/^#+([0.])/,"$1"),a=n.match(/^(0*)\.(#*)$/))return u+(""+m).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=n.match(/^#{1,3},##0(\.?)$/))return u+ks(""+m);if(a=n.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ho(e,n,-r):ks(""+r)+"."+Si("0",a[1].length);if(a=n.match(/^#,#*,#0/))return ho(e,n.replace(/^#,#*,/,""),r);if(a=n.match(/^([0#]+)(\\?-([0#]+))+$/))return i=jl(ho(e,n.replace(/[\\-]/g,""),r)),o=0,jl(jl(n.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(n.match(T2))return i=ho(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(a=n.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=Pp(m,Math.pow(10,o)-1,!1),i=""+u,f=Uo("n",a[1],s[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+a[2]+"/"+a[3],f=Mp(s[2],o),f.length<a[4].length&&(f=Yr(a[4].substr(a[4].length-f.length))+f),i+=f,i;if(a=n.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=Pp(m,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?$g(s[1],o)+a[2]+"/"+a[3]+Mp(s[2],o):Si(" ",2*o+1+a[2].length+a[3].length));if(a=n.match(/^[#0?]+$/))return i=""+r,n.length<=i.length?i:Yr(n.substr(0,n.length-i.length))+i;if(a=n.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=n.indexOf(".")-o,x=n.length-i.length-g;return Yr(n.substr(0,g)+i+n.substr(n.length-x))}if(a=n.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ho(e,n,-r):ks(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?no(0,3-y.length):"")+y})+"."+no(0,a[1].length);switch(n){case"###,###":case"##,###":case"#,###":var C=ks(""+m);return C!=="0"?u+C:"";default:if(n.match(/\.[0#?]*$/))return ho(e,n.slice(0,n.lastIndexOf(".")),r)+Yr(n.slice(n.lastIndexOf(".")))}throw new Error("unsupported format |"+n+"|")}function Uo(e,n,r){return(r|0)===r?ho(e,n,r):Ba(e,n,r)}function sA(e){for(var n=[],r=!1,t=0,i=0;t<e.length;++t)switch(e.charCodeAt(t)){case 34:r=!r;break;case 95:case 42:case 92:++t;break;case 59:n[n.length]=e.substr(i,t-i),i=t+1}if(n[n.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return n}var D2=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function uc(e){for(var n=0,r="",t="";n<e.length;)switch(r=e.charAt(n)){case"G":Sp(e,n)&&(n+=6),n++;break;case'"':for(;e.charCodeAt(++n)!==34&&n<e.length;);++n;break;case"\\":n+=2;break;case"_":n+=2;break;case"@":++n;break;case"B":case"b":if(e.charAt(n+1)==="1"||e.charAt(n+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(e.substr(n,3).toUpperCase()==="A/P"||e.substr(n,5).toUpperCase()==="AM/PM"||e.substr(n,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++n;break;case"[":for(t=r;e.charAt(n++)!=="]"&&n<e.length;)t+=e.charAt(n);if(t.match(D2))return!0;break;case".":case"0":case"#":for(;n<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++n))>-1||r=="\\"&&e.charAt(n+1)=="-"&&"0#".indexOf(e.charAt(n+2))>-1););break;case"?":for(;e.charAt(++n)===r;);break;case"*":++n,(e.charAt(n)==" "||e.charAt(n)=="*")&&++n;break;case"(":case")":++n;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;n<e.length&&"0123456789".indexOf(e.charAt(++n))>-1;);break;case" ":++n;break;default:++n;break}return!1}function cA(e,n,r,t){for(var i=[],a="",o=0,s="",m="t",u,f,g,x="H";o<e.length;)switch(s=e.charAt(o)){case"G":if(!Sp(e,o))throw new Error("unrecognized character "+s+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(g=e.charCodeAt(++o))!==34&&o<e.length;)a+=String.fromCharCode(g);i[i.length]={t:"t",v:a},++o;break;case"\\":var C=e.charAt(++o),y=C==="("||C===")"?C:"t";i[i.length]={t:y,v:C},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:n},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Ps(n,r,e.charAt(o+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(o,2)},m=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(n<0||u==null&&(u=Ps(n,r),u==null))return"";for(a=s;++o<e.length&&e.charAt(o).toLowerCase()===s;)a+=s;s==="m"&&m.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=x),i[i.length]={t:s,v:a},m=s;break;case"A":case"a":case"\u4E0A":var v={t:s,v:s};if(u==null&&(u=Ps(n,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",x="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",o+=5,x="h"):e.substr(o,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(u!=null&&(v.v=u.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),v.t="T",o+=5,x="h"):(v.t="t",++o),u==null&&v.t==="T")return"";i[i.length]=v,m=s;break;case"[":for(a=s;e.charAt(o++)!=="]"&&o<e.length;)a+=e.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(D2)){if(u==null&&(u=Ps(n,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},m=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",uc(e)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=s;++o<e.length&&(s=e.charAt(o))==="0";)a+=s;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=s;++o<e.length&&"0#?.,E+-%".indexOf(s=e.charAt(o))>-1;)a+=s;i[i.length]={t:"n",v:a};break;case"?":for(a=s;e.charAt(++o)===s;)a+=s;i[i.length]={t:s,v:a},m=s;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:t===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=s;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)a+=e.charAt(o);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:s,v:s},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+e);i[i.length]={t:"t",v:s},++o;break}var P=0,D=0,I;for(o=i.length-1,m="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=x,m="h",P<1&&(P=1);break;case"s":(I=i[o].v.match(/\.0+$/))&&(D=Math.max(D,I[0].length-1)),P<3&&(P=3);case"d":case"y":case"M":case"e":m=i[o].t;break;case"m":m==="s"&&(i[o].t="M",P<2&&(P=2));break;case"X":break;case"Z":P<1&&i[o].v.match(/[Hh]/)&&(P=1),P<2&&i[o].v.match(/[Mm]/)&&(P=2),P<3&&i[o].v.match(/[Ss]/)&&(P=3)}switch(P){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var A="",K;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=ZI(i[o].t.charCodeAt(0),i[o].v,u,D),i[o].t="t";break;case"n":case"?":for(K=o+1;i[K]!=null&&((s=i[K].t)==="?"||s==="D"||(s===" "||s==="t")&&i[K+1]!=null&&(i[K+1].t==="?"||i[K+1].t==="t"&&i[K+1].v==="/")||i[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(i[K].v==="/"||i[K].v===" "&&i[K+1]!=null&&i[K+1].t=="?"));)i[o].v+=i[K].v,i[K]={v:"",t:";"},++K;A+=i[o].v,o=K-1;break;case"G":i[o].t="t",i[o].v=oc(n,r);break}var J="",O,k;if(A.length>0){A.charCodeAt(0)==40?(O=n<0&&A.charCodeAt(0)===45?-n:n,k=Uo("n",A,O)):(O=n<0&&t>1?-n:n,k=Uo("n",A,O),O<0&&i[0]&&i[0].t=="t"&&(k=k.substr(1),i[0].v="-"+i[0].v)),K=k.length-1;var V=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){V=o;break}var W=i.length;if(V===i.length&&k.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(K>=i[o].v.length-1?(K-=i[o].v.length,i[o].v=k.substr(K+1,i[o].v.length)):K<0?i[o].v="":(i[o].v=k.substr(0,K+1),K=-1),i[o].t="t",W=o);K>=0&&W<i.length&&(i[W].v=k.substr(0,K+1)+i[W].v)}else if(V!==i.length&&k.indexOf("E")===-1){for(K=k.indexOf(".")-1,o=V;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(f=i[o].v.indexOf(".")>-1&&o===V?i[o].v.indexOf(".")-1:i[o].v.length-1,J=i[o].v.substr(f+1);f>=0;--f)K>=0&&(i[o].v.charAt(f)==="0"||i[o].v.charAt(f)==="#")&&(J=k.charAt(K--)+J);i[o].v=J,i[o].t="t",W=o}for(K>=0&&W<i.length&&(i[W].v=k.substr(0,K+1)+i[W].v),K=k.indexOf(".")+1,o=V;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==V)){for(f=i[o].v.indexOf(".")>-1&&o===V?i[o].v.indexOf(".")+1:0,J=i[o].v.substr(0,f);f<i[o].v.length;++f)K<k.length&&(J+=k.charAt(K++));i[o].v=J,i[o].t="t",W=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(O=t>1&&n<0&&o>0&&i[o-1].v==="-"?-n:n,i[o].v=Uo(i[o].t,i[o].v,O),i[o].t="t");var ee="";for(o=0;o!==i.length;++o)i[o]!=null&&(ee+=i[o].v);return ee}var by=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Cy(e,n){if(n==null)return!1;var r=parseFloat(n[2]);switch(n[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function lA(e,n){var r=sA(e),t=r.length,i=r[t-1].indexOf("@");if(t<4&&i>-1&&--t,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof n!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break;case 4:break}var a=n>0?r[0]:n<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[t,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(by),s=r[1].match(by);return Cy(n,o)?[t,r[0]]:Cy(n,s)?[t,r[1]]:[t,r[o!=null&&s!=null?2:1]]}return[t,a]}function Ma(e,n,r){r==null&&(r={});var t="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?t=r.dateNF:t=e;break;case"number":e==14&&r.dateNF?t=r.dateNF:t=(r.table!=null?r.table:bt)[e],t==null&&(t=r.table&&r.table[_y[e]]||bt[_y[e]]),t==null&&(t=HI[e]||"General");break}if(Sp(t,0))return oc(n,r);n instanceof Date&&(n=w2(n,r.date1904));var i=lA(t,n);if(Sp(i[1]))return oc(n,r);if(n===!0)n="TRUE";else if(n===!1)n="FALSE";else if(n===""||n==null)return"";return cA(i[1],n,r,i[0])}function vo(e,n){if(typeof n!="number"){n=+n||-1;for(var r=0;r<392;++r){if(bt[r]==null){n<0&&(n=r);continue}if(bt[r]==e){n=r;break}}n<0&&(n=391)}return bt[n]=e,n}function _0(e){for(var n=0;n!=392;++n)e[n]!==void 0&&vo(e[n],n)}function ql(){bt=WI()}var qg={format:Ma,load:vo,_table:bt,load_table:_0,parse_date_code:Ps,is_date:uc,get_table:function(){return qg._table=bt}},dA={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},I2=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function mA(e){var n=typeof e=="number"?bt[e]:e;return n=n.replace(I2,"(\\d+)"),new RegExp("^"+n+"$")}function uA(e,n,r){var t=-1,i=-1,a=-1,o=-1,s=-1,m=-1;(n.match(I2)||[]).forEach(function(g,x){var C=parseInt(r[x+1],10);switch(g.toLowerCase().charAt(0)){case"y":t=C;break;case"d":a=C;break;case"h":o=C;break;case"s":m=C;break;case"m":o>=0?s=C:i=C;break}}),m>=0&&s==-1&&i>=0&&(s=i,i=-1);var u=(""+(t>=0?t:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(m>=0?m:0)).slice(-2);return o==-1&&s==-1&&m==-1?u:t==-1&&i==-1&&a==-1?f:u+"T"+f}var pA=function(){var e={};e.version="1.2.0";function n(){for(var k=0,V=new Array(256),W=0;W!=256;++W)k=W,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,V[W]=k;return typeof Int32Array<"u"?new Int32Array(V):V}var r=n();function t(k){var V=0,W=0,ee=0,re=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ee=0;ee!=256;++ee)re[ee]=k[ee];for(ee=0;ee!=256;++ee)for(W=k[ee],V=256+ee;V<4096;V+=256)W=re[V]=W>>>8^k[W&255];var ie=[];for(ee=1;ee!=16;++ee)ie[ee-1]=typeof Int32Array<"u"?re.subarray(ee*256,ee*256+256):re.slice(ee*256,ee*256+256);return ie}var i=t(r),a=i[0],o=i[1],s=i[2],m=i[3],u=i[4],f=i[5],g=i[6],x=i[7],C=i[8],y=i[9],v=i[10],P=i[11],D=i[12],I=i[13],A=i[14];function K(k,V){for(var W=V^-1,ee=0,re=k.length;ee<re;)W=W>>>8^r[(W^k.charCodeAt(ee++))&255];return~W}function J(k,V){for(var W=V^-1,ee=k.length-15,re=0;re<ee;)W=A[k[re++]^W&255]^I[k[re++]^W>>8&255]^D[k[re++]^W>>16&255]^P[k[re++]^W>>>24]^v[k[re++]]^y[k[re++]]^C[k[re++]]^x[k[re++]]^g[k[re++]]^f[k[re++]]^u[k[re++]]^m[k[re++]]^s[k[re++]]^o[k[re++]]^a[k[re++]]^r[k[re++]];for(ee+=15;re<ee;)W=W>>>8^r[(W^k[re++])&255];return~W}function O(k,V){for(var W=V^-1,ee=0,re=k.length,ie=0,ke=0;ee<re;)ie=k.charCodeAt(ee++),ie<128?W=W>>>8^r[(W^ie)&255]:ie<2048?(W=W>>>8^r[(W^(192|ie>>6&31))&255],W=W>>>8^r[(W^(128|ie&63))&255]):ie>=55296&&ie<57344?(ie=(ie&1023)+64,ke=k.charCodeAt(ee++)&1023,W=W>>>8^r[(W^(240|ie>>8&7))&255],W=W>>>8^r[(W^(128|ie>>2&63))&255],W=W>>>8^r[(W^(128|ke>>6&15|(ie&3)<<4))&255],W=W>>>8^r[(W^(128|ke&63))&255]):(W=W>>>8^r[(W^(224|ie>>12&15))&255],W=W>>>8^r[(W^(128|ie>>6&63))&255],W=W>>>8^r[(W^(128|ie&63))&255]);return~W}return e.table=r,e.bstr=K,e.buf=J,e.str=O,e}(),gt=function(){var n={};n.version="1.2.1";function r(E,z){for(var B=E.split("/"),j=z.split("/"),Y=0,q=0,pe=Math.min(B.length,j.length);Y<pe;++Y){if(q=B[Y].length-j[Y].length)return q;if(B[Y]!=j[Y])return B[Y]<j[Y]?-1:1}return B.length-j.length}function t(E){if(E.charAt(E.length-1)=="/")return E.slice(0,-1).indexOf("/")===-1?E:t(E.slice(0,-1));var z=E.lastIndexOf("/");return z===-1?E:E.slice(0,z+1)}function i(E){if(E.charAt(E.length-1)=="/")return i(E.slice(0,-1));var z=E.lastIndexOf("/");return z===-1?E:E.slice(z+1)}function a(E,z){typeof z=="string"&&(z=new Date(z));var B=z.getHours();B=B<<6|z.getMinutes(),B=B<<5|z.getSeconds()>>>1,E.write_shift(2,B);var j=z.getFullYear()-1980;j=j<<4|z.getMonth()+1,j=j<<5|z.getDate(),E.write_shift(2,j)}function o(E){var z=E.read_shift(2)&65535,B=E.read_shift(2)&65535,j=new Date,Y=B&31;B>>>=5;var q=B&15;B>>>=4,j.setMilliseconds(0),j.setFullYear(B+1980),j.setMonth(q-1),j.setDate(Y);var pe=z&31;z>>>=5;var ve=z&63;return z>>>=6,j.setHours(z),j.setMinutes(ve),j.setSeconds(pe<<1),j}function s(E){vr(E,0);for(var z={},B=0;E.l<=E.length-4;){var j=E.read_shift(2),Y=E.read_shift(2),q=E.l+Y,pe={};switch(j){case 21589:B=E.read_shift(1),B&1&&(pe.mtime=E.read_shift(4)),Y>5&&(B&2&&(pe.atime=E.read_shift(4)),B&4&&(pe.ctime=E.read_shift(4))),pe.mtime&&(pe.mt=new Date(pe.mtime*1e3));break}E.l=q,z[j]=pe}return z}var m;function u(){return m||(m={})}function f(E,z){if(E[0]==80&&E[1]==75)return yo(E,z);if((E[0]|32)==109&&(E[1]|32)==105)return id(E,z);if(E.length<512)throw new Error("CFB file size "+E.length+" < 512");var B=3,j=512,Y=0,q=0,pe=0,ve=0,fe=0,he=[],ge=E.slice(0,512);vr(ge,0);var Le=g(ge);switch(B=Le[0],B){case 3:j=512;break;case 4:j=4096;break;case 0:if(Le[1]==0)return yo(E,z);default:throw new Error("Major Version: Expected 3 or 4 saw "+B)}j!==512&&(ge=E.slice(0,j),vr(ge,28));var ze=E.slice(0,j);x(ge,B);var it=ge.read_shift(4,"i");if(B===3&&it!==0)throw new Error("# Directory Sectors: Expected 0 saw "+it);ge.l+=4,pe=ge.read_shift(4,"i"),ge.l+=4,ge.chk("00100000","Mini Stream Cutoff Size: "),ve=ge.read_shift(4,"i"),Y=ge.read_shift(4,"i"),fe=ge.read_shift(4,"i"),q=ge.read_shift(4,"i");for(var Ye=-1,Xe=0;Xe<109&&(Ye=ge.read_shift(4,"i"),!(Ye<0));++Xe)he[Xe]=Ye;var rt=C(E,j);P(fe,q,rt,j,he);var Fn=I(rt,pe,he,j);Fn[pe].name="!Directory",Y>0&&ve!==ke&&(Fn[ve].name="!MiniFAT"),Fn[he[0]].name="!FAT",Fn.fat_addrs=he,Fn.ssz=j;var yr={},ui=[],wr=[],Vs=[];A(pe,Fn,rt,ui,Y,yr,wr,ve),y(wr,Vs,ui),ui.shift();var js={FileIndex:wr,FullPaths:Vs};return z&&z.raw&&(js.raw={header:ze,sectors:rt}),js}function g(E){if(E[E.l]==80&&E[E.l+1]==75)return[0,0];E.chk(Be,"Header Signature: "),E.l+=16;var z=E.read_shift(2,"u");return[E.read_shift(2,"u"),z]}function x(E,z){var B=9;switch(E.l+=2,B=E.read_shift(2)){case 9:if(z!=3)throw new Error("Sector Shift: Expected 9 saw "+B);break;case 12:if(z!=4)throw new Error("Sector Shift: Expected 12 saw "+B);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+B)}E.chk("0600","Mini Sector Shift: "),E.chk("000000000000","Reserved: ")}function C(E,z){for(var B=Math.ceil(E.length/z)-1,j=[],Y=1;Y<B;++Y)j[Y-1]=E.slice(Y*z,(Y+1)*z);return j[B-1]=E.slice(B*z),j}function y(E,z,B){for(var j=0,Y=0,q=0,pe=0,ve=0,fe=B.length,he=[],ge=[];j<fe;++j)he[j]=ge[j]=j,z[j]=B[j];for(;ve<ge.length;++ve)j=ge[ve],Y=E[j].L,q=E[j].R,pe=E[j].C,he[j]===j&&(Y!==-1&&he[Y]!==Y&&(he[j]=he[Y]),q!==-1&&he[q]!==q&&(he[j]=he[q])),pe!==-1&&(he[pe]=j),Y!==-1&&j!=he[j]&&(he[Y]=he[j],ge.lastIndexOf(Y)<ve&&ge.push(Y)),q!==-1&&j!=he[j]&&(he[q]=he[j],ge.lastIndexOf(q)<ve&&ge.push(q));for(j=1;j<fe;++j)he[j]===j&&(q!==-1&&he[q]!==q?he[j]=he[q]:Y!==-1&&he[Y]!==Y&&(he[j]=he[Y]));for(j=1;j<fe;++j)if(E[j].type!==0){if(ve=j,ve!=he[ve])do ve=he[ve],z[j]=z[ve]+"/"+z[j];while(ve!==0&&he[ve]!==-1&&ve!=he[ve]);he[j]=-1}for(z[0]+="/",j=1;j<fe;++j)E[j].type!==2&&(z[j]+="/")}function v(E,z,B){for(var j=E.start,Y=E.size,q=[],pe=j;B&&Y>0&&pe>=0;)q.push(z.slice(pe*ie,pe*ie+ie)),Y-=ie,pe=tc(B,pe*4);return q.length===0?Ce(0):ur(q).slice(0,E.size)}function P(E,z,B,j,Y){var q=ke;if(E===ke){if(z!==0)throw new Error("DIFAT chain shorter than expected")}else if(E!==-1){var pe=B[E],ve=(j>>>2)-1;if(!pe)return;for(var fe=0;fe<ve&&(q=tc(pe,fe*4))!==ke;++fe)Y.push(q);P(tc(pe,j-4),z-1,B,j,Y)}}function D(E,z,B,j,Y){var q=[],pe=[];Y||(Y=[]);var ve=j-1,fe=0,he=0;for(fe=z;fe>=0;){Y[fe]=!0,q[q.length]=fe,pe.push(E[fe]);var ge=B[Math.floor(fe*4/j)];if(he=fe*4&ve,j<4+he)throw new Error("FAT boundary crossed: "+fe+" 4 "+j);if(!E[ge])break;fe=tc(E[ge],he)}return{nodes:q,data:Ay([pe])}}function I(E,z,B,j){var Y=E.length,q=[],pe=[],ve=[],fe=[],he=j-1,ge=0,Le=0,ze=0,it=0;for(ge=0;ge<Y;++ge)if(ve=[],ze=ge+z,ze>=Y&&(ze-=Y),!pe[ze]){fe=[];var Ye=[];for(Le=ze;Le>=0;){Ye[Le]=!0,pe[Le]=!0,ve[ve.length]=Le,fe.push(E[Le]);var Xe=B[Math.floor(Le*4/j)];if(it=Le*4&he,j<4+it)throw new Error("FAT boundary crossed: "+Le+" 4 "+j);if(!E[Xe]||(Le=tc(E[Xe],it),Ye[Le]))break}q[ze]={nodes:ve,data:Ay([fe])}}return q}function A(E,z,B,j,Y,q,pe,ve){for(var fe=0,he=j.length?2:0,ge=z[E].data,Le=0,ze=0,it;Le<ge.length;Le+=128){var Ye=ge.slice(Le,Le+128);vr(Ye,64),ze=Ye.read_shift(2),it=zp(Ye,0,ze-he),j.push(it);var Xe={name:it,type:Ye.read_shift(1),color:Ye.read_shift(1),L:Ye.read_shift(4,"i"),R:Ye.read_shift(4,"i"),C:Ye.read_shift(4,"i"),clsid:Ye.read_shift(16),state:Ye.read_shift(4,"i"),start:0,size:0},rt=Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2);rt!==0&&(Xe.ct=K(Ye,Ye.l-8));var Fn=Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2);Fn!==0&&(Xe.mt=K(Ye,Ye.l-8)),Xe.start=Ye.read_shift(4,"i"),Xe.size=Ye.read_shift(4,"i"),Xe.size<0&&Xe.start<0&&(Xe.size=Xe.type=0,Xe.start=ke,Xe.name=""),Xe.type===5?(fe=Xe.start,Y>0&&fe!==ke&&(z[fe].name="!StreamData")):Xe.size>=4096?(Xe.storage="fat",z[Xe.start]===void 0&&(z[Xe.start]=D(B,Xe.start,z.fat_addrs,z.ssz)),z[Xe.start].name=Xe.name,Xe.content=z[Xe.start].data.slice(0,Xe.size)):(Xe.storage="minifat",Xe.size<0?Xe.size=0:fe!==ke&&Xe.start!==ke&&z[fe]&&(Xe.content=v(Xe,z[fe].data,(z[ve]||{}).data))),Xe.content&&vr(Xe.content,0),q[it]=Xe,pe.push(Xe)}}function K(E,z){return new Date((mr(E,z+4)/1e7*Math.pow(2,32)+mr(E,z)/1e7-11644473600)*1e3)}function J(E,z){return u(),f(m.readFileSync(E),z)}function O(E,z){var B=z&&z.type;switch(B||tn&&Buffer.isBuffer(E)&&(B="buffer"),B||"base64"){case"file":return J(E,z);case"base64":return f(Ca(wa(E)),z);case"binary":return f(Ca(E),z)}return f(E,z)}function k(E,z){var B=z||{},j=B.root||"Root Entry";if(E.FullPaths||(E.FullPaths=[]),E.FileIndex||(E.FileIndex=[]),E.FullPaths.length!==E.FileIndex.length)throw new Error("inconsistent CFB structure");E.FullPaths.length===0&&(E.FullPaths[0]=j+"/",E.FileIndex[0]={name:j,type:5}),B.CLSID&&(E.FileIndex[0].clsid=B.CLSID),V(E)}function V(E){var z="Sh33tJ5";if(!gt.find(E,"/"+z)){var B=Ce(4);B[0]=55,B[1]=B[3]=50,B[2]=54,E.FileIndex.push({name:z,type:2,content:B,size:4,L:69,R:69,C:69}),E.FullPaths.push(E.FullPaths[0]+z),W(E)}}function W(E,z){k(E);for(var B=!1,j=!1,Y=E.FullPaths.length-1;Y>=0;--Y){var q=E.FileIndex[Y];switch(q.type){case 0:j?B=!0:(E.FileIndex.pop(),E.FullPaths.pop());break;case 1:case 2:case 5:j=!0,isNaN(q.R*q.L*q.C)&&(B=!0),q.R>-1&&q.L>-1&&q.R==q.L&&(B=!0);break;default:B=!0;break}}if(!(!B&&!z)){var pe=new Date(1987,1,19),ve=0,fe=Object.create?Object.create(null):{},he=[];for(Y=0;Y<E.FullPaths.length;++Y)fe[E.FullPaths[Y]]=!0,E.FileIndex[Y].type!==0&&he.push([E.FullPaths[Y],E.FileIndex[Y]]);for(Y=0;Y<he.length;++Y){var ge=t(he[Y][0]);j=fe[ge],j||(he.push([ge,{name:i(ge).replace("/",""),type:1,clsid:$e,ct:pe,mt:pe,content:null}]),fe[ge]=!0)}for(he.sort(function(it,Ye){return r(it[0],Ye[0])}),E.FullPaths=[],E.FileIndex=[],Y=0;Y<he.length;++Y)E.FullPaths[Y]=he[Y][0],E.FileIndex[Y]=he[Y][1];for(Y=0;Y<he.length;++Y){var Le=E.FileIndex[Y],ze=E.FullPaths[Y];if(Le.name=i(ze).replace("/",""),Le.L=Le.R=Le.C=-(Le.color=1),Le.size=Le.content?Le.content.length:0,Le.start=0,Le.clsid=Le.clsid||$e,Y===0)Le.C=he.length>1?1:-1,Le.size=0,Le.type=5;else if(ze.slice(-1)=="/"){for(ve=Y+1;ve<he.length&&t(E.FullPaths[ve])!=ze;++ve);for(Le.C=ve>=he.length?-1:ve,ve=Y+1;ve<he.length&&t(E.FullPaths[ve])!=t(ze);++ve);Le.R=ve>=he.length?-1:ve,Le.type=1}else t(E.FullPaths[Y+1]||"")==t(ze)&&(Le.R=Y+1),Le.type=2}}}function ee(E,z){var B=z||{};if(B.fileType=="mad")return On(E,B);switch(W(E),B.fileType){case"zip":return wc(E,B)}var j=function(it){for(var Ye=0,Xe=0,rt=0;rt<it.FileIndex.length;++rt){var Fn=it.FileIndex[rt];if(Fn.content){var yr=Fn.content.length;yr>0&&(yr<4096?Ye+=yr+63>>6:Xe+=yr+511>>9)}}for(var ui=it.FullPaths.length+3>>2,wr=Ye+7>>3,Vs=Ye+127>>7,js=wr+Xe+ui+Vs,wo=js+127>>7,ad=wo<=109?0:Math.ceil((wo-109)/127);js+wo+ad+127>>7>wo;)ad=++wo<=109?0:Math.ceil((wo-109)/127);var Ga=[1,ad,wo,Vs,ui,Xe,Ye,0];return it.FileIndex[0].size=Ye<<6,Ga[7]=(it.FileIndex[0].start=Ga[0]+Ga[1]+Ga[2]+Ga[3]+Ga[4]+Ga[5])+(Ga[6]+7>>3),Ga}(E),Y=Ce(j[7]<<9),q=0,pe=0;{for(q=0;q<8;++q)Y.write_shift(1,ye[q]);for(q=0;q<8;++q)Y.write_shift(2,0);for(Y.write_shift(2,62),Y.write_shift(2,3),Y.write_shift(2,65534),Y.write_shift(2,9),Y.write_shift(2,6),q=0;q<3;++q)Y.write_shift(2,0);for(Y.write_shift(4,0),Y.write_shift(4,j[2]),Y.write_shift(4,j[0]+j[1]+j[2]+j[3]-1),Y.write_shift(4,0),Y.write_shift(4,4096),Y.write_shift(4,j[3]?j[0]+j[1]+j[2]-1:ke),Y.write_shift(4,j[3]),Y.write_shift(-4,j[1]?j[0]-1:ke),Y.write_shift(4,j[1]),q=0;q<109;++q)Y.write_shift(-4,q<j[2]?j[1]+q:-1)}if(j[1])for(pe=0;pe<j[1];++pe){for(;q<236+pe*127;++q)Y.write_shift(-4,q<j[2]?j[1]+q:-1);Y.write_shift(-4,pe===j[1]-1?ke:pe+1)}var ve=function(it){for(pe+=it;q<pe-1;++q)Y.write_shift(-4,q+1);it&&(++q,Y.write_shift(-4,ke))};for(pe=q=0,pe+=j[1];q<pe;++q)Y.write_shift(-4,Te.DIFSECT);for(pe+=j[2];q<pe;++q)Y.write_shift(-4,Te.FATSECT);ve(j[3]),ve(j[4]);for(var fe=0,he=0,ge=E.FileIndex[0];fe<E.FileIndex.length;++fe)ge=E.FileIndex[fe],ge.content&&(he=ge.content.length,!(he<4096)&&(ge.start=pe,ve(he+511>>9)));for(ve(j[6]+7>>3);Y.l&511;)Y.write_shift(-4,Te.ENDOFCHAIN);for(pe=q=0,fe=0;fe<E.FileIndex.length;++fe)ge=E.FileIndex[fe],ge.content&&(he=ge.content.length,!(!he||he>=4096)&&(ge.start=pe,ve(he+63>>6)));for(;Y.l&511;)Y.write_shift(-4,Te.ENDOFCHAIN);for(q=0;q<j[4]<<2;++q){var Le=E.FullPaths[q];if(!Le||Le.length===0){for(fe=0;fe<17;++fe)Y.write_shift(4,0);for(fe=0;fe<3;++fe)Y.write_shift(4,-1);for(fe=0;fe<12;++fe)Y.write_shift(4,0);continue}ge=E.FileIndex[q],q===0&&(ge.start=ge.size?ge.start-1:ke);var ze=q===0&&B.root||ge.name;if(he=2*(ze.length+1),Y.write_shift(64,ze,"utf16le"),Y.write_shift(2,he),Y.write_shift(1,ge.type),Y.write_shift(1,ge.color),Y.write_shift(-4,ge.L),Y.write_shift(-4,ge.R),Y.write_shift(-4,ge.C),ge.clsid)Y.write_shift(16,ge.clsid,"hex");else for(fe=0;fe<4;++fe)Y.write_shift(4,0);Y.write_shift(4,ge.state||0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,ge.start),Y.write_shift(4,ge.size),Y.write_shift(4,0)}for(q=1;q<E.FileIndex.length;++q)if(ge=E.FileIndex[q],ge.size>=4096)if(Y.l=ge.start+1<<9,tn&&Buffer.isBuffer(ge.content))ge.content.copy(Y,Y.l,0,ge.size),Y.l+=ge.size+511&-512;else{for(fe=0;fe<ge.size;++fe)Y.write_shift(1,ge.content[fe]);for(;fe&511;++fe)Y.write_shift(1,0)}for(q=1;q<E.FileIndex.length;++q)if(ge=E.FileIndex[q],ge.size>0&&ge.size<4096)if(tn&&Buffer.isBuffer(ge.content))ge.content.copy(Y,Y.l,0,ge.size),Y.l+=ge.size+63&-64;else{for(fe=0;fe<ge.size;++fe)Y.write_shift(1,ge.content[fe]);for(;fe&63;++fe)Y.write_shift(1,0)}if(tn)Y.l=Y.length;else for(;Y.l<Y.length;)Y.write_shift(1,0);return Y}function re(E,z){var B=E.FullPaths.map(function(fe){return fe.toUpperCase()}),j=B.map(function(fe){var he=fe.split("/");return he[he.length-(fe.slice(-1)=="/"?2:1)]}),Y=!1;z.charCodeAt(0)===47?(Y=!0,z=B[0].slice(0,-1)+z):Y=z.indexOf("/")!==-1;var q=z.toUpperCase(),pe=Y===!0?B.indexOf(q):j.indexOf(q);if(pe!==-1)return E.FileIndex[pe];var ve=!q.match(Gd);for(q=q.replace(Fr,""),ve&&(q=q.replace(Gd,"!")),pe=0;pe<B.length;++pe)if((ve?B[pe].replace(Gd,"!"):B[pe]).replace(Fr,"")==q||(ve?j[pe].replace(Gd,"!"):j[pe]).replace(Fr,"")==q)return E.FileIndex[pe];return null}var ie=64,ke=-2,Be="d0cf11e0a1b11ae1",ye=[208,207,17,224,161,177,26,225],$e="00000000000000000000000000000000",Te={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ke,FREESECT:-1,HEADER_SIGNATURE:Be,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:$e,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function nt(E,z,B){u();var j=ee(E,B);m.writeFileSync(z,j)}function Me(E){for(var z=new Array(E.length),B=0;B<E.length;++B)z[B]=String.fromCharCode(E[B]);return z.join("")}function Ae(E,z){var B=ee(E,z);switch(z&&z.type||"buffer"){case"file":return u(),m.writeFileSync(z.filename,B),B;case"binary":return typeof B=="string"?B:Me(B);case"base64":return r0(typeof B=="string"?B:Me(B));case"buffer":if(tn)return Buffer.isBuffer(B)?B:Ho(B);case"array":return typeof B=="string"?Ca(B):B}return B}var ce;function X(E){try{var z=E.InflateRaw,B=new z;if(B._processChunk(new Uint8Array([3,0]),B._finishFlushFlag),B.bytesRead)ce=E;else throw new Error("zlib does not expose bytesRead")}catch(j){console.error("cannot use native zlib: "+(j.message||j))}}function te(E,z){if(!ce)return I0(E,z);var B=ce.InflateRaw,j=new B,Y=j._processChunk(E.slice(E.l),j._finishFlushFlag);return E.l+=j.bytesRead,Y}function Q(E){return ce?ce.deflateRawSync(E):xt(E)}var Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Pe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Oe(E){var z=(E<<1|E<<11)&139536|(E<<5|E<<15)&558144;return(z>>16|z>>8|z)&255}for(var we=typeof Uint8Array<"u",xe=we?new Uint8Array(256):[],ot=0;ot<256;++ot)xe[ot]=Oe(ot);function H(E,z){var B=xe[E&255];return z<=8?B>>>8-z:(B=B<<8|xe[E>>8&255],z<=16?B>>>16-z:(B=B<<8|xe[E>>16&255],B>>>24-z))}function ct(E,z){var B=z&7,j=z>>>3;return(E[j]|(B<=6?0:E[j+1]<<8))>>>B&3}function Ke(E,z){var B=z&7,j=z>>>3;return(E[j]|(B<=5?0:E[j+1]<<8))>>>B&7}function St(E,z){var B=z&7,j=z>>>3;return(E[j]|(B<=4?0:E[j+1]<<8))>>>B&15}function Je(E,z){var B=z&7,j=z>>>3;return(E[j]|(B<=3?0:E[j+1]<<8))>>>B&31}function Re(E,z){var B=z&7,j=z>>>3;return(E[j]|(B<=1?0:E[j+1]<<8))>>>B&127}function Lt(E,z,B){var j=z&7,Y=z>>>3,q=(1<<B)-1,pe=E[Y]>>>j;return B<8-j||(pe|=E[Y+1]<<8-j,B<16-j)||(pe|=E[Y+2]<<16-j,B<24-j)||(pe|=E[Y+3]<<24-j),pe&q}function yn(E,z,B){var j=z&7,Y=z>>>3;return j<=5?E[Y]|=(B&7)<<j:(E[Y]|=B<<j&255,E[Y+1]=(B&7)>>8-j),z+3}function Qn(E,z,B){var j=z&7,Y=z>>>3;return B=(B&1)<<j,E[Y]|=B,z+1}function fr(E,z,B){var j=z&7,Y=z>>>3;return B<<=j,E[Y]|=B&255,B>>>=8,E[Y+1]=B,z+8}function ai(E,z,B){var j=z&7,Y=z>>>3;return B<<=j,E[Y]|=B&255,B>>>=8,E[Y+1]=B&255,E[Y+2]=B>>>8,z+16}function vi(E,z){var B=E.length,j=2*B>z?2*B:z+5,Y=0;if(B>=z)return E;if(tn){var q=fy(j);if(E.copy)E.copy(q);else for(;Y<E.length;++Y)q[Y]=E[Y];return q}else if(we){var pe=new Uint8Array(j);if(pe.set)pe.set(E);else for(;Y<B;++Y)pe[Y]=E[Y];return pe}return E.length=j,E}function Dt(E){for(var z=new Array(E),B=0;B<E;++B)z[B]=0;return z}function Wn(E,z,B){var j=1,Y=0,q=0,pe=0,ve=0,fe=E.length,he=we?new Uint16Array(32):Dt(32);for(q=0;q<32;++q)he[q]=0;for(q=fe;q<B;++q)E[q]=0;fe=E.length;var ge=we?new Uint16Array(fe):Dt(fe);for(q=0;q<fe;++q)he[Y=E[q]]++,j<Y&&(j=Y),ge[q]=0;for(he[0]=0,q=1;q<=j;++q)he[q+16]=ve=ve+he[q-1]<<1;for(q=0;q<fe;++q)ve=E[q],ve!=0&&(ge[q]=he[ve+16]++);var Le=0;for(q=0;q<fe;++q)if(Le=E[q],Le!=0)for(ve=H(ge[q],j)>>j-Le,pe=(1<<j+4-Le)-1;pe>=0;--pe)z[ve|pe<<Le]=Le&15|q<<4;return j}var bi=we?new Uint16Array(512):Dt(512),Hr=we?new Uint16Array(32):Dt(32);if(!we){for(var Bt=0;Bt<512;++Bt)bi[Bt]=0;for(Bt=0;Bt<32;++Bt)Hr[Bt]=0}(function(){for(var E=[],z=0;z<32;z++)E.push(5);Wn(E,Hr,32);var B=[];for(z=0;z<=143;z++)B.push(8);for(;z<=255;z++)B.push(9);for(;z<=279;z++)B.push(7);for(;z<=287;z++)B.push(8);Wn(B,bi,288)})();var Li=function(){for(var z=we?new Uint8Array(32768):[],B=0,j=0;B<Pe.length-1;++B)for(;j<Pe[B+1];++j)z[j]=B;for(;j<32768;++j)z[j]=29;var Y=we?new Uint8Array(259):[];for(B=0,j=0;B<le.length-1;++B)for(;j<le[B+1];++j)Y[j]=B;function q(ve,fe){for(var he=0;he<ve.length;){var ge=Math.min(65535,ve.length-he),Le=he+ge==ve.length;for(fe.write_shift(1,+Le),fe.write_shift(2,ge),fe.write_shift(2,~ge&65535);ge-- >0;)fe[fe.l++]=ve[he++]}return fe.l}function pe(ve,fe){for(var he=0,ge=0,Le=we?new Uint16Array(32768):[];ge<ve.length;){var ze=Math.min(65535,ve.length-ge);if(ze<10){for(he=yn(fe,he,+(ge+ze==ve.length)),he&7&&(he+=8-(he&7)),fe.l=he/8|0,fe.write_shift(2,ze),fe.write_shift(2,~ze&65535);ze-- >0;)fe[fe.l++]=ve[ge++];he=fe.l*8;continue}he=yn(fe,he,+(ge+ze==ve.length)+2);for(var it=0;ze-- >0;){var Ye=ve[ge];it=(it<<5^Ye)&32767;var Xe=-1,rt=0;if((Xe=Le[it])&&(Xe|=ge&-32768,Xe>ge&&(Xe-=32768),Xe<ge))for(;ve[Xe+rt]==ve[ge+rt]&&rt<250;)++rt;if(rt>2){Ye=Y[rt],Ye<=22?he=fr(fe,he,xe[Ye+1]>>1)-1:(fr(fe,he,3),he+=5,fr(fe,he,xe[Ye-23]>>5),he+=3);var Fn=Ye<8?0:Ye-4>>2;Fn>0&&(ai(fe,he,rt-le[Ye]),he+=Fn),Ye=z[ge-Xe],he=fr(fe,he,xe[Ye]>>3),he-=3;var yr=Ye<4?0:Ye-2>>1;yr>0&&(ai(fe,he,ge-Xe-Pe[Ye]),he+=yr);for(var ui=0;ui<rt;++ui)Le[it]=ge&32767,it=(it<<5^ve[ge])&32767,++ge;ze-=rt-1}else Ye<=143?Ye=Ye+48:he=Qn(fe,he,1),he=fr(fe,he,xe[Ye]),Le[it]=ge&32767,++ge}he=fr(fe,he,0)-1}return fe.l=(he+7)/8|0,fe.l}return function(fe,he){return fe.length<8?q(fe,he):pe(fe,he)}}();function xt(E){var z=Ce(50+Math.floor(E.length*1.1)),B=Li(E,z);return z.slice(0,B)}var wn=we?new Uint16Array(32768):Dt(32768),$i=we?new Uint16Array(32768):Dt(32768),oi=we?new Uint16Array(128):Dt(128),$r=1,Ls=1;function hf(E,z){var B=Je(E,z)+257;z+=5;var j=Je(E,z)+1;z+=5;var Y=St(E,z)+4;z+=4;for(var q=0,pe=we?new Uint8Array(19):Dt(19),ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],fe=1,he=we?new Uint8Array(8):Dt(8),ge=we?new Uint8Array(8):Dt(8),Le=pe.length,ze=0;ze<Y;++ze)pe[Z[ze]]=q=Ke(E,z),fe<q&&(fe=q),he[q]++,z+=3;var it=0;for(he[0]=0,ze=1;ze<=fe;++ze)ge[ze]=it=it+he[ze-1]<<1;for(ze=0;ze<Le;++ze)(it=pe[ze])!=0&&(ve[ze]=ge[it]++);var Ye=0;for(ze=0;ze<Le;++ze)if(Ye=pe[ze],Ye!=0){it=xe[ve[ze]]>>8-Ye;for(var Xe=(1<<7-Ye)-1;Xe>=0;--Xe)oi[it|Xe<<Ye]=Ye&7|ze<<3}var rt=[];for(fe=1;rt.length<B+j;)switch(it=oi[Re(E,z)],z+=it&7,it>>>=3){case 16:for(q=3+ct(E,z),z+=2,it=rt[rt.length-1];q-- >0;)rt.push(it);break;case 17:for(q=3+Ke(E,z),z+=3;q-- >0;)rt.push(0);break;case 18:for(q=11+Re(E,z),z+=7;q-- >0;)rt.push(0);break;default:rt.push(it),fe<it&&(fe=it);break}var Fn=rt.slice(0,B),yr=rt.slice(B);for(ze=B;ze<286;++ze)Fn[ze]=0;for(ze=j;ze<30;++ze)yr[ze]=0;return $r=Wn(Fn,wn,286),Ls=Wn(yr,$i,30),z}function yc(E,z){if(E[0]==3&&!(E[1]&3))return[Os(z),2];for(var B=0,j=0,Y=fy(z||1<<18),q=0,pe=Y.length>>>0,ve=0,fe=0;!(j&1);){if(j=Ke(E,B),B+=3,j>>>1)j>>1==1?(ve=9,fe=5):(B=hf(E,B),ve=$r,fe=Ls);else{B&7&&(B+=8-(B&7));var he=E[B>>>3]|E[(B>>>3)+1]<<8;if(B+=32,he>0)for(!z&&pe<q+he&&(Y=vi(Y,q+he),pe=Y.length);he-- >0;)Y[q++]=E[B>>>3],B+=8;continue}for(;;){!z&&pe<q+32767&&(Y=vi(Y,q+32767),pe=Y.length);var ge=Lt(E,B,ve),Le=j>>>1==1?bi[ge]:wn[ge];if(B+=Le&15,Le>>>=4,!(Le>>>8&255))Y[q++]=Le;else{if(Le==256)break;Le-=257;var ze=Le<8?0:Le-4>>2;ze>5&&(ze=0);var it=q+le[Le];ze>0&&(it+=Lt(E,B,ze),B+=ze),ge=Lt(E,B,fe),Le=j>>>1==1?Hr[ge]:$i[ge],B+=Le&15,Le>>>=4;var Ye=Le<4?0:Le-2>>1,Xe=Pe[Le];for(Ye>0&&(Xe+=Lt(E,B,Ye),B+=Ye),!z&&pe<it&&(Y=vi(Y,it+100),pe=Y.length);q<it;)Y[q]=Y[q-Xe],++q}}}return z?[Y,B+7>>>3]:[Y.slice(0,q),B+7>>>3]}function I0(E,z){var B=E.slice(E.l||0),j=yc(B,z);return E.l+=j[1],j[0]}function Xo(E,z){if(E)typeof console<"u"&&console.error(z);else throw new Error(z)}function yo(E,z){var B=E;vr(B,0);var j=[],Y=[],q={FileIndex:j,FullPaths:Y};k(q,{root:z.root});for(var pe=B.length-4;(B[pe]!=80||B[pe+1]!=75||B[pe+2]!=5||B[pe+3]!=6)&&pe>=0;)--pe;B.l=pe+4,B.l+=4;var ve=B.read_shift(2);B.l+=6;var fe=B.read_shift(4);for(B.l=fe,pe=0;pe<ve;++pe){B.l+=20;var he=B.read_shift(4),ge=B.read_shift(4),Le=B.read_shift(2),ze=B.read_shift(2),it=B.read_shift(2);B.l+=8;var Ye=B.read_shift(4),Xe=s(B.slice(B.l+Le,B.l+Le+ze));B.l+=Le+ze+it;var rt=B.l;B.l=Ye+4,nd(B,he,ge,q,Xe),B.l=rt}return q}function nd(E,z,B,j,Y){E.l+=2;var q=E.read_shift(2),pe=E.read_shift(2),ve=o(E);if(q&8257)throw new Error("Unsupported ZIP encryption");for(var fe=E.read_shift(4),he=E.read_shift(4),ge=E.read_shift(4),Le=E.read_shift(2),ze=E.read_shift(2),it="",Ye=0;Ye<Le;++Ye)it+=String.fromCharCode(E[E.l++]);if(ze){var Xe=s(E.slice(E.l,E.l+ze));(Xe[21589]||{}).mt&&(ve=Xe[21589].mt),((Y||{})[21589]||{}).mt&&(ve=Y[21589].mt)}E.l+=ze;var rt=E.slice(E.l,E.l+he);switch(pe){case 8:rt=te(E,ge);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+pe)}var Fn=!1;q&8&&(fe=E.read_shift(4),fe==134695760&&(fe=E.read_shift(4),Fn=!0),he=E.read_shift(4),ge=E.read_shift(4)),he!=z&&Xo(Fn,"Bad compressed size: "+z+" != "+he),ge!=B&&Xo(Fn,"Bad uncompressed size: "+B+" != "+ge),rd(j,it,rt,{unsafe:!0,mt:ve})}function wc(E,z){var B=z||{},j=[],Y=[],q=Ce(1),pe=B.compression?8:0,ve=0,fe=!1;fe&&(ve|=8);var he=0,ge=0,Le=0,ze=0,it=E.FullPaths[0],Ye=it,Xe=E.FileIndex[0],rt=[],Fn=0;for(he=1;he<E.FullPaths.length;++he)if(Ye=E.FullPaths[he].slice(it.length),Xe=E.FileIndex[he],!(!Xe.size||!Xe.content||Ye=="Sh33tJ5")){var yr=Le,ui=Ce(Ye.length);for(ge=0;ge<Ye.length;++ge)ui.write_shift(1,Ye.charCodeAt(ge)&127);ui=ui.slice(0,ui.l),rt[ze]=pA.buf(Xe.content,0);var wr=Xe.content;pe==8&&(wr=Q(wr)),q=Ce(30),q.write_shift(4,67324752),q.write_shift(2,20),q.write_shift(2,ve),q.write_shift(2,pe),Xe.mt?a(q,Xe.mt):q.write_shift(4,0),q.write_shift(-4,ve&8?0:rt[ze]),q.write_shift(4,ve&8?0:wr.length),q.write_shift(4,ve&8?0:Xe.content.length),q.write_shift(2,ui.length),q.write_shift(2,0),Le+=q.length,j.push(q),Le+=ui.length,j.push(ui),Le+=wr.length,j.push(wr),ve&8&&(q=Ce(12),q.write_shift(-4,rt[ze]),q.write_shift(4,wr.length),q.write_shift(4,Xe.content.length),Le+=q.l,j.push(q)),q=Ce(46),q.write_shift(4,33639248),q.write_shift(2,0),q.write_shift(2,20),q.write_shift(2,ve),q.write_shift(2,pe),q.write_shift(4,0),q.write_shift(-4,rt[ze]),q.write_shift(4,wr.length),q.write_shift(4,Xe.content.length),q.write_shift(2,ui.length),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(4,0),q.write_shift(4,yr),Fn+=q.l,Y.push(q),Fn+=ui.length,Y.push(ui),++ze}return q=Ce(22),q.write_shift(4,101010256),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(2,ze),q.write_shift(2,ze),q.write_shift(4,Fn),q.write_shift(4,Le),q.write_shift(2,0),ur([ur(j),ur(Y),q])}var Ze={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function gf(E,z){if(E.ctype)return E.ctype;var B=E.name||"",j=B.match(/\.([^\.]+)$/);return j&&Ze[j[1]]||z&&(j=(B=z).match(/[\.\\]([^\.\\])+$/),j&&Ze[j[1]])?Ze[j[1]]:"application/octet-stream"}function _f(E){for(var z=r0(E),B=[],j=0;j<z.length;j+=76)B.push(z.slice(j,j+76));return B.join(`\r
`)+`\r
`}function Ha(E){var z=E.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(he){var ge=he.charCodeAt(0).toString(16).toUpperCase();return"="+(ge.length==1?"0"+ge:ge)});z=z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),z.charAt(0)==`
`&&(z="=0D"+z.slice(1)),z=z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var B=[],j=z.split(`\r
`),Y=0;Y<j.length;++Y){var q=j[Y];if(q.length==0){B.push("");continue}for(var pe=0;pe<q.length;){var ve=76,fe=q.slice(pe,pe+ve);fe.charAt(ve-1)=="="?ve--:fe.charAt(ve-2)=="="?ve-=2:fe.charAt(ve-3)=="="&&(ve-=3),fe=q.slice(pe,pe+ve),pe+=ve,pe<q.length&&(fe+="="),B.push(fe)}}return B.join(`\r
`)}function Gr(E){for(var z=[],B=0;B<E.length;++B){for(var j=E[B];B<=E.length&&j.charAt(j.length-1)=="=";)j=j.slice(0,j.length-1)+E[++B];z.push(j)}for(var Y=0;Y<z.length;++Y)z[Y]=z[Y].replace(/[=][0-9A-Fa-f]{2}/g,function(q){return String.fromCharCode(parseInt(q.slice(1),16))});return Ca(z.join(`\r
`))}function nn(E,z,B){for(var j="",Y="",q="",pe,ve=0;ve<10;++ve){var fe=z[ve];if(!fe||fe.match(/^\s*$/))break;var he=fe.match(/^(.*?):\s*([^\s].*)$/);if(he)switch(he[1].toLowerCase()){case"content-location":j=he[2].trim();break;case"content-type":q=he[2].trim();break;case"content-transfer-encoding":Y=he[2].trim();break}}switch(++ve,Y.toLowerCase()){case"base64":pe=Ca(wa(z.slice(ve).join("")));break;case"quoted-printable":pe=Gr(z.slice(ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Y)}var ge=rd(E,j.slice(B.length),pe,{unsafe:!0});q&&(ge.ctype=q)}function id(E,z){if(Me(E.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var B=z&&z.root||"",j=(tn&&Buffer.isBuffer(E)?E.toString("binary"):Me(E)).split(`\r
`),Y=0,q="";for(Y=0;Y<j.length;++Y)if(q=j[Y],!!/^Content-Location:/i.test(q)&&(q=q.slice(q.indexOf("file")),B||(B=q.slice(0,q.lastIndexOf("/")+1)),q.slice(0,B.length)!=B))for(;B.length>0&&(B=B.slice(0,B.length-1),B=B.slice(0,B.lastIndexOf("/")+1),q.slice(0,B.length)!=B););var pe=(j[1]||"").match(/boundary="(.*?)"/);if(!pe)throw new Error("MAD cannot find boundary");var ve="--"+(pe[1]||""),fe=[],he=[],ge={FileIndex:fe,FullPaths:he};k(ge);var Le,ze=0;for(Y=0;Y<j.length;++Y){var it=j[Y];it!==ve&&it!==ve+"--"||(ze++&&nn(ge,j.slice(Le,Y),B),Le=Y)}return ge}function On(E,z){var B=z||{},j=B.boundary||"SheetJS";j="------="+j;for(var Y=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+j.slice(2)+'"',"","",""],q=E.FullPaths[0],pe=q,ve=E.FileIndex[0],fe=1;fe<E.FullPaths.length;++fe)if(pe=E.FullPaths[fe].slice(q.length),ve=E.FileIndex[fe],!(!ve.size||!ve.content||pe=="Sh33tJ5")){pe=pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(rt){return"_x"+rt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(rt){return"_u"+rt.charCodeAt(0).toString(16)+"_"});for(var he=ve.content,ge=tn&&Buffer.isBuffer(he)?he.toString("binary"):Me(he),Le=0,ze=Math.min(1024,ge.length),it=0,Ye=0;Ye<=ze;++Ye)(it=ge.charCodeAt(Ye))>=32&&it<128&&++Le;var Xe=Le>=ze*4/5;Y.push(j),Y.push("Content-Location: "+(B.root||"file:///C:/SheetJS/")+pe),Y.push("Content-Transfer-Encoding: "+(Xe?"quoted-printable":"base64")),Y.push("Content-Type: "+gf(ve,pe)),Y.push(""),Y.push(Xe?Ha(ge):_f(ge))}return Y.push(j+`--\r
`),Y.join(`\r
`)}function Bs(E){var z={};return k(z,E),z}function rd(E,z,B,j){var Y=j&&j.unsafe;Y||k(E);var q=!Y&&gt.find(E,z);if(!q){var pe=E.FullPaths[0];z.slice(0,pe.length)==pe?pe=z:(pe.slice(-1)!="/"&&(pe+="/"),pe=(pe+z).replace("//","/")),q={name:i(z),type:2},E.FileIndex.push(q),E.FullPaths.push(pe),Y||gt.utils.cfb_gc(E)}return q.content=B,q.size=B?B.length:0,j&&(j.CLSID&&(q.clsid=j.CLSID),j.mt&&(q.mt=j.mt),j.ct&&(q.ct=j.ct)),q}function Mc(E,z){k(E);var B=gt.find(E,z);if(B){for(var j=0;j<E.FileIndex.length;++j)if(E.FileIndex[j]==B)return E.FileIndex.splice(j,1),E.FullPaths.splice(j,1),!0}return!1}function nr(E,z,B){k(E);var j=gt.find(E,z);if(j){for(var Y=0;Y<E.FileIndex.length;++Y)if(E.FileIndex[Y]==j)return E.FileIndex[Y].name=i(B),E.FullPaths[Y]=B,!0}return!1}function $a(E){W(E,!0)}return n.find=re,n.read=O,n.parse=f,n.write=Ae,n.writeFile=nt,n.utils={cfb_new:Bs,cfb_add:rd,cfb_del:Mc,cfb_mov:nr,cfb_gc:$a,ReadShift:Xd,CheckField:K2,prep_blob:vr,bconcat:ur,use_zlib:X,_deflateRaw:xt,_inflateRaw:I0,consts:Te},n}(),Bl;function fA(e){return typeof e=="string"?Lp(e):Array.isArray(e)?jI(e):e}function x0(e,n,r){if(typeof Bl<"u"&&Bl.writeFileSync)return r?Bl.writeFileSync(e,n,r):Bl.writeFileSync(e,n);if(typeof Deno<"u"){if(r&&typeof n=="string")switch(r){case"utf8":n=new TextEncoder(r).encode(n);break;case"binary":n=Lp(n);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,n)}var t=r=="utf8"?_o(n):n;if(typeof IE_SaveFile<"u")return IE_SaveFile(t,e);if(typeof Blob<"u"){var i=new Blob([fA(t)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(n)&&(n=Is(n)),s.write(n),s.close(),n}catch(m){if(!m.message||!m.message.match(/onstruct/))throw m}throw new Error("cannot save file "+e)}function hA(e){if(typeof Bl<"u")return Bl.readFileSync(e);if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var n=File(e);n.open("r"),n.encoding="binary";var r=n.read();return n.close(),r}catch(t){if(!t.message||!t.message.match(/onstruct/))throw t}throw new Error("Cannot access file "+e)}function Oi(e){for(var n=Object.keys(e),r=[],t=0;t<n.length;++t)Object.prototype.hasOwnProperty.call(e,n[t])&&r.push(n[t]);return r}function yy(e,n){for(var r=[],t=Oi(e),i=0;i!==t.length;++i)r[e[t[i]][n]]==null&&(r[e[t[i]][n]]=t[i]);return r}function Bp(e){for(var n=[],r=Oi(e),t=0;t!==r.length;++t)n[e[r[t]]]=r[t];return n}function Vp(e){for(var n=[],r=Oi(e),t=0;t!==r.length;++t)n[e[r[t]]]=parseInt(r[t],10);return n}function gA(e){for(var n=[],r=Oi(e),t=0;t!==r.length;++t)n[e[r[t]]]==null&&(n[e[r[t]]]=[]),n[e[r[t]]].push(r[t]);return n}var kp=new Date(1899,11,30,0,0,0);function tr(e,n){var r=e.getTime();n&&(r-=1462*24*60*60*1e3);var t=kp.getTime()+(e.getTimezoneOffset()-kp.getTimezoneOffset())*6e4;return(r-t)/(24*60*60*1e3)}var A2=new Date,_A=kp.getTime()+(A2.getTimezoneOffset()-kp.getTimezoneOffset())*6e4,wy=A2.getTimezoneOffset();function jp(e){var n=new Date;return n.setTime(e*24*60*60*1e3+_A),n.getTimezoneOffset()!==wy&&n.setTime(n.getTime()+(n.getTimezoneOffset()-wy)*6e4),n}function xA(e){var n=0,r=0,t=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(t=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(t)r*=60;else throw new Error("Unsupported ISO Duration Field: M");case"S":break}n+=r*parseInt(i[a],10)}return n}var My=new Date("2017-02-19T19:06:09.000Z"),F2=isNaN(My.getFullYear())?new Date("2/19/17"):My,vA=F2.getFullYear()==2017;function ii(e,n){var r=new Date(e);if(vA)return n>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):n<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(F2.getFullYear()==1917&&!isNaN(r.getFullYear())){var t=r.getFullYear();return e.indexOf(""+t)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function sc(e,n){if(tn&&Buffer.isBuffer(e)){if(n){if(e[0]==255&&e[1]==254)return _o(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return _o(C2(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(n){if(e[0]==255&&e[1]==254)return _o(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return _o(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var t=[],i=0;i!=e.length;++i)t.push(String.fromCharCode(e[i]));return t.join("")}function ri(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=ri(e[r]));return n}function Si(e,n){for(var r="";r.length<n;)r+=e;return r}function io(e){var n=Number(e);if(!isNaN(n))return isFinite(n)?n:NaN;if(!/\d/.test(e))return n;var r=1,t=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(n=Number(t))||(t=t.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(n=Number(t)))?n/r:n}var bA=["january","february","march","april","may","june","july","august","september","october","november","december"];function Hl(e){var n=new Date(e),r=new Date(NaN),t=n.getYear(),i=n.getMonth(),a=n.getDate();if(isNaN(a))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&bA.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return t<0||t>8099?r:(i>0||a>1)&&t!=101?n:e.match(/[^-0-9:,\/\\]/)?r:n}var CA=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,t,i){if(e||typeof t=="string")return r.split(t);for(var a=r.split(t),o=[a[0]],s=1;s<a.length;++s)o.push(i),o.push(a[s]);return o}}();function R2(e){return e?e.content&&e.type?sc(e.content,!0):e.data?$d(e.data):e.asNodeBuffer&&tn?$d(e.asNodeBuffer().toString("binary")):e.asBinary?$d(e.asBinary()):e._data&&e._data.getContent?$d(sc(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function N2(e){if(!e)return null;if(e.data)return Eg(e.data);if(e.asNodeBuffer&&tn)return e.asNodeBuffer();if(e._data&&e._data.getContent){var n=e._data.getContent();return typeof n=="string"?Eg(n):Array.prototype.slice.call(n)}return e.content&&e.type?e.content:null}function yA(e){return e&&e.name.slice(-4)===".bin"?N2(e):R2(e)}function za(e,n){for(var r=e.FullPaths||Oi(e.files),t=n.toLowerCase().replace(/[\/]/g,"\\"),i=t.replace(/\\/g,"/"),a=0;a<r.length;++a){var o=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(t==o||i==o)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function Xg(e,n){var r=za(e,n);if(r==null)throw new Error("Cannot find file "+n+" in zip");return r}function Yi(e,n,r){if(!r)return yA(Xg(e,n));if(!n)return null;try{return Yi(e,n)}catch{return null}}function ya(e,n,r){if(!r)return R2(Xg(e,n));if(!n)return null;try{return ya(e,n)}catch{return null}}function L2(e,n,r){if(!r)return N2(Xg(e,n));if(!n)return null;try{return L2(e,n)}catch{return null}}function Sy(e){for(var n=e.FullPaths||Oi(e.files),r=[],t=0;t<n.length;++t)n[t].slice(-1)!="/"&&r.push(n[t].replace(/^Root Entry[\/]/,""));return r.sort()}function $t(e,n,r){if(e.FullPaths){if(typeof r=="string"){var t;return tn?t=Ho(r):t=zI(r),gt.utils.cfb_add(e,n,t)}gt.utils.cfb_add(e,n,r)}else e.file(n,r)}function Kg(){return gt.utils.cfb_new()}function B2(e,n){switch(n.type){case"base64":return gt.read(e,{type:"base64"});case"binary":return gt.read(e,{type:"binary"});case"buffer":case"array":return gt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+n.type)}function qd(e,n){if(e.charAt(0)=="/")return e.slice(1);var r=n.split("/");n.slice(-1)!="/"&&r.pop();for(var t=e.split("/");t.length!==0;){var i=t.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var Ni=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,wA=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Py=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,MA=/<[^>]*>/g,Lr=Ni.match(Py)?Py:MA,SA=/<\w*:/,PA=/<(\/?)\w+:/;function Tt(e,n,r){for(var t={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(n||(t[0]=e.slice(0,i)),i===e.length)return t;var o=e.match(wA),s=0,m="",u=0,f="",g="",x=1;if(o)for(u=0;u!=o.length;++u){for(g=o[u],a=0;a!=g.length&&g.charCodeAt(a)!==61;++a);for(f=g.slice(0,a).trim();g.charCodeAt(a+1)==32;)++a;for(x=(i=g.charCodeAt(a+1))==34||i==39?1:0,m=g.slice(a+1+x,g.length-x),s=0;s!=f.length&&f.charCodeAt(s)!==58;++s);if(s===f.length)f.indexOf("_")>0&&(f=f.slice(0,f.indexOf("_"))),t[f]=m,r||(t[f.toLowerCase()]=m);else{var C=(s===5&&f.slice(0,5)==="xmlns"?"xmlns":"")+f.slice(s+1);if(t[C]&&f.slice(s-3,s)=="ext")continue;t[C]=m,r||(t[C.toLowerCase()]=m)}}return t}function bo(e){return e.replace(PA,"<$1")}var V2={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Qg=Bp(V2),bn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,n=/_x([\da-fA-F]{4})_/ig;return function r(t){var i=t+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(e,function(s,m){return V2[s]||String.fromCharCode(parseInt(m,s.indexOf("x")>-1?16:10))||s}).replace(n,function(s,m){return String.fromCharCode(parseInt(m,16))});var o=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,o)+r(i.slice(o+3))}}(),Zg=/[&<>'"]/g,kA=/[\u0000-\u0008\u000b-\u001f]/g;function Vn(e){var n=e+"";return n.replace(Zg,function(r){return Qg[r]}).replace(kA,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function ky(e){return Vn(e).replace(/ /g,"_x0020_")}var j2=/[\u0000-\u001f]/g;function Jg(e){var n=e+"";return n.replace(Zg,function(r){return Qg[r]}).replace(/\n/g,"<br/>").replace(j2,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function OA(e){var n=e+"";return n.replace(Zg,function(r){return Qg[r]}).replace(j2,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var Oy=function(){var e=/&#(\d+);/g;function n(r,t){return String.fromCharCode(parseInt(t,10))}return function(t){return t.replace(e,n)}}();function TA(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function ni(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function _g(e){for(var n="",r=0,t=0,i=0,a=0,o=0,s=0;r<e.length;){if(t=e.charCodeAt(r++),t<128){n+=String.fromCharCode(t);continue}if(i=e.charCodeAt(r++),t>191&&t<224){o=(t&31)<<6,o|=i&63,n+=String.fromCharCode(o);continue}if(a=e.charCodeAt(r++),t<240){n+=String.fromCharCode((t&15)<<12|(i&63)<<6|a&63);continue}o=e.charCodeAt(r++),s=((t&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536,n+=String.fromCharCode(55296+(s>>>10&1023)),n+=String.fromCharCode(56320+(s&1023))}return n}function Ty(e){var n=Os(2*e.length),r,t,i=1,a=0,o=0,s;for(t=0;t<e.length;t+=i)i=1,(s=e.charCodeAt(t))<128?r=s:s<224?(r=(s&31)*64+(e.charCodeAt(t+1)&63),i=2):s<240?(r=(s&15)*4096+(e.charCodeAt(t+1)&63)*64+(e.charCodeAt(t+2)&63),i=3):(i=4,r=(s&7)*262144+(e.charCodeAt(t+1)&63)*4096+(e.charCodeAt(t+2)&63)*64+(e.charCodeAt(t+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(n[a++]=o&255,n[a++]=o>>>8,o=0),n[a++]=r%256,n[a++]=r>>>8;return n.slice(0,a).toString("ucs2")}function Ey(e){return Ho(e,"binary").toString("utf8")}var fp="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",Yn=tn&&(Ey(fp)==_g(fp)&&Ey||Ty(fp)==_g(fp)&&Ty)||_g,_o=tn?function(e){return Ho(e,"utf8").toString("binary")}:function(e){for(var n=[],r=0,t=0,i=0;r<e.length;)switch(t=e.charCodeAt(r++),!0){case t<128:n.push(String.fromCharCode(t));break;case t<2048:n.push(String.fromCharCode(192+(t>>6))),n.push(String.fromCharCode(128+(t&63)));break;case(t>=55296&&t<57344):t-=55296,i=e.charCodeAt(r++)-56320+(t<<10),n.push(String.fromCharCode(240+(i>>18&7))),n.push(String.fromCharCode(144+(i>>12&63))),n.push(String.fromCharCode(128+(i>>6&63))),n.push(String.fromCharCode(128+(i&63)));break;default:n.push(String.fromCharCode(224+(t>>12))),n.push(String.fromCharCode(128+(t>>6&63))),n.push(String.fromCharCode(128+(t&63)))}return n.join("")},o0=function(){var e={};return function(r,t){var i=r+"|"+(t||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",t||"")}}(),z2=function(){var e=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(n){return[new RegExp("&"+n[0]+";","ig"),n[1]]});return function(r){for(var t=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)t=t.replace(e[i][0],e[i][1]);return t}}(),EA=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),DA=/<\/?(?:vt:)?variant>/g,IA=/<(?:vt:)([^>]*)>([\s\S]*)</;function Dy(e,n){var r=Tt(e),t=e.match(EA(r.baseType))||[],i=[];if(t.length!=r.size){if(n.WTF)throw new Error("unexpected vector length "+t.length+" != "+r.size);return i}return t.forEach(function(a){var o=a.replace(DA,"").match(IA);o&&i.push({v:Yn(o[2]),t:o[1]})}),i}var U2=/(^\s|\s$|\n)/;function br(e,n){return"<"+e+(n.match(U2)?' xml:space="preserve"':"")+">"+n+"</"+e+">"}function s0(e){return Oi(e).map(function(n){return" "+n+'="'+e[n]+'"'}).join("")}function We(e,n,r){return"<"+e+(r!=null?s0(r):"")+(n!=null?(n.match(U2)?' xml:space="preserve"':"")+">"+n+"</"+e:"/")+">"}function Dg(e,n){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(n)throw r}return""}function AA(e,n){switch(typeof e){case"string":var r=We("vt:lpwstr",Vn(e));return n&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return We((e|0)==e?"vt:i4":"vt:r8",Vn(String(e)));case"boolean":return We("vt:bool",e?"true":"false")}if(e instanceof Date)return We("vt:filetime",Dg(e));throw new Error("Unable to serialize "+e)}function e_(e){if(tn&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Yn(Is(Hg(e)));throw new Error("Bad input format: expected Buffer or string")}var c0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,er={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},pc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ba={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function FA(e,n){for(var r=1-2*(e[n+7]>>>7),t=((e[n+7]&127)<<4)+(e[n+6]>>>4&15),i=e[n+6]&15,a=5;a>=0;--a)i=i*256+e[n+a];return t==2047?i==0?r*(1/0):NaN:(t==0?t=-1022:(t-=1023,i+=Math.pow(2,52)),r*Math.pow(2,t-52)*i)}function RA(e,n,r){var t=(n<0||1/n==-1/0?1:0)<<7,i=0,a=0,o=t?-n:n;isFinite(o)?o==0?i=a=0:(i=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(n)?26985:0);for(var s=0;s<=5;++s,a/=256)e[r+s]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|t}var Iy=function(e){for(var n=[],r=10240,t=0;t<e[0].length;++t)if(e[0][t])for(var i=0,a=e[0][t].length;i<a;i+=r)n.push.apply(n,e[0][t].slice(i,i+r));return n},Ay=tn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(n){return Buffer.isBuffer(n)?n:Ho(n)})):Iy(e)}:Iy,Fy=function(e,n,r){for(var t=[],i=n;i<r;i+=2)t.push(String.fromCharCode(zo(e,i)));return t.join("").replace(Fr,"")},zp=tn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf16le",n,r).replace(Fr,""):Fy(e,n,r)}:Fy,Ry=function(e,n,r){for(var t=[],i=n;i<n+r;++i)t.push(("0"+e[i].toString(16)).slice(-2));return t.join("")},Y2=tn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("hex",n,n+r):Ry(e,n,r)}:Ry,Ny=function(e,n,r){for(var t=[],i=n;i<r;i++)t.push(String.fromCharCode(Ll(e,i)));return t.join("")},Xl=tn?function(n,r,t){return Buffer.isBuffer(n)?n.toString("utf8",r,t):Ny(n,r,t)}:Ny,W2=function(e,n){var r=mr(e,n);return r>0?Xl(e,n+4,n+4+r-1):""},t_=W2,H2=function(e,n){var r=mr(e,n);return r>0?Xl(e,n+4,n+4+r-1):""},n_=H2,$2=function(e,n){var r=2*mr(e,n);return r>0?Xl(e,n+4,n+4+r-1):""},i_=$2,G2=function(n,r){var t=mr(n,r);return t>0?zp(n,r+4,r+4+t):""},r_=G2,q2=function(e,n){var r=mr(e,n);return r>0?Xl(e,n+4,n+4+r):""},a_=q2,X2=function(e,n){return FA(e,n)},Op=X2,o_=function(n){return Array.isArray(n)||typeof Uint8Array<"u"&&n instanceof Uint8Array};tn&&(t_=function(n,r){if(!Buffer.isBuffer(n))return W2(n,r);var t=n.readUInt32LE(r);return t>0?n.toString("utf8",r+4,r+4+t-1):""},n_=function(n,r){if(!Buffer.isBuffer(n))return H2(n,r);var t=n.readUInt32LE(r);return t>0?n.toString("utf8",r+4,r+4+t-1):""},i_=function(n,r){if(!Buffer.isBuffer(n))return $2(n,r);var t=2*n.readUInt32LE(r);return n.toString("utf16le",r+4,r+4+t-1)},r_=function(n,r){if(!Buffer.isBuffer(n))return G2(n,r);var t=n.readUInt32LE(r);return n.toString("utf16le",r+4,r+4+t)},a_=function(n,r){if(!Buffer.isBuffer(n))return q2(n,r);var t=n.readUInt32LE(r);return n.toString("utf8",r+4,r+4+t)},Op=function(n,r){return Buffer.isBuffer(n)?n.readDoubleLE(r):X2(n,r)},o_=function(n){return Buffer.isBuffer(n)||Array.isArray(n)||typeof Uint8Array<"u"&&n instanceof Uint8Array});function NA(){zp=function(e,n,r){return An.utils.decode(1200,e.slice(n,r)).replace(Fr,"")},Xl=function(e,n,r){return An.utils.decode(65001,e.slice(n,r))},t_=function(e,n){var r=mr(e,n);return r>0?An.utils.decode(Wl,e.slice(n+4,n+4+r-1)):""},n_=function(e,n){var r=mr(e,n);return r>0?An.utils.decode(xo,e.slice(n+4,n+4+r-1)):""},i_=function(e,n){var r=2*mr(e,n);return r>0?An.utils.decode(1200,e.slice(n+4,n+4+r-1)):""},r_=function(e,n){var r=mr(e,n);return r>0?An.utils.decode(1200,e.slice(n+4,n+4+r)):""},a_=function(e,n){var r=mr(e,n);return r>0?An.utils.decode(65001,e.slice(n+4,n+4+r)):""}}typeof An<"u"&&NA();var Ll=function(e,n){return e[n]},zo=function(e,n){return e[n+1]*256+e[n]},LA=function(e,n){var r=e[n+1]*256+e[n];return r<32768?r:(65535-r+1)*-1},mr=function(e,n){return e[n+3]*(1<<24)+(e[n+2]<<16)+(e[n+1]<<8)+e[n]},tc=function(e,n){return e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]},BA=function(e,n){return e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]};function Xd(e,n){var r="",t,i,a=[],o,s,m,u;switch(n){case"dbcs":if(u=this.l,tn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(m=0;m<e;++m)r+=String.fromCharCode(zo(this,u)),u+=2;e*=2;break;case"utf8":r=Xl(this,this.l,this.l+e);break;case"utf16le":e*=2,r=zp(this,this.l,this.l+e);break;case"wstr":if(typeof An<"u")r=An.utils.decode(xo,this.slice(this.l,this.l+2*e));else return Xd.call(this,e,"dbcs");e=2*e;break;case"lpstr-ansi":r=t_(this,this.l),e=4+mr(this,this.l);break;case"lpstr-cp":r=n_(this,this.l),e=4+mr(this,this.l);break;case"lpwstr":r=i_(this,this.l),e=4+2*mr(this,this.l);break;case"lpp4":e=4+mr(this,this.l),r=r_(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+mr(this,this.l),r=a_(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Ll(this,this.l+e++))!==0;)a.push(pp(o));r=a.join("");break;case"_wstr":for(e=0,r="";(o=zo(this,this.l+e))!==0;)a.push(pp(o)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,m=0;m<e;++m){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Ll(this,u),this.l=u+1,s=Xd.call(this,e-m,o?"dbcs-cont":"sbcs-cont"),a.join("")+s;a.push(pp(zo(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":if(typeof An<"u"){r=An.utils.decode(xo,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(r="",u=this.l,m=0;m!=e;++m){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Ll(this,u),this.l=u+1,s=Xd.call(this,e-m,o?"dbcs-cont":"sbcs-cont"),a.join("")+s;a.push(pp(Ll(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return t=Ll(this,this.l),this.l++,t;case 2:return t=(n==="i"?LA:zo)(this,this.l),this.l+=2,t;case 4:case-4:return n==="i"||!(this[this.l+3]&128)?(t=(e>0?tc:BA)(this,this.l),this.l+=4,t):(i=mr(this,this.l),this.l+=4,i);case 8:case-8:if(n==="f")return e==8?i=Op(this,this.l):i=Op([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=Y2(this,this.l,e);break}}return this.l+=e,r}var VA=function(e,n,r){e[r]=n&255,e[r+1]=n>>>8&255,e[r+2]=n>>>16&255,e[r+3]=n>>>24&255},jA=function(e,n,r){e[r]=n&255,e[r+1]=n>>8&255,e[r+2]=n>>16&255,e[r+3]=n>>24&255},zA=function(e,n,r){e[r]=n&255,e[r+1]=n>>>8&255};function UA(e,n,r){var t=0,i=0;if(r==="dbcs"){for(i=0;i!=n.length;++i)zA(this,n.charCodeAt(i),this.l+2*i);t=2*n.length}else if(r==="sbcs"){if(typeof An<"u"&&Wl==874)for(i=0;i!=n.length;++i){var a=An.utils.encode(Wl,n.charAt(i));this[this.l+i]=a[0]}else for(n=n.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=n.length;++i)this[this.l+i]=n.charCodeAt(i)&255;t=n.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(n.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var o=Math.min(this.l+e,this.length);for(i=0;i<Math.min(n.length,e);++i){var s=n.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(e){case 1:t=1,this[this.l]=n&255;break;case 2:t=2,this[this.l]=n&255,n>>>=8,this[this.l+1]=n&255;break;case 3:t=3,this[this.l]=n&255,n>>>=8,this[this.l+1]=n&255,n>>>=8,this[this.l+2]=n&255;break;case 4:t=4,VA(this,n,this.l);break;case 8:if(t=8,r==="f"){RA(this,n,this.l);break}case 16:break;case-4:t=4,jA(this,n,this.l);break}return this.l+=t,this}function K2(e,n){var r=Y2(this,this.l,e.length>>1);if(r!==e)throw new Error(n+"Expected "+e+" saw "+r);this.l+=e.length>>1}function vr(e,n){e.l=n,e.read_shift=Xd,e.chk=K2,e.write_shift=UA}function Nr(e,n){e.l+=n}function Ce(e){var n=Os(e);return vr(n,0),n}function $o(e,n,r){if(e){var t,i,a;vr(e,e.l||0);for(var o=e.length,s=0,m=0;e.l<o;){s=e.read_shift(1),s&128&&(s=(s&127)+((e.read_shift(1)&127)<<7));var u=f0[s]||f0[65535];for(t=e.read_shift(1),a=t&127,i=1;i<4&&t&128;++i)a+=((t=e.read_shift(1))&127)<<7*i;m=e.l+a;var f=u.f&&u.f(e,a,r);if(e.l=m,n(f,u,s))return}}}function na(){var e=[],n=tn?256:2048,r=function(u){var f=Ce(u);return vr(f,0),f},t=r(n),i=function(){t&&(t.length>t.l&&(t=t.slice(0,t.l),t.l=t.length),t.length>0&&e.push(t),t=null)},a=function(u){return t&&u<t.length-t.l?t:(i(),t=r(Math.max(u+1,n)))},o=function(){return i(),ur(e)},s=function(u){i(),t=u,t.l==null&&(t.l=t.length),a(n)};return{next:a,push:s,end:o,_bufs:e}}function De(e,n,r,t){var i=+n,a;if(!isNaN(i)){t||(t=f0[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,t>=128&&++a,t>=16384&&++a,t>=2097152&&++a;var o=e.next(a);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var s=0;s!=4;++s)if(t>=128)o.write_shift(1,(t&127)+128),t>>=7;else{o.write_shift(1,t);break}t>0&&o_(r)&&e.push(r)}}function Kd(e,n,r){var t=ri(e);if(n.s?(t.cRel&&(t.c+=n.s.c),t.rRel&&(t.r+=n.s.r)):(t.cRel&&(t.c+=n.c),t.rRel&&(t.r+=n.r)),!r||r.biff<12){for(;t.c>=256;)t.c-=256;for(;t.r>=65536;)t.r-=65536}return t}function Ly(e,n,r){var t=ri(e);return t.s=Kd(t.s,n.s,r),t.e=Kd(t.e,n.s,r),t}function Qd(e,n){if(e.cRel&&e.c<0)for(e=ri(e);e.c<0;)e.c+=n>8?16384:256;if(e.rRel&&e.r<0)for(e=ri(e);e.r<0;)e.r+=n>8?1048576:n>5?65536:16384;var r=Mt(e);return!e.cRel&&e.cRel!=null&&(r=HA(r)),!e.rRel&&e.rRel!=null&&(r=YA(r)),r}function xg(e,n){return e.s.r==0&&!e.s.rRel&&e.e.r==(n.biff>=12?1048575:n.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+_i(e.s.c)+":"+(e.e.cRel?"":"$")+_i(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(n.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ri(e.s.r)+":"+(e.e.rRel?"":"$")+Ri(e.e.r):Qd(e.s,n.biff)+":"+Qd(e.e,n.biff)}function s_(e){return parseInt(WA(e),10)-1}function Ri(e){return""+(e+1)}function YA(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function WA(e){return e.replace(/\$(\d+)$/,"$1")}function c_(e){for(var n=$A(e),r=0,t=0;t!==n.length;++t)r=26*r+n.charCodeAt(t)-64;return r-1}function _i(e){if(e<0)throw new Error("invalid column "+e);var n="";for(++e;e;e=Math.floor((e-1)/26))n=String.fromCharCode((e-1)%26+65)+n;return n}function HA(e){return e.replace(/^([A-Z])/,"$$$1")}function $A(e){return e.replace(/^\$([A-Z])/,"$1")}function GA(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function xi(e){for(var n=0,r=0,t=0;t<e.length;++t){var i=e.charCodeAt(t);i>=48&&i<=57?n=10*n+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:n-1}}function Mt(e){for(var n=e.c+1,r="";n;n=(n-1)/26|0)r=String.fromCharCode((n-1)%26+65)+r;return r+(e.r+1)}function ia(e){var n=e.indexOf(":");return n==-1?{s:xi(e),e:xi(e)}:{s:xi(e.slice(0,n)),e:xi(e.slice(n+1))}}function Wt(e,n){return typeof n>"u"||typeof n=="number"?Wt(e.s,e.e):(typeof e!="string"&&(e=Mt(e)),typeof n!="string"&&(n=Mt(n)),e==n?e:e+":"+n)}function Cn(e){var n={s:{c:0,r:0},e:{c:0,r:0}},r=0,t=0,i=0,a=e.length;for(r=0;t<a&&!((i=e.charCodeAt(t)-64)<1||i>26);++t)r=26*r+i;for(n.s.c=--r,r=0;t<a&&!((i=e.charCodeAt(t)-48)<0||i>9);++t)r=10*r+i;if(n.s.r=--r,t===a||i!=10)return n.e.c=n.s.c,n.e.r=n.s.r,n;for(++t,r=0;t!=a&&!((i=e.charCodeAt(t)-64)<1||i>26);++t)r=26*r+i;for(n.e.c=--r,r=0;t!=a&&!((i=e.charCodeAt(t)-48)<0||i>9);++t)r=10*r+i;return n.e.r=--r,n}function By(e,n){var r=e.t=="d"&&n instanceof Date;if(e.z!=null)try{return e.w=Ma(e.z,r?tr(n):n)}catch{}try{return e.w=Ma((e.XF||{}).numFmtId||(r?14:0),r?tr(n):n)}catch{return""+n}}function Wo(e,n,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Go[e.v]||e.v:n==null?By(e,e.v):By(e,n))}function As(e,n){var r=n&&n.sheet?n.sheet:"Sheet1",t={};return t[r]=e,{SheetNames:[r],Sheets:t}}function Q2(e,n,r){var t=r||{},i=e?Array.isArray(e):t.dense;ki!=null&&i==null&&(i=ki);var a=e||(i?[]:{}),o=0,s=0;if(a&&t.origin!=null){if(typeof t.origin=="number")o=t.origin;else{var m=typeof t.origin=="string"?xi(t.origin):t.origin;o=m.r,s=m.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var f=Cn(a["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(u.e.r=o=f.e.r+1)}for(var g=0;g!=n.length;++g)if(n[g]){if(!Array.isArray(n[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=n[g].length;++x)if(!(typeof n[g][x]>"u")){var C={v:n[g][x]},y=o+g,v=s+x;if(u.s.r>y&&(u.s.r=y),u.s.c>v&&(u.s.c=v),u.e.r<y&&(u.e.r=y),u.e.c<v&&(u.e.c=v),n[g][x]&&typeof n[g][x]=="object"&&!Array.isArray(n[g][x])&&!(n[g][x]instanceof Date))C=n[g][x];else if(Array.isArray(C.v)&&(C.f=n[g][x][1],C.v=C.v[0]),C.v===null)if(C.f)C.t="n";else if(t.nullError)C.t="e",C.v=0;else if(t.sheetStubs)C.t="z";else continue;else typeof C.v=="number"?C.t="n":typeof C.v=="boolean"?C.t="b":C.v instanceof Date?(C.z=t.dateNF||bt[14],t.cellDates?(C.t="d",C.w=Ma(C.z,tr(C.v))):(C.t="n",C.v=tr(C.v),C.w=Ma(C.z,C.v))):C.t="s";if(i)a[y]||(a[y]=[]),a[y][v]&&a[y][v].z&&(C.z=a[y][v].z),a[y][v]=C;else{var P=Mt({c:v,r:y});a[P]&&a[P].z&&(C.z=a[P].z),a[P]=C}}}return u.s.c<1e7&&(a["!ref"]=Wt(u)),a}function Kl(e,n){return Q2(null,e,n)}function qA(e){return e.read_shift(4,"i")}function ro(e,n){return n||(n=Ce(4)),n.write_shift(4,e),n}function Rr(e){var n=e.read_shift(4);return n===0?"":e.read_shift(n,"dbcs")}function pr(e,n){var r=!1;return n==null&&(r=!0,n=Ce(4+2*e.length)),n.write_shift(4,e.length),e.length>0&&n.write_shift(0,e,"dbcs"),r?n.slice(0,n.l):n}function XA(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function KA(e,n){return n||(n=Ce(4)),n.write_shift(2,e.ich||0),n.write_shift(2,e.ifnt||0),n}function l_(e,n){var r=e.l,t=e.read_shift(1),i=Rr(e),a=[],o={t:i,h:i};if(t&1){for(var s=e.read_shift(4),m=0;m!=s;++m)a.push(XA(e));o.r=a}else o.r=[{ich:0,ifnt:0}];return e.l=r+n,o}function QA(e,n){var r=!1;return n==null&&(r=!0,n=Ce(15+4*e.t.length)),n.write_shift(1,0),pr(e.t,n),r?n.slice(0,n.l):n}var ZA=l_;function JA(e,n){var r=!1;return n==null&&(r=!0,n=Ce(23+4*e.t.length)),n.write_shift(1,1),pr(e.t,n),n.write_shift(4,1),KA({ich:0,ifnt:0},n),r?n.slice(0,n.l):n}function Wa(e){var n=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:n,iStyleRef:r}}function fc(e,n){return n==null&&(n=Ce(8)),n.write_shift(-4,e.c),n.write_shift(3,e.iStyleRef||e.s),n.write_shift(1,0),n}function hc(e){var n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:n}}function gc(e,n){return n==null&&(n=Ce(4)),n.write_shift(3,e.iStyleRef||e.s),n.write_shift(1,0),n}var e6=Rr,Z2=pr;function d_(e){var n=e.read_shift(4);return n===0||n===4294967295?"":e.read_shift(n,"dbcs")}function Tp(e,n){var r=!1;return n==null&&(r=!0,n=Ce(127)),n.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&n.write_shift(0,e,"dbcs"),r?n.slice(0,n.l):n}var t6=Rr,Ig=d_,m_=Tp;function u_(e){var n=e.slice(e.l,e.l+4),r=n[0]&1,t=n[0]&2;e.l+=4;var i=t===0?Op([0,0,0,0,n[0]&252,n[1],n[2],n[3]],0):tc(n,0)>>2;return r?i/100:i}function J2(e,n){n==null&&(n=Ce(4));var r=0,t=0,i=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?t=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(t=1,r=1),t)n.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function ew(e){var n={s:{},e:{}};return n.s.r=e.read_shift(4),n.e.r=e.read_shift(4),n.s.c=e.read_shift(4),n.e.c=e.read_shift(4),n}function n6(e,n){return n||(n=Ce(16)),n.write_shift(4,e.s.r),n.write_shift(4,e.e.r),n.write_shift(4,e.s.c),n.write_shift(4,e.e.c),n}var _c=ew,Ql=n6;function Ar(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function cc(e,n){return(n||Ce(8)).write_shift(8,e,"f")}function i6(e){var n={},r=e.read_shift(1),t=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),o=e.read_shift(1),s=e.read_shift(1),m=e.read_shift(1);switch(e.l++,t){case 0:n.auto=1;break;case 1:n.index=i;var u=nc[i];u&&(n.rgb=d0(u));break;case 2:n.rgb=d0([o,s,m]);break;case 3:n.theme=i;break}return a!=0&&(n.tint=a>0?a/32767:a/32768),n}function Ep(e,n){if(n||(n=Ce(8)),!e||e.auto)return n.write_shift(4,0),n.write_shift(4,0),n;e.index!=null?(n.write_shift(1,2),n.write_shift(1,e.index)):e.theme!=null?(n.write_shift(1,6),n.write_shift(1,e.theme)):(n.write_shift(1,5),n.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),n.write_shift(2,r),!e.rgb||e.theme!=null)n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);else{var t=e.rgb||"FFFFFF";typeof t=="number"&&(t=("000000"+t.toString(16)).slice(-6)),n.write_shift(1,parseInt(t.slice(0,2),16)),n.write_shift(1,parseInt(t.slice(2,4),16)),n.write_shift(1,parseInt(t.slice(4,6),16)),n.write_shift(1,255)}return n}function r6(e){var n=e.read_shift(1);e.l++;var r={fBold:n&1,fItalic:n&2,fUnderline:n&4,fStrikeout:n&8,fOutline:n&16,fShadow:n&32,fCondense:n&64,fExtend:n&128};return r}function a6(e,n){n||(n=Ce(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return n.write_shift(1,r),n.write_shift(1,0),n}function tw(e,n){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},t=e.read_shift(4);switch(t){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(t>400)throw new Error("Unsupported Clipboard: "+t.toString(16));return e.l-=4,e.read_shift(0,n==1?"lpstr":"lpwstr")}function o6(e){return tw(e,1)}function s6(e){return tw(e,2)}var p_=2,ta=3,hp=11,Vy=12,Dp=19;var gp=64,c6=65,l6=71;var d6=4108,m6=4126,dr=80,nw=81,u6=[dr,nw],Ag={1:{n:"CodePage",t:p_},2:{n:"Category",t:dr},3:{n:"PresentationFormat",t:dr},4:{n:"ByteCount",t:ta},5:{n:"LineCount",t:ta},6:{n:"ParagraphCount",t:ta},7:{n:"SlideCount",t:ta},8:{n:"NoteCount",t:ta},9:{n:"HiddenCount",t:ta},10:{n:"MultimediaClipCount",t:ta},11:{n:"ScaleCrop",t:hp},12:{n:"HeadingPairs",t:d6},13:{n:"TitlesOfParts",t:m6},14:{n:"Manager",t:dr},15:{n:"Company",t:dr},16:{n:"LinksUpToDate",t:hp},17:{n:"CharacterCount",t:ta},19:{n:"SharedDoc",t:hp},22:{n:"HyperlinksChanged",t:hp},23:{n:"AppVersion",t:ta,p:"version"},24:{n:"DigSig",t:c6},26:{n:"ContentType",t:dr},27:{n:"ContentStatus",t:dr},28:{n:"Language",t:dr},29:{n:"Version",t:dr},255:{},2147483648:{n:"Locale",t:Dp},2147483651:{n:"Behavior",t:Dp},1919054434:{}},Fg={1:{n:"CodePage",t:p_},2:{n:"Title",t:dr},3:{n:"Subject",t:dr},4:{n:"Author",t:dr},5:{n:"Keywords",t:dr},6:{n:"Comments",t:dr},7:{n:"Template",t:dr},8:{n:"LastAuthor",t:dr},9:{n:"RevNumber",t:dr},10:{n:"EditTime",t:gp},11:{n:"LastPrinted",t:gp},12:{n:"CreatedDate",t:gp},13:{n:"ModifiedDate",t:gp},14:{n:"PageCount",t:ta},15:{n:"WordCount",t:ta},16:{n:"CharCount",t:ta},17:{n:"Thumbnail",t:l6},18:{n:"Application",t:dr},19:{n:"DocSecurity",t:ta},255:{},2147483648:{n:"Locale",t:Dp},2147483651:{n:"Behavior",t:Dp},1919054434:{}},jy={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},p6=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function f6(e){return e.map(function(n){return[n>>16&255,n>>8&255,n&255]})}var h6=f6([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),nc=ri(h6),Go={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},iw={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Rg={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},_p={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function f_(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function g6(e){var n=f_();if(!e||!e.match)return n;var r={};if((e.match(Lr)||[]).forEach(function(t){var i=Tt(t);switch(i[0].replace(SA,"<")){case"<?xml":break;case"<Types":n.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":n[Rg[i.ContentType]]!==void 0&&n[Rg[i.ContentType]].push(i.PartName);break}}),n.xmlns!==er.CT)throw new Error("Unknown Namespace: "+n.xmlns);return n.calcchain=n.calcchains.length>0?n.calcchains[0]:"",n.sst=n.strs.length>0?n.strs[0]:"",n.style=n.styles.length>0?n.styles[0]:"",n.defaults=r,delete n.calcchains,n}function rw(e,n){var r=gA(Rg),t=[],i;t[t.length]=Ni,t[t.length]=We("Types",null,{xmlns:er.CT,"xmlns:xsd":er.xsd,"xmlns:xsi":er.xsi}),t=t.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(m){return We("Default",null,{Extension:m[0],ContentType:m[1]})}));var a=function(m){e[m]&&e[m].length>0&&(i=e[m][0],t[t.length]=We("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:_p[m][n.bookType]||_p[m].xlsx}))},o=function(m){(e[m]||[]).forEach(function(u){t[t.length]=We("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:_p[m][n.bookType]||_p[m].xlsx})})},s=function(m){(e[m]||[]).forEach(function(u){t[t.length]=We("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[m][0]})})};return a("workbooks"),o("sheets"),o("charts"),s("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),o("metadata"),s("people"),t.length>2&&(t[t.length]="</Types>",t[1]=t[1].replace("/>",">")),t.join("")}var Gt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function l0(e){var n=e.lastIndexOf("/");return e.slice(0,n+1)+"_rels/"+e.slice(n+1)+".rels"}function Zd(e,n){var r={"!id":{}};if(!e)return r;n.charAt(0)!=="/"&&(n="/"+n);var t={};return(e.match(Lr)||[]).forEach(function(i){var a=Tt(i);if(a[0]==="<Relationship"){var o={};o.Type=a.Type,o.Target=a.Target,o.Id=a.Id,a.TargetMode&&(o.TargetMode=a.TargetMode);var s=a.TargetMode==="External"?a.Target:qd(a.Target,n);r[s]=o,t[a.Id]=o}}),r["!id"]=t,r}function zl(e){var n=[Ni,We("Relationships",null,{xmlns:er.RELS})];return Oi(e["!id"]).forEach(function(r){n[n.length]=We("Relationship",null,e["!id"][r])}),n.length>2&&(n[n.length]="</Relationships>",n[1]=n[1].replace("/>",">")),n.join("")}function Bn(e,n,r,t,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),n<0)for(n=e["!idx"];e["!id"]["rId"+n];++n);if(e["!idx"]=n+1,i.Id="rId"+n,i.Type=t,i.Target=r,a?i.TargetMode=a:[Gt.HLINK,Gt.XPATH,Gt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+n);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,n}var _6="application/vnd.oasis.opendocument.spreadsheet";function x6(e,n){for(var r=e_(e),t,i;t=c0.exec(r);)switch(t[3]){case"manifest":break;case"file-entry":if(i=Tt(t[0],!1),i.path=="/"&&i.type!==_6)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(n&&n.WTF)throw t}}function v6(e){var n=[Ni];n.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),n.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)n.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return n.push("</manifest:manifest>"),n.join("")}function zy(e,n,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+n+`"/>
`,`  </rdf:Description>
`].join("")}function b6(e,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+n+`"/>
`,`  </rdf:Description>
`].join("")}function C6(e){var n=[Ni];n.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)n.push(zy(e[r][0],e[r][1])),n.push(b6("",e[r][0]));return n.push(zy("","Document","pkg")),n.push("</rdf:RDF>"),n.join("")}function aw(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+i0.version+"</meta:generator></office:meta></office:document-meta>"}var Ya=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],y6=function(){for(var e=new Array(Ya.length),n=0;n<Ya.length;++n){var r=Ya[n],t="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[n]=new RegExp("<"+t+"[^>]*>([\\s\\S]*?)</"+t+">")}return e}();function ow(e){var n={};e=Yn(e);for(var r=0;r<Ya.length;++r){var t=Ya[r],i=e.match(y6[r]);i!=null&&i.length>0&&(n[t[1]]=bn(i[1])),t[2]==="date"&&n[t[1]]&&(n[t[1]]=ii(n[t[1]]))}return n}function vg(e,n,r,t,i){i[e]!=null||n==null||n===""||(i[e]=n,n=Vn(n),t[t.length]=r?We(e,n,r):br(e,n))}function sw(e,n){var r=n||{},t=[Ni,We("cp:coreProperties",null,{"xmlns:cp":er.CORE_PROPS,"xmlns:dc":er.dc,"xmlns:dcterms":er.dcterms,"xmlns:dcmitype":er.dcmitype,"xmlns:xsi":er.xsi})],i={};if(!e&&!r.Props)return t.join("");e&&(e.CreatedDate!=null&&vg("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Dg(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},t,i),e.ModifiedDate!=null&&vg("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Dg(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},t,i));for(var a=0;a!=Ya.length;++a){var o=Ya[a],s=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;s===!0?s="1":s===!1?s="0":typeof s=="number"&&(s=String(s)),s!=null&&vg(o[0],s,null,t,i)}return t.length>2&&(t[t.length]="</cp:coreProperties>",t[1]=t[1].replace("/>",">")),t.join("")}var ic=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],cw=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function lw(e,n,r,t){var i=[];if(typeof e=="string")i=Dy(e,t);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(f){return{v:f}}));var o=typeof n=="string"?Dy(n,t).map(function(f){return f.v}):n,s=0,m=0;if(o.length>0)for(var u=0;u!==i.length;u+=2){switch(m=+i[u+1].v,i[u].v){case"Worksheets":case"\u5DE5\u4F5C\u8868":case"\u041B\u0438\u0441\u0442\u044B":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30EF\u30FC\u30AF\u30B7\u30FC\u30C8":case"\u05D2\u05DC\u05D9\u05D5\u05E0\u05D5\u05EA \u05E2\u05D1\u05D5\u05D3\u05D4":case"Arbeitsbl\xE4tter":case"\xC7al\u0131\u015Fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xE1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xE1lculo":case"Werkbladen":r.Worksheets=m,r.SheetNames=o.slice(s,s+m);break;case"Named Ranges":case"Rangos con nombre":case"\u540D\u524D\u4ED8\u304D\u4E00\u89A7":case"Benannte Bereiche":case"Navngivne omr\xE5der":r.NamedRanges=m,r.DefinedNames=o.slice(s,s+m);break;case"Charts":case"Diagramme":r.Chartsheets=m,r.ChartNames=o.slice(s,s+m);break}s+=m}}function w6(e,n,r){var t={};return n||(n={}),e=Yn(e),ic.forEach(function(i){var a=(e.match(o0(i[0]))||[])[1];switch(i[2]){case"string":a&&(n[i[1]]=bn(a));break;case"bool":n[i[1]]=a==="true";break;case"raw":var o=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(t[i[1]]=o[1]);break}}),t.HeadingPairs&&t.TitlesOfParts&&lw(t.HeadingPairs,t.TitlesOfParts,n,r),n}function dw(e){var n=[],r=We;return e||(e={}),e.Application="SheetJS",n[n.length]=Ni,n[n.length]=We("Properties",null,{xmlns:er.EXT_PROPS,"xmlns:vt":er.vt}),ic.forEach(function(t){if(e[t[1]]!==void 0){var i;switch(t[2]){case"string":i=Vn(String(e[t[1]]));break;case"bool":i=e[t[1]]?"true":"false";break}i!==void 0&&(n[n.length]=r(t[0],i))}}),n[n.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),n[n.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(t){return"<vt:lpstr>"+Vn(t)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),n.length>2&&(n[n.length]="</Properties>",n[1]=n[1].replace("/>",">")),n.join("")}var M6=/<[^>]+>[^<]*/g;function S6(e,n){var r={},t="",i=e.match(M6);if(i)for(var a=0;a!=i.length;++a){var o=i[a],s=Tt(o);switch(s[0]){case"<?xml":break;case"<Properties":break;case"<property":t=bn(s.name);break;case"</property>":t=null;break;default:if(o.indexOf("<vt:")===0){var m=o.split(">"),u=m[0].slice(4),f=m[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[t]=bn(f);break;case"bool":r[t]=ni(f);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[t]=parseInt(f,10);break;case"r4":case"r8":case"decimal":r[t]=parseFloat(f);break;case"filetime":case"date":r[t]=ii(f);break;case"cy":case"error":r[t]=bn(f);break;default:if(u.slice(-1)=="/")break;n.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,m)}}else if(o.slice(0,2)!=="</"){if(n.WTF)throw new Error(o)}}}return r}function mw(e){var n=[Ni,We("Properties",null,{xmlns:er.CUST_PROPS,"xmlns:vt":er.vt})];if(!e)return n.join("");var r=1;return Oi(e).forEach(function(i){++r,n[n.length]=We("property",AA(e[i],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Vn(i)})}),n.length>2&&(n[n.length]="</Properties>",n[1]=n[1].replace("/>",">")),n.join("")}var Ng={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},bg;function P6(e,n,r){bg||(bg=Bp(Ng)),n=bg[n]||n,e[n]=r}function k6(e,n){var r=[];return Oi(Ng).map(function(t){for(var i=0;i<Ya.length;++i)if(Ya[i][1]==t)return Ya[i];for(i=0;i<ic.length;++i)if(ic[i][1]==t)return ic[i];throw t}).forEach(function(t){if(e[t[1]]!=null){var i=n&&n.Props&&n.Props[t[1]]!=null?n.Props[t[1]]:e[t[1]];switch(t[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(br(Ng[t[1]]||t[1],i))}}),We("DocumentProperties",r.join(""),{xmlns:ba.o})}function O6(e,n){var r=["Worksheets","SheetNames"],t="CustomDocumentProperties",i=[];return e&&Oi(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var o=0;o<Ya.length;++o)if(a==Ya[o][1])return;for(o=0;o<ic.length;++o)if(a==ic[o][1])return;for(o=0;o<r.length;++o)if(a==r[o])return;var s=e[a],m="string";typeof s=="number"?(m="float",s=String(s)):s===!0||s===!1?(m="boolean",s=s?"1":"0"):s=String(s),i.push(We(ky(a),s,{"dt:dt":m}))}}),n&&Oi(n).forEach(function(a){if(Object.prototype.hasOwnProperty.call(n,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var o=n[a],s="string";typeof o=="number"?(s="float",o=String(o)):o===!0||o===!1?(s="boolean",o=o?"1":"0"):o instanceof Date?(s="dateTime.tz",o=o.toISOString()):o=String(o),i.push(We(ky(a),o,{"dt:dt":s}))}}),"<"+t+' xmlns="'+ba.o+'">'+i.join("")+"</"+t+">"}function h_(e){var n=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+n/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function T6(e){var n=typeof e=="string"?new Date(Date.parse(e)):e,r=n.getTime()/1e3+11644473600,t=r%Math.pow(2,32),i=(r-t)/Math.pow(2,32);t*=1e7,i*=1e7;var a=t/Math.pow(2,32)|0;a>0&&(t=t%Math.pow(2,32),i+=a);var o=Ce(8);return o.write_shift(4,t),o.write_shift(4,i),o}function uw(e,n,r){var t=e.l,i=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-t&3;)++e.l;return i}function pw(e,n,r){var t=e.read_shift(0,"lpwstr");return r&&(e.l+=4-(t.length+1&3)&3),t}function fw(e,n,r){return n===31?pw(e):uw(e,n,r)}function Lg(e,n,r){return fw(e,n,r===!1?0:4)}function E6(e,n){if(!n)throw new Error("VtUnalignedString must have positive length");return fw(e,n,0)}function D6(e){for(var n=e.read_shift(4),r=[],t=0;t!=n;++t){var i=e.l;r[t]=e.read_shift(0,"lpwstr").replace(Fr,""),e.l-i&2&&(e.l+=2)}return r}function I6(e){for(var n=e.read_shift(4),r=[],t=0;t!=n;++t)r[t]=e.read_shift(0,"lpstr-cp").replace(Fr,"");return r}function A6(e){var n=e.l,r=Ip(e,nw);e[e.l]==0&&e[e.l+1]==0&&e.l-n&2&&(e.l+=2);var t=Ip(e,ta);return[r,t]}function F6(e){for(var n=e.read_shift(4),r=[],t=0;t<n/2;++t)r.push(A6(e));return r}function Uy(e,n){for(var r=e.read_shift(4),t={},i=0;i!=r;++i){var a=e.read_shift(4),o=e.read_shift(4);t[a]=e.read_shift(o,n===1200?"utf16le":"utf8").replace(Fr,"").replace(Gd,"!"),n===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),t}function hw(e){var n=e.read_shift(4),r=e.slice(e.l,e.l+n);return e.l+=n,(n&3)>0&&(e.l+=4-(n&3)&3),r}function R6(e){var n={};return n.Size=e.read_shift(4),e.l+=n.Size+3-(n.Size-1)%4,n}function Ip(e,n,r){var t=e.read_shift(2),i,a=r||{};if(e.l+=2,n!==Vy&&t!==n&&u6.indexOf(n)===-1&&!((n&65534)==4126&&(t&65534)==4126))throw new Error("Expected type "+n+" saw "+t);switch(n===Vy?t:n){case 2:return i=e.read_shift(2,"i"),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return uw(e,t,4).replace(Fr,"");case 31:return pw(e);case 64:return h_(e);case 65:return hw(e);case 71:return R6(e);case 80:return Lg(e,t,!a.raw).replace(Fr,"");case 81:return E6(e,t).replace(Fr,"");case 4108:return F6(e);case 4126:case 4127:return t==4127?D6(e):I6(e);default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+t)}}function Yy(e,n){var r=Ce(4),t=Ce(4);switch(r.write_shift(4,e==80?31:e),e){case 3:t.write_shift(-4,n);break;case 5:t=Ce(8),t.write_shift(8,n,"f");break;case 11:t.write_shift(4,n?1:0);break;case 64:t=T6(n);break;case 31:case 80:for(t=Ce(4+2*(n.length+1)+(n.length%2?0:2)),t.write_shift(4,n.length+1),t.write_shift(0,n,"dbcs");t.l!=t.length;)t.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}return ur([r,t])}function Wy(e,n){var r=e.l,t=e.read_shift(4),i=e.read_shift(4),a=[],o=0,s=0,m=-1,u={};for(o=0;o!=i;++o){var f=e.read_shift(4),g=e.read_shift(4);a[o]=[f,g+r]}a.sort(function(I,A){return I[1]-A[1]});var x={};for(o=0;o!=i;++o){if(e.l!==a[o][1]){var C=!0;if(o>0&&n)switch(n[a[o-1][0]].t){case 2:e.l+2===a[o][1]&&(e.l+=2,C=!1);break;case 80:e.l<=a[o][1]&&(e.l=a[o][1],C=!1);break;case 4108:e.l<=a[o][1]&&(e.l=a[o][1],C=!1);break}if((!n||o==0)&&e.l<=a[o][1]&&(C=!1,e.l=a[o][1]),C)throw new Error("Read Error: Expected address "+a[o][1]+" at "+e.l+" :"+o)}if(n){var y=n[a[o][0]];if(x[y.n]=Ip(e,y.t,{raw:!0}),y.p==="version"&&(x[y.n]=String(x[y.n]>>16)+"."+("0000"+String(x[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(x[y.n]){case 0:x[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:to(s=x[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+x[y.n])}}else if(a[o][0]===1){if(s=x.CodePage=Ip(e,p_),to(s),m!==-1){var v=e.l;e.l=a[m][1],u=Uy(e,s),e.l=v}}else if(a[o][0]===0){if(s===0){m=o,e.l=a[o+1][1];continue}u=Uy(e,s)}else{var P=u[a[o][0]],D;switch(e[e.l]){case 65:e.l+=4,D=hw(e);break;case 30:e.l+=4,D=Lg(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,D=Lg(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,D=e.read_shift(4,"i");break;case 19:e.l+=4,D=e.read_shift(4);break;case 5:e.l+=4,D=e.read_shift(8,"f");break;case 11:e.l+=4,D=Fi(e,4);break;case 64:e.l+=4,D=ii(h_(e));break;default:throw new Error("unparsed value: "+e[e.l])}x[P]=D}}return e.l=r+t,x}var gw=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function N6(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function Hy(e,n,r){var t=Ce(8),i=[],a=[],o=8,s=0,m=Ce(8),u=Ce(8);if(m.write_shift(4,2),m.write_shift(4,1200),u.write_shift(4,1),a.push(m),i.push(u),o+=8+m.length,!n){u=Ce(8),u.write_shift(4,0),i.unshift(u);var f=[Ce(4)];for(f[0].write_shift(4,e.length),s=0;s<e.length;++s){var g=e[s][0];for(m=Ce(8+2*(g.length+1)+(g.length%2?0:2)),m.write_shift(4,s+2),m.write_shift(4,g.length+1),m.write_shift(0,g,"dbcs");m.l!=m.length;)m.write_shift(1,0);f.push(m)}m=ur(f),a.unshift(m),o+=8+m.length}for(s=0;s<e.length;++s)if(!(n&&!n[e[s][0]])&&!(gw.indexOf(e[s][0])>-1||cw.indexOf(e[s][0])>-1)&&e[s][1]!=null){var x=e[s][1],C=0;if(n){C=+n[e[s][0]];var y=r[C];if(y.p=="version"&&typeof x=="string"){var v=x.split(".");x=(+v[0]<<16)+(+v[1]||0)}m=Yy(y.t,x)}else{var P=N6(x);P==-1&&(P=31,x=String(x)),m=Yy(P,x)}a.push(m),u=Ce(8),u.write_shift(4,n?C:2+s),i.push(u),o+=8+m.length}var D=8*(a.length+1);for(s=0;s<a.length;++s)i[s].write_shift(4,D),D+=a[s].length;return t.write_shift(4,o),t.write_shift(4,a.length),ur([t].concat(i).concat(a))}function $y(e,n,r){var t=e.content;if(!t)return{};vr(t,0);var i,a,o,s,m=0;t.chk("feff","Byte Order: "),t.read_shift(2);var u=t.read_shift(4),f=t.read_shift(16);if(f!==gt.utils.consts.HEADER_CLSID&&f!==r)throw new Error("Bad PropertySet CLSID "+f);if(i=t.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=t.read_shift(16),s=t.read_shift(4),i===1&&s!==t.l)throw new Error("Length mismatch: "+s+" !== "+t.l);i===2&&(o=t.read_shift(16),m=t.read_shift(4));var g=Wy(t,n),x={SystemIdentifier:u};for(var C in g)x[C]=g[C];if(x.FMTID=a,i===1)return x;if(m-t.l==2&&(t.l+=2),t.l!==m)throw new Error("Length mismatch 2: "+t.l+" !== "+m);var y;try{y=Wy(t,null)}catch{}for(C in y)x[C]=y[C];return x.FMTID=[a,o],x}function Gy(e,n,r,t,i,a){var o=Ce(i?68:48),s=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,gt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,n,"hex"),o.write_shift(4,i?68:48);var m=Hy(e,r,t);if(s.push(m),i){var u=Hy(i,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+m.length),s.push(u)}return ur(s)}function Ms(e,n){return e.read_shift(n),null}function L6(e,n){n||(n=Ce(e));for(var r=0;r<e;++r)n.write_shift(1,0);return n}function B6(e,n,r){for(var t=[],i=e.l+n;e.l<i;)t.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return t}function Fi(e,n){return e.read_shift(n)===1}function Wr(e,n){return n||(n=Ce(2)),n.write_shift(2,+!!e),n}function Wi(e){return e.read_shift(2,"u")}function Ua(e,n){return n||(n=Ce(2)),n.write_shift(2,e),n}function _w(e,n){return B6(e,n,Wi)}function V6(e){var n=e.read_shift(1),r=e.read_shift(1);return r===1?n:n===1}function xw(e,n,r){return r||(r=Ce(2)),r.write_shift(1,n=="e"?+e:+!!e),r.write_shift(1,n=="e"?1:0),r}function v0(e,n,r){var t=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont",a=xo;if(r&&r.biff>=8&&(xo=1200),!r||r.biff==8){var o=e.read_shift(1);o&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=t?e.read_shift(t,i):"";return xo=a,s}function j6(e){var n=xo;xo=1200;var r=e.read_shift(2),t=e.read_shift(1),i=t&4,a=t&8,o=1+(t&1),s=0,m,u={};a&&(s=e.read_shift(2)),i&&(m=e.read_shift(4));var f=o==2?"dbcs-cont":"sbcs-cont",g=r===0?"":e.read_shift(r,f);return a&&(e.l+=4*s),i&&(e.l+=m),u.t=g,a||(u.raw="<t>"+u.t+"</t>",u.r=u.t),xo=n,u}function z6(e){var n=e.t||"",r=1,t=Ce(3+(r>1?2:0));t.write_shift(2,n.length),t.write_shift(1,(r>1?8:0)|1),r>1&&t.write_shift(2,r);var i=Ce(2*n.length);i.write_shift(2*n.length,n,"utf16le");var a=[t,i];return ur(a)}function lc(e,n,r){var t;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(n,"cpstr");if(r.biff>=12)return e.read_shift(n,"dbcs-cont")}var i=e.read_shift(1);return i===0?t=e.read_shift(n,"sbcs-cont"):t=e.read_shift(n,"dbcs-cont"),t}function b0(e,n,r){var t=e.read_shift(r&&r.biff==2?1:2);return t===0?(e.l++,""):lc(e,t,r)}function xc(e,n,r){if(r.biff>5)return b0(e,n,r);var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function vw(e,n,r){return r||(r=Ce(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function U6(e){var n=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[n,r]}function Y6(e){var n=e.read_shift(4),r=e.l,t=!1;n>24&&(e.l+=n-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(t=!0),e.l=r);var i=e.read_shift((t?n-24:n)>>1,"utf16le").replace(Fr,"");return t&&(e.l+=24),i}function W6(e){for(var n=e.read_shift(2),r="";n-- >0;)r+="../";var t=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return r+t.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(a>>1,"utf16le").replace(Fr,"");return r+o}function H6(e,n){var r=e.read_shift(16);switch(n-=16,r){case"e0c9ea79f9bace118c8200aa004ba90b":return Y6(e,n);case"0303000000000000c000000000000046":return W6(e,n);default:throw new Error("Unsupported Moniker "+r)}}function xp(e){var n=e.read_shift(4),r=n>0?e.read_shift(n,"utf16le").replace(Fr,""):"";return r}function qy(e,n){n||(n=Ce(6+e.length*2)),n.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)n.write_shift(2,e.charCodeAt(r));return n.write_shift(2,0),n}function $6(e,n){var r=e.l+n,t=e.read_shift(4);if(t!==2)throw new Error("Unrecognized streamVersion: "+t);var i=e.read_shift(2);e.l+=2;var a,o,s,m,u="",f,g;i&16&&(a=xp(e,r-e.l)),i&128&&(o=xp(e,r-e.l)),(i&257)===257&&(s=xp(e,r-e.l)),(i&257)===1&&(m=H6(e,r-e.l)),i&8&&(u=xp(e,r-e.l)),i&32&&(f=e.read_shift(16)),i&64&&(g=h_(e)),e.l=r;var x=o||s||m||"";x&&u&&(x+="#"+u),x||(x="#"+u),i&2&&x.charAt(0)=="/"&&x.charAt(1)!="/"&&(x="file://"+x);var C={Target:x};return f&&(C.guid=f),g&&(C.time=g),a&&(C.Tooltip=a),C}function G6(e){var n=Ce(512),r=0,t=e.Target;t.slice(0,7)=="file://"&&(t=t.slice(7));var i=t.indexOf("#"),a=i>-1?31:23;switch(t.charAt(0)){case"#":a=28;break;case".":a&=-3;break}n.write_shift(4,2),n.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)n.write_shift(4,o[r]);if(a==28)t=t.slice(1),qy(t,n);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)n.write_shift(1,parseInt(o[r],16));var s=i>-1?t.slice(0,i):t;for(n.write_shift(4,2*(s.length+1)),r=0;r<s.length;++r)n.write_shift(2,s.charCodeAt(r));n.write_shift(2,0),a&8&&qy(i>-1?t.slice(i+1):"",n)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)n.write_shift(1,parseInt(o[r],16));for(var m=0;t.slice(m*3,m*3+3)=="../"||t.slice(m*3,m*3+3)=="..\\";)++m;for(n.write_shift(2,m),n.write_shift(4,t.length-3*m+1),r=0;r<t.length-3*m;++r)n.write_shift(1,t.charCodeAt(r+3*m)&255);for(n.write_shift(1,0),n.write_shift(2,65535),n.write_shift(2,57005),r=0;r<6;++r)n.write_shift(4,0)}return n.slice(0,n.l)}function bw(e){var n=e.read_shift(1),r=e.read_shift(1),t=e.read_shift(1),i=e.read_shift(1);return[n,r,t,i]}function Cw(e,n){var r=bw(e,n);return r[3]=0,r}function Co(e){var n=e.read_shift(2),r=e.read_shift(2),t=e.read_shift(2);return{r:n,c:r,ixfe:t}}function dc(e,n,r,t){return t||(t=Ce(6)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,r||0),t}function q6(e){var n=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:n,flags:r}}function X6(e,n,r){return n===0?"":xc(e,n,r)}function K6(e,n,r){var t=r.biff>8?4:2,i=e.read_shift(t),a=e.read_shift(t,"i"),o=e.read_shift(t,"i");return[i,a,o]}function yw(e){var n=e.read_shift(2),r=u_(e);return[n,r]}function Q6(e,n,r){e.l+=4,n-=4;var t=e.l+n,i=v0(e,n,r),a=e.read_shift(2);if(t-=e.l,a!==t)throw new Error("Malformed AddinUdf: padding = "+t+" != "+a);return e.l+=a,i}function Up(e){var n=e.read_shift(2),r=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(2);return{s:{c:t,r:n},e:{c:i,r}}}function ww(e,n){return n||(n=Ce(8)),n.write_shift(2,e.s.r),n.write_shift(2,e.e.r),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c),n}function Mw(e){var n=e.read_shift(2),r=e.read_shift(2),t=e.read_shift(1),i=e.read_shift(1);return{s:{c:t,r:n},e:{c:i,r}}}var Z6=Mw;function Sw(e){e.l+=4;var n=e.read_shift(2),r=e.read_shift(2),t=e.read_shift(2);return e.l+=12,[r,n,t]}function J6(e){var n={};return e.l+=4,e.l+=16,n.fSharedNote=e.read_shift(2),e.l+=4,n}function e8(e){var n={};return e.l+=4,e.cf=e.read_shift(2),n}function Tr(e){e.l+=2,e.l+=e.read_shift(2)}var t8={0:Tr,4:Tr,5:Tr,6:Tr,7:e8,8:Tr,9:Tr,10:Tr,11:Tr,12:Tr,13:J6,14:Tr,15:Tr,16:Tr,17:Tr,18:Tr,19:Tr,20:Tr,21:Sw};function n8(e,n){for(var r=e.l+n,t=[];e.l<r;){var i=e.read_shift(2);e.l-=2;try{t.push(t8[i](e,r-e.l))}catch{return e.l=r,t}}return e.l!=r&&(e.l=r),t}function vp(e,n){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),n-=2,n>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(n>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(n),r}function g_(e,n,r){var t=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":t=1280,i=8;break;case"biff4":t=4,i=6;break;case"biff3":t=3,i=6;break;case"biff2":t=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Ce(i);return a.write_shift(2,t),a.write_shift(2,n),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function i8(e,n){return n===0||e.read_shift(2),1200}function r8(e,n,r){if(r.enc)return e.l+=n,"";var t=e.l,i=xc(e,0,r);return e.read_shift(n+t-e.l),i}function a8(e,n){var r=!n||n.biff==8,t=Ce(r?112:54);for(t.write_shift(n.biff==8?2:1,7),r&&t.write_shift(1,0),t.write_shift(4,859007059),t.write_shift(4,5458548|(r?0:536870912));t.l<t.length;)t.write_shift(1,r?0:32);return t}function o8(e,n,r){var t=r&&r.biff==8||n==2?e.read_shift(2):(e.l+=n,0);return{fDialog:t&16,fBelow:t&64,fRight:t&128}}function s8(e,n,r){var t=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var o=v0(e,0,r);return o.length===0&&(o="Sheet1"),{pos:t,hs:i,dt:a,name:o}}function c8(e,n){var r=!n||n.biff>=8?2:1,t=Ce(8+r*e.name.length);t.write_shift(4,e.pos),t.write_shift(1,e.hs||0),t.write_shift(1,e.dt),t.write_shift(1,e.name.length),n.biff>=8&&t.write_shift(1,1),t.write_shift(r*e.name.length,e.name,n.biff<8?"sbcs":"utf16le");var i=t.slice(0,t.l);return i.l=t.l,i}function l8(e,n){for(var r=e.l+n,t=e.read_shift(4),i=e.read_shift(4),a=[],o=0;o!=i&&e.l<r;++o)a.push(j6(e));return a.Count=t,a.Unique=i,a}function d8(e,n){var r=Ce(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var t=[],i=0;i<e.length;++i)t[i]=z6(e[i],n);var a=ur([r].concat(t));return a.parts=[r.length].concat(t.map(function(o){return o.length})),a}function m8(e,n){var r={};return r.dsst=e.read_shift(2),e.l+=n-2,r}function u8(e){var n={};n.r=e.read_shift(2),n.c=e.read_shift(2),n.cnt=e.read_shift(2)-n.c;var r=e.read_shift(2);e.l+=4;var t=e.read_shift(1);return e.l+=3,t&7&&(n.level=t&7),t&32&&(n.hidden=!0),t&64&&(n.hpt=r/20),n}function p8(e){var n=q6(e);if(n.type!=2211)throw new Error("Invalid Future Record "+n.type);var r=e.read_shift(4);return r!==0}function f8(e){return e.read_shift(2),e.read_shift(4)}function Xy(e,n,r){var t=0;r&&r.biff==2||(t=e.read_shift(2));var i=e.read_shift(2);r&&r.biff==2&&(t=1-(i>>15),i&=32767);var a={Unsynced:t&1,DyZero:(t&2)>>1,ExAsc:(t&4)>>2,ExDsc:(t&8)>>3};return[a,i]}function h8(e){var n=e.read_shift(2),r=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),o=e.read_shift(2),s=e.read_shift(2),m=e.read_shift(2),u=e.read_shift(2);return{Pos:[n,r],Dim:[t,i],Flags:a,CurTab:o,FirstTab:s,Selected:m,TabRatio:u}}function g8(){var e=Ce(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function _8(e,n,r){if(r&&r.biff>=2&&r.biff<5)return{};var t=e.read_shift(2);return{RTL:t&64}}function x8(e){var n=Ce(18),r=1718;return e&&e.RTL&&(r|=64),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,64),n.write_shift(4,0),n.write_shift(4,0),n}function v8(){}function b8(e,n,r){var t={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return t.name=v0(e,0,r),t}function C8(e,n){var r=e.name||"Arial",t=n&&n.biff==5,i=t?15+r.length:16+2*r.length,a=Ce(i);return a.write_shift(2,(e.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),t||a.write_shift(1,1),a.write_shift((t?1:2)*r.length,r,t?"sbcs":"utf16le"),a}function y8(e){var n=Co(e);return n.isst=e.read_shift(4),n}function w8(e,n,r,t){var i=Ce(10);return dc(e,n,t,i),i.write_shift(4,r),i}function M8(e,n,r){r.biffguess&&r.biff==2&&(r.biff=5);var t=e.l+n,i=Co(e,6);r.biff==2&&e.l++;var a=b0(e,t-e.l,r);return i.val=a,i}function S8(e,n,r,t,i){var a=!i||i.biff==8,o=Ce(8+ +a+(1+a)*r.length);return dc(e,n,t,o),o.write_shift(2,r.length),a&&o.write_shift(1,1),o.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),o}function P8(e,n,r){var t=e.read_shift(2),i=xc(e,0,r);return[t,i]}function k8(e,n,r,t){var i=r&&r.biff==5;t||(t=Ce(i?3+n.length:5+2*n.length)),t.write_shift(2,e),t.write_shift(i?1:2,n.length),i||t.write_shift(1,1),t.write_shift((i?1:2)*n.length,n,i?"sbcs":"utf16le");var a=t.length>t.l?t.slice(0,t.l):t;return a.l==null&&(a.l=a.length),a}var O8=xc;function Ky(e,n,r){var t=e.l+n,i=r.biff==8||!r.biff?4:2,a=e.read_shift(i),o=e.read_shift(i),s=e.read_shift(2),m=e.read_shift(2);return e.l=t,{s:{r:a,c:s},e:{r:o,c:m}}}function T8(e,n){var r=n.biff==8||!n.biff?4:2,t=Ce(2*r+6);return t.write_shift(r,e.s.r),t.write_shift(r,e.e.r+1),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c+1),t.write_shift(2,0),t}function E8(e){var n=e.read_shift(2),r=e.read_shift(2),t=yw(e);return{r:n,c:r,ixfe:t[0],rknum:t[1]}}function D8(e,n){for(var r=e.l+n-2,t=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(yw(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(a.length!=o-i+1)throw new Error("MulRK length mismatch");return{r:t,c:i,C:o,rkrec:a}}function I8(e,n){for(var r=e.l+n-2,t=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(a.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r:t,c:i,C:o,ixfe:a}}function A8(e,n,r,t){var i={},a=e.read_shift(4),o=e.read_shift(4),s=e.read_shift(4),m=e.read_shift(2);return i.patternType=p6[s>>26],t.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=s&127,i.icvBottom=s>>7&127,i.icvDiag=s>>14&127,i.dgDiag=s>>21&15,i.icvFore=m&127,i.icvBack=m>>7&127,i.fsxButton=m>>14&1),i}function F8(e,n,r){var t={};return t.ifnt=e.read_shift(2),t.numFmtId=e.read_shift(2),t.flags=e.read_shift(2),t.fStyle=t.flags>>2&1,n-=6,t.data=A8(e,n,t.fStyle,r),t}function Qy(e,n,r,t){var i=r&&r.biff==5;t||(t=Ce(i?16:20)),t.write_shift(2,0),e.style?(t.write_shift(2,e.numFmtId||0),t.write_shift(2,65524)):(t.write_shift(2,e.numFmtId||0),t.write_shift(2,n<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),t.write_shift(4,a),t.write_shift(4,0),i||t.write_shift(4,0),t.write_shift(2,0),t}function R8(e){e.l+=4;var n=[e.read_shift(2),e.read_shift(2)];if(n[0]!==0&&n[0]--,n[1]!==0&&n[1]--,n[0]>7||n[1]>7)throw new Error("Bad Gutters: "+n.join("|"));return n}function N8(e){var n=Ce(8);return n.write_shift(4,0),n.write_shift(2,e[0]?e[0]+1:0),n.write_shift(2,e[1]?e[1]+1:0),n}function Zy(e,n,r){var t=Co(e,6);(r.biff==2||n==9)&&++e.l;var i=V6(e,2);return t.val=i,t.t=i===!0||i===!1?"b":"e",t}function L8(e,n,r,t,i,a){var o=Ce(8);return dc(e,n,t,o),xw(r,a,o),o}function B8(e,n,r){r.biffguess&&r.biff==2&&(r.biff=5);var t=Co(e,6),i=Ar(e,8);return t.val=i,t}function V8(e,n,r,t){var i=Ce(14);return dc(e,n,t,i),cc(r,i),i}var Jy=X6;function j8(e,n,r){var t=e.l+n,i=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var o=lc(e,a),s=[];t>e.l;)s.push(b0(e));return[a,i,o,s]}function e2(e,n,r){var t=e.read_shift(2),i,a={fBuiltIn:t&1,fWantAdvise:t>>>1&1,fWantPict:t>>>2&1,fOle:t>>>3&1,fOleLink:t>>>4&1,cf:t>>>5&1023,fIcon:t>>>15&1};return r.sbcch===14849&&(i=Q6(e,n-2,r)),a.body=i||e.read_shift(n-2),typeof i=="string"&&(a.Name=i),a}var z8=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function t2(e,n,r){var t=e.l+n,i=e.read_shift(2),a=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(r&&r.biff==2?1:2),m=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),m=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=lc(e,o,r);i&32&&(u=z8[u.charCodeAt(0)]);var f=t-e.l;r&&r.biff==2&&--f;var g=t==e.l||s===0||!(f>0)?[]:nN(e,f,r,s);return{chKey:a,Name:u,itab:m,rgce:g}}function Pw(e,n,r){if(r.biff<8)return U8(e,n,r);for(var t=[],i=e.l+n,a=e.read_shift(r.biff>8?4:2);a--!==0;)t.push(K6(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return t}function U8(e,n,r){e[e.l+1]==3&&e[e.l]++;var t=v0(e,n,r);return t.charCodeAt(0)==3?t.slice(1):t}function Y8(e,n,r){if(r.biff<8){e.l+=n;return}var t=e.read_shift(2),i=e.read_shift(2),a=lc(e,t,r),o=lc(e,i,r);return[a,o]}function W8(e,n,r){var t=Mw(e,6);e.l++;var i=e.read_shift(1);return n-=8,[iN(e,n,r),i,t]}function n2(e,n,r){var t=Z6(e,6);switch(r.biff){case 2:e.l++,n-=7;break;case 3:case 4:e.l+=2,n-=8;break;default:e.l+=6,n-=12}return[t,eN(e,n,r,t)]}function H8(e){var n=e.read_shift(4)!==0,r=e.read_shift(4)!==0,t=e.read_shift(4);return[n,r,t]}function $8(e,n,r){if(!(r.biff<8)){var t=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),o=e.read_shift(2),s=xc(e,0,r);return r.biff<8&&e.read_shift(1),[{r:t,c:i},s,o,a]}}function G8(e,n,r){return $8(e,n,r)}function q8(e,n){for(var r=[],t=e.read_shift(2);t--;)r.push(Up(e,n));return r}function X8(e){var n=Ce(2+e.length*8);n.write_shift(2,e.length);for(var r=0;r<e.length;++r)ww(e[r],n);return n}function K8(e,n,r){if(r&&r.biff<8)return Z8(e,n,r);var t=Sw(e,22),i=n8(e,n-22,t[1]);return{cmo:t,ft:i}}var Q8={8:function(e,n){var r=e.l+n;e.l+=10;var t=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:t}}};function Z8(e,n,r){e.l+=4;var t=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,n-=36;var o=[];return o.push((Q8[t]||Nr)(e,n,r)),{cmo:[i,t,a],ft:o}}function J8(e,n,r){var t=e.l,i="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:o=U6(e,6,r);var s=e.read_shift(2);e.read_shift(2),Wi(e,2);var m=e.read_shift(2);e.l+=m;for(var u=1;u<e.lens.length-1;++u){if(e.l-t!=e.lens[u])throw new Error("TxO: bad continue record");var f=e[e.l],g=lc(e,e.lens[u+1]-e.lens[u]-1);if(i+=g,i.length>=(f?s:2*s))break}if(i.length!==s&&i.length!==s*2)throw new Error("cchText: "+s+" != "+i.length);return e.l=t+n,{t:i}}catch{return e.l=t+n,{t:i}}}function eF(e,n){var r=Up(e,8);e.l+=16;var t=$6(e,n-24);return[r,t]}function tF(e){var n=Ce(24),r=xi(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var t="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)n.write_shift(1,parseInt(t[i],16));return ur([n,G6(e[1])])}function nF(e,n){e.read_shift(2);var r=Up(e,8),t=e.read_shift((n-10)/2,"dbcs-cont");return t=t.replace(Fr,""),[r,t]}function iF(e){var n=e[1].Tooltip,r=Ce(10+2*(n.length+1));r.write_shift(2,2048);var t=xi(e[0]);r.write_shift(2,t.r),r.write_shift(2,t.r),r.write_shift(2,t.c),r.write_shift(2,t.c);for(var i=0;i<n.length;++i)r.write_shift(2,n.charCodeAt(i));return r.write_shift(2,0),r}function rF(e){var n=[0,0],r;return r=e.read_shift(2),n[0]=jy[r]||r,r=e.read_shift(2),n[1]=jy[r]||r,n}function aF(e){return e||(e=Ce(4)),e.write_shift(2,1),e.write_shift(2,1),e}function oF(e){for(var n=e.read_shift(2),r=[];n-- >0;)r.push(Cw(e,8));return r}function sF(e){for(var n=e.read_shift(2),r=[];n-- >0;)r.push(Cw(e,8));return r}function cF(e){e.l+=2;var n={cxfs:0,crc:0};return n.cxfs=e.read_shift(2),n.crc=e.read_shift(4),n}function kw(e,n,r){if(!r.cellStyles)return Nr(e,n);var t=r&&r.biff>=12?4:2,i=e.read_shift(t),a=e.read_shift(t),o=e.read_shift(t),s=e.read_shift(t),m=e.read_shift(2);t==2&&(e.l+=2);var u={s:i,e:a,w:o,ixfe:s,flags:m};return(r.biff>=5||!r.biff)&&(u.level=m>>8&7),u}function lF(e,n){var r=Ce(12);r.write_shift(2,n),r.write_shift(2,n),r.write_shift(2,e.width*256),r.write_shift(2,0);var t=0;return e.hidden&&(t|=1),r.write_shift(1,t),t=e.level||0,r.write_shift(1,t),r.write_shift(2,0),r}function dF(e,n){var r={};return n<32||(e.l+=16,r.header=Ar(e,8),r.footer=Ar(e,8),e.l+=2),r}function mF(e,n,r){var t={area:!1};if(r.biff!=5)return e.l+=n,t;var i=e.read_shift(1);return e.l+=3,i&16&&(t.area=!0),t}function uF(e){for(var n=Ce(2*e),r=0;r<e;++r)n.write_shift(2,r+1);return n}var pF=Co,fF=_w,hF=b0;function gF(e){var n=e.read_shift(2),r=e.read_shift(2),t=e.read_shift(4),i={fmt:n,env:r,len:t,data:e.slice(e.l,e.l+t)};return e.l+=t,i}function _F(e,n,r){r.biffguess&&r.biff==5&&(r.biff=2);var t=Co(e,6);++e.l;var i=xc(e,n-7,r);return t.t="str",t.val=i,t}function xF(e){var n=Co(e,6);++e.l;var r=Ar(e,8);return n.t="n",n.val=r,n}function vF(e,n,r){var t=Ce(15);return M0(t,e,n),t.write_shift(8,r,"f"),t}function bF(e){var n=Co(e,6);++e.l;var r=e.read_shift(2);return n.t="n",n.val=r,n}function CF(e,n,r){var t=Ce(9);return M0(t,e,n),t.write_shift(2,r),t}function yF(e){var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,"sbcs-cont")}function wF(e,n){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=n-13}function MF(e,n,r){var t=e.l+n,i=Co(e,6),a=e.read_shift(2),o=lc(e,a,r);return e.l=t,i.t="str",i.val=o,i}var SF=[2,3,48,49,131,139,140,245],Bg=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},n=Bp({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(s,m){var u=[],f=Os(1);switch(m.type){case"base64":f=Ca(wa(s));break;case"binary":f=Ca(s);break;case"buffer":case"array":f=s;break}vr(f,0);var g=f.read_shift(1),x=!!(g&136),C=!1,y=!1;switch(g){case 2:break;case 3:break;case 48:C=!0,x=!0;break;case 49:C=!0,x=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var v=0,P=521;g==2&&(v=f.read_shift(2)),f.l+=3,g!=2&&(v=f.read_shift(4)),v>1048576&&(v=1e6),g!=2&&(P=f.read_shift(2));var D=f.read_shift(2),I=m.codepage||1252;g!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(I=e[f[f.l]]),f.l+=1,f.l+=2),y&&(f.l+=36);for(var A=[],K={},J=Math.min(f.length,g==2?521:P-10-(C?264:0)),O=y?32:11;f.l<J&&f[f.l]!=13;)switch(K={},K.name=An.utils.decode(I,f.slice(f.l,f.l+O)).replace(/[\u0000\r\n].*$/g,""),f.l+=O,K.type=String.fromCharCode(f.read_shift(1)),g!=2&&!y&&(K.offset=f.read_shift(4)),K.len=f.read_shift(1),g==2&&(K.offset=f.read_shift(2)),K.dec=f.read_shift(1),K.name.length&&A.push(K),g!=2&&(f.l+=y?13:14),K.type){case"B":(!C||K.len!=8)&&m.WTF&&console.log("Skipping "+K.name+":"+K.type);break;case"G":case"P":m.WTF&&console.log("Skipping "+K.name+":"+K.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+K.type)}if(f[f.l]!==13&&(f.l=P-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=P;var k=0,V=0;for(u[0]=[],V=0;V!=A.length;++V)u[0][V]=A[V].name;for(;v-- >0;){if(f[f.l]===42){f.l+=D;continue}for(++f.l,u[++k]=[],V=0,V=0;V!=A.length;++V){var W=f.slice(f.l,f.l+A[V].len);f.l+=A[V].len,vr(W,0);var ee=An.utils.decode(I,W);switch(A[V].type){case"C":ee.trim().length&&(u[k][V]=ee.replace(/\s+$/,""));break;case"D":ee.length===8?u[k][V]=new Date(+ee.slice(0,4),+ee.slice(4,6)-1,+ee.slice(6,8)):u[k][V]=ee;break;case"F":u[k][V]=parseFloat(ee.trim());break;case"+":case"I":u[k][V]=y?W.read_shift(-4,"i")^2147483648:W.read_shift(4,"i");break;case"L":switch(ee.trim().toUpperCase()){case"Y":case"T":u[k][V]=!0;break;case"N":case"F":u[k][V]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ee+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));u[k][V]="##MEMO##"+(y?parseInt(ee.trim(),10):W.read_shift(4));break;case"N":ee=ee.replace(/\u0000/g,"").trim(),ee&&ee!="."&&(u[k][V]=+ee||0);break;case"@":u[k][V]=new Date(W.read_shift(-8,"f")-621356832e5);break;case"T":u[k][V]=new Date((W.read_shift(4)-2440588)*864e5+W.read_shift(4));break;case"Y":u[k][V]=W.read_shift(4,"i")/1e4+W.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[k][V]=-W.read_shift(-8,"f");break;case"B":if(C&&A[V].len==8){u[k][V]=W.read_shift(8,"f");break}case"G":case"P":W.l+=A[V].len;break;case"0":if(A[V].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[V].type)}}}if(g!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return m&&m.sheetRows&&(u=u.slice(0,m.sheetRows)),m.DBF=A,u}function t(s,m){var u=m||{};u.dateNF||(u.dateNF="yyyymmdd");var f=Kl(r(s,u),u);return f["!cols"]=u.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete u.DBF,f}function i(s,m){try{return As(t(s,m),m)}catch(u){if(m&&m.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,m){var u=m||{};if(+u.codepage>=0&&to(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=na(),g=Np(s,{header:1,raw:!0,cellDates:!0}),x=g[0],C=g.slice(1),y=s["!cols"]||[],v=0,P=0,D=0,I=1;for(v=0;v<x.length;++v){if(((y[v]||{}).DBF||{}).name){x[v]=y[v].DBF.name,++D;continue}if(x[v]!=null){if(++D,typeof x[v]=="number"&&(x[v]=x[v].toString(10)),typeof x[v]!="string")throw new Error("DBF Invalid column name "+x[v]+" |"+typeof x[v]+"|");if(x.indexOf(x[v])!==v){for(P=0;P<1024;++P)if(x.indexOf(x[v]+"_"+P)==-1){x[v]+="_"+P;break}}}}var A=Cn(s["!ref"]),K=[],J=[],O=[];for(v=0;v<=A.e.c-A.s.c;++v){var k="",V="",W=0,ee=[];for(P=0;P<C.length;++P)C[P][v]!=null&&ee.push(C[P][v]);if(ee.length==0||x[v]==null){K[v]="?";continue}for(P=0;P<ee.length;++P){switch(typeof ee[P]){case"number":V="B";break;case"string":V="C";break;case"boolean":V="L";break;case"object":V=ee[P]instanceof Date?"D":"C";break;default:V="C"}W=Math.max(W,String(ee[P]).length),k=k&&k!=V?"C":V}W>250&&(W=250),V=((y[v]||{}).DBF||{}).type,V=="C"&&y[v].DBF.len>W&&(W=y[v].DBF.len),k=="B"&&V=="N"&&(k="N",O[v]=y[v].DBF.dec,W=y[v].DBF.len),J[v]=k=="C"||V=="N"?W:a[k]||0,I+=J[v],K[v]=k}var re=f.next(32);for(re.write_shift(4,318902576),re.write_shift(4,C.length),re.write_shift(2,296+32*D),re.write_shift(2,I),v=0;v<4;++v)re.write_shift(4,0);for(re.write_shift(4,0|(+n[Wl]||3)<<8),v=0,P=0;v<x.length;++v)if(x[v]!=null){var ie=f.next(32),ke=(x[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);ie.write_shift(1,ke,"sbcs"),ie.write_shift(1,K[v]=="?"?"C":K[v],"sbcs"),ie.write_shift(4,P),ie.write_shift(1,J[v]||a[K[v]]||0),ie.write_shift(1,O[v]||0),ie.write_shift(1,2),ie.write_shift(4,0),ie.write_shift(1,0),ie.write_shift(4,0),ie.write_shift(4,0),P+=J[v]||a[K[v]]||0}var Be=f.next(264);for(Be.write_shift(4,13),v=0;v<65;++v)Be.write_shift(4,0);for(v=0;v<C.length;++v){var ye=f.next(I);for(ye.write_shift(1,0),P=0;P<x.length;++P)if(x[P]!=null)switch(K[P]){case"L":ye.write_shift(1,C[v][P]==null?63:C[v][P]?84:70);break;case"B":ye.write_shift(8,C[v][P]||0,"f");break;case"N":var $e="0";for(typeof C[v][P]=="number"&&($e=C[v][P].toFixed(O[P]||0)),D=0;D<J[P]-$e.length;++D)ye.write_shift(1,32);ye.write_shift(1,$e,"sbcs");break;case"D":C[v][P]?(ye.write_shift(4,("0000"+C[v][P].getFullYear()).slice(-4),"sbcs"),ye.write_shift(2,("00"+(C[v][P].getMonth()+1)).slice(-2),"sbcs"),ye.write_shift(2,("00"+C[v][P].getDate()).slice(-2),"sbcs")):ye.write_shift(8,"00000000","sbcs");break;case"C":var Te=String(C[v][P]!=null?C[v][P]:"").slice(0,J[P]);for(ye.write_shift(1,Te,"sbcs"),D=0;D<J[P]-Te.length;++D)ye.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:t,from_sheet:o}}(),Ow=function(){var e={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},n=new RegExp("\x1BN("+Oi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(x,C){var y=e[C];return typeof y=="number"?py(y):y},t=function(x,C,y){var v=C.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return v==59?x:py(v)};e["|"]=254;function i(x,C){switch(C.type){case"base64":return a(wa(x),C);case"binary":return a(x,C);case"buffer":return a(tn&&Buffer.isBuffer(x)?x.toString("binary"):Is(x),C);case"array":return a(sc(x),C)}throw new Error("Unrecognized type "+C.type)}function a(x,C){var y=x.split(/[\n\r]+/),v=-1,P=-1,D=0,I=0,A=[],K=[],J=null,O={},k=[],V=[],W=[],ee=0,re;for(+C.codepage>=0&&to(+C.codepage);D!==y.length;++D){ee=0;var ie=y[D].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,t).replace(n,r),ke=ie.replace(/;;/g,"\0").split(";").map(function(Z){return Z.replace(/\u0000/g,";")}),Be=ke[0],ye;if(ie.length>0)switch(Be){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ke[1].charAt(0)=="P"&&K.push(ie.slice(3).replace(/;;/g,";"));break;case"C":var $e=!1,Te=!1,nt=!1,Me=!1,Ae=-1,ce=-1;for(I=1;I<ke.length;++I)switch(ke[I].charAt(0)){case"A":break;case"X":P=parseInt(ke[I].slice(1))-1,Te=!0;break;case"Y":for(v=parseInt(ke[I].slice(1))-1,Te||(P=0),re=A.length;re<=v;++re)A[re]=[];break;case"K":ye=ke[I].slice(1),ye.charAt(0)==='"'?ye=ye.slice(1,ye.length-1):ye==="TRUE"?ye=!0:ye==="FALSE"?ye=!1:isNaN(io(ye))?isNaN(Hl(ye).getDate())||(ye=ii(ye)):(ye=io(ye),J!==null&&uc(J)&&(ye=jp(ye))),typeof An<"u"&&typeof ye=="string"&&(C||{}).type!="string"&&(C||{}).codepage&&(ye=An.utils.decode(C.codepage,ye)),$e=!0;break;case"E":Me=!0;var X=Ul(ke[I].slice(1),{r:v,c:P});A[v][P]=[A[v][P],X];break;case"S":nt=!0,A[v][P]=[A[v][P],"S5S"];break;case"G":break;case"R":Ae=parseInt(ke[I].slice(1))-1;break;case"C":ce=parseInt(ke[I].slice(1))-1;break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+ie)}if($e&&(A[v][P]&&A[v][P].length==2?A[v][P][0]=ye:A[v][P]=ye,J=null),nt){if(Me)throw new Error("SYLK shared formula cannot have own formula");var te=Ae>-1&&A[Ae][ce];if(!te||!te[1])throw new Error("SYLK shared formula cannot find base");A[v][P][1]=$w(te[1],{r:v-Ae,c:P-ce})}break;case"F":var Q=0;for(I=1;I<ke.length;++I)switch(ke[I].charAt(0)){case"X":P=parseInt(ke[I].slice(1))-1,++Q;break;case"Y":for(v=parseInt(ke[I].slice(1))-1,re=A.length;re<=v;++re)A[re]=[];break;case"M":ee=parseInt(ke[I].slice(1))/20;break;case"F":break;case"G":break;case"P":J=K[parseInt(ke[I].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(W=ke[I].slice(1).split(" "),re=parseInt(W[0],10);re<=parseInt(W[1],10);++re)ee=parseInt(W[2],10),V[re-1]=ee===0?{hidden:!0}:{wch:ee},Ts(V[re-1]);break;case"C":P=parseInt(ke[I].slice(1))-1,V[P]||(V[P]={});break;case"R":v=parseInt(ke[I].slice(1))-1,k[v]||(k[v]={}),ee>0?(k[v].hpt=ee,k[v].hpx=Gl(ee)):ee===0&&(k[v].hidden=!0);break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+ie)}Q<1&&(J=null);break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+ie)}}return k.length>0&&(O["!rows"]=k),V.length>0&&(O["!cols"]=V),C&&C.sheetRows&&(A=A.slice(0,C.sheetRows)),[A,O]}function o(x,C){var y=i(x,C),v=y[0],P=y[1],D=Kl(v,C);return Oi(P).forEach(function(I){D[I]=P[I]}),D}function s(x,C){return As(o(x,C),C)}function m(x,C,y,v){var P="C;Y"+(y+1)+";X"+(v+1)+";K";switch(x.t){case"n":P+=x.v||0,x.f&&!x.F&&(P+=";E"+y_(x.f,{r:y,c:v}));break;case"b":P+=x.v?"TRUE":"FALSE";break;case"e":P+=x.w||x.v;break;case"d":P+='"'+(x.w||x.v)+'"';break;case"s":P+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return P}function u(x,C){C.forEach(function(y,v){var P="F;W"+(v+1)+" "+(v+1)+" ";y.hidden?P+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=m0(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=u0(y.wpx)),typeof y.wch=="number"&&(P+=Math.round(y.wch))),P.charAt(P.length-1)!=" "&&x.push(P)})}function f(x,C){C.forEach(function(y,v){var P="F;";y.hidden?P+="M0;":y.hpt?P+="M"+20*y.hpt+";":y.hpx&&(P+="M"+20*p0(y.hpx)+";"),P.length>2&&x.push(P+"R"+(v+1))})}function g(x,C){var y=["ID;PWXL;N;E"],v=[],P=Cn(x["!ref"]),D,I=Array.isArray(x),A=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),x["!cols"]&&u(y,x["!cols"]),x["!rows"]&&f(y,x["!rows"]),y.push("B;Y"+(P.e.r-P.s.r+1)+";X"+(P.e.c-P.s.c+1)+";D"+[P.s.c,P.s.r,P.e.c,P.e.r].join(" "));for(var K=P.s.r;K<=P.e.r;++K)for(var J=P.s.c;J<=P.e.c;++J){var O=Mt({r:K,c:J});D=I?(x[K]||[])[J]:x[O],!(!D||D.v==null&&(!D.f||D.F))&&v.push(m(D,x,K,J,C))}return y.join(A)+A+v.join(A)+A+"E"+A}return{to_workbook:s,to_sheet:o,from_sheet:g}}(),Tw=function(){function e(a,o){switch(o.type){case"base64":return n(wa(a),o);case"binary":return n(a,o);case"buffer":return n(tn&&Buffer.isBuffer(a)?a.toString("binary"):Is(a),o);case"array":return n(sc(a),o)}throw new Error("Unrecognized type "+o.type)}function n(a,o){for(var s=a.split(`
`),m=-1,u=-1,f=0,g=[];f!==s.length;++f){if(s[f].trim()==="BOT"){g[++m]=[],u=0;continue}if(!(m<0)){var x=s[f].trim().split(","),C=x[0],y=x[1];++f;for(var v=s[f]||"";(v.match(/["]/g)||[]).length&1&&f<s.length-1;)v+=`
`+s[++f];switch(v=v.trim(),+C){case-1:if(v==="BOT"){g[++m]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?g[m][u]=!0:v==="FALSE"?g[m][u]=!1:isNaN(io(y))?isNaN(Hl(y).getDate())?g[m][u]=y:g[m][u]=ii(y):g[m][u]=io(y),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),Wd&&v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),g[m][u++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function r(a,o){return Kl(e(a,o),o)}function t(a,o){return As(r(a,o),o)}var i=function(){var a=function(m,u,f,g,x){m.push(u),m.push(f+","+g),m.push('"'+x.replace(/"/g,'""')+'"')},o=function(m,u,f,g){m.push(u+","+f),m.push(u==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(m){var u=[],f=Cn(m["!ref"]),g,x=Array.isArray(m);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,f.e.r-f.s.r+1,""),a(u,"TUPLES",0,f.e.c-f.s.c+1,""),a(u,"DATA",0,0,"");for(var C=f.s.r;C<=f.e.r;++C){o(u,-1,0,"BOT");for(var y=f.s.c;y<=f.e.c;++y){var v=Mt({r:C,c:y});if(g=x?(m[C]||[])[y]:m[v],!g){o(u,1,0,"");continue}switch(g.t){case"n":var P=Wd?g.w:g.v;!P&&g.v!=null&&(P=g.v),P==null?Wd&&g.f&&!g.F?o(u,1,0,"="+g.f):o(u,1,0,""):o(u,0,P,"V");break;case"b":o(u,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(u,1,0,!Wd||isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=Ma(g.z||bt[14],tr(ii(g.v)))),Wd?o(u,0,g.w,"V"):o(u,1,0,g.w);break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var D=`\r
`,I=u.join(D);return I}}();return{to_workbook:t,to_sheet:r,from_sheet:i}}(),Ew=function(){function e(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function n(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(g,x){for(var C=g.split(`
`),y=-1,v=-1,P=0,D=[];P!==C.length;++P){var I=C[P].trim().split(":");if(I[0]==="cell"){var A=xi(I[1]);if(D.length<=A.r)for(y=D.length;y<=A.r;++y)D[y]||(D[y]=[]);switch(y=A.r,v=A.c,I[2]){case"t":D[y][v]=e(I[3]);break;case"v":D[y][v]=+I[3];break;case"vtf":var K=I[I.length-1];case"vtc":switch(I[3]){case"nl":D[y][v]=!!+I[4];break;default:D[y][v]=+I[4];break}I[2]=="vtf"&&(D[y][v]=[D[y][v],K])}}}return x&&x.sheetRows&&(D=D.slice(0,x.sheetRows)),D}function t(g,x){return Kl(r(g,x),x)}function i(g,x){return As(t(g,x),x)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),m="--SocialCalcSpreadsheetControlSave--";function u(g){if(!g||!g["!ref"])return"";for(var x=[],C=[],y,v="",P=ia(g["!ref"]),D=Array.isArray(g),I=P.s.r;I<=P.e.r;++I)for(var A=P.s.c;A<=P.e.c;++A)if(v=Mt({r:I,c:A}),y=D?(g[I]||[])[A]:g[v],!(!y||y.v==null||y.t==="z")){switch(C=["cell",v,"t"],y.t){case"s":case"str":C.push(n(y.v));break;case"n":y.f?(C[2]="vtf",C[3]="n",C[4]=y.v,C[5]=n(y.f)):(C[2]="v",C[3]=y.v);break;case"b":C[2]="vt"+(y.f?"f":"c"),C[3]="nl",C[4]=y.v?"1":"0",C[5]=n(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var K=tr(ii(y.v));C[2]="vtc",C[3]="nd",C[4]=""+K,C[5]=y.w||Ma(y.z||bt[14],K);break;case"e":continue}x.push(C.join(":"))}return x.push("sheet:c:"+(P.e.c-P.s.c+1)+":r:"+(P.e.r-P.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function f(g){return[a,o,s,o,u(g),m].join(`
`)}return{to_workbook:i,to_sheet:t,from_sheet:f}}(),$l=function(){function e(f,g,x,C,y){y.raw?g[x][C]=f:f===""||(f==="TRUE"?g[x][C]=!0:f==="FALSE"?g[x][C]=!1:isNaN(io(f))?isNaN(Hl(f).getDate())?g[x][C]=f:g[x][C]=ii(f):g[x][C]=io(f))}function n(f,g){var x=g||{},C=[];if(!f||f.length===0)return C;for(var y=f.split(/[\r\n]/),v=y.length-1;v>=0&&y[v].length===0;)--v;for(var P=10,D=0,I=0;I<=v;++I)D=y[I].indexOf(" "),D==-1?D=y[I].length:D++,P=Math.max(P,D);for(I=0;I<=v;++I){C[I]=[];var A=0;for(e(y[I].slice(0,P).trim(),C,I,A,x),A=1;A<=(y[I].length-P)/10+1;++A)e(y[I].slice(P+(A-1)*10,P+A*10).trim(),C,I,A,x)}return x.sheetRows&&(C=C.slice(0,x.sheetRows)),C}var r={44:",",9:"	",59:";",124:"|"},t={44:3,9:2,59:1,124:0};function i(f){for(var g={},x=!1,C=0,y=0;C<f.length;++C)(y=f.charCodeAt(C))==34?x=!x:!x&&y in r&&(g[y]=(g[y]||0)+1);y=[];for(C in g)Object.prototype.hasOwnProperty.call(g,C)&&y.push([g[C],C]);if(!y.length){g=t;for(C in g)Object.prototype.hasOwnProperty.call(g,C)&&y.push([g[C],C])}return y.sort(function(v,P){return v[0]-P[0]||t[v[1]]-t[P[1]]}),r[y.pop()[1]]||44}function a(f,g){var x=g||{},C="";ki!=null&&x.dense==null&&(x.dense=ki);var y=x.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(C=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(C=f.charAt(4),f=f.slice(6)):C=i(f.slice(0,1024)):x&&x.FS?C=x.FS:C=i(f.slice(0,1024));var P=0,D=0,I=0,A=0,K=0,J=C.charCodeAt(0),O=!1,k=0,V=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var W=x.dateNF!=null?mA(x.dateNF):null;function ee(){var re=f.slice(A,K),ie={};if(re.charAt(0)=='"'&&re.charAt(re.length-1)=='"'&&(re=re.slice(1,-1).replace(/""/g,'"')),re.length===0)ie.t="z";else if(x.raw)ie.t="s",ie.v=re;else if(re.trim().length===0)ie.t="s",ie.v=re;else if(re.charCodeAt(0)==61)re.charCodeAt(1)==34&&re.charCodeAt(re.length-1)==34?(ie.t="s",ie.v=re.slice(2,-1).replace(/""/g,'"')):jR(re)?(ie.t="n",ie.f=re.slice(1)):(ie.t="s",ie.v=re);else if(re=="TRUE")ie.t="b",ie.v=!0;else if(re=="FALSE")ie.t="b",ie.v=!1;else if(!isNaN(I=io(re)))ie.t="n",x.cellText!==!1&&(ie.w=re),ie.v=I;else if(!isNaN(Hl(re).getDate())||W&&re.match(W)){ie.z=x.dateNF||bt[14];var ke=0;W&&re.match(W)&&(re=uA(re,x.dateNF,re.match(W)||[]),ke=1),x.cellDates?(ie.t="d",ie.v=ii(re,ke)):(ie.t="n",ie.v=tr(ii(re,ke))),x.cellText!==!1&&(ie.w=Ma(ie.z,ie.v instanceof Date?tr(ie.v):ie.v)),x.cellNF||delete ie.z}else ie.t="s",ie.v=re;if(ie.t=="z"||(x.dense?(y[P]||(y[P]=[]),y[P][D]=ie):y[Mt({c:D,r:P})]=ie),A=K+1,V=f.charCodeAt(A),v.e.c<D&&(v.e.c=D),v.e.r<P&&(v.e.r=P),k==J)++D;else if(D=0,++P,x.sheetRows&&x.sheetRows<=P)return!0}e:for(;K<f.length;++K)switch(k=f.charCodeAt(K)){case 34:V===34&&(O=!O);break;case J:case 10:case 13:if(!O&&ee())break e;break;default:break}return K-A>0&&ee(),y["!ref"]=Wt(v),y}function o(f,g){return!(g&&g.PRN)||g.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?a(f,g):Kl(n(f,g),g)}function s(f,g){var x="",C=g.type=="string"?[0,0,0,0]:E_(f,g);switch(g.type){case"base64":x=wa(f);break;case"binary":x=f;break;case"buffer":g.codepage==65001?x=f.toString("utf8"):g.codepage&&typeof An<"u"?x=An.utils.decode(g.codepage,f):x=tn&&Buffer.isBuffer(f)?f.toString("binary"):Is(f);break;case"array":x=sc(f);break;case"string":x=f;break;default:throw new Error("Unrecognized type "+g.type)}return C[0]==239&&C[1]==187&&C[2]==191?x=Yn(x.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?x=Yn(x):g.type=="binary"&&typeof An<"u"&&g.codepage&&(x=An.utils.decode(g.codepage,An.utils.encode(28591,x))),x.slice(0,19)=="socialcalc:version:"?Ew.to_sheet(g.type=="string"?x:Yn(x),g):o(x,g)}function m(f,g){return As(s(f,g),g)}function u(f){for(var g=[],x=Cn(f["!ref"]),C,y=Array.isArray(f),v=x.s.r;v<=x.e.r;++v){for(var P=[],D=x.s.c;D<=x.e.c;++D){var I=Mt({r:v,c:D});if(C=y?(f[v]||[])[D]:f[I],!C||C.v==null){P.push("          ");continue}for(var A=(C.w||(Wo(C),C.w)||"").slice(0,10);A.length<10;)A+=" ";P.push(A+(D===0?" ":""))}g.push(P.join(""))}return g.join(`
`)}return{to_workbook:m,to_sheet:s,from_sheet:u}}();function PF(e,n){var r=n||{},t=!!r.WTF;r.WTF=!0;try{var i=Ow.to_workbook(e,r);return r.WTF=t,i}catch(a){if(r.WTF=t,!a.message.match(/SYLK bad record ID/)&&t)throw a;return $l.to_workbook(e,n)}}var rc=function(){function e(X,te,Q){if(X){vr(X,X.l||0);for(var Z=Q.Enum||Ae;X.l<X.length;){var le=X.read_shift(2),Pe=Z[le]||Z[65535],Oe=X.read_shift(2),we=X.l+Oe,xe=Pe.f&&Pe.f(X,Oe,Q);if(X.l=we,te(xe,Pe,le))return}}}function n(X,te){switch(te.type){case"base64":return r(Ca(wa(X)),te);case"binary":return r(Ca(X),te);case"buffer":case"array":return r(X,te)}throw"Unsupported type "+te.type}function r(X,te){if(!X)return X;var Q=te||{};ki!=null&&Q.dense==null&&(Q.dense=ki);var Z=Q.dense?[]:{},le="Sheet1",Pe="",Oe=0,we={},xe=[],ot=[],H={s:{r:0,c:0},e:{r:0,c:0}},ct=Q.sheetRows||0;if(X[2]==0&&(X[3]==8||X[3]==9)&&X.length>=16&&X[14]==5&&X[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(X[2]==2)Q.Enum=Ae,e(X,function(Re,Lt,yn){switch(yn){case 0:Q.vers=Re,Re>=4096&&(Q.qpro=!0);break;case 6:H=Re;break;case 204:Re&&(Pe=Re);break;case 222:Pe=Re;break;case 15:case 51:Q.qpro||(Re[1].v=Re[1].v.slice(1));case 13:case 14:case 16:yn==14&&(Re[2]&112)==112&&(Re[2]&15)>1&&(Re[2]&15)<15&&(Re[1].z=Q.dateNF||bt[14],Q.cellDates&&(Re[1].t="d",Re[1].v=jp(Re[1].v))),Q.qpro&&Re[3]>Oe&&(Z["!ref"]=Wt(H),we[le]=Z,xe.push(le),Z=Q.dense?[]:{},H={s:{r:0,c:0},e:{r:0,c:0}},Oe=Re[3],le=Pe||"Sheet"+(Oe+1),Pe="");var Qn=Q.dense?(Z[Re[0].r]||[])[Re[0].c]:Z[Mt(Re[0])];if(Qn){Qn.t=Re[1].t,Qn.v=Re[1].v,Re[1].z!=null&&(Qn.z=Re[1].z),Re[1].f!=null&&(Qn.f=Re[1].f);break}Q.dense?(Z[Re[0].r]||(Z[Re[0].r]=[]),Z[Re[0].r][Re[0].c]=Re[1]):Z[Mt(Re[0])]=Re[1];break;default:}},Q);else if(X[2]==26||X[2]==14)Q.Enum=ce,X[2]==14&&(Q.qpro=!0,X.l=0),e(X,function(Re,Lt,yn){switch(yn){case 204:le=Re;break;case 22:Re[1].v=Re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Re[3]>Oe&&(Z["!ref"]=Wt(H),we[le]=Z,xe.push(le),Z=Q.dense?[]:{},H={s:{r:0,c:0},e:{r:0,c:0}},Oe=Re[3],le="Sheet"+(Oe+1)),ct>0&&Re[0].r>=ct)break;Q.dense?(Z[Re[0].r]||(Z[Re[0].r]=[]),Z[Re[0].r][Re[0].c]=Re[1]):Z[Mt(Re[0])]=Re[1],H.e.c<Re[0].c&&(H.e.c=Re[0].c),H.e.r<Re[0].r&&(H.e.r=Re[0].r);break;case 27:Re[14e3]&&(ot[Re[14e3][0]]=Re[14e3][1]);break;case 1537:ot[Re[0]]=Re[1],Re[0]==Oe&&(le=Re[1]);break;default:break}},Q);else throw new Error("Unrecognized LOTUS BOF "+X[2]);if(Z["!ref"]=Wt(H),we[Pe||le]=Z,xe.push(Pe||le),!ot.length)return{SheetNames:xe,Sheets:we};for(var Ke={},St=[],Je=0;Je<ot.length;++Je)we[xe[Je]]?(St.push(ot[Je]||xe[Je]),Ke[ot[Je]]=we[ot[Je]]||we[xe[Je]]):(St.push(ot[Je]),Ke[ot[Je]]={"!ref":"A1"});return{SheetNames:St,Sheets:Ke}}function t(X,te){var Q=te||{};if(+Q.codepage>=0&&to(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var Z=na(),le=Cn(X["!ref"]),Pe=Array.isArray(X),Oe=[];He(Z,0,a(1030)),He(Z,6,m(le));for(var we=Math.min(le.e.r,8191),xe=le.s.r;xe<=we;++xe)for(var ot=Ri(xe),H=le.s.c;H<=le.e.c;++H){xe===le.s.r&&(Oe[H]=_i(H));var ct=Oe[H]+ot,Ke=Pe?(X[xe]||[])[H]:X[ct];if(!(!Ke||Ke.t=="z"))if(Ke.t=="n")(Ke.v|0)==Ke.v&&Ke.v>=-32768&&Ke.v<=32767?He(Z,13,C(xe,H,Ke.v)):He(Z,14,v(xe,H,Ke.v));else{var St=Wo(Ke);He(Z,15,g(xe,H,St.slice(0,239)))}}return He(Z,1),Z.end()}function i(X,te){var Q=te||{};if(+Q.codepage>=0&&to(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var Z=na();He(Z,0,o(X));for(var le=0,Pe=0;le<X.SheetNames.length;++le)(X.Sheets[X.SheetNames[le]]||{})["!ref"]&&He(Z,27,Me(X.SheetNames[le],Pe++));var Oe=0;for(le=0;le<X.SheetNames.length;++le){var we=X.Sheets[X.SheetNames[le]];if(!(!we||!we["!ref"])){for(var xe=Cn(we["!ref"]),ot=Array.isArray(we),H=[],ct=Math.min(xe.e.r,8191),Ke=xe.s.r;Ke<=ct;++Ke)for(var St=Ri(Ke),Je=xe.s.c;Je<=xe.e.c;++Je){Ke===xe.s.r&&(H[Je]=_i(Je));var Re=H[Je]+St,Lt=ot?(we[Ke]||[])[Je]:we[Re];if(!(!Lt||Lt.t=="z"))if(Lt.t=="n")He(Z,23,ee(Ke,Je,Oe,Lt.v));else{var yn=Wo(Lt);He(Z,22,k(Ke,Je,Oe,yn.slice(0,239)))}}++Oe}}return He(Z,1),Z.end()}function a(X){var te=Ce(2);return te.write_shift(2,X),te}function o(X){var te=Ce(26);te.write_shift(2,4096),te.write_shift(2,4),te.write_shift(4,0);for(var Q=0,Z=0,le=0,Pe=0;Pe<X.SheetNames.length;++Pe){var Oe=X.SheetNames[Pe],we=X.Sheets[Oe];if(!(!we||!we["!ref"])){++le;var xe=ia(we["!ref"]);Q<xe.e.r&&(Q=xe.e.r),Z<xe.e.c&&(Z=xe.e.c)}}return Q>8191&&(Q=8191),te.write_shift(2,Q),te.write_shift(1,le),te.write_shift(1,Z),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(1,1),te.write_shift(1,2),te.write_shift(4,0),te.write_shift(4,0),te}function s(X,te,Q){var Z={s:{c:0,r:0},e:{c:0,r:0}};return te==8&&Q.qpro?(Z.s.c=X.read_shift(1),X.l++,Z.s.r=X.read_shift(2),Z.e.c=X.read_shift(1),X.l++,Z.e.r=X.read_shift(2),Z):(Z.s.c=X.read_shift(2),Z.s.r=X.read_shift(2),te==12&&Q.qpro&&(X.l+=2),Z.e.c=X.read_shift(2),Z.e.r=X.read_shift(2),te==12&&Q.qpro&&(X.l+=2),Z.s.c==65535&&(Z.s.c=Z.e.c=Z.s.r=Z.e.r=0),Z)}function m(X){var te=Ce(8);return te.write_shift(2,X.s.c),te.write_shift(2,X.s.r),te.write_shift(2,X.e.c),te.write_shift(2,X.e.r),te}function u(X,te,Q){var Z=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(Z[0].c=X.read_shift(1),Z[3]=X.read_shift(1),Z[0].r=X.read_shift(2),X.l+=2):(Z[2]=X.read_shift(1),Z[0].c=X.read_shift(2),Z[0].r=X.read_shift(2)),Z}function f(X,te,Q){var Z=X.l+te,le=u(X,te,Q);if(le[1].t="s",Q.vers==20768){X.l++;var Pe=X.read_shift(1);return le[1].v=X.read_shift(Pe,"utf8"),le}return Q.qpro&&X.l++,le[1].v=X.read_shift(Z-X.l,"cstr"),le}function g(X,te,Q){var Z=Ce(7+Q.length);Z.write_shift(1,255),Z.write_shift(2,te),Z.write_shift(2,X),Z.write_shift(1,39);for(var le=0;le<Z.length;++le){var Pe=Q.charCodeAt(le);Z.write_shift(1,Pe>=128?95:Pe)}return Z.write_shift(1,0),Z}function x(X,te,Q){var Z=u(X,te,Q);return Z[1].v=X.read_shift(2,"i"),Z}function C(X,te,Q){var Z=Ce(7);return Z.write_shift(1,255),Z.write_shift(2,te),Z.write_shift(2,X),Z.write_shift(2,Q,"i"),Z}function y(X,te,Q){var Z=u(X,te,Q);return Z[1].v=X.read_shift(8,"f"),Z}function v(X,te,Q){var Z=Ce(13);return Z.write_shift(1,255),Z.write_shift(2,te),Z.write_shift(2,X),Z.write_shift(8,Q,"f"),Z}function P(X,te,Q){var Z=X.l+te,le=u(X,te,Q);if(le[1].v=X.read_shift(8,"f"),Q.qpro)X.l=Z;else{var Pe=X.read_shift(2);K(X.slice(X.l,X.l+Pe),le),X.l+=Pe}return le}function D(X,te,Q){var Z=te&32768;return te&=-32769,te=(Z?X:0)+(te>=8192?te-16384:te),(Z?"":"$")+(Q?_i(te):Ri(te))}var I={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function K(X,te){vr(X,0);for(var Q=[],Z=0,le="",Pe="",Oe="",we="";X.l<X.length;){var xe=X[X.l++];switch(xe){case 0:Q.push(X.read_shift(8,"f"));break;case 1:Pe=D(te[0].c,X.read_shift(2),!0),le=D(te[0].r,X.read_shift(2),!1),Q.push(Pe+le);break;case 2:{var ot=D(te[0].c,X.read_shift(2),!0),H=D(te[0].r,X.read_shift(2),!1);Pe=D(te[0].c,X.read_shift(2),!0),le=D(te[0].r,X.read_shift(2),!1),Q.push(ot+H+":"+Pe+le)}break;case 3:if(X.l<X.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(X.read_shift(2));break;case 6:{for(var ct="";xe=X[X.l++];)ct+=String.fromCharCode(xe);Q.push('"'+ct.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:we=Q.pop(),Oe=Q.pop(),Q.push(["AND","OR"][xe-20]+"("+Oe+","+we+")");break;default:if(xe<32&&A[xe])we=Q.pop(),Oe=Q.pop(),Q.push(Oe+A[xe]+we);else if(I[xe]){if(Z=I[xe][1],Z==69&&(Z=X[X.l++]),Z>Q.length){console.error("WK1 bad formula parse 0x"+xe.toString(16)+":|"+Q.join("|")+"|");return}var Ke=Q.slice(-Z);Q.length-=Z,Q.push(I[xe][0]+"("+Ke.join(",")+")")}else return xe<=7?console.error("WK1 invalid opcode "+xe.toString(16)):xe<=24?console.error("WK1 unsupported op "+xe.toString(16)):xe<=30?console.error("WK1 invalid opcode "+xe.toString(16)):xe<=115?console.error("WK1 unsupported function opcode "+xe.toString(16)):console.error("WK1 unrecognized opcode "+xe.toString(16))}}Q.length==1?te[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function J(X){var te=[{c:0,r:0},{t:"n",v:0},0];return te[0].r=X.read_shift(2),te[3]=X[X.l++],te[0].c=X[X.l++],te}function O(X,te){var Q=J(X,te);return Q[1].t="s",Q[1].v=X.read_shift(te-4,"cstr"),Q}function k(X,te,Q,Z){var le=Ce(6+Z.length);le.write_shift(2,X),le.write_shift(1,Q),le.write_shift(1,te),le.write_shift(1,39);for(var Pe=0;Pe<Z.length;++Pe){var Oe=Z.charCodeAt(Pe);le.write_shift(1,Oe>=128?95:Oe)}return le.write_shift(1,0),le}function V(X,te){var Q=J(X,te);Q[1].v=X.read_shift(2);var Z=Q[1].v>>1;if(Q[1].v&1)switch(Z&7){case 0:Z=(Z>>3)*5e3;break;case 1:Z=(Z>>3)*500;break;case 2:Z=(Z>>3)/20;break;case 3:Z=(Z>>3)/200;break;case 4:Z=(Z>>3)/2e3;break;case 5:Z=(Z>>3)/2e4;break;case 6:Z=(Z>>3)/16;break;case 7:Z=(Z>>3)/64;break}return Q[1].v=Z,Q}function W(X,te){var Q=J(X,te),Z=X.read_shift(4),le=X.read_shift(4),Pe=X.read_shift(2);if(Pe==65535)return Z===0&&le===3221225472?(Q[1].t="e",Q[1].v=15):Z===0&&le===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var Oe=Pe&32768;return Pe=(Pe&32767)-16446,Q[1].v=(1-Oe*2)*(le*Math.pow(2,Pe+32)+Z*Math.pow(2,Pe)),Q}function ee(X,te,Q,Z){var le=Ce(14);if(le.write_shift(2,X),le.write_shift(1,Q),le.write_shift(1,te),Z==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var Pe=0,Oe=0,we=0,xe=0;return Z<0&&(Pe=1,Z=-Z),Oe=Math.log2(Z)|0,Z/=Math.pow(2,Oe-31),xe=Z>>>0,xe&2147483648||(Z/=2,++Oe,xe=Z>>>0),Z-=xe,xe|=2147483648,xe>>>=0,Z*=Math.pow(2,32),we=Z>>>0,le.write_shift(4,we),le.write_shift(4,xe),Oe+=16383+(Pe?32768:0),le.write_shift(2,Oe),le}function re(X,te){var Q=W(X,14);return X.l+=te-14,Q}function ie(X,te){var Q=J(X,te),Z=X.read_shift(4);return Q[1].v=Z>>6,Q}function ke(X,te){var Q=J(X,te),Z=X.read_shift(8,"f");return Q[1].v=Z,Q}function Be(X,te){var Q=ke(X,14);return X.l+=te-10,Q}function ye(X,te){return X[X.l+te-1]==0?X.read_shift(te,"cstr"):""}function $e(X,te){var Q=X[X.l++];Q>te-1&&(Q=te-1);for(var Z="";Z.length<Q;)Z+=String.fromCharCode(X[X.l++]);return Z}function Te(X,te,Q){if(!(!Q.qpro||te<21)){var Z=X.read_shift(1);X.l+=17,X.l+=1,X.l+=2;var le=X.read_shift(te-21,"cstr");return[Z,le]}}function nt(X,te){for(var Q={},Z=X.l+te;X.l<Z;){var le=X.read_shift(2);if(le==14e3){for(Q[le]=[0,""],Q[le][0]=X.read_shift(2);X[X.l];)Q[le][1]+=String.fromCharCode(X[X.l]),X.l++;X.l++}}return Q}function Me(X,te){var Q=Ce(5+X.length);Q.write_shift(2,14e3),Q.write_shift(2,te);for(var Z=0;Z<X.length;++Z){var le=X.charCodeAt(Z);Q[Q.l++]=le>127?95:le}return Q[Q.l++]=0,Q}var Ae={0:{n:"BOF",f:Wi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:y},15:{n:"LABEL",f},16:{n:"FORMULA",f:P},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ye},222:{n:"SHEETNAMELP",f:$e},65535:{n:""}},ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:W},24:{n:"NUMBER18",f:V},25:{n:"FORMULA19",f:re},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:nt},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:ie},38:{n:"??"},39:{n:"NUMBER27",f:ke},40:{n:"FORMULA28",f:Be},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ye},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Te},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:t,book_to_wk3:i,to_workbook:n}}();function kF(e){var n={},r=e.match(Lr),t=0,i=!1;if(r)for(;t!=r.length;++t){var a=Tt(r[t]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":n.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;n.cp=Ug[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":n.outline=1;break;case"</outline>":break;case"<rFont":n.name=a.val;break;case"<sz":n.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":n.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":n.uval="double";break;case"singleAccounting":n.uval="single-accounting";break;case"doubleAccounting":n.uval="double-accounting";break}case"<u>":case"<u/>":n.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":n.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":n.i=1;break;case"</i>":break;case"<color":a.rgb&&(n.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":n.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":n.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return n}var OF=function(){var e=o0("t"),n=o0("rPr");function r(a){var o=a.match(e);if(!o)return{t:"s",v:""};var s={t:"s",v:bn(o[1])},m=a.match(n);return m&&(s.s=kF(m[1])),s}var t=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(t,"").split(i).map(r).filter(function(s){return s.v})}}(),TF=function(){var n=/(\r\n|\n)/g;function r(i,a,o){var s=[];i.u&&s.push("text-decoration: underline;"),i.uval&&s.push("text-underline-style:"+i.uval+";"),i.sz&&s.push("font-size:"+i.sz+"pt;"),i.outline&&s.push("text-effect: outline;"),i.shadow&&s.push("text-shadow: auto;"),a.push('<span style="'+s.join("")+'">'),i.b&&(a.push("<b>"),o.push("</b>")),i.i&&(a.push("<i>"),o.push("</i>")),i.strike&&(a.push("<s>"),o.push("</s>"));var m=i.valign||"";return m=="superscript"||m=="super"?m="sup":m=="subscript"&&(m="sub"),m!=""&&(a.push("<"+m+">"),o.push("</"+m+">")),o.push("</span>"),i}function t(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(n,"<br/>")+a[2].join("")):""}return function(a){return a.map(t).join("")}}(),EF=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,DF=/<(?:\w+:)?r>/,IF=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function __(e,n){var r=n?n.cellHTML:!0,t={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(t.t=bn(Yn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),t.r=Yn(e),r&&(t.h=Jg(t.t))):e.match(DF)&&(t.r=Yn(e),t.t=bn(Yn((e.replace(IF,"").match(EF)||[]).join("").replace(Lr,""))),r&&(t.h=TF(OF(t.r)))),t):{t:""}}var AF=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,FF=/<(?:\w+:)?(?:si|sstItem)>/g,RF=/<\/(?:\w+:)?(?:si|sstItem)>/;function NF(e,n){var r=[],t="";if(!e)return r;var i=e.match(AF);if(i){t=i[2].replace(FF,"").split(RF);for(var a=0;a!=t.length;++a){var o=__(t[a].trim(),n);o!=null&&(r[r.length]=o)}i=Tt(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}var LF=/^\s|\s$|[\t\n\r]/;function Dw(e,n){if(!n.bookSST)return"";var r=[Ni];r[r.length]=We("sst",null,{xmlns:pc[0],count:e.Count,uniqueCount:e.Unique});for(var t=0;t!=e.length;++t)if(e[t]!=null){var i=e[t],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(LF)&&(a+=' xml:space="preserve"'),a+=">"+Vn(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function BF(e){return[e.read_shift(4),e.read_shift(4)]}function VF(e,n){var r=[],t=!1;return $o(e,function(a,o,s){switch(s){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:t=!0;break;case 36:t=!1;break;default:if(o.T,!t||n.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}}),r}function jF(e,n){return n||(n=Ce(8)),n.write_shift(4,e.Count),n.write_shift(4,e.Unique),n}var zF=QA;function UF(e){var n=na();De(n,159,jF(e));for(var r=0;r<e.length;++r)De(n,19,zF(e[r]));return De(n,160),n.end()}function Iw(e){if(typeof An<"u")return An.utils.encode(Wl,e);for(var n=[],r=e.split(""),t=0;t<r.length;++t)n[t]=r[t].charCodeAt(0);return n}function Yo(e,n){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),n>=4&&(e.l+=n-4),r}function YF(e){var n={};return n.id=e.read_shift(0,"lpp4"),n.R=Yo(e,4),n.U=Yo(e,4),n.W=Yo(e,4),n}function WF(e){for(var n=e.read_shift(4),r=e.l+n-4,t={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(t.name=e.read_shift(0,"lpp4"),t.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return t}function HF(e){var n=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)n.push(WF(e));return n}function $F(e){var n=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)n.push(e.read_shift(0,"lpp4"));return n}function GF(e){var n={};return e.read_shift(4),e.l+=4,n.id=e.read_shift(0,"lpp4"),n.name=e.read_shift(0,"lpp4"),n.R=Yo(e,4),n.U=Yo(e,4),n.W=Yo(e,4),n}function qF(e){var n=GF(e);if(n.ename=e.read_shift(0,"8lpp4"),n.blksz=e.read_shift(4),n.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return n}function Aw(e,n){var r=e.l+n,t={};t.Flags=e.read_shift(4)&63,e.l+=4,t.AlgID=e.read_shift(4);var i=!1;switch(t.AlgID){case 26126:case 26127:case 26128:i=t.Flags==36;break;case 26625:i=t.Flags==4;break;case 0:i=t.Flags==16||t.Flags==4||t.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+t.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return t.AlgIDHash=e.read_shift(4),t.KeySize=e.read_shift(4),t.ProviderType=e.read_shift(4),e.l+=8,t.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,t}function Fw(e,n){var r={},t=e.l+n;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,t),e.l=t,r}function XF(e){var n=Yo(e);switch(n.Minor){case 2:return[n.Minor,KF(e,n)];case 3:return[n.Minor,QF(e,n)];case 4:return[n.Minor,ZF(e,n)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+n.Minor)}function KF(e){var n=e.read_shift(4);if((n&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),t=Aw(e,r),i=Fw(e,e.length-e.l);return{t:"Std",h:t,v:i}}function QF(){throw new Error("File is password-protected: ECMA-376 Extensible")}function ZF(e){var n=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),t={};return r.replace(Lr,function(a){var o=Tt(a);switch(bo(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":n.forEach(function(s){t[s]=o[s]});break;case"<dataIntegrity":t.encryptedHmacKey=o.encryptedHmacKey,t.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":t.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":t.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":t.encs.push(o);break;default:throw o[0]}}),t}function JF(e,n){var r={},t=r.EncryptionVersionInfo=Yo(e,4);if(n-=4,t.Minor!=2)throw new Error("unrecognized minor version code: "+t.Minor);if(t.Major>4||t.Major<2)throw new Error("unrecognized major version code: "+t.Major);r.Flags=e.read_shift(4),n-=4;var i=e.read_shift(4);return n-=4,r.EncryptionHeader=Aw(e,i),n-=i,r.EncryptionVerifier=Fw(e,n),r}function e7(e){var n={},r=n.EncryptionVersionInfo=Yo(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return n.Salt=e.read_shift(16),n.EncryptedVerifier=e.read_shift(16),n.EncryptedVerifierHash=e.read_shift(16),n}function x_(e){var n=0,r,t=Iw(e),i=t.length+1,a,o,s,m,u;for(r=Os(i),r[0]=t.length,a=1;a!=i;++a)r[a]=t[a-1];for(a=i-1;a>=0;--a)o=r[a],s=n&16384?1:0,m=n<<1&32767,u=s|m,n=u^o;return n^52811}var Rw=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],n=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],t=function(o){return(o/2|o*128)&255},i=function(o,s){return t(o^s)},a=function(o){for(var s=n[o.length-1],m=104,u=o.length-1;u>=0;--u)for(var f=o[u],g=0;g!=7;++g)f&64&&(s^=r[m]),f*=2,--m;return s};return function(o){for(var s=Iw(o),m=a(s),u=s.length,f=Os(16),g=0;g!=16;++g)f[g]=0;var x,C,y;for((u&1)===1&&(x=m>>8,f[u]=i(e[0],x),--u,x=m&255,C=s[s.length-1],f[u]=i(C,x));u>0;)--u,x=m>>8,f[u]=i(s[u],x),--u,x=m&255,f[u]=i(s[u],x);for(u=15,y=15-s.length;y>0;)x=m>>8,f[u]=i(e[y],x),--u,--y,x=m&255,f[u]=i(s[u],x),--u,--y;return f}}(),t7=function(e,n,r,t,i){i||(i=n),t||(t=Rw(e));var a,o;for(a=0;a!=n.length;++a)o=n[a],o^=t[r],o=(o>>5|o<<3)&255,i[a]=o,++r;return[i,r,t]},n7=function(e){var n=0,r=Rw(e);return function(t){var i=t7("",t,n,r);return n=i[1],i[0]}};function i7(e,n,r,t){var i={key:Wi(e),verificationBytes:Wi(e)};return r.password&&(i.verifier=x_(r.password)),t.valid=i.verificationBytes===i.verifier,t.valid&&(t.insitu=n7(r.password)),i}function r7(e,n,r){var t=r||{};return t.Info=e.read_shift(2),e.l-=2,t.Info===1?t.Data=e7(e,n):t.Data=JF(e,n),t}function a7(e,n,r){var t={Type:r.biff>=8?e.read_shift(2):0};return t.Type?r7(e,n-2,t):i7(e,r.biff>=8?n:n-2,r,t),t}var Nw=function(){function e(i,a){switch(a.type){case"base64":return n(wa(i),a);case"binary":return n(i,a);case"buffer":return n(tn&&Buffer.isBuffer(i)?i.toString("binary"):Is(i),a);case"array":return n(sc(i),a)}throw new Error("Unrecognized type "+a.type)}function n(i,a){var o=a||{},s=o.dense?[]:{},m=i.match(/\\trowd.*?\\row\b/g);if(!m.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:m.length-1}};return m.forEach(function(f,g){Array.isArray(s)&&(s[g]=[]);for(var x=/\\\w+\b/g,C=0,y,v=-1;y=x.exec(f);){switch(y[0]){case"\\cell":var P=f.slice(C,x.lastIndex-y[0].length);if(P[0]==" "&&(P=P.slice(1)),++v,P.length){var D={v:P,t:"s"};Array.isArray(s)?s[g][v]=D:s[Mt({r:g,c:v})]=D}break}C=x.lastIndex}v>u.e.c&&(u.e.c=v)}),s["!ref"]=Wt(u),s}function r(i,a){return As(e(i,a),a)}function t(i){for(var a=["{\\rtf1\\ansi"],o=Cn(i["!ref"]),s,m=Array.isArray(i),u=o.s.r;u<=o.e.r;++u){a.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)a.push("\\cellx"+(f+1));for(a.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var g=Mt({r:u,c:f});s=m?(i[u]||[])[f]:i[g],!(!s||s.v==null&&(!s.f||s.F))&&(a.push(" "+(s.w||(Wo(s),s.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:t}}();function o7(e){var n=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(n.slice(0,2),16),parseInt(n.slice(2,4),16),parseInt(n.slice(4,6),16)]}function d0(e){for(var n=0,r=1;n!=3;++n)r=r*256+(e[n]>255?255:e[n]<0?0:e[n]);return r.toString(16).toUpperCase().slice(1)}function s7(e){var n=e[0]/255,r=e[1]/255,t=e[2]/255,i=Math.max(n,r,t),a=Math.min(n,r,t),o=i-a;if(o===0)return[0,0,n];var s=0,m=0,u=i+a;switch(m=o/(u>1?2-u:u),i){case n:s=((r-t)/o+6)%6;break;case r:s=(t-n)/o+2;break;case t:s=(n-r)/o+4;break}return[s/6,m,u/2]}function c7(e){var n=e[0],r=e[1],t=e[2],i=r*2*(t<.5?t:1-t),a=t-i/2,o=[a,a,a],s=6*n,m;if(r!==0)switch(s|0){case 0:case 6:m=i*s,o[0]+=i,o[1]+=m;break;case 1:m=i*(2-s),o[0]+=m,o[1]+=i;break;case 2:m=i*(s-2),o[1]+=i,o[2]+=m;break;case 3:m=i*(4-s),o[1]+=m,o[2]+=i;break;case 4:m=i*(s-4),o[2]+=i,o[0]+=m;break;case 5:m=i*(6-s),o[2]+=m,o[0]+=i;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function Ap(e,n){if(n===0)return e;var r=s7(o7(e));return n<0?r[2]=r[2]*(1+n):r[2]=1-(1-r[2])*(1-n),d0(c7(r))}var Lw=6,l7=15,d7=1,Ir=Lw;function m0(e){return Math.floor((e+Math.round(128/Ir)/256)*Ir)}function u0(e){return Math.floor((e-5)/Ir*100+.5)/100}function Fp(e){return Math.round((e*Ir+5)/Ir*256)/256}function Cg(e){return Fp(u0(m0(e)))}function v_(e){var n=Math.abs(e-Cg(e)),r=Ir;if(n>.005)for(Ir=d7;Ir<l7;++Ir)Math.abs(e-Cg(e))<=n&&(n=Math.abs(e-Cg(e)),r=Ir);Ir=r}function Ts(e){e.width?(e.wpx=m0(e.width),e.wch=u0(e.wpx),e.MDW=Ir):e.wpx?(e.wch=u0(e.wpx),e.width=Fp(e.wch),e.MDW=Ir):typeof e.wch=="number"&&(e.width=Fp(e.wch),e.wpx=m0(e.width),e.MDW=Ir),e.customWidth&&delete e.customWidth}var m7=96,Bw=m7;function p0(e){return e*96/Bw}function Gl(e){return e*Bw/96}var u7={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function p7(e,n,r,t){n.Borders=[];var i={},a=!1;(e[0].match(Lr)||[]).forEach(function(o){var s=Tt(o);switch(bo(s[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},s.diagonalUp&&(i.diagonalUp=ni(s.diagonalUp)),s.diagonalDown&&(i.diagonalDown=ni(s.diagonalDown)),n.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(t&&t.WTF&&!a)throw new Error("unrecognized "+s[0]+" in borders")}})}function f7(e,n,r,t){n.Fills=[];var i={},a=!1;(e[0].match(Lr)||[]).forEach(function(o){var s=Tt(o);switch(bo(s[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},n.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":n.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":s.patternType&&(i.patternType=s.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),s.indexed&&(i.bgColor.indexed=parseInt(s.indexed,10)),s.theme&&(i.bgColor.theme=parseInt(s.theme,10)),s.tint&&(i.bgColor.tint=parseFloat(s.tint)),s.rgb&&(i.bgColor.rgb=s.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),s.theme&&(i.fgColor.theme=parseInt(s.theme,10)),s.tint&&(i.fgColor.tint=parseFloat(s.tint)),s.rgb!=null&&(i.fgColor.rgb=s.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(t&&t.WTF&&!a)throw new Error("unrecognized "+s[0]+" in fills")}})}function h7(e,n,r,t){n.Fonts=[];var i={},a=!1;(e[0].match(Lr)||[]).forEach(function(o){var s=Tt(o);switch(bo(s[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":n.Fonts.push(i),i={};break;case"<name":s.val&&(i.name=Yn(s.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=s.val?ni(s.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=s.val?ni(s.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(s.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=s.val?ni(s.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=s.val?ni(s.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=s.val?ni(s.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=s.val?ni(s.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=s.val?ni(s.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":s.val&&(i.sz=+s.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":s.val&&(i.vertAlign=s.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":s.val&&(i.family=parseInt(s.val,10));break;case"<family/>":case"</family>":break;case"<scheme":s.val&&(i.scheme=s.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(s.val=="1")break;s.codepage=Ug[parseInt(s.val,10)];break;case"<color":if(i.color||(i.color={}),s.auto&&(i.color.auto=ni(s.auto)),s.rgb)i.color.rgb=s.rgb.slice(-6);else if(s.indexed){i.color.index=parseInt(s.indexed,10);var m=nc[i.color.index];i.color.index==81&&(m=nc[1]),m||(m=nc[1]),i.color.rgb=m[0].toString(16)+m[1].toString(16)+m[2].toString(16)}else s.theme&&(i.color.theme=parseInt(s.theme,10),s.tint&&(i.color.tint=parseFloat(s.tint)),s.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=Ap(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(t&&t.WTF&&!a)throw new Error("unrecognized "+s[0]+" in fonts")}})}function g7(e,n,r){n.NumberFmt=[];for(var t=Oi(bt),i=0;i<t.length;++i)n.NumberFmt[t[i]]=bt[t[i]];var a=e[0].match(Lr);if(a)for(i=0;i<a.length;++i){var o=Tt(a[i]);switch(bo(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var s=bn(Yn(o.formatCode)),m=parseInt(o.numFmtId,10);if(n.NumberFmt[m]=s,m>0){if(m>392){for(m=392;m>60&&n.NumberFmt[m]!=null;--m);n.NumberFmt[m]=s}vo(s,m)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function _7(e){var n=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var t=r[0];t<=r[1];++t)e[t]!=null&&(n[n.length]=We("numFmt",null,{numFmtId:t,formatCode:Vn(e[t])}))}),n.length===1?"":(n[n.length]="</numFmts>",n[0]=We("numFmts",null,{count:n.length-2}).replace("/>",">"),n.join(""))}var bp=["numFmtId","fillId","fontId","borderId","xfId"],Cp=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function x7(e,n,r){n.CellXf=[];var t,i=!1;(e[0].match(Lr)||[]).forEach(function(a){var o=Tt(a),s=0;switch(bo(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(t=o,delete t[0],s=0;s<bp.length;++s)t[bp[s]]&&(t[bp[s]]=parseInt(t[bp[s]],10));for(s=0;s<Cp.length;++s)t[Cp[s]]&&(t[Cp[s]]=ni(t[Cp[s]]));if(n.NumberFmt&&t.numFmtId>392){for(s=392;s>60;--s)if(n.NumberFmt[t.numFmtId]==n.NumberFmt[s]){t.numFmtId=s;break}}n.CellXf.push(t);break;case"</xf>":break;case"<alignment":case"<alignment/>":var m={};o.vertical&&(m.vertical=o.vertical),o.horizontal&&(m.horizontal=o.horizontal),o.textRotation!=null&&(m.textRotation=o.textRotation),o.indent&&(m.indent=o.indent),o.wrapText&&(m.wrapText=ni(o.wrapText)),t.alignment=m;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function v7(e){var n=[];return n[n.length]=We("cellXfs",null),e.forEach(function(r){n[n.length]=We("xf",null,r)}),n[n.length]="</cellXfs>",n.length===2?"":(n[0]=We("cellXfs",null,{count:n.length-2}).replace("/>",">"),n.join(""))}var b7=function(){var n=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,t=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,m,u){var f={};if(!s)return f;s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var g;return(g=s.match(n))&&g7(g,f,u),(g=s.match(i))&&h7(g,f,m,u),(g=s.match(t))&&f7(g,f,m,u),(g=s.match(a))&&p7(g,f,m,u),(g=s.match(r))&&x7(g,f,u),f}}();function Vw(e,n){var r=[Ni,We("styleSheet",null,{xmlns:pc[0],"xmlns:vt":er.vt})],t;return e.SSF&&(t=_7(e.SSF))!=null&&(r[r.length]=t),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(t=v7(n.cellXfs))&&(r[r.length]=t),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function C7(e,n){var r=e.read_shift(2),t=Rr(e,n-2);return[r,t]}function y7(e,n,r){r||(r=Ce(6+4*n.length)),r.write_shift(2,e),pr(n,r);var t=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),t}function w7(e,n,r){var t={};t.sz=e.read_shift(2)/20;var i=r6(e,2,r);i.fItalic&&(t.italic=1),i.fCondense&&(t.condense=1),i.fExtend&&(t.extend=1),i.fShadow&&(t.shadow=1),i.fOutline&&(t.outline=1),i.fStrikeout&&(t.strike=1);var a=e.read_shift(2);switch(a===700&&(t.bold=1),e.read_shift(2)){case 1:t.vertAlign="superscript";break;case 2:t.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(t.underline=o);var s=e.read_shift(1);s>0&&(t.family=s);var m=e.read_shift(1);switch(m>0&&(t.charset=m),e.l++,t.color=i6(e,8),e.read_shift(1)){case 1:t.scheme="major";break;case 2:t.scheme="minor";break}return t.name=Rr(e,n-21),t}function M7(e,n){n||(n=Ce(25+4*32)),n.write_shift(2,e.sz*20),a6(e,n),n.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),n.write_shift(2,r),n.write_shift(1,e.underline||0),n.write_shift(1,e.family||0),n.write_shift(1,e.charset||0),n.write_shift(1,0),Ep(e.color,n);var t=0;return e.scheme=="major"&&(t=1),e.scheme=="minor"&&(t=2),n.write_shift(1,t),pr(e.name,n),n.length>n.l?n.slice(0,n.l):n}var S7=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],yg,P7=Nr;function i2(e,n){n||(n=Ce(4*3+8*7+16*1)),yg||(yg=Bp(S7));var r=yg[e.patternType];r==null&&(r=40),n.write_shift(4,r);var t=0;if(r!=40)for(Ep({auto:1},n),Ep({auto:1},n);t<12;++t)n.write_shift(4,0);else{for(;t<4;++t)n.write_shift(4,0);for(;t<12;++t)n.write_shift(4,0)}return n.length>n.l?n.slice(0,n.l):n}function k7(e,n){var r=e.l+n,t=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:t,numFmtId:i}}function jw(e,n,r){r||(r=Ce(16)),r.write_shift(2,n||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var t=0;return r.write_shift(1,t),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Hd(e,n){return n||(n=Ce(10)),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(4,0),n}var O7=Nr;function T7(e,n){return n||(n=Ce(51)),n.write_shift(1,0),Hd(null,n),Hd(null,n),Hd(null,n),Hd(null,n),Hd(null,n),n.length>n.l?n.slice(0,n.l):n}function E7(e,n){return n||(n=Ce(12+4*10)),n.write_shift(4,e.xfId),n.write_shift(2,1),n.write_shift(1,+e.builtinId),n.write_shift(1,0),Tp(e.name||"",n),n.length>n.l?n.slice(0,n.l):n}function D7(e,n,r){var t=Ce(2052);return t.write_shift(4,e),Tp(n,t),Tp(r,t),t.length>t.l?t.slice(0,t.l):t}function I7(e,n,r){var t={};t.NumberFmt=[];for(var i in bt)t.NumberFmt[i]=bt[i];t.CellXf=[],t.Fonts=[];var a=[],o=!1;return $o(e,function(m,u,f){switch(f){case 44:t.NumberFmt[m[0]]=m[1],vo(m[1],m[0]);break;case 43:t.Fonts.push(m),m.color.theme!=null&&n&&n.themeElements&&n.themeElements.clrScheme&&(m.color.rgb=Ap(n.themeElements.clrScheme[m.color.theme].rgb,m.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&t.CellXf.push(m);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:a.push(f),o=!0;break;case 38:a.pop(),o=!1;break;default:if(u.T>0)a.push(f);else if(u.T<0)a.pop();else if(!o||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+f.toString(16))}}),t}function A7(e,n){if(n){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var i=t[0];i<=t[1];++i)n[i]!=null&&++r}),r!=0&&(De(e,615,ro(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var i=t[0];i<=t[1];++i)n[i]!=null&&De(e,44,y7(i,n[i]))}),De(e,616))}}function F7(e){var n=1;n!=0&&(De(e,611,ro(n)),De(e,43,M7({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),De(e,612))}function R7(e){var n=2;n!=0&&(De(e,603,ro(n)),De(e,45,i2({patternType:"none"})),De(e,45,i2({patternType:"gray125"})),De(e,604))}function N7(e){var n=1;n!=0&&(De(e,613,ro(n)),De(e,46,T7({})),De(e,614))}function L7(e){var n=1;De(e,626,ro(n)),De(e,47,jw({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),De(e,627)}function B7(e,n){De(e,617,ro(n.length)),n.forEach(function(r){De(e,47,jw(r,0))}),De(e,618)}function V7(e){var n=1;De(e,619,ro(n)),De(e,48,E7({xfId:0,builtinId:0,name:"Normal"})),De(e,620)}function j7(e){var n=0;De(e,505,ro(n)),De(e,506)}function z7(e){var n=0;De(e,508,D7(n,"TableStyleMedium9","PivotStyleMedium4")),De(e,509)}function U7(e,n){var r=na();return De(r,278),A7(r,e.SSF),F7(r,e),R7(r,e),N7(r,e),L7(r,e),B7(r,n.cellXfs),V7(r,e),j7(r,e),z7(r,e),De(r,279),r.end()}var Y7=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function W7(e,n,r){n.themeElements.clrScheme=[];var t={};(e[0].match(Lr)||[]).forEach(function(i){var a=Tt(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":t.rgb=a.val;break;case"<a:sysClr":t.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(n.themeElements.clrScheme[Y7.indexOf(a[0])]=t,t={}):t.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function H7(){}function $7(){}var G7=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,q7=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,X7=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function K7(e,n,r){n.themeElements={};var t;[["clrScheme",G7,W7],["fontScheme",q7,H7],["fmtScheme",X7,$7]].forEach(function(i){if(!(t=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](t,n,r)})}var Q7=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function zw(e,n){(!e||e.length===0)&&(e=b_());var r,t={};if(!(r=e.match(Q7)))throw new Error("themeElements not found in theme");return K7(r[0],t,n),t.raw=e,t}function b_(e,n){if(n&&n.themeXLSX)return n.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Ni];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',r[r.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',r[r.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',r[r.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',r[r.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',r[r.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',r[r.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Z7(e,n,r){var t=e.l+n,i=e.read_shift(4);if(i!==124226){if(!r.cellStyles){e.l=t;return}var a=e.slice(e.l);e.l=t;var o;try{o=B2(a,{type:"array"})}catch{return}var s=ya(o,"theme/theme/theme1.xml",!0);if(s)return zw(s,r)}}function J7(e){return e.read_shift(4)}function eR(e){var n={};switch(n.xclrType=e.read_shift(2),n.nTintShade=e.read_shift(2),n.xclrType){case 0:e.l+=4;break;case 1:n.xclrValue=tR(e,4);break;case 2:n.xclrValue=bw(e,4);break;case 3:n.xclrValue=J7(e,4);break;case 4:e.l+=4;break}return e.l+=8,n}function tR(e,n){return Nr(e,n)}function nR(e,n){return Nr(e,n)}function iR(e){var n=e.read_shift(2),r=e.read_shift(2)-4,t=[n];switch(n){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:t[1]=eR(e,r);break;case 6:t[1]=nR(e,r);break;case 14:case 15:t[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+n+" "+r)}return t}function rR(e,n){var r=e.l+n;e.l+=2;var t=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(iR(e,r-e.l));return{ixfe:t,ext:a}}function aR(e,n){n.forEach(function(r){switch(r[0]){case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:break;case 13:break;case 14:break;case 15:break}})}function oR(e,n){return{flags:e.read_shift(4),version:e.read_shift(4),name:Rr(e,n-8)}}function sR(e){var n=Ce(12+2*e.name.length);return n.write_shift(4,e.flags),n.write_shift(4,e.version),pr(e.name,n),n.slice(0,n.l)}function cR(e){for(var n=[],r=e.read_shift(4);r-- >0;)n.push([e.read_shift(4),e.read_shift(4)]);return n}function lR(e){var n=Ce(4+8*e.length);n.write_shift(4,e.length);for(var r=0;r<e.length;++r)n.write_shift(4,e[r][0]),n.write_shift(4,e[r][1]);return n}function dR(e,n){var r=Ce(8+2*n.length);return r.write_shift(4,e),pr(n,r),r.slice(0,r.l)}function mR(e){return e.l+=4,e.read_shift(4)!=0}function uR(e,n){var r=Ce(8);return r.write_shift(4,e),r.write_shift(4,n?1:0),r}function pR(e,n,r){var t={Types:[],Cell:[],Value:[]},i=r||{},a=[],o=!1,s=2;return $o(e,function(m,u,f){switch(f){case 335:t.Types.push({name:m.name});break;case 51:m.forEach(function(g){s==1?t.Cell.push({type:t.Types[g[0]-1].name,index:g[1]}):s==0&&t.Value.push({type:t.Types[g[0]-1].name,index:g[1]})});break;case 337:s=m?1:0;break;case 338:s=2;break;case 35:a.push(f),o=!0;break;case 36:a.pop(),o=!1;break;default:if(!u.T){if(!o||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}}),t}function fR(){var e=na();return De(e,332),De(e,334,ro(1)),De(e,335,sR({name:"XLDAPR",version:12e4,flags:3496657072})),De(e,336),De(e,339,dR(1,"XLDAPR")),De(e,52),De(e,35,ro(514)),De(e,4096,ro(0)),De(e,4097,Ua(1)),De(e,36),De(e,53),De(e,340),De(e,337,uR(1,!0)),De(e,51,lR([[1,0]])),De(e,338),De(e,333),e.end()}function hR(e,n,r){var t={Types:[],Cell:[],Value:[]};if(!e)return t;var i=!1,a=2,o;return e.replace(Lr,function(s){var m=Tt(s);switch(bo(m[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":t.Types.push({name:m.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<t.Types.length;++u)t.Types[u].name==m.name&&(o=t.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?t.Cell.push({type:t.Types[m.t-1].name,index:+m.v}):a==0&&t.Value.push({type:t.Types[m.t-1].name,index:+m.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+m.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+m[0]+" in metadata")}return s}),t}function Uw(){var e=[Ni];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function gR(e){var n=[];if(!e)return n;var r=1;return(e.match(Lr)||[]).forEach(function(t){var i=Tt(t);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,n.push(i);break}}),n}function _R(e){var n={};n.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),n.r=Mt(r);var t=e.read_shift(1);return t&2&&(n.l="1"),t&8&&(n.a="1"),n}function xR(e,n,r){var t=[],i=!1;return $o(e,function(o,s,m){switch(m){case 63:t.push(o);break;default:if(!s.T){if(!i||r.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}}),t}function vR(e,n,r,t){if(!e)return e;var i=t||{},a=!1,o=!1;$o(e,function(m,u,f){if(!o)switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!u.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},i)}function bR(e,n){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return n["!id"][r].Target}var Vl=1024;function Yw(e,n){for(var r=[21600,21600],t=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[We("xml",null,{"xmlns:v":ba.v,"xmlns:o":ba.o,"xmlns:x":ba.x,"xmlns:mv":ba.mv}).replace(/\/>/,">"),We("o:shapelayout",We("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),We("v:shapetype",[We("v:stroke",null,{joinstyle:"miter"}),We("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:t})];Vl<e*1e3;)Vl+=1e3;return n.forEach(function(a){var o=xi(a[0]),s={color2:"#BEFF82",type:"gradient"};s.type=="gradient"&&(s.angle="-180");var m=s.type=="gradient"?We("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=We("v:fill",m,s),f={on:"t",obscured:"t"};++Vl,i=i.concat(["<v:shape"+s0({id:"_x0000_s"+Vl,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,We("v:shadow",null,f),We("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",br("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),br("x:AutoFill","False"),br("x:Row",String(o.r)),br("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function r2(e,n,r,t){var i=Array.isArray(e),a;n.forEach(function(o){var s=xi(o.ref);if(i?(e[s.r]||(e[s.r]=[]),a=e[s.r][s.c]):a=e[o.ref],!a){a={t:"z"},i?e[s.r][s.c]=a:e[o.ref]=a;var m=Cn(e["!ref"]||"BDWGO1000001:A1");m.s.r>s.r&&(m.s.r=s.r),m.e.r<s.r&&(m.e.r=s.r),m.s.c>s.c&&(m.s.c=s.c),m.e.c<s.c&&(m.e.c=s.c);var u=Wt(m);u!==e["!ref"]&&(e["!ref"]=u)}a.c||(a.c=[]);var f={a:o.author,t:o.t,r:o.r,T:r};o.h&&(f.h=o.h);for(var g=a.c.length-1;g>=0;--g){if(!r&&a.c[g].T)return;r&&!a.c[g].T&&a.c.splice(g,1)}if(r&&t){for(g=0;g<t.length;++g)if(f.a==t[g].id){f.a=t[g].name||f.a;break}}a.c.push(f)})}function CR(e,n){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],t=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?author[^>]*>(.*)/);s&&r.push(s[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?comment[^>]*>/);if(s){var m=Tt(s[0]),u={author:m.authorId&&r[m.authorId]||"sheetjsghost",ref:m.ref,guid:m.guid},f=xi(m.ref);if(!(n.sheetRows&&n.sheetRows<=f.r)){var g=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),x=!!g&&!!g[1]&&__(g[1])||{r:"",t:"",h:""};u.r=x.r,x.r=="<t></t>"&&(x.t=x.h=""),u.t=(x.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),n.cellHTML&&(u.h=x.h),t.push(u)}}}}),t}function Ww(e){var n=[Ni,We("comments",null,{xmlns:pc[0]})],r=[];return n.push("<authors>"),e.forEach(function(t){t[1].forEach(function(i){var a=Vn(i.a);r.indexOf(a)==-1&&(r.push(a),n.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),n.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),n.push("<author>SheetJ5</author>")),n.push("</authors>"),n.push("<commentList>"),e.forEach(function(t){var i=0,a=[];if(t[1][0]&&t[1][0].T&&t[1][0].ID?i=r.indexOf("tc="+t[1][0].ID):t[1].forEach(function(m){m.a&&(i=r.indexOf(Vn(m.a))),a.push(m.t||"")}),n.push('<comment ref="'+t[0]+'" authorId="'+i+'"><text>'),a.length<=1)n.push(br("t",Vn(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,s=1;s<a.length;++s)o+=`Reply:
    `+a[s]+`
`;n.push(br("t",Vn(o)))}n.push("</text></comment>")}),n.push("</commentList>"),n.length>2&&(n[n.length]="</comments>",n[1]=n[1].replace("/>",">")),n.join("")}function yR(e,n){var r=[],t=!1,i={},a=0;return e.replace(Lr,function(s,m){var u=Tt(s);switch(bo(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=m+s.length;break;case"</text>":i.t=e.slice(a,m).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":t=!0;break;case"</mentions>":t=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":t=!0;break;case"</ext>":t=!1;break;default:if(!t&&n.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return s}),r}function wR(e,n,r){var t=[Ni,We("ThreadedComments",null,{xmlns:er.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var a="";(i[1]||[]).forEach(function(o,s){if(!o.T){delete o.ID;return}o.a&&n.indexOf(o.a)==-1&&n.push(o.a);var m={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};s==0?a=m.id:m.parentId=a,o.ID=m.id,o.a&&(m.personId="{54EE7950-7262-4200-6969-"+("000000000000"+n.indexOf(o.a)).slice(-12)+"}"),t.push(We("threadedComment",br("text",o.t||""),m))})}),t.push("</ThreadedComments>"),t.join("")}function MR(e,n){var r=[],t=!1;return e.replace(Lr,function(a){var o=Tt(a);switch(bo(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":t=!0;break;case"</ext>":t=!1;break;default:if(!t&&n.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return a}),r}function SR(e){var n=[Ni,We("personList",null,{xmlns:er.TCMNT,"xmlns:x":pc[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,t){n.push(We("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+t).slice(-12)+"}",userId:r,providerId:"None"}))}),n.push("</personList>"),n.join("")}function PR(e){var n={};n.iauthor=e.read_shift(4);var r=_c(e,16);return n.rfx=r.s,n.ref=Mt(r.s),e.l+=16,n}function kR(e,n){return n==null&&(n=Ce(36)),n.write_shift(4,e[1].iauthor),Ql(e[0],n),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n}var OR=Rr;function TR(e){return pr(e.slice(0,54))}function ER(e,n){var r=[],t=[],i={},a=!1;return $o(e,function(s,m,u){switch(u){case 632:t.push(s);break;case 635:i=s;break;case 637:i.t=s.t,i.h=s.h,i.r=s.r;break;case 636:if(i.author=t[i.iauthor],delete i.iauthor,n.sheetRows&&i.rfx&&n.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!m.T){if(!a||n.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function DR(e){var n=na(),r=[];return De(n,628),De(n,630),e.forEach(function(t){t[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),De(n,632,TR(i.a)))})}),De(n,631),De(n,633),e.forEach(function(t){t[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:xi(t[0]),e:xi(t[0])};De(n,635,kR([a,i])),i.t&&i.t.length>0&&De(n,637,JA(i)),De(n,636),delete i.iauthor})}),De(n,634),De(n,629),n.end()}var IR="application/vnd.ms-office.vbaProject";function AR(e){var n=gt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,t){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");gt.utils.cfb_add(n,i,e.FileIndex[t].content)}}),gt.write(n)}function FR(e,n){n.FullPaths.forEach(function(r,t){if(t!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&gt.utils.cfb_add(e,i,n.FileIndex[t].content)}})}var Hw=["xlsb","xlsm","xlam","biff8","xla"];function RR(){return{"!type":"dialog"}}function NR(){return{"!type":"dialog"}}function LR(){return{"!type":"macro"}}function BR(){return{"!type":"macro"}}var Ul=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,n={r:0,c:0};function r(t,i,a,o){var s=!1,m=!1;a.length==0?m=!0:a.charAt(0)=="["&&(m=!0,a=a.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return s?f+=n.c:--f,m?u+=n.r:--u,i+(s?"":"$")+_i(f)+(m?"":"$")+Ri(u)}return function(i,a){return n=a,i.replace(e,r)}}(),C_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,y_=function(){return function(n,r){return n.replace(C_,function(t,i,a,o,s,m){var u=c_(o)-(a?0:r.c),f=s_(m)-(s?0:r.r),g=f==0?"":s?f+1:"["+f+"]",x=u==0?"":a?u+1:"["+u+"]";return i+"R"+g+"C"+x})}}();function $w(e,n){return e.replace(C_,function(r,t,i,a,o,s){return t+(i=="$"?i+a:_i(c_(a)+n.c))+(o=="$"?o+s:Ri(s_(s)+n.r))})}function VR(e,n,r){var t=ia(n),i=t.s,a=xi(r),o={r:a.r-i.r,c:a.c-i.c};return $w(e,o)}function jR(e){return e.length!=1}function a2(e){return e.replace(/_xlfn\./g,"")}function Ui(e){e.l+=1}function Es(e,n){var r=e.read_shift(n==1?1:2);return[r&16383,r>>14&1,r>>15&1]}function Gw(e,n,r){var t=2;if(r){if(r.biff>=2&&r.biff<=5)return qw(e,n,r);r.biff==12&&(t=4)}var i=e.read_shift(t),a=e.read_shift(t),o=Es(e,2),s=Es(e,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function qw(e){var n=Es(e,2),r=Es(e,2),t=e.read_shift(1),i=e.read_shift(1);return{s:{r:n[0],c:t,cRel:n[1],rRel:n[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function zR(e,n,r){if(r.biff<8)return qw(e,n,r);var t=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=Es(e,2),o=Es(e,2);return{s:{r:t,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Xw(e,n,r){if(r&&r.biff>=2&&r.biff<=5)return UR(e,n,r);var t=e.read_shift(r&&r.biff==12?4:2),i=Es(e,2);return{r:t,c:i[0],cRel:i[1],rRel:i[2]}}function UR(e){var n=Es(e,2),r=e.read_shift(1);return{r:n[0],c:r,cRel:n[1],rRel:n[2]}}function YR(e){var n=e.read_shift(2),r=e.read_shift(2);return{r:n,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function WR(e,n,r){var t=r&&r.biff?r.biff:8;if(t>=2&&t<=5)return HR(e,n,r);var i=e.read_shift(t>=12?4:2),a=e.read_shift(2),o=(a&16384)>>14,s=(a&32768)>>15;if(a&=16383,s==1)for(;i>524287;)i-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:o,rRel:s}}function HR(e){var n=e.read_shift(2),r=e.read_shift(1),t=(n&32768)>>15,i=(n&16384)>>14;return n&=16383,t==1&&n>=8192&&(n=n-16384),i==1&&r>=128&&(r=r-256),{r:n,c:r,cRel:i,rRel:t}}function $R(e,n,r){var t=(e[e.l++]&96)>>5,i=Gw(e,r.biff>=2&&r.biff<=5?6:8,r);return[t,i]}function GR(e,n,r){var t=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var o=Gw(e,a,r);return[t,i,o]}function qR(e,n,r){var t=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[t]}function XR(e,n,r){var t=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[t,i]}function KR(e,n,r){var t=(e[e.l++]&96)>>5,i=zR(e,n-1,r);return[t,i]}function QR(e,n,r){var t=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[t]}function o2(e){var n=e[e.l+1]&1,r=1;return e.l+=4,[n,r]}function ZR(e,n,r){e.l+=2;for(var t=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=t;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function JR(e,n,r){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(r&&r.biff==2?1:2)]}function e9(e,n,r){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(r&&r.biff==2?1:2)]}function t9(e){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(2)]}function n9(e,n,r){var t=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[t]}function Kw(e){var n=e.read_shift(1),r=e.read_shift(1);return[n,r]}function i9(e){return e.read_shift(2),Kw(e,2)}function r9(e){return e.read_shift(2),Kw(e,2)}function a9(e,n,r){var t=(e[e.l]&96)>>5;e.l+=1;var i=Xw(e,0,r);return[t,i]}function o9(e,n,r){var t=(e[e.l]&96)>>5;e.l+=1;var i=WR(e,0,r);return[t,i]}function s9(e,n,r){var t=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=Xw(e,0,r);return[t,i,a]}function c9(e,n,r){var t=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[mN[i],Jw[i],t]}function l9(e,n,r){var t=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[t==88?-1:0,e.read_shift(1)]:d9(e);return[i,(a[0]===0?Jw:dN)[a[1]]]}function d9(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function m9(e,n,r){e.l+=r&&r.biff==2?3:4}function u9(e,n,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var t=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[t,i]}function p9(e){return e.l++,Go[e.read_shift(1)]}function f9(e){return e.l++,e.read_shift(2)}function h9(e){return e.l++,e.read_shift(1)!==0}function g9(e){return e.l++,Ar(e,8)}function _9(e,n,r){return e.l++,v0(e,n-1,r)}function x9(e,n){var r=[e.read_shift(1)];if(n==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Fi(e,1)?"TRUE":"FALSE",n!=12&&(e.l+=7);break;case 37:case 16:r[1]=Go[e[e.l]],e.l+=n==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ar(e,8);break;case 2:r[1]=xc(e,0,{biff:n>0&&n<8?2:n});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function v9(e,n,r){for(var t=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=t;++a)i.push((r.biff==12?_c:Up)(e,8));return i}function b9(e,n,r){var t=0,i=0;r.biff==12?(t=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),t=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--t,--i==0&&(i=256));for(var a=0,o=[];a!=t&&(o[a]=[]);++a)for(var s=0;s!=i;++s)o[a][s]=x9(e,r.biff);return o}function C9(e,n,r){var t=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[t,0,a]}function y9(e,n,r){if(r.biff==5)return w9(e,n,r);var t=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[t,i,a]}function w9(e){var n=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var t=e.read_shift(2);return e.l+=12,[n,r,t]}function M9(e,n,r){var t=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[t,i]}function S9(e,n,r){var t=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[t,i]}function P9(e,n,r){var t=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[t]}function k9(e,n,r){var t=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[t,i]}var O9=Nr,T9=Nr,E9=Nr;function C0(e,n,r){return e.l+=2,[YR(e,4,r)]}function w_(e){return e.l+=6,[]}var D9=C0,I9=w_,A9=w_,F9=C0;function Qw(e){return e.l+=2,[Wi(e),e.read_shift(2)&1]}var R9=C0,N9=Qw,L9=w_,B9=C0,V9=C0,j9=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function z9(e){e.l+=2;var n=e.read_shift(2),r=e.read_shift(2),t=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),o=j9[r>>2&31];return{ixti:n,coltype:r&3,rt:o,idx:t,c:i,C:a}}function U9(e){return e.l+=2,[e.read_shift(4)]}function Y9(e,n,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function W9(e,n,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function H9(e){var n=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[n,r]}function $9(e){var n=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[n,r]}function G9(e){return e.l+=4,[0,0]}var s2={1:{n:"PtgExp",f:u9},2:{n:"PtgTbl",f:E9},3:{n:"PtgAdd",f:Ui},4:{n:"PtgSub",f:Ui},5:{n:"PtgMul",f:Ui},6:{n:"PtgDiv",f:Ui},7:{n:"PtgPower",f:Ui},8:{n:"PtgConcat",f:Ui},9:{n:"PtgLt",f:Ui},10:{n:"PtgLe",f:Ui},11:{n:"PtgEq",f:Ui},12:{n:"PtgGe",f:Ui},13:{n:"PtgGt",f:Ui},14:{n:"PtgNe",f:Ui},15:{n:"PtgIsect",f:Ui},16:{n:"PtgUnion",f:Ui},17:{n:"PtgRange",f:Ui},18:{n:"PtgUplus",f:Ui},19:{n:"PtgUminus",f:Ui},20:{n:"PtgPercent",f:Ui},21:{n:"PtgParen",f:Ui},22:{n:"PtgMissArg",f:Ui},23:{n:"PtgStr",f:_9},26:{n:"PtgSheet",f:Y9},27:{n:"PtgEndSheet",f:W9},28:{n:"PtgErr",f:p9},29:{n:"PtgBool",f:h9},30:{n:"PtgInt",f:f9},31:{n:"PtgNum",f:g9},32:{n:"PtgArray",f:QR},33:{n:"PtgFunc",f:c9},34:{n:"PtgFuncVar",f:l9},35:{n:"PtgName",f:C9},36:{n:"PtgRef",f:a9},37:{n:"PtgArea",f:$R},38:{n:"PtgMemArea",f:M9},39:{n:"PtgMemErr",f:O9},40:{n:"PtgMemNoMem",f:T9},41:{n:"PtgMemFunc",f:S9},42:{n:"PtgRefErr",f:P9},43:{n:"PtgAreaErr",f:qR},44:{n:"PtgRefN",f:o9},45:{n:"PtgAreaN",f:KR},46:{n:"PtgMemAreaN",f:H9},47:{n:"PtgMemNoMemN",f:$9},57:{n:"PtgNameX",f:y9},58:{n:"PtgRef3d",f:s9},59:{n:"PtgArea3d",f:GR},60:{n:"PtgRefErr3d",f:k9},61:{n:"PtgAreaErr3d",f:XR},255:{}},q9={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},X9={1:{n:"PtgElfLel",f:Qw},2:{n:"PtgElfRw",f:B9},3:{n:"PtgElfCol",f:D9},6:{n:"PtgElfRwV",f:V9},7:{n:"PtgElfColV",f:F9},10:{n:"PtgElfRadical",f:R9},11:{n:"PtgElfRadicalS",f:L9},13:{n:"PtgElfColS",f:I9},15:{n:"PtgElfColSV",f:A9},16:{n:"PtgElfRadicalLel",f:N9},25:{n:"PtgList",f:z9},29:{n:"PtgSxName",f:U9},255:{}},K9={0:{n:"PtgAttrNoop",f:G9},1:{n:"PtgAttrSemi",f:n9},2:{n:"PtgAttrIf",f:e9},4:{n:"PtgAttrChoose",f:ZR},8:{n:"PtgAttrGoto",f:JR},16:{n:"PtgAttrSum",f:m9},32:{n:"PtgAttrBaxcel",f:o2},33:{n:"PtgAttrBaxcel",f:o2},64:{n:"PtgAttrSpace",f:i9},65:{n:"PtgAttrSpaceSemi",f:r9},128:{n:"PtgAttrIfError",f:t9},255:{}};function y0(e,n,r,t){if(t.biff<8)return Nr(e,n);for(var i=e.l+n,a=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=b9(e,0,t),a.push(r[o][1]);break;case"PtgMemArea":r[o][2]=v9(e,r[o][1],t),a.push(r[o][2]);break;case"PtgExp":t&&t.biff==12&&(r[o][1][1]=e.read_shift(4),a.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0];default:break}return n=i-e.l,n!==0&&a.push(Nr(e,n)),a}function w0(e,n,r){for(var t=e.l+n,i,a,o=[];t!=e.l;)n=t-e.l,a=e[e.l],i=s2[a]||s2[q9[a]],(a===24||a===25)&&(i=(a===24?X9:K9)[e[e.l+1]]),!i||!i.f?Nr(e,n):o.push([i.n,i.f(e,n,r)]);return o}function Q9(e){for(var n=[],r=0;r<e.length;++r){for(var t=e[r],i=[],a=0;a<t.length;++a){var o=t[a];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}n.push(i.join(","))}return n.join(";")}var Z9={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function J9(e,n){if(!e&&!(n&&n.biff<=5&&n.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Zw(e,n,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[n]))return e.SheetNames[n];if(!e.XTI)return"SH33TJSERR6";var t=e.XTI[n];if(r.biff<8)return n>1e4&&(n-=65536),n<0&&(n=-n),n==0?"":e.XTI[n-1];if(!t)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[t[0]][0]){case 357:return i=t[1]==-1?"#REF":e.SheetNames[t[1]],t[1]==t[2]?i:i+":"+e.SheetNames[t[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[t[0]][0];case 355:default:return"SH33TJSSRC"+e[t[0]][0]}switch(e[t[0]][0][0]){case 1025:return i=t[1]==-1?"#REF":e.SheetNames[t[1]]||"SH33TJSERR3",t[1]==t[2]?i:i+":"+e.SheetNames[t[2]];case 14849:return e[t[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[t[0]][0][3]?(i=t[1]==-1?"#REF":e[t[0]][0][3][t[1]]||"SH33TJSERR4",t[1]==t[2]?i:i+":"+e[t[0]][0][3][t[2]]):"SH33TJSERR2"}}function c2(e,n,r){var t=Zw(e,n,r);return t=="#REF"?t:J9(t,r)}function Dr(e,n,r,t,i){var a=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},s=[],m,u,f,g=0,x=0,C,y="";if(!e[0]||!e[0][0])return"";for(var v=-1,P="",D=0,I=e[0].length;D<I;++D){var A=e[0][D];switch(A[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(m=s.pop(),u=s.pop(),v>=0){switch(e[0][v][1][0]){case 0:P=Si(" ",e[0][v][1][1]);break;case 1:P=Si("\r",e[0][v][1][1]);break;default:if(P="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}u=u+P,v=-1}s.push(u+Z9[A[0]]+m);break;case"PtgIsect":m=s.pop(),u=s.pop(),s.push(u+" "+m);break;case"PtgUnion":m=s.pop(),u=s.pop(),s.push(u+","+m);break;case"PtgRange":m=s.pop(),u=s.pop(),s.push(u+":"+m);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Kd(A[1][1],o,i),s.push(Qd(f,a));break;case"PtgRefN":f=r?Kd(A[1][1],r,i):A[1][1],s.push(Qd(f,a));break;case"PtgRef3d":g=A[1][1],f=Kd(A[1][2],o,i),y=c2(t,g,i);var K=y;s.push(y+"!"+Qd(f,a));break;case"PtgFunc":case"PtgFuncVar":var J=A[1][0],O=A[1][1];J||(J=0),J&=127;var k=J==0?[]:s.slice(-J);s.length-=J,O==="User"&&(O=k.shift()),s.push(O+"("+k.join(",")+")");break;case"PtgBool":s.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(A[1]);break;case"PtgNum":s.push(String(A[1]));break;case"PtgStr":s.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(A[1]);break;case"PtgAreaN":C=Ly(A[1][1],r?{s:r}:o,i),s.push(xg(C,i));break;case"PtgArea":C=Ly(A[1][1],o,i),s.push(xg(C,i));break;case"PtgArea3d":g=A[1][1],C=A[1][2],y=c2(t,g,i),s.push(y+"!"+xg(C,i));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=A[1][2];var V=(t.names||[])[x-1]||(t[0]||[])[x],W=V?V.Name:"SH33TJSNAME"+String(x);W&&W.slice(0,6)=="_xlfn."&&!i.xlfn&&(W=W.slice(6)),s.push(W);break;case"PtgNameX":var ee=A[1][1];x=A[1][2];var re;if(i.biff<=5)ee<0&&(ee=-ee),t[ee]&&(re=t[ee][x]);else{var ie="";if(((t[ee]||[])[0]||[])[0]==14849||(((t[ee]||[])[0]||[])[0]==1025?t[ee][x]&&t[ee][x].itab>0&&(ie=t.SheetNames[t[ee][x].itab-1]+"!"):ie=t.SheetNames[x-1]+"!"),t[ee]&&t[ee][x])ie+=t[ee][x].Name;else if(t[0]&&t[0][x])ie+=t[0][x].Name;else{var ke=(Zw(t,ee,i)||"").split(";;");ke[x-1]?ie=ke[x-1]:ie+="SH33TJSERRX"}s.push(ie);break}re||(re={Name:"SH33TJSERRY"}),s.push(re.Name);break;case"PtgParen":var Be="(",ye=")";if(v>=0){switch(P="",e[0][v][1][0]){case 2:Be=Si(" ",e[0][v][1][1])+Be;break;case 3:Be=Si("\r",e[0][v][1][1])+Be;break;case 4:ye=Si(" ",e[0][v][1][1])+ye;break;case 5:ye=Si("\r",e[0][v][1][1])+ye;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}s.push(Be+s.pop()+ye);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":f={c:A[1][1],r:A[1][0]};var $e={c:r.c,r:r.r};if(t.sharedf[Mt(f)]){var Te=t.sharedf[Mt(f)];s.push(Dr(Te,o,$e,t,i))}else{var nt=!1;for(m=0;m!=t.arrayf.length;++m)if(u=t.arrayf[m],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){s.push(Dr(u[1],o,$e,t,i)),nt=!0;break}nt||s.push(A[1])}break;case"PtgArray":s.push("{"+Q9(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=D;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var Me=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&Me.indexOf(e[0][D][0])==-1){A=e[0][v];var Ae=!0;switch(A[1][0]){case 4:Ae=!1;case 0:P=Si(" ",A[1][1]);break;case 5:Ae=!1;case 1:P=Si("\r",A[1][1]);break;default:if(P="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}s.push((Ae?P:"")+s.pop()+(Ae?"":P)),v=-1}}if(s.length>1&&i.WTF)throw new Error("bad formula stack");return s[0]}function eN(e,n,r){var t=e.l+n,i=r.biff==2?1:2,a,o=e.read_shift(i);if(o==65535)return[[],Nr(e,n-2)];var s=w0(e,o,r);return n!==o+i&&(a=y0(e,n-o-i,s,r)),e.l=t,[s,a]}function tN(e,n,r){var t=e.l+n,i=r.biff==2?1:2,a,o=e.read_shift(i);if(o==65535)return[[],Nr(e,n-2)];var s=w0(e,o,r);return n!==o+i&&(a=y0(e,n-o-i,s,r)),e.l=t,[s,a]}function nN(e,n,r,t){var i=e.l+n,a=w0(e,t,r),o;return i!==e.l&&(o=y0(e,i-e.l,a,r)),[a,o]}function iN(e,n,r){var t=e.l+n,i,a=e.read_shift(2),o=w0(e,a,r);return a==65535?[[],Nr(e,n-2)]:(n!==a+2&&(i=y0(e,t-a-2,o,r)),[o,i])}function rN(e){var n;if(zo(e,e.l+6)!==65535)return[Ar(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return n=e[e.l+2]===1,e.l+=8,[n,"b"];case 2:return n=e[e.l+2],e.l+=8,[n,"e"];case 3:return e.l+=8,["","s"]}return[]}function aN(e){if(e==null){var n=Ce(8);return n.write_shift(1,3),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,65535),n}else if(typeof e=="number")return cc(e);return cc(0)}function wg(e,n,r){var t=e.l+n,i=Co(e,6);r.biff==2&&++e.l;var a=rN(e,8),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var s=tN(e,t-e.l,r);return{cell:i,val:a[0],formula:s,shared:o>>3&1,tt:a[1]}}function oN(e,n,r,t,i){var a=dc(n,r,i),o=aN(e.v),s=Ce(6),m=33;s.write_shift(2,m),s.write_shift(4,0);for(var u=Ce(e.bf.length),f=0;f<e.bf.length;++f)u[f]=e.bf[f];var g=ur([a,o,s,u]);return g}function Yp(e,n,r){var t=e.read_shift(4),i=w0(e,t,r),a=e.read_shift(4),o=a>0?y0(e,a,i,r):null;return[i,o]}var sN=Yp,Wp=Yp,cN=Yp,lN=Yp,dN={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Jw={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},mN={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function l2(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(n,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function uN(e){var n="of:="+e.replace(C_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return n.replace(/;/g,"|").replace(/,/g,";")}function Mg(e){var n=e.split(":"),r=n[0].split(".")[0];return[r,n[0].split(".")[1]+(n.length>1?":"+(n[1].split(".")[1]||n[1].split(".")[0]):"")]}function pN(e){return e.replace(/\./,"!")}var Jd={},Yl={},e0=typeof Map<"u";function M_(e,n,r){var t=0,i=e.length;if(r){if(e0?r.has(n):Object.prototype.hasOwnProperty.call(r,n)){for(var a=e0?r.get(n):r[n];t<a.length;++t)if(e[a[t]].t===n)return e.Count++,a[t]}}else for(;t<i;++t)if(e[t].t===n)return e.Count++,t;return e[i]={t:n},e.Count++,e.Unique++,r&&(e0?(r.has(n)||r.set(n,[]),r.get(n).push(i)):(Object.prototype.hasOwnProperty.call(r,n)||(r[n]=[]),r[n].push(i))),i}function Hp(e,n){var r={min:e+1,max:e+1},t=-1;return n.MDW&&(Ir=n.MDW),n.width!=null?r.customWidth=1:n.wpx!=null?t=u0(n.wpx):n.wch!=null&&(t=n.wch),t>-1?(r.width=Fp(t),r.customWidth=1):n.width!=null&&(r.width=n.width),n.hidden&&(r.hidden=!0),n.level!=null&&(r.outlineLevel=r.level=n.level),r}function ac(e,n){if(e){var r=[.7,.7,.75,.75,.3,.3];n=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Fs(e,n,r){var t=r.revssf[n.z!=null?n.z:"General"],i=60,a=e.length;if(t==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){vo(n.z,i),r.ssf[i]=n.z,r.revssf[n.z]=t=i;break}}for(i=0;i!=a;++i)if(e[i].numFmtId===t)return i;return e[a]={numFmtId:t,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function eM(e,n,r,t,i,a){try{t.cellNF&&(e.z=bt[n])}catch(s){if(t.WTF)throw s}if(!(e.t==="z"&&!t.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ii(e.v)),(!t||t.cellText!==!1)&&e.t!=="z")try{if(bt[n]==null&&vo(dA[n]||"General",n),e.t==="e")e.w=e.w||Go[e.v];else if(n===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=a0(e.v);else if(e.t==="d"){var o=tr(e.v);(o|0)===o?e.w=o.toString(10):e.w=a0(o)}else{if(e.v===void 0)return"";e.w=oc(e.v,Yl)}else e.t==="d"?e.w=Ma(n,tr(e.v),Yl):e.w=Ma(n,e.v,Yl)}catch(s){if(t.WTF)throw s}if(t.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Ap(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),t.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Ap(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),t.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(s){if(t.WTF&&a.Fills)throw s}}}function fN(e,n,r){if(e&&e["!ref"]){var t=Cn(e["!ref"]);if(t.e.c<t.s.c||t.e.r<t.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function hN(e,n){var r=Cn(n);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Wt(r))}var gN=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,_N=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,xN=/<(?:\w:)?hyperlink [^>]*>/mg,vN=/"(\w*:\w*)"/,bN=/<(?:\w:)?col\b[^>]*[\/]?>/g,CN=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,yN=/<(?:\w:)?pageMargins[^>]*\/>/g,tM=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,wN=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,MN=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function SN(e,n,r,t,i,a,o){if(!e)return e;t||(t={"!id":{}}),ki!=null&&n.dense==null&&(n.dense=ki);var s=n.dense?[]:{},m={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",f="",g=e.match(_N);g?(u=e.slice(0,g.index),f=e.slice(g.index+g[0].length)):u=f=e;var x=u.match(tM);x?S_(x[0],s,i,r):(x=u.match(wN))&&kN(x[0],x[1]||"",s,i,r,o,a);var C=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(C>0){var y=u.slice(C,C+50).match(vN);y&&hN(s,y[1])}var v=u.match(MN);v&&v[1]&&jN(v[1],i);var P=[];if(n.cellStyles){var D=u.match(bN);D&&RN(P,D)}g&&YN(g[1],s,n,m,a,o);var I=f.match(CN);I&&(s["!autofilter"]=LN(I[0]));var A=[],K=f.match(gN);if(K)for(C=0;C!=K.length;++C)A[C]=Cn(K[C].slice(K[C].indexOf('"')+1));var J=f.match(xN);J&&IN(s,J,t);var O=f.match(yN);if(O&&(s["!margins"]=AN(Tt(O[0]))),!s["!ref"]&&m.e.c>=m.s.c&&m.e.r>=m.s.r&&(s["!ref"]=Wt(m)),n.sheetRows>0&&s["!ref"]){var k=Cn(s["!ref"]);n.sheetRows<=+k.e.r&&(k.e.r=n.sheetRows-1,k.e.r>m.e.r&&(k.e.r=m.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>m.e.c&&(k.e.c=m.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),s["!fullref"]=s["!ref"],s["!ref"]=Wt(k))}return P.length>0&&(s["!cols"]=P),A.length>0&&(s["!merges"]=A),s}function PN(e){if(e.length===0)return"";for(var n='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)n+='<mergeCell ref="'+Wt(e[r])+'"/>';return n+"</mergeCells>"}function S_(e,n,r,t){var i=Tt(e);r.Sheets[t]||(r.Sheets[t]={}),i.codeName&&(r.Sheets[t].CodeName=bn(Yn(i.codeName)))}function kN(e,n,r,t,i){S_(e.slice(0,e.indexOf(">")),r,t,i)}function ON(e,n,r,t,i){var a=!1,o={},s=null;if(t.bookType!=="xlsx"&&n.vbaraw){var m=n.SheetNames[r];try{n.Workbook&&(m=n.Workbook.Sheets[r].CodeName||m)}catch{}a=!0,o.codeName=_o(Vn(m))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),s=(s||"")+We("outlinePr",null,u)}!a&&!s||(i[i.length]=We("sheetPr",s,o))}var TN=["objects","scenarios","selectLockedCells","selectUnlockedCells"],EN=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function DN(e){var n={sheet:1};return TN.forEach(function(r){e[r]!=null&&e[r]&&(n[r]="1")}),EN.forEach(function(r){e[r]!=null&&!e[r]&&(n[r]="0")}),e.password&&(n.password=x_(e.password).toString(16).toUpperCase()),We("sheetProtection",null,n)}function IN(e,n,r){for(var t=Array.isArray(e),i=0;i!=n.length;++i){var a=Tt(Yn(n[i]),!0);if(!a.ref)return;var o=((r||{})["!id"]||[])[a.id];o?(a.Target=o.Target,a.location&&(a.Target+="#"+bn(a.location))):(a.Target="#"+bn(a.location),o={Target:a.Target,TargetMode:"Internal"}),a.Rel=o,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var s=Cn(a.ref),m=s.s.r;m<=s.e.r;++m)for(var u=s.s.c;u<=s.e.c;++u){var f=Mt({c:u,r:m});t?(e[m]||(e[m]=[]),e[m][u]||(e[m][u]={t:"z",v:void 0}),e[m][u].l=a):(e[f]||(e[f]={t:"z",v:void 0}),e[f].l=a)}}}function AN(e){var n={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(n[r]=parseFloat(e[r]))}),n}function FN(e){return ac(e),We("pageMargins",null,e)}function RN(e,n){for(var r=!1,t=0;t!=n.length;++t){var i=Tt(n[t],!0);i.hidden&&(i.hidden=ni(i.hidden));var a=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,v_(i.width)),Ts(i);a<=o;)e[a++]=ri(i)}}function NN(e,n){for(var r=["<cols>"],t,i=0;i!=n.length;++i)(t=n[i])&&(r[r.length]=We("col",null,Hp(i,t)));return r[r.length]="</cols>",r.join("")}function LN(e){var n={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return n}function BN(e,n,r,t){var i=typeof e.ref=="string"?e.ref:Wt(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=ia(i);o.s.r==o.e.r&&(o.e.r=ia(n["!ref"]).e.r,i=Wt(o));for(var s=0;s<a.length;++s){var m=a[s];if(m.Name=="_xlnm._FilterDatabase"&&m.Sheet==t){m.Ref="'"+r.SheetNames[t]+"'!"+i;break}}return s==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:t,Ref:"'"+r.SheetNames[t]+"'!"+i}),We("autoFilter",null,{ref:i})}var VN=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function jN(e,n){n.Views||(n.Views=[{}]),(e.match(VN)||[]).forEach(function(r,t){var i=Tt(r);n.Views[t]||(n.Views[t]={}),+i.zoomScale&&(n.Views[t].zoom=+i.zoomScale),ni(i.rightToLeft)&&(n.Views[t].RTL=!0)})}function zN(e,n,r,t){var i={workbookViewId:"0"};return(((t||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=t.Workbook.Views[0].RTL?"1":"0"),We("sheetViews",We("sheetView",null,i),{})}function UN(e,n,r,t){if(e.c&&r["!comments"].push([n,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",a=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=Go[e.v];break;case"d":t&&t.cellDates?i=ii(e.v,-1).toISOString():(e=ri(e),e.t="n",i=""+(e.v=tr(ii(e.v)))),typeof e.z>"u"&&(e.z=bt[14]);break;default:i=e.v;break}var s=br("v",Vn(i)),m={r:n},u=Fs(t.cellXfs,e,t);switch(u!==0&&(m.s=u),e.t){case"n":break;case"d":m.t="d";break;case"b":m.t="b";break;case"e":m.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(t&&t.bookSST){s=br("v",""+M_(t.Strings,e.v,t.revStrings)),m.t="s";break}m.t="str";break}if(e.t!=a&&(e.t=a,e.v=o),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,n.length)==n?{t:"array",ref:e.F}:null;s=We("f",Vn(e.f),f)+(e.v!=null?s:"")}return e.l&&r["!links"].push([n,e.l]),e.D&&(m.cm=1),We("c",s,m)}var YN=function(){var e=/<(?:\w+:)?c[ \/>]/,n=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,t=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=o0("v"),o=o0("f");return function(m,u,f,g,x,C){for(var y=0,v="",P=[],D=[],I=0,A=0,K=0,J="",O,k,V=0,W=0,ee,re,ie=0,ke=0,Be=Array.isArray(C.CellXf),ye,$e=[],Te=[],nt=Array.isArray(u),Me=[],Ae={},ce=!1,X=!!f.sheetStubs,te=m.split(n),Q=0,Z=te.length;Q!=Z;++Q){v=te[Q].trim();var le=v.length;if(le!==0){var Pe=0;e:for(y=0;y<le;++y)switch(v[y]){case">":if(v[y-1]!="/"){++y;break e}if(f&&f.cellStyles){if(k=Tt(v.slice(Pe,y),!0),V=k.r!=null?parseInt(k.r,10):V+1,W=-1,f.sheetRows&&f.sheetRows<V)continue;Ae={},ce=!1,k.ht&&(ce=!0,Ae.hpt=parseFloat(k.ht),Ae.hpx=Gl(Ae.hpt)),k.hidden=="1"&&(ce=!0,Ae.hidden=!0),k.outlineLevel!=null&&(ce=!0,Ae.level=+k.outlineLevel),ce&&(Me[V-1]=Ae)}break;case"<":Pe=y;break}if(Pe>=y)break;if(k=Tt(v.slice(Pe,y),!0),V=k.r!=null?parseInt(k.r,10):V+1,W=-1,!(f.sheetRows&&f.sheetRows<V)){g.s.r>V-1&&(g.s.r=V-1),g.e.r<V-1&&(g.e.r=V-1),f&&f.cellStyles&&(Ae={},ce=!1,k.ht&&(ce=!0,Ae.hpt=parseFloat(k.ht),Ae.hpx=Gl(Ae.hpt)),k.hidden=="1"&&(ce=!0,Ae.hidden=!0),k.outlineLevel!=null&&(ce=!0,Ae.level=+k.outlineLevel),ce&&(Me[V-1]=Ae)),P=v.slice(y).split(e);for(var Oe=0;Oe!=P.length&&P[Oe].trim().charAt(0)=="<";++Oe);for(P=P.slice(Oe),y=0;y!=P.length;++y)if(v=P[y].trim(),v.length!==0){if(D=v.match(r),I=y,A=0,K=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,D!=null&&D.length===2){for(I=0,J=D[1],A=0;A!=J.length&&!((K=J.charCodeAt(A)-64)<1||K>26);++A)I=26*I+K;--I,W=I}else++W;for(A=0;A!=v.length&&v.charCodeAt(A)!==62;++A);if(++A,k=Tt(v.slice(0,A),!0),k.r||(k.r=Mt({r:V-1,c:W})),J=v.slice(A),O={t:""},(D=J.match(a))!=null&&D[1]!==""&&(O.v=bn(D[1])),f.cellFormula){if((D=J.match(o))!=null&&D[1]!==""){if(O.f=bn(Yn(D[1])).replace(/\r\n/g,`
`),f.xlfn||(O.f=a2(O.f)),D[0].indexOf('t="array"')>-1)O.F=(J.match(i)||[])[1],O.F.indexOf(":")>-1&&$e.push([Cn(O.F),O.F]);else if(D[0].indexOf('t="shared"')>-1){re=Tt(D[0]);var we=bn(Yn(D[1]));f.xlfn||(we=a2(we)),Te[parseInt(re.si,10)]=[re,we,k.r]}}else(D=J.match(/<f[^>]*\/>/))&&(re=Tt(D[0]),Te[re.si]&&(O.f=VR(Te[re.si][1],Te[re.si][2],k.r)));var xe=xi(k.r);for(A=0;A<$e.length;++A)xe.r>=$e[A][0].s.r&&xe.r<=$e[A][0].e.r&&xe.c>=$e[A][0].s.c&&xe.c<=$e[A][0].e.c&&(O.F=$e[A][1])}if(k.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(X)O.t="z";else continue;else O.t=k.t||"n";switch(g.s.c>W&&(g.s.c=W),g.e.c<W&&(g.e.c=W),O.t){case"n":if(O.v==""||O.v==null){if(!X)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!X)continue;O.t="z"}else ee=Jd[parseInt(O.v,10)],O.v=ee.t,O.r=ee.r,f.cellHTML&&(O.h=ee.h);break;case"str":O.t="s",O.v=O.v!=null?Yn(O.v):"",f.cellHTML&&(O.h=Jg(O.v));break;case"inlineStr":D=J.match(t),O.t="s",D!=null&&(ee=__(D[1]))?(O.v=ee.t,f.cellHTML&&(O.h=ee.h)):O.v="";break;case"b":O.v=ni(O.v);break;case"d":f.cellDates?O.v=ii(O.v,1):(O.v=tr(ii(O.v,1)),O.t="n");break;case"e":(!f||f.cellText!==!1)&&(O.w=O.v),O.v=iw[O.v];break}if(ie=ke=0,ye=null,Be&&k.s!==void 0&&(ye=C.CellXf[k.s],ye!=null&&(ye.numFmtId!=null&&(ie=ye.numFmtId),f.cellStyles&&ye.fillId!=null&&(ke=ye.fillId))),eM(O,ie,ke,f,x,C),f.cellDates&&Be&&O.t=="n"&&uc(bt[ie])&&(O.t="d",O.v=jp(O.v)),k.cm&&f.xlmeta){var ot=(f.xlmeta.Cell||[])[+k.cm-1];ot&&ot.type=="XLDAPR"&&(O.D=!0)}if(nt){var H=xi(k.r);u[H.r]||(u[H.r]=[]),u[H.r][H.c]=O}else u[k.r]=O}}}}Me.length>0&&(u["!rows"]=Me)}}();function WN(e,n,r,t){var i=[],a=[],o=Cn(e["!ref"]),s="",m,u="",f=[],g=0,x=0,C=e["!rows"],y=Array.isArray(e),v={r:u},P,D=-1;for(x=o.s.c;x<=o.e.c;++x)f[x]=_i(x);for(g=o.s.r;g<=o.e.r;++g){for(a=[],u=Ri(g),x=o.s.c;x<=o.e.c;++x){m=f[x]+u;var I=y?(e[g]||[])[x]:e[m];I!==void 0&&(s=UN(I,m,e,n,r,t))!=null&&a.push(s)}(a.length>0||C&&C[g])&&(v={r:u},C&&C[g]&&(P=C[g],P.hidden&&(v.hidden=1),D=-1,P.hpx?D=p0(P.hpx):P.hpt&&(D=P.hpt),D>-1&&(v.ht=D,v.customHeight=1),P.level&&(v.outlineLevel=P.level)),i[i.length]=We("row",a.join(""),v))}if(C)for(;g<C.length;++g)C&&C[g]&&(v={r:g+1},P=C[g],P.hidden&&(v.hidden=1),D=-1,P.hpx?D=p0(P.hpx):P.hpt&&(D=P.hpt),D>-1&&(v.ht=D,v.customHeight=1),P.level&&(v.outlineLevel=P.level),i[i.length]=We("row","",v));return i.join("")}function nM(e,n,r,t){var i=[Ni,We("worksheet",null,{xmlns:pc[0],"xmlns:r":er.r})],a=r.SheetNames[e],o=0,s="",m=r.Sheets[a];m==null&&(m={});var u=m["!ref"]||"A1",f=Cn(u);if(f.e.c>16383||f.e.r>1048575){if(n.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=Wt(f)}t||(t={}),m["!comments"]=[];var g=[];ON(m,r,e,n,i),i[i.length]=We("dimension",null,{ref:u}),i[i.length]=zN(m,n,e,r),n.sheetFormat&&(i[i.length]=We("sheetFormatPr",null,{defaultRowHeight:n.sheetFormat.defaultRowHeight||"16",baseColWidth:n.sheetFormat.baseColWidth||"10",outlineLevelRow:n.sheetFormat.outlineLevelRow||"7"})),m["!cols"]!=null&&m["!cols"].length>0&&(i[i.length]=NN(m,m["!cols"])),i[o=i.length]="<sheetData/>",m["!links"]=[],m["!ref"]!=null&&(s=WN(m,n,e,r,t),s.length>0&&(i[i.length]=s)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),m["!protect"]&&(i[i.length]=DN(m["!protect"])),m["!autofilter"]!=null&&(i[i.length]=BN(m["!autofilter"],m,r,e)),m["!merges"]!=null&&m["!merges"].length>0&&(i[i.length]=PN(m["!merges"]));var x=-1,C,y=-1;return m["!links"].length>0&&(i[i.length]="<hyperlinks>",m["!links"].forEach(function(v){v[1].Target&&(C={ref:v[0]},v[1].Target.charAt(0)!="#"&&(y=Bn(t,-1,Vn(v[1].Target).replace(/#.*$/,""),Gt.HLINK),C["r:id"]="rId"+y),(x=v[1].Target.indexOf("#"))>-1&&(C.location=Vn(v[1].Target.slice(x+1))),v[1].Tooltip&&(C.tooltip=Vn(v[1].Tooltip)),i[i.length]=We("hyperlink",null,C))}),i[i.length]="</hyperlinks>"),delete m["!links"],m["!margins"]!=null&&(i[i.length]=FN(m["!margins"])),(!n||n.ignoreEC||n.ignoreEC==null)&&(i[i.length]=br("ignoredErrors",We("ignoredError",null,{numberStoredAsText:1,sqref:u}))),g.length>0&&(y=Bn(t,-1,"../drawings/drawing"+(e+1)+".xml",Gt.DRAW),i[i.length]=We("drawing",null,{"r:id":"rId"+y}),m["!drawing"]=g),m["!comments"].length>0&&(y=Bn(t,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Gt.VML),i[i.length]=We("legacyDrawing",null,{"r:id":"rId"+y}),m["!legacy"]=y),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function HN(e,n){var r={},t=e.l+n;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=t,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function $N(e,n,r){var t=Ce(145),i=(r["!rows"]||[])[e]||{};t.write_shift(4,e),t.write_shift(4,0);var a=320;i.hpx?a=p0(i.hpx)*20:i.hpt&&(a=i.hpt*20),t.write_shift(2,a),t.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),t.write_shift(1,o),t.write_shift(1,0);var s=0,m=t.l;t.l+=4;for(var u={r:e,c:0},f=0;f<16;++f)if(!(n.s.c>f+1<<10||n.e.c<f<<10)){for(var g=-1,x=-1,C=f<<10;C<f+1<<10;++C){u.c=C;var y=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Mt(u)];y&&(g<0&&(g=C),x=C)}g<0||(++s,t.write_shift(4,g),t.write_shift(4,x))}var v=t.l;return t.l=m,t.write_shift(4,s),t.l=v,t.length>t.l?t.slice(0,t.l):t}function GN(e,n,r,t){var i=$N(t,r,n);(i.length>17||(n["!rows"]||[])[t])&&De(e,0,i)}var qN=_c,XN=Ql;function KN(){}function QN(e,n){var r={},t=e[e.l];return++e.l,r.above=!(t&64),r.left=!(t&128),e.l+=18,r.name=e6(e,n-19),r}function ZN(e,n,r){r==null&&(r=Ce(84+4*e.length));var t=192;n&&(n.above&&(t&=-65),n.left&&(t&=-129)),r.write_shift(1,t);for(var i=1;i<3;++i)r.write_shift(1,0);return Ep({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Z2(e,r),r.slice(0,r.l)}function JN(e){var n=Wa(e);return[n]}function eL(e,n,r){return r==null&&(r=Ce(8)),fc(n,r)}function tL(e){var n=hc(e);return[n]}function nL(e,n,r){return r==null&&(r=Ce(4)),gc(n,r)}function iL(e){var n=Wa(e),r=e.read_shift(1);return[n,r,"b"]}function rL(e,n,r){return r==null&&(r=Ce(9)),fc(n,r),r.write_shift(1,e.v?1:0),r}function aL(e){var n=hc(e),r=e.read_shift(1);return[n,r,"b"]}function oL(e,n,r){return r==null&&(r=Ce(5)),gc(n,r),r.write_shift(1,e.v?1:0),r}function sL(e){var n=Wa(e),r=e.read_shift(1);return[n,r,"e"]}function cL(e,n,r){return r==null&&(r=Ce(9)),fc(n,r),r.write_shift(1,e.v),r}function lL(e){var n=hc(e),r=e.read_shift(1);return[n,r,"e"]}function dL(e,n,r){return r==null&&(r=Ce(8)),gc(n,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function mL(e){var n=Wa(e),r=e.read_shift(4);return[n,r,"s"]}function uL(e,n,r){return r==null&&(r=Ce(12)),fc(n,r),r.write_shift(4,n.v),r}function pL(e){var n=hc(e),r=e.read_shift(4);return[n,r,"s"]}function fL(e,n,r){return r==null&&(r=Ce(8)),gc(n,r),r.write_shift(4,n.v),r}function hL(e){var n=Wa(e),r=Ar(e);return[n,r,"n"]}function gL(e,n,r){return r==null&&(r=Ce(16)),fc(n,r),cc(e.v,r),r}function iM(e){var n=hc(e),r=Ar(e);return[n,r,"n"]}function _L(e,n,r){return r==null&&(r=Ce(12)),gc(n,r),cc(e.v,r),r}function xL(e){var n=Wa(e),r=u_(e);return[n,r,"n"]}function vL(e,n,r){return r==null&&(r=Ce(12)),fc(n,r),J2(e.v,r),r}function bL(e){var n=hc(e),r=u_(e);return[n,r,"n"]}function CL(e,n,r){return r==null&&(r=Ce(8)),gc(n,r),J2(e.v,r),r}function yL(e){var n=Wa(e),r=l_(e);return[n,r,"is"]}function wL(e){var n=Wa(e),r=Rr(e);return[n,r,"str"]}function ML(e,n,r){return r==null&&(r=Ce(12+4*e.v.length)),fc(n,r),pr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function SL(e){var n=hc(e),r=Rr(e);return[n,r,"str"]}function PL(e,n,r){return r==null&&(r=Ce(8+4*e.v.length)),gc(n,r),pr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function kL(e,n,r){var t=e.l+n,i=Wa(e);i.r=r["!row"];var a=e.read_shift(1),o=[i,a,"b"];if(r.cellFormula){e.l+=2;var s=Wp(e,t-e.l,r);o[3]=Dr(s,null,i,r.supbooks,r)}else e.l=t;return o}function OL(e,n,r){var t=e.l+n,i=Wa(e);i.r=r["!row"];var a=e.read_shift(1),o=[i,a,"e"];if(r.cellFormula){e.l+=2;var s=Wp(e,t-e.l,r);o[3]=Dr(s,null,i,r.supbooks,r)}else e.l=t;return o}function TL(e,n,r){var t=e.l+n,i=Wa(e);i.r=r["!row"];var a=Ar(e),o=[i,a,"n"];if(r.cellFormula){e.l+=2;var s=Wp(e,t-e.l,r);o[3]=Dr(s,null,i,r.supbooks,r)}else e.l=t;return o}function EL(e,n,r){var t=e.l+n,i=Wa(e);i.r=r["!row"];var a=Rr(e),o=[i,a,"str"];if(r.cellFormula){e.l+=2;var s=Wp(e,t-e.l,r);o[3]=Dr(s,null,i,r.supbooks,r)}else e.l=t;return o}var DL=_c,IL=Ql;function AL(e,n){return n==null&&(n=Ce(4)),n.write_shift(4,e),n}function FL(e,n){var r=e.l+n,t=_c(e,16),i=d_(e),a=Rr(e),o=Rr(e),s=Rr(e);e.l=r;var m={rfx:t,relId:i,loc:a,display:s};return o&&(m.Tooltip=o),m}function RL(e,n){var r=Ce(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Ql({s:xi(e[0]),e:xi(e[0])},r),m_("rId"+n,r);var t=e[1].Target.indexOf("#"),i=t==-1?"":e[1].Target.slice(t+1);return pr(i||"",r),pr(e[1].Tooltip||"",r),pr("",r),r.slice(0,r.l)}function NL(){}function LL(e,n,r){var t=e.l+n,i=ew(e,16),a=e.read_shift(1),o=[i];if(o[2]=a,r.cellFormula){var s=sN(e,t-e.l,r);o[1]=s}else e.l=t;return o}function BL(e,n,r){var t=e.l+n,i=_c(e,16),a=[i];if(r.cellFormula){var o=lN(e,t-e.l,r);a[1]=o,e.l=t}else e.l=t;return a}function VL(e,n,r){r==null&&(r=Ce(18));var t=Hp(e,n);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(t.width||10)*256),r.write_shift(4,0);var i=0;return n.hidden&&(i|=1),typeof t.width=="number"&&(i|=2),n.level&&(i|=n.level<<8),r.write_shift(2,i),r}var rM=["left","right","top","bottom","header","footer"];function jL(e){var n={};return rM.forEach(function(r){n[r]=Ar(e,8)}),n}function zL(e,n){return n==null&&(n=Ce(6*8)),ac(e),rM.forEach(function(r){cc(e[r],n)}),n}function UL(e){var n=e.read_shift(2);return e.l+=28,{RTL:n&32}}function YL(e,n,r){r==null&&(r=Ce(30));var t=924;return(((n||{}).Views||[])[0]||{}).RTL&&(t|=32),r.write_shift(2,t),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function WL(e){var n=Ce(24);return n.write_shift(4,4),n.write_shift(4,1),Ql(e,n),n}function HL(e,n){return n==null&&(n=Ce(16*4+2)),n.write_shift(2,e.password?x_(e.password):0),n.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?n.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):n.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),n}function $L(){}function GL(){}function qL(e,n,r,t,i,a,o){if(!e)return e;var s=n||{};t||(t={"!id":{}}),ki!=null&&s.dense==null&&(s.dense=ki);var m=s.dense?[]:{},u,f={s:{r:2e6,c:2e6},e:{r:0,c:0}},g=[],x=!1,C=!1,y,v,P,D,I,A,K,J,O,k=[];s.biff=12,s["!row"]=0;var V=0,W=!1,ee=[],re={},ie=s.supbooks||i.supbooks||[[]];if(ie.sharedf=re,ie.arrayf=ee,ie.SheetNames=i.SheetNames||i.Sheets.map(function(Ae){return Ae.name}),!s.supbooks&&(s.supbooks=ie,i.Names))for(var ke=0;ke<i.Names.length;++ke)ie[0][ke+1]=i.Names[ke];var Be=[],ye=[],$e=!1;f0[16]={n:"BrtShortReal",f:iM};var Te,nt;if($o(e,function(ce,X,te){if(!C)switch(te){case 148:u=ce;break;case 0:y=ce,s.sheetRows&&s.sheetRows<=y.r&&(C=!0),J=Ri(D=y.r),s["!row"]=y.r,(ce.hidden||ce.hpt||ce.level!=null)&&(ce.hpt&&(ce.hpx=Gl(ce.hpt)),ye[ce.r]=ce);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:ce[2]},ce[2]){case"n":v.v=ce[1];break;case"s":K=Jd[ce[1]],v.v=K.t,v.r=K.r;break;case"b":v.v=!!ce[1];break;case"e":v.v=ce[1],s.cellText!==!1&&(v.w=Go[v.v]);break;case"str":v.t="s",v.v=ce[1];break;case"is":v.t="s",v.v=ce[1].t;break}if((P=o.CellXf[ce[0].iStyleRef])&&eM(v,P.numFmtId,null,s,a,o),I=ce[0].c==-1?I+1:ce[0].c,s.dense?(m[D]||(m[D]=[]),m[D][I]=v):m[_i(I)+J]=v,s.cellFormula){for(W=!1,V=0;V<ee.length;++V){var Q=ee[V];y.r>=Q[0].s.r&&y.r<=Q[0].e.r&&I>=Q[0].s.c&&I<=Q[0].e.c&&(v.F=Wt(Q[0]),W=!0)}!W&&ce.length>3&&(v.f=ce[3])}if(f.s.r>y.r&&(f.s.r=y.r),f.s.c>I&&(f.s.c=I),f.e.r<y.r&&(f.e.r=y.r),f.e.c<I&&(f.e.c=I),s.cellDates&&P&&v.t=="n"&&uc(bt[P.numFmtId])){var Z=Ps(v.v);Z&&(v.t="d",v.v=new Date(Z.y,Z.m-1,Z.d,Z.H,Z.M,Z.S,Z.u))}Te&&(Te.type=="XLDAPR"&&(v.D=!0),Te=void 0),nt&&(nt=void 0);break;case 1:case 12:if(!s.sheetStubs||x)break;v={t:"z",v:void 0},I=ce[0].c==-1?I+1:ce[0].c,s.dense?(m[D]||(m[D]=[]),m[D][I]=v):m[_i(I)+J]=v,f.s.r>y.r&&(f.s.r=y.r),f.s.c>I&&(f.s.c=I),f.e.r<y.r&&(f.e.r=y.r),f.e.c<I&&(f.e.c=I),Te&&(Te.type=="XLDAPR"&&(v.D=!0),Te=void 0),nt&&(nt=void 0);break;case 176:k.push(ce);break;case 49:Te=((s.xlmeta||{}).Cell||[])[ce-1];break;case 494:var le=t["!id"][ce.relId];for(le?(ce.Target=le.Target,ce.loc&&(ce.Target+="#"+ce.loc),ce.Rel=le):ce.relId==""&&(ce.Target="#"+ce.loc),D=ce.rfx.s.r;D<=ce.rfx.e.r;++D)for(I=ce.rfx.s.c;I<=ce.rfx.e.c;++I)s.dense?(m[D]||(m[D]=[]),m[D][I]||(m[D][I]={t:"z",v:void 0}),m[D][I].l=ce):(A=Mt({c:I,r:D}),m[A]||(m[A]={t:"z",v:void 0}),m[A].l=ce);break;case 426:if(!s.cellFormula)break;ee.push(ce),O=s.dense?m[D][I]:m[_i(I)+J],O.f=Dr(ce[1],f,{r:y.r,c:I},ie,s),O.F=Wt(ce[0]);break;case 427:if(!s.cellFormula)break;re[Mt(ce[0].s)]=ce[1],O=s.dense?m[D][I]:m[_i(I)+J],O.f=Dr(ce[1],f,{r:y.r,c:I},ie,s);break;case 60:if(!s.cellStyles)break;for(;ce.e>=ce.s;)Be[ce.e--]={width:ce.w/256,hidden:!!(ce.flags&1),level:ce.level},$e||($e=!0,v_(ce.w/256)),Ts(Be[ce.e+1]);break;case 161:m["!autofilter"]={ref:Wt(ce)};break;case 476:m["!margins"]=ce;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),ce.name&&(i.Sheets[r].CodeName=ce.name),(ce.above||ce.left)&&(m["!outline"]={above:ce.above,left:ce.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ce.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:x=!0;break;case 36:x=!1;break;case 37:g.push(te),x=!0;break;case 38:g.pop(),x=!1;break;default:if(!X.T){if(!x||s.WTF)throw new Error("Unexpected record 0x"+te.toString(16))}}},s),delete s.supbooks,delete s["!row"],!m["!ref"]&&(f.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(m["!ref"]=Wt(u||f)),s.sheetRows&&m["!ref"]){var Me=Cn(m["!ref"]);s.sheetRows<=+Me.e.r&&(Me.e.r=s.sheetRows-1,Me.e.r>f.e.r&&(Me.e.r=f.e.r),Me.e.r<Me.s.r&&(Me.s.r=Me.e.r),Me.e.c>f.e.c&&(Me.e.c=f.e.c),Me.e.c<Me.s.c&&(Me.s.c=Me.e.c),m["!fullref"]=m["!ref"],m["!ref"]=Wt(Me))}return k.length>0&&(m["!merges"]=k),Be.length>0&&(m["!cols"]=Be),ye.length>0&&(m["!rows"]=ye),m}function XL(e,n,r,t,i,a,o){if(n.v===void 0)return!1;var s="";switch(n.t){case"b":s=n.v?"1":"0";break;case"d":n=ri(n),n.z=n.z||bt[14],n.v=tr(ii(n.v)),n.t="n";break;case"n":case"e":s=""+n.v;break;default:s=n.v;break}var m={r,c:t};switch(m.s=Fs(i.cellXfs,n,i),n.l&&a["!links"].push([Mt(m),n.l]),n.c&&a["!comments"].push([Mt(m),n.c]),n.t){case"s":case"str":return i.bookSST?(s=M_(i.Strings,n.v,i.revStrings),m.t="s",m.v=s,o?De(e,18,fL(n,m)):De(e,7,uL(n,m))):(m.t="str",o?De(e,17,PL(n,m)):De(e,6,ML(n,m))),!0;case"n":return n.v==(n.v|0)&&n.v>-1e3&&n.v<1e3?o?De(e,13,CL(n,m)):De(e,2,vL(n,m)):o?De(e,16,_L(n,m)):De(e,5,gL(n,m)),!0;case"b":return m.t="b",o?De(e,15,oL(n,m)):De(e,4,rL(n,m)),!0;case"e":return m.t="e",o?De(e,14,dL(n,m)):De(e,3,cL(n,m)),!0}return o?De(e,12,nL(n,m)):De(e,1,eL(n,m)),!0}function KL(e,n,r,t){var i=Cn(n["!ref"]||"A1"),a,o="",s=[];De(e,145);var m=Array.isArray(n),u=i.e.r;n["!rows"]&&(u=Math.max(i.e.r,n["!rows"].length-1));for(var f=i.s.r;f<=u;++f){o=Ri(f),GN(e,n,i,f);var g=!1;if(f<=i.e.r)for(var x=i.s.c;x<=i.e.c;++x){f===i.s.r&&(s[x]=_i(x)),a=s[x]+o;var C=m?(n[f]||[])[x]:n[a];if(!C){g=!1;continue}g=XL(e,C,f,x,t,n,g)}}De(e,146)}function QL(e,n){!n||!n["!merges"]||(De(e,177,AL(n["!merges"].length)),n["!merges"].forEach(function(r){De(e,176,IL(r))}),De(e,178))}function ZL(e,n){!n||!n["!cols"]||(De(e,390),n["!cols"].forEach(function(r,t){r&&De(e,60,VL(t,r))}),De(e,391))}function JL(e,n){!n||!n["!ref"]||(De(e,648),De(e,649,WL(Cn(n["!ref"]))),De(e,650))}function eB(e,n,r){n["!links"].forEach(function(t){if(t[1].Target){var i=Bn(r,-1,t[1].Target.replace(/#.*$/,""),Gt.HLINK);De(e,494,RL(t,i))}}),delete n["!links"]}function tB(e,n,r,t){if(n["!comments"].length>0){var i=Bn(t,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Gt.VML);De(e,551,m_("rId"+i)),n["!legacy"]=i}}function nB(e,n,r,t){if(n["!autofilter"]){var i=n["!autofilter"],a=typeof i.ref=="string"?i.ref:Wt(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,s=ia(a);s.s.r==s.e.r&&(s.e.r=ia(n["!ref"]).e.r,a=Wt(s));for(var m=0;m<o.length;++m){var u=o[m];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==t){u.Ref="'"+r.SheetNames[t]+"'!"+a;break}}m==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:t,Ref:"'"+r.SheetNames[t]+"'!"+a}),De(e,161,Ql(Cn(a))),De(e,162)}}function iB(e,n,r){De(e,133),De(e,137,YL(n,r)),De(e,138),De(e,134)}function rB(e,n){n["!protect"]&&De(e,535,HL(n["!protect"]))}function aB(e,n,r,t){var i=na(),a=r.SheetNames[e],o=r.Sheets[a]||{},s=a;try{r&&r.Workbook&&(s=r.Workbook.Sheets[e].CodeName||s)}catch{}var m=Cn(o["!ref"]||"A1");if(m.e.c>16383||m.e.r>1048575){if(n.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],De(i,129),(r.vbaraw||o["!outline"])&&De(i,147,ZN(s,o["!outline"])),De(i,148,XN(m)),iB(i,o,r.Workbook),ZL(i,o,e,n,r),KL(i,o,e,n,r),rB(i,o),nB(i,o,r,e),QL(i,o),eB(i,o,t),o["!margins"]&&De(i,476,zL(o["!margins"])),(!n||n.ignoreEC||n.ignoreEC==null)&&JL(i,o),tB(i,o,e,t),De(i,130),i.end()}function oB(e){var n=[],r=e.match(/^<c:numCache>/),t;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var o=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(n[+o[1]]=r?+o[2]:o[2])});var i=bn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){t=a.replace(/<.*?>/g,"")}),[n,i,t]}function sB(e,n,r,t,i,a){var o=a||{"!type":"chart"};if(!e)return a;var s=0,m=0,u="A",f={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(g){var x=oB(g);f.s.r=f.s.c=0,f.e.c=s,u=_i(s),x[0].forEach(function(C,y){o[u+Ri(y)]={t:"n",v:C,z:x[1]},m=y}),f.e.r<m&&(f.e.r=m),++s}),s>0&&(o["!ref"]=Wt(f)),o}function cB(e,n,r,t,i){if(!e)return e;t||(t={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},o,s=e.match(tM);return s&&S_(s[0],a,i,r),(o=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=o[1]),t["!id"][a["!rel"]]&&(a["!drawel"]=t["!id"][a["!rel"]]),a}function lB(e,n){e.l+=10;var r=Rr(e,n-10);return{name:r}}function dB(e,n,r,t,i){if(!e)return e;t||(t={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},o=[],s=!1;return $o(e,function(u,f,g){switch(g){case 550:a["!rel"]=u;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),u.name&&(i.Sheets[r].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:o.push(g);break;case 38:o.pop();break;default:if(f.T>0)o.push(g);else if(f.T<0)o.pop();else if(!s||n.WTF)throw new Error("Unexpected record 0x"+g.toString(16))}},n),t["!id"][a["!rel"]]&&(a["!drawel"]=t["!id"][a["!rel"]]),a}var P_=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],mB=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],uB=[],pB=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function d2(e,n){for(var r=0;r!=e.length;++r)for(var t=e[r],i=0;i!=n.length;++i){var a=n[i];if(t[a[0]]==null)t[a[0]]=a[1];else switch(a[2]){case"bool":typeof t[a[0]]=="string"&&(t[a[0]]=ni(t[a[0]]));break;case"int":typeof t[a[0]]=="string"&&(t[a[0]]=parseInt(t[a[0]],10));break}}}function m2(e,n){for(var r=0;r!=n.length;++r){var t=n[r];if(e[t[0]]==null)e[t[0]]=t[1];else switch(t[2]){case"bool":typeof e[t[0]]=="string"&&(e[t[0]]=ni(e[t[0]]));break;case"int":typeof e[t[0]]=="string"&&(e[t[0]]=parseInt(e[t[0]],10));break}}}function aM(e){m2(e.WBProps,P_),m2(e.CalcPr,pB),d2(e.WBView,mB),d2(e.Sheets,uB),Yl.date1904=ni(e.WBProps.date1904)}function fB(e){return!e.Workbook||!e.Workbook.WBProps?"false":ni(e.Workbook.WBProps.date1904)?"true":"false"}var hB="][*?/\\".split("");function oM(e,n){if(e.length>31){if(n)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return hB.forEach(function(t){if(e.indexOf(t)!=-1){if(!n)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}function gB(e,n,r){e.forEach(function(t,i){oM(t);for(var a=0;a<i;++a)if(t==e[a])throw new Error("Duplicate Sheet Name: "+t);if(r){var o=n&&n[i]&&n[i].CodeName||t;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function _B(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var n=e.Workbook&&e.Workbook.Sheets||[];gB(e.SheetNames,n,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)fN(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var xB=/<\w+:workbook/;function vB(e,n){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},t=!1,i="xmlns",a={},o=0;if(e.replace(Lr,function(m,u){var f=Tt(m);switch(bo(f[0])){case"<?xml":break;case"<workbook":m.match(xB)&&(i="xmlns"+m.match(/<(\w+):/)[1]),r.xmlns=f[i];break;case"</workbook>":break;case"<fileVersion":delete f[0],r.AppVersion=f;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":P_.forEach(function(g){if(f[g[0]]!=null)switch(g[2]){case"bool":r.WBProps[g[0]]=ni(f[g[0]]);break;case"int":r.WBProps[g[0]]=parseInt(f[g[0]],10);break;default:r.WBProps[g[0]]=f[g[0]]}}),f.codeName&&(r.WBProps.CodeName=Yn(f.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete f[0],r.WBView.push(f);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(f.state){case"hidden":f.Hidden=1;break;case"veryHidden":f.Hidden=2;break;default:f.Hidden=0}delete f.state,f.name=bn(Yn(f.name)),delete f[0],r.Sheets.push(f);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":t=!0;break;case"</definedNames>":t=!1;break;case"<definedName":a={},a.Name=Yn(f.name),f.comment&&(a.Comment=f.comment),f.localSheetId&&(a.Sheet=+f.localSheetId),ni(f.hidden||"0")&&(a.Hidden=!0),o=u+m.length;break;case"</definedName>":a.Ref=bn(Yn(e.slice(o,u))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete f[0],r.CalcPr=f;break;case"<calcPr/>":delete f[0],r.CalcPr=f;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":t=!0;break;case"</ext>":t=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":t=!0;break;case"</AlternateContent>":t=!1;break;case"<revisionPtr":break;default:if(!t&&n.WTF)throw new Error("unrecognized "+f[0]+" in workbook")}return m}),pc.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return aM(r),r}function sM(e){var n=[Ni];n[n.length]=We("workbook",null,{xmlns:pc[0],"xmlns:r":er.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,t={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(P_.forEach(function(s){e.Workbook.WBProps[s[0]]!=null&&e.Workbook.WBProps[s[0]]!=s[1]&&(t[s[0]]=e.Workbook.WBProps[s[0]])}),e.Workbook.WBProps.CodeName&&(t.codeName=e.Workbook.WBProps.CodeName,delete t.CodeName)),n[n.length]=We("workbookPr",null,t);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(n[n.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==e.SheetNames.length&&(a=0),n[n.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',n[n.length]="</bookViews>"}for(n[n.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var o={name:Vn(e.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}n[n.length]=We("sheet",null,o)}return n[n.length]="</sheets>",r&&(n[n.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(s){var m={name:s.Name};s.Comment&&(m.comment=s.Comment),s.Sheet!=null&&(m.localSheetId=""+s.Sheet),s.Hidden&&(m.hidden="1"),s.Ref&&(n[n.length]=We("definedName",Vn(s.Ref),m))}),n[n.length]="</definedNames>"),n.length>2&&(n[n.length]="</workbook>",n[1]=n[1].replace("/>",">")),n.join("")}function bB(e,n){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Ig(e,n-8),r.name=Rr(e),r}function CB(e,n){return n||(n=Ce(127)),n.write_shift(4,e.Hidden),n.write_shift(4,e.iTabID),m_(e.strRelID,n),pr(e.name.slice(0,31),n),n.length>n.l?n.slice(0,n.l):n}function yB(e,n){var r={},t=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=n>8?Rr(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(t&65536),r.backupFile=!!(t&64),r.checkCompatibility=!!(t&4096),r.date1904=!!(t&1),r.filterPrivacy=!!(t&8),r.hidePivotFieldList=!!(t&1024),r.promptedSolutions=!!(t&16),r.publishItems=!!(t&2048),r.refreshAllConnections=!!(t&262144),r.saveExternalLinkValues=!!(t&128),r.showBorderUnselectedTables=!!(t&4),r.showInkAnnotation=!!(t&32),r.showObjects=["all","placeholders","none"][t>>13&3],r.showPivotChartFilter=!!(t&32768),r.updateLinks=["userSet","never","always"][t>>8&3],r}function wB(e,n){n||(n=Ce(72));var r=0;return e&&e.filterPrivacy&&(r|=8),n.write_shift(4,r),n.write_shift(4,0),Z2(e&&e.CodeName||"ThisWorkbook",n),n.slice(0,n.l)}function MB(e,n){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=n-8,r}function SB(e,n,r){var t=e.l+n;e.l+=4,e.l+=1;var i=e.read_shift(4),a=t6(e),o=cN(e,0,r),s=d_(e);e.l=t;var m={Name:a,Ptg:o};return i<268435455&&(m.Sheet=i),s&&(m.Comment=s),m}function PB(e,n){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},t=[],i=!1;n||(n={}),n.biff=12;var a=[],o=[[]];return o.SheetNames=[],o.XTI=[],f0[16]={n:"BrtFRTArchID$",f:MB},$o(e,function(m,u,f){switch(f){case 156:o.SheetNames.push(m.name),r.Sheets.push(m);break;case 153:r.WBProps=m;break;case 39:m.Sheet!=null&&(n.SID=m.Sheet),m.Ref=Dr(m.Ptg,null,null,o,n),delete n.SID,delete m.Ptg,a.push(m);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([f,m]):o[0]=[f,m],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(m),o.XTI=o.XTI.concat(m);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:t.push(f),i=!0;break;case 36:t.pop(),i=!1;break;case 37:t.push(f),i=!0;break;case 38:t.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||n.WTF&&t[t.length-1]!=37&&t[t.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}},n),aM(r),r.Names=a,r.supbooks=o,r}function kB(e,n){De(e,143);for(var r=0;r!=n.SheetNames.length;++r){var t=n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r]&&n.Workbook.Sheets[r].Hidden||0,i={Hidden:t,iTabID:r+1,strRelID:"rId"+(r+1),name:n.SheetNames[r]};De(e,156,CB(i))}De(e,144)}function OB(e,n){n||(n=Ce(127));for(var r=0;r!=4;++r)n.write_shift(4,0);return pr("SheetJS",n),pr(i0.version,n),pr(i0.version,n),pr("7262",n),n.length>n.l?n.slice(0,n.l):n}function TB(e,n){n||(n=Ce(29)),n.write_shift(-4,0),n.write_shift(-4,460),n.write_shift(4,28800),n.write_shift(4,17600),n.write_shift(4,500),n.write_shift(4,e),n.write_shift(4,e);var r=120;return n.write_shift(1,r),n.length>n.l?n.slice(0,n.l):n}function EB(e,n){if(!(!n.Workbook||!n.Workbook.Sheets)){for(var r=n.Workbook.Sheets,t=0,i=-1,a=-1;t<r.length;++t)!r[t]||!r[t].Hidden&&i==-1?i=t:r[t].Hidden==1&&a==-1&&(a=t);a>i||(De(e,135),De(e,158,TB(i)),De(e,136))}}function DB(e,n){var r=na();return De(r,131),De(r,128,OB()),De(r,153,wB(e.Workbook&&e.Workbook.WBProps||null)),EB(r,e,n),kB(r,e,n),De(r,132),r.end()}function IB(e,n,r){return n.slice(-4)===".bin"?PB(e,r):vB(e,r)}function AB(e,n,r,t,i,a,o,s){return n.slice(-4)===".bin"?qL(e,t,r,i,a,o,s):SN(e,t,r,i,a,o,s)}function FB(e,n,r,t,i,a,o,s){return n.slice(-4)===".bin"?dB(e,t,r,i,a,o,s):cB(e,t,r,i,a,o,s)}function RB(e,n,r,t,i,a,o,s){return n.slice(-4)===".bin"?LR(e,t,r,i,a,o,s):BR(e,t,r,i,a,o,s)}function NB(e,n,r,t,i,a,o,s){return n.slice(-4)===".bin"?RR(e,t,r,i,a,o,s):NR(e,t,r,i,a,o,s)}function LB(e,n,r,t){return n.slice(-4)===".bin"?I7(e,r,t):b7(e,r,t)}function BB(e,n,r){return zw(e,r)}function VB(e,n,r){return n.slice(-4)===".bin"?VF(e,r):NF(e,r)}function jB(e,n,r){return n.slice(-4)===".bin"?ER(e,r):CR(e,r)}function zB(e,n,r){return n.slice(-4)===".bin"?xR(e,n,r):gR(e,n,r)}function UB(e,n,r,t){return r.slice(-4)===".bin"?vR(e,n,r,t):void 0}function YB(e,n,r){return n.slice(-4)===".bin"?pR(e,n,r):hR(e,n,r)}function WB(e,n,r){return(n.slice(-4)===".bin"?DB:sM)(e,r)}function HB(e,n,r,t,i){return(n.slice(-4)===".bin"?aB:nM)(e,r,t,i)}function $B(e,n,r){return(n.slice(-4)===".bin"?U7:Vw)(e,r)}function GB(e,n,r){return(n.slice(-4)===".bin"?UF:Dw)(e,r)}function qB(e,n,r){return(n.slice(-4)===".bin"?DR:Ww)(e,r)}function XB(e){return(e.slice(-4)===".bin"?fR:Uw)()}var cM=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,lM=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function eo(e,n){var r=e.split(/\s+/),t=[];if(n||(t[0]=r[0]),r.length===1)return t;var i=e.match(cM),a,o,s,m;if(i)for(m=0;m!=i.length;++m)a=i[m].match(lM),(o=a[1].indexOf(":"))===-1?t[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(o+1),t[s]=a[2].slice(1,a[2].length-1));return t}function KB(e){var n=e.split(/\s+/),r={};if(n.length===1)return r;var t=e.match(cM),i,a,o,s;if(t)for(s=0;s!=t.length;++s)i=t[s].match(lM),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(a+1),r[o]=i[2].slice(1,i[2].length-1));return r}var t0;function QB(e,n){var r=t0[e]||bn(e);return r==="General"?oc(n):Ma(r,n)}function ZB(e,n,r,t){var i=t;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=ni(t);break;case"i2":case"int":i=parseInt(t,10);break;case"r4":case"float":i=parseFloat(t);break;case"date":case"dateTime.tz":i=ii(t);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[bn(n)]=i}function JB(e,n,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Go[e.v]:n==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=a0(e.v):e.w=oc(e.v):e.w=QB(n||"General",e.v)}catch(a){if(r.WTF)throw a}try{var t=t0[n]||n||"General";if(r.cellNF&&(e.z=t),r.cellDates&&e.t=="n"&&uc(t)){var i=Ps(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function eV(e,n,r){if(r.cellStyles&&n.Interior){var t=n.Interior;t.Pattern&&(t.patternType=u7[t.Pattern]||t.Pattern)}e[n.ID]=n}function tV(e,n,r,t,i,a,o,s,m,u){var f="General",g=t.StyleID,x={};u=u||{};var C=[],y=0;for(g===void 0&&s&&(g=s.StyleID),g===void 0&&o&&(g=o.StyleID);a[g]!==void 0&&(a[g].nf&&(f=a[g].nf),a[g].Interior&&C.push(a[g].Interior),!!a[g].Parent);)g=a[g].Parent;switch(r.Type){case"Boolean":t.t="b",t.v=ni(e);break;case"String":t.t="s",t.r=Oy(bn(e)),t.v=e.indexOf("<")>-1?bn(n||e).replace(/<.*?>/g,""):t.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),t.v=(ii(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),t.v!==t.v?t.v=bn(e):t.v<60&&(t.v=t.v-1),(!f||f=="General")&&(f="yyyy-mm-dd");case"Number":t.v===void 0&&(t.v=+e),t.t||(t.t="n");break;case"Error":t.t="e",t.v=iw[e],u.cellText!==!1&&(t.w=e);break;default:e==""&&n==""?t.t="z":(t.t="s",t.v=Oy(n||e));break}if(JB(t,f,u),u.cellFormula!==!1)if(t.Formula){var v=bn(t.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),t.f=Ul(v,i),delete t.Formula,t.ArrayRange=="RC"?t.F=Ul("RC:RC",i):t.ArrayRange&&(t.F=Ul(t.ArrayRange,i),m.push([Cn(t.F),t.F]))}else for(y=0;y<m.length;++y)i.r>=m[y][0].s.r&&i.r<=m[y][0].e.r&&i.c>=m[y][0].s.c&&i.c<=m[y][0].e.c&&(t.F=m[y][1]);u.cellStyles&&(C.forEach(function(P){!x.patternType&&P.patternType&&(x.patternType=P.patternType)}),t.s=x),t.StyleID!==void 0&&(t.ixfe=t.StyleID)}function nV(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Sg(e,n){var r=n||{};ql();var t=$d(e_(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(typeof An<"u"?t=An.utils.decode(65001,Eg(t)):t=Yn(t));var i=t.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=ri(r);return o.type="string",$l.to_workbook(t,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Lt){i.indexOf("<"+Lt)>=0&&(a=!0)}),a)return zV(t,r);t0={"General Number":"General","General Date":bt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":bt[15],"Short Date":bt[14],"Long Time":bt[19],"Medium Time":bt[18],"Short Time":bt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:bt[2],Standard:bt[4],Percent:bt[10],Scientific:bt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var s,m=[],u;ki!=null&&r.dense==null&&(r.dense=ki);var f={},g=[],x=r.dense?[]:{},C="",y={},v={},P=eo('<Data ss:Type="String">'),D=0,I=0,A=0,K={s:{r:2e6,c:2e6},e:{r:0,c:0}},J={},O={},k="",V=0,W=[],ee={},re={},ie=0,ke=[],Be=[],ye={},$e=[],Te,nt=!1,Me=[],Ae=[],ce={},X=0,te=0,Q={Sheets:[],WBProps:{date1904:!1}},Z={};c0.lastIndex=0,t=t.replace(/<!--([\s\S]*?)-->/mg,"");for(var le="";s=c0.exec(t);)switch(s[3]=(le=s[3]).toLowerCase()){case"data":if(le=="data"){if(s[1]==="/"){if((u=m.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&m.push([s[3],!0]);break}if(m[m.length-1][1])break;s[1]==="/"?tV(t.slice(D,s.index),k,P,m[m.length-1][0]=="comment"?ye:y,{c:I,r:A},J,$e[I],v,Me,r):(k="",P=eo(s[0]),D=s.index+s[0].length);break;case"cell":if(s[1]==="/")if(Be.length>0&&(y.c=Be),(!r.sheetRows||r.sheetRows>A)&&y.v!==void 0&&(r.dense?(x[A]||(x[A]=[]),x[A][I]=y):x[_i(I)+Ri(A)]=y),y.HRef&&(y.l={Target:bn(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(X=I+(parseInt(y.MergeAcross,10)|0),te=A+(parseInt(y.MergeDown,10)|0),W.push({s:{c:I,r:A},e:{c:X,r:te}})),!r.sheetStubs)y.MergeAcross?I=X+1:++I;else if(y.MergeAcross||y.MergeDown){for(var Pe=I;Pe<=X;++Pe)for(var Oe=A;Oe<=te;++Oe)(Pe>I||Oe>A)&&(r.dense?(x[Oe]||(x[Oe]=[]),x[Oe][Pe]={t:"z"}):x[_i(Pe)+Ri(Oe)]={t:"z"});I=X+1}else++I;else y=KB(s[0]),y.Index&&(I=+y.Index-1),I<K.s.c&&(K.s.c=I),I>K.e.c&&(K.e.c=I),s[0].slice(-2)==="/>"&&++I,Be=[];break;case"row":s[1]==="/"||s[0].slice(-2)==="/>"?(A<K.s.r&&(K.s.r=A),A>K.e.r&&(K.e.r=A),s[0].slice(-2)==="/>"&&(v=eo(s[0]),v.Index&&(A=+v.Index-1)),I=0,++A):(v=eo(s[0]),v.Index&&(A=+v.Index-1),ce={},(v.AutoFitHeight=="0"||v.Height)&&(ce.hpx=parseInt(v.Height,10),ce.hpt=p0(ce.hpx),Ae[A]=ce),v.Hidden=="1"&&(ce.hidden=!0,Ae[A]=ce));break;case"worksheet":if(s[1]==="/"){if((u=m.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));g.push(C),K.s.r<=K.e.r&&K.s.c<=K.e.c&&(x["!ref"]=Wt(K),r.sheetRows&&r.sheetRows<=K.e.r&&(x["!fullref"]=x["!ref"],K.e.r=r.sheetRows-1,x["!ref"]=Wt(K))),W.length&&(x["!merges"]=W),$e.length>0&&(x["!cols"]=$e),Ae.length>0&&(x["!rows"]=Ae),f[C]=x}else K={s:{r:2e6,c:2e6},e:{r:0,c:0}},A=I=0,m.push([s[3],!1]),u=eo(s[0]),C=bn(u.Name),x=r.dense?[]:{},W=[],Me=[],Ae=[],Z={name:C,Hidden:0},Q.Sheets.push(Z);break;case"table":if(s[1]==="/"){if((u=m.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else{if(s[0].slice(-2)=="/>")break;m.push([s[3],!1]),$e=[],nt=!1}break;case"style":s[1]==="/"?eV(J,O,r):O=eo(s[0]);break;case"numberformat":O.nf=bn(eo(s[0]).Format||"General"),t0[O.nf]&&(O.nf=t0[O.nf]);for(var we=0;we!=392&&bt[we]!=O.nf;++we);if(we==392){for(we=57;we!=392;++we)if(bt[we]==null){vo(O.nf,we);break}}break;case"column":if(m[m.length-1][0]!=="table")break;if(Te=eo(s[0]),Te.Hidden&&(Te.hidden=!0,delete Te.Hidden),Te.Width&&(Te.wpx=parseInt(Te.Width,10)),!nt&&Te.wpx>10){nt=!0,Ir=Lw;for(var xe=0;xe<$e.length;++xe)$e[xe]&&Ts($e[xe])}nt&&Ts(Te),$e[Te.Index-1||$e.length]=Te;for(var ot=0;ot<+Te.Span;++ot)$e[$e.length]=ri(Te);break;case"namedrange":if(s[1]==="/")break;Q.Names||(Q.Names=[]);var H=Tt(s[0]),ct={Name:H.Name,Ref:Ul(H.RefersTo.slice(1),{r:0,c:0})};Q.Sheets.length>0&&(ct.Sheet=Q.Sheets.length-1),Q.Names.push(ct);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(s[0].slice(-2)==="/>")break;s[1]==="/"?k+=t.slice(V,s.index):V=s.index+s[0].length;break;case"interior":if(!r.cellStyles)break;O.Interior=eo(s[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(s[0].slice(-2)==="/>")break;s[1]==="/"?P6(ee,le,t.slice(ie,s.index)):ie=s.index+s[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(s[1]==="/"){if((u=m.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else m.push([s[3],!1]);break;case"comment":if(s[1]==="/"){if((u=m.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"));nV(ye),Be.push(ye)}else m.push([s[3],!1]),u=eo(s[0]),ye={a:u.Author};break;case"autofilter":if(s[1]==="/"){if((u=m.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else if(s[0].charAt(s[0].length-2)!=="/"){var Ke=eo(s[0]);x["!autofilter"]={ref:Ul(Ke.Range).replace(/\$/g,"")},m.push([s[3],!0])}break;case"name":break;case"datavalidation":if(s[1]==="/"){if((u=m.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&m.push([s[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(s[1]==="/"){if((u=m.pop())[0]!==s[3])throw new Error("Bad state: "+u.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&m.push([s[3],!0]);break;case"null":break;default:if(m.length==0&&s[3]=="document"||m.length==0&&s[3]=="uof")return g2(t,r);var St=!0;switch(m[m.length-1][0]){case"officedocumentsettings":switch(s[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:St=!1}break;case"componentoptions":switch(s[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:St=!1}break;case"excelworkbook":switch(s[3]){case"date1904":Q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:St=!1}break;case"workbookoptions":switch(s[3]){case"owcversion":break;case"height":break;case"width":break;default:St=!1}break;case"worksheetoptions":switch(s[3]){case"visible":if(s[0].slice(-2)!=="/>")if(s[1]==="/")switch(t.slice(ie,s.index)){case"SheetHidden":Z.Hidden=1;break;case"SheetVeryHidden":Z.Hidden=2;break}else ie=s.index+s[0].length;break;case"header":x["!margins"]||ac(x["!margins"]={},"xlml"),isNaN(+Tt(s[0]).Margin)||(x["!margins"].header=+Tt(s[0]).Margin);break;case"footer":x["!margins"]||ac(x["!margins"]={},"xlml"),isNaN(+Tt(s[0]).Margin)||(x["!margins"].footer=+Tt(s[0]).Margin);break;case"pagemargins":var Je=Tt(s[0]);x["!margins"]||ac(x["!margins"]={},"xlml"),isNaN(+Je.Top)||(x["!margins"].top=+Je.Top),isNaN(+Je.Left)||(x["!margins"].left=+Je.Left),isNaN(+Je.Right)||(x["!margins"].right=+Je.Right),isNaN(+Je.Bottom)||(x["!margins"].bottom=+Je.Bottom);break;case"displayrighttoleft":Q.Views||(Q.Views=[]),Q.Views[0]||(Q.Views[0]={}),Q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:St=!1}break;case"pivottable":case"pivotcache":switch(s[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:St=!1}break;case"pagebreaks":switch(s[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:St=!1}break;case"autofilter":switch(s[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:St=!1}break;case"querytable":switch(s[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:St=!1}break;case"datavalidation":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:St=!1}break;case"sorting":case"conditionalformatting":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:St=!1}break;case"mapinfo":case"schema":case"data":switch(s[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:St=!1}break;case"smarttags":break;default:St=!1;break}if(St||s[3].match(/!\[CDATA/))break;if(!m[m.length-1][1])throw"Unrecognized tag: "+s[3]+"|"+m.join("|");if(m[m.length-1][0]==="customdocumentproperties"){if(s[0].slice(-2)==="/>")break;s[1]==="/"?ZB(re,le,ke,t.slice(ie,s.index)):(ke=s,ie=s.index+s[0].length);break}if(r.WTF)throw"Unrecognized tag: "+s[3]+"|"+m.join("|")}var Re={};return!r.bookSheets&&!r.bookProps&&(Re.Sheets=f),Re.SheetNames=g,Re.Workbook=Q,Re.SSF=ri(bt),Re.Props=ee,Re.Custprops=re,Re}function Vg(e,n){switch(O_(n=n||{}),n.type||"base64"){case"base64":return Sg(wa(e),n);case"binary":case"buffer":case"file":return Sg(e,n);case"array":return Sg(Is(e),n)}}function iV(e,n){var r=[];return e.Props&&r.push(k6(e.Props,n)),e.Custprops&&r.push(O6(e.Props,e.Custprops,n)),r.join("")}function rV(){return""}function aV(e,n){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return n.cellXfs.forEach(function(t,i){var a=[];a.push(We("NumberFormat",null,{"ss:Format":Vn(bt[t.numFmtId])}));var o={"ss:ID":"s"+(21+i)};r.push(We("Style",a.join(""),o))}),We("Styles",r.join(""))}function dM(e){return We("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+y_(e.Ref,{r:0,c:0})})}function oV(e){if(!((e||{}).Workbook||{}).Names)return"";for(var n=e.Workbook.Names,r=[],t=0;t<n.length;++t){var i=n[t];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(dM(i)))}return We("Names",r.join(""))}function sV(e,n,r,t){if(!e||!((t||{}).Workbook||{}).Names)return"";for(var i=t.Workbook.Names,a=[],o=0;o<i.length;++o){var s=i[o];s.Sheet==r&&(s.Name.match(/^_xlfn\./)||a.push(dM(s)))}return a.join("")}function cV(e,n,r,t){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(We("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(We("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(We("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),t&&t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r])if(t.Workbook.Sheets[r].Hidden)i.push(We("Visible",t.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(t.Workbook.Sheets[a]&&!t.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((t||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(br("ProtectContents","True")),e["!protect"].objects&&i.push(br("ProtectObjects","True")),e["!protect"].scenarios&&i.push(br("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(br("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(br("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":We("WorksheetOptions",i.join(""),{xmlns:ba.x})}function lV(e){return e.map(function(n){var r=TA(n.t||""),t=We("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return We("Comment",t,{"ss:Author":n.a})}).join("")}function dV(e,n,r,t,i,a,o){if(!e||e.v==null&&e.f==null)return"";var s={};if(e.f&&(s["ss:Formula"]="="+Vn(y_(e.f,o))),e.F&&e.F.slice(0,n.length)==n){var m=xi(e.F.slice(n.length+1));s["ss:ArrayRange"]="RC:R"+(m.r==o.r?"":"["+(m.r-o.r)+"]")+"C"+(m.c==o.c?"":"["+(m.c-o.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=Vn(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=Vn(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],f=0;f!=u.length;++f)u[f].s.c!=o.c||u[f].s.r!=o.r||(u[f].e.c>u[f].s.c&&(s["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(s["ss:MergeDown"]=u[f].e.r-u[f].s.r));var g="",x="";switch(e.t){case"z":if(!t.sheetStubs)return"";break;case"n":g="Number",x=String(e.v);break;case"b":g="Boolean",x=e.v?"1":"0";break;case"e":g="Error",x=Go[e.v];break;case"d":g="DateTime",x=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||bt[14]);break;case"s":g="String",x=OA(e.v||"");break}var C=Fs(t.cellXfs,e,t);s["ss:StyleID"]="s"+(21+C),s["ss:Index"]=o.c+1;var y=e.v!=null?x:"",v=e.t=="z"?"":'<Data ss:Type="'+g+'">'+y+"</Data>";return(e.c||[]).length>0&&(v+=lV(e.c)),We("Cell",v,s)}function mV(e,n){var r='<Row ss:Index="'+(e+1)+'"';return n&&(n.hpt&&!n.hpx&&(n.hpx=Gl(n.hpt)),n.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+n.hpx+'"'),n.hidden&&(r+=' ss:Hidden="1"')),r+">"}function uV(e,n,r,t){if(!e["!ref"])return"";var i=Cn(e["!ref"]),a=e["!merges"]||[],o=0,s=[];e["!cols"]&&e["!cols"].forEach(function(P,D){Ts(P);var I=!!P.width,A=Hp(D,P),K={"ss:Index":D+1};I&&(K["ss:Width"]=m0(A.width)),P.hidden&&(K["ss:Hidden"]="1"),s.push(We("Column",null,K))});for(var m=Array.isArray(e),u=i.s.r;u<=i.e.r;++u){for(var f=[mV(u,(e["!rows"]||[])[u])],g=i.s.c;g<=i.e.c;++g){var x=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>g)&&!(a[o].s.r>u)&&!(a[o].e.c<g)&&!(a[o].e.r<u)){(a[o].s.c!=g||a[o].s.r!=u)&&(x=!0);break}if(!x){var C={r:u,c:g},y=Mt(C),v=m?(e[u]||[])[g]:e[y];f.push(dV(v,y,e,n,r,t,C))}}f.push("</Row>"),f.length>2&&s.push(f.join(""))}return s.join("")}function pV(e,n,r){var t=[],i=r.SheetNames[e],a=r.Sheets[i],o=a?sV(a,n,e,r):"";return o.length>0&&t.push("<Names>"+o+"</Names>"),o=a?uV(a,n,e,r):"",o.length>0&&t.push("<Table>"+o+"</Table>"),t.push(cV(a,n,e,r)),t.join("")}function fV(e,n){n||(n={}),e.SSF||(e.SSF=ri(bt)),e.SSF&&(ql(),_0(e.SSF),n.revssf=Vp(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF,n.cellXfs=[],Fs(n.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(iV(e,n)),r.push(rV(e,n)),r.push(""),r.push("");for(var t=0;t<e.SheetNames.length;++t)r.push(We("Worksheet",pV(t,n,e),{"ss:Name":Vn(e.SheetNames[t])}));return r[2]=aV(e,n),r[3]=oV(e,n),Ni+We("Workbook",r.join(""),{xmlns:ba.ss,"xmlns:o":ba.o,"xmlns:x":ba.x,"xmlns:ss":ba.ss,"xmlns:dt":ba.dt,"xmlns:html":ba.html})}function hV(e){var n={},r=e.content;if(r.l=28,n.AnsiUserType=r.read_shift(0,"lpstr-ansi"),n.AnsiClipboardFormat=o6(r),r.length-r.l<=4)return n;var t=r.read_shift(4);if(t==0||t>40||(r.l-=4,n.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(t=r.read_shift(4),t!==1907505652)||(n.UnicodeClipboardFormat=s6(r),t=r.read_shift(4),t==0||t>40))return n;r.l-=4,n.Reserved2=r.read_shift(0,"lpwstr")}var gV=[60,1084,2066,2165,2175];function _V(e,n,r,t,i){var a=t,o=[],s=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&s.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(s)}o.push(s),r.l+=a;for(var m=zo(r,r.l),u=jg[m],f=0;u!=null&&gV.indexOf(m)>-1;)a=zo(r,r.l+2),f=r.l+4,m==2066?f+=4:(m==2165||m==2175)&&(f+=12),s=r.slice(f,r.l+4+a),o.push(s),r.l+=4+a,u=jg[m=zo(r,r.l)];var g=ur(o);vr(g,0);var x=0;g.lens=[];for(var C=0;C<o.length;++C)g.lens.push(x),x+=o[C].length;if(g.length<t)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+g.length+" < "+t;return n.f(g,g.length,i)}function fo(e,n,r){if(e.t!=="z"&&e.XF){var t=0;try{t=e.z||e.XF.numFmtId||0,n.cellNF&&(e.z=bt[t])}catch(a){if(n.WTF)throw a}if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||Go[e.v]:t===0||t=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=a0(e.v):e.w=oc(e.v):e.w=Ma(t,e.v,{date1904:!!r,dateNF:n&&n.dateNF})}catch(a){if(n.WTF)throw a}if(n.cellDates&&t&&e.t=="n"&&uc(bt[t]||String(t))){var i=Ps(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function yp(e,n,r){return{v:e,ixfe:n,t:r}}function xV(e,n){var r={opts:{}},t={};ki!=null&&n.dense==null&&(n.dense=ki);var i=n.dense?[]:{},a={},o={},s=null,m=[],u="",f={},g,x="",C,y,v,P,D={},I=[],A,K,J=[],O=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},V={},W=function(xt){return xt<8?nc[xt]:xt<64&&O[xt-8]||nc[xt]},ee=function(xt,wn,$i){var oi=wn.XF.data;if(!(!oi||!oi.patternType||!$i||!$i.cellStyles)){wn.s={},wn.s.patternType=oi.patternType;var $r;($r=d0(W(oi.icvFore)))&&(wn.s.fgColor={rgb:$r}),($r=d0(W(oi.icvBack)))&&(wn.s.bgColor={rgb:$r})}},re=function(xt,wn,$i){if(!(ce>1)&&!($i.sheetRows&&xt.r>=$i.sheetRows)){if($i.cellStyles&&wn.XF&&wn.XF.data&&ee(xt,wn,$i),delete wn.ixfe,delete wn.XF,g=xt,x=Mt(xt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),xt.r<o.s.r&&(o.s.r=xt.r),xt.c<o.s.c&&(o.s.c=xt.c),xt.r+1>o.e.r&&(o.e.r=xt.r+1),xt.c+1>o.e.c&&(o.e.c=xt.c+1),$i.cellFormula&&wn.f){for(var oi=0;oi<I.length;++oi)if(!(I[oi][0].s.c>xt.c||I[oi][0].s.r>xt.r)&&!(I[oi][0].e.c<xt.c||I[oi][0].e.r<xt.r)){wn.F=Wt(I[oi][0]),(I[oi][0].s.c!=xt.c||I[oi][0].s.r!=xt.r)&&delete wn.f,wn.f&&(wn.f=""+Dr(I[oi][1],o,xt,Me,ie));break}}$i.dense?(i[xt.r]||(i[xt.r]=[]),i[xt.r][xt.c]=wn):i[x]=wn}},ie={enc:!1,sbcch:0,snames:[],sharedf:D,arrayf:I,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!n&&!!n.cellStyles,WTF:!!n&&!!n.wtf};n.password&&(ie.password=n.password);var ke,Be=[],ye=[],$e=[],Te=[],nt=!1,Me=[];Me.SheetNames=ie.snames,Me.sharedf=ie.sharedf,Me.arrayf=ie.arrayf,Me.names=[],Me.XTI=[];var Ae=0,ce=0,X=0,te=[],Q=[],Z;ie.codepage=1200,to(1200);for(var le=!1;e.l<e.length-1;){var Pe=e.l,Oe=e.read_shift(2);if(Oe===0&&Ae===10)break;var we=e.l===e.length?0:e.read_shift(2),xe=jg[Oe];if(xe&&xe.f){if(n.bookSheets&&Ae===133&&Oe!==133)break;if(Ae=Oe,xe.r===2||xe.r==12){var ot=e.read_shift(2);if(we-=2,!ie.enc&&ot!==Oe&&((ot&255)<<8|ot>>8)!==Oe)throw new Error("rt mismatch: "+ot+"!="+Oe);xe.r==12&&(e.l+=10,we-=10)}var H={};if(Oe===10?H=xe.f(e,we,ie):H=_V(Oe,xe,e,we,ie),ce==0&&[9,521,1033,2057].indexOf(Ae)===-1)continue;switch(Oe){case 34:r.opts.Date1904=k.WBProps.date1904=H;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(ie.enc||(e.l=0),ie.enc=H,!n.password)throw new Error("File is password-protected");if(H.valid==null)throw new Error("Encryption scheme unsupported");if(!H.valid)throw new Error("Password is incorrect");break;case 92:ie.lastuser=H;break;case 66:var ct=Number(H);switch(ct){case 21010:ct=1200;break;case 32768:ct=1e4;break;case 32769:ct=1252;break}to(ie.codepage=ct),le=!0;break;case 317:ie.rrtabid=H;break;case 25:ie.winlocked=H;break;case 439:r.opts.RefreshAll=H;break;case 12:r.opts.CalcCount=H;break;case 16:r.opts.CalcDelta=H;break;case 17:r.opts.CalcIter=H;break;case 13:r.opts.CalcMode=H;break;case 14:r.opts.CalcPrecision=H;break;case 95:r.opts.CalcSaveRecalc=H;break;case 15:ie.CalcRefMode=H;break;case 2211:r.opts.FullCalc=H;break;case 129:H.fDialog&&(i["!type"]="dialog"),H.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),H.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:J.push(H);break;case 430:Me.push([H]),Me[Me.length-1].XTI=[];break;case 35:case 547:Me[Me.length-1].push(H);break;case 24:case 536:Z={Name:H.Name,Ref:Dr(H.rgce,o,null,Me,ie)},H.itab>0&&(Z.Sheet=H.itab-1),Me.names.push(Z),Me[0]||(Me[0]=[],Me[0].XTI=[]),Me[Me.length-1].push(H),H.Name=="_xlnm._FilterDatabase"&&H.itab>0&&H.rgce&&H.rgce[0]&&H.rgce[0][0]&&H.rgce[0][0][0]=="PtgArea3d"&&(Q[H.itab-1]={ref:Wt(H.rgce[0][0][1][2])});break;case 22:ie.ExternCount=H;break;case 23:Me.length==0&&(Me[0]=[],Me[0].XTI=[]),Me[Me.length-1].XTI=Me[Me.length-1].XTI.concat(H),Me.XTI=Me.XTI.concat(H);break;case 2196:if(ie.biff<8)break;Z!=null&&(Z.Comment=H[1]);break;case 18:i["!protect"]=H;break;case 19:H!==0&&ie.WTF&&console.error("Password verifier: "+H);break;case 133:a[H.pos]=H,ie.snames.push(H.name);break;case 10:{if(--ce)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=Wt(o),n.sheetRows&&n.sheetRows<=o.e.r){var Ke=o.e.r;o.e.r=n.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Wt(o),o.e.r=Ke}o.e.r++,o.e.c++}Be.length>0&&(i["!merges"]=Be),ye.length>0&&(i["!objects"]=ye),$e.length>0&&(i["!cols"]=$e),Te.length>0&&(i["!rows"]=Te),k.Sheets.push(V)}u===""?f=i:t[u]=i,i=n.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(ie.biff===8&&(ie.biff={9:2,521:3,1033:4}[Oe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[H.BIFFVer]||8),ie.biffguess=H.BIFFVer==0,H.BIFFVer==0&&H.dt==4096&&(ie.biff=5,le=!0,to(ie.codepage=28591)),ie.biff==8&&H.BIFFVer==0&&H.dt==16&&(ie.biff=2),ce++)break;if(i=n.dense?[]:{},ie.biff<8&&!le&&(le=!0,to(ie.codepage=n.codepage||1252)),ie.biff<5||H.BIFFVer==0&&H.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var St={pos:e.l-we,name:u};a[St.pos]=St,ie.snames.push(u)}else u=(a[Pe]||{name:""}).name;H.dt==32&&(i["!type"]="chart"),H.dt==64&&(i["!type"]="macro"),Be=[],ye=[],ie.arrayf=I=[],$e=[],Te=[],nt=!1,V={Hidden:(a[Pe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(n.dense?(i[H.r]||[])[H.c]:i[Mt({c:H.c,r:H.r})])&&++H.c,A={ixfe:H.ixfe,XF:J[H.ixfe]||{},v:H.val,t:"n"},X>0&&(A.z=te[A.ixfe>>8&63]),fo(A,n,r.opts.Date1904),re({c:H.c,r:H.r},A,n);break;case 5:case 517:A={ixfe:H.ixfe,XF:J[H.ixfe],v:H.val,t:H.t},X>0&&(A.z=te[A.ixfe>>8&63]),fo(A,n,r.opts.Date1904),re({c:H.c,r:H.r},A,n);break;case 638:A={ixfe:H.ixfe,XF:J[H.ixfe],v:H.rknum,t:"n"},X>0&&(A.z=te[A.ixfe>>8&63]),fo(A,n,r.opts.Date1904),re({c:H.c,r:H.r},A,n);break;case 189:for(var Je=H.c;Je<=H.C;++Je){var Re=H.rkrec[Je-H.c][0];A={ixfe:Re,XF:J[Re],v:H.rkrec[Je-H.c][1],t:"n"},X>0&&(A.z=te[A.ixfe>>8&63]),fo(A,n,r.opts.Date1904),re({c:Je,r:H.r},A,n)}break;case 6:case 518:case 1030:{if(H.val=="String"){s=H;break}if(A=yp(H.val,H.cell.ixfe,H.tt),A.XF=J[A.ixfe],n.cellFormula){var Lt=H.formula;if(Lt&&Lt[0]&&Lt[0][0]&&Lt[0][0][0]=="PtgExp"){var yn=Lt[0][0][1][0],Qn=Lt[0][0][1][1],fr=Mt({r:yn,c:Qn});D[fr]?A.f=""+Dr(H.formula,o,H.cell,Me,ie):A.F=((n.dense?(i[yn]||[])[Qn]:i[fr])||{}).F}else A.f=""+Dr(H.formula,o,H.cell,Me,ie)}X>0&&(A.z=te[A.ixfe>>8&63]),fo(A,n,r.opts.Date1904),re(H.cell,A,n),s=H}break;case 7:case 519:if(s)s.val=H,A=yp(H,s.cell.ixfe,"s"),A.XF=J[A.ixfe],n.cellFormula&&(A.f=""+Dr(s.formula,o,s.cell,Me,ie)),X>0&&(A.z=te[A.ixfe>>8&63]),fo(A,n,r.opts.Date1904),re(s.cell,A,n),s=null;else throw new Error("String record expects Formula");break;case 33:case 545:{I.push(H);var ai=Mt(H[0].s);if(C=n.dense?(i[H[0].s.r]||[])[H[0].s.c]:i[ai],n.cellFormula&&C){if(!s||!ai||!C)break;C.f=""+Dr(H[1],o,H[0],Me,ie),C.F=Wt(H[0])}}break;case 1212:{if(!n.cellFormula)break;if(x){if(!s)break;D[Mt(s.cell)]=H[0],C=n.dense?(i[s.cell.r]||[])[s.cell.c]:i[Mt(s.cell)],(C||{}).f=""+Dr(H[0],o,g,Me,ie)}}break;case 253:A=yp(m[H.isst].t,H.ixfe,"s"),m[H.isst].h&&(A.h=m[H.isst].h),A.XF=J[A.ixfe],X>0&&(A.z=te[A.ixfe>>8&63]),fo(A,n,r.opts.Date1904),re({c:H.c,r:H.r},A,n);break;case 513:n.sheetStubs&&(A={ixfe:H.ixfe,XF:J[H.ixfe],t:"z"},X>0&&(A.z=te[A.ixfe>>8&63]),fo(A,n,r.opts.Date1904),re({c:H.c,r:H.r},A,n));break;case 190:if(n.sheetStubs)for(var vi=H.c;vi<=H.C;++vi){var Dt=H.ixfe[vi-H.c];A={ixfe:Dt,XF:J[Dt],t:"z"},X>0&&(A.z=te[A.ixfe>>8&63]),fo(A,n,r.opts.Date1904),re({c:vi,r:H.r},A,n)}break;case 214:case 516:case 4:A=yp(H.val,H.ixfe,"s"),A.XF=J[A.ixfe],X>0&&(A.z=te[A.ixfe>>8&63]),fo(A,n,r.opts.Date1904),re({c:H.c,r:H.r},A,n);break;case 0:case 512:ce===1&&(o=H);break;case 252:m=H;break;case 1054:if(ie.biff==4){te[X++]=H[1];for(var Wn=0;Wn<X+163&&bt[Wn]!=H[1];++Wn);Wn>=163&&vo(H[1],X+163)}else vo(H[1],H[0]);break;case 30:{te[X++]=H;for(var bi=0;bi<X+163&&bt[bi]!=H;++bi);bi>=163&&vo(H,X+163)}break;case 229:Be=Be.concat(H);break;case 93:ye[H.cmo[0]]=ie.lastobj=H;break;case 438:ie.lastobj.TxO=H;break;case 127:ie.lastobj.ImData=H;break;case 440:for(P=H[0].s.r;P<=H[0].e.r;++P)for(v=H[0].s.c;v<=H[0].e.c;++v)C=n.dense?(i[P]||[])[v]:i[Mt({c:v,r:P})],C&&(C.l=H[1]);break;case 2048:for(P=H[0].s.r;P<=H[0].e.r;++P)for(v=H[0].s.c;v<=H[0].e.c;++v)C=n.dense?(i[P]||[])[v]:i[Mt({c:v,r:P})],C&&C.l&&(C.l.Tooltip=H[1]);break;case 28:{if(ie.biff<=5&&ie.biff>=2)break;C=n.dense?(i[H[0].r]||[])[H[0].c]:i[Mt(H[0])];var Hr=ye[H[2]];C||(n.dense?(i[H[0].r]||(i[H[0].r]=[]),C=i[H[0].r][H[0].c]={t:"z"}):C=i[Mt(H[0])]={t:"z"},o.e.r=Math.max(o.e.r,H[0].r),o.s.r=Math.min(o.s.r,H[0].r),o.e.c=Math.max(o.e.c,H[0].c),o.s.c=Math.min(o.s.c,H[0].c)),C.c||(C.c=[]),y={a:H[1],t:Hr.TxO.t},C.c.push(y)}break;case 2173:aR(J[H.ixfe],H.ext);break;case 125:{if(!ie.cellStyles)break;for(;H.e>=H.s;)$e[H.e--]={width:H.w/256,level:H.level||0,hidden:!!(H.flags&1)},nt||(nt=!0,v_(H.w/256)),Ts($e[H.e+1])}break;case 520:{var Bt={};H.level!=null&&(Te[H.r]=Bt,Bt.level=H.level),H.hidden&&(Te[H.r]=Bt,Bt.hidden=!0),H.hpt&&(Te[H.r]=Bt,Bt.hpt=H.hpt,Bt.hpx=Gl(H.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||ac(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Oe]]=H;break;case 161:i["!margins"]||ac(i["!margins"]={}),i["!margins"].header=H.header,i["!margins"].footer=H.footer;break;case 574:H.RTL&&(k.Views[0].RTL=!0);break;case 146:O=H;break;case 2198:ke=H;break;case 140:K=H;break;case 442:u?V.CodeName=H||V.name:k.WBProps.CodeName=H||"ThisWorkbook";break}}else xe||console.error("Missing Info for XLS Record 0x"+Oe.toString(16)),e.l+=we}return r.SheetNames=Oi(a).sort(function(Li,xt){return Number(Li)-Number(xt)}).map(function(Li){return a[Li].name}),n.bookSheets||(r.Sheets=t),!r.SheetNames.length&&f["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=f)):r.Preamble=f,r.Sheets&&Q.forEach(function(Li,xt){r.Sheets[r.SheetNames[xt]]["!autofilter"]=Li}),r.Strings=m,r.SSF=ri(bt),ie.enc&&(r.Encryption=ie.enc),ke&&(r.Themes=ke),r.Metadata={},K!==void 0&&(r.Metadata.Country=K),Me.names.length>0&&(k.Names=Me.names),r.Workbook=k,r}var n0={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function vV(e,n,r){var t=gt.find(e,"/!DocumentSummaryInformation");if(t&&t.size>0)try{var i=$y(t,Ag,n0.DSI);for(var a in i)n[a]=i[a]}catch(u){if(r.WTF)throw u}var o=gt.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var s=$y(o,Fg,n0.SI);for(var m in s)n[m]==null&&(n[m]=s[m])}catch(u){if(r.WTF)throw u}n.HeadingPairs&&n.TitlesOfParts&&(lw(n.HeadingPairs,n.TitlesOfParts,n,r),delete n.HeadingPairs,delete n.TitlesOfParts)}function bV(e,n){var r=[],t=[],i=[],a=0,o,s=yy(Ag,"n"),m=yy(Fg,"n");if(e.Props)for(o=Oi(e.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(s,o[a])?r:Object.prototype.hasOwnProperty.call(m,o[a])?t:i).push([o[a],e.Props[o[a]]]);if(e.Custprops)for(o=Oi(e.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(s,o[a])?r:Object.prototype.hasOwnProperty.call(m,o[a])?t:i).push([o[a],e.Custprops[o[a]]]);var u=[];for(a=0;a<i.length;++a)gw.indexOf(i[a][0])>-1||cw.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);t.length&&gt.utils.cfb_add(n,"/SummaryInformation",Gy(t,n0.SI,m,Fg)),(r.length||u.length)&&gt.utils.cfb_add(n,"/DocumentSummaryInformation",Gy(r,n0.DSI,s,Ag,u.length?u:null,n0.UDI))}function mM(e,n){n||(n={}),O_(n),Wg(),n.codepage&&Yg(n.codepage);var r,t;if(e.FullPaths){if(gt.find(e,"/encryption"))throw new Error("File is password-protected");r=gt.find(e,"!CompObj"),t=gt.find(e,"/Workbook")||gt.find(e,"/Book")}else{switch(n.type){case"base64":e=Ca(wa(e));break;case"binary":e=Ca(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}vr(e,0),t={content:e}}var i,a;if(r&&hV(r),n.bookProps&&!n.bookSheets)i={};else{var o=tn?"buffer":"array";if(t&&t.content)i=xV(t.content,n);else if((a=gt.find(e,"PerfectOffice_MAIN"))&&a.content)i=rc.to_workbook(a.content,(n.type=o,n));else if((a=gt.find(e,"NativeContent_MAIN"))&&a.content)i=rc.to_workbook(a.content,(n.type=o,n));else throw(a=gt.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");n.bookVBA&&e.FullPaths&&gt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=AR(e))}var s={};return e.FullPaths&&vV(e,s,n),i.Props=i.Custprops=s,n.bookFiles&&(i.cfb=e),i}function CV(e,n){var r=n||{},t=gt.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return gt.utils.cfb_add(t,i,uM(e,r)),r.biff==8&&(e.Props||e.Custprops)&&bV(e,t),r.biff==8&&e.vbaraw&&FR(t,gt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),t}var f0={0:{f:HN},1:{f:JN},2:{f:xL},3:{f:sL},4:{f:iL},5:{f:hL},6:{f:wL},7:{f:mL},8:{f:EL},9:{f:TL},10:{f:kL},11:{f:OL},12:{f:tL},13:{f:bL},14:{f:lL},15:{f:aL},16:{f:iM},17:{f:SL},18:{f:pL},19:{f:l_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:SB},40:{},42:{},43:{f:w7},44:{f:C7},45:{f:P7},46:{f:O7},47:{f:k7},48:{},49:{f:qA},50:{},51:{f:cR},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:kw},62:{f:yL},63:{f:_R},64:{f:$L},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Nr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:UL},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:QN},148:{f:qN,p:16},151:{f:NL},152:{},153:{f:yB},154:{},155:{},156:{f:bB},157:{},158:{},159:{T:1,f:BF},160:{T:-1},161:{T:1,f:_c},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:DL},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:oR},336:{T:-1},337:{f:mR,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ig},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Pw},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:LL},427:{f:BL},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:jL},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:KN},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:FL},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ig},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:OR},633:{T:1},634:{T:-1},635:{T:1,f:PR},636:{T:-1},637:{f:ZA},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:lB},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:GL},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},jg={6:{f:wg},10:{f:Ms},12:{f:Wi},13:{f:Wi},14:{f:Fi},15:{f:Fi},16:{f:Ar},17:{f:Fi},18:{f:Fi},19:{f:Wi},20:{f:Jy},21:{f:Jy},23:{f:Pw},24:{f:t2},25:{f:Fi},26:{},27:{},28:{f:G8},29:{},34:{f:Fi},35:{f:e2},38:{f:Ar},39:{f:Ar},40:{f:Ar},41:{f:Ar},42:{f:Fi},43:{f:Fi},47:{f:a7},49:{f:b8},51:{f:Wi},60:{},61:{f:h8},64:{f:Fi},65:{f:v8},66:{f:Wi},77:{},80:{},81:{},82:{},85:{f:Wi},89:{},90:{},91:{},92:{f:r8},93:{f:K8},94:{},95:{f:Fi},96:{},97:{},99:{f:Fi},125:{f:kw},128:{f:R8},129:{f:o8},130:{f:Wi},131:{f:Fi},132:{f:Fi},133:{f:s8},134:{},140:{f:rF},141:{f:Wi},144:{},146:{f:sF},151:{},152:{},153:{},154:{},155:{},156:{f:Wi},157:{},158:{},160:{f:fF},161:{f:dF},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:D8},190:{f:I8},193:{f:Ms},197:{},198:{},199:{},200:{},201:{},202:{f:Fi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Wi},220:{},221:{f:Fi},222:{},224:{f:F8},225:{f:i8},226:{f:Ms},227:{},229:{f:q8},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:l8},253:{f:y8},255:{f:m8},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:_w},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Fi},353:{f:Ms},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:j8},431:{f:Fi},432:{},433:{},434:{},437:{},438:{f:J8},439:{f:Fi},440:{f:eF},441:{},442:{f:b0},443:{},444:{f:Wi},445:{},446:{},448:{f:Ms},449:{f:f8,r:2},450:{f:Ms},512:{f:Ky},513:{f:pF},515:{f:B8},516:{f:M8},517:{f:Zy},519:{f:hF},520:{f:u8},523:{},545:{f:n2},549:{f:Xy},566:{},574:{f:_8},638:{f:E8},659:{},1048:{},1054:{f:P8},1084:{},1212:{f:W8},2048:{f:nF},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:vp},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ms},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:cF,r:12},2173:{f:rR,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Fi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Y8,r:12},2197:{},2198:{f:Z7,r:12},2199:{},2200:{},2201:{},2202:{f:H8,r:12},2203:{f:Ms},2204:{},2205:{},2206:{},2207:{},2211:{f:p8},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Wi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:mF},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:oF},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Ky},1:{},2:{f:bF},3:{f:xF},4:{f:_F},5:{f:Zy},7:{f:yF},8:{},9:{f:vp},11:{},22:{f:Wi},30:{f:O8},31:{},32:{},33:{f:n2},36:{},37:{f:Xy},50:{f:wF},62:{},52:{},67:{},68:{f:Wi},69:{},86:{},126:{},127:{f:gF},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:MF},223:{},234:{},354:{},421:{},518:{f:wg},521:{f:vp},536:{f:t2},547:{f:e2},561:{},579:{},1030:{f:wg},1033:{f:vp},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function He(e,n,r,t){var i=n;if(!isNaN(i)){var a=t||(r||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,a),a>0&&o_(r)&&e.push(r)}}function yV(e,n,r,t){var i=t||(r||[]).length||0;if(i<=8224)return He(e,n,r,i);var a=n;if(!isNaN(a)){for(var o=r.parts||[],s=0,m=0,u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;var f=e.next(4);for(f.write_shift(2,a),f.write_shift(2,u),e.push(r.slice(m,m+u)),m+=u;m<i;){for(f=e.next(4),f.write_shift(2,60),u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;f.write_shift(2,u),e.push(r.slice(m,m+u)),m+=u}}}function M0(e,n,r){return e||(e=Ce(7)),e.write_shift(2,n),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function wV(e,n,r,t){var i=Ce(9);return M0(i,e,n),xw(r,t||"b",i),i}function MV(e,n,r){var t=Ce(8+2*r.length);return M0(t,e,n),t.write_shift(1,r.length),t.write_shift(r.length,r,"sbcs"),t.l<t.length?t.slice(0,t.l):t}function SV(e,n,r,t){if(n.v!=null)switch(n.t){case"d":case"n":var i=n.t=="d"?tr(ii(n.v)):n.v;i==(i|0)&&i>=0&&i<65536?He(e,2,CF(r,t,i)):He(e,3,vF(r,t,i));return;case"b":case"e":He(e,5,wV(r,t,n.v,n.t));return;case"s":case"str":He(e,4,MV(r,t,(n.v||"").slice(0,255)));return}He(e,1,M0(null,r,t))}function PV(e,n,r,t){var i=Array.isArray(n),a=Cn(n["!ref"]||"A1"),o,s="",m=[];if(a.e.c>255||a.e.r>16383){if(t.WTF)throw new Error("Range "+(n["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=Wt(a)}for(var u=a.s.r;u<=a.e.r;++u){s=Ri(u);for(var f=a.s.c;f<=a.e.c;++f){u===a.s.r&&(m[f]=_i(f)),o=m[f]+s;var g=i?(n[u]||[])[f]:n[o];g&&SV(e,g,u,f,t)}}}function kV(e,n){var r=n||{};ki!=null&&r.dense==null&&(r.dense=ki);for(var t=na(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return He(t,r.biff==4?1033:r.biff==3?521:9,g_(e,16,r)),PV(t,e.Sheets[e.SheetNames[i]],i,r,e),He(t,10),t.end()}function OV(e,n,r){He(e,49,C8({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function TV(e,n,r){n&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var i=t[0];i<=t[1];++i)n[i]!=null&&He(e,1054,k8(i,n[i],r))})}function EV(e,n){var r=Ce(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),He(e,2151,r),r=Ce(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),ww(Cn(n["!ref"]||"A1"),r),r.write_shift(4,4),He(e,2152,r)}function DV(e,n){for(var r=0;r<16;++r)He(e,224,Qy({numFmtId:0,style:!0},0,n));n.cellXfs.forEach(function(t){He(e,224,Qy(t,0,n))})}function IV(e,n){for(var r=0;r<n["!links"].length;++r){var t=n["!links"][r];He(e,440,tF(t)),t[1].Tooltip&&He(e,2048,iF(t))}delete n["!links"]}function AV(e,n){if(n){var r=0;n.forEach(function(t,i){++r<=256&&t&&He(e,125,lF(Hp(i,t),i))})}}function FV(e,n,r,t,i){var a=16+Fs(i.cellXfs,n,i);if(n.v==null&&!n.bf){He(e,513,dc(r,t,a));return}if(n.bf)He(e,6,oN(n,r,t,i,a));else switch(n.t){case"d":case"n":var o=n.t=="d"?tr(ii(n.v)):n.v;He(e,515,V8(r,t,o,a,i));break;case"b":case"e":He(e,517,L8(r,t,n.v,a,i,n.t));break;case"s":case"str":if(i.bookSST){var s=M_(i.Strings,n.v,i.revStrings);He(e,253,w8(r,t,s,a,i))}else He(e,516,S8(r,t,(n.v||"").slice(0,255),a,i));break;default:He(e,513,dc(r,t,a))}}function RV(e,n,r){var t=na(),i=r.SheetNames[e],a=r.Sheets[i]||{},o=(r||{}).Workbook||{},s=(o.Sheets||[])[e]||{},m=Array.isArray(a),u=n.biff==8,f,g="",x=[],C=Cn(a["!ref"]||"A1"),y=u?65536:16384;if(C.e.c>255||C.e.r>=y){if(n.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");C.e.c=Math.min(C.e.c,255),C.e.r=Math.min(C.e.c,y-1)}He(t,2057,g_(r,16,n)),He(t,13,Ua(1)),He(t,12,Ua(100)),He(t,15,Wr(!0)),He(t,17,Wr(!1)),He(t,16,cc(.001)),He(t,95,Wr(!0)),He(t,42,Wr(!1)),He(t,43,Wr(!1)),He(t,130,Ua(1)),He(t,128,N8([0,0])),He(t,131,Wr(!1)),He(t,132,Wr(!1)),u&&AV(t,a["!cols"]),He(t,512,T8(C,n)),u&&(a["!links"]=[]);for(var v=C.s.r;v<=C.e.r;++v){g=Ri(v);for(var P=C.s.c;P<=C.e.c;++P){v===C.s.r&&(x[P]=_i(P)),f=x[P]+g;var D=m?(a[v]||[])[P]:a[f];D&&(FV(t,D,v,P,n),u&&D.l&&a["!links"].push([f,D.l]))}}var I=s.CodeName||s.name||i;return u&&He(t,574,x8((o.Views||[])[0])),u&&(a["!merges"]||[]).length&&He(t,229,X8(a["!merges"])),u&&IV(t,a),He(t,442,vw(I,n)),u&&EV(t,a),He(t,10),t.end()}function NV(e,n,r){var t=na(),i=(e||{}).Workbook||{},a=i.Sheets||[],o=i.WBProps||{},s=r.biff==8,m=r.biff==5;if(He(t,2057,g_(e,5,r)),r.bookType=="xla"&&He(t,135),He(t,225,s?Ua(1200):null),He(t,193,L6(2)),m&&He(t,191),m&&He(t,192),He(t,226),He(t,92,a8("SheetJS",r)),He(t,66,Ua(s?1200:1252)),s&&He(t,353,Ua(0)),s&&He(t,448),He(t,317,uF(e.SheetNames.length)),s&&e.vbaraw&&He(t,211),s&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";He(t,442,vw(u,r))}He(t,156,Ua(17)),He(t,25,Wr(!1)),He(t,18,Wr(!1)),He(t,19,Ua(0)),s&&He(t,431,Wr(!1)),s&&He(t,444,Ua(0)),He(t,61,g8(r)),He(t,64,Wr(!1)),He(t,141,Ua(0)),He(t,34,Wr(fB(e)=="true")),He(t,14,Wr(!0)),s&&He(t,439,Wr(!1)),He(t,218,Ua(0)),OV(t,e,r),TV(t,e.SSF,r),DV(t,r),s&&He(t,352,Wr(!1));var f=t.end(),g=na();s&&He(g,140,aF()),s&&r.Strings&&yV(g,252,d8(r.Strings,r)),He(g,10);var x=g.end(),C=na(),y=0,v=0;for(v=0;v<e.SheetNames.length;++v)y+=(s?12:11)+(s?2:1)*e.SheetNames[v].length;var P=f.length+y+x.length;for(v=0;v<e.SheetNames.length;++v){var D=a[v]||{};He(C,133,c8({pos:P,hs:D.Hidden||0,dt:0,name:e.SheetNames[v]},r)),P+=n[v].length}var I=C.end();if(y!=I.length)throw new Error("BS8 "+y+" != "+I.length);var A=[];return f.length&&A.push(f),I.length&&A.push(I),x.length&&A.push(x),ur(A)}function LV(e,n){var r=n||{},t=[];e&&!e.SSF&&(e.SSF=ri(bt)),e&&e.SSF&&(ql(),_0(e.SSF),r.revssf=Vp(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,T_(r),r.cellXfs=[],Fs(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)t[t.length]=RV(i,r,e);return t.unshift(NV(e,t,r)),ur(t)}function uM(e,n){for(var r=0;r<=e.SheetNames.length;++r){var t=e.Sheets[e.SheetNames[r]];if(!(!t||!t["!ref"])){var i=ia(t["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=n||{};switch(a.biff||2){case 8:case 5:return LV(e,n);case 4:case 3:case 2:return kV(e,n)}throw new Error("invalid type "+a.bookType+" for BIFF")}function u2(e,n){var r=n||{};ki!=null&&r.dense==null&&(r.dense=ki);var t=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),o=i.index,s=a&&a.index||e.length,m=CA(e.slice(o,s),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,f=0,g=0,x=0,C={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<m.length;++o){var v=m[o].trim(),P=v.slice(0,3).toLowerCase();if(P=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}f=0;continue}if(!(P!="<td"&&P!="<th")){var D=v.split(/<\/t[dh]>/i);for(s=0;s<D.length;++s){var I=D[s].trim();if(I.match(/<t[dh]/i)){for(var A=I,K=0;A.charAt(0)=="<"&&(K=A.indexOf(">"))>-1;)A=A.slice(K+1);for(var J=0;J<y.length;++J){var O=y[J];O.s.c==f&&O.s.r<u&&u<=O.e.r&&(f=O.e.c+1,J=-1)}var k=Tt(I.slice(0,I.indexOf(">")));x=k.colspan?+k.colspan:1,((g=+k.rowspan)>1||x>1)&&y.push({s:{r:u,c:f},e:{r:u+(g||1)-1,c:f+x-1}});var V=k.t||k["data-t"]||"";if(!A.length){f+=x;continue}if(A=z2(A),C.s.r>u&&(C.s.r=u),C.e.r<u&&(C.e.r=u),C.s.c>f&&(C.s.c=f),C.e.c<f&&(C.e.c=f),!A.length){f+=x;continue}var W={t:"s",v:A};r.raw||!A.trim().length||V=="s"||(A==="TRUE"?W={t:"b",v:!0}:A==="FALSE"?W={t:"b",v:!1}:isNaN(io(A))?isNaN(Hl(A).getDate())||(W={t:"d",v:ii(A)},r.cellDates||(W={t:"n",v:tr(W.v)}),W.z=r.dateNF||bt[14]):W={t:"n",v:io(A)}),r.dense?(t[u]||(t[u]=[]),t[u][f]=W):t[Mt({r:u,c:f})]=W,f+=x}}}}return t["!ref"]=Wt(C),y.length&&(t["!merges"]=y),t}function BV(e,n,r,t){for(var i=e["!merges"]||[],a=[],o=n.s.c;o<=n.e.c;++o){for(var s=0,m=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>o)&&!(i[u].e.r<r||i[u].e.c<o)){if(i[u].s.r<r||i[u].s.c<o){s=-1;break}s=i[u].e.r-i[u].s.r+1,m=i[u].e.c-i[u].s.c+1;break}if(!(s<0)){var f=Mt({r,c:o}),g=t.dense?(e[r]||[])[o]:e[f],x=g&&g.v!=null&&(g.h||Jg(g.w||(Wo(g),g.w)||""))||"",C={};s>1&&(C.rowspan=s),m>1&&(C.colspan=m),t.editable?x='<span contenteditable="true">'+x+"</span>":g&&(C["data-t"]=g&&g.t||"z",g.v!=null&&(C["data-v"]=g.v),g.z!=null&&(C["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+g.l.Target+'">'+x+"</a>")),C.id=(t.id||"sjs")+"-"+f,a.push(We("td",x,C))}}var y="<tr>";return y+a.join("")+"</tr>"}var VV='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',jV="</body></html>";function zV(e,n){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return As(u2(r[0],n),n);var t=A_();return r.forEach(function(i,a){F_(t,u2(i,n),"Sheet"+(a+1))}),t}function UV(e,n,r){var t=[];return t.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function pM(e,n){var r=n||{},t=r.header!=null?r.header:VV,i=r.footer!=null?r.footer:jV,a=[t],o=ia(e["!ref"]);r.dense=Array.isArray(e),a.push(UV(e,o,r));for(var s=o.s.r;s<=o.e.r;++s)a.push(BV(e,o,s,r));return a.push("</table>"+i),a.join("")}function fM(e,n,r){var t=r||{};ki!=null&&(t.dense=ki);var i=0,a=0;if(t.origin!=null)if(typeof t.origin=="number")i=t.origin;else{var o=typeof t.origin=="string"?xi(t.origin):t.origin;i=o.r,a=o.c}var s=n.getElementsByTagName("tr"),m=Math.min(t.sheetRows||1e7,s.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var f=ia(e["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),i==-1&&(u.e.r=i=f.e.r+1)}var g=[],x=0,C=e["!rows"]||(e["!rows"]=[]),y=0,v=0,P=0,D=0,I=0,A=0;for(e["!cols"]||(e["!cols"]=[]);y<s.length&&v<m;++y){var K=s[y];if(p2(K)){if(t.display)continue;C[v]={hidden:!0}}var J=K.children;for(P=D=0;P<J.length;++P){var O=J[P];if(!(t.display&&p2(O))){var k=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):z2(O.innerHTML),V=O.getAttribute("data-z")||O.getAttribute("z");for(x=0;x<g.length;++x){var W=g[x];W.s.c==D+a&&W.s.r<v+i&&v+i<=W.e.r&&(D=W.e.c+1-a,x=-1)}A=+O.getAttribute("colspan")||1,((I=+O.getAttribute("rowspan")||1)>1||A>1)&&g.push({s:{r:v+i,c:D+a},e:{r:v+i+(I||1)-1,c:D+a+(A||1)-1}});var ee={t:"s",v:k},re=O.getAttribute("data-t")||O.getAttribute("t")||"";k!=null&&(k.length==0?ee.t=re||"z":t.raw||k.trim().length==0||re=="s"||(k==="TRUE"?ee={t:"b",v:!0}:k==="FALSE"?ee={t:"b",v:!1}:isNaN(io(k))?isNaN(Hl(k).getDate())||(ee={t:"d",v:ii(k)},t.cellDates||(ee={t:"n",v:tr(ee.v)}),ee.z=t.dateNF||bt[14]):ee={t:"n",v:io(k)})),ee.z===void 0&&V!=null&&(ee.z=V);var ie="",ke=O.getElementsByTagName("A");if(ke&&ke.length)for(var Be=0;Be<ke.length&&!(ke[Be].hasAttribute("href")&&(ie=ke[Be].getAttribute("href"),ie.charAt(0)!="#"));++Be);ie&&ie.charAt(0)!="#"&&(ee.l={Target:ie}),t.dense?(e[v+i]||(e[v+i]=[]),e[v+i][D+a]=ee):e[Mt({c:D+a,r:v+i})]=ee,u.e.c<D+a&&(u.e.c=D+a),D+=A}}++v}return g.length&&(e["!merges"]=(e["!merges"]||[]).concat(g)),u.e.r=Math.max(u.e.r,v-1+i),e["!ref"]=Wt(u),v>=m&&(e["!fullref"]=Wt((u.e.r=s.length-y+v-1+i,u))),e}function hM(e,n){var r=n||{},t=r.dense?[]:{};return fM(t,e,n)}function YV(e,n){return As(hM(e,n),n)}function p2(e){var n="",r=WV(e);return r&&(n=r(e).getPropertyValue("display")),n||(n=e.style&&e.style.display),n==="none"}function WV(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function HV(e){var n=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(t,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=bn(n.replace(/<[^>]*>/g,""));return[r]}var f2={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function gM(e,n){var r=n||{};ki!=null&&r.dense==null&&(r.dense=ki);var t=e_(e),i=[],a,o,s={name:""},m="",u=0,f,g,x={},C=[],y=r.dense?[]:{},v,P,D={value:""},I="",A=0,K,J=[],O=-1,k=-1,V={s:{r:1e6,c:1e7},e:{r:0,c:0}},W=0,ee={},re=[],ie={},ke=0,Be=0,ye=[],$e=1,Te=1,nt=[],Me={Names:[]},Ae={},ce=["",""],X=[],te={},Q="",Z=0,le=!1,Pe=!1,Oe=0;for(c0.lastIndex=0,t=t.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=c0.exec(t);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"\u5DE5\u4F5C\u8868":v[1]==="/"?(V.e.c>=V.s.c&&V.e.r>=V.s.r?y["!ref"]=Wt(V):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=V.e.r&&(y["!fullref"]=y["!ref"],V.e.r=r.sheetRows-1,y["!ref"]=Wt(V)),re.length&&(y["!merges"]=re),ye.length&&(y["!rows"]=ye),f.name=f.\u540D\u79F0||f.name,typeof JSON<"u"&&JSON.stringify(f),C.push(f.name),x[f.name]=y,Pe=!1):v[0].charAt(v[0].length-2)!=="/"&&(f=Tt(v[0],!1),O=k=-1,V.s.r=V.s.c=1e7,V.e.r=V.e.c=0,y=r.dense?[]:{},re=[],ye=[],Pe=!0);break;case"table-row-group":v[1]==="/"?--W:++W;break;case"table-row":case"\u884C":if(v[1]==="/"){O+=$e,$e=1;break}if(g=Tt(v[0],!1),g.\u884C\u53F7?O=g.\u884C\u53F7-1:O==-1&&(O=0),$e=+g["number-rows-repeated"]||1,$e<10)for(Oe=0;Oe<$e;++Oe)W>0&&(ye[O+Oe]={level:W});k=-1;break;case"covered-table-cell":v[1]!=="/"&&++k,r.sheetStubs&&(r.dense?(y[O]||(y[O]=[]),y[O][k]={t:"z"}):y[Mt({r:O,c:k})]={t:"z"}),I="",J=[];break;case"table-cell":case"\u6570\u636E":if(v[0].charAt(v[0].length-2)==="/")++k,D=Tt(v[0],!1),Te=parseInt(D["number-columns-repeated"]||"1",10),P={t:"z",v:null},D.formula&&r.cellFormula!=!1&&(P.f=l2(bn(D.formula))),(D.\u6570\u636E\u7C7B\u578B||D["value-type"])=="string"&&(P.t="s",P.v=bn(D["string-value"]||""),r.dense?(y[O]||(y[O]=[]),y[O][k]=P):y[Mt({r:O,c:k})]=P),k+=Te-1;else if(v[1]!=="/"){++k,I="",A=0,J=[],Te=1;var we=$e?O+$e-1:O;if(k>V.e.c&&(V.e.c=k),k<V.s.c&&(V.s.c=k),O<V.s.r&&(V.s.r=O),we>V.e.r&&(V.e.r=we),D=Tt(v[0],!1),X=[],te={},P={t:D.\u6570\u636E\u7C7B\u578B||D["value-type"],v:null},r.cellFormula)if(D.formula&&(D.formula=bn(D.formula)),D["number-matrix-columns-spanned"]&&D["number-matrix-rows-spanned"]&&(ke=parseInt(D["number-matrix-rows-spanned"],10)||0,Be=parseInt(D["number-matrix-columns-spanned"],10)||0,ie={s:{r:O,c:k},e:{r:O+ke-1,c:k+Be-1}},P.F=Wt(ie),nt.push([ie,P.F])),D.formula)P.f=l2(D.formula);else for(Oe=0;Oe<nt.length;++Oe)O>=nt[Oe][0].s.r&&O<=nt[Oe][0].e.r&&k>=nt[Oe][0].s.c&&k<=nt[Oe][0].e.c&&(P.F=nt[Oe][1]);switch((D["number-columns-spanned"]||D["number-rows-spanned"])&&(ke=parseInt(D["number-rows-spanned"],10)||0,Be=parseInt(D["number-columns-spanned"],10)||0,ie={s:{r:O,c:k},e:{r:O+ke-1,c:k+Be-1}},re.push(ie)),D["number-columns-repeated"]&&(Te=parseInt(D["number-columns-repeated"],10)),P.t){case"boolean":P.t="b",P.v=ni(D["boolean-value"]);break;case"float":P.t="n",P.v=parseFloat(D.value);break;case"percentage":P.t="n",P.v=parseFloat(D.value);break;case"currency":P.t="n",P.v=parseFloat(D.value);break;case"date":P.t="d",P.v=ii(D["date-value"]),r.cellDates||(P.t="n",P.v=tr(P.v)),P.z="m/d/yy";break;case"time":P.t="n",P.v=xA(D["time-value"])/86400,r.cellDates&&(P.t="d",P.v=jp(P.v)),P.z="HH:MM:SS";break;case"number":P.t="n",P.v=parseFloat(D.\u6570\u636E\u6570\u503C);break;default:if(P.t==="string"||P.t==="text"||!P.t)P.t="s",D["string-value"]!=null&&(I=bn(D["string-value"]),J=[]);else throw new Error("Unsupported value type "+P.t)}}else{if(le=!1,P.t==="s"&&(P.v=I||"",J.length&&(P.R=J),le=A==0),Ae.Target&&(P.l=Ae),X.length>0&&(P.c=X,X=[]),I&&r.cellText!==!1&&(P.w=I),le&&(P.t="z",delete P.v),(!le||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=O))for(var xe=0;xe<$e;++xe){if(Te=parseInt(D["number-columns-repeated"]||"1",10),r.dense)for(y[O+xe]||(y[O+xe]=[]),y[O+xe][k]=xe==0?P:ri(P);--Te>0;)y[O+xe][k+Te]=ri(P);else for(y[Mt({r:O+xe,c:k})]=P;--Te>0;)y[Mt({r:O+xe,c:k+Te})]=ri(P);V.e.c<=k&&(V.e.c=k)}Te=parseInt(D["number-columns-repeated"]||"1",10),k+=Te-1,Te=0,P={},I="",J=[]}Ae={};break;case"document":case"document-content":case"\u7535\u5B50\u8868\u683C\u6587\u6863":case"spreadsheet":case"\u4E3B\u4F53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((a=i.pop())[0]!==v[3])throw"Bad state: "+a}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((a=i.pop())[0]!==v[3])throw"Bad state: "+a;te.t=I,J.length&&(te.R=J),te.a=Q,X.push(te)}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);Q="",Z=0,I="",A=0,J=[];break;case"creator":v[1]==="/"?Q=t.slice(Z,v.index):Z=v.index+v[0].length;break;case"meta":case"\u5143\u6570\u636E":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((a=i.pop())[0]!==v[3])throw"Bad state: "+a}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);I="",A=0,J=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(ee[s.name]=m,(a=i.pop())[0]!==v[3])throw"Bad state: "+a}else v[0].charAt(v[0].length-2)!=="/"&&(m="",s=Tt(v[0],!1),i.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=Tt(v[0],!1),m+=f2[v[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=Tt(v[0],!1),m+=f2[v[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":m+=t.slice(u,v.index);break}else u=v.index+v[0].length;break;case"named-range":o=Tt(v[0],!1),ce=Mg(o["cell-range-address"]);var ot={Name:o.name,Ref:ce[0]+"!"+ce[1]};Pe&&(ot.Sheet=C.length),Me.Names.push(ot);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"\u7535\u5B50\u8868\u683C":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"\u6587\u672C\u4E32":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(v[1]==="/"&&(!D||!D["string-value"])){var H=HV(t.slice(A,v.index),K);I=(I.length>0?I+`
`:"")+H[0]}else K=Tt(v[0],!1),A=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{ce=Mg(Tt(v[0])["target-range-address"]),x[ce[0]]["!autofilter"]={ref:ce[1]}}catch{}break;case"date":break;case"object":break;case"title":case"\u6807\u9898":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(Ae=Tt(v[0],!1),!Ae.href)break;Ae.Target=bn(Ae.href),delete Ae.href,Ae.Target.charAt(0)=="#"&&Ae.Target.indexOf(".")>-1?(ce=Mg(Ae.Target.slice(1)),Ae.Target="#"+ce[0]+"!"+ce[1]):Ae.Target.match(/^\.\.[\\\/]/)&&(Ae.Target=Ae.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5B57:":break;default:if(r.WTF)throw new Error(v)}}var ct={Sheets:x,SheetNames:C,Workbook:Me};return r.bookSheets&&delete ct.Sheets,ct}function h2(e,n){n=n||{},za(e,"META-INF/manifest.xml")&&x6(Yi(e,"META-INF/manifest.xml"),n);var r=ya(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var t=gM(Yn(r),n);return za(e,"meta.xml")&&(t.Props=ow(Yi(e,"meta.xml"))),t}function g2(e,n){return gM(e,n)}var $V=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),n="<office:document-styles "+s0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ni+n}}(),_2=function(){var e=function(a){return Vn(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},n=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,t=function(a,o,s){var m=[];m.push('      <table:table table:name="'+Vn(o.SheetNames[s])+`" table:style-name="ta1">
`);var u=0,f=0,g=ia(a["!ref"]||"A1"),x=a["!merges"]||[],C=0,y=Array.isArray(a);if(a["!cols"])for(f=0;f<=g.e.c;++f)m.push("        <table:table-column"+(a["!cols"][f]?' table:style-name="co'+a["!cols"][f].ods+'"':"")+`></table:table-column>
`);var v="",P=a["!rows"]||[];for(u=0;u<g.s.r;++u)v=P[u]?' table:style-name="ro'+P[u].ods+'"':"",m.push("        <table:table-row"+v+`></table:table-row>
`);for(;u<=g.e.r;++u){for(v=P[u]?' table:style-name="ro'+P[u].ods+'"':"",m.push("        <table:table-row"+v+`>
`),f=0;f<g.s.c;++f)m.push(n);for(;f<=g.e.c;++f){var D=!1,I={},A="";for(C=0;C!=x.length;++C)if(!(x[C].s.c>f)&&!(x[C].s.r>u)&&!(x[C].e.c<f)&&!(x[C].e.r<u)){(x[C].s.c!=f||x[C].s.r!=u)&&(D=!0),I["table:number-columns-spanned"]=x[C].e.c-x[C].s.c+1,I["table:number-rows-spanned"]=x[C].e.r-x[C].s.r+1;break}if(D){m.push(r);continue}var K=Mt({r:u,c:f}),J=y?(a[u]||[])[f]:a[K];if(J&&J.f&&(I["table:formula"]=Vn(uN(J.f)),J.F&&J.F.slice(0,K.length)==K)){var O=ia(J.F);I["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,I["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!J){m.push(n);continue}switch(J.t){case"b":A=J.v?"TRUE":"FALSE",I["office:value-type"]="boolean",I["office:boolean-value"]=J.v?"true":"false";break;case"n":A=J.w||String(J.v||0),I["office:value-type"]="float",I["office:value"]=J.v||0;break;case"s":case"str":A=J.v==null?"":J.v,I["office:value-type"]="string";break;case"d":A=J.w||ii(J.v).toISOString(),I["office:value-type"]="date",I["office:date-value"]=ii(J.v).toISOString(),I["table:style-name"]="ce1";break;default:m.push(n);continue}var k=e(A);if(J.l&&J.l.Target){var V=J.l.Target;V=V.charAt(0)=="#"?"#"+pN(V.slice(1)):V,V.charAt(0)!="#"&&!V.match(/^\w+:/)&&(V="../"+V),k=We("text:a",k,{"xlink:href":V.replace(/&/g,"&amp;")})}m.push("          "+We("table:table-cell",We("text:p",k,{}),I)+`
`)}m.push(`        </table:table-row>
`)}return m.push(`      </table:table>
`),m.join("")},i=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var s=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var g=u["!cols"][f];if(g.width==null&&g.wpx==null&&g.wch==null)continue;Ts(g),g.ods=s;var x=u["!cols"][f].wpx+"px";a.push('  <style:style style:name="co'+s+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),a.push(`  </style:style>
`),++s}}});var m=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=m;var g=u["!rows"][f].hpx+"px";a.push('  <style:style style:name="ro'+m+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),a.push(`  </style:style>
`),++m}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,s){var m=[Ni],u=s0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=s0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});s.bookType=="fods"?(m.push("<office:document"+u+f+`>
`),m.push(aw().replace(/office:document-meta/g,"office:meta"))):m.push("<office:document-content"+u+`>
`),i(m,o),m.push(`  <office:body>
`),m.push(`    <office:spreadsheet>
`);for(var g=0;g!=o.SheetNames.length;++g)m.push(t(o.Sheets[o.SheetNames[g]],o,g,s));return m.push(`    </office:spreadsheet>
`),m.push(`  </office:body>
`),s.bookType=="fods"?m.push("</office:document>"):m.push("</office:document-content>"),m.join("")}}();function _M(e,n){if(n.bookType=="fods")return _2(e,n);var r=Kg(),t="",i=[],a=[];return t="mimetype",$t(r,t,"application/vnd.oasis.opendocument.spreadsheet"),t="content.xml",$t(r,t,_2(e,n)),i.push([t,"text/xml"]),a.push([t,"ContentFile"]),t="styles.xml",$t(r,t,$V(e,n)),i.push([t,"text/xml"]),a.push([t,"StylesFile"]),t="meta.xml",$t(r,t,Ni+aw()),i.push([t,"text/xml"]),a.push([t,"MetadataFile"]),t="manifest.rdf",$t(r,t,C6(a)),i.push([t,"application/rdf+xml"]),t="META-INF/manifest.xml",$t(r,t,v6(i)),r}function mc(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function zg(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Yn(Is(e))}function GV(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ca(_o(e))}function qV(e,n){e:for(var r=0;r<=e.length-n.length;++r){for(var t=0;t<n.length;++t)if(e[r+t]!=n[t])continue e;return!0}return!1}function Ds(e){var n=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(n),t=0;return e.forEach(function(i){r.set(i,t),t+=i.length}),r}function x2(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function XV(e,n){for(var r=(e[n+15]&127)<<7|e[n+14]>>1,t=e[n+14]&1,i=n+13;i>=n;--i)t=t*256+e[i];return(e[n+15]&128?-t:t)*Math.pow(10,r-6176)}function KV(e,n,r){var t=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,t-6176);e[n+15]|=t>>7,e[n+14]|=(t&127)<<1;for(var a=0;i>=1;++a,i/=256)e[n+a]=i&255;e[n+15]|=r>=0?0:128}function h0(e,n){var r=n?n[0]:0,t=e[r]&127;e:if(e[r++]>=128&&(t|=(e[r]&127)<<7,e[r++]<128||(t|=(e[r]&127)<<14,e[r++]<128)||(t|=(e[r]&127)<<21,e[r++]<128)||(t+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(t+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(t+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return n&&(n[0]=r),t}function Ln(e){var n=new Uint8Array(7);n[0]=e&127;var r=1;e:if(e>127){if(n[r-1]|=128,n[r]=e>>7&127,++r,e<=16383||(n[r-1]|=128,n[r]=e>>14&127,++r,e<=2097151)||(n[r-1]|=128,n[r]=e>>21&127,++r,e<=268435455)||(n[r-1]|=128,n[r]=e/256>>>21&127,++r,e<=34359738367)||(n[r-1]|=128,n[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;n[r-1]|=128,n[r]=e/16777216>>>21&127,++r}return n.slice(0,r)}function Pi(e){var n=0,r=e[n]&127;e:if(e[n++]>=128){if(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128))break e;r|=(e[n]&127)<<28}return r}function Sn(e){for(var n=[],r=[0];r[0]<e.length;){var t=r[0],i=h0(e,r),a=i&7;i=Math.floor(i/8);var o=0,s;if(i==0)break;switch(a){case 0:{for(var m=r[0];e[r[0]++]>=128;);s=e.slice(m,r[0])}break;case 5:o=4,s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=h0(e,r),s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(t))}var u={data:s,type:a};n[i]==null?n[i]=[u]:n[i].push(u)}return n}function xr(e){var n=[];return e.forEach(function(r,t){r.forEach(function(i){i.data&&(n.push(Ln(t*8+i.type)),i.type==2&&n.push(Ln(i.data.length)),n.push(i.data))})}),Ds(n)}function k_(e,n){return(e==null?void 0:e.map(function(r){return n(r.data)}))||[]}function Va(e){for(var n,r=[],t=[0];t[0]<e.length;){var i=h0(e,t),a=Sn(e.slice(t[0],t[0]+i));t[0]+=i;var o={id:Pi(a[1][0].data),messages:[]};a[2].forEach(function(s){var m=Sn(s.data),u=Pi(m[3][0].data);o.messages.push({meta:m,data:e.slice(t[0],t[0]+u)}),t[0]+=u}),(n=a[3])!=null&&n[0]&&(o.merge=Pi(a[3][0].data)>>>0>0),r.push(o)}return r}function Rl(e){var n=[];return e.forEach(function(r){var t=[];t[1]=[{data:Ln(r.id),type:0}],t[2]=[],r.merge!=null&&(t[3]=[{data:Ln(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:Ln(o.data.length)}],t[2].push({data:xr(o.meta),type:2})});var a=xr(t);n.push(Ln(a.length)),n.push(a),i.forEach(function(o){return n.push(o)})}),Ds(n)}function QV(e,n){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],t=h0(n,r),i=[];r[0]<n.length;){var a=n[r[0]]&3;if(a==0){var o=n[r[0]++]>>2;if(o<60)++o;else{var s=o-59;o=n[r[0]],s>1&&(o|=n[r[0]+1]<<8),s>2&&(o|=n[r[0]+2]<<16),s>3&&(o|=n[r[0]+3]<<24),o>>>=0,o++,r[0]+=s}i.push(n.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var m=0,u=0;if(a==1?(u=(n[r[0]]>>2&7)+4,m=(n[r[0]++]&224)<<3,m|=n[r[0]++]):(u=(n[r[0]++]>>2)+1,a==2?(m=n[r[0]]|n[r[0]+1]<<8,r[0]+=2):(m=(n[r[0]]|n[r[0]+1]<<8|n[r[0]+2]<<16|n[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Ds(i)],m==0)throw new Error("Invalid offset 0");if(m>i[0].length)throw new Error("Invalid offset beyond length");if(u>=m)for(i.push(i[0].slice(-m)),u-=m;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-m,-m+u))}}var f=Ds(i);if(f.length!=t)throw new Error("Unexpected length: ".concat(f.length," != ").concat(t));return f}function ja(e){for(var n=[],r=0;r<e.length;){var t=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,n.push(QV(t,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Ds(n)}function Nl(e){for(var n=[],r=0;r<e.length;){var t=Math.min(e.length-r,268435455),i=new Uint8Array(4);n.push(i);var a=Ln(t),o=a.length;n.push(a),t<=60?(o++,n.push(new Uint8Array([t-1<<2]))):t<=256?(o+=2,n.push(new Uint8Array([240,t-1&255]))):t<=65536?(o+=3,n.push(new Uint8Array([244,t-1&255,t-1>>8&255]))):t<=16777216?(o+=4,n.push(new Uint8Array([248,t-1&255,t-1>>8&255,t-1>>16&255]))):t<=4294967296&&(o+=5,n.push(new Uint8Array([252,t-1&255,t-1>>8&255,t-1>>16&255,t-1>>>24&255]))),n.push(e.slice(r,r+t)),o+=t,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,r+=t}return Ds(n)}function ZV(e,n,r,t){var i=mc(e),a=i.getUint32(4,!0),o=(t>1?12:8)+x2(a&(t>1?3470:398))*4,s=-1,m=-1,u=NaN,f=new Date(2001,0,1);a&512&&(s=i.getUint32(o,!0),o+=4),o+=x2(a&(t>1?12288:4096))*4,a&16&&(m=i.getUint32(o,!0),o+=4),a&32&&(u=i.getFloat64(o,!0),o+=8),a&64&&(f.setTime(f.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var g;switch(e[2]){case 0:break;case 2:g={t:"n",v:u};break;case 3:g={t:"s",v:n[m]};break;case 5:g={t:"d",v:f};break;case 6:g={t:"b",v:u>0};break;case 7:g={t:"n",v:u/86400};break;case 8:g={t:"e",v:0};break;case 9:if(s>-1)g={t:"s",v:r[s]};else if(m>-1)g={t:"s",v:n[m]};else if(!isNaN(u))g={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return g}function JV(e,n,r){var t=mc(e),i=t.getUint32(8,!0),a=12,o=-1,s=-1,m=NaN,u=NaN,f=new Date(2001,0,1);i&1&&(m=XV(e,a),a+=16),i&2&&(u=t.getFloat64(a,!0),a+=8),i&4&&(f.setTime(f.getTime()+t.getFloat64(a,!0)*1e3),a+=8),i&8&&(s=t.getUint32(a,!0),a+=4),i&16&&(o=t.getUint32(a,!0),a+=4);var g;switch(e[1]){case 0:break;case 2:g={t:"n",v:m};break;case 3:g={t:"s",v:n[s]};break;case 5:g={t:"d",v:f};break;case 6:g={t:"b",v:u>0};break;case 7:g={t:"n",v:u/86400};break;case 8:g={t:"e",v:0};break;case 9:if(o>-1)g={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:g={t:"n",v:m};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return g}function Pg(e,n){var r=new Uint8Array(32),t=mc(r),i=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,KV(r,i,e.v),a|=1,i+=16;break;case"b":r[1]=6,t.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(n.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,t.setUint32(i,n.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return t.setUint32(8,a,!0),r.slice(0,i)}function kg(e,n){var r=new Uint8Array(32),t=mc(r),i=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,t.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":r[2]=6,t.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(n.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,t.setUint32(i,n.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return t.setUint32(4,a,!0),r.slice(0,i)}function ej(e,n,r){switch(e[0]){case 0:case 1:case 2:case 3:return ZV(e,n,r,e[0]);case 5:return JV(e,n,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Er(e){var n=Sn(e);return h0(n[1][0].data)}function v2(e,n){var r=Sn(n.data),t=Pi(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(o){var s=Sn(o.data),m=Pi(s[1][0].data)>>>0;switch(t){case 1:a[m]=zg(s[3][0].data);break;case 8:{var u=e[Er(s[9][0].data)][0],f=Sn(u.data),g=e[Er(f[1][0].data)][0],x=Pi(g.meta[1][0].data);if(x!=2001)throw new Error("2000 unexpected reference to ".concat(x));var C=Sn(g.data);a[m]=C[3].map(function(y){return zg(y.data)}).join("")}break}}),a}function tj(e,n){var r,t,i,a,o,s,m,u,f,g,x,C,y,v,P=Sn(e),D=Pi(P[1][0].data)>>>0,I=Pi(P[2][0].data)>>>0,A=((t=(r=P[8])==null?void 0:r[0])==null?void 0:t.data)&&Pi(P[8][0].data)>0||!1,K,J;if((a=(i=P[7])==null?void 0:i[0])!=null&&a.data&&n!=0)K=(s=(o=P[7])==null?void 0:o[0])==null?void 0:s.data,J=(u=(m=P[6])==null?void 0:m[0])==null?void 0:u.data;else if((g=(f=P[4])==null?void 0:f[0])!=null&&g.data&&n!=1)K=(C=(x=P[4])==null?void 0:x[0])==null?void 0:C.data,J=(v=(y=P[3])==null?void 0:y[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(n," cell storage");for(var O=A?4:1,k=mc(K),V=[],W=0;W<K.length/2;++W){var ee=k.getUint16(W*2,!0);ee<65535&&V.push([W,ee])}if(V.length!=I)throw"Expected ".concat(I," cells, found ").concat(V.length);var re=[];for(W=0;W<V.length-1;++W)re[V[W][0]]=J.subarray(V[W][1]*O,V[W+1][1]*O);return V.length>=1&&(re[V[V.length-1][0]]=J.subarray(V[V.length-1][1]*O)),{R:D,cells:re}}function nj(e,n){var r,t=Sn(n.data),i=(r=t==null?void 0:t[7])!=null&&r[0]?Pi(t[7][0].data)>>>0>0?1:0:-1,a=k_(t[5],function(o){return tj(o,i)});return{nrows:Pi(t[4][0].data)>>>0,data:a.reduce(function(o,s){return o[s.R]||(o[s.R]=[]),s.cells.forEach(function(m,u){if(o[s.R][u])throw new Error("Duplicate cell r=".concat(s.R," c=").concat(u));o[s.R][u]=m}),o},[])}}function ij(e,n,r){var t,i=Sn(n.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Pi(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(Pi(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=Wt(a);var o=Sn(i[4][0].data),s=v2(e,e[Er(o[4][0].data)][0]),m=(t=o[17])!=null&&t[0]?v2(e,e[Er(o[17][0].data)][0]):[],u=Sn(o[3][0].data),f=0;u[1].forEach(function(g){var x=Sn(g.data),C=e[Er(x[2][0].data)][0],y=Pi(C.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var v=nj(e,C);v.data.forEach(function(P,D){P.forEach(function(I,A){var K=Mt({r:f+D,c:A}),J=ej(I,s,m);J&&(r[K]=J)})}),f+=v.nrows})}function rj(e,n){var r=Sn(n.data),t={"!ref":"A1"},i=e[Er(r[2][0].data)],a=Pi(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return ij(e,i[0],t),t}function aj(e,n){var r,t=Sn(n.data),i={name:(r=t[1])!=null&&r[0]?zg(t[1][0].data):"",sheets:[]},a=k_(t[2],Er);return a.forEach(function(o){e[o].forEach(function(s){var m=Pi(s.meta[1][0].data);m==6e3&&i.sheets.push(rj(e,s))})}),i}function oj(e,n){var r=A_(),t=Sn(n.data),i=k_(t[1],Er);if(i.forEach(function(a){e[a].forEach(function(o){var s=Pi(o.meta[1][0].data);if(s==2){var m=aj(e,o);m.sheets.forEach(function(u,f){F_(r,u,f==0?m.name:m.name+"_"+f,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Og(e){var n,r,t,i,a={},o=[];if(e.FullPaths.forEach(function(m){if(m.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(m){if(m.name.match(/\.iwa$/)){var u;try{u=ja(m.content)}catch(g){return console.log("?? "+m.content.length+" "+(g.message||g))}var f;try{f=Va(u)}catch(g){return console.log("## "+(g.message||g))}f.forEach(function(g){a[g.id]=g.messages,o.push(g.id)})}}),!o.length)throw new Error("File has no messages");var s=((i=(t=(r=(n=a==null?void 0:a[1])==null?void 0:n[0])==null?void 0:r.meta)==null?void 0:t[1])==null?void 0:i[0].data)&&Pi(a[1][0].meta[1][0].data)==1&&a[1][0];if(s||o.forEach(function(m){a[m].forEach(function(u){var f=Pi(u.meta[1][0].data)>>>0;if(f==1)if(!s)s=u;else throw new Error("Document has multiple roots")})}),!s)throw new Error("Cannot find Document root");return oj(a,s)}function sj(e,n,r){var t,i,a,o;if(!((t=e[6])!=null&&t[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var s=((o=(a=e[8])==null?void 0:a[0])==null?void 0:o.data)&&Pi(e[8][0].data)>0||!1;if(s)throw"Math only works with normal offsets";for(var m=0,u=mc(e[7][0].data),f=0,g=[],x=mc(e[4][0].data),C=0,y=[],v=0;v<n.length;++v){if(n[v]==null){u.setUint16(v*2,65535,!0),x.setUint16(v*2,65535);continue}u.setUint16(v*2,f,!0),x.setUint16(v*2,C,!0);var P,D;switch(typeof n[v]){case"string":P=Pg({t:"s",v:n[v]},r),D=kg({t:"s",v:n[v]},r);break;case"number":P=Pg({t:"n",v:n[v]},r),D=kg({t:"n",v:n[v]},r);break;case"boolean":P=Pg({t:"b",v:n[v]},r),D=kg({t:"b",v:n[v]},r);break;default:throw new Error("Unsupported value "+n[v])}g.push(P),f+=P.length,y.push(D),C+=D.length,++m}for(e[2][0].data=Ln(m);v<e[7][0].data.length/2;++v)u.setUint16(v*2,65535,!0),x.setUint16(v*2,65535,!0);return e[6][0].data=Ds(g),e[3][0].data=Ds(y),m}function cj(e,n){if(!n||!n.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var t=ia(r["!ref"]);t.s.r=t.s.c=0;var i=!1;t.e.c>9&&(i=!0,t.e.c=9),t.e.r>49&&(i=!0,t.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Wt(t)));var a=Np(r,{range:t,header:1}),o=["~Sh33tJ5~"];a.forEach(function(Q){return Q.forEach(function(Z){typeof Z=="string"&&o.push(Z)})});var s={},m=[],u=gt.read(n.numbers,{type:"base64"});u.FileIndex.map(function(Q,Z){return[Q,u.FullPaths[Z]]}).forEach(function(Q){var Z=Q[0],le=Q[1];if(Z.type==2&&Z.name.match(/\.iwa/)){var Pe=Z.content,Oe=ja(Pe),we=Va(Oe);we.forEach(function(xe){m.push(xe.id),s[xe.id]={deps:[],location:le,type:Pi(xe.messages[0].meta[1][0].data)}})}}),m.sort(function(Q,Z){return Q-Z});var f=m.filter(function(Q){return Q>1}).map(function(Q){return[Q,Ln(Q)]});u.FileIndex.map(function(Q,Z){return[Q,u.FullPaths[Z]]}).forEach(function(Q){var Z=Q[0],le=Q[1];if(Z.name.match(/\.iwa/)){var Pe=Va(ja(Z.content));Pe.forEach(function(Oe){Oe.messages.forEach(function(we){f.forEach(function(xe){Oe.messages.some(function(ot){return Pi(ot.meta[1][0].data)!=11006&&qV(ot.data,xe[1])})&&s[xe[0]].deps.push(Oe.id)})})})}});function g(){for(var Q=927262;Q<2e6;++Q)if(!s[Q])return Q;throw new Error("Too many messages")}for(var x=gt.find(u,s[1].location),C=Va(ja(x.content)),y,v=0;v<C.length;++v){var P=C[v];P.id==1&&(y=P)}var D=Er(Sn(y.messages[0].data)[1][0].data);for(x=gt.find(u,s[D].location),C=Va(ja(x.content)),v=0;v<C.length;++v)P=C[v],P.id==D&&(y=P);for(D=Er(Sn(y.messages[0].data)[2][0].data),x=gt.find(u,s[D].location),C=Va(ja(x.content)),v=0;v<C.length;++v)P=C[v],P.id==D&&(y=P);for(D=Er(Sn(y.messages[0].data)[2][0].data),x=gt.find(u,s[D].location),C=Va(ja(x.content)),v=0;v<C.length;++v)P=C[v],P.id==D&&(y=P);var I=Sn(y.messages[0].data);{I[6][0].data=Ln(t.e.r+1),I[7][0].data=Ln(t.e.c+1);var A=Er(I[46][0].data),K=gt.find(u,s[A].location),J=Va(ja(K.content));{for(var O=0;O<J.length&&J[O].id!=A;++O);if(J[O].id!=A)throw"Bad ColumnRowUIDMapArchive";var k=Sn(J[O].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var V=0;V<=t.e.c;++V){var W=[];W[1]=W[2]=[{type:0,data:Ln(V+420690)}],k[1].push({type:2,data:xr(W)}),k[2].push({type:0,data:Ln(V)}),k[3].push({type:0,data:Ln(V)})}k[4]=[],k[5]=[],k[6]=[];for(var ee=0;ee<=t.e.r;++ee)W=[],W[1]=W[2]=[{type:0,data:Ln(ee+726270)}],k[4].push({type:2,data:xr(W)}),k[5].push({type:0,data:Ln(ee)}),k[6].push({type:0,data:Ln(ee)});J[O].messages[0].data=xr(k)}K.content=Nl(Rl(J)),K.size=K.content.length,delete I[46];var re=Sn(I[4][0].data);{re[7][0].data=Ln(t.e.r+1);var ie=Sn(re[1][0].data),ke=Er(ie[2][0].data);K=gt.find(u,s[ke].location),J=Va(ja(K.content));{if(J[0].id!=ke)throw"Bad HeaderStorageBucket";var Be=Sn(J[0].messages[0].data);for(ee=0;ee<a.length;++ee){var ye=Sn(Be[2][0].data);ye[1][0].data=Ln(ee),ye[4][0].data=Ln(a[ee].length),Be[2][ee]={type:Be[2][0].type,data:xr(ye)}}J[0].messages[0].data=xr(Be)}K.content=Nl(Rl(J)),K.size=K.content.length;var $e=Er(re[2][0].data);K=gt.find(u,s[$e].location),J=Va(ja(K.content));{if(J[0].id!=$e)throw"Bad HeaderStorageBucket";for(Be=Sn(J[0].messages[0].data),V=0;V<=t.e.c;++V)ye=Sn(Be[2][0].data),ye[1][0].data=Ln(V),ye[4][0].data=Ln(t.e.r+1),Be[2][V]={type:Be[2][0].type,data:xr(ye)};J[0].messages[0].data=xr(Be)}K.content=Nl(Rl(J)),K.size=K.content.length;var Te=Er(re[4][0].data);(function(){for(var Q=gt.find(u,s[Te].location),Z=Va(ja(Q.content)),le,Pe=0;Pe<Z.length;++Pe){var Oe=Z[Pe];Oe.id==Te&&(le=Oe)}var we=Sn(le.messages[0].data);{we[3]=[];var xe=[];o.forEach(function(ct,Ke){xe[1]=[{type:0,data:Ln(Ke)}],xe[2]=[{type:0,data:Ln(1)}],xe[3]=[{type:2,data:GV(ct)}],we[3].push({type:2,data:xr(xe)})})}le.messages[0].data=xr(we);var ot=Rl(Z),H=Nl(ot);Q.content=H,Q.size=Q.content.length})();var nt=Sn(re[3][0].data);{var Me=nt[1][0];delete nt[2];var Ae=Sn(Me.data);{var ce=Er(Ae[2][0].data);(function(){for(var Q=gt.find(u,s[ce].location),Z=Va(ja(Q.content)),le,Pe=0;Pe<Z.length;++Pe){var Oe=Z[Pe];Oe.id==ce&&(le=Oe)}var we=Sn(le.messages[0].data);{delete we[6],delete nt[7];var xe=new Uint8Array(we[5][0].data);we[5]=[];for(var ot=0,H=0;H<=t.e.r;++H){var ct=Sn(xe);ot+=sj(ct,a[H],o),ct[1][0].data=Ln(H),we[5].push({data:xr(ct),type:2})}we[1]=[{type:0,data:Ln(t.e.c+1)}],we[2]=[{type:0,data:Ln(t.e.r+1)}],we[3]=[{type:0,data:Ln(ot)}],we[4]=[{type:0,data:Ln(t.e.r+1)}]}le.messages[0].data=xr(we);var Ke=Rl(Z),St=Nl(Ke);Q.content=St,Q.size=Q.content.length})()}Me.data=xr(Ae)}re[3][0].data=xr(nt)}I[4][0].data=xr(re)}y.messages[0].data=xr(I);var X=Rl(C),te=Nl(X);return x.content=te,x.size=x.content.length,u}function xM(e){return function(r){for(var t=0;t!=e.length;++t){var i=e[t];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function O_(e){xM([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function T_(e){xM([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function lj(e){return Gt.WS.indexOf(e)>-1?"sheet":Gt.CS&&e==Gt.CS?"chart":Gt.DS&&e==Gt.DS?"dialog":Gt.MS&&e==Gt.MS?"macro":e&&e.length?e:"sheet"}function dj(e,n){if(!e)return 0;try{e=n.map(function(t){return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,lj(e["!id"][t.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function mj(e,n,r,t,i,a,o,s,m,u,f,g){try{a[t]=Zd(ya(e,r,!0),n);var x=Yi(e,n),C;switch(s){case"sheet":C=AB(x,n,i,m,a[t],u,f,g);break;case"chart":if(C=FB(x,n,i,m,a[t],u,f,g),!C||!C["!drawel"])break;var y=qd(C["!drawel"].Target,n),v=l0(y),P=bR(ya(e,y,!0),Zd(ya(e,v,!0),y)),D=qd(P,y),I=l0(D);C=sB(ya(e,D,!0),D,m,Zd(ya(e,I,!0),D),u,C);break;case"macro":C=RB(x,n,i,m,a[t],u,f,g);break;case"dialog":C=NB(x,n,i,m,a[t],u,f,g);break;default:throw new Error("Unrecognized sheet type "+s)}o[t]=C;var A=[];a&&a[t]&&Oi(a[t]).forEach(function(K){var J="";if(a[t][K].Type==Gt.CMNT){J=qd(a[t][K].Target,n);var O=jB(Yi(e,J,!0),J,m);if(!O||!O.length)return;r2(C,O,!1)}a[t][K].Type==Gt.TCMNT&&(J=qd(a[t][K].Target,n),A=A.concat(yR(Yi(e,J,!0),m)))}),A&&A.length&&r2(C,A,!0,m.people||[])}catch(K){if(m.WTF)throw K}}function La(e){return e.charAt(0)=="/"?e.slice(1):e}function uj(e,n){if(ql(),n=n||{},O_(n),za(e,"META-INF/manifest.xml")||za(e,"objectdata.xml"))return h2(e,n);if(za(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Og<"u"){if(e.FileIndex)return Og(e);var r=gt.utils.cfb_new();return Sy(e).forEach(function(Be){$t(r,Be,L2(e,Be))}),Og(r)}throw new Error("Unsupported NUMBERS file")}if(!za(e,"[Content_Types].xml"))throw za(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):za(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var t=Sy(e),i=g6(ya(e,"[Content_Types].xml")),a=!1,o,s;if(i.workbooks.length===0&&(s="xl/workbook.xml",Yi(e,s,!0)&&i.workbooks.push(s)),i.workbooks.length===0){if(s="xl/workbook.bin",!Yi(e,s,!0))throw new Error("Could not find workbook");i.workbooks.push(s),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var m={},u={};if(!n.bookSheets&&!n.bookProps){if(Jd=[],i.sst)try{Jd=VB(Yi(e,La(i.sst)),i.sst,n)}catch(Be){if(n.WTF)throw Be}n.cellStyles&&i.themes.length&&(m=BB(ya(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],n)),i.style&&(u=LB(Yi(e,La(i.style)),i.style,m,n))}i.links.map(function(Be){try{var ye=Zd(ya(e,l0(La(Be))),Be);return UB(Yi(e,La(Be)),ye,Be,n)}catch{}});var f=IB(Yi(e,La(i.workbooks[0])),i.workbooks[0],n),g={},x="";i.coreprops.length&&(x=Yi(e,La(i.coreprops[0]),!0),x&&(g=ow(x)),i.extprops.length!==0&&(x=Yi(e,La(i.extprops[0]),!0),x&&w6(x,g,n)));var C={};(!n.bookSheets||n.bookProps)&&i.custprops.length!==0&&(x=ya(e,La(i.custprops[0]),!0),x&&(C=S6(x,n)));var y={};if((n.bookSheets||n.bookProps)&&(f.Sheets?o=f.Sheets.map(function(ye){return ye.name}):g.Worksheets&&g.SheetNames.length>0&&(o=g.SheetNames),n.bookProps&&(y.Props=g,y.Custprops=C),n.bookSheets&&typeof o<"u"&&(y.SheetNames=o),n.bookSheets?y.SheetNames:n.bookProps))return y;o={};var v={};n.bookDeps&&i.calcchain&&(v=zB(Yi(e,La(i.calcchain)),i.calcchain,n));var P=0,D={},I,A;{var K=f.Sheets;g.Worksheets=K.length,g.SheetNames=[];for(var J=0;J!=K.length;++J)g.SheetNames[J]=K[J].name}var O=a?"bin":"xml",k=i.workbooks[0].lastIndexOf("/"),V=(i.workbooks[0].slice(0,k+1)+"_rels/"+i.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");za(e,V)||(V="xl/_rels/workbook."+O+".rels");var W=Zd(ya(e,V,!0),V.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(n.xlmeta=YB(Yi(e,La(i.metadata[0])),i.metadata[0],n)),(i.people||[]).length>=1&&(n.people=MR(Yi(e,La(i.people[0])),n)),W&&(W=dj(W,f.Sheets));var ee=Yi(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(P=0;P!=g.Worksheets;++P){var re="sheet";if(W&&W[P]?(I="xl/"+W[P][1].replace(/[\/]?xl\//,""),za(e,I)||(I=W[P][1]),za(e,I)||(I=V.replace(/_rels\/.*$/,"")+W[P][1]),re=W[P][2]):(I="xl/worksheets/sheet"+(P+1-ee)+"."+O,I=I.replace(/sheet0\./,"sheet.")),A=I.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),n&&n.sheets!=null)switch(typeof n.sheets){case"number":if(P!=n.sheets)continue e;break;case"string":if(g.SheetNames[P].toLowerCase()!=n.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(n.sheets)){for(var ie=!1,ke=0;ke!=n.sheets.length;++ke)typeof n.sheets[ke]=="number"&&n.sheets[ke]==P&&(ie=1),typeof n.sheets[ke]=="string"&&n.sheets[ke].toLowerCase()==g.SheetNames[P].toLowerCase()&&(ie=1);if(!ie)continue e}}mj(e,I,A,g.SheetNames[P],P,D,o,re,n,f,m,u)}return y={Directory:i,Workbook:f,Props:g,Custprops:C,Deps:v,Sheets:o,SheetNames:g.SheetNames,Strings:Jd,Styles:u,Themes:m,SSF:ri(bt)},n&&n.bookFiles&&(e.files?(y.keys=t,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(Be,ye){Be=Be.replace(/^Root Entry[\/]/,""),y.keys.push(Be),y.files[Be]=e.FileIndex[ye]}))),n&&n.bookVBA&&(i.vba.length>0?y.vbaraw=Yi(e,La(i.vba[0]),!0):i.defaults&&i.defaults.bin===IR&&(y.vbaraw=Yi(e,"xl/vbaProject.bin",!0))),y}function pj(e,n){var r=n||{},t="Workbook",i=gt.find(e,t);try{if(t="/!DataSpaces/Version",i=gt.find(e,t),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+t);if(YF(i.content),t="/!DataSpaces/DataSpaceMap",i=gt.find(e,t),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+t);var a=HF(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+t);if(t="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=gt.find(e,t),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+t);var o=$F(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+t);if(t="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=gt.find(e,t),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+t);qF(i.content)}catch{}if(t="/EncryptionInfo",i=gt.find(e,t),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+t);var s=XF(i.content);if(t="/EncryptedPackage",i=gt.find(e,t),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+t);if(s[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(s[1],i.content,r.password||"",r);if(s[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(s[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function fj(e,n){return n.bookType=="ods"?_M(e,n):n.bookType=="numbers"?cj(e,n):n.bookType=="xlsb"?hj(e,n):gj(e,n)}function hj(e,n){Vl=1024,e&&!e.SSF&&(e.SSF=ri(bt)),e&&e.SSF&&(ql(),_0(e.SSF),n.revssf=Vp(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.rels={},n.wbrels={},n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,e0?n.revStrings=new Map:(n.revStrings={},n.revStrings.foo=[],delete n.revStrings.foo);var r=n.bookType=="xlsb"?"bin":"xml",t=Hw.indexOf(n.bookType)>-1,i=f_();T_(n=n||{});var a=Kg(),o="",s=0;if(n.cellXfs=[],Fs(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",$t(a,o,sw(e.Props,n)),i.coreprops.push(o),Bn(n.rels,2,o,Gt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var m=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&m.push(e.SheetNames[u]);e.Props.SheetNames=m}for(e.Props.Worksheets=e.Props.SheetNames.length,$t(a,o,dw(e.Props,n)),i.extprops.push(o),Bn(n.rels,3,o,Gt.EXT_PROPS),e.Custprops!==e.Props&&Oi(e.Custprops||{}).length>0&&(o="docProps/custom.xml",$t(a,o,mw(e.Custprops,n)),i.custprops.push(o),Bn(n.rels,4,o,Gt.CUST_PROPS)),s=1;s<=e.SheetNames.length;++s){var f={"!id":{}},g=e.Sheets[e.SheetNames[s-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:o="xl/worksheets/sheet"+s+"."+r,$t(a,o,HB(s-1,o,n,e,f)),i.sheets.push(o),Bn(n.wbrels,-1,"worksheets/sheet"+s+"."+r,Gt.WS[0])}if(g){var C=g["!comments"],y=!1,v="";C&&C.length>0&&(v="xl/comments"+s+"."+r,$t(a,v,qB(C,v,n)),i.comments.push(v),Bn(f,-1,"../comments"+s+"."+r,Gt.CMNT),y=!0),g["!legacy"]&&y&&$t(a,"xl/drawings/vmlDrawing"+s+".vml",Yw(s,g["!comments"])),delete g["!comments"],delete g["!legacy"]}f["!id"].rId1&&$t(a,l0(o),zl(f))}return n.Strings!=null&&n.Strings.length>0&&(o="xl/sharedStrings."+r,$t(a,o,GB(n.Strings,o,n)),i.strs.push(o),Bn(n.wbrels,-1,"sharedStrings."+r,Gt.SST)),o="xl/workbook."+r,$t(a,o,WB(e,o,n)),i.workbooks.push(o),Bn(n.rels,1,o,Gt.WB),o="xl/theme/theme1.xml",$t(a,o,b_(e.Themes,n)),i.themes.push(o),Bn(n.wbrels,-1,"theme/theme1.xml",Gt.THEME),o="xl/styles."+r,$t(a,o,$B(e,o,n)),i.styles.push(o),Bn(n.wbrels,-1,"styles."+r,Gt.STY),e.vbaraw&&t&&(o="xl/vbaProject.bin",$t(a,o,e.vbaraw),i.vba.push(o),Bn(n.wbrels,-1,"vbaProject.bin",Gt.VBA)),o="xl/metadata."+r,$t(a,o,XB(o)),i.metadata.push(o),Bn(n.wbrels,-1,"metadata."+r,Gt.XLMETA),$t(a,"[Content_Types].xml",rw(i,n)),$t(a,"_rels/.rels",zl(n.rels)),$t(a,"xl/_rels/workbook."+r+".rels",zl(n.wbrels)),delete n.revssf,delete n.ssf,a}function gj(e,n){Vl=1024,e&&!e.SSF&&(e.SSF=ri(bt)),e&&e.SSF&&(ql(),_0(e.SSF),n.revssf=Vp(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.rels={},n.wbrels={},n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,e0?n.revStrings=new Map:(n.revStrings={},n.revStrings.foo=[],delete n.revStrings.foo);var r="xml",t=Hw.indexOf(n.bookType)>-1,i=f_();T_(n=n||{});var a=Kg(),o="",s=0;if(n.cellXfs=[],Fs(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",$t(a,o,sw(e.Props,n)),i.coreprops.push(o),Bn(n.rels,2,o,Gt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var m=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&m.push(e.SheetNames[u]);e.Props.SheetNames=m}e.Props.Worksheets=e.Props.SheetNames.length,$t(a,o,dw(e.Props,n)),i.extprops.push(o),Bn(n.rels,3,o,Gt.EXT_PROPS),e.Custprops!==e.Props&&Oi(e.Custprops||{}).length>0&&(o="docProps/custom.xml",$t(a,o,mw(e.Custprops,n)),i.custprops.push(o),Bn(n.rels,4,o,Gt.CUST_PROPS));var f=["SheetJ5"];for(n.tcid=0,s=1;s<=e.SheetNames.length;++s){var g={"!id":{}},x=e.Sheets[e.SheetNames[s-1]],C=(x||{})["!type"]||"sheet";switch(C){case"chart":default:o="xl/worksheets/sheet"+s+"."+r,$t(a,o,nM(s-1,n,e,g)),i.sheets.push(o),Bn(n.wbrels,-1,"worksheets/sheet"+s+"."+r,Gt.WS[0])}if(x){var y=x["!comments"],v=!1,P="";if(y&&y.length>0){var D=!1;y.forEach(function(I){I[1].forEach(function(A){A.T==!0&&(D=!0)})}),D&&(P="xl/threadedComments/threadedComment"+s+"."+r,$t(a,P,wR(y,f,n)),i.threadedcomments.push(P),Bn(g,-1,"../threadedComments/threadedComment"+s+"."+r,Gt.TCMNT)),P="xl/comments"+s+"."+r,$t(a,P,Ww(y,n)),i.comments.push(P),Bn(g,-1,"../comments"+s+"."+r,Gt.CMNT),v=!0}x["!legacy"]&&v&&$t(a,"xl/drawings/vmlDrawing"+s+".vml",Yw(s,x["!comments"])),delete x["!comments"],delete x["!legacy"]}g["!id"].rId1&&$t(a,l0(o),zl(g))}return n.Strings!=null&&n.Strings.length>0&&(o="xl/sharedStrings."+r,$t(a,o,Dw(n.Strings,n)),i.strs.push(o),Bn(n.wbrels,-1,"sharedStrings."+r,Gt.SST)),o="xl/workbook."+r,$t(a,o,sM(e,n)),i.workbooks.push(o),Bn(n.rels,1,o,Gt.WB),o="xl/theme/theme1.xml",$t(a,o,b_(e.Themes,n)),i.themes.push(o),Bn(n.wbrels,-1,"theme/theme1.xml",Gt.THEME),o="xl/styles."+r,$t(a,o,Vw(e,n)),i.styles.push(o),Bn(n.wbrels,-1,"styles."+r,Gt.STY),e.vbaraw&&t&&(o="xl/vbaProject.bin",$t(a,o,e.vbaraw),i.vba.push(o),Bn(n.wbrels,-1,"vbaProject.bin",Gt.VBA)),o="xl/metadata."+r,$t(a,o,Uw()),i.metadata.push(o),Bn(n.wbrels,-1,"metadata."+r,Gt.XLMETA),f.length>1&&(o="xl/persons/person.xml",$t(a,o,SR(f,n)),i.people.push(o),Bn(n.wbrels,-1,"persons/person.xml",Gt.PEOPLE)),$t(a,"[Content_Types].xml",rw(i,n)),$t(a,"_rels/.rels",zl(n.rels)),$t(a,"xl/_rels/workbook."+r+".rels",zl(n.wbrels)),delete n.revssf,delete n.ssf,a}function E_(e,n){var r="";switch((n||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=wa(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(n&&n.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function _j(e,n){return gt.find(e,"EncryptedPackage")?pj(e,n):mM(e,n)}function xj(e,n){var r,t=e,i=n||{};return i.type||(i.type=tn&&Buffer.isBuffer(e)?"buffer":"base64"),r=B2(t,i),uj(r,i)}function vM(e,n){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Vg(e.slice(r),n);default:break e}return $l.to_workbook(e,n)}function vj(e,n){var r="",t=E_(e,n);switch(n.type){case"base64":r=wa(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=sc(e);break;default:throw new Error("Unrecognized type "+n.type)}return t[0]==239&&t[1]==187&&t[2]==191&&(r=Yn(r)),n.type="binary",vM(r,n)}function bj(e,n){var r=e;return n.type=="base64"&&(r=wa(r)),r=An.utils.decode(1200,r.slice(2),"str"),n.type="binary",vM(r,n)}function Cj(e){return e.match(/[^\x00-\x7F]/)?_o(e):e}function Tg(e,n,r,t){return t?(r.type="string",$l.to_workbook(e,r)):$l.to_workbook(n,r)}function Rp(e,n){Wg();var r=n||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Rp(new Uint8Array(e),(r=ri(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var t=e,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Yl={},r.dateNF&&(Yl.dateNF=r.dateNF),r.type||(r.type=tn&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=tn?"buffer":"binary",t=hA(e),typeof Uint8Array<"u"&&!tn&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,t=Cj(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),s=new Uint8Array(o);if(s.foo="bar",!s.foo)return r=ri(r),r.type="array",Rp(Hg(t),r)}switch((i=E_(t,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return _j(gt.read(t,r),r);break;case 9:if(i[1]<=8)return mM(t,r);break;case 60:return Vg(t,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return PF(t,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return Tw.to_workbook(t,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?xj(t,r):Tg(e,t,r,a);case 239:return i[3]===60?Vg(t,r):Tg(e,t,r,a);case 255:if(i[1]===254)return bj(t,r);if(i[1]===0&&i[2]===2&&i[3]===0)return rc.to_workbook(t,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return rc.to_workbook(t,r);break;case 3:case 131:case 139:case 140:return Bg.to_workbook(t,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return Nw.to_workbook(t,r);break;case 10:case 13:case 32:return vj(t,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return SF.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?Bg.to_workbook(t,r):Tg(e,t,r,a)}function bM(e,n){switch(n.type){case"base64":case"binary":break;case"buffer":case"array":n.type="";break;case"file":return x0(n.file,gt.write(e,{type:tn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+n.bookType+"' files");default:throw new Error("Unrecognized type "+n.type)}return gt.write(e,n)}function yj(e,n){var r=ri(n||{}),t=fj(e,r);return wj(t,r)}function wj(e,n){var r={},t=tn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(n.compression&&(r.compression="DEFLATE"),n.password)r.type=t;else switch(n.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+n.bookType+"' files");case"buffer":case"file":r.type=t;break;default:throw new Error("Unrecognized type "+n.type)}var i=e.FullPaths?gt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!n.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(n.type=="binary"||n.type=="base64")return i;i=new Uint8Array(Lp(i))}return n.password&&typeof encrypt_agile<"u"?bM(encrypt_agile(i,n.password),n):n.type==="file"?x0(n.file,i):n.type=="string"?Yn(i):i}function Mj(e,n){var r=n||{},t=CV(e,r);return bM(t,r)}function go(e,n,r){r||(r="");var t=r+e;switch(n.type){case"base64":return r0(_o(t));case"binary":return _o(t);case"string":return e;case"file":return x0(n.file,t,"utf8");case"buffer":return tn?Ho(t,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(t):go(t,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+n.type)}function Sj(e,n){switch(n.type){case"base64":return r0(e);case"binary":return e;case"string":return e;case"file":return x0(n.file,e,"binary");case"buffer":return tn?Ho(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+n.type)}function wp(e,n){switch(n.type){case"string":case"base64":case"binary":for(var r="",t=0;t<e.length;++t)r+=String.fromCharCode(e[t]);return n.type=="base64"?r0(r):n.type=="string"?Yn(r):r;case"file":return x0(n.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+n.type)}}function D_(e,n){Wg(),_B(e);var r=ri(n||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var t=D_(e,r);return r.type="array",Lp(t)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return go(fV(e,r),r);case"slk":case"sylk":return go(Ow.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return go(pM(e.Sheets[e.SheetNames[i]],r),r);case"txt":return Sj(CM(e.Sheets[e.SheetNames[i]],r),r);case"csv":return go(I_(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return go(Tw.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return wp(Bg.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return go($l.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return go(Nw.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return go(Ew.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return go(_M(e,r),r);case"wk1":return wp(rc.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return wp(rc.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),wp(uM(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Mj(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return yj(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Pj(e,n,r,t,i,a,o,s){var m=Ri(r),u=s.defval,f=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),g=!0,x=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:r,enumerable:!1})}catch{x.__rowNum__=r}else x.__rowNum__=r;if(!o||e[r])for(var C=n.s.c;C<=n.e.c;++C){var y=o?e[r][C]:e[t[C]+m];if(y===void 0||y.t===void 0){if(u===void 0)continue;a[C]!=null&&(x[a[C]]=u);continue}var v=y.v;switch(y.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(a[C]!=null){if(v==null)if(y.t=="e"&&v===null)x[a[C]]=null;else if(u!==void 0)x[a[C]]=u;else if(f&&v===null)x[a[C]]=null;else continue;else x[a[C]]=f&&(y.t!=="n"||y.t==="n"&&s.rawNumbers!==!1)?v:Wo(y,v,s);v!=null&&(g=!1)}}return{row:x,isempty:g}}function Np(e,n){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},t=0,i=1,a=[],o=0,s="",m={s:{r:0,c:0},e:{r:0,c:0}},u=n||{},f=u.range!=null?u.range:e["!ref"];switch(u.header===1?t=1:u.header==="A"?t=2:Array.isArray(u.header)?t=3:u.header==null&&(t=0),typeof f){case"string":m=Cn(f);break;case"number":m=Cn(e["!ref"]),m.s.r=f;break;default:m=f}t>0&&(i=0);var g=Ri(m.s.r),x=[],C=[],y=0,v=0,P=Array.isArray(e),D=m.s.r,I=0,A={};P&&!e[D]&&(e[D]=[]);var K=u.skipHidden&&e["!cols"]||[],J=u.skipHidden&&e["!rows"]||[];for(I=m.s.c;I<=m.e.c;++I)if(!(K[I]||{}).hidden)switch(x[I]=_i(I),r=P?e[D][I]:e[x[I]+g],t){case 1:a[I]=I-m.s.c;break;case 2:a[I]=x[I];break;case 3:a[I]=u.header[I-m.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),s=o=Wo(r,null,u),v=A[o]||0,!v)A[o]=1;else{do s=o+"_"+v++;while(A[s]);A[o]=v,A[s]=1}a[I]=s}for(D=m.s.r+i;D<=m.e.r;++D)if(!(J[D]||{}).hidden){var O=Pj(e,m,D,x,t,a,P,u);(O.isempty===!1||(t===1?u.blankrows!==!1:u.blankrows))&&(C[y++]=O.row)}return C.length=y,C}var b2=/"/g;function kj(e,n,r,t,i,a,o,s){for(var m=!0,u=[],f="",g=Ri(r),x=n.s.c;x<=n.e.c;++x)if(t[x]){var C=s.dense?(e[r]||[])[x]:e[t[x]+g];if(C==null)f="";else if(C.v!=null){m=!1,f=""+(s.rawNumbers&&C.t=="n"?C.v:Wo(C,null,s));for(var y=0,v=0;y!==f.length;++y)if((v=f.charCodeAt(y))===i||v===a||v===34||s.forceQuotes){f='"'+f.replace(b2,'""')+'"';break}f=="ID"&&(f='"ID"')}else C.f!=null&&!C.F?(m=!1,f="="+C.f,f.indexOf(",")>=0&&(f='"'+f.replace(b2,'""')+'"')):f="";u.push(f)}return s.blankrows===!1&&m?null:u.join(o)}function I_(e,n){var r=[],t=n==null?{}:n;if(e==null||e["!ref"]==null)return"";var i=Cn(e["!ref"]),a=t.FS!==void 0?t.FS:",",o=a.charCodeAt(0),s=t.RS!==void 0?t.RS:`
`,m=s.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),f="",g=[];t.dense=Array.isArray(e);for(var x=t.skipHidden&&e["!cols"]||[],C=t.skipHidden&&e["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(x[y]||{}).hidden||(g[y]=_i(y));for(var v=0,P=i.s.r;P<=i.e.r;++P)(C[P]||{}).hidden||(f=kj(e,i,P,g,o,m,a,t),f!=null&&(t.strip&&(f=f.replace(u,"")),(f||t.blankrows!==!1)&&r.push((v++?s:"")+f)));return delete t.dense,r.join("")}function CM(e,n){n||(n={}),n.FS="	",n.RS=`
`;var r=I_(e,n);if(typeof An>"u"||n.type=="string")return r;var t=An.utils.encode(1200,r,"str");return"\xFF\xFE"+t}function Oj(e){var n="",r,t="";if(e==null||e["!ref"]==null)return[];var i=Cn(e["!ref"]),a="",o=[],s,m=[],u=Array.isArray(e);for(s=i.s.c;s<=i.e.c;++s)o[s]=_i(s);for(var f=i.s.r;f<=i.e.r;++f)for(a=Ri(f),s=i.s.c;s<=i.e.c;++s)if(n=o[s]+a,r=u?(e[f]||[])[s]:e[n],t="",r!==void 0){if(r.F!=null){if(n=r.F,!r.f)continue;t=r.f,n.indexOf(":")==-1&&(n=n+":"+n)}if(r.f!=null)t=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)t=""+r.v;else if(r.t=="b")t=r.v?"TRUE":"FALSE";else if(r.w!==void 0)t="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?t="'"+r.v:t=""+r.v}}m[m.length]=n+"="+t}return m}function yM(e,n,r){var t=r||{},i=+!t.skipHeader,a=e||{},o=0,s=0;if(a&&t.origin!=null)if(typeof t.origin=="number")o=t.origin;else{var m=typeof t.origin=="string"?xi(t.origin):t.origin;o=m.r,s=m.c}var u,f={s:{c:0,r:0},e:{c:s,r:o+n.length-1+i}};if(a["!ref"]){var g=Cn(a["!ref"]);f.e.c=Math.max(f.e.c,g.e.c),f.e.r=Math.max(f.e.r,g.e.r),o==-1&&(o=g.e.r+1,f.e.r=o+n.length-1+i)}else o==-1&&(o=0,f.e.r=n.length-1+i);var x=t.header||[],C=0;n.forEach(function(v,P){Oi(v).forEach(function(D){(C=x.indexOf(D))==-1&&(x[C=x.length]=D);var I=v[D],A="z",K="",J=Mt({c:s+C,r:o+P+i});u=g0(a,J),I&&typeof I=="object"&&!(I instanceof Date)?a[J]=I:(typeof I=="number"?A="n":typeof I=="boolean"?A="b":typeof I=="string"?A="s":I instanceof Date?(A="d",t.cellDates||(A="n",I=tr(I)),K=t.dateNF||bt[14]):I===null&&t.nullError&&(A="e",I=0),u?(u.t=A,u.v=I,delete u.w,delete u.R,K&&(u.z=K)):a[J]=u={t:A,v:I},K&&(u.z=K))})}),f.e.c=Math.max(f.e.c,s+x.length-1);var y=Ri(o);if(i)for(C=0;C<x.length;++C)a[_i(C+s)+y]={t:"s",v:x[C]};return a["!ref"]=Wt(f),a}function Tj(e,n){return yM(null,e,n)}function g0(e,n,r){if(typeof n=="string"){if(Array.isArray(e)){var t=xi(n);return e[t.r]||(e[t.r]=[]),e[t.r][t.c]||(e[t.r][t.c]={t:"z"})}return e[n]||(e[n]={t:"z"})}return typeof n!="number"?g0(e,Mt(n)):g0(e,Mt({r:n,c:r||0}))}function Ej(e,n){if(typeof n=="number"){if(n>=0&&e.SheetNames.length>n)return n;throw new Error("Cannot find sheet # "+n)}else if(typeof n=="string"){var r=e.SheetNames.indexOf(n);if(r>-1)return r;throw new Error("Cannot find sheet name |"+n+"|")}else throw new Error("Cannot find sheet |"+n+"|")}function A_(){return{SheetNames:[],Sheets:{}}}function F_(e,n,r,t){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(t&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var o=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=o+i)!=-1;++i);}if(oM(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=n,r}function Dj(e,n,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var t=Ej(e,n);switch(e.Workbook.Sheets[t]||(e.Workbook.Sheets[t]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[t].Hidden=r}function Ij(e,n){return e.z=n,e}function wM(e,n,r){return n?(e.l={Target:n},r&&(e.l.Tooltip=r)):delete e.l,e}function Aj(e,n,r){return wM(e,"#"+n,r)}function Fj(e,n,r){e.c||(e.c=[]),e.c.push({t:n,a:r||"SheetJS"})}function Rj(e,n,r,t){for(var i=typeof n!="string"?n:Cn(n),a=typeof n=="string"?n:Wt(n),o=i.s.r;o<=i.e.r;++o)for(var s=i.s.c;s<=i.e.c;++s){var m=g0(e,o,s);m.t="n",m.F=a,delete m.v,o==i.s.r&&s==i.s.c&&(m.f=r,t&&(m.D=!0))}return e}var Zl={encode_col:_i,encode_row:Ri,encode_cell:Mt,encode_range:Wt,decode_col:c_,decode_row:s_,split_cell:GA,decode_cell:xi,decode_range:ia,format_cell:Wo,sheet_add_aoa:Q2,sheet_add_json:yM,sheet_add_dom:fM,aoa_to_sheet:Kl,json_to_sheet:Tj,table_to_sheet:hM,table_to_book:YV,sheet_to_csv:I_,sheet_to_txt:CM,sheet_to_json:Np,sheet_to_html:pM,sheet_to_formulae:Oj,sheet_to_row_object_array:Np,sheet_get_cell:g0,book_new:A_,book_append_sheet:F_,book_set_sheet_visibility:Dj,cell_set_number_format:Ij,cell_set_hyperlink:wM,cell_set_internal_link:Aj,cell_add_comment:Fj,sheet_set_array_formula:Rj,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var yJ=i0.version;var Lj=ra(MM(),1),$p=(()=>{let n=class n{constructor(){this._papa=Lj}parse(t,i){return this._papa.parse(t,i)}unparse(t,i){return this._papa.unparse(t,i)}setLocalChunkSize(t){this._papa.LocalChunkSize=t}setRemoteChunkSize(t){this._papa.RemoteChunkSize=t}setDefaultDelimiter(t){this._papa.DefaultDelimiter=t}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var Vj=["fileUploadContainer"],jj=(e,n)=>n.accountId,SM=(e,n)=>n._idx,PM=(e,n)=>n.name;function zj(e,n){if(e&1&&(c(0,"mat-option",28),d(1),l()),e&2){let r=n.$implicit;M("value",r.accountId),h(),_n(" ",r.name," (",r.type,") ")}}function Uj(e,n){if(e&1){let r=ue();c(0,"div",22)(1,"h3",23),d(2,"Import Settings"),l(),c(3,"div",24)(4,"div",25)(5,"label",26),d(6,"Default Account"),l(),c(7,"mat-select",27),pt("valueChange",function(i){N(r);let a=w();return ut(a.defaultAccountId,i)||(a.defaultAccountId=i),L(i)}),Ge(8,zj,2,3,"mat-option",28,jj),l()()()()}if(e&2){let r=w();h(7),mt("value",r.defaultAccountId),h(),qe(r.accounts)}}function Yj(e,n){if(e&1&&(c(0,"div",29)(1,"mat-icon",30),d(2,"file_present"),l(),d(3),l()),e&2){let r=w();h(3),_n(" ",r.selectedFile.name," (",r.fileType,") ")}}function Wj(e,n){if(e&1&&(c(0,"div",31)(1,"mat-icon",32),d(2,"error"),l(),c(3,"span",33),d(4),l()()),e&2){let r=w();h(4),G(r.error)}}function Hj(e,n){e&1&&(c(0,"div",34),se(1,"mat-spinner",35),c(2,"p",36),d(3,"Processing file..."),l()())}function $j(e,n){if(e&1&&(c(0,"span"),d(1),l()),e&2){let r=w().$implicit;h(),G(r.payee)}}function Gj(e,n){if(e&1){let r=ue();c(0,"input",62),F("keydown",function(i){N(r);let a=w().$index,o=w(3);return L(o.onKeyDown(i,a,"payee",o.getInputValue(i)))})("blur",function(i){N(r);let a=w().$index,o=w(3);return L(o.onBlur(a,"payee",o.getInputValue(i)))})("click",function(i){return N(r),L(i.stopPropagation())}),l()}if(e&2){let r=w().$implicit;M("value",r.payee)}}function qj(e,n){if(e&1&&(c(0,"span"),d(1),l()),e&2){let r=w().$implicit;h(),G(r.category)}}function Xj(e,n){if(e&1&&(c(0,"mat-option",28),d(1),l()),e&2){let r=n.$implicit;M("value",r.name),h(),ae(" ",r.name," ")}}function Kj(e,n){if(e&1){let r=ue();c(0,"mat-select",63),F("selectionChange",function(i){N(r);let a=w().$index,o=w(3);return L(o.updateTransaction(a,"category",i.value))})("click",function(i){return N(r),L(i.stopPropagation())}),Ge(1,Xj,2,2,"mat-option",28,PM),l()}if(e&2){let r=w().$implicit,t=w(3);M("value",r.category),h(),qe(t.getCategoriesForType(r.type))}}function Qj(e,n){if(e&1&&(c(0,"span"),d(1),_e(2,"number"),l()),e&2){let r=w().$implicit;h(),_n(" ",r.type==="income"?"+":"-","\u20B9",Rt(2,2,r.amount,"1.2-2")," ")}}function Zj(e,n){if(e&1){let r=ue();c(0,"input",64),F("keydown",function(i){N(r);let a=w().$index,o=w(3);return L(o.onKeyDown(i,a,"amount",o.getInputValue(i)))})("blur",function(i){N(r);let a=w().$index,o=w(3);return L(o.onBlur(a,"amount",o.getInputValue(i)))})("click",function(i){return N(r),L(i.stopPropagation())}),l()}if(e&2){let r=w().$implicit;M("value",r.amount)}}function Jj(e,n){if(e&1&&(c(0,"span"),d(1),l()),e&2){let r=w().$implicit;h(),G(r.type)}}function ez(e,n){if(e&1){let r=ue();c(0,"mat-select",63),F("selectionChange",function(i){N(r);let a=w().$index,o=w(3);return L(o.updateTransaction(a,"type",i.value))})("click",function(i){return N(r),L(i.stopPropagation())}),c(1,"mat-option",65),d(2,"Income"),l(),c(3,"mat-option",66),d(4,"Expense"),l()()}if(e&2){let r=w().$implicit;M("value",r.type)}}function tz(e,n){if(e&1&&(c(0,"span"),d(1),l()),e&2){let r=w().$implicit;h(),G(r==null?null:r.date)}}function nz(e,n){if(e&1){let r=ue();c(0,"input",67),F("keydown",function(i){N(r);let a=w().$index,o=w(3);return L(o.onKeyDown(i,a,"date",o.getInputValue(i)))})("blur",function(i){N(r);let a=w().$index,o=w(3);return L(o.onBlur(a,"date",o.getInputValue(i)))})("click",function(i){return N(r),L(i.stopPropagation())}),l()}if(e&2){let r=w().$implicit;M("value",r.date)}}function iz(e,n){if(e&1&&(c(0,"div",68)(1,"small",69),d(2),l()()),e&2){let r=w().$implicit;h(2),G(r.narration)}}function rz(e,n){if(e&1){let r=ue();c(0,"div",46),F("click",function(){let i=N(r).$implicit,a=w(3);return L(a.toggleSelect(i._idx))}),c(1,"div",47)(2,"mat-checkbox",48),F("change",function(){let i=N(r).$implicit,a=w(3);return L(a.toggleSelect(i._idx))})("click",function(i){return N(r),L(i.stopPropagation())}),l(),c(3,"div",49)(4,"div",50),F("click",function(i){let a=N(r).$index;return w(3).startEditing(a,"payee"),L(i.stopPropagation())}),U(5,$j,2,1,"span",51)(6,Gj,1,1,"input",52),l(),c(7,"div",53),F("click",function(i){let a=N(r).$index;return w(3).startEditing(a,"category"),L(i.stopPropagation())}),U(8,qj,2,1,"span",51)(9,Kj,3,1,"mat-select",54),l()(),c(10,"div",55)(11,"div",56),U(12,Qj,3,5,"span",51)(13,Zj,1,1,"input",57),l(),c(14,"div",58),F("click",function(i){let a=N(r).$index;return w(3).startEditing(a,"type"),L(i.stopPropagation())}),U(15,Jj,2,1,"span",51)(16,ez,5,1,"mat-select",54),l(),c(17,"div",59),F("click",function(i){let a=N(r).$index;return w(3).startEditing(a,"date"),L(i.stopPropagation())}),U(18,tz,2,1,"span",51)(19,nz,1,1,"input",60),l()()(),U(20,iz,3,1,"div",61),l()}if(e&2){let r=n.$implicit,t=n.$index,i=w(3);Fe("selected",i.selectedToImport.has(r._idx)),h(2),M("checked",i.selectedToImport.has(r._idx)),h(3),M("ngIf",i.editingTransaction!==t||i.editingField!=="payee"),h(),M("ngIf",i.editingTransaction===t&&i.editingField==="payee"),h(2),M("ngIf",i.editingTransaction!==t||i.editingField!=="category"),h(),M("ngIf",i.editingTransaction===t&&i.editingField==="category"),h(2),Fe("income",r.type==="income")("expense",r.type==="expense"),h(),M("ngIf",i.editingTransaction!==t||i.editingField!=="amount"),h(),M("ngIf",i.editingTransaction===t&&i.editingField==="amount"),h(2),M("ngIf",i.editingTransaction!==t||i.editingField!=="type"),h(),M("ngIf",i.editingTransaction===t&&i.editingField==="type"),h(2),M("ngIf",i.editingTransaction!==t||i.editingField!=="date"),h(),M("ngIf",i.editingTransaction===t&&i.editingField==="date"),h(),M("ngIf",r.narration)}}function az(e,n){if(e&1&&(c(0,"div",44),Ge(1,rz,21,18,"div",45,SM),l()),e&2){let r=w(2);h(),qe(r.parsedTransactions)}}function oz(e,n){e&1&&(c(0,"th"),d(1,"Details"),l())}function sz(e,n){if(e&1&&(c(0,"span"),d(1),l()),e&2){let r=w().$implicit;h(),G(r.payee)}}function cz(e,n){if(e&1){let r=ue();c(0,"input",89),F("keydown",function(i){N(r);let a=w().$index,o=w(3);return L(o.onKeyDown(i,a,"payee",o.getInputValue(i)))})("blur",function(i){N(r);let a=w().$index,o=w(3);return L(o.onBlur(a,"payee",o.getInputValue(i)))}),l()}if(e&2){let r=w().$implicit;M("value",r.payee)}}function lz(e,n){if(e&1){let r=ue();c(0,"span",90),F("click",function(){N(r);let i=w().$index,a=w(3);return L(a.startEditing(i,"amount"))}),d(1),_e(2,"number"),l()}if(e&2){let r=w().$implicit;Fe("income",r.type==="income")("expense",r.type==="expense"),h(),_n(" ",r.type==="income"?"+":"-","\u20B9",Rt(2,6,r.amount,"1.2-2")," ")}}function dz(e,n){if(e&1){let r=ue();c(0,"input",91),F("keydown",function(i){N(r);let a=w().$index,o=w(3);return L(o.onKeyDown(i,a,"amount",o.getInputValue(i)))})("blur",function(i){N(r);let a=w().$index,o=w(3);return L(o.onBlur(a,"amount",o.getInputValue(i)))}),l()}if(e&2){let r=w().$implicit;M("value",r.amount)}}function mz(e,n){if(e&1){let r=ue();c(0,"span",92),F("click",function(){N(r);let i=w().$index,a=w(3);return L(a.startEditing(i,"type"))}),d(1),l()}if(e&2){let r=w().$implicit;Fe("income",r.type==="income")("expense",r.type==="expense"),h(),ae(" ",r.type," ")}}function uz(e,n){if(e&1){let r=ue();c(0,"mat-select",93),F("selectionChange",function(i){N(r);let a=w().$index,o=w(3);return L(o.updateTransaction(a,"type",i.value))}),c(1,"mat-option",65),d(2,"Income"),l(),c(3,"mat-option",66),d(4,"Expense"),l()()}if(e&2){let r=w().$implicit;M("value",r.type)}}function pz(e,n){if(e&1&&(c(0,"span"),d(1),l()),e&2){let r=w().$implicit;h(),G(r.category)}}function fz(e,n){if(e&1&&(c(0,"mat-option",28),d(1),l()),e&2){let r=n.$implicit;M("value",r.name),h(),ae(" ",r.name," ")}}function hz(e,n){if(e&1){let r=ue();c(0,"mat-select",93),F("selectionChange",function(i){N(r);let a=w().$index,o=w(3);return L(o.updateTransaction(a,"category",i.value))}),Ge(1,fz,2,2,"mat-option",28,PM),l()}if(e&2){let r=w().$implicit,t=w(3);M("value",r.category),h(),qe(t.getCategoriesForType(r.type))}}function gz(e,n){if(e&1&&(c(0,"span"),d(1),_e(2,"date"),l()),e&2){let r=w().$implicit;h(),G(Rt(2,1,r.date,"shortDate"))}}function _z(e,n){if(e&1){let r=ue();c(0,"input",94),F("keydown",function(i){N(r);let a=w().$index,o=w(3);return L(o.onKeyDown(i,a,"date",o.getInputValue(i)))})("blur",function(i){N(r);let a=w().$index,o=w(3);return L(o.onBlur(a,"date",o.getInputValue(i)))}),l()}if(e&2){let r=w().$implicit;M("value",r.date)}}function xz(e,n){if(e&1&&(c(0,"td",95)(1,"mat-icon",96),d(2,"info"),l()()),e&2){let r=w().$implicit;h(),la("matTooltip",r.narration)}}function vz(e,n){if(e&1){let r=ue();c(0,"tr",75)(1,"td",73)(2,"mat-checkbox",76),F("change",function(){let i=N(r).$implicit,a=w(3);return L(a.toggleSelect(i._idx))}),l()(),c(3,"td",77),F("click",function(){let i=N(r).$index,a=w(3);return L(a.startEditing(i,"payee"))}),U(4,sz,2,1,"span",51)(5,cz,1,1,"input",78),l(),c(6,"td",79),U(7,lz,3,9,"span",80)(8,dz,1,1,"input",81),l(),c(9,"td",82),U(10,mz,2,5,"span",83)(11,uz,5,1,"mat-select",84),l(),c(12,"td",85),F("click",function(){let i=N(r).$index,a=w(3);return L(a.startEditing(i,"category"))}),U(13,pz,2,1,"span",51)(14,hz,3,1,"mat-select",84),l(),c(15,"td",86),F("click",function(){let i=N(r).$index,a=w(3);return L(a.startEditing(i,"date"))}),U(16,gz,3,4,"span",51)(17,_z,1,1,"input",87),l(),U(18,xz,3,1,"td",88),l()}if(e&2){let r=n.$implicit,t=n.$index,i=w(3);h(2),M("checked",i.selectedToImport.has(r._idx)),h(2),M("ngIf",i.editingTransaction!==t||i.editingField!=="payee"),h(),M("ngIf",i.editingTransaction===t&&i.editingField==="payee"),h(2),M("ngIf",i.editingTransaction!==t||i.editingField!=="amount"),h(),M("ngIf",i.editingTransaction===t&&i.editingField==="amount"),h(2),M("ngIf",i.editingTransaction!==t||i.editingField!=="type"),h(),M("ngIf",i.editingTransaction===t&&i.editingField==="type"),h(2),M("ngIf",i.editingTransaction!==t||i.editingField!=="category"),h(),M("ngIf",i.editingTransaction===t&&i.editingField==="category"),h(2),M("ngIf",i.editingTransaction!==t||i.editingField!=="date"),h(),M("ngIf",i.editingTransaction===t&&i.editingField==="date"),h(),M("ngIf",r.narration)}}function bz(e,n){if(e&1){let r=ue();c(0,"div",70)(1,"div",71)(2,"table",72)(3,"thead")(4,"tr")(5,"th",73)(6,"mat-checkbox",74),F("change",function(){N(r);let i=w(2);return L(i.toggleSelectAll())}),l()(),c(7,"th"),d(8,"Payee"),l(),c(9,"th"),d(10,"Amount"),l(),c(11,"th"),d(12,"Type"),l(),c(13,"th"),d(14,"Category"),l(),c(15,"th"),d(16,"Date"),l(),U(17,oz,2,0,"th",51),l()(),c(18,"tbody"),Ge(19,vz,19,12,"tr",75,SM),l()()()()}if(e&2){let r=w(2);h(6),M("checked",r.selectedToImport.size===r.parsedTransactions.length)("indeterminate",r.selectedToImport.size>0&&r.selectedToImport.size<r.parsedTransactions.length),h(11),M("ngIf",r.parsedTransactions[0]==null?null:r.parsedTransactions[0].narration),h(2),qe(r.parsedTransactions)}}function Cz(e,n){if(e&1){let r=ue();c(0,"div",37)(1,"div",38)(2,"h3",39),d(3,"Preview & Select Transactions"),l(),c(4,"div",40)(5,"button",41),F("click",function(){N(r);let i=w();return L(i.toggleSelectAll())}),d(6),l(),c(7,"span",13),d(8),l()()(),U(9,az,3,0,"div",42)(10,bz,21,3,"div",43),l()}if(e&2){let r=w();h(6),ae(" ",r.selectedToImport.size===r.parsedTransactions.length?"Deselect All":"Select All"," "),h(2),_n(" ",r.selectedToImport.size," of ",r.parsedTransactions.length," selected "),h(),M("ngIf",r.isMobile),h(),M("ngIf",!r.isMobile)}}var Gp=(()=>{let n=class n{constructor(t,i,a,o,s,m,u){this.dialogRef=t,this.data=i,this.notificationService=a,this.papa=o,this.auth=s,this.store=m,this.ssrService=u,this.selectedFile=null,this.parsedTransactions=[],this.selectedToImport=new Set,this.error="",this.isLoading=!1,this.isMobile=!1,this.isDragOver=!1,this.fileType="",this.editingTransaction=null,this.editingField=null,this.accounts=[],this.categories=[],this.incomeCategories=[],this.expenseCategories=[],this.defaultAccountId="",this.checkScreenSize(),this.ssrService.isClientSide()&&window.addEventListener("resize",()=>this.checkScreenSize()),this.loadAccountsAndCategories()}ngAfterViewInit(){this.setupDragAndDrop()}ngOnDestroy(){this.ssrService.isClientSide()&&window.removeEventListener("resize",()=>this.checkScreenSize())}loadAccountsAndCategories(){return me(this,null,function*(){var i;if((i=this.auth.currentUser)!=null&&i.uid)try{this.store.select(Fa).subscribe(a=>{this.accounts=a,a.length>0&&(this.defaultAccountId=a[0].accountId)}),this.store.select(zi).subscribe(a=>{this.categories=a,this.incomeCategories=a.filter(o=>o.type==="income"),this.expenseCategories=a.filter(o=>o.type==="expense")})}catch(a){console.error("Error loading accounts and categories:",a)}})}startEditing(t,i){this.editingTransaction=t,this.editingField=i}stopEditing(){this.editingTransaction=null,this.editingField=null}updateTransaction(t,i,a){if(t>=0&&t<this.parsedTransactions.length&&(this.parsedTransactions[t][i]=a,i==="type")){let o=this.parsedTransactions[t];a==="income"&&this.incomeCategories.length>0?o.category=this.incomeCategories[0].name:a==="expense"&&this.expenseCategories.length>0&&(o.category=this.expenseCategories[0].name)}this.stopEditing()}getCategoriesForType(t){return t==="income"?this.incomeCategories:this.expenseCategories}onKeyDown(t,i,a,o){t.key==="Enter"?this.updateTransaction(i,a,o):t.key==="Escape"&&this.stopEditing()}onBlur(t,i,a){this.updateTransaction(t,i,a)}getInputValue(t){let i=t.target;return i?i.value:""}setupDragAndDrop(){var i;let t=(i=this.fileUploadContainer)==null?void 0:i.nativeElement;t&&(t.addEventListener("dragover",a=>{a.preventDefault(),a.stopPropagation(),this.isDragOver=!0}),t.addEventListener("dragleave",a=>{a.preventDefault(),a.stopPropagation(),this.isDragOver=!1}),t.addEventListener("drop",a=>{var s;a.preventDefault(),a.stopPropagation(),this.isDragOver=!1;let o=(s=a.dataTransfer)==null?void 0:s.files;o&&o.length>0&&this.handleFile(o[0])}))}checkScreenSize(){this.ssrService.isClientSide()&&(this.isMobile=window.innerWidth<768)}onFileSelected(t){let i=t.target.files[0];i&&this.handleFile(i)}handleFile(t){if(!t){this.notificationService.warning("Please select a file");return}let i=[".csv",".xlsx",".xls"],a=t.name.toLowerCase().substring(t.name.lastIndexOf("."));if(!i.includes(a)){this.notificationService.error("Please select a CSV, XLSX, or XLS file");return}this.selectedFile=t,this.fileType=a.toUpperCase(),this.error="",this.isLoading=!0,this.notificationService.info(`Processing ${this.fileType} file...`),a===".csv"?this.parseCSVFile(t):(a===".xlsx"||a===".xls")&&this.parseExcelFile(t)}parseCSVFile(t){this.papa.parse(t,{header:!0,skipEmptyLines:!0,complete:i=>{if(this.isLoading=!1,i.errors.length>0&&(console.warn("CSV parsing warnings:",i.errors),i.data.length===0)){this.error="Error parsing CSV file. Please check the format.",this.notificationService.error("Failed to parse CSV file");return}this.processParsedData(i.data),this.notificationService.success(`Successfully parsed ${this.parsedTransactions.length} transactions from CSV file`)},error:i=>{this.isLoading=!1,this.error="Error reading file.",this.notificationService.error("Failed to read file"),console.error("CSV parsing error:",i)}})}parseExcelFile(t){let i=new FileReader;i.onload=a=>{try{let o=new Uint8Array(a.target.result),s=Rp(o,{type:"array"});if(s.SheetNames.length===0){this.isLoading=!1,this.error="Excel file contains no sheets.",this.notificationService.error("No sheets found in Excel file");return}let m=s.SheetNames[0],u=s.Sheets[m],f=Zl.sheet_to_json(u,{header:1});if(f.length<2){this.isLoading=!1,this.error="Excel file is empty or has no data rows.",this.notificationService.error("No data found in Excel file");return}let g=f[0],x=f.slice(1);if(!g||g.length===0){this.isLoading=!1,this.error="Excel file must have a header row.",this.notificationService.error("Invalid Excel format - missing headers");return}let C=Zl.sheet_to_json(u,{defval:"",raw:!0});if(C.length===0){this.isLoading=!1,this.error="No valid data rows found in Excel file.",this.notificationService.error("No valid data in Excel file");return}this.isLoading=!1,this.processParsedData(C),this.notificationService.success(`Successfully parsed ${this.parsedTransactions.length} transactions from Excel file`)}catch(o){this.isLoading=!1,this.error="Error parsing Excel file. Please check the format.",this.notificationService.error("Failed to parse Excel file"),console.error("Excel parsing error:",o)}},i.onerror=()=>{this.isLoading=!1,this.error="Error reading Excel file.",this.notificationService.error("Failed to read Excel file")},i.readAsArrayBuffer(t)}processParsedData(t){if(!t||t.length===0){this.error="No valid data found in the file.",this.notificationService.error("No transactions found in the file");return}if(this.isHDFCStatement(t)?this.parseHDFCStatement(t):this.parseStandardFormat(t),this.parsedTransactions.length===0){this.error="No valid transactions found in the file.",this.notificationService.error("No valid transactions found");return}this.selectedToImport=new Set(this.parsedTransactions.map(i=>i._idx))}isHDFCStatement(t){let i=t[0];if(!i)return!1;let a=i.Date!==void 0&&i.Narration!==void 0&&i["Withdrawal Amt."]!==void 0&&i["Deposit Amt."]!==void 0,o=Object.values(i).some(s=>typeof s=="string"&&s.toLowerCase().includes("hdfc"));return a||o}parseHDFCStatement(t){let i=(f,g)=>Object.keys(f).find(x=>x.toLowerCase().includes(g)),a=i(t[0],"date"),o=i(t[0],"narration"),s=i(t[0],"withdrawal"),m=i(t[0],"deposit"),u=i(t[0],"ref")||i(t[0],"chq");if(!a||!o||!s&&!m){this.error="Missing expected columns in HDFC statement.",this.notificationService.error("Invalid format for HDFC statement.");return}this.parsedTransactions=t.filter(f=>{let g=f[a];return g&&typeof g!="string"?!0:g.trim()!==""&&!g.includes("Date")&&!g.includes("*")}).map((f,g)=>{let x=f[a],C=f[o],y=f[s],v=f[m],P=this.parseHDFCAmount(y,v),D=P>0?"income":"expense";return{_idx:g,payee:this.cleanHDFCNarration(C),amount:Math.abs(P),type:D,category:this.categorizeHDFCTransaction(C),date:this.parseHDFCDate(x),narration:C,reference:f[u]||""}}).filter(f=>f.amount>0)}parseStandardFormat(t){this.parsedTransactions=t.map((i,a)=>({_idx:a,payee:i.payee||i.Payee||i.PAYEE||"",amount:parseFloat(i.amount||i.Amount||i.AMOUNT||"0"),type:(i.type||i.Type||i.TYPE||"expense").toLowerCase(),category:i.category||i.Category||i.CATEGORY||"Other",date:i.date||i.Date||i.DATE||new Date().toISOString().split("T")[0]}))}parseHDFCDate(t){if(!t)return new Date().toISOString().split("T")[0];if(typeof t=="number"){let i=qg.parse_date_code(t);if(i){let a=i.y.toString().padStart(4,"0"),o=i.m.toString().padStart(2,"0"),s=i.d.toString().padStart(2,"0");return`${a}-${o}-${s}`}}if(typeof t=="string"){let i=t.trim().split("/");if(i.length===3){let a=i[0].padStart(2,"0"),o=i[1].padStart(2,"0");return`${i[2].length===2?"20"+i[2]:i[2]}-${o}-${a}`}}return new Date().toISOString().split("T")[0]}parseHDFCAmount(t,i){let a=parseFloat((t==null?void 0:t.replace(/,/g,""))||"0");return parseFloat((i==null?void 0:i.replace(/,/g,""))||"0")-a}cleanHDFCNarration(t){if(!t)return"Unknown";let i=t.replace(/^(UPI|NEFT|IMPS|ACH|POS|EMI|IB BILLPAY|DC)\s*-?\s*/i,"").replace(/^[A-Z0-9]+-[A-Z0-9]+-/,"").replace(/^[A-Z0-9]+-/,""),a=i.match(/^([^-]+)-/);return a&&(i=a[1]),i=i.replace(/@[A-Z0-9]+/g,"").replace(/-[A-Z0-9]+$/g,"").replace(/\s+/," ").trim(),i||"Unknown"}categorizeHDFCTransaction(t){let i=t.toLowerCase();return i.includes("salary")||i.includes("techmahindra")?"Salary":i.includes("zomato")||i.includes("swiggy")||i.includes("restaurant")||i.includes("food")||i.includes("hungerbox")?"Food & Dining":i.includes("fuel")||i.includes("petrol")||i.includes("oil")||i.includes("bp ")||i.includes("quality fuel")?"Fuel":i.includes("flipkart")||i.includes("amazon")||i.includes("shopping")||i.includes("mr diy")||i.includes("bata")||i.includes("lenskart")?"Shopping":i.includes("spotify")||i.includes("netflix")||i.includes("entertainment")?"Entertainment":i.includes("electricity")||i.includes("water")||i.includes("gas")||i.includes("utility")||i.includes("vodafone")||i.includes("jio")?"Utilities":i.includes("uber")||i.includes("ola")||i.includes("parking")||i.includes("transport")||i.includes("irctc")?"Transport":i.includes("rent")?"Rent":i.includes("emi")?"EMI":i.includes("medical")||i.includes("wellness")||i.includes("pharmacy")||i.includes("chemist")?"Medical":"Other"}toggleSelect(t){this.selectedToImport.has(t)?this.selectedToImport.delete(t):this.selectedToImport.add(t)}toggleSelectAll(){this.selectedToImport.size===this.parsedTransactions.length?this.selectedToImport.clear():this.selectedToImport=new Set(this.parsedTransactions.map(t=>t._idx))}downloadTemplate(){try{if(this.ssrService.isClientSide()){let t=`payee,amount,type,category,date
Sample Payee,${Ot.VALIDATION.MIN_AMOUNT*1e3},income,Salary,2024-06-01
Sample Expense,${Ot.VALIDATION.MIN_AMOUNT*500},expense,Food,2024-06-01`,i=new Blob([t],{type:"text/csv"}),a=window.URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.download="transaction_template.csv",o.click(),window.URL.revokeObjectURL(a);let s=[["payee","amount","type","category","date"],["Sample Payee",Ot.VALIDATION.MIN_AMOUNT*1e3,"income","Salary","2024-06-01"],["Sample Expense",Ot.VALIDATION.MIN_AMOUNT*500,"expense","Food","2024-06-01"]],m=Zl.aoa_to_sheet(s),u=Zl.book_new();Zl.book_append_sheet(u,m,"Transactions");let f=D_(u,{bookType:"xlsx",type:"array"}),g=new Blob([f],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),x=window.URL.createObjectURL(g),C=document.createElement("a");C.href=x,C.download="transaction_template.xlsx",C.click(),window.URL.revokeObjectURL(x),this.notificationService.success("CSV and Excel templates downloaded successfully")}}catch(t){console.error("Error downloading templates:",t),this.notificationService.error("Failed to download templates")}}importSelected(){let t=this.parsedTransactions.filter(o=>this.selectedToImport.has(o._idx));if(t.length===0){this.notificationService.warning("Please select at least one transaction to import");return}let i=t.filter(o=>!o.payee||!o.payee.trim()?(this.notificationService.warning(`Transaction ${o._idx+1}: Payee is required`),!1):!o.amount||o.amount<=0?(this.notificationService.warning(`Transaction ${o._idx+1}: Amount must be greater than 0`),!1):!o.type||!["income","expense"].includes(o.type)?(this.notificationService.warning(`Transaction ${o._idx+1}: Invalid transaction type`),!1):!o.category||!o.category.trim()?(this.notificationService.warning(`Transaction ${o._idx+1}: Category is required`),!1):o.date?!0:(this.notificationService.warning(`Transaction ${o._idx+1}: Date is required`),!1));if(i.length===0){this.notificationService.error("No valid transactions to import");return}i.length<t.length&&this.notificationService.warning(`${t.length-i.length} transactions were skipped due to validation errors`);let a=i.map(o=>de(oe({},o),{accountId:this.defaultAccountId||"default"}));this.notificationService.success(`Importing ${i.length} transactions`),this.dialogRef.close(a)}close(){this.dialogRef.close()}};n.\u0275fac=function(i){return new(i||n)(T(Vi),T(ji),T(vt),T($p),T(kt),T(Ft),T(Jr))},n.\u0275cmp=Se({type:n,selectors:[["import-transactions"]],viewQuery:function(i,a){if(i&1&&Qt(Vj,5),i&2){let o;ft(o=ht())&&(a.fileUploadContainer=o.first)}},decls:34,vars:11,consts:[["fileUploadContainer",""],[1,"import-dialog"],["mat-dialog-title","",1,"text-lg","font-semibold","mb-4"],[1,"mr-2"],["mat-dialog-content","",1,"max-h-[70vh]","overflow-y-auto"],["class","mb-6 p-4 bg-gray-50 rounded-lg",4,"ngIf"],[1,"mb-6"],[1,"mb-4"],["mat-stroked-button","","color","primary",1,"w-full","sm:w-auto",3,"click"],[1,"file-upload-container"],["type","file","accept",".csv,.xlsx,.xls",1,"file-input",3,"change","disabled"],[1,"file-upload-overlay"],[1,"text-4xl","mb-2"],[1,"text-sm","text-gray-600"],[1,"text-xs","text-gray-500","mt-1"],["class","mt-2 p-2 bg-blue-50 rounded text-xs text-blue-700",4,"ngIf"],["class","error-message",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","transactions-preview",4,"ngIf"],["mat-dialog-actions","","align","end",1,"dialog-actions"],["mat-button","",1,"mr-2",3,"click"],["mat-raised-button","","color","primary",1,"import-button",3,"click","disabled"],[1,"mb-6","p-4","bg-gray-50","rounded-lg"],[1,"font-semibold","mb-3","text-gray-700"],[1,"flex","flex-col","sm:flex-row","gap-4"],[1,"flex-1"],[1,"block","text-sm","font-medium","text-gray-600","mb-1"],["placeholder","Select account for imported transactions",1,"w-full",3,"valueChange","value"],[3,"value"],[1,"mt-2","p-2","bg-blue-50","rounded","text-xs","text-blue-700"],[1,"text-sm","mr-1"],[1,"error-message"],[1,"text-red-500"],[1,"text-red-600","text-sm"],[1,"loading-container"],["diameter","40"],[1,"mt-2","text-gray-600"],[1,"transactions-preview"],[1,"preview-header"],[1,"font-semibold","mb-2"],[1,"preview-actions"],["mat-button","","color","primary",1,"text-sm",3,"click"],["class","mobile-transactions",4,"ngIf"],["class","desktop-transactions",4,"ngIf"],[1,"mobile-transactions"],[1,"transaction-card",3,"selected"],[1,"transaction-card",3,"click"],[1,"transaction-header"],[3,"change","click","checked"],[1,"transaction-info"],[1,"payee",3,"click"],[4,"ngIf"],["type","text","class","edit-input","autofocus","",3,"value","keydown","blur","click",4,"ngIf"],[1,"category",3,"click"],["class","edit-select",3,"value","selectionChange","click",4,"ngIf"],[1,"amount-section"],[1,"amount"],["type","number","class","edit-input amount-input","autofocus","",3,"value","keydown","blur","click",4,"ngIf"],[1,"type",3,"click"],[1,"date",3,"click"],["type","date","class","edit-input","autofocus","",3,"value","keydown","blur","click",4,"ngIf"],["class","transaction-details",4,"ngIf"],["type","text","autofocus","",1,"edit-input",3,"keydown","blur","click","value"],[1,"edit-select",3,"selectionChange","click","value"],["type","number","autofocus","",1,"edit-input","amount-input",3,"keydown","blur","click","value"],["value","income"],["value","expense"],["type","date","autofocus","",1,"edit-input",3,"keydown","blur","click","value"],[1,"transaction-details"],[1,"text-gray-500"],[1,"desktop-transactions"],[1,"table-container"],[1,"transactions-table"],[1,"checkbox-col"],[3,"change","checked","indeterminate"],[1,"transaction-row"],[3,"change","checked"],[1,"payee-cell",3,"click"],["type","text","class","edit-input","autofocus","",3,"value","keydown","blur",4,"ngIf"],[1,"amount-cell"],[3,"income","expense","click",4,"ngIf"],["type","number","class","edit-input amount-input","autofocus","",3,"value","keydown","blur",4,"ngIf"],[1,"type-cell"],["class","type-badge",3,"income","expense","click",4,"ngIf"],["class","edit-select",3,"value","selectionChange",4,"ngIf"],[1,"category-cell",3,"click"],[1,"date-cell",3,"click"],["type","date","class","edit-input","autofocus","",3,"value","keydown","blur",4,"ngIf"],["class","details-cell",4,"ngIf"],["type","text","autofocus","",1,"edit-input",3,"keydown","blur","value"],[3,"click"],["type","number","autofocus","",1,"edit-input","amount-input",3,"keydown","blur","value"],[1,"type-badge",3,"click"],[1,"edit-select",3,"selectionChange","value"],["type","date","autofocus","",1,"edit-input",3,"keydown","blur","value"],[1,"details-cell"],["matTooltipPosition","above",1,"text-gray-400","cursor-pointer",3,"matTooltip"]],template:function(i,a){if(i&1){let o=ue();c(0,"div",1)(1,"h2",2)(2,"mat-icon",3),d(3,"upload_file"),l(),d(4," Import Transactions "),l(),c(5,"div",4),U(6,Uj,10,1,"div",5),c(7,"div",6)(8,"div",7)(9,"button",8),F("click",function(){return N(o),L(a.downloadTemplate())}),c(10,"mat-icon"),d(11,"download"),l(),d(12," Download Templates (CSV + Excel) "),l()(),c(13,"div",9,0)(15,"input",10),F("change",function(m){return N(o),L(a.onFileSelected(m))}),l(),c(16,"div",11)(17,"mat-icon",12),d(18,"cloud_upload"),l(),c(19,"p",13),d(20),l(),c(21,"p",14),d(22,"Supports CSV, Excel (XLSX, XLS) files"),l(),U(23,Yj,4,2,"div",15),l()(),U(24,Wj,5,1,"div",16),l(),U(25,Hj,4,0,"div",17)(26,Cz,11,5,"div",18),l(),c(27,"div",19)(28,"button",20),F("click",function(){return N(o),L(a.close())}),d(29,"Cancel"),l(),c(30,"button",21),F("click",function(){return N(o),L(a.importSelected())}),c(31,"mat-icon"),d(32,"cloud_upload"),l(),d(33),l()()()}i&2&&(h(6),M("ngIf",a.accounts.length>0),h(7),Fe("drag-over",a.isDragOver),h(2),M("disabled",a.isLoading),h(5),ae(" ",a.isLoading?"Processing...":"Click to select file or drag and drop"," "),h(3),M("ngIf",a.selectedFile),h(),M("ngIf",a.error),h(),M("ngIf",a.isLoading),h(),M("ngIf",a.parsedTransactions.length&&!a.isLoading),h(4),M("disabled",!a.parsedTransactions.length||a.selectedToImport.size===0),h(3),ae(" Import Selected (",a.selectedToImport.size,") "))},dependencies:[dt,Nt,lt,Ea,cr,Xi,cl,dl,ll,ml,En,Vc,Ci],styles:["mat-dialog-content[_ngcontent-%COMP%]{min-width:350px}input[type=file][_ngcontent-%COMP%]{margin-top:8px}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:6px 10px;border:1px solid #e5e7eb}th[_ngcontent-%COMP%]{background:#f3f4f6;font-weight:600}.text-red-600[_ngcontent-%COMP%]{color:#dc2626}mat-dialog-actions[_ngcontent-%COMP%]{margin-top:16px}.import-dialog[_ngcontent-%COMP%]{min-width:320px;max-width:95vw}@media (min-width: 768px){.import-dialog[_ngcontent-%COMP%]{min-width:600px;max-width:90vw}}@media (min-width: 1024px){.import-dialog[_ngcontent-%COMP%]{min-width:800px;max-width:80vw}}.file-upload-container[_ngcontent-%COMP%]{position:relative;border:2px dashed #d1d5db;border-radius:8px;padding:2rem;text-align:center;transition:all .3s ease;background:#f9fafb;cursor:pointer}.file-upload-container[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#f0f9ff}.file-upload-container.drag-over[_ngcontent-%COMP%]{border-color:#3b82f6;background:#dbeafe}.file-input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer;z-index:2}.file-upload-overlay[_ngcontent-%COMP%]{pointer-events:none;z-index:1}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.5rem;padding:.75rem;background:#fef2f2;border:1px solid #fecaca;border-radius:6px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;text-align:center}.transactions-preview[_ngcontent-%COMP%]{margin-top:1.5rem}.preview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap;gap:.5rem}@media (max-width: 640px){.preview-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}.preview-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}@media (max-width: 640px){.preview-actions[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}.mobile-transactions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.transaction-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:8px;padding:1rem;background:#fff;transition:all .2s ease;cursor:pointer}.transaction-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 2px 8px #3b82f61a}.transaction-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#f0f9ff}.transaction-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.transaction-info[_ngcontent-%COMP%]{flex:1;min-width:0}.payee[_ngcontent-%COMP%]{font-weight:500;color:#1f2937;margin-bottom:.25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.category[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.amount-section[_ngcontent-%COMP%]{text-align:right;min-width:80px}.amount[_ngcontent-%COMP%]{font-weight:600;font-size:1rem}.amount.income[_ngcontent-%COMP%]{color:#059669}.amount.expense[_ngcontent-%COMP%]{color:#dc2626}.date[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin-top:.25rem}.transaction-details[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid #f3f4f6}.desktop-transactions[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:8px;overflow:hidden;background:#fff}.transactions-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.875rem}.transactions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .transactions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #f3f4f6}.transactions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f9fafb;font-weight:600;color:#374151;position:sticky;top:0;z-index:10}.transactions-table[_ngcontent-%COMP%]   .checkbox-col[_ngcontent-%COMP%]{width:48px;text-align:center}.transactions-table[_ngcontent-%COMP%]   .payee-cell[_ngcontent-%COMP%]{max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.transactions-table[_ngcontent-%COMP%]   .amount-cell[_ngcontent-%COMP%]{font-weight:600;text-align:right}.transactions-table[_ngcontent-%COMP%]   .amount-cell[_ngcontent-%COMP%]   .income[_ngcontent-%COMP%]{color:#059669}.transactions-table[_ngcontent-%COMP%]   .amount-cell[_ngcontent-%COMP%]   .expense[_ngcontent-%COMP%]{color:#dc2626}.transactions-table[_ngcontent-%COMP%]   .type-cell[_ngcontent-%COMP%]{text-align:center}.transactions-table[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:12px;font-size:.75rem;font-weight:500;text-transform:capitalize}.transactions-table[_ngcontent-%COMP%]   .type-badge.income[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.transactions-table[_ngcontent-%COMP%]   .type-badge.expense[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.transactions-table[_ngcontent-%COMP%]   .category-cell[_ngcontent-%COMP%]{max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.transactions-table[_ngcontent-%COMP%]   .date-cell[_ngcontent-%COMP%]{text-align:center;white-space:nowrap}.transactions-table[_ngcontent-%COMP%]   .details-cell[_ngcontent-%COMP%]{text-align:center;width:48px}.transactions-table[_ngcontent-%COMP%]   .transaction-row[_ngcontent-%COMP%]{transition:background-color .2s ease}.transactions-table[_ngcontent-%COMP%]   .transaction-row[_ngcontent-%COMP%]:hover{background:#f9fafb}.dialog-actions[_ngcontent-%COMP%]{padding:1rem 0 0;border-top:1px solid #e5e7eb;margin-top:1rem}@media (max-width: 640px){.dialog-actions[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:.5rem}.dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}@media (max-width: 640px){.import-button[_ngcontent-%COMP%]{margin-bottom:.5rem}}@media (max-width: 768px){.transactions-table[_ngcontent-%COMP%]{font-size:.75rem}.transactions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .transactions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}.transactions-table[_ngcontent-%COMP%]   .payee-cell[_ngcontent-%COMP%]{max-width:120px}.transactions-table[_ngcontent-%COMP%]   .category-cell[_ngcontent-%COMP%]{max-width:80px}}.edit-input[_ngcontent-%COMP%]{width:100%;padding:.25rem .5rem;border:1px solid #3b82f6;border-radius:4px;font-size:inherit;background:#fff;outline:none}.edit-input[_ngcontent-%COMP%]:focus{border-color:#1d4ed8;box-shadow:0 0 0 2px #3b82f633}.edit-input.amount-input[_ngcontent-%COMP%]{text-align:right;font-weight:600}.edit-select[_ngcontent-%COMP%]{width:100%;min-width:120px}.edit-select[_ngcontent-%COMP%]     .mat-mdc-select-trigger{height:32px;padding:0 .5rem}.edit-select[_ngcontent-%COMP%]     .mat-mdc-select-value{font-size:inherit}.mobile-transactions[_ngcontent-%COMP%]   .edit-input[_ngcontent-%COMP%]{font-size:.875rem;padding:.125rem .25rem}.mobile-transactions[_ngcontent-%COMP%]   .edit-select[_ngcontent-%COMP%]     .mat-mdc-select-trigger{height:28px;padding:0 .25rem}.desktop-transactions[_ngcontent-%COMP%]   .edit-input[_ngcontent-%COMP%]{font-size:.875rem}.desktop-transactions[_ngcontent-%COMP%]   .payee-cell[_ngcontent-%COMP%], .desktop-transactions[_ngcontent-%COMP%]   .amount-cell[_ngcontent-%COMP%], .desktop-transactions[_ngcontent-%COMP%]   .date-cell[_ngcontent-%COMP%]{cursor:pointer}.desktop-transactions[_ngcontent-%COMP%]   .payee-cell[_ngcontent-%COMP%]:hover, .desktop-transactions[_ngcontent-%COMP%]   .amount-cell[_ngcontent-%COMP%]:hover, .desktop-transactions[_ngcontent-%COMP%]   .date-cell[_ngcontent-%COMP%]:hover{background:#f3f4f6}.desktop-transactions[_ngcontent-%COMP%]   .type-cell[_ngcontent-%COMP%], .desktop-transactions[_ngcontent-%COMP%]   .category-cell[_ngcontent-%COMP%]{cursor:pointer}.desktop-transactions[_ngcontent-%COMP%]   .type-cell[_ngcontent-%COMP%]:hover, .desktop-transactions[_ngcontent-%COMP%]   .category-cell[_ngcontent-%COMP%]:hover{background:#f3f4f6}"]});let e=n;return e})();var Hi=ra(_a());var OM=(e,n)=>n.month,L_=(e,n)=>n.category,wz=(e,n)=>n.period,Mz=(e,n)=>n.account,kM=(e,n)=>n.name,Sz=(e,n)=>n.id;function Pz(e,n){e&1&&(c(0,"div",11)(1,"div",12)(2,"div",13),se(3,"div",14),l(),c(4,"h3",15),d(5,"Loading Financial Data"),l(),c(6,"p",16),d(7,"Please wait while we prepare your reports..."),l()()())}function kz(e,n){e&1&&(c(0,"mat-icon",113),d(1,"check"),l())}function Oz(e,n){if(e&1){let r=ue();c(0,"button",67),F("click",function(){let i=N(r).$implicit,a=w(2);return L(a.onChartTypeChange(i))}),c(1,"mat-icon",68),d(2),l(),c(3,"span",68),d(4),l(),U(5,kz,2,0,"mat-icon",113),l()}if(e&2){let r=n.$implicit,t=w(2);Fe("bg-blue-50",t.selectedChartType===r),h(2),G(r==="pie"?"pie_chart":r==="bar"?"bar_chart":r==="line"?"show_chart":r==="area"?"area_chart":r==="radar"?"radar":r==="funnel"?"filter_alt":r==="scatter"?"scatter_plot":"grid_on"),h(2),G(r.charAt(0).toUpperCase()+r.slice(1)),h(),Qe(t.selectedChartType===r?5:-1)}}function Tz(e,n){e&1&&(c(0,"mat-icon",114),d(1,"check"),l())}function Ez(e,n){if(e&1){let r=ue();c(0,"button",67),F("click",function(){let i=N(r).$implicit,a=w(2);return L(a.onAnalyticsViewChange(i))}),c(1,"mat-icon",68),d(2),l(),c(3,"span",68),d(4),l(),U(5,Tz,2,0,"mat-icon",114),l()}if(e&2){let r=n.$implicit,t=w(2);Fe("bg-green-50",t.selectedAnalyticsView===r),h(2),G(r==="overview"?"dashboard":r==="trends"?"trending_up":r==="categories"?"category":r==="accounts"?"account_balance":r==="comparison"?"compare":"timeline"),h(2),G(r.charAt(0).toUpperCase()+r.slice(1)),h(),Qe(t.selectedAnalyticsView===r?5:-1)}}function Dz(e,n){if(e&1&&(c(0,"div",117)(1,"span",118),d(2),l(),c(3,"span",119),d(4),l()()),e&2){let r=n.$implicit;h(2),G(r.category),h(),M("ngClass",r.change>=0?"text-red-600":"text-green-600"),h(),_n(" ",r.change>=0?"+":"","",r.percentage.toFixed(1),"% ")}}function Iz(e,n){if(e&1&&(c(0,"div",82)(1,"h4",115)(2,"mat-icon",116),d(3,"category"),l(),d(4," Category Trends "),l(),Ge(5,Dz,5,4,"div",117,L_),l()),e&2){let r=w(2);h(5),qe(r.categoryTrends.slice(0,3))}}function Az(e,n){if(e&1&&(c(0,"div",117)(1,"span",118),d(2),l(),c(3,"span",120),d(4),l()()),e&2){let r=n.$implicit,t=w(3);h(2),G(r.period),h(2),G(t.formatCurrency(r.amount))}}function Fz(e,n){if(e&1&&(c(0,"div",82)(1,"h4",115)(2,"mat-icon",116),d(3,"trending_up"),l(),d(4," Spending Trends "),l(),Ge(5,Az,5,2,"div",117,wz),l()),e&2){let r=w(2);h(5),qe(r.spendingTrends.slice(0,3))}}function Rz(e,n){if(e&1&&(c(0,"div",117)(1,"span",118),d(2),l(),c(3,"span",120),d(4),l()()),e&2){let r=n.$implicit,t=w(3);h(2),G(r.account),h(2),G(t.formatCurrency(r.balance))}}function Nz(e,n){if(e&1&&(c(0,"div",82)(1,"h4",115)(2,"mat-icon",116),d(3,"account_balance"),l(),d(4," Account Balances "),l(),Ge(5,Rz,5,2,"div",117,Mz),l()),e&2){let r=w(2);h(5),qe(r.accountBalances.slice(0,3))}}function Lz(e,n){if(e&1&&(c(0,"mat-option",136),d(1),l()),e&2){let r=n.$implicit;M("value",r.name),h(),G(r.name)}}function Bz(e,n){if(e&1&&(c(0,"mat-option",136),d(1),l()),e&2){let r=n.$implicit;M("value",r.name),h(),G(r.name)}}function Vz(e,n){if(e&1){let r=ue();c(0,"div",121)(1,"div",122)(2,"div",123)(3,"div",124)(4,"mat-icon",81),d(5,"filter_list"),l()(),c(6,"div")(7,"h3",125),d(8,"Quick Filters"),l(),c(9,"p",126),d(10,"Filter your financial data"),l()()(),c(11,"button",127),F("click",function(){N(r);let i=w(2);return L(i.toggleQuickFilters())}),c(12,"mat-icon"),d(13,"expand_less"),l()()(),c(14,"div",128)(15,"div")(16,"label",129),d(17,"Date Range"),l(),c(18,"mat-form-field",130)(19,"mat-select")(20,"mat-option",131),d(21,"Last 7 days"),l(),c(22,"mat-option",132),d(23,"Last 30 days"),l(),c(24,"mat-option",133),d(25,"Last 3 months"),l(),c(26,"mat-option",134),d(27,"Last year"),l()()()(),c(28,"div")(29,"label",129),d(30,"Category"),l(),c(31,"mat-form-field",130)(32,"mat-select")(33,"mat-option",135),d(34,"All Categories"),l(),Ge(35,Lz,2,2,"mat-option",136,kM),l()()(),c(37,"div")(38,"label",129),d(39,"Account"),l(),c(40,"mat-form-field",130)(41,"mat-select")(42,"mat-option",135),d(43,"All Accounts"),l(),Ge(44,Bz,2,2,"mat-option",136,kM),l()()(),c(46,"div")(47,"label",129),d(48,"Transaction Type"),l(),c(49,"mat-form-field",130)(50,"mat-select")(51,"mat-option",135),d(52,"All Types"),l(),c(53,"mat-option",137),d(54,"Income"),l(),c(55,"mat-option",138),d(56,"Expense"),l()()()()(),c(57,"div",139)(58,"button",140),F("click",function(){N(r);let i=w(2);return L(i.toggleQuickFilters())}),d(59," Cancel "),l(),c(60,"button",141),F("click",function(){N(r);let i=w(2);return L(i.applyFilters())}),d(61," Apply Filters "),l()()()}if(e&2){let r=w(2);h(35),qe(r.categories),h(9),qe(r.accounts)}}function jz(e,n){if(e&1){let r=ue();c(0,"div",142)(1,"button",143),F("click",function(){N(r);let i=w(2);return L(i.toggleQuickFilters())}),c(2,"mat-icon"),d(3,"filter_list"),l(),c(4,"span"),d(5,"Show Filters"),l()()()}}function zz(e,n){if(e&1&&(c(0,"div",128)(1,"div",144)(2,"div",20)(3,"div",21)(4,"p",145),d(5,"Avg Daily Spending"),l(),c(6,"p",146),d(7),l()(),c(8,"div",104)(9,"mat-icon",147),d(10,"schedule"),l()()()(),c(11,"div",148)(12,"div",20)(13,"div",21)(14,"p",149),d(15,"Avg Monthly Spending"),l(),c(16,"p",150),d(17),l()(),c(18,"div",151)(19,"mat-icon",152),d(20,"calendar_month"),l()()()(),c(21,"div",153)(22,"div",20)(23,"div",21)(24,"p",154),d(25,"Savings Rate"),l(),c(26,"p",155),d(27),l()(),c(28,"div",156)(29,"mat-icon",157),d(30,"trending_up"),l()()()(),c(31,"div",158)(32,"div",20)(33,"div",21)(34,"p",159),d(35,"Expense Growth"),l(),c(36,"p",160),d(37),l()(),c(38,"div",161)(39,"mat-icon",162),d(40,"analytics"),l()()()()()),e&2){let r=w(2);h(7),G(r.formatCurrency(r.averageDailySpending)),h(10),G(r.formatCurrency(r.averageMonthlySpending)),h(10),ae("",r.savingsRate.toFixed(1),"%"),h(9),M("ngClass",r.expenseGrowthRate>=0?"text-rose-600":"text-green-600"),h(),_n(" ",r.expenseGrowthRate>=0?"+":"","",r.expenseGrowthRate.toFixed(1),"% ")}}function Uz(e,n){if(e&1&&(c(0,"div",91)(1,"span",94),d(2),l(),c(3,"span",163),d(4),l()()),e&2){let r=n.$implicit,t=w(2);h(2),G(r.month),h(2),G(t.formatCurrency(r.savings))}}function Yz(e,n){if(e&1&&(c(0,"div",164)(1,"div",92)(2,"div",165)(3,"mat-icon",68),d(4),l()(),c(5,"div",166)(6,"span",167),d(7),l(),c(8,"div",168),d(9),l()()(),c(10,"span",163),d(11),l()()),e&2){let r=n.$implicit,t=w(3);h(3),Vt("color",r.color),h(),G(r.icon),h(3),G(r.category),h(2),ae("",r.percentage.toFixed(1),"% of total"),h(2),G(t.formatCurrency(r.amount))}}function Wz(e,n){if(e&1&&(c(0,"div",82),Ge(1,Yz,12,6,"div",164,L_),l()),e&2){let r=w(2);h(),qe(r.topCategories)}}function Hz(e,n){e&1&&(c(0,"div",169)(1,"div",170)(2,"mat-icon",171),d(3,"bar_chart"),l()(),c(4,"h4",172),d(5,"No Data Available"),l(),c(6,"p",173),d(7,"Add transactions to see category breakdown"),l()())}function $z(e,n){if(e&1&&(c(0,"div",164)(1,"div",92)(2,"mat-icon",174),d(3),l(),c(4,"div",166)(5,"span",167),d(6),l(),c(7,"div",175),d(8),l()()(),c(9,"div",176)(10,"span",177),d(11),l(),c(12,"div",168),d(13),_e(14,"date"),l()()()),e&2){let r=n.$implicit,t=w(3);h(2),M("ngClass",t.getTransactionColor(r)),h(),G(t.getTransactionIcon(r)),h(3),G(r.payee),h(2),G(r.category),h(2),M("ngClass",t.getTransactionColor(r)),h(),_n(" ",r.type==="income"?"+":"-","",t.formatCurrency(r.amount)," "),h(2),ae(" ",Rt(14,8,t.dateService.toDate(r.date),"MMM dd")," ")}}function Gz(e,n){if(e&1&&(c(0,"div",82),Ge(1,$z,15,11,"div",164,Sz),l()),e&2){let r=w(2);h(),qe(r.recentTransactions)}}function qz(e,n){e&1&&(c(0,"div",169)(1,"div",170)(2,"mat-icon",171),d(3,"receipt_long"),l()(),c(4,"h4",172),d(5,"No Recent Transactions"),l(),c(6,"p",173),d(7,"Your recent activity will appear here"),l()())}function Xz(e,n){if(e&1){let r=ue();c(0,"div",121)(1,"div",122)(2,"div",123)(3,"div",178)(4,"mat-icon",77),d(5,"file_download"),l()(),c(6,"div")(7,"h3",125),d(8,"Export Options"),l(),c(9,"p",126),d(10,"Export your financial reports"),l()()(),c(11,"button",127),F("click",function(){N(r);let i=w(2);return L(i.toggleExportOptions())}),c(12,"mat-icon"),d(13,"expand_less"),l()()(),c(14,"div",128)(15,"div")(16,"label",129),d(17,"Export Format"),l(),c(18,"mat-form-field",130)(19,"mat-select",179),pt("ngModelChange",function(i){N(r);let a=w(2);return ut(a.userPreferences.exportFormat,i)||(a.userPreferences.exportFormat=i),L(i)}),c(20,"mat-option",180),d(21,"PDF Report"),l(),c(22,"mat-option",181),d(23,"Excel Spreadsheet"),l(),c(24,"mat-option",182),d(25,"CSV Data"),l(),c(26,"mat-option",183),d(27,"JSON Data"),l()()()(),c(28,"div")(29,"label",129),d(30,"Date Range"),l(),c(31,"mat-form-field",130)(32,"mat-select")(33,"mat-option",184),d(34,"Current Month"),l(),c(35,"mat-option",185),d(36,"Last 3 Months"),l(),c(37,"mat-option",186),d(38,"Last 6 Months"),l(),c(39,"mat-option",187),d(40,"Last 12 Months"),l(),c(41,"mat-option",188),d(42,"Custom Range"),l()()()(),c(43,"div")(44,"label",129),d(45,"Include Charts"),l(),c(46,"mat-slide-toggle",189),d(47,"Include Visualizations"),l()(),c(48,"div",190)(49,"button",191),F("click",function(){N(r);let i=w(2);return L(i.exportReport())}),c(50,"mat-icon",192),d(51,"download"),l(),d(52," Export Report "),l()()(),c(53,"div",139)(54,"button",140),F("click",function(){N(r);let i=w(2);return L(i.toggleExportOptions())}),d(55," Cancel "),l(),c(56,"button",193),F("click",function(){N(r);let i=w(2);return L(i.generateReport())}),c(57,"mat-icon",192),d(58,"description"),l(),d(59," Generate Report "),l()()()}if(e&2){let r=w(2);h(19),mt("ngModel",r.userPreferences.exportFormat)}}function Kz(e,n){if(e&1){let r=ue();c(0,"div",142)(1,"button",143),F("click",function(){N(r);let i=w(2);return L(i.toggleExportOptions())}),c(2,"mat-icon"),d(3,"file_download"),l(),c(4,"span"),d(5,"Export Options"),l()()()}}function Qz(e,n){if(e&1&&(c(0,"div",198)(1,"div",200),d(2),l(),c(3,"div",201),d(4),l(),c(5,"div",202),d(6),l(),c(7,"div",203),d(8),l()()),e&2){let r=n.$implicit,t=w(3);h(2),G(r.month),h(2),G(t.formatCurrency(r.income)),h(2),G(t.formatCurrency(r.expenses)),h(2),_n(" ",r.savings>=0?"+":"","",t.formatCurrency(r.savings)," ")}}function Zz(e,n){if(e&1&&(c(0,"div",20)(1,"div",92)(2,"div",204)(3,"mat-icon",205),d(4),l()(),c(5,"span",94),d(6),l()(),c(7,"div",206)(8,"div",207),se(9,"div",208),l(),c(10,"span",209),d(11),l()()()),e&2){let r=n.$implicit,t=w(4);h(3),Vt("color",r.color),h(),G(r.icon),h(2),G(r.category),h(3),Vt("width",r.percentage,"%"),h(2),ae(" ",t.formatCurrency(r.amount)," ")}}function Jz(e,n){if(e&1&&(c(0,"div",195)(1,"h4",196),d(2,"Category Breakdown"),l(),c(3,"div",82),Ge(4,Zz,12,7,"div",20,L_),l()()),e&2){let r=w(3);h(4),qe(r.topCategories)}}function eU(e,n){if(e&1&&(c(0,"div",194)(1,"div",195)(2,"h4",196),d(3,"Monthly Trends"),l(),c(4,"div",197),Ge(5,Qz,9,5,"div",198,OM),l()(),U(7,Jz,6,0,"div",199),l()),e&2){let r=w(2);h(5),qe(r.monthlyTrends),h(2),M("ngIf",r.topCategories.length>0)}}function tU(e,n){if(e&1){let r=ue();c(0,"div",210)(1,"div",211)(2,"mat-icon",212),d(3,"analytics"),l()(),c(4,"h4",213),d(5,"No Data Available"),l(),c(6,"p",214),d(7," Start adding transactions to see detailed reports and insights about your financial patterns. "),l(),c(8,"button",215),F("click",function(){N(r);let i=w(2);return L(i.addTransaction())}),c(9,"mat-icon"),d(10,"add"),l(),c(11,"span"),d(12,"Add Transaction"),l()()()}}function nU(e,n){if(e&1){let r=ue();c(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"div",21)(5,"p",22),d(6,"Total Income"),l(),c(7,"p",23),d(8),l(),c(9,"p",24),d(10,"This period"),l()(),c(11,"div",25)(12,"mat-icon",26),d(13,"trending_up"),l()()()(),c(14,"div",27)(15,"div",20)(16,"div",21)(17,"p",28),d(18,"Total Expenses"),l(),c(19,"p",29),d(20),l(),c(21,"p",30),d(22,"This period"),l()(),c(23,"div",31)(24,"mat-icon",32),d(25,"trending_down"),l()()()(),c(26,"div",33)(27,"div",20)(28,"div",21)(29,"p",34),d(30,"Net Savings"),l(),c(31,"p",35),d(32),l(),c(33,"p",36),d(34,"This period"),l()(),c(35,"div",37)(36,"mat-icon",38),d(37,"account_balance_wallet"),l()()()(),c(38,"div",39)(39,"div",20)(40,"div",21)(41,"p",40),d(42,"Monthly Change"),l(),c(43,"p",41),d(44),l(),c(45,"p",42),d(46,"vs last month"),l()(),c(47,"div",43)(48,"mat-icon",44),d(49),l()()()()(),c(50,"div",45)(51,"div",46)(52,"div",47)(53,"div",21)(54,"h2",48),d(55),l(),c(56,"p",49),d(57,"Interactive financial visualization"),l()(),c(58,"div",50)(59,"mat-button-toggle-group",51),F("change",function(i){N(r);let a=w();return L(a.onPeriodChange(i.value))}),c(60,"mat-button-toggle",52),d(61,"D"),l(),c(62,"mat-button-toggle",53),d(63,"W"),l(),c(64,"mat-button-toggle",54),d(65,"M"),l(),c(66,"mat-button-toggle",55),d(67,"Y"),l()(),c(68,"button",56)(69,"mat-icon"),d(70),l()(),c(71,"mat-menu",57,0)(73,"div",58)(74,"div",59),d(75,"Chart Type"),l(),Ge(76,Oz,6,5,"button",60,Ti),l()(),c(78,"button",61)(79,"mat-icon"),d(80,"analytics"),l()(),c(81,"mat-menu",62,1)(83,"div",58)(84,"div",59),d(85,"Analytics View"),l(),Ge(86,Ez,6,5,"button",63,Ti),l()(),c(88,"button",64),F("click",function(){N(r);let i=w();return L(i.toggleAdvancedAnalytics())}),c(89,"mat-icon"),d(90),l()(),c(91,"button",65)(92,"mat-icon"),d(93,"more_vert"),l()(),c(94,"mat-menu",66,2)(96,"button",67),F("click",function(){N(r);let i=w();return L(i.openPreferencesDialog())}),c(97,"mat-icon",68),d(98,"settings"),l(),c(99,"span",68),d(100,"Preferences"),l()(),c(101,"button",69),F("click",function(){N(r);let i=w();return L(i.refreshData())}),c(102,"mat-icon",68),d(103,"refresh"),l(),c(104,"span",68),d(105),l()(),c(106,"button",67),F("click",function(){N(r);let i=w();return L(i.toggleHelpTooltip())}),c(107,"mat-icon",68),d(108,"help_outline"),l(),c(109,"span",68),d(110,"Help"),l()(),se(111,"mat-divider"),c(112,"button",67),F("click",function(){N(r);let i=w();return L(i.toggleQuickFilters())}),c(113,"mat-icon",68),d(114,"filter_list"),l(),c(115,"span",68),d(116),l()(),c(117,"button",67),F("click",function(){N(r);let i=w();return L(i.toggleExportOptions())}),c(118,"mat-icon",68),d(119,"file_download"),l(),c(120,"span",68),d(121),l()()()()()(),c(122,"div",70)(123,"div",71),se(124,"div",72),l()()(),c(125,"div",73)(126,"div",74)(127,"mat-card",75)(128,"div",70)(129,"div",76)(130,"div",21)(131,"h3",48),d(132,"Analytics Summary"),l(),c(133,"p",49),d(134,"Key insights and trends"),l()(),c(135,"div",25)(136,"mat-icon",77),d(137,"insights"),l()()(),c(138,"div",78),U(139,Iz,7,0,"div",79)(140,Fz,7,0,"div",79)(141,Nz,7,0,"div",79),l()()()(),c(142,"div",80)(143,"mat-card",75)(144,"div",70)(145,"div",76)(146,"div",21)(147,"h3",48),d(148,"Quick Actions"),l(),c(149,"p",49),d(150,"Common tasks"),l()(),c(151,"div",37)(152,"mat-icon",81),d(153,"bolt"),l()()(),c(154,"div",82)(155,"button",83),F("click",function(){N(r);let i=w();return L(i.addTransaction())}),c(156,"mat-icon",84),d(157,"add"),l(),d(158," Add Transaction "),l(),c(159,"button",83),F("click",function(){N(r);let i=w();return L(i.exportReport())}),c(160,"mat-icon",84),d(161,"file_download"),l(),d(162," Export Report "),l(),c(163,"button",85),F("click",function(){N(r);let i=w();return L(i.refreshData())}),c(164,"mat-icon",84),d(165,"refresh"),l(),d(166),l(),c(167,"button",83),F("click",function(){N(r);let i=w();return L(i.toggleQuickFilters())}),c(168,"mat-icon",84),d(169,"filter_list"),l(),d(170),l(),c(171,"button",83),F("click",function(){N(r);let i=w();return L(i.openPreferencesDialog())}),c(172,"mat-icon",84),d(173,"settings"),l(),d(174," Preferences "),l()()()()()(),U(175,Vz,62,0,"div",86)(176,jz,6,0,"div",87)(177,zz,41,6,"div",88),c(178,"div",89)(179,"mat-card",45)(180,"div",70)(181,"div",76)(182,"div",21)(183,"h3",48),d(184,"Spending Overview"),l(),c(185,"p",49),d(186,"Your financial summary"),l()(),c(187,"div",37)(188,"mat-icon",81),d(189,"pie_chart"),l()()(),c(190,"div",90)(191,"div",91)(192,"div",92),se(193,"div",93),c(194,"span",94),d(195,"Total Income"),l()(),c(196,"span",95),d(197),l()(),c(198,"div",91)(199,"div",92),se(200,"div",96),c(201,"span",94),d(202,"Total Expenses"),l()(),c(203,"span",97),d(204),l()(),c(205,"div",91)(206,"div",92),se(207,"div",98),c(208,"span",94),d(209,"Net Savings"),l()(),c(210,"span",99),d(211),l()()()()(),c(212,"mat-card",45)(213,"div",70)(214,"div",76)(215,"div",21)(216,"h3",48),d(217,"Monthly Trends"),l(),c(218,"p",49),d(219,"Compare monthly performance"),l()(),c(220,"div",25)(221,"mat-icon",77),d(222,"trending_up"),l()()(),c(223,"div",90),Ge(224,Uz,5,2,"div",91,OM),c(226,"div",100)(227,"span",101),d(228,"Change"),l(),c(229,"span",95),d(230),l()()()()(),c(231,"mat-card",45)(232,"div",70)(233,"div",76)(234,"div",21)(235,"h3",48),d(236,"Top Spending Categories"),l(),c(237,"p",49),d(238,"Your highest expense areas"),l()(),c(239,"div",43)(240,"mat-icon",102),d(241,"category"),l()()(),U(242,Wz,3,0,"div",79)(243,Hz,8,0,"div",103),l()(),c(244,"mat-card",45)(245,"div",70)(246,"div",76)(247,"div",21)(248,"h3",48),d(249,"Recent Activity"),l(),c(250,"p",49),d(251,"Latest transactions"),l()(),c(252,"div",104)(253,"mat-icon",105),d(254,"schedule"),l()()(),U(255,Gz,3,0,"div",79)(256,qz,8,0,"div",103),l()()(),U(257,Xz,60,1,"div",86)(258,Kz,6,0,"div",87),c(259,"mat-card",45)(260,"div",70)(261,"div",106)(262,"div",21)(263,"h3",107),d(264,"Detailed Analysis"),l(),c(265,"p",49),d(266,"Deep dive into your financial data"),l()(),c(267,"div",108)(268,"button",109),F("click",function(){N(r);let i=w();return L(i.onPeriodChange("daily"))}),d(269," Daily "),l(),c(270,"button",109),F("click",function(){N(r);let i=w();return L(i.onPeriodChange("weekly"))}),d(271," Weekly "),l(),c(272,"button",110),F("click",function(){N(r);let i=w();return L(i.onPeriodChange("monthly"))}),d(273," Monthly "),l(),c(274,"button",109),F("click",function(){N(r);let i=w();return L(i.onPeriodChange("yearly"))}),d(275," Yearly "),l()()(),U(276,eU,8,1,"div",111)(277,tU,13,0,"div",112),l()()()}if(e&2){let r=zn(72),t=zn(82),i=zn(95),a=w();h(8),G(a.formatCurrency(a.totalIncome)),h(12),G(a.formatCurrency(a.totalExpenses)),h(12),G(a.formatCurrency(a.netSavings)),h(11),M("ngClass",a.getMonthlyChangeColor()),h(),ae(" ",a.getMonthlyChangeDisplay()," "),h(4),M("ngClass",a.getMonthlyChangeColor()),h(),G(a.getMonthlyChangeIcon()),h(6),G(a.getChartTitle()),h(4),M("value",a.selectedPeriod),h(9),M("matMenuTriggerFor",r),h(2),G(a.selectedChartType==="pie"?"pie_chart":a.selectedChartType==="bar"?"bar_chart":a.selectedChartType==="line"?"show_chart":a.selectedChartType==="area"?"area_chart":a.selectedChartType==="radar"?"radar":a.selectedChartType==="funnel"?"filter_alt":a.selectedChartType==="scatter"?"scatter_plot":"grid_on"),h(6),qe(a.availableChartTypes),h(2),M("matMenuTriggerFor",t),h(8),qe(a.availableAnalyticsViews),h(2),Fe("text-purple-600",a.showAdvancedAnalytics)("text-gray-600",!a.showAdvancedAnalytics),M("matTooltip",a.showAdvancedAnalytics?"Switch to Basic":"Switch to Advanced"),h(2),G(a.showAdvancedAnalytics?"visibility_off":"visibility"),h(),M("matMenuTriggerFor",i),h(10),M("disabled",a.isRefreshing),h(),Fe("animate-spin",a.isRefreshing),h(3),G(a.isRefreshing?"Refreshing...":"Refresh Data"),h(11),ae("",a.showQuickFilters?"Hide":"Show"," Filters"),h(5),ae("",a.showExportOptions?"Hide":"Show"," Export"),h(2),M("ngClass",a.getChartHeight()),h(),M("options",a.getCurrentChartOption()),h(15),M("ngIf",a.categoryTrends.length>0),h(),M("ngIf",a.spendingTrends.length>0),h(),M("ngIf",a.accountBalances.length>0),h(22),M("disabled",a.isRefreshing),h(),Fe("animate-spin",a.isRefreshing),h(2),ae(" ",a.isRefreshing?"Refreshing...":"Refresh Data"," "),h(4),ae(" ",a.showQuickFilters?"Hide":"Show"," Filters "),h(5),M("ngIf",a.showQuickFilters),h(),M("ngIf",!a.showQuickFilters),h(),M("ngIf",a.showAdvancedAnalytics),h(20),G(a.formatCurrency(a.totalIncome)),h(7),G(a.formatCurrency(a.totalExpenses)),h(7),G(a.formatCurrency(a.netSavings)),h(13),qe(a.monthlyTrends.slice(-2)),h(6),G(a.getMonthlyChangeDisplay()),h(12),M("ngIf",a.topCategories.length>0),h(),M("ngIf",a.topCategories.length===0),h(12),M("ngIf",a.recentTransactions.length>0),h(),M("ngIf",a.recentTransactions.length===0),h(),M("ngIf",a.showExportOptions),h(),M("ngIf",!a.showExportOptions),h(10),Fe("bg-blue-50",a.selectedPeriod==="daily"),h(2),Fe("bg-blue-50",a.selectedPeriod==="weekly"),h(2),Fe("bg-blue-600",a.selectedPeriod==="monthly"),h(2),Fe("bg-blue-50",a.selectedPeriod==="yearly"),h(2),M("ngIf",a.hasData),h(),M("ngIf",!a.hasData)}}function iU(e,n){if(e&1&&(c(0,"mat-option",136),d(1),l()),e&2){let r=n.$implicit;M("value",r),h(),ae(" ",r.charAt(0).toUpperCase()+r.slice(1)," ")}}function rU(e,n){if(e&1&&(c(0,"mat-option",136),d(1),l()),e&2){let r=n.$implicit;M("value",r),h(),ae(" ",r.charAt(0).toUpperCase()+r.slice(1)," ")}}function aU(e,n){if(e&1){let r=ue();c(0,"div")(1,"label",129),d(2,"Email Frequency"),l(),c(3,"mat-form-field",130)(4,"mat-select",179),pt("ngModelChange",function(i){N(r);let a=w(2);return ut(a.userPreferences.emailFrequency,i)||(a.userPreferences.emailFrequency=i),L(i)}),c(5,"mat-option",224),d(6,"Daily"),l(),c(7,"mat-option",225),d(8,"Weekly"),l(),c(9,"mat-option",226),d(10,"Monthly"),l(),c(11,"mat-option",243),d(12,"Never"),l()()()()}if(e&2){let r=w(2);h(4),mt("ngModel",r.userPreferences.emailFrequency)}}function oU(e,n){if(e&1){let r=ue();c(0,"div",216)(1,"div",217)(2,"div",218)(3,"div",20)(4,"h2",219),d(5,"Analytics Preferences"),l(),c(6,"button",220),F("click",function(){N(r);let i=w();return L(i.closePreferencesDialog())}),c(7,"mat-icon"),d(8,"close"),l()()(),c(9,"p",221),d(10,"Customize your analytics dashboard experience"),l()(),c(11,"div",222)(12,"div",223)(13,"div")(14,"h3",196),d(15,"Default Settings"),l(),c(16,"div",78)(17,"div")(18,"label",129),d(19,"Default Chart Type"),l(),c(20,"mat-form-field",130)(21,"mat-select",179),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.userPreferences.defaultChartType,i)||(a.userPreferences.defaultChartType=i),L(i)}),Ge(22,iU,2,2,"mat-option",136,Ti),l()()(),c(24,"div")(25,"label",129),d(26,"Default Analytics View"),l(),c(27,"mat-form-field",130)(28,"mat-select",179),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.userPreferences.defaultAnalyticsView,i)||(a.userPreferences.defaultAnalyticsView=i),L(i)}),Ge(29,rU,2,2,"mat-option",136,Ti),l()()(),c(31,"div")(32,"label",129),d(33,"Default Period"),l(),c(34,"mat-form-field",130)(35,"mat-select",179),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.userPreferences.defaultPeriod,i)||(a.userPreferences.defaultPeriod=i),L(i)}),c(36,"mat-option",224),d(37,"Daily"),l(),c(38,"mat-option",225),d(39,"Weekly"),l(),c(40,"mat-option",226),d(41,"Monthly"),l(),c(42,"mat-option",227),d(43,"Yearly"),l()()()()()(),c(44,"div")(45,"h3",196),d(46,"Display Options"),l(),c(47,"div",78)(48,"div")(49,"label",129),d(50,"Chart Height"),l(),c(51,"mat-form-field",130)(52,"mat-select",179),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.userPreferences.chartHeight,i)||(a.userPreferences.chartHeight=i),L(i)}),c(53,"mat-option",228),d(54,"Small"),l(),c(55,"mat-option",229),d(56,"Medium"),l(),c(57,"mat-option",230),d(58,"Large"),l()()()(),c(59,"div")(60,"label",129),d(61,"Currency Format"),l(),c(62,"mat-form-field",130)(63,"mat-select",179),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.userPreferences.currencyFormat,i)||(a.userPreferences.currencyFormat=i),L(i)}),c(64,"mat-option",231),d(65,"Indian Rupee (\u20B9)"),l(),c(66,"mat-option",232),d(67,"US Dollar ($)"),l(),c(68,"mat-option",233),d(69,"Euro (\u20AC)"),l()()()(),c(70,"div")(71,"label",129),d(72,"Date Format"),l(),c(73,"mat-form-field",130)(74,"mat-select",179),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.userPreferences.dateFormat,i)||(a.userPreferences.dateFormat=i),L(i)}),c(75,"mat-option",234),d(76,"DD/MM/YYYY"),l(),c(77,"mat-option",235),d(78,"MM/DD/YYYY"),l(),c(79,"mat-option",236),d(80,"YYYY-MM-DD"),l()()()()()()(),c(81,"div")(82,"h3",196),d(83,"Chart Options"),l(),c(84,"div",223)(85,"div",78)(86,"mat-slide-toggle",237),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.userPreferences.showTooltips,i)||(a.userPreferences.showTooltips=i),L(i)}),d(87," Show Tooltips "),l(),c(88,"mat-slide-toggle",237),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.userPreferences.showAnimations,i)||(a.userPreferences.showAnimations=i),L(i)}),d(89," Show Animations "),l(),c(90,"mat-slide-toggle",237),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.userPreferences.showAdvancedAnalytics,i)||(a.userPreferences.showAdvancedAnalytics=i),L(i)}),d(91," Show Advanced Analytics "),l()(),c(92,"div",78)(93,"div")(94,"label",129),d(95,"Refresh Interval (minutes)"),l(),c(96,"mat-form-field",130)(97,"input",238),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.userPreferences.refreshInterval,i)||(a.userPreferences.refreshInterval=i),L(i)}),l()()(),c(98,"div")(99,"label",129),d(100,"Export Format"),l(),c(101,"mat-form-field",130)(102,"mat-select",179),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.userPreferences.exportFormat,i)||(a.userPreferences.exportFormat=i),L(i)}),c(103,"mat-option",180),d(104,"PDF"),l(),c(105,"mat-option",181),d(106,"Excel"),l(),c(107,"mat-option",182),d(108,"CSV"),l(),c(109,"mat-option",183),d(110,"JSON"),l()()()()()()(),c(111,"div")(112,"h3",196),d(113,"Email Reports"),l(),c(114,"div",223)(115,"mat-slide-toggle",237),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.userPreferences.emailReports,i)||(a.userPreferences.emailReports=i),L(i)}),d(116," Enable Email Reports "),l(),U(117,aU,13,1,"div",239),l()()(),c(118,"div",240)(119,"button",241),F("click",function(){N(r);let i=w();return L(i.resetPreferences())}),d(120," Reset to Default "),l(),c(121,"div",242)(122,"button",140),F("click",function(){N(r);let i=w();return L(i.closePreferencesDialog())}),d(123," Cancel "),l(),c(124,"button",141),F("click",function(){N(r);let i=w();return i.savePreferences(),L(i.closePreferencesDialog())}),d(125," Save Preferences "),l()()()()()}if(e&2){let r=w();h(21),mt("ngModel",r.userPreferences.defaultChartType),h(),qe(r.availableChartTypes),h(6),mt("ngModel",r.userPreferences.defaultAnalyticsView),h(),qe(r.availableAnalyticsViews),h(6),mt("ngModel",r.userPreferences.defaultPeriod),h(17),mt("ngModel",r.userPreferences.chartHeight),h(11),mt("ngModel",r.userPreferences.currencyFormat),h(11),mt("ngModel",r.userPreferences.dateFormat),h(12),mt("ngModel",r.userPreferences.showTooltips),h(2),mt("ngModel",r.userPreferences.showAnimations),h(2),mt("ngModel",r.userPreferences.showAdvancedAnalytics),h(7),mt("ngModel",r.userPreferences.refreshInterval),h(5),mt("ngModel",r.userPreferences.exportFormat),h(13),mt("ngModel",r.userPreferences.emailReports),h(2),M("ngIf",r.userPreferences.emailReports)}}function sU(e,n){if(e&1){let r=ue();c(0,"div",216)(1,"div",244)(2,"div",218)(3,"div",20)(4,"h2",219),d(5,"Analytics Help"),l(),c(6,"button",220),F("click",function(){N(r);let i=w();return L(i.toggleHelpTooltip())}),c(7,"mat-icon"),d(8,"close"),l()()()(),c(9,"div",245)(10,"div")(11,"h3",15),d(12,"Chart Types"),l(),c(13,"div",246)(14,"p")(15,"strong"),d(16,"Pie Chart:"),l(),d(17," Shows spending breakdown by category"),l(),c(18,"p")(19,"strong"),d(20,"Bar Chart:"),l(),d(21," Displays monthly financial trends"),l(),c(22,"p")(23,"strong"),d(24,"Line Chart:"),l(),d(25," Shows trends over time with smooth curves"),l(),c(26,"p")(27,"strong"),d(28,"Area Chart:"),l(),d(29," Displays daily spending patterns"),l(),c(30,"p")(31,"strong"),d(32,"Radar Chart:"),l(),d(33," Compares category performance"),l(),c(34,"p")(35,"strong"),d(36,"Funnel Chart:"),l(),d(37," Shows spending funnel analysis"),l(),c(38,"p")(39,"strong"),d(40,"Scatter Chart:"),l(),d(41," Shows income vs expenses correlation"),l(),c(42,"p")(43,"strong"),d(44,"Heatmap:"),l(),d(45," Displays weekly spending patterns"),l()()(),c(46,"div")(47,"h3",15),d(48,"Analytics Views"),l(),c(49,"div",246)(50,"p")(51,"strong"),d(52,"Overview:"),l(),d(53," General financial summary"),l(),c(54,"p")(55,"strong"),d(56,"Trends:"),l(),d(57," Historical data analysis"),l(),c(58,"p")(59,"strong"),d(60,"Categories:"),l(),d(61," Category-wise breakdown"),l(),c(62,"p")(63,"strong"),d(64,"Accounts:"),l(),d(65," Account-specific data"),l(),c(66,"p")(67,"strong"),d(68,"Comparison:"),l(),d(69," Period-over-period analysis"),l(),c(70,"p")(71,"strong"),d(72,"Forecast:"),l(),d(73," Future predictions"),l()()(),c(74,"div")(75,"h3",15),d(76,"Tips"),l(),c(77,"div",246)(78,"p"),d(79,"\u2022 Use different chart types to view data from various perspectives"),l(),c(80,"p"),d(81,"\u2022 Switch between time periods to analyze trends"),l(),c(82,"p"),d(83,"\u2022 Enable advanced analytics for detailed insights"),l(),c(84,"p"),d(85,"\u2022 Customize preferences to match your workflow"),l(),c(86,"p"),d(87,"\u2022 Export reports for sharing or offline analysis"),l()()()(),c(88,"div",247)(89,"button",191),F("click",function(){N(r);let i=w();return L(i.toggleHelpTooltip())}),d(90," Got it! "),l()()()()}}function cU(e,n){if(e&1){let r=ue();c(0,"div",8)(1,"button",248),F("click",function(){N(r);let i=w();return L(i.addTransaction())}),c(2,"mat-icon"),d(3,"receipt"),l()(),c(4,"button",249),F("click",function(){N(r);let i=w();return L(i.exportReport())}),c(5,"mat-icon"),d(6,"file_download"),l()(),c(7,"button",250),F("click",function(){N(r);let i=w();return L(i.refreshData())}),c(8,"mat-icon"),d(9,"refresh"),l()()()}}var qp=(()=>{let n=class n{constructor(t,i,a,o,s,m){this.router=t,this.auth=i,this.notificationService=a,this.store=o,this.dateService=s,this.ssrService=m,this.totalIncome=0,this.totalExpenses=0,this.netSavings=0,this.monthlyChange=0,this.monthlyChangePercentage=0,this.transactions=[],this.accounts=[],this.categories=[],this.topCategories=[],this.recentTransactions=[],this.monthlyTrends=[],this.dailyData=[],this.weeklyData=[],this.yearlyData=[],this.accountBalances=[],this.spendingTrends=[],this.categoryTrends=[],this.averageDailySpending=0,this.averageMonthlySpending=0,this.savingsRate=0,this.expenseGrowthRate=0,this.incomeGrowthRate=0,this.selectedPeriod="monthly",this.selectedChartType="pie",this.selectedAnalyticsView="overview",this.showAdvancedAnalytics=!1,this.availableChartTypes=["pie","bar","line","area","radar","funnel","scatter","heatmap"],this.availableAnalyticsViews=["overview","trends","categories","accounts","comparison","forecast"],this.isLoading=!0,this.hasData=!1,this.pieChartOption={},this.barChartOption={},this.lineChartOption={},this.areaChartOption={},this.radarChartOption={},this.funnelChartOption={},this.scatterChartOption={},this.heatmapChartOption={},this.isDarkMode=!1,this.userPreferences={defaultChartType:"pie",defaultAnalyticsView:"overview",defaultPeriod:"monthly",showAdvancedAnalytics:!1,chartHeight:"medium",refreshInterval:5,currencyFormat:"INR",dateFormat:"DD/MM/YYYY",theme:"auto",showTooltips:!0,showAnimations:!0,exportFormat:"pdf",emailReports:!1,emailFrequency:"never"},this.showPreferencesDialog=!1,this.showQuickFilters=!1,this.showExportOptions=!1,this.showHelpTooltip=!1,this.showQuickActions=!1,this.isRefreshing=!1,this.subscriptions=[],this.transactions$=this.store.select(Ji),this.accounts$=this.store.select(Fa),this.categories$=this.store.select(zi),this.transactionsLoading$=this.store.select(Hu),this.accountsLoading$=this.store.select(Wu),this.categoriesLoading$=this.store.select(Uu)}ngOnInit(){this.loadPreferences(),this.detectTheme(),this.loadData()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}loadData(){if(!this.auth.currentUser){this.isLoading=!1,this.notificationService.error("User not authenticated");return}let i=this.transactions$.subscribe(s=>{this.transactions=s,this.calculateFinancialMetrics(),this.calculateTopCategories(),this.getRecentTransactions(),this.calculateMonthlyTrends(),this.calculateEnhancedAnalytics(),this.updateCharts(),this.isLoading=!1,this.hasData=this.transactions.length>0}),a=this.accounts$.subscribe(s=>{this.accounts=s}),o=this.categories$.subscribe(s=>{this.categories=s});this.subscriptions.push(i,a,o)}calculateFinancialMetrics(){let t=new Date,i=t.getMonth(),a=t.getFullYear(),o=i===0?11:i-1,s=i===0?a-1:a,m=this.transactions.filter(C=>{let y=this.dateService.toDate(C.date);return(y==null?void 0:y.getMonth())===i&&(y==null?void 0:y.getFullYear())===a}),u=this.transactions.filter(C=>{let y=this.dateService.toDate(C.date);return(y==null?void 0:y.getMonth())===o&&(y==null?void 0:y.getFullYear())===s});this.totalIncome=m.filter(C=>C.type==="income").reduce((C,y)=>C+y.amount,0),this.totalExpenses=m.filter(C=>C.type==="expense").reduce((C,y)=>C+y.amount,0),this.netSavings=this.totalIncome-this.totalExpenses;let f=u.filter(C=>C.type==="income").reduce((C,y)=>C+y.amount,0),g=u.filter(C=>C.type==="expense").reduce((C,y)=>C+y.amount,0),x=f-g;this.monthlyChange=this.netSavings-x,this.monthlyChangePercentage=x!==0?this.monthlyChange/x*100:0}calculateTopCategories(){let t=new Date().getMonth(),i=new Date().getFullYear(),a=this.transactions.filter(m=>{let u=this.dateService.toDate(m.date);return m.type==="expense"&&(u==null?void 0:u.getMonth())===t&&(u==null?void 0:u.getFullYear())===i}),o=new Map;a.forEach(m=>{let u=o.get(m.categoryId)||0;o.set(m.categoryId,u+m.amount)});let s=this.totalExpenses;this.topCategories=Array.from(o.entries()).map(([m,u])=>{let f=this.categories.find(g=>g.id===m);return{category:(f==null?void 0:f.name)||"Unknown",amount:u,percentage:s>0?u/s*100:0,icon:(f==null?void 0:f.icon)||"category"}}).sort((m,u)=>u.amount-m.amount).slice(0,5)}getRecentTransactions(){this.recentTransactions=this.transactions.sort((t,i)=>{var a,o,s,m;return((o=(a=this.dateService.toDate(i.date))==null?void 0:a.getTime())!=null?o:0)-((m=(s=this.dateService.toDate(t.date))==null?void 0:s.getTime())!=null?m:0)}).slice(0,5)}calculateMonthlyTrends(){let t=new Date,i=[];for(let a=5;a>=0;a--){let o=new Date(t.getFullYear(),t.getMonth()-a,1),s=o.toLocaleDateString(Ot.LANGUAGE.DEFAULT,{month:"short"}),m=this.transactions.filter(g=>{let x=this.dateService.toDate(g.date);return(x==null?void 0:x.getMonth())===o.getMonth()&&(x==null?void 0:x.getFullYear())===o.getFullYear()}),u=m.filter(g=>g.type==="income").reduce((g,x)=>g+x.amount,0),f=m.filter(g=>g.type==="expense").reduce((g,x)=>g+x.amount,0);i.push({month:s,income:u,expenses:f,savings:u-f})}this.monthlyTrends=i}calculateEnhancedAnalytics(){this.calculateDailyData(),this.calculateWeeklyData(),this.calculateYearlyData(),this.calculateAccountBalances(),this.calculateSpendingTrends(),this.calculateCategoryTrends(),this.calculateGrowthRates()}calculateDailyData(){let t=new Date,i=[];for(let a=29;a>=0;a--){let o=new Date(t.getTime()-a*24*60*60*1e3),s=o.toISOString().split("T")[0],m=this.transactions.filter(g=>{let x=this.dateService.toDate(g.date);return(x==null?void 0:x.toDateString())===o.toDateString()}),u=m.filter(g=>g.type==="income").reduce((g,x)=>g+x.amount,0),f=m.filter(g=>g.type==="expense").reduce((g,x)=>g+x.amount,0);i.push({date:s,income:u,expenses:f,savings:u-f})}this.dailyData=i}calculateWeeklyData(){let t=new Date,i=[];for(let a=11;a>=0;a--){let o=new Date(t.getTime()-a*7*24*60*60*1e3),s=new Date(o.getTime()+6*24*60*60*1e3),m=`Week ${Math.ceil((o.getTime()-new Date(o.getFullYear(),0,1).getTime())/(7*24*60*60*1e3))}`,u=this.transactions.filter(x=>{let C=this.dateService.toDate(x.date);return C&&C>=o&&C<=s}),f=u.filter(x=>x.type==="income").reduce((x,C)=>x+C.amount,0),g=u.filter(x=>x.type==="expense").reduce((x,C)=>x+C.amount,0);i.push({week:m,income:f,expenses:g,savings:f-g})}this.weeklyData=i}calculateYearlyData(){let t=new Date,i=[];for(let a=4;a>=0;a--){let o=t.getFullYear()-a,s=o.toString(),m=this.transactions.filter(g=>{let x=this.dateService.toDate(g.date);return(x==null?void 0:x.getFullYear())===o}),u=m.filter(g=>g.type==="income").reduce((g,x)=>g+x.amount,0),f=m.filter(g=>g.type==="expense").reduce((g,x)=>g+x.amount,0);i.push({year:s,income:u,expenses:f,savings:u-f})}this.yearlyData=i}calculateAccountBalances(){let t=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"];this.accountBalances=this.accounts.map((i,a)=>{let s=this.transactions.filter(m=>m.accountId===i.accountId).reduce((m,u)=>m+(u.type==="income"?u.amount:-u.amount),i.balance||0);return{account:i.name,balance:Math.max(0,s),color:t[a%t.length]}})}calculateSpendingTrends(){let t=["Last 7 Days","Last 30 Days","Last 3 Months","Last 6 Months","Last Year"],i=[];t.forEach((a,o)=>{let s=[7,30,90,180,365][o],m=new Date,u=new Date(m.getTime()-s*24*60*60*1e3),g=this.transactions.filter(D=>{let I=this.dateService.toDate(D.date);return I&&I>=u&&I<=m}).filter(D=>D.type==="expense").reduce((D,I)=>D+I.amount,0),x=new Date(u.getTime()-s*24*60*60*1e3),y=this.transactions.filter(D=>{let I=this.dateService.toDate(D.date);return I&&I>=x&&I<u}).filter(D=>D.type==="expense").reduce((D,I)=>D+I.amount,0),v=g-y,P=y>0?v/y*100:0;i.push({period:a,amount:g,change:v,percentage:P})}),this.spendingTrends=i}calculateCategoryTrends(){let t=new Date,i=t.getMonth(),a=t.getFullYear(),o=i===0?11:i-1,s=i===0?a-1:a,m=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#EC4899","#84CC16"];this.categoryTrends=this.categories.map((u,f)=>{let x=this.transactions.filter(D=>{let I=this.dateService.toDate(D.date);return D.categoryId===u.id&&D.type==="expense"&&(I==null?void 0:I.getMonth())===i&&(I==null?void 0:I.getFullYear())===a}).reduce((D,I)=>D+I.amount,0),y=this.transactions.filter(D=>{let I=this.dateService.toDate(D.date);return D.categoryId===u.id&&D.type==="expense"&&(I==null?void 0:I.getMonth())===o&&(I==null?void 0:I.getFullYear())===s}).reduce((D,I)=>D+I.amount,0),v=x-y,P=y>0?v/y*100:0;return{category:u.name,currentAmount:x,previousAmount:y,change:v,percentage:P,color:m[f%m.length]}}).filter(u=>u.currentAmount>0||u.previousAmount>0).sort((u,f)=>Math.abs(f.change)-Math.abs(u.change)).slice(0,8)}calculateGrowthRates(){var f;let t=this.transactions.filter(g=>g.type==="expense").reduce((g,x)=>g+x.amount,0),i=this.transactions.length>0?Math.max(1,Math.ceil((new Date().getTime()-(((f=this.dateService.toDate(this.transactions[0].date))==null?void 0:f.getTime())||0))/(24*60*60*1e3))):30;this.averageDailySpending=t/i,this.averageMonthlySpending=this.averageDailySpending*30;let a=this.transactions.filter(g=>g.type==="income").reduce((g,x)=>g+x.amount,0);this.savingsRate=a>0?this.netSavings/a*100:0;let o=this.totalExpenses,s=this.transactions.filter(g=>{let x=this.dateService.toDate(g.date),C=new Date().getMonth()===0?11:new Date().getMonth()-1,y=new Date().getMonth()===0?new Date().getFullYear()-1:new Date().getFullYear();return g.type==="expense"&&(x==null?void 0:x.getMonth())===C&&(x==null?void 0:x.getFullYear())===y}).reduce((g,x)=>g+x.amount,0);this.expenseGrowthRate=s>0?(o-s)/s*100:0;let m=this.totalIncome,u=this.transactions.filter(g=>{let x=this.dateService.toDate(g.date),C=new Date().getMonth()===0?11:new Date().getMonth()-1,y=new Date().getMonth()===0?new Date().getFullYear()-1:new Date().getFullYear();return g.type==="income"&&(x==null?void 0:x.getMonth())===C&&(x==null?void 0:x.getFullYear())===y}).reduce((g,x)=>g+x.amount,0);this.incomeGrowthRate=u>0?(m-u)/u*100:0}onPeriodChange(t){this.selectedPeriod=t,this.notificationService.info(`Report period changed to ${t}`),console.log("Period changed to:",t),this.updateCharts()}onChartTypeChange(t){this.selectedChartType=t,this.notificationService.info(`Chart type changed to ${t}`),this.updateCharts()}onAnalyticsViewChange(t){this.selectedAnalyticsView=t,this.notificationService.info(`Analytics view changed to ${t}`),this.updateCharts()}toggleAdvancedAnalytics(){this.showAdvancedAnalytics=!this.showAdvancedAnalytics,this.userPreferences.showAdvancedAnalytics=this.showAdvancedAnalytics,this.savePreferences(),this.notificationService.info(this.showAdvancedAnalytics?"Advanced analytics enabled":"Advanced analytics disabled")}openPreferencesDialog(){this.showPreferencesDialog=!0}closePreferencesDialog(){this.showPreferencesDialog=!1}savePreferences(){localStorage.setItem("reports-preferences",JSON.stringify(this.userPreferences)),this.notificationService.success("Preferences saved successfully")}loadPreferences(){let t=localStorage.getItem("reports-preferences");t&&(this.userPreferences=oe(oe({},this.userPreferences),JSON.parse(t)),this.selectedChartType=this.userPreferences.defaultChartType,this.selectedAnalyticsView=this.userPreferences.defaultAnalyticsView,this.selectedPeriod=this.userPreferences.defaultPeriod,this.showAdvancedAnalytics=this.userPreferences.showAdvancedAnalytics)}resetPreferences(){this.userPreferences={defaultChartType:"pie",defaultAnalyticsView:"overview",defaultPeriod:"monthly",showAdvancedAnalytics:!1,chartHeight:"medium",refreshInterval:5,currencyFormat:"INR",dateFormat:"DD/MM/YYYY",theme:"auto",showTooltips:!0,showAnimations:!0,exportFormat:"pdf",emailReports:!1,emailFrequency:"never"},this.savePreferences(),this.notificationService.info("Preferences reset to default")}toggleQuickFilters(){this.showQuickFilters=!this.showQuickFilters}applyFilters(){this.notificationService.info("Filters applied successfully"),this.toggleQuickFilters(),this.refreshData()}toggleExportOptions(){this.showExportOptions=!this.showExportOptions}toggleHelpTooltip(){this.showHelpTooltip=!this.showHelpTooltip}toggleQuickActions(){this.showQuickActions=!this.showQuickActions}refreshData(){this.isRefreshing=!0,setTimeout(()=>{this.loadData(),this.isRefreshing=!1,this.notificationService.success("Data refreshed successfully")},1e3)}getChartHeight(){switch(this.userPreferences.chartHeight){case"small":return"h-48 sm:h-56";case"large":return"h-80 sm:h-96";default:return"h-64 sm:h-80"}}formatCurrencyWithPreference(t){switch(this.userPreferences.currencyFormat){case"USD":return`$${t.toLocaleString("en-US")}`;case"EUR":return`\u20AC${t.toLocaleString("de-DE")}`;default:return`\u20B9${t.toLocaleString("en-IN")}`}}exportReport(){try{console.log("Export report clicked"),this.notificationService.info("Export feature coming soon")}catch(t){console.error("Error exporting report:",t),this.notificationService.error("Failed to export report")}}generateReport(){try{console.log("Generate report clicked"),this.notificationService.info("Report generation feature coming soon")}catch(t){console.error("Error generating report:",t),this.notificationService.error("Failed to generate report")}}addTransaction(){this.router.navigate(["/dashboard/transaction-list/add-transaction"])}getMonthlyChangeDisplay(){return`${this.monthlyChange>=0?"+":""}${this.monthlyChangePercentage.toFixed(1)}%`}getMonthlyChangeColor(){return this.monthlyChange>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}getMonthlyChangeIcon(){return this.monthlyChange>=0?"trending_up":"trending_down"}formatCurrency(t){return`\u20B9${t.toLocaleString("en-IN")}`}getTransactionIcon(t){return t.type==="income"?"trending_up":"trending_down"}getTransactionColor(t){return t.type==="income"?"text-green-600":"text-red-600"}getCurrentChartOption(){switch(this.selectedChartType){case"pie":return this.pieChartOption;case"bar":return this.barChartOption;case"line":return this.lineChartOption;case"area":return this.areaChartOption;case"radar":return this.radarChartOption;case"funnel":return this.funnelChartOption;case"scatter":return this.scatterChartOption;case"heatmap":return this.heatmapChartOption;default:return this.pieChartOption}}getChartTitle(){switch(this.selectedChartType){case"pie":return"Spending by Category";case"bar":return"Monthly Financial Trends";case"line":return"Financial Trends Over Time";case"area":return"Daily Spending Patterns";case"radar":return"Category Performance Comparison";case"funnel":return"Spending Funnel Analysis";case"scatter":return"Income vs Expenses Correlation";case"heatmap":return"Weekly Spending Heatmap";default:return"Financial Analytics"}}initializePieChart(){if(this.topCategories.length===0){this.pieChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.topCategories.map(i=>({name:i.category,value:i.amount,itemStyle:{color:i.color}}));this.pieChartOption={title:{text:"Spending by Category",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"item",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"},formatter:i=>{let a=(i.value/this.totalExpenses*100).toFixed(1);return`${i.name}<br/>${this.formatCurrency(i.value)} (${a}%)`}},legend:{orient:"vertical",left:"left",top:"middle",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"}},series:[{name:"Spending",type:"pie",radius:["40%","70%"],center:["60%","50%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"18",fontWeight:"bold",color:this.isDarkMode?"#F9FAFB":"#333"}},labelLine:{show:!1},data:t}]}}initializeBarChart(){if(this.monthlyTrends.length===0){this.barChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.monthlyTrends.map(s=>s.month),i=this.monthlyTrends.map(s=>s.income),a=this.monthlyTrends.map(s=>s.expenses),o=this.monthlyTrends.map(s=>s.savings);this.barChartOption={title:{text:"Monthly Financial Trends",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"},formatter:s=>{let m=`${s[0].axisValue}<br/>`;return s.forEach(u=>{m+=`${u.marker} ${u.seriesName}: ${this.formatCurrency(u.value)}<br/>`}),m}},legend:{data:["Income","Expenses","Savings"],top:"bottom",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"}},grid:{left:"3%",right:"4%",bottom:"15%",top:"15%",containLabel:!0},xAxis:{type:"category",data:t,axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},yAxis:{type:"value",axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333",formatter:s=>this.formatCurrency(s)},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},series:[{name:"Income",type:"bar",data:i,itemStyle:{color:"#10B981"},emphasis:{itemStyle:{color:"#059669"}}},{name:"Expenses",type:"bar",data:a,itemStyle:{color:"#EF4444"},emphasis:{itemStyle:{color:"#DC2626"}}},{name:"Savings",type:"bar",data:o,itemStyle:{color:"#3B82F6"},emphasis:{itemStyle:{color:"#2563EB"}}}]}}initializeLineChart(){if(this.monthlyTrends.length===0){this.lineChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.monthlyTrends.map(s=>s.month),i=this.monthlyTrends.map(s=>s.income),a=this.monthlyTrends.map(s=>s.expenses),o=this.monthlyTrends.map(s=>s.savings);this.lineChartOption={title:{text:"Financial Trends Over Time",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"axis",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"}},legend:{data:["Income","Expenses","Savings"],top:"bottom",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"}},grid:{left:"3%",right:"4%",bottom:"15%",top:"15%",containLabel:!0},xAxis:{type:"category",data:t,axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},yAxis:{type:"value",axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333",formatter:s=>this.formatCurrency(s)},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},series:[{name:"Income",type:"line",data:i,smooth:!0,itemStyle:{color:"#10B981"},lineStyle:{color:"#10B981",width:3},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(16, 185, 129, 0.3)"},{offset:1,color:"rgba(16, 185, 129, 0.1)"}]}}},{name:"Expenses",type:"line",data:a,smooth:!0,itemStyle:{color:"#EF4444"},lineStyle:{color:"#EF4444",width:3},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(239, 68, 68, 0.3)"},{offset:1,color:"rgba(239, 68, 68, 0.1)"}]}}},{name:"Savings",type:"line",data:o,smooth:!0,itemStyle:{color:"#3B82F6"},lineStyle:{color:"#3B82F6",width:3},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(59, 130, 246, 0.3)"},{offset:1,color:"rgba(59, 130, 246, 0.1)"}]}}}]}}initializeAreaChart(){if(this.dailyData.length===0){this.areaChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.dailyData.map(o=>o.date),i=this.dailyData.map(o=>o.income),a=this.dailyData.map(o=>o.expenses);this.areaChartOption={title:{text:"Daily Spending Patterns",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"axis",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"}},legend:{data:["Income","Expenses"],top:"bottom",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"}},grid:{left:"3%",right:"4%",bottom:"15%",top:"15%",containLabel:!0},xAxis:{type:"category",data:t,axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},yAxis:{type:"value",axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333",formatter:o=>this.formatCurrency(o)},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},series:[{name:"Income",type:"line",stack:"Total",data:i,areaStyle:{color:"#10B981"},itemStyle:{color:"#10B981"}},{name:"Expenses",type:"line",stack:"Total",data:a,areaStyle:{color:"#EF4444"},itemStyle:{color:"#EF4444"}}]}}initializeRadarChart(){if(this.categoryTrends.length===0){this.radarChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.categoryTrends.map(o=>o.category),i=this.categoryTrends.map(o=>o.currentAmount),a=this.categoryTrends.map(o=>o.previousAmount);this.radarChartOption={title:{text:"Category Performance Comparison",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"}},legend:{data:["Current Month","Previous Month"],top:"bottom",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"}},radar:{indicator:t.map(o=>({name:o,max:Math.max(...i,...a)*1.2})),center:["50%","50%"],radius:"60%",axisName:{color:this.isDarkMode?"#F9FAFB":"#333"},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitArea:{show:!1}},series:[{name:"Category Performance",type:"radar",data:[{value:i,name:"Current Month",itemStyle:{color:"#3B82F6"},areaStyle:{color:"rgba(59, 130, 246, 0.3)"}},{value:a,name:"Previous Month",itemStyle:{color:"#10B981"},areaStyle:{color:"rgba(16, 185, 129, 0.3)"}}]}]}}initializeFunnelChart(){if(this.spendingTrends.length===0){this.funnelChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.spendingTrends.map(i=>({name:i.period,value:i.amount}));this.funnelChartOption={title:{text:"Spending Funnel Analysis",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"item",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"},formatter:i=>`${i.name}<br/>${this.formatCurrency(i.value)}`},series:[{name:"Spending",type:"funnel",left:"10%",top:60,width:"80%",height:"80%",min:0,max:Math.max(...t.map(i=>i.value)),minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside",color:this.isDarkMode?"#F9FAFB":"#333"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:this.isDarkMode?"#374151":"#FFFFFF",borderWidth:1},emphasis:{label:{fontSize:20}},data:t}]}}initializeScatterChart(){if(this.dailyData.length===0){this.scatterChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.dailyData.map((i,a)=>[a,i.expenses,i.income]);this.scatterChartOption={title:{text:"Income vs Expenses Correlation",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"item",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"},formatter:i=>`Day ${i.data[0]+1}<br/>Expenses: ${this.formatCurrency(i.data[1])}<br/>Income: ${this.formatCurrency(i.data[2])}`},xAxis:{type:"value",name:"Day",axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},yAxis:{type:"value",name:"Amount",axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333",formatter:i=>this.formatCurrency(i)},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},series:[{name:"Income vs Expenses",type:"scatter",data:t,symbolSize:8,itemStyle:{color:"#3B82F6"}}]}}initializeHeatmapChart(){if(this.dailyData.length===0){this.heatmapChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.dailyData.map((i,a)=>[Math.floor(a/7),a%7,i.expenses]);this.heatmapChartOption={title:{text:"Weekly Spending Heatmap",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{position:"top",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"},formatter:i=>{let a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return`Week ${i.data[0]+1}, ${a[i.data[1]]}<br/>${this.formatCurrency(i.data[2])}`}},grid:{height:"50%",top:"10%"},xAxis:{type:"category",data:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],splitArea:{show:!0},axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"}},yAxis:{type:"category",data:["Week 1","Week 2","Week 3","Week 4"],splitArea:{show:!0},axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"}},visualMap:{min:0,max:Math.max(...this.dailyData.map(i=>i.expenses)),calculable:!0,orient:"horizontal",left:"center",bottom:"15%",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"},inRange:{color:["#EBF8FF","#3B82F6"]}},series:[{name:"Spending",type:"heatmap",data:t,label:{show:!0,color:this.isDarkMode?"#F9FAFB":"#333"},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}updateCharts(){this.initializePieChart(),this.initializeBarChart(),this.initializeLineChart(),this.initializeAreaChart(),this.initializeRadarChart(),this.initializeFunnelChart(),this.initializeScatterChart(),this.initializeHeatmapChart()}detectTheme(){this.isDarkMode=document.documentElement.classList.contains("dark"),new MutationObserver(()=>{this.isDarkMode=document.documentElement.classList.contains("dark"),this.updateCharts()}).observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),this.ssrService.isClientSide()&&window.addEventListener("resize",()=>{setTimeout(()=>this.updateCharts(),100)})}};n.\u0275fac=function(i){return new(i||n)(T(hn),T(kt),T(vt),T(Ft),T(Xt),T(Jr))},n.\u0275cmp=Se({type:n,selectors:[["app-reports"]],decls:11,vars:6,consts:[["chartTypeMenu","matMenu"],["analyticsViewMenu","matMenu"],["moreOptionsMenu","matMenu"],[1,"min-h-screen","bg-gray-50","dark:bg-gray-900"],["class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",4,"ngIf"],["class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"fixed","bottom-6","right-6","z-40"],[1,"flex","flex-col","space-y-2"],["mat-fab","","color","primary","matTooltip","Quick Actions",1,"shadow-lg",3,"click"],["class","flex flex-col space-y-2",4,"ngIf"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-12"],[1,"text-center"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-blue-100","dark:bg-blue-900/20","rounded-full","mb-6"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6","space-y-6"],[1,"grid","grid-cols-1","sm:grid-cols-2","xl:grid-cols-4","gap-4"],[1,"bg-gradient-to-br","from-green-50","to-green-100","dark:from-green-900/20","dark:to-green-800/20","rounded-xl","p-4","sm:p-6","border","border-green-200","dark:border-green-700","shadow-sm","hover:shadow-md","transition-shadow","metric-card"],[1,"flex","items-center","justify-between"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-green-600","dark:text-green-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-green-900","dark:text-green-100","truncate"],[1,"text-xs","text-green-600","dark:text-green-400","mt-1"],[1,"bg-green-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-green-600","dark:text-green-400","text-lg","sm:text-xl"],[1,"bg-gradient-to-br","from-red-50","to-red-100","dark:from-red-900/20","dark:to-red-800/20","rounded-xl","p-4","sm:p-6","border","border-red-200","dark:border-red-700","shadow-sm","hover:shadow-md","transition-shadow","metric-card"],[1,"text-sm","font-medium","text-red-600","dark:text-red-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-red-900","dark:text-red-100","truncate"],[1,"text-xs","text-red-600","dark:text-red-400","mt-1"],[1,"bg-red-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-red-600","dark:text-red-400","text-lg","sm:text-xl"],[1,"bg-gradient-to-br","from-blue-50","to-blue-100","dark:from-blue-900/20","dark:to-blue-800/20","rounded-xl","p-4","sm:p-6","border","border-blue-200","dark:border-blue-700","shadow-sm","hover:shadow-md","transition-shadow","metric-card"],[1,"text-sm","font-medium","text-blue-600","dark:text-blue-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-blue-900","dark:text-blue-100","truncate"],[1,"text-xs","text-blue-600","dark:text-blue-400","mt-1"],[1,"bg-blue-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-blue-600","dark:text-blue-400","text-lg","sm:text-xl"],[1,"bg-gradient-to-br","from-purple-50","to-purple-100","dark:from-purple-900/20","dark:to-purple-800/20","rounded-xl","p-4","sm:p-6","border","border-purple-200","dark:border-purple-700","shadow-sm","hover:shadow-md","transition-shadow","metric-card"],[1,"text-sm","font-medium","text-purple-600","dark:text-purple-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-purple-900","dark:text-purple-100","truncate",3,"ngClass"],[1,"text-xs","text-purple-600","dark:text-purple-400","mt-1"],[1,"bg-purple-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-lg","sm:text-xl",3,"ngClass"],[1,"bg-white","dark:bg-gray-800","shadow-lg","border-0","rounded-xl","overflow-hidden"],[1,"p-4","sm:p-6","border-b","border-gray-200","dark:border-gray-700","bg-gray-50","dark:bg-gray-700/50"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","gap-4"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","dark:text-white","truncate"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-1"],[1,"flex","items-center","space-x-2","compact-control-bar"],[1,"hidden","sm:flex",3,"change","value"],["value","daily",1,"text-xs"],["value","weekly",1,"text-xs"],["value","monthly",1,"text-xs"],["value","yearly",1,"text-xs"],["mat-icon-button","","matTooltip","Chart Type",1,"text-gray-600","dark:text-gray-400","hover:text-blue-600","dark:hover:text-blue-400",3,"matMenuTriggerFor"],[1,"chart-type-menu"],[1,"p-2"],[1,"text-xs","font-medium","text-gray-500","dark:text-gray-400","mb-2","px-3"],["mat-menu-item","",1,"flex","items-center","space-x-3",3,"bg-blue-50"],["mat-icon-button","","matTooltip","Analytics View",1,"text-gray-600","dark:text-gray-400","hover:text-green-600","dark:hover:text-green-400",3,"matMenuTriggerFor"],[1,"analytics-view-menu"],["mat-menu-item","",1,"flex","items-center","space-x-3",3,"bg-green-50"],["mat-icon-button","",1,"hover:text-purple-600","dark:hover:text-purple-400",3,"click","matTooltip"],["mat-icon-button","","matTooltip","More Options",1,"text-gray-600","dark:text-gray-400","hover:text-gray-800","dark:hover:text-gray-200",3,"matMenuTriggerFor"],[1,"more-options-menu"],["mat-menu-item","",1,"flex","items-center","space-x-3",3,"click"],[1,"text-sm"],["mat-menu-item","",1,"flex","items-center","space-x-3",3,"click","disabled"],[1,"p-4","sm:p-6"],[1,"w-full","chart-transition",3,"ngClass"],["echarts","",1,"w-full","h-full",3,"options"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2"],[1,"bg-white","dark:bg-gray-800","shadow-lg","border-0","rounded-xl","overflow-hidden","h-full"],[1,"flex","items-center","justify-between","mb-4","sm:mb-6"],[1,"text-green-600","dark:text-green-400"],[1,"space-y-4"],["class","space-y-3",4,"ngIf"],[1,"lg:col-span-1"],[1,"text-blue-600","dark:text-blue-400"],[1,"space-y-3"],["mat-stroked-button","",1,"w-full","justify-start",3,"click"],[1,"mr-3"],["mat-stroked-button","",1,"w-full","justify-start",3,"click","disabled"],["class","bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6",4,"ngIf"],["class","flex justify-center",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-4","sm:gap-6","mb-8"],[1,"space-y-3","sm:space-y-4"],[1,"flex","justify-between","items-center","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg"],[1,"flex","items-center","space-x-3","min-w-0","flex-1"],[1,"w-3","h-3","bg-green-500","rounded-full","flex-shrink-0"],[1,"text-gray-700","dark:text-gray-300","truncate"],[1,"font-semibold","text-green-600","dark:text-green-400","ml-3","text-right"],[1,"w-3","h-3","bg-red-500","rounded-full","flex-shrink-0"],[1,"font-semibold","text-red-600","dark:text-red-400","ml-3","text-right"],[1,"w-3","h-3","bg-blue-500","rounded-full","flex-shrink-0"],[1,"font-semibold","text-blue-600","dark:text-blue-400","ml-3","text-right"],[1,"flex","justify-between","items-center","p-3","bg-green-50","dark:bg-green-900/20","rounded-lg","border","border-green-200","dark:border-green-700"],[1,"text-gray-700","dark:text-gray-300"],[1,"text-purple-600","dark:text-purple-400"],["class","text-center py-8 sm:py-12",4,"ngIf"],[1,"bg-orange-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-orange-600","dark:text-orange-400"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","gap-4","mb-6","sm:mb-8"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"flex","flex-wrap","gap-2","justify-center","lg:justify-end"],["mat-stroked-button","",1,"px-3","sm:px-4","py-2","text-xs","sm:text-sm","border","border-gray-300","dark:border-gray-600","rounded-lg","hover:bg-gray-50","dark:hover:bg-gray-700","transition-colors",3,"click"],["mat-raised-button","","color","primary",1,"px-3","sm:px-4","py-2","text-xs","sm:text-sm","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow",3,"click"],["class","space-y-6",4,"ngIf"],["class","text-center py-12 sm:py-16",4,"ngIf"],[1,"text-blue-600","text-sm"],[1,"text-green-600","text-sm"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","flex","items-center"],[1,"text-sm","mr-2"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors"],[1,"text-sm","text-gray-600","dark:text-gray-400","truncate"],[1,"text-sm","font-medium",3,"ngClass"],[1,"text-sm","font-medium","text-gray-900","dark:text-white"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-lg","p-4","sm:p-6"],[1,"flex","items-center","justify-between","mb-6"],[1,"flex","items-center","space-x-3"],[1,"bg-blue-500/10","p-2","rounded-lg"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-600","dark:text-gray-400"],["mat-icon-button","",1,"text-gray-600","dark:text-gray-400","hover:text-gray-800","dark:hover:text-gray-200",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["appearance","fill",1,"w-full"],["value","7"],["value","30"],["value","90"],["value","365"],["value","all"],[3,"value"],["value","income"],["value","expense"],[1,"flex","justify-end","space-x-3","mt-6"],["mat-stroked-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"flex","justify-center"],["mat-stroked-button","",1,"flex","items-center","space-x-2","px-6","py-3",3,"click"],[1,"bg-gradient-to-br","from-orange-50","to-orange-100","dark:from-orange-900/20","dark:to-orange-800/20","rounded-xl","p-4","sm:p-6","border","border-orange-200","dark:border-orange-700"],[1,"text-sm","font-medium","text-orange-600","dark:text-orange-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-orange-900","dark:text-orange-100","truncate"],[1,"text-orange-600","dark:text-orange-400","text-lg","sm:text-xl"],[1,"bg-gradient-to-br","from-indigo-50","to-indigo-100","dark:from-indigo-900/20","dark:to-indigo-800/20","rounded-xl","p-4","sm:p-6","border","border-indigo-200","dark:border-indigo-700"],[1,"text-sm","font-medium","text-indigo-600","dark:text-indigo-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-indigo-900","dark:text-indigo-100","truncate"],[1,"bg-indigo-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-indigo-600","dark:text-indigo-400","text-lg","sm:text-xl"],[1,"bg-gradient-to-br","from-emerald-50","to-emerald-100","dark:from-emerald-900/20","dark:to-emerald-800/20","rounded-xl","p-4","sm:p-6","border","border-emerald-200","dark:border-emerald-700"],[1,"text-sm","font-medium","text-emerald-600","dark:text-emerald-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-emerald-900","dark:text-emerald-100","truncate"],[1,"bg-emerald-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-emerald-600","dark:text-emerald-400","text-lg","sm:text-xl"],[1,"bg-gradient-to-br","from-rose-50","to-rose-100","dark:from-rose-900/20","dark:to-rose-800/20","rounded-xl","p-4","sm:p-6","border","border-rose-200","dark:border-rose-700"],[1,"text-sm","font-medium","text-rose-600","dark:text-rose-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-rose-900","dark:text-rose-100","truncate",3,"ngClass"],[1,"bg-rose-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-rose-600","dark:text-rose-400","text-lg","sm:text-xl"],[1,"font-semibold","text-gray-900","dark:text-white","ml-3","text-right"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","flex-shrink-0","bg-gray-100","dark:bg-gray-600"],[1,"min-w-0","flex-1"],[1,"text-gray-700","dark:text-gray-300","font-medium","truncate","block"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"text-center","py-8","sm:py-12"],[1,"bg-gray-100","dark:bg-gray-700","w-16","h-16","sm:w-20","sm:h-20","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-gray-400","text-2xl","sm:text-3xl"],[1,"text-base","sm:text-lg","font-medium","text-gray-900","dark:text-white","mb-2"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"flex-shrink-0",3,"ngClass"],[1,"text-xs","text-gray-500","dark:text-gray-400","truncate"],[1,"text-right","ml-3","flex-shrink-0"],[1,"font-semibold","block",3,"ngClass"],[1,"bg-green-500/10","p-2","rounded-lg"],[3,"ngModelChange","ngModel"],["value","pdf"],["value","excel"],["value","csv"],["value","json"],["value","current"],["value","last3"],["value","last6"],["value","last12"],["value","custom"],[1,"w-full"],[1,"flex","items-end"],["mat-raised-button","","color","primary",1,"w-full",3,"click"],[1,"mr-2"],["mat-raised-button","","color","accent",3,"click"],[1,"space-y-6"],[1,"bg-gray-50","dark:bg-gray-700","rounded-lg","p-4","sm:p-6"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-4"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-6","gap-3","sm:gap-4"],[1,"text-center","p-3","bg-white","dark:bg-gray-600","rounded-lg"],["class","bg-gray-50 dark:bg-gray-700 rounded-lg p-4 sm:p-6",4,"ngIf"],[1,"text-xs","sm:text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2","truncate"],[1,"text-sm","sm:text-lg","font-bold","text-green-600","dark:text-green-400","truncate"],[1,"text-xs","sm:text-sm","text-red-600","dark:text-red-400","truncate"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1","truncate"],[1,"w-6","h-6","rounded-full","flex","items-center","justify-center","flex-shrink-0","bg-gray-100","dark:bg-gray-600"],[1,"text-xs"],[1,"flex","items-center","space-x-3","sm:space-x-4","ml-3"],[1,"w-20","sm:w-32","bg-gray-200","dark:bg-gray-600","rounded-full","h-2","flex-shrink-0"],[1,"bg-blue-600","h-2","rounded-full"],[1,"text-sm","font-medium","text-gray-900","dark:text-white","w-16","sm:w-20","text-right","truncate"],[1,"text-center","py-12","sm:py-16"],[1,"bg-gray-100","dark:bg-gray-700","w-20","h-20","sm:w-24","sm:h-24","rounded-full","flex","items-center","justify-center","mx-auto","mb-6"],[1,"text-gray-400","text-4xl","sm:text-5xl"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-900","dark:text-white","mb-3"],[1,"text-sm","sm:text-base","text-gray-600","dark:text-gray-400","mb-6","max-w-md","mx-auto"],["mat-raised-button","","color","primary",1,"flex","items-center","space-x-2","px-4","sm:px-6","py-3","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","mx-auto",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","max-w-4xl","w-full","max-h-[90vh]","overflow-y-auto"],[1,"p-6","border-b","border-gray-200","dark:border-gray-700"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],["mat-icon-button","",3,"click"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-2"],[1,"p-6","space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["value","daily"],["value","weekly"],["value","monthly"],["value","yearly"],["value","small"],["value","medium"],["value","large"],["value","INR"],["value","USD"],["value","EUR"],["value","DD/MM/YYYY"],["value","MM/DD/YYYY"],["value","YYYY-MM-DD"],[1,"w-full",3,"ngModelChange","ngModel"],["matInput","","type","number","min","1","max","60",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"p-6","border-t","border-gray-200","dark:border-gray-700","flex","justify-between"],["mat-stroked-button","",1,"text-red-600","border-red-600","hover:bg-red-50",3,"click"],[1,"space-x-3"],["value","never"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","max-w-2xl","w-full"],[1,"p-6","space-y-4"],[1,"space-y-2","text-sm","text-gray-600","dark:text-gray-400"],[1,"p-6","border-t","border-gray-200","dark:border-gray-700"],["mat-mini-fab","","color","accent","matTooltip","Add Transaction",1,"shadow-lg",3,"click"],["mat-mini-fab","","color","warn","matTooltip","Export Report",1,"shadow-lg",3,"click"],["mat-mini-fab","","color","primary","matTooltip","Refresh Data",1,"shadow-lg",3,"click"]],template:function(i,a){i&1&&(c(0,"div",3),U(1,Pz,8,0,"div",4)(2,nU,278,58,"div",5)(3,oU,126,13,"div",6)(4,sU,91,0,"div",6),c(5,"div",7)(6,"div",8)(7,"button",9),F("click",function(){return a.toggleQuickActions()}),c(8,"mat-icon"),d(9),l()(),U(10,cU,10,0,"div",10),l()()()),i&2&&(h(),M("ngIf",a.isLoading),h(),M("ngIf",!a.isLoading),h(),M("ngIf",a.showPreferencesDialog),h(),M("ngIf",a.showHelpTooltip),h(5),G(a.showQuickActions?"close":"add"),h(),M("ngIf",a.showQuickActions))},dependencies:[Kr,dt,on,rr,sn,fm,pm,wi,gs,iu,Nt,mn,Kv,cs,lt,Or,cr,Xi,fs,ps,hs,Tb,Eb,lo,En,Ra,rp,Ci],styles:['.chart-type-menu[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%], .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%], .more-options-menu[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]{padding:0}.chart-type-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%], .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%], .more-options-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{min-height:40px;height:40px;padding:0 16px}.chart-type-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover, .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover, .more-options-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover{background-color:#3b82f61a}.chart-type-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%], .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%], .more-options-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%]{background-color:#3b82f626}.mat-button-toggle-group[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden;border:1px solid #e5e7eb}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]{border:none;min-width:40px;height:36px}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]   .mat-button-toggle-label-content[_ngcontent-%COMP%]{padding:0 8px;font-size:12px;font-weight:500}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:not(.mat-button-toggle-checked){background-color:#fff;color:#6b7280}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:not(.mat-button-toggle-checked):hover{background-color:#f3f4f6}.dark[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]{border-color:#4b5563}.dark[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:not(.mat-button-toggle-checked){background-color:#374151;color:#d1d5db}.dark[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:not(.mat-button-toggle-checked):hover{background-color:#4b5563}.dark[_ngcontent-%COMP%]   .chart-type-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .more-options-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover{background-color:#3b82f633}.dark[_ngcontent-%COMP%]   .chart-type-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .more-options-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%]{background-color:#3b82f640}.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:36px;height:36px;line-height:36px}.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px}.chart-container[_ngcontent-%COMP%]{min-height:400px}.chart-container.small[_ngcontent-%COMP%]{min-height:300px}.chart-container.medium[_ngcontent-%COMP%]{min-height:400px}.chart-container.large[_ngcontent-%COMP%]{min-height:500px}@media (max-width: 640px){.mat-button-toggle-group[_ngcontent-%COMP%]{display:none!important}.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:32px;height:32px;line-height:32px}.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;line-height:18px}}.chart-transition[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.mat-menu-panel[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 10px 25px #00000026;border:1px solid #e5e7eb}.dark[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{border-color:#4b5563;box-shadow:0 10px 25px #0000004d}.mat-tooltip[_ngcontent-%COMP%]{font-size:12px;padding:4px 8px;border-radius:6px}.chart-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:200px}.chart-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #f3f4f6;border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.mat-card[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.mat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.mat-stroked-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.mat-stroked-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a}.mat-raised-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.mat-raised-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 8px 15px -3px #0000001a}.metric-card[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 25px 50px -12px #00000040}.chart-container[_ngcontent-%COMP%]{position:relative}.chart-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,#3b82f60d,#9333ea0d);border-radius:inherit;opacity:0;transition:opacity .3s ease-in-out;pointer-events:none}.chart-container[_ngcontent-%COMP%]:hover:before{opacity:1}.loading-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background:#ffffffe6;display:flex;align-items:center;justify-content:center;border-radius:inherit;z-index:10}@media (max-width: 768px){.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px}.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;line-height:16px}.metric-card[_ngcontent-%COMP%]:hover{transform:none}}.mat-focus-indicator[_ngcontent-%COMP%]{border-radius:8px}.dark[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]:hover{box-shadow:0 20px 25px -5px #0000004d,0 10px 10px -5px #0003}.dark[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]{background:#111827e6}']});let e=n;return e})();var TM=(()=>{let n=class n{constructor(t){this.dateService=t,this.oldRegimeSlabs=[{minIncome:0,maxIncome:25e4,rate:0,description:"Up to \u20B92,50,000"},{minIncome:250001,maxIncome:5e5,rate:5,description:"\u20B92,50,001 - \u20B95,00,000"},{minIncome:500001,maxIncome:1e6,rate:20,description:"\u20B95,00,001 - \u20B910,00,000"},{minIncome:1000001,maxIncome:1/0,rate:30,description:"Above \u20B910,00,000"}],this.newRegimeSlabs=[{minIncome:0,maxIncome:3e5,rate:0,description:"Up to \u20B93,00,000"},{minIncome:300001,maxIncome:6e5,rate:5,description:"\u20B93,00,001 - \u20B96,00,000"},{minIncome:600001,maxIncome:9e5,rate:10,description:"\u20B96,00,001 - \u20B99,00,000"},{minIncome:900001,maxIncome:12e5,rate:15,description:"\u20B99,00,001 - \u20B912,00,000"},{minIncome:1200001,maxIncome:15e5,rate:20,description:"\u20B912,00,001 - \u20B915,00,000"},{minIncome:1500001,maxIncome:1/0,rate:30,description:"Above \u20B915,00,000"}],this.NEW_REGIME_STANDARD_DEDUCTION=Ot.VALIDATION.MAX_AMOUNT*.05}calculateTotalIncome(t,i=2025){let a=new Date(i-1,3,1),o=new Date(i,2,31);return t.filter(s=>{let m=this.dateService.toDate(s.date)||new Date;return s.type==="income"&&m>=a&&m<=o}).reduce((s,m)=>s+m.amount,0)}getDefaultDeductions(){return[{section:"80C",description:"ELSS, PPF, EPF, Life Insurance, etc.",maxAmount:15e4,currentAmount:0},{section:"80D",description:"Health Insurance Premium",maxAmount:25e3,currentAmount:0},{section:"80G",description:"Donations to Charitable Institutions",maxAmount:1e5,currentAmount:0},{section:"80TTA",description:"Interest on Savings Account",maxAmount:1e4,currentAmount:0},{section:"HRA",description:"House Rent Allowance Exemption",maxAmount:0,currentAmount:0},{section:"LTA",description:"Leave Travel Allowance",maxAmount:0,currentAmount:0}]}calculateOldRegimeTax(t,i){let a=i.reduce((f,g)=>f+g.currentAmount,0),o=Math.max(0,t-a),s=this.calculateTaxBySlabs(o,this.oldRegimeSlabs),m=s*.04,u=s+m;return{totalIncome:t,deductions:i,totalDeductions:a,taxableIncome:o,incomeTax:s,cess:m,totalTaxLiability:u,regime:"old"}}calculateNewRegimeTax(t){let i=Math.max(0,t-this.NEW_REGIME_STANDARD_DEDUCTION),a=this.calculateTaxBySlabs(i,this.newRegimeSlabs),o=a*.04,s=a+o;return{totalIncome:t,deductions:[{section:"Standard",description:"Standard Deduction",maxAmount:this.NEW_REGIME_STANDARD_DEDUCTION,currentAmount:this.NEW_REGIME_STANDARD_DEDUCTION}],totalDeductions:this.NEW_REGIME_STANDARD_DEDUCTION,taxableIncome:i,incomeTax:a,cess:o,totalTaxLiability:s,regime:"new"}}calculateTaxBySlabs(t,i){let a=0,o=t;for(let s of i){if(o<=0)break;let m=Math.min(o,s.maxIncome===1/0?o:s.maxIncome-s.minIncome+1);a+=m*s.rate/100,o-=m}return a}calculateGST(t,i=18){let a=t*i/100,o=a/2,s=a/2;return{baseAmount:t,cgst:o,sgst:s,totalGST:a}}getTaxSlabs(t){return t==="old"?this.oldRegimeSlabs:this.newRegimeSlabs}compareRegimes(t,i){let a=this.calculateOldRegimeTax(t,i),o=this.calculateNewRegimeTax(t),s=a.totalTaxLiability-o.totalTaxLiability,m=s>0?"new":"old";return{oldRegime:a,newRegime:o,recommendation:m,savings:Math.abs(s)}}generateTaxReport(t,i){return`
INDIAN TAX ANALYSIS REPORT
Financial Year: 2024-25
Tax Regime: ${t.regime==="old"?"Old Regime (With Deductions)":"New Regime (Simplified)"}

INCOME DETAILS:
Total Income: \u20B9${t.totalIncome.toLocaleString("en-IN")}

${t.regime==="old"?`
DEDUCTIONS:
${t.deductions.map(o=>`${o.section}: \u20B9${o.currentAmount.toLocaleString("en-IN")}`).join(`
`)}
Total Deductions: \u20B9${t.totalDeductions.toLocaleString("en-IN")}
`:`
STANDARD DEDUCTION:
Standard Deduction: \u20B9${t.totalDeductions.toLocaleString("en-IN")}
`}

TAXABLE INCOME: \u20B9${t.taxableIncome.toLocaleString("en-IN")}

TAX CALCULATION:
Income Tax: \u20B9${t.incomeTax.toLocaleString("en-IN")}
Cess (4%): \u20B9${t.cess.toLocaleString("en-IN")}
TOTAL TAX LIABILITY: \u20B9${t.totalTaxLiability.toLocaleString("en-IN")}

${i?`
GST ANALYSIS:
Base Amount: \u20B9${i.baseAmount.toLocaleString("en-IN")}
CGST (9%): \u20B9${i.cgst.toLocaleString("en-IN")}
SGST (9%): \u20B9${i.sgst.toLocaleString("en-IN")}
Total GST (18%): \u20B9${i.totalGST.toLocaleString("en-IN")}
`:""}

Generated on: ${new Date().toLocaleDateString("en-IN")}
    `}};n.\u0275fac=function(i){return new(i||n)(Ie(Xt))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function mU(e,n){e&1&&(c(0,"div",44),d(1," Please enter a valid income amount "),l())}function uU(e,n){if(e&1){let r=ue();c(0,"div",38)(1,"form",39)(2,"div")(3,"label",40),d(4,"Annual Income (\u20B9)"),l(),c(5,"input",41),F("input",function(i){N(r);let a=w();return L(a.onInputChange(i))})("blur",function(){N(r);let i=w();return L(i.onManualIncomeChange())}),l(),c(6,"div",42),d(7),l(),U(8,mU,2,0,"div",43),l()()()}if(e&2){let r,t=w();h(),M("formGroup",t.taxForm),h(6),_n(" Enter your total annual income for FY ",t.currentYear,"-",t.currentYear+1," "),h(),M("ngIf",((r=t.taxForm.get("manualIncome"))==null?null:r.invalid)&&((r=t.taxForm.get("manualIncome"))==null?null:r.touched))}}function pU(e,n){if(e&1&&(c(0,"div",45)(1,"div",46)(2,"div")(3,"div",47),d(4,"Income from Transactions"),l(),c(5,"div",48),d(6),l(),c(7,"div",49),d(8),l()(),c(9,"mat-icon",50),d(10,"check_circle"),l()()()),e&2){let r=w();h(6),G(r.formatCurrency(r.totalIncome)),h(2),_n(" Calculated from your income transactions for FY ",r.currentYear,"-",r.currentYear+1," ")}}function fU(e,n){e&1&&(c(0,"div",51)(1,"div",52),se(2,"mat-spinner",53),c(3,"span",54),d(4,"Calculating tax from your transactions..."),l()()())}function hU(e,n){if(e&1&&(c(0,"div",55)(1,"div",22)(2,"h4",56)(3,"mat-icon",57),d(4,"account_balance"),l(),d(5," Tax Calculation Summary "),l(),c(6,"div",58)(7,"div",59)(8,"span",54),d(9),l(),c(10,"span",60),d(11),l()(),c(12,"div",59)(13,"span",54),d(14,"Standard Deduction"),l(),c(15,"span",61),d(16),l()(),c(17,"div",62)(18,"span",63),d(19,"Taxable Income"),l(),c(20,"span",64),d(21),l()(),c(22,"div",59)(23,"span",54),d(24,"Income Tax"),l(),c(25,"span",65),d(26),l()(),c(27,"div",59)(28,"span",54),d(29,"Cess (4%)"),l(),c(30,"span",65),d(31),l()(),c(32,"div",66)(33,"span",67),d(34,"Total Tax Liability"),l(),c(35,"span",68),d(36),l()()()(),c(37,"div",22)(38,"h4",56)(39,"mat-icon",11),d(40,"info"),l(),d(41," Tax Details "),l(),c(42,"div",58)(43,"div",59)(44,"span",54),d(45,"Current Tax Slab"),l(),c(46,"span",69),d(47),l()(),c(48,"div",59)(49,"span",54),d(50,"Effective Tax Rate"),l(),c(51,"span",69),d(52),l()(),c(53,"div",59)(54,"span",54),d(55,"Monthly Tax"),l(),c(56,"span",70),d(57),l()(),c(58,"div",59)(59,"span",54),d(60,"Net Income After Tax"),l(),c(61,"span",71),d(62),l()(),c(63,"div",38)(64,"div",72)(65,"strong"),d(66,"Note:"),l(),d(67," This calculation uses the new tax regime with simplified rates and standard deduction of \u20B950,000. "),l()()()()()),e&2){let r=w();h(9),_n("Total Income (FY ",r.currentYear,"-",r.currentYear+1,")"),h(2),G(r.formatCurrency(r.taxCalculation.totalIncome)),h(5),G(r.formatCurrency(r.taxCalculation.totalDeductions)),h(5),G(r.formatCurrency(r.taxCalculation.taxableIncome)),h(5),G(r.formatCurrency(r.taxCalculation.incomeTax)),h(5),G(r.formatCurrency(r.taxCalculation.cess)),h(5),G(r.formatCurrency(r.taxCalculation.totalTaxLiability)),h(11),G(r.getCurrentTaxSlab()),h(5),ae("",r.taxCalculation.totalIncome>0?(r.taxCalculation.totalTaxLiability/r.taxCalculation.totalIncome*100).toFixed(2):"0","%"),h(5),G(r.formatCurrency(r.taxCalculation.totalTaxLiability/12)),h(5),G(r.formatCurrency(r.taxCalculation.totalIncome-r.taxCalculation.totalTaxLiability))}}function gU(e,n){if(e&1&&(c(0,"div",51)(1,"div",73)(2,"mat-icon",74),d(3,"account_balance_wallet"),l(),c(4,"h3",75),d(5),l(),c(6,"p",76),d(7),l(),c(8,"p",77),d(9),l()()()),e&2){let r=w();h(5),ae(" ",r.useManualIncome?"No Income Entered":"No Income Transactions Found"," "),h(2),ae(" ",r.useManualIncome?"Please enter your annual income to see the tax calculation.":"We couldn't find any income transactions for FY "+r.currentYear+"-"+(r.currentYear+1)+"."," "),h(2),ae(" ",r.useManualIncome?"Enter your income in the manual input field above.":"Add income transactions to see your tax calculation."," ")}}var Xp=(()=>{let n=class n{constructor(t,i,a,o,s){this.auth=t,this.taxService=i,this.notificationService=a,this.store=o,this.fb=s,this.taxCalculation=null,this.transactions=[],this.totalIncome=0,this.currentYear=new Date().getFullYear(),this.useManualIncome=!1,this.isLoading=!1,this.subscriptions=[],this.taxForm=this.fb.group({manualIncome:[0,[wt.required,wt.min(0)]]})}ngOnInit(){this.loadTransactions()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}loadTransactions(){var i;if((i=this.auth.currentUser)==null?void 0:i.uid){let a=this.store.select(Ji).pipe(aa(1)).subscribe({next:o=>{this.transactions=o,this.calculateTaxFromTransactions()},error:o=>{console.error("Error loading transactions:",o),this.notificationService.error("Failed to load transaction data")}});this.subscriptions.push(a)}}calculateTaxFromTransactions(){this.isLoading=!0;try{this.totalIncome=this.taxService.calculateTotalIncome(this.transactions,this.currentYear),this.calculateTax(),this.totalIncome>0&&this.notificationService.success("Tax calculation completed successfully!")}catch(t){console.error("Error calculating tax:",t),this.notificationService.error("Failed to calculate tax.")}finally{this.isLoading=!1}}calculateTax(){let t=this.getCurrentIncome();this.taxCalculation=this.taxService.calculateNewRegimeTax(t)}toggleIncomeSource(){if(this.useManualIncome=!this.useManualIncome,this.useManualIncome){let t=this.totalIncome>0?this.totalIncome:0;this.taxForm.patchValue({manualIncome:t}),setTimeout(()=>this.calculateTax(),0)}else this.calculateTax()}onManualIncomeChange(){if(this.useManualIncome){let t=this.taxForm.value.manualIncome;t!=null&&t>=0&&this.calculateTax()}}onInputChange(t){let i=t.target.value;if(this.useManualIncome&&i!==""){let a=parseFloat(i);!isNaN(a)&&a>=0&&(this.taxForm.patchValue({manualIncome:a}),this.calculateTax())}}getCurrentIncome(){if(this.useManualIncome){let t=this.taxForm.value.manualIncome;return t!=null&&t>=0?t:0}return this.totalIncome}formatCurrency(t){return`\u20B9${t.toLocaleString("en-IN")}`}getCurrentTaxSlab(){if(!this.taxCalculation)return"N/A";let t=this.taxService.getTaxSlabs("new"),i=this.taxCalculation.taxableIncome;for(let a of t)if(i<=a.maxIncome)return`${a.description} (${a.rate}%)`;return"Above \u20B915,00,000 (30%)"}isManualIncomeValid(){var t;return((t=this.taxForm.get("manualIncome"))==null?void 0:t.valid)||!1}};n.\u0275fac=function(i){return new(i||n)(T(kt),T(TM),T(vt),T(Ft),T(Pr))},n.\u0275cmp=Se({type:n,selectors:[["app-tax"]],decls:127,vars:27,consts:[[1,"min-h-screen","bg-gray-50","p-4","sm:p-6","lg:p-8"],[1,"max-w-7xl","mx-auto"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-6","mb-6"],[1,"flex","flex-col","sm:flex-row","sm:justify-between","sm:items-center","gap-4"],[1,"flex-1"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600","text-sm","sm:text-base"],[1,"flex","items-center"],[1,"text-blue-600","mr-2"],[1,"text-blue-600","font-medium"],[1,"text-xl","font-semibold","text-gray-900","mb-4","flex","items-center"],[1,"text-green-600","mr-3"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","mb-6"],["mat-raised-button","",1,"flex","items-center","justify-center","space-x-3","p-4","h-auto","min-h-[60px]","transition-all","duration-200","hover:shadow-md",3,"click","color"],[1,"text-xl"],[1,"text-left"],[1,"font-semibold"],[1,"text-xs","opacity-80"],["class","bg-blue-50 p-4 rounded-lg border border-blue-200",4,"ngIf"],["class","bg-green-50 p-4 rounded-lg border border-green-200",4,"ngIf"],["class","bg-white rounded-xl shadow-sm border border-gray-100 p-8 mb-6",4,"ngIf"],["class","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",4,"ngIf"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-6"],[1,"text-lg","font-semibold","text-gray-900","mb-6","flex","items-center"],[1,"text-purple-600","mr-3"],[1,"overflow-x-auto","rounded-lg","border","border-gray-200"],[1,"w-full"],[1,"bg-gray-50"],[1,"px-4","py-3","text-left","font-semibold","text-gray-700","text-sm"],[1,"divide-y","divide-gray-200"],[1,"hover:bg-gray-50","transition-colors"],[1,"px-4","py-3","text-sm"],[1,"px-4","py-3","text-green-600","font-medium","text-sm"],[1,"hover:bg-red-50","transition-colors","bg-red-50"],[1,"px-4","py-3","font-medium","text-sm"],[1,"mt-6","p-4","bg-blue-50","rounded-lg","border","border-blue-200"],[1,"font-semibold","text-blue-800","mb-2"],[1,"text-sm","text-blue-700","space-y-1"],[1,"bg-blue-50","p-4","rounded-lg","border","border-blue-200"],[1,"space-y-4",3,"formGroup"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","number","formControlName","manualIncome","placeholder","Enter your annual income",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input","blur"],[1,"text-xs","text-gray-500","mt-1"],["class","text-red-500 text-xs mt-1",4,"ngIf"],[1,"text-red-500","text-xs","mt-1"],[1,"bg-green-50","p-4","rounded-lg","border","border-green-200"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-green-800"],[1,"text-2xl","font-bold","text-green-700"],[1,"text-xs","text-green-600","mt-1"],[1,"text-green-600","text-3xl"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-8","mb-6"],[1,"flex","items-center","justify-center"],["diameter","40",1,"mr-4"],[1,"text-gray-600"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4","flex","items-center"],[1,"text-blue-600","mr-3"],[1,"space-y-4"],[1,"flex","justify-between","items-center","py-3","border-b","border-gray-100"],[1,"font-semibold","text-gray-900","text-lg"],[1,"font-semibold","text-green-600","text-lg"],[1,"flex","justify-between","items-center","py-3","border-b-2","border-blue-200","bg-blue-50","px-4","rounded-lg"],[1,"text-gray-700","font-medium"],[1,"font-bold","text-blue-700","text-lg"],[1,"font-semibold","text-red-600","text-lg"],[1,"flex","justify-between","items-center","py-4","bg-red-50","px-4","rounded-lg","border-2","border-red-200"],[1,"text-gray-700","font-semibold"],[1,"font-bold","text-red-700","text-xl"],[1,"font-semibold","text-blue-600"],[1,"font-semibold","text-red-600"],[1,"font-semibold","text-green-600"],[1,"text-sm","text-blue-800"],[1,"text-center"],[1,"text-gray-400","text-6xl","mb-4"],[1,"text-xl","font-semibold","text-gray-700","mb-2"],[1,"text-gray-500","mb-4"],[1,"text-sm","text-gray-400"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),d(6,"Tax Analysis"),l(),c(7,"p",6),d(8),l()(),c(9,"div",7)(10,"mat-icon",8),d(11,"new_releases"),l(),c(12,"span",9),d(13,"New Regime"),l()()()(),c(14,"div",2)(15,"h3",10)(16,"mat-icon",11),d(17,"account_balance_wallet"),l(),d(18," Income Source "),l(),c(19,"div",12)(20,"button",13),F("click",function(){return a.toggleIncomeSource()}),c(21,"mat-icon",14),d(22,"sync"),l(),c(23,"div",15)(24,"div",16),d(25,"Auto from Transactions"),l(),c(26,"div",17),d(27,"Use your transaction data"),l()()(),c(28,"button",13),F("click",function(){return a.toggleIncomeSource()}),c(29,"mat-icon",14),d(30,"edit"),l(),c(31,"div",15)(32,"div",16),d(33,"Manual Entry"),l(),c(34,"div",17),d(35,"Enter income manually"),l()()()(),U(36,uU,9,4,"div",18)(37,pU,11,3,"div",19),l(),U(38,fU,5,0,"div",20)(39,hU,68,12,"div",21)(40,gU,10,3,"div",20),c(41,"div",22)(42,"h4",23)(43,"mat-icon",24),d(44,"table_chart"),l(),d(45),l(),c(46,"div",25)(47,"table",26)(48,"thead")(49,"tr",27)(50,"th",28),d(51,"Income Range"),l(),c(52,"th",28),d(53,"Tax Rate"),l(),c(54,"th",28),d(55,"Cess"),l(),c(56,"th",28),d(57,"Effective Rate"),l()()(),c(58,"tbody",29)(59,"tr",30)(60,"td",31),d(61,"Up to \u20B93,00,000"),l(),c(62,"td",32),d(63,"Nil"),l(),c(64,"td",31),d(65,"-"),l(),c(66,"td",32),d(67,"0%"),l()(),c(68,"tr",30)(69,"td",31),d(70,"\u20B93,00,001 - \u20B96,00,000"),l(),c(71,"td",31),d(72,"5%"),l(),c(73,"td",31),d(74,"4%"),l(),c(75,"td",31),d(76,"5.2%"),l()(),c(77,"tr",30)(78,"td",31),d(79,"\u20B96,00,001 - \u20B99,00,000"),l(),c(80,"td",31),d(81,"10%"),l(),c(82,"td",31),d(83,"4%"),l(),c(84,"td",31),d(85,"10.4%"),l()(),c(86,"tr",30)(87,"td",31),d(88,"\u20B99,00,001 - \u20B912,00,000"),l(),c(89,"td",31),d(90,"15%"),l(),c(91,"td",31),d(92,"4%"),l(),c(93,"td",31),d(94,"15.6%"),l()(),c(95,"tr",30)(96,"td",31),d(97,"\u20B912,00,001 - \u20B915,00,000"),l(),c(98,"td",31),d(99,"20%"),l(),c(100,"td",31),d(101,"4%"),l(),c(102,"td",31),d(103,"20.8%"),l()(),c(104,"tr",33)(105,"td",34),d(106,"Above \u20B915,00,000"),l(),c(107,"td",34),d(108,"30%"),l(),c(109,"td",31),d(110,"4%"),l(),c(111,"td",34),d(112,"31.2%"),l()()()()(),c(113,"div",35)(114,"h5",36),d(115,"New Regime Benefits:"),l(),c(116,"ul",37)(117,"li"),d(118,"\u2022 Standard deduction of \u20B950,000 automatically applied"),l(),c(119,"li"),d(120,"\u2022 Lower tax rates compared to old regime"),l(),c(121,"li"),d(122,"\u2022 No need to maintain investment proofs"),l(),c(123,"li"),d(124,"\u2022 Simplified tax filing process"),l(),c(125,"li"),d(126,"\u2022 No deductions except standard deduction"),l()()()()()()),i&2&&(h(8),_n("New Tax Regime calculation for FY ",a.currentYear,"-",a.currentYear+1,""),h(12),Fe("bg-blue-600",!a.useManualIncome)("text-white",!a.useManualIncome)("bg-gray-100",a.useManualIncome)("text-gray-700",a.useManualIncome),M("color",a.useManualIncome?"basic":"primary"),h(8),Fe("bg-blue-600",a.useManualIncome)("text-white",a.useManualIncome)("bg-gray-100",!a.useManualIncome)("text-gray-700",!a.useManualIncome),M("color",a.useManualIncome?"primary":"basic"),h(8),M("ngIf",a.useManualIncome),h(),M("ngIf",!a.useManualIncome),h(),M("ngIf",a.isLoading),h(),M("ngIf",!a.isLoading&&a.taxCalculation&&(a.useManualIncome?a.isManualIncomeValid():!0)),h(),M("ngIf",!a.isLoading&&a.getCurrentIncome()===0),h(5),_n(" New Tax Regime Slabs (FY ",a.currentYear,"-",a.currentYear+1,") "))},dependencies:[dt,Mi,on,rr,sn,yi,Mr,Sr,Nt,lt,Ea]});let e=n;return e})();var EM=(e,n)=>n.value,xU=(e,n)=>n.id;function vU(e,n){if(e&1&&(c(0,"option",12),d(1),l()),e&2){let r=n.$implicit;M("value",r.value),h(),ae(" ",r.label," ")}}function bU(e,n){if(e&1&&(c(0,"option",12),d(1),l()),e&2){let r=n.$implicit;M("value",r.value),h(),ae(" ",r.label," ")}}function CU(e,n){if(e&1){let r=ue();c(0,"span",29),d(1),c(2,"button",35),F("click",function(){let i=N(r).$implicit,a=w(2);return L(a.removeTag(i))}),c(3,"mat-icon",36),d(4,"close"),l()()()}if(e&2){let r=n.$implicit;h(),ae(" ",r," ")}}function yU(e,n){if(e&1){let r=ue();c(0,"div",16)(1,"mat-card",17)(2,"div",18)(3,"h3",19),d(4,"Add New Note"),l(),c(5,"button",20),F("click",function(){N(r);let i=w();return L(i.cancelAddNote())}),c(6,"mat-icon"),d(7,"close"),l()()(),c(8,"div",21)(9,"div")(10,"label",22),d(11,"Title"),l(),c(12,"input",23),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.newNote.title,i)||(a.newNote.title=i),L(i)}),l()(),c(13,"div")(14,"label",22),d(15,"Content"),l(),c(16,"textarea",24),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.newNote.content,i)||(a.newNote.content=i),L(i)}),l()(),c(17,"div",25)(18,"div")(19,"label",22),d(20,"Category"),l(),c(21,"select",26),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.newNote.category,i)||(a.newNote.category=i),L(i)}),Ge(22,bU,2,2,"option",12,EM),l()(),c(24,"div")(25,"label",22),d(26,"Tags"),l(),c(27,"input",27),F("keyup.enter",function(i){N(r);let a=w();return L(a.addTag(i))}),l(),c(28,"div",28),Ge(29,CU,5,1,"span",29,Ti),l()()(),c(31,"div",30)(32,"mat-checkbox",31),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.newNote.isImportant,i)||(a.newNote.isImportant=i),L(i)}),d(33," Mark as Important "),l()(),c(34,"div",32)(35,"button",33),F("click",function(){N(r);let i=w();return L(i.cancelAddNote())}),d(36,"Cancel"),l(),c(37,"button",34),F("click",function(){N(r);let i=w();return L(i.saveNote())}),d(38,"Save Note"),l()()()()()}if(e&2){let r=w();h(12),mt("ngModel",r.newNote.title),h(4),mt("ngModel",r.newNote.content),h(5),mt("ngModel",r.newNote.category),h(),qe(r.categories.slice(1)),h(7),qe(r.newNote.tags),h(3),mt("ngModel",r.newNote.isImportant)}}function wU(e,n){if(e&1&&(c(0,"span",47),d(1),l()),e&2){let r=n.$implicit;h(),ae(" ",r," ")}}function MU(e,n){if(e&1){let r=ue();c(0,"div",8)(1,"mat-card",37)(2,"div",0)(3,"div",38)(4,"div",39)(5,"h3",40),d(6),l(),c(7,"div",41)(8,"mat-icon",36),d(9),l(),c(10,"span"),d(11),l(),c(12,"span"),d(13,"\u2022"),l(),c(14,"span"),d(15),_e(16,"date"),l()()(),c(17,"div",42)(18,"button",43),F("click",function(){let i=N(r).$implicit,a=w();return L(a.toggleImportant(i))}),c(19,"mat-icon"),d(20),l()(),c(21,"button",44),F("click",function(){let i=N(r).$implicit,a=w();return L(a.deleteNote(i.id))}),c(22,"mat-icon"),d(23,"delete"),l()()()(),c(24,"p",45),d(25),l(),c(26,"div",46),Ge(27,wU,2,1,"span",47,Ti),l(),c(29,"div",48),d(30),_e(31,"date"),l()()()()}if(e&2){let r=n.$implicit,t=w();h(),Fe("border-l-4",r.isImportant)("border-l-red-500",r.isImportant),h(5),G(r.title),h(3),G(t.getCategoryInfo(r.category).icon),h(2),G(t.getCategoryInfo(r.category).label),h(4),G(Rt(16,13,r.createdAt,"MMM dd, yyyy")),h(3),Fe("text-red-500",r.isImportant),h(2),G(r.isImportant?"star":"star_border"),h(5),G(r.content),h(2),qe(r.tags),h(3),ae(" Last updated: ",Rt(31,16,r.updatedAt,"MMM dd, yyyy HH:mm")," ")}}function SU(e,n){if(e&1){let r=ue();c(0,"div",49)(1,"mat-icon",50),d(2,"note"),l(),c(3,"h3",51),d(4,"No notes found"),l(),c(5,"p",52),d(6),l(),c(7,"button",53),F("click",function(){N(r);let i=w();return L(i.addNote())}),c(8,"mat-icon"),d(9,"add"),l(),c(10,"span"),d(11,"Add Note"),l()()()}if(e&2){let r=w();h(6),ae(" ",r.searchTerm||r.selectedCategory!=="all"?"Try adjusting your search or filter criteria.":"Start by adding your first note to keep track of important information."," ")}}var Kp=(()=>{let n=class n{constructor(t){this.notificationService=t,this.notes=[],this.filteredNotes=[],this.selectedCategory="all",this.searchTerm="",this.isAddingNote=!1,this.newNote={title:"",content:"",category:"personal",tags:[],isImportant:!1},this.categories=[{value:"all",label:"All Notes",icon:"note"},{value:"personal",label:"Personal",icon:"person"},{value:"financial",label:"Financial",icon:"account_balance_wallet"},{value:"tax",label:"Tax Related",icon:"receipt_long"},{value:"investment",label:"Investment",icon:"trending_up"},{value:"expenses",label:"Expenses",icon:"money_off"},{value:"goals",label:"Goals",icon:"flag"},{value:"documents",label:"Documents",icon:"description"}]}ngOnInit(){this.loadNotes()}loadNotes(){try{this.notes=[{id:"1",title:"Tax Planning Notes",content:"Remember to invest in ELSS for tax saving under section 80C. Also consider health insurance for 80D benefits.",category:"tax",tags:["tax","investment","planning"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),isImportant:!0},{id:"2",title:"Monthly Budget Goals",content:"Target: Save 30% of income. Track expenses daily. Review budget every weekend.",category:"financial",tags:["budget","savings","goals"],createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-10"),isImportant:!0}],this.filteredNotes=[...this.notes]}catch(t){console.error("Error loading notes:",t),this.notificationService.error("Failed to load notes")}}filterNotes(){this.filteredNotes=this.notes.filter(t=>{let i=this.selectedCategory==="all"||t.category===this.selectedCategory,a=t.title.toLowerCase().includes(this.searchTerm.toLowerCase())||t.content.toLowerCase().includes(this.searchTerm.toLowerCase())||t.tags.some(o=>o.toLowerCase().includes(this.searchTerm.toLowerCase()));return i&&a})}onCategoryChange(){this.filterNotes()}onSearchChange(){this.filterNotes()}addNote(){this.isAddingNote=!0}saveNote(){if(!this.newNote.title||!this.newNote.content){this.notificationService.warning("Please fill in title and content");return}try{let t={id:Date.now().toString(),title:this.newNote.title,content:this.newNote.content,category:this.newNote.category,tags:this.newNote.tags,createdAt:new Date,updatedAt:new Date,isImportant:this.newNote.isImportant};this.notes.unshift(t),this.filterNotes(),this.resetNewNote(),this.isAddingNote=!1,this.notificationService.success("Note saved successfully")}catch(t){console.error("Error saving note:",t),this.notificationService.error("Failed to save note")}}cancelAddNote(){this.resetNewNote(),this.isAddingNote=!1,this.notificationService.info("Note creation cancelled")}resetNewNote(){this.newNote={title:"",content:"",category:"personal",tags:[],isImportant:!1}}deleteNote(t){try{let i=this.notes.find(a=>a.id===t);this.notes=this.notes.filter(a=>a.id!==t),this.filterNotes(),this.notificationService.success(`Note "${i==null?void 0:i.title}" deleted successfully`)}catch(i){console.error("Error deleting note:",i),this.notificationService.error("Failed to delete note")}}toggleImportant(t){try{t.isImportant=!t.isImportant,t.updatedAt=new Date;let i=t.isImportant?"marked as important":"unmarked as important";this.notificationService.success(`Note "${t.title}" ${i}`)}catch(i){console.error("Error updating note importance:",i),this.notificationService.error("Failed to update note importance")}}addTag(t){let i=t.target.value;i&&!this.newNote.tags.includes(i)?(this.newNote.tags.push(i),this.notificationService.info(`Tag "${i}" added`)):this.newNote.tags.includes(i)&&this.notificationService.warning("Tag already exists")}removeTag(t){this.newNote.tags=this.newNote.tags.filter(i=>i!==t),this.notificationService.info(`Tag "${t}" removed`)}exportNotes(){try{console.log("Export notes clicked"),this.notificationService.info("Export feature coming soon")}catch(t){console.error("Error exporting notes:",t),this.notificationService.error("Failed to export notes")}}importNotes(){try{console.log("Import notes clicked"),this.notificationService.info("Import feature coming soon")}catch(t){console.error("Error importing notes:",t),this.notificationService.error("Failed to import notes")}}getCategoryInfo(t){let i=this.categories.find(a=>a.value===t);return i?{icon:i.icon,label:i.label}:{icon:"note",label:"Unknown"}}};n.\u0275fac=function(i){return new(i||n)(T(vt))},n.\u0275cmp=Se({type:n,selectors:[["app-notes"]],decls:37,vars:4,consts:[[1,"p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800","mb-1"],[1,"text-gray-600"],[1,"flex","space-x-3"],["mat-stroked-button","",1,"flex","items-center","space-x-2",3,"click"],["mat-raised-button","","color","primary",1,"flex","items-center","space-x-2",3,"click"],[1,"mb-6","grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400"],["type","text","placeholder","Search notes...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","input","ngModel"],[1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","change","ngModel"],[3,"value"],["class","mb-6",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-2","xl:grid-cols-3","gap-6"],["class","text-center py-12",4,"ngIf"],[1,"mb-6"],[1,"p-6","shadow-lg","border-0","rounded-xl"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-semibold","text-gray-800"],["mat-icon-button","",3,"click"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","placeholder","Enter note title...",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["placeholder","Enter note content...","rows","4",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["type","text","placeholder","Add tags (comma separated)...",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"keyup.enter"],[1,"flex","flex-wrap","gap-2","mt-2"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"flex","items-center"],[1,"mr-2",3,"ngModelChange","ngModel"],[1,"flex","justify-end","space-x-3"],["mat-stroked-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"ml-1","text-blue-600","hover:text-blue-800",3,"click"],[1,"text-xs"],[1,"h-full","shadow-lg","border-0","rounded-xl","hover:shadow-xl","transition-shadow"],[1,"flex","justify-between","items-start","mb-3"],[1,"flex-1"],[1,"text-lg","font-semibold","text-gray-800","mb-1"],[1,"flex","items-center","space-x-2","text-sm","text-gray-500"],[1,"flex","space-x-1"],["mat-icon-button","","matTooltip","Mark as important",3,"click"],["mat-icon-button","","color","warn","matTooltip","Delete note",3,"click"],[1,"text-gray-600","mb-4","line-clamp-3"],[1,"flex","flex-wrap","gap-2","mb-3"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-gray-100","text-gray-700"],[1,"text-xs","text-gray-400"],[1,"text-center","py-12"],[1,"text-gray-400","text-6xl","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-4"],["mat-raised-button","","color","primary",1,"flex","items-center","space-x-2","mx-auto",3,"click"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),d(4,"Notes & Documents"),l(),c(5,"p",3),d(6,"Store and organize your financial notes, documents, and important information"),l()(),c(7,"div",4)(8,"button",5),F("click",function(){return a.importNotes()}),c(9,"mat-icon"),d(10,"upload"),l(),c(11,"span"),d(12,"Import"),l()(),c(13,"button",5),F("click",function(){return a.exportNotes()}),c(14,"mat-icon"),d(15,"download"),l(),c(16,"span"),d(17,"Export"),l()(),c(18,"button",6),F("click",function(){return a.addNote()}),c(19,"mat-icon"),d(20,"add"),l(),c(21,"span"),d(22,"Add Note"),l()()()(),c(23,"div",7)(24,"div",8)(25,"mat-icon",9),d(26,"search"),l(),c(27,"input",10),pt("ngModelChange",function(s){return ut(a.searchTerm,s)||(a.searchTerm=s),s}),F("input",function(){return a.onSearchChange()}),l()(),c(28,"div")(29,"select",11),pt("ngModelChange",function(s){return ut(a.selectedCategory,s)||(a.selectedCategory=s),s}),F("change",function(){return a.onCategoryChange()}),Ge(30,vU,2,2,"option",12,EM),l()()(),U(32,yU,39,4,"div",13),c(33,"div",14),Ge(34,MU,32,19,"div",8,xU),l(),U(36,SU,12,1,"div",15),l()),i&2&&(h(27),mt("ngModel",a.searchTerm),h(2),mt("ngModel",a.selectedCategory),h(),qe(a.categories),h(2),M("ngIf",a.isAddingNote),h(2),qe(a.filteredNotes),h(2),M("ngIf",a.filteredNotes.length===0&&!a.isAddingNote))},dependencies:[dt,Uc,Yc,on,zc,sn,wi,gs,Nt,mn,lt,ml,En,Ci],styles:[".line-clamp-3[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}"]});let e=n;return e})();var Cr=ra(_a());var B_=ra(_a());function kU(e,n){if(e&1&&(c(0,"div",33)(1,"mat-icon",34),d(2,"error_outline"),l(),c(3,"span",35),d(4),l()()),e&2){let r=w();h(4),G(r.errorMessage)}}var V_=(()=>{let n=class n{constructor(t,i){this.dialogRef=t,this.data=i,this.startDate=null,this.endDate=null,this.errorMessage=""}ngOnInit(){var t,i;(t=this.data)!=null&&t.startDate&&(this.startDate=new Date(this.data.startDate)),(i=this.data)!=null&&i.endDate&&(this.endDate=new Date(this.data.endDate))}applyDateRange(){if(this.errorMessage="",!this.startDate||!this.endDate){this.errorMessage="Please select both start and end dates.";return}let t=(0,B_.default)(this.startDate),i=(0,B_.default)(this.endDate);if(!t.isValid()||!i.isValid()){this.errorMessage="Please enter valid dates.";return}if(i.isBefore(t)){this.errorMessage="End date must be on or after start date.";return}this.dialogRef.close({start:this.startDate,end:this.endDate})}onCancel(){this.dialogRef.close()}selectLast7Days(){let t=new Date,i=new Date;i.setDate(t.getDate()-6),this.startDate=i,this.endDate=t,this.errorMessage=""}selectLast30Days(){let t=new Date,i=new Date;i.setDate(t.getDate()-29),this.startDate=i,this.endDate=t,this.errorMessage=""}selectThisMonth(){let t=new Date,i=new Date(t.getFullYear(),t.getMonth(),1),a=new Date(t.getFullYear(),t.getMonth()+1,0);this.startDate=i,this.endDate=a,this.errorMessage=""}};n.\u0275fac=function(i){return new(i||n)(T(Vi),T(ji))},n.\u0275cmp=Se({type:n,selectors:[["app-custom-date-range-dialog"]],decls:76,vars:5,consts:[[1,"custom-date-range-dialog"],[1,"mobile-header"],[1,"header-content"],[1,"header-title"],[1,"header-actions"],["mat-icon-button","","color","primary","matTooltip","Apply Range",1,"apply-btn",3,"click","disabled"],["mat-icon-button","","matTooltip","Close",1,"close-btn",3,"click"],[1,"mobile-content"],[1,"content-wrapper"],[1,"date-range-card"],[1,"card-header"],[1,"card-icon"],[1,"card-title"],[1,"date-inputs-container"],[1,"date-input-group"],[1,"input-label"],[1,"label-icon"],[1,"date-input-wrapper"],["type","date","aria-label","Start date",1,"date-input",3,"ngModelChange","ngModel"],[1,"input-icon"],[1,"date-separator"],[1,"separator-line"],[1,"separator-icon"],["type","date","aria-label","End date",1,"date-input",3,"ngModelChange","ngModel"],["class","error-card","role","alert",4,"ngIf"],[1,"quick-actions-card"],[1,"quick-buttons"],["mat-stroked-button","","aria-label","Select last 7 days",1,"quick-btn",3,"click"],["mat-stroked-button","","aria-label","Select last 30 days",1,"quick-btn",3,"click"],["mat-stroked-button","","aria-label","Select this month",1,"quick-btn",3,"click"],[1,"action-buttons"],["mat-button","","aria-label","Cancel date selection",1,"cancel-btn",3,"click"],["mat-raised-button","","color","primary","aria-label","Apply selected date range",1,"apply-range-btn",3,"click","disabled"],["role","alert",1,"error-card"],[1,"error-icon"],[1,"error-text"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),d(4,"Select Date Range"),l(),c(5,"div",4)(6,"button",5),F("click",function(){return a.applyDateRange()}),c(7,"mat-icon"),d(8,"check"),l()(),c(9,"button",6),F("click",function(){return a.onCancel()}),c(10,"mat-icon"),d(11,"close"),l()()()()(),c(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10)(16,"mat-icon",11),d(17,"calendar_today"),l(),c(18,"span",12),d(19,"Date Range"),l()(),c(20,"div",13)(21,"div",14)(22,"label",15)(23,"mat-icon",16),d(24,"event"),l(),c(25,"span"),d(26,"Start Date"),l()(),c(27,"div",17)(28,"input",18),pt("ngModelChange",function(s){return ut(a.startDate,s)||(a.startDate=s),s}),l(),c(29,"mat-icon",19),d(30,"calendar_today"),l()()(),c(31,"div",20),se(32,"div",21),c(33,"mat-icon",22),d(34,"arrow_downward"),l(),se(35,"div",21),l(),c(36,"div",14)(37,"label",15)(38,"mat-icon",16),d(39,"event"),l(),c(40,"span"),d(41,"End Date"),l()(),c(42,"div",17)(43,"input",23),pt("ngModelChange",function(s){return ut(a.endDate,s)||(a.endDate=s),s}),l(),c(44,"mat-icon",19),d(45,"calendar_today"),l()()()()(),U(46,kU,5,1,"div",24),c(47,"div",25)(48,"div",10)(49,"mat-icon",11),d(50,"flash_on"),l(),c(51,"span",12),d(52,"Quick Select"),l()(),c(53,"div",26)(54,"button",27),F("click",function(){return a.selectLast7Days()}),c(55,"mat-icon"),d(56,"today"),l(),c(57,"span"),d(58,"Last 7 days"),l()(),c(59,"button",28),F("click",function(){return a.selectLast30Days()}),c(60,"mat-icon"),d(61,"calendar_month"),l(),c(62,"span"),d(63,"Last 30 days"),l()(),c(64,"button",29),F("click",function(){return a.selectThisMonth()}),c(65,"mat-icon"),d(66,"date_range"),l(),c(67,"span"),d(68,"This month"),l()()()(),c(69,"div",30)(70,"button",31),F("click",function(){return a.onCancel()}),d(71," Cancel "),l(),c(72,"button",32),F("click",function(){return a.applyDateRange()}),c(73,"mat-icon"),d(74,"check"),l(),d(75," Apply Range "),l()()()()()),i&2&&(h(6),M("disabled",!a.startDate||!a.endDate),h(22),mt("ngModel",a.startDate),h(15),mt("ngModel",a.endDate),h(3),M("ngIf",a.errorMessage),h(26),M("disabled",!a.startDate||!a.endDate))},dependencies:[dt,on,sn,wi,Nt,mn,lt,En],styles:[".custom-date-range-dialog[_ngcontent-%COMP%]{width:100%;height:100vh;max-width:100vw;background:#f8fafc;display:flex;flex-direction:column;overflow:hidden}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e2e8f0;box-shadow:0 1px 3px #0000001a;padding:12px 16px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1f2937;flex:1}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;background:#3b82f6;color:#fff;transition:all .2s ease}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb;transform:translateY(-1px);box-shadow:0 2px 8px #3b82f64d}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]:disabled{background:#9ca3af;color:#6b7280}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;color:#6b7280;transition:all .2s ease}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f8fafc}.mobile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:16px}.date-range-card[_ngcontent-%COMP%], .quick-actions-card[_ngcontent-%COMP%], .error-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:16px;border-bottom:1px solid #f3f4f6}.card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#3b82f6}.card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1f2937}.date-range-card[_ngcontent-%COMP%]   .date-inputs-container[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:20px}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;font-weight:500;color:#374151}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#3b82f6}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{width:100%;padding:12px 48px 12px 16px;border:1px solid #d1d5db;border-radius:8px;font-size:16px;color:#1f2937;background:#fff;transition:all .2s ease}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{opacity:0;position:absolute;right:0;top:0;width:100%;height:100%;cursor:pointer}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;right:12px;color:#9ca3af;font-size:20px;width:20px;height:20px;pointer-events:none}.date-range-card[_ngcontent-%COMP%]   .date-separator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;margin:8px 0}.date-range-card[_ngcontent-%COMP%]   .date-separator[_ngcontent-%COMP%]   .separator-line[_ngcontent-%COMP%]{flex:1;height:1px;background:linear-gradient(90deg,transparent,#d1d5db,transparent);max-width:60px}.date-range-card[_ngcontent-%COMP%]   .date-separator[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#9ca3af;transform:rotate(90deg)}.error-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:16px;background:#fef2f2;border:1px solid #fecaca}.error-card[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#dc2626;flex-shrink:0;margin-top:2px}.error-card[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{font-size:14px;color:#dc2626;line-height:1.4;flex:1}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:12px}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;border:1px solid #d1d5db;border-radius:8px;background:#fff;color:#374151;font-size:14px;font-weight:500;transition:all .2s ease;text-align:left}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#3b82f6;color:#3b82f6;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6b7280}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:16px 0}.action-buttons[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{padding:12px 24px;border:1px solid #d1d5db;border-radius:8px;background:#fff;color:#6b7280;font-size:16px;font-weight:500;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#9ca3af;color:#374151}.action-buttons[_ngcontent-%COMP%]   .apply-range-btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;background:#3b82f6;color:#fff;font-size:16px;font-weight:500;display:flex;align-items:center;justify-content:center;gap:8px;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .apply-range-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb;transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}.action-buttons[_ngcontent-%COMP%]   .apply-range-btn[_ngcontent-%COMP%]:disabled{background:#9ca3af;color:#6b7280}.action-buttons[_ngcontent-%COMP%]   .apply-range-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]{padding:12px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:16px}.mobile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:12px;gap:12px}.date-range-card[_ngcontent-%COMP%]   .date-inputs-container[_ngcontent-%COMP%]{padding:12px;gap:16px}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]{padding:12px;gap:8px}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]{padding:10px 12px;font-size:13px}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.action-buttons[_ngcontent-%COMP%]{gap:8px}.action-buttons[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .apply-range-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]{padding:8px 12px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:8px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:15px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{gap:4px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:36px;height:36px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.mobile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:8px;gap:8px}.card-header[_ngcontent-%COMP%]{padding:12px}.card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:14px}}"]});let e=n;return e})();var DM=(e,n)=>n.id,OU=(e,n)=>n.value;function TU(e,n){if(e&1){let r=ue();c(0,"div",31)(1,"div",32)(2,"mat-icon",33),d(3,"filter_alt"),l(),c(4,"span",34),d(5),l()(),c(6,"div",35)(7,"mat-icon",36),F("click",function(){N(r);let i=w(2);return L(i.quickClearFilters())}),d(8,"clear"),l()()()}if(e&2){let r=w(2);h(5),_n("",r.getActiveFiltersCount()," Filter",r.getActiveFiltersCount()>1?"s":""," Active")}}function EU(e,n){if(e&1){let r=ue();c(0,"button",37),F("click",function(){N(r);let i=w(2);return L(i.onSearchChange(""))}),c(1,"mat-icon"),d(2,"close"),l()()}}function DU(e,n){e&1&&(c(0,"mat-icon",38),d(1,"check"),l())}function IU(e,n){if(e&1){let r=ue();c(0,"button",24),F("click",function(){let i=N(r).$implicit,a=w(2);return L(a.onSortChange(i.value))}),c(1,"mat-icon"),d(2),l(),c(3,"span"),d(4),l(),U(5,DU,2,0,"mat-icon",38),l()}if(e&2){let r=n.$implicit,t=w(2);Fe("active-menu-item",t.selectedSort===r.value),h(2),G(r.icon),h(2),G(r.label),h(),Qe(t.selectedSort===r.value?5:-1)}}function AU(e,n){e&1&&(c(0,"mat-icon",38),d(1,"check"),l())}function FU(e,n){e&1&&(c(0,"mat-icon",38),d(1,"check"),l())}function RU(e,n){e&1&&(c(0,"mat-icon",38),d(1,"check"),l())}function NU(e,n){e&1&&(c(0,"mat-icon",38),d(1,"check"),l())}function LU(e,n){e&1&&(c(0,"mat-icon",38),d(1,"check"),l())}function BU(e,n){if(e&1){let r=ue();c(0,"button",24),F("click",function(){let i=N(r).$implicit,a=w(2);return L(a.onCategoryChange(i.id))}),c(1,"mat-icon"),d(2),l(),c(3,"span"),d(4),l(),U(5,LU,2,0,"mat-icon",38),l()}if(e&2){let r=n.$implicit,t=w(2);Fe("active-menu-item",t.isCategorySelected(r.id)),h(2),G(r.icon),h(2),G(r.name),h(),Qe(t.isCategorySelected(r.id)?5:-1)}}function VU(e,n){e&1&&(c(0,"mat-icon",38),d(1,"check"),l())}function jU(e,n){e&1&&(c(0,"mat-icon",38),d(1,"check"),l())}function zU(e,n){e&1&&(c(0,"mat-icon",38),d(1,"check"),l())}function UU(e,n){e&1&&(c(0,"mat-icon",38),d(1,"check"),l())}function YU(e,n){e&1&&(c(0,"mat-icon",38),d(1,"check"),l())}function WU(e,n){if(e&1){let r=ue();c(0,"div",11),U(1,TU,9,2,"div",12),c(2,"div",13)(3,"div",14)(4,"mat-icon",15),d(5,"search"),l(),c(6,"input",16),F("ngModelChange",function(i){N(r);let a=w();return L(a.onSearchChange(i))}),l(),U(7,EU,3,0,"button",17),l()(),c(8,"div",18)(9,"button",19)(10,"mat-icon"),d(11,"sort"),l(),c(12,"span",20),d(13),l()(),c(14,"mat-menu",21,0),Ge(16,IU,6,5,"button",22,OU),l(),c(18,"button",23)(19,"mat-icon"),d(20,"account_balance_wallet"),l(),c(21,"span",20),d(22),l()(),c(23,"mat-menu",21,1)(25,"button",24),F("click",function(){N(r);let i=w();return L(i.onTypeChange("all"))}),c(26,"mat-icon"),d(27,"list"),l(),c(28,"span"),d(29,"All Types"),l(),U(30,AU,2,0,"mat-icon",25),l(),c(31,"button",24),F("click",function(){N(r);let i=w();return L(i.onTypeChange("income"))}),c(32,"mat-icon",26),d(33,"trending_up"),l(),c(34,"span"),d(35,"Income"),l(),U(36,FU,2,0,"mat-icon",25),l(),c(37,"button",24),F("click",function(){N(r);let i=w();return L(i.onTypeChange("expense"))}),c(38,"mat-icon",27),d(39,"trending_down"),l(),c(40,"span"),d(41,"Expense"),l(),U(42,RU,2,0,"mat-icon",25),l()(),c(43,"button",28)(44,"mat-icon"),d(45,"category"),l(),c(46,"span",20),d(47),l()(),c(48,"mat-menu",21,2)(50,"button",24),F("click",function(){N(r);let i=w();return L(i.onCategoryChange("all"))}),c(51,"mat-icon"),d(52,"list"),l(),c(53,"span"),d(54,"All Categories"),l(),U(55,NU,2,0,"mat-icon",25),l(),se(56,"mat-divider"),Ge(57,BU,6,5,"button",22,DM),l(),c(59,"button",29)(60,"mat-icon"),d(61,"calendar_today"),l(),c(62,"span",20),d(63),l()(),c(64,"mat-menu",21,3)(66,"button",24),F("click",function(){N(r);let i=w();return L(i.onDateRangeChange(null))}),c(67,"mat-icon"),d(68,"all_inclusive"),l(),c(69,"span"),d(70,"All Time"),l(),U(71,VU,2,0,"mat-icon",25),l(),c(72,"button",24),F("click",function(){N(r);let i=w();return L(i.onDateRangeChange("currentMonth"))}),c(73,"mat-icon"),d(74,"calendar_month"),l(),c(75,"span"),d(76,"This Month"),l(),U(77,jU,2,0,"mat-icon",25),l(),c(78,"button",24),F("click",function(){N(r);let i=w();return L(i.onDateRangeChange("lastMonth"))}),c(79,"mat-icon"),d(80,"calendar_view_month"),l(),c(81,"span"),d(82,"Last Month"),l(),U(83,zU,2,0,"mat-icon",25),l(),c(84,"button",24),F("click",function(){N(r);let i=w();return L(i.onDateRangeChange("currentYear"))}),c(85,"mat-icon"),d(86,"calendar_today"),l(),c(87,"span"),d(88,"This Year"),l(),U(89,UU,2,0,"mat-icon",25),l(),se(90,"mat-divider"),c(91,"button",24),F("click",function(){N(r);let i=w();return L(i.openCustomDateRangeDialog())}),c(92,"mat-icon"),d(93,"date_range"),l(),c(94,"span"),d(95,"Custom Range"),l(),U(96,YU,2,0,"mat-icon",25),l()(),c(97,"button",30),F("click",function(){N(r);let i=w();return L(i.openImportDialog())}),c(98,"mat-icon"),d(99,"upload_file"),l(),c(100,"span",20),d(101,"Import"),l()()()()}if(e&2){let r=zn(15),t=zn(24),i=zn(49),a=zn(65),o=w();h(),M("ngIf",o.hasActiveFilters()),h(5),M("ngModel",o.searchTerm),h(),M("ngIf",o.searchTerm),h(2),la("matTooltip",o.getCurrentSortLabel()),M("matMenuTriggerFor",r),h(4),G(o.getCurrentSortLabel()),h(3),qe(o.sortOptions),h(2),la("matTooltip",o.getCurrentTypeLabel()),M("matMenuTriggerFor",t),h(4),G(o.getCurrentTypeLabel()),h(3),Fe("active-menu-item",o.selectedType==="all"),h(5),M("ngIf",o.selectedType==="all"),h(),Fe("active-menu-item",o.selectedType==="income"),h(5),M("ngIf",o.selectedType==="income"),h(),Fe("active-menu-item",o.selectedType==="expense"),h(5),M("ngIf",o.selectedType==="expense"),h(),la("matTooltip",o.getCurrentCategoryLabel()),M("matMenuTriggerFor",i),h(4),G(o.getCurrentCategoryLabel()),h(3),Fe("active-menu-item",o.selectedCategory.includes("all")),h(5),M("ngIf",o.selectedCategory.includes("all")),h(2),qe(o.getCategoriesList()),h(2),la("matTooltip",o.getCurrentDateLabel()),M("matMenuTriggerFor",a),h(4),G(o.getCurrentDateLabel()),h(3),Fe("active-menu-item",o.selectedDateRange===null),h(5),M("ngIf",o.selectedDateRange===null),h(),Fe("active-menu-item",o.isCurrentMonth()),h(5),M("ngIf",o.isCurrentMonth()),h(),Fe("active-menu-item",o.isLastMonth()),h(5),M("ngIf",o.isLastMonth()),h(),Fe("active-menu-item",o.isCurrentYear()),h(5),M("ngIf",o.isCurrentYear()),h(2),Fe("active-menu-item",o.isCustomDateRange()),h(5),M("ngIf",o.isCustomDateRange())}}function HU(e,n){if(e&1&&(c(0,"div",39)(1,"div",40)(2,"div",41)(3,"span",42),d(4),l(),c(5,"span",43),d(6),l()(),c(7,"div",41)(8,"span",44),d(9),_e(10,"number"),l()(),c(11,"div",41)(12,"span",45),d(13),_e(14,"number"),l()()()()),e&2){let r=w();h(4),G(r.getFilteredCount()),h(2),ae("/ ",r.getTotalCount(),""),h(3),ae("+\u20B9",Rt(10,4,r.getTotalIncome(),"1.0-0"),""),h(4),ae("-\u20B9",Rt(14,7,r.getTotalExpenses(),"1.0-0"),"")}}function $U(e,n){if(e&1){let r=ue();c(0,"button",52),F("click",function(){N(r);let i=w(2);return L(i.onAddTransaction())}),c(1,"mat-icon"),d(2,"add"),l(),c(3,"span",53),d(4,"Add First Transaction"),l()()}}function GU(e,n){if(e&1){let r=ue();c(0,"button",54),F("click",function(){N(r);let i=w(2);return L(i.clearAllFilters())}),c(1,"mat-icon"),d(2,"clear"),l(),c(3,"span",53),d(4,"Clear Filters"),l()()}}function qU(e,n){if(e&1&&(c(0,"div",46)(1,"div",47)(2,"mat-icon"),d(3,"receipt_long"),l()(),c(4,"h3",48),d(5,"No transactions found"),l(),c(6,"p",49),d(7),l(),U(8,$U,5,0,"button",50)(9,GU,5,0,"button",51),l()),e&2){let r=w();h(7),ae(" ",r.transactions.length===0?"Start by adding your first transaction":"No transactions match your current filters. Try adjusting your search or filters."," "),h(),M("ngIf",r.transactions.length===0),h(),M("ngIf",r.transactions.length>0&&r.hasActiveFilters())}}function XU(e,n){e&1&&(c(0,"mat-icon",59),d(1,"bookmark"),l())}function KU(e,n){if(e&1&&(c(0,"div",69),d(1),l()),e&2){let r=w().$implicit;h(),ae(" ",r.notes," ")}}function QU(e,n){if(e&1){let r=ue();c(0,"div",70)(1,"div",71)(2,"button",72),F("click",function(){N(r);let i=w().$implicit,a=w();return L(a.onEditTransaction(i))}),c(3,"mat-icon"),d(4,"edit"),l()(),c(5,"button",73),F("click",function(){N(r);let i=w().$implicit,a=w();return L(a.onDeleteTransaction(i))}),c(6,"mat-icon"),d(7,"delete"),l()()()()}}function ZU(e,n){if(e&1&&(c(0,"span",86),d(1),l()),e&2){let r=w(2).$implicit,t=w();h(),ae("(",t.getAccountType(r.accountId),")")}}function JU(e,n){if(e&1&&(c(0,"div",76)(1,"div",77)(2,"mat-icon",78),d(3,"fingerprint"),l(),c(4,"span"),d(5,"Transaction ID"),l()(),c(6,"div",79)(7,"span",87),d(8),l()()()),e&2){let r=w(2).$implicit;h(8),G(r.id)}}function eY(e,n){if(e&1&&(c(0,"div",76)(1,"div",77)(2,"mat-icon",78),d(3,"repeat"),l(),c(4,"span"),d(5,"Recurring"),l()(),c(6,"div",79)(7,"span",88),d(8),l()()()),e&2){let r=w(2).$implicit,t=w();h(8),G(t.getRecurringInfo(r))}}function tY(e,n){if(e&1&&(c(0,"div",76)(1,"div",77)(2,"mat-icon",78),d(3,"note"),l(),c(4,"span"),d(5,"Notes"),l()(),c(6,"div",79)(7,"span",89),d(8),l()()()),e&2){let r=w(2).$implicit;h(8),G(r.notes)}}function nY(e,n){if(e&1&&(c(0,"div",76)(1,"div",77)(2,"mat-icon",78),d(3,"payment"),l(),c(4,"span"),d(5,"Payment Method"),l()(),c(6,"div",79)(7,"span",90),d(8),l()()()),e&2){let r=w(2).$implicit;h(8),G(r.paymentMethod)}}function iY(e,n){if(e&1&&(c(0,"div",76)(1,"div",77)(2,"mat-icon",78),d(3,"payment"),l(),c(4,"span"),d(5,"Tax Amount"),l()(),se(6,"div",79),c(7,"span",91),d(8),_e(9,"number"),l()()),e&2){let r=w(2).$implicit;h(8),G(Rt(9,1,r.taxAmount,"1.0-0"))}}function rY(e,n){if(e&1&&(c(0,"div",76)(1,"div",77)(2,"mat-icon",78),d(3,"payment"),l(),c(4,"span"),d(5,"Tax Percentage"),l()(),c(6,"div",79)(7,"span",92),d(8),l()()()),e&2){let r=w(2).$implicit;h(8),ae("",r.taxPercentage,"%")}}function aY(e,n){if(e&1&&(c(0,"div",74)(1,"div",75)(2,"div",76)(3,"div",77)(4,"mat-icon",78),d(5,"account_balance"),l(),c(6,"span"),d(7,"Account"),l()(),c(8,"div",79)(9,"span",80),d(10),l(),U(11,ZU,2,1,"span",81),l()(),U(12,JU,9,1,"div",82)(13,eY,9,1,"div",82),c(14,"div",76)(15,"div",77)(16,"mat-icon",78),d(17),l(),c(18,"span"),d(19,"Status"),l()(),c(20,"div",79)(21,"span",83),d(22),l()()(),c(23,"div",76)(24,"div",77)(25,"mat-icon",78),d(26,"schedule"),l(),c(27,"span"),d(28,"Created Date"),l()(),c(29,"div",79)(30,"span",84),d(31),_e(32,"date"),l()()(),c(33,"div",76)(34,"div",77)(35,"mat-icon",78),d(36,"schedule"),l(),c(37,"span"),d(38,"Created Time"),l()(),c(39,"div",79)(40,"span",85),d(41),_e(42,"date"),l()()(),U(43,tY,9,1,"div",82)(44,nY,9,1,"div",82)(45,iY,10,4,"div",82),l(),U(46,rY,9,1,"div",82),l()),e&2){let r=w().$implicit,t=w();h(10),G(t.getAccountName(r.accountId)),h(),M("ngIf",t.getAccountType(r.accountId)),h(),M("ngIf",r.id),h(),M("ngIf",r.isRecurring),h(3),Vt("color",t.getSyncStatusColor(r)),h(),G(t.getSyncStatusIcon(r)),h(4),Vt("color",t.getSyncStatusColor(r)),h(),G(t.getSyncStatusInfo(r)),h(9),G(Rt(32,16,t.dateService.toDate(r.date),"fullDate")),h(10),G(Rt(42,19,t.dateService.toDate(r.date),"shortTime")),h(2),M("ngIf",r.notes&&r.notes.trim()),h(),M("ngIf",r.paymentMethod),h(),M("ngIf",r.taxAmount),h(),M("ngIf",r.taxPercentage)}}function oY(e,n){if(e&1){let r=ue();c(0,"div",55),F("click",function(){let i=N(r).$implicit,a=w();return L(a.onLongPress(i))}),c(1,"div",56)(2,"div",57)(3,"div",58)(4,"mat-icon"),d(5),l(),U(6,XU,2,0,"mat-icon",59),l()(),c(7,"div",60)(8,"div",61),d(9),_e(10,"titlecase"),l(),c(11,"div",62),d(12),_e(13,"date"),l(),U(14,KU,2,1,"div",63),l(),c(15,"div",64)(16,"div",65),d(17),_e(18,"number"),l(),c(19,"div",66),d(20),l()()(),U(21,QU,8,0,"div",67)(22,aY,47,22,"div",68),l()}if(e&2){let r=n.$implicit,t=w();Fe("selected",(t.selectedTx==null?null:t.selectedTx.id)===r.id),h(4),Vt("color",t.getCategoryColor(r.categoryId)),h(),ae(" ",t.getCategoryIcon(r.categoryId)," "),h(),Qe(r.isSplitTransaction?6:-1),h(3),ae(" ",Ne(10,15,r.payee)," "),h(3),ae(" ",Rt(13,17,t.dateService.toDate(r.date),"dd MMM - hh:mm")," "),h(2),M("ngIf",r.notes),h(2),M("ngClass",r.type==="income"?"income-text":"expense-text"),h(),_n(" ",r.type==="income"?"+":"-","\u20B9",Rt(18,20,r.amount,"1.0-0")," "),h(3),ae(" ",t.getCategoryName(r.categoryId)," "),h(),M("ngIf",(t.selectedTx==null?null:t.selectedTx.id)===r.id),h(),M("ngIf",(t.selectedTx==null?null:t.selectedTx.id)===r.id)}}var IM=(()=>{let n=class n{constructor(t,i,a,o,s,m,u){this.auth=t,this.route=i,this.dialog=a,this.dateService=o,this.store=s,this.filterService=m,this.categoryService=u,this.transactions=[],this.searchTerm="",this.selectedCategory=["all"],this.selectedType="all",this.selectedDate=null,this.selectedDateRange=null,this.editTransaction=new Ve,this.deleteTransaction=new Ve,this.addTransaction=new Ve,this.importTransactions=new Ve,this.searchTermChange=new Ve,this.selectedCategoryChange=new Ve,this.selectedTypeChange=new Ve,this.selectedDateRangeChange=new Ve,this.selectedTx=null,this.filteredTransactions=[],this.selectedSort="date-desc",this.showFilters=!1,this.accounts=[],this.sortOptions=[{value:"date-desc",label:"Newest First",icon:"schedule"},{value:"date-asc",label:"Oldest First",icon:"schedule"},{value:"amount-desc",label:"Highest Amount",icon:"trending_up"},{value:"amount-asc",label:"Lowest Amount",icon:"trending_down"},{value:"payee-asc",label:"Payee A-Z",icon:"sort_by_alpha"},{value:"category-asc",label:"Category A-Z",icon:"category"}],this.subscription=new cn,this.destroy$=new _t,this.categories=[]}ngOnInit(){this.filterTransactions(),this.loadUserCategories(),this.loadUserAccounts(),this.route.url.includes("transactions")&&(this.showFilters=!0),this.subscription.add(this.filterService.categoryFilter$.subscribe(t=>{if(t){this.selectedCategory=[t.categoryId];let i=new Date(t.year,t.month,1),a=new Date(t.year,t.month+1,0);this.selectedDateRange={startDate:i,endDate:a},this.filterTransactions(),this.selectedCategoryChange.emit(this.selectedCategory),this.selectedDateRangeChange.emit({startDate:i,endDate:a})}}))}ngOnDestroy(){this.subscription.unsubscribe()}ngOnChanges(t){this.filterTransactions()}filterTransactions(){let t=this.filterService.filterTransactionsWithCustomFilters(this.transactions,{searchTerm:this.searchTerm,selectedCategory:this.selectedCategory,selectedType:this.selectedType,selectedDate:this.selectedDate,selectedDateRange:this.selectedDateRange}),i=this.filterService.sortTransactions(t,this.selectedSort);this.filteredTransactions=i}onSearchChange(t){this.searchTerm=t,this.searchTermChange.emit(t),this.filterTransactions()}onSortChange(t){this.selectedSort=t,this.filterTransactions()}onTypeChange(t){this.selectedType=t,this.selectedTypeChange.emit(t),this.filterTransactions()}onCategoryChange(t){t==="all"?this.selectedCategory=["all"]:(this.selectedCategory=this.selectedCategory.filter(i=>i!=="all"),this.selectedCategory.includes(t)?(this.selectedCategory=this.selectedCategory.filter(i=>i!==t),this.selectedCategory.length===0&&(this.selectedCategory=["all"])):this.selectedCategory.push(t)),this.selectedCategoryChange.emit(this.selectedCategory),this.filterTransactions()}onDateRangeChange(t){if(!t)this.selectedDateRange=null;else switch(t){case"currentMonth":this.selectedDateRange={startDate:(0,Cr.default)().startOf("month").toDate(),endDate:(0,Cr.default)().endOf("month").toDate()};break;case"lastMonth":this.selectedDateRange={startDate:(0,Cr.default)().subtract(1,"month").startOf("month").toDate(),endDate:(0,Cr.default)().subtract(1,"month").endOf("month").toDate()};break;case"currentYear":this.selectedDateRange={startDate:(0,Cr.default)().startOf("year").toDate(),endDate:(0,Cr.default)().endOf("year").toDate()};break}this.selectedDateRangeChange.emit(this.selectedDateRange),this.filterTransactions()}isCurrentMonth(){if(!this.selectedDateRange)return!1;let t=(0,Cr.default)(),i=(0,Cr.default)(this.selectedDateRange.startDate),a=(0,Cr.default)(this.selectedDateRange.endDate);return i.isSame(t.startOf("month"))&&a.isSame(t.endOf("month"))}isLastMonth(){if(!this.selectedDateRange)return!1;let i=(0,Cr.default)().subtract(1,"month"),a=(0,Cr.default)(this.selectedDateRange.startDate),o=(0,Cr.default)(this.selectedDateRange.endDate);return a.isSame(i.startOf("month"))&&o.isSame(i.endOf("month"))}isCurrentYear(){if(!this.selectedDateRange)return!1;let t=(0,Cr.default)(),i=(0,Cr.default)(this.selectedDateRange.startDate),a=(0,Cr.default)(this.selectedDateRange.endDate);return i.isSame(t.startOf("year"))&&a.isSame(t.endOf("year"))}hasActiveFilters(){return!!(this.searchTerm||!this.selectedCategory.includes("all")||this.selectedType!=="all"||this.selectedDate||this.selectedDateRange)}getCurrentSortLabel(){let t=this.sortOptions.find(i=>i.value===this.selectedSort);return t?t.label:"Sort"}getCurrentTypeLabel(){switch(this.selectedType){case"all":return"All Types";case"income":return"Income";case"expense":return"Expense";default:return"All Types"}}getCurrentCategoryLabel(){if(this.selectedCategory.includes("all"))return"All Categories";if(this.selectedCategory.length===1){let t=this.selectedCategory[0],i=this.categories.find(a=>a.id===t);return i?i.name:t}return`${this.selectedCategory.length} Categories`}getCurrentDateLabel(){return this.selectedDateRange?this.isCurrentMonth()?"This Month":this.isLastMonth()?"Last Month":this.isCurrentYear()?"This Year":"Custom Range":"All Time"}onLongPress(t){var i;this.selectedTx=((i=this.selectedTx)==null?void 0:i.id)===t.id?null:t}onEditTransaction(t){this.editTransaction.emit(t),this.selectedTx=null}onDeleteTransaction(t){this.dialog.open(ha,{width:"300px",data:{title:"Delete Transaction",message:"Are you sure you want to delete this transaction?",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(i=>{i&&this.deleteTransaction.emit(t)}),this.selectedTx=null}onAddTransaction(){this.addTransaction.emit()}onImportTransactions(){this.importTransactions.emit()}getTotalIncome(){return this.filteredTransactions.filter(t=>t.type==="income").reduce((t,i)=>t+i.amount,0)}getTotalExpenses(){return this.filteredTransactions.filter(t=>t.type==="expense").reduce((t,i)=>t+i.amount,0)}getNetAmount(){return this.getTotalIncome()-this.getTotalExpenses()}getCategoriesList(){let t=new Set(this.transactions.map(i=>i.categoryId));return Array.from(t).map(i=>this.categories.find(a=>a.id===i)).filter(i=>i!==void 0&&i.id!==void 0).sort((i,a)=>i.name.localeCompare(a.name))}getFilteredCount(){return this.filteredTransactions.length}getTotalCount(){return this.transactions.length}getCurrentYear(){return(0,Cr.default)().year()}getCategoryIcon(t){var i;return((i=this.categories.find(a=>a.id===t))==null?void 0:i.icon)||"category"}getCategoryColor(t){var i;return((i=this.categories.find(a=>a.id===t))==null?void 0:i.color)||"#46777f"}loadUserCategories(){return me(this,null,function*(){var t;(t=this.auth.currentUser)!=null&&t.uid&&this.subscription.add(this.store.select(zi).subscribe(i=>{this.categories=i},i=>{console.error("Error loading categories:",i)}))})}loadUserAccounts(){return me(this,null,function*(){var t;(t=this.auth.currentUser)!=null&&t.uid&&this.subscription.add(this.store.select(Fa).subscribe(i=>{this.accounts=i},i=>{console.error("Error loading accounts:",i)}))})}getAccountName(t){let i=this.accounts.find(a=>a.accountId===t);return i?i.name:"Unknown Account"}getAccountType(t){let i=this.accounts.find(a=>a.accountId===t);return i?i.type:""}getRecurringInfo(t){return t.isRecurring?`Recurring (${t.recurringInterval||qi.MONTHLY})`:""}getSyncStatusInfo(t){return t.isPending?"Pending":t.syncStatus==="failed"?"Sync Failed":t.syncStatus==="pending"?"Syncing...":"Synced"}getSyncStatusIcon(t){return t.isPending?"schedule":t.syncStatus==="failed"?"error":t.syncStatus==="pending"?"sync":"check_circle"}getSyncStatusColor(t){return t.isPending?"#ff9800":t.syncStatus==="failed"?"#f44336":t.syncStatus==="pending"?"#46777f":"#4caf50"}clearAllFilters(){this.dialog.open(ha,{width:"300px",data:{title:"Clear Filters",message:"Are you sure you want to clear all filters?",confirmText:"Clear",cancelText:"Cancel"}}).afterClosed().subscribe(i=>{i&&this.performClearAllFilters()})}performClearAllFilters(){this.searchTerm="",this.selectedCategory=["all"],this.selectedType="all",this.selectedDate=null,this.selectedDateRange=null,this.selectedSort="date-desc",this.searchTermChange.emit(""),this.selectedCategoryChange.emit(["all"]),this.selectedTypeChange.emit("all"),this.selectedDateRangeChange.emit(null),this.filterTransactions()}quickClearFilters(){this.performClearAllFilters()}getActiveFiltersCount(){let t=0;return this.searchTerm&&t++,this.selectedCategory.includes("all")||t++,this.selectedType!=="all"&&t++,this.selectedDate&&t++,this.selectedDateRange&&t++,t}isCategorySelected(t){return this.selectedCategory.includes(t)}isCustomDateRange(){return this.selectedDateRange?!this.isCurrentMonth()&&!this.isLastMonth()&&!this.isCurrentYear():!1}openCustomDateRangeDialog(){var a,o;let t={startDate:(a=this.selectedDateRange)==null?void 0:a.startDate,endDate:(o=this.selectedDateRange)==null?void 0:o.endDate};this.dialog.open(V_,{width:"400px",data:t,disableClose:!1}).afterClosed().subscribe(s=>{s&&(this.selectedDateRange={startDate:s.startDate,endDate:s.endDate},this.selectedDateRangeChange.emit(this.selectedDateRange),this.filterTransactions())})}openImportDialog(){this.importTransactions.emit()}getCategoryName(t){return this.categoryService.getCategoryNameById(t)}};n.\u0275fac=function(i){return new(i||n)(T(kt),T(hn),T(di),T(Xt),T(Ft),T(ws),T(Sl))},n.\u0275cmp=Se({type:n,selectors:[["mobile-transaction-list"]],inputs:{transactions:"transactions",searchTerm:"searchTerm",selectedCategory:"selectedCategory",selectedType:"selectedType",selectedDate:"selectedDate",selectedDateRange:"selectedDateRange"},outputs:{editTransaction:"editTransaction",deleteTransaction:"deleteTransaction",addTransaction:"addTransaction",importTransactions:"importTransactions",searchTermChange:"searchTermChange",selectedCategoryChange:"selectedCategoryChange",selectedTypeChange:"selectedTypeChange",selectedDateRangeChange:"selectedDateRangeChange"},features:[Xn],decls:8,vars:3,consts:[["sortMenu","matMenu"],["typeMenu","matMenu"],["categoryMenu","matMenu"],["dateMenu","matMenu"],[1,"mobile-transaction-container"],["class","mobile-filter-header",4,"ngIf"],["class","transaction-summary",4,"ngIf"],[1,"transaction-list-container"],[1,"transaction-scroll"],["class","empty-state",4,"ngIf"],[1,"transaction-card",3,"selected"],[1,"mobile-filter-header"],["class","active-filters-indicator flex justify-between items-center",4,"ngIf"],[1,"search-container"],[1,"search-input-wrapper"],[1,"search-icon"],["type","text","placeholder","Search transactions...",1,"search-input",3,"ngModelChange","ngModel"],["mat-icon-button","","class","clear-search-btn",3,"click",4,"ngIf"],[1,"filter-menu-container","md:justify-center"],["mat-icon-button","","aria-label","Sort transactions",1,"filter-menu-btn",3,"matMenuTriggerFor","matTooltip"],[1,"filter-btn-text"],[1,"filter-menu"],["mat-menu-item","",3,"active-menu-item"],["mat-icon-button","","aria-label","Filter by transaction type",1,"filter-menu-btn",3,"matMenuTriggerFor","matTooltip"],["mat-menu-item","",3,"click"],["class","check-icon",4,"ngIf"],[1,"income-icon"],[1,"expense-icon"],["mat-icon-button","","aria-label","Filter by category",1,"filter-menu-btn",3,"matMenuTriggerFor","matTooltip"],["mat-icon-button","","aria-label","Filter by date range",1,"filter-menu-btn",3,"matMenuTriggerFor","matTooltip"],["mat-icon-button","","matTooltip","Import transactions","aria-label","Import transactions",1,"filter-menu-btn","import-btn",3,"click"],[1,"active-filters-indicator","flex","justify-between","items-center"],[1,"filter-icon-container"],[1,"filter-icon"],[1,"filter-text"],[1,""],[1,"text-black","relative","top-1","!text-blue-700","text-sm",3,"click"],["mat-icon-button","",1,"clear-search-btn",3,"click"],[1,"check-icon"],[1,"transaction-summary"],[1,"summary-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-total"],[1,"stat-value","income"],[1,"stat-value","expense"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title","text-base"],[1,"empty-description","text-base"],["mat-raised-button","","color","primary","class","add-first-btn",3,"click",4,"ngIf"],["mat-stroked-button","","class","clear-filters-btn-large",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",1,"add-first-btn",3,"click"],[1,"text-base"],["mat-stroked-button","",1,"clear-filters-btn-large",3,"click"],[1,"transaction-card",3,"click"],[1,"transaction-main"],[1,"transaction-icon"],[1,"icon-container"],[1,"split-transaction"],[1,"transaction-details"],[1,"transaction-title","text-base"],[1,"transaction-date","text-base"],["class","transaction-notes text-base",4,"ngIf"],[1,"transaction-amount"],[1,"amount-value","text-base",3,"ngClass"],[1,"amount-type","text-base"],["class","transaction-actions",4,"ngIf"],["class","transaction-details-expanded",4,"ngIf"],[1,"transaction-notes","text-base"],[1,"transaction-actions"],[1,"actions-container"],["mat-icon-button","","matTooltip","Edit transaction",1,"action-button","edit-btn",3,"click"],["mat-icon-button","","matTooltip","Delete transaction",1,"action-button","delete-btn",3,"click"],[1,"transaction-details-expanded"],[1,"details-container"],[1,"detail-row"],[1,"detail-label"],[1,"detail-icon"],[1,"detail-value"],[1,"account-name"],["class","account-type",4,"ngIf"],["class","detail-row",4,"ngIf"],[1,"sync-status"],[1,"created-date"],[1,"created-time"],[1,"account-type"],[1,"transaction-id"],[1,"recurring-info"],[1,"transaction-notes"],[1,"payment-method"],[1,"tax-amount"],[1,"tax-percentage"]],template:function(i,a){i&1&&(c(0,"div",4),U(1,WU,102,42,"div",5)(2,HU,15,10,"div",6),c(3,"div",7)(4,"div",8),U(5,qU,10,3,"div",9),Ge(6,oY,23,23,"div",10,DM),l()()()),i&2&&(h(),M("ngIf",a.showFilters),h(),M("ngIf",a.showFilters&&a.filteredTransactions.length>0),h(3),M("ngIf",!a.filteredTransactions.length),h(),qe(a.filteredTransactions))},dependencies:[Kr,dt,on,sn,wi,iu,Nt,mn,lt,fs,ps,hs,En,Vc,Pa,Ci],styles:[".mobile-transaction-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;background:#f8fafc;position:relative}.mobile-filter-header[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e2e8f0;padding:12px;box-shadow:0 1px 3px #0000001a;z-index:10}.active-filters-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 12px;background:#eff6ff;border:1px solid #bfdbfe;border-radius:8px;margin-bottom:8px;animation:_ngcontent-%COMP%_fadeIn .3s ease}.active-filters-indicator[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{color:#2563eb;font-size:16px;width:16px;height:16px}.active-filters-indicator[_ngcontent-%COMP%]   .filter-text[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#2563eb}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.search-container[_ngcontent-%COMP%]{margin-bottom:12px}.search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:0 12px;transition:all .2s ease}.search-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#3b82f6;background:#fff;box-shadow:0 0 0 3px #3b82f61a}.search-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:20px;width:20px;height:20px;margin-right:8px}.search-input[_ngcontent-%COMP%]{flex:1;border:none;background:transparent;padding:12px 0;font-size:16px;color:#1f2937;outline:none}.search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.clear-search-btn[_ngcontent-%COMP%]{color:#9ca3af;width:32px;height:32px;margin-left:8px}.clear-search-btn[_ngcontent-%COMP%]:hover{color:#6b7280;background:#f3f4f6}.filter-menu-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.filter-menu-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;border:1px solid #e2e8f0;background:#fff;color:#374151;transition:all .2s ease;flex-shrink:0;position:relative;display:flex;align-items:center;justify-content:center}.filter-menu-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#cbd5e1;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.filter-menu-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 1px 2px #0000001a}.filter-menu-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.filter-menu-btn[_ngcontent-%COMP%]   .filter-btn-text[_ngcontent-%COMP%]{display:none;font-size:12px;font-weight:500;margin-left:4px;white-space:nowrap}.filter-menu-btn.import-btn[_ngcontent-%COMP%]{background:#f0f9ff;border-color:#0ea5e9;color:#0ea5e9}.filter-menu-btn.import-btn[_ngcontent-%COMP%]:hover{background:#e0f2fe;border-color:#0284c7;color:#0284c7;transform:translateY(-1px);box-shadow:0 2px 4px #0ea5e933}.filter-menu-btn.import-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 1px 2px #0ea5e91a}@media (min-width: 768px){.filter-menu-btn[_ngcontent-%COMP%]{width:auto;min-width:120px;height:40px;padding:0 12px;justify-content:flex-start}.filter-menu-btn[_ngcontent-%COMP%]   .filter-btn-text[_ngcontent-%COMP%]{display:inline-block}.filter-menu-container[_ngcontent-%COMP%]{gap:12px}}@media (min-width: 1024px){.filter-menu-btn[_ngcontent-%COMP%]{min-width:140px;padding:0 16px}}.clear-filters-btn[_ngcontent-%COMP%]{color:#ef4444;width:40px;height:40px;border-radius:8px;background:#fef2f2;border:1px solid #fecaca;flex-shrink:0}.clear-filters-btn[_ngcontent-%COMP%]:hover{background:#fee2e2;border-color:#fca5a5;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.clear-filters-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 1px 2px #0000001a}.clear-filters-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.filter-menu[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]{padding:0}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;font-size:14px;color:#374151;transition:all .2s ease}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item.active-menu-item[_ngcontent-%COMP%]{background:#eff6ff;color:#1d4ed8}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item.active-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1d4ed8}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6b7280}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon.income-icon[_ngcontent-%COMP%]{color:#10b981}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon.expense-icon[_ngcontent-%COMP%]{color:#ef4444}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon.check-icon[_ngcontent-%COMP%]{margin-left:auto;color:#1d4ed8}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.filter-menu[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin:4px 0}.transaction-summary[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e2e8f0;padding:8px 12px}.summary-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;flex:1;justify-content:center}.stat-value[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1f2937}.stat-value.income[_ngcontent-%COMP%]{color:#10b981}.stat-value.expense[_ngcontent-%COMP%]{color:#ef4444}.stat-total[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af;font-weight:400}.transaction-list-container[_ngcontent-%COMP%]{flex:1;overflow:hidden;position:relative}.transaction-scroll[_ngcontent-%COMP%]{height:100%;padding:12px;overflow-y:auto;max-height:70vh}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#6b7280}.empty-icon[_ngcontent-%COMP%]{margin-bottom:16px}.empty-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#d1d5db}.empty-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#374151;margin-bottom:8px}.empty-description[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin-bottom:24px;line-height:1.5}.add-first-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;border-radius:8px;font-weight:500}.clear-filters-btn-large[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;border-radius:8px;font-weight:500;color:#ef4444;border-color:#fecaca;background:#fef2f2}.clear-filters-btn-large[_ngcontent-%COMP%]:hover{background:#fee2e2;border-color:#fca5a5}.transaction-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:10px;border:1px solid #e5e7eb;overflow:hidden;transition:all .2s ease;cursor:pointer}.transaction-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.transaction-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.transaction-main[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;gap:12px}.transaction-icon[_ngcontent-%COMP%]{flex-shrink:0}.icon-container[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.icon-container.income-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0)}.icon-container.expense-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fee2e2,#fecaca)}.income-icon[_ngcontent-%COMP%]{color:#059669;font-size:22px;width:22px;height:22px}.expense-icon[_ngcontent-%COMP%]{color:#dc2626;font-size:22px;width:22px;height:22px}.transaction-details[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:2px}.transaction-title[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;line-height:1.3;font-size:.9rem;margin:0}.transaction-category[_ngcontent-%COMP%]{font-size:.9rem;color:#6b7280;font-weight:500;margin:0}.transaction-date[_ngcontent-%COMP%]{font-size:.9rem;color:#9ca3af;display:flex;align-items:center;gap:4px;margin:0}.time-separator[_ngcontent-%COMP%]{color:#d1d5db}.transaction-notes[_ngcontent-%COMP%]{font-size:11px;color:#6b7280;font-style:italic;line-height:1.4;margin:2px 0 0}.transaction-amount[_ngcontent-%COMP%]{text-align:right;flex-shrink:0;display:flex;flex-direction:column;align-items:flex-end;gap:1px}.amount-value[_ngcontent-%COMP%]{font-size:15px;font-weight:700;margin:0}.amount-value.income-text[_ngcontent-%COMP%]{color:#059669}.amount-value.expense-text[_ngcontent-%COMP%]{color:#dc2626}.amount-type[_ngcontent-%COMP%]{font-size:10px;color:#9ca3af;text-transform:capitalize;font-weight:500;letter-spacing:.5px;margin:0;background-color:#fff;padding:1px 5px;border-radius:5px;position:relative;color:#766d6d;font-weight:600;top:5px;left:4px;border:.5px dotted}.transaction-actions[_ngcontent-%COMP%]{background:#f8fafc;border-top:1px solid #e5e7eb;padding:8px 12px;animation:_ngcontent-%COMP%_slideDown .2s ease}.actions-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px}.action-button[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;transition:all .2s ease}.action-button.edit-btn[_ngcontent-%COMP%]{border:1px dashed gray;color:gray}.action-button.edit-btn[_ngcontent-%COMP%]:hover{background:#bfdbfe;transform:scale(1.05)}.action-button.delete-btn[_ngcontent-%COMP%]{border:1px solid #dc2626;color:#dc2626}.action-button.delete-btn[_ngcontent-%COMP%]:hover{background:#fecaca;transform:scale(1.05)}.transaction-details-expanded[_ngcontent-%COMP%]{background:#f8fafc;border-top:1px solid #e5e7eb;padding:16px 12px;animation:_ngcontent-%COMP%_slideDown .3s ease}.details-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f1f5f9}.detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.detail-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-shrink:0;min-width:120px}.detail-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6b7280}.detail-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#374151}.detail-value[_ngcontent-%COMP%]{flex:1;text-align:right;display:flex;flex-direction:column;align-items:flex-end;gap:2px}.account-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1f2937}.account-type[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-style:italic}.transaction-id[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-family:Courier New,monospace;background:#f3f4f6;padding:2px 6px;border-radius:4px}.recurring-info[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#059669;background:#d1fae5;padding:4px 8px;border-radius:6px}.sync-status[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.created-date[_ngcontent-%COMP%], .created-time[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.transaction-notes[_ngcontent-%COMP%]{font-size:14px;color:#374151;font-style:italic;line-height:1.4;text-align:left;max-width:200px;word-wrap:break-word}.fab-add[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:1000;box-shadow:0 8px 24px #3b82f64d;transition:all .2s ease}.fab-add[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 12px 32px #3b82f666}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 480px){.filter-menu-container[_ngcontent-%COMP%]{flex-direction:row;align-items:stretch;justify-content:flex-end}.filter-menu-btn[_ngcontent-%COMP%]{justify-content:space-between}.summary-stats[_ngcontent-%COMP%]{gap:8px}.stat-item[_ngcontent-%COMP%]{flex-direction:row;gap:4px}}.split-transaction[_ngcontent-%COMP%]{position:relative;font-size:27px;top:-28px!important;left:-24px!important;color:#b75e5e}"]});let e=n;return e})();var cY=["mat-sort-header",""],lY=["*"];function dY(e,n){if(e&1){let r=ue();c(0,"div",2),F("@arrowPosition.start",function(){N(r);let i=w();return L(i._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){N(r);let i=w();return L(i._disableViewStateAnimation=!1)}),se(1,"div",3),c(2,"div",4),se(3,"div",5)(4,"div",6)(5,"div",7),l()()}if(e&2){let r=w();M("@arrowOpacity",r._getArrowViewState())("@arrowPosition",r._getArrowViewState())("@allowChildren",r._getArrowDirectionState()),h(2),M("@indicator",r._getArrowDirectionState()),h(),M("@leftPointer",r._getArrowDirectionState()),h(),M("@rightPointer",r._getArrowDirectionState())}}var AM=new Pn("MAT_SORT_DEFAULT_OPTIONS"),S0=(()=>{let n=class n{get direction(){return this._direction}set direction(t){this._direction=t}constructor(t){this._defaultOptions=t,this._initializedStream=new Ys(1),this.sortables=new Map,this._stateChanges=new _t,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new Ve,this.initialized=this._initializedStream}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){var s,m,u;if(!t)return"";let i=(u=(s=t==null?void 0:t.disableClear)!=null?s:this.disableClear)!=null?u:!!((m=this._defaultOptions)!=null&&m.disableClear),a=mY(t.start||this.start,i),o=a.indexOf(this.direction)+1;return o>=a.length&&(o=0),a[o]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}};n.\u0275fac=function(i){return new(i||n)(T(AM,8))},n.\u0275dir=At({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",Ht],disabled:[2,"matSortDisabled","disabled",Ht]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[Jn,Xn]});let e=n;return e})();function mY(e,n){let r=["asc","desc"];return e=="desc"&&r.reverse(),n||r.push(""),r}var Rs=qv.ENTERING+" "+Gv.STANDARD_CURVE,Jl={indicator:sr("indicator",[Rn("active-asc, asc",Ut({transform:"translateY(0px)"})),Rn("active-desc, desc",Ut({transform:"translateY(10px)"})),Nn("active-asc <=> active-desc",Un(Rs))]),leftPointer:sr("leftPointer",[Rn("active-asc, asc",Ut({transform:"rotate(-45deg)"})),Rn("active-desc, desc",Ut({transform:"rotate(45deg)"})),Nn("active-asc <=> active-desc",Un(Rs))]),rightPointer:sr("rightPointer",[Rn("active-asc, asc",Ut({transform:"rotate(45deg)"})),Rn("active-desc, desc",Ut({transform:"rotate(-45deg)"})),Nn("active-asc <=> active-desc",Un(Rs))]),arrowOpacity:sr("arrowOpacity",[Rn("desc-to-active, asc-to-active, active",Ut({opacity:1})),Rn("desc-to-hint, asc-to-hint, hint",Ut({opacity:.54})),Rn("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Ut({opacity:0})),Nn("* => asc, * => desc, * => active, * => hint, * => void",Un("0ms")),Nn("* <=> *",Un(Rs))]),arrowPosition:sr("arrowPosition",[Nn("* => desc-to-hint, * => desc-to-active",Un(Rs,ls([Ut({transform:"translateY(-25%)"}),Ut({transform:"translateY(0)"})]))),Nn("* => hint-to-desc, * => active-to-desc",Un(Rs,ls([Ut({transform:"translateY(0)"}),Ut({transform:"translateY(25%)"})]))),Nn("* => asc-to-hint, * => asc-to-active",Un(Rs,ls([Ut({transform:"translateY(25%)"}),Ut({transform:"translateY(0)"})]))),Nn("* => hint-to-asc, * => active-to-asc",Un(Rs,ls([Ut({transform:"translateY(0)"}),Ut({transform:"translateY(-25%)"})]))),Rn("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Ut({transform:"translateY(0)"})),Rn("hint-to-desc, active-to-desc, desc",Ut({transform:"translateY(-25%)"})),Rn("hint-to-asc, active-to-asc, asc",Ut({transform:"translateY(25%)"}))]),allowChildren:sr("allowChildren",[Nn("* <=> *",[Zv("@*",Qv(),{optional:!0})])])},Qp=(()=>{let n=class n{constructor(){this.changes=new _t}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function uY(e){return e||new Qp}var pY={provide:Qp,deps:[[new Ws,new G0,Qp]],useFactory:uY},FM=(()=>{let n=class n{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}constructor(t,i,a,o,s,m,u,f){this._intl=t,this._changeDetectorRef=i,this._sort=a,this._columnDef=o,this._focusMonitor=s,this._elementRef=m,this._ariaDescriber=u,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",f!=null&&f.arrowPosition&&(this.arrowPosition=f==null?void 0:f.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{let i=!!t;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){var t;this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&((t=this._ariaDescriber)==null||t.removeDescription(this._sortButton,this._sortActionDescription))}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._showIndicatorHint?this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"hint"}):this._setAnimationTransitionState({fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(t.keyCode===32||t.keyCode===13)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){let t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){var i,a;this._sortButton&&((i=this._ariaDescriber)==null||i.removeDescription(this._sortButton,this._sortActionDescription),(a=this._ariaDescriber)==null||a.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=ir(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&this._viewState.toState==="active"&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}};n.\u0275fac=function(i){return new(i||n)(T(Qp),T(Tn),T(S0,8),T("MAT_SORT_HEADER_COLUMN_DEF",8),T(ol),T(an),T(zv,8),T(AM,8))},n.\u0275cmp=Se({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(i,a){i&1&&F("click",function(){return a._handleClick()})("keydown",function(s){return a._handleKeydown(s)})("mouseenter",function(){return a._setIndicatorHintVisible(!0)})("mouseleave",function(){return a._setIndicatorHintVisible(!1)}),i&2&&(Kt("aria-sort",a._getAriaSortAttribute()),Fe("mat-sort-header-disabled",a._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",Ht],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",Ht]},exportAs:["matSortHeader"],standalone:!0,features:[Jn,fn],attrs:cY,ngContentSelectors:lY,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(i,a){i&1&&(Ei(),c(0,"div",0)(1,"div",1),$n(2),l(),U(3,dY,6,6,"div",2),l()),i&2&&(Fe("mat-sort-header-sorted",a._isSorted())("mat-sort-header-position-before",a.arrowPosition==="before"),Kt("tabindex",a._isDisabled()?null:0)("role",a._isDisabled()?null:"button"),h(3),Qe(a._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color, var(--mat-app-on-surface));opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Jl.indicator,Jl.leftPointer,Jl.rightPointer,Jl.arrowOpacity,Jl.arrowPosition,Jl.allowChildren]},changeDetection:0});let e=n;return e})(),j_=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({providers:[pY],imports:[li]});let e=n;return e})();var Zp=ra(_a());var hY=(e,n)=>n.id;function gY(e,n){e&1&&(c(0,"th",38)(1,"div",39)(2,"mat-icon",40),d(3,"schedule"),l(),c(4,"span",41),d(5,"Date & Time"),l()()())}function _Y(e,n){if(e&1&&(c(0,"td",42)(1,"div",43),d(2),_e(3,"date"),l(),c(4,"div",44),d(5),_e(6,"date"),l()()),e&2){let r=n.$implicit;h(2),ae(" ",Rt(3,2,r.date.seconds*1e3,"MMM dd, yyyy")," "),h(3),ae(" ",Rt(6,5,r.date.seconds*1e3,"hh:mm a")," ")}}function xY(e,n){e&1&&(c(0,"th",45)(1,"div",39)(2,"mat-icon",40),d(3,"category"),l(),c(4,"span",41),d(5,"Category"),l()()())}function vY(e,n){if(e&1&&(c(0,"td",46)(1,"div",39)(2,"div",47)(3,"mat-icon",48),d(4),l()(),c(5,"span",49),d(6),l()()()),e&2){let r=n.$implicit,t=w();h(3),Vt("color",t.getCategoryColor(r.categoryId)),h(),G(t.getCategoryIcon(r.categoryId)),h(2),ae(" ",t.getCategoryName(r.categoryId)," ")}}function bY(e,n){e&1&&(c(0,"th",50)(1,"div",39)(2,"mat-icon",40),d(3,"person"),l(),c(4,"span",41),d(5,"Payee"),l()()())}function CY(e,n){if(e&1&&(c(0,"span",53),d(1),l()),e&2){let r=w().$implicit;h(),G(r.payee)}}function yY(e,n){if(e&1){let r=ue();c(0,"input",54),pt("ngModelChange",function(i){N(r);let a=w().$implicit;return ut(a.payee,i)||(a.payee=i),L(i)}),l()}if(e&2){let r=w().$implicit;mt("ngModel",r.payee)}}function wY(e,n){if(e&1&&(c(0,"td",42),U(1,CY,2,1,"span",51)(2,yY,1,1,"input",52),l()),e&2){let r=n.$implicit;h(),M("ngIf",!r.isEditing),h(),M("ngIf",r.isEditing)}}function MY(e,n){e&1&&(c(0,"th",38)(1,"div",39)(2,"mat-icon",40),d(3,"account_balance_wallet"),l(),c(4,"span",41),d(5,"Amount"),l()()())}function SY(e,n){if(e&1&&(c(0,"span",57),d(1),l()),e&2){let r=w().$implicit;Ct(r.type==="income"?"text-green-700":"text-red-800"),h(),ae(" ",(r.type=="income"?"+":"-")+" \u20B9"+r.amount.toLocaleString()," ")}}function PY(e,n){if(e&1){let r=ue();c(0,"input",58),pt("ngModelChange",function(i){N(r);let a=w().$implicit;return ut(a.amount,i)||(a.amount=i),L(i)}),l()}if(e&2){let r=w().$implicit;mt("ngModel",r.amount)}}function kY(e,n){if(e&1&&(c(0,"td",42),U(1,SY,2,3,"span",55)(2,PY,1,1,"input",56),l()),e&2){let r=n.$implicit;h(),M("ngIf",!r.isEditing),h(),M("ngIf",r.isEditing)}}function OY(e,n){e&1&&(c(0,"th",59)(1,"div",39)(2,"mat-icon",40),d(3,"swap_horiz"),l(),c(4,"span",41),d(5,"Type"),l()()())}function TY(e,n){if(e&1&&(c(0,"span")(1,"span",63)(2,"mat-icon",64),d(3),l(),d(4),l()()),e&2){let r=w().$implicit;h(),Ct(r.type==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),h(2),G(r.type==="income"?"trending_up":"trending_down"),h(),ae(" ",r.type," ")}}function EY(e,n){if(e&1){let r=ue();c(0,"select",65),pt("ngModelChange",function(i){N(r);let a=w().$implicit;return ut(a.type,i)||(a.type=i),L(i)}),c(1,"option",66),d(2,"Income"),l(),c(3,"option",67),d(4,"Expense"),l()()}if(e&2){let r=w().$implicit;mt("ngModel",r.type)}}function DY(e,n){if(e&1&&(c(0,"td",60),U(1,TY,5,4,"span",61)(2,EY,5,1,"select",62),l()),e&2){let r=n.$implicit;h(),M("ngIf",!r.isEditing),h(),M("ngIf",r.isEditing)}}function IY(e,n){e&1&&(c(0,"th",68)(1,"div",69)(2,"mat-icon",40),d(3,"settings"),l(),c(4,"span",41),d(5,"Actions"),l()()())}function AY(e,n){if(e&1){let r=ue();c(0,"div",72)(1,"button",73),F("click",function(){N(r);let i=w().$implicit,a=w();return L(a.onStartRowEdit(i))}),c(2,"mat-icon",74),d(3,"edit"),l()(),c(4,"button",75),F("click",function(){N(r);let i=w().$implicit,a=w();return L(a.onDeleteTransaction(i))}),c(5,"mat-icon",74),d(6,"delete"),l()()()}}function FY(e,n){if(e&1){let r=ue();c(0,"div",72)(1,"button",76),F("click",function(){N(r);let i=w().$implicit,a=w();return L(a.onSaveRowEdit(i))}),c(2,"mat-icon",74),d(3,"check"),l()(),c(4,"button",77),F("click",function(){N(r);let i=w().$implicit,a=w();return L(a.onCancelRowEdit(i))}),c(5,"mat-icon",74),d(6,"close"),l()()()}}function RY(e,n){if(e&1&&(c(0,"td",70),U(1,AY,7,0,"div",71)(2,FY,7,0,"div",71),l()),e&2){let r=n.$implicit;h(),M("ngIf",!r.isEditing),h(),M("ngIf",r.isEditing)}}function NY(e,n){e&1&&se(0,"tr",78)}function LY(e,n){e&1&&se(0,"tr",79)}function BY(e,n){if(e&1){let r=ue();c(0,"div",35)(1,"div",80)(2,"div",81)(3,"div",82)(4,"mat-icon"),d(5),l()(),c(6,"div",83)(7,"div",84),d(8),l(),c(9,"div",85),d(10),l()()(),c(11,"div",86)(12,"div",87),d(13),l(),c(14,"div",88),d(15),l()()(),c(16,"div",89)(17,"span",90)(18,"mat-icon"),d(19),l(),d(20),l(),c(21,"div",91)(22,"button",73),F("click",function(){let i=N(r).$implicit,a=w();return L(a.onStartRowEdit(i))}),c(23,"mat-icon"),d(24,"edit"),l()(),c(25,"button",75),F("click",function(){let i=N(r).$implicit,a=w();return L(a.onDeleteTransaction(i))}),c(26,"mat-icon"),d(27,"delete"),l()()()()()}if(e&2){let r=n.$implicit,t=w();h(4),Vt("color",t.getCategoryColor(r.categoryId)),h(),G(t.getCategoryIcon(r.categoryId)),h(3),G(r.payee),h(2),G(t.getCategoryName(r.categoryId)),h(2),Ct(r.type==="income"?"income":"expense"),h(),ae(" ",(r.type=="income"?"+":"-")+" \u20B9"+r.amount.toLocaleString()," "),h(2),G(t.getDateDisplay(r.date)),h(2),Ct(r.type==="income"?"income":"expense"),h(2),G(r.type==="income"?"trending_up":"trending_down"),h(),ae(" ",r.type," ")}}function VY(e,n){if(e&1){let r=ue();c(0,"div",92)(1,"mat-icon",93),d(2,"receipt_long"),l(),c(3,"h3",94),d(4),l(),c(5,"p",95),d(6,"No transactions found for the current year. Start by adding your first transaction to track your finances."),l(),c(7,"button",96),F("click",function(){N(r);let i=w();return L(i.onAddTransaction())}),c(8,"mat-icon"),d(9,"add"),l(),c(10,"span"),d(11,"Add Transaction"),l()()()}if(e&2){let r=w();h(4),ae("No transactions for ",r.getCurrentYear(),"")}}var RM=(()=>{let n=class n{constructor(t,i,a,o,s,m){this.auth=t,this.dateService=i,this.filterService=a,this.store=o,this.ssrService=s,this.dialog=m,this.transactions=[],this.searchTerm="",this.selectedCategory=["all"],this.selectedType="all",this.selectedDate=null,this.selectedDateRange=null,this.editTransaction=new Ve,this.deleteTransaction=new Ve,this.startRowEdit=new Ve,this.saveRowEdit=new Ve,this.cancelRowEdit=new Ve,this.addTransaction=new Ve,this.dataSource=new ec,this.displayedColumns=["Date","Type","Payee","Amount","Status","Actions"],this.MOBILE_BREAKPOINT=640,this.TABLET_BREAKPOINT=768,this.subscription=new cn,this.categories={}}ngOnInit(){this.setupDataSource(),this.filterTransactions(),this.loadCategories(),this.updateColumnVisibility()}ngOnDestroy(){this.subscription.unsubscribe()}ngOnChanges(t){this.filterTransactions()}ngAfterViewInit(){this.setupSorting()}onResize(){this.updateColumnVisibility()}updateColumnVisibility(){if(this.ssrService.isClientSide()){let t=window.innerWidth;t<this.MOBILE_BREAKPOINT?this.displayedColumns=["Date","Payee","Amount","Actions"]:t<this.TABLET_BREAKPOINT?this.displayedColumns=["Date","Type","Payee","Amount","Actions"]:this.displayedColumns=["Date","Type","Payee","Amount","Status","Actions"]}}setupDataSource(){this.dataSource=new ec([]),this.dataSource.filterPredicate=(t,i)=>{let a=i.toLowerCase();return t.payee.toLowerCase().includes(a)||t.category.toLowerCase().includes(a)||t.notes&&t.notes.toLowerCase().includes(a)||t.type.toLowerCase().includes(a)||t.amount.toString().includes(a)}}setupSorting(){this.dataSource.sortingDataAccessor=(t,i)=>{switch(i){case"Date":return(this.dateService.toDate(t==null?void 0:t.date)||new Date).getTime();case"Type":return(t==null?void 0:t.category.toString().toLowerCase())||"";case"Payee":return((t==null?void 0:t.payee)||"").toLowerCase();case"Amount":return t==null?void 0:t.amount;case"Status":return((t==null?void 0:t.type)||"").toLowerCase();default:return""}},this.dataSource.sort=this.sort,this.subscription.add(this.sort.sortChange.subscribe(t=>{console.log(`Sorting by ${t.active} in ${t.direction} order`)})),this.sort.sort({id:"Date",start:"desc",disableClear:!1})}filterTransactions(){let t=this.filterService.filterTransactionsWithCustomFilters(this.transactions,{searchTerm:this.searchTerm,selectedCategory:this.selectedCategory,selectedType:this.selectedType,selectedDate:this.selectedDate,selectedDateRange:this.selectedDateRange?{startDate:this.selectedDateRange.start,endDate:this.selectedDateRange.end}:null}),i=t;if(!this.selectedDateRange&&!this.selectedDate){let a=(0,Zp.default)().year();i=t.filter(o=>(0,Zp.default)(this.dateService.toDate(o.date)).year()===a)}this.dataSource.data=i}onEditTransaction(t){this.editTransaction.emit(t)}onDeleteTransaction(t){this.dialog.open(ha,{width:"300px",data:{title:"Delete Transaction",message:"Are you sure you want to delete this transaction?",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(i=>{i&&this.deleteTransaction.emit(t)})}onStartRowEdit(t){this.editTransaction.emit(t)}onSaveRowEdit(t){this.saveRowEdit.emit(t)}onCancelRowEdit(t){this.cancelRowEdit.emit(t)}onAddTransaction(){this.addTransaction.emit()}getFilteredCount(){return this.dataSource.data.length}getTotalCount(){return this.transactions.length}getCurrentYear(){return(0,Zp.default)().year()}getCurrentSortState(){return this.sort&&this.sort.active?{active:this.sort.active,direction:this.sort.direction}:null}clearSort(){this.sort&&this.sort.sort({id:"",start:"asc",disableClear:!1})}loadCategories(){var i;((i=this.auth.currentUser)==null?void 0:i.uid)&&this.store.select(zi).subscribe(a=>{for(let o of a)this.categories[o.id]=o})}getCategoryIcon(t){var i;return((i=this.categories[t])==null?void 0:i.icon)||"category"}getCategoryName(t){var i;return((i=this.categories[t])==null?void 0:i.name)||t}getCategoryColor(t){var i;return((i=this.categories[t])==null?void 0:i.color)||"#46777f"}getDateDisplay(t){return t&&typeof t=="object"&&"seconds"in t?new Date(t.seconds*1e3).toLocaleDateString(Ot.LANGUAGE.DEFAULT,{month:"short",day:"numeric"}):t instanceof Date?t.toLocaleDateString(Ot.LANGUAGE.DEFAULT,{month:"short",day:"numeric"}):""}getTotalIncome(){return this.dataSource.data.filter(t=>t.type==="income").reduce((t,i)=>t+i.amount,0)}getTotalExpense(){return this.dataSource.data.filter(t=>t.type==="expense").reduce((t,i)=>t+i.amount,0)}getNetAmount(){return this.getTotalIncome()-this.getTotalExpense()}getTransactionCount(){return this.dataSource.data.length}};n.\u0275fac=function(i){return new(i||n)(T(kt),T(Xt),T(ws),T(Ft),T(Jr),T(di))},n.\u0275cmp=Se({type:n,selectors:[["transaction-table"]],viewQuery:function(i,a){if(i&1&&Qt(S0,5),i&2){let o;ft(o=ht())&&(a.sort=o.first)}},hostBindings:function(i,a){i&1&&F("resize",function(s){return a.onResize(s)},!1,Ex)},inputs:{transactions:"transactions",searchTerm:"searchTerm",selectedCategory:"selectedCategory",selectedType:"selectedType",selectedDate:"selectedDate",selectedDateRange:"selectedDateRange"},outputs:{editTransaction:"editTransaction",deleteTransaction:"deleteTransaction",startRowEdit:"startRowEdit",saveRowEdit:"saveRowEdit",cancelRowEdit:"cancelRowEdit",addTransaction:"addTransaction"},features:[Xn],decls:92,vars:18,consts:[[1,"bg-white","rounded-lg","border","border-gray-200","overflow-hidden","flex","flex-col","max-h-[calc(80vh-205px)]"],[1,"hidden","sm:flex","flex-1","overflow-auto","table-container"],["mat-table","","matSort","",1,"w-full","min-w-[800px]",3,"dataSource"],["matColumnDef","Date"],["mat-header-cell","","mat-sort-header","","class","bg-gray-50 px-3 py-4 md:px-6 sticky top-0 z-10",4,"matHeaderCellDef"],["mat-cell","","class","px-3 py-4 border-b border-gray-100 md:px-6",4,"matCellDef"],["matColumnDef","Type"],["mat-header-cell","","mat-sort-header","","class","px-3 py-4 md:px-6 hidden sm:table-cell sticky top-0 z-10 bg-gray-50",4,"matHeaderCellDef"],["mat-cell","","class","px-3 py-4 border-b border-gray-100 md:px-6 hidden sm:table-cell",4,"matCellDef"],["matColumnDef","Payee"],["mat-header-cell","","mat-sort-header","","class","px-3 py-4 md:px-6 sticky top-0 z-10 bg-gray-50",4,"matHeaderCellDef"],["matColumnDef","Amount"],["matColumnDef","Status"],["mat-header-cell","","mat-sort-header","","class","bg-gray-50 px-3 py-4 md:px-6 hidden md:table-cell sticky top-0 z-10",4,"matHeaderCellDef"],["mat-cell","","class","px-3 py-4 border-b border-gray-100 md:px-6 hidden md:table-cell",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","class","bg-gray-50 px-3 py-4 md:px-6 text-center sticky top-0 z-10",4,"matHeaderCellDef"],["mat-cell","","class","px-3 py-4 border-b border-gray-100 text-center md:px-6",4,"matCellDef"],["mat-header-row","","class","h-12 md:h-16 sticky top-0 z-10",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-50 transition-colors cursor-pointer",4,"matRowDef","matRowDefColumns"],[1,"hidden","sm:flex","fixed-footer"],[1,"footer-content"],[1,"transaction-count"],[1,"totals-section"],[1,"total-item"],[1,"income"],[1,"total-content"],[1,"total-label"],[1,"total-value","income"],[1,"expense"],[1,"total-value","expense"],[1,"total-item","net-separator"],[1,"total-value"],[1,"sm:hidden","flex-1","overflow-auto","max-h-full","mobile-card-view"],[1,"p-4","space-y-3"],[1,"transaction-card"],[1,"sm:hidden","fixed-footer"],["class","text-center py-8 md:py-12 px-4",4,"ngIf"],["mat-header-cell","","mat-sort-header","",1,"bg-gray-50","px-3","py-4","md:px-6","sticky","top-0","z-10"],[1,"flex","items-center","space-x-1","md:space-x-2"],[1,"text-gray-500","text-xs","md:text-sm"],[1,"font-semibold","text-gray-700","text-xs","md:text-sm"],["mat-cell","",1,"px-3","py-4","border-b","border-gray-100","md:px-6"],[1,"text-xs","md:text-sm","text-gray-600"],[1,"text-xs","text-gray-400","hidden","md:block"],["mat-header-cell","","mat-sort-header","",1,"px-3","py-4","md:px-6","hidden","sm:table-cell","sticky","top-0","z-10","bg-gray-50"],["mat-cell","",1,"px-3","py-4","border-b","border-gray-100","md:px-6","hidden","sm:table-cell"],[1,"w-6","h-6","md:w-8","md:h-8","rounded-full","flex","items-center","justify-center","bg-gray-100"],[1,"text-xs","md:text-sm"],[1,"inline-flex","items-center","px-1.5","md:px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-gray-100","text-gray-800"],["mat-header-cell","","mat-sort-header","",1,"px-3","py-4","md:px-6","sticky","top-0","z-10","bg-gray-50"],["class","font-medium text-gray-900 max-w-[80px] md:max-w-[100px] text-wrap !block text-xs md:text-sm truncate",4,"ngIf"],["class","w-full px-2 md:px-3 py-1 md:py-2 border border-blue-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","placeholder","Enter payee name",3,"ngModel","ngModelChange",4,"ngIf"],[1,"font-medium","text-gray-900","max-w-[80px]","md:max-w-[100px]","text-wrap","!block","text-xs","md:text-sm","truncate"],["placeholder","Enter payee name",1,"w-full","px-2","md:px-3","py-1","md:py-2","border","border-blue-300","rounded-lg","text-xs","md:text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["class","font-bold text-xs md:text-sm",3,"class",4,"ngIf"],["type","number","class","w-full px-2 md:px-3 py-1 md:py-2 border border-blue-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","placeholder","Enter amount",3,"ngModel","ngModelChange",4,"ngIf"],[1,"font-bold","text-xs","md:text-sm"],["type","number","placeholder","Enter amount",1,"w-full","px-2","md:px-3","py-1","md:py-2","border","border-blue-300","rounded-lg","text-xs","md:text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["mat-header-cell","","mat-sort-header","",1,"bg-gray-50","px-3","py-4","md:px-6","hidden","md:table-cell","sticky","top-0","z-10"],["mat-cell","",1,"px-3","py-4","border-b","border-gray-100","md:px-6","hidden","md:table-cell"],[4,"ngIf"],["class","w-full px-2 md:px-3 py-1 md:py-2 border border-blue-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",3,"ngModel","ngModelChange",4,"ngIf"],[1,"inline-flex","items-center","px-2","md:px-3","py-1","rounded-full","text-xs","font-medium"],[1,"text-xs","mr-1"],[1,"w-full","px-2","md:px-3","py-1","md:py-2","border","border-blue-300","rounded-lg","text-xs","md:text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["value","income"],["value","expense"],["mat-header-cell","",1,"bg-gray-50","px-3","py-4","md:px-6","text-center","sticky","top-0","z-10"],[1,"flex","items-center","justify-center","space-x-1","md:space-x-2"],["mat-cell","",1,"px-3","py-4","border-b","border-gray-100","text-center","md:px-6"],["class","flex justify-center space-x-1 md:space-x-2",4,"ngIf"],[1,"flex","justify-center","space-x-1","md:space-x-2"],["mat-icon-button","","matTooltip","Edit transaction",1,"text-blue-600","hover:bg-blue-50","rounded-full","transition-colors",3,"click"],[1,"text-sm","md:text-base"],["mat-icon-button","","matTooltip","Delete transaction",1,"text-red-600","hover:bg-red-50","rounded-full","transition-colors",3,"click"],["mat-icon-button","","color","primary","matTooltip","Save changes",1,"bg-green-100","text-green-600","hover:bg-green-200","rounded-full","transition-colors",3,"click"],["mat-icon-button","","color","warn","matTooltip","Cancel editing",1,"bg-red-100","text-red-600","hover:bg-red-200","rounded-full","transition-colors",3,"click"],["mat-header-row","",1,"h-12","md:h-16","sticky","top-0","z-10"],["mat-row","",1,"hover:bg-gray-50","transition-colors","cursor-pointer"],[1,"card-header"],[1,"left-section"],[1,"category-icon"],[1,"transaction-info"],[1,"payee-name"],[1,"category-name"],[1,"right-section"],[1,"amount"],[1,"date"],[1,"card-footer"],[1,"type-badge"],[1,"action-buttons"],[1,"text-center","py-8","md:py-12","px-4"],[1,"text-gray-400","text-4xl","md:text-6xl","mb-4"],[1,"text-base","md:text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-4","text-sm","md:text-base"],["mat-raised-button","","color","primary",1,"flex","items-center","space-x-2","mx-auto","text-sm","md:text-base",3,"click"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"table",2),Io(3,3),U(4,gY,6,0,"th",4)(5,_Y,7,8,"td",5),Ao(),Io(6,6),U(7,xY,6,0,"th",7)(8,vY,7,4,"td",8),Ao(),Io(9,9),U(10,bY,6,0,"th",10)(11,wY,3,2,"td",5),Ao(),Io(12,11),U(13,MY,6,0,"th",4)(14,kY,3,2,"td",5),Ao(),Io(15,12),U(16,OY,6,0,"th",13)(17,DY,3,2,"td",14),Ao(),Io(18,15),U(19,IY,6,0,"th",16)(20,RY,3,2,"td",17),Ao(),U(21,NY,1,0,"tr",18)(22,LY,1,0,"tr",19),l()(),c(23,"div",20)(24,"div",21)(25,"div",22)(26,"mat-icon"),d(27,"receipt"),l(),c(28,"span"),d(29),l()(),c(30,"div",23)(31,"div",24)(32,"mat-icon",25),d(33,"trending_up"),l(),c(34,"div",26)(35,"div",27),d(36,"Income"),l(),c(37,"div",28),d(38),l()()(),c(39,"div",24)(40,"mat-icon",29),d(41,"trending_down"),l(),c(42,"div",26)(43,"div",27),d(44,"Expense"),l(),c(45,"div",30),d(46),l()()(),c(47,"div",31)(48,"mat-icon"),d(49,"account_balance_wallet"),l(),c(50,"div",26)(51,"div",27),d(52,"Net"),l(),c(53,"div",32),d(54),l()()()()()(),c(55,"div",33)(56,"div",34),Ge(57,BY,28,13,"div",35,hY),l()(),c(59,"div",36)(60,"div",21)(61,"div",22)(62,"mat-icon"),d(63,"receipt"),l(),c(64,"span"),d(65),l()(),c(66,"div",23)(67,"div",24)(68,"mat-icon",25),d(69,"trending_up"),l(),c(70,"div",26)(71,"div",27),d(72,"Income"),l(),c(73,"div",28),d(74),l()()(),c(75,"div",24)(76,"mat-icon",29),d(77,"trending_down"),l(),c(78,"div",26)(79,"div",27),d(80,"Expense"),l(),c(81,"div",30),d(82),l()()(),c(83,"div",31)(84,"mat-icon"),d(85,"account_balance_wallet"),l(),c(86,"div",26)(87,"div",27),d(88,"Net"),l(),c(89,"div",32),d(90),l()()()()()(),U(91,VY,12,1,"div",37),l()),i&2&&(h(2),M("dataSource",a.dataSource),h(19),M("matHeaderRowDef",a.displayedColumns),h(),M("matRowDefColumns",a.displayedColumns),h(7),ae("",a.getTransactionCount()," transactions"),h(9),ae("\u20B9",a.getTotalIncome().toLocaleString(),""),h(8),ae("\u20B9",a.getTotalExpense().toLocaleString(),""),h(7),Ct(a.getNetAmount()>=0?"net-positive":"net-negative"),h(),_n(" ",a.getNetAmount()>=0?"+":"","\u20B9",a.getNetAmount().toLocaleString()," "),h(3),qe(a.dataSource.data),h(8),ae("",a.getTransactionCount()," transactions"),h(9),ae("\u20B9",a.getTotalIncome().toLocaleString(),""),h(8),ae("\u20B9",a.getTotalExpense().toLocaleString(),""),h(7),Ct(a.getNetAmount()>=0?"net-positive":"net-negative"),h(),_n(" ",a.getNetAmount()>=0?"+":"","\u20B9",a.getNetAmount().toLocaleString()," "),h(),M("ngIf",!(a.dataSource.data!=null&&a.dataSource.data.length)))},dependencies:[dt,Uc,Yc,on,rr,zc,sn,wi,Nt,mn,lt,iy,ay,ly,oy,ry,dy,sy,cy,my,uy,S0,FM,En,Ci],styles:[".table-container[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#cbd5e1 #f1f5f9}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}@media (max-width: 768px){.table-container[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;min-width:800px}@media (max-width: 640px){table[_ngcontent-%COMP%]{min-width:600px}}.mat-header-cell[_ngcontent-%COMP%]{background:#f8fafc;border-bottom:2px solid #e2e8f0;font-weight:600;color:#374151;padding:12px 16px;position:sticky;top:0;z-index:10;cursor:pointer;transition:all .2s ease;white-space:nowrap}@media (min-width: 768px){.mat-header-cell[_ngcontent-%COMP%]{padding:16px 24px}}.mat-header-cell[_ngcontent-%COMP%]:hover{background:#f1f5f9}.mat-header-cell[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}@media (min-width: 768px){.mat-header-cell[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{gap:8px}}.mat-header-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;color:#6b7280}@media (min-width: 768px){.mat-header-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}.mat-header-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:600}@media (min-width: 768px){.mat-header-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}}.mat-sort-header-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}@media (min-width: 768px){.mat-sort-header-container[_ngcontent-%COMP%]{gap:8px}}.mat-sort-header-container[_ngcontent-%COMP%]   .mat-sort-header-arrow[_ngcontent-%COMP%]{color:#6b7280;opacity:.5;transition:all .2s ease}.mat-sort-header-container[_ngcontent-%COMP%]   .mat-sort-header-indicator[_ngcontent-%COMP%]{color:#3b82f6}.mat-header-cell.mat-sort-header-sorted[_ngcontent-%COMP%]{background:#eff6ff;border-bottom-color:#3b82f6}.mat-header-cell.mat-sort-header-sorted[_ngcontent-%COMP%]   .mat-sort-header-arrow[_ngcontent-%COMP%]{opacity:1;color:#3b82f6}.mat-header-cell.mat-sort-header-sorted[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1e40af}.mat-cell[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #f1f5f9;vertical-align:middle}@media (min-width: 768px){.mat-cell[_ngcontent-%COMP%]{padding:16px 24px}}.mat-cell[_ngcontent-%COMP%]:last-child{border-right:none}.mat-row[_ngcontent-%COMP%]{transition:all .2s ease}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f8fafc;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.mat-row[_ngcontent-%COMP%]:last-child   .mat-cell[_ngcontent-%COMP%]{border-bottom:none}.date-cell[_ngcontent-%COMP%]   .date-main[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#374151;margin-bottom:2px}@media (min-width: 768px){.date-cell[_ngcontent-%COMP%]   .date-main[_ngcontent-%COMP%]{font-size:14px}}.date-cell[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]{font-size:11px;color:#6b7280}@media (min-width: 768px){.date-cell[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]{font-size:12px}}.category-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:2px 8px;border-radius:12px;font-size:11px;font-weight:500;background:#f3f4f6;color:#374151;border:1px solid #e5e7eb}@media (min-width: 768px){.category-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:12px}}.payee-cell[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{font-weight:500;color:#1f2937;max-width:80px;word-wrap:break-word;line-height:1.4;font-size:12px}@media (min-width: 768px){.payee-cell[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{max-width:120px;font-size:14px}}.payee-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:2px solid #3b82f6;border-radius:6px;font-size:12px;transition:all .2s ease}@media (min-width: 768px){.payee-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;border-radius:8px;font-size:14px}}.payee-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}.amount-cell[_ngcontent-%COMP%]{text-align:right}.amount-cell[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-weight:700;font-size:12px}@media (min-width: 768px){.amount-cell[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:14px}}.amount-cell[_ngcontent-%COMP%]   .amount-value.income[_ngcontent-%COMP%]{color:#059669}.amount-cell[_ngcontent-%COMP%]   .amount-value.expense[_ngcontent-%COMP%]{color:#dc2626}.amount-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:2px solid #3b82f6;border-radius:6px;font-size:12px;text-align:right;transition:all .2s ease}@media (min-width: 768px){.amount-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;border-radius:8px;font-size:14px}}.amount-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:2px 6px;border-radius:10px;font-size:10px;font-weight:500}@media (min-width: 768px){.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:12px}}.status-cell[_ngcontent-%COMP%]   .status-badge.income[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-cell[_ngcontent-%COMP%]   .status-badge.expense[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.status-cell[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:2px solid #3b82f6;border-radius:6px;font-size:12px;transition:all .2s ease}@media (min-width: 768px){.status-cell[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border-radius:8px;font-size:14px}}.status-cell[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}.actions-cell[_ngcontent-%COMP%]{text-align:center}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:4px}@media (min-width: 768px){.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{gap:8px}}.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:32px;height:32px}@media (min-width: 768px){.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:40px;height:40px}}.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}@media (min-width: 768px){.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px;margin-bottom:12px;box-shadow:0 1px 3px #0000001a;transition:all .2s ease}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-1px)}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:14px;margin-bottom:2px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{text-align:right}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:700;font-size:14px;margin-bottom:2px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .amount.income[_ngcontent-%COMP%]{color:#059669}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .amount.expense[_ngcontent-%COMP%]{color:#dc2626}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:11px;color:#9ca3af}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 8px;border-radius:12px;font-size:11px;font-weight:500}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .type-badge.income[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .type-badge.expense[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px;margin-right:4px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:4px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:32px;height:32px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}@media (max-width: 640px){.hidden-mobile[_ngcontent-%COMP%]{display:none!important}.table-container[_ngcontent-%COMP%]{border-radius:8px;margin:0 -8px}.mobile-card-view[_ngcontent-%COMP%]{padding:12px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]{margin-bottom:8px;padding:12px}}@media (max-width: 768px){.hidden-tablet[_ngcontent-%COMP%]{display:none!important}}.empty-state[_ngcontent-%COMP%]{padding:2rem 1rem}@media (min-width: 768px){.empty-state[_ngcontent-%COMP%]{padding:3rem 2rem}}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem}@media (min-width: 768px){.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem}}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}@media (min-width: 768px){.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}@media (min-width: 768px){.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.pagination-container[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:16px;margin-top:16px}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{background:transparent;border:none}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]     .mat-paginator-container{justify-content:center}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]     .mat-paginator-page-size{margin-right:16px}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]     .mat-paginator-range-actions{margin-left:16px}.fixed-footer[_ngcontent-%COMP%]{background:#f9fafb;border-top:1px solid #e5e7eb;padding:12px 16px;position:sticky;bottom:0;z-index:10;box-shadow:0 -2px 8px #0000001a}@media (min-width: 768px){.fixed-footer[_ngcontent-%COMP%]{padding:16px 24px}}.fixed-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;min-width:800px}@media (max-width: 768px){.fixed-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{min-width:auto;flex-direction:column;gap:12px}}.fixed-footer[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.fixed-footer[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280;font-size:16px;width:16px;height:16px}.fixed-footer[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#374151}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px}@media (max-width: 768px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]{gap:16px;width:100%;justify-content:space-between}}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}@media (max-width: 768px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]{gap:4px}}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}@media (max-width: 768px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   mat-icon.income[_ngcontent-%COMP%]{color:#059669}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   mat-icon.expense[_ngcontent-%COMP%]{color:#dc2626}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-content[_ngcontent-%COMP%]{text-align:right}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-content[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;margin-bottom:2px}@media (max-width: 768px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-content[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{font-size:11px}}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-content[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{font-size:14px;font-weight:600}@media (max-width: 768px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-content[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{font-size:12px}}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-content[_ngcontent-%COMP%]   .total-value.income[_ngcontent-%COMP%]{color:#059669}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-content[_ngcontent-%COMP%]   .total-value.expense[_ngcontent-%COMP%]{color:#dc2626}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-content[_ngcontent-%COMP%]   .total-value.net-positive[_ngcontent-%COMP%]{color:#059669}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .total-item[_ngcontent-%COMP%]   .total-content[_ngcontent-%COMP%]   .total-value.net-negative[_ngcontent-%COMP%]{color:#dc2626}.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .net-separator[_ngcontent-%COMP%]{border-left:1px solid #d1d5db;padding-left:24px;margin-left:8px}@media (max-width: 768px){.fixed-footer[_ngcontent-%COMP%]   .totals-section[_ngcontent-%COMP%]   .net-separator[_ngcontent-%COMP%]{padding-left:12px;margin-left:4px}}@media (max-width: 1024px){.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:12px 16px}.payee-cell[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{max-width:100px}}@media (max-width: 768px){.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:8px 12px}.mat-header-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.mat-header-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.payee-cell[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{max-width:80px;font-size:13px}.amount-cell[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:13px}.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 8px;font-size:11px}.actions-cell[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:32px;height:32px}}@media (max-width: 640px){.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:6px 8px}.mat-header-cell[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{flex-direction:column;gap:4px;text-align:center}.mat-header-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px}.mat-header-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}.payee-cell[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{max-width:60px;font-size:12px}.amount-cell[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:12px}.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:2px 6px;font-size:10px}.actions-cell[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:28px;height:28px}}"]});let e=n;return e})();var Ns=ra(_a());var zY=(e,n)=>n.value,UY=(e,n)=>n.id,YY=(e,n)=>n.type;function WY(e,n){if(e&1&&(c(0,"span",22),d(1),l()),e&2){let r=w();h(),ae("/ ",r.currentYearCount,"")}}function HY(e,n){if(e&1){let r=ue();c(0,"mat-chip",29),F("removed",function(){let i=N(r).$implicit;return L(i.onRemove())}),d(1),c(2,"mat-icon",30),d(3,"cancel"),l()()}if(e&2){let r=n.$implicit;M("removable",!0),h(),ae(" ",r.label," ")}}function $Y(e,n){if(e&1&&(c(0,"div",23)(1,"div",24)(2,"div",25)(3,"mat-icon",26),d(4,"filter_alt"),l(),c(5,"span",27),d(6,"Active Filters"),l()(),Ge(7,HY,4,2,"mat-chip",28,YY),l()()),e&2){let r=w();h(7),qe(r.getActiveFilters())}}function GY(e,n){if(e&1&&(c(0,"mat-option",18),d(1),l()),e&2){let r=n.$implicit;M("value",r),h(),ae(" ",r," ")}}function qY(e,n){if(e&1&&(c(0,"mat-option",18),d(1),l()),e&2){let r=n.$implicit;M("value",r.value),h(),ae(" ",r.label," ")}}function XY(e,n){if(e&1&&(c(0,"mat-option",18),d(1),l()),e&2){let r=n.$implicit;M("value",r.id),h(),ae(" ",r.name," ")}}var NM=(()=>{let n=class n{constructor(t,i){this.notificationService=t,this.store=i,this.transactions=[],this.searchTerm="",this.selectedCategory="all",this.selectedType="all",this.selectedYear=(0,Ns.default)().year(),this.selectedMonth=(0,Ns.default)().month(),this.selectedMonthOption="all",this.selectedDate=null,this.selectedDateRange=null,this.filteredCount=0,this.currentYearCount=0,this.searchTermChange=new Ve,this.selectedCategoryChange=new Ve,this.selectedTypeChange=new Ve,this.selectedYearChange=new Ve,this.addTransaction=new Ve,this.importTransactions=new Ve,this.openFilterDialog=new Ve,this.viewAnalytics=new Ve,this.expandTable=new Ve,this.clearAllFilters=new Ve,this.selectedDateRangeChange=new Ve,this.categories=[],this.availableYears=[],this.months=[],this.subscription=new cn,this.currentYear=(0,Ns.default)().year()}ngOnInit(){this.loadCategoriesFromStore(),this.updateAvailableYears(),this.updateMonths()}ngOnDestroy(){this.subscription.unsubscribe()}ngOnChanges(t){t.transactions&&this.updateAvailableYears()}loadCategoriesFromStore(){this.subscription.add(this.store.select(zi).subscribe(t=>{this.categories=t.map(i=>({id:i.id||"",name:i.name})).sort((i,a)=>i.name.localeCompare(a.name))}))}updateCategories(){if(this.transactions&&this.transactions.length>0){let t=new Set(this.transactions.map(i=>({id:i.categoryId,name:i.category})));this.categories=Array.from(t).sort((i,a)=>i.name.localeCompare(a.name))}else this.categories=[]}updateAvailableYears(){isNaN(this.selectedYear)&&(this.selectedYear=this.currentYear),this.availableYears=Array.from({length:10},(t,i)=>this.currentYear-i)}updateMonths(){this.months=[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}]}onSearchChange(t){let i=t.target.value;this.searchTermChange.emit(i)}onCategoryChange(t){let i=t.target.value;this.selectedCategoryChange.emit(i)}onTypeChange(t){let i=t.target.value;this.selectedTypeChange.emit(i)}onSelectedYearChange(t){let i=t.target.value;if(this.selectedYear=i,this.selectedYearChange.emit(i),this.selectedMonthOption!=="all"){let a=parseInt(this.selectedMonthOption);this.selectedDateRange={start:(0,Ns.default)().year(i).month(a).startOf("month").toDate(),end:(0,Ns.default)().year(i).month(a).endOf("month").toDate()},this.selectedDateRangeChange.emit(this.selectedDateRange)}}onSelectedMonthChange(t){if(this.selectedMonthOption=t,t!=="all"){let i=parseInt(t);this.selectedDateRange={start:(0,Ns.default)().year(this.selectedYear).month(i).startOf("month").toDate(),end:(0,Ns.default)().year(this.selectedYear).month(i).endOf("month").toDate()},this.selectedDateRangeChange.emit(this.selectedDateRange)}else this.selectedDateRange=null,this.selectedDateRangeChange.emit(null)}onAddTransaction(){this.addTransaction.emit()}onImportTransactions(){this.importTransactions.emit()}onOpenFilterDialog(){this.openFilterDialog.emit()}onViewAnalytics(){this.viewAnalytics.emit()}onExpandTable(){this.expandTable.emit()}onClearAllFilters(){this.selectedDateRange=null,this.selectedDate=null,this.searchTerm="",this.selectedCategory="all",this.selectedType="all",this.selectedYear=this.currentYear,this.selectedMonthOption="all",this.clearAllFilters.emit()}onClearSearchFilter(){this.searchTerm="",this.searchTermChange.emit("")}onClearYearFilter(){this.selectedYear=this.currentYear,this.selectedYearChange.emit(this.currentYear)}onClearMonthFilter(){this.selectedMonthOption="all",this.onSelectedMonthChange("all")}onClearCategoryFilter(){this.selectedCategory="all",this.selectedCategoryChange.emit("all")}onClearTypeFilter(){this.selectedType="all",this.selectedTypeChange.emit("all")}getActiveFilters(){var i,a;let t=[];if(this.searchTerm&&t.push({type:"search",label:`Search: "${this.searchTerm}"`,onRemove:()=>this.onClearSearchFilter()}),this.selectedYear!==this.currentYear&&t.push({type:"year",label:`Year: ${this.selectedYear}`,onRemove:()=>this.onClearYearFilter()}),this.selectedMonthOption!=="all"){let o=(i=this.months.find(s=>s.value===parseInt(this.selectedMonthOption)))==null?void 0:i.label;t.push({type:"month",label:`Month: ${o}`,onRemove:()=>this.onClearMonthFilter()})}if(this.selectedCategory!=="all"){let o=(a=this.categories.find(s=>s.id===this.selectedCategory))==null?void 0:a.name;t.push({type:"category",label:`Category: ${o||"Unknown"}`,onRemove:()=>this.onClearCategoryFilter()})}return this.selectedType!=="all"&&t.push({type:"type",label:`Type: ${this.selectedType}`,onRemove:()=>this.onClearTypeFilter()}),t}hasActiveFilters(){return!!(this.selectedDate||this.selectedDateRange||this.searchTerm||this.selectedCategory!=="all"||this.selectedType!=="all"||this.selectedYear!==this.currentYear||this.selectedMonthOption!=="all")}getCurrentYear(){return this.currentYear}};n.\u0275fac=function(i){return new(i||n)(T(vt),T(Ft))},n.\u0275cmp=Se({type:n,selectors:[["search-filter"]],inputs:{transactions:"transactions",searchTerm:"searchTerm",selectedCategory:"selectedCategory",selectedType:"selectedType",selectedYear:"selectedYear",selectedMonth:"selectedMonth",selectedMonthOption:"selectedMonthOption",selectedDate:"selectedDate",selectedDateRange:"selectedDateRange",filteredCount:"filteredCount",currentYearCount:"currentYearCount"},outputs:{searchTermChange:"searchTermChange",selectedCategoryChange:"selectedCategoryChange",selectedTypeChange:"selectedTypeChange",selectedYearChange:"selectedYearChange",addTransaction:"addTransaction",importTransactions:"importTransactions",openFilterDialog:"openFilterDialog",viewAnalytics:"viewAnalytics",expandTable:"expandTable",clearAllFilters:"clearAllFilters",selectedDateRangeChange:"selectedDateRangeChange"},features:[Xn],decls:73,vars:9,consts:[[1,"bg-white","rounded-xl","border","border-gray-100","shadow-sm","p-4"],[1,"flex","items-center","justify-between","mb-2"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","space-x-2"],[1,"w-2","h-2","bg-blue-500","rounded-full"],[1,"text-sm","font-medium","text-gray-700"],[1,"flex","items-center","space-x-1"],[1,"text-sm","font-semibold","text-gray-900"],["class","text-sm text-gray-500",4,"ngIf"],["mat-stroked-button","","matTooltip","Import transactions",1,"rounded-lg","transition-all","duration-200","shadow-sm","hover:shadow-md",3,"click"],[1,"text-md"],["mat-stroked-button","","matTooltip","Add transaction",1,"transition-all","duration-200","shadow-sm","hover:shadow-md","!bg-primary-500","!text-white",3,"click"],["class","mb-3 pb-2 border-b border-gray-100",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-4","w-full"],["appearance","fill",1,"w-full"],["matInput","","placeholder","Search transactions...",3,"ngModelChange","ngModel"],["matSuffix","",1,"text-gray-400","text-sm"],[3,"ngModelChange","ngModel"],[3,"value"],["value","all"],["value","income"],["value","expense"],[1,"text-sm","text-gray-500"],[1,"mb-3","pb-2","border-b","border-gray-100"],[1,"flex","flex-wrap","gap-1"],[1,"flex","items-center","space-x-1","ml-2"],[1,"text-blue-500","text-xs"],[1,"text-xs","text-gray-600","font-medium"],[1,"bg-blue-50","text-blue-700","border-blue-200","text-xs","h-6",3,"removable"],[1,"bg-blue-50","text-blue-700","border-blue-200","text-xs","h-6",3,"removed","removable"],["matChipRemove","",1,"text-blue-500","text-xs"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),se(4,"div",4),c(5,"span",5),d(6),l()(),c(7,"div",6)(8,"span",7),d(9),l(),U(10,WY,2,1,"span",8),l()(),c(11,"div",3)(12,"button",9),F("click",function(){return a.onImportTransactions()}),c(13,"mat-icon",10),d(14,"file_upload"),l(),d(15,"Import "),l(),c(16,"button",11),F("click",function(){return a.onAddTransaction()}),c(17,"mat-icon",10),d(18,"add"),l(),d(19,"Add Transaction "),l()()(),U(20,$Y,9,0,"div",12),c(21,"div",13)(22,"div")(23,"mat-form-field",14)(24,"mat-label"),d(25,"Search transactions..."),l(),c(26,"input",15),F("ngModelChange",function(s){return a.searchTermChange.emit(s)}),l(),c(27,"mat-icon",16),d(28,"search"),l()()(),c(29,"div")(30,"mat-form-field",14)(31,"mat-label"),d(32,"Year"),l(),c(33,"mat-select",17),F("ngModelChange",function(s){return a.selectedYearChange.emit(s)}),Ge(34,GY,2,2,"mat-option",18,Ti),l(),c(36,"mat-icon",16),d(37,"calendar_today"),l()()(),c(38,"div")(39,"mat-form-field",14)(40,"mat-label"),d(41,"Month"),l(),c(42,"mat-select",17),F("ngModelChange",function(s){return a.onSelectedMonthChange(s)}),c(43,"mat-option",19),d(44,"All Months"),l(),Ge(45,qY,2,2,"mat-option",18,zY),l(),c(47,"mat-icon",16),d(48,"date_range"),l()()(),c(49,"div")(50,"mat-form-field",14)(51,"mat-label"),d(52,"Category"),l(),c(53,"mat-select",17),F("ngModelChange",function(s){return a.selectedCategoryChange.emit(s)}),c(54,"mat-option",19),d(55,"All Categories"),l(),Ge(56,XY,2,2,"mat-option",18,UY),l(),c(58,"mat-icon",16),d(59,"category"),l()()(),c(60,"div")(61,"mat-form-field",14)(62,"mat-label"),d(63,"Type"),l(),c(64,"mat-select",17),F("ngModelChange",function(s){return a.selectedTypeChange.emit(s)}),c(65,"mat-option",19),d(66,"All Types"),l(),c(67,"mat-option",20),d(68,"Income"),l(),c(69,"mat-option",21),d(70,"Expense"),l()(),c(71,"mat-icon",16),d(72,"account_balance_wallet"),l()()()()()),i&2&&(h(6),ae(" ",a.getCurrentYear()," Transactions "),h(3),G(a.filteredCount),h(),M("ngIf",a.filteredCount!==a.currentYearCount),h(10),M("ngIf",a.hasActiveFilters()),h(6),M("ngModel",a.searchTerm),h(7),M("ngModel",a.selectedYear),h(),qe(a.availableYears),h(8),M("ngModel",a.selectedMonthOption),h(3),qe(a.months),h(8),M("ngModel",a.selectedCategory),h(3),qe(a.categories),h(8),M("ngModel",a.selectedType))},dependencies:[dt,on,sn,wi,Nt,lt,Or,Ia,us,cr,Xi,lo,En,Ib,Db]});let e=n;return e})();var QY=["tableSort"];function ZY(e,n){if(e&1){let r=ue();c(0,"mobile-transaction-list",2),F("editTransaction",function(i){N(r);let a=w();return L(a.editTransaction(i))})("deleteTransaction",function(i){N(r);let a=w();return L(a.deleteTransaction(i))})("addTransaction",function(){N(r);let i=w();return L(i.addTransactionDialog())})("importTransactions",function(){N(r);let i=w();return L(i.openImportDialog())})("searchTermChange",function(i){N(r);let a=w();return a.searchTerm=i,L(a.onSearchChange())})("selectedCategoryChange",function(i){N(r);let a=w();return a.selectedCategory=i,L(a.onCategoryChange())})("selectedTypeChange",function(i){N(r);let a=w();return a.selectedType=i,L(a.onTypeChange())})("selectedDateRangeChange",function(i){N(r);let a=w();return a.selectedDateRange=i,L(a.onCategoryChange())}),l()}if(e&2){let r=w();M("transactions",r.allTransactions)("searchTerm",r.searchTerm)("selectedCategory",r.selectedCategory)("selectedType",r.selectedType)("selectedDate",r.selectedDate)("selectedDateRange",r.selectedDateRange)}}function JY(e,n){e&1&&(c(0,"div",10)(1,"mat-icon",11),d(2,"compare_arrows"),l(),c(3,"span",12),d(4,"Transactions"),l()())}function eW(e,n){e&1&&(c(0,"div",10)(1,"mat-icon",11),d(2,"attach_money"),l(),c(3,"span",12),d(4,"Accounts"),l()())}function tW(e,n){e&1&&(c(0,"div",10)(1,"mat-icon",11),d(2,"local_offer"),l(),c(3,"span",12),d(4,"Categories"),l()())}function nW(e,n){e&1&&(c(0,"div",10)(1,"mat-icon",11),d(2,"analytics"),l(),c(3,"span",12),d(4,"Reports"),l()())}function iW(e,n){e&1&&(c(0,"div",10)(1,"mat-icon",11),d(2,"receipt_long"),l(),c(3,"span",12),d(4,"Tax"),l()())}function rW(e,n){e&1&&(c(0,"div",10)(1,"mat-icon",13),d(2,"note"),l(),c(3,"span",12),d(4,"Notes"),l()())}function aW(e,n){if(e&1){let r=ue();c(0,"mat-card",1)(1,"mat-tab-group",3),pt("selectedIndexChange",function(i){N(r);let a=w();return ut(a.selectedTabIndex,i)||(a.selectedTabIndex=i),L(i)}),c(2,"mat-tab",4),U(3,JY,5,0,"ng-template",5),c(4,"div",6)(5,"search-filter",7),F("searchTermChange",function(i){N(r);let a=w();return a.searchTerm=i,L(a.onSearchChange())})("selectedCategoryChange",function(i){N(r);let a=w();return a.selectedCategorySingle=i,L(a.onCategoryChange())})("selectedTypeChange",function(i){N(r);let a=w();return a.selectedType=i,L(a.onTypeChange())})("selectedYearChange",function(i){N(r);let a=w();return a.selectedYear=i,L(a.onYearChange())})("addTransaction",function(){N(r);let i=w();return L(i.addTransactionDialog())})("importTransactions",function(){N(r);let i=w();return L(i.openImportDialog())})("openFilterDialog",function(){N(r);let i=w();return L(i.openFilterDialog())})("viewAnalytics",function(){N(r);let i=w();return L(i.viewAnalytics())})("expandTable",function(){N(r);let i=w();return L(i.expandTable())})("selectedDateRangeChange",function(i){N(r);let a=w();return a.selectedDateRange=i,L(a.onDateRangeChange())})("clearAllFilters",function(){N(r);let i=w();return L(i.clearAllFilters())}),l(),c(6,"transaction-table",8),F("editTransaction",function(i){N(r);let a=w();return L(a.editTransaction(i))})("deleteTransaction",function(i){N(r);let a=w();return L(a.deleteTransaction(i))})("startRowEdit",function(i){N(r);let a=w();return L(a.startRowEdit(i))})("saveRowEdit",function(i){N(r);let a=w();return L(a.saveRowEdit(i))})("cancelRowEdit",function(i){N(r);let a=w();return L(a.cancelRowEdit(i))})("addTransaction",function(){N(r);let i=w();return L(i.addTransactionDialog())}),l()()(),c(7,"mat-tab"),U(8,eW,5,0,"ng-template",5),c(9,"div",9),se(10,"user-accounts"),l()(),c(11,"mat-tab"),U(12,tW,5,0,"ng-template",5),c(13,"div",9),se(14,"user-category"),l()(),c(15,"mat-tab"),U(16,nW,5,0,"ng-template",5),se(17,"app-reports"),l(),c(18,"mat-tab"),U(19,iW,5,0,"ng-template",5),se(20,"app-tax"),l(),c(21,"mat-tab"),U(22,rW,5,0,"ng-template",5),se(23,"app-notes"),l()()()}if(e&2){let r=w();h(),mt("selectedIndex",r.selectedTabIndex),h(4),M("transactions",r.allTransactions)("searchTerm",r.searchTerm)("selectedCategory",r.selectedCategorySingle)("selectedType",r.selectedType)("selectedYear",r.selectedYear)("selectedMonth",r.selectedMonth)("selectedMonthOption",r.selectedMonthOption)("selectedDate",r.selectedDate)("selectedDateRange",r.selectedDateRange)("filteredCount",r.getFilteredCount())("currentYearCount",r.getCurrentYearCount()),h(),M("transactions",r.allTransactions)("searchTerm",r.searchTerm)("selectedCategory",r.selectedCategory)("selectedType",r.selectedType)("selectedDate",r.selectedDate)("selectedDateRange",r.selectedDateRange)}}var Jp=(()=>{let n=class n{get selectedCategorySingle(){return this.selectedCategory.includes("all")?"all":this.selectedCategory[0]||"all"}set selectedCategorySingle(t){this.selectedCategory=[t]}constructor(t,i,a,o,s,m,u,f,g){this.loaderService=t,this._dialog=i,this.auth=a,this.notificationService=o,this.filterService=s,this.store=m,this.dateService=u,this.breakpointService=f,this.router=g,this.dataSource=new ec,this.displayedColumns=["Payee","Amount","Status","Type","Date","Actions"],this.pageSizeOptions=[...Ot.PAGINATION.PAGE_SIZE_OPTIONS],this.selectedTx=null,this.selectedTabIndex=0,this.selectedDate=null,this.selectedDateRange=null,this.allTransactions=[],this.dateSubscription=new cn,this.searchTerm="",this.selectedCategory=["all"],this.selectedType="all",this.selectedYear=(0,Hi.default)().year(),this.selectedMonth=(0,Hi.default)().month(),this.selectedMonthOption="all",this.showFullTable=!1,this.isTransactionsPage=!1,this.isTransactionsPage=!!this.router.url.includes("transactions"),this.transactions$=this.store.select(Ji),this.transactionsLoading$=this.store.select(Hu),this.transactionsError$=this.store.select(sC)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnInit(){this.clearDateFilter(),this.loadTransactions(),this.subscribeToDateSelection(),this.subscribeToStoreData()}ngOnDestroy(){this.dateSubscription.unsubscribe()}loadTransactions(){var i;this.loaderService.show();let t=(i=this.auth.currentUser)==null?void 0:i.uid;t&&(this.store.dispatch(Gi({userId:t})),this.store.dispatch(zr({userId:t})))}subscribeToStoreData(){this.dateSubscription.add(this.transactions$.subscribe(t=>{this.allTransactions=t.sort((i,a)=>{var m,u;let o=this.dateService.toDate(i.date),s=this.dateService.toDate(a.date);return((m=s==null?void 0:s.getTime())!=null?m:0)-((u=o==null?void 0:o.getTime())!=null?u:0)}),this.applyDateFilter(),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.loaderService.hide()})),this.dateSubscription.add(this.transactionsError$.subscribe(t=>{t&&(console.error("Error loading transactions:",t),this.notificationService.error("Failed to load transactions"),this.loaderService.hide())}))}subscribeToDateSelection(){this.dateSubscription.add(this.filterService.selectedDate$.subscribe(t=>{t&&(this.selectedDate=t,this.selectedDateRange=null,this.applyDateFilter(),this.selectedTabIndex=0)})),this.dateSubscription.add(this.filterService.selectedDateRange$.subscribe(t=>{t&&(this.selectedDateRange=t,this.selectedDate=null,this.applyDateFilter())})),this.dateSubscription.add(this.filterService.categoryFilter$.subscribe(t=>{if(t){this.selectedCategory=[t.categoryId];let i=new Date(t.year,t.month,1),a=new Date(t.year,t.month+1,0);this.selectedDateRange={startDate:i,endDate:a},this.selectedDate=null,this.applyDateFilter(),this.notificationService.success(`Showing category transactions for ${t.monthName} ${t.year}`)}}))}applyDateFilter(){var i,a;let t=[...this.allTransactions];if(this.selectedDate){let o=this.formatDate(this.selectedDate);t=t.filter(s=>{let m=this.dateService.toDate(s.date);return m?this.formatDate(m)===o:!1}),this.notificationService.success(`Showing transactions for ${(0,Hi.default)(this.selectedDate).format("MMM DD, YYYY")}`)}else if(this.selectedDateRange&&((i=this.selectedDateRange)!=null&&i.startDate)&&((a=this.selectedDateRange)!=null&&a.endDate)){let o=(0,Hi.default)(this.selectedDateRange.startDate).startOf("day").toDate(),s=(0,Hi.default)(this.selectedDateRange.endDate).endOf("day").toDate();t=t.filter(f=>{let g=this.dateService.toDate(f.date);return g?g>=o&&g<=s:!1});let m=(0,Hi.default)(this.selectedDateRange.startDate).format("MMM DD, YYYY"),u=(0,Hi.default)(this.selectedDateRange.endDate).format("MMM DD, YYYY");this.notificationService.success(`Showing transactions from ${m} to ${u}`)}t=this.applySearchAndFilters(t),this.dataSource.data=t}applySearchAndFilters(t){return this.filterService.filterTransactionsWithCustomFilters(t,{searchTerm:this.searchTerm,selectedCategory:this.selectedCategory,selectedType:this.selectedType})}onSearchChange(){this.applyDateFilter()}onCategoryChange(){this.applyDateFilter()}onTypeChange(){this.applyDateFilter()}onYearChange(){this.applyDateFilter()}onDateRangeChange(){this.applyDateFilter()}formatDate(t){return(0,Hi.default)(t).format("YYYY-MM-DD")}clearDateFilter(){this.selectedDate=null,this.selectedDateRange=null,this.filterService.clearSelectedDate(),this.applyDateFilter()}clearAllFilters(){this.selectedDate=null,this.selectedDateRange=null,this.searchTerm="",this.selectedCategory=["all"],this.selectedType="all",this.selectedYear=(0,Hi.default)().year(),this.selectedMonth=(0,Hi.default)().month(),this.selectedMonthOption="all",this.filterService.clearSelectedDate(),this.applyDateFilter(),this.notificationService.success("All filters cleared")}editTransaction(t){this._dialog.open(Ad,{width:this.breakpointService.device.isMobile?"100vw":"600px",height:this.breakpointService.device.isMobile?"100vh":"auto",maxWidth:this.breakpointService.device.isMobile?"100vw":"95vw",panelClass:"full-screen-dialog",data:t}).afterClosed().subscribe(a=>{a&&this.loadTransactions()})}deleteTransaction(t){return me(this,null,function*(){var a;let i=(a=this.auth.currentUser)==null?void 0:a.uid;i&&t.id&&(this.store.dispatch(el({userId:i,transactionId:t.id})),this.notificationService.success("Transaction deleted successfully"))})}onLongPress(t){this.selectedTx=t}startRowEdit(t){t.originalValues={payee:t.payee,amount:t.amount,type:t.type},t.isEditing=!0}saveRowEdit(t){var s;if(!t.payee||!t.payee.trim()){this.notificationService.error("Payee cannot be empty");return}let i=parseFloat(t.amount);if(!i||i<=0){this.notificationService.error("Amount must be a positive number");return}if(!t.type||t.type!=="income"&&t.type!=="expense"){this.notificationService.error("Please select a valid transaction type");return}let a={payee:t.payee.trim(),amount:i,type:t.type},o=(s=this.auth.currentUser)==null?void 0:s.uid;o&&t.id&&(this.store.dispatch(ns({userId:o,transactionId:t.id,transaction:a})),this.notificationService.success("Transaction updated successfully"),t.isEditing=!1,delete t.originalValues)}cancelRowEdit(t){t.payee=t.originalValues.payee,t.amount=t.originalValues.amount,t.type=t.originalValues.type,t.isEditing=!1,delete t.originalValues}openImportDialog(){this._dialog.open(Gp,{width:"600px",maxWidth:"95vw"}).afterClosed().subscribe(i=>{i&&i.length&&this.importTransactions(i)})}importTransactions(t){return me(this,null,function*(){var a;this.loaderService.show();let i=(a=this.auth.currentUser)==null?void 0:a.uid;if(!i){this.notificationService.error("User not authenticated"),this.loaderService.hide();return}try{let o=0,s=0;for(let m of t)try{let u=new Date(m.date);if(isNaN(u.getTime()))throw new Error("Invalid date format");let f={payee:m.payee,userId:i,accountId:m.accountId,amount:parseFloat(m.amount),type:m.type,category:(m==null?void 0:m.category)||"",categoryId:(m==null?void 0:m.categoryId)||"",date:u,notes:m.narration||"",isPending:!1,syncStatus:os.PENDING,lastSyncedAt:new Date,createdAt:new Date,updatedAt:new Date,createdBy:i,updatedBy:i,status:il.COMPLETED};this.store.dispatch(ts({userId:i,transaction:f})),o++}catch(u){console.error("Error importing transaction:",m,u),s++}this.loaderService.hide(),o>0&&(this.notificationService.success(`Successfully imported ${o} transactions`),this.store.dispatch(Gi({userId:i}))),s>0&&this.notificationService.warning(`${s} transactions failed to import`)}catch(o){this.loaderService.hide(),this.notificationService.error("Failed to import transactions"),console.error("Import error:",o)}})}exportToExcel(){if(!this.dataSource.data||this.dataSource.data.length===0){this.notificationService.error("No transactions to export");return}let t=this.dataSource.data.map(u=>({Date:(0,Hi.default)(u.date.seconds*1e3).format("MM/DD/YYYY"),Time:(0,Hi.default)(u.date.seconds*1e3).format("hh:mm A"),Payee:u.payee,Amount:u.amount,Type:u.type,Category:u.category,Notes:u.notes||""})),i=Object.keys(t[0]),a=[i.join(","),...t.map(u=>i.map(f=>`"${u[f]}"`).join(","))].join(`
`),o=new Blob([a],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),m=URL.createObjectURL(o);s.setAttribute("href",m),s.setAttribute("download",`transactions_${(0,Hi.default)().format("YYYY-MM-DD")}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(m),this.notificationService.success(`Exported ${t.length} transactions successfully`)}getCurrentMonthTransactions(){let t=(0,Hi.default)().month(),i=(0,Hi.default)().year();return this.dataSource.data.filter(a=>{let o=(0,Hi.default)(a.date.seconds*1e3);return o.month()===t&&o.year()===i}).length}getUniqueCategories(){return new Set(this.dataSource.data.map(i=>i.category)).size}getFilteredCount(){return this.dataSource.data.length}getTotalCount(){return this.allTransactions.length}getCurrentYearCount(){let t=(0,Hi.default)().year();return this.allTransactions.filter(i=>(0,Hi.default)(i.date.seconds*1e3).year()===t).length}getCurrentYear(){return(0,Hi.default)().year()}getCategoriesList(){let t=new Set(this.allTransactions.map(i=>i.category));return Array.from(t).sort()}getTypesList(){return[qn.INCOME,qn.EXPENSE]}refreshTransactions(){var i;let t=(i=this.auth.currentUser)==null?void 0:i.uid;t&&(this.store.dispatch(Gi({userId:t})),this.notificationService.success("Transactions refreshed"))}openFilterDialog(){this.notificationService.success("Filter functionality coming soon")}viewAnalytics(){this.notificationService.success("Analytics view coming soon")}addTransactionDialog(){this._dialog.open(Ad,{width:this.breakpointService.device.isMobile?"100vw":"600px",height:this.breakpointService.device.isMobile?"100vh":"auto",maxWidth:this.breakpointService.device.isMobile?"100vw":"95vw",panelClass:"full-screen-dialog",data:null}).afterClosed().subscribe(i=>{var a;if(i){let o=(a=this.auth.currentUser)==null?void 0:a.uid;o&&this.store.dispatch(Gi({userId:o}))}})}expandTable(){this.showFullTable=!this.showFullTable}};n.\u0275fac=function(i){return new(i||n)(T(ul),T(di),T(kt),T(vt),T(ws),T(Ft),T(Xt),T(bs),T(hn))},n.\u0275cmp=Se({type:n,selectors:[["transaction-list"]],viewQuery:function(i,a){if(i&1&&(Qt(Ob,5),Qt(QY,5)),i&2){let o;ft(o=ht())&&(a.paginator=o.first),ft(o=ht())&&(a.sort=o.first)}},decls:2,vars:1,consts:[[3,"transactions","searchTerm","selectedCategory","selectedType","selectedDate","selectedDateRange"],[1,"p-2","shadow-lg","border-0","rounded-xl","transaction-list-container","h-[83vh]"],[3,"editTransaction","deleteTransaction","addTransaction","importTransactions","searchTermChange","selectedCategoryChange","selectedTypeChange","selectedDateRangeChange","transactions","searchTerm","selectedCategory","selectedType","selectedDate","selectedDateRange"],["mat-stretch-tabs","false","mat-align-tabs","start",1,"custom-tabs",3,"selectedIndexChange","selectedIndex"],[1,"max-h-full"],["mat-tab-label",""],[1,"p-2","overflow-hidden"],[3,"searchTermChange","selectedCategoryChange","selectedTypeChange","selectedYearChange","addTransaction","importTransactions","openFilterDialog","viewAnalytics","expandTable","selectedDateRangeChange","clearAllFilters","transactions","searchTerm","selectedCategory","selectedType","selectedYear","selectedMonth","selectedMonthOption","selectedDate","selectedDateRange","filteredCount","currentYearCount"],[3,"editTransaction","deleteTransaction","startRowEdit","saveRowEdit","cancelRowEdit","addTransaction","transactions","searchTerm","selectedCategory","selectedType","selectedDate","selectedDateRange"],[1,"p-6"],[1,"flex","items-center","space-x-2","px-4","py-2"],[1,"text-primary"],[1,"font-semibold","text-gray-700","text-xs"],[1,"text-yellow-600"]],template:function(i,a){i&1&&U(0,ZY,1,6,"mobile-transaction-list",0)(1,aW,24,18,"mat-card",1),i&2&&Qe(a.breakpointService.device.isMobile||a.breakpointService.device.isTablePortrait&&a.isTransactionsPage?0:1)},dependencies:[gs,lt,Vh,Vo,Cs,Ol,Il,qp,Xp,Kp,IM,RM,NM],styles:[".hide-scrollbar[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none;overflow:-moz-scrollbars-none;-webkit-overflow-scrolling:touch}.hide-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.custom-tabs[_ngcontent-%COMP%]   .mat-mdc-tab-group[_ngcontent-%COMP%]   .mat-mdc-tab-header[_ngcontent-%COMP%]{border-bottom:2px solid #e5e7eb}.custom-tabs[_ngcontent-%COMP%]   .mat-mdc-tab-group[_ngcontent-%COMP%]   .mat-mdc-tab-header[_ngcontent-%COMP%]   .mat-mdc-tab-label-container[_ngcontent-%COMP%]   .mat-mdc-tab-label[_ngcontent-%COMP%]{min-width:120px;padding:0}.custom-tabs[_ngcontent-%COMP%]   .mat-mdc-tab-group[_ngcontent-%COMP%]   .mat-mdc-tab-header[_ngcontent-%COMP%]   .mat-mdc-tab-label-container[_ngcontent-%COMP%]   .mat-mdc-tab-label.mat-mdc-tab-label-active[_ngcontent-%COMP%]{background-color:#f3f4f6;border-radius:8px 8px 0 0}.mat-mdc-table[_ngcontent-%COMP%]{background-color:#fff}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{font-weight:600;color:#374151;background-color:#fff;border-bottom:2px solid #e5e7eb;position:sticky;top:0;z-index:10}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:16px 24px;border-bottom:1px solid #f3f4f6}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]{transition:all .2s ease}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:inherit;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.table-container[_ngcontent-%COMP%]{height:100%;overflow:auto}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.transaction-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.transaction-list-container[_ngcontent-%COMP%]   .mat-mdc-tab-body-content[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.mat-mdc-card[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f!important;border-radius:16px!important;border:none!important}.mat-mdc-raised-button[_ngcontent-%COMP%]{border-radius:8px!important;font-weight:500!important;text-transform:none!important;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f!important}.mat-mdc-raised-button[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f!important}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{transition:all .2s ease}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{transform:translateY(-1px);box-shadow:0 4px 12px #3b82f626}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500;text-transform:capitalize}.status-badge.income[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-badge.expense[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.mat-mdc-row.editing[_ngcontent-%COMP%]{background-color:#eff6ff;border-left:4px solid #3b82f6}@media (max-width: 768px){.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:12px 16px}}"]});let e=n;return e})();var sW=(e,n)=>({"md:grid-cols-2 ":e,"md:gap-5":n});function cW(e,n){e&1&&se(0,"calendar-view",1)}function lW(e,n){e&1&&se(0,"user-category",3)(1,"user-accounts",4),e&2&&(M("home",!0),h(),M("home",!0))}function dW(e,n){e&1&&se(0,"transaction-list",5)}var z_=(()=>{let n=class n{constructor(t){this.breakpointService=t}};n.\u0275fac=function(i){return new(i||n)(T(bs))},n.\u0275cmp=Se({type:n,selectors:[["app-home"]],decls:4,vars:7,consts:[[1,"grid","grid-cols-1","gap-2","lg:grid-cols-7","lg:px-5","lg:gap-4","xl",3,"ngClass"],[1,"lg:col-span-2"],["class","lg:col-span-5",4,"ngIf"],[1,"lg:col-span-5",3,"home"],[3,"home"],[1,"lg:col-span-5"]],template:function(i,a){i&1&&(c(0,"section",0),U(1,cW,1,0,"calendar-view",1)(2,lW,2,2)(3,dW,1,0,"transaction-list",2),l()),i&2&&(M("ngClass",rm(4,sW,!a.breakpointService.device.isTablePortrait,!a.breakpointService.device.isTablePortrait)),h(),Qe(a.breakpointService.device.isTablePortrait?-1:1),h(),Qe(a.breakpointService.device.isMobile?2:-1),h(),M("ngIf",!a.breakpointService.device.isMobile))},dependencies:[Kr,dt,XC,Jp,Ol,Il]});let e=n;return e})();var mW=(e,n)=>n.title,uW=(e,n)=>n.step;function pW(e,n){if(e&1&&(c(0,"div",46)(1,"div",87)(2,"mat-icon"),d(3),l()(),c(4,"h3",88),d(5),l(),c(6,"p",89),d(7),l()()),e&2){let r=n.$implicit;h(3),G(r.icon),h(2),G(r.title),h(2),G(r.description)}}function fW(e,n){if(e&1&&(c(0,"div",53)(1,"div",90),d(2),l(),c(3,"div",91)(4,"mat-icon"),d(5),l()(),c(6,"h3",92),d(7),l(),c(8,"p",93),d(9),l()()),e&2){let r=n.$implicit;h(2),ae(" ",r.step," "),h(3),G(r.icon),h(2),G(r.title),h(2),G(r.description)}}var LM=(()=>{let n=class n{constructor(t,i){this.router=t,this.notificationService=i,this.features=[{icon:"account_balance",title:"Connect Bank",description:"Securely connect your bank accounts for automatic transaction tracking and real-time balance updates."},{icon:"pie_chart",title:"Smart Budgeting",description:"Create and manage budgets with intelligent spending alerts to keep you on track."},{icon:"category",title:"Sub Category",description:"Create and manage sub categories to track your spending."},{icon:"trending_up",title:"Real-Time Insights",description:"Get instant financial insights and trends with beautiful charts and analytics."},{icon:"flag",title:"Goal Tracking",description:"Set savings goals and track your progress with visual milestones."},{icon:"wifi_off",title:"Offline Access",description:"Access your data anytime, even without an internet connection."},{icon:"currency_exchange",title:"Multiple Currency Support",description:"Manage your finances in multiple currencies with ease."},{icon:"devices",title:"PWA - Multi-Platform Support",description:"Access your data on multiple devices web, android and ios"},{icon:"security",title:"Secure & Private",description:"Your financial data is protected with industry-standard security measures."},{icon:"cloud",title:"Cloud Sync",description:"Sync your data across all your devices with ease."}],this.howItWorks=[{step:"1",title:"Download & Sign Up",description:"Get the app from App Store or Play Store and create your account in seconds.",icon:"smartphone"},{step:"2",title:"Set Your Goals",description:"Define your financial goals and create personalized budgets.",icon:"flag"},{step:"3",title:"Track & Grow",description:"Monitor your progress and watch your savings grow with smart insights.",icon:"trending_up"}],this.testimonials=[{name:"Sarah Johnson",role:"Freelance Designer",content:"Money Manager helped me save $5,000 in just 6 months! The goal tracking feature is incredible.",avatar:"\u{1F469}\u200D\u{1F3A8}",rating:5,location:"San Francisco, CA"},{name:"Mike Chen",role:"Software Engineer",content:"Finally, a finance app that actually works offline and syncs perfectly across all my devices.",avatar:"\u{1F468}\u200D\u{1F4BB}",rating:5,location:"Seattle, WA"},{name:"Emma Davis",role:"Small Business Owner",content:"The real-time insights helped me identify spending patterns I never noticed before. Game changer!",avatar:"\u{1F469}\u200D\u{1F4BC}",rating:5,location:"Austin, TX"}],this.screenshots=[{title:"Dashboard Overview",description:"Get a complete view of your finances at a glance",image:"assets/images/screenshot/dashboard.png"},{title:"Smart Analytics",description:"Beautiful charts and insights to understand your spending",image:"assets/images/screenshot/analytics.png"},{title:"Goal Tracking",description:"Set and track your financial goals with visual progress",image:"assets/images/screenshot/goals.png"}],this.currentScreenshotIndex=0}ngOnInit(){}navigateToSignUp(){this.router.navigate(["/sign-in"])}navigateToSignIn(){this.router.navigate(["/sign-in"])}scrollToFeatures(){let t=document.getElementById("features");t&&t.scrollIntoView({behavior:"smooth"})}nextScreenshot(){this.currentScreenshotIndex=(this.currentScreenshotIndex+1)%this.screenshots.length}prevScreenshot(){this.currentScreenshotIndex=this.currentScreenshotIndex===0?this.screenshots.length-1:this.currentScreenshotIndex-1}setScreenshotIndex(t){this.currentScreenshotIndex=t}downloadAppStore(){this.notificationService.info("App Store link coming soon!")}downloadPlayStore(){this.notificationService.info("Play Store link coming soon!")}installPwa(){return me(this,null,function*(){this.notificationService.info("PWA installation will be triggered automatically when available.")})}onPwaInstallClicked(){console.log("PWA install clicked from prompt component"),this.notificationService.success("Installing Money Manager...")}onPwaInstallDismissed(){console.log("PWA install dismissed from prompt component"),this.notificationService.info("Installation cancelled")}};n.\u0275fac=function(i){return new(i||n)(T(hn),T(vt))},n.\u0275cmp=Se({type:n,selectors:[["app-landing"]],decls:160,vars:0,consts:[[1,"hero-section","min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-primary-50","via-white","to-primary-100","relative","overflow-hidden"],[1,"absolute","inset-0","overflow-hidden"],[1,"absolute","-top-40","-right-40","w-80","h-80","bg-primary/20","rounded-full","mix-blend-multiply","filter","blur-xl","opacity-70","animate-blob"],[1,"absolute","-bottom-40","-left-40","w-80","h-80","bg-primary/30","rounded-full","mix-blend-multiply","filter","blur-xl","opacity-70","animate-blob","animation-delay-2000"],[1,"absolute","top-40","left-40","w-80","h-80","bg-primary/25","rounded-full","mix-blend-multiply","filter","blur-xl","opacity-70","animate-blob","animation-delay-4000"],[1,"container","mx-auto","px-4","relative","z-10"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8","lg:gap-12","items-center"],[1,"text-center","lg:text-left"],[1,"mb-6"],[1,"text-3xl","sm:text-4xl","lg:text-5xl","xl:text-6xl","font-bold","text-gray-900","mb-4","leading-tight"],[1,"bg-gradient-to-r","from-primary","to-primary-600","bg-clip-text","text-transparent","block"],[1,"text-base","sm:text-lg","lg:text-xl","text-gray-600","mb-6","max-w-lg","mx-auto","lg:mx-0"],[1,"flex","flex-col","sm:flex-row","gap-3","justify-center","lg:justify-start","mb-8"],[1,"flex","items-center","justify-center","gap-3","px-8","py-4","bg-gradient-to-r","from-primary","to-primary-600","text-white","font-semibold","rounded-xl","shadow-lg","hover:shadow-xl","transition-all","duration-300","transform","hover:-translate-y-1",3,"click"],[1,"!text-[1.5rem]"],[1,"text-lg"],[1,"flex","justify-center","lg:justify-end"],[1,"relative"],[1,"w-56","h-[450px]","sm:w-64","sm:h-[500px]","lg:w-72","lg:h-[560px]","bg-gray-900","rounded-[2.5rem]","p-2","shadow-2xl"],[1,"w-full","h-full","bg-white","rounded-[2rem]","overflow-hidden"],[1,"h-5","bg-gradient-to-r","from-primary","to-primary-600","flex","items-center","justify-between","px-3","text-white","text-xs"],[1,"flex","items-center","gap-1"],[1,"w-3","h-1.5","bg-white/30","rounded-full"],[1,"p-3","h-full","bg-gradient-to-br","from-primary-50","to-primary-100"],[1,"text-center","mb-3"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center","mx-auto","mb-2"],["src","assets/icon/app-icon/icon-192x192.png","alt","Money Manager",1,"w-10","h-10"],[1,"text-xs","font-semibold","text-gray-800"],[1,"space-y-2"],[1,"bg-white","rounded-lg","p-2","shadow-sm"],[1,"flex","justify-between","items-center","mb-1"],[1,"text-xs","text-gray-600"],[1,"text-sm","font-bold","text-gray-800"],[1,"grid","grid-cols-2","gap-2"],[1,"text-xs","font-semibold","text-green-600"],[1,"text-xs","font-semibold","text-red-600"],[1,"text-xs","text-gray-600","mb-1"],[1,"w-full","bg-gray-200","rounded-full","h-1.5"],[1,"bg-gradient-to-r","from-primary","to-primary-600","h-1.5","rounded-full",2,"width","65%"],[1,"text-xs","text-gray-600","mt-1"],["id","features",1,"py-16","lg:py-20","bg-white"],[1,"container","mx-auto","px-4"],[1,"text-center","mb-12","lg:mb-16","flex","flex-col","items-center","justify-center"],[1,"text-2xl","sm:text-3xl","lg:text-4xl","font-bold","text-gray-900","mb-4"],[1,"text-base","sm:text-lg","text-gray-600","max-w-2xl","mx-auto"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","lg:gap-8"],[1,"group","p-6","lg:p-8","rounded-2xl","border","border-gray-200","hover:border-primary","hover:shadow-xl","transition-all","duration-300","transform","hover:-translate-y-2","bg-gradient-to-br","from-white","to-primary-50/30","hover:from-primary-50/50","hover:to-white"],[1,"py-20","bg-gradient-to-br","from-primary-50","to-white"],[1,"container-responsive","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-16","flex","flex-col","items-center","justify-center"],[1,"text-3xl","sm:text-4xl","md:text-5xl","font-bold","text-gray-900","mb-6"],[1,"text-lg","sm:text-xl","text-gray-600","max-w-3xl","mx-auto","leading-relaxed"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-8"],[1,"text-center","group","relative"],[1,"py-20","bg-gradient-to-r","from-primary","via-primary-600","to-primary"],[1,"container","mx-auto","text-center","px-4","flex","flex-col","items-center","justify-center"],[1,"text-3xl","sm:text-4xl","md:text-5xl","font-bold","text-white","mb-6"],[1,"text-xl","text-primary-100","mb-8","mx-auto","leading-relaxed"],[1,"flex","flex-wrap","items-center","justify-center","gap-6","mb-8"],[1,"flex","items-center","gap-2"],[1,"w-6","h-6","bg-primary-400","rounded-full","flex","items-center","justify-center"],[1,"text-white","text-xs"],[1,"text-primary-100","text-sm"],[1,"flex","flex-col","sm:flex-row","gap-4","justify-center"],[1,"flex","items-center","justify-center","gap-3","px-8","py-4","bg-white","text-primary","font-semibold","rounded-xl","shadow-lg","hover:shadow-xl","transform","hover:-translate-y-1","transition-all","duration-300",3,"click"],[1,"text-xl"],[1,"text-lg","font-bold"],[1,"py-12","bg-gray-900","text-white"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8","mb-8"],[1,"md:col-span-2"],[1,"flex","items-start","mb-4"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center","mr-3","bg-gradient-to-r","from-primary","to-primary-600"],["src","assets/icon/app-icon/icon-192x192.png","alt","Money Manager",1,"w-6","h-6"],[1,"text-xl","font-bold"],[1,"text-sm","text-gray-400"],[1,"text-gray-400","mb-4","max-w-md","leading-relaxed"],[1,"font-semibold","mb-4","text-primary-400"],["href","#features",1,"text-gray-400","hover:text-primary-400","transition-colors","duration-300"],["routerLink","/privacy-policy",1,"text-gray-400","hover:text-primary-400","transition-colors","duration-300"],["routerLink","/terms-conditions",1,"text-gray-400","hover:text-primary-400","transition-colors","duration-300"],["href","#",1,"text-gray-400","hover:text-primary-400","transition-colors","duration-300"],[1,"border-t","border-gray-800","pt-6"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","space-y-2","md:space-y-0"],[1,"text-gray-400","text-sm"],[1,"flex","items-center","space-x-4","text-sm","text-gray-400"],[1,"flex","items-center"],[1,"text-sm","mr-1"],[1,"text-3xl","lg:text-4xl","mb-4","group-hover:scale-110","transition-transform","duration-300","text-primary"],[1,"text-lg","lg:text-xl","font-semibold","text-gray-900","mb-3","group-hover:text-primary","transition-colors","duration-300"],[1,"text-sm","lg:text-base","text-gray-600","leading-relaxed"],[1,"w-16","h-16","bg-gradient-to-r","from-primary","to-primary-600","text-white","rounded-full","flex","items-center","justify-center","text-2xl","font-bold","mx-auto","mb-6","shadow-lg","group-hover:shadow-xl","transition-shadow","duration-300"],[1,"text-3xl","mb-4","group-hover:scale-110","transition-transform","duration-300","text-primary"],[1,"text-xl","font-semibold","text-gray-900","mb-4","group-hover:text-primary","transition-colors","duration-300"],[1,"text-gray-600","leading-relaxed"]],template:function(i,a){i&1&&(c(0,"section",0)(1,"div",1),se(2,"div",2)(3,"div",3)(4,"div",4),l(),c(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h1",9),d(10," Simple "),c(11,"span",10),d(12,"Money Management"),l()(),c(13,"p",11),d(14," Track your expenses, manage budgets, and keep your finances organized. "),l()(),c(15,"div",12)(16,"button",13),F("click",function(){return a.navigateToSignUp()}),c(17,"mat-icon",14),d(18,"person_add"),l(),c(19,"span",15),d(20,"Get Started Free"),l()()()(),c(21,"div",16)(22,"div",17)(23,"div",18)(24,"div",19)(25,"div",20)(26,"span"),d(27,"9:41"),l(),c(28,"div",21),se(29,"div",22),c(30,"span"),d(31,"\u{1F4F6}"),l(),c(32,"span"),d(33,"\u{1F50B}"),l()()(),c(34,"div",23)(35,"div",24)(36,"div",25),se(37,"img",26),l(),c(38,"h3",27),d(39,"Money Manager"),l()(),c(40,"div",28)(41,"div",29)(42,"div",30)(43,"span",31),d(44,"Total Balance"),l()(),c(45,"div",32),d(46,"\u20B92,450.00"),l()(),c(47,"div",33)(48,"div",29)(49,"div",31),d(50,"Income"),l(),c(51,"div",34),d(52,"\u20B93,200"),l()(),c(53,"div",29)(54,"div",31),d(55,"Expenses"),l(),c(56,"div",35),d(57,"\u20B91,850"),l()()(),c(58,"div",29)(59,"div",36),d(60,"Monthly Budget"),l(),c(61,"div",37),se(62,"div",38),l(),c(63,"div",39),d(64,"65% used"),l()()()()()()()()()()(),c(65,"section",40)(66,"div",41)(67,"div",42)(68,"h2",43),d(69," What You Can Do "),l(),c(70,"p",44),d(71," Essential tools to help you manage your money better. "),l()(),c(72,"div",45),Ge(73,pW,8,3,"div",46,mW),l()()(),c(75,"section",47)(76,"div",48)(77,"div",49)(78,"h2",50),d(79," Getting Started "),l(),c(80,"p",51),d(81," Simple steps to start managing your money "),l()(),c(82,"div",52),Ge(83,fW,10,4,"div",53,uW),l()()(),c(85,"section",54)(86,"div",55)(87,"h2",56),d(88," Ready to Get Started? "),l(),c(89,"p",57),d(90," Join thousands of users who are already managing their money smarter. "),l(),c(91,"div",58)(92,"div",59)(93,"div",60)(94,"span",61),d(95,"\u2713"),l()(),c(96,"span",62),d(97,"Free to use"),l()(),c(98,"div",59)(99,"div",60)(100,"span",61),d(101,"\u2713"),l()(),c(102,"span",62),d(103,"Works offline"),l()(),c(104,"div",59)(105,"div",60)(106,"span",61),d(107,"\u2713"),l()(),c(108,"span",62),d(109,"No ads"),l()()(),c(110,"div",63)(111,"button",64),F("click",function(){return a.navigateToSignUp()}),c(112,"mat-icon",65),d(113,"person_add"),l(),c(114,"span",66),d(115,"Get Started Free"),l()()()()(),c(116,"footer",67)(117,"div",41)(118,"div",68)(119,"div",69)(120,"div",70)(121,"div",71),se(122,"img",72),l(),c(123,"div")(124,"h3",73),d(125,"Money Manager"),l(),c(126,"p",74),d(127,"Simple Money Management"),l()()(),c(128,"p",75),d(129," Track expenses, manage budgets, and organize your finances with ease. "),l()(),c(130,"div")(131,"h4",76),d(132,"Quick Links"),l(),c(133,"ul",28)(134,"li")(135,"a",77),d(136,"Features"),l()(),c(137,"li")(138,"a",78),d(139,"Privacy Policy"),l()(),c(140,"li")(141,"a",79),d(142,"Terms of Service"),l()(),c(143,"li")(144,"a",80),d(145,"Contact"),l()()()()(),c(146,"div",81)(147,"div",82)(148,"div",83)(149,"p"),d(150,"\xA9 2024 Money Manager. All rights reserved."),l()(),c(151,"div",84)(152,"span",85)(153,"mat-icon",86),d(154,"security"),l(),d(155," Secure "),l(),c(156,"span",85)(157,"mat-icon",86),d(158,"cloud_done"),l(),d(159," Cloud Sync "),l()()()()()()),i&2&&(h(73),qe(a.features),h(10),qe(a.howItWorks))},dependencies:[dm,lt],styles:['[_ngcontent-%COMP%]:root{--primary: #46777f;--primary-50: #f0f4f5;--primary-100: #e1e9eb;--primary-200: #c3d3d7;--primary-300: #a5bdc3;--primary-400: #87a7af;--primary-500: #46777f;--primary-600: #3a636a;--primary-700: #2e4f55;--primary-800: #223b40;--primary-900: #16272b}@keyframes _ngcontent-%COMP%_blob{0%{transform:translate(0) scale(1)}33%{transform:translate(30px,-50px) scale(1.1)}66%{transform:translate(-20px,20px) scale(.9)}to{transform:translate(0) scale(1)}}.animate-blob[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blob 7s infinite}.animation-delay-2000[_ngcontent-%COMP%]{animation-delay:2s}.animation-delay-4000[_ngcontent-%COMP%]{animation-delay:4s}.animation-delay-1000[_ngcontent-%COMP%]{animation-delay:1s}.hero-section[_ngcontent-%COMP%]{position:relative}.hero-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 20% 80%,rgba(70,119,127,.3) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(70,119,127,.3) 0%,transparent 50%),radial-gradient(circle at 40% 40%,rgba(70,119,127,.2) 0%,transparent 50%);pointer-events:none}html[_ngcontent-%COMP%]{scroll-behavior:smooth}.feature-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#46777f,#3a636a);transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3a636a,#2e4f55);transform:translateY(-2px);box-shadow:0 10px 20px #46777f66}.testimonial-card[_ngcontent-%COMP%]{transition:all .3s ease}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 10px 25px #0000001a}.phone-mockup[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}.floating-element[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float-slow 8s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float-slow{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(5deg)}}.screenshot-carousel[_ngcontent-%COMP%]{transition:all .5s cubic-bezier(.4,0,.2,1)}.gradient-text[_ngcontent-%COMP%]{background:linear-gradient(135deg,#46777f,#3a636a);background-size:200% 200%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:_ngcontent-%COMP%_gradient-shift 3s ease infinite}@keyframes _ngcontent-%COMP%_gradient-shift{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.stat-number[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_count-up 2s ease-out}@keyframes _ngcontent-%COMP%_count-up{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}section[_ngcontent-%COMP%]{opacity:0;transform:translateY(30px);animation:_ngcontent-%COMP%_fade-in-up .8s ease-out forwards}@keyframes _ngcontent-%COMP%_fade-in-up{to{opacity:1;transform:translateY(0)}}.feature-card[_ngcontent-%COMP%]{animation-delay:calc(var(--animation-order) * .1s)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#46777f,#3a636a);border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#3a636a,#2e4f55)}button[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:focus{outline:2px solid #46777f;outline-offset:2px}.trust-badge[_ngcontent-%COMP%]{transition:all .3s ease}.trust-badge[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.download-btn[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.download-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.02);box-shadow:0 10px 25px #0003}.connection-line[_ngcontent-%COMP%]{position:relative}.connection-line[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:100%;width:100%;height:2px;background:linear-gradient(90deg,#46777f,#3a636a);transform:translateY(-50%);z-index:-1}.rating-stars[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_star-glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_star-glow{0%{filter:brightness(1)}to{filter:brightness(1.2)}}.carousel-dot[_ngcontent-%COMP%]{transition:all .3s ease}.carousel-dot[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.carousel-dot.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#46777f,#3a636a)}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;width:100%}@media (max-width: 640px){.container[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}button[_ngcontent-%COMP%]{min-height:44px}}@media (min-width: 641px){.container[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.install-btn[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;padding:5px;width:60px;height:59px}mat-icon[_ngcontent-%COMP%]{font-size:inherit;width:inherit;height:inherit;line-height:inherit}.group[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;line-height:3rem}.text-3xl[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;line-height:2rem}.text-lg[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;line-height:1.25rem}.text-lg[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;line-height:1.125rem}']});let e=n;return e})();var BM=(()=>{let n=class n{constructor(t,i,a){this.firestore=t,this.auth=i,this.dateService=a}createSubscription(t,i){return me(this,null,function*(){let a=zt(this.firestore,`users/${t}/subscription`);yield oo(a,de(oe({},i),{startDate:this.dateService.toTimestamp(i.startDate),endDate:this.dateService.toTimestamp(i.endDate)}))})}getSubscription(t){return me(this,null,function*(){let i=zt(this.firestore,`users/${t}/subscription`),a=yield Ii(i);if(a.exists())return a.data()})}updateSubscriptionPlan(t,i){return me(this,null,function*(){let a=zt(this.firestore,`users/${t}/subscription`);yield pi(a,{plan:i})})}updateSubscriptionDates(t,i,a){return me(this,null,function*(){let o=zt(this.firestore,`users/${t}/subscription`);yield pi(o,{startDate:ar.fromDate(i),endDate:ar.fromDate(a)})})}deleteSubscription(t){return me(this,null,function*(){let i=zt(this.firestore,`users/${t}/subscription`);yield kr(i)})}};n.\u0275fac=function(i){return new(i||n)(Ie(Zr),Ie(kt),Ie(Xt))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function gW(e,n){if(e&1){let r=ue();c(0,"div")(1,"p"),d(2),l(),c(3,"p"),d(4),_e(5,"date"),l(),c(6,"p"),d(7),_e(8,"date"),l(),c(9,"button",2),F("click",function(){N(r);let i=w();return L(i.updatePlan("premium"))}),d(10,"Upgrade to Premium"),l(),c(11,"button",2),F("click",function(){N(r);let i=w();return L(i.deleteSubscription())}),d(12,"Cancel Subscription"),l()()}if(e&2){let r=w();h(2),ae("Plan: ",r.subscription.plan,""),h(2),ae("Start Date: ",Rt(5,3,r.dateService.toDate(r.subscription.startDate),"short"),""),h(3),ae("End Date: ",Rt(8,6,r.dateService.toDate(r.subscription.endDate),"short"),"")}}function _W(e,n){if(e&1){let r=ue();c(0,"form",3),F("submit",function(){N(r);let i=w();return L(i.createSubscription())}),c(1,"label",4),d(2,"Plan:"),l(),c(3,"select",5),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.newSubscription.plan,i)||(a.newSubscription.plan=i),L(i)}),c(4,"option",6),d(5,"Free"),l(),c(6,"option",7),d(7,"Premium"),l()(),c(8,"label",8),d(9,"Start Date:"),l(),c(10,"input",9),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.newSubscription.startDate,i)||(a.newSubscription.startDate=i),L(i)}),l(),c(11,"label",10),d(12,"End Date:"),l(),c(13,"input",11),pt("ngModelChange",function(i){N(r);let a=w();return ut(a.newSubscription.endDate,i)||(a.newSubscription.endDate=i),L(i)}),l(),c(14,"button",12),d(15,"Start Subscription"),l()()}if(e&2){let r=w();h(3),mt("ngModel",r.newSubscription.plan),h(7),mt("ngModel",r.newSubscription.startDate),h(3),mt("ngModel",r.newSubscription.endDate)}}var VM=(()=>{let n=class n{constructor(t,i,a,o,s){this.subscriptionService=t,this.auth=i,this.router=a,this.notificationService=o,this.dateService=s,this.userId="",this.newSubscription={userId:"",plan:"free",startDate:ar.fromDate(new Date),endDate:ar.fromDate(new Date)}}ngOnInit(){this.loadSubscription()}loadSubscription(){return me(this,null,function*(){let t=this.auth.currentUser;if(t)try{this.userId=t.uid,this.subscription=yield this.subscriptionService.getSubscription(this.userId)}catch(i){console.error("Error loading subscription:",i),this.notificationService.error("Failed to load subscription data")}else this.notificationService.error("User not authenticated")})}createSubscription(){return me(this,null,function*(){if(!this.newSubscription.plan){this.notificationService.warning("Please select a subscription plan");return}let t=this.auth.currentUser;if(t)try{this.newSubscription.userId=t.uid,yield this.subscriptionService.createSubscription(t.uid,this.newSubscription),this.notificationService.success("Subscription created successfully"),this.loadSubscription(),this.newSubscription={userId:"",plan:"free",startDate:ar.fromDate(new Date),endDate:ar.fromDate(new Date)}}catch(i){console.error("Error creating subscription:",i),this.notificationService.error("Failed to create subscription")}else this.notificationService.error("User not authenticated")})}updatePlan(t){return me(this,null,function*(){if(!t){this.notificationService.warning("Please select a valid plan");return}let i=this.auth.currentUser;if(i)try{yield this.subscriptionService.updateSubscriptionPlan(i.uid,t),this.notificationService.success(`Subscription plan updated to ${t}`),this.loadSubscription()}catch(a){console.error("Error updating subscription plan:",a),this.notificationService.error("Failed to update subscription plan")}else this.notificationService.error("User not authenticated")})}updateDates(t,i){return me(this,null,function*(){if(!t||!i){this.notificationService.warning("Please select valid start and end dates");return}if(t>=i){this.notificationService.warning("End date must be after start date");return}let a=this.auth.currentUser;if(a)try{yield this.subscriptionService.updateSubscriptionDates(a.uid,t,i),this.notificationService.success("Subscription dates updated successfully"),this.loadSubscription()}catch(o){console.error("Error updating subscription dates:",o),this.notificationService.error("Failed to update subscription dates")}else this.notificationService.error("User not authenticated")})}deleteSubscription(){return me(this,null,function*(){let t=this.auth.currentUser;if(t)try{yield this.subscriptionService.deleteSubscription(t.uid),this.subscription=void 0,this.notificationService.success("Subscription deleted successfully")}catch(i){console.error("Error deleting subscription:",i),this.notificationService.error("Failed to delete subscription")}else this.notificationService.error("User not authenticated")})}};n.\u0275fac=function(i){return new(i||n)(T(BM),T(kt),T(hn),T(vt),T(Xt))},n.\u0275cmp=Se({type:n,selectors:[["app-subscription"]],decls:5,vars:2,consts:[[4,"ngIf"],[3,"submit",4,"ngIf"],[3,"click"],[3,"submit"],["for","plan"],["id","plan","name","plan",3,"ngModelChange","ngModel"],["value","free"],["value","premium"],["for","startDate"],["type","date","id","startDate","name","startDate","required","",3,"ngModelChange","ngModel"],["for","endDate"],["type","date","id","endDate","name","endDate","required","",3,"ngModelChange","ngModel"],["type","submit"]],template:function(i,a){i&1&&(c(0,"div")(1,"h2"),d(2,"User Subscription"),l(),U(3,gW,13,9,"div",0)(4,_W,16,3,"form",1),l()),i&2&&(h(3),M("ngIf",a.subscription),h(),M("ngIf",!a.subscription))},dependencies:[dt,Mi,Uc,Yc,on,zc,sn,yi,Wc,wi,jc,Ci]});let e=n;return e})();var U_=ao("goals"),Y_=jt(U_,e=>e.goals),jM=jt(U_,e=>e.loading),zM=jt(U_,e=>e.error);var Wee=jt(Y_,e=>e.map(n=>de(oe({},n),{progress:n.currentAmount/n.targetAmount,percentage:Math.round(n.currentAmount/n.targetAmount*100)})));var vW=(e,n)=>n.goalId;function bW(e,n){if(e&1){let r=ue();c(0,"div")(1,"div")(2,"p"),d(3),l(),c(4,"p"),d(5),_e(6,"currency"),l(),c(7,"p"),d(8),_e(9,"currency"),l(),c(10,"p"),d(11),_e(12,"date"),l(),c(13,"button",8),F("click",function(){let i=N(r).$implicit,a=w();return L(a.deleteGoal(i.goalId))}),d(14,"Delete"),l(),c(15,"button",8),F("click",function(){let i=N(r).$implicit,a=w();return L(a.updateCurrentAmount(i.goalId,100))}),d(16,"Add 100 to current amount"),l()()()}if(e&2){let r=n.$implicit,t=w();h(3),ae("Title: ",r.title,""),h(2),ae("Target Amount: ",Ne(6,4,r.targetAmount),""),h(3),ae("Current Amount: ",Ne(9,6,r.currentAmount),""),h(3),ae("Deadline: ",Rt(12,8,t.dateService.toDate(r.deadline),"short"),"")}}var UM=(()=>{let n=class n{constructor(t,i,a,o,s){this.auth=t,this.router=i,this.notificationService=a,this.store=o,this.dateService=s,this.userId="",this.goals=[],this.newGoal={goalId:"",userId:"",title:"",targetAmount:0,currentAmount:0,deadline:ar.fromDate(new Date)},this.destroy$=new _t,this.subscriptions=new cn,this.goals$=this.store.select(Y_),this.goalsLoading$=this.store.select(jM),this.goalsError$=this.store.select(zM)}ngOnInit(){this.loadGoals(),this.subscribeToStoreData()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}loadGoals(){let t=this.auth.currentUser;t&&(this.userId=t.uid,this.store.dispatch(uo({userId:this.userId})))}subscribeToStoreData(){this.subscriptions.add(this.goals$.subscribe(t=>{this.goals=t})),this.subscriptions.add(this.goalsError$.subscribe(t=>{t&&(console.error("Error loading goals:",t),this.notificationService.error("Failed to load goals"))}))}createGoal(){if(!this.newGoal.title||!this.newGoal.targetAmount){this.notificationService.warning("Please fill in all required fields");return}let t=this.auth.currentUser;t&&(this.newGoal.userId=t.uid,this.newGoal.goalId=`${this.newGoal.userId}-${new Date().getTime()}`,this.store.dispatch(gl({userId:t.uid,goal:this.newGoal})),this.notificationService.success("Goal created successfully"),this.newGoal={goalId:"",userId:"",title:"",targetAmount:0,currentAmount:0,deadline:ar.fromDate(new Date)})}deleteGoal(t){let i=this.auth.currentUser;i&&(this.store.dispatch(_l({userId:i.uid,goalId:t})),this.notificationService.success("Goal deleted successfully"))}updateCurrentAmount(t,i){if(i<=0){this.notificationService.warning("Please enter a valid amount");return}let a=this.auth.currentUser;a&&(this.store.dispatch(xl({userId:a.uid,goalId:t,amount:i})),this.notificationService.success("Goal progress updated successfully"))}};n.\u0275fac=function(i){return new(i||n)(T(kt),T(hn),T(vt),T(Ft),T(Xt))},n.\u0275cmp=Se({type:n,selectors:[["app-goals"]],decls:17,vars:3,consts:[[3,"submit"],["for","title"],["type","text","id","title","name","title","required","",3,"ngModelChange","ngModel"],["for","targetAmount"],["type","number","id","targetAmount","name","targetAmount","required","",3,"ngModelChange","ngModel"],["for","deadline"],["type","date","id","deadline","name","deadline","required","",3,"ngModelChange","ngModel"],["type","submit"],[3,"click"]],template:function(i,a){i&1&&(c(0,"div")(1,"h2"),d(2,"User Goals"),l(),Ge(3,bW,17,11,"div",null,vW),c(5,"form",0),F("submit",function(){return a.createGoal()}),c(6,"label",1),d(7,"Title:"),l(),c(8,"input",2),pt("ngModelChange",function(s){return ut(a.newGoal.title,s)||(a.newGoal.title=s),s}),l(),c(9,"label",3),d(10,"Target Amount:"),l(),c(11,"input",4),pt("ngModelChange",function(s){return ut(a.newGoal.targetAmount,s)||(a.newGoal.targetAmount=s),s}),l(),c(12,"label",5),d(13,"Deadline:"),l(),c(14,"input",6),pt("ngModelChange",function(s){return ut(a.newGoal.deadline,s)||(a.newGoal.deadline=s),s}),l(),c(15,"button",7),d(16,"Add Goal"),l()()()),i&2&&(h(3),qe(a.goals),h(5),mt("ngModel",a.newGoal.title),h(3),mt("ngModel",a.newGoal.targetAmount),h(3),mt("ngModel",a.newGoal.deadline))},dependencies:[Mi,on,rr,sn,yi,Wc,wi,jc,Ci,Ur]});let e=n;return e})();var W_=ao("budgets"),YM=jt(W_,e=>e.budgets),WM=jt(W_,e=>e.loading),HM=jt(W_,e=>e.error);var yW=(e,n)=>n.budgetId;function wW(e,n){if(e&1){let r=ue();c(0,"div")(1,"div")(2,"p"),d(3),l(),c(4,"p"),d(5),_e(6,"currency"),l(),c(7,"p"),d(8),_e(9,"currency"),l(),c(10,"p"),d(11),_e(12,"date"),l(),c(13,"p"),d(14),_e(15,"date"),l(),c(16,"button",10),F("click",function(){let i=N(r).$implicit,a=w();return L(a.deleteBudget(i.budgetId))}),d(17,"Delete"),l(),c(18,"button",10),F("click",function(){let i=N(r).$implicit,a=w();return L(a.updateSpent(i.budgetId,50))}),d(19,"Add 50 to spent"),l()()()}if(e&2){let r=n.$implicit,t=w();h(3),ae("Category: ",r.category,""),h(2),ae("Limit: ",Ne(6,5,r.limit),""),h(3),ae("Spent: ",Ne(9,7,r.spent),""),h(3),ae("Start Date: ",Rt(12,9,t.dateService.toDate(r.startDate),"short"),""),h(3),ae("End Date: ",Rt(15,12,t.dateService.toDate(r.endDate),"short"),"")}}var $M=(()=>{let n=class n{constructor(t,i,a,o,s){this.auth=t,this.router=i,this.notificationService=a,this.store=o,this.dateService=s,this.userId="",this.budgets=[],this.newBudget={budgetId:"",userId:"",category:"Groceries",limit:0,spent:0,startDate:ar.fromDate(new Date),endDate:ar.fromDate(new Date)},this.destroy$=new _t,this.subscriptions=new cn,this.budgets$=this.store.select(YM),this.budgetsLoading$=this.store.select(WM),this.budgetsError$=this.store.select(HM)}ngOnInit(){this.loadBudgets(),this.subscribeToStoreData()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}loadBudgets(){let t=this.auth.currentUser;t&&(this.userId=t.uid,this.store.dispatch(mo({userId:this.userId})))}subscribeToStoreData(){this.subscriptions.add(this.budgets$.subscribe(t=>{this.budgets=t})),this.subscriptions.add(this.budgetsError$.subscribe(t=>{t&&(console.error("Error loading budgets:",t),this.notificationService.error("Failed to load budgets"))}))}createBudget(){if(!this.newBudget.category||!this.newBudget.limit){this.notificationService.warning("Please fill in all required fields");return}if(this.newBudget.limit<=0){this.notificationService.warning("Budget limit must be greater than 0");return}let t=this.auth.currentUser;t&&(this.newBudget.userId=t.uid,this.newBudget.budgetId=`${this.newBudget.userId}-${new Date().getTime()}`,this.store.dispatch(pl({userId:t.uid,budget:this.newBudget})),this.notificationService.success("Budget created successfully"),this.newBudget={budgetId:"",userId:"",category:"Groceries",limit:0,spent:0,startDate:ar.fromDate(new Date),endDate:ar.fromDate(new Date)})}deleteBudget(t){let i=this.auth.currentUser;i&&(this.store.dispatch(fl({userId:i.uid,budgetId:t})),this.notificationService.success("Budget deleted successfully"))}updateSpent(t,i){if(i<0){this.notificationService.warning("Spent amount cannot be negative");return}let a=this.auth.currentUser;a&&(this.store.dispatch(hl({userId:a.uid,budgetId:t,amount:i})),this.notificationService.success("Budget spent amount updated successfully"))}};n.\u0275fac=function(i){return new(i||n)(T(kt),T(hn),T(vt),T(Ft),T(Xt))},n.\u0275cmp=Se({type:n,selectors:[["app-budgets"]],decls:20,vars:4,consts:[[3,"submit"],["for","category"],["type","text","id","category","name","category","required","",3,"ngModelChange","ngModel"],["for","limit"],["type","number","id","limit","name","limit","required","",3,"ngModelChange","ngModel"],["for","startDate"],["type","date","id","startDate","name","startDate","required","",3,"ngModelChange","ngModel"],["for","endDate"],["type","date","id","endDate","name","endDate","required","",3,"ngModelChange","ngModel"],["type","submit"],[3,"click"]],template:function(i,a){i&1&&(c(0,"div")(1,"h2"),d(2,"User Budgets"),l(),Ge(3,wW,20,15,"div",null,yW),c(5,"form",0),F("submit",function(){return a.createBudget()}),c(6,"label",1),d(7,"Category:"),l(),c(8,"input",2),pt("ngModelChange",function(s){return ut(a.newBudget.category,s)||(a.newBudget.category=s),s}),l(),c(9,"label",3),d(10,"Limit:"),l(),c(11,"input",4),pt("ngModelChange",function(s){return ut(a.newBudget.limit,s)||(a.newBudget.limit=s),s}),l(),c(12,"label",5),d(13,"Start Date:"),l(),c(14,"input",6),pt("ngModelChange",function(s){return ut(a.newBudget.startDate,s)||(a.newBudget.startDate=s),s}),l(),c(15,"label",7),d(16,"End Date:"),l(),c(17,"input",8),pt("ngModelChange",function(s){return ut(a.newBudget.endDate,s)||(a.newBudget.endDate=s),s}),l(),c(18,"button",9),d(19,"Add Budget"),l()()()),i&2&&(h(3),qe(a.budgets),h(5),mt("ngModel",a.newBudget.category),h(3),mt("ngModel",a.newBudget.limit),h(3),mt("ngModel",a.newBudget.startDate),h(3),mt("ngModel",a.newBudget.endDate))},dependencies:[Mi,on,rr,sn,yi,Wc,wi,jc,Ci,Ur]});let e=n;return e})();var GM=ra(_a());var MW=(e,n)=>n.value,SW=(e,n)=>n.code;function PW(e,n){e&1&&(c(0,"mat-icon"),d(1,"edit"),l())}function kW(e,n){e&1&&(c(0,"mat-icon"),d(1,"save"),l())}function OW(e,n){if(e&1){let r=ue();c(0,"button",16),F("click",function(){N(r);let i=w();return L(i.toggleEdit())}),U(1,PW,2,0,"mat-icon",17)(2,kW,2,0,"mat-icon",17),l()}if(e&2){let r=w();h(),M("ngIf",!r.isEditing),h(),M("ngIf",r.isEditing)}}function TW(e,n){e&1&&(c(0,"div",18),se(1,"mat-spinner",19),c(2,"p",20),d(3,"Loading profile..."),l()())}function EW(e,n){if(e&1){let r=ue();c(0,"button",21),F("click",function(){N(r);let i=w();return L(i.toggleEdit())}),c(1,"mat-icon"),d(2),l(),d(3),l()}if(e&2){let r=w();M("disabled",r.isLoading),h(2),G(r.isEditing?"close":"edit"),h(),ae(" ",r.isEditing?"Cancel Edit":"Edit Profile"," ")}}function DW(e,n){e&1&&(c(0,"mat-error"),d(1," First name is required "),l())}function IW(e,n){e&1&&(c(0,"mat-error"),d(1," First name must be at least 2 characters "),l())}function AW(e,n){e&1&&(c(0,"mat-error"),d(1," Last name is required "),l())}function FW(e,n){e&1&&(c(0,"mat-error"),d(1," Last name must be at least 2 characters "),l())}function RW(e,n){e&1&&(c(0,"mat-error"),d(1," Email is required "),l())}function NW(e,n){e&1&&(c(0,"mat-error"),d(1," Please enter a valid email "),l())}function LW(e,n){e&1&&(c(0,"mat-error"),d(1," Please enter a valid phone number "),l())}function BW(e,n){e&1&&(c(0,"mat-error"),d(1," Income cannot be negative "),l())}function VW(e,n){if(e&1&&(c(0,"mat-option",40),d(1),l()),e&2){let r=n.$implicit;M("value",r),h(),ae(" ",r," ")}}function jW(e,n){if(e&1&&(c(0,"mat-option",40),d(1),l()),e&2){let r=n.$implicit;M("value",r.value),h(),ae(" ",r.label," ")}}function zW(e,n){if(e&1&&(c(0,"mat-option",40),d(1),l()),e&2){let r=n.$implicit;M("value",r.code),h(),ae(" ",r.name," ")}}function UW(e,n){e&1&&(c(0,"mat-icon"),d(1,"hourglass_empty"),l())}function YW(e,n){e&1&&(c(0,"mat-icon"),d(1,"save"),l())}function WW(e,n){if(e&1){let r=ue();c(0,"div",58)(1,"button",59),F("click",function(){N(r);let i=w(2);return L(i.cancelEdit())}),d(2," Cancel "),l(),c(3,"button",60),U(4,UW,2,0,"mat-icon",17)(5,YW,2,0,"mat-icon",17),d(6),l()()}if(e&2){let r=w(2);h(),M("disabled",r.isLoading),h(2),M("disabled",r.profileForm.invalid||r.isLoading),h(),M("ngIf",r.isLoading),h(),M("ngIf",!r.isLoading),h(),ae(" ",r.isLoading?"Saving...":"Save Changes"," ")}}function HW(e,n){if(e&1){let r=ue();c(0,"div",22)(1,"form",23),F("ngSubmit",function(){N(r);let i=w();return L(i.saveProfile())}),c(2,"div",24)(3,"div",25)(4,"mat-icon",26),d(5,"person"),l(),c(6,"h2"),d(7,"Personal Information"),l()(),c(8,"div",27)(9,"mat-form-field",28)(10,"mat-label"),d(11,"First Name *"),l(),se(12,"input",29),U(13,DW,2,0,"mat-error",17)(14,IW,2,0,"mat-error",17),l(),c(15,"mat-form-field",28)(16,"mat-label"),d(17,"Last Name *"),l(),se(18,"input",30),U(19,AW,2,0,"mat-error",17)(20,FW,2,0,"mat-error",17),l(),c(21,"mat-form-field",28)(22,"mat-label"),d(23,"Email *"),l(),se(24,"input",31),U(25,RW,2,0,"mat-error",17)(26,NW,2,0,"mat-error",17),l(),c(27,"mat-form-field",28)(28,"mat-label"),d(29,"Phone Number"),l(),se(30,"input",32),U(31,LW,2,0,"mat-error",17),l(),c(32,"mat-form-field",28)(33,"mat-label"),d(34,"Date of Birth"),l(),se(35,"input",33)(36,"mat-datepicker-toggle",34)(37,"mat-datepicker",null,0),l(),c(39,"mat-form-field",28)(40,"mat-label"),d(41,"Occupation"),l(),se(42,"input",35),l(),c(43,"mat-form-field",28)(44,"mat-label"),d(45,"Monthly Income"),l(),se(46,"input",36),c(47,"span",37),d(48),l(),U(49,BW,2,0,"mat-error",17),l()()(),c(50,"div",38)(51,"div",25)(52,"mat-icon",26),d(53,"settings"),l(),c(54,"h2"),d(55,"Preferences"),l()(),c(56,"div",27)(57,"mat-form-field",28)(58,"mat-label"),d(59,"Default Currency *"),l(),c(60,"mat-select",39),Ge(61,VW,2,2,"mat-option",40,Ti),l()(),c(63,"mat-form-field",28)(64,"mat-label"),d(65,"Timezone *"),l(),c(66,"mat-select",41),Ge(67,jW,2,2,"mat-option",40,MW),l()(),c(69,"mat-form-field",28)(70,"mat-label"),d(71,"Language *"),l(),c(72,"mat-select",42),Ge(73,zW,2,2,"mat-option",40,SW),l()()(),c(75,"div",43)(76,"div",44)(77,"mat-slide-toggle",45)(78,"span",46),d(79,"Push Notifications"),l()(),c(80,"p",47),d(81,"Receive notifications about important updates"),l()(),c(82,"div",44)(83,"mat-slide-toggle",48)(84,"span",46),d(85,"Email Updates"),l()(),c(86,"p",47),d(87,"Receive weekly financial summaries via email"),l()(),c(88,"div",44)(89,"mat-slide-toggle",49)(90,"span",46),d(91,"Budget Alerts"),l()(),c(92,"p",47),d(93,"Get notified when you exceed budget limits"),l()()()(),U(94,WW,7,5,"div",50),l(),c(95,"div",51)(96,"div",25)(97,"mat-icon",26),d(98,"security"),l(),c(99,"h2"),d(100,"Account Actions"),l()(),c(101,"div",52)(102,"div",53)(103,"mat-icon",54),d(104,"lock"),l(),c(105,"h3"),d(106,"Change Password"),l(),c(107,"p"),d(108,"Update your account password for better security"),l(),c(109,"button",55),F("click",function(){N(r);let i=w();return L(i.changePassword())}),d(110," Change Password "),l()(),c(111,"div",53)(112,"mat-icon",54),d(113,"download"),l(),c(114,"h3"),d(115,"Export Data"),l(),c(116,"p"),d(117,"Download all your financial data as a backup"),l(),c(118,"button",55),F("click",function(){N(r);let i=w();return L(i.exportData())}),d(119," Export Data "),l()(),c(120,"div",56)(121,"mat-icon",54),d(122,"delete_forever"),l(),c(123,"h3"),d(124,"Delete Account"),l(),c(125,"p"),d(126,"Permanently delete your account and all associated data"),l(),c(127,"button",57),F("click",function(){N(r);let i=w();return L(i.deleteAccount())}),d(128," Delete Account "),l()()()()()}if(e&2){let r,t,i,a,o,s,m,u,f=zn(38),g=w();h(),M("formGroup",g.profileForm),h(11),M("readonly",!g.isEditing),h(),M("ngIf",(r=g.profileForm.get("firstName"))==null?null:r.hasError("required")),h(),M("ngIf",(t=g.profileForm.get("firstName"))==null?null:t.hasError("minlength")),h(4),M("readonly",!g.isEditing),h(),M("ngIf",(i=g.profileForm.get("lastName"))==null?null:i.hasError("required")),h(),M("ngIf",(a=g.profileForm.get("lastName"))==null?null:a.hasError("minlength")),h(4),M("readonly",!g.isEditing),h(),M("ngIf",(o=g.profileForm.get("email"))==null?null:o.hasError("required")),h(),M("ngIf",(s=g.profileForm.get("email"))==null?null:s.hasError("email")),h(4),M("readonly",!g.isEditing),h(),M("ngIf",(m=g.profileForm.get("phone"))==null?null:m.hasError("pattern")),h(4),M("matDatepicker",f)("readonly",!g.isEditing),h(),M("for",f)("disabled",!g.isEditing),h(6),M("readonly",!g.isEditing),h(4),M("readonly",!g.isEditing),h(2),ae("",g.userProfile.preferences==null?null:g.userProfile.preferences.defaultCurrency,"\xA0"),h(),M("ngIf",(u=g.profileForm.get("monthlyIncome"))==null?null:u.hasError("min")),h(11),M("disabled",!g.isEditing),h(),qe(g.currencies),h(5),M("disabled",!g.isEditing),h(),qe(g.timezones),h(5),M("disabled",!g.isEditing),h(),qe(g.languages),h(4),M("disabled",!g.isEditing),h(6),M("disabled",!g.isEditing),h(6),M("disabled",!g.isEditing),h(5),M("ngIf",g.isEditing)}}var qM=(()=>{let n=class n{constructor(t,i,a,o,s,m,u,f,g){this.fb=t,this.auth=i,this.router=a,this.notificationService=o,this.validationService=s,this.dialog=m,this.dateService=u,this.store=f,this.breakpointObserver=g,this.isLoading=!1,this.isEditing=!1,this.userProfile=null,this.currencies=Object.values(Iv),this.defaultCurrency=Ot.CURRENCY.DEFAULT,this.languages=Object.entries(Ot.LANGUAGE.NAMES).map(([x,C])=>({code:x,name:C})),this.validation=Ot.VALIDATION,this.timezones=Fv,this.isMobile=!1,this.destroy$=new _t,this.subscriptions=new cn,this.isMobile=this.breakpointObserver.isMatched("(max-width: 600px)"),this.profile$=this.store.select(mb),this.profileLoading$=this.store.select(ub),this.profileError$=this.store.select(pb),this.profileForm=this.fb.group({firstName:["",this.validationService.getProfileNameValidators()],lastName:["",this.validationService.getProfileNameValidators()],email:["",this.validationService.getProfileEmailValidators()],phone:["",this.validationService.getProfilePhoneValidators()],dateOfBirth:[""],occupation:["",this.validationService.getProfileOccupationValidators()],monthlyIncome:[0,this.validationService.getProfileIncomeValidators()],preferences:this.fb.group({defaultCurrency:[this.defaultCurrency,wt.required],timezone:["UTC",wt.required],language:[Ot.LANGUAGE.DEFAULT,wt.required],notifications:[!0],emailUpdates:[!0],budgetAlerts:[!0]})})}ngOnInit(){this.loadUserProfile(),this.subscribeToStoreData()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}loadUserProfile(){return me(this,null,function*(){try{if(this.isLoading=!0,this.currentUser=this.auth.currentUser,!this.currentUser){this.notificationService.error(ci.AUTH.USER_NOT_FOUND),this.router.navigate(["/sign-in"]);return}this.store.dispatch(po({userId:this.currentUser.uid}))}catch(t){console.error("Error loading profile:",t),this.notificationService.error(ci.NETWORK.SERVER_ERROR)}finally{this.isLoading=!1}})}subscribeToStoreData(){this.subscriptions.add(this.profile$.subscribe(t=>{t&&(this.userProfile=this.mapUserToProfile(t),this.populateForm())})),this.subscriptions.add(this.profileLoading$.subscribe(t=>{this.isLoading=t})),this.subscriptions.add(this.profileError$.subscribe(t=>{t&&(console.error("Error loading profile:",t),this.notificationService.error(ci.NETWORK.SERVER_ERROR))}))}mapUserToProfile(t){var i,a,o,s,m,u;return{uid:t.uid,firstName:t.firstName||"",lastName:t.lastName||"",email:t.email,phone:t.phone||"",dateOfBirth:this.dateService.toDate(t.dateOfBirth||0)||new Date,occupation:t.occupation||"",monthlyIncome:t.monthlyIncome||0,preferences:{defaultCurrency:((i=t.preferences)==null?void 0:i.defaultCurrency)||this.defaultCurrency,timezone:((a=t.preferences)==null?void 0:a.timezone)||"UTC",language:((o=t.preferences)==null?void 0:o.language)||Ot.LANGUAGE.DEFAULT,notifications:((s=t.preferences)==null?void 0:s.notifications)||!0,emailUpdates:((m=t.preferences)==null?void 0:m.emailUpdates)||!0,budgetAlerts:((u=t.preferences)==null?void 0:u.budgetAlerts)||!0},role:t.role,createdAt:t.createdAt,updatedAt:this.dateService.toTimestamp(t.updatedAt)||new Date}}createDefaultProfile(){var t,i;return{uid:this.currentUser.uid,firstName:((t=this.currentUser.displayName)==null?void 0:t.split(" ")[0])||"",lastName:((i=this.currentUser.displayName)==null?void 0:i.split(" ").slice(1).join(" "))||"",email:this.currentUser.email||"",phone:"",dateOfBirth:void 0,occupation:"",monthlyIncome:0,preferences:{defaultCurrency:this.defaultCurrency,timezone:"UTC",language:Ot.LANGUAGE.DEFAULT,notifications:!0,emailUpdates:!0,budgetAlerts:!0},role:Gf.FREE,createdAt:new Date,updatedAt:new Date}}populateForm(){var t,i,a,o,s,m;this.userProfile&&this.profileForm.patchValue({firstName:this.userProfile.firstName,lastName:this.userProfile.lastName,email:this.userProfile.email,phone:this.userProfile.phone||"",dateOfBirth:this.userProfile.dateOfBirth||"",occupation:this.userProfile.occupation||"",monthlyIncome:this.userProfile.monthlyIncome||0,preferences:{defaultCurrency:((t=this.userProfile.preferences)==null?void 0:t.defaultCurrency)||this.defaultCurrency,timezone:((i=this.userProfile.preferences)==null?void 0:i.timezone)||"UTC",language:((a=this.userProfile.preferences)==null?void 0:a.language)||Ot.LANGUAGE.DEFAULT,notifications:((o=this.userProfile.preferences)==null?void 0:o.notifications)||!0,emailUpdates:((s=this.userProfile.preferences)==null?void 0:s.emailUpdates)||!0,budgetAlerts:((m=this.userProfile.preferences)==null?void 0:m.budgetAlerts)||!0}})}toggleEdit(){this.isEditing=!this.isEditing,this.isEditing?this.notificationService.info("Edit mode enabled"):(this.notificationService.info("Edit mode disabled"),this.saveProfile())}saveProfile(){return me(this,null,function*(){if(this.profileForm.invalid){this.notificationService.warning(ci.VALIDATION.REQUIRED_FIELD);return}try{this.isLoading=!0;let t=this.profileForm.value;if(this.userProfile){let i={uid:this.userProfile.uid,email:t.email,role:Gf.FREE,createdAt:this.userProfile.createdAt,preferences:t.preferences,firstName:t.firstName,lastName:t.lastName,phone:t.phone,dateOfBirth:t.dateOfBirth,occupation:t.occupation,monthlyIncome:t.monthlyIncome,updatedAt:new Date};this.store.dispatch(vl({userId:this.currentUser.uid,profile:i})),this.notificationService.success(Av.GENERAL.UPDATED),this.isEditing=!1}}catch(t){console.error("Error saving profile:",t),this.notificationService.error(ci.NETWORK.SERVER_ERROR)}finally{this.isLoading=!1}})}cancelEdit(){this.populateForm(),this.isEditing=!1,this.notificationService.info("Changes cancelled")}deleteAccount(){return me(this,null,function*(){this.dialog.open(ha,{width:"400px",data:{title:"Delete Account",message:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently lost.",confirmText:"Delete Account",cancelText:"Cancel",confirmColor:"warn"}}).afterClosed().subscribe(i=>me(this,null,function*(){if(i)try{this.isLoading=!0,yield this.currentUser.delete(),this.notificationService.success("Account deleted successfully"),this.router.navigate(["/sign-in"])}catch(a){console.error("Error deleting account:",a),this.notificationService.error(ci.NETWORK.SERVER_ERROR)}finally{this.isLoading=!1}}))})}changePassword(){return me(this,null,function*(){this.notificationService.info("Password change feature coming soon")})}exportData(){return me(this,null,function*(){try{if(!Ot.FEATURES.EXPORT_FUNCTIONALITY){this.notificationService.warning(ci.PERMISSION.FEATURE_NOT_AVAILABLE);return}this.notificationService.info("Data export feature coming soon")}catch(t){console.error("Error exporting data:",t),this.notificationService.error(ci.NETWORK.SERVER_ERROR)}})}getFullName(){return this.userProfile?`${this.userProfile.firstName} ${this.userProfile.lastName}`.trim():"User"}getTimezoneLabel(t){let i=this.timezones.find(a=>a.value===t);return i?i.label:t}getLanguageName(t){return Ot.LANGUAGE.NAMES[t]||t}getFormattedDate(t){return t?(0,GM.default)((t==null?void 0:t.seconds)*1e3).format("MMM DD, YYYY"):"N/A"}getFirstNameError(){let t=this.profileForm.get("firstName");return t?this.validationService.getProfileNameError(t):""}getLastNameError(){let t=this.profileForm.get("lastName");return t?this.validationService.getProfileNameError(t):""}getEmailError(){let t=this.profileForm.get("email");return t?this.validationService.getProfileEmailError(t):""}getPhoneError(){let t=this.profileForm.get("phone");return t?this.validationService.getProfilePhoneError(t):""}getOccupationError(){let t=this.profileForm.get("occupation");return t?this.validationService.getProfileOccupationError(t):""}getIncomeError(){let t=this.profileForm.get("monthlyIncome");return t?this.validationService.getProfileIncomeError(t):""}};n.\u0275fac=function(i){return new(i||n)(T(Pr),T(kt),T(hn),T(vt),T(Ta),T(di),T(Xt),T(Ft),T(or))},n.\u0275cmp=Se({type:n,selectors:[["app-profile"]],decls:19,vars:7,consts:[["dobPicker",""],["mat-fab","","color","primary","class"," mobile-fab-btn",3,"click",4,"ngIf"],[1,"profile-container"],["class","loading-overlay",4,"ngIf"],[1,"profile-header"],[1,"header-content"],[1,"avatar-section"],[1,"avatar"],[1,"avatar-icon"],[1,"user-info"],[1,"user-name"],[1,"user-email"],[1,"user-role"],[1,"header-actions"],["mat-raised-button","","color","primary","class","edit-btn",3,"disabled","click",4,"ngIf"],["class","profile-content",4,"ngIf"],["mat-fab","","color","primary",1,"mobile-fab-btn",3,"click"],[4,"ngIf"],[1,"loading-overlay"],["diameter","40"],[1,"mt-4","text-gray-600"],["mat-raised-button","","color","primary",1,"edit-btn",3,"click","disabled"],[1,"profile-content"],[1,"profile-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-header"],[1,"section-icon"],[1,"form-grid"],["appearance","fill",1,"form-field"],["matInput","","formControlName","firstName","autocomplete","given-name",3,"readonly"],["matInput","","formControlName","lastName","autocomplete","family-name",3,"readonly"],["matInput","","type","email","formControlName","email","autocomplete","email",3,"readonly"],["matInput","","formControlName","phone","placeholder","+1 (555) 123-4567","autocomplete","tel",3,"readonly"],["matInput","","formControlName","dateOfBirth","autocomplete","bday",3,"matDatepicker","readonly"],["matSuffix","",3,"for","disabled"],["matInput","","formControlName","occupation","placeholder","e.g., Software Engineer","autocomplete","organization-title",3,"readonly"],["matInput","","type","number","formControlName","monthlyIncome","step","0.01","autocomplete","off",3,"readonly"],["matTextPrefix",""],["formGroupName","preferences",1,"form-section"],["formControlName","defaultCurrency",3,"disabled"],[3,"value"],["formControlName","timezone",3,"disabled"],["formControlName","language",3,"disabled"],[1,"preferences-grid"],[1,"preference-item"],["formControlName","notifications","color","primary",3,"disabled"],[1,"toggle-label"],[1,"preference-description"],["formControlName","emailUpdates","color","primary",3,"disabled"],["formControlName","budgetAlerts","color","primary",3,"disabled"],["class","form-actions",4,"ngIf"],[1,"account-actions-section"],[1,"actions-grid"],[1,"action-card"],[1,"action-icon"],["mat-stroked-button","",1,"action-btn",3,"click"],[1,"action-card","danger"],["mat-stroked-button","","color","warn",1,"action-btn",3,"click"],[1,"form-actions"],["type","button","mat-stroked-button","",1,"cancel-btn",3,"click","disabled"],["type","submit","mat-raised-button","","color","primary",1,"save-btn",3,"disabled"]],template:function(i,a){i&1&&(U(0,OW,3,2,"button",1),c(1,"div",2),U(2,TW,4,0,"div",3),c(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"mat-icon",8),d(8,"person"),l()(),c(9,"div",9)(10,"h1",10),d(11),l(),c(12,"p",11),d(13),l(),c(14,"p",12),d(15),l()()(),c(16,"div",13),U(17,EW,4,3,"button",14),l()()(),U(18,HW,129,27,"div",15),l()),i&2&&(M("ngIf",a.isMobile),h(2),M("ngIf",a.isLoading),h(9),G(a.getFullName()),h(2),G(a.userProfile==null?null:a.userProfile.email),h(2),ae("Member since ",a.getFormattedDate(a.userProfile==null?null:a.userProfile.createdAt),""),h(2),M("ngIf",!a.isMobile),h(),M("ngIf",a.userProfile))},dependencies:[dt,Mi,on,rr,sn,yi,Mr,Sr,qx,Nt,cs,lt,Ea,tp,Dl,zd,Or,Ia,co,xb,us,cr,Xi,lo,Ra],styles:[".profile-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:24px;min-height:100vh;background:var(--background-color);color:var(--text-color)}@media (max-width: 1024px){.profile-container[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.profile-container[_ngcontent-%COMP%]{padding:12px}}.loading-overlay[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;background:var(--background-color);border-radius:12px;box-shadow:0 2px 8px #0000001a}.profile-header[_ngcontent-%COMP%]{background:var(--card-background);border-radius:16px;padding:32px;margin-bottom:32px;box-shadow:0 4px 20px #00000014;border:1px solid var(--border-color)}@media (max-width: 1024px){.profile-header[_ngcontent-%COMP%]{padding:28px;margin-bottom:28px}}@media (max-width: 768px){.profile-header[_ngcontent-%COMP%]{padding:24px 20px;margin-bottom:24px}}@media (max-width: 480px){.profile-header[_ngcontent-%COMP%]{padding:20px 16px;margin-bottom:20px}}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:24px}@media (max-width: 1024px){.header-content[_ngcontent-%COMP%]{gap:20px}}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:20px}}@media (max-width: 480px){.header-content[_ngcontent-%COMP%]{gap:16px}}.avatar-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex:1}@media (max-width: 768px){.avatar-section[_ngcontent-%COMP%]{width:100%;gap:16px}}@media (max-width: 480px){.avatar-section[_ngcontent-%COMP%]{gap:12px}}.avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color),var(--accent-color));display:flex;align-items:center;justify-content:center;box-shadow:0 4px 16px #00000026;flex-shrink:0}@media (max-width: 1024px){.avatar[_ngcontent-%COMP%]{width:70px;height:70px}}@media (max-width: 768px){.avatar[_ngcontent-%COMP%]{width:60px;height:60px}}@media (max-width: 480px){.avatar[_ngcontent-%COMP%]{width:50px;height:50px}}.avatar-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px;color:#fff}@media (max-width: 1024px){.avatar-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}}@media (max-width: 768px){.avatar-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}}@media (max-width: 480px){.avatar-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}}.user-info[_ngcontent-%COMP%]{flex:1;min-width:0}.user-name[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin:0 0 8px;color:var(--text-color);word-wrap:break-word}@media (max-width: 1024px){.user-name[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 768px){.user-name[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 480px){.user-name[_ngcontent-%COMP%]{font-size:22px}}.user-email[_ngcontent-%COMP%]{font-size:16px;color:var(--text-secondary);margin:0 0 4px;word-wrap:break-word}@media (max-width: 480px){.user-email[_ngcontent-%COMP%]{font-size:14px}}.user-role[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted);margin:0}@media (max-width: 480px){.user-role[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 768px){.header-actions[_ngcontent-%COMP%]{width:100%}}.edit-btn[_ngcontent-%COMP%]{min-width:140px}@media (max-width: 1024px){.edit-btn[_ngcontent-%COMP%]{min-width:130px}}@media (max-width: 768px){.edit-btn[_ngcontent-%COMP%]{width:100%;min-width:unset}}.profile-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}@media (max-width: 768px){.profile-content[_ngcontent-%COMP%]{gap:24px}}@media (max-width: 480px){.profile-content[_ngcontent-%COMP%]{gap:20px}}.profile-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}@media (max-width: 768px){.profile-form[_ngcontent-%COMP%]{gap:24px}}@media (max-width: 480px){.profile-form[_ngcontent-%COMP%]{gap:20px}}.form-section[_ngcontent-%COMP%]{background:var(--card-background);border-radius:16px;padding:32px;box-shadow:0 4px 20px #00000014;border:1px solid var(--border-color)}@media (max-width: 1024px){.form-section[_ngcontent-%COMP%]{padding:28px}}@media (max-width: 768px){.form-section[_ngcontent-%COMP%]{padding:24px 20px}}@media (max-width: 480px){.form-section[_ngcontent-%COMP%]{padding:20px 16px}}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:24px;padding-bottom:16px;border-bottom:2px solid var(--border-color)}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:12px}}@media (max-width: 480px){.section-header[_ngcontent-%COMP%]{margin-bottom:16px;padding-bottom:10px;gap:8px}}.section-icon[_ngcontent-%COMP%]{color:var(--primary-color);font-size:24px;width:24px;height:24px;flex-shrink:0}@media (max-width: 480px){.section-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin:0;color:var(--text-color)}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px}@media (max-width: 1024px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}}@media (max-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}@media (max-width: 480px){.form-grid[_ngcontent-%COMP%]{gap:16px}}.form-field[_ngcontent-%COMP%]{width:100%}.preferences-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px;margin-top:24px}@media (max-width: 1024px){.preferences-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}}@media (max-width: 768px){.preferences-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}@media (max-width: 480px){.preferences-grid[_ngcontent-%COMP%]{gap:16px;margin-top:20px}}.preference-item[_ngcontent-%COMP%]{padding:20px;background:var(--background-color);border-radius:12px;border:1px solid var(--border-color);transition:all .3s ease}.preference-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}@media (max-width: 768px){.preference-item[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.preference-item[_ngcontent-%COMP%]{padding:14px}}.preference-item[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{margin-bottom:8px}.preference-description[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin:8px 0 0;line-height:1.4}@media (max-width: 480px){.preference-description[_ngcontent-%COMP%]{font-size:13px}}.toggle-label[_ngcontent-%COMP%]{font-weight:500;color:var(--text-color)}@media (max-width: 480px){.toggle-label[_ngcontent-%COMP%]{font-size:14px}}.form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:flex-end;padding:24px 0;border-top:1px solid var(--border-color)}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:12px;padding:20px 0}}@media (max-width: 480px){.form-actions[_ngcontent-%COMP%]{padding:16px 0;gap:10px}}.cancel-btn[_ngcontent-%COMP%]{min-width:120px}@media (max-width: 768px){.cancel-btn[_ngcontent-%COMP%]{width:100%;min-width:unset}}.save-btn[_ngcontent-%COMP%]{min-width:140px}@media (max-width: 1024px){.save-btn[_ngcontent-%COMP%]{min-width:130px}}@media (max-width: 768px){.save-btn[_ngcontent-%COMP%]{width:100%;min-width:unset}}.account-actions-section[_ngcontent-%COMP%]{background:var(--card-background);border-radius:16px;padding:32px;box-shadow:0 4px 20px #00000014;border:1px solid var(--border-color)}@media (max-width: 1024px){.account-actions-section[_ngcontent-%COMP%]{padding:28px}}@media (max-width: 768px){.account-actions-section[_ngcontent-%COMP%]{padding:24px 20px}}@media (max-width: 480px){.account-actions-section[_ngcontent-%COMP%]{padding:20px 16px}}.actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;margin-top:24px}@media (max-width: 1024px){.actions-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px}}@media (max-width: 768px){.actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}@media (max-width: 480px){.actions-grid[_ngcontent-%COMP%]{gap:16px;margin-top:20px}}.action-card[_ngcontent-%COMP%]{padding:24px;background:var(--background-color);border-radius:12px;border:1px solid var(--border-color);text-align:center;transition:all .3s ease}.action-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 24px #0000001f}.action-card.danger[_ngcontent-%COMP%]{border-color:var(--warn-color);background:#f443360d}.action-card.danger[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{color:var(--warn-color)}@media (max-width: 768px){.action-card[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 480px){.action-card[_ngcontent-%COMP%]{padding:16px}}.action-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:var(--primary-color);margin-bottom:16px}@media (max-width: 768px){.action-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;margin-bottom:12px}}@media (max-width: 480px){.action-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;margin-bottom:10px}}.action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:0 0 12px;color:var(--text-color)}@media (max-width: 768px){.action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin:0 0 10px}}@media (max-width: 480px){.action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;margin:0 0 8px}}.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin:0 0 20px;line-height:1.5}@media (max-width: 768px){.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;margin:0 0 16px}}@media (max-width: 480px){.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin:0 0 14px}}.action-btn[_ngcontent-%COMP%]{min-width:140px}@media (max-width: 1024px){.action-btn[_ngcontent-%COMP%]{min-width:130px}}@media (max-width: 768px){.action-btn[_ngcontent-%COMP%]{width:100%;min-width:unset}}.dark-theme[_nghost-%COMP%]   .profile-container[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .profile-container[_ngcontent-%COMP%]{background:var(--dark-background)}.dark-theme[_nghost-%COMP%]   .profile-header[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .profile-header[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .form-section[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .form-section[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .account-actions-section[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .account-actions-section[_ngcontent-%COMP%]{background:var(--dark-card-background);border-color:var(--dark-border-color)}.dark-theme[_nghost-%COMP%]   .preference-item[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .preference-item[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .action-card[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]{background:var(--dark-background);border-color:var(--dark-border-color)}.dark-theme[_nghost-%COMP%]   .user-name[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .user-name[_ngcontent-%COMP%]{color:var(--dark-text-color)}.dark-theme[_nghost-%COMP%]   .user-email[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .user-email[_ngcontent-%COMP%]{color:var(--dark-text-secondary)}.dark-theme[_nghost-%COMP%]   .user-role[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .user-role[_ngcontent-%COMP%]{color:var(--dark-text-muted)}.dark-theme[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--dark-text-color)}.dark-theme[_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--dark-text-color)}.dark-theme[_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--dark-text-secondary)}.dark-theme[_nghost-%COMP%]   .preference-description[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .preference-description[_ngcontent-%COMP%]{color:var(--dark-text-secondary)}.form-field[_ngcontent-%COMP%]{transition:all .3s ease}.form-field.mat-focused[_ngcontent-%COMP%]{transform:scale(1.02)}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}.loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@media (max-width: 640px){.form-grid[_ngcontent-%COMP%], .preferences-grid[_ngcontent-%COMP%], .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.user-info[_ngcontent-%COMP%], .action-card[_ngcontent-%COMP%], .preference-item[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}button[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width: 480px){.profile-container[_ngcontent-%COMP%]{padding:12px}.profile-header[_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%], .account-actions-section[_ngcontent-%COMP%]{padding:20px 16px}.user-name[_ngcontent-%COMP%]{font-size:22px}.avatar[_ngcontent-%COMP%]{width:50px;height:50px}.avatar-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.form-field[_ngcontent-%COMP%]{margin-bottom:8px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 16px}}@media (max-width: 768px) and (orientation: landscape){.profile-container[_ngcontent-%COMP%]{padding:16px}.header-content[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.avatar-section[_ngcontent-%COMP%], .header-actions[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%]{width:auto}}@media (max-width: 360px){.profile-container[_ngcontent-%COMP%]{padding:8px}.profile-header[_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%], .account-actions-section[_ngcontent-%COMP%]{padding:16px 12px}.user-name[_ngcontent-%COMP%]{font-size:20px}.avatar[_ngcontent-%COMP%]{width:45px;height:45px}.avatar-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15px}.action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 12px;font-size:14px}}@media (max-width: 768px){.mat-slide-toggle[_ngcontent-%COMP%]{min-height:48px}.action-btn[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{min-height:44px}.mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}}@media (min-width: 769px) and (max-width: 1024px){.form-grid[_ngcontent-%COMP%], .preferences-grid[_ngcontent-%COMP%], .actions-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]});let e=n;return e})();var QM="@firebase/installations",q_="0.6.9";var ZM=1e4,JM=`w:${q_}`,eS="FIS_v2",$W="https://firebaseinstallations.googleapis.com/v1",GW=60*60*1e3,qW="installations",XW="Installations";var KW={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bc=new Hm(qW,XW,KW);function tS(e){return e instanceof hv&&e.code.includes("request-failed")}function nS({projectId:e}){return`${$W}/projects/${e}/installations`}function iS(e){return{token:e.token,requestStatus:2,expiresIn:ZW(e.expiresIn),creationTime:Date.now()}}function rS(e,n){return me(this,null,function*(){let t=(yield n.json()).error;return bc.create("request-failed",{requestName:e,serverCode:t.code,serverMessage:t.message,serverStatus:t.status})})}function aS({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function QW(e,{refreshToken:n}){let r=aS(e);return r.append("Authorization",JW(n)),r}function oS(e){return me(this,null,function*(){let n=yield e();return n.status>=500&&n.status<600?e():n})}function ZW(e){return Number(e.replace("s","000"))}function JW(e){return`${eS} ${e}`}function eH(t,i){return me(this,arguments,function*({appConfig:e,heartbeatServiceProvider:n},{fid:r}){let a=nS(e),o=aS(e),s=n.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}let m={fid:r,authVersion:eS,appId:e.appId,sdkVersion:JM},u={method:"POST",headers:o,body:JSON.stringify(m)},f=yield oS(()=>fetch(a,u));if(f.ok){let g=yield f.json();return{fid:g.fid||r,registrationStatus:2,refreshToken:g.refreshToken,authToken:iS(g.authToken)}}else throw yield rS("Create Installation",f)})}function sS(e){return new Promise(n=>{setTimeout(n,e)})}function tH(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}var nH=/^[cdef][\w-]{21}$/,G_="";function iH(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let r=rH(e);return nH.test(r)?r:G_}catch{return G_}}function rH(e){return tH(e).substr(0,22)}function tf(e){return`${e.appName}!${e.appId}`}var cS=new Map;function lS(e,n){let r=tf(e);dS(r,n),aH(r,n)}function dS(e,n){let r=cS.get(e);if(r)for(let t of r)t(n)}function aH(e,n){let r=oH();r&&r.postMessage({key:e,fid:n}),sH()}var vc=null;function oH(){return!vc&&"BroadcastChannel"in self&&(vc=new BroadcastChannel("[Firebase] FID Change"),vc.onmessage=e=>{dS(e.data.key,e.data.fid)}),vc}function sH(){cS.size===0&&vc&&(vc.close(),vc=null)}var cH="firebase-installations-database",lH=1,Cc="firebase-installations-store",H_=null;function X_(){return H_||(H_=fd(cH,lH,{upgrade:(e,n)=>{switch(n){case 0:e.createObjectStore(Cc)}}})),H_}function ef(e,n){return me(this,null,function*(){let r=tf(e),i=(yield X_()).transaction(Cc,"readwrite"),a=i.objectStore(Cc),o=yield a.get(r);return yield a.put(n,r),yield i.done,(!o||o.fid!==n.fid)&&lS(e,n.fid),n})}function mS(e){return me(this,null,function*(){let n=tf(e),t=(yield X_()).transaction(Cc,"readwrite");yield t.objectStore(Cc).delete(n),yield t.done})}function nf(e,n){return me(this,null,function*(){let r=tf(e),i=(yield X_()).transaction(Cc,"readwrite"),a=i.objectStore(Cc),o=yield a.get(r),s=n(o);return s===void 0?yield a.delete(r):yield a.put(s,r),yield i.done,s&&(!o||o.fid!==s.fid)&&lS(e,s.fid),s})}function K_(e){return me(this,null,function*(){let n,r=yield nf(e.appConfig,t=>{let i=dH(t),a=mH(e,i);return n=a.registrationPromise,a.installationEntry});return r.fid===G_?{installationEntry:yield n}:{installationEntry:r,registrationPromise:n}})}function dH(e){let n=e||{fid:iH(),registrationStatus:0};return uS(n)}function mH(e,n){if(n.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(bc.create("app-offline"));return{installationEntry:n,registrationPromise:i}}let r={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},t=uH(e,r);return{installationEntry:r,registrationPromise:t}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:pH(e)}:{installationEntry:n}}function uH(e,n){return me(this,null,function*(){try{let r=yield eH(e,n);return ef(e.appConfig,r)}catch(r){throw tS(r)&&r.customData.serverCode===409?yield mS(e.appConfig):yield ef(e.appConfig,{fid:n.fid,registrationStatus:0}),r}})}function pH(e){return me(this,null,function*(){let n=yield XM(e.appConfig);for(;n.registrationStatus===1;)yield sS(100),n=yield XM(e.appConfig);if(n.registrationStatus===0){let{installationEntry:r,registrationPromise:t}=yield K_(e);return t||r}return n})}function XM(e){return nf(e,n=>{if(!n)throw bc.create("installation-not-found");return uS(n)})}function uS(e){return fH(e)?{fid:e.fid,registrationStatus:0}:e}function fH(e){return e.registrationStatus===1&&e.registrationTime+ZM<Date.now()}function hH(t,i){return me(this,arguments,function*({appConfig:e,heartbeatServiceProvider:n},r){let a=gH(e,r),o=QW(e,r),s=n.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}let m={installation:{sdkVersion:JM,appId:e.appId}},u={method:"POST",headers:o,body:JSON.stringify(m)},f=yield oS(()=>fetch(a,u));if(f.ok){let g=yield f.json();return iS(g)}else throw yield rS("Generate Auth Token",f)})}function gH(e,{fid:n}){return`${nS(e)}/${n}/authTokens:generate`}function Q_(e,n=!1){return me(this,null,function*(){let r,t=yield nf(e.appConfig,a=>{if(!pS(a))throw bc.create("not-registered");let o=a.authToken;if(!n&&vH(o))return a;if(o.requestStatus===1)return r=_H(e,n),a;{if(!navigator.onLine)throw bc.create("app-offline");let s=CH(a);return r=xH(e,s),s}});return r?yield r:t.authToken})}function _H(e,n){return me(this,null,function*(){let r=yield KM(e.appConfig);for(;r.authToken.requestStatus===1;)yield sS(100),r=yield KM(e.appConfig);let t=r.authToken;return t.requestStatus===0?Q_(e,n):t})}function KM(e){return nf(e,n=>{if(!pS(n))throw bc.create("not-registered");let r=n.authToken;return yH(r)?Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}):n})}function xH(e,n){return me(this,null,function*(){try{let r=yield hH(e,n),t=Object.assign(Object.assign({},n),{authToken:r});return yield ef(e.appConfig,t),r}catch(r){if(tS(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))yield mS(e.appConfig);else{let t=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}});yield ef(e.appConfig,t)}throw r}})}function pS(e){return e!==void 0&&e.registrationStatus===2}function vH(e){return e.requestStatus===2&&!bH(e)}function bH(e){let n=Date.now();return n<e.creationTime||e.creationTime+e.expiresIn<n+GW}function CH(e){let n={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:n})}function yH(e){return e.requestStatus===1&&e.requestTime+ZM<Date.now()}function wH(e){return me(this,null,function*(){let n=e,{installationEntry:r,registrationPromise:t}=yield K_(n);return t?t.catch(console.error):Q_(n).catch(console.error),r.fid})}function MH(e,n=!1){return me(this,null,function*(){let r=e;return yield SH(r),(yield Q_(r,n)).token})}function SH(e){return me(this,null,function*(){let{registrationPromise:n}=yield K_(e);n&&(yield n)})}function PH(e){if(!e||!e.options)throw $_("App Configuration");if(!e.name)throw $_("App Name");let n=["projectId","apiKey","appId"];for(let r of n)if(!e.options[r])throw $_(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function $_(e){return bc.create("missing-app-config-values",{valueName:e})}var fS="installations",kH="installations-internal",OH=e=>{let n=e.getProvider("app").getImmediate(),r=PH(n),t=hd(n,"heartbeat");return{app:n,appConfig:r,heartbeatServiceProvider:t,_delete:()=>Promise.resolve()}},TH=e=>{let n=e.getProvider("app").getImmediate(),r=hd(n,fS).getImmediate();return{getId:()=>wH(r),getToken:i=>MH(r,i)}};function EH(){nl(new tl(fS,OH,"PUBLIC")),nl(new tl(kH,TH,"PRIVATE"))}EH();rs(QM,q_);rs(QM,q_,"esm2017");var DH="/firebase-messaging-sw.js",IH="/firebase-cloud-messaging-push-scope",bS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",AH="https://fcmregistrations.googleapis.com/v1",CS="google.c.a.c_id",FH="google.c.a.c_l",RH="google.c.a.ts",NH="google.c.a.e";var rf=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}(rf||{});function qo(e){let n=new Uint8Array(e);return btoa(String.fromCharCode(...n)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function LH(e){let n="=".repeat((4-e.length%4)%4),r=(e+n).replace(/\-/g,"+").replace(/_/g,"/"),t=atob(r),i=new Uint8Array(t.length);for(let a=0;a<t.length;++a)i[a]=t.charCodeAt(a);return i}var Z_="fcm_token_details_db",BH=5,hS="fcm_token_object_Store";function VH(e){return me(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(Z_))return null;let n=null;return(yield fd(Z_,BH,{upgrade:(t,i,a,o)=>me(this,null,function*(){var s;if(i<2||!t.objectStoreNames.contains(hS))return;let m=o.objectStore(hS),u=yield m.index("fcmSenderId").get(e);if(yield m.clear(),!!u){if(i===2){let f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;n={token:f.fcmToken,createTime:(s=f.createTime)!==null&&s!==void 0?s:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:qo(f.vapidKey)}}}else if(i===3){let f=u;n={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:qo(f.auth),p256dh:qo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:qo(f.vapidKey)}}}else if(i===4){let f=u;n={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:qo(f.auth),p256dh:qo(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:qo(f.vapidKey)}}}}})})).close(),yield Gm(Z_),yield Gm("fcm_vapid_details_db"),yield Gm("undefined"),jH(n)?n:null})}function jH(e){if(!e||!e.subscriptionOptions)return!1;let{subscriptionOptions:n}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof n.auth=="string"&&n.auth.length>0&&typeof n.p256dh=="string"&&n.p256dh.length>0&&typeof n.endpoint=="string"&&n.endpoint.length>0&&typeof n.swScope=="string"&&n.swScope.length>0&&typeof n.vapidKey=="string"&&n.vapidKey.length>0}var zH="firebase-messaging-database",UH=1,P0="firebase-messaging-store",J_=null;function yS(){return J_||(J_=fd(zH,UH,{upgrade:(e,n)=>{switch(n){case 0:e.createObjectStore(P0)}}})),J_}function YH(e){return me(this,null,function*(){let n=wS(e),t=yield(yield yS()).transaction(P0).objectStore(P0).get(n);if(t)return t;{let i=yield VH(e.appConfig.senderId);if(i)return yield n1(e,i),i}})}function n1(e,n){return me(this,null,function*(){let r=wS(e),i=(yield yS()).transaction(P0,"readwrite");return yield i.objectStore(P0).put(n,r),yield i.done,n})}function wS({appConfig:e}){return e.appId}var WH={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Br=new Hm("messaging","Messaging",WH);function HH(e,n){return me(this,null,function*(){let r=yield r1(e),t=MS(n),i={method:"POST",headers:r,body:JSON.stringify(t)},a;try{a=yield(yield fetch(i1(e.appConfig),i)).json()}catch(o){throw Br.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){let o=a.error.message;throw Br.create("token-subscribe-failed",{errorInfo:o})}if(!a.token)throw Br.create("token-subscribe-no-token");return a.token})}function $H(e,n){return me(this,null,function*(){let r=yield r1(e),t=MS(n.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(t)},a;try{a=yield(yield fetch(`${i1(e.appConfig)}/${n.token}`,i)).json()}catch(o){throw Br.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){let o=a.error.message;throw Br.create("token-update-failed",{errorInfo:o})}if(!a.token)throw Br.create("token-update-no-token");return a.token})}function GH(e,n){return me(this,null,function*(){let t={method:"DELETE",headers:yield r1(e)};try{let a=yield(yield fetch(`${i1(e.appConfig)}/${n}`,t)).json();if(a.error){let o=a.error.message;throw Br.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Br.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}})}function i1({projectId:e}){return`${AH}/projects/${e}/registrations`}function r1(r){return me(this,arguments,function*({appConfig:e,installations:n}){let t=yield n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})}function MS({p256dh:e,auth:n,endpoint:r,vapidKey:t}){let i={web:{endpoint:r,auth:n,p256dh:e}};return t!==bS&&(i.web.applicationPubKey=t),i}var qH=7*24*60*60*1e3;function XH(e){return me(this,null,function*(){let n=yield QH(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:n.endpoint,auth:qo(n.getKey("auth")),p256dh:qo(n.getKey("p256dh"))},t=yield YH(e.firebaseDependencies);if(t){if(ZH(t.subscriptionOptions,r))return Date.now()>=t.createTime+qH?KH(e,{token:t.token,createTime:Date.now(),subscriptionOptions:r}):t.token;try{yield GH(e.firebaseDependencies,t.token)}catch(i){console.warn(i)}return gS(e.firebaseDependencies,r)}else return gS(e.firebaseDependencies,r)})}function KH(e,n){return me(this,null,function*(){try{let r=yield $H(e.firebaseDependencies,n),t=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()});return yield n1(e.firebaseDependencies,t),r}catch(r){throw r}})}function gS(e,n){return me(this,null,function*(){let t={token:yield HH(e,n),createTime:Date.now(),subscriptionOptions:n};return yield n1(e,t),t.token})}function QH(e,n){return me(this,null,function*(){let r=yield e.pushManager.getSubscription();return r||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:LH(n)})})}function ZH(e,n){let r=n.vapidKey===e.vapidKey,t=n.endpoint===e.endpoint,i=n.auth===e.auth,a=n.p256dh===e.p256dh;return r&&t&&i&&a}function _S(e){let n={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return JH(n,e),e$(n,e),t$(n,e),n}function JH(e,n){if(!n.notification)return;e.notification={};let r=n.notification.title;r&&(e.notification.title=r);let t=n.notification.body;t&&(e.notification.body=t);let i=n.notification.image;i&&(e.notification.image=i);let a=n.notification.icon;a&&(e.notification.icon=a)}function e$(e,n){n.data&&(e.data=n.data)}function t$(e,n){var r,t,i,a,o;if(!n.fcmOptions&&!(!((r=n.notification)===null||r===void 0)&&r.click_action))return;e.fcmOptions={};let s=(i=(t=n.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&i!==void 0?i:(a=n.notification)===null||a===void 0?void 0:a.click_action;s&&(e.fcmOptions.link=s);let m=(o=n.fcmOptions)===null||o===void 0?void 0:o.analytics_label;m&&(e.fcmOptions.analyticsLabel=m)}function n$(e){return typeof e=="object"&&!!e&&CS in e}i$("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function i$(e,n){let r=[];for(let t=0;t<e.length;t++)r.push(e.charAt(t)),t<n.length&&r.push(n.charAt(t));return r.join("")}function r$(e){if(!e||!e.options)throw e1("App Configuration Object");if(!e.name)throw e1("App Name");let n=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(let t of n)if(!r[t])throw e1(t);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function e1(e){return Br.create("missing-app-config-values",{valueName:e})}var t1=class{constructor(n,r,t){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=r$(n);this.firebaseDependencies={app:n,appConfig:i,installations:r,analyticsProvider:t}}_delete(){return Promise.resolve()}};function a$(e){return me(this,null,function*(){try{e.swRegistration=yield navigator.serviceWorker.register(DH,{scope:IH}),e.swRegistration.update().catch(()=>{})}catch(n){throw Br.create("failed-service-worker-registration",{browserErrorMessage:n==null?void 0:n.message})}})}function o$(e,n){return me(this,null,function*(){if(!n&&!e.swRegistration&&(yield a$(e)),!(!n&&e.swRegistration)){if(!(n instanceof ServiceWorkerRegistration))throw Br.create("invalid-sw-registration");e.swRegistration=n}})}function s$(e,n){return me(this,null,function*(){n?e.vapidKey=n:e.vapidKey||(e.vapidKey=bS)})}function SS(e,n){return me(this,null,function*(){if(!navigator)throw Br.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Br.create("permission-blocked");return yield s$(e,n==null?void 0:n.vapidKey),yield o$(e,n==null?void 0:n.serviceWorkerRegistration),XH(e)})}function c$(e,n,r){return me(this,null,function*(){let t=l$(n);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(t,{message_id:r[CS],message_name:r[FH],message_time:r[RH],message_device_time:Math.floor(Date.now()/1e3)})})}function l$(e){switch(e){case rf.NOTIFICATION_CLICKED:return"notification_open";case rf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function d$(e,n){return me(this,null,function*(){let r=n.data;if(!r.isFirebaseMessaging)return;e.onMessageHandler&&r.messageType===rf.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(_S(r)):e.onMessageHandler.next(_S(r)));let t=r.data;n$(t)&&t[NH]==="1"&&(yield c$(e,r.messageType,t))})}var xS="@firebase/messaging",vS="0.12.12";var m$=e=>{let n=new t1(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>d$(n,r)),n},u$=e=>{let n=e.getProvider("messaging").getImmediate();return{getToken:t=>SS(n,t)}};function p$(){nl(new tl("messaging",m$,"PUBLIC")),nl(new tl("messaging-internal",u$,"PRIVATE")),rs(xS,vS),rs(xS,vS,"esm2017")}function a1(){return me(this,null,function*(){try{yield pv()}catch{return!1}return typeof window<"u"&&uv()&&fv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function f$(e,n){if(!navigator)throw Br.create("only-available-in-window");return e.onMessageHandler=n,()=>{e.onMessageHandler=null}}function PS(e=Uf()){return a1().then(n=>{if(!n)throw Br.create("unsupported-browser")},n=>{throw Br.create("indexed-db-unsupported")}),hd($m(e),"messaging").getImmediate()}function kS(e,n){return me(this,null,function*(){return e=$m(e),SS(e,n)})}function OS(e,n){return e=$m(e),f$(e,n)}p$();var k0=class{constructor(n){return n}},TS="messaging",o1=class{constructor(){return vv(TS)}};var af="__angularfire_symbol__messagingIsSupported",s1="__angularfire_symbol__messagingIsSupportedValue";globalThis[af]||(globalThis[af]=a1().then(e=>globalThis[s1]=e).catch(()=>globalThis[s1]=!1));var of={async:()=>globalThis[af],sync:()=>{let e=globalThis[s1];if(e===void 0)throw new Error(_v("Messaging"));return e}},c1=new Pn("angularfire2.messaging-instances");function h$(e,n){if(!of.sync())return null;let r=xv(TS,e,n);return r&&new k0(r)}function g$(e){return(n,r)=>{if(!of.sync())return null;let t=n.runOutsideAngular(()=>e(r));return new k0(t)}}var _$={provide:o1,deps:[[new Ws,c1]]},x$={provide:k0,useFactory:h$,deps:[[new Ws,c1],Cv]};function ES(e,...n){return rs("angularfire",gv.full,"fcm"),Rc([x$,_$,{provide:Nx,useValue:of.async,multi:!0},{provide:c1,useFactory:g$(e),multi:!0,deps:[kn,qr,bv,yv,...n]}])}var Ite=of.async;var ed=qm(PS,!0),l1=qm(kS,!0),sf=qm(OS,!1);var cf=(()=>{let n=class n{constructor(t,i){this.ngZone=t,this.platformId=i,this.tokenSubject=new ln(null),this.permissionSubject=new ln("default"),this.notificationSubject=new ln(null),this.swRegistration=null,this.token$=this.tokenSubject.asObservable(),this.permission$=this.permissionSubject.asObservable(),this.notifications$=this.notificationSubject.asObservable(),this.platformInfo=this.detectPlatform(),this.initializeMessagingWithoutPermission()}detectPlatform(){if(Jo(this.platformId))return{isAndroid:!1,isIOS:!1,isChrome:!1,isSafari:!1,isFirefox:!1,isEdge:!1,isMobile:!1,isDesktop:!1,isPWA:!1,isStandalone:!1,supportsNotifications:!1,supportsServiceWorker:!1,supportsPushManager:!1};let t=navigator.userAgent,i=/Android/i.test(t),a=/iPad|iPhone|iPod/.test(t),o=/Chrome/.test(t)&&!/Edge/.test(t),s=/Safari/.test(t)&&!/Chrome/.test(t),m=/Firefox/.test(t),u=/Edge/.test(t),f=i||a||/webOS|BlackBerry|IEMobile|Opera Mini/i.test(t),g=!f,x=window.matchMedia("(display-mode: standalone)").matches,C=x||window.navigator.standalone===!0,y="Notification"in window,v="serviceWorker"in navigator,P="PushManager"in window;return{isAndroid:i,isIOS:a,isChrome:o,isSafari:s,isFirefox:m,isEdge:u,isMobile:f,isDesktop:g,isPWA:x,isStandalone:C,supportsNotifications:y,supportsServiceWorker:v,supportsPushManager:P}}getPlatformInfo(){return this.platformInfo}initializeMessagingWithoutPermission(){return me(this,null,function*(){try{if(Jo(this.platformId)){console.log("Skipping Firebase messaging initialization on server-side");return}if(!this.platformInfo.supportsNotifications){console.warn("This browser does not support notifications");return}if(!this.platformInfo.supportsServiceWorker){console.warn("Service Worker not supported");return}yield this.initializePlatformSpecific(),yield this.registerFirebaseMessagingSW(),this.messaging=ed(),this.permissionSubject.next(Notification.permission),"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then(t=>{t.onchange=()=>{this.ngZone.run(()=>{this.permissionSubject.next(Notification.permission)})}}),sf(this.messaging,t=>{this.ngZone.run(()=>me(this,null,function*(){console.log("Foreground message received:",t),yield this.handleForegroundMessage(t)}))}),console.log("Firebase messaging initialized without automatic permission request")}catch(t){console.error("Failed to initialize Firebase messaging:",t)}})}initializeMessaging(){return me(this,null,function*(){try{if(Jo(this.platformId)){console.log("Skipping Firebase messaging initialization on server-side");return}if(!this.platformInfo.supportsNotifications){console.warn("This browser does not support notifications");return}if(!this.platformInfo.supportsServiceWorker){console.warn("Service Worker not supported");return}yield this.initializePlatformSpecific(),yield this.registerFirebaseMessagingSW(),this.messaging=ed(),this.permissionSubject.next(Notification.permission),"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then(t=>{t.onchange=()=>{this.ngZone.run(()=>{this.permissionSubject.next(Notification.permission)})}}),sf(this.messaging,t=>{this.ngZone.run(()=>me(this,null,function*(){console.log("Foreground message received:",t),yield this.handleForegroundMessage(t)}))}),yield this.requestPermission()}catch(t){console.error("Failed to initialize Firebase messaging:",t)}})}initializePlatformSpecific(){return me(this,null,function*(){console.log("Platform info:",this.platformInfo),this.platformInfo.isIOS&&(console.log("Initializing for iOS platform"),yield this.initializeIOS()),this.platformInfo.isAndroid&&(console.log("Initializing for Android platform"),yield this.initializeAndroid()),this.platformInfo.isChrome&&this.platformInfo.isDesktop&&(console.log("Initializing for Chrome desktop platform"),yield this.initializeChromeDesktop()),this.platformInfo.isSafari&&(console.log("Initializing for Safari platform"),yield this.initializeSafari())})}initializeIOS(){return me(this,null,function*(){this.platformInfo.isStandalone||console.warn("iOS notifications work best when app is added to home screen");let t=this.getIOSVersion();t&&t<14&&console.warn("iOS version may have limited notification support")})}initializeAndroid(){return me(this,null,function*(){let t=this.getChromeVersion();t&&t<79&&console.warn("Chrome version may have limited notification support");let i=this.getAndroidVersion();i&&i<6&&console.warn("Android version may have limited notification support")})}initializeChromeDesktop(){return me(this,null,function*(){let t=this.getChromeVersion();t&&t<79&&console.warn("Chrome version may have limited notification support")})}initializeSafari(){return me(this,null,function*(){let t=this.getSafariVersion();t&&t<16.4&&console.warn("Safari version may have limited notification support")})}getIOSVersion(){let t=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return t?parseInt(t[1],10):null}getAndroidVersion(){let t=navigator.userAgent.match(/Android (\d+)/);return t?parseInt(t[1],10):null}getChromeVersion(){let t=navigator.userAgent.match(/Chrome\/(\d+)/);return t?parseInt(t[1],10):null}getSafariVersion(){let t=navigator.userAgent.match(/Version\/(\d+)/);return t?parseInt(t[1],10):null}registerFirebaseMessagingSW(){return me(this,null,function*(){try{let i=(yield navigator.serviceWorker.getRegistrations()).find(o=>{var s;return o.scope.includes(Ai.serviceWorkerScope)||((s=o.active)==null?void 0:s.scriptURL.includes(Ai.serviceWorkerScope+"firebase-messaging-sw.js"))});if(i){console.log("Firebase messaging service worker already registered"),this.swRegistration=i;return}let a=this.getServiceWorkerOptions();console.log("Registering Firebase messaging service worker..."),this.swRegistration=yield navigator.serviceWorker.register(Ai.serviceWorkerScope+"firebase-messaging-sw.js",a),console.log("Firebase messaging service worker registered successfully:",this.swRegistration),yield this.swRegistration.update()}catch(t){throw console.error("Failed to register Firebase messaging service worker:",t),t}})}getServiceWorkerOptions(){let t={scope:Ai.serviceWorkerScope};return this.platformInfo.isIOS||this.platformInfo.isAndroid||this.platformInfo.isChrome&&this.platformInfo.isDesktop,t}handleForegroundMessage(t){return me(this,null,function*(){var a,o,s,m,u,f,g,x,C;let i={title:((a=t.notification)==null?void 0:a.title)||"New Notification",body:((o=t.notification)==null?void 0:o.body)||"",icon:this.getPlatformSpecificIcon((s=t.notification)==null?void 0:s.icon),badge:this.getPlatformSpecificBadge((m=t.notification)==null?void 0:m.badge),image:(u=t.notification)==null?void 0:u.image,data:t.data||{},tag:(f=t.notification)==null?void 0:f.tag,requireInteraction:((g=t.notification)==null?void 0:g.requireInteraction)||!1,silent:((x=t.notification)==null?void 0:x.silent)||!1,timestamp:((C=t.notification)==null?void 0:C.timestamp)||Date.now()};this.notificationSubject.next(i),yield this.showNotification(i)})}getPlatformSpecificIcon(t){return t||(this.platformInfo.isIOS?Ai.baseUrl+"/assets/icon/app-icon/icon-152x152.png":this.platformInfo.isAndroid?Ai.baseUrl+"/assets/icon/app-icon/icon-192x192.png":Ai.baseUrl+"/assets/icon/app-icon/icon-192x192.png")}getPlatformSpecificBadge(t){return t||(this.platformInfo.isIOS||this.platformInfo.isAndroid,"/icons/icon-72x72.png")}requestPermission(){return me(this,null,function*(){try{if(!this.platformInfo.supportsNotifications)throw new Error("Notifications not supported");let t=yield this.requestPlatformSpecificPermission();return this.permissionSubject.next(t),t==="granted"&&(yield this.getToken()),t}catch(t){return console.error("Error requesting notification permission:",t),"denied"}})}requestPlatformSpecificPermission(){return me(this,null,function*(){return this.platformInfo.isSafari?(console.log("Requesting permission for Safari"),Notification.requestPermission()):this.platformInfo.isAndroid?(console.log("Requesting permission for Android Chrome"),Notification.requestPermission()):(this.platformInfo.isChrome&&this.platformInfo.isDesktop&&console.log("Requesting permission for Chrome desktop"),Notification.requestPermission())})}getToken(){return me(this,null,function*(){try{if(!this.messaging)return console.warn("Messaging not initialized"),null;this.swRegistration&&(yield this.swRegistration.update());let t=this.getPlatformSpecificTokenOptions(),i=yield l1(this.messaging,t);return i?(this.tokenSubject.next(i),localStorage.setItem("fcm-token",i),i):(console.warn("No registration token available"),null)}catch(t){return console.error("Error getting FCM token:",t),null}})}getPlatformSpecificTokenOptions(){let t={vapidKey:Ai.vapidKey,serviceWorkerRegistration:this.swRegistration||void 0};return this.platformInfo.isIOS||this.platformInfo.isAndroid||this.platformInfo.isChrome&&this.platformInfo.isDesktop,t}refreshToken(){return me(this,null,function*(){try{if(!this.messaging)return null;let t=yield l1(this.messaging,{vapidKey:Ai.vapidKey,serviceWorkerRegistration:this.swRegistration||void 0});return t?(this.tokenSubject.next(t),localStorage.setItem("fcm-token",t),t):null}catch(t){return console.error("Error refreshing FCM token:",t),null}})}showNotification(t){return me(this,null,function*(){if(Notification.permission!=="granted"){console.warn("Notification permission not granted");return}this.platformInfo.isMobile||this.platformInfo.isAndroid?yield this.showNotificationViaServiceWorker(t):this.showNotificationDirect(t)})}showNotificationViaServiceWorker(t){return me(this,null,function*(){try{if(!this.swRegistration){console.warn("Service Worker not registered, falling back to direct notification"),this.showNotificationDirect(t);return}if(!this.swRegistration.active&&(console.warn("Service Worker not active, waiting for activation..."),yield this.swRegistration.update(),!this.swRegistration.active)){console.warn("Service Worker still not active, falling back to direct notification"),this.showNotificationDirect(t);return}let i={type:"SHOW_NOTIFICATION",notification:{title:t.title,body:t.body,icon:t.icon,badge:t.badge,image:t.image,data:t.data,tag:t.tag,requireInteraction:t.requireInteraction,silent:t.silent,timestamp:t.timestamp,actions:t.actions}};this.swRegistration.active.postMessage(i),console.log("Notification request sent to Service Worker")}catch(i){console.error("Error showing notification via Service Worker:",i),this.showNotificationDirect(t)}})}showNotificationDirect(t){try{let i={body:t.body,icon:t.icon,badge:t.badge,data:t.data,tag:t.tag,requireInteraction:t.requireInteraction,silent:t.silent},a=new Notification(t.title,i);a.onclick=o=>{o.preventDefault(),this.handleNotificationClick(t,o),a.close()},t.requireInteraction||setTimeout(()=>{a.close()},5e3),console.log("Notification shown directly")}catch(i){console.error("Error showing direct notification:",i)}}handleNotificationClick(t,i){var a,o;console.log("Notification clicked:",t),window.focus&&window.focus(),(a=t.data)!=null&&a.url?window.open(t.data.url,"_blank"):(o=t.data)!=null&&o.route&&(window.location.href=t.data.route),this.notificationSubject.next(de(oe({},t),{data:de(oe({},t.data),{action:"click"})}))}handleNotificationAction(t,i){var a;switch(console.log("Notification action clicked:",i.action,t),i.action){case"view":this.handleNotificationClick(t,i);break;case"dismiss":break;default:(a=t.data)!=null&&a.actionUrl&&window.open(t.data.actionUrl,"_blank")}this.notificationSubject.next(de(oe({},t),{data:de(oe({},t.data),{action:i.action})}))}getStoredToken(){return localStorage.getItem("fcm-token")}clearStoredToken(){localStorage.removeItem("fcm-token"),this.tokenSubject.next(null)}isSupported(){return this.platformInfo.supportsNotifications&&this.platformInfo.supportsServiceWorker}isPlatformSupported(){if(this.platformInfo.isAndroid||this.platformInfo.isChrome&&this.platformInfo.isDesktop)return!0;if(this.platformInfo.isIOS){let t=this.getIOSVersion();return t?t>=14:!1}if(this.platformInfo.isSafari){let t=this.getSafariVersion();return t?t>=16.4:!1}return!1}getPlatformSupportInfo(){if(this.platformInfo.isAndroid)return"Excellent support on Android Chrome";if(this.platformInfo.isChrome&&this.platformInfo.isDesktop)return"Excellent support on Chrome desktop";if(this.platformInfo.isIOS){let t=this.getIOSVersion();return t&&t>=14?"Good support on iOS (requires home screen installation for best results)":"Limited support on iOS (requires iOS 14+ and home screen installation)"}if(this.platformInfo.isSafari){let t=this.getSafariVersion();return t&&t>=16.4?"Good support on Safari 16.4+":"Limited support on Safari (requires Safari 16.4+)"}return"Limited or no support on this platform"}getServiceWorkerRegistration(){return this.swRegistration}initializeMessagingWithPermission(){return me(this,null,function*(){yield this.initializeMessaging()})}sendTestNotification(){return me(this,null,function*(){let t={title:"Test Notification",body:"This is a test notification from Money Manager",icon:Ai.baseUrl+"/assets/icons/icon-192x192.png",badge:Ai.baseUrl+"/assets/icons/icon-72x72.png",data:{type:"test",timestamp:Date.now().toString()},actions:[{action:"view",title:"View"},{action:"dismiss",title:"Dismiss"}]};yield this.showNotification(t)})}listenForMessages(){let t=ed();sf(t,i=>{console.log("Message received: ",i),alert("Message received: "+i)})}};n.\u0275fac=function(i){return new(i||n)(Ie(kn),Ie(X0))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function v$(e,n){e&1&&se(0,"div",35)}function b$(e,n){if(e&1){let r=ue();c(0,"button",33),F("click",function(){N(r);let i=w();return L(i.requestPermission())}),c(1,"span",30),d(2,"\u{1F514}"),l(),c(3,"span",31),d(4,"Enable Notifications"),l(),U(5,v$,1,0,"div",34),l()}if(e&2){let r=w();M("disabled",r.isLoading),h(5),M("ngIf",r.isLoading)}}function C$(e,n){if(e&1){let r=ue();c(0,"button",36),F("click",function(){N(r);let i=w();return L(i.openPermissionHelp())}),c(1,"span",30),d(2,"\u2753"),l(),c(3,"span",31),d(4,"How to Enable"),l()()}}function y$(e,n){e&1&&se(0,"div",35)}function w$(e,n){if(e&1){let r=ue();c(0,"button",37),F("click",function(){N(r);let i=w();return L(i.testNotification())}),c(1,"span",30),d(2,"\u{1F4E4}"),l(),c(3,"span",31),d(4,"Test Notification"),l(),U(5,y$,1,0,"div",34),l()}if(e&2){let r=w();M("disabled",r.isLoading),h(5),M("ngIf",r.isLoading)}}function M$(e,n){if(e&1){let r=ue();c(0,"div",41)(1,"div",42)(2,"div",43)(3,"span",13),d(4),l()(),c(5,"div",44)(6,"h4"),d(7),l(),c(8,"p"),d(9),l()()(),c(10,"mat-slide-toggle",45),F("change",function(i){let a=N(r).$implicit,o=w(2);return L(o.toggleNotificationType(a.key,i))}),l()()}if(e&2){let r=n.$implicit;h(4),G(r.icon),h(3),G(r.title),h(2),G(r.description),h(),M("checked",r.enabled)}}function S$(e,n){if(e&1&&(c(0,"div",38)(1,"div",27)(2,"h3"),d(3,"Notification Types"),l(),c(4,"p"),d(5,"Choose which types of notifications you want to receive"),l()(),c(6,"div",39),U(7,M$,11,4,"div",40),l()()),e&2){let r=w();h(7),M("ngForOf",r.notificationTypes)}}function P$(e,n){e&1&&se(0,"div",35)}function k$(e,n){if(e&1){let r=ue();c(0,"div",46)(1,"div",27)(2,"h3"),d(3,"Device Token"),l(),c(4,"p"),d(5,"Your device registration for push notifications"),l()(),c(6,"div",47)(7,"div",48)(8,"div",49),d(9,"Device Token:"),l(),c(10,"div",50)(11,"code"),d(12),l(),c(13,"button",51),F("click",function(){N(r);let i=w();return L(i.copyToken())}),c(14,"span",13),d(15,"\u{1F4CB}"),l()()()(),c(16,"button",52),F("click",function(){N(r);let i=w();return L(i.refreshToken())}),c(17,"span",30),d(18,"\u{1F504}"),l(),c(19,"span",31),d(20,"Refresh Token"),l(),U(21,P$,1,0,"div",34),l()()()}if(e&2){let r=w();h(12),G(r.fcmToken),h(4),M("disabled",r.isLoading),h(5),M("ngIf",r.isLoading)}}function O$(e,n){if(e&1){let r=ue();c(0,"div",55)(1,"div",56)(2,"div",57)(3,"span",13),d(4),l()(),c(5,"div",58)(6,"h4"),d(7),l(),c(8,"p"),d(9),l()()(),c(10,"mat-slide-toggle",59),F("change",function(i){let a=N(r).$implicit,o=w(2);return L(o.updateSetting(a.key,i))}),l()()}if(e&2){let r=n.$implicit,t=w(2);h(4),G(r.icon),h(3),G(r.title),h(2),G(r.description),h(),M("checked",t.getSettingValue(r.key))}}function T$(e,n){if(e&1&&(c(0,"div",38)(1,"div",27)(2,"h3"),d(3,"Advanced Settings"),l(),c(4,"p"),d(5,"Customize notification behavior"),l()(),c(6,"div",53),U(7,O$,11,4,"div",54),l()()),e&2){let r=w();h(7),M("ngForOf",r.advancedSettings)}}function E$(e,n){e&1&&(c(0,"div",60)(1,"div",61)(2,"div",62)(3,"span",13),d(4,"\u{1F515}"),l()(),c(5,"h3"),d(6,"Notifications Disabled"),l(),c(7,"p"),d(8,"Enable the master toggle above to configure your notification preferences."),l()()())}function D$(e,n){if(e&1&&(c(0,"div",63)(1,"h4"),d(2,"Debug Information"),l(),c(3,"pre"),d(4),_e(5,"json"),l()()),e&2){let r=w();h(4),G(Ne(5,1,r.debugInfo))}}var IS=(()=>{let n=class n{constructor(t,i){this.messagingService=t,this.notificationService=i,this.destroy$=new _t,this.APP_CONFIG=Ot,this.permissionStatus="default",this.fcmToken=null,this.isLoading=!1,this.notificationsEnabled=!0,this.debugInfo={},this.notificationTypes=[{key:"transactions",title:"Transaction Alerts",description:"Get notified about new transactions and spending limits",icon:"\u{1F4B0}",enabled:!0},{key:"budgets",title:"Budget Reminders",description:"Receive alerts when approaching budget limits",icon:"\u{1F4B3}",enabled:!0},{key:"goals",title:"Goal Updates",description:"Track progress on your financial goals",icon:"\u{1F3AF}",enabled:!0},{key:"bills",title:"Bill Reminders",description:"Never miss a bill payment",icon:"\u{1F4C5}",enabled:!0},{key:"security",title:"Security Alerts",description:"Important security notifications",icon:"\u{1F512}",enabled:!0}],this.advancedSettings=[{key:"soundEnabled",title:"Sound",description:"Play sound for notifications",icon:"\u{1F50A}",value:!0},{key:"vibrationEnabled",title:"Vibration",description:"Vibrate device for notifications",icon:"\u{1F4F3}",value:!0},{key:"requireInteraction",title:"Require Interaction",description:"Keep notifications until user interacts",icon:"\u{1F446}",value:!1}]}ngOnInit(){this.loadSettings(),this.subscribeToMessagingEvents(),this.collectDebugInfo()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadSettings(){this.notificationTypes.forEach(i=>{let a=localStorage.getItem(`notification_${i.key}`);i.enabled=a?JSON.parse(a):!0}),this.advancedSettings.forEach(i=>{let a=localStorage.getItem(`notification_advanced_${i.key}`);i.value=a?JSON.parse(a):i.value});let t=localStorage.getItem("notifications_enabled");this.notificationsEnabled=t?JSON.parse(t):!0}saveSettings(){this.notificationTypes.forEach(t=>{localStorage.setItem(`notification_${t.key}`,JSON.stringify(t.enabled))}),this.advancedSettings.forEach(t=>{localStorage.setItem(`notification_advanced_${t.key}`,JSON.stringify(t.value))}),localStorage.setItem("notifications_enabled",JSON.stringify(this.notificationsEnabled))}subscribeToMessagingEvents(){this.messagingService.permission$.pipe(yt(this.destroy$)).subscribe(t=>{this.permissionStatus=t,t==="denied"&&(this.notificationsEnabled=!1,this.saveNotificationsEnabled())}),this.messagingService.token$.pipe(yt(this.destroy$)).subscribe(t=>{this.fcmToken=t,this.collectDebugInfo()})}collectDebugInfo(){this.debugInfo={browser:navigator.userAgent,serviceWorker:"serviceWorker"in navigator,notifications:"Notification"in window,permission:Notification.permission,fcmToken:this.fcmToken,swRegistration:this.messagingService.getServiceWorkerRegistration(),isSupported:this.messagingService.isSupported(),storedToken:this.messagingService.getStoredToken(),timestamp:new Date().toISOString()}}requestPermission(){return me(this,null,function*(){this.isLoading=!0;try{yield this.messagingService.initializeMessagingWithPermission();let t=yield this.messagingService.requestPermission();console.log("Permission result:",t),t==="granted"?(this.notificationsEnabled=!0,this.saveNotificationsEnabled(),this.notificationService.success("Notifications enabled successfully!")):this.notificationService.error("Notification permission denied")}catch(t){console.error("Error requesting permission:",t),this.notificationService.error("Failed to request notification permission")}finally{this.isLoading=!1}})}testNotification(){return me(this,null,function*(){this.isLoading=!0;try{this.messagingService.sendTestNotification(),this.notificationService.success("Test notification sent!")}catch(t){console.error("Error sending test notification:",t),this.notificationService.error("Failed to send test notification")}finally{this.isLoading=!1}})}refreshToken(){return me(this,null,function*(){this.isLoading=!0;try{(yield this.messagingService.refreshToken())?this.notificationService.success("Token refreshed successfully!"):this.notificationService.error("Failed to refresh token")}catch(t){console.error("Error refreshing token:",t),this.notificationService.error("Failed to refresh token")}finally{this.isLoading=!1}})}copyToken(){this.fcmToken&&navigator.clipboard.writeText(this.fcmToken).then(()=>{this.notificationService.success("Token copied to clipboard!")}).catch(()=>{this.notificationService.error("Failed to copy token")})}toggleMasterNotifications(t){this.notificationsEnabled=t.checked,this.saveNotificationsEnabled(),this.notificationsEnabled&&this.permissionStatus==="default"&&this.requestPermission()}toggleNotificationType(t,i){let a=this.notificationTypes.find(o=>o.key===t);a&&(a.enabled=i.checked,this.saveSettings())}updateSetting(t,i){let a=this.advancedSettings.find(o=>o.key===t);a&&(a.value=i.checked,this.saveSettings())}getSettingValue(t){let i=this.advancedSettings.find(a=>a.key===t);return i?i.value:!1}saveNotificationsEnabled(){localStorage.setItem("notifications_enabled",JSON.stringify(this.notificationsEnabled))}getStatusIcon(){switch(this.permissionStatus){case"granted":return"\u2705";case"denied":return"\u274C";default:return"\u2753"}}getPermissionText(){switch(this.permissionStatus){case"granted":return"Granted";case"denied":return"Denied";default:return"Not Set"}}openPermissionHelp(){alert(`
To enable notifications:
1. Click the lock/info icon in your browser's address bar
2. Find "Notifications" in the site settings
3. Change it from "Block" to "Allow"
4. Refresh the page
    `)}debugServiceWorker(){return me(this,null,function*(){var t,i;try{let a=yield navigator.serviceWorker.getRegistrations();console.log("All service worker registrations:",a);let o=a.find(s=>{var m;return s.scope.includes(Ai.serviceWorkerScope)||((m=s.active)==null?void 0:m.scriptURL.includes(Ai.serviceWorkerScope+"firebase-messaging-sw.js"))});o?(console.log("Firebase SW found:",o),console.log("Firebase SW state:",(t=o.active)==null?void 0:t.state),console.log("Firebase SW script URL:",(i=o.active)==null?void 0:i.scriptURL)):console.log("No Firebase service worker found"),this.collectDebugInfo(),console.log("Debug info:",this.debugInfo)}catch(a){console.error("Debug error:",a)}})}forceServiceWorkerRegistration(){return me(this,null,function*(){try{let i=(yield navigator.serviceWorker.getRegistrations()).find(a=>a.scope.includes(Ai.serviceWorkerScope));i&&(yield i.unregister(),console.log("Unregistered existing Firebase SW")),setTimeout(()=>me(this,null,function*(){yield this.messagingService.refreshToken(),this.collectDebugInfo()}),1e3)}catch(t){console.error("Force registration error:",t)}})}};n.\u0275fac=function(i){return new(i||n)(T(cf),T(vt))},n.\u0275cmp=Se({type:n,selectors:[["app-notification-settings"]],decls:57,vars:20,consts:[[1,"notification-settings"],[1,"settings-header"],[1,"header-content"],[1,"header-text"],[1,"master-toggle-container"],["color","accent",1,"master-toggle",3,"change","checked","disabled"],[1,"toggle-icon"],[1,"master-label"],[1,"settings-content"],[1,"setting-section","permission-card"],[1,"card-header"],[1,"header-left"],[1,"status-icon"],[1,"icon"],[1,"header-info"],[1,"status-text"],[1,"permission-badge"],[1,"card-content"],[1,"description"],[1,"action-buttons"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["class","btn btn-warn",3,"click",4,"ngIf"],["class","btn btn-accent",3,"disabled","click",4,"ngIf"],["class","setting-section",4,"ngIf"],["class","setting-section token-card",4,"ngIf"],["class","setting-section disabled-state",4,"ngIf"],[1,"setting-section","debug-section"],[1,"section-header"],[1,"debug-buttons"],[1,"btn","btn-secondary",3,"click"],[1,"btn-icon"],[1,"btn-text"],["class","debug-info",4,"ngIf"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn-loader",4,"ngIf"],[1,"btn-loader"],[1,"btn","btn-warn",3,"click"],[1,"btn","btn-accent",3,"click","disabled"],[1,"setting-section"],[1,"notification-types"],["class","notification-type",4,"ngFor","ngForOf"],[1,"notification-type"],[1,"type-content"],[1,"type-icon"],[1,"type-info"],["color","primary",3,"change","checked"],[1,"setting-section","token-card"],[1,"token-container"],[1,"token-display"],[1,"token-label"],[1,"token-value"],["title","Copy token",1,"copy-btn",3,"click"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"advanced-settings"],["class","setting-item",4,"ngFor","ngForOf"],[1,"setting-item"],[1,"setting-content"],[1,"setting-icon"],[1,"setting-info"],["color","accent",3,"change","checked"],[1,"setting-section","disabled-state"],[1,"disabled-content"],[1,"disabled-icon"],[1,"debug-info"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),d(5,"Notification Settings"),l(),c(6,"p"),d(7,"Manage your push notification preferences"),l()(),c(8,"div",4)(9,"mat-slide-toggle",5),F("change",function(s){return a.toggleMasterNotifications(s)}),c(10,"span",6),d(11),l()(),c(12,"span",7),d(13),l()()()(),c(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"span",13),d(20),l()(),c(21,"div",14)(22,"h3"),d(23,"Notification Permission"),l(),c(24,"p",15),d(25),l()()(),c(26,"div",16),d(27),l()(),c(28,"div",17)(29,"p",18),d(30),l(),c(31,"div",19),U(32,b$,6,2,"button",20)(33,C$,5,0,"button",21)(34,w$,6,2,"button",22),l()()(),U(35,S$,8,1,"div",23)(36,k$,22,3,"div",24)(37,T$,8,1,"div",23)(38,E$,9,0,"div",25),c(39,"div",26)(40,"div",27)(41,"h3"),d(42,"Debug Tools"),l(),c(43,"p"),d(44,"Tools to help troubleshoot notification issues"),l()(),c(45,"div",28)(46,"button",29),F("click",function(){return a.debugServiceWorker()}),c(47,"span",30),d(48,"\u{1F50D}"),l(),c(49,"span",31),d(50,"Debug Service Worker"),l()(),c(51,"button",29),F("click",function(){return a.forceServiceWorkerRegistration()}),c(52,"span",30),d(53,"\u{1F504}"),l(),c(54,"span",31),d(55,"Force Re-registration"),l()()(),U(56,D$,6,3,"div",32),l()()()),i&2&&(h(9),M("checked",a.notificationsEnabled)("disabled",a.permissionStatus==="denied"),h(2),G(a.notificationsEnabled?"\u{1F514}":"\u{1F515}"),h(2),G(a.notificationsEnabled?"Enabled":"Disabled"),h(5),Ct(a.permissionStatus),h(2),G(a.getStatusIcon()),h(5),G(a.getPermissionText()),h(),Ct(a.permissionStatus),h(),ae(" ",a.getPermissionText()," "),h(3),ae(" Allow ",a.APP_CONFIG.APP_NAME," to send you notifications about important updates and reminders. "),h(2),M("ngIf",a.permissionStatus==="default"),h(),M("ngIf",a.permissionStatus==="denied"),h(),M("ngIf",a.permissionStatus==="granted"),h(),M("ngIf",a.permissionStatus==="granted"&&a.notificationsEnabled),h(),M("ngIf",a.permissionStatus==="granted"&&a.fcmToken&&a.notificationsEnabled),h(),M("ngIf",a.permissionStatus==="granted"&&a.notificationsEnabled),h(),M("ngIf",!a.notificationsEnabled),h(18),M("ngIf",a.debugInfo))},dependencies:[Sa,dt,Ra,Bx],styles:[".notification-settings[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:24px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.settings-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color, #3b82f6) 0%,var(--accent-color, #8b5cf6) 100%);border-radius:16px;padding:32px;margin-bottom:32px;color:#fff;box-shadow:0 8px 32px #3b82f64d}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:24px}.header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin:0 0 8px;color:#fff}.header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:0;opacity:.9}.master-toggle-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.toggle-icon[_ngcontent-%COMP%]{font-size:18px;z-index:1}.master-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;opacity:.9}.setting-section[_ngcontent-%COMP%]{background:var(--surface-color, #ffffff);border:1px solid var(--border-color, #e2e8f0);border-radius:16px;padding:24px;margin-bottom:24px;box-shadow:0 2px 8px #0000000d;transition:all .2s ease}.setting-section[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0000001a;transform:translateY(-1px)}.permission-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border:2px solid var(--primary-color, #3b82f6)}.token-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);border:2px solid #f59e0b}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.status-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px}.status-icon.granted[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-icon.denied[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.status-icon.default[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.header-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 4px}.status-text[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0}.permission-badge[_ngcontent-%COMP%]{padding:8px 16px;border-radius:20px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.permission-badge.granted[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.permission-badge.denied[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.permission-badge.default[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.section-header[_ngcontent-%COMP%]{margin-bottom:24px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 8px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0}.card-content[_ngcontent-%COMP%]{margin-bottom:20px}.description[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0 0 20px;line-height:1.6}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;gap:8px;padding:12px 24px;border:none;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;text-decoration:none;min-width:140px;justify-content:center}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color, #3b82f6);color:#fff;box-shadow:0 4px 12px #3b82f64d}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-color-dark, #2563eb);transform:translateY(-1px);box-shadow:0 6px 16px #3b82f666}.btn-secondary[_ngcontent-%COMP%]{background:var(--surface-hover-color, #f1f5f9);color:var(--text-color, #1e293b);border:1px solid var(--border-color, #e2e8f0)}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--surface-hover-color-dark, #e2e8f0);transform:translateY(-1px)}.btn-warn[_ngcontent-%COMP%]{background:var(--warn-color, #ef4444);color:#fff;box-shadow:0 4px 12px #ef44444d}.btn-warn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--warn-color-dark, #dc2626);transform:translateY(-1px);box-shadow:0 6px 16px #ef444466}.btn-accent[_ngcontent-%COMP%]{background:var(--accent-color, #8b5cf6);color:#fff;box-shadow:0 4px 12px #8b5cf64d}.btn-accent[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--accent-color-dark, #7c3aed);transform:translateY(-1px);box-shadow:0 6px 16px #8b5cf666}.btn-icon[_ngcontent-%COMP%]{font-size:16px}.btn-text[_ngcontent-%COMP%]{font-weight:600}.btn-loader[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.notification-types[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notification-type[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border:1px solid var(--border-color, #e2e8f0);border-radius:12px;background:var(--surface-hover-color, #f8fafc);transition:all .2s ease}.notification-type[_ngcontent-%COMP%]:hover{background:var(--surface-hover-color-dark, #f1f5f9);border-color:var(--primary-color, #3b82f6)}.type-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex:1}.type-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:var(--primary-color, #3b82f6);display:flex;align-items:center;justify-content:center;color:#fff;font-size:20px}.type-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 4px}.type-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0;line-height:1.4}.token-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.token-display[_ngcontent-%COMP%]{background:var(--surface-hover-color, #f8fafc);border:1px solid var(--border-color, #e2e8f0);border-radius:12px;padding:16px}.token-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-muted, #64748b);margin-bottom:8px;text-transform:uppercase;letter-spacing:.5px}.token-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.token-value[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{flex:1;font-family:Courier New,monospace;font-size:12px;color:var(--text-color, #1e293b);word-break:break-all;background:#0000000d;padding:8px 12px;border-radius:6px}.copy-btn[_ngcontent-%COMP%]{background:var(--primary-color, #3b82f6);color:#fff;border:none;padding:8px;border-radius:6px;cursor:pointer;transition:all .2s ease}.copy-btn[_ngcontent-%COMP%]:hover{background:var(--primary-color-dark, #2563eb);transform:scale(1.05)}.advanced-settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.setting-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border:1px solid var(--border-color, #e2e8f0);border-radius:12px;background:var(--surface-hover-color, #f8fafc);transition:all .2s ease}.setting-item[_ngcontent-%COMP%]:hover{background:var(--surface-hover-color-dark, #f1f5f9);border-color:var(--primary-color, #3b82f6)}.setting-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex:1}.setting-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:var(--accent-color, #8b5cf6);display:flex;align-items:center;justify-content:center;color:#fff;font-size:18px}.setting-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 4px}.setting-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0;line-height:1.4}  .mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{background-color:#cbd5e1;border-color:#cbd5e1}  .mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{background-color:var(--primary-color, #3b82f6)}  .mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{background-color:#fff;box-shadow:0 2px 4px #0003}  .mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked .mdc-switch .mdc-switch__track{background-color:var(--primary-color, #3b82f6);border-color:var(--primary-color, #3b82f6)}  .mat-mdc-slide-toggle .mdc-form-field .mdc-form-field__label{display:none}.notification-type[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]     .mdc-switch, .setting-item[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]     .mdc-switch{width:48px;height:24px}.disabled-state[_ngcontent-%COMP%]{text-align:center;padding:48px 24px}.disabled-content[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.disabled-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:var(--surface-hover-color, #f8fafc);display:flex;align-items:center;justify-content:center;margin:0 auto 24px;font-size:32px;color:var(--text-muted, #64748b)}.disabled-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 12px}.disabled-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0;line-height:1.5}@media (max-width: 768px){.notification-settings[_ngcontent-%COMP%]{padding:16px}.settings-header[_ngcontent-%COMP%]{padding:24px 20px}.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.setting-section[_ngcontent-%COMP%]{padding:20px}.card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.notification-type[_ngcontent-%COMP%], .setting-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.type-content[_ngcontent-%COMP%], .setting-content[_ngcontent-%COMP%]{width:100%}}"]});let e=n;return e})();function I$(e,n){if(e&1&&(c(0,"mat-error"),d(1),l()),e&2){let r=w();h(),G(r.getFieldError("name"))}}function A$(e,n){if(e&1&&(c(0,"mat-error"),d(1),l()),e&2){let r=w();h(),G(r.getFieldError("email"))}}function F$(e,n){if(e&1&&(c(0,"mat-error"),d(1),l()),e&2){let r=w();h(),G(r.getFieldError("subject"))}}function R$(e,n){if(e&1&&(c(0,"mat-option",39)(1,"div",40)(2,"mat-icon"),d(3),l(),c(4,"span"),d(5),l()()()),e&2){let r=n.$implicit;M("value",r.value),h(3),G(r.icon),h(2),G(r.label)}}function N$(e,n){if(e&1&&(c(0,"mat-error"),d(1),l()),e&2){let r=w();h(),G(r.getFieldError("category"))}}function L$(e,n){if(e&1&&(c(0,"mat-option",39)(1,"div",41),se(2,"div",42),c(3,"span"),d(4),l()()()),e&2){let r=n.$implicit;M("value",r.value),h(2),Vt("background-color",r.color),h(2),G(r.label)}}function B$(e,n){if(e&1&&(c(0,"mat-error"),d(1),l()),e&2){let r=w();h(),G(r.getFieldError("priority"))}}function V$(e,n){if(e&1){let r=ue();c(0,"button",43),F("click",function(){let i=N(r).$implicit,a=w();return L(a.setRating(i))})("mouseenter",function(){let i=N(r).$implicit,a=w();return L(a.setRating(i))})("mouseleave",function(){let i;N(r);let a=w();return L(a.setRating(((i=a.feedbackForm.get("rating"))==null?null:i.value)||0))}),c(1,"mat-icon"),d(2),l()()}if(e&2){let r,t,i=n.index,a=w();Fe("active",((r=a.feedbackForm.get("rating"))==null?null:r.value)&&i<((r=a.feedbackForm.get("rating"))==null?null:r.value)),h(2),G(i<(((t=a.feedbackForm.get("rating"))==null?null:t.value)||0)?"star":"star_border")}}function j$(e,n){if(e&1&&(c(0,"span",44),d(1),l()),e&2){let r,t=w();h(),ae(" ",(r=t.feedbackForm.get("rating"))==null?null:r.value,"/5 stars ")}}function z$(e,n){if(e&1&&(c(0,"mat-error"),d(1),l()),e&2){let r=w();h(),G(r.getFieldError("message"))}}function U$(e,n){e&1&&(c(0,"mat-icon"),d(1,"send"),l())}function Y$(e,n){e&1&&se(0,"mat-spinner",45)}var AS=(()=>{let n=class n{constructor(t,i,a,o,s,m,u){this.fb=t,this.dialog=i,this.breakpointObserver=a,this.auth=o,this.notificationService=s,this.hapticFeedback=m,this.feedbackService=u,this.isMobile=!1,this.isSubmitting=!1,this.currentUser=null,this.destroy$=new _t,this.appName=Ot.APP_NAME,this.feedbackCategories=[{value:"bug",label:"Bug Report",icon:"bug_report"},{value:"feature",label:"Feature Request",icon:"lightbulb"},{value:"improvement",label:"Improvement Suggestion",icon:"trending_up"},{value:"general",label:"General Feedback",icon:"chat"},{value:"support",label:"Support Request",icon:"help"}],this.priorityLevels=[{value:"low",label:"Low",color:"#10b981"},{value:"medium",label:"Medium",color:"#f59e0b"},{value:"high",label:"High",color:"#ef4444"}],this.ratingOptions=[1,2,3,4,5],this.feedbackForm=this.createForm(),this.breakpointObserver.observe([Oa.Handset]).pipe(yt(this.destroy$)).subscribe(f=>{this.isMobile=f.matches})}ngOnInit(){this.initializeUser()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeUser(){return me(this,null,function*(){this.currentUser=yield this.auth.currentUser,this.currentUser&&this.feedbackForm.patchValue({name:this.currentUser.displayName||"",email:this.currentUser.email||""})})}createForm(){return this.fb.group({name:["",[wt.required,wt.minLength(2),wt.maxLength(50)]],email:["",[wt.required,wt.email]],subject:["",[wt.required,wt.minLength(5),wt.maxLength(100)]],message:["",[wt.required,wt.minLength(10),wt.maxLength(1e3)]],category:["general",wt.required],priority:["medium",wt.required],rating:[null]})}getCategoryIcon(t){let i=this.feedbackCategories.find(a=>a.value===t);return i?i.icon:"chat"}getPriorityColor(t){let i=this.priorityLevels.find(a=>a.value===t);return i?i.color:"#6b7280"}setRating(t){this.feedbackForm.patchValue({rating:t}),this.isMobile&&this.hapticFeedback.lightVibration()}getRatingStars(t){return Array.from({length:5},(i,a)=>a<t)}submitFeedback(){return me(this,null,function*(){var t;if(this.feedbackForm.invalid){this.markFormGroupTouched(),this.notificationService.warning("Please fill in all required fields correctly");return}if(!this.isSubmitting){this.isSubmitting=!0,this.isMobile&&this.hapticFeedback.lightVibration();try{let i=de(oe({},this.feedbackForm.value),{userId:((t=this.currentUser)==null?void 0:t.uid)||"anonymous"});yield this.feedbackService.submitFeedback(i),this.notificationService.success("Thank you for your feedback! We'll get back to you soon."),this.resetForm()}catch(i){console.error("Error submitting feedback:",i),this.notificationService.error("Failed to submit feedback. Please try again.")}finally{this.isSubmitting=!1}}})}resetForm(){this.feedbackForm.reset({category:"general",priority:"medium",rating:null}),this.currentUser&&this.feedbackForm.patchValue({name:this.currentUser.displayName||"",email:this.currentUser.email||""})}markFormGroupTouched(){Object.keys(this.feedbackForm.controls).forEach(t=>{let i=this.feedbackForm.get(t);i==null||i.markAsTouched()})}getFieldError(t){let i=this.feedbackForm.get(t);if(i!=null&&i.errors&&i.touched){if(i.errors.required)return`${this.getFieldLabel(t)} is required`;if(i.errors.email)return"Please enter a valid email address";if(i.errors.minlength)return`${this.getFieldLabel(t)} must be at least ${i.errors.minlength.requiredLength} characters`;if(i.errors.maxlength)return`${this.getFieldLabel(t)} must not exceed ${i.errors.maxlength.requiredLength} characters`}return""}getFieldLabel(t){return{name:"Name",email:"Email",subject:"Subject",message:"Message",category:"Category",priority:"Priority"}[t]||t}isFieldInvalid(t){let i=this.feedbackForm.get(t);return!!(i!=null&&i.invalid&&i.touched)}};n.\u0275fac=function(i){return new(i||n)(T(Pr),T(di),T(or),T(kt),T(vt),T(Da),T(Ab))},n.\u0275cmp=Se({type:n,selectors:[["app-feedback"]],decls:117,vars:20,consts:[[1,"feedback-container"],[1,"feedback-header"],[1,"header-content"],[1,"page-title"],[1,"page-subtitle"],[1,"header-icon"],[1,"feedback-form-container"],[1,"feedback-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-title"],[1,"form-row"],["appearance","fill",1,"form-field"],["matInput","","formControlName","name","placeholder","Your name","maxlength","50"],[4,"ngIf"],["matInput","","formControlName","email","type","email","placeholder","your.email@example.com"],["matSuffix",""],["matInput","","formControlName","subject","placeholder","Brief description of your feedback","maxlength","100"],["appearance","fill",1,"form-field","category-field"],["formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"form-field","priority-field"],["formControlName","priority"],[1,"rating-section"],[1,"rating-label"],[1,"rating-stars"],["type","button","class","star-button",3,"active","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["class","rating-text",4,"ngIf"],["appearance","fill",1,"form-field","message-field"],["matInput","","formControlName","message","placeholder","Please provide detailed feedback, suggestions, or describe any issues you've encountered...","rows","6","maxlength","1000"],[1,"submit-section"],[1,"submit-info"],[1,"submit-actions"],["type","button","mat-stroked-button","",1,"reset-button",3,"click","disabled"],["type","submit","mat-raised-button","","color","primary",1,"submit-button",3,"disabled"],["diameter","20",4,"ngIf"],[1,"help-section"],[1,"help-title"],[1,"help-content"],[1,"help-item"],[3,"value"],[1,"category-option"],[1,"priority-option"],[1,"priority-indicator"],["type","button",1,"star-button",3,"click","mouseenter","mouseleave"],[1,"rating-text"],["diameter","20"]],template:function(i,a){if(i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),d(4,"Send Feedback"),l(),c(5,"p",4),d(6),l()(),c(7,"div",5)(8,"mat-icon"),d(9,"feedback"),l()()(),c(10,"div",6)(11,"form",7),F("ngSubmit",function(){return a.submitFeedback()}),c(12,"div",8)(13,"h3",9)(14,"mat-icon"),d(15,"person"),l(),d(16," Personal Information "),l(),c(17,"div",10)(18,"mat-form-field",11)(19,"mat-label"),d(20,"Name *"),l(),se(21,"input",12),U(22,I$,2,1,"mat-error",13),c(23,"mat-hint"),d(24),l()(),c(25,"mat-form-field",11)(26,"mat-label"),d(27,"Email *"),l(),se(28,"input",14),c(29,"mat-icon",15),d(30,"email"),l(),U(31,A$,2,1,"mat-error",13),l()()(),c(32,"div",8)(33,"h3",9)(34,"mat-icon"),d(35,"description"),l(),d(36," Feedback Details "),l(),c(37,"div",10)(38,"mat-form-field",11)(39,"mat-label"),d(40,"Subject *"),l(),se(41,"input",16),U(42,F$,2,1,"mat-error",13),c(43,"mat-hint"),d(44),l()()(),c(45,"div",10)(46,"mat-form-field",17)(47,"mat-label"),d(48,"Category *"),l(),c(49,"mat-select",18),U(50,R$,6,3,"mat-option",19),l(),U(51,N$,2,1,"mat-error",13),l(),c(52,"mat-form-field",20)(53,"mat-label"),d(54,"Priority *"),l(),c(55,"mat-select",21),U(56,L$,5,4,"mat-option",19),l(),U(57,B$,2,1,"mat-error",13),l()(),c(58,"div",22)(59,"label",23),d(60,"How would you rate your experience? (Optional)"),l(),c(61,"div",24),U(62,V$,3,3,"button",25),l(),U(63,j$,2,1,"span",26),l(),c(64,"div",10)(65,"mat-form-field",27)(66,"mat-label"),d(67,"Message *"),l(),se(68,"textarea",28),U(69,z$,2,1,"mat-error",13),c(70,"mat-hint"),d(71),l()()()(),c(72,"div",29)(73,"div",30)(74,"mat-icon"),d(75,"info"),l(),c(76,"span"),d(77,"Your feedback will be sent to our team and we'll get back to you as soon as possible."),l()(),c(78,"div",31)(79,"button",32),F("click",function(){return a.resetForm()}),c(80,"mat-icon"),d(81,"refresh"),l(),d(82," Reset "),l(),c(83,"button",33),U(84,U$,2,0,"mat-icon",13)(85,Y$,1,0,"mat-spinner",34),d(86),l()()()()(),c(87,"div",35)(88,"h3",36)(89,"mat-icon"),d(90,"help"),l(),d(91," Need Help? "),l(),c(92,"div",37)(93,"div",38)(94,"mat-icon"),d(95,"bug_report"),l(),c(96,"div")(97,"h4"),d(98,"Bug Report"),l(),c(99,"p"),d(100,"Found a bug? Please include steps to reproduce the issue and any error messages you see."),l()()(),c(101,"div",38)(102,"mat-icon"),d(103,"lightbulb"),l(),c(104,"div")(105,"h4"),d(106,"Feature Request"),l(),c(107,"p"),d(108,"Have an idea for a new feature? Let us know how it would help you manage your money better."),l()()(),c(109,"div",38)(110,"mat-icon"),d(111,"support"),l(),c(112,"div")(113,"h4"),d(114,"Support"),l(),c(115,"p"),d(116,"Need help using the app? We're here to assist you with any questions or concerns."),l()()()()()()),i&2){let o,s,m,u;h(6),ae("Help us improve ",a.appName," by sharing your thoughts, suggestions, or reporting issues."),h(5),M("formGroup",a.feedbackForm),h(11),M("ngIf",a.isFieldInvalid("name")),h(2),ae("",((o=a.feedbackForm.get("name"))==null||o.value==null?null:o.value.length)||0,"/50"),h(7),M("ngIf",a.isFieldInvalid("email")),h(11),M("ngIf",a.isFieldInvalid("subject")),h(2),ae("",((s=a.feedbackForm.get("subject"))==null||s.value==null?null:s.value.length)||0,"/100"),h(6),M("ngForOf",a.feedbackCategories),h(),M("ngIf",a.isFieldInvalid("category")),h(5),M("ngForOf",a.priorityLevels),h(),M("ngIf",a.isFieldInvalid("priority")),h(5),M("ngForOf",a.ratingOptions),h(),M("ngIf",(m=a.feedbackForm.get("rating"))==null?null:m.value),h(6),M("ngIf",a.isFieldInvalid("message")),h(2),ae("",((u=a.feedbackForm.get("message"))==null||u.value==null?null:u.value.length)||0,"/1000"),h(8),M("disabled",a.isSubmitting),h(4),M("disabled",a.feedbackForm.invalid||a.isSubmitting),h(),M("ngIf",!a.isSubmitting),h(),M("ngIf",a.isSubmitting),h(),ae(" ",a.isSubmitting?"Sending...":"Send Feedback"," ")}},dependencies:[Sa,dt,Mi,on,sn,yi,Hc,Mr,Sr,Nt,lt,Ea,Or,Ia,nu,co,us,cr,Xi,lo],styles:["@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.feedback-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem;animation:_ngcontent-%COMP%_slideInUp .5s ease-out}@media (max-width: 768px){.feedback-container[_ngcontent-%COMP%]{padding:1rem}}.feedback-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:2rem;padding:1.5rem;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;color:#fff;box-shadow:0 8px 32px #667eea4d}@media (max-width: 768px){.feedback-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}}.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0 0 .5rem;text-shadow:0 2px 4px rgba(0,0,0,.1)}@media (max-width: 768px){.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}}.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;margin:0;opacity:.9;line-height:1.5}@media (max-width: 768px){.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:.9rem}}.feedback-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;opacity:.8}@media (max-width: 768px){.feedback-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem}}.feedback-form-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #00000014;overflow:hidden;margin-bottom:2rem}.feedback-form-container[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]{padding:2rem}@media (max-width: 768px){.feedback-form-container[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]{padding:1.5rem}}.form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.form-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 1.5rem;padding-bottom:.5rem;border-bottom:2px solid #e5e7eb}.form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}.form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-field[_ngcontent-%COMP%]{width:100%}@media (max-width: 768px){.form-field.category-field[_ngcontent-%COMP%], .form-field.priority-field[_ngcontent-%COMP%]{grid-column:1}}.form-field.message-field[_ngcontent-%COMP%]{grid-column:1/-1}.category-option[_ngcontent-%COMP%], .priority-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.category-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .priority-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:1.2rem;height:1.2rem}.priority-indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;flex-shrink:0}.rating-section[_ngcontent-%COMP%]{margin:1.5rem 0;padding:1rem;background:#f8fafc;border-radius:12px;border:1px solid #e2e8f0}.rating-section[_ngcontent-%COMP%]   .rating-label[_ngcontent-%COMP%]{display:block;font-weight:500;color:#374151;margin-bottom:.75rem}.rating-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]{display:flex;gap:.25rem;margin-bottom:.5rem}.rating-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]   .star-button[_ngcontent-%COMP%]{background:none;border:none;padding:.25rem;cursor:pointer;border-radius:4px;transition:all .2s ease}.rating-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]   .star-button[_ngcontent-%COMP%]:hover{background:#667eea1a;transform:scale(1.1)}.rating-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]   .star-button.active[_ngcontent-%COMP%]{color:#fbbf24}.rating-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]   .star-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}.rating-section[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.submit-section[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1.5rem;border-top:1px solid #e5e7eb}.submit-section[_ngcontent-%COMP%]   .submit-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1.5rem;padding:1rem;background:#eff6ff;border-radius:8px;border-left:4px solid #3b82f6}.submit-section[_ngcontent-%COMP%]   .submit-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3b82f6;flex-shrink:0}.submit-section[_ngcontent-%COMP%]   .submit-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#1e40af;line-height:1.4}.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end}@media (max-width: 768px){.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}}.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{min-width:120px}@media (max-width: 768px){.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{order:2}}.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{min-width:160px;height:48px}@media (max-width: 768px){.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{order:1}}.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:.5rem}.help-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #00000014;padding:2rem}@media (max-width: 768px){.help-section[_ngcontent-%COMP%]{padding:1.5rem}}.help-section[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 1.5rem}.help-section[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea}.help-section[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}@media (max-width: 768px){.help-section[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.help-section[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1rem;background:#f8fafc;border-radius:12px;border:1px solid #e2e8f0;transition:all .2s ease}.help-section[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.help-section[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea;font-size:1.5rem;width:1.5rem;height:1.5rem;flex-shrink:0;margin-top:.125rem}.help-section[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1f2937;margin:0 0 .5rem}.help-section[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0;line-height:1.5}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .feedback-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4c1d95,#7c3aed)}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .feedback-form-container[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .help-section[_ngcontent-%COMP%]{background:#1f2937;box-shadow:0 4px 20px #0000004d}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#f9fafb;border-bottom-color:#374151}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .rating-section[_ngcontent-%COMP%]{background:#374151;border-color:#4b5563}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .rating-section[_ngcontent-%COMP%]   .rating-label[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .submit-section[_ngcontent-%COMP%]{border-top-color:#374151}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .submit-section[_ngcontent-%COMP%]   .submit-info[_ngcontent-%COMP%]{background:#1e3a8a;border-left-color:#3b82f6}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .submit-section[_ngcontent-%COMP%]   .submit-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#dbeafe}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .help-section[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]{background:#374151;border-color:#4b5563}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}@media (max-width: 480px){.feedback-container[_ngcontent-%COMP%]{padding:.5rem}.feedback-header[_ngcontent-%COMP%]{padding:1rem}.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.25rem}.feedback-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem}.feedback-form-container[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%], .help-section[_ngcontent-%COMP%]{padding:1rem}}.star-button[_ngcontent-%COMP%]:focus{outline:2px solid #667eea;outline-offset:2px}.form-field[_ngcontent-%COMP%]:focus-within   .mat-form-field-outline[_ngcontent-%COMP%]{color:#667eea}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.form-field.mat-form-field-disabled[_ngcontent-%COMP%]{opacity:.6}"]});let e=n;return e})();var FS=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Se({type:n,selectors:[["app-app-shell"]],decls:23,vars:0,consts:[["id","app-shell",1,"app-shell"],[1,"app-shell-header"],[1,"app-shell-logo"],[1,"app-shell-logo-icon"],["src","assets/images/logo.svg","alt","Money Manager Logo",1,"logo-image"],[1,"font-heading","font-semibold","text-xl"],[1,"app-shell-skeleton","w-10","h-10","rounded-full"],[1,"app-shell-content"],[1,"app-shell-loading"],[1,"app-shell-spinner"],[1,"font-heading","font-semibold","text-2xl","mb-2"],[1,"text-sm","opacity-80"],[1,"w-full","max-w-md","mt-8"],[1,"app-shell-skeleton","app-shell-skeleton-header"],[1,"app-shell-skeleton","app-shell-skeleton-text"],[1,"app-shell-skeleton","app-shell-skeleton-text",2,"width","120px"],[1,"app-shell-skeleton","app-shell-skeleton-text",2,"width","180px"],[1,"app-shell-footer"],[1,"m-0","text-sm"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3),se(4,"img",4),l(),c(5,"span",5),d(6,"Money Manager"),l()(),se(7,"div",6),l(),c(8,"main",7)(9,"div",8),se(10,"div",9),c(11,"h2",10),d(12,"Loading Money Manager"),l(),c(13,"p",11),d(14,"Preparing your financial dashboard..."),l()(),c(15,"div",12),se(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16),l()(),c(20,"footer",17)(21,"p",18),d(22,"\xA9 2024 Money Manager - Your Personal Finance Assistant"),l()()())},styles:[".app-shell[_ngcontent-%COMP%]{font-family:Inter,sans-serif;background:#f9fafb;min-height:100vh;display:flex;flex-direction:column;color:#1f2937}.app-shell-header[_ngcontent-%COMP%]{background:#fff;padding:1rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.app-shell-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;font-size:1.25rem}.app-shell-logo-icon[_ngcontent-%COMP%]{width:32px;height:32px;background:#46777f;border-radius:8px;display:flex;align-items:center;justify-content:center}.app-shell-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center}.app-shell-loading[_ngcontent-%COMP%]{margin:2rem 0}.app-shell-spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-top:4px solid #46777f;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.app-shell-skeleton[_ngcontent-%COMP%]{background:#e5e7eb;border-radius:8px;margin:.5rem 0;animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}.app-shell-skeleton-header[_ngcontent-%COMP%]{height:20px;width:200px;margin:0 auto 1rem}.app-shell-skeleton-text[_ngcontent-%COMP%]{height:16px;width:150px;margin:.5rem auto}.app-shell-footer[_ngcontent-%COMP%]{background:#fff;padding:1rem;text-align:center;font-size:.875rem;color:#6b7280;border-top:1px solid #e5e7eb}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}@media (max-width: 768px){.app-shell-content[_ngcontent-%COMP%]{padding:1rem}.app-shell-logo[_ngcontent-%COMP%]{font-size:1rem}.app-shell-logo-icon[_ngcontent-%COMP%]{width:28px;height:28px}}"]});let e=n;return e})();var RS=(()=>{let n=class n{constructor(){this.lastUpdated="December 2024"}navigateBack(){window.history.back()}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Se({type:n,selectors:[["app-privacy-policy"]],decls:182,vars:2,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","shadow-sm","border-b"],[1,"container","mx-auto","px-4","py-4"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],[1,"p-2","rounded-lg","hover:bg-gray-100","transition-colors","duration-200",3,"click"],[1,"w-8","h-8","rounded-lg","flex","items-center","justify-center","bg-gradient-to-r","from-primary","to-primary-600"],["src","assets/icon/app-icon/icon-192x192.png","alt","Money Manager",1,"w-6","h-6"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"container","mx-auto","px-4","py-8","overflow-y-auto","h-screen"],[1,"max-w-4xl","mx-auto","bg-white","rounded-xl","shadow-sm","p-8"],[1,"mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-700","leading-relaxed","mb-4"],[1,"text-gray-700","leading-relaxed"],[1,"text-lg","font-semibold","text-gray-800","mb-3"],[1,"list-disc","list-inside","text-gray-700","mb-4","space-y-2"],[1,"list-disc","list-inside","text-gray-700","space-y-2"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"space-y-2","text-gray-700"],[1,"border-t","pt-6","mt-8"],[1,"text-sm","text-gray-500","text-center"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),F("click",function(){return a.navigateBack()}),c(6,"mat-icon"),d(7,"arrow_back"),l()(),c(8,"div",4)(9,"div",6),se(10,"img",7),l(),c(11,"h1",8),d(12,"Privacy Policy"),l()()(),c(13,"div",9),d(14),l()()()(),c(15,"div",10)(16,"div",11)(17,"section",12)(18,"h2",13),d(19,"Introduction"),l(),c(20,"p",14),d(21,' Money Manager ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our money management application. '),l(),c(22,"p",15),d(23," By using our application, you agree to the collection and use of information in accordance with this policy. "),l()(),c(24,"section",12)(25,"h2",13),d(26,"Information We Collect"),l(),c(27,"h3",16),d(28,"Personal Information"),l(),c(29,"ul",17)(30,"li"),d(31,"Name and email address when you create an account"),l(),c(32,"li"),d(33,"Profile information you choose to provide"),l(),c(34,"li"),d(35,"Financial data you input (transactions, budgets, goals)"),l(),c(36,"li"),d(37,"Account preferences and settings"),l()(),c(38,"h3",16),d(39,"Usage Information"),l(),c(40,"ul",17)(41,"li"),d(42,"App usage patterns and features accessed"),l(),c(43,"li"),d(44,"Device information and browser type"),l(),c(45,"li"),d(46,"IP address and general location data"),l(),c(47,"li"),d(48,"Error logs and performance data"),l()()(),c(49,"section",12)(50,"h2",13),d(51,"How We Use Your Information"),l(),c(52,"ul",18)(53,"li"),d(54,"Provide and maintain our money management services"),l(),c(55,"li"),d(56,"Process your transactions and financial data"),l(),c(57,"li"),d(58,"Generate reports and insights about your finances"),l(),c(59,"li"),d(60,"Improve our application and user experience"),l(),c(61,"li"),d(62,"Send important updates and notifications"),l(),c(63,"li"),d(64,"Provide customer support and respond to inquiries"),l(),c(65,"li"),d(66,"Ensure security and prevent fraud"),l()()(),c(67,"section",12)(68,"h2",13),d(69,"Data Storage and Security"),l(),c(70,"p",14),d(71," We implement industry-standard security measures to protect your personal and financial information: "),l(),c(72,"ul",17)(73,"li"),d(74,"End-to-end encryption for sensitive data"),l(),c(75,"li"),d(76,"Secure cloud storage with regular backups"),l(),c(77,"li"),d(78,"Multi-factor authentication for account access"),l(),c(79,"li"),d(80,"Regular security audits and updates"),l(),c(81,"li"),d(82,"Limited access to personal data by authorized personnel only"),l()(),c(83,"p",15),d(84," Your data is stored securely and we never share your financial information with third parties without your explicit consent. "),l()(),c(85,"section",12)(86,"h2",13),d(87,"Data Sharing"),l(),c(88,"p",14),d(89," We do not sell, trade, or rent your personal information to third parties. We may share your information only in the following circumstances: "),l(),c(90,"ul",18)(91,"li"),d(92,"With your explicit consent"),l(),c(93,"li"),d(94,"To comply with legal obligations"),l(),c(95,"li"),d(96,"To protect our rights and prevent fraud"),l(),c(97,"li"),d(98,"With trusted service providers who assist in app operations (under strict confidentiality agreements)"),l()()(),c(99,"section",12)(100,"h2",13),d(101,"Your Rights"),l(),c(102,"p",14),d(103," You have the following rights regarding your personal information: "),l(),c(104,"ul",18)(105,"li")(106,"strong"),d(107,"Access:"),l(),d(108," Request a copy of your personal data"),l(),c(109,"li")(110,"strong"),d(111,"Correction:"),l(),d(112," Update or correct inaccurate information"),l(),c(113,"li")(114,"strong"),d(115,"Deletion:"),l(),d(116," Request deletion of your account and data"),l(),c(117,"li")(118,"strong"),d(119,"Portability:"),l(),d(120," Export your data in a standard format"),l(),c(121,"li")(122,"strong"),d(123,"Opt-out:"),l(),d(124," Unsubscribe from marketing communications"),l()()(),c(125,"section",12)(126,"h2",13),d(127,"Cookies and Tracking"),l(),c(128,"p",14),d(129," We use cookies and similar technologies to: "),l(),c(130,"ul",17)(131,"li"),d(132,"Remember your preferences and settings"),l(),c(133,"li"),d(134,"Analyze app usage and performance"),l(),c(135,"li"),d(136,"Provide personalized features"),l(),c(137,"li"),d(138,"Ensure security and prevent fraud"),l()(),c(139,"p",15),d(140," You can control cookie settings through your browser preferences. "),l()(),c(141,"section",12)(142,"h2",13),d(143,"Children's Privacy"),l(),c(144,"p",15),d(145," Our application is not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13. If you are a parent or guardian and believe your child has provided us with personal information, please contact us immediately. "),l()(),c(146,"section",12)(147,"h2",13),d(148,"Changes to This Privacy Policy"),l(),c(149,"p",14),d(150," We may update this Privacy Policy from time to time. We will notify you of any changes by: "),l(),c(151,"ul",17)(152,"li"),d(153,"Posting the new Privacy Policy on this page"),l(),c(154,"li"),d(155,"Sending you an email notification"),l(),c(156,"li"),d(157,"Displaying a notice in the application"),l()(),c(158,"p",15),d(159," Your continued use of the application after any changes constitutes acceptance of the updated Privacy Policy. "),l()(),c(160,"section",12)(161,"h2",13),d(162,"Contact Us"),l(),c(163,"p",14),d(164," If you have any questions about this Privacy Policy or our data practices, please contact us: "),l(),c(165,"div",19)(166,"div",20)(167,"p")(168,"strong"),d(169,"Email:"),l(),d(170," Prashiln79@gmail.com"),l(),c(171,"p")(172,"strong"),d(173,"Address:"),l(),d(174," Goa, India"),l(),c(175,"p")(176,"strong"),d(177,"Response Time:"),l(),d(178," We aim to respond to all privacy-related inquiries within 48 hours."),l()()()(),c(179,"div",21)(180,"p",22),d(181),l()()()()()),i&2&&(h(14),ae(" Last updated: ",a.lastUpdated," "),h(167),ae(" This Privacy Policy is effective as of ",a.lastUpdated," and will remain in effect except with respect to any changes in its provisions in the future. "))},dependencies:[lt],styles:[".privacy-policy[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.privacy-policy[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9}.privacy-policy[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.privacy-policy[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}button[_ngcontent-%COMP%]:active{transform:translateY(0)}@media print{.bg-gray-50[_ngcontent-%COMP%]{background-color:#fff!important}.shadow-sm[_ngcontent-%COMP%]{box-shadow:none!important}button[_ngcontent-%COMP%]{display:none!important}}"]});let e=n;return e})();var NS=(()=>{let n=class n{constructor(){this.lastUpdated="December 2024"}navigateBack(){window.history.back()}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Se({type:n,selectors:[["app-terms-conditions"]],decls:224,vars:2,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","shadow-sm","border-b"],[1,"container","mx-auto","px-4","py-4"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],[1,"p-2","rounded-lg","hover:bg-gray-100","transition-colors","duration-200",3,"click"],[1,"w-8","h-8","rounded-lg","flex","items-center","justify-center","bg-gradient-to-r","from-primary","to-primary-600"],["src","assets/icon/app-icon/icon-192x192.png","alt","Money Manager",1,"w-6","h-6"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"container","mx-auto","px-4","py-8","overflow-y-auto","h-screen"],[1,"max-w-4xl","mx-auto","bg-white","rounded-xl","shadow-sm","p-8"],[1,"mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-700","leading-relaxed","mb-4"],[1,"text-gray-700","leading-relaxed"],[1,"list-disc","list-inside","text-gray-700","mb-4","space-y-2"],[1,"text-lg","font-semibold","text-gray-800","mb-3"],[1,"bg-gray-50","rounded-lg","p-4"],[1,"space-y-2","text-gray-700"],[1,"border-t","pt-6","mt-8"],[1,"text-sm","text-gray-500","text-center"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),F("click",function(){return a.navigateBack()}),c(6,"mat-icon"),d(7,"arrow_back"),l()(),c(8,"div",4)(9,"div",6),se(10,"img",7),l(),c(11,"h1",8),d(12,"Terms & Conditions"),l()()(),c(13,"div",9),d(14),l()()()(),c(15,"div",10)(16,"div",11)(17,"section",12)(18,"h2",13),d(19,"Introduction"),l(),c(20,"p",14),d(21,' Welcome to Money Manager. These Terms and Conditions ("Terms") govern your use of our money management application and services. By accessing or using our application, you agree to be bound by these Terms. '),l(),c(22,"p",15),d(23," If you do not agree with any part of these Terms, you may not access or use our application. "),l()(),c(24,"section",12)(25,"h2",13),d(26,"Acceptance of Terms"),l(),c(27,"p",14),d(28," By creating an account, downloading, installing, or using the Money Manager application, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions. "),l(),c(29,"p",15),d(30," These Terms constitute a legally binding agreement between you and Money Manager regarding your use of our services. "),l()(),c(31,"section",12)(32,"h2",13),d(33,"Description of Service"),l(),c(34,"p",14),d(35," Money Manager is a personal finance management application that allows users to: "),l(),c(36,"ul",16)(37,"li"),d(38,"Track income and expenses"),l(),c(39,"li"),d(40,"Manage multiple accounts and budgets"),l(),c(41,"li"),d(42,"Set financial goals and monitor progress"),l(),c(43,"li"),d(44,"Generate financial reports and insights"),l(),c(45,"li"),d(46,"Categorize transactions"),l(),c(47,"li"),d(48,"Import and export financial data"),l()(),c(49,"p",15),d(50," We reserve the right to modify, suspend, or discontinue any part of our service at any time with reasonable notice. "),l()(),c(51,"section",12)(52,"h2",13),d(53,"User Accounts"),l(),c(54,"h3",17),d(55,"Account Creation"),l(),c(56,"p",14),d(57," To use our services, you must create an account by providing accurate, current, and complete information. You are responsible for maintaining the confidentiality of your account credentials. "),l(),c(58,"h3",17),d(59,"Account Responsibilities"),l(),c(60,"ul",16)(61,"li"),d(62,"You are responsible for all activities that occur under your account"),l(),c(63,"li"),d(64,"You must notify us immediately of any unauthorized use of your account"),l(),c(65,"li"),d(66,"You must be at least 18 years old to create an account"),l(),c(67,"li"),d(68,"You may not share your account credentials with others"),l(),c(69,"li"),d(70,"You are responsible for maintaining the security of your device"),l()()(),c(71,"section",12)(72,"h2",13),d(73,"Acceptable Use"),l(),c(74,"p",14),d(75," You agree to use our application only for lawful purposes and in accordance with these Terms. You agree not to: "),l(),c(76,"ul",16)(77,"li"),d(78,"Use the service for any illegal or unauthorized purpose"),l(),c(79,"li"),d(80,"Attempt to gain unauthorized access to our systems or other users' accounts"),l(),c(81,"li"),d(82,"Interfere with or disrupt the service or servers"),l(),c(83,"li"),d(84,"Upload or transmit viruses, malware, or other harmful code"),l(),c(85,"li"),d(86,"Violate any applicable laws or regulations"),l(),c(87,"li"),d(88,"Use the service to store or transmit illegal content"),l(),c(89,"li"),d(90,"Reverse engineer, decompile, or disassemble the application"),l()()(),c(91,"section",12)(92,"h2",13),d(93,"Financial Information"),l(),c(94,"h3",17),d(95,"Data Accuracy"),l(),c(96,"p",14),d(97," You are responsible for the accuracy and completeness of all financial information you enter into the application. We are not responsible for any errors, omissions, or inaccuracies in your financial data. "),l(),c(98,"h3",17),d(99,"No Financial Advice"),l(),c(100,"p",14),d(101," Money Manager is a financial tracking tool and does not provide financial advice, investment recommendations, or tax advice. You should consult with qualified professionals for financial, investment, or tax advice. "),l(),c(102,"h3",17),d(103,"Third-Party Services"),l(),c(104,"p",15),d(105," Our application may integrate with third-party financial institutions or services. We are not responsible for the accuracy, availability, or security of these third-party services. "),l()(),c(106,"section",12)(107,"h2",13),d(108,"Privacy and Data Protection"),l(),c(109,"p",14),d(110," Your privacy is important to us. Our collection and use of your personal information is governed by our Privacy Policy, which is incorporated into these Terms by reference. "),l(),c(111,"p",15),d(112," By using our service, you consent to the collection and use of your information as described in our Privacy Policy. "),l()(),c(113,"section",12)(114,"h2",13),d(115,"Subscription and Payment"),l(),c(116,"h3",17),d(117,"Free and Premium Plans"),l(),c(118,"p",14),d(119," We offer both free and premium subscription plans. Premium features require a paid subscription. Subscription fees are billed in advance and are non-refundable except as required by law. "),l(),c(120,"h3",17),d(121,"Payment Terms"),l(),c(122,"ul",16)(123,"li"),d(124,"All fees are exclusive of applicable taxes"),l(),c(125,"li"),d(126,"Subscriptions automatically renew unless cancelled"),l(),c(127,"li"),d(128,"You may cancel your subscription at any time"),l(),c(129,"li"),d(130,"No refunds for partial months or unused periods"),l(),c(131,"li"),d(132,"We may change subscription fees with 30 days' notice"),l()()(),c(133,"section",12)(134,"h2",13),d(135,"Intellectual Property"),l(),c(136,"p",14),d(137," The Money Manager application, including its content, features, and functionality, is owned by us and is protected by copyright, trademark, and other intellectual property laws. "),l(),c(138,"p",14),d(139," You may not copy, modify, distribute, sell, or lease any part of our application without our written permission. "),l(),c(140,"p",15),d(141," You retain ownership of your financial data and content, but grant us a license to use it to provide our services. "),l()(),c(142,"section",12)(143,"h2",13),d(144,"Limitation of Liability"),l(),c(145,"p",14),d(146," To the maximum extent permitted by law, Money Manager shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including but not limited to: "),l(),c(147,"ul",16)(148,"li"),d(149,"Loss of profits, data, or use"),l(),c(150,"li"),d(151,"Business interruption"),l(),c(152,"li"),d(153,"Financial losses"),l(),c(154,"li"),d(155,"Security breaches"),l(),c(156,"li"),d(157,"Service interruptions"),l()(),c(158,"p",15),d(159," Our total liability shall not exceed the amount you paid for our services in the 12 months preceding the claim. "),l()(),c(160,"section",12)(161,"h2",13),d(162,"Disclaimers"),l(),c(163,"p",14),d(164,' THE SERVICE IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO: '),l(),c(165,"ul",16)(166,"li"),d(167,"Warranties of merchantability or fitness for a particular purpose"),l(),c(168,"li"),d(169,"Warranties that the service will be uninterrupted or error-free"),l(),c(170,"li"),d(171,"Warranties regarding the accuracy or reliability of financial data"),l(),c(172,"li"),d(173,"Warranties that defects will be corrected"),l()()(),c(174,"section",12)(175,"h2",13),d(176,"Termination"),l(),c(177,"p",14),d(178," We may terminate or suspend your account and access to our services at any time, with or without cause, with or without notice. "),l(),c(179,"p",14),d(180," Upon termination, your right to use the service will cease immediately. We may delete your account and data, though we will provide reasonable notice before permanent deletion. "),l(),c(181,"p",15),d(182," You may terminate your account at any time by contacting us or using the account deletion feature in the application. "),l()(),c(183,"section",12)(184,"h2",13),d(185,"Governing Law"),l(),c(186,"p",15),d(187," These Terms shall be governed by and construed in accordance with the laws of India. Any disputes arising from these Terms or your use of our service shall be resolved in the courts of Goa, India. "),l()(),c(188,"section",12)(189,"h2",13),d(190,"Changes to These Terms"),l(),c(191,"p",14),d(192," We reserve the right to modify these Terms at any time. We will notify you of any changes by: "),l(),c(193,"ul",16)(194,"li"),d(195,"Posting the updated Terms in the application"),l(),c(196,"li"),d(197,"Sending you an email notification"),l(),c(198,"li"),d(199,"Displaying a notice when you next access the service"),l()(),c(200,"p",15),d(201," Your continued use of the service after any changes constitutes acceptance of the updated Terms. "),l()(),c(202,"section",12)(203,"h2",13),d(204,"Contact Us"),l(),c(205,"p",14),d(206," If you have any questions about these Terms and Conditions, please contact us: "),l(),c(207,"div",18)(208,"div",19)(209,"p")(210,"strong"),d(211,"Email:"),l(),d(212," Prashiln79@gmail.com"),l(),c(213,"p")(214,"strong"),d(215,"Address:"),l(),d(216," Goa, India"),l(),c(217,"p")(218,"strong"),d(219,"Response Time:"),l(),d(220," We aim to respond to all inquiries within 48 hours."),l()()()(),c(221,"div",20)(222,"p",21),d(223),l()()()()()),i&2&&(h(14),ae(" Last updated: ",a.lastUpdated," "),h(209),ae(" These Terms and Conditions are effective as of ",a.lastUpdated," and will remain in effect except with respect to any changes in its provisions in the future. "))},dependencies:[lt],styles:["[_nghost-%COMP%]{display:block;height:100vh;overflow-y:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.dark[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#374151}.dark[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6b7280}.dark[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.max-w-4xl[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem}}"]});let e=n;return e})();var LS=(()=>{let n=class n{constructor(t,i){this.commonSyncService=t,this.ssrService=i}retryConnection(){this.commonSyncService.isCurrentlyOnline()?this.ssrService.isClientSide()&&(window.location.href="/dashboard"):alert("Still offline. Please check your internet connection.")}openOfflineData(){this.ssrService.isClientSide()&&(window.location.href="/dashboard")}};n.\u0275fac=function(i){return new(i||n)(T(ga),T(Jr))},n.\u0275cmp=Se({type:n,selectors:[["app-offline-page"]],decls:37,vars:0,consts:[[1,"min-h-screen","bg-gray-50","flex","items-center","justify-center","px-4"],[1,"max-w-md","w-full","text-center"],[1,"mb-8"],[1,"mx-auto","w-24","h-24","bg-yellow-100","rounded-full","flex","items-center","justify-center"],[1,"text-4xl","text-yellow-600"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","mb-8"],[1,"bg-white","rounded-lg","p-4","mb-6","shadow-sm","border"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600"],[1,"text-sm","font-medium","text-yellow-600"],[1,"space-y-3"],["mat-raised-button","","color","primary",1,"w-full",3,"click"],[1,"mr-2"],["mat-stroked-button","",1,"w-full",3,"click"],[1,"mt-8","p-4","bg-blue-50","rounded-lg"],[1,"text-sm","font-medium","text-blue-900","mb-2"],[1,"text-xs","text-blue-800","space-y-1"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),d(5,"wifi_off"),l()()(),c(6,"h1",5),d(7," You're Offline "),l(),c(8,"p",6),d(9," It looks like you don't have an internet connection right now. Don't worry - your data is saved locally and will sync when you're back online. "),l(),c(10,"div",7)(11,"div",8)(12,"span",9),d(13,"Connection Status:"),l(),c(14,"span",10),d(15,"Offline"),l()()(),c(16,"div",11)(17,"button",12),F("click",function(){return a.retryConnection()}),c(18,"mat-icon",13),d(19,"refresh"),l(),d(20," Try Again "),l(),c(21,"button",14),F("click",function(){return a.openOfflineData()}),c(22,"mat-icon",13),d(23,"storage"),l(),d(24," View Offline Data "),l()(),c(25,"div",15)(26,"h3",16),d(27,"Offline Tips:"),l(),c(28,"ul",17)(29,"li"),d(30,"\u2022 Your transactions are saved locally"),l(),c(31,"li"),d(32,"\u2022 Changes will sync when connection is restored"),l(),c(33,"li"),d(34,"\u2022 Check your internet connection"),l(),c(35,"li"),d(36,"\u2022 Try refreshing the page"),l()()()()())},dependencies:[Nt,lt],styles:["[_nghost-%COMP%]{display:block}"]});let e=n;return e})();var W$=[{path:"shell",component:FS},{path:"landing",component:LM},{path:"privacy-policy",component:RS},{path:"terms-conditions",component:NS},{path:"offline",component:LS},{path:"sign-in",component:gh},{path:"sign-up",component:gh},{path:"register",component:sb},{path:"dashboard",component:_C,canActivate:[ah],data:{requireEmailVerification:!0,requireActiveSession:!0},children:[{path:"",component:z_},{path:"home",component:z_},{path:"accounts",component:Ol,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"category",component:Il,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"reports",component:qp,data:{roles:["premium","admin"],requireEmailVerification:!0}},{path:"transactions",component:Jp,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"tax",component:Xp,data:{roles:["premium","admin"],requireEmailVerification:!0}},{path:"subscription",component:VM,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"goals",component:UM,data:{roles:["premium","admin"],requireEmailVerification:!0}},{path:"splitwise",loadChildren:()=>import("./chunk-KO4TFE7Q.js").then(e=>e.SplitwiseModule),data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"budgets",component:$M,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"notes",component:Kp,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"import",component:Gp,data:{roles:["premium","admin"],requireEmailVerification:!0}},{path:"profile",component:qM,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"notifications",component:IS,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"feedback",component:AS,data:{roles:["free","premium","admin"],requireEmailVerification:!0}}]},{path:"admin",loadChildren:()=>import("./chunk-52MG4O3K.js").then(e=>e.AdminModule),canActivate:[ah,Mb],data:{requireEmailVerification:!0,requireActiveSession:!0,roles:["admin"]}},{path:"",redirectTo:"/dashboard",pathMatch:"full"}],BS=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({imports:[md.forRoot(W$,{useHash:!0}),md]});let e=n;return e})();var lf=(()=>{let n=class n{constructor(t,i,a,o,s){this.location=t,this.router=i,this.platform=a,this.ngZone=o,this.platformId=s,this.navigationStateSubject=new ln({canGoBack:!1,currentRoute:"",previousRoute:"",navigationStack:[],isStandalone:!1,isMobile:!1}),this.destroy$=new _t,this.navigationStack=[],this.maxStackSize=50,this.navigationState$=this.navigationStateSubject.asObservable(),this.canGoBack$=this.navigationState$.pipe(Hn(m=>m.canGoBack),tt(m=>m.canGoBack)),Jo(this.platformId)||this.initializePwaNavigation()}initializePwaNavigation(){let t=this.isStandalonePwa(),i=this.isMobileDevice();this.navigationStack=[],this.router.events.pipe(Hn(o=>o instanceof cm),yt(this.destroy$)).subscribe(o=>{this.ngZone.run(()=>{this.handleNavigationEnd(o)})}),this.router.events.pipe(Hn(o=>o instanceof Wx),yt(this.destroy$)).subscribe(o=>{this.ngZone.run(()=>{this.handleNavigationStart(o)})});let a=()=>{this.ngZone.run(()=>{this.handlePopState()})};typeof window<"u"&&(window.addEventListener("popstate",a),this.destroy$.subscribe(()=>{window.removeEventListener("popstate",a)})),i&&this.setupHardwareBackButton(),this.setupKeyboardNavigation(),this.updateNavigationState({isStandalone:t,isMobile:i,currentRoute:this.router.url})}isStandalonePwa(){return Jo(this.platformId)?!1:window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isMobileDevice(){return Jo(this.platformId)?!1:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}handleNavigationStart(t){t.url!==this.navigationStateSubject.value.currentRoute&&this.addToNavigationStack(this.navigationStateSubject.value.currentRoute)}handleNavigationEnd(t){let a=this.navigationStateSubject.value.currentRoute;this.updateNavigationState({currentRoute:t.url,previousRoute:a,canGoBack:this.navigationStack.length>0||this.canNavigateBack()})}handlePopState(){let t=this.router.url,i=this.navigationStateSubject.value;t!==i.currentRoute&&this.updateNavigationState({currentRoute:t,previousRoute:i.currentRoute,canGoBack:this.navigationStack.length>0||this.canNavigateBack()})}setupHardwareBackButton(){if(this.platform.ANDROID){let t=i=>{i.preventDefault(),this.ngZone.run(()=>{this.handleHardwareBackButton()})};document.addEventListener("backbutton",t,!1),this.destroy$.subscribe(()=>{document.removeEventListener("backbutton",t)})}this.platform.IOS&&this.setupIosBackGesture()}setupIosBackGesture(){let t=0,i=0,a=50,o=m=>{t=m.touches[0].clientX,i=m.touches[0].clientY},s=m=>{let u=m.changedTouches[0].clientX,f=m.changedTouches[0].clientY,g=t-u,x=Math.abs(i-f);g>a&&x<a&&t<50&&this.ngZone.run(()=>{this.handleHardwareBackButton()})};document.addEventListener("touchstart",o,{passive:!0}),document.addEventListener("touchend",s,{passive:!0}),this.destroy$.subscribe(()=>{document.removeEventListener("touchstart",o),document.removeEventListener("touchend",s)})}setupKeyboardNavigation(){let t=i=>{i.altKey&&i.key==="ArrowLeft"&&(i.preventDefault(),this.ngZone.run(()=>{this.goBack()})),i.key==="Escape"&&this.ngZone.run(()=>{this.handleEscapeKey()})};document.addEventListener("keydown",t),this.destroy$.subscribe(()=>{document.removeEventListener("keydown",t)})}handleHardwareBackButton(){let t=this.navigationStateSubject.value;if(this.isInModal()){this.closeModal();return}t.canGoBack?this.goBack():this.showExitConfirmation()}handleEscapeKey(){this.isInModal()&&this.closeModal()}isInModal(){return document.querySelectorAll('.modal, .dialog, [role="dialog"]').length>0}closeModal(){let t=document.querySelectorAll('.modal, .dialog, [role="dialog"]');if(t.length>0){let a=t[t.length-1].querySelector('[data-dismiss="modal"], .close, .modal-close');a&&a.click()}}showExitConfirmation(){this.navigationStateSubject.value.isStandalone&&confirm("Do you want to exit the app?")&&this.exitApp()}exitApp(){this.navigationStateSubject.value.isStandalone&&window.close()}addToNavigationStack(t){t&&t!=="/"&&(this.navigationStack.push(t),this.navigationStack.length>this.maxStackSize&&this.navigationStack.shift())}canNavigateBack(){return this.navigationStack.length>0||window.history.length>1}goBack(){let t=this.navigationStateSubject.value;if(this.navigationStack.length>0){let i=this.navigationStack.pop();if(i){this.router.navigateByUrl(i);return}}window.history.length>1?this.location.back():this.router.navigate(["/dashboard"])}goForward(){this.location.forward()}navigateTo(t){this.router.navigateByUrl(t)}clearNavigationStack(){this.navigationStack=[],this.updateNavigationState({canGoBack:!1,navigationStack:[]})}getNavigationStack(){return[...this.navigationStack]}isStandaloneMode(){return this.navigationStateSubject.value.isStandalone}isMobileMode(){return this.navigationStateSubject.value.isMobile}updateNavigationState(t){let i=this.navigationStateSubject.value,a=oe(oe({},i),t);t.navigationStack&&(this.navigationStack=t.navigationStack),this.navigationStateSubject.next(a)}destroy(){this.destroy$.next(),this.destroy$.complete(),this.navigationStack=[],this.navigationStateSubject.next({canGoBack:!1,currentRoute:"",previousRoute:"",navigationStack:[],isStandalone:!1,isMobile:!1})}};n.\u0275fac=function(i){return new(i||n)(Ie(am),Ie(hn),Ie(ua),Ie(kn),Ie(X0))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function H$(e,n){e&1&&(c(0,"div",1)(1,"div",2),se(2,"div",3),c(3,"span",4),d(4,"Offline"),l()()()),e&2&&M("@slideDown",void 0)}function $$(e,n){e&1&&(c(0,"div",1)(1,"div",5),se(2,"div",6),c(3,"span",7),d(4,"Connected"),l()()()),e&2&&M("@slideDown",void 0)}var VS=(()=>{let n=class n{constructor(t,i){this.commonSyncService=t,this.notificationService=i,this.isOnline=!0,this.showOnlineBanner=!1,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.commonSyncService.networkStatus$.subscribe(t=>{let i=this.isOnline;this.isOnline=t.online,this.isOnline||console.log("You are offline. Please check your internet connection."),!i&&this.isOnline&&(this.showOnlineBanner=!0,console.log("Connection restored. Syncing data..."),setTimeout(()=>{this.showOnlineBanner=!1},Ot.NOTIFICATIONS.AUTO_HIDE_DELAY))}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}dismissOfflineBanner(){}dismissOnlineBanner(){this.showOnlineBanner=!1}};n.\u0275fac=function(i){return new(i||n)(T(ga),T(vt))},n.\u0275cmp=Se({type:n,selectors:[["app-offline-indicator"]],decls:2,vars:2,consts:[["class","fixed top-3 left-12 z-50",4,"ngIf"],[1,"fixed","top-3","left-12","z-50"],[1,"flex","items-center","space-x-2","bg-gray-800","bg-opacity-50","rounded-full","px-3","py-1","shadow-lg"],[1,"w-2","h-2","bg-red-500","rounded-full"],[1,"text-white","text-xm","font-medium"],[1,"flex","items-center","space-x-2","bg-green-500","bg-opacity-90","rounded-full","px-3","py-1","shadow-lg"],[1,"w-2","h-2","bg-white","rounded-full"],[1,"text-white","text-sm","font-medium"]],template:function(i,a){i&1&&U(0,H$,5,1,"div",0)(1,$$,5,1,"div",0),i&2&&(M("ngIf",!a.isOnline),h(),M("ngIf",a.showOnlineBanner))},dependencies:[dt],styles:["[_nghost-%COMP%]{display:block}.offline-banner[_ngcontent-%COMP%]{transition:all .3s ease}.offline-banner[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026}.online-banner[_ngcontent-%COMP%]{transition:all .3s ease}.online-banner[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026}.connection-indicator[_ngcontent-%COMP%]{transition:all .2s ease}.connection-indicator[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.close-button[_ngcontent-%COMP%]{transition:all .2s ease}.close-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"],data:{animation:[sr("slideDown",[Rn("void",Ut({transform:"translateY(-100%)",opacity:0})),Rn("*",Ut({transform:"translateY(0)",opacity:1})),Nn("void => *",[Un("0.3s ease-out")]),Nn("* => void",[Un("0.2s ease-in")])])]}});let e=n;return e})();var jS=(()=>{let n=class n{constructor(t){this.swUpdate=t,this.updateInfoSubject=new ln({available:!1,currentVersion:"",newVersion:"",updateReady:!1}),this.updateInfo$=this.updateInfoSubject.asObservable(),this.initializeServiceWorker()}initializeServiceWorker(){if(this.swUpdate.isEnabled){this.checkForUpdates(),this.swUpdate.versionUpdates.pipe(Hn(i=>i.type==="VERSION_READY")).subscribe(i=>{console.log("New version ready:",i),this.handleVersionReady(i)}),this.swUpdate.unrecoverable.subscribe(i=>{console.error("Unrecoverable service worker error:",i),this.handleUnrecoverableError(i)});let t=Ot.PWA.UPDATE_CHECK_INTERVAL;setInterval(()=>{this.checkForUpdates()},t),document.addEventListener("visibilitychange",()=>{document.hidden||this.checkForUpdates()})}}checkForUpdates(){this.swUpdate.checkForUpdate().then(()=>{console.log("Service worker update check completed")}).catch(t=>{console.error("Service worker update check failed:",t)})}handleVersionReady(t){let i={available:!0,currentVersion:this.getVersionFromAppData(t.currentVersion.appData)||"unknown",newVersion:this.getVersionFromAppData(t.latestVersion.appData)||"unknown",updateReady:!0};this.updateInfoSubject.next(i),this.activateUpdateSilently()}getVersionFromAppData(t){if(t&&typeof t=="object")return t.version||t.version}handleUnrecoverableError(t){window.location.reload()}activateUpdateSilently(){return this.swUpdate.activateUpdate().then(()=>(console.log("Service worker update activated silently"),this.updateInfoSubject.next({available:!1,currentVersion:"",newVersion:"",updateReady:!1}),window.location.reload(),!0)).catch(t=>(console.error("Failed to activate service worker update:",t),!1))}activateUpdate(){return this.activateUpdateSilently()}checkForUpdate(){return this.swUpdate.checkForUpdate().then(t=>(console.log(t?"Update available":"No update available"),t)).catch(t=>(console.error("Update check failed:",t),!1))}getCurrentVersion(){return this.updateInfoSubject.value.currentVersion}isUpdateAvailable(){return this.updateInfoSubject.value.available}isUpdateReady(){return this.updateInfoSubject.value.updateReady}handleNavigationEvent(t){t&&t.type==="NAVIGATION"&&console.log("Navigation event received:",t)}registerCustomHandlers(){"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",t=>{if(t.data&&t.data.type)switch(t.data.type){case"NAVIGATION":this.handleNavigationEvent(t.data);break;case"CACHE_UPDATED":console.log("Cache updated:",t.data);break;case"OFFLINE_MODE":console.log("Offline mode activated");break;default:console.log("Unknown service worker message:",t.data)}})}sendMessageToSw(t){"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(t)}handleInstallPrompt(){console.log("App ready for installation")}isAppInstalled(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}handleVisibilityChange(){document.hidden?(console.log("App went to background"),this.saveAppState()):(console.log("App came to foreground"),this.checkForUpdates())}saveAppState(){let t={timestamp:Date.now(),url:window.location.href,scrollPosition:window.scrollY};try{localStorage.setItem("app-background-state",JSON.stringify(t))}catch(i){console.warn("Failed to save app state:",i)}}};n.\u0275fac=function(i){return new(i||n)(Ie(hb))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function X$(e,n){if(e&1){let r=ue();c(0,"div",1)(1,"div",2)(2,"div",3),Kn(),c(3,"svg",4),se(4,"path",5)(5,"path",6)(6,"path",7),l()(),jr(),c(7,"div",8)(8,"h3"),d(9),l(),c(10,"p"),d(11,"Add to your home screen for quick access and offline functionality"),l()(),c(12,"div",9)(13,"button",10),F("click",function(){N(r);let i=w();return L(i.installApp())}),d(14," Install App "),l(),c(15,"button",11),F("click",function(){N(r);let i=w();return L(i.dismissPrompt())}),d(16," Not Now "),l()(),c(17,"button",12),F("click",function(){N(r);let i=w();return L(i.dismissPrompt())}),Kn(),c(18,"svg",13),se(19,"path",14),l()()()()}if(e&2){let r=w();h(9),ae("Install ",r.APP_CONFIG.APP_NAME,""),h(8),Kt("aria-label","Close install prompt")}}var zS=(()=>{let n=class n{constructor(t,i){this.pwaSwService=t,this.ssrService=i,this.installClicked=new Ve,this.dismissClicked=new Ve,this.APP_CONFIG=Ot,this.showInstallPrompt=!1,this.destroy$=new _t}ngOnInit(){this.setupInstallPrompt()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setupInstallPrompt(){this.ssrService.isClientSide()&&(window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.deferredPrompt=t;let i=localStorage.getItem("pwa-install-dismissed"),a=localStorage.getItem("pwa-install-dismissed-time"),o=!0;if(i&&a){let s=Date.now(),m=parseInt(a,10);o=(s-m)/(1e3*60*60*24)>=Ot.install_prompt_dismissed_days}o&&!this.pwaSwService.isAppInstalled()?(this.showInstallPrompt=!0,console.log("Install prompt ready and showing")):console.log("Install prompt ready but not showing (either dismissed or already installed)")}),window.addEventListener("appinstalled",()=>{this.showInstallPrompt=!1,this.deferredPrompt=null,console.log("App installed successfully")}),this.pwaSwService.isAppInstalled()&&(this.showInstallPrompt=!1))}installApp(){return me(this,null,function*(){if(this.deferredPrompt){this.installClicked.emit(),this.deferredPrompt.prompt();let{outcome:t}=yield this.deferredPrompt.userChoice;t==="accepted"?(console.log("User accepted the install prompt"),this.showInstallPrompt=!1):(console.log("User dismissed the install prompt"),this.dismissPrompt()),this.deferredPrompt=null}})}dismissPrompt(){this.dismissClicked.emit(),this.showInstallPrompt=!1,localStorage.setItem("pwa-install-dismissed","true"),localStorage.setItem("pwa-install-dismissed-time",Date.now().toString())}};n.\u0275fac=function(i){return new(i||n)(T(jS),T(Jr))},n.\u0275cmp=Se({type:n,selectors:[["app-pwa-install-prompt"]],outputs:{installClicked:"installClicked",dismissClicked:"dismissClicked"},decls:1,vars:1,consts:[["class","pwa-install-prompt",4,"ngIf"],[1,"pwa-install-prompt"],[1,"install-content"],[1,"install-icon"],["width","48","height","48","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 2L2 7L12 12L22 7L12 2Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M2 17L12 22L22 17","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M2 12L12 17L22 12","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"install-text"],[1,"install-actions"],["type","button",1,"install-btn","primary",3,"click"],["type","button",1,"install-btn","secondary",3,"click"],["type","button",1,"close-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M18 6L6 18M6 6L18 18","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(i,a){i&1&&U(0,X$,20,2,"div",0),i&2&&M("ngIf",a.showInstallPrompt)},dependencies:[dt],styles:[".pwa-install-prompt[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:20px;right:20px;z-index:1000;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.install-content[_ngcontent-%COMP%]{background:var(--surface-color, #ffffff);border:1px solid var(--border-color, #e2e8f0);border-radius:16px;padding:20px;box-shadow:0 10px 25px #0000001a;position:relative;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.install-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:16px;color:var(--primary-color, #3b82f6)}.install-text[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.install-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 8px}.install-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0;line-height:1.5}.install-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center}.install-btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;min-width:100px}.install-btn.primary[_ngcontent-%COMP%]{background:var(--primary-color, #3b82f6);color:#fff}.install-btn.primary[_ngcontent-%COMP%]:hover{background:var(--primary-color-dark, #2563eb);transform:translateY(-1px)}.install-btn.secondary[_ngcontent-%COMP%]{background:var(--surface-color, #f8fafc);color:var(--text-color, #1e293b);border:1px solid var(--border-color, #e2e8f0)}.install-btn.secondary[_ngcontent-%COMP%]:hover{background:var(--surface-hover-color, #f1f5f9)}.close-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;width:32px;height:32px;border:none;border-radius:50%;background:var(--surface-color, #f8fafc);color:var(--text-muted, #64748b);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.close-btn[_ngcontent-%COMP%]:hover{background:var(--surface-hover-color, #f1f5f9);color:var(--text-color, #1e293b)}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.pwa-install-prompt[_ngcontent-%COMP%]{bottom:16px;left:16px;right:16px}.install-content[_ngcontent-%COMP%]{padding:16px}.install-actions[_ngcontent-%COMP%]{flex-direction:column}.install-btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.pwa-install-prompt[_ngcontent-%COMP%]{bottom:12px;left:12px;right:12px}.install-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.install-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}}@media (prefers-color-scheme: dark){.install-content[_ngcontent-%COMP%]{background:#0f172af2;border-color:#334155}.install-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f1f5f9}.install-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}.install-btn.secondary[_ngcontent-%COMP%]{background:#1e293b;color:#f1f5f9;border-color:#334155}.install-btn.secondary[_ngcontent-%COMP%]:hover{background:#334155}.close-btn[_ngcontent-%COMP%]{background:#1e293b;color:#94a3b8}.close-btn[_ngcontent-%COMP%]:hover{background:#334155;color:#f1f5f9}}"]});let e=n;return e})();var US=(()=>{let n=class n{constructor(t,i,a,o,s,m){this.location=t,this.loaderService=i,this.pwaNavigationService=a,this.commonSyncService=o,this.ssrService=s,this.firebaseMessagingService=m,this.title=Ot.APP_NAME,this.isOnline=!1,this.destroy$=new _t,this.navigationState={canGoBack:!1,currentRoute:"",previousRoute:"",navigationStack:[],isStandalone:!1,isMobile:!1}}ngOnInit(){this.ssrService.isClientSide()&&(this.isOnline=navigator.onLine),this.initializePwaFeatures(),this.setupEventListeners(),this.firebaseMessagingService.listenForMessages()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.pwaNavigationService.destroy()}initializePwaFeatures(){this.pwaNavigationService.navigationState$.pipe(yt(this.destroy$)).subscribe(t=>{this.navigationState=t}),this.commonSyncService.isOnline$.pipe(yt(this.destroy$)).subscribe(t=>{this.isOnline=t})}setupEventListeners(){this.ssrService.isClientSide()&&(window.addEventListener("online",()=>this.isOnline=!0),window.addEventListener("offline",()=>this.isOnline=!1),window.addEventListener("beforeunload",t=>{this.navigationState.isStandalone&&this.saveAppState()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?this.handleAppBackground():document.visibilityState==="visible"&&this.handleAppForeground()}))}saveAppState(){let t={currentRoute:this.navigationState.currentRoute,navigationStack:this.navigationState.navigationStack,timestamp:Date.now()};try{localStorage.setItem("app-state",JSON.stringify(t))}catch(i){console.warn("Failed to save app state:",i)}}handleAppBackground(){this.saveAppState(),this.loaderService.hide()}handleAppForeground(){this.isOnline&&this.refreshDataIfNeeded()}refreshDataIfNeeded(){let t=localStorage.getItem("last-data-refresh"),i=Date.now(),a=Ot.OFFLINE.SYNC_INTERVAL;(!t||i-parseInt(t)>a)&&localStorage.setItem("last-data-refresh",i.toString())}goBack(){this.pwaNavigationService.goBack()}goForward(){this.pwaNavigationService.goForward()}handlePwaAction(t){if(this.ssrService.isClientSide())switch(t){case"back":this.goBack();break;case"forward":this.goForward();break;case"home":this.pwaNavigationService.navigateTo("/dashboard");break;case"refresh":window.location.reload();break;default:console.warn("Unknown PWA action:",t)}}onInstallClicked(){console.log("PWA install clicked")}onDismissClicked(){console.log("PWA install dismissed")}};n.\u0275fac=function(i){return new(i||n)(T(am),T(ul),T(lf),T(ga),T(Jr),T(cf))},n.\u0275cmp=Se({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[3,"installClicked","dismissClicked"]],template:function(i,a){i&1&&(se(0,"app-offline-indicator"),c(1,"app-pwa-install-prompt",0),F("installClicked",function(){return a.onInstallClicked()})("dismissClicked",function(){return a.onDismissClicked()}),l(),c(2,"div"),se(3,"app-loader")(4,"router-outlet"),l())},dependencies:[lm,Rb,VS,zS],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.content[_ngcontent-%COMP%]{padding:16px}.offline-banner[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;background:red;color:#fff;text-align:center;padding:5px}"]});let e=n;return e})();var Q$="@",Z$=(()=>{let n=class n{constructor(t,i,a,o,s){this.doc=t,this.delegate=i,this.zone=a,this.animationType=o,this.moduleImpl=s,this._rendererFactoryPromise=null,this.scheduler=dn(Dx,{optional:!0})}ngOnDestroy(){var t;(t=this._engine)==null||t.flush()}loadImpl(){var i;return((i=this.moduleImpl)!=null?i:import("./chunk-INAILQ6G.js").then(a=>a)).catch(a=>{throw new kx(5300,!1)}).then(({\u0275createEngine:a,\u0275AnimationRendererFactory:o})=>{this._engine=a(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,i){var s,m;let a=this.delegate.createRenderer(t,i);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let o=new m1(a);return(s=i==null?void 0:i.data)!=null&&s.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),(m=this._rendererFactoryPromise)==null||m.then(u=>{var g;let f=u.createRenderer(t,i);o.use(f),(g=this.scheduler)==null||g.notify(9)}).catch(u=>{o.use(a)}),o}begin(){var t,i;(i=(t=this.delegate).begin)==null||i.call(t)}end(){var t,i;(i=(t=this.delegate).end)==null||i.call(t)}whenRenderingDone(){var t,i,a;return(a=(i=(t=this.delegate).whenRenderingDone)==null?void 0:i.call(t))!=null?a:Promise.resolve()}};n.\u0275fac=function(i){Q0()},n.\u0275prov=at({token:n,factory:n.\u0275fac});let e=n;return e})(),m1=class{constructor(n){this.delegate=n,this.replay=[],this.\u0275type=1}use(n){if(this.delegate=n,this.replay!==null){for(let r of this.replay)r(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,r){return this.delegate.createElement(n,r)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,r){this.delegate.appendChild(n,r)}insertBefore(n,r,t,i){this.delegate.insertBefore(n,r,t,i)}removeChild(n,r,t){this.delegate.removeChild(n,r,t)}selectRootElement(n,r){return this.delegate.selectRootElement(n,r)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,r,t,i){this.delegate.setAttribute(n,r,t,i)}removeAttribute(n,r,t){this.delegate.removeAttribute(n,r,t)}addClass(n,r){this.delegate.addClass(n,r)}removeClass(n,r){this.delegate.removeClass(n,r)}setStyle(n,r,t,i){this.delegate.setStyle(n,r,t,i)}removeStyle(n,r,t){this.delegate.removeStyle(n,r,t)}setProperty(n,r,t){this.shouldReplay(r)&&this.replay.push(i=>i.setProperty(n,r,t)),this.delegate.setProperty(n,r,t)}setValue(n,r){this.delegate.setValue(n,r)}listen(n,r,t){return this.shouldReplay(r)&&this.replay.push(i=>i.listen(n,r,t)),this.delegate.listen(n,r,t)}shouldReplay(n){return this.replay!==null&&n.startsWith(Q$)}};function YS(e="animations"){return Lf("NgAsyncAnimations"),Rc([{provide:Z0,useFactory:(n,r,t)=>new Z$(n,r,t,e),deps:[da,om,kn]},{provide:sa,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var J$=(()=>{let n=class n extends au{constructor(t,i,a){super(t,i,a)}ngOnDestroy(){this.flush()}};n.\u0275fac=function(i){return new(i||n)(Ie(da),Ie(yd),Ie(ru))},n.\u0275prov=at({token:n,factory:n.\u0275fac});let e=n;return e})();function eG(){return new Bb}function tG(e,n,r){return new jb(e,n,r)}var HS=[{provide:ru,useFactory:eG},{provide:au,useClass:J$},{provide:Z0,useFactory:tG,deps:[om,au,kn]}],WS=[{provide:yd,useFactory:()=>new Vb},{provide:sa,useValue:"BrowserAnimations"},...HS],nG=[{provide:yd,useClass:Lb},{provide:sa,useValue:"NoopAnimations"},...HS],$S=(()=>{let n=class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?nG:WS}}};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({providers:WS,imports:[sm]});let e=n;return e})();var GS=(()=>{let n=class n{constructor(t,i){this.matIconRegistry=t,this.domSanitizer=i,this.matIconRegistry.addSvgIconSet(this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icon/system-uicons.svg")),this.matIconRegistry.addSvgIcon("test",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icon/test.svg")),this.matIconRegistry.addSvgIcon("add-txn",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icon/add-txn.svg"))}};n.\u0275fac=function(i){return new(i||n)(Ie(ob),Ie(Ux))},n.\u0275mod=pn({type:n}),n.\u0275inj=un({});let e=n;return e})();var T0="PERFORM_ACTION",oG="REFRESH",JS="RESET",eP="ROLLBACK",tP="COMMIT",nP="SWEEP",iP="TOGGLE_ACTION",sG="SET_ACTIONS_ACTIVE",rP="JUMP_TO_STATE",aP="JUMP_TO_ACTION",M1="IMPORT_STATE",oP="LOCK_CHANGES",sP="PAUSE_RECORDING",td=class{constructor(n,r){if(this.action=n,this.timestamp=r,this.type=T0,typeof n.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},u1=class{constructor(){this.type=oG}},p1=class{constructor(n){this.timestamp=n,this.type=JS}},f1=class{constructor(n){this.timestamp=n,this.type=eP}},h1=class{constructor(n){this.timestamp=n,this.type=tP}},g1=class{constructor(){this.type=nP}},_1=class{constructor(n){this.id=n,this.type=iP}};var x1=class{constructor(n){this.index=n,this.type=rP}},v1=class{constructor(n){this.actionId=n,this.type=aP}},b1=class{constructor(n){this.nextLiftedState=n,this.type=M1}},C1=class{constructor(n){this.status=n,this.type=oP}},y1=class{constructor(n){this.status=n,this.type=sP}};var pf=new Pn("@ngrx/store-devtools Options"),qS=new Pn("@ngrx/store-devtools Initial Config");function cP(){return null}var cG="NgRx Store DevTools";function lG(e){let n={maxAge:!1,monitor:cP,actionSanitizer:void 0,stateSanitizer:void 0,name:cG,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},r=typeof e=="function"?e():e,t=r.logOnly?{pause:!0,export:!0,test:!0}:!1,i=r.features||t||n.features;i.import===!0&&(i.import="custom");let a=Object.assign({},n,{features:i},r);if(a.maxAge&&a.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${a.maxAge}`);return a}function XS(e,n){return e.filter(r=>n.indexOf(r)<0)}function lP(e){let{computedStates:n,currentStateIndex:r}=e;if(r>=n.length){let{state:i}=n[n.length-1];return i}let{state:t}=n[r];return t}function O0(e){return new td(e,+Date.now())}function dG(e,n){return Object.keys(n).reduce((r,t)=>{let i=Number(t);return r[i]=dP(e,n[i],i),r},{})}function dP(e,n,r){return de(oe({},n),{action:e(n.action,r)})}function mG(e,n){return n.map((r,t)=>({state:mP(e,r.state,t),error:r.error}))}function mP(e,n,r){return e(n,r)}function uP(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function uG(e,n,r,t){let i=[],a={},o=[];return e.stagedActionIds.forEach((s,m)=>{let u=e.actionsById[s];u&&(m&&S1(e.computedStates[m],u,n,r,t)||(a[s]=u,i.push(s),o.push(e.computedStates[m])))}),de(oe({},e),{stagedActionIds:i,actionsById:a,computedStates:o})}function S1(e,n,r,t,i){let a=r&&!r(e,n.action),o=t&&!n.action.type.match(t.map(m=>KS(m)).join("|")),s=i&&n.action.type.match(i.map(m=>KS(m)).join("|"));return a||o||s}function KS(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pP(e){return{ngZone:e?dn(kn):null,connectInZone:e}}var ff=(()=>{let n=class n extends hm{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=gr(n)))(a||n)}})(),n.\u0275prov=at({token:n,factory:n.\u0275fac});let e=n;return e})(),df={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},w1=new Pn("@ngrx/store-devtools Redux Devtools Extension"),fP=(()=>{let n=class n{constructor(t,i,a){this.config=i,this.dispatcher=a,this.zoneConfig=pP(this.config.connectInZone),this.devtoolsExtension=t,this.createActionStreams()}notify(t,i){if(this.devtoolsExtension)if(t.type===T0){if(i.isLocked||i.isPaused)return;let a=lP(i);if(uP(this.config)&&S1(a,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?mP(this.config.stateSanitizer,a,i.currentStateIndex):a,s=this.config.actionSanitizer?dP(this.config.actionSanitizer,t,i.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(s,o))}else{let a=de(oe({},i),{stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?dG(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?mG(this.config.stateSanitizer,i.computedStates):i.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,a,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rn(t=>{let i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(a=>t.next(a)),i.unsubscribe}):W0}createActionStreams(){let t=this.createChangesObservable().pipe(Mx()),i=t.pipe(Hn(f=>f.type===df.START)),a=t.pipe(Hn(f=>f.type===df.STOP)),o=t.pipe(Hn(f=>f.type===df.DISPATCH),tt(f=>this.unwrapAction(f.payload)),Cx(f=>f.type===M1?this.dispatcher.pipe(Hn(g=>g.type===zf),vx(1e3),Eo(1e3),tt(()=>f),Yt(()=>st(f)),aa(1)):st(f))),m=t.pipe(Hn(f=>f.type===df.ACTION),tt(f=>this.unwrapAction(f.payload))).pipe(yt(a)),u=o.pipe(yt(a));this.start$=i.pipe(yt(a)),this.actions$=this.start$.pipe(oa(()=>m)),this.liftedActions$=this.start$.pipe(oa(()=>u))}unwrapAction(t){return typeof t=="string"?(0,eval)(`(${t})`):t}getExtensionConfig(t){var a,o,s;let i={name:t.name,features:t.features,serialize:t.serialize,autoPause:(a=t.autoPause)!=null?a:!1,trace:(o=t.trace)!=null?o:!1,traceLimit:(s=t.traceLimit)!=null?s:75};return t.maxAge!==!1&&(i.maxAge=t.maxAge),i}sendToReduxDevtools(t){try{t()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}};n.\u0275fac=function(i){return new(i||n)(Ie(w1),Ie(pf),Ie(ff))},n.\u0275prov=at({token:n,factory:n.\u0275fac});let e=n;return e})(),uf={type:jf},pG="@ngrx/store-devtools/recompute",fG={type:pG};function hP(e,n,r,t,i){if(t)return{state:r,error:"Interrupted by an error up the chain"};let a=r,o;try{a=e(r,n)}catch(s){o=s.toString(),i.handleError(s)}return{state:a,error:o}}function mf(e,n,r,t,i,a,o,s,m){if(n>=e.length&&e.length===a.length)return e;let u=e.slice(0,n),f=a.length-(m?1:0);for(let g=n;g<f;g++){let x=a[g],C=i[x].action,y=u[g-1],v=y?y.state:t,P=y?y.error:void 0,I=o.indexOf(x)>-1?y:hP(r,C,v,P,s);u.push(I)}return m&&u.push(e[e.length-1]),u}function hG(e,n){return{monitorState:n(void 0,{}),nextActionId:1,actionsById:{0:O0(uf)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function gG(e,n,r,t,i={}){return a=>(o,s)=>{let{monitorState:m,actionsById:u,nextActionId:f,stagedActionIds:g,skippedActionIds:x,committedState:C,currentStateIndex:y,computedStates:v,isLocked:P,isPaused:D}=o||n;o||(u=Object.create(u));function I(J){let O=J,k=g.slice(1,O+1);for(let V=0;V<k.length;V++)if(v[V+1].error){O=V,k=g.slice(1,O+1);break}else delete u[k[V]];x=x.filter(V=>k.indexOf(V)===-1),g=[0,...g.slice(O+1)],C=v[O].state,v=v.slice(O),y=y>O?y-O:0}function A(){u={0:O0(uf)},f=1,g=[0],x=[],C=v[y].state,y=0,v=[]}let K=0;switch(s.type){case oP:{P=s.status,K=1/0;break}case sP:{D=s.status,D?(g=[...g,f],u[f]=new td({type:"@ngrx/devtools/pause"},+Date.now()),f++,K=g.length-1,v=v.concat(v[v.length-1]),y===g.length-2&&y++,K=1/0):A();break}case JS:{u={0:O0(uf)},f=1,g=[0],x=[],C=e,y=0,v=[];break}case tP:{A();break}case eP:{u={0:O0(uf)},f=1,g=[0],x=[],y=0,v=[];break}case iP:{let{id:J}=s;x.indexOf(J)===-1?x=[J,...x]:x=x.filter(k=>k!==J),K=g.indexOf(J);break}case sG:{let{start:J,end:O,active:k}=s,V=[];for(let W=J;W<O;W++)V.push(W);k?x=XS(x,V):x=[...x,...V],K=g.indexOf(J);break}case rP:{y=s.index,K=1/0;break}case aP:{let J=g.indexOf(s.actionId);J!==-1&&(y=J),K=1/0;break}case nP:{g=XS(g,x),x=[],y=Math.min(y,g.length-1);break}case T0:{if(P)return o||n;if(D||o&&S1(o.computedStates[y],s,i.predicate,i.actionsSafelist,i.actionsBlocklist)){let O=v[v.length-1];v=[...v.slice(0,-1),hP(a,s.action,O.state,O.error,r)],K=1/0;break}i.maxAge&&g.length===i.maxAge&&I(1),y===g.length-1&&y++;let J=f++;u[J]=s,g=[...g,J],K=g.length-1;break}case M1:{({monitorState:m,actionsById:u,nextActionId:f,stagedActionIds:g,skippedActionIds:x,committedState:C,currentStateIndex:y,computedStates:v,isLocked:P,isPaused:D}=s.nextLiftedState);break}case jf:{K=0,i.maxAge&&g.length>i.maxAge&&(v=mf(v,K,a,C,u,g,x,r,D),I(g.length-i.maxAge),K=1/0);break}case zf:{if(v.filter(O=>O.error).length>0)K=0,i.maxAge&&g.length>i.maxAge&&(v=mf(v,K,a,C,u,g,x,r,D),I(g.length-i.maxAge),K=1/0);else{if(!D&&!P){y===g.length-1&&y++;let O=f++;u[O]=new td(s,+Date.now()),g=[...g,O],K=g.length-1,v=mf(v,K,a,C,u,g,x,r,D)}v=v.map(O=>de(oe({},O),{state:a(O.state,fG)})),y=g.length-1,i.maxAge&&g.length>i.maxAge&&I(g.length-i.maxAge),K=1/0}break}default:{K=1/0;break}}return v=mf(v,K,a,C,u,g,x,r,D),m=t(m,s),{monitorState:m,actionsById:u,nextActionId:f,stagedActionIds:g,skippedActionIds:x,committedState:C,currentStateIndex:y,computedStates:v,isLocked:P,isPaused:D}}}var QS=(()=>{let n=class n{constructor(t,i,a,o,s,m,u,f){let g=hG(u,f.monitor),x=gG(u,g,m,f.monitor,f),C=ir(ir(i.asObservable().pipe($0(1)),o.actions$).pipe(tt(O0)),t,o.liftedActions$).pipe(_x(gx)),y=a.pipe(tt(x)),v=pP(f.connectInZone),P=new Ys(1);this.liftedStateSubscription=C.pipe(Px(y),ZS(v),wx(({state:A},[K,J])=>{let O=J(A,K);return K.type!==T0&&uP(f)&&(O=uG(O,f.predicate,f.actionsSafelist,f.actionsBlocklist)),o.notify(K,O),{state:O,action:K}},{state:g,action:null})).subscribe(({state:A,action:K})=>{if(P.next(A),K.type===T0){let J=K.action;s.next(J)}}),this.extensionStartSubscription=o.start$.pipe(ZS(v)).subscribe(()=>{this.refresh()});let D=P.asObservable(),I=D.pipe(tt(lP));Object.defineProperty(I,"state",{value:Kx(I,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=t,this.liftedState=D,this.state=I}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new td(t,+Date.now()))}refresh(){this.dispatch(new u1)}reset(){this.dispatch(new p1(+Date.now()))}rollback(){this.dispatch(new f1(+Date.now()))}commit(){this.dispatch(new h1(+Date.now()))}sweep(){this.dispatch(new g1)}toggleAction(t){this.dispatch(new _1(t))}jumpToAction(t){this.dispatch(new v1(t))}jumpToState(t){this.dispatch(new x1(t))}importState(t){this.dispatch(new b1(t))}lockChanges(t){this.dispatch(new C1(t))}pauseRecording(t){this.dispatch(new y1(t))}};n.\u0275fac=function(i){return new(i||n)(Ie(ff),Ie(hm),Ie(Zx),Ie(fP),Ie(ev),Ie(Ox),Ie(Qx),Ie(pf))},n.\u0275prov=at({token:n,factory:n.\u0275fac});let e=n;return e})();function ZS({ngZone:e,connectInZone:n}){return r=>n?new rn(t=>r.subscribe({next:i=>e.run(()=>t.next(i)),error:i=>e.run(()=>t.error(i)),complete:()=>e.run(()=>t.complete())})):r}var _G=new Pn("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function xG(e,n){return!!e||n.monitor!==cP}function vG(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function bG(e={}){return Rc([fP,ff,QS,{provide:qS,useValue:e},{provide:_G,deps:[w1,pf],useFactory:xG},{provide:w1,useFactory:vG},{provide:pf,deps:[qS],useFactory:lG},{provide:tv,deps:[QS],useFactory:CG},{provide:Jx,useExisting:ff}])}function CG(e){return e.state}var gP=(()=>{let n=class n{static instrument(t={}){return{ngModule:n,providers:[bG(t)]}}};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({});let e=n;return e})();var P1={entities:{},ids:[],loading:!1,error:null,selectedTransactionId:null};var _P=ka(P1,Ee(Gi,e=>de(oe({},e),{loading:!0,error:null})),Ee(Bm,(e,{transactions:n})=>{let r=n.reduce((i,a)=>(a.id&&(i[a.id]=a),i),{}),t=n.map(i=>i.id).filter(i=>i);return de(oe({},e),{entities:r,ids:t,loading:!1,error:null})}),Ee(Vm,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(ts,e=>de(oe({},e),{loading:!0,error:null})),Ee(Zc,(e,{transaction:n})=>n.id?de(oe({},e),{entities:de(oe({},e.entities),{[n.id]:n}),ids:[...e.ids,n.id],loading:!1,error:null}):e),Ee(jm,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(ns,e=>de(oe({},e),{loading:!0,error:null})),Ee(Jc,(e,{transaction:n})=>n.id?de(oe({},e),{entities:de(oe({},e.entities),{[n.id]:n}),loading:!1,error:null}):e),Ee(zm,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(el,e=>de(oe({},e),{loading:!0,error:null})),Ee(is,(e,{transactionId:n})=>{let i=e.entities,{[n]:r}=i,t=Dc(i,[Ec(n)]);return de(oe({},e),{entities:t,ids:e.ids.filter(a=>a!==n),loading:!1,error:null})}),Ee(Um,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(Ym,e=>de(oe({},e),{loading:!0,error:null})),Ee(Wm,(e,{transaction:n})=>n.id?de(oe({},e),{entities:de(oe({},e.entities),{[n.id]:n}),ids:e.ids.includes(n.id)?e.ids:[...e.ids,n.id],selectedTransactionId:n.id,loading:!1,error:null}):e),Ee(pd,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(mv,()=>P1));var k1={entities:{},ids:[],loading:!1,error:null};var xP=ka(k1,Ee(zr,e=>de(oe({},e),{loading:!0,error:null})),Ee(Dm,(e,{categories:n})=>{let r=n.reduce((i,a)=>(a.id&&(i[a.id]=a),i),{}),t=n.map(i=>i.id).filter(i=>i);return de(oe({},e),{entities:r,ids:t,loading:!1,error:null})}),Ee(Im,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(Xc,e=>de(oe({},e),{loading:!0,error:null})),Ee(sv,(e,{category:n})=>n.id?de(oe({},e),{entities:de(oe({},e.entities),{[n.id]:n}),ids:[...e.ids,n.id],loading:!1,error:null}):e),Ee(Am,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(Ro,e=>de(oe({},e),{loading:!0,error:null})),Ee(cv,(e,{category:n})=>n.id?de(oe({},e),{entities:de(oe({},e.entities),{[n.id]:n}),loading:!1,error:null}):e),Ee(Fm,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(Kc,e=>de(oe({},e),{loading:!0,error:null})),Ee(Rm,(e,{categoryId:n})=>{let i=e.entities,{[n]:r}=i,t=Dc(i,[Ec(n)]);return de(oe({},e),{entities:t,ids:e.ids.filter(a=>a!==n),loading:!1,error:null})}),Ee(Nm,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(Qc,e=>de(oe({},e),{loading:!0,error:null})),Ee(lv,(e,{categoryId:n})=>{let r=e.entities[n];return r?de(oe({},e),{entities:de(oe({},e.entities),{[n]:de(oe({},r),{parentCategoryId:void 0,isSubCategory:!1})}),loading:!1,error:null}):e}),Ee(Lm,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(dv,()=>k1));var O1={entities:{},ids:[],loading:!1,error:null,selectedAccountId:null};var vP=ka(O1,Ee(Qr,e=>de(oe({},e),{loading:!0,error:null})),Ee(gm,(e,{accounts:n})=>{let r=n.reduce((i,a)=>(i[a.accountId]=a,i),{}),t=n.map(i=>i.accountId);return de(oe({},e),{entities:r,ids:t,loading:!1,error:null})}),Ee(_m,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee($c,e=>de(oe({},e),{loading:!0,error:null})),Ee(iv,(e,{account:n})=>de(oe({},e),{entities:de(oe({},e.entities),{[n.accountId]:n}),ids:[...e.ids,n.accountId],loading:!1,error:null})),Ee(xm,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(Gc,e=>de(oe({},e),{loading:!0,error:null})),Ee(rv,(e,{account:n})=>de(oe({},e),{entities:de(oe({},e.entities),{[n.accountId]:n}),loading:!1,error:null})),Ee(vm,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(qc,e=>de(oe({},e),{loading:!0,error:null})),Ee(bm,(e,{accountId:n})=>{let i=e.entities,{[n]:r}=i,t=Dc(i,[Ec(n)]);return de(oe({},e),{entities:t,ids:e.ids.filter(a=>a!==n),loading:!1,error:null})}),Ee(Cm,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(ym,e=>de(oe({},e),{loading:!0,error:null})),Ee(wm,(e,{account:n})=>de(oe({},e),{entities:de(oe({},e.entities),{[n.accountId]:n}),ids:e.ids.includes(n.accountId)?e.ids:[...e.ids,n.accountId],selectedAccountId:n.accountId,loading:!1,error:null})),Ee(ud,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(es,e=>de(oe({},e),{loading:!0,error:null})),Ee(Mm,(e,{accountId:n,newBalance:r})=>{let t=e.entities[n];return t?de(oe({},e),{entities:de(oe({},e.entities),{[n]:de(oe({},t),{balance:r,updatedAt:new Date})}),loading:!1,error:null}):e}),Ee(Sm,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(Pm,e=>de(oe({},e),{loading:!0,error:null})),Ee(km,e=>de(oe({},e),{loading:!1,error:null})),Ee(Om,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(Tm,e=>de(oe({},e),{loading:!0,error:null})),Ee(av,e=>de(oe({},e),{loading:!1,error:null})),Ee(Em,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(ov,()=>O1));var bP={budgets:[],loading:!1,error:null};var CP=ka(bP,Ee(mo,e=>de(oe({},e),{loading:!0,error:null})),Ee(ou,(e,{budgets:n})=>de(oe({},e),{budgets:n,loading:!1,error:null})),Ee(su,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(pl,e=>de(oe({},e),{loading:!0,error:null})),Ee(cu,(e,{budget:n})=>de(oe({},e),{budgets:[...e.budgets,n],loading:!1,error:null})),Ee(lu,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(du,e=>de(oe({},e),{loading:!0,error:null})),Ee(mu,(e,{budget:n})=>de(oe({},e),{budgets:e.budgets.map(r=>r.budgetId===n.budgetId?n:r),loading:!1,error:null})),Ee(uu,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(fl,e=>de(oe({},e),{loading:!0,error:null})),Ee(pu,(e,{budgetId:n})=>de(oe({},e),{budgets:e.budgets.filter(r=>r.budgetId!==n),loading:!1,error:null})),Ee(fu,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(hl,e=>de(oe({},e),{loading:!0,error:null})),Ee(hu,(e,{budget:n})=>de(oe({},e),{budgets:e.budgets.map(r=>r.budgetId===n.budgetId?n:r),loading:!1,error:null})),Ee(gu,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})));var yP={goals:[],loading:!1,error:null};var wP=ka(yP,Ee(uo,e=>de(oe({},e),{loading:!0,error:null})),Ee(_u,(e,{goals:n})=>de(oe({},e),{goals:n,loading:!1,error:null})),Ee(xu,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(gl,e=>de(oe({},e),{loading:!0,error:null})),Ee(vu,(e,{goal:n})=>de(oe({},e),{goals:[...e.goals,n],loading:!1,error:null})),Ee(bu,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(Cu,e=>de(oe({},e),{loading:!0,error:null})),Ee(yu,(e,{goal:n})=>de(oe({},e),{goals:e.goals.map(r=>r.goalId===n.goalId?n:r),loading:!1,error:null})),Ee(wu,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(_l,e=>de(oe({},e),{loading:!0,error:null})),Ee(Mu,(e,{goalId:n})=>de(oe({},e),{goals:e.goals.filter(r=>r.goalId!==n),loading:!1,error:null})),Ee(Su,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(xl,e=>de(oe({},e),{loading:!0,error:null})),Ee(Pu,(e,{goal:n})=>de(oe({},e),{goals:e.goals.map(r=>r.goalId===n.goalId?n:r),loading:!1,error:null})),Ee(ku,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})));var MP={profile:null,loading:!1,error:null};var SP=ka(MP,Ee(po,e=>de(oe({},e),{loading:!0,error:null})),Ee(Ou,(e,{profile:n})=>de(oe({},e),{profile:n,loading:!1,error:null})),Ee(Tu,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(vl,e=>de(oe({},e),{loading:!0,error:null})),Ee(Eu,(e,{profile:n})=>de(oe({},e),{profile:n,loading:!1,error:null})),Ee(Du,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(Iu,e=>de(oe({},e),{loading:!0,error:null})),Ee(Au,(e,{profile:n})=>de(oe({},e),{profile:n,loading:!1,error:null})),Ee(Fu,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(Ru,e=>de(oe({},e),{loading:!0,error:null})),Ee(Nu,e=>de(oe({},e),{profile:null,loading:!1,error:null})),Ee(Lu,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})),Ee(Bu,e=>de(oe({},e),{loading:!0,error:null})),Ee(Vu,(e,{profile:n})=>de(oe({},e),{profile:n,loading:!1,error:null})),Ee(ju,(e,{error:n})=>de(oe({},e),{loading:!1,error:n})));var PP=(()=>{let n=class n{constructor(t,i){this.actions$=t,this.transactionsService=i,this.loadTransactions$=Jt(()=>this.actions$.pipe(en(Gi),qt(({userId:a})=>this.transactionsService.getTransactions(a).pipe(tt(o=>Bm({transactions:o})),Yt(o=>st(Vm({error:o}))))))),this.createTransaction$=Jt(()=>this.actions$.pipe(en(ts),qt(({userId:a,transaction:o})=>this.transactionsService.createTransaction(a,o).pipe(tt(()=>Gi({userId:a})),Yt(s=>st(jm({error:s}))))))),this.updateTransaction$=Jt(()=>this.actions$.pipe(en(ns),qt(({userId:a,transactionId:o,transaction:s})=>this.transactionsService.updateTransaction(a,o,s).pipe(tt(()=>Gi({userId:a})),Yt(m=>st(zm({error:m}))))))),this.deleteTransaction$=Jt(()=>this.actions$.pipe(en(el),qt(({userId:a,transactionId:o})=>this.transactionsService.deleteTransaction(a,o).pipe(tt(()=>is({transactionId:o})),Yt(s=>st(Um({error:s}))))))),this.getTransaction$=Jt(()=>this.actions$.pipe(en(Ym),qt(({userId:a,transactionId:o})=>this.transactionsService.getTransaction(a,o).pipe(tt(s=>s?Wm({transaction:s}):pd({error:"Transaction not found"})),Yt(s=>st(pd({error:s})))))))}};n.\u0275fac=function(i){return new(i||n)(Ie(Aa),Ie(wl))},n.\u0275prov=at({token:n,factory:n.\u0275fac});let e=n;return e})();var kP=(()=>{let n=class n{constructor(t,i){this.actions$=t,this.categoryService=i,this.loadCategories$=Jt(()=>this.actions$.pipe(en(zr),qt(({userId:a})=>this.categoryService.getCategories(a).pipe(tt(o=>Dm({categories:o})),Yt(o=>st(Im({error:o}))))))),this.createCategory$=Jt(()=>this.actions$.pipe(en(Xc),qt(({userId:a,name:o,categoryType:s,icon:m,color:u})=>this.categoryService.createCategory(a,o,s,m,u).pipe(tt(()=>zr({userId:a})),Yt(f=>st(Am({error:f}))))))),this.updateCategory$=Jt(()=>this.actions$.pipe(en(Ro),qt(({userId:a,categoryId:o,name:s,categoryType:m,icon:u,color:f,budgetData:g,parentCategoryId:x,isSubCategory:C})=>this.categoryService.updateCategory(a,o,s,m,u,f,g,x,C).pipe(tt(()=>zr({userId:a})),Yt(y=>st(Fm({error:y}))))))),this.deleteCategory$=Jt(()=>this.actions$.pipe(en(Kc),qt(({userId:a,categoryId:o})=>this.categoryService.deleteCategory(a,o).pipe(tt(()=>Rm({categoryId:o})),Yt(s=>st(Nm({error:s}))))))),this.removeFromParentCategory$=Jt(()=>this.actions$.pipe(en(Qc),qt(({userId:a,categoryId:o})=>this.categoryService.removeFromParentCategory(a,o).pipe(tt(()=>zr({userId:a})),Yt(s=>st(Lm({error:s})))))))}};n.\u0275fac=function(i){return new(i||n)(Ie(Aa),Ie(Sl))},n.\u0275prov=at({token:n,factory:n.\u0275fac});let e=n;return e})();var OP=(()=>{let n=class n{constructor(t,i){this.actions$=t,this.accountsService=i,this.loadAccounts$=Jt(()=>this.actions$.pipe(en(Qr),qt(({userId:a})=>this.accountsService.getAccounts(a).pipe(tt(o=>gm({accounts:o})),Yt(o=>st(_m({error:o}))))))),this.createAccount$=Jt(()=>this.actions$.pipe(en($c),qt(({userId:a,accountData:o})=>this.accountsService.createAccount(a,o).pipe(tt(s=>Qr({userId:a})),Yt(s=>st(xm({error:s}))))))),this.updateAccount$=Jt(()=>this.actions$.pipe(en(Gc),qt(({userId:a,accountId:o,accountData:s})=>this.accountsService.updateAccount(a,o,s).pipe(tt(()=>Qr({userId:a})),Yt(m=>st(vm({error:m}))))))),this.deleteAccount$=Jt(()=>this.actions$.pipe(en(qc),qt(({userId:a,accountId:o})=>this.accountsService.deleteAccount(a,o).pipe(tt(()=>bm({accountId:o})),Yt(s=>st(Cm({error:s}))))))),this.getAccount$=Jt(()=>this.actions$.pipe(en(ym),qt(({userId:a,accountId:o})=>this.accountsService.getAccount(a,o).pipe(tt(s=>s?wm({account:s}):ud({error:"Account not found"})),Yt(s=>st(ud({error:s}))))))),this.updateAccountBalanceForTransaction$=Jt(()=>this.actions$.pipe(en(es),qt(({userId:a,accountId:o,transactionType:s,oldTransaction:m,newTransaction:u})=>this.accountsService.updateAccountBalanceForTransaction(a,o,s,m,u).pipe(tt(f=>Mm({accountId:o,newBalance:f})),Yt(f=>st(Sm({error:f}))))))),this.updateAccountBalanceForTransactions$=Jt(()=>this.actions$.pipe(en(Pm),qt(({userId:a,transactions:o})=>this.accountsService.updateAccountBalanceForTransactions(a,o).pipe(tt(()=>km()),Yt(s=>st(Om({error:s}))))))),this.updateAccountBalanceForAccountTransfer$=Jt(()=>this.actions$.pipe(en(Tm),qt(({userId:a,oldAccountId:o,newAccountId:s,transaction:m})=>this.accountsService.updateAccountBalanceForAccountTransfer(a,o,s,m).pipe(tt(()=>Qr({userId:a})),Yt(u=>st(Em({error:u})))))))}};n.\u0275fac=function(i){return new(i||n)(Ie(Aa),Ie(Cl))},n.\u0275prov=at({token:n,factory:n.\u0275fac});let e=n;return e})();var TP=(()=>{let n=class n{constructor(t,i,a){this.firestore=t,this.auth=i,this.dateService=a}createBudget(t,i){return me(this,null,function*(){let a=zt(this.firestore,`users/${t}/budgets/${i.budgetId}`);yield oo(a,de(oe({},i),{startDate:this.dateService.toTimestamp(i.startDate),endDate:this.dateService.toTimestamp(i.endDate),spent:0}))})}getBudgets(t){let i=ma(this.firestore,`users/${t}/budgets`);return new rn(a=>{as(i).then(o=>{let s=[];o.forEach(m=>{s.push(m.data())}),a.next(s)})})}getBudget(t,i){return me(this,null,function*(){let a=zt(this.firestore,`users/${t}/budgets/${i}`),o=yield Ii(a);if(o.exists())return o.data()})}updateBudget(t,i,a){return me(this,null,function*(){let o=zt(this.firestore,`users/${t}/budgets/${i}`);yield pi(o,a)})}deleteBudget(t,i){return me(this,null,function*(){let a=zt(this.firestore,`users/${t}/budgets/${i}`);yield kr(a)})}updateSpent(t,i,a){return me(this,null,function*(){var m;let o=zt(this.firestore,`users/${t}/budgets/${i}`),s=yield Ii(o);if(s.exists()){let f=(((m=s.data())==null?void 0:m.spent)||0)+a;yield pi(o,{spent:f})}})}};n.\u0275fac=function(i){return new(i||n)(Ie(Zr),Ie(kt),Ie(Xt))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var EP=(()=>{let n=class n{constructor(t,i){this.actions$=t,this.budgetsService=i,this.loadBudgets$=Jt(()=>this.actions$.pipe(en(mo),qt(({userId:a})=>this.budgetsService.getBudgets(a).pipe(tt(o=>ou({budgets:o})),Yt(o=>st(su({error:o}))))))),this.createBudget$=Jt(()=>this.actions$.pipe(en(pl),qt(({userId:a,budget:o})=>hr(this.budgetsService.createBudget(a,o)).pipe(tt(()=>cu({budget:o})),Yt(s=>st(lu({error:s}))))))),this.updateBudget$=Jt(()=>this.actions$.pipe(en(du),qt(({userId:a,budgetId:o,budget:s})=>hr(this.budgetsService.updateBudget(a,o,s)).pipe(tt(()=>mu({budget:de(oe({},s),{budgetId:o})})),Yt(m=>st(uu({error:m}))))))),this.deleteBudget$=Jt(()=>this.actions$.pipe(en(fl),qt(({userId:a,budgetId:o})=>hr(this.budgetsService.deleteBudget(a,o)).pipe(tt(()=>pu({budgetId:o})),Yt(s=>st(fu({error:s}))))))),this.updateSpent$=Jt(()=>this.actions$.pipe(en(hl),qt(({userId:a,budgetId:o,amount:s})=>hr(this.budgetsService.updateSpent(a,o,s)).pipe(tt(()=>hu({budget:{budgetId:o,spent:s}})),Yt(m=>st(gu({error:m})))))))}};n.\u0275fac=function(i){return new(i||n)(Ie(Aa),Ie(TP))},n.\u0275prov=at({token:n,factory:n.\u0275fac});let e=n;return e})();var DP=(()=>{let n=class n{constructor(t,i,a){this.firestore=t,this.auth=i,this.dateService=a}createGoal(t,i){return me(this,null,function*(){let a=zt(this.firestore,`users/${t}/goals/${i.goalId}`);yield oo(a,de(oe({},i),{deadline:this.dateService.toTimestamp(i.deadline),currentAmount:0}))})}getGoals(t){let i=ma(this.firestore,`users/${t}/goals`);return new rn(a=>{as(i).then(o=>{let s=[];o.forEach(m=>{s.push(m.data())}),a.next(s)})})}getGoal(t,i){return me(this,null,function*(){let a=zt(this.firestore,`users/${t}/goals/${i}`),o=yield Ii(a);if(o.exists())return o.data()})}updateGoal(t,i,a){return me(this,null,function*(){let o=zt(this.firestore,`users/${t}/goals/${i}`);yield pi(o,a)})}deleteGoal(t,i){return me(this,null,function*(){let a=zt(this.firestore,`users/${t}/goals/${i}`);yield kr(a)})}updateCurrentAmount(t,i,a){return me(this,null,function*(){var m;let o=zt(this.firestore,`users/${t}/goals/${i}`),s=yield Ii(o);if(s.exists()){let f=(((m=s.data())==null?void 0:m.currentAmount)||0)+a;yield pi(o,{currentAmount:f})}})}};n.\u0275fac=function(i){return new(i||n)(Ie(Zr),Ie(kt),Ie(Xt))},n.\u0275prov=at({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var IP=(()=>{let n=class n{constructor(t,i){this.actions$=t,this.goalsService=i,this.loadGoals$=Jt(()=>this.actions$.pipe(en(uo),qt(({userId:a})=>this.goalsService.getGoals(a).pipe(tt(o=>_u({goals:o})),Yt(o=>st(xu({error:o}))))))),this.createGoal$=Jt(()=>this.actions$.pipe(en(gl),qt(({userId:a,goal:o})=>hr(this.goalsService.createGoal(a,o)).pipe(tt(()=>vu({goal:o})),Yt(s=>st(bu({error:s}))))))),this.updateGoal$=Jt(()=>this.actions$.pipe(en(Cu),qt(({userId:a,goalId:o,goal:s})=>hr(this.goalsService.updateGoal(a,o,s)).pipe(tt(()=>yu({goal:de(oe({},s),{goalId:o})})),Yt(m=>st(wu({error:m}))))))),this.deleteGoal$=Jt(()=>this.actions$.pipe(en(_l),qt(({userId:a,goalId:o})=>hr(this.goalsService.deleteGoal(a,o)).pipe(tt(()=>Mu({goalId:o})),Yt(s=>st(Su({error:s}))))))),this.updateCurrentAmount$=Jt(()=>this.actions$.pipe(en(xl),qt(({userId:a,goalId:o,amount:s})=>hr(this.goalsService.updateCurrentAmount(a,o,s)).pipe(tt(()=>Pu({goal:{goalId:o,currentAmount:s}})),Yt(m=>st(ku({error:m})))))))}};n.\u0275fac=function(i){return new(i||n)(Ie(Aa),Ie(DP))},n.\u0275prov=at({token:n,factory:n.\u0275fac});let e=n;return e})();var AP=(()=>{let n=class n{constructor(t,i){this.actions$=t,this.userService=i,this.loadProfile$=Jt(()=>this.actions$.pipe(en(po),qt(({userId:a})=>hr(this.userService.getCurrentUser()).pipe(tt(o=>{if(o)return Ou({profile:o});throw new Error("Profile not found")}),Yt(o=>st(Tu({error:o}))))))),this.updateProfile$=Jt(()=>this.actions$.pipe(en(vl),qt(({userId:a,profile:o})=>hr(this.userService.createOrUpdateUser(o)).pipe(tt(()=>Eu({profile:o})),Yt(s=>st(Du({error:s}))))))),this.createProfile$=Jt(()=>this.actions$.pipe(en(Iu),qt(({userId:a,profile:o})=>hr(this.userService.createOrUpdateUser(o)).pipe(tt(()=>Au({profile:o})),Yt(s=>st(Fu({error:s}))))))),this.deleteProfile$=Jt(()=>this.actions$.pipe(en(Ru),qt(({userId:a})=>hr(this.userService.signOut()).pipe(tt(()=>Nu()),Yt(o=>st(Lu({error:o}))))))),this.updatePreferences$=Jt(()=>this.actions$.pipe(en(Bu),qt(({userId:a,preferences:o})=>hr(this.userService.getCurrentUser()).pipe(qt(s=>{if(s){let m=de(oe({},s),{preferences:o});return hr(this.userService.createOrUpdateUser(m))}else throw new Error("User not found")}),tt(()=>Vu({profile:{preferences:o}})),Yt(s=>st(ju({error:s})))))))}};n.\u0275fac=function(i){return new(i||n)(Ie(Aa),Ie(Bi))},n.\u0275prov=at({token:n,factory:n.\u0275fac});let e=n;return e})();var FP=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({imports:[nv.forRoot({transactions:_P,categories:xP,accounts:vP,budgets:CP,goals:wP,profile:SP}),Fb.forRoot([PP,kP,OP,EP,IP,AP]),gP.instrument({maxAge:25,logOnly:Ai.production})]});let e=n;return e})();function RP(e,n){let r=dn(hn),t=dn(Bi),i=dn(vt),a=MG(e),o=SG(a,t);return n(o).pipe(yx(1),Yt(s=>PG(s,e,r,t,i)))}function MG(e){let n={"X-Content-Type-Options":"nosniff","X-Frame-Options":"DENY","X-XSS-Protection":"1; mode=block","Referrer-Policy":"strict-origin-when-cross-origin","Permissions-Policy":"geolocation=(), microphone=(), camera=()","Strict-Transport-Security":"max-age=31536000; includeSubDomains","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"};return e.clone({setHeaders:n})}function SG(e,n){let r=n.userAuth$.value;return r&&r.uid?e.clone({setHeaders:{Authorization:`Bearer ${r.uid}`}}):e}function PG(e,n,r,t,i){switch(console.error("Security interceptor error:",e),e.status){case 401:kG(r,t,i);break;case 403:OG(i);break;case 429:TG(i);break;case 500:EG(i);break;default:DG(e,i)}return H0(()=>e)}function kG(e,n,r){var t;console.warn("Unauthorized request detected"),D0("UNAUTHORIZED_REQUEST",{url:((t=window==null?void 0:window.location)==null?void 0:t.href)||"",timestamp:new Date().toISOString()}),n.forceLogout("Unauthorized request detected"),r.error("Session expired. Please log in again."),e.navigate(["/landing"],{queryParams:{error:"unauthorized",redirect:e.url}})}function OG(e){var n;console.warn("Forbidden request detected"),D0("FORBIDDEN_REQUEST",{url:((n=window==null?void 0:window.location)==null?void 0:n.href)||"",timestamp:new Date().toISOString()}),e.error("Access denied. You do not have permission to perform this action.")}function TG(e){var n;console.warn("Rate limit exceeded"),D0("RATE_LIMIT_EXCEEDED",{url:((n=window==null?void 0:window.location)==null?void 0:n.href)||"",timestamp:new Date().toISOString()}),e.warning("Too many requests. Please wait a moment before trying again.")}function EG(e){var n;console.error("Server error detected"),D0("SERVER_ERROR",{url:((n=window==null?void 0:window.location)==null?void 0:n.href)||"",timestamp:new Date().toISOString()}),e.error("Server error. Please try again later.")}function DG(e,n){var r;console.error("Generic HTTP error:",e),D0("HTTP_ERROR",{status:e.status,statusText:e.statusText,url:e.url||((r=window==null?void 0:window.location)==null?void 0:r.href)||"",timestamp:new Date().toISOString()}),e.status>=500?n.error("Server error. Please try again later."):e.status>=400&&n.error("Request failed. Please check your input and try again.")}function D0(e,n){var t;let r={type:e,data:n,userAgent:navigator.userAgent,timestamp:new Date().toISOString(),url:((t=window==null?void 0:window.location)==null?void 0:t.href)||""};console.log("Security Event:",r)}var T1=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({imports:[li]});let e=n;return e})();var E1=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({imports:[li,li]});let e=n;return e})();var IG=new Pn("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let e=dn(ds);return()=>e.scrollStrategies.reposition()}});function AG(e){return()=>e.scrollStrategies.reposition()}var FG={provide:IG,deps:[ds],useFactory:AG};var D1=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({providers:[FG],imports:[Jm,Xf,li,Fo,Ks,Xf,li]});let e=n;return e})();var NP=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n}),n.\u0275inj=un({imports:[Fo,Bf,Vf,lh,Cd,Gs,vd,T1,Jf,Qh,qf,Sh,nh,ih,oh,E1,mh,sh,bd,hg,j_,dh,jh,eh,th,Fh,D1,rh,ch,uh,Fo,Bf,Vf,lh,Cd,Gs,vd,T1,Jf,Qh,qf,Sh,nh,ih,oh,E1,mh,sh,bd,hg,j_,dh,jh,eh,th,Fh,D1,rh,ch,uh]});let e=n;return e})();var LP=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=pn({type:n,bootstrap:[US]}),n.\u0275inj=un({providers:[YS(),Vx(jx([RP])),$p,Yx(),ga,wv(()=>Mv(Ai.firebaseConfig)),Pv(()=>{let t=kv();return t.setPersistence(Sv).then(()=>console.log("\u2705 Auth persistence enabled")).catch(i=>console.warn("\u26A0\uFE0F Auth persistence error:",i.message)),t}),Ov(()=>{let t=Dv();return Ev(t).then(()=>{console.log("\u2705 Firestore offline persistence enabled")}).catch(i=>{i.code==="failed-precondition"?console.warn("\u26A0\uFE0F Multiple tabs detected. Persistence disabled to avoid conflicts."):i.code==="unimplemented"&&console.warn("\u26A0\uFE0F IndexedDB persistence not supported. Falling back to cache.")}),t}),ES(()=>{let t=ed();return console.log("\u2705 Firebase Cloud Messaging initialized"),t})],imports:[sm,BS,$S,NP,GS,$C.forRoot({echarts:()=>import("./chunk-BDRRPAEY.js")}),FP,Nb,gb.register("ngsw-worker.js",{enabled:!Lx(),registrationStrategy:"registerImmediately",scope:"./"}),md]});let e=n;return e})();function RG(){if(typeof window>"u")return;let e;window.addEventListener("beforeinstallprompt",n=>{n.preventDefault(),e=n,console.log("PWA install prompt ready")}),window.addEventListener("appinstalled",()=>{console.log("PWA installed successfully"),e=null}),window.addEventListener("popstate",n=>{console.log("Navigation event:",n)}),document.addEventListener("visibilitychange",()=>{document.hidden?console.log("App went to background"):console.log("App came to foreground")}),window.addEventListener("beforeunload",n=>{let r={timestamp:Date.now(),url:window.location.href,scrollPosition:window.scrollY};try{localStorage.setItem("app-state",JSON.stringify(r))}catch(t){console.warn("Failed to save app state:",t)}})}function NG(){if(typeof window>"u")return;if(typeof navigator<"u"&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){let n=new Date,r=Math.ceil(n.getDate()/7),t=n.getMonth()+1,a=`${n.getFullYear()}-${t.toString().padStart(2,"0")}-W${r}`,o=localStorage.getItem("app-version");o&&o!==a?(console.log("App version changed on mobile, performing smart cache update"),LG(o,a)):localStorage.setItem("app-version",a)}}function LG(e,n){return me(this,null,function*(){if(!(typeof window>"u"))try{console.log(`Performing smart cache update from ${e} to ${n}`);let r=BG();yield jG(),VG(r),localStorage.setItem("app-version",n),console.log("Smart cache update completed successfully")}catch(r){console.error("Smart cache update failed:",r)}})}function BG(){if(typeof window>"u")return{};let e={};return localStorage.getItem("firebase:authUser:")&&Object.keys(localStorage).filter(t=>t.startsWith("firebase:authUser:")||t.startsWith("firebase:persistence:")).forEach(t=>{e[t]=localStorage.getItem(t)}),["theme","language","user-settings"].forEach(r=>{let t=localStorage.getItem(r);t&&(e[r]=t)}),e}function VG(e){typeof window>"u"||Object.keys(e).forEach(n=>{localStorage.setItem(n,e[n])})}function jG(){return me(this,null,function*(){if(!(typeof window>"u"))try{if("caches"in window){let r=(yield caches.keys()).filter(t=>!t.includes("firebase")&&!t.includes("auth")&&!t.includes("user"));yield Promise.all(r.map(t=>caches.delete(t)))}Object.keys(localStorage).filter(n=>!n.startsWith("firebase:")&&!n.startsWith("user")&&!n.startsWith("theme")&&!n.startsWith("language")&&n!=="app-version").forEach(n=>localStorage.removeItem(n)),console.log("Application caches cleared successfully")}catch(e){throw console.error("Failed to clear application caches:",e),e}})}RG();NG();zx().bootstrapModule(LP,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));

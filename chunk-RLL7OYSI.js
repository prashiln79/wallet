import{A as le,Ad as fe,B as qe,Bd as ve,Cc as J,Cd as be,D as He,Dc as Ee,Dd as rt,E as Ge,Ed as ct,F as Qe,Fd as st,G as Ke,Gd as Ce,H as We,I as Ye,Id as ye,Jd as dt,L as Ze,Ld as Te,M as Je,Md as xe,N as Xe,Nd as lt,Pd as mt,Qd as Me,Rd as pt,Sd as te,Zc as U,ac as K,ad as j,bc as W,bd as Fe,cd as L,dd as Ae,fd as X,gd as ee,hd as De,jb as Q,jc as et,k as Le,kd as pe,n as Ie,nc as Y,od as nt,p as Ve,q as H,qd as he,rc as tt,s as I,t as G,tc as it,u as Ne,ud as ge,w as R,wc as me,wd as ue,xd as at,y as Be,yd as _e,z as $e,zc as Z,zd as ot}from"./chunk-BSOQQ7YQ.js";import{$b as e,Aa as F,Ba as A,Bd as Se,Ec as se,Ic as $,Jc as q,Ka as C,L as oe,La as y,Pb as h,Rb as l,S as re,Sb as N,Tb as w,_b as t,ac as g,ec as k,f as D,ha as S,hc as f,jc as p,ob as je,qa as E,sa as Ue,tb as c,tc as ce,ub as x,uc as i,ud as T,vc as _,vd as z,wc as M,xc as B,yd as de}from"./chunk-VG2YU3S7.js";import{k as O}from"./chunk-LKDXID24.js";var ht=(()=>{let s=class s{};s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=A({type:s}),s.\u0275inj=E({imports:[et,Y,Y]});let o=s;return o})();var Ut=new Ue("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})});var gt=(()=>{let s=class s{};s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=A({type:s}),s.\u0275inj=E({providers:[tt,{provide:Ut,useValue:{separatorKeyCodes:[13]}}],imports:[Y,it,Y]});let o=s;return o})();var Gt=()=>[5,10,25,50];function Qt(o,s){if(o&1&&(t(0,"mat-option",24),i(1),e()),o&2){let a=s.$implicit;l("value",a.value),c(),M(" ",a.label," ")}}function Kt(o,s){if(o&1&&(t(0,"mat-option",24),i(1),e()),o&2){let a=s.$implicit;l("value",a.value),c(),M(" ",a.label," ")}}function Wt(o,s){if(o&1&&(t(0,"span",25),i(1),e()),o&2){let a=p();c(),B(" Page ",a.currentPage," of ",a.getTotalPages()," ")}}function Yt(o,s){o&1&&(t(0,"div",26),g(1,"mat-spinner",27),t(2,"p"),i(3,"Loading users..."),e()())}function Zt(o,s){if(o&1&&g(0,"img",55),o&2){let a=p().$implicit;l("src",a.photoURL,je)("alt",a.displayName||a.email)}}function Jt(o,s){o&1&&(t(0,"mat-icon"),i(1,"person"),e())}function Xt(o,s){o&1&&(t(0,"span",56)(1,"mat-icon"),i(2,"verified"),e(),i(3," Verified "),e())}function ei(o,s){if(o&1){let a=k();t(0,"button",47),f("click",function(){C(a);let r=p().$implicit,d=p(2);return y(d.updateUserStatus(r,"active"))}),t(1,"mat-icon"),i(2,"check_circle"),e(),i(3," Activate User "),e()}}function ti(o,s){if(o&1){let a=k();t(0,"button",47),f("click",function(){C(a);let r=p().$implicit,d=p(2);return y(d.updateUserStatus(r,"suspended"))}),t(1,"mat-icon"),i(2,"block"),e(),i(3," Suspend User "),e()}}function ii(o,s){if(o&1){let a=k();t(0,"button",47),f("click",function(){C(a);let r=p().$implicit,d=p(2);return y(d.updateUserStatus(r,"pending"))}),t(1,"mat-icon"),i(2,"pending"),e(),i(3," Mark as Pending "),e()}}function ni(o,s){if(o&1&&(t(0,"div",51)(1,"span",52),i(2,"Last Sign In:"),e(),t(3,"span",53),i(4),e()()),o&2){let a=p().$implicit,n=p(2);c(4),_(n.formatDateTime(a.lastSignInAt))}}function ai(o,s){if(o&1){let a=k();t(0,"div",30)(1,"div",31)(2,"div",32)(3,"div",33)(4,"div",34),h(5,Zt,1,2,"img",35)(6,Jt,2,0,"mat-icon",36),e(),t(7,"div",37)(8,"h4"),i(9),e(),t(10,"p"),i(11),e(),t(12,"div",38)(13,"span",39)(14,"mat-icon"),i(15,"receipt_long"),e(),i(16),e(),t(17,"span",39)(18,"mat-icon"),i(19,"category"),e(),i(20),e()()()(),t(21,"div",40)(22,"span",41)(23,"mat-icon"),i(24),e(),i(25),$(26,"titlecase"),e(),t(27,"span",42)(28,"mat-icon"),i(29),e(),i(30),e(),h(31,Xt,4,0,"span",43),e()(),t(32,"div",44)(33,"button",45)(34,"mat-icon"),i(35,"more_vert"),e()(),t(36,"mat-menu",null,0),h(38,ei,4,0,"button",46)(39,ti,4,0,"button",46)(40,ii,4,0,"button",46),g(41,"mat-divider"),t(42,"button",47),f("click",function(){let r=C(a).$implicit,d=p(2);return y(d.toggleAdminRole(r))}),t(43,"mat-icon"),i(44),e(),i(45),e(),g(46,"mat-divider"),t(47,"button",47),f("click",function(){let r=C(a).$implicit,d=p(2);return y(d.sendEmailToUser(r))}),t(48,"mat-icon"),i(49,"email"),e(),i(50," Send Email "),e(),g(51,"mat-divider"),t(52,"button",48),f("click",function(){let r=C(a).$implicit,d=p(2);return y(d.deleteUser(r))}),t(53,"mat-icon"),i(54,"delete"),e(),i(55," Delete User "),e()()()(),t(56,"div",49)(57,"div",50)(58,"div",51)(59,"span",52),i(60,"Created:"),e(),t(61,"span",53),i(62),e()(),h(63,ni,5,1,"div",54),e()()()}if(o&2){let a=s.$implicit,n=ce(37),r=p(2);c(5),l("ngIf",a.photoURL),c(),l("ngIf",!a.photoURL),c(3),_(a.displayName||"No Name"),c(2),_(a.email),c(5),M(" ",a.totalTransactions||0," transactions "),c(4),M(" ",a.totalCategories||0," categories "),c(2),N("background-color",r.getStatusColor(a.status)),c(2),_(r.getStatusIcon(a.status)),c(),M(" ",q(26,23,a.status)," "),c(2),w("admin",a.isAdmin),c(2),_(a.isAdmin?"admin_panel_settings":"person"),c(),M(" ",a.isAdmin?"Admin":"User"," "),c(),l("ngIf",a.emailVerified),c(2),l("matMenuTriggerFor",n),c(5),l("ngIf",a.status!=="active"),c(),l("ngIf",a.status!=="suspended"),c(),l("ngIf",a.status!=="pending"),c(4),_(a.isAdmin?"person":"admin_panel_settings"),c(),M(" ",a.isAdmin?"Remove Admin":"Make Admin"," "),c(17),_(r.formatDate(a.createdAt)),c(),l("ngIf",a.lastSignInAt)}}function oi(o,s){if(o&1&&(t(0,"div",28),h(1,ai,64,25,"div",29),e()),o&2){let a=p();c(),l("ngForOf",a.getPaginatedUsers())}}function ri(o,s){o&1&&(t(0,"p"),i(1," No users match your current filters. Try adjusting your search criteria. "),e())}function ci(o,s){o&1&&(t(0,"p"),i(1," No users have registered yet. "),e())}function si(o,s){if(o&1){let a=k();t(0,"button",59),f("click",function(){C(a);let r=p(2);return y(r.clearFilters())}),i(1," Clear Filters "),e()}}function di(o,s){if(o&1&&(t(0,"div",57)(1,"mat-icon"),i(2,"people"),e(),t(3,"h3"),i(4,"No users found"),e(),h(5,ri,2,0,"p",36)(6,ci,2,0,"p",36)(7,si,2,0,"button",58),e()),o&2){let a=p();c(5),l("ngIf",a.filteredUsers.length===0&&a.usersList.length>0),c(),l("ngIf",a.usersList.length===0),c(),l("ngIf",a.filteredUsers.length===0&&a.usersList.length>0)}}function li(o,s){if(o&1){let a=k();t(0,"div",60)(1,"mat-paginator",61),f("page",function(r){C(a);let d=p();return y(d.onPageChange(r.pageIndex+1))}),e()()}if(o&2){let a=p();c(),l("length",a.totalItems)("pageSize",a.itemsPerPage)("pageIndex",a.currentPage-1)("pageSizeOptions",se(4,Gt))}}var yt=(()=>{let s=class s{constructor(n,r,d,m,u){this.breakpointObserver=n,this.auth=r,this.userService=d,this.dialog=m,this.notificationService=u,this.usersList=[],this.filteredUsers=[],this.isLoading=!1,this.isMobile=!1,this.currentUser=null,this.destroy$=new D,this.searchControl=new R(""),this.statusFilter=new R("all"),this.roleFilter=new R("all"),this.statusOptions=[{value:"all",label:"All Status"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"pending",label:"Pending"}],this.roleOptions=[{value:"all",label:"All Roles"},{value:"user",label:"User"},{value:"admin",label:"Admin"}],this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.breakpointObserver.observe([W.Handset]).pipe(S(this.destroy$)).subscribe(v=>{this.isMobile=v.matches})}ngOnInit(){this.initializeComponent(),this.setupSearchAndFilters()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeComponent(){return O(this,null,function*(){this.currentUser=yield this.auth.currentUser,yield this.loadUsers()})}setupSearchAndFilters(){this.searchControl.valueChanges.pipe(S(this.destroy$),oe(300),re()).subscribe(()=>{this.applyFilters()}),this.statusFilter.valueChanges.pipe(S(this.destroy$)).subscribe(()=>this.applyFilters()),this.roleFilter.valueChanges.pipe(S(this.destroy$)).subscribe(()=>this.applyFilters())}loadUsers(){return O(this,null,function*(){this.isLoading=!0;try{this.usersList=yield this.userService.getAllUsers(),this.applyFilters()}catch(n){console.error("Error loading users:",n),this.notificationService.error("Failed to load users")}finally{this.isLoading=!1}})}applyFilters(){var u;let n=[...this.usersList],r=(u=this.searchControl.value)==null?void 0:u.toLowerCase();r&&(n=n.filter(v=>{var b;return((b=v.displayName)==null?void 0:b.toLowerCase().includes(r))||v.email.toLowerCase().includes(r)}));let d=this.statusFilter.value;d&&d!=="all"&&(n=n.filter(v=>v.status===d));let m=this.roleFilter.value;m&&m!=="all"&&(m==="admin"?n=n.filter(v=>v.isAdmin):n=n.filter(v=>!v.isAdmin)),n.sort((v,b)=>b.createdAt.getTime()-v.createdAt.getTime()),this.filteredUsers=n,this.totalItems=n.length,this.currentPage=1}getStatusColor(n){switch(n){case"active":return"#10b981";case"suspended":return"#ef4444";case"pending":return"#f59e0b";default:return"#6b7280"}}getStatusIcon(n){switch(n){case"active":return"check_circle";case"suspended":return"block";case"pending":return"pending";default:return"help"}}formatDate(n){return n.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateTime(n){return n.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}updateUserStatus(n,r){return O(this,null,function*(){try{yield this.userService.updateUserStatus(n.uid,r),n.status=r,this.notificationService.success(`User status updated to ${r}`)}catch(d){console.error("Error updating user status:",d),this.notificationService.error("Failed to update user status")}})}deleteUser(n){return O(this,null,function*(){this.dialog.open(Ce,{width:"400px",data:{title:"Delete User",message:`Are you sure you want to delete ${n.displayName||n.email}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:"warn"}}).afterClosed().subscribe(d=>O(this,null,function*(){if(d)try{yield this.userService.deleteUser(n.uid),this.usersList=this.usersList.filter(m=>m.uid!==n.uid),this.applyFilters(),this.notificationService.success("User deleted successfully")}catch(m){console.error("Error deleting user:",m),this.notificationService.error("Failed to delete user")}}))})}sendEmailToUser(n){this.notificationService.info(`Email functionality will be implemented for ${n.email}`)}toggleAdminRole(n){return O(this,null,function*(){try{yield this.userService.toggleAdminRole(n.uid),n.isAdmin=!n.isAdmin,this.notificationService.success(`Admin role ${n.isAdmin?"granted":"revoked"} for ${n.displayName||n.email}`)}catch(r){console.error("Error toggling admin role:",r),this.notificationService.error("Failed to update admin role")}})}getPaginatedUsers(){let n=(this.currentPage-1)*this.itemsPerPage,r=n+this.itemsPerPage;return this.filteredUsers.slice(n,r)}onPageChange(n){this.currentPage=n}getTotalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)}clearFilters(){this.searchControl.setValue(""),this.statusFilter.setValue("all"),this.roleFilter.setValue("all")}exportUsers(){try{let n=this.generateCSV(),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),m=URL.createObjectURL(r);d.setAttribute("href",m),d.setAttribute("download",`users_export_${new Date().toISOString().split("T")[0]}.csv`),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d),this.notificationService.success("Users exported successfully")}catch(n){console.error("Error exporting users:",n),this.notificationService.error("Failed to export users")}}generateCSV(){let n=["Name","Email","Status","Role","Email Verified","Created Date","Last Sign In","Transactions","Categories"],r=this.filteredUsers.map(m=>[m.displayName||"N/A",m.email,m.status,m.isAdmin?"Admin":"User",m.emailVerified?"Yes":"No",this.formatDate(m.createdAt),m.lastSignInAt?this.formatDateTime(m.lastSignInAt):"Never",m.totalTransactions||0,m.totalCategories||0]);return[n,...r].map(m=>m.map(u=>`"${u}"`).join(",")).join(`
`)}};s.\u0275fac=function(r){return new(r||s)(x(K),x(Q),x(X),x(pe),x(U))},s.\u0275cmp=F({type:s,selectors:[["app-admin-users"]],decls:44,vars:13,consts:[["menu","matMenu"],[1,"admin-users-container"],[1,"section-header"],[1,"header-content"],[1,"header-actions"],["mat-raised-button","","color","accent",3,"click","disabled"],["mat-raised-button","","color","warn",3,"click"],[1,"filters-section"],[1,"search-bar"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Search by name or email",3,"formControl"],["matSuffix",""],[1,"filter-controls"],["appearance","outline",1,"filter-field"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"results-summary"],[1,"summary-info"],[1,"total-count"],["class","page-info",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","users-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","pagination-container",4,"ngIf"],[3,"value"],[1,"page-info"],[1,"loading-state"],["diameter","40"],[1,"users-list"],["class","user-item",4,"ngFor","ngForOf"],[1,"user-item"],[1,"user-header"],[1,"user-meta"],[1,"user-info"],[1,"avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"user-details"],[1,"user-stats"],[1,"stat"],[1,"user-badges"],[1,"badge","status"],[1,"badge","role"],["class","badge verified",4,"ngIf"],[1,"user-actions"],["mat-icon-button","","matTooltip","Actions",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"delete-action",3,"click"],[1,"user-content"],[1,"user-dates"],[1,"date-info"],[1,"label"],[1,"value"],["class","date-info",4,"ngIf"],[3,"src","alt"],[1,"badge","verified"],[1,"empty-state"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"pagination-container"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(r,d){r&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2"),i(4,"User Management"),e(),t(5,"p"),i(6,"Manage user accounts and permissions"),e()(),t(7,"div",4)(8,"button",5),f("click",function(){return d.exportUsers()}),t(9,"mat-icon"),i(10,"download"),e(),i(11," Export CSV "),e(),t(12,"button",6),f("click",function(){return d.clearFilters()}),t(13,"mat-icon"),i(14,"clear"),e(),i(15," Clear Filters "),e()()(),t(16,"div",7)(17,"div",8)(18,"mat-form-field",9)(19,"mat-label"),i(20,"Search users"),e(),g(21,"input",10),t(22,"mat-icon",11),i(23,"search"),e()()(),t(24,"div",12)(25,"mat-form-field",13)(26,"mat-label"),i(27,"Status"),e(),t(28,"mat-select",14),h(29,Qt,2,2,"mat-option",15),e()(),t(30,"mat-form-field",13)(31,"mat-label"),i(32,"Role"),e(),t(33,"mat-select",14),h(34,Kt,2,2,"mat-option",15),e()()()(),t(35,"div",16)(36,"div",17)(37,"span",18),i(38),e(),h(39,Wt,2,2,"span",19),e()(),h(40,Yt,4,0,"div",20)(41,oi,2,1,"div",21)(42,di,8,3,"div",22)(43,li,2,5,"div",23),e()),r&2&&(c(8),l("disabled",d.filteredUsers.length===0),c(13),l("formControl",d.searchControl),c(7),l("formControl",d.statusFilter),c(),l("ngForOf",d.statusOptions),c(4),l("formControl",d.roleFilter),c(),l("ngForOf",d.roleOptions),c(4),B("Showing ",d.filteredUsers.length," of ",d.usersList.length," users"),c(),l("ngIf",d.totalItems>0),c(),l("ngIf",d.isLoading),c(),l("ngIf",!d.isLoading&&d.getPaginatedUsers().length>0),c(),l("ngIf",!d.isLoading&&d.getPaginatedUsers().length===0),c(),l("ngIf",d.getTotalPages()>1))},dependencies:[T,z,Z,J,j,L,ee,H,G,le,ye,ue,he,ge,_e,me,xe,ve,fe,be,Me,de],styles:["@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.admin-users-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;gap:1rem}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1f2937;margin:0 0 .5rem}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}.section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0}.section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-shrink:0}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{justify-content:stretch}.section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.filters-section[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{margin-bottom:1rem}.filters-section[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%}.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]{grid-template-columns:1fr}}.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{width:100%}.results-summary[_ngcontent-%COMP%]{margin-bottom:1.5rem}.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}@media (max-width: 768px){.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}}.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{font-weight:500;color:#374151}.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;gap:1rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem}.users-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.user-item[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;transition:all .2s ease;animation:_ngcontent-%COMP%_slideInUp .3s ease-out}.user-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-1px)}.user-item[_ngcontent-%COMP%]   .user-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem;gap:1rem}@media (max-width: 768px){.user-item[_ngcontent-%COMP%]   .user-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.user-item[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex:1;gap:1rem}@media (max-width: 768px){.user-item[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:48px;height:48px;background:#f3f4f6;border-radius:50%;display:flex;align-items:center;justify-content:center;overflow:hidden}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280;font-size:1.5rem}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1f2937;margin:0 0 .25rem}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0 0 .5rem}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-stats[_ngcontent-%COMP%]{display:flex;gap:1rem}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.75rem;color:#6b7280}.user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:.875rem;width:.875rem;height:.875rem}.user-item[_ngcontent-%COMP%]   .user-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.user-item[_ngcontent-%COMP%]   .user-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:500;color:#fff}.user-item[_ngcontent-%COMP%]   .user-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:.875rem;width:.875rem;height:.875rem}.user-item[_ngcontent-%COMP%]   .user-badges[_ngcontent-%COMP%]   .badge.status[_ngcontent-%COMP%]{background:#10b981}.user-item[_ngcontent-%COMP%]   .user-badges[_ngcontent-%COMP%]   .badge.role[_ngcontent-%COMP%]{background:#6b7280}.user-item[_ngcontent-%COMP%]   .user-badges[_ngcontent-%COMP%]   .badge.role.admin[_ngcontent-%COMP%]{background:#667eea}.user-item[_ngcontent-%COMP%]   .user-badges[_ngcontent-%COMP%]   .badge.verified[_ngcontent-%COMP%]{background:#fbbf24;color:#92400e}.user-item[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;padding-top:1rem}.user-item[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .user-dates[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.user-item[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .user-dates[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.user-item[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .user-dates[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.user-item[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .user-dates[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.875rem;color:#374151}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:#9ca3af;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#374151;margin:0 0 .5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0 0 1.5rem;max-width:400px}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.dark[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.dark[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]{background:#374151;border-color:#4b5563}.dark[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{background:#374151}.dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]{border-top-color:#374151}.dark[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#d1d5db}.dark[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}@media (max-width: 480px){.section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.filters-section[_ngcontent-%COMP%], .user-item[_ngcontent-%COMP%]{padding:1rem}.user-stats[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.empty-state[_ngcontent-%COMP%]{padding:2rem 1rem}}"]});let o=s;return o})();var pi=()=>[5,10,25,50];function hi(o,s){if(o&1&&(t(0,"mat-option",24),i(1),e()),o&2){let a=s.$implicit;l("value",a.value),c(),M(" ",a.label," ")}}function gi(o,s){if(o&1&&(t(0,"mat-option",24),i(1),e()),o&2){let a=s.$implicit;l("value",a.value),c(),M(" ",a.label," ")}}function ui(o,s){if(o&1&&(t(0,"mat-option",24),i(1),e()),o&2){let a=s.$implicit;l("value",a.value),c(),M(" ",a.label," ")}}function _i(o,s){if(o&1&&(t(0,"mat-option",24),i(1),e()),o&2){let a=s.$implicit;l("value",a.value),c(),M(" ",a.label," ")}}function fi(o,s){if(o&1&&(t(0,"span",25),i(1),e()),o&2){let a=p();c(),B(" Page ",a.currentPage," of ",a.getTotalPages()," ")}}function vi(o,s){o&1&&(t(0,"div",26),g(1,"mat-spinner",27),t(2,"p"),i(3,"Loading feedback..."),e()())}function bi(o,s){if(o&1&&(t(0,"span",52)(1,"mat-icon"),i(2,"star"),e(),i(3),e()),o&2){let a=p().$implicit;c(3),M(" ",a.rating,"/5 ")}}function Ci(o,s){if(o&1){let a=k();t(0,"button",53),f("click",function(){C(a);let r=p().$implicit,d=p(2);return y(d.updateFeedbackStatus(r,"pending"))}),t(1,"mat-icon"),i(2,"pending"),e(),i(3," Mark as Pending "),e()}}function yi(o,s){if(o&1){let a=k();t(0,"button",53),f("click",function(){C(a);let r=p().$implicit,d=p(2);return y(d.updateFeedbackStatus(r,"reviewed"))}),t(1,"mat-icon"),i(2,"visibility"),e(),i(3," Mark as Reviewed "),e()}}function xi(o,s){if(o&1){let a=k();t(0,"button",53),f("click",function(){C(a);let r=p().$implicit,d=p(2);return y(d.updateFeedbackStatus(r,"resolved"))}),t(1,"mat-icon"),i(2,"check_circle"),e(),i(3," Mark as Resolved "),e()}}function Mi(o,s){if(o&1){let a=k();t(0,"div",30)(1,"div",31)(2,"div",32)(3,"div",33)(4,"div",34)(5,"mat-icon"),i(6,"person"),e()(),t(7,"div",35)(8,"h4"),i(9),e(),t(10,"p"),i(11),e()()(),t(12,"div",36)(13,"span",37)(14,"mat-icon"),i(15),e(),i(16),$(17,"titlecase"),e(),t(18,"span",38),i(19),$(20,"titlecase"),e(),t(21,"span",39),i(22),$(23,"titlecase"),e(),h(24,bi,4,1,"span",40),e()(),t(25,"div",41)(26,"button",42)(27,"mat-icon"),i(28,"more_vert"),e()(),t(29,"mat-menu",null,0),h(31,Ci,4,0,"button",43)(32,yi,4,0,"button",43)(33,xi,4,0,"button",43),g(34,"mat-divider"),t(35,"button",44),f("click",function(){let r=C(a).$implicit,d=p(2);return y(d.deleteFeedback(r))}),t(36,"mat-icon"),i(37,"delete"),e(),i(38," Delete Feedback "),e()()()(),t(39,"div",45)(40,"div",46)(41,"h3"),i(42),e(),t(43,"span",47),i(44),e()(),t(45,"div",48)(46,"p"),i(47),e()()(),t(48,"div",49)(49,"div",50)(50,"span",51)(51,"mat-icon"),i(52,"computer"),e(),i(53),e(),t(54,"span",51)(55,"mat-icon"),i(56,"info"),e(),i(57),e()()()()}if(o&2){let a=s.$implicit,n=ce(30),r=p(2);c(9),_(a.name),c(2),_(a.email),c(2),N("background-color",r.getStatusColor(a.status)),c(2),_(r.getCategoryIcon(a.category)),c(),M(" ",q(17,22,a.category)," "),c(2),N("background-color",r.getPriorityColor(a.priority)),c(),M(" ",q(20,24,a.priority)," "),c(2),N("background-color",r.getStatusColor(a.status)),c(),M(" ",q(23,26,a.status)," "),c(2),l("ngIf",a.rating),c(2),l("matMenuTriggerFor",n),c(5),l("ngIf",a.status!=="pending"),c(),l("ngIf",a.status!=="reviewed"),c(),l("ngIf",a.status!=="resolved"),c(9),_(a.subject),c(2),_(r.formatDate(a.timestamp)),c(3),_(a.message),c(6),M(" ",a.userAgent==null?null:a.userAgent.substring(0,50),"... "),c(4),M(" v",a.appVersion," ")}}function Pi(o,s){if(o&1&&(t(0,"div",28),h(1,Mi,58,28,"div",29),e()),o&2){let a=p();c(),l("ngForOf",a.getPaginatedFeedback())}}function Oi(o,s){o&1&&(t(0,"p"),i(1," No feedback matches your current filters. Try adjusting your search criteria. "),e())}function ki(o,s){o&1&&(t(0,"p"),i(1," No feedback has been submitted yet. "),e())}function wi(o,s){if(o&1){let a=k();t(0,"button",57),f("click",function(){C(a);let r=p(2);return y(r.clearFilters())}),i(1," Clear Filters "),e()}}function Si(o,s){if(o&1&&(t(0,"div",54)(1,"mat-icon"),i(2,"feedback"),e(),t(3,"h3"),i(4,"No feedback found"),e(),h(5,Oi,2,0,"p",55)(6,ki,2,0,"p",55)(7,wi,2,0,"button",56),e()),o&2){let a=p();c(5),l("ngIf",a.filteredFeedback.length===0&&a.feedbackList.length>0),c(),l("ngIf",a.feedbackList.length===0),c(),l("ngIf",a.filteredFeedback.length===0&&a.feedbackList.length>0)}}function Ii(o,s){if(o&1){let a=k();t(0,"div",58)(1,"mat-paginator",59),f("page",function(r){C(a);let d=p();return y(d.onPageChange(r.pageIndex+1))}),e()()}if(o&2){let a=p();c(),l("length",a.totalItems)("pageSize",a.itemsPerPage)("pageIndex",a.currentPage-1)("pageSizeOptions",se(4,pi))}}var Mt=(()=>{let s=class s{constructor(n,r,d,m,u){this.breakpointObserver=n,this.auth=r,this.feedbackService=d,this.dialog=m,this.notificationService=u,this.feedbackList=[],this.filteredFeedback=[],this.isLoading=!1,this.isMobile=!1,this.currentUser=null,this.destroy$=new D,this.searchControl=new R(""),this.statusFilter=new R("all"),this.categoryFilter=new R("all"),this.priorityFilter=new R("all"),this.dateRangeFilter=new R("all"),this.statusOptions=[{value:"all",label:"All Status"},{value:"pending",label:"Pending"},{value:"reviewed",label:"Reviewed"},{value:"resolved",label:"Resolved"}],this.categoryOptions=[{value:"all",label:"All Categories"},{value:"bug",label:"Bug Report"},{value:"feature",label:"Feature Request"},{value:"improvement",label:"Improvement"},{value:"general",label:"General"},{value:"support",label:"Support"}],this.priorityOptions=[{value:"all",label:"All Priorities"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],this.dateRangeOptions=[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"quarter",label:"This Quarter"}],this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.breakpointObserver.observe([W.Handset]).pipe(S(this.destroy$)).subscribe(v=>{this.isMobile=v.matches})}ngOnInit(){this.initializeComponent(),this.setupSearchAndFilters()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeComponent(){return O(this,null,function*(){this.currentUser=yield this.auth.currentUser,yield this.loadFeedback()})}setupSearchAndFilters(){this.searchControl.valueChanges.pipe(S(this.destroy$),oe(300),re()).subscribe(()=>{this.applyFilters()}),this.statusFilter.valueChanges.pipe(S(this.destroy$)).subscribe(()=>this.applyFilters()),this.categoryFilter.valueChanges.pipe(S(this.destroy$)).subscribe(()=>this.applyFilters()),this.priorityFilter.valueChanges.pipe(S(this.destroy$)).subscribe(()=>this.applyFilters()),this.dateRangeFilter.valueChanges.pipe(S(this.destroy$)).subscribe(()=>this.applyFilters())}loadFeedback(){return O(this,null,function*(){this.isLoading=!0;try{this.feedbackList=yield this.feedbackService.getAllFeedback(),this.applyFilters()}catch(n){console.error("Error loading feedback:",n),this.notificationService.error("Failed to load feedback")}finally{this.isLoading=!1}})}applyFilters(){var b;let n=[...this.feedbackList],r=(b=this.searchControl.value)==null?void 0:b.toLowerCase();r&&(n=n.filter(P=>P.name.toLowerCase().includes(r)||P.email.toLowerCase().includes(r)||P.subject.toLowerCase().includes(r)||P.message.toLowerCase().includes(r)));let d=this.statusFilter.value;d&&d!=="all"&&(n=n.filter(P=>P.status===d));let m=this.categoryFilter.value;m&&m!=="all"&&(n=n.filter(P=>P.category===m));let u=this.priorityFilter.value;u&&u!=="all"&&(n=n.filter(P=>P.priority===u));let v=this.dateRangeFilter.value;v&&v!=="all"&&(n=this.filterByDateRange(n,v)),n.sort((P,ie)=>{var ne,ze,ae,Re;let Et=((ze=(ne=P.timestamp)==null?void 0:ne.toDate)==null?void 0:ze.call(ne))||new Date(P.timestamp);return(((Re=(ae=ie.timestamp)==null?void 0:ae.toDate)==null?void 0:Re.call(ae))||new Date(ie.timestamp)).getTime()-Et.getTime()}),this.filteredFeedback=n,this.totalItems=n.length,this.currentPage=1}filterByDateRange(n,r){let d=new Date,m=new Date;switch(r){case"today":m.setHours(0,0,0,0);break;case"week":m.setDate(d.getDate()-7);break;case"month":m.setMonth(d.getMonth()-1);break;case"quarter":m.setMonth(d.getMonth()-3);break;default:return n}return n.filter(u=>{var b,P;return(((P=(b=u.timestamp)==null?void 0:b.toDate)==null?void 0:P.call(b))||new Date(u.timestamp))>=m})}getStatusColor(n){switch(n){case"pending":return"#f59e0b";case"reviewed":return"#3b82f6";case"resolved":return"#10b981";default:return"#6b7280"}}getPriorityColor(n){switch(n){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#6b7280"}}getCategoryIcon(n){switch(n){case"bug":return"bug_report";case"feature":return"lightbulb";case"improvement":return"trending_up";case"general":return"chat";case"support":return"help";default:return"feedback"}}formatDate(n){var d;return n?(((d=n.toDate)==null?void 0:d.call(n))||new Date(n)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}updateFeedbackStatus(n,r){return O(this,null,function*(){try{yield this.feedbackService.updateFeedbackStatus(n.id,r),n.status=r,this.notificationService.success(`Feedback status updated to ${r}`)}catch(d){console.error("Error updating feedback status:",d),this.notificationService.error("Failed to update feedback status")}})}deleteFeedback(n){return O(this,null,function*(){this.dialog.open(Ce,{width:this.isMobile?"90vw":"400px",data:{title:"Delete Feedback",message:`Are you sure you want to delete feedback from ${n.name}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",type:"delete"}}).afterClosed().subscribe(d=>O(this,null,function*(){if(d&&n.id)try{yield this.feedbackService.deleteFeedback(n.id),this.feedbackList=this.feedbackList.filter(m=>m.id!==n.id),this.applyFilters(),this.notificationService.success("Feedback deleted successfully")}catch(m){console.error("Error deleting feedback:",m),this.notificationService.error("Failed to delete feedback")}}))})}getPaginatedFeedback(){let n=(this.currentPage-1)*this.itemsPerPage,r=n+this.itemsPerPage;return this.filteredFeedback.slice(n,r)}onPageChange(n){this.currentPage=n}getTotalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)}clearFilters(){this.searchControl.setValue(""),this.statusFilter.setValue("all"),this.categoryFilter.setValue("all"),this.priorityFilter.setValue("all"),this.dateRangeFilter.setValue("all")}exportFeedback(){let n=this.generateCSV(),r=new Blob([n],{type:"text/csv"}),d=window.URL.createObjectURL(r),m=document.createElement("a");m.href=d,m.download=`feedback-export-${new Date().toISOString().split("T")[0]}.csv`,m.click(),window.URL.revokeObjectURL(d),this.notificationService.success("Feedback exported successfully")}generateCSV(){let n=["Name","Email","Subject","Category","Priority","Status","Rating","Message","Date"],r=this.filteredFeedback.map(m=>[m.name,m.email,m.subject,m.category,m.priority,m.status,m.rating||"N/A",m.message.replace(/"/g,'""'),this.formatDate(m.timestamp)]);return[n,...r].map(m=>m.map(u=>`"${u}"`).join(",")).join(`
`)}};s.\u0275fac=function(r){return new(r||s)(x(K),x(Q),x(te),x(pe),x(U))},s.\u0275cmp=F({type:s,selectors:[["app-admin-feedback"]],decls:54,vars:17,consts:[["menu","matMenu"],[1,"admin-feedback-container"],[1,"section-header"],[1,"header-content"],[1,"header-actions"],["mat-raised-button","","color","accent",3,"click","disabled"],["mat-raised-button","","color","warn",3,"click"],[1,"filters-section"],[1,"search-bar"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Search by name, email, subject, or message",3,"formControl"],["matSuffix",""],[1,"filter-controls"],["appearance","outline",1,"filter-field"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"results-summary"],[1,"summary-info"],[1,"total-count"],["class","page-info",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","feedback-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","pagination-container",4,"ngIf"],[3,"value"],[1,"page-info"],[1,"loading-state"],["diameter","40"],[1,"feedback-list"],["class","feedback-item",4,"ngFor","ngForOf"],[1,"feedback-item"],[1,"feedback-header"],[1,"feedback-meta"],[1,"user-info"],[1,"avatar"],[1,"user-details"],[1,"feedback-badges"],[1,"badge","category"],[1,"badge","priority"],[1,"badge","status"],["class","badge rating",4,"ngIf"],[1,"feedback-actions"],["mat-icon-button","","matTooltip","Actions",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"],[1,"feedback-content"],[1,"feedback-subject"],[1,"timestamp"],[1,"feedback-message"],[1,"feedback-footer"],[1,"technical-info"],[1,"info-item"],[1,"badge","rating"],["mat-menu-item","",3,"click"],[1,"empty-state"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"pagination-container"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(r,d){r&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2"),i(4,"User Feedback Management"),e(),t(5,"p"),i(6,"View, filter, and manage user feedback submissions"),e()(),t(7,"div",4)(8,"button",5),f("click",function(){return d.exportFeedback()}),t(9,"mat-icon"),i(10,"download"),e(),i(11," Export CSV "),e(),t(12,"button",6),f("click",function(){return d.clearFilters()}),t(13,"mat-icon"),i(14,"clear"),e(),i(15," Clear Filters "),e()()(),t(16,"div",7)(17,"div",8)(18,"mat-form-field",9)(19,"mat-label"),i(20,"Search feedback"),e(),g(21,"input",10),t(22,"mat-icon",11),i(23,"search"),e()()(),t(24,"div",12)(25,"mat-form-field",13)(26,"mat-label"),i(27,"Status"),e(),t(28,"mat-select",14),h(29,hi,2,2,"mat-option",15),e()(),t(30,"mat-form-field",13)(31,"mat-label"),i(32,"Category"),e(),t(33,"mat-select",14),h(34,gi,2,2,"mat-option",15),e()(),t(35,"mat-form-field",13)(36,"mat-label"),i(37,"Priority"),e(),t(38,"mat-select",14),h(39,ui,2,2,"mat-option",15),e()(),t(40,"mat-form-field",13)(41,"mat-label"),i(42,"Date Range"),e(),t(43,"mat-select",14),h(44,_i,2,2,"mat-option",15),e()()()(),t(45,"div",16)(46,"div",17)(47,"span",18),i(48),e(),h(49,fi,2,2,"span",19),e()(),h(50,vi,4,0,"div",20)(51,Pi,2,1,"div",21)(52,Si,8,3,"div",22)(53,Ii,2,5,"div",23),e()),r&2&&(c(8),l("disabled",d.filteredFeedback.length===0),c(13),l("formControl",d.searchControl),c(7),l("formControl",d.statusFilter),c(),l("ngForOf",d.statusOptions),c(4),l("formControl",d.categoryFilter),c(),l("ngForOf",d.categoryOptions),c(4),l("formControl",d.priorityFilter),c(),l("ngForOf",d.priorityOptions),c(4),l("formControl",d.dateRangeFilter),c(),l("ngForOf",d.dateRangeOptions),c(4),B("Showing ",d.filteredFeedback.length," of ",d.feedbackList.length," feedback items"),c(),l("ngIf",d.totalItems>0),c(),l("ngIf",d.isLoading),c(),l("ngIf",!d.isLoading&&d.getPaginatedFeedback().length>0),c(),l("ngIf",!d.isLoading&&d.getPaginatedFeedback().length===0),c(),l("ngIf",d.getTotalPages()>1))},dependencies:[T,z,Z,J,j,L,ee,H,G,le,ye,ue,he,ge,_e,me,xe,ve,fe,be,Me,de],styles:["@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.admin-feedback-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;gap:1rem}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1f2937;margin:0 0 .5rem}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}.section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0}.section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-shrink:0}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{justify-content:stretch}.section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.filters-section[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{margin-bottom:1rem}.filters-section[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%}.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}@media (max-width: 768px){.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]{grid-template-columns:1fr}}.filters-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]{width:100%}.results-summary[_ngcontent-%COMP%]{margin-bottom:1.5rem}.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}@media (max-width: 768px){.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}}.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{font-weight:500;color:#374151}.results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;gap:1rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem}.feedback-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.feedback-item[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;transition:all .2s ease;animation:_ngcontent-%COMP%_slideInUp .3s ease-out}.feedback-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-1px)}.feedback-item[_ngcontent-%COMP%]   .feedback-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem;gap:1rem}@media (max-width: 768px){.feedback-item[_ngcontent-%COMP%]   .feedback-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.feedback-item[_ngcontent-%COMP%]   .feedback-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;flex:1;gap:1rem}@media (max-width: 768px){.feedback-item[_ngcontent-%COMP%]   .feedback-meta[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}}.feedback-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.feedback-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:48px;height:48px;background:#f3f4f6;border-radius:50%;display:flex;align-items:center;justify-content:center}.feedback-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280;font-size:1.5rem}.feedback-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1f2937;margin:0 0 .25rem}.feedback-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0}.feedback-item[_ngcontent-%COMP%]   .feedback-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.feedback-item[_ngcontent-%COMP%]   .feedback-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:500;color:#fff}.feedback-item[_ngcontent-%COMP%]   .feedback-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:.875rem;width:.875rem;height:.875rem}.feedback-item[_ngcontent-%COMP%]   .feedback-badges[_ngcontent-%COMP%]   .badge.category[_ngcontent-%COMP%]{background:#667eea}.feedback-item[_ngcontent-%COMP%]   .feedback-badges[_ngcontent-%COMP%]   .badge.priority[_ngcontent-%COMP%]{background:#f59e0b}.feedback-item[_ngcontent-%COMP%]   .feedback-badges[_ngcontent-%COMP%]   .badge.status[_ngcontent-%COMP%]{background:#10b981}.feedback-item[_ngcontent-%COMP%]   .feedback-badges[_ngcontent-%COMP%]   .badge.rating[_ngcontent-%COMP%]{background:#fbbf24;color:#92400e}.feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]{margin-bottom:1rem}.feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]   .feedback-subject[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.75rem;gap:1rem}@media (max-width: 768px){.feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]   .feedback-subject[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}.feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]   .feedback-subject[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0;flex:1}.feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]   .feedback-subject[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;white-space:nowrap}.feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]   .feedback-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#374151;line-height:1.6;margin:0;white-space:pre-wrap}.feedback-item[_ngcontent-%COMP%]   .feedback-footer[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;padding-top:1rem}.feedback-item[_ngcontent-%COMP%]   .feedback-footer[_ngcontent-%COMP%]   .technical-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.feedback-item[_ngcontent-%COMP%]   .feedback-footer[_ngcontent-%COMP%]   .technical-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.75rem;color:#6b7280}.feedback-item[_ngcontent-%COMP%]   .feedback-footer[_ngcontent-%COMP%]   .technical-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:.875rem;width:.875rem;height:.875rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:#9ca3af;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#374151;margin:0 0 .5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0 0 1.5rem;max-width:400px}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.dark[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.dark[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]{background:#374151;border-color:#4b5563}.dark[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .summary-info[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{background:#374151}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]   .feedback-subject[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]   .feedback-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d1d5db}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .feedback-footer[_ngcontent-%COMP%]{border-top-color:#374151}.dark[_ngcontent-%COMP%]   .feedback-item[_ngcontent-%COMP%]   .feedback-footer[_ngcontent-%COMP%]   .technical-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}@media (max-width: 480px){.section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.filters-section[_ngcontent-%COMP%], .feedback-item[_ngcontent-%COMP%]{padding:1rem}.feedback-badges[_ngcontent-%COMP%]{justify-content:flex-start}.empty-state[_ngcontent-%COMP%]{padding:2rem 1rem}}"]});let o=s;return o})();function Fi(o,s){o&1&&(t(0,"div",5),g(1,"mat-spinner",6),t(2,"p"),i(3,"Loading analytics data..."),e()())}function Ai(o,s){if(o&1&&(t(0,"div",34)(1,"span",35),i(2),e(),t(3,"span",36),i(4),e()()),o&2){let a=s.$implicit,n=s.index,r=p(2);c(2),_(a),c(2),M("",r.analyticsData.userGrowth.data[n]," users")}}function Di(o,s){if(o&1&&(t(0,"div",34)(1,"span",35),i(2),e(),t(3,"span",36),i(4),e()()),o&2){let a=s.$implicit,n=s.index,r=p(2);c(2),_(a),c(2),M("",r.analyticsData.feedbackTrends.data[n]," feedback")}}function Ti(o,s){if(o&1&&(t(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"mat-icon"),i(5,"people"),e()(),t(6,"div",11)(7,"h3"),i(8),e(),t(9,"p"),i(10,"Total Users"),e(),t(11,"span",12),i(12),e()()(),t(13,"div",9)(14,"div",13)(15,"mat-icon"),i(16,"trending_up"),e()(),t(17,"div",11)(18,"h3"),i(19),e(),t(20,"p"),i(21,"Active Users"),e(),t(22,"span",12),i(23,"Active in last 30 days"),e()()(),t(24,"div",9)(25,"div",14)(26,"mat-icon"),i(27,"feedback"),e()(),t(28,"div",11)(29,"h3"),i(30),e(),t(31,"p"),i(32,"Total Feedback"),e(),t(33,"span",15),i(34,"All time submissions"),e()()(),t(35,"div",9)(36,"div",16)(37,"mat-icon"),i(38,"star"),e()(),t(39,"div",11)(40,"h3"),i(41),e(),t(42,"p"),i(43,"Average Rating"),e(),t(44,"span",12),i(45,"User satisfaction"),e()()()(),t(46,"div",17)(47,"h3"),i(48,"Feedback Status Overview"),e(),t(49,"div",18)(50,"div",19)(51,"div",20)(52,"mat-icon"),i(53,"pending"),e(),t(54,"span"),i(55,"Pending"),e()(),t(56,"div",21)(57,"h4"),i(58),e(),t(59,"div",22),g(60,"div",23),e(),t(61,"span",24),i(62),e()()(),t(63,"div",25)(64,"div",20)(65,"mat-icon"),i(66,"check_circle"),e(),t(67,"span"),i(68,"Resolved"),e()(),t(69,"div",21)(70,"h4"),i(71),e(),t(72,"div",22),g(73,"div",23),e(),t(74,"span",24),i(75),e()()()()(),t(76,"div",26)(77,"div",27)(78,"h3"),i(79,"User Growth Trend"),e(),t(80,"div",28)(81,"mat-icon"),i(82,"trending_up"),e(),t(83,"p"),i(84,"User growth chart will be implemented with chart library"),e(),t(85,"div",29),h(86,Ai,5,2,"div",30),e()()(),t(87,"div",27)(88,"h3"),i(89,"Feedback Trends"),e(),t(90,"div",28)(91,"mat-icon"),i(92,"analytics"),e(),t(93,"p"),i(94,"Feedback trends chart will be implemented with chart library"),e(),t(95,"div",29),h(96,Di,5,2,"div",30),e()()()(),t(97,"div",31)(98,"h3"),i(99,"Quick Insights"),e(),t(100,"div",32)(101,"div",33)(102,"mat-icon"),i(103,"insights"),e(),t(104,"h4"),i(105,"User Engagement"),e(),t(106,"p"),i(107),e()(),t(108,"div",33)(109,"mat-icon"),i(110,"speed"),e(),t(111,"h4"),i(112,"Response Time"),e(),t(113,"p"),i(114,"Average feedback response time: 2.3 days"),e()(),t(115,"div",33)(116,"mat-icon"),i(117,"thumb_up"),e(),t(118,"h4"),i(119,"Satisfaction"),e(),t(120,"p"),i(121),e()()()()()),o&2){let a=p();c(8),_(a.analyticsData.userActivity.totalUsers),c(4),M("+",a.analyticsData.userActivity.newUsers," this month"),c(7),_(a.analyticsData.userActivity.activeUsers),c(11),_(a.analyticsData.feedbackMetrics.totalFeedback),c(11),M("",a.analyticsData.feedbackMetrics.averageRating,"/5"),c(17),_(a.analyticsData.feedbackMetrics.pendingFeedback),c(2),N("width",a.getFeedbackStatusPercentage("pending"),"%")("background-color",a.getStatusColor("pending")),c(2),M("",a.getFeedbackStatusPercentage("pending"),"%"),c(9),_(a.analyticsData.feedbackMetrics.resolvedFeedback),c(2),N("width",a.getFeedbackStatusPercentage("resolved"),"%")("background-color",a.getStatusColor("resolved")),c(2),M("",a.getFeedbackStatusPercentage("resolved"),"%"),c(11),l("ngForOf",a.analyticsData.userGrowth.labels),c(10),l("ngForOf",a.analyticsData.feedbackTrends.labels),c(11),M("",a.analyticsData.userActivity.activeUsers/a.analyticsData.userActivity.totalUsers*100,"% of users are active"),c(14),M("",a.analyticsData.feedbackMetrics.averageRating>=4?"High":"Good"," user satisfaction rating")}}function zi(o,s){o&1&&(t(0,"div",37)(1,"mat-icon"),i(2,"analytics"),e(),t(3,"h3"),i(4,"No Analytics Data"),e(),t(5,"p"),i(6,"Analytics data will appear here once users start using the application."),e()())}var Pt=(()=>{let s=class s{constructor(n,r,d){this.userService=n,this.feedbackService=r,this.notificationService=d,this.analyticsData=null,this.isLoading=!1,this.destroy$=new D}ngOnInit(){this.loadAnalytics()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAnalytics(){return O(this,null,function*(){this.isLoading=!0;try{let n=yield this.userService.getUserStatistics(),r=yield this.feedbackService.getAllFeedback();this.analyticsData=this.generateAnalyticsData(n,r)}catch(n){console.error("Error loading analytics:",n),this.notificationService.error("Failed to load analytics data")}finally{this.isLoading=!1}})}generateAnalyticsData(n,r){let d=this.generateUserGrowthData(),m=this.generateFeedbackTrends(r),u={activeUsers:n.activeUsers,newUsers:n.totalUsers*.1,totalUsers:n.totalUsers},v=this.calculateFeedbackMetrics(r);return{userGrowth:d,feedbackTrends:m,userActivity:u,feedbackMetrics:v}}generateUserGrowthData(){let n=[],r=[];for(let d=5;d>=0;d--){let m=new Date;m.setMonth(m.getMonth()-d),n.push(m.toLocaleDateString("en-US",{month:"short",year:"numeric"})),r.push(Math.floor(Math.random()*50)+10)}return{labels:n,data:r}}generateFeedbackTrends(n){let r=[],d=[],m=new Map;n.forEach(u=>{var P,ie;let b=(((ie=(P=u.timestamp)==null?void 0:P.toDate)==null?void 0:ie.call(P))||new Date(u.timestamp)).toLocaleDateString("en-US",{month:"short",year:"numeric"});m.set(b,(m.get(b)||0)+1)});for(let u=5;u>=0;u--){let v=new Date;v.setMonth(v.getMonth()-u);let b=v.toLocaleDateString("en-US",{month:"short",year:"numeric"});r.push(b),d.push(m.get(b)||0)}return{labels:r,data:d}}calculateFeedbackMetrics(n){let r=n.length,d=n.filter(b=>b.status==="pending").length,m=n.filter(b=>b.status==="resolved").length,u=n.filter(b=>b.rating).map(b=>b.rating),v=u.length>0?u.reduce((b,P)=>b+P,0)/u.length:0;return{totalFeedback:r,pendingFeedback:d,resolvedFeedback:m,averageRating:Math.round(v*10)/10}}getFeedbackStatusPercentage(n){if(!this.analyticsData)return 0;let r=this.analyticsData.feedbackMetrics.totalFeedback;if(r===0)return 0;switch(n){case"pending":return Math.round(this.analyticsData.feedbackMetrics.pendingFeedback/r*100);case"resolved":return Math.round(this.analyticsData.feedbackMetrics.resolvedFeedback/r*100);default:return 0}}getStatusColor(n){switch(n){case"pending":return"#f59e0b";case"resolved":return"#10b981";default:return"#6b7280"}}};s.\u0275fac=function(r){return new(r||s)(x(X),x(te),x(U))},s.\u0275cmp=F({type:s,selectors:[["app-admin-analytics"]],decls:9,vars:3,consts:[[1,"analytics-container"],[1,"section-header"],["class","loading-state",4,"ngIf"],["class","analytics-content",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"loading-state"],["diameter","50"],[1,"analytics-content"],[1,"metrics-grid"],[1,"metric-card"],[1,"metric-icon","users"],[1,"metric-content"],[1,"metric-change","positive"],[1,"metric-icon","active"],[1,"metric-icon","feedback"],[1,"metric-change","neutral"],[1,"metric-icon","rating"],[1,"feedback-overview"],[1,"status-cards"],[1,"status-card","pending"],[1,"status-header"],[1,"status-content"],[1,"progress-bar"],[1,"progress-fill"],[1,"percentage"],[1,"status-card","resolved"],[1,"charts-section"],[1,"chart-container"],[1,"chart-placeholder"],[1,"chart-data"],["class","data-point",4,"ngFor","ngForOf"],[1,"insights-section"],[1,"insights-grid"],[1,"insight-card"],[1,"data-point"],[1,"label"],[1,"value"],[1,"empty-state"]],template:function(r,d){r&1&&(t(0,"div",0)(1,"div",1)(2,"h2"),i(3,"Analytics Dashboard"),e(),t(4,"p"),i(5,"App usage statistics and insights"),e()(),h(6,Fi,4,0,"div",2)(7,Ti,122,21,"div",3)(8,zi,7,0,"div",4),e()),r&2&&(c(6),l("ngIf",d.isLoading),c(),l("ngIf",!d.isLoading&&d.analyticsData),c(),l("ngIf",!d.isLoading&&!d.analyticsData))},dependencies:[T,z,j,L],styles:[".analytics-container[_ngcontent-%COMP%]{padding:2rem}@media (max-width: 768px){.analytics-container[_ngcontent-%COMP%]{padding:1rem}}.section-header[_ngcontent-%COMP%]{margin-bottom:2rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1f2937;margin:0 0 .5rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;color:#6b7280}.analytics-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}@media (max-width: 768px){.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.metric-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;display:flex;align-items:center;gap:1rem;transition:all .2s ease}.metric-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px #0000001a;transform:translateY(-2px)}.metric-card[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.metric-card[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;color:#fff}.metric-card[_ngcontent-%COMP%]   .metric-icon.users[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.metric-card[_ngcontent-%COMP%]   .metric-icon.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.metric-card[_ngcontent-%COMP%]   .metric-icon.feedback[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.metric-card[_ngcontent-%COMP%]   .metric-icon.rating[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]{flex:1}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin:0 0 .25rem}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0 0 .5rem}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-change[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-change.positive[_ngcontent-%COMP%]{color:#10b981}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-change.negative[_ngcontent-%COMP%]{color:#ef4444}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-change.neutral[_ngcontent-%COMP%]{color:#6b7280}.feedback-overview[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.feedback-overview[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 1.5rem}.status-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.status-card[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;border:1px solid #e5e7eb}.status-card.pending[_ngcontent-%COMP%]{background:#fef3c7;border-color:#f59e0b}.status-card.resolved[_ngcontent-%COMP%]{background:#d1fae5;border-color:#10b981}.status-card[_ngcontent-%COMP%]   .status-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.status-card[_ngcontent-%COMP%]   .status-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem}.status-card[_ngcontent-%COMP%]   .status-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#374151}.status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1f2937;margin:0 0 .5rem}.status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#0000001a;border-radius:4px;overflow:hidden;margin-bottom:.5rem}.status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .3s ease}.status-card[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#6b7280}.charts-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1.5rem}@media (max-width: 768px){.charts-section[_ngcontent-%COMP%]{grid-template-columns:1fr}}.chart-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.chart-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 1rem}.chart-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem;background:#f9fafb;border-radius:8px;border:2px dashed #d1d5db}.chart-placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;color:#9ca3af;margin-bottom:1rem}.chart-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;text-align:center;margin-bottom:1.5rem}.chart-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:100%}.chart-data[_ngcontent-%COMP%]   .data-point[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem;background:#fff;border-radius:4px;border:1px solid #e5e7eb}.chart-data[_ngcontent-%COMP%]   .data-point[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;color:#374151}.chart-data[_ngcontent-%COMP%]   .data-point[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.insights-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.insights-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 1.5rem}.insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.insight-card[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;background:#f8fafc;border:1px solid #e5e7eb;transition:all .2s ease}.insight-card[_ngcontent-%COMP%]:hover{background:#f1f5f9;transform:translateY(-1px)}.insight-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#3b82f6;margin-bottom:.5rem}.insight-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1f2937;margin:0 0 .5rem}.insight-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;color:#9ca3af;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#374151;margin:0 0 .5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0}"]});let o=s;return o})();function Ui(o,s){o&1&&(t(0,"div",4),g(1,"mat-spinner",5),t(2,"p"),i(3,"Loading settings..."),e()())}function ji(o,s){if(o&1){let a=k();t(0,"div",21),f("click",function(){let r=C(a).$implicit,d=p(2);return y(d.setActiveCategory(r.id))}),t(1,"mat-icon"),i(2),e(),t(3,"div",22)(4,"span",23),i(5),e(),t(6,"span",24),i(7),e()()()}if(o&2){let a=s.$implicit,n=p(2);w("active",n.activeCategory===a.id),c(2),_(a.icon),c(3),_(a.label),c(2),_(a.description)}}function Li(o,s){o&1&&(t(0,"div",38),i(1," Application name is required and must be at least 2 characters "),e())}function Vi(o,s){o&1&&(t(0,"div",38),i(1," Version is required "),e())}function Ni(o,s){if(o&1&&(t(0,"div",25)(1,"h3"),i(2,"General Settings"),e(),t(3,"div",26)(4,"label",27),i(5,"Application Name"),e(),g(6,"input",28),h(7,Li,2,0,"div",29),e(),t(8,"div",26)(9,"label",30),i(10,"Application Version"),e(),g(11,"input",31),h(12,Vi,2,0,"div",29),e(),t(13,"div",32)(14,"label",33),g(15,"input",34)(16,"span",35),i(17," Enable Maintenance Mode "),e(),t(18,"p",36),i(19,"When enabled, users will see a maintenance page"),e()(),t(20,"div",32)(21,"label",33),g(22,"input",37)(23,"span",35),i(24," Enable User Registration "),e(),t(25,"p",36),i(26,"Allow new users to register accounts"),e()()()),o&2){let a=p(2);c(6),w("invalid",a.isFormControlInvalid("appName")),c(),l("ngIf",a.isFormControlInvalid("appName")),c(4),w("invalid",a.isFormControlInvalid("appVersion")),c(),l("ngIf",a.isFormControlInvalid("appVersion"))}}function Bi(o,s){o&1&&(t(0,"div",38),i(1," Session timeout must be between 5 and 120 minutes "),e())}function $i(o,s){o&1&&(t(0,"div",38),i(1," Login attempts must be between 3 and 10 "),e())}function qi(o,s){if(o&1&&(t(0,"div",25)(1,"h3"),i(2,"Security Settings"),e(),t(3,"div",26)(4,"label",39),i(5,"Session Timeout (minutes)"),e(),g(6,"input",40),h(7,Bi,2,0,"div",29),e(),t(8,"div",26)(9,"label",41),i(10,"Maximum Login Attempts"),e(),g(11,"input",42),h(12,$i,2,0,"div",29),e(),t(13,"div",32)(14,"label",33),g(15,"input",43)(16,"span",35),i(17," Require Email Verification "),e(),t(18,"p",36),i(19,"Users must verify their email before accessing the app"),e()(),t(20,"div",32)(21,"label",33),g(22,"input",44)(23,"span",35),i(24," Enable Two-Factor Authentication "),e(),t(25,"p",36),i(26,"Allow users to enable 2FA for additional security"),e()()()),o&2){let a=p(2);c(6),w("invalid",a.isFormControlInvalid("sessionTimeout")),c(),l("ngIf",a.isFormControlInvalid("sessionTimeout")),c(4),w("invalid",a.isFormControlInvalid("maxLoginAttempts")),c(),l("ngIf",a.isFormControlInvalid("maxLoginAttempts"))}}function Hi(o,s){o&1&&(t(0,"div",25)(1,"h3"),i(2,"Notification Settings"),e(),t(3,"div",32)(4,"label",33),g(5,"input",45)(6,"span",35),i(7," Enable Email Notifications "),e(),t(8,"p",36),i(9,"Send email notifications to users"),e()(),t(10,"div",32)(11,"label",33),g(12,"input",46)(13,"span",35),i(14," Enable Push Notifications "),e(),t(15,"p",36),i(16,"Send push notifications to mobile devices"),e()(),t(17,"div",32)(18,"label",33),g(19,"input",47)(20,"span",35),i(21," Feedback Notifications "),e(),t(22,"p",36),i(23,"Notify admins when new feedback is submitted"),e()(),t(24,"div",32)(25,"label",33),g(26,"input",48)(27,"span",35),i(28," Admin Notifications "),e(),t(29,"p",36),i(30,"Send notifications to admin users"),e()()())}function Gi(o,s){o&1&&(t(0,"div",38),i(1," File size must be between 1 and 50 MB "),e())}function Qi(o,s){o&1&&(t(0,"div",38),i(1," Backup frequency is required "),e())}function Ki(o,s){if(o&1&&(t(0,"div",25)(1,"h3"),i(2,"Performance Settings"),e(),t(3,"div",26)(4,"label",49),i(5,"Maximum File Upload Size (MB)"),e(),g(6,"input",50),h(7,Gi,2,0,"div",29),e(),t(8,"div",26)(9,"label",51),i(10,"Backup Frequency"),e(),t(11,"select",52)(12,"option",53),i(13,"Daily"),e(),t(14,"option",54),i(15,"Weekly"),e(),t(16,"option",55),i(17,"Monthly"),e()(),h(18,Qi,2,0,"div",29),e(),t(19,"div",32)(20,"label",33),g(21,"input",56)(22,"span",35),i(23," Enable Analytics "),e(),t(24,"p",36),i(25,"Collect usage analytics and statistics"),e()(),t(26,"div",32)(27,"label",33),g(28,"input",57)(29,"span",35),i(30," Debug Mode "),e(),t(31,"p",36),i(32,"Enable debug logging and development features"),e()(),t(33,"div",32)(34,"label",33),g(35,"input",58)(36,"span",35),i(37," Enable Caching "),e(),t(38,"p",36),i(39,"Cache data for improved performance"),e()(),t(40,"div",32)(41,"label",33),g(42,"input",59)(43,"span",35),i(44," Enable Compression "),e(),t(45,"p",36),i(46,"Compress responses for faster loading"),e()()()),o&2){let a=p(2);c(6),w("invalid",a.isFormControlInvalid("maxFileUploadSize")),c(),l("ngIf",a.isFormControlInvalid("maxFileUploadSize")),c(4),w("invalid",a.isFormControlInvalid("backupFrequency")),c(7),l("ngIf",a.isFormControlInvalid("backupFrequency"))}}function Wi(o,s){o&1&&g(0,"mat-spinner",60)}function Yi(o,s){o&1&&(t(0,"span"),i(1,"Save Settings"),e())}function Zi(o,s){o&1&&(t(0,"span"),i(1,"Saving..."),e())}function Ji(o,s){if(o&1){let a=k();t(0,"div",6)(1,"form",7),f("ngSubmit",function(){C(a);let r=p();return y(r.saveSettings())}),t(2,"div",8),h(3,ji,8,5,"div",9),e(),t(4,"div",10),h(5,Ni,27,6,"div",11)(6,qi,27,6,"div",11)(7,Hi,31,0,"div",11)(8,Ki,47,6,"div",11),t(9,"div",12)(10,"button",13),f("click",function(){C(a);let r=p();return y(r.resetSettings())}),i(11," Reset "),e(),t(12,"div",14)(13,"button",15),f("click",function(){C(a);let r=p();return y(r.exportSettings())}),t(14,"mat-icon"),i(15,"download"),e(),i(16," Export "),e(),t(17,"label",16)(18,"mat-icon"),i(19,"upload"),e(),i(20," Import "),t(21,"input",17),f("change",function(r){C(a);let d=p();return y(d.importSettings(r))}),e()()(),t(22,"button",18),h(23,Wi,1,0,"mat-spinner",19)(24,Yi,2,0,"span",20)(25,Zi,2,0,"span",20),e()()()()()}if(o&2){let a=p();c(),l("formGroup",a.settingsForm),c(2),l("ngForOf",a.settingsCategories),c(2),l("ngIf",a.activeCategory==="general"),c(),l("ngIf",a.activeCategory==="security"),c(),l("ngIf",a.activeCategory==="notifications"),c(),l("ngIf",a.activeCategory==="performance"),c(2),l("disabled",a.isSaving),c(3),l("disabled",a.isSaving),c(9),l("disabled",a.settingsForm.invalid||a.isSaving),c(),l("ngIf",a.isSaving),c(),l("ngIf",!a.isSaving),c(),l("ngIf",a.isSaving)}}var Ot=(()=>{let s=class s{constructor(n,r){this.fb=n,this.notificationService=r,this.isLoading=!1,this.isSaving=!1,this.destroy$=new D,this.settingsCategories=[{id:"general",label:"General Settings",icon:"settings",description:"Basic application configuration"},{id:"security",label:"Security Settings",icon:"security",description:"Security and authentication settings"},{id:"notifications",label:"Notifications",icon:"notifications",description:"Email and push notification settings"},{id:"performance",label:"Performance",icon:"speed",description:"Performance and optimization settings"}],this.activeCategory="general",this.settingsForm=this.createForm()}ngOnInit(){this.loadSettings()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}createForm(){return this.fb.group({appName:["Money Manager",[I.required,I.minLength(2)]],appVersion:["1.0.0",[I.required]],maintenanceMode:[!1],userRegistrationEnabled:[!0],sessionTimeout:[30,[I.required,I.min(5),I.max(120)]],maxLoginAttempts:[5,[I.required,I.min(3),I.max(10)]],requireEmailVerification:[!0],enableTwoFactor:[!1],emailNotificationsEnabled:[!0],pushNotificationsEnabled:[!0],feedbackNotificationsEnabled:[!0],adminNotificationsEnabled:[!0],maxFileUploadSize:[5,[I.required,I.min(1),I.max(50)]],backupFrequency:["daily",[I.required]],analyticsEnabled:[!0],debugMode:[!1],cacheEnabled:[!0],compressionEnabled:[!0]})}loadSettings(){return O(this,null,function*(){this.isLoading=!0;try{let n=localStorage.getItem("admin-settings");if(n){let r=JSON.parse(n);this.settingsForm.patchValue(r)}}catch(n){console.error("Error loading settings:",n),this.notificationService.error("Failed to load settings")}finally{this.isLoading=!1}})}saveSettings(){return O(this,null,function*(){if(this.settingsForm.invalid){this.notificationService.warning("Please fix the form errors before saving");return}this.isSaving=!0;try{let n=this.settingsForm.value;localStorage.setItem("admin-settings",JSON.stringify(n)),this.notificationService.success("Settings saved successfully")}catch(n){console.error("Error saving settings:",n),this.notificationService.error("Failed to save settings")}finally{this.isSaving=!1}})}resetSettings(){this.settingsForm.reset(),this.loadSettings(),this.notificationService.info("Settings reset to default values")}setActiveCategory(n){this.activeCategory=n}getActiveCategory(){return this.settingsCategories.find(n=>n.id===this.activeCategory)}exportSettings(){try{let n=this.settingsForm.value,r=JSON.stringify(n,null,2),d=new Blob([r],{type:"application/json"}),m=URL.createObjectURL(d),u=document.createElement("a");u.href=m,u.download=`admin-settings-${new Date().toISOString().split("T")[0]}.json`,u.click(),URL.revokeObjectURL(m),this.notificationService.success("Settings exported successfully")}catch(n){console.error("Error exporting settings:",n),this.notificationService.error("Failed to export settings")}}importSettings(n){let r=n.target.files[0];if(!r)return;let d=new FileReader;d.onload=m=>{try{let u=JSON.parse(m.target.result);this.settingsForm.patchValue(u),this.notificationService.success("Settings imported successfully")}catch(u){console.error("Error importing settings:",u),this.notificationService.error("Invalid settings file")}},d.readAsText(r)}getFormControl(n){return this.settingsForm.get(n)}isFormControlInvalid(n){let r=this.getFormControl(n);return r?r.invalid&&r.touched:!1}};s.\u0275fac=function(r){return new(r||s)(x(Ze),x(U))},s.\u0275cmp=F({type:s,selectors:[["app-admin-settings"]],decls:8,vars:2,consts:[[1,"settings-container"],[1,"section-header"],["class","loading-state",4,"ngIf"],["class","settings-content",4,"ngIf"],[1,"loading-state"],["diameter","50"],[1,"settings-content"],[3,"ngSubmit","formGroup"],[1,"settings-nav"],["class","nav-item",3,"active","click",4,"ngFor","ngForOf"],[1,"settings-form"],["class","settings-section",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"action-group"],["type","button",1,"btn","btn-outline",3,"click","disabled"],[1,"btn","btn-outline","import-btn"],["type","file","accept",".json",2,"display","none",3,"change"],["type","submit",1,"btn","btn-primary",3,"disabled"],["diameter","20",4,"ngIf"],[4,"ngIf"],[1,"nav-item",3,"click"],[1,"nav-content"],[1,"nav-label"],[1,"nav-description"],[1,"settings-section"],[1,"form-group"],["for","appName"],["id","appName","type","text","formControlName","appName","placeholder","Enter application name"],["class","error-message",4,"ngIf"],["for","appVersion"],["id","appVersion","type","text","formControlName","appVersion","placeholder","e.g., 1.0.0"],[1,"form-group","checkbox-group"],[1,"checkbox-label"],["type","checkbox","formControlName","maintenanceMode"],[1,"checkmark"],[1,"help-text"],["type","checkbox","formControlName","userRegistrationEnabled"],[1,"error-message"],["for","sessionTimeout"],["id","sessionTimeout","type","number","formControlName","sessionTimeout","min","5","max","120"],["for","maxLoginAttempts"],["id","maxLoginAttempts","type","number","formControlName","maxLoginAttempts","min","3","max","10"],["type","checkbox","formControlName","requireEmailVerification"],["type","checkbox","formControlName","enableTwoFactor"],["type","checkbox","formControlName","emailNotificationsEnabled"],["type","checkbox","formControlName","pushNotificationsEnabled"],["type","checkbox","formControlName","feedbackNotificationsEnabled"],["type","checkbox","formControlName","adminNotificationsEnabled"],["for","maxFileUploadSize"],["id","maxFileUploadSize","type","number","formControlName","maxFileUploadSize","min","1","max","50"],["for","backupFrequency"],["id","backupFrequency","formControlName","backupFrequency"],["value","daily"],["value","weekly"],["value","monthly"],["type","checkbox","formControlName","analyticsEnabled"],["type","checkbox","formControlName","debugMode"],["type","checkbox","formControlName","cacheEnabled"],["type","checkbox","formControlName","compressionEnabled"],["diameter","20"]],template:function(r,d){r&1&&(t(0,"div",0)(1,"div",1)(2,"h2"),i(3,"Admin Settings"),e(),t(4,"p"),i(5,"Configure application settings and preferences"),e()(),h(6,Ui,4,0,"div",2)(7,Ji,26,12,"div",3),e()),r&2&&(c(6),l("ngIf",d.isLoading),c(),l("ngIf",!d.isLoading))},dependencies:[T,z,j,L,Be,Qe,Ke,H,$e,Ve,Ge,G,Ne,Ye,We,qe,He],styles:['.settings-container[_ngcontent-%COMP%]{padding:2rem}@media (max-width: 768px){.settings-container[_ngcontent-%COMP%]{padding:1rem}}.section-header[_ngcontent-%COMP%]{margin-bottom:2rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1f2937;margin:0 0 .5rem}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;color:#6b7280}.settings-content[_ngcontent-%COMP%]{display:flex;gap:2rem}@media (max-width: 1024px){.settings-content[_ngcontent-%COMP%]{flex-direction:column}}.settings-nav[_ngcontent-%COMP%]{width:280px;background:#fff;border-radius:12px;padding:1rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;height:fit-content}@media (max-width: 1024px){.settings-nav[_ngcontent-%COMP%]{width:100%}}.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;cursor:pointer;transition:all .2s ease;border-radius:8px;margin-bottom:.5rem}.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.settings-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:#eff6ff;border-left:3px solid #3b82f6}.settings-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{color:#1e40af;font-weight:600}.settings-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3b82f6}.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#6b7280;flex-shrink:0}.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-content[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151}.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-content[_ngcontent-%COMP%]   .nav-description[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.settings-form[_ngcontent-%COMP%]{flex:1;background:#fff;border-radius:12px;padding:2rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 768px){.settings-form[_ngcontent-%COMP%]{padding:1rem}}.settings-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1f2937;margin:0 0 2rem;padding-bottom:.5rem;border-bottom:2px solid #e5e7eb}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:6px;font-size:.875rem;transition:all .2s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-group[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select.invalid[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.75rem;color:#ef4444;margin-top:.25rem}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;cursor:pointer;font-weight:500;color:#374151}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #d1d5db;border-radius:4px;position:relative;transition:all .2s ease}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;left:6px;top:2px;width:6px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg);opacity:0;transition:opacity .2s ease}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]{background:#3b82f6;border-color:#3b82f6}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]:after{opacity:1}.checkbox-group[_ngcontent-%COMP%]   .help-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin:.5rem 0 0 2rem}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:2rem;padding-top:2rem;border-top:1px solid #e5e7eb}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}}.action-group[_ngcontent-%COMP%]{display:flex;gap:.5rem}@media (max-width: 768px){.action-group[_ngcontent-%COMP%]{justify-content:center}}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:6px;font-size:.875rem;font-weight:500;text-decoration:none;cursor:pointer;transition:all .2s ease;border:none}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6b7280;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#4b5563}.btn.btn-outline[_ngcontent-%COMP%]{background:transparent;color:#374151;border:1px solid #d1d5db}.btn.btn-outline[_ngcontent-%COMP%]:hover:not(:disabled){background:#f9fafb;border-color:#9ca3af}.btn.import-btn[_ngcontent-%COMP%]{cursor:pointer}.btn.import-btn[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#9ca3af}.btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem}.btn[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:.5rem}@media (max-width: 768px){.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{padding:.75rem}.settings-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-content[_ngcontent-%COMP%]   .nav-description[_ngcontent-%COMP%]{display:none}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{justify-content:center}}']});let o=s;return o})();function en(o,s){o&1&&(t(0,"div",3),g(1,"mat-spinner",4),t(2,"p"),i(3,"Checking admin access..."),e()())}function tn(o,s){if(o&1){let a=k();t(0,"div",24),f("click",function(){let r=C(a).$implicit,d=p(2);return y(d.setActiveSection(r.id))}),t(1,"mat-icon"),i(2),e(),t(3,"div",25)(4,"span",26),i(5),e(),t(6,"span",27),i(7),e()()()}if(o&2){let a=s.$implicit,n=p(2);w("active",n.activeSection===a.id),c(2),_(a.icon),c(3),_(a.label),c(2),_(a.description)}}function nn(o,s){if(o&1){let a=k();t(0,"div",28)(1,"div",29)(2,"h2"),i(3,"Dashboard Overview"),e(),t(4,"p"),i(5,"Key metrics and statistics for your application"),e()(),t(6,"div",30)(7,"div",31)(8,"div",32)(9,"mat-icon"),i(10,"people"),e()(),t(11,"div",33)(12,"h3"),i(13),e(),t(14,"p"),i(15,"Total Users"),e()()(),t(16,"div",31)(17,"div",34)(18,"mat-icon"),i(19,"feedback"),e()(),t(20,"div",33)(21,"h3"),i(22),e(),t(23,"p"),i(24,"Total Feedback"),e()()(),t(25,"div",31)(26,"div",35)(27,"mat-icon"),i(28,"pending"),e()(),t(29,"div",33)(30,"h3"),i(31),e(),t(32,"p"),i(33,"Pending Feedback"),e()()(),t(34,"div",31)(35,"div",36)(36,"mat-icon"),i(37,"trending_up"),e()(),t(38,"div",33)(39,"h3"),i(40),e(),t(41,"p"),i(42,"Active Users"),e()()(),t(43,"div",31)(44,"div",37)(45,"mat-icon"),i(46,"receipt_long"),e()(),t(47,"div",33)(48,"h3"),i(49),e(),t(50,"p"),i(51,"Total Transactions"),e()()(),t(52,"div",31)(53,"div",38)(54,"mat-icon"),i(55,"category"),e()(),t(56,"div",33)(57,"h3"),i(58),e(),t(59,"p"),i(60,"Total Categories"),e()()()(),t(61,"div",39)(62,"h3"),i(63,"Quick Actions"),e(),t(64,"div",40)(65,"button",41),f("click",function(){C(a);let r=p(2);return y(r.setActiveSection("feedback"))}),t(66,"mat-icon"),i(67,"feedback"),e(),i(68," View Feedback "),e(),t(69,"button",42),f("click",function(){C(a);let r=p(2);return y(r.setActiveSection("users"))}),t(70,"mat-icon"),i(71,"people"),e(),i(72," Manage Users "),e(),t(73,"button",43),f("click",function(){C(a);let r=p(2);return y(r.setActiveSection("analytics"))}),t(74,"mat-icon"),i(75,"analytics"),e(),i(76," View Analytics "),e()()()()}if(o&2){let a=p(2);c(13),_(a.dashboardStats.totalUsers),c(9),_(a.dashboardStats.totalFeedback),c(9),_(a.dashboardStats.pendingFeedback),c(9),_(a.dashboardStats.activeUsers),c(9),_(a.dashboardStats.totalTransactions),c(9),_(a.dashboardStats.totalCategories)}}function an(o,s){o&1&&(t(0,"div",44),g(1,"app-admin-feedback"),e())}function on(o,s){o&1&&(t(0,"div",45),g(1,"app-admin-users"),e())}function rn(o,s){o&1&&(t(0,"div",46),g(1,"app-admin-analytics"),e())}function cn(o,s){o&1&&(t(0,"div",47),g(1,"app-admin-settings"),e())}function sn(o,s){if(o&1){let a=k();t(0,"div",5)(1,"header",6)(2,"div",7)(3,"div",8)(4,"button",9),f("click",function(){C(a);let r=p();return y(r.goToDashboard())}),t(5,"mat-icon"),i(6,"arrow_back"),e()(),t(7,"div",10)(8,"h1"),i(9,"Admin Panel"),e(),t(10,"p"),i(11,"Manage your Money Manager application"),e()()(),t(12,"div",11)(13,"div",12)(14,"mat-icon"),i(15,"admin_panel_settings"),e(),t(16,"span"),i(17),e()(),t(18,"button",13),f("click",function(){C(a);let r=p();return y(r.logout())}),t(19,"mat-icon"),i(20,"logout"),e()()()()(),t(21,"div",14)(22,"aside",15)(23,"nav",16),h(24,tn,8,5,"div",17),e()(),t(25,"main",18),h(26,nn,77,6,"div",19)(27,an,2,0,"div",20)(28,on,2,0,"div",21)(29,rn,2,0,"div",22)(30,cn,2,0,"div",23),e()()()}if(o&2){let a=p();c(17),_((a.currentUser==null?null:a.currentUser.displayName)||(a.currentUser==null?null:a.currentUser.email)),c(5),w("mobile-sidebar",a.isMobile),c(2),l("ngForOf",a.adminSections),c(2),l("ngIf",a.activeSection==="dashboard"),c(),l("ngIf",a.activeSection==="feedback"),c(),l("ngIf",a.activeSection==="users"),c(),l("ngIf",a.activeSection==="analytics"),c(),l("ngIf",a.activeSection==="settings")}}var kt=(()=>{let s=class s{constructor(n,r,d,m,u,v){this.breakpointObserver=n,this.auth=r,this.router=d,this.userService=m,this.feedbackService=u,this.notificationService=v,this.isMobile=!1,this.currentUser=null,this.isAdmin=!1,this.activeSection="dashboard",this.destroy$=new D,this.adminSections=[{id:"dashboard",label:"Dashboard",icon:"dashboard",description:"Overview and statistics"},{id:"feedback",label:"User Feedback",icon:"feedback",description:"View and manage user feedback"},{id:"users",label:"Users",icon:"people",description:"Manage user accounts"},{id:"analytics",label:"Analytics",icon:"analytics",description:"App usage statistics"},{id:"settings",label:"Settings",icon:"settings",description:"Admin configuration"}],this.dashboardStats={totalUsers:0,totalFeedback:0,pendingFeedback:0,activeUsers:0,totalTransactions:0,totalCategories:0},this.breakpointObserver.observe([W.Handset]).pipe(S(this.destroy$)).subscribe(b=>{this.isMobile=b.matches})}ngOnInit(){this.initializeAdmin()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeAdmin(){return O(this,null,function*(){try{if(this.currentUser=yield this.auth.currentUser,!this.currentUser){this.notificationService.error("Authentication required"),this.router.navigate(["/sign-in"]);return}if(this.isAdmin=yield this.checkAdminStatus(),!this.isAdmin){this.notificationService.error("Admin access required"),this.router.navigate(["/dashboard"]);return}yield this.loadDashboardStats()}catch(n){console.error("Error initializing admin:",n),this.notificationService.error("Failed to initialize admin panel")}})}checkAdminStatus(){return O(this,null,function*(){var n;return this.userService.isAdmin(((n=this.auth.currentUser)==null?void 0:n.uid)||"")})}loadDashboardStats(){return O(this,null,function*(){try{let n=yield this.userService.getUserStatistics(),r=yield this.feedbackService.getAllFeedback(),d=r.filter(m=>m.status==="pending").length;this.dashboardStats={totalUsers:n.totalUsers,totalFeedback:r.length,pendingFeedback:d,activeUsers:n.activeUsers,totalTransactions:n.totalTransactions,totalCategories:n.totalCategories}}catch(n){console.error("Error loading dashboard stats:",n),this.notificationService.error("Failed to load dashboard statistics")}})}setActiveSection(n){this.activeSection=n}getActiveSection(){return this.adminSections.find(n=>n.id===this.activeSection)}logout(){this.auth.signOut().then(()=>{this.notificationService.success("Logged out successfully"),this.router.navigate(["/sign-in"])}).catch(n=>{console.error("Logout error:",n),this.notificationService.error("Failed to logout")})}goToDashboard(){this.router.navigate(["/dashboard"])}};s.\u0275fac=function(r){return new(r||s)(x(K),x(Q),x(Le),x(X),x(te),x(U))},s.\u0275cmp=F({type:s,selectors:[["app-admin"]],decls:3,vars:2,consts:[[1,"admin-container"],["class","loading-container",4,"ngIf"],["class","admin-panel",4,"ngIf"],[1,"loading-container"],["diameter","50"],[1,"admin-panel"],[1,"admin-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","",1,"back-button",3,"click"],[1,"header-title"],[1,"header-right"],[1,"user-info"],["mat-icon-button","","matTooltip","Logout",3,"click"],[1,"admin-content"],[1,"admin-sidebar"],[1,"sidebar-nav"],["class","nav-item",3,"active","click",4,"ngFor","ngForOf"],[1,"main-content"],["class","dashboard-section",4,"ngIf"],["class","feedback-section",4,"ngIf"],["class","users-section",4,"ngIf"],["class","analytics-section",4,"ngIf"],["class","settings-section",4,"ngIf"],[1,"nav-item",3,"click"],[1,"nav-content"],[1,"nav-label"],[1,"nav-description"],[1,"dashboard-section"],[1,"section-header"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon","users"],[1,"stat-content"],[1,"stat-icon","feedback"],[1,"stat-icon","pending"],[1,"stat-icon","active"],[1,"stat-icon","transactions"],[1,"stat-icon","categories"],[1,"quick-actions"],[1,"actions-grid"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"feedback-section"],[1,"users-section"],[1,"analytics-section"],[1,"settings-section"]],template:function(r,d){r&1&&(t(0,"div",0),h(1,en,4,0,"div",1)(2,sn,31,9,"div",2),e()),r&2&&(c(),l("ngIf",!d.isAdmin),c(),l("ngIf",d.isAdmin))},dependencies:[T,z,Z,J,j,L,ee,yt,Mt,Pt,Ot],styles:["@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.admin-container[_ngcontent-%COMP%]{min-height:100vh;background:#f8fafc;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;gap:1rem}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem}.admin-panel[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.admin-header[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a;position:sticky;top:0;z-index:100}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 2rem;max-width:1400px;margin:0 auto;width:100%}@media (max-width: 768px){.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:1rem}}.admin-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.admin-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{color:#6b7280}.admin-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{background:#f3f4f6}.admin-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#1f2937;margin:0}@media (max-width: 768px){.admin-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem}}.admin-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:.25rem 0 0}.admin-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.admin-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#f3f4f6;border-radius:8px;font-size:.875rem;color:#374151}.admin-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.2rem;color:#667eea}.admin-content[_ngcontent-%COMP%]{display:flex;flex:1;max-width:1400px;margin:0 auto;width:100%}@media (max-width: 768px){.admin-content[_ngcontent-%COMP%]{flex-direction:column}}.admin-sidebar[_ngcontent-%COMP%]{width:280px;background:#fff;border-right:1px solid #e5e7eb;padding:1.5rem 0;height:calc(100vh - 80px);overflow-y:auto}@media (max-width: 768px){.admin-sidebar[_ngcontent-%COMP%]{width:100%;height:auto;border-right:none;border-bottom:1px solid #e5e7eb;padding:1rem 0}.admin-sidebar.mobile-sidebar[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:50}}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.5rem;cursor:pointer;transition:all .2s ease;border-left:3px solid transparent}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background:#f8fafc;border-left-color:#667eea}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:#eff6ff;border-left-color:#3b82f6}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{color:#1e40af;font-weight:600}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3b82f6}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#6b7280;flex-shrink:0}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-content[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-content[_ngcontent-%COMP%]   .nav-description[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.main-content[_ngcontent-%COMP%]{flex:1;padding:2rem;overflow-y:auto}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{padding:1rem}}.dashboard-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .3s ease-out}.dashboard-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:2rem}.dashboard-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1f2937;margin:0 0 .5rem}@media (max-width: 768px){.dashboard-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}.dashboard-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin:0}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:3rem}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;display:flex;align-items:center;gap:1rem;transition:all .2s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;color:#fff}.stat-card[_ngcontent-%COMP%]   .stat-icon.users[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.stat-card[_ngcontent-%COMP%]   .stat-icon.feedback[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.stat-card[_ngcontent-%COMP%]   .stat-icon.pending[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffecd2,#fcb69f)}.stat-card[_ngcontent-%COMP%]   .stat-icon.pending[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#d97706}.stat-card[_ngcontent-%COMP%]   .stat-icon.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a8edea,#fed6e3)}.stat-card[_ngcontent-%COMP%]   .stat-icon.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#059669}.stat-card[_ngcontent-%COMP%]   .stat-icon.transactions[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff9a9e,#fecfef)}.stat-card[_ngcontent-%COMP%]   .stat-icon.transactions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#dc2626}.stat-card[_ngcontent-%COMP%]   .stat-icon.categories[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a8caba,#5d4e75)}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin:0 0 .25rem}@media (max-width: 768px){.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem}}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0;font-weight:500}.quick-actions[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.quick-actions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 1.5rem}.quick-actions[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}@media (max-width: 768px){.quick-actions[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.quick-actions[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:1rem 1.5rem;font-weight:500}.quick-actions[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.2rem}.feedback-section[_ngcontent-%COMP%], .users-section[_ngcontent-%COMP%], .analytics-section[_ngcontent-%COMP%], .settings-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .3s ease-out}.dark[_ngcontent-%COMP%]   .admin-container[_ngcontent-%COMP%]{background:#111827}.dark[_ngcontent-%COMP%]   .admin-header[_ngcontent-%COMP%]{background:#1f2937;border-bottom-color:#374151}.dark[_ngcontent-%COMP%]   .admin-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .admin-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .admin-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{background:#374151;color:#f9fafb}.dark[_ngcontent-%COMP%]   .admin-sidebar[_ngcontent-%COMP%]{background:#1f2937;border-right-color:#374151}.dark[_ngcontent-%COMP%]   .admin-sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background:#374151}.dark[_ngcontent-%COMP%]   .admin-sidebar[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:#1e3a8a}.dark[_ngcontent-%COMP%]   .admin-sidebar[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{color:#dbeafe}.dark[_ngcontent-%COMP%]   .admin-sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .admin-sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-description[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.dark[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f9fafb}@media (max-width: 480px){.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]{padding:.75rem}.stat-card[_ngcontent-%COMP%]{padding:1rem}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:50px;height:50px}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem}.quick-actions[_ngcontent-%COMP%]{padding:1.5rem}}"]});let o=s;return o})();var wt=(()=>{let s=class s{};s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=A({type:s}),s.\u0275inj=E({});let o=s;return o})();var dn=[{path:"",component:kt,canActivate:[ct,st],data:{requireEmailVerification:!0,requireActiveSession:!0,roles:["admin"]}}],St=(()=>{let s=class s{};s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=A({type:s}),s.\u0275inj=E({imports:[Ie.forChild(dn),Ie]});let o=s;return o})();var It=(()=>{let s=class s{};s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=A({type:s}),s.\u0275inj=E({imports:[Se,Te,Ee,Fe,Ae,De,Se,Te,Ee,Fe,Ae,De]});let o=s;return o})();var uo=(()=>{let s=class s{};s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=A({type:s}),s.\u0275inj=E({imports:[It,Xe,Je,St,wt,dt,at,ot,mt,lt,rt,nt,pt,ht,gt]});let o=s;return o})();export{uo as AdminModule};

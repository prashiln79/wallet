import{$d as Ir,Ab as oi,Bb as Lt,Bd as fc,C as fr,Cb as $o,Cd as Pr,Db as ct,Dc as yr,Dd as _c,E as _r,Fb as _t,Gb as ee,Ic as ac,Jb as si,Kb as ne,Kc as cc,L as Wa,M as br,Md as bc,N as Ya,Nb as Kt,O as Xa,Ob as jt,Oc as Ht,Od as Cc,Pb as ic,Pd as yc,Qd as Ue,Rc as ie,Rd as Mr,S as L,Sc as lc,Sd as xr,T as B,Td as Or,Uc as dc,Ud as vc,Wc as uc,Xc as mc,Xd as wc,Yb as Ko,Yd as ln,Zd as dn,_ as Ja,_d as un,aa as Ft,ae as mn,ba as ot,bc as Jt,be as Pc,ca as Cr,cb as ec,cd as vr,ce as Er,da as Go,de as Sr,ea as qo,ee as Mc,fa as Za,fe as xc,ga as U,ge as Oc,ha as tc,j as ur,kc as rc,l as on,md as Oe,o as ri,pc as oc,pd as Ut,qc as sn,qd as hc,r as mr,rc as an,rd as Ie,sd as gc,t as xe,tb as Mt,u as hr,ud as cn,v as gr,vd as wr,wd as pc,xc as sc,xd as re,yb as nc,z as pr}from"./chunk-YEEZXU7R.js";import{$b as f,Aa as ht,Ad as Qa,Ba as Rt,Bd as lr,Ca as Le,Da as ir,Dc as ni,Ec as Ze,F as Zn,Fd as dr,H as ue,Hb as qa,J as mt,Ja as rr,Jc as tn,Ka as tt,Kc as en,La as et,Lb as Lo,Ma as No,N as er,Nb as ti,Nd as Ho,O as Va,Od as Qo,Pa as za,Qb as j,Qd as ai,R as Fa,Ra as ja,Rb as Xe,Rd as ci,Sb as D,T as La,Tb as $a,Td as Wo,Ub as Xt,Vb as Je,W as Ro,Wa as Vo,Xb as Et,Ya as Nt,Z as Ua,Zb as Uo,_b as Bo,a as tr,ac as b,bc as dt,bd as nn,c as Da,cb as Fo,f as Yt,fa as Ba,fc as gt,g as Ra,gd as ii,ha as me,hd as Ka,ic as z,kc as F,l as Na,lc as sr,mc as Me,oc as zo,p as W,pa as $t,pb as or,pc as jo,pd as Ha,q,qa as Dt,qc as ar,rc as cr,sa as It,ua as Z,ub as I,uc as ei,v as J,va as nr,vb as T,vc as M,wc as rt,x as Y,xb as Ga,xc as $,xd as rn,yd as Vt}from"./chunk-6PX2HEG6.js";import{a as S,b as V,k as G}from"./chunk-LKDXID24.js";var Yo=Cr("profile"),su=ot(Yo,i=>i.profile),Tg=ot(Yo,i=>i.loading),Ag=ot(Yo,i=>i.error),hn=ot(su,i=>i==null?void 0:i.preferences),Xo=ot(hn,i=>i==null?void 0:i.defaultCurrency),kg=ot(hn,i=>i==null?void 0:i.language),Dg=ot(hn,i=>i==null?void 0:i.timezone),Rg=ot(hn,i=>i==null?void 0:i.notifications),Ng=ot(hn,i=>i==null?void 0:i.emailUpdates),Vg=ot(hn,i=>i==null?void 0:i.budgetAlerts);var Ic=function(i){let t=[],o=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?t[o++]=r:r<2048?(t[o++]=r>>6|192,t[o++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),t[o++]=r>>18|240,t[o++]=r>>12&63|128,t[o++]=r>>6&63|128,t[o++]=r&63|128):(t[o++]=r>>12|224,t[o++]=r>>6&63|128,t[o++]=r&63|128)}return t},cu=function(i){let t=[],o=0,n=0;for(;o<i.length;){let r=i[o++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let a=i[o++];t[n++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){let a=i[o++],l=i[o++],u=i[o++],m=((r&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;t[n++]=String.fromCharCode(55296+(m>>10)),t[n++]=String.fromCharCode(56320+(m&1023))}else{let a=i[o++],l=i[o++];t[n++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return t.join("")},lu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();let o=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){let a=i[r],l=r+1<i.length,u=l?i[r+1]:0,m=r+2<i.length,_=m?i[r+2]:0,x=a>>2,R=(a&3)<<4|u>>4,A=(u&15)<<2|_>>6,k=_&63;m||(k=64,l||(A=64)),n.push(o[x],o[R],o[A],o[k])}return n.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Ic(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):cu(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();let o=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){let a=o[i.charAt(r++)],u=r<i.length?o[i.charAt(r)]:0;++r;let _=r<i.length?o[i.charAt(r)]:64;++r;let R=r<i.length?o[i.charAt(r)]:64;if(++r,a==null||u==null||_==null||R==null)throw new Jo;let A=a<<2|u>>4;if(n.push(A),_!==64){let k=u<<4&240|_>>2;if(n.push(k),R!==64){let N=_<<6&192|R;n.push(N)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},Jo=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},du=function(i){let t=Ic(i);return lu.encodeByteArray(t,!0)},Zo=function(i){return du(i).replace(/\./g,"")};function ts(){try{return typeof indexedDB=="object"}catch{return!1}}function Ec(){return new Promise((i,t)=>{try{let o=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),o||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{o=!1},r.onerror=()=>{var a;t(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(o){t(o)}})}var uu="FirebaseError",he=class i extends Error{constructor(t,o,n){super(o),this.code=t,this.customData=n,this.name=uu,Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,li.prototype.create)}},li=class{constructor(t,o,n){this.service=t,this.serviceName=o,this.errors=n}create(t,...o){let n=o[0]||{},r=`${this.service}/${t}`,a=this.errors[t],l=a?mu(a,n):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new he(r,u,n)}};function mu(i,t){return i.replace(hu,(o,n)=>{let r=t[n];return r!=null?String(r):`<${n}?>`})}var hu=/\{\$([^}]+)}/g;var Bg=4*60*60*1e3;var Ee=class{constructor(t,o,n){this.name=t,this.instanceFactory=o,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var gu=[],it=function(i){return i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",i}(it||{}),pu={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},fu=it.INFO,_u={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},bu=(i,t,...o)=>{if(t<i.logLevel)return;let n=new Date().toISOString(),r=_u[t];if(r)console[r](`[${n}]  ${i.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},gn=class{constructor(t){this.name=t,this._logLevel=fu,this._logHandler=bu,this._userLogHandler=null,gu.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in it))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pu[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...t),this._logHandler(this,it.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...t),this._logHandler(this,it.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,it.INFO,...t),this._logHandler(this,it.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,it.WARN,...t),this._logHandler(this,it.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...t),this._logHandler(this,it.ERROR,...t)}};var ns=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(yu(o)){let n=o.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(o=>o).join(" ")}};function yu(i){let t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}var is="@firebase/app",Sc="0.13.2";var ge=new gn("@firebase/app"),vu="@firebase/app-compat",wu="@firebase/analytics-compat",Pu="@firebase/analytics",Mu="@firebase/app-check-compat",xu="@firebase/app-check",Ou="@firebase/auth",Iu="@firebase/auth-compat",Eu="@firebase/database",Su="@firebase/data-connect",Tu="@firebase/database-compat",Au="@firebase/functions",ku="@firebase/functions-compat",Du="@firebase/installations",Ru="@firebase/installations-compat",Nu="@firebase/messaging",Vu="@firebase/messaging-compat",Fu="@firebase/performance",Lu="@firebase/performance-compat",Uu="@firebase/remote-config",Bu="@firebase/remote-config-compat",zu="@firebase/storage",ju="@firebase/storage-compat",Gu="@firebase/firestore",qu="@firebase/ai",$u="@firebase/firestore-compat",Ku="firebase",Hu="11.10.0";var Qu={[is]:"fire-core",[vu]:"fire-core-compat",[Pu]:"fire-analytics",[wu]:"fire-analytics-compat",[xu]:"fire-app-check",[Mu]:"fire-app-check-compat",[Ou]:"fire-auth",[Iu]:"fire-auth-compat",[Eu]:"fire-rtdb",[Su]:"fire-data-connect",[Tu]:"fire-rtdb-compat",[Au]:"fire-fn",[ku]:"fire-fn-compat",[Du]:"fire-iid",[Ru]:"fire-iid-compat",[Nu]:"fire-fcm",[Vu]:"fire-fcm-compat",[Fu]:"fire-perf",[Lu]:"fire-perf-compat",[Uu]:"fire-rc",[Bu]:"fire-rc-compat",[zu]:"fire-gcs",[ju]:"fire-gcs-compat",[Gu]:"fire-fst",[$u]:"fire-fst-compat",[qu]:"fire-vertex","fire-js":"fire-js",[Ku]:"fire-js-all"};var Wu=new Map,Yu=new Map,Tc=new Map;function Ac(i,t){try{i.container.addComponent(t)}catch(o){ge.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,o)}}function di(i){let t=i.name;if(Tc.has(t))return ge.debug(`There were multiple attempts to register component ${t}.`),!1;Tc.set(t,i);for(let o of Wu.values())Ac(o,i);for(let o of Yu.values())Ac(o,i);return!0}function Nc(i){return i==null?!1:i.settings!==void 0}var Xu={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new li("app","Firebase",Xu);var Vc=Hu;function pn(i,t,o){var n;let r=(n=Qu[i])!==null&&n!==void 0?n:i;o&&(r+=`-${o}`);let a=r.match(/\s|\//),l=t.match(/\s|\//);if(a||l){let u=[`Unable to register library "${r}" with version "${t}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ge.warn(u.join(" "));return}di(new Ee(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var Ju="firebase-heartbeat-database",Zu=1,ui="firebase-heartbeat-store",es=null;function Fc(){return es||(es=ec(Ju,Zu,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(ui)}catch(o){console.warn(o)}}}}).catch(i=>{throw ss.create("idb-open",{originalErrorMessage:i.message})})),es}function tm(i){return G(this,null,function*(){try{let o=(yield Fc()).transaction(ui),n=yield o.objectStore(ui).get(Lc(i));return yield o.done,n}catch(t){if(t instanceof he)ge.warn(t.message);else{let o=ss.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ge.warn(o.message)}}})}function kc(i,t){return G(this,null,function*(){try{let n=(yield Fc()).transaction(ui,"readwrite");yield n.objectStore(ui).put(t,Lc(i)),yield n.done}catch(o){if(o instanceof he)ge.warn(o.message);else{let n=ss.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});ge.warn(n.message)}}})}function Lc(i){return`${i.name}!${i.options.appId}`}var em=1024,nm=30,rs=class{constructor(t){this.container=t,this._heartbeatsCache=null;let o=this.container.getProvider("app").getImmediate();this._storage=new os(o),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return G(this,null,function*(){var t,o;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Dc();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((o=this._heartbeatsCache)===null||o===void 0?void 0:o.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>nm){let l=rm(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ge.warn(n)}})}getHeartbeatsHeader(){return G(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let o=Dc(),{heartbeatsToSend:n,unsentEntries:r}=im(this._heartbeatsCache.heartbeats),a=Zo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=o,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(o){return ge.warn(o),""}})}};function Dc(){return new Date().toISOString().substring(0,10)}function im(i,t=em){let o=[],n=i.slice();for(let r of i){let a=o.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),Rc(o)>t){a.dates.pop();break}}else if(o.push({agent:r.agent,dates:[r.date]}),Rc(o)>t){o.pop();break}n=n.slice(1)}return{heartbeatsToSend:o,unsentEntries:n}}var os=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return G(this,null,function*(){return ts()?Ec().then(()=>!0).catch(()=>!1):!1})}read(){return G(this,null,function*(){if(yield this._canUseIndexedDBPromise){let o=yield tm(this.app);return o!=null&&o.heartbeats?o:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return G(this,null,function*(){var o;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return kc(this.app,{lastSentHeartbeatDate:(o=t.lastSentHeartbeatDate)!==null&&o!==void 0?o:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return G(this,null,function*(){var o;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return kc(this.app,{lastSentHeartbeatDate:(o=t.lastSentHeartbeatDate)!==null&&o!==void 0?o:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function Rc(i){return Zo(JSON.stringify({version:2,heartbeats:i})).length}function rm(i){if(i.length===0)return-1;let t=0,o=i[0].date;for(let n=1;n<i.length;n++)i[n].date<o&&(o=i[n].date,t=n);return t}function om(i){di(new Ee("platform-logger",t=>new ns(t),"PRIVATE")),di(new Ee("heartbeat",t=>new rs(t),"PRIVATE")),pn(is,Sc,i),pn(is,Sc,"esm2017"),pn("fire-js","")}om("");function cm(i,t){i&1&&dt(0,"mat-spinner",23)}function lm(i,t){i&1&&(f(0,"p",16),M(1,"Group name is required"),b())}function dm(i,t){i&1&&(f(0,"p",16),M(1,"Group name must be at least 2 characters"),b())}function um(i,t){i&1&&(f(0,"p",16),M(1,"Group name must not exceed 50 characters"),b())}function mm(i,t){i&1&&(f(0,"p",16),M(1,"Description must not exceed 200 characters"),b())}var Uc=(()=>{let t=class t{constructor(n,r,a,l){this.fb=n,this.dialogRef=r,this.auth=a,this.store=l,this.isSubmitting=!1,this.userCurrency$=this.store.select(Xo),this.groupForm=this.fb.group({name:["",[xe.required,xe.minLength(2),xe.maxLength(50)]],description:["",[xe.maxLength(200)]],initialMembers:[[]]})}ngOnInit(){}onSubmit(){return G(this,null,function*(){var n;if(this.groupForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let r=this.groupForm.value,a=this.store.select(Xo),l="USD";a.subscribe(m=>{m&&(l=m)}).unsubscribe();let u={name:r.name.trim(),description:((n=r.description)==null?void 0:n.trim())||"",currency:l,initialMembers:r.initialMembers||[]};this.dialogRef.close(u)}catch(r){console.error("Error creating group:",r)}finally{this.isSubmitting=!1}}else this.groupForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(n){var a,l;let r=this.groupForm.get(n);return r!=null&&r.hasError("required")?`${n.charAt(0).toUpperCase()+n.slice(1)} is required`:r!=null&&r.hasError("minlength")?`${n.charAt(0).toUpperCase()+n.slice(1)} must be at least ${(a=r.errors)==null?void 0:a.minlength.requiredLength} characters`:r!=null&&r.hasError("maxlength")?`${n.charAt(0).toUpperCase()+n.slice(1)} must not exceed ${(l=r.errors)==null?void 0:l.maxlength.requiredLength} characters`:""}};t.\u0275fac=function(r){return new(r||t)(T(br),T(wr),T(Mt),T(Ft))},t.\u0275cmp=ht({type:t,selectors:[["app-create-group-dialog"]],decls:55,vars:10,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Create Group",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"group-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","text","formControlName","name","placeholder","Enter group name","autofocus","","maxlength","50",1,"form-input"],[1,"field-footer"],[1,"error-message"],[1,"character-count"],["formControlName","description","placeholder","Describe your group","maxlength","200","rows","3",1,"form-input"],[1,"info-section"],[1,"info-icon"],[1,"info-content"],[1,"bottom-spacing"],["diameter","16"]],template:function(r,a){if(r&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),z("click",function(){return a.onCancel()}),f(4,"mat-icon"),M(5,"arrow_back"),b()(),f(6,"h6",4),M(7," Create New Group "),b()(),f(8,"button",5),z("click",function(){return a.onCancel()}),f(9,"mat-icon"),M(10,"close"),b()(),f(11,"button",6),z("click",function(){return a.onSubmit()}),j(12,cm,1,0,"mat-spinner",7),M(13),b()()(),f(14,"div",8)(15,"div",9)(16,"form",10),z("ngSubmit",function(){return a.onSubmit()}),f(17,"div",11)(18,"label",12)(19,"mat-icon",13),M(20,"group"),b(),M(21," Group Name * "),b(),dt(22,"input",14),f(23,"div",15),j(24,lm,2,0,"p",16)(25,dm,2,0,"p",16)(26,um,2,0,"p",16),f(27,"span",17),M(28),b()()(),f(29,"div",11)(30,"label",12)(31,"mat-icon",13),M(32,"description"),b(),M(33," Description (Optional) "),b(),dt(34,"textarea",18),f(35,"div",15),j(36,mm,2,0,"p",16),f(37,"span",17),M(38),b()()(),f(39,"div",19)(40,"mat-icon",20),M(41,"info"),b(),f(42,"div",21)(43,"h4"),M(44,"What happens next?"),b(),f(45,"ul")(46,"li"),M(47,"You'll be added as the group admin"),b(),f(48,"li"),M(49,"You can invite friends by email"),b(),f(50,"li"),M(51,"Start adding shared expenses"),b(),f(52,"li"),M(53,"Track who owes what to whom"),b()()()(),dt(54,"div",22),b()()()),r&2){let l,u,m,_,x,R;I(11),D("disabled",a.groupForm.invalid||a.isSubmitting),I(),D("ngIf",a.isSubmitting),I(),$(" ",a.isSubmitting?"Creating...":"Create"," "),I(3),D("formGroup",a.groupForm),I(8),Et((l=a.groupForm.get("name"))!=null&&l.hasError("required")&&((l=a.groupForm.get("name"))!=null&&l.touched)?24:-1),I(),Et((u=a.groupForm.get("name"))!=null&&u.hasError("minlength")&&((u=a.groupForm.get("name"))!=null&&u.touched)?25:-1),I(),Et((m=a.groupForm.get("name"))!=null&&m.hasError("maxlength")&&((m=a.groupForm.get("name"))!=null&&m.touched)?26:-1),I(2),$(" ",((_=a.groupForm.get("name"))==null||_.value==null?null:_.value.length)||0,"/50 "),I(8),Et((x=a.groupForm.get("description"))!=null&&x.hasError("maxlength")&&((x=a.groupForm.get("description"))!=null&&x.touched)?36:-1),I(2),$(" ",((R=a.groupForm.get("description"))==null||R.value==null?null:R.value.length)||0,"/200 ")}},dependencies:[Vt,pr,mr,hr,gr,Wa,fr,_r,Ht,ie,Ut,Ie,Pr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease;resize:vertical}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{font-size:.7rem}}.info-section[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.25rem;background:#f8f9fa;border-radius:12px;border-left:4px solid #3b82f6;margin-top:.5rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;gap:.75rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px;gap:.5rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{background:#1f2937;border-left-color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.5rem;width:1.5rem;height:1.5rem;margin-top:.125rem;flex-shrink:0}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{flex:1}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#1f2937;font-weight:600;font-size:1rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:.5rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.375rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem;color:#6b7280}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:.875rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#9ca3af}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.375rem;font-size:.875rem;line-height:1.4}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.25rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.125rem}}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let i=t;return i})();var Cn=L("[Splitwise] Load Groups"),Tr=L("[Splitwise] Load Groups Success",B()),gi=L("[Splitwise] Load Groups Failure",B()),pe=L("[Splitwise] Load Group by ID",B()),Ar=L("[Splitwise] Load Group by ID Success",B()),pi=L("[Splitwise] Load Group by ID Failure",B()),yn=L("[Splitwise] Load Invitations"),kr=L("[Splitwise] Load Invitations Success",B()),fi=L("[Splitwise] Load Invitations Failure",B()),vn=L("[Splitwise] Create Group",B()),Dr=L("[Splitwise] Create Group Success",B()),_i=L("[Splitwise] Create Group Failure",B()),oe=L("[Splitwise] Add Member",B()),Rr=L("[Splitwise] Add Member Success",B()),bi=L("[Splitwise] Add Member Failure",B()),wn=L("[Splitwise] Accept Invitation",B()),Nr=L("[Splitwise] Accept Invitation Success",B()),Ci=L("[Splitwise] Accept Invitation Failure",B()),Pn=L("[Splitwise] Decline Invitation",B()),Vr=L("[Splitwise] Decline Invitation Success",B()),yi=L("[Splitwise] Decline Invitation Failure",B()),Se=L("[Splitwise] Delete Group",B()),Fr=L("[Splitwise] Delete Group Success",B()),vi=L("[Splitwise] Delete Group Failure",B()),Bc=L("[Splitwise] Select Group",B()),ze=L("[Splitwise] Load Transactions",B()),Lr=L("[Splitwise] Load Transactions Success",B()),wi=L("[Splitwise] Load Transactions Failure",B()),je=L("[Splitwise] Load Settlements",B()),Ur=L("[Splitwise] Load Settlements Success",B()),Pi=L("[Splitwise] Load Settlements Failure",B()),Br=L("[Splitwise] Create Split Transaction",B()),zr=L("[Splitwise] Create Split Transaction Success",B()),Mi=L("[Splitwise] Create Split Transaction Failure",B()),jr=L("[Splitwise] Update Split Transaction",B()),Gr=L("[Splitwise] Update Split Transaction Success",B()),xi=L("[Splitwise] Update Split Transaction Failure",B()),Mn=L("[Splitwise] Create Settlement",B()),qr=L("[Splitwise] Create Settlement Success",B()),Oi=L("[Splitwise] Create Settlement Failure",B()),Te=L("[Splitwise] Remove Member",B()),$r=L("[Splitwise] Remove Member Success",B()),Ii=L("[Splitwise] Remove Member Failure",B()),Ae=L("[Splitwise] Clear Error");var ke=Cr("splitwise"),xn=ot(ke,i=>i),hm=ot(ke,i=>i.groups),gm=ot(ke,i=>i.invitations),pm=ot(ke,i=>i.transactions),fm=ot(ke,i=>i.settlements),Kr=ot(ke,i=>i.selectedGroup),hp=ot(ke,i=>i.loading),gp=ot(ke,i=>i.error),pp=ot(hm,i=>i.filter(t=>t.isActive)),fp=ot(gm,i=>i.filter(t=>t.status==="pending")),_p=ot(pm,Kr,(i,t)=>t?i.filter(o=>o.groupId===t.id):[]),bp=ot(fm,Kr,(i,t)=>t?i.filter(o=>o.groupId===t.id):[]),Cp=ot(Kr,i=>(i==null?void 0:i.members.filter(t=>t.isActive).length)||0),yp=ot(Kr,i=>"");var Ge=function(i){return i.ADMIN="admin",i.MEMBER="member",i}(Ge||{}),Si=function(i){return i.PENDING="pending",i.COMPLETED="completed",i.CANCELLED="cancelled",i}(Si||{}),On=function(i){return i.PENDING="pending",i.ACCEPTED="accepted",i.DECLINED="declined",i.EXPIRED="expired",i}(On||{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jc={};var Hr,Gc;(function(){var i;function t(w,h){function p(){}p.prototype=h.prototype,w.D=h.prototype,w.prototype=new p,w.prototype.constructor=w,w.C=function(C,y,P){for(var g=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)g[ce-2]=arguments[ce];return h.prototype[y].apply(C,g)}}function o(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,o),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,h,p){p||(p=0);var C=Array(16);if(typeof h=="string")for(var y=0;16>y;++y)C[y]=h.charCodeAt(p++)|h.charCodeAt(p++)<<8|h.charCodeAt(p++)<<16|h.charCodeAt(p++)<<24;else for(y=0;16>y;++y)C[y]=h[p++]|h[p++]<<8|h[p++]<<16|h[p++]<<24;h=w.g[0],p=w.g[1],y=w.g[2];var P=w.g[3],g=h+(P^p&(y^P))+C[0]+3614090360&4294967295;h=p+(g<<7&4294967295|g>>>25),g=P+(y^h&(p^y))+C[1]+3905402710&4294967295,P=h+(g<<12&4294967295|g>>>20),g=y+(p^P&(h^p))+C[2]+606105819&4294967295,y=P+(g<<17&4294967295|g>>>15),g=p+(h^y&(P^h))+C[3]+3250441966&4294967295,p=y+(g<<22&4294967295|g>>>10),g=h+(P^p&(y^P))+C[4]+4118548399&4294967295,h=p+(g<<7&4294967295|g>>>25),g=P+(y^h&(p^y))+C[5]+1200080426&4294967295,P=h+(g<<12&4294967295|g>>>20),g=y+(p^P&(h^p))+C[6]+2821735955&4294967295,y=P+(g<<17&4294967295|g>>>15),g=p+(h^y&(P^h))+C[7]+4249261313&4294967295,p=y+(g<<22&4294967295|g>>>10),g=h+(P^p&(y^P))+C[8]+1770035416&4294967295,h=p+(g<<7&4294967295|g>>>25),g=P+(y^h&(p^y))+C[9]+2336552879&4294967295,P=h+(g<<12&4294967295|g>>>20),g=y+(p^P&(h^p))+C[10]+4294925233&4294967295,y=P+(g<<17&4294967295|g>>>15),g=p+(h^y&(P^h))+C[11]+2304563134&4294967295,p=y+(g<<22&4294967295|g>>>10),g=h+(P^p&(y^P))+C[12]+1804603682&4294967295,h=p+(g<<7&4294967295|g>>>25),g=P+(y^h&(p^y))+C[13]+4254626195&4294967295,P=h+(g<<12&4294967295|g>>>20),g=y+(p^P&(h^p))+C[14]+2792965006&4294967295,y=P+(g<<17&4294967295|g>>>15),g=p+(h^y&(P^h))+C[15]+1236535329&4294967295,p=y+(g<<22&4294967295|g>>>10),g=h+(y^P&(p^y))+C[1]+4129170786&4294967295,h=p+(g<<5&4294967295|g>>>27),g=P+(p^y&(h^p))+C[6]+3225465664&4294967295,P=h+(g<<9&4294967295|g>>>23),g=y+(h^p&(P^h))+C[11]+643717713&4294967295,y=P+(g<<14&4294967295|g>>>18),g=p+(P^h&(y^P))+C[0]+3921069994&4294967295,p=y+(g<<20&4294967295|g>>>12),g=h+(y^P&(p^y))+C[5]+3593408605&4294967295,h=p+(g<<5&4294967295|g>>>27),g=P+(p^y&(h^p))+C[10]+38016083&4294967295,P=h+(g<<9&4294967295|g>>>23),g=y+(h^p&(P^h))+C[15]+3634488961&4294967295,y=P+(g<<14&4294967295|g>>>18),g=p+(P^h&(y^P))+C[4]+3889429448&4294967295,p=y+(g<<20&4294967295|g>>>12),g=h+(y^P&(p^y))+C[9]+568446438&4294967295,h=p+(g<<5&4294967295|g>>>27),g=P+(p^y&(h^p))+C[14]+3275163606&4294967295,P=h+(g<<9&4294967295|g>>>23),g=y+(h^p&(P^h))+C[3]+4107603335&4294967295,y=P+(g<<14&4294967295|g>>>18),g=p+(P^h&(y^P))+C[8]+1163531501&4294967295,p=y+(g<<20&4294967295|g>>>12),g=h+(y^P&(p^y))+C[13]+2850285829&4294967295,h=p+(g<<5&4294967295|g>>>27),g=P+(p^y&(h^p))+C[2]+4243563512&4294967295,P=h+(g<<9&4294967295|g>>>23),g=y+(h^p&(P^h))+C[7]+1735328473&4294967295,y=P+(g<<14&4294967295|g>>>18),g=p+(P^h&(y^P))+C[12]+2368359562&4294967295,p=y+(g<<20&4294967295|g>>>12),g=h+(p^y^P)+C[5]+4294588738&4294967295,h=p+(g<<4&4294967295|g>>>28),g=P+(h^p^y)+C[8]+2272392833&4294967295,P=h+(g<<11&4294967295|g>>>21),g=y+(P^h^p)+C[11]+1839030562&4294967295,y=P+(g<<16&4294967295|g>>>16),g=p+(y^P^h)+C[14]+4259657740&4294967295,p=y+(g<<23&4294967295|g>>>9),g=h+(p^y^P)+C[1]+2763975236&4294967295,h=p+(g<<4&4294967295|g>>>28),g=P+(h^p^y)+C[4]+1272893353&4294967295,P=h+(g<<11&4294967295|g>>>21),g=y+(P^h^p)+C[7]+4139469664&4294967295,y=P+(g<<16&4294967295|g>>>16),g=p+(y^P^h)+C[10]+3200236656&4294967295,p=y+(g<<23&4294967295|g>>>9),g=h+(p^y^P)+C[13]+681279174&4294967295,h=p+(g<<4&4294967295|g>>>28),g=P+(h^p^y)+C[0]+3936430074&4294967295,P=h+(g<<11&4294967295|g>>>21),g=y+(P^h^p)+C[3]+3572445317&4294967295,y=P+(g<<16&4294967295|g>>>16),g=p+(y^P^h)+C[6]+76029189&4294967295,p=y+(g<<23&4294967295|g>>>9),g=h+(p^y^P)+C[9]+3654602809&4294967295,h=p+(g<<4&4294967295|g>>>28),g=P+(h^p^y)+C[12]+3873151461&4294967295,P=h+(g<<11&4294967295|g>>>21),g=y+(P^h^p)+C[15]+530742520&4294967295,y=P+(g<<16&4294967295|g>>>16),g=p+(y^P^h)+C[2]+3299628645&4294967295,p=y+(g<<23&4294967295|g>>>9),g=h+(y^(p|~P))+C[0]+4096336452&4294967295,h=p+(g<<6&4294967295|g>>>26),g=P+(p^(h|~y))+C[7]+1126891415&4294967295,P=h+(g<<10&4294967295|g>>>22),g=y+(h^(P|~p))+C[14]+2878612391&4294967295,y=P+(g<<15&4294967295|g>>>17),g=p+(P^(y|~h))+C[5]+4237533241&4294967295,p=y+(g<<21&4294967295|g>>>11),g=h+(y^(p|~P))+C[12]+1700485571&4294967295,h=p+(g<<6&4294967295|g>>>26),g=P+(p^(h|~y))+C[3]+2399980690&4294967295,P=h+(g<<10&4294967295|g>>>22),g=y+(h^(P|~p))+C[10]+4293915773&4294967295,y=P+(g<<15&4294967295|g>>>17),g=p+(P^(y|~h))+C[1]+2240044497&4294967295,p=y+(g<<21&4294967295|g>>>11),g=h+(y^(p|~P))+C[8]+1873313359&4294967295,h=p+(g<<6&4294967295|g>>>26),g=P+(p^(h|~y))+C[15]+4264355552&4294967295,P=h+(g<<10&4294967295|g>>>22),g=y+(h^(P|~p))+C[6]+2734768916&4294967295,y=P+(g<<15&4294967295|g>>>17),g=p+(P^(y|~h))+C[13]+1309151649&4294967295,p=y+(g<<21&4294967295|g>>>11),g=h+(y^(p|~P))+C[4]+4149444226&4294967295,h=p+(g<<6&4294967295|g>>>26),g=P+(p^(h|~y))+C[11]+3174756917&4294967295,P=h+(g<<10&4294967295|g>>>22),g=y+(h^(P|~p))+C[2]+718787259&4294967295,y=P+(g<<15&4294967295|g>>>17),g=p+(P^(y|~h))+C[9]+3951481745&4294967295,w.g[0]=w.g[0]+h&4294967295,w.g[1]=w.g[1]+(y+(g<<21&4294967295|g>>>11))&4294967295,w.g[2]=w.g[2]+y&4294967295,w.g[3]=w.g[3]+P&4294967295}n.prototype.u=function(w,h){h===void 0&&(h=w.length);for(var p=h-this.blockSize,C=this.B,y=this.h,P=0;P<h;){if(y==0)for(;P<=p;)r(this,w,P),P+=this.blockSize;if(typeof w=="string"){for(;P<h;)if(C[y++]=w.charCodeAt(P++),y==this.blockSize){r(this,C),y=0;break}}else for(;P<h;)if(C[y++]=w[P++],y==this.blockSize){r(this,C),y=0;break}}this.h=y,this.o+=h},n.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var h=1;h<w.length-8;++h)w[h]=0;var p=8*this.o;for(h=w.length-8;h<w.length;++h)w[h]=p&255,p/=256;for(this.u(w),w=Array(16),h=p=0;4>h;++h)for(var C=0;32>C;C+=8)w[p++]=this.g[h]>>>C&255;return w};function a(w,h){var p=u;return Object.prototype.hasOwnProperty.call(p,w)?p[w]:p[w]=h(w)}function l(w,h){this.h=h;for(var p=[],C=!0,y=w.length-1;0<=y;y--){var P=w[y]|0;C&&P==h||(p[y]=P,C=!1)}this.g=p}var u={};function m(w){return-128<=w&&128>w?a(w,function(h){return new l([h|0],0>h?-1:0)}):new l([w|0],0>w?-1:0)}function _(w){if(isNaN(w)||!isFinite(w))return R;if(0>w)return st(_(-w));for(var h=[],p=1,C=0;w>=p;C++)h[C]=w/p|0,p*=4294967296;return new l(h,0)}function x(w,h){if(w.length==0)throw Error("number format error: empty string");if(h=h||10,2>h||36<h)throw Error("radix out of range: "+h);if(w.charAt(0)=="-")return st(x(w.substring(1),h));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var p=_(Math.pow(h,8)),C=R,y=0;y<w.length;y+=8){var P=Math.min(8,w.length-y),g=parseInt(w.substring(y,y+P),h);8>P?(P=_(Math.pow(h,P)),C=C.j(P).add(_(g))):(C=C.j(p),C=C.add(_(g)))}return C}var R=m(0),A=m(1),k=m(16777216);i=l.prototype,i.m=function(){if(lt(this))return-st(this).m();for(var w=0,h=1,p=0;p<this.g.length;p++){var C=this.i(p);w+=(0<=C?C:4294967296+C)*h,h*=4294967296}return w},i.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N(this))return"0";if(lt(this))return"-"+st(this).toString(w);for(var h=_(Math.pow(w,6)),p=this,C="";;){var y=Ce(p,h).g;p=kt(p,y.j(h));var P=((0<p.g.length?p.g[0]:p.h)>>>0).toString(w);if(p=y,N(p))return P+C;for(;6>P.length;)P="0"+P;C=P+C}},i.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function N(w){if(w.h!=0)return!1;for(var h=0;h<w.g.length;h++)if(w.g[h]!=0)return!1;return!0}function lt(w){return w.h==-1}i.l=function(w){return w=kt(this,w),lt(w)?-1:N(w)?0:1};function st(w){for(var h=w.g.length,p=[],C=0;C<h;C++)p[C]=~w.g[C];return new l(p,~w.h).add(A)}i.abs=function(){return lt(this)?st(this):this},i.add=function(w){for(var h=Math.max(this.g.length,w.g.length),p=[],C=0,y=0;y<=h;y++){var P=C+(this.i(y)&65535)+(w.i(y)&65535),g=(P>>>16)+(this.i(y)>>>16)+(w.i(y)>>>16);C=g>>>16,P&=65535,g&=65535,p[y]=g<<16|P}return new l(p,p[p.length-1]&-2147483648?-1:0)};function kt(w,h){return w.add(st(h))}i.j=function(w){if(N(this)||N(w))return R;if(lt(this))return lt(w)?st(this).j(st(w)):st(st(this).j(w));if(lt(w))return st(this.j(st(w)));if(0>this.l(k)&&0>w.l(k))return _(this.m()*w.m());for(var h=this.g.length+w.g.length,p=[],C=0;C<2*h;C++)p[C]=0;for(C=0;C<this.g.length;C++)for(var y=0;y<w.g.length;y++){var P=this.i(C)>>>16,g=this.i(C)&65535,ce=w.i(y)>>>16,Rn=w.i(y)&65535;p[2*C+2*y]+=g*Rn,Bt(p,2*C+2*y),p[2*C+2*y+1]+=P*Rn,Bt(p,2*C+2*y+1),p[2*C+2*y+1]+=g*ce,Bt(p,2*C+2*y+1),p[2*C+2*y+2]+=P*ce,Bt(p,2*C+2*y+2)}for(C=0;C<h;C++)p[C]=p[2*C+1]<<16|p[2*C];for(C=h;C<2*h;C++)p[C]=0;return new l(p,0)};function Bt(w,h){for(;(w[h]&65535)!=w[h];)w[h+1]+=w[h]>>>16,w[h]&=65535,h++}function qt(w,h){this.g=w,this.h=h}function Ce(w,h){if(N(h))throw Error("division by zero");if(N(w))return new qt(R,R);if(lt(w))return h=Ce(st(w),h),new qt(st(h.g),st(h.h));if(lt(h))return h=Ce(w,st(h)),new qt(st(h.g),h.h);if(30<w.g.length){if(lt(w)||lt(h))throw Error("slowDivide_ only works with positive integers.");for(var p=A,C=h;0>=C.l(w);)p=Vi(p),C=Vi(C);var y=te(p,1),P=te(C,1);for(C=te(C,2),p=te(p,2);!N(C);){var g=P.add(C);0>=g.l(w)&&(y=y.add(p),P=g),C=te(C,1),p=te(p,1)}return h=kt(w,y.j(h)),new qt(y,h)}for(y=R;0<=w.l(h);){for(p=Math.max(1,Math.floor(w.m()/h.m())),C=Math.ceil(Math.log(p)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),P=_(p),g=P.j(h);lt(g)||0<g.l(w);)p-=C,P=_(p),g=P.j(h);N(P)&&(P=A),y=y.add(P),w=kt(w,g)}return new qt(y,w)}i.A=function(w){return Ce(this,w).h},i.and=function(w){for(var h=Math.max(this.g.length,w.g.length),p=[],C=0;C<h;C++)p[C]=this.i(C)&w.i(C);return new l(p,this.h&w.h)},i.or=function(w){for(var h=Math.max(this.g.length,w.g.length),p=[],C=0;C<h;C++)p[C]=this.i(C)|w.i(C);return new l(p,this.h|w.h)},i.xor=function(w){for(var h=Math.max(this.g.length,w.g.length),p=[],C=0;C<h;C++)p[C]=this.i(C)^w.i(C);return new l(p,this.h^w.h)};function Vi(w){for(var h=w.g.length+1,p=[],C=0;C<h;C++)p[C]=w.i(C)<<1|w.i(C-1)>>>31;return new l(p,w.h)}function te(w,h){var p=h>>5;h%=32;for(var C=w.g.length-p,y=[],P=0;P<C;P++)y[P]=0<h?w.i(P+p)>>>h|w.i(P+p+1)<<32-h:w.i(P+p);return new l(y,w.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Gc=jc.Md5=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=_,l.fromString=x,Hr=jc.Integer=l}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});var Qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe={};var qc,_m,$c,Kc,Hc,Qc,Wc,Yc,Xc;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,s,c){return e==Array.prototype||e==Object.prototype||(e[s]=c.value),e};function o(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qr=="object"&&Qr];for(var s=0;s<e.length;++s){var c=e[s];if(c&&c.Math==Math)return c}throw Error("Cannot find global object")}var n=o(this);function r(e,s){if(s)t:{var c=n;e=e.split(".");for(var d=0;d<e.length-1;d++){var v=e[d];if(!(v in c))break t;c=c[v]}e=e[e.length-1],d=c[e],s=s(d),s!=d&&s!=null&&t(c,e,{configurable:!0,writable:!0,value:s})}}function a(e,s){e instanceof String&&(e+="");var c=0,d=!1,v={next:function(){if(!d&&c<e.length){var O=c++;return{value:s(O,e[O]),done:!1}}return d=!0,{done:!0,value:void 0}}};return v[Symbol.iterator]=function(){return v},v}r("Array.prototype.values",function(e){return e||function(){return a(this,function(s,c){return c})}});var l=l||{},u=this||self;function m(e){var s=typeof e;return s=s!="object"?s:e?Array.isArray(e)?"array":s:"null",s=="array"||s=="object"&&typeof e.length=="number"}function _(e){var s=typeof e;return s=="object"&&e!=null||s=="function"}function x(e,s,c){return e.call.apply(e.bind,arguments)}function R(e,s,c){if(!e)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,d),e.apply(s,v)}}return function(){return e.apply(s,arguments)}}function A(e,s,c){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:R,A.apply(null,arguments)}function k(e,s){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),e.apply(this,d)}}function N(e,s){function c(){}c.prototype=s.prototype,e.aa=s.prototype,e.prototype=new c,e.prototype.constructor=e,e.Qb=function(d,v,O){for(var E=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)E[nt-2]=arguments[nt];return s.prototype[v].apply(d,E)}}function lt(e){let s=e.length;if(0<s){let c=Array(s);for(let d=0;d<s;d++)c[d]=e[d];return c}return[]}function st(e,s){for(let c=1;c<arguments.length;c++){let d=arguments[c];if(m(d)){let v=e.length||0,O=d.length||0;e.length=v+O;for(let E=0;E<O;E++)e[v+E]=d[E]}else e.push(d)}}class kt{constructor(s,c){this.i=s,this.j=c,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}function Bt(e){return/^[\s\xa0]*$/.test(e)}function qt(){var e=u.navigator;return e&&(e=e.userAgent)?e:""}function Ce(e){return Ce[" "](e),e}Ce[" "]=function(){};var Vi=qt().indexOf("Gecko")!=-1&&!(qt().toLowerCase().indexOf("webkit")!=-1&&qt().indexOf("Edge")==-1)&&!(qt().indexOf("Trident")!=-1||qt().indexOf("MSIE")!=-1)&&qt().indexOf("Edge")==-1;function te(e,s,c){for(let d in e)s.call(c,e[d],d,e)}function w(e,s){for(let c in e)s.call(void 0,e[c],c,e)}function h(e){let s={};for(let c in e)s[c]=e[c];return s}let p="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(e,s){let c,d;for(let v=1;v<arguments.length;v++){d=arguments[v];for(c in d)e[c]=d[c];for(let O=0;O<p.length;O++)c=p[O],Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c])}}function y(e){var s=1;e=e.split(":");let c=[];for(;0<s&&e.length;)c.push(e.shift()),s--;return e.length&&c.push(e.join(":")),c}function P(e){u.setTimeout(()=>{throw e},0)}function g(){var e=co;let s=null;return e.g&&(s=e.g,e.g=e.g.next,e.g||(e.h=null),s.next=null),s}class ce{constructor(){this.h=this.g=null}add(s,c){let d=Rn.get();d.set(s,c),this.h?this.h.next=d:this.g=d,this.h=d}}var Rn=new kt(()=>new Od,e=>e.reset());class Od{constructor(){this.next=this.g=this.h=null}set(s,c){this.h=s,this.g=c,this.next=null}reset(){this.next=this.g=this.h=null}}let Nn,Vn=!1,co=new ce,ks=()=>{let e=u.Promise.resolve(void 0);Nn=()=>{e.then(Id)}};var Id=()=>{for(var e;e=g();){try{e.h.call(e.g)}catch(c){P(c)}var s=Rn;s.j(e),100>s.h&&(s.h++,e.next=s.g,s.g=e)}Vn=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function yt(e,s){this.type=e,this.g=this.target=s,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var Ed=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,s=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let c=()=>{};u.addEventListener("test",c,s),u.removeEventListener("test",c,s)}catch{}return e}();function Fn(e,s){if(yt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var c=this.type=e.type,d=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=s,s=e.relatedTarget){if(Vi){t:{try{Ce(s.nodeName);var v=!0;break t}catch{}v=!1}v||(s=null)}}else c=="mouseover"?s=e.fromElement:c=="mouseout"&&(s=e.toElement);this.relatedTarget=s,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Sd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Fn.aa.h.call(this)}}N(Fn,yt);var Sd={2:"touch",3:"pen",4:"mouse"};Fn.prototype.h=function(){Fn.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ln="closure_listenable_"+(1e6*Math.random()|0),Td=0;function Ad(e,s,c,d,v){this.listener=e,this.proxy=null,this.src=s,this.type=c,this.capture=!!d,this.ha=v,this.key=++Td,this.da=this.fa=!1}function Fi(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Li(e){this.src=e,this.g={},this.h=0}Li.prototype.add=function(e,s,c,d,v){var O=e.toString();e=this.g[O],e||(e=this.g[O]=[],this.h++);var E=uo(e,s,d,v);return-1<E?(s=e[E],c||(s.fa=!1)):(s=new Ad(s,this.src,O,!!d,v),s.fa=c,e.push(s)),s};function lo(e,s){var c=s.type;if(c in e.g){var d=e.g[c],v=Array.prototype.indexOf.call(d,s,void 0),O;(O=0<=v)&&Array.prototype.splice.call(d,v,1),O&&(Fi(s),e.g[c].length==0&&(delete e.g[c],e.h--))}}function uo(e,s,c,d){for(var v=0;v<e.length;++v){var O=e[v];if(!O.da&&O.listener==s&&O.capture==!!c&&O.ha==d)return v}return-1}var mo="closure_lm_"+(1e6*Math.random()|0),ho={};function Ds(e,s,c,d,v){if(d&&d.once)return Ns(e,s,c,d,v);if(Array.isArray(s)){for(var O=0;O<s.length;O++)Ds(e,s[O],c,d,v);return null}return c=_o(c),e&&e[Ln]?e.K(s,c,_(d)?!!d.capture:!!d,v):Rs(e,s,c,!1,d,v)}function Rs(e,s,c,d,v,O){if(!s)throw Error("Invalid event type");var E=_(v)?!!v.capture:!!v,nt=po(e);if(nt||(e[mo]=nt=new Li(e)),c=nt.add(s,c,d,E,O),c.proxy)return c;if(d=kd(),c.proxy=d,d.src=e,d.listener=c,e.addEventListener)Ed||(v=E),v===void 0&&(v=!1),e.addEventListener(s.toString(),d,v);else if(e.attachEvent)e.attachEvent(Fs(s.toString()),d);else if(e.addListener&&e.removeListener)e.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return c}function kd(){function e(c){return s.call(e.src,e.listener,c)}let s=Dd;return e}function Ns(e,s,c,d,v){if(Array.isArray(s)){for(var O=0;O<s.length;O++)Ns(e,s[O],c,d,v);return null}return c=_o(c),e&&e[Ln]?e.L(s,c,_(d)?!!d.capture:!!d,v):Rs(e,s,c,!0,d,v)}function Vs(e,s,c,d,v){if(Array.isArray(s))for(var O=0;O<s.length;O++)Vs(e,s[O],c,d,v);else d=_(d)?!!d.capture:!!d,c=_o(c),e&&e[Ln]?(e=e.i,s=String(s).toString(),s in e.g&&(O=e.g[s],c=uo(O,c,d,v),-1<c&&(Fi(O[c]),Array.prototype.splice.call(O,c,1),O.length==0&&(delete e.g[s],e.h--)))):e&&(e=po(e))&&(s=e.g[s.toString()],e=-1,s&&(e=uo(s,c,d,v)),(c=-1<e?s[e]:null)&&go(c))}function go(e){if(typeof e!="number"&&e&&!e.da){var s=e.src;if(s&&s[Ln])lo(s.i,e);else{var c=e.type,d=e.proxy;s.removeEventListener?s.removeEventListener(c,d,e.capture):s.detachEvent?s.detachEvent(Fs(c),d):s.addListener&&s.removeListener&&s.removeListener(d),(c=po(s))?(lo(c,e),c.h==0&&(c.src=null,s[mo]=null)):Fi(e)}}}function Fs(e){return e in ho?ho[e]:ho[e]="on"+e}function Dd(e,s){if(e.da)e=!0;else{s=new Fn(s,this);var c=e.listener,d=e.ha||e.src;e.fa&&go(e),e=c.call(d,s)}return e}function po(e){return e=e[mo],e instanceof Li?e:null}var fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function _o(e){return typeof e=="function"?e:(e[fo]||(e[fo]=function(s){return e.handleEvent(s)}),e[fo])}function vt(){ye.call(this),this.i=new Li(this),this.M=this,this.F=null}N(vt,ye),vt.prototype[Ln]=!0,vt.prototype.removeEventListener=function(e,s,c,d){Vs(this,e,s,c,d)};function xt(e,s){var c,d=e.F;if(d)for(c=[];d;d=d.F)c.push(d);if(e=e.M,d=s.type||s,typeof s=="string")s=new yt(s,e);else if(s instanceof yt)s.target=s.target||e;else{var v=s;s=new yt(d,e),C(s,v)}if(v=!0,c)for(var O=c.length-1;0<=O;O--){var E=s.g=c[O];v=Ui(E,d,!0,s)&&v}if(E=s.g=e,v=Ui(E,d,!0,s)&&v,v=Ui(E,d,!1,s)&&v,c)for(O=0;O<c.length;O++)E=s.g=c[O],v=Ui(E,d,!1,s)&&v}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var e=this.i,s;for(s in e.g){for(var c=e.g[s],d=0;d<c.length;d++)Fi(c[d]);delete e.g[s],e.h--}}this.F=null},vt.prototype.K=function(e,s,c,d){return this.i.add(String(e),s,!1,c,d)},vt.prototype.L=function(e,s,c,d){return this.i.add(String(e),s,!0,c,d)};function Ui(e,s,c,d){if(s=e.i.g[String(s)],!s)return!0;s=s.concat();for(var v=!0,O=0;O<s.length;++O){var E=s[O];if(E&&!E.da&&E.capture==c){var nt=E.listener,bt=E.ha||E.src;E.fa&&lo(e.i,E),v=nt.call(bt,d)!==!1&&v}}return v&&!d.defaultPrevented}function Ls(e,s,c){if(typeof e=="function")c&&(e=A(e,c));else if(e&&typeof e.handleEvent=="function")e=A(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:u.setTimeout(e,s||0)}function Us(e){e.g=Ls(()=>{e.g=null,e.i&&(e.i=!1,Us(e))},e.l);let s=e.h;e.h=null,e.m.apply(null,s)}class Rd extends ye{constructor(s,c){super(),this.m=s,this.l=c,this.h=null,this.i=!1,this.g=null}j(s){this.h=arguments,this.g?this.i=!0:Us(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Un(e){ye.call(this),this.h=e,this.g={}}N(Un,ye);var Bs=[];function zs(e){te(e.g,function(s,c){this.g.hasOwnProperty(c)&&go(s)},e),e.g={}}Un.prototype.N=function(){Un.aa.N.call(this),zs(this)},Un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bo=u.JSON.stringify,Nd=u.JSON.parse,Vd=class{stringify(e){return u.JSON.stringify(e,void 0)}parse(e){return u.JSON.parse(e,void 0)}};function Co(){}Co.prototype.h=null;function js(e){return e.h||(e.h=e.i())}function Gs(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yo(){yt.call(this,"d")}N(yo,yt);function vo(){yt.call(this,"c")}N(vo,yt);var Re={},qs=null;function Bi(){return qs=qs||new vt}Re.La="serverreachability";function $s(e){yt.call(this,Re.La,e)}N($s,yt);function zn(e){let s=Bi();xt(s,new $s(s))}Re.STAT_EVENT="statevent";function Ks(e,s){yt.call(this,Re.STAT_EVENT,e),this.stat=s}N(Ks,yt);function Ot(e){let s=Bi();xt(s,new Ks(s,e))}Re.Ma="timingevent";function Hs(e,s){yt.call(this,Re.Ma,e),this.size=s}N(Hs,yt);function jn(e,s){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){e()},s)}function Gn(){this.g=!0}Gn.prototype.xa=function(){this.g=!1};function Fd(e,s,c,d,v,O){e.info(function(){if(e.g)if(O)for(var E="",nt=O.split("&"),bt=0;bt<nt.length;bt++){var Q=nt[bt].split("=");if(1<Q.length){var wt=Q[0];Q=Q[1];var Pt=wt.split("_");E=2<=Pt.length&&Pt[1]=="type"?E+(wt+"="+Q+"&"):E+(wt+"=redacted&")}}else E=null;else E=O;return"XMLHTTP REQ ("+d+") [attempt "+v+"]: "+s+`
`+c+`
`+E})}function Ld(e,s,c,d,v,O,E){e.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+v+"]: "+s+`
`+c+`
`+O+" "+E})}function He(e,s,c,d){e.info(function(){return"XMLHTTP TEXT ("+s+"): "+Bd(e,c)+(d?" "+d:"")})}function Ud(e,s){e.info(function(){return"TIMEOUT: "+s})}Gn.prototype.info=function(){};function Bd(e,s){if(!e.g)return s;if(!s)return null;try{var c=JSON.parse(s);if(c){for(e=0;e<c.length;e++)if(Array.isArray(c[e])){var d=c[e];if(!(2>d.length)){var v=d[1];if(Array.isArray(v)&&!(1>v.length)){var O=v[0];if(O!="noop"&&O!="stop"&&O!="close")for(var E=1;E<v.length;E++)v[E]=""}}}}return bo(c)}catch{return s}}var zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wo;function ji(){}N(ji,Co),ji.prototype.g=function(){return new XMLHttpRequest},ji.prototype.i=function(){return{}},wo=new ji;function ve(e,s,c,d){this.j=e,this.i=s,this.l=c,this.R=d||1,this.U=new Un(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ws}function Ws(){this.i=null,this.g="",this.h=!1}var Ys={},Po={};function Mo(e,s,c){e.L=1,e.v=Ki(le(s)),e.m=c,e.P=!0,Xs(e,null)}function Xs(e,s){e.F=Date.now(),Gi(e),e.A=le(e.v);var c=e.A,d=e.R;Array.isArray(d)||(d=[String(d)]),ua(c.i,"t",d),e.C=0,c=e.j.J,e.h=new Ws,e.g=Sa(e.j,c?s:null,!e.m),0<e.O&&(e.M=new Rd(A(e.Y,e,e.g),e.O)),s=e.U,c=e.g,d=e.ca;var v="readystatechange";Array.isArray(v)||(v&&(Bs[0]=v.toString()),v=Bs);for(var O=0;O<v.length;O++){var E=Ds(c,v[O],d||s.handleEvent,!1,s.h||s);if(!E)break;s.g[E.key]=E}s=e.H?h(e.H):{},e.m?(e.u||(e.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,s)):(e.u="GET",e.g.ea(e.A,e.u,null,s)),zn(),Fd(e.i,e.u,e.A,e.l,e.R,e.m)}ve.prototype.ca=function(e){e=e.target;let s=this.M;s&&de(e)==3?s.j():this.Y(e)},ve.prototype.Y=function(e){try{if(e==this.g)t:{let Pt=de(this.g);var s=this.g.Ba();let Ye=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||ba(this.g)))){this.J||Pt!=4||s==7||(s==8||0>=Ye?zn(3):zn(2)),xo(this);var c=this.g.Z();this.X=c;e:if(Js(this)){var d=ba(this.g);e="";var v=d.length,O=de(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ne(this),qn(this);var E="";break e}this.h.i=new u.TextDecoder}for(s=0;s<v;s++)this.h.h=!0,e+=this.h.i.decode(d[s],{stream:!(O&&s==v-1)});d.length=0,this.h.g+=e,this.C=0,E=this.h.g}else E=this.g.oa();if(this.o=c==200,Ld(this.i,this.u,this.A,this.l,this.R,Pt,c),this.o){if(this.T&&!this.K){e:{if(this.g){var nt,bt=this.g;if((nt=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bt(nt)){var Q=nt;break e}}Q=null}if(c=Q)He(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oo(this,c);else{this.o=!1,this.s=3,Ot(12),Ne(this),qn(this);break t}}if(this.P){c=!0;let Wt;for(;!this.J&&this.C<E.length;)if(Wt=zd(this,E),Wt==Po){Pt==4&&(this.s=4,Ot(14),c=!1),He(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==Ys){this.s=4,Ot(15),He(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else He(this.i,this.l,Wt,null),Oo(this,Wt);if(Js(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||E.length!=0||this.h.h||(this.s=1,Ot(16),c=!1),this.o=this.o&&c,!c)He(this.i,this.l,E,"[Invalid Chunked Response]"),Ne(this),qn(this);else if(0<E.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ko(wt),wt.M=!0,Ot(11))}}else He(this.i,this.l,E,null),Oo(this,E);Pt==4&&Ne(this),this.o&&!this.J&&(Pt==4?xa(this.j,this):(this.o=!1,Gi(this)))}else ru(this.g),c==400&&0<E.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Ne(this),qn(this)}}}catch{}finally{}};function Js(e){return e.g?e.u=="GET"&&e.L!=2&&e.j.Ca:!1}function zd(e,s){var c=e.C,d=s.indexOf(`
`,c);return d==-1?Po:(c=Number(s.substring(c,d)),isNaN(c)?Ys:(d+=1,d+c>s.length?Po:(s=s.slice(d,d+c),e.C=d+c,s)))}ve.prototype.cancel=function(){this.J=!0,Ne(this)};function Gi(e){e.S=Date.now()+e.I,Zs(e,e.I)}function Zs(e,s){if(e.B!=null)throw Error("WatchDog timer not null");e.B=jn(A(e.ba,e),s)}function xo(e){e.B&&(u.clearTimeout(e.B),e.B=null)}ve.prototype.ba=function(){this.B=null;let e=Date.now();0<=e-this.S?(Ud(this.i,this.A),this.L!=2&&(zn(),Ot(17)),Ne(this),this.s=2,qn(this)):Zs(this,this.S-e)};function qn(e){e.j.G==0||e.J||xa(e.j,e)}function Ne(e){xo(e);var s=e.M;s&&typeof s.ma=="function"&&s.ma(),e.M=null,zs(e.U),e.g&&(s=e.g,e.g=null,s.abort(),s.ma())}function Oo(e,s){try{var c=e.j;if(c.G!=0&&(c.g==e||Io(c.h,e))){if(!e.K&&Io(c.h,e)&&c.G==3){try{var d=c.Da.g.parse(s)}catch{d=null}if(Array.isArray(d)&&d.length==3){var v=d;if(v[0]==0){t:if(!c.u){if(c.g)if(c.g.F+3e3<e.F)Xi(c),Wi(c);else break t;Ao(c),Ot(18)}}else c.za=v[1],0<c.za-c.T&&37500>v[2]&&c.F&&c.v==0&&!c.C&&(c.C=jn(A(c.Za,c),6e3));if(1>=na(c.h)&&c.ca){try{c.ca()}catch{}c.ca=void 0}}else Fe(c,11)}else if((e.K||c.g==e)&&Xi(c),!Bt(s))for(v=c.Da.g.parse(s),s=0;s<v.length;s++){let Q=v[s];if(c.T=Q[0],Q=Q[1],c.G==2)if(Q[0]=="c"){c.K=Q[1],c.ia=Q[2];let wt=Q[3];wt!=null&&(c.la=wt,c.j.info("VER="+c.la));let Pt=Q[4];Pt!=null&&(c.Aa=Pt,c.j.info("SVER="+c.Aa));let Ye=Q[5];Ye!=null&&typeof Ye=="number"&&0<Ye&&(d=1.5*Ye,c.L=d,c.j.info("backChannelRequestTimeoutMs_="+d)),d=c;let Wt=e.g;if(Wt){let Zi=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var O=d.h;O.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Eo(O,O.h),O.h=null))}if(d.D){let Do=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(d.ya=Do,at(d.I,d.D,Do))}}c.G=3,c.l&&c.l.ua(),c.ba&&(c.R=Date.now()-e.F,c.j.info("Handshake RTT: "+c.R+"ms")),d=c;var E=e;if(d.qa=Ea(d,d.J?d.ia:null,d.W),E.K){ia(d.h,E);var nt=E,bt=d.L;bt&&(nt.I=bt),nt.B&&(xo(nt),Gi(nt)),d.g=E}else Pa(d);0<c.i.length&&Yi(c)}else Q[0]!="stop"&&Q[0]!="close"||Fe(c,7);else c.G==3&&(Q[0]=="stop"||Q[0]=="close"?Q[0]=="stop"?Fe(c,7):To(c):Q[0]!="noop"&&c.l&&c.l.ta(Q),c.v=0)}}zn(4)}catch{}}var jd=class{constructor(e,s){this.g=e,this.map=s}};function ta(e){this.l=e||10,u.PerformanceNavigationTiming?(e=u.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ea(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function na(e){return e.h?1:e.g?e.g.size:0}function Io(e,s){return e.h?e.h==s:e.g?e.g.has(s):!1}function Eo(e,s){e.g?e.g.add(s):e.h=s}function ia(e,s){e.h&&e.h==s?e.h=null:e.g&&e.g.has(s)&&e.g.delete(s)}ta.prototype.cancel=function(){if(this.i=ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function ra(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let s=e.i;for(let c of e.g.values())s=s.concat(c.D);return s}return lt(e.i)}function Gd(e){if(e.V&&typeof e.V=="function")return e.V();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(m(e)){for(var s=[],c=e.length,d=0;d<c;d++)s.push(e[d]);return s}s=[],c=0;for(d in e)s[c++]=e[d];return s}function qd(e){if(e.na&&typeof e.na=="function")return e.na();if(!e.V||typeof e.V!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(m(e)||typeof e=="string"){var s=[];e=e.length;for(var c=0;c<e;c++)s.push(c);return s}s=[],c=0;for(let d in e)s[c++]=d;return s}}}function oa(e,s){if(e.forEach&&typeof e.forEach=="function")e.forEach(s,void 0);else if(m(e)||typeof e=="string")Array.prototype.forEach.call(e,s,void 0);else for(var c=qd(e),d=Gd(e),v=d.length,O=0;O<v;O++)s.call(void 0,d[O],c&&c[O],e)}var sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $d(e,s){if(e){e=e.split("&");for(var c=0;c<e.length;c++){var d=e[c].indexOf("="),v=null;if(0<=d){var O=e[c].substring(0,d);v=e[c].substring(d+1)}else O=e[c];s(O,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function Ve(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof Ve){this.h=e.h,qi(this,e.j),this.o=e.o,this.g=e.g,$i(this,e.s),this.l=e.l;var s=e.i,c=new Hn;c.i=s.i,s.g&&(c.g=new Map(s.g),c.h=s.h),aa(this,c),this.m=e.m}else e&&(s=String(e).match(sa))?(this.h=!1,qi(this,s[1]||"",!0),this.o=$n(s[2]||""),this.g=$n(s[3]||"",!0),$i(this,s[4]),this.l=$n(s[5]||"",!0),aa(this,s[6]||"",!0),this.m=$n(s[7]||"")):(this.h=!1,this.i=new Hn(null,this.h))}Ve.prototype.toString=function(){var e=[],s=this.j;s&&e.push(Kn(s,ca,!0),":");var c=this.g;return(c||s=="file")&&(e.push("//"),(s=this.o)&&e.push(Kn(s,ca,!0),"@"),e.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.s,c!=null&&e.push(":",String(c))),(c=this.l)&&(this.g&&c.charAt(0)!="/"&&e.push("/"),e.push(Kn(c,c.charAt(0)=="/"?Qd:Hd,!0))),(c=this.i.toString())&&e.push("?",c),(c=this.m)&&e.push("#",Kn(c,Yd)),e.join("")};function le(e){return new Ve(e)}function qi(e,s,c){e.j=c?$n(s,!0):s,e.j&&(e.j=e.j.replace(/:$/,""))}function $i(e,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);e.s=s}else e.s=null}function aa(e,s,c){s instanceof Hn?(e.i=s,Xd(e.i,e.h)):(c||(s=Kn(s,Wd)),e.i=new Hn(s,e.h))}function at(e,s,c){e.i.set(s,c)}function Ki(e){return at(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $n(e,s){return e?s?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kn(e,s,c){return typeof e=="string"?(e=encodeURI(e).replace(s,Kd),c&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kd(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var ca=/[#\/\?@]/g,Hd=/[#\?:]/g,Qd=/[#\?]/g,Wd=/[#\?@]/g,Yd=/#/g;function Hn(e,s){this.h=this.g=null,this.i=e||null,this.j=!!s}function we(e){e.g||(e.g=new Map,e.h=0,e.i&&$d(e.i,function(s,c){e.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}i=Hn.prototype,i.add=function(e,s){we(this),this.i=null,e=Qe(this,e);var c=this.g.get(e);return c||this.g.set(e,c=[]),c.push(s),this.h+=1,this};function la(e,s){we(e),s=Qe(e,s),e.g.has(s)&&(e.i=null,e.h-=e.g.get(s).length,e.g.delete(s))}function da(e,s){return we(e),s=Qe(e,s),e.g.has(s)}i.forEach=function(e,s){we(this),this.g.forEach(function(c,d){c.forEach(function(v){e.call(s,v,d,this)},this)},this)},i.na=function(){we(this);let e=Array.from(this.g.values()),s=Array.from(this.g.keys()),c=[];for(let d=0;d<s.length;d++){let v=e[d];for(let O=0;O<v.length;O++)c.push(s[d])}return c},i.V=function(e){we(this);let s=[];if(typeof e=="string")da(this,e)&&(s=s.concat(this.g.get(Qe(this,e))));else{e=Array.from(this.g.values());for(let c=0;c<e.length;c++)s=s.concat(e[c])}return s},i.set=function(e,s){return we(this),this.i=null,e=Qe(this,e),da(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[s]),this.h+=1,this},i.get=function(e,s){return e?(e=this.V(e),0<e.length?String(e[0]):s):s};function ua(e,s,c){la(e,s),0<c.length&&(e.i=null,e.g.set(Qe(e,s),lt(c)),e.h+=c.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],s=Array.from(this.g.keys());for(var c=0;c<s.length;c++){var d=s[c];let O=encodeURIComponent(String(d)),E=this.V(d);for(d=0;d<E.length;d++){var v=O;E[d]!==""&&(v+="="+encodeURIComponent(String(E[d]))),e.push(v)}}return this.i=e.join("&")};function Qe(e,s){return s=String(s),e.j&&(s=s.toLowerCase()),s}function Xd(e,s){s&&!e.j&&(we(e),e.i=null,e.g.forEach(function(c,d){var v=d.toLowerCase();d!=v&&(la(this,d),ua(this,v,c))},e)),e.j=s}function Jd(e,s){let c=new Gn;if(u.Image){let d=new Image;d.onload=k(Pe,c,"TestLoadImage: loaded",!0,s,d),d.onerror=k(Pe,c,"TestLoadImage: error",!1,s,d),d.onabort=k(Pe,c,"TestLoadImage: abort",!1,s,d),d.ontimeout=k(Pe,c,"TestLoadImage: timeout",!1,s,d),u.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=e}else s(!1)}function Zd(e,s){let c=new Gn,d=new AbortController,v=setTimeout(()=>{d.abort(),Pe(c,"TestPingServer: timeout",!1,s)},1e4);fetch(e,{signal:d.signal}).then(O=>{clearTimeout(v),O.ok?Pe(c,"TestPingServer: ok",!0,s):Pe(c,"TestPingServer: server error",!1,s)}).catch(()=>{clearTimeout(v),Pe(c,"TestPingServer: error",!1,s)})}function Pe(e,s,c,d,v){try{v&&(v.onload=null,v.onerror=null,v.onabort=null,v.ontimeout=null),d(c)}catch{}}function tu(){this.g=new Vd}function eu(e,s,c){let d=c||"";try{oa(e,function(v,O){let E=v;_(v)&&(E=bo(v)),s.push(d+O+"="+encodeURIComponent(E))})}catch(v){throw s.push(d+"type="+encodeURIComponent("_badmap")),v}}function Qn(e){this.l=e.Ub||null,this.j=e.eb||!1}N(Qn,Co),Qn.prototype.g=function(){return new Hi(this.l,this.j)},Qn.prototype.i=function(e){return function(){return e}}({});function Hi(e,s){vt.call(this),this.D=e,this.o=s,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Hi,vt),i=Hi.prototype,i.open=function(e,s){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=s,this.readyState=1,Yn(this)},i.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let s={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(s.body=e),(this.D||u).fetch(new Request(this.A,s)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},i.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ma(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))};function ma(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}i.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var s=e.value?e.value:new Uint8Array(0);(s=this.v.decode(s,{stream:!e.done}))&&(this.response=this.responseText+=s)}e.done?Wn(this):Yn(this),this.readyState==3&&ma(this)}},i.Ra=function(e){this.g&&(this.response=this.responseText=e,Wn(this))},i.Qa=function(e){this.g&&(this.response=e,Wn(this))},i.ga=function(){this.g&&Wn(this)};function Wn(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Yn(e)}i.setRequestHeader=function(e,s){this.u.append(e,s)},i.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],s=this.h.entries();for(var c=s.next();!c.done;)c=c.value,e.push(c[0]+": "+c[1]),c=s.next();return e.join(`\r
`)};function Yn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});function ha(e){let s="";return te(e,function(c,d){s+=d,s+=":",s+=c,s+=`\r
`}),s}function So(e,s,c){t:{for(d in c){var d=!1;break t}d=!0}d||(c=ha(c),typeof e=="string"?c!=null&&encodeURIComponent(String(c)):at(e,s,c))}function ut(e){vt.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(ut,vt);var nu=/^https?$/i,iu=["POST","PUT"];i=ut.prototype,i.Ha=function(e){this.J=e},i.ea=function(e,s,c,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);s=s?s.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wo.g(),this.v=this.o?js(this.o):js(wo),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(s,String(e),!0),this.B=!1}catch(O){ga(this,O);return}if(e=c||"",c=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var v in d)c.set(v,d[v]);else if(typeof d.keys=="function"&&typeof d.get=="function")for(let O of d.keys())c.set(O,d.get(O));else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(c.keys()).find(O=>O.toLowerCase()=="content-type"),v=u.FormData&&e instanceof u.FormData,!(0<=Array.prototype.indexOf.call(iu,s,void 0))||d||v||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,E]of c)this.g.setRequestHeader(O,E);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_a(this),this.u=!0,this.g.send(e),this.u=!1}catch(O){ga(this,O)}};function ga(e,s){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=s,e.m=5,pa(e),Qi(e)}function pa(e){e.A||(e.A=!0,xt(e,"complete"),xt(e,"error"))}i.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,xt(this,"complete"),xt(this,"abort"),Qi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),ut.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?fa(this):this.bb())},i.bb=function(){fa(this)};function fa(e){if(e.h&&typeof l<"u"&&(!e.v[1]||de(e)!=4||e.Z()!=2)){if(e.u&&de(e)==4)Ls(e.Ea,0,e);else if(xt(e,"readystatechange"),de(e)==4){e.h=!1;try{let E=e.Z();t:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}var c;if(!(c=s)){var d;if(d=E===0){var v=String(e.D).match(sa)[1]||null;!v&&u.self&&u.self.location&&(v=u.self.location.protocol.slice(0,-1)),d=!nu.test(v?v.toLowerCase():"")}c=d}if(c)xt(e,"complete"),xt(e,"success");else{e.m=6;try{var O=2<de(e)?e.g.statusText:""}catch{O=""}e.l=O+" ["+e.Z()+"]",pa(e)}}finally{Qi(e)}}}}function Qi(e,s){if(e.g){_a(e);let c=e.g,d=e.v[0]?()=>{}:null;e.g=null,e.v=null,s||xt(e,"ready");try{c.onreadystatechange=d}catch{}}}function _a(e){e.I&&(u.clearTimeout(e.I),e.I=null)}i.isActive=function(){return!!this.g};function de(e){return e.g?e.g.readyState:0}i.Z=function(){try{return 2<de(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(e){if(this.g){var s=this.g.responseText;return e&&s.indexOf(e)==0&&(s=s.substring(e.length)),Nd(s)}};function ba(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function ru(e){let s={};e=(e.g&&2<=de(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let d=0;d<e.length;d++){if(Bt(e[d]))continue;var c=y(e[d]);let v=c[0];if(c=c[1],typeof c!="string")continue;c=c.trim();let O=s[v]||[];s[v]=O,O.push(c)}w(s,function(d){return d.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xn(e,s,c){return c&&c.internalChannelParams&&c.internalChannelParams[e]||s}function Ca(e){this.Aa=0,this.i=[],this.j=new Gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xn("baseRetryDelayMs",5e3,e),this.cb=Xn("retryDelaySeedMs",1e4,e),this.Wa=Xn("forwardChannelMaxRetries",2,e),this.wa=Xn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new ta(e&&e.concurrentRequestLimit),this.Da=new tu,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ca.prototype,i.la=8,i.G=1,i.connect=function(e,s,c,d){Ot(0),this.W=e,this.H=s||{},c&&d!==void 0&&(this.H.OSID=c,this.H.OAID=d),this.F=this.X,this.I=Ea(this,null,this.W),Yi(this)};function To(e){if(ya(e),e.G==3){var s=e.U++,c=le(e.I);if(at(c,"SID",e.K),at(c,"RID",s),at(c,"TYPE","terminate"),Jn(e,c),s=new ve(e,e.j,s),s.L=2,s.v=Ki(le(c)),c=!1,u.navigator&&u.navigator.sendBeacon)try{c=u.navigator.sendBeacon(s.v.toString(),"")}catch{}!c&&u.Image&&(new Image().src=s.v,c=!0),c||(s.g=Sa(s.j,null),s.g.ea(s.v)),s.F=Date.now(),Gi(s)}Ia(e)}function Wi(e){e.g&&(ko(e),e.g.cancel(),e.g=null)}function ya(e){Wi(e),e.u&&(u.clearTimeout(e.u),e.u=null),Xi(e),e.h.cancel(),e.s&&(typeof e.s=="number"&&u.clearTimeout(e.s),e.s=null)}function Yi(e){if(!ea(e.h)&&!e.s){e.s=!0;var s=e.Ga;Nn||ks(),Vn||(Nn(),Vn=!0),co.add(s,e),e.B=0}}function ou(e,s){return na(e.h)>=e.h.j-(e.s?1:0)?!1:e.s?(e.i=s.D.concat(e.i),!0):e.G==1||e.G==2||e.B>=(e.Va?0:e.Wa)?!1:(e.s=jn(A(e.Ga,e,s),Oa(e,e.B)),e.B++,!0)}i.Ga=function(e){if(this.s)if(this.s=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let v=new ve(this,this.j,e),O=this.o;if(this.S&&(O?(O=h(O),C(O,this.S)):O=this.S),this.m!==null||this.O||(v.H=O,O=null),this.P)t:{for(var s=0,c=0;c<this.i.length;c++){e:{var d=this.i[c];if("__data__"in d.map&&(d=d.map.__data__,typeof d=="string")){d=d.length;break e}d=void 0}if(d===void 0)break;if(s+=d,4096<s){s=c;break t}if(s===4096||c===this.i.length-1){s=c+1;break t}}s=1e3}else s=1e3;s=wa(this,v,s),c=le(this.I),at(c,"RID",e),at(c,"CVER",22),this.D&&at(c,"X-HTTP-Session-Id",this.D),Jn(this,c),O&&(this.O?s="headers="+encodeURIComponent(String(ha(O)))+"&"+s:this.m&&So(c,this.m,O)),Eo(this.h,v),this.Ua&&at(c,"TYPE","init"),this.P?(at(c,"$req",s),at(c,"SID","null"),v.T=!0,Mo(v,c,null)):Mo(v,c,s),this.G=2}}else this.G==3&&(e?va(this,e):this.i.length==0||ea(this.h)||va(this))};function va(e,s){var c;s?c=s.l:c=e.U++;let d=le(e.I);at(d,"SID",e.K),at(d,"RID",c),at(d,"AID",e.T),Jn(e,d),e.m&&e.o&&So(d,e.m,e.o),c=new ve(e,e.j,c,e.B+1),e.m===null&&(c.H=e.o),s&&(e.i=s.D.concat(e.i)),s=wa(e,c,1e3),c.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Eo(e.h,c),Mo(c,d,s)}function Jn(e,s){e.H&&te(e.H,function(c,d){at(s,d,c)}),e.l&&oa({},function(c,d){at(s,d,c)})}function wa(e,s,c){c=Math.min(e.i.length,c);var d=e.l?A(e.l.Na,e.l,e):null;t:{var v=e.i;let O=-1;for(;;){let E=["count="+c];O==-1?0<c?(O=v[0].g,E.push("ofs="+O)):O=0:E.push("ofs="+O);let nt=!0;for(let bt=0;bt<c;bt++){let Q=v[bt].g,wt=v[bt].map;if(Q-=O,0>Q)O=Math.max(0,v[bt].g-100),nt=!1;else try{eu(wt,E,"req"+Q+"_")}catch{d&&d(wt)}}if(nt){d=E.join("&");break t}}}return e=e.i.splice(0,c),s.D=e,d}function Pa(e){if(!e.g&&!e.u){e.Y=1;var s=e.Fa;Nn||ks(),Vn||(Nn(),Vn=!0),co.add(s,e),e.v=0}}function Ao(e){return e.g||e.u||3<=e.v?!1:(e.Y++,e.u=jn(A(e.Fa,e),Oa(e,e.v)),e.v++,!0)}i.Fa=function(){if(this.u=null,Ma(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=jn(A(this.ab,this),e)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),Wi(this),Ma(this))};function ko(e){e.A!=null&&(u.clearTimeout(e.A),e.A=null)}function Ma(e){e.g=new ve(e,e.j,"rpc",e.Y),e.m===null&&(e.g.H=e.o),e.g.O=0;var s=le(e.qa);at(s,"RID","rpc"),at(s,"SID",e.K),at(s,"AID",e.T),at(s,"CI",e.F?"0":"1"),!e.F&&e.ja&&at(s,"TO",e.ja),at(s,"TYPE","xmlhttp"),Jn(e,s),e.m&&e.o&&So(s,e.m,e.o),e.L&&(e.g.I=e.L);var c=e.g;e=e.ia,c.L=1,c.v=Ki(le(s)),c.m=null,c.P=!0,Xs(c,e)}i.Za=function(){this.C!=null&&(this.C=null,Wi(this),Ao(this),Ot(19))};function Xi(e){e.C!=null&&(u.clearTimeout(e.C),e.C=null)}function xa(e,s){var c=null;if(e.g==s){Xi(e),ko(e),e.g=null;var d=2}else if(Io(e.h,s))c=s.D,ia(e.h,s),d=1;else return;if(e.G!=0){if(s.o)if(d==1){c=s.m?s.m.length:0,s=Date.now()-s.F;var v=e.B;d=Bi(),xt(d,new Hs(d,c)),Yi(e)}else Pa(e);else if(v=s.s,v==3||v==0&&0<s.X||!(d==1&&ou(e,s)||d==2&&Ao(e)))switch(c&&0<c.length&&(s=e.h,s.i=s.i.concat(c)),v){case 1:Fe(e,5);break;case 4:Fe(e,10);break;case 3:Fe(e,6);break;default:Fe(e,2)}}}function Oa(e,s){let c=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(c*=2),c*s}function Fe(e,s){if(e.j.info("Error code "+s),s==2){var c=A(e.fb,e),d=e.Xa;let v=!d;d=new Ve(d||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||qi(d,"https"),Ki(d),v?Jd(d.toString(),c):Zd(d.toString(),c)}else Ot(2);e.G=0,e.l&&e.l.sa(s),Ia(e),ya(e)}i.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Ia(e){if(e.G=0,e.ka=[],e.l){let s=ra(e.h);(s.length!=0||e.i.length!=0)&&(st(e.ka,s),st(e.ka,e.i),e.h.i.length=0,lt(e.i),e.i.length=0),e.l.ra()}}function Ea(e,s,c){var d=c instanceof Ve?le(c):new Ve(c);if(d.g!="")s&&(d.g=s+"."+d.g),$i(d,d.s);else{var v=u.location;d=v.protocol,s=s?s+"."+v.hostname:v.hostname,v=+v.port;var O=new Ve(null);d&&qi(O,d),s&&(O.g=s),v&&$i(O,v),c&&(O.l=c),d=O}return c=e.D,s=e.ya,c&&s&&at(d,c,s),at(d,"VER",e.la),Jn(e,d),d}function Sa(e,s,c){if(s&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return s=e.Ca&&!e.pa?new ut(new Qn({eb:c})):new ut(e.pa),s.Ha(e.J),s}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ta(){}i=Ta.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ji(){}Ji.prototype.g=function(e,s){return new zt(e,s)};function zt(e,s){vt.call(this),this.g=new Ca(s),this.l=e,this.h=s&&s.messageUrlParams||null,e=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(e?e["X-WebChannel-Content-Type"]=s.messageContentType:e={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.va&&(e?e["X-WebChannel-Client-Profile"]=s.va:e={"X-WebChannel-Client-Profile":s.va}),this.g.S=e,(e=s&&s.Sb)&&!Bt(e)&&(this.g.m=e),this.v=s&&s.supportsCrossDomainXhr||!1,this.u=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!Bt(s)&&(this.g.D=s,e=this.h,e!==null&&s in e&&(e=this.h,s in e&&delete e[s])),this.j=new We(this)}N(zt,vt),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){To(this.g)},zt.prototype.o=function(e){var s=this.g;if(typeof e=="string"){var c={};c.__data__=e,e=c}else this.u&&(c={},c.__data__=bo(e),e=c);s.i.push(new jd(s.Ya++,e)),s.G==3&&Yi(s)},zt.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,zt.aa.N.call(this)};function Aa(e){yo.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var s=e.__sm__;if(s){t:{for(let c in s){e=c;break t}e=void 0}(this.i=e)&&(e=this.i,s=s!==null&&e in s?s[e]:void 0),this.data=s}else this.data=e}N(Aa,yo);function ka(){vo.call(this),this.status=1}N(ka,vo);function We(e){this.g=e}N(We,Ta),We.prototype.ua=function(){xt(this.g,"a")},We.prototype.ta=function(e){xt(this.g,new Aa(e))},We.prototype.sa=function(e){xt(this.g,new ka)},We.prototype.ra=function(){xt(this.g,"b")},Ji.prototype.createWebChannel=Ji.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,Xc=fe.createWebChannelTransport=function(){return new Ji},Yc=fe.getStatEventTarget=function(){return Bi()},Wc=fe.Event=Re,Qc=fe.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,Hc=fe.ErrorCode=zi,Qs.COMPLETE="complete",Kc=fe.EventType=Qs,Gs.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,$c=fe.WebChannel=Gs,_m=fe.FetchXmlHttpFactory=Qn,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,qc=fe.XhrIo=ut}).apply(typeof Qr<"u"?Qr:typeof self<"u"?self:typeof window<"u"?window:{});var Jc="@firebase/firestore",Zc="4.8.0";var St=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");var oo="11.10.0";var Wr=new gn("@firebase/firestore");function Zt(i,...t){if(Wr.logLevel<=it.DEBUG){let o=t.map(gl);Wr.debug(`Firestore (${oo}): ${i}`,...o)}}function hl(i,...t){if(Wr.logLevel<=it.ERROR){let o=t.map(gl);Wr.error(`Firestore (${oo}): ${i}`,...o)}}function gl(i){if(typeof i=="string")return i;try{return function(o){return JSON.stringify(o)}(i)}catch{return i}}function Gt(i,t,o){let n="Unexpected state";typeof t=="string"?n=t:o=t,pl(i,n,o)}function pl(i,t,o){let n=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(o!==void 0)try{n+=" CONTEXT: "+JSON.stringify(o)}catch{n+=" CONTEXT: "+o}throw hl(n),new Error(n)}function qe(i,t,o,n){let r="Unexpected state";typeof o=="string"?r=o:n=o,i||pl(t,r,n)}var X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends he{constructor(t,o){super(t,o),this.code=t,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var $e=class{constructor(){this.promise=new Promise((t,o)=>{this.resolve=t,this.reject=o})}};var ls=class{constructor(t,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},ds=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,o){t.enqueueRetryable(()=>o(St.UNAUTHENTICATED))}shutdown(){}};var us=class{constructor(t){this.t=t,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,o){qe(this.o===void 0,42304);let n=this.i,r=m=>this.i!==n?(n=this.i,o(m)):Promise.resolve(),a=new $e;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new $e,t.enqueueRetryable(()=>r(this.currentUser))};let l=()=>{let m=a;t.enqueueRetryable(()=>G(this,null,function*(){yield m.promise,yield r(this.currentUser)}))},u=m=>{Zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(m=>u(m)),setTimeout(()=>{if(!this.auth){let m=this.t.getImmediate({optional:!0});m?u(m):(Zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $e)}},0),l()}getToken(){let t=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(n=>this.i!==t?(Zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(qe(typeof n.accessToken=="string",31837,{l:n}),new ls(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return qe(t===null||typeof t=="string",2055,{h:t}),new St(t)}},ms=class{constructor(t,o,n){this.P=t,this.T=o,this.I=n,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},hs=class{constructor(t,o,n){this.P=t,this.T=o,this.I=n}getToken(){return Promise.resolve(new ms(this.P,this.T,this.I))}start(t,o){t.enqueueRetryable(()=>o(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Yr=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},gs=class{constructor(t,o){this.V=o,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nc(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,o){qe(this.o===void 0,3512);let n=a=>{a.error!=null&&Zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);let l=a.token!==this.m;return this.m=a.token,Zt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?o(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};let r=a=>{Zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){let a=this.V.getImmediate({optional:!0});a?r(a):Zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yr(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(o=>o?(qe(typeof o.token=="string",44558,{tokenResult:o}),this.m=o.token,new Yr(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function bm(i){let t=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(o);else for(let n=0;n<i;n++)o[n]=Math.floor(256*Math.random());return o}function Cm(){return new TextEncoder}var ps=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=62*Math.floor(4.129032258064516),n="";for(;n.length<20;){let r=bm(40);for(let a=0;a<r.length;++a)n.length<20&&r[a]<o&&(n+=t.charAt(r[a]%62))}return n}};function Qt(i,t){return i<t?-1:i>t?1:0}function ym(i,t){let o=0;for(;o<i.length&&o<t.length;){let n=i.codePointAt(o),r=t.codePointAt(o);if(n!==r){if(n<128&&r<128)return Qt(n,r);{let a=Cm(),l=vm(a.encode(tl(i,o)),a.encode(tl(t,o)));return l!==0?l:Qt(n,r)}}o+=n>65535?2:1}return Qt(i.length,t.length)}function tl(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function vm(i,t){for(let o=0;o<i.length&&o<t.length;++o)if(i[o]!==t[o])return Qt(i[o],t[o]);return Qt(i.length,t.length)}var el="__name__",Xr=class i{constructor(t,o,n){o===void 0?o=0:o>t.length&&Gt(637,{offset:o,range:t.length}),n===void 0?n=t.length-o:n>t.length-o&&Gt(1746,{length:n,range:t.length-o}),this.segments=t,this.offset=o,this.len=n}get length(){return this.len}isEqual(t){return i.comparator(this,t)===0}child(t){let o=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(n=>{o.push(n)}):o.push(t),this.construct(o)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}forEach(t){for(let o=this.offset,n=this.limit();o<n;o++)t(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,o){let n=Math.min(t.length,o.length);for(let r=0;r<n;r++){let a=i.compareSegments(t.get(r),o.get(r));if(a!==0)return a}return Qt(t.length,o.length)}static compareSegments(t,o){let n=i.isNumericId(t),r=i.isNumericId(o);return n&&!r?-1:!n&&r?1:n&&r?i.extractNumericId(t).compare(i.extractNumericId(o)):ym(t,o)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}},_e=class i extends Xr{construct(t,o,n){return new i(t,o,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let o=[];for(let n of t){if(n.indexOf("//")>=0)throw new H(X.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);o.push(...n.split("/").filter(r=>r.length>0))}return new i(o)}static emptyPath(){return new i([])}},wm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fs=class i extends Xr{construct(t,o,n){return new i(t,o,n)}static isValidIdentifier(t){return wm.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===el}static keyField(){return new i([el])}static fromServerFormat(t){let o=[],n="",r=0,a=()=>{if(n.length===0)throw new H(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(n),n=""},l=!1;for(;r<t.length;){let u=t[r];if(u==="\\"){if(r+1===t.length)throw new H(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let m=t[r+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new H(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=m,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(n+=u,r++):(a(),r++)}if(a(),l)throw new H(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new i(o)}static emptyPath(){return new i([])}};var be=class i{constructor(t){this.path=t}static fromPath(t){return new i(_e.fromString(t))}static fromName(t){return new i(_e.fromString(t).popFirst(5))}static empty(){return new i(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,o){return _e.comparator(t.path,o.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new i(new _e(t.slice()))}};function Pm(i,t,o,n){if(t===!0&&n===!0)throw new H(X.INVALID_ARGUMENT,`${i} and ${o} cannot be used together.`)}function Mm(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function pt(i,t){let o={typeString:i};return t&&(o.value=t),o}function Ni(i,t){if(!Mm(i))throw new H(X.INVALID_ARGUMENT,"JSON must be an object");let o;for(let n in t)if(t[n]){let r=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in i)){o=`JSON missing required field: '${n}'`;break}let l=i[n];if(r&&typeof l!==r){o=`JSON field '${n}' must be a ${r}.`;break}if(a!==void 0&&l!==a.value){o=`Expected '${n}' field to equal '${a.value}'`;break}}if(o)throw new H(X.INVALID_ARGUMENT,o);return!0}var nl=-62135596800,il=1e6,Ct=class i{static now(){return i.fromMillis(Date.now())}static fromDate(t){return i.fromMillis(t.getTime())}static fromMillis(t){let o=Math.floor(t/1e3),n=Math.floor((t-1e3*o)*il);return new i(o,n)}constructor(t,o){if(this.seconds=t,this.nanoseconds=o,o<0)throw new H(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new H(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(t<nl)throw new H(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/il}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:i._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ni(t,i._jsonSchema))return new i(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-nl;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:pt("string",Ct._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};var _s=class{constructor(t,o,n,r){this.indexId=t,this.collectionGroup=o,this.fields=n,this.indexState=r}};_s.UNKNOWN_ID=-1;function xm(i){return i.name==="IndexedDbTransactionError"}function Om(i){return i===0&&1/i==-1/0}var Im="remoteDocuments",fl="owner";var _l="mutationQueues";var bl="mutations";var Cl="documentMutations",Em="remoteDocumentsV14";var yl="remoteDocumentGlobal";var vl="targets";var wl="targetDocuments";var Pl="targetGlobal",Ml="collectionParents";var xl="clientMetadata";var Ol="bundles";var Il="namedQueries";var Sm="indexConfiguration";var Tm="indexState";var Am="indexEntries";var El="documentOverlays";var km="globals";var Dm=[_l,bl,Cl,Im,vl,fl,Pl,wl,xl,yl,Ml,Ol,Il],Hp=[...Dm,El],Rm=[_l,bl,Cl,Em,vl,fl,Pl,wl,xl,yl,Ml,Ol,Il,El],Nm=Rm,Vm=[...Nm,Sm,Tm,Am];var Qp=[...Vm,km];var An=class i{constructor(t,o){this.comparator=t,this.root=o||ae.EMPTY}insert(t,o){return new i(this.comparator,this.root.insert(t,o,this.comparator).copy(null,null,ae.BLACK,null,null))}remove(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ae.BLACK,null,null))}get(t){let o=this.root;for(;!o.isEmpty();){let n=this.comparator(t,o.key);if(n===0)return o.value;n<0?o=o.left:n>0&&(o=o.right)}return null}indexOf(t){let o=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(t,n.key);if(r===0)return o+n.left.size;r<0?n=n.left:(o+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((o,n)=>(t(o,n),!1))}toString(){let t=[];return this.inorderTraversal((o,n)=>(t.push(`${o}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new In(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new In(this.root,t,this.comparator,!1)}getReverseIterator(){return new In(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new In(this.root,t,this.comparator,!0)}},In=class{constructor(t,o,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=o?n(t.key,o):1,o&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),o={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},ae=class i{constructor(t,o,n,r,a){this.key=t,this.value=o,this.color=n!=null?n:i.RED,this.left=r!=null?r:i.EMPTY,this.right=a!=null?a:i.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,o,n,r,a){return new i(t!=null?t:this.key,o!=null?o:this.value,n!=null?n:this.color,r!=null?r:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,o,n){let r=this,a=n(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,o,n),null):a===0?r.copy(null,o,null,null,null):r.copy(null,null,null,null,r.right.insert(t,o,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return i.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,o){let n,r=this;if(o(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,o),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),o(t,r.key)===0){if(r.right.isEmpty())return i.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,o))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,o)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Gt(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw Gt(27949);return t+(this.isRed()?0:1)}};ae.EMPTY=null,ae.RED=!0,ae.BLACK=!1;ae.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt(57766)}get value(){throw Gt(16141)}get color(){throw Gt(16727)}get left(){throw Gt(29726)}get right(){throw Gt(36894)}copy(t,o,n,r,a){return this}insert(t,o,n){return new ae(t,o)}remove(t,o){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Jr=class i{constructor(t){this.comparator=t,this.data=new An(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((o,n)=>(t(o),!1))}forEachInRange(t,o){let n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;o(r.key)}}forEachWhile(t,o){let n;for(n=o!==void 0?this.data.getIteratorFrom(o):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){let o=this.data.getIteratorFrom(t);return o.hasNext()?o.getNext().key:null}getIterator(){return new Zr(this.data.getIterator())}getIteratorFrom(t){return new Zr(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let o=this;return o.size<t.size&&(o=t,t=this),t.forEach(n=>{o=o.add(n)}),o}isEqual(t){if(!(t instanceof i)||this.size!==t.size)return!1;let o=this.data.getIterator(),n=t.data.getIterator();for(;o.hasNext();){let r=o.getNext().key,a=n.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(o=>{t.push(o)}),t}toString(){let t=[];return this.forEach(o=>t.push(o)),"SortedSet("+t.toString()+")"}copy(t){let o=new i(this.comparator);return o.data=t,o}},Zr=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var bs=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var De=class i{constructor(t){this.binaryString=t}static fromBase64String(t){let o=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new bs("Invalid base64 string: "+a):a}}(t);return new i(o)}static fromUint8Array(t){let o=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(t);return new i(o)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(o){return btoa(o)}(this.binaryString)}toUint8Array(){return function(o){let n=new Uint8Array(o.length);for(let r=0;r<o.length;r++)n[r]=o.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};De.EMPTY_BYTE_STRING=new De("");var Fm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lm(i){if(qe(!!i,39018),typeof i=="string"){let t=0,o=Fm.exec(i);if(qe(!!o,46558,{timestamp:i}),o[1]){let r=o[1];r=(r+"000000000").substr(0,9),t=Number(r)}let n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Ti(i.seconds),nanos:Ti(i.nanos)}}function Ti(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Um(i){return typeof i=="string"?De.fromBase64String(i):De.fromUint8Array(i)}var rl="(default)",Cs=class i{constructor(t,o){this.projectId=t,this.database=o||rl}static empty(){return new i("","")}get isDefaultDatabase(){return this.database===rl}isEqual(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database}};var Sl="__type__",Bm="__max__";var Tl="__vector__",Al="value";function zm(i){var t,o;return((o=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Sl])===null||o===void 0?void 0:o.stringValue)===Tl}function jm(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Bm}var Yp={mapValue:{fields:{[Sl]:{stringValue:Tl},[Al]:{arrayValue:{}}}}};var ys=class{constructor(t,o=null,n=[],r=[],a=null,l="F",u=null,m=null){this.path=t,this.collectionGroup=o,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Gm(i){return new ys(i)}var Xp=new An(be.comparator);var Jp=new An(be.comparator);var Zp=new An(be.comparator),tf=new Jr(be.comparator);var ef=new Jr(Qt);var ol,K;(K=ol||(ol={}))[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";var nf=new Hr([4294967295,4294967295],0);var to=class{constructor(){}bt(t,o){this.Dt(t,o),o.vt()}Dt(t,o){if("nullValue"in t)this.Ct(o,5);else if("booleanValue"in t)this.Ct(o,10),o.Ft(t.booleanValue?1:0);else if("integerValue"in t)this.Ct(o,15),o.Ft(Ti(t.integerValue));else if("doubleValue"in t){let n=Ti(t.doubleValue);isNaN(n)?this.Ct(o,13):(this.Ct(o,15),Om(n)?o.Ft(0):o.Ft(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Ct(o,20),typeof n=="string"&&(n=Lm(n)),o.Mt(`${n.seconds||""}`),o.Ft(n.nanos||0)}else if("stringValue"in t)this.xt(t.stringValue,o),this.Ot(o);else if("bytesValue"in t)this.Ct(o,30),o.Nt(Um(t.bytesValue)),this.Ot(o);else if("referenceValue"in t)this.Bt(t.referenceValue,o);else if("geoPointValue"in t){let n=t.geoPointValue;this.Ct(o,45),o.Ft(n.latitude||0),o.Ft(n.longitude||0)}else"mapValue"in t?jm(t)?this.Ct(o,Number.MAX_SAFE_INTEGER):zm(t)?this.Lt(t.mapValue,o):(this.kt(t.mapValue,o),this.Ot(o)):"arrayValue"in t?(this.qt(t.arrayValue,o),this.Ot(o)):Gt(19022,{Qt:t})}xt(t,o){this.Ct(o,25),this.$t(t,o)}$t(t,o){o.Mt(t)}kt(t,o){let n=t.fields||{};this.Ct(o,55);for(let r of Object.keys(n))this.xt(r,o),this.Dt(n[r],o)}Lt(t,o){var n,r;let a=t.fields||{};this.Ct(o,53);let l=Al,u=((r=(n=a[l].arrayValue)===null||n===void 0?void 0:n.values)===null||r===void 0?void 0:r.length)||0;this.Ct(o,15),o.Ft(Ti(u)),this.xt(l,o),this.Dt(a[l],o)}qt(t,o){let n=t.values||[];this.Ct(o,50);for(let r of n)this.Dt(r,o)}Bt(t,o){this.Ct(o,37),be.fromName(t).path.forEach(n=>{this.Ct(o,60),this.$t(n,o)})}Ct(t,o){t.Ft(o)}Ot(t){t.Ft(2)}};to.Ut=new to;var rf=new Uint8Array(0);var kl=41943040,se=class i{static withCacheSize(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,o,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=n}};se.DEFAULT_COLLECTION_PERCENTILE=10,se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,se.DEFAULT=new se(kl,se.DEFAULT_COLLECTION_PERCENTILE,se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),se.DISABLED=new se(-1,0,0);var qm=1048576;function cs(){return typeof document<"u"?document:null}var vs=class{constructor(t,o,n=1e3,r=1.5,a=6e4){this.Fi=t,this.timerId=o,this.d_=n,this.E_=r,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();let o=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,o-n);r>0&&Zt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${o} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var ws=class i{constructor(t,o,n,r,a){this.asyncQueue=t,this.timerId=o,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new $e,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,o,n,r,a){let l=Date.now()+n,u=new i(t,o,l,r,a);return u.start(n),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var sl,al;(al=sl||(sl={})).Fa="default",al.Cache="cache";function $m(i){let t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}var cl=new Map;var Km="firestore.googleapis.com",ll=!0,eo=class{constructor(t){var o,n;if(t.host===void 0){if(t.ssl!==void 0)throw new H(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Km,this.ssl=ll}else this.host=t.host,this.ssl=(o=t.ssl)!==null&&o!==void 0?o:ll;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=kl;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qm)throw new H(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Pm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$m((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new H(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new H(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new H(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},Ps=class{constructor(t,o,n,r){this._authCredentials=t,this._appCheckCredentials=o,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eo({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new H(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eo(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new ds;switch(n.type){case"firstParty":return new hs(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new H(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return G(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(o){let n=cl.get(o);n&&(Zt("ComponentProvider","Removing Datastore"),cl.delete(o),n.terminate())}(this),Promise.resolve()}};var Ms=class i{constructor(t,o,n){this.converter=o,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new i(this.firestore,t,this._query)}},Ke=class i{constructor(t,o,n){this.converter=o,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new i(this.firestore,t,this._key)}toJSON(){return{type:i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,o,n){if(Ni(o,i._jsonSchema))return new i(t,n||null,new be(_e.fromString(o.referencePath)))}};Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:pt("string",Ke._jsonSchemaVersion),referencePath:pt("string")};var xs=class i extends Ms{constructor(t,o,n){super(t,o,Gm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new Ke(this.firestore,null,new be(t))}withConverter(t){return new i(this.firestore,t,this._path)}};var dl="AsyncQueue",no=class{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new vs(this,"async_queue_retry"),this.oc=()=>{let n=cs();n&&Zt(dl,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=t;let o=cs();o&&typeof o.addEventListener=="function"&&o.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;let o=cs();o&&typeof o.removeEventListener=="function"&&o.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});let o=new $e;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}cc(){return G(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!xm(t))throw t;Zt(dl,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(t){let o=this._c.then(()=>(this.nc=!0,t().catch(n=>{throw this.tc=n,this.nc=!1,hl("INTERNAL UNHANDLED ERROR: ",ul(n)),n}).then(n=>(this.nc=!1,n))));return this._c=o,o}enqueueAfterDelay(t,o,n){this.ac(),this.sc.indexOf(t)>-1&&(o=0);let r=ws.createAndSchedule(this,t,o,n,a=>this.lc(a));return this.ec.push(r),r}ac(){this.tc&&Gt(47125,{hc:ul(this.tc)})}verifyOperationInProgress(){}Pc(){return G(this,null,function*(){let t;do t=this._c,yield t;while(t!==this._c)})}Tc(t){for(let o of this.ec)if(o.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((o,n)=>o.targetTimeMs-n.targetTimeMs);for(let o of this.ec)if(o.skipDelay(),t!=="all"&&o.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){let o=this.ec.indexOf(t);this.ec.splice(o,1)}};function ul(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}var Os=class extends Ps{constructor(t,o,n,r){super(t,o,n,r),this.type="firestore",this._queue=new no,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return G(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new no(t),this._firestoreClient=void 0,yield t}})}};var Ai=class i{constructor(t){this._byteString=t}static fromBase64String(t){try{return new i(De.fromBase64String(t))}catch(o){throw new H(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(t){return new i(De.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ni(t,i._jsonSchema))return i.fromBase64String(t.bytes)}};Ai._jsonSchemaVersion="firestore/bytes/1.0",Ai._jsonSchema={type:pt("string",Ai._jsonSchemaVersion),bytes:pt("string")};var io=class{constructor(...t){for(let o=0;o<t.length;++o)if(t[o].length===0)throw new H(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var ki=class i{constructor(t,o){if(!isFinite(t)||t<-90||t>90)throw new H(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(o)||o<-180||o>180)throw new H(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=t,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:i._jsonSchemaVersion}}static fromJSON(t){if(Ni(t,i._jsonSchema))return new i(t.latitude,t.longitude)}};ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:pt("string",ki._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};var Di=class i{constructor(t){this._values=(t||[]).map(o=>o)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,r){if(n.length!==r.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==r[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ni(t,i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(o=>typeof o=="number"))return new i(t.vectorValues);throw new H(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:pt("string",Di._jsonSchemaVersion),vectorValues:pt("object")};var Hm=new RegExp("[~\\*/\\[\\]]");function Qm(i,t,o){if(t.search(Hm)>=0)throw ml(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,o);try{return new io(...t.split("."))._internalPath}catch{throw ml(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,o)}}function ml(i,t,o,n,r){let a=n&&!n.isEmpty(),l=r!==void 0,u=`Function ${t}() called with invalid data`;o&&(u+=" (via `toFirestore()`)"),u+=". ";let m="";return(a||l)&&(m+=" (found",a&&(m+=` in field ${n}`),l&&(m+=` in document ${r}`),m+=")"),new H(X.INVALID_ARGUMENT,u+i+m)}var ro=class{constructor(t,o,n,r,a){this._firestore=t,this._userDataWriter=o,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new Is(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let o=this._document.data.field(Dl("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o)}}},Is=class extends ro{data(){return super.data()}};function Dl(i,t){return typeof t=="string"?Qm(i,t):t instanceof io?t._internalPath:t._delegate._internalPath}var En=class{constructor(t,o){this.hasPendingWrites=t,this.fromCache=o}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Sn=class i extends ro{constructor(t,o,n,r,a,l){super(t,o,n,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let o=new Tn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,o={}){if(this._document){let n=this._document.data.field(Dl("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,o.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,o={};return o.type=i._jsonSchemaVersion,o.bundle="",o.bundleSource="DocumentSnapshot",o.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?o:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),o.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),o)}};Sn._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sn._jsonSchema={type:pt("string",Sn._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};var Tn=class extends Sn{data(t={}){return super.data(t)}},Ri=class i{constructor(t,o,n,r){this._firestore=t,this._userDataWriter=o,this._snapshot=r,this.metadata=new En(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let t=[];return this.forEach(o=>t.push(o)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,o){this._snapshot.docs.forEach(n=>{t.call(o,new Tn(this._firestore,this._userDataWriter,n.key,n,new En(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let o=!!t.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new H(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>{let m=new Tn(r._firestore,r._userDataWriter,u.doc.key,u.doc,new En(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:m,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{let m=new Tn(r._firestore,r._userDataWriter,u.doc.key,u.doc,new En(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),_=-1,x=-1;return u.type!==0&&(_=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),x=l.indexOf(u.doc.key)),{type:Wm(u.type),doc:m,oldIndex:_,newIndex:x}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=i._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ps.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let o=[],n=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(o.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function Wm(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt(61501,{type:i})}}Ri._jsonSchemaVersion="firestore/querySnapshot/1.0",Ri._jsonSchema={type:pt("string",Ri._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};(function(t,o=!0){(function(r){oo=r})(Vc),di(new Ee("firestore",(n,{instanceIdentifier:r,options:a})=>{let l=n.getProvider("app").getImmediate(),u=new Os(new us(n.getProvider("auth-internal")),new gs(l,n.getProvider("app-check-internal")),function(_,x){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new H(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cs(_.options.projectId,x)}(l,r),l);return a=Object.assign({useFetchStreams:o},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),pn(Jc,Zc,t),pn(Jc,Zc,"esm2017")})();function Ym(i,t){i&1&&dt(0,"mat-spinner",21)}function Xm(i,t){i&1&&(f(0,"p",16),M(1,"Email is required"),b())}function Jm(i,t){i&1&&(f(0,"p",16),M(1,"Please enter a valid email address"),b())}function Zm(i,t){i&1&&(f(0,"p",16),M(1,"This person is already a member of the group"),b())}function th(i,t){if(i&1&&(f(0,"p",22),M(1),b()),i&2){let o=F();Xt("user-found",o.userExists)("user-not-found",!o.userExists&&!o.checkingUser),I(),$(" ",o.getUserStatusText()," ")}}function eh(i,t){if(i&1&&dt(0,"img",31),i&2){let o=F().$implicit;D("src",o.photoURL,or)("alt",o.displayName)}}function nh(i,t){i&1&&(f(0,"mat-icon"),M(1,"person"),b())}function ih(i,t){if(i&1){let o=gt();f(0,"div",23)(1,"div",24),j(2,eh,1,2,"img",25)(3,nh,2,0,"mat-icon",26),b(),f(4,"div",27)(5,"span",28),M(6),b(),f(7,"span",29),M(8),b()(),f(9,"button",30),z("click",function(){let r=tt(o).$implicit,a=F();return et(a.onDeleteMember(r.userId))}),f(10,"mat-icon"),M(11,"delete"),b()()()}if(i&2){let o=t.$implicit;I(2),D("ngIf",o.photoURL),I(),D("ngIf",!o.photoURL),I(3),rt(o.displayName),I(2),rt(o.email)}}var kn=(()=>{let t=class t{constructor(n,r,a,l,u,m){this.fb=n,this.dialogRef=r,this.data=a,this.auth=l,this.userService=u,this.dialog=m,this.isSubmitting=!1,this.userExists=!1,this.checkingUser=!1,this.group=a.group,this.memberForm=this.fb.group({email:["",[xe.required,xe.email]]})}ngOnInit(){setTimeout(()=>{let n=document.querySelector('input[formControlName="email"]');n&&n.focus()},100)}onEmailChange(){return G(this,null,function*(){var r,a,l;let n=(r=this.memberForm.get("email"))==null?void 0:r.value;if(n&&this.isEmailAlreadyMember(n)){(a=this.memberForm.get("email"))==null||a.setErrors({alreadyMember:!0}),this.userExists=!1;return}if(n&&((l=this.memberForm.get("email"))!=null&&l.valid)){this.checkingUser=!0;try{let u=yield this.userService.findUserByEmail(n);this.userExists=!!u}catch(u){console.error("Error checking user:",u),this.userExists=!1}finally{this.checkingUser=!1}}else this.userExists=!1})}onSubmit(){return G(this,null,function*(){if(this.memberForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let r={email:this.memberForm.value.email.trim().toLowerCase(),role:Ge.MEMBER};this.dialogRef.close(r)}catch(n){console.error("Error adding member:",n)}finally{this.isSubmitting=!1}}else this.memberForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(n){let r=this.memberForm.get(n);return r!=null&&r.hasError("required")?`${n.charAt(0).toUpperCase()+n.slice(1)} is required`:r!=null&&r.hasError("email")?"Please enter a valid email address":r!=null&&r.hasError("alreadyMember")?"This user is already a member of this group":""}isEmailAlreadyMember(n){return this.group.members.some(r=>r.email.toLowerCase()===n.toLowerCase())}getRoleDisplayName(n){return{admin:"Admin",member:"Member"}[n]||n}getUserStatusText(){var r,a;return this.checkingUser?"Checking if user exists...":this.userExists?"\u2713 User found in system - invitation will be sent immediately":((r=this.memberForm.get("email"))==null?void 0:r.value)&&((a=this.memberForm.get("email"))!=null&&a.valid)?"\u2139 User not found - invitation will be sent when they register":""}onDeleteMember(n){this.dialog.open(Ue,{data:{title:"Delete Member",message:"Are you sure you want to delete this member? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(r=>{r&&this.dialogRef.close({action:"delete",userId:n})})}};t.\u0275fac=function(r){return new(r||t)(T(br),T(wr),T(pc),T(Mt),T(cn),T(re))},t.\u0275cmp=ht({type:t,selectors:[["app-add-member-dialog"]],decls:36,vars:10,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Add Member",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"member-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","email","formControlName","email","placeholder","Enter member's email address","autofocus","",1,"form-input",3,"input"],[1,"field-footer"],[1,"error-message"],[1,"status-message",3,"user-found","user-not-found"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"bottom-spacing"],["diameter","16"],[1,"status-message"],[1,"member-item"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],["mat-icon-button","",3,"click"],[3,"src","alt"]],template:function(r,a){if(r&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),z("click",function(){return a.onCancel()}),f(4,"mat-icon"),M(5,"arrow_back"),b()(),f(6,"h6",4),M(7," Add Member "),b()(),f(8,"button",5),z("click",function(){return a.onCancel()}),f(9,"mat-icon"),M(10,"close"),b()(),f(11,"button",6),z("click",function(){return a.onSubmit()}),j(12,Ym,1,0,"mat-spinner",7),M(13),b()()(),f(14,"div",8)(15,"div",9)(16,"form",10),z("ngSubmit",function(){return a.onSubmit()}),f(17,"div",11)(18,"label",12)(19,"mat-icon",13),M(20,"email"),b(),M(21," Email Address * "),b(),f(22,"input",14),z("input",function(){return a.onEmailChange()}),b(),f(23,"div",15),j(24,Xm,2,0,"p",16)(25,Jm,2,0,"p",16)(26,Zm,2,0,"p",16)(27,th,2,5,"p",17),b()(),f(28,"div",11)(29,"label",12)(30,"mat-icon",13),M(31,"people"),b(),M(32),b(),f(33,"div",18),j(34,ih,12,4,"div",19),b()(),dt(35,"div",20),b()()()),r&2){let l,u,m;I(11),D("disabled",a.memberForm.invalid||a.isSubmitting),I(),D("ngIf",a.isSubmitting),I(),$(" ",a.isSubmitting?"Adding...":"Add"," "),I(3),D("formGroup",a.memberForm),I(8),Et((l=a.memberForm.get("email"))!=null&&l.hasError("required")&&((l=a.memberForm.get("email"))!=null&&l.touched)?24:-1),I(),Et((u=a.memberForm.get("email"))!=null&&u.hasError("email")&&((u=a.memberForm.get("email"))!=null&&u.touched)?25:-1),I(),Et((m=a.memberForm.get("email"))!=null&&m.hasError("alreadyMember")&&((m=a.memberForm.get("email"))!=null&&m.touched)?26:-1),I(),Et(a.getUserStatusText()?27:-1),I(5),$(" Current Members (",a.group.members.length,") "),I(2),D("ngForOf",a.group.members)}},dependencies:[rn,Vt,pr,mr,hr,gr,fr,_r,Ht,ie,Ut,Ie,Pr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.75rem;margin:.25rem 0 0;display:flex;align-items:center;gap:.25rem;padding:.5rem;border-radius:6px;font-weight:500}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#059669;background-color:#d1fae5;border:1px solid #a7f3d0}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#6ee7b7;background-color:#064e3b;border-color:#047857}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#d97706;background-color:#fef3c7;border:1px solid #fde68a}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#fbbf24;background-color:#451a03;border-color:#92400e}.members-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;border:1px solid #e5e7eb;border-radius:8px;background:#f9fafb}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]{max-height:250px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]{max-height:200px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;border-bottom:1px solid #e5e7eb;background:#fff}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.75rem;gap:.5rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.625rem;gap:.375rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center;overflow:hidden;flex-shrink:0}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:36px;height:36px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:32px;height:32px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{background:#374151}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:20px;width:20px;height:20px}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#374151;font-weight:500;font-size:.875rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#f3f4f6}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.65rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#9ca3af}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem;height:24px;font-weight:500}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.7rem;height:22px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.65rem;height:20px}}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let i=t;return i})();function sh(i,t){if(i&1){let o=gt();f(0,"button",15),z("click",function(r){tt(o);let a=F();return et(a.onDeleteGroup(r))}),f(1,"mat-icon"),M(2,"delete"),b(),f(3,"span"),M(4,"Delete Group"),b()()}}var Vl=(()=>{let t=class t{constructor(n,r,a){this.router=n,this.auth=r,this.dialog=a,this.isSelected=!1,this.isMobile=!1,this.groupSelected=new Nt,this.addMember=new Nt,this.deleteGroup=new Nt}onGroupClick(){this.router.navigate(["dashboard/splitwise/group",this.group.id])}openAddMemberDialog(n){n.stopPropagation(),this.dialog.open(kn,{width:this.isMobile?"90vw":"400px",maxWidth:this.isMobile?"400px":"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(a=>{a&&this.addMember.emit({groupId:this.group.id,request:a})})}onDeleteGroup(n){n.stopPropagation(),this.deleteGroup.emit(this.group)}getGroupMemberCount(){return this.group.members.filter(n=>n.isActive).length}getCurrentUserRole(){let n=this.auth.currentUser;if(!n)return"";let r=this.group.members.find(a=>a.userId===n.uid);return(r==null?void 0:r.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}formatDate(n){return n?(n.toDate?n.toDate():new Date(n)).toLocaleDateString():""}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}};t.\u0275fac=function(r){return new(r||t)(T(on),T(Mt),T(re))},t.\u0275cmp=ht({type:t,selectors:[["app-group"]],inputs:{group:"group",isSelected:"isSelected",isMobile:"isMobile"},outputs:{groupSelected:"groupSelected",addMember:"addMember",deleteGroup:"deleteGroup"},decls:28,vars:12,consts:[["groupMenu","matMenu"],[1,"group-item",3,"click"],[1,"group-info"],[1,"group-header"],[1,"group-title-section"],[1,"group-name"],[1,"group-meta"],[1,"member-count"],[1,"member-text"],[1,"created-date"],[1,"group-actions"],["mat-icon-button","",1,"menu-trigger",3,"click","matMenuTriggerFor"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"]],template:function(r,a){if(r&1){let l=gt();f(0,"div",1),z("click",function(){return tt(l),et(a.onGroupClick())}),f(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),M(5),tn(6,"titlecase"),b(),f(7,"div",6)(8,"span",7)(9,"mat-icon"),M(10,"people"),b(),f(11,"span",8),M(12),b()(),f(13,"span",9),M(14),b()()()()(),f(15,"div",10)(16,"button",11),z("click",function(m){return tt(l),et(m.stopPropagation())}),f(17,"mat-icon"),M(18,"more_vert"),b()(),f(19,"mat-menu",12,0)(21,"button",13),z("click",function(m){return tt(l),et(a.openAddMemberDialog(m))}),f(22,"mat-icon"),M(23,"person_add"),b(),f(24,"span"),M(25,"Add Member"),b()(),dt(26,"mat-divider"),j(27,sh,5,0,"button",14),b()()()}if(r&2){let l=ei(20);Xt("selected",a.isSelected)("mobile",a.isMobile),I(5),rt(en(6,10,a.group.name)),I(7),$("",a.getGroupMemberCount()," members"),I(2),$("Created ",a.formatDate(a.group.createdAt),""),I(2),D("matMenuTriggerFor",l),Xe("aria-label","More options for "+a.group.name),I(11),D("ngIf",a.canManageGroup())}},dependencies:[Vt,Er,ie,Ut,xr,Mr,Or,lr],styles:[".group-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:16px;border:1px solid #e0e0e0;border-radius:12px;margin-bottom:12px;cursor:pointer;transition:all .2s ease;background:#fff;position:relative;min-height:80px}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;box-shadow:0 4px 12px #1976d226;transform:translateY(-1px)}.group-item.selected[_ngcontent-%COMP%]{border-color:#1976d2;background:#f3f8ff;box-shadow:0 4px 12px #1976d233}.group-item.mobile[_ngcontent-%COMP%]{padding:12px;min-height:70px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{flex:1;min-width:0;margin-right:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.1rem;font-weight:600;color:#333;line-height:1.3;word-break:break-word}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.8rem;color:#666;font-weight:500}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#1976d2}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   .member-text[_ngcontent-%COMP%]{white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.75rem;color:#999;white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:flex-start}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d20a}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#f443360a}@media (max-width: 768px){.group-item[_ngcontent-%COMP%]{padding:12px;margin-bottom:8px;min-height:70px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{margin-right:8px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px;flex-direction:row;align-items:center}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 480px){.group-item[_ngcontent-%COMP%]{padding:10px;min-height:65px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:4px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.65rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:28px;height:28px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}@media (prefers-color-scheme: dark){.group-item[_ngcontent-%COMP%]{background:#2d2d2d;border-color:#404040;color:#e0e0e0}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;background:#3a3a3a}.group-item.selected[_ngcontent-%COMP%]{background:#1a3a5f;border-color:#1976d2}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{color:#e0e0e0}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{color:#b0b0b0}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{color:#888}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{color:#b0b0b0}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d21a}}"]});let i=t;return i})();var Ul=(i,t)=>t.id;function ch(i,t){if(i&1){let o=gt();f(0,"div",17)(1,"div",18)(2,"div",19)(3,"h4"),M(4),b(),f(5,"p"),M(6),b(),f(7,"small"),M(8),b()(),f(9,"div",20)(10,"button",21),z("click",function(){let r=tt(o).$implicit,a=F(2);return et(a.acceptInvitation(r))}),f(11,"mat-icon"),M(12,"check"),b(),M(13," Accept "),b(),f(14,"button",22),z("click",function(){let r=tt(o).$implicit,a=F(2);return et(a.declineInvitation(r))}),f(15,"mat-icon"),M(16,"close"),b(),M(17," Decline "),b()()()()}if(i&2){let o=t.$implicit,n=F(2);I(4),rt(o.groupName),I(2),$("Invited by ",o.invitedByDisplayName,""),I(2),rt(n.formatDate(o.createdAt))}}function lh(i,t){if(i&1&&(f(0,"div",14)(1,"mat-card",15)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),M(5,"mail"),b(),M(6," Pending Invitations "),b()(),f(7,"mat-card-content")(8,"div",16),Uo(9,ch,18,3,"div",17,Ul),b()()()()),i&2){let o=F();I(9),Bo(o.invitations)}}function dh(i,t){if(i&1){let o=gt();f(0,"app-group",23),z("addMember",function(r){tt(o);let a=F();return et(a.handleAddMember(r))})("deleteGroup",function(r){tt(o);let a=F();return et(a.deleteGroup(r))}),b()}if(i&2){let o=t.$implicit,n=F();D("group",o)("isSelected",!1)("isMobile",n.isMobile)}}var Bl=(()=>{let t=class t{constructor(n,r,a,l,u){this.breakpointObserver=n,this.auth=r,this.store=a,this.dialog=l,this.notificationService=u,this.groups=[],this.invitations=[],this.isMobile=!1,this.currentUser=null,this.error=null,this.destroy$=new Yt,this.breakpointObserver.observe([an.Handset]).pipe(me(this.destroy$)).subscribe(m=>{this.isMobile=m.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.loadData(),this.subscribeToStore()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(xn).pipe(me(this.destroy$)).subscribe(n=>{this.groups=n.groups,this.invitations=n.invitations,this.error=n.error,this.error&&(this.notificationService.error(this.error),this.store.dispatch(Ae()))})}loadData(){this.store.dispatch(Cn()),this.store.dispatch(yn())}openCreateGroupDialog(){this.dialog.open(Uc,{width:this.isMobile?"90vw":"500px",maxWidth:this.isMobile?"500px":"90vw",disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(r=>{r&&this.store.dispatch(vn({request:r}))})}handleAddMember(n){this.store.dispatch(oe(n))}acceptInvitation(n){this.store.dispatch(wn({invitationId:n.id}))}declineInvitation(n){this.store.dispatch(Pn({invitationId:n.id}))}deleteGroup(n){this.dialog.open(Ue,{width:"300px",data:{title:"Delete Group",message:'Are you sure you want to delete the group "${group.name}"?',confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(r=>{r&&this.store.dispatch(Se({groupId:n.id}))})}formatDate(n){return n?(n.toDate?n.toDate():new Date(n)).toLocaleDateString():""}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}};t.\u0275fac=function(r){return new(r||t)(T(sn),T(Mt),T(Ft),T(re),T(Oe))},t.\u0275cmp=ht({type:t,selectors:[["app-splitwise"]],decls:21,vars:1,consts:[[1,"splitwise-container"],[1,"header"],[1,"header-content"],[1,"title-section"],[1,"title-icon"],[1,"title"],[1,"subtitle"],[1,"header-actions"],["mat-raised-button","","color","primary",1,"create-group-btn",3,"click"],[1,"main-content"],["class","invitations-section",4,"ngIf"],[1,"groups-section"],[1,"groups-list"],[3,"group","isSelected","isMobile"],[1,"invitations-section"],[1,"invitations-card"],[1,"invitations-list"],[1,"invitation-item"],[1,"invitation-info"],[1,"invitation-details"],[1,"invitation-actions"],["mat-button","","color","primary",1,"accept-btn",3,"click"],["mat-button","","color","warn",1,"decline-btn",3,"click"],[3,"addMember","deleteGroup","group","isSelected","isMobile"]],template:function(r,a){r&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),M(5,"group"),b(),f(6,"h1",5),M(7,"Splitwise"),b(),f(8,"p",6),M(9,"Split expenses with friends and family"),b()(),f(10,"div",7)(11,"button",8),z("click",function(){return a.openCreateGroupDialog()}),f(12,"mat-icon"),M(13,"add"),b(),M(14," Create Group "),b()()()(),f(15,"div",9),j(16,lh,11,0,"div",10),f(17,"div",11)(18,"div",12),Uo(19,dh,1,3,"app-group",13,Ul),b()()()()),r&2&&(I(16),D("ngIf",a.invitations.length>0),I(3),Bo(a.groups))},dependencies:[Vt,ln,un,mn,dn,Ht,Ut,Vl],styles:[".splitwise-container[_ngcontent-%COMP%]{background:#f9fafb;padding:20px}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}}.header[_ngcontent-%COMP%]{margin-bottom:30px}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));padding:1rem;border-radius:1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#fff}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:2.5rem;font-weight:700}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffffe6;margin:0;font-size:1.1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem}}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;font-weight:600;padding:12px 24px;border-radius:25px;transition:all .3s ease}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;border-color:#ffffff80;transform:translateY(-2px)}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;color:#fff}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.1rem}.main-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.invitations-section[_ngcontent-%COMP%]{margin-bottom:30px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]{padding:15px 0;border-bottom:1px solid #eee}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media (max-width: 768px){.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 5px;color:#666}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#999;font-size:.85rem}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background:#45a049}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]:hover{background:#da190b}.groups-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:30px}@media (max-width: 1024px){.groups-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fffffff2;border-radius:15px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#ccc;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin:0 0 10px;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 30px;font-size:1.1rem}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:12px 24px;border-radius:25px;font-weight:600}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#333;font-weight:600;font-size:1.3rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:30px}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{flex-direction:column}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]{border-color:#667eea;color:#667eea;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;margin:0 0 20px;font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid #eee}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#999;font-size:1.5rem;width:1.5rem;height:1.5rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#333;font-weight:500;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{color:#999;font-size:.8rem;text-transform:capitalize}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]{margin-bottom:20px}.groups-section[_ngcontent-%COMP%]{gap:15px}.details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 480px){.splitwise-container[_ngcontent-%COMP%]{padding:8px}.header[_ngcontent-%COMP%]{margin-bottom:15px}.groups-section[_ngcontent-%COMP%]{gap:10px}}"]});let i=t;return i})();var zl=(()=>{let t=class t{constructor(){}toDate(n){try{if(!n)return null;if(n instanceof Date)return n;if(n instanceof Ct)return n.toDate();if(n&&typeof n=="object"&&"seconds"in n)return new Ct(n.seconds,n.nanoseconds).toDate();if(typeof n=="number")return new Date(n);if(typeof n=="string"){let r=new Date(n);return isNaN(r.getTime())?null:r}return n&&typeof n.toDate=="function"?n.toDate():null}catch(r){return console.error("Error converting timestamp to date:",r,n),null}}toTimestamp(n){try{if(!n)return null;if(n instanceof Ct)return n;if(n instanceof Date)return Ct.fromDate(n);if(typeof n=="number")return Ct.fromDate(new Date(n));if(typeof n=="string"){let r=new Date(n);if(!isNaN(r.getTime()))return Ct.fromDate(r)}return n&&typeof n.toDate=="function"?Ct.fromDate(n.toDate()):null}catch(r){return console.error("Error converting date to timestamp:",r,n),null}}fromFormDate(n){try{if(!n)return null;let r=new Date(n);return isNaN(r.getTime())?null:Ct.fromDate(r)}catch(r){return console.error("Error converting form date to timestamp:",r,n),null}}now(){return Ct.fromDate(new Date)}compare(n,r){let a=this.toDate(n),l=this.toDate(r);return!a&&!l?0:a?l?a.getTime()-l.getTime():1:-1}sortByDate(n,r,a=!1){return[...n].sort((l,u)=>{let m=this.toDate(l[r]),_=this.toDate(u[r]);if(!m&&!_)return 0;if(!m)return a?-1:1;if(!_)return a?1:-1;let x=m.getTime()-_.getTime();return a?x:-x})}filterByDateRange(n,r,a,l){let u=this.toDate(a),m=this.toDate(l);return!u&&!m?n:n.filter(_=>{let x=this.toDate(_[r]);return x?u&&m?x>=u&&x<=m:u?x>=u:m?x<=m:!0:!1})}isValidDate(n){let r=this.toDate(n);return r!==null&&!isNaN(r.getTime())}formatDate(n,r="MM/DD/YYYY"){let a=this.toDate(n);if(!a)return"Invalid Date";let l=a.getDate().toString().padStart(2,"0"),u=(a.getMonth()+1).toString().padStart(2,"0"),m=a.getFullYear();return r.replace("MM",u).replace("DD",l).replace("YYYY",m.toString())}toISOString(n){let r=this.toDate(n);return r?r.toISOString().split("T")[0]:""}getRelativeTime(n){let r=this.toDate(n);if(!r)return"Unknown";let l=Math.floor((new Date().getTime()-r.getTime())/1e3);if(l<60)return"Just now";if(l<3600){let u=Math.floor(l/60);return`${u} minute${u>1?"s":""} ago`}else if(l<86400){let u=Math.floor(l/3600);return`${u} hour${u>1?"s":""} ago`}else if(l<2592e3){let u=Math.floor(l/86400);return`${u} day${u>1?"s":""} ago`}else return this.formatDate(r)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var Dn=(()=>{let t=class t{constructor(n,r,a,l,u){this.firestore=n,this.auth=r,this.notificationService=a,this.dateService=l,this.userService=u}getUserGroups(n){let r=this.auth.currentUser;if(!(r!=null&&r.email))return q([]);let a=Lt(this.firestore,"splitwise-groups"),l=ne(a,jt("isActive","==",!0),si("createdAt","desc"));return W(ee(l)).pipe(J(u=>u.docs.map(m=>S({id:m.id},m.data())).filter(m=>m.members.some(_=>{var x;return _.email.toLowerCase()===((x=r.email)==null?void 0:x.toLowerCase())&&_.isActive}))),mt(u=>(console.error("Error fetching user groups:",u),q([]))))}getGroupById(n){return _t(ct(this.firestore,"splitwise-groups",n)).then(r=>r.exists()?S({id:r.id},r.data()):null)}createGroup(n,r){let a=this.auth.currentUser;if(!a)throw new Error("User not authenticated");let l={name:n.name,description:n.description||"",createdBy:r,members:[{userId:a.uid,email:a.email||"",displayName:a.displayName||a.email||"",photoURL:a.photoURL||"",role:Ge.ADMIN,joinedAt:new Date,isActive:!0}],currency:n.currency||"USD",createdAt:new Date,updatedAt:new Date,isActive:!0,syncStatus:Ko.SYNCED},u=Lt(this.firestore,"splitwise-groups");return W(oi(u,l)).pipe(J(m=>S({id:m.id},l)))}deleteGroup(n,r){let a=ct(this.firestore,"splitwise-groups",n);return W(Kt(a,{isActive:!1,updatedAt:new Date}))}getUserInvitations(n){let r=this.auth.currentUser;if(!(r!=null&&r.email))return q([]);let a=Lt(this.firestore,"splitwise-invitations"),l=ne(a,jt("invitedEmail","==",r.email),jt("status","==","pending"),si("createdAt","desc"));return W(ee(l)).pipe(J(u=>u.docs.map(m=>S({id:m.id},m.data()))),J(u=>u.filter(m=>!this.isInvitationExpired(m))),mt(u=>(console.error("Error fetching invitations:",u),q([]))))}isInvitationExpired(n){let r;return n.expiresAt instanceof Ct?r=n.expiresAt.toDate():n.expiresAt instanceof Date?r=n.expiresAt:r=new Date(n.expiresAt),r<new Date}markExpiredInvitations(n){return G(this,null,function*(){try{let r=this.auth.currentUser;if(!(r!=null&&r.email))return;let a=Lt(this.firestore,"splitwise-invitations"),l=ne(a,jt("invitedEmail","==",r.email),jt("status","==","pending")),u=yield ee(l),m=ic(this.firestore),_=!1;u.docs.forEach(x=>{let R=x.data();this.isInvitationExpired(R)&&(m.update(x.ref,{status:On.EXPIRED,updatedAt:new Date}),_=!0)}),_&&(yield m.commit())}catch(r){console.error("Error marking expired invitations:",r)}})}acceptInvitation(n,r){return G(this,null,function*(){try{let a=this.auth.currentUser;if(!a)throw new Error("User not authenticated");let l=ct(this.firestore,"splitwise-invitations",n),u=yield _t(l);if(!u.exists())throw new Error("Invitation not found");let m=u.data();yield Kt(l,{status:On.ACCEPTED,updatedAt:new Date});let _=ct(this.firestore,"splitwise-groups",m.groupId),x=yield _t(_);if(!x.exists())throw new Error("Group not found");let A=x.data().members.map(k=>{var N;return k.email.toLowerCase()===m.invitedEmail.toLowerCase()?V(S({},k),{userId:a.uid,displayName:a.displayName||((N=a.email)==null?void 0:N.split("@")[0])||k.displayName,photoURL:a.photoURL||k.photoURL,isActive:!0}):k});yield Kt(_,{members:A,updatedAt:new Date}),this.notificationService.success(`Successfully joined ${m.groupName}!`)}catch(a){throw console.error("Error accepting invitation:",a),this.notificationService.error("Failed to accept invitation"),a}})}declineInvitation(n,r){return G(this,null,function*(){try{if(!this.auth.currentUser)throw new Error("User not authenticated");let l=ct(this.firestore,"splitwise-invitations",n),u=yield _t(l);if(!u.exists())throw new Error("Invitation not found");let m=u.data();yield Kt(l,{status:On.DECLINED,updatedAt:new Date});let _=ct(this.firestore,"splitwise-groups",m.groupId),x=yield _t(_);if(x.exists()){let A=x.data().members.filter(k=>k.email.toLowerCase()!==m.invitedEmail.toLowerCase());yield Kt(_,{members:A,updatedAt:new Date})}this.notificationService.success(`Invitation to ${m.groupName} declined`)}catch(a){throw console.error("Error declining invitation:",a),this.notificationService.error("Failed to decline invitation"),a}})}addMemberToGroup(n,r,a){return G(this,null,function*(){var l;try{if(!this.auth.currentUser)throw new Error("User not authenticated");let m=ct(this.firestore,"splitwise-groups",n),_=yield _t(m);if(!_.exists())throw new Error("Group not found");let x=_.data();if(x.members.find(k=>k.email.toLowerCase()===r.email.toLowerCase()))throw new Error("User is already a member of this group");let A=yield this.userService.findUserByEmail(r.email);if(A){yield this.sendGroupInvitation(n,r.email,a);let k={userId:A.uid,email:r.email,displayName:A.firstName||((l=A.email)==null?void 0:l.split("@")[0])||r.email.split("@")[0],photoURL:A.photoURL||"",role:r.role||Ge.MEMBER,joinedAt:new Date,isActive:!1},N=[...x.members,k];return yield Kt(m,{members:N,updatedAt:new Date}),this.notificationService.success(`Invitation sent to ${r.email}`),V(S({id:n},x),{members:N,updatedAt:new Date})}else{let k={userId:"",email:r.email,displayName:r.email.split("@")[0],role:r.role||Ge.MEMBER,joinedAt:new Date,isActive:!1},N=[...x.members,k];return yield Kt(m,{members:N,updatedAt:new Date}),yield this.sendGroupInvitation(n,r.email,a),this.notificationService.success(`Invitation sent to ${r.email}. They will be added when they register and accept.`),V(S({id:n},x),{members:N,updatedAt:new Date})}}catch(u){throw console.error("Error adding member to group:",u),this.notificationService.error(u instanceof Error?u.message:"Failed to add member"),u}})}getGroupTransactions(n,r){let a=Lt(this.firestore,"splitwise-transactions"),l=ne(a,jt("groupId","==",n),si("createdAt","desc"));return W(ee(l)).pipe(J(u=>u.docs.map(m=>S({id:m.id},m.data()))),mt(u=>(console.error("Error fetching group transactions:",u),q([]))))}getGroupSettlements(n,r){let a=Lt(this.firestore,"splitwise-settlements"),l=ne(a,jt("groupId","==",n),si("createdAt","desc"));return W(ee(l)).pipe(J(u=>u.docs.map(m=>S({id:m.id},m.data()))),mt(u=>(console.error("Error fetching group settlements:",u),q([]))))}createSplitTransaction(n,r){if(!this.auth.currentUser)throw new Error("User not authenticated");let l={groupId:n.groupId,originalTransactionId:n.originalTransactionId,amount:n.amount,createdBy:r,splits:n.splits.map(m=>V(S({},m),{email:"",displayName:""})),totalAmount:n.amount,currency:"USD",createdAt:new Date,updatedAt:new Date,syncStatus:Ko.SYNCED},u=Lt(this.firestore,"splitwise-transactions");return W(oi(u,l)).pipe(J(m=>S({id:m.id},l)))}getGroup(n){return W(_t(ct(this.firestore,"splitwise-groups",n))).pipe(J(r=>r.exists()?S({id:r.id},r.data()):null))}updateGroup(n,r){return G(this,null,function*(){var a;try{if(!((a=this.auth.currentUser)==null?void 0:a.uid))throw new Error("User not authenticated");let u={updatedAt:new Date};r.name&&(u.name=r.name),r.description!==void 0&&(u.description=r.description),r.currency&&(u.currency=r.currency),yield Kt(ct(this.firestore,"splitwise-groups",n),u),this.notificationService.success("Group updated successfully")}catch(l){throw console.error("Error updating group:",l),this.notificationService.error("Failed to update group"),l}})}removeMemberFromGroup(n,r,a){return G(this,null,function*(){try{if(!a)throw new Error("User not authenticated");let l=ct(this.firestore,"splitwise-groups",n),u=yield _t(l);if(!u.exists())throw new Error("Group not found");let _=u.data().members.filter(x=>x.userId!==r);yield Kt(l,{members:_,updatedAt:new Date}),this.notificationService.success("Member removed successfully")}catch(l){throw console.error("Error removing member:",l),this.notificationService.error("Failed to remove member"),l}})}getSplitTransaction(n){return W(_t(ct(this.firestore,"splitwise-transactions",n))).pipe(J(r=>r.exists()?S({id:r.id},r.data()):null))}updateSplitTransaction(n,r){return G(this,null,function*(){var a;try{if(!((a=this.auth.currentUser)==null?void 0:a.uid))throw new Error("User not authenticated");let u={updatedAt:new Date};if(r.payee&&(u.payee=r.payee),r.amount&&(u.amount=r.amount),r.type&&(u.type=r.type),r.date&&(u.date=this.dateService.toTimestamp(r.date)),r.notes!==void 0&&(u.notes=r.notes),r.categoryId&&(u.categoryId=r.categoryId),r.category&&(u.category=r.category),r.splits){let m=yield _t(ct(this.firestore,"splitwise-transactions",n));if(!m.exists())throw new Error("Transaction not found");let _=m.data(),R=(yield _t(ct(this.firestore,"splitwise-groups",_.groupId))).data(),A=r.splits.map(k=>{let N=R.members.find(lt=>lt.userId===k.userId);return V(S({},k),{email:(N==null?void 0:N.email)||"",displayName:(N==null?void 0:N.displayName)||"",isPaid:k.isPaid!==void 0?k.isPaid:!1})});u.splits=A,r.amount&&(u.totalAmount=r.amount),r.amount&&r.amount!==_.totalAmount&&(yield this.updateMemberBalances(_.groupId,A))}yield Kt(ct(this.firestore,"splitwise-transactions",n),u),this.notificationService.success("Split transaction updated successfully")}catch(l){throw console.error("Error updating split transaction:",l),this.notificationService.error("Failed to update split transaction"),l}})}deleteSplitTransaction(n){return G(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");let l=yield _t(ct(this.firestore,"splitwise-transactions",n));if(!l.exists())throw new Error("Transaction not found");let u=l.data(),m=u.splits.map(_=>V(S({},_),{amount:-_.amount}));yield this.updateMemberBalances(u.groupId,m),yield $o(ct(this.firestore,"splitwise-transactions",n)),this.notificationService.success("Split transaction deleted successfully")}catch(a){throw console.error("Error deleting split transaction:",a),this.notificationService.error("Failed to delete split transaction"),a}})}createSettlement(n){return G(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");let l=yield _t(ct(this.firestore,"splitwise-groups",n.groupId));if(!l.exists())throw new Error("Group not found");let u=l.data(),m={groupId:n.groupId,fromUserId:n.fromUserId,toUserId:n.toUserId,amount:n.amount,currency:u.currency||"USD",status:Si.PENDING,notes:n.notes||"",createdAt:new Date,updatedAt:new Date};return(yield oi(Lt(this.firestore,"splitwise-settlements"),m)).id}catch(a){throw console.error("Error creating settlement:",a),a}})}completeSettlement(n){return G(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");yield Kt(ct(this.firestore,"splitwise-settlements",n),{status:Si.COMPLETED,settledAt:new Date,updatedAt:new Date});let u=(yield _t(ct(this.firestore,"splitwise-settlements",n))).data()}catch(a){throw console.error("Error completing settlement:",a),a}})}sendGroupInvitation(n,r,a){return G(this,null,function*(){try{let l=this.auth.currentUser;if(!l)throw new Error("User not authenticated");let m=(yield _t(ct(this.firestore,"splitwise-groups",n))).data(),_={groupId:n,groupName:m.name,invitedBy:a,invitedByEmail:l.email||"",invitedByDisplayName:l.displayName||"",invitedEmail:r,status:On.PENDING,expiresAt:new Date(Date.now()+7*24*60*60*1e3),createdAt:new Date,updatedAt:new Date};yield oi(Lt(this.firestore,"splitwise-invitations"),_)}catch(l){throw console.error("Error sending invitation:",l),l}})}updateMemberBalances(n,r){return G(this,null,function*(){console.warn("updateMemberBalances is deprecated. Use getMemberBalances() instead.")})}getGroupSummary(n){return G(this,null,function*(){var x;if(!((x=this.auth.currentUser)==null?void 0:x.uid))throw new Error("User not authenticated");let[a,l]=yield Promise.all([ee(ne(Lt(this.firestore,"splitwise-transactions"),jt("groupId","==",n))),ee(ne(Lt(this.firestore,"splitwise-settlements"),jt("groupId","==",n),jt("status","==",Si.PENDING)))]),m=(yield _t(ct(this.firestore,"splitwise-groups",n))).data(),_=a.docs.reduce((R,A)=>{let k=A.data();return R+k.amount},0);return{groupId:n,totalTransactions:a.docs.length,totalAmount:_,averageAmount:a.docs.length>0?_/a.docs.length:0,memberCount:m.members.length,activeMemberCount:m.members.filter(R=>R.isActive).length,pendingSettlements:l.docs.length,lastActivity:new Date}})}getMemberBalances(n){return G(this,null,function*(){var _;if(!((_=this.auth.currentUser)==null?void 0:_.uid))throw new Error("User not authenticated");let l=(yield _t(ct(this.firestore,"splitwise-groups",n))).data(),u=yield ee(ne(Lt(this.firestore,"splitwise-transactions"),jt("groupId","==",n))),m=new Map;return l.members.forEach(x=>{m.set(x.userId,{userId:x.userId,email:x.email,displayName:x.displayName,totalPaid:0,totalOwed:0,netBalance:0,transactionCount:0})}),u.docs.forEach(x=>{x.data().splits.forEach(A=>{let k=m.get(A.userId);k&&(k.transactionCount++,A.amount>0?k.totalPaid+=A.amount:k.totalOwed+=Math.abs(A.amount),k.netBalance=k.totalPaid-k.totalOwed)})}),Array.from(m.values())})}deleteSplitTransactionRollback(n,r){return G(this,null,function*(){try{let a=Lt(this.firestore,"splitwise-transactions"),l=ne(a,jt("originalTransactionId","==",n)),u=yield ee(l);if(u.empty)throw new Error("Transaction not found");let _=u.docs[0].id;yield $o(ct(this.firestore,`splitwise-transactions/${_}`)),console.log(`Transaction with ID ${_} deleted successfully`)}catch(a){throw console.error("Error deleting split transaction rollback:",a),a}})}};t.\u0275fac=function(r){return new(r||t)(Z(nc),Z(Mt),Z(Oe),Z(zl),Z(cn))},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var Gl=new It("CdkAccordion");var hh=0,ql=(()=>{let t=class t{get expanded(){return this._expanded}set expanded(n){if(this._expanded!==n){if(this._expanded=n,this.expandedChange.emit(n),n){this.opened.emit();let r=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,r)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(n,r,a){this.accordion=n,this._changeDetectorRef=r,this._expansionDispatcher=a,this._openCloseAllSubscription=tr.EMPTY,this.closed=new Nt,this.opened=new Nt,this.destroyed=new Nt,this.expandedChange=new Nt,this.id=`cdk-accordion-child-${hh++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=a.listen((l,u)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===u&&this.id!==l&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(n=>{this.disabled||(this.expanded=n)})}};t.\u0275fac=function(r){return new(r||t)(T(Gl,12),T(nn),T(vr))},t.\u0275dir=Le({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",ii],disabled:[2,"disabled","disabled",ii]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[ni([{provide:Gl,useValue:void 0}]),ti]});let i=t;return i})(),$l=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({});let i=t;return i})();var _h=["body"],bh=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Ch=["mat-expansion-panel-header","*","mat-action-row"];function yh(i,t){}var vh=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],wh=["mat-panel-title","mat-panel-description","*"];function Ph(i,t){if(i&1&&(f(0,"span",1),No(),f(1,"svg",2),dt(2,"path",3),b()()),i&2){let o=F();D("@indicatorRotate",o._getExpandedState())}}var Kl=new It("MAT_ACCORDION"),Hl="225ms cubic-bezier(0.4,0.0,0.2,1)",Wl={indicatorRotate:Ho("indicatorRotate",[ci("collapsed, void",ai({transform:"rotate(0deg)"})),ci("expanded",ai({transform:"rotate(180deg)"})),Wo("expanded <=> collapsed, void => collapsed",Qo(Hl))]),bodyExpansion:Ho("bodyExpansion",[ci("collapsed, void",ai({height:"0px",visibility:"hidden"})),ci("expanded",ai({height:"*",visibility:""})),Wo("expanded <=> collapsed, void => collapsed",Qo(Hl))])},Yl=new It("MAT_EXPANSION_PANEL"),Mh=(()=>{let t=class t{constructor(n,r){this._template=n,this._expansionPanel=r}};t.\u0275fac=function(r){return new(r||t)(T(Ga),T(Yl,8))},t.\u0275dir=Le({type:t,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0});let i=t;return i})(),xh=0,Xl=new It("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Ss=(()=>{let t=class t extends ql{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(n){this._hideToggle=n}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(n){this._togglePosition=n}constructor(n,r,a,l,u,m,_){super(n,r,a),this._viewContainerRef=l,this._animationMode=m,this._hideToggle=!1,this.afterExpand=new Nt,this.afterCollapse=new Nt,this._inputChanges=new Yt,this._headerId=`mat-expansion-panel-header-${xh++}`,this.accordion=n,this._document=u,this._animationsDisabled=m==="NoopAnimations",_&&(this.hideToggle=_.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Ba(null),ue(()=>this.expanded&&!this._portal),er(1)).subscribe(()=>{this._portal=new dc(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(n){this._inputChanges.next(n)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let n=this._document.activeElement,r=this._body.nativeElement;return n===r||r.contains(n)}return!1}_animationStarted(n){var r;!Ql(n)&&!this._animationsDisabled&&this._body&&((r=this._body)==null||r.nativeElement.setAttribute("inert",""))}_animationDone(n){Ql(n)||(n.toState==="expanded"?this.afterExpand.emit():n.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}};t.\u0275fac=function(r){return new(r||t)(T(Kl,12),T(nn),T(vr),T(qa),T(Ha),T(Fo,8),T(Xl,8))},t.\u0275cmp=ht({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(r,a,l){if(r&1&&zo(l,Mh,5),r&2){let u;ar(u=cr())&&(a._lazyContent=u.first)}},viewQuery:function(r,a){if(r&1&&jo(_h,5),r&2){let l;ar(l=cr())&&(a._body=l.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(r,a){r&2&&Xt("mat-expanded",a.expanded)("_mat-animation-noopable",a._animationsDisabled)("mat-expansion-panel-spacing",a._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",ii],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[ni([{provide:Kl,useValue:void 0},{provide:Yl,useExisting:t}]),ti,Lo,rr,Ze],ngContentSelectors:Ch,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(r,a){if(r&1){let l=gt();sr(bh),Me(0),f(1,"div",1,0),z("@bodyExpansion.start",function(m){return tt(l),et(a._animationStarted(m))})("@bodyExpansion.done",function(m){return tt(l),et(a._animationDone(m))}),f(3,"div",2),Me(4,1),j(5,yh,0,0,"ng-template",3),b(),Me(6,2),b()}r&2&&(I(),D("@bodyExpansion",a._getExpandedState())("id",a.id),Xe("aria-labelledby",a._headerId),I(4),D("cdkPortalOutlet",a._portal))},dependencies:[uc],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Wl.bodyExpansion]},changeDetection:0});let i=t;return i})();function Ql(i){return i.fromState==="void"}var Jl=(()=>{let t=class t{constructor(n,r,a,l,u,m,_){this.panel=n,this._element=r,this._focusMonitor=a,this._changeDetectorRef=l,this._animationMode=m,this._parentChangeSubscription=tr.EMPTY,this.tabIndex=0;let x=n.accordion?n.accordion._stateChanges.pipe(ue(R=>!!(R.hideToggle||R.togglePosition))):Na;this.tabIndex=parseInt(_||"")||0,this._parentChangeSubscription=Zn(n.opened,n.closed,x,n._inputChanges.pipe(ue(R=>!!(R.hideToggle||R.disabled||R.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),n.closed.pipe(ue(()=>n._containsFocus())).subscribe(()=>a.focusVia(r,"program")),u&&(this.expandedHeight=u.expandedHeight,this.collapsedHeight=u.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let n=this._isExpanded();return n&&this.expandedHeight?this.expandedHeight:!n&&this.collapsedHeight?this.collapsedHeight:null}_keydown(n){switch(n.keyCode){case 32:case 13:rc(n)||(n.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(n);return}}focus(n,r){n?this._focusMonitor.focusVia(this._element,n,r):this._element.nativeElement.focus(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(n=>{n&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}};t.\u0275fac=function(r){return new(r||t)(T(Ss,1),T(Vo),T(sc),T(nn),T(Xl,8),T(Fo,8),za("tabindex"))},t.\u0275cmp=ht({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(r,a){r&1&&z("click",function(){return a._toggle()})("keydown",function(u){return a._keydown(u)}),r&2&&(Xe("id",a.panel._headerId)("tabindex",a.disabled?-1:a.tabIndex)("aria-controls",a._getPanelId())("aria-expanded",a._isExpanded())("aria-disabled",a.panel.disabled),$a("height",a._getHeaderHeight()),Xt("mat-expanded",a._isExpanded())("mat-expansion-toggle-indicator-after",a._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",a._getTogglePosition()==="before")("_mat-animation-noopable",a._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",n=>n==null?0:Ka(n)]},standalone:!0,features:[ti,Ze],ngContentSelectors:wh,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(r,a){r&1&&(sr(vh),f(0,"span",0),Me(1),Me(2,1),Me(3,2),b(),j(4,Ph,3,1,"span",1)),r&2&&(Xt("mat-content-hide-toggle",!a._showToggle()),I(4),Et(a._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Wl.indicatorRotate]},changeDetection:0});let i=t;return i})(),Zl=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Le({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"],standalone:!0});let i=t;return i})(),td=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Le({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0});let i=t;return i})();var ed=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({imports:[yr,$l,mc]});let i=t;return i})();function Ih(i,t){i&1&&(f(0,"div",5),dt(1,"mat-spinner",6),f(2,"p"),M(3,"Loading group details..."),b()())}function Eh(i,t){if(i&1){let o=gt();f(0,"button",34),z("click",function(){tt(o);let r=F(2);return et(r.deleteGroup())}),f(1,"mat-icon"),M(2,"delete"),b(),f(3,"span"),M(4,"Delete Group"),b()()}}function Sh(i,t){i&1&&(f(0,"span",49),M(1,"(You)"),b())}function Th(i,t){if(i&1&&(f(0,"span",50),M(1),b()),i&2){let o=F().$implicit,n=F(3);I(),$(" ",n.getCurrentUserStatus(o.netBalance)," ")}}function Ah(i,t){if(i&1&&(f(0,"div",40)(1,"div",41)(2,"div",42),M(3),j(4,Sh,2,0,"span",43),b(),f(5,"div",44)(6,"span",45),M(7),b(),f(8,"span",46),M(9),b()()(),f(10,"div",47),M(11),j(12,Th,2,1,"span",48),b()()),i&2){let o=t.$implicit,n=F(3);Xt("current-user",o.userId===(n.currentUser==null?null:n.currentUser.uid)),I(3),$(" ",o.displayName," "),I(),D("ngIf",o.userId===(n.currentUser==null?null:n.currentUser.uid)),I(3),$("Paid: ",n.formatCurrency(o.totalPaid,n.group.currency),""),I(2),$("Owed: ",n.formatCurrency(o.totalOwed,n.group.currency),""),I(),Je(n.getBalanceColor(o.netBalance)),I(),$(" ",n.formatCurrency(o.netBalance,n.group.currency)," "),I(),D("ngIf",o.userId===(n.currentUser==null?null:n.currentUser.uid))}}function kh(i,t){if(i&1&&(f(0,"div",55)(1,"div",56)(2,"mat-icon"),M(3),b(),f(4,"span",57),M(5),b()(),f(6,"div",58),M(7),b()()),i&2){let o=t.$implicit,n=F(4);Je(o.type),I(2),Je(o.type==="owes"?"arrow_upward":"arrow_downward"),I(),$(" ",o.type==="owes"?"arrow_upward":"arrow_downward"," "),I(2),rt(o.message),I(),Je(o.type),I(),$(" ",n.formatCurrency(o.amount,n.group.currency)," ")}}function Dh(i,t){i&1&&(f(0,"div",59)(1,"mat-icon"),M(2,"check_circle"),b(),f(3,"span"),M(4,"All balances are settled!"),b()())}function Rh(i,t){if(i&1&&(f(0,"div",51)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"mat-icon"),M(5,"account_tree"),b(),f(6,"span"),M(7,"Detailed Balance Breakdown"),b()(),f(8,"mat-panel-description"),M(9," See who owes what to whom "),b()(),f(10,"div",52),j(11,kh,8,9,"div",53)(12,Dh,5,0,"div",54),b()()()),i&2){let o=F(3);I(11),D("ngForOf",o.getDetailedBalanceBreakdown(o.currentUser.uid)),I(),D("ngIf",o.getDetailedBalanceBreakdown(o.currentUser.uid).length===0)}}function Nh(i,t){if(i&1&&(f(0,"div",35)(1,"mat-card",36)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),M(5,"account_balance_wallet"),b(),f(6,"span"),M(7,"Member Balances"),b()(),f(8,"mat-card-subtitle"),M(9," Who owes what to whom "),b()(),f(10,"mat-card-content")(11,"div",37),j(12,Ah,13,10,"div",38),b(),j(13,Rh,13,2,"div",39),b()()()),i&2){let o=F(2);I(12),D("ngForOf",o.getMemberBalances()),I(),D("ngIf",o.currentUser==null?null:o.currentUser.uid)}}function Vh(i,t){i&1&&(f(0,"span",76),M(1," (Pending) "),b())}function Fh(i,t){i&1&&(f(0,"span",77),M(1," (Completed) "),b())}function Lh(i,t){i&1&&(f(0,"span"),M(1,"Pending"),b())}function Uh(i,t){i&1&&(f(0,"span"),M(1,"Completed"),b())}function Bh(i,t){if(i&1&&(f(0,"span"),M(1),b()),i&2){let o=F().$implicit;I(),$(" ",o.type==="you_owe"?"Pay":"Settle"," ")}}function zh(i,t){if(i&1){let o=gt();f(0,"div",64)(1,"div",65)(2,"div",66)(3,"span",67),M(4),b(),j(5,Vh,2,0,"span",68)(6,Fh,2,0,"span",69),b(),f(7,"div",70)(8,"span",71),M(9),b(),f(10,"mat-icon"),M(11,"arrow_forward"),b(),f(12,"span",72),M(13),b()(),f(14,"div",73),M(15),b()(),f(16,"button",74),z("click",function(){let r=tt(o).$implicit,a=F(3);return et(a.createSettlement(r))}),f(17,"mat-icon"),M(18),b(),j(19,Lh,2,0,"span",75)(20,Uh,2,0,"span",75)(21,Bh,2,1,"span",75),b()()}if(i&2){let o=t.$implicit,n=F(3);Je(o.type),I(4),rt(n.getSettlementMessage(o)),I(),D("ngIf",n.isSettlementPending(o.fromUserId,o.toUserId)),I(),D("ngIf",n.isSettlementCompleted(o.fromUserId,o.toUserId)),I(3),rt(o.fromUserName),I(4),rt(o.toUserName),I(2),$(" ",n.formatCurrency(o.amount,o.currency)," "),I(),D("color",o.type==="you_owe"?"warn":"primary")("disabled",o.type==="others"||n.isSettlementPending(o.fromUserId,o.toUserId)||n.isSettlementCompleted(o.fromUserId,o.toUserId)),I(2),rt(o.type==="you_owe"?"payment":"check"),I(),D("ngIf",n.isSettlementPending(o.fromUserId,o.toUserId)),I(),D("ngIf",n.isSettlementCompleted(o.fromUserId,o.toUserId)),I(),D("ngIf",!n.isSettlementPending(o.fromUserId,o.toUserId)&&!n.isSettlementCompleted(o.fromUserId,o.toUserId))}}function jh(i,t){if(i&1&&(f(0,"div",60)(1,"mat-card",61)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),M(5,"swap_horiz"),b(),f(6,"span"),M(7,"Settlement Suggestions"),b()(),f(8,"mat-card-subtitle"),M(9),b()(),f(10,"mat-card-content")(11,"div",62),j(12,zh,22,14,"div",63),b()()()()),i&2){let o=F(2);I(9),$(" ",o.getSettlementSubtitle()," "),I(3),D("ngForOf",o.getSettlementSuggestions())}}function Gh(i,t){if(i&1&&(f(0,"div",80)(1,"div",81)(2,"div",82)(3,"div",83),M(4),b(),f(5,"div",84)(6,"span",85),M(7),b(),f(8,"span",86),M(9),b()()(),f(10,"div",87),M(11),b()()()),i&2){let o=t.$implicit,n=F(3);I(4),$(" ",n.getTransactionTitle(o)," "),I(3),$("Paid by ",n.getTransactionCreatorName(o),""),I(2),rt(n.formatDate(o.createdAt)),I(2),$(" ",n.formatCurrency(o.totalAmount,o.currency)," ")}}function qh(i,t){if(i&1&&(f(0,"div",78),j(1,Gh,12,4,"div",79),b()),i&2){let o=F(2);I(),D("ngForOf",o.transactions)}}function $h(i,t){if(i&1){let o=gt();f(0,"div",88)(1,"mat-icon",89),M(2,"receipt"),b(),f(3,"p"),M(4,"No transactions yet"),b(),f(5,"button",90),z("click",function(){tt(o);let r=F(2);return et(r.addTransaction())}),f(6,"mat-icon"),M(7,"add"),b(),M(8," Add Transaction "),b()()}}function Kh(i,t){if(i&1&&(f(0,"div",95)(1,"div",96)(2,"div",70)(3,"span",71),M(4),b(),f(5,"mat-icon"),M(6,"arrow_forward"),b(),f(7,"span",72),M(8),b()(),f(9,"div",73),M(10),b()(),f(11,"div",97)(12,"mat-chip",98),M(13),b()()()),i&2){let o=t.$implicit,n=F(3);I(4),rt(n.getMemberName(o.fromUserId)),I(4),rt(n.getMemberName(o.toUserId)),I(2),$(" ",n.formatCurrency(o.amount,o.currency)," "),I(2),D("color",o.status==="completed"?"success":"warning"),I(),$(" ",o.status==="completed"?"Completed":"Pending"," ")}}function Hh(i,t){if(i&1&&(f(0,"div",91)(1,"mat-card",92)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),M(5,"swap_horiz"),b(),f(6,"span"),M(7),b()()(),f(8,"mat-card-content")(9,"div",93),j(10,Kh,14,5,"div",94),b()()()()),i&2){let o=F(2);I(7),$("Settlements (",o.getSettlementCount(),")"),I(3),D("ngForOf",o.settlements)}}function Qh(i,t){if(i&1){let o=gt();f(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"button",11),z("click",function(){tt(o);let r=F();return et(r.goBack())}),f(5,"mat-icon",12),z("click",function(){tt(o);let r=F();return et(r.goBack())}),M(6,"arrow_back"),b()(),f(7,"span",13),M(8),tn(9,"titlecase"),b(),f(10,"button",14)(11,"mat-icon"),M(12,"more_vert"),b()()(),f(13,"div",15)(14,"mat-menu",16,0)(16,"button",17),z("click",function(){tt(o);let r=F();return et(r.openAddMemberDialog())}),f(17,"mat-icon"),M(18,"person_add"),b(),f(19,"span"),M(20,"Add Member"),b()(),dt(21,"mat-divider"),j(22,Eh,5,0,"button",18),b()()()(),f(23,"div",19)(24,"mat-card",20)(25,"div",21)(26,"div",22)(27,"div",23),z("click",function(){tt(o);let r=F();return et(r.openAddMemberDialog())}),f(28,"div",24),M(29),b(),f(30,"div",25),M(31,"Members"),b()()(),f(32,"div",22)(33,"div",26)(34,"div",24),M(35),b(),f(36,"div",25),M(37,"Total Balance"),b()()()()()(),j(38,Nh,14,2,"div",27)(39,jh,13,2,"div",28),f(40,"div",29)(41,"mat-card",30)(42,"mat-card-header")(43,"mat-card-title")(44,"mat-icon"),M(45,"receipt"),b(),f(46,"span"),M(47),b()(),f(48,"mat-card-subtitle"),M(49),b()(),f(50,"mat-card-content"),j(51,qh,2,1,"div",31)(52,$h,9,0,"div",32),b()()(),j(53,Hh,11,2,"div",33),b()}if(i&2){let o=ei(15),n=F();I(8),rt(en(9,12,n.group.name)),I(2),D("matMenuTriggerFor",o),I(12),D("ngIf",n.canManageGroup()),I(7),rt(n.getGroupMemberCount()),I(6),rt(n.formatCurrency(n.getTotalBalance(),n.group.currency)),I(3),D("ngIf",n.showBalances),I(),D("ngIf",n.getSettlementSuggestions().length>0),I(8),$("Transactions (",n.getTransactionCount(),")"),I(2),$(" Total: ",n.formatCurrency(n.getTotalTransactionAmount(),n.group.currency)," "),I(2),D("ngIf",n.transactions.length>0),I(),D("ngIf",n.transactions.length===0),I(),D("ngIf",n.settlements.length>0)}}function Wh(i,t){if(i&1){let o=gt();f(0,"div",99)(1,"mat-icon",100),M(2,"error"),b(),f(3,"h3"),M(4,"Group Not Found"),b(),f(5,"p"),M(6,"The group you're looking for doesn't exist or you don't have access to it."),b(),f(7,"button",90),z("click",function(){tt(o);let r=F();return et(r.goBack())}),f(8,"mat-icon"),M(9,"arrow_back"),b(),M(10," Go Back "),b()()}}var nd=(()=>{let t=class t{constructor(n,r,a,l,u,m,_,x){this.route=n,this.router=r,this.auth=a,this.store=l,this.dialog=u,this.notificationService=m,this.breakpointObserver=_,this.splitwiseService=x,this.group=null,this.transactions=[],this.settlements=[],this.error=null,this.currentUser=null,this.isMobile=!1,this.isLoading=!1,this.Math=Math,this.showBalances=!0,this.destroy$=new Yt,this.breakpointObserver.observe([an.Handset]).pipe(me(this.destroy$)).subscribe(R=>{this.isMobile=R.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(xn).pipe(me(this.destroy$)).subscribe(n=>{this.isLoading=n.loading,this.error=n.error;let r=this.route.snapshot.paramMap.get("id");r&&(this.group=n.groups.find(a=>a.id===r)||null,!this.group&&!this.isLoading&&this.splitwiseService.getGroupById(r).then(a=>{this.group=a})),this.transactions=n.transactions.filter(a=>a.groupId===r),this.settlements=n.settlements.filter(a=>a.groupId===r),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Ae())),console.log("Store state updated:",{loading:n.loading,transactionsCount:n.transactions.length,settlementsCount:n.settlements.length,error:n.error})})}reloadData(){let n=this.route.snapshot.paramMap.get("id");n&&(this.store.dispatch(ze({groupId:n})),this.store.dispatch(je({groupId:n})))}loadGroupDetails(){let n=this.route.snapshot.paramMap.get("id");n&&(this.store.dispatch(pe({groupId:n})),this.store.dispatch(ze({groupId:n})),this.store.dispatch(je({groupId:n})))}goBack(){this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(kn,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(r=>{r&&(r.action==="delete"?this.store.dispatch(Te({groupId:this.group.id,userId:r.userId})):this.store.dispatch(oe({groupId:this.group.id,request:r})))})}deleteGroup(){this.group&&this.dialog.open(Ue,{width:"300px",data:{title:"Delete Group",message:'Are you sure you want to delete the group "${this.group.name}"?',confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(n=>{var r;n&&(this.store.dispatch(Se({groupId:(r=this.group)==null?void 0:r.id})),this.goBack())})}getCurrentUserRole(){if(!this.group||!this.currentUser)return"";let n=this.group.members.find(r=>r.userId===this.currentUser.uid);return(n==null?void 0:n.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}getGroupMemberCount(){var n;return((n=this.group)==null?void 0:n.members.filter(r=>r.isActive).length)||0}formatDate(n){return n?(n.toDate?n.toDate():new Date(n)).toLocaleDateString():""}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}getTotalBalance(){return this.group?this.transactions.reduce((n,r)=>n+r.splits.reduce((a,l)=>a+l.amount,0),0):0}calculateNetBalances(){let n={};for(let r of this.transactions){let a=r.createdBy,l=r.totalAmount;for(let u of r.splits){let{userId:m,amount:_}=u;m!==a&&(n[m]||(n[m]={}),n[m][a]||(n[m][a]=0),n[m][a]+=_)}}for(let r of this.settlements){if(r.status==="cancelled")continue;let{fromUserId:a,toUserId:l,amount:u}=r;n[a]||(n[a]={}),n[a][l]||(n[a][l]=0),n[a][l]-=u}return this.simplifyBalances(n)}simplifyBalances(n){var l,u;let r={},a=new Set;for(let m in n)for(let _ in n[m]){let x=`${m}_${_}`,R=`${_}_${m}`;if(a.has(x)||a.has(R))continue;let A=((l=n[m])==null?void 0:l[_])||0,k=((u=n[_])==null?void 0:u[m])||0,N=A-k;N>0?(r[m]||(r[m]={}),r[m][_]=Math.round(N*100)/100):N<0&&(r[_]||(r[_]={}),r[_][m]=Math.round(-N*100)/100),a.add(x),a.add(R)}return r}getMemberBalances(){if(!this.group)return[];let n=this.calculateNetBalances(),r=[];return this.group.members.forEach(a=>{let l=n[a.userId]||{},u=0;Object.values(l).forEach(x=>{x>0&&(u+=x)});let m=0;Object.keys(n).forEach(x=>{if(x!==a.userId){let A=(n[x]||{})[a.userId]||0;A>0&&(m+=A)}});let _=m-u;r.push({userId:a.userId,displayName:a.displayName,email:a.email,totalPaid:m,totalOwed:u,netBalance:_,simplifiedBalances:l})}),r.sort((a,l)=>l.netBalance-a.netBalance)}getDetailedBalanceBreakdown(n){let r=this.calculateNetBalances(),a=r[n]||{},l=[];return Object.entries(a).forEach(([u,m])=>{var _;m>0&&l.push({type:"owes",otherUserId:u,otherUserName:this.getMemberName(u),amount:m,message:`${this.getMemberName(n)} owes ${this.getMemberName(u)} ${this.formatCurrency(m,((_=this.group)==null?void 0:_.currency)||"USD")}`})}),Object.keys(r).forEach(u=>{var m;if(u!==n){let x=(r[u]||{})[n]||0;x>0&&l.push({type:"owed",otherUserId:u,otherUserName:this.getMemberName(u),amount:x,message:`${this.getMemberName(u)} owes ${this.getMemberName(n)} ${this.formatCurrency(x,((m=this.group)==null?void 0:m.currency)||"USD")}`})}}),l.sort((u,m)=>m.amount-u.amount)}getBalanceBetweenUsers(n,r){var m,_;let a=this.calculateNetBalances(),l=((m=a[n])==null?void 0:m[r])||0,u=((_=a[r])==null?void 0:_[n])||0;return l-u}getBalanceSummary(){let n=this.getMemberBalances(),r=n.filter(l=>l.netBalance<0),a=n.filter(l=>l.netBalance>0);return{owes:r,owed:a}}getSettlementSuggestions(){var u;let n=this.getMemberBalances(),r=[];if(!((u=this.currentUser)!=null&&u.uid))return r;let a=n.find(m=>m.userId===this.currentUser.uid);if(!a)return r;let l=a.netBalance;if(l<0){let m=Math.abs(l);n.filter(x=>x.netBalance>0&&x.userId!==this.currentUser.uid).forEach(x=>{var k;let R=x.netBalance,A=this.getBalanceBetweenUsers(this.currentUser.uid,x.userId);if(A>0){let N=Math.min(A,R);N>0&&r.push({fromUserId:this.currentUser.uid,fromUserName:a.displayName,toUserId:x.userId,toUserName:x.displayName,amount:N,currency:((k=this.group)==null?void 0:k.currency)||"USD",type:"you_owe"})}})}else if(l>0){let m=l;n.filter(x=>x.netBalance<0&&x.userId!==this.currentUser.uid).forEach(x=>{var A;let R=this.getBalanceBetweenUsers(x.userId,this.currentUser.uid);if(R>0){let k=Math.min(R,m);k>0&&r.push({fromUserId:x.userId,fromUserName:x.displayName,toUserId:this.currentUser.uid,toUserName:a.displayName,amount:k,currency:((A=this.group)==null?void 0:A.currency)||"USD",type:"owed_to_you"})}})}else{let m=n.filter(x=>x.netBalance<0&&x.userId!==this.currentUser.uid),_=n.filter(x=>x.netBalance>0&&x.userId!==this.currentUser.uid);m.forEach(x=>{let A=Math.abs(x.netBalance);_.forEach(k=>{var st;if(A<=0)return;let N=k.netBalance,lt=this.getBalanceBetweenUsers(x.userId,k.userId);if(lt>0){let kt=Math.min(A,N,lt);kt>0&&(r.push({fromUserId:x.userId,fromUserName:x.displayName,toUserId:k.userId,toUserName:k.displayName,amount:kt,currency:((st=this.group)==null?void 0:st.currency)||"USD",type:"others"}),A-=kt)}})})}return r}createSettlement(n){var a;if(!this.group){this.notificationService.error("Group not found");return}if(!((a=this.currentUser)!=null&&a.uid)){this.notificationService.error("User not authenticated");return}this.dialog.open(Ue,{width:"400px",data:{title:"Create Settlement",message:`Create settlement of ${this.formatCurrency(n.amount,n.currency)} from ${n.fromUserName} to ${n.toUserName}?`,confirmText:"Create",cancelText:"Cancel"}}).afterClosed().subscribe(l=>{if(l)try{console.log("Creating settlement:",n),this.store.dispatch(Mn({groupId:this.group.id,fromUserId:n.fromUserId,toUserId:n.toUserId,amount:n.amount,notes:"Settlement created from balance summary"})),this.notificationService.success("Settlement created successfully"),setTimeout(()=>{this.reloadData()},1e3)}catch(u){console.error("Error creating settlement:",u),this.notificationService.error("Failed to create settlement")}})}toggleBalanceDisplay(){this.showBalances=!this.showBalances}getBalanceColor(n){return n>0?"positive":n<0?"negative":"neutral"}getSettlementSubtitle(){var a;if(!((a=this.currentUser)!=null&&a.uid))return"Quick settlements to balance the group";let r=this.getMemberBalances().find(l=>l.userId===this.currentUser.uid);return r?r.netBalance<0?"You owe money to these members":r.netBalance>0?"These members owe you money":"Other members can settle their balances":"Quick settlements to balance the group"}getSettlementMessage(n){switch(n.type){case"you_owe":return`You owe ${n.toUserName}`;case"owed_to_you":return`${n.fromUserName} owes you`;case"others":return`${n.fromUserName} owes ${n.toUserName}`;default:return"Settlement suggestion"}}getCurrentUserStatus(n){return n<0?"(You owe)":n>0?"(You are owed)":"(Balanced)"}getSettlementStatus(n,r){let a=this.settlements.find(l=>l.fromUserId===n&&l.toUserId===r);return a?{exists:!0,status:a.status,amount:a.amount}:{exists:!1,status:"",amount:0}}isSettlementPending(n,r){return!!this.settlements.find(l=>l.fromUserId===n&&l.toUserId===r&&l.status==="pending")}isSettlementCompleted(n,r){return!!this.settlements.find(l=>l.fromUserId===n&&l.toUserId===r&&l.status==="completed")}getExistingSettlementsSummary(){var a;if(!((a=this.currentUser)!=null&&a.uid))return[];let n=[];return this.settlements.filter(l=>(l.fromUserId===this.currentUser.uid||l.toUserId===this.currentUser.uid)&&l.status!=="cancelled").forEach(l=>{let u=l.fromUserId===this.currentUser.uid,m=u?l.toUserId:l.fromUserId,_=this.getMemberName(m);n.push({fromUserId:l.fromUserId,fromUserName:this.getMemberName(l.fromUserId),toUserId:l.toUserId,toUserName:this.getMemberName(l.toUserId),amount:l.amount,currency:l.currency,status:l.status,isInvolvingCurrentUser:!0,isFromCurrentUser:u,otherUserName:_})}),n}getPendingSettlementsCount(){return this.settlements.filter(n=>n.status==="pending").length}getCompletedSettlementsCount(){return this.settlements.filter(n=>n.status==="completed").length}getTransactionCreatorName(n){return this.getMemberName(n.createdBy)}getTransactionTitle(n){return`Transaction (${n.splits.length} members)`}getTotalTransactionAmount(){return this.transactions.reduce((n,r)=>n+r.totalAmount,0)}getTransactionCount(){return this.transactions.length}getSettlementCount(){return this.settlements.length}getMemberName(n){if(!this.group)return"Unknown";let r=this.group.members.find(a=>a.userId===n);return(r==null?void 0:r.displayName)||"Unknown"}toggleMembers(){var n;this.router.navigate(["dashboard/splitwise/members",(n=this.group)==null?void 0:n.id])}addTransaction(){var n;this.router.navigate(["dashboard/transactions"],{queryParams:{splitGroupId:(n=this.group)==null?void 0:n.id,returnUrl:this.router.url}})}};t.\u0275fac=function(r){return new(r||t)(T(ur),T(on),T(Mt),T(Ft),T(re),T(Oe),T(sn),T(Dn))},t.\u0275cmp=ht({type:t,selectors:[["app-group-details"]],decls:4,vars:3,consts:[["groupMenu","matMenu"],[1,"group-details-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header"],[1,"header-content"],[1,"header-navigation"],["mat-icon-button","","aria-label","Go back",1,"back-btn","!z-[999]",3,"click"],[3,"click"],[1,"group-title"],["mat-icon-button","","aria-label","More options",1,"more-actions-btn",3,"matMenuTriggerFor"],[1,"header-actions"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],[1,"stats-section"],[1,"stats-card"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-content",3,"click"],[1,"stat-value"],[1,"stat-label"],[1,"stat-content"],["class","balances-section",4,"ngIf"],["class","settlement-suggestions",4,"ngIf"],[1,"transactions-section"],[1,"transactions-card"],["class","transactions-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","settlements-section",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"],[1,"balances-section"],[1,"balances-card"],[1,"balances-list"],["class","balance-item",3,"current-user",4,"ngFor","ngForOf"],["class","detailed-balances",4,"ngIf"],[1,"balance-item"],[1,"balance-info"],[1,"member-name"],["class","current-user-badge",4,"ngIf"],[1,"balance-details"],[1,"paid"],[1,"owed"],[1,"net-balance"],["class","status-indicator",4,"ngIf"],[1,"current-user-badge"],[1,"status-indicator"],[1,"detailed-balances"],[1,"breakdown-list"],["class","breakdown-item",3,"class",4,"ngFor","ngForOf"],["class","no-breakdown",4,"ngIf"],[1,"breakdown-item"],[1,"breakdown-info"],[1,"breakdown-message"],[1,"breakdown-amount"],[1,"no-breakdown"],[1,"settlement-suggestions"],[1,"suggestions-card"],[1,"suggestions-list"],["class","suggestion-item",3,"class",4,"ngFor","ngForOf"],[1,"suggestion-item"],[1,"suggestion-info"],[1,"suggestion-message"],[1,"message-text"],["class","settlement-status pending",4,"ngIf"],["class","settlement-status completed",4,"ngIf"],[1,"settlement-parties"],[1,"from-user"],[1,"to-user"],[1,"settlement-amount"],["mat-raised-button","","size","small",3,"click","color","disabled"],[4,"ngIf"],[1,"settlement-status","pending"],[1,"settlement-status","completed"],[1,"transactions-list"],["class","transaction-item simple",4,"ngFor","ngForOf"],[1,"transaction-item","simple"],[1,"transaction-main"],[1,"transaction-info"],[1,"transaction-title"],[1,"transaction-meta"],[1,"paid-by"],[1,"transaction-date"],[1,"transaction-amount"],[1,"empty-state"],[1,"empty-icon"],["mat-raised-button","","color","primary",3,"click"],[1,"settlements-section"],[1,"settlements-card"],[1,"settlements-list"],["class","settlement-item",4,"ngFor","ngForOf"],[1,"settlement-item"],[1,"settlement-info"],[1,"settlement-status"],["selected","",3,"color"],[1,"error-state"],[1,"error-icon"]],template:function(r,a){r&1&&(f(0,"div",1),j(1,Ih,4,0,"div",2)(2,Qh,54,14,"div",3)(3,Wh,11,0,"div",4),b()),r&2&&(I(),D("ngIf",a.isLoading),I(),D("ngIf",!a.isLoading&&a.group),I(),D("ngIf",!a.isLoading&&!a.group))},dependencies:[rn,Vt,ln,un,mn,Ir,dn,Er,Ht,ie,Ut,Ie,Mc,xr,Mr,Or,Ss,Jl,td,Zl,lr],styles:[".group-details-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:24px;min-height:100vh;background:#fafafa}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px;text-align:center;padding:40px 20px}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#e0e0e0}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:18px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 24px;font-size:14px;line-height:1.5}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;font-weight:500;font-size:14px;border-radius:6px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#fff;border-radius:8px;margin-bottom:24px;box-shadow:0 1px 3px #0000001a;padding:20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:20px;padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:16px;padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease;border-radius:50%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#333;background-color:#f5f5f5}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#333;line-height:1.2}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease;border-radius:50%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]:hover{color:#333;background-color:#f5f5f5}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:flex;gap:1px;background:#f0f0f0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{flex-direction:column}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;background:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{text-align:center;cursor:pointer;padding:24px 16px;transition:background-color .2s ease;width:100%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]:hover{background-color:#fafafa}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-bottom:4px;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:#666;font-weight:400;text-transform:uppercase;letter-spacing:.5px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]{background-color:#f8f9fa;border-left:3px solid #333;padding-left:16px;margin:0 -16px 0 0;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]   .current-user-badge[_ngcontent-%COMP%]{background:#333;color:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#333;margin-bottom:2px;display:flex;align-items:center;gap:8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]   .current-user-badge[_ngcontent-%COMP%]{background:#666;color:#fff;padding:1px 6px;border-radius:4px;font-size:10px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]   .paid[_ngcontent-%COMP%]{color:#666;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]   .owed[_ngcontent-%COMP%]{color:#666;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]{font-weight:600;font-size:14px;text-align:right}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.positive[_ngcontent-%COMP%]{color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.negative[_ngcontent-%COMP%]{color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.neutral[_ngcontent-%COMP%]{color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{display:block;font-size:10px;font-weight:400;margin-top:2px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.you_owe[_ngcontent-%COMP%]{border-left:3px solid #ff6b6b}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.owed_to_you[_ngcontent-%COMP%]{border-left:3px solid #51cf66}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.others[_ngcontent-%COMP%]{border-left:3px solid #ffd43b}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#333;margin-bottom:2px;display:flex;align-items:center;gap:8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]{font-size:10px;font-weight:500;padding:1px 6px;border-radius:4px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status.pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status.completed[_ngcontent-%COMP%]{background:#d1edff;color:#0c5460}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;color:#666;margin-bottom:2px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px;color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;font-weight:500;font-size:12px;transition:all .2s ease;min-width:80px;height:32px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){transform:none;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px;font-size:14px;width:14px;height:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;padding:12px 0;background-color:#fff;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]{flex:1;min-width:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-title[_ngcontent-%COMP%]{font-weight:500;color:#333;margin-bottom:2px;font-size:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:12px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .paid-by[_ngcontent-%COMP%]{font-weight:400;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333;white-space:nowrap}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#e0e0e0;margin-bottom:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:20px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;font-weight:500;padding:10px 20px;font-size:14px;transition:all .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:none;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;color:#666;margin-bottom:2px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px;color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:10px;font-weight:500;border-radius:4px;height:24px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]{margin-top:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #f0f0f0;border-radius:6px;background:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header{padding:12px 16px;background:#fafafa;border-radius:6px 6px 0 0;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-expansion-panel-header-title{font-weight:500;color:#333;display:flex;align-items:center;gap:8px;font-size:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-expansion-panel-header-description{color:#666;font-size:12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header mat-icon{color:#666;font-size:16px;width:16px;height:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:16px;background:#fff;border-radius:0 0 6px 6px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f8f8f8;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;border-radius:4px;padding-left:8px;padding-right:8px;margin:0 -8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owes[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owes[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{color:#ff6b6b;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owed[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#51cf66}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owed[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{color:#51cf66;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   .breakdown-message[_ngcontent-%COMP%]{font-size:13px;color:#333;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .no-breakdown[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;color:#51cf66;font-weight:500;background:#f8f9fa;border-radius:4px;border:1px solid #e9ecef}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .no-breakdown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#51cf66;font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#ff6b6b}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#fff5f5}"]});let i=t;return i})();function Yh(i,t){if(i&1&&dt(0,"img",16),i&2){let o=F().$implicit;D("src",o.photoURL,or)("alt",o.displayName)}}function Xh(i,t){i&1&&(f(0,"mat-icon"),M(1,"person"),b())}function Jh(i,t){if(i&1&&(f(0,"div",7)(1,"div",8)(2,"div",9),j(3,Yh,1,2,"img",10)(4,Xh,2,0,"mat-icon",11),b(),f(5,"div",12)(6,"span",13),M(7),b(),f(8,"span",14),M(9),b(),f(10,"span",15),M(11),b()()()()),i&2){let o=t.$implicit;I(3),D("ngIf",o.photoURL),I(),D("ngIf",!o.photoURL),I(3),rt(o.displayName),I(2),rt(o.email),I(2),rt(o.role)}}var id=(()=>{let t=class t{constructor(){this.isMobile=!1,this.addMember=new Nt,this.Math=Math}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}getGroupMemberCount(){var n;return((n=this.group)==null?void 0:n.members.filter(r=>r.isActive).length)||0}getPositiveBalanceMembers(){return this.group?[]:[]}getNegativeBalanceMembers(){return this.group?[]:[]}getNeutralBalanceMembers(){return this.group?[]:[]}onAddMember(){this.addMember.emit()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ht({type:t,selectors:[["app-members"]],inputs:{group:"group",isMobile:"isMobile"},outputs:{addMember:"addMember"},decls:18,vars:2,consts:[[1,"members-container"],[1,"members-section"],[1,"members-card"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"add-member-section"],["mat-stroked-button","","color","primary",3,"click"],[1,"member-item"],[1,"member-info"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],[1,"member-role"],[3,"src","alt"]],template:function(r,a){r&1&&(f(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title")(5,"mat-icon"),M(6,"people"),b(),M(7," Members "),b(),f(8,"mat-card-subtitle"),M(9),b()(),f(10,"mat-card-content")(11,"div",3),j(12,Jh,12,5,"div",4),b()()()(),f(13,"div",5)(14,"button",6),z("click",function(){return a.onAddMember()}),f(15,"mat-icon"),M(16,"person_add"),b(),M(17," Add Member "),b()()()),r&2&&(I(9),$(" ",a.getGroupMemberCount()," active members "),I(3),D("ngForOf",a.group.members))},dependencies:[rn,Vt,ln,un,mn,Ir,dn,Ht,Ut],styles:[".members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:12px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:11px;color:#1976d2;text-transform:uppercase;letter-spacing:.5px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]   .positive-icon[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]{border-left:4px solid #f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]   .negative-icon[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]{border-left:4px solid #666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]   .neutral-icon[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px 0}@media (max-width: 768px){.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:12px 0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:11px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:10px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let i=t;return i})();function tg(i,t){i&1&&(f(0,"div",4),dt(1,"mat-spinner",5),f(2,"p"),M(3,"Loading group members..."),b()())}function eg(i,t){if(i&1){let o=gt();f(0,"div",6)(1,"div",7)(2,"button",8),z("click",function(){tt(o);let r=F();return et(r.goBack())}),f(3,"mat-icon"),M(4,"arrow_back"),b()()(),f(5,"app-members",9),z("addMember",function(){tt(o);let r=F();return et(r.openAddMemberDialog())}),b()()}if(i&2){let o=F();I(5),D("group",o.group)("isMobile",o.isMobile)}}function ng(i,t){if(i&1){let o=gt();f(0,"div",10)(1,"mat-icon",11),M(2,"error"),b(),f(3,"h3"),M(4,"Group Not Found"),b(),f(5,"p"),M(6,"The group you're looking for doesn't exist or you don't have access to it."),b(),f(7,"button",12),z("click",function(){tt(o);let r=F();return et(r.goBack())}),M(8," Go Back "),b()()}}var rd=(()=>{let t=class t{constructor(n,r,a,l,u,m,_){this.route=n,this.router=r,this.auth=a,this.store=l,this.dialog=u,this.notificationService=m,this.breakpointObserver=_,this.group=null,this.isLoading=!1,this.error=null,this.currentUser=null,this.isMobile=!1,this.destroy$=new Yt,this.breakpointObserver.observe([an.Handset]).pipe(me(this.destroy$)).subscribe(x=>{this.isMobile=x.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(xn).pipe(me(this.destroy$)).subscribe(n=>{this.isLoading=n.loading,this.error=n.error;let r=this.route.snapshot.paramMap.get("id");r&&(this.group=n.groups.find(a=>a.id===r)||null,!this.group&&!this.isLoading&&this.store.dispatch(pe({groupId:r}))),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Ae()))})}loadGroupDetails(){let n=this.route.snapshot.paramMap.get("id");n&&this.store.dispatch(pe({groupId:n}))}goBack(){this.group?this.router.navigate(["dashboard/splitwise/group",this.group.id]):this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(kn,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(r=>{r&&(r.action==="delete"?this.store.dispatch(Te({groupId:this.group.id,userId:r.userId})):this.store.dispatch(oe({groupId:this.group.id,request:r})))})}};t.\u0275fac=function(r){return new(r||t)(T(ur),T(on),T(Mt),T(Ft),T(re),T(Oe),T(sn))},t.\u0275cmp=ht({type:t,selectors:[["app-members-page"]],decls:4,vars:3,consts:[[1,"members-page-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header-actions"],["mat-icon-button","",1,"back-btn",3,"click"],[3,"addMember","group","isMobile"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","primary",3,"click"]],template:function(r,a){r&1&&(f(0,"div",0),j(1,tg,4,0,"div",1)(2,eg,6,2,"div",2)(3,ng,9,0,"div",3),b()),r&2&&(I(),D("ngIf",a.isLoading),I(),D("ngIf",!a.isLoading&&a.group),I(),D("ngIf",!a.isLoading&&!a.group))},dependencies:[Vt,Ht,ie,Ut,Ie,id],styles:[".members-page-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh;background:#f5f5f5}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px;text-align:center}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:24px;box-shadow:0 2px 8px #0000001a}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1976d2}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex:1}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 4px;font-size:24px;font-weight:600;color:#333}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}@media (max-width: 768px){.members-page-container[_ngcontent-%COMP%]{padding:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{width:100%}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}}"]});let i=t;return i})();var ig=[{path:"",component:Bl},{path:"group/:id",component:nd},{path:"members/:id",component:rd}],od=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({imports:[ri.forChild(ig),ri]});let i=t;return i})();var sd=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({imports:[oc,dr,yr,ac,cc,Sr]});let i=t;return i})();var rg={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},ao="__@ngrx/effects_create__";function Tt(i,t={}){let o=t.functional?i:i(),n=S(S({},rg),t);return Object.defineProperty(o,ao,{value:n}),o}function og(i){return Object.getOwnPropertyNames(i).filter(n=>i[n]&&i[n].hasOwnProperty(ao)?i[n][ao].hasOwnProperty("dispatch"):!1).map(n=>{let r=i[n][ao];return S({propertyName:n},r)})}function sg(i){return og(i)}function dd(i){return Object.getPrototypeOf(i)}function ag(i){return!!i.constructor&&i.constructor.name!=="Object"&&i.constructor.name!=="Function"}function ud(i){return typeof i=="function"}function ad(i){return i.filter(ud)}function cg(i){return i instanceof It||ud(i)}function lg(i,t,o){let n=dd(i),a=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,l=sg(i).map(({propertyName:u,dispatch:m,useEffectsErrorHandler:_})=>{let x=typeof i[u]=="function"?i[u]():i[u],R=_?o(x,t):x;return m===!1?R.pipe(Va()):R.pipe(Ua()).pipe(J(k=>({effect:i[u],notification:k,propertyName:u,sourceName:a,sourceInstance:i})))});return Zn(...l)}var dg=10;function md(i,t,o=dg){return i.pipe(mt(n=>(t&&t.handleError(n),o<=1?i:md(i,t,o-1))))}var hd=(()=>{let t=class t extends Da{constructor(n){super(),n&&(this.source=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}};t.\u0275fac=function(r){return new(r||t)(Z(Ja))},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function At(...i){return ue(t=>i.some(o=>typeof o=="string"?o===t.type:o.type===t.type))}var gd=new It("@ngrx/effects Internal Root Guard"),so=new It("@ngrx/effects User Provided Effects"),Ts=new It("@ngrx/effects Internal Root Effects"),pd=new It("@ngrx/effects Internal Root Effects Instances"),cd=new It("@ngrx/effects Internal Feature Effects"),fd=new It("@ngrx/effects Internal Feature Effects Instance Groups"),ug=new It("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>md}),_d="@ngrx/effects/init",p0=L(_d);function mg(i,t){if(i.notification.kind==="N"){let o=i.notification.value;!hg(o)&&t.handleError(new Error(`Effect ${gg(i)} dispatched an invalid action: ${pg(o)}`))}}function hg(i){return typeof i!="function"&&i&&i.type&&typeof i.type=="string"}function gg({propertyName:i,sourceInstance:t,sourceName:o}){let n=typeof t[i]=="function";return!!o?`"${o}.${String(i)}${n?"()":""}"`:`"${String(i)}()"`}function pg(i){try{return JSON.stringify(i)}catch{return i}}var fg="ngrxOnIdentifyEffects";function _g(i){return As(i,fg)}var bg="ngrxOnRunEffects";function Cg(i){return As(i,bg)}var yg="ngrxOnInitEffects";function vg(i){return As(i,yg)}function As(i,t){return i&&t in i&&typeof i[t]=="function"}var bd=(()=>{let t=class t extends Yt{constructor(n,r){super(),this.errorHandler=n,this.effectsErrorHandler=r}addEffects(n){this.next(n)}toActions(){return this.pipe(Ro(n=>ag(n)?dd(n):n),Y(n=>n.pipe(Ro(wg))),Y(n=>{let r=n.pipe(La(l=>Pg(this.errorHandler,this.effectsErrorHandler)(l)),J(l=>(mg(l,this.errorHandler),l.notification)),ue(l=>l.kind==="N"&&l.value!=null),Fa()),a=n.pipe(er(1),ue(vg),J(l=>l.ngrxOnInitEffects()));return Zn(r,a)}))}};t.\u0275fac=function(r){return new(r||t)(Z(ja),Z(ug))},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function wg(i){return _g(i)?i.ngrxOnIdentifyEffects():""}function Pg(i,t){return o=>{let n=lg(o,i,t);return Cg(o)?o.ngrxOnRunEffects(n):n}}var Cd=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(n,r){this.effectSources=n,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(Z(bd),Z(Ft))},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),yd=(()=>{let t=class t{constructor(n,r,a,l,u,m,_){this.sources=n,r.start();for(let x of l)n.addEffects(x);a.dispatch({type:_d})}addEffects(n){this.sources.addEffects(n)}};t.\u0275fac=function(r){return new(r||t)(Z(bd),Z(Cd),Z(Ft),Z(pd),Z(Go,8),Z(qo,8),Z(gd,8))},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({});let i=t;return i})(),Mg=(()=>{let t=class t{constructor(n,r,a,l){let u=r.flat();for(let m of u)n.addEffects(m)}};t.\u0275fac=function(r){return new(r||t)(Z(yd),Z(fd),Z(Go,8),Z(qo,8))},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({});let i=t;return i})(),vd=(()=>{let t=class t{static forFeature(...n){let r=n.flat(),a=ad(r);return{ngModule:Mg,providers:[a,{provide:cd,multi:!0,useValue:r},{provide:so,multi:!0,useValue:[]},{provide:fd,multi:!0,useFactory:ld,deps:[cd,so]}]}}static forRoot(...n){let r=n.flat(),a=ad(r);return{ngModule:yd,providers:[a,{provide:Ts,useValue:[r]},{provide:gd,useFactory:xg},{provide:so,multi:!0,useValue:[]},{provide:pd,useFactory:ld,deps:[Ts,so]}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({});let i=t;return i})();function ld(i,t){let o=[];for(let n of i)o.push(...n);for(let n of t)o.push(...n);return o.map(n=>cg(n)?nr(n):n)}function xg(){let i=nr(Cd,{optional:!0,skipSelf:!0}),t=nr(Ts,{self:!0});if(!(t.length===1&&t[0].length===0)&&i)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var wd={groups:[],invitations:[],transactions:[],settlements:[],selectedGroup:null,loading:!1,error:null};var Pd=tc(wd,U(Cn,i=>V(S({},i),{loading:!0,error:null})),U(Tr,(i,{groups:t})=>V(S({},i),{groups:t,loading:!1,error:null})),U(gi,(i,{error:t})=>V(S({},i),{loading:!1,error:t})),U(pe,i=>V(S({},i),{loading:!0,error:null})),U(Ar,(i,{group:t})=>V(S({},i),{groups:i.groups.find(o=>o.id===t.id)?i.groups.map(o=>o.id===t.id?t:o):[...i.groups,t],selectedGroup:t,loading:!1,error:null})),U(pi,(i,{error:t})=>V(S({},i),{loading:!1,error:t})),U(yn,i=>V(S({},i),{loading:!0,error:null})),U(kr,(i,{invitations:t})=>V(S({},i),{invitations:t,loading:!1,error:null})),U(fi,(i,{error:t})=>V(S({},i),{loading:!1,error:t})),U(vn,i=>V(S({},i),{loading:!0,error:null})),U(Dr,(i,{group:t})=>V(S({},i),{groups:[...i.groups,t],loading:!1,error:null})),U(_i,(i,{error:t})=>V(S({},i),{loading:!1,error:t})),U(oe,i=>V(S({},i),{loading:!0,error:null})),U(Rr,(i,{group:t})=>V(S({},i),{groups:i.groups.map(o=>o.id===t.id?t:o),loading:!1,error:null})),U(bi,(i,{error:t})=>V(S({},i),{loading:!1,error:t})),U(wn,i=>V(S({},i),{loading:!0,error:null})),U(Nr,(i,{invitationId:t})=>V(S({},i),{invitations:i.invitations.filter(o=>o.id!==t),loading:!1,error:null})),U(Ci,(i,{error:t})=>V(S({},i),{loading:!1,error:t})),U(Pn,i=>V(S({},i),{loading:!0,error:null})),U(Vr,(i,{invitationId:t})=>V(S({},i),{invitations:i.invitations.filter(o=>o.id!==t),loading:!1,error:null})),U(yi,(i,{error:t})=>V(S({},i),{loading:!1,error:t})),U(Se,i=>V(S({},i),{loading:!0,error:null})),U(Fr,(i,{groupId:t})=>{var o;return V(S({},i),{groups:i.groups.filter(n=>n.id!==t),selectedGroup:((o=i.selectedGroup)==null?void 0:o.id)===t?null:i.selectedGroup,loading:!1,error:null})}),U(vi,(i,{error:t})=>V(S({},i),{loading:!1,error:t})),U(Bc,(i,{group:t})=>V(S({},i),{selectedGroup:t})),U(ze,i=>V(S({},i),{loading:!0,error:null})),U(Lr,(i,{transactions:t})=>V(S({},i),{transactions:t,loading:!1,error:null})),U(wi,(i,{error:t})=>V(S({},i),{loading:!1,error:t})),U(je,i=>V(S({},i),{loading:!0,error:null})),U(Ur,(i,{settlements:t})=>V(S({},i),{settlements:t,loading:!1,error:null})),U(Pi,(i,{error:t})=>V(S({},i),{loading:!1,error:t})),U(Br,i=>V(S({},i),{loading:!0,error:null})),U(zr,(i,{transaction:t})=>V(S({},i),{transactions:[...i.transactions,t],loading:!1,error:null})),U(Mi,(i,{error:t})=>V(S({},i),{loading:!1,error:t})),U(jr,i=>V(S({},i),{loading:!0,error:null})),U(Gr,(i,{transaction:t})=>V(S({},i),{transactions:i.transactions.map(o=>o.id===t.id?t:o),loading:!1,error:null})),U(xi,(i,{error:t})=>V(S({},i),{loading:!1,error:t})),U(Mn,i=>V(S({},i),{loading:!0,error:null})),U(qr,(i,{settlement:t})=>V(S({},i),{settlements:[...i.settlements,t],loading:!1,error:null})),U(Oi,(i,{error:t})=>V(S({},i),{loading:!1,error:t})),U(Te,i=>V(S({},i),{loading:!0,error:null})),U($r,(i,{groupId:t})=>V(S({},i),{loading:!1,error:null})),U(Ii,(i,{error:t})=>V(S({},i),{loading:!1,error:t})),U(Ae,i=>V(S({},i),{error:null})));var Md=(()=>{let t=class t{constructor(n,r,a,l,u){this.actions$=n,this.splitwiseService=r,this.userService=a,this.store=l,this.auth=u,this.loadGroups$=Tt(()=>this.actions$.pipe(At(Cn),Y(()=>W(this.userService.getCurrentUser()).pipe(Y(m=>m!=null&&m.uid?this.splitwiseService.getUserGroups(m.uid).pipe(J(_=>Tr({groups:_||[]})),mt(_=>q(gi({error:_.message})))):q(gi({error:"User not authenticated"}))))))),this.loadGroupById$=Tt(()=>this.actions$.pipe(At(pe),Y(m=>W(this.splitwiseService.getGroupById(m.groupId)).pipe(J(_=>_?Ar({group:_}):pi({error:"Group not found"})),mt(_=>q(pi({error:_.message}))))))),this.loadInvitations$=Tt(()=>this.actions$.pipe(At(yn),Y(()=>W(this.userService.getCurrentUser()).pipe(Y(m=>m!=null&&m.uid?this.splitwiseService.getUserInvitations(m.uid).pipe(J(_=>kr({invitations:_||[]})),mt(_=>q(fi({error:_.message})))):q(fi({error:"User not authenticated"}))))))),this.createGroup$=Tt(()=>this.actions$.pipe(At(vn),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(_=>_!=null&&_.uid?this.splitwiseService.createGroup(m.request,_.uid).pipe(J(x=>Dr({group:x})),mt(x=>q(_i({error:x.message})))):q(_i({error:"User not authenticated"}))))))),this.addMember$=Tt(()=>this.actions$.pipe(At(oe),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(_=>_!=null&&_.uid?W(this.splitwiseService.addMemberToGroup(m.groupId,m.request,_.uid)).pipe(J(x=>Rr({group:x})),mt(x=>q(bi({error:x.message})))):q(bi({error:"User not authenticated"}))))))),this.acceptInvitation$=Tt(()=>this.actions$.pipe(At(wn),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(_=>_!=null&&_.uid?W(this.splitwiseService.acceptInvitation(m.invitationId,_.uid)).pipe(J(()=>Nr({invitationId:m.invitationId})),mt(x=>q(Ci({error:x.message})))):q(Ci({error:"User not authenticated"}))))))),this.declineInvitation$=Tt(()=>this.actions$.pipe(At(Pn),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(_=>_!=null&&_.uid?W(this.splitwiseService.declineInvitation(m.invitationId,_.uid)).pipe(J(()=>Vr({invitationId:m.invitationId})),mt(x=>q(yi({error:x.message})))):q(yi({error:"User not authenticated"}))))))),this.deleteGroup$=Tt(()=>this.actions$.pipe(At(Se),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(_=>_!=null&&_.uid?this.splitwiseService.deleteGroup(m.groupId,_.uid).pipe(J(()=>Fr({groupId:m.groupId})),mt(x=>q(vi({error:x.message})))):q(vi({error:"User not authenticated"}))))))),this.loadTransactions$=Tt(()=>this.actions$.pipe(At(ze),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(_=>_!=null&&_.uid?this.splitwiseService.getGroupTransactions(m.groupId,_.uid).pipe(J(x=>Lr({transactions:x||[]})),mt(x=>q(wi({error:x.message})))):q(wi({error:"User not authenticated"}))))))),this.loadSettlements$=Tt(()=>this.actions$.pipe(At(je),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(_=>_!=null&&_.uid?this.splitwiseService.getGroupSettlements(m.groupId,_.uid).pipe(J(x=>Ur({settlements:x||[]})),mt(x=>q(Pi({error:x.message})))):q(Pi({error:"User not authenticated"}))))))),this.createSplitTransaction$=Tt(()=>this.actions$.pipe(At(Br),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(_=>_!=null&&_.uid?this.splitwiseService.createSplitTransaction(m.request,_.uid).pipe(J(x=>zr({transaction:x})),mt(x=>q(Mi({error:x.message})))):q(Mi({error:"User not authenticated"}))))))),this.updateSplitTransaction$=Tt(()=>this.actions$.pipe(At(jr),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(_=>_!=null&&_.uid?W(this.splitwiseService.updateSplitTransaction(m.transactionId,m.updates)).pipe(J(()=>Gr({transaction:{id:m.transactionId}})),mt(x=>q(xi({error:x.message})))):q(xi({error:"User not authenticated"}))))))),this.createSettlement$=Tt(()=>this.actions$.pipe(At(Mn),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(_=>{if(!(_!=null&&_.uid))return q(Oi({error:"User not authenticated"}));let x={groupId:m.groupId,fromUserId:m.fromUserId,toUserId:m.toUserId,amount:m.amount,notes:m.notes};return W(this.splitwiseService.createSettlement(x)).pipe(J(R=>qr({settlement:{id:R}})),mt(R=>q(Oi({error:R.message}))))}))))),this.removeMember$=Tt(()=>this.actions$.pipe(At(Te),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(_=>_!=null&&_.uid?W(this.splitwiseService.removeMemberFromGroup(m.groupId,m.userId,_.uid)).pipe(J(()=>$r({groupId:m.groupId})),mt(x=>q(Ii({error:x.message})))):q(Ii({error:"User not authenticated"})))))))}};t.\u0275fac=function(r){return new(r||t)(Z(hd),Z(Dn),Z(cn),Z(Ft),Z(Mt))},t.\u0275prov=$t({token:t,factory:t.\u0275fac});let i=t;return i})();function Ig(i,t){if(i&1&&(f(0,"div",0)(1,"div",1),dt(2,"div",2),f(3,"p",3),M(4),b()()()),i&2){let o=F();I(4),rt(o.message)}}var E0=(()=>{let t=class t{constructor(n){this.loaderService=n,this.message="Loading...",this.loading$=this.loaderService.loading$}};t.\u0275fac=function(r){return new(r||t)(T(yc))},t.\u0275cmp=ht({type:t,selectors:[["app-loader"]],inputs:{message:"message"},standalone:!0,features:[Ze],decls:2,vars:3,consts:[[1,"loader-overlay"],[1,"loader"],[1,"spinner"],[1,"loader-message"]],template:function(r,a){r&1&&(j(0,Ig,5,1,"div",0),tn(1,"async")),r&2&&Et(en(1,1,a.loading$)?0:-1)},dependencies:[Qa],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#f9fafbf2;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9999}.loader[_ngcontent-%COMP%]{background:transparent;border-radius:1rem;padding:2rem;max-width:300px;width:90%;text-align:center;display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-top:4px solid #46777f;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loader-message[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:500;font-size:1.125rem;color:#1f2937;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.loader[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem}.loader-message[_ngcontent-%COMP%]{font-size:1rem}}"]});let i=t;return i})();var xd=(()=>{let t=class t{constructor(){this.currentLanguage=new Ra("en"),this.translations={loading:{en:"Loading...",hi:"\u0932\u094B\u0921 \u0939\u094B \u0930\u0939\u093E \u0939\u0948..."},error:{en:"Error",hi:"\u0924\u094D\u0930\u0941\u091F\u093F"},success:{en:"Success",hi:"\u0938\u092B\u0932\u0924\u093E"},cancel:{en:"Cancel",hi:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902"},save:{en:"Save",hi:"\u0938\u0939\u0947\u091C\u0947\u0902"},delete:{en:"Delete",hi:"\u0939\u091F\u093E\u090F\u0902"},edit:{en:"Edit",hi:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},add:{en:"Add",hi:"\u091C\u094B\u0921\u093C\u0947\u0902"},close:{en:"Close",hi:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902"},logout:{en:"Logout",hi:"\u0932\u0949\u0917\u0906\u0909\u091F"},login:{en:"Login",hi:"\u0932\u0949\u0917\u093F\u0928"},signup:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},email:{en:"Email",hi:"\u0908\u092E\u0947\u0932"},password:{en:"Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921"},name:{en:"Name",hi:"\u0928\u093E\u092E"},amount:{en:"Amount",hi:"\u0930\u093E\u0936\u093F"},date:{en:"Date",hi:"\u0924\u093E\u0930\u0940\u0916"},category:{en:"Category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940"},type:{en:"Type",hi:"\u092A\u094D\u0930\u0915\u093E\u0930"},income:{en:"Income",hi:"\u0906\u092F"},expense:{en:"Expense",hi:"\u0916\u0930\u094D\u091A"},total:{en:"Total",hi:"\u0915\u0941\u0932"},balance:{en:"Balance",hi:"\u0936\u0947\u0937 \u0930\u093E\u0936\u093F"},actions:{en:"Actions",hi:"\u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},search:{en:"Search",hi:"\u0916\u094B\u091C\u0947\u0902"},filter:{en:"Filter",hi:"\u092B\u093C\u093F\u0932\u094D\u091F\u0930"},clear:{en:"Clear",hi:"\u0938\u093E\u092B\u093C \u0915\u0930\u0947\u0902"},settings:{en:"Settings",hi:"\u0938\u0947\u091F\u093F\u0902\u0917\u094D\u0938"},dashboard:{en:"Dashboard",hi:"\u0921\u0948\u0936\u092C\u094B\u0930\u094D\u0921"},home:{en:"Home",hi:"\u0939\u094B\u092E"},accounts:{en:"Accounts",hi:"\u0916\u093E\u0924\u0947"},transactions:{en:"Transactions",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928"},categories:{en:"Categories",hi:"\u0936\u094D\u0930\u0947\u0923\u093F\u092F\u093E\u0902"},budgets:{en:"Budgets",hi:"\u092C\u091C\u091F"},goals:{en:"Goals",hi:"\u0932\u0915\u094D\u0937\u094D\u092F"},reports:{en:"Reports",hi:"\u0930\u093F\u092A\u094B\u0930\u094D\u091F\u094D\u0938"},calendar:{en:"Calendar",hi:"\u0915\u0948\u0932\u0947\u0902\u0921\u0930"},notes:{en:"Notes",hi:"\u0928\u094B\u091F\u094D\u0938"},tax:{en:"Tax",hi:"\u0915\u0930"},tools:{en:"Tools",hi:"\u0909\u092A\u0915\u0930\u0923"},moneyManager:{en:`${Jt.APP_NAME}`,hi:"\u092E\u0928\u0940 \u092E\u0948\u0928\u0947\u091C\u0930"},manageFinances:{en:"Manage your finances",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0915\u0930\u0947\u0902"},welcomeBack:{en:"Welcome Back!",hi:"\u0935\u093E\u092A\u0938\u0940 \u092A\u0930 \u0938\u094D\u0935\u093E\u0917\u0924 \u0939\u0948!"},youSpend:{en:"You Spend",hi:"\u0906\u092A\u0915\u093E \u0916\u0930\u094D\u091A"},youEarn:{en:"You Earn",hi:"\u0906\u092A\u0915\u0940 \u0915\u092E\u093E\u0908"},netBalance:{en:"Net Balance",hi:"\u0936\u0941\u0926\u094D\u0927 \u0936\u0947\u0937"},thisMonth:{en:"This Month",hi:"\u0907\u0938 \u092E\u0939\u0940\u0928\u0947"},lastMonth:{en:"Last Month",hi:"\u092A\u093F\u091B\u0932\u0947 \u092E\u0939\u0940\u0928\u0947"},quickActions:{en:"Quick Actions",hi:"\u0924\u094D\u0935\u0930\u093F\u0924 \u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},recentTransactions:{en:"Recent Transactions",hi:"\u0939\u093E\u0932 \u0915\u0947 \u0932\u0947\u0928-\u0926\u0947\u0928"},upcomingBills:{en:"Upcoming Bills",hi:"\u0906\u0917\u093E\u092E\u0940 \u092C\u093F\u0932"},savingsGoal:{en:"Savings Goal",hi:"\u092C\u091A\u0924 \u0932\u0915\u094D\u0937\u094D\u092F"},signIn:{en:"Sign In",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928"},signUp:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},signOut:{en:"Sign Out",hi:"\u0938\u093E\u0907\u0928 \u0906\u0909\u091F"},forgotPassword:{en:"Forgot Password?",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092D\u0942\u0932 \u0917\u090F?"},resetPassword:{en:"Reset Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0930\u0940\u0938\u0947\u091F \u0915\u0930\u0947\u0902"},emailPlaceholder:{en:"Enter your email",hi:"\u0905\u092A\u0928\u093E \u0908\u092E\u0947\u0932 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},passwordPlaceholder:{en:"Enter your password",hi:"\u0905\u092A\u0928\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},confirmPassword:{en:"Confirm Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0915\u0940 \u092A\u0941\u0937\u094D\u091F\u093F \u0915\u0930\u0947\u0902"},namePlaceholder:{en:"Enter your name",hi:"\u0905\u092A\u0928\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},loginSuccess:{en:"Successfully signed in",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},loginError:{en:"Failed to sign in",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},signupSuccess:{en:"Successfully signed up",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},signupError:{en:"Failed to sign up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},sessionExpired:{en:"Session expired. Please sign in again.",hi:"\u0938\u0924\u094D\u0930 \u0938\u092E\u093E\u092A\u094D\u0924 \u0939\u094B \u0917\u092F\u093E\u0964 \u0915\u0943\u092A\u092F\u093E \u092B\u093F\u0930 \u0938\u0947 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902\u0964"},invalidCredentials:{en:"Invalid email or password",hi:"\u0905\u092E\u093E\u0928\u094D\u092F \u0908\u092E\u0947\u0932 \u092F\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921"},passwordMismatch:{en:"Passwords do not match",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092E\u0947\u0932 \u0928\u0939\u0940\u0902 \u0916\u093E\u0924\u0947"},emailRequired:{en:"Email is required",hi:"\u0908\u092E\u0947\u0932 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},passwordRequired:{en:"Password is required",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},nameRequired:{en:"Name is required",hi:"\u0928\u093E\u092E \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},addTransaction:{en:"Add Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0947\u0902"},editTransaction:{en:"Edit Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},deleteTransaction:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},transactionHistory:{en:"Transaction History",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0907\u0924\u093F\u0939\u093E\u0938"},manageTransactions:{en:"Manage and track your financial transactions",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924\u0940\u092F \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0914\u0930 \u091F\u094D\u0930\u0948\u0915\u093F\u0902\u0917 \u0915\u0930\u0947\u0902"},payee:{en:"Payee",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E"},payeePlaceholder:{en:"Enter payee name",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E \u0915\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},amountPlaceholder:{en:"Enter amount",hi:"\u0930\u093E\u0936\u093F \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},categoryPlaceholder:{en:"Select category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940 \u091A\u0941\u0928\u0947\u0902"},datePlaceholder:{en:"Select date",hi:"\u0924\u093E\u0930\u0940\u0916 \u091A\u0941\u0928\u0947\u0902"},notesPlaceholder:{en:"Add notes (optional)",hi:"\u0928\u094B\u091F\u094D\u0938 \u091C\u094B\u0921\u093C\u0947\u0902 (\u0935\u0948\u0915\u0932\u094D\u092A\u093F\u0915)"},noTransactions:{en:"No transactions yet",hi:"\u0905\u092D\u0940 \u0924\u0915 \u0915\u094B\u0908 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0928\u0939\u0940\u0902"},noTransactionsMessage:{en:"Start by adding your first transaction to track your finances.",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u091F\u094D\u0930\u0948\u0915 \u0930\u0916\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0905\u092A\u0928\u093E \u092A\u0939\u0932\u093E \u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0915\u0930 \u0936\u0941\u0930\u0942 \u0915\u0930\u0947\u0902\u0964"},transactionAdded:{en:"Transaction added successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u091C\u094B\u0921\u093C\u093E \u0917\u092F\u093E"},transactionUpdated:{en:"Transaction updated successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0905\u092A\u0921\u0947\u091F \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},transactionDeleted:{en:"Transaction deleted successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},confirmDelete:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},confirmDeleteMessage:{en:"Are you sure you want to delete this transaction?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0907\u0938 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u094B \u0939\u091F\u093E\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"},networkError:{en:"Network error. Please check your connection.",hi:"\u0928\u0947\u091F\u0935\u0930\u094D\u0915 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0915\u0928\u0947\u0915\u094D\u0936\u0928 \u091C\u093E\u0902\u091A\u0947\u0902\u0964"},serverError:{en:"Server error. Please try again later.",hi:"\u0938\u0930\u094D\u0935\u0930 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u092C\u093E\u0926 \u092E\u0947\u0902 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},validationError:{en:"Please check your input and try again.",hi:"\u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0907\u0928\u092A\u0941\u091F \u091C\u093E\u0902\u091A\u0947\u0902 \u0914\u0930 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},dataSaved:{en:"Data saved successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u0939\u0947\u091C\u093E \u0917\u092F\u093E"},dataDeleted:{en:"Data deleted successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},changesDiscarded:{en:"Changes discarded",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917 \u0926\u093F\u090F \u0917\u090F"},unsavedChanges:{en:"You have unsaved changes",hi:"\u0906\u092A\u0915\u0947 \u092A\u093E\u0938 \u0905\u0938\u0939\u0947\u091C\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0939\u0948\u0902"},confirmDiscard:{en:"Discard Changes",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0947\u0902"},confirmDiscardMessage:{en:"Are you sure you want to discard your changes?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0905\u092A\u0928\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"}};let n=localStorage.getItem("app_language");n&&(n==="en"||n==="hi")?this.currentLanguage.next(n):navigator.language.split("-")[0]==="hi"&&this.currentLanguage.next("hi")}getCurrentLanguage(){return this.currentLanguage.asObservable()}getCurrentLanguageValue(){return this.currentLanguage.value}setLanguage(n){this.currentLanguage.next(n),localStorage.setItem("app_language",n)}translate(n){let r=this.translations[n];return r&&(r[this.currentLanguage.value]||r.en)||n}translateWithParams(n,r){let a=this.translate(n);return Object.keys(r).forEach(l=>{a=a.replace(`{{${l}}}`,r[l])}),a}getAvailableLanguages(){return[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"\u0939\u093F\u0902\u0926\u0940"}]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var k0=(()=>{let t=class t{constructor(n){this.translationService=n}transform(n,r){return r?this.translationService.translateWithParams(n,r):this.translationService.translate(n)}};t.\u0275fac=function(r){return new(r||t)(T(xd,16))},t.\u0275pipe=ir({name:"translate",type:t,pure:!0,standalone:!0});let i=t;return i})();var N0=(()=>{let t=class t{transform(n,r){if(n==null||n==="")return this.formatCurrency(0,r);let a=typeof n=="string"?parseFloat(n):n;return isNaN(a)?"Invalid amount":this.formatCurrency(a,r)}formatCurrency(n,r){let{currency:a=Jt.CURRENCY.DEFAULT,locale:l=Jt.LANGUAGE.DEFAULT,showSymbol:u=!0,showCode:m=!1,decimalPlaces:_,compact:x=!1,signDisplay:R="auto",notation:A="standard"}=r||{},k=this.getCurrencyConfig(a),N=n%1!==0,lt=_!==void 0?N?_:0:N?k.decimalPlaces:0,st=_!==void 0?_:k.decimalPlaces,kt={style:"currency",currency:a,minimumFractionDigits:lt,maximumFractionDigits:st,signDisplay:R,notation:x?"compact":A};u?m&&(kt.currencyDisplay="narrowSymbol"):kt.currencyDisplay="code";try{return new Intl.NumberFormat(l,kt).format(n)}catch(Bt){return console.error("Currency formatting error:",Bt),this.fallbackFormat(n,a,k)}}getCurrencyConfig(n){let r=n;return{symbol:Jt.CURRENCY.SYMBOLS[r]||n,decimalPlaces:Jt.CURRENCY.DECIMAL_PLACES[r]||2}}fallbackFormat(n,r,a){let l=a.symbol,u=n%1===0?n.toFixed(0):n.toFixed(a.decimalPlaces);return`${l}${u}`}static getCurrencySymbol(n){let r=n;return Jt.CURRENCY.SYMBOLS[r]||n}static getDecimalPlaces(n){let r=n;return Jt.CURRENCY.DECIMAL_PLACES[r]||2}static isSupportedCurrency(n){return Jt.CURRENCY.SUPPORTED.includes(n)}static getSupportedCurrencies(){return Jt.CURRENCY.SUPPORTED}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=ir({name:"currency",type:t,pure:!0,standalone:!0});let i=t;return i})();var Ib=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({providers:[Dn],imports:[dr,Ya,Xa,ri,od,Pc,sd,lc,hc,fc,bc,wc,Cc,gc,_c,xc,Oc,Sr,vc,ed,Za.forFeature("splitwise",Pd),vd.forFeature([Md])]});let i=t;return i})();export{Ct as a,k0 as b,Cn as c,yn as d,wn as e,Pn as f,Br as g,zl as h,Dn as i,hm as j,Ss as k,Jl as l,td as m,ed as n,N0 as o,su as p,Tg as q,Ag as r,sd as s,Tt as t,hd as u,At as v,vd as w,E0 as x,Ib as y};

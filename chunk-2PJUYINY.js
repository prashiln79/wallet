import{$d as Er,Ab as ai,Bb as Lt,Bd as _c,C as br,Cb as qo,Cd as ln,Db as lt,Dc as vr,Dd as bc,E as Cr,Fb as _t,Gb as ee,Ic as cc,Jb as ci,Kb as ne,Kc as lc,L as Ya,M as yr,Md as Cc,N as Xa,Nb as Kt,O as Ja,Ob as jt,Oc as Ht,Od as yc,Pb as rc,Pd as Pc,Qd as Ee,Rc as ie,Rd as Or,S as L,Sc as dc,Sd as xr,T as z,Td as Ir,Uc as uc,Ud as vc,Wc as mc,Xc as hc,Xd as Mc,Yb as Ko,Yd as dn,Zd as un,_ as Za,_d as mn,aa as Ft,ae as hn,ba as st,bc as Jt,be as wc,ca as Pr,cb as nc,cd as Mr,ce as Sr,da as Go,de as Tr,ea as $o,ee as Oc,fa as tc,fe as xc,ga as U,ge as Ic,ha as ec,j as hr,kc as oc,l as on,md as xe,o as si,pc as sc,pd as Ut,qc as sn,qd as gc,r as gr,rc as an,rd as Ie,sd as pc,t as Oe,tb as wt,u as pr,ud as cn,v as fr,vd as wr,wd as fc,xc as ac,xd as re,yb as ic,z as _r}from"./chunk-YEEZXU7R.js";import{$b as _,Aa as gt,Ad as Wa,Ba as Rt,Bd as ur,Ca as Ue,Da as or,Dc as ri,Ec as Ze,F as ei,Fd as mr,H as ue,Hb as qa,J as mt,Ja as sr,Jc as tn,Ka as X,Kc as en,La as J,Lb as Lo,Ma as No,N as ir,Nb as ni,Nd as Ho,O as Fa,Od as Qo,Pa as ja,Qb as j,Qd as li,R as La,Ra as Ga,Rb as Xe,Rd as di,Sb as N,T as Ua,Tb as Ka,Td as Wo,Ub as Xt,Vb as Je,W as Ro,Wa as Vo,Xb as Et,Ya as Nt,Z as Ba,Zb as Uo,_b as Bo,a as nr,ac as b,bc as dt,bd as nn,c as Ra,cb as Fo,f as Yt,fa as za,fc as ht,g as Na,gd as oi,ha as me,hd as Ha,ic as B,kc as V,l as Va,lc as cr,mc as we,oc as zo,p as W,pa as qt,pb as ar,pc as jo,pd as Qa,q as $,qa as Dt,qc as lr,rc as dr,sa as It,ua as nt,ub as I,uc as ii,v as et,va as rr,vb as R,vc as O,wc as ot,x as Y,xb as $a,xc as q,xd as rn,yd as Vt}from"./chunk-6PX2HEG6.js";import{a as k,b as F,k as G}from"./chunk-LKDXID24.js";var Yo=Pr("profile"),cu=st(Yo,i=>i.profile),kg=st(Yo,i=>i.loading),Dg=st(Yo,i=>i.error),gn=st(cu,i=>i==null?void 0:i.preferences),Xo=st(gn,i=>i==null?void 0:i.defaultCurrency),Rg=st(gn,i=>i==null?void 0:i.language),Ng=st(gn,i=>i==null?void 0:i.timezone),Vg=st(gn,i=>i==null?void 0:i.notifications),Fg=st(gn,i=>i==null?void 0:i.emailUpdates),Lg=st(gn,i=>i==null?void 0:i.budgetAlerts);var Ec=function(i){let t=[],o=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?t[o++]=r:r<2048?(t[o++]=r>>6|192,t[o++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),t[o++]=r>>18|240,t[o++]=r>>12&63|128,t[o++]=r>>6&63|128,t[o++]=r&63|128):(t[o++]=r>>12|224,t[o++]=r>>6&63|128,t[o++]=r&63|128)}return t},du=function(i){let t=[],o=0,n=0;for(;o<i.length;){let r=i[o++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let a=i[o++];t[n++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){let a=i[o++],l=i[o++],u=i[o++],m=((r&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;t[n++]=String.fromCharCode(55296+(m>>10)),t[n++]=String.fromCharCode(56320+(m&1023))}else{let a=i[o++],l=i[o++];t[n++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return t.join("")},uu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();let o=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){let a=i[r],l=r+1<i.length,u=l?i[r+1]:0,m=r+2<i.length,g=m?i[r+2]:0,C=a>>2,S=(a&3)<<4|u>>4,T=(u&15)<<2|g>>6,A=g&63;m||(A=64,l||(T=64)),n.push(o[C],o[S],o[T],o[A])}return n.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Ec(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):du(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();let o=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){let a=o[i.charAt(r++)],u=r<i.length?o[i.charAt(r)]:0;++r;let g=r<i.length?o[i.charAt(r)]:64;++r;let S=r<i.length?o[i.charAt(r)]:64;if(++r,a==null||u==null||g==null||S==null)throw new Jo;let T=a<<2|u>>4;if(n.push(T),g!==64){let A=u<<4&240|g>>2;if(n.push(A),S!==64){let D=g<<6&192|S;n.push(D)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},Jo=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},mu=function(i){let t=Ec(i);return uu.encodeByteArray(t,!0)},Zo=function(i){return mu(i).replace(/\./g,"")};function ts(){try{return typeof indexedDB=="object"}catch{return!1}}function Sc(){return new Promise((i,t)=>{try{let o=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),o||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{o=!1},r.onerror=()=>{var a;t(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(o){t(o)}})}var hu="FirebaseError",he=class i extends Error{constructor(t,o,n){super(o),this.code=t,this.customData=n,this.name=hu,Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ui.prototype.create)}},ui=class{constructor(t,o,n){this.service=t,this.serviceName=o,this.errors=n}create(t,...o){let n=o[0]||{},r=`${this.service}/${t}`,a=this.errors[t],l=a?gu(a,n):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new he(r,u,n)}};function gu(i,t){return i.replace(pu,(o,n)=>{let r=t[n];return r!=null?String(r):`<${n}?>`})}var pu=/\{\$([^}]+)}/g;var jg=4*60*60*1e3;var Se=class{constructor(t,o,n){this.name=t,this.instanceFactory=o,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var fu=[],rt=function(i){return i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",i}(rt||{}),_u={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},bu=rt.INFO,Cu={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},yu=(i,t,...o)=>{if(t<i.logLevel)return;let n=new Date().toISOString(),r=Cu[t];if(r)console[r](`[${n}]  ${i.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},pn=class{constructor(t){this.name=t,this._logLevel=bu,this._logHandler=yu,this._userLogHandler=null,fu.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in rt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_u[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...t),this._logHandler(this,rt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...t),this._logHandler(this,rt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...t),this._logHandler(this,rt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...t),this._logHandler(this,rt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...t),this._logHandler(this,rt.ERROR,...t)}};var ns=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(vu(o)){let n=o.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(o=>o).join(" ")}};function vu(i){let t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}var is="@firebase/app",Tc="0.13.2";var ge=new pn("@firebase/app"),Mu="@firebase/app-compat",wu="@firebase/analytics-compat",Ou="@firebase/analytics",xu="@firebase/app-check-compat",Iu="@firebase/app-check",Eu="@firebase/auth",Su="@firebase/auth-compat",Tu="@firebase/database",Au="@firebase/data-connect",ku="@firebase/database-compat",Du="@firebase/functions",Ru="@firebase/functions-compat",Nu="@firebase/installations",Vu="@firebase/installations-compat",Fu="@firebase/messaging",Lu="@firebase/messaging-compat",Uu="@firebase/performance",Bu="@firebase/performance-compat",zu="@firebase/remote-config",ju="@firebase/remote-config-compat",Gu="@firebase/storage",$u="@firebase/storage-compat",qu="@firebase/firestore",Ku="@firebase/ai",Hu="@firebase/firestore-compat",Qu="firebase",Wu="11.10.0";var Yu={[is]:"fire-core",[Mu]:"fire-core-compat",[Ou]:"fire-analytics",[wu]:"fire-analytics-compat",[Iu]:"fire-app-check",[xu]:"fire-app-check-compat",[Eu]:"fire-auth",[Su]:"fire-auth-compat",[Tu]:"fire-rtdb",[Au]:"fire-data-connect",[ku]:"fire-rtdb-compat",[Du]:"fire-fn",[Ru]:"fire-fn-compat",[Nu]:"fire-iid",[Vu]:"fire-iid-compat",[Fu]:"fire-fcm",[Lu]:"fire-fcm-compat",[Uu]:"fire-perf",[Bu]:"fire-perf-compat",[zu]:"fire-rc",[ju]:"fire-rc-compat",[Gu]:"fire-gcs",[$u]:"fire-gcs-compat",[qu]:"fire-fst",[Hu]:"fire-fst-compat",[Ku]:"fire-vertex","fire-js":"fire-js",[Qu]:"fire-js-all"};var Xu=new Map,Ju=new Map,Ac=new Map;function kc(i,t){try{i.container.addComponent(t)}catch(o){ge.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,o)}}function mi(i){let t=i.name;if(Ac.has(t))return ge.debug(`There were multiple attempts to register component ${t}.`),!1;Ac.set(t,i);for(let o of Xu.values())kc(o,i);for(let o of Ju.values())kc(o,i);return!0}function Vc(i){return i==null?!1:i.settings!==void 0}var Zu={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new ui("app","Firebase",Zu);var Fc=Wu;function fn(i,t,o){var n;let r=(n=Yu[i])!==null&&n!==void 0?n:i;o&&(r+=`-${o}`);let a=r.match(/\s|\//),l=t.match(/\s|\//);if(a||l){let u=[`Unable to register library "${r}" with version "${t}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ge.warn(u.join(" "));return}mi(new Se(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var tm="firebase-heartbeat-database",em=1,hi="firebase-heartbeat-store",es=null;function Lc(){return es||(es=nc(tm,em,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(hi)}catch(o){console.warn(o)}}}}).catch(i=>{throw ss.create("idb-open",{originalErrorMessage:i.message})})),es}function nm(i){return G(this,null,function*(){try{let o=(yield Lc()).transaction(hi),n=yield o.objectStore(hi).get(Uc(i));return yield o.done,n}catch(t){if(t instanceof he)ge.warn(t.message);else{let o=ss.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ge.warn(o.message)}}})}function Dc(i,t){return G(this,null,function*(){try{let n=(yield Lc()).transaction(hi,"readwrite");yield n.objectStore(hi).put(t,Uc(i)),yield n.done}catch(o){if(o instanceof he)ge.warn(o.message);else{let n=ss.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});ge.warn(n.message)}}})}function Uc(i){return`${i.name}!${i.options.appId}`}var im=1024,rm=30,rs=class{constructor(t){this.container=t,this._heartbeatsCache=null;let o=this.container.getProvider("app").getImmediate();this._storage=new os(o),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return G(this,null,function*(){var t,o;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Rc();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((o=this._heartbeatsCache)===null||o===void 0?void 0:o.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>rm){let l=sm(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ge.warn(n)}})}getHeartbeatsHeader(){return G(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let o=Rc(),{heartbeatsToSend:n,unsentEntries:r}=om(this._heartbeatsCache.heartbeats),a=Zo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=o,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(o){return ge.warn(o),""}})}};function Rc(){return new Date().toISOString().substring(0,10)}function om(i,t=im){let o=[],n=i.slice();for(let r of i){let a=o.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),Nc(o)>t){a.dates.pop();break}}else if(o.push({agent:r.agent,dates:[r.date]}),Nc(o)>t){o.pop();break}n=n.slice(1)}return{heartbeatsToSend:o,unsentEntries:n}}var os=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return G(this,null,function*(){return ts()?Sc().then(()=>!0).catch(()=>!1):!1})}read(){return G(this,null,function*(){if(yield this._canUseIndexedDBPromise){let o=yield nm(this.app);return o!=null&&o.heartbeats?o:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return G(this,null,function*(){var o;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Dc(this.app,{lastSentHeartbeatDate:(o=t.lastSentHeartbeatDate)!==null&&o!==void 0?o:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return G(this,null,function*(){var o;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Dc(this.app,{lastSentHeartbeatDate:(o=t.lastSentHeartbeatDate)!==null&&o!==void 0?o:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function Nc(i){return Zo(JSON.stringify({version:2,heartbeats:i})).length}function sm(i){if(i.length===0)return-1;let t=0,o=i[0].date;for(let n=1;n<i.length;n++)i[n].date<o&&(o=i[n].date,t=n);return t}function am(i){mi(new Se("platform-logger",t=>new ns(t),"PRIVATE")),mi(new Se("heartbeat",t=>new rs(t),"PRIVATE")),fn(is,Tc,i),fn(is,Tc,"esm2017"),fn("fire-js","")}am("");function lm(i,t){i&1&&dt(0,"mat-spinner",23)}function dm(i,t){i&1&&(_(0,"p",16),O(1,"Group name is required"),b())}function um(i,t){i&1&&(_(0,"p",16),O(1,"Group name must be at least 2 characters"),b())}function mm(i,t){i&1&&(_(0,"p",16),O(1,"Group name must not exceed 50 characters"),b())}function hm(i,t){i&1&&(_(0,"p",16),O(1,"Description must not exceed 200 characters"),b())}var zc=(()=>{let t=class t{constructor(n,r,a,l){this.fb=n,this.dialogRef=r,this.auth=a,this.store=l,this.isSubmitting=!1,this.userCurrency$=this.store.select(Xo),this.groupForm=this.fb.group({name:["",[Oe.required,Oe.minLength(2),Oe.maxLength(50)]],description:["",[Oe.maxLength(200)]],initialMembers:[[]]})}ngOnInit(){}onSubmit(){return G(this,null,function*(){var n;if(this.groupForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let r=this.groupForm.value,a=this.store.select(Xo),l="USD";a.subscribe(m=>{m&&(l=m)}).unsubscribe();let u={name:r.name.trim(),description:((n=r.description)==null?void 0:n.trim())||"",currency:l,initialMembers:r.initialMembers||[]};this.dialogRef.close(u)}catch(r){console.error("Error creating group:",r)}finally{this.isSubmitting=!1}}else this.groupForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(n){var a,l;let r=this.groupForm.get(n);return r!=null&&r.hasError("required")?`${n.charAt(0).toUpperCase()+n.slice(1)} is required`:r!=null&&r.hasError("minlength")?`${n.charAt(0).toUpperCase()+n.slice(1)} must be at least ${(a=r.errors)==null?void 0:a.minlength.requiredLength} characters`:r!=null&&r.hasError("maxlength")?`${n.charAt(0).toUpperCase()+n.slice(1)} must not exceed ${(l=r.errors)==null?void 0:l.maxlength.requiredLength} characters`:""}};t.\u0275fac=function(r){return new(r||t)(R(yr),R(wr),R(wt),R(Ft))},t.\u0275cmp=gt({type:t,selectors:[["app-create-group-dialog"]],decls:55,vars:10,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Create Group",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"group-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","text","formControlName","name","placeholder","Enter group name","autofocus","","maxlength","50",1,"form-input"],[1,"field-footer"],[1,"error-message"],[1,"character-count"],["formControlName","description","placeholder","Describe your group","maxlength","200","rows","3",1,"form-input"],[1,"info-section"],[1,"info-icon"],[1,"info-content"],[1,"bottom-spacing"],["diameter","16"]],template:function(r,a){if(r&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),B("click",function(){return a.onCancel()}),_(4,"mat-icon"),O(5,"arrow_back"),b()(),_(6,"h6",4),O(7," Create New Group "),b()(),_(8,"button",5),B("click",function(){return a.onCancel()}),_(9,"mat-icon"),O(10,"close"),b()(),_(11,"button",6),B("click",function(){return a.onSubmit()}),j(12,lm,1,0,"mat-spinner",7),O(13),b()()(),_(14,"div",8)(15,"div",9)(16,"form",10),B("ngSubmit",function(){return a.onSubmit()}),_(17,"div",11)(18,"label",12)(19,"mat-icon",13),O(20,"group"),b(),O(21," Group Name * "),b(),dt(22,"input",14),_(23,"div",15),j(24,dm,2,0,"p",16)(25,um,2,0,"p",16)(26,mm,2,0,"p",16),_(27,"span",17),O(28),b()()(),_(29,"div",11)(30,"label",12)(31,"mat-icon",13),O(32,"description"),b(),O(33," Description (Optional) "),b(),dt(34,"textarea",18),_(35,"div",15),j(36,hm,2,0,"p",16),_(37,"span",17),O(38),b()()(),_(39,"div",19)(40,"mat-icon",20),O(41,"info"),b(),_(42,"div",21)(43,"h4"),O(44,"What happens next?"),b(),_(45,"ul")(46,"li"),O(47,"You'll be added as the group admin"),b(),_(48,"li"),O(49,"You can invite friends by email"),b(),_(50,"li"),O(51,"Start adding shared expenses"),b(),_(52,"li"),O(53,"Track who owes what to whom"),b()()()(),dt(54,"div",22),b()()()),r&2){let l,u,m,g,C,S;I(11),N("disabled",a.groupForm.invalid||a.isSubmitting),I(),N("ngIf",a.isSubmitting),I(),q(" ",a.isSubmitting?"Creating...":"Create"," "),I(3),N("formGroup",a.groupForm),I(8),Et((l=a.groupForm.get("name"))!=null&&l.hasError("required")&&((l=a.groupForm.get("name"))!=null&&l.touched)?24:-1),I(),Et((u=a.groupForm.get("name"))!=null&&u.hasError("minlength")&&((u=a.groupForm.get("name"))!=null&&u.touched)?25:-1),I(),Et((m=a.groupForm.get("name"))!=null&&m.hasError("maxlength")&&((m=a.groupForm.get("name"))!=null&&m.touched)?26:-1),I(2),q(" ",((g=a.groupForm.get("name"))==null||g.value==null?null:g.value.length)||0,"/50 "),I(8),Et((C=a.groupForm.get("description"))!=null&&C.hasError("maxlength")&&((C=a.groupForm.get("description"))!=null&&C.touched)?36:-1),I(2),q(" ",((S=a.groupForm.get("description"))==null||S.value==null?null:S.value.length)||0,"/200 ")}},dependencies:[Vt,_r,gr,pr,fr,Ya,br,Cr,Ht,ie,Ut,Ie,ln],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease;resize:vertical}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{font-size:.7rem}}.info-section[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.25rem;background:#f8f9fa;border-radius:12px;border-left:4px solid #3b82f6;margin-top:.5rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;gap:.75rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px;gap:.5rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{background:#1f2937;border-left-color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.5rem;width:1.5rem;height:1.5rem;margin-top:.125rem;flex-shrink:0}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{flex:1}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#1f2937;font-weight:600;font-size:1rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:.5rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.375rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem;color:#6b7280}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:.875rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#9ca3af}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.375rem;font-size:.875rem;line-height:1.4}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.25rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.125rem}}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let i=t;return i})();var yn=L("[Splitwise] Load Groups"),Ar=L("[Splitwise] Load Groups Success",z()),fi=L("[Splitwise] Load Groups Failure",z()),pe=L("[Splitwise] Load Group by ID",z()),kr=L("[Splitwise] Load Group by ID Success",z()),_i=L("[Splitwise] Load Group by ID Failure",z()),Pn=L("[Splitwise] Load Invitations"),Dr=L("[Splitwise] Load Invitations Success",z()),bi=L("[Splitwise] Load Invitations Failure",z()),vn=L("[Splitwise] Create Group",z()),Rr=L("[Splitwise] Create Group Success",z()),Ci=L("[Splitwise] Create Group Failure",z()),oe=L("[Splitwise] Add Member",z()),Nr=L("[Splitwise] Add Member Success",z()),yi=L("[Splitwise] Add Member Failure",z()),Mn=L("[Splitwise] Accept Invitation",z()),Vr=L("[Splitwise] Accept Invitation Success",z()),Pi=L("[Splitwise] Accept Invitation Failure",z()),wn=L("[Splitwise] Decline Invitation",z()),Fr=L("[Splitwise] Decline Invitation Success",z()),vi=L("[Splitwise] Decline Invitation Failure",z()),Te=L("[Splitwise] Delete Group",z()),Lr=L("[Splitwise] Delete Group Success",z()),Mi=L("[Splitwise] Delete Group Failure",z()),jc=L("[Splitwise] Select Group",z()),ze=L("[Splitwise] Load Transactions",z()),Ur=L("[Splitwise] Load Transactions Success",z()),wi=L("[Splitwise] Load Transactions Failure",z()),je=L("[Splitwise] Load Settlements",z()),Br=L("[Splitwise] Load Settlements Success",z()),Oi=L("[Splitwise] Load Settlements Failure",z()),zr=L("[Splitwise] Create Split Transaction",z()),jr=L("[Splitwise] Create Split Transaction Success",z()),xi=L("[Splitwise] Create Split Transaction Failure",z()),On=L("[Splitwise] Update Split Transaction",z()),Gr=L("[Splitwise] Update Split Transaction Success",z()),Ii=L("[Splitwise] Update Split Transaction Failure",z()),xn=L("[Splitwise] Create Settlement",z()),$r=L("[Splitwise] Create Settlement Success",z()),Ei=L("[Splitwise] Create Settlement Failure",z()),Ae=L("[Splitwise] Remove Member",z()),qr=L("[Splitwise] Remove Member Success",z()),Si=L("[Splitwise] Remove Member Failure",z()),ke=L("[Splitwise] Clear Error");var De=Pr("splitwise"),In=st(De,i=>i),gm=st(De,i=>i.groups),pm=st(De,i=>i.invitations),fm=st(De,i=>i.transactions),_m=st(De,i=>i.settlements),Kr=st(De,i=>i.selectedGroup),pp=st(De,i=>i.loading),fp=st(De,i=>i.error),_p=st(gm,i=>i.filter(t=>t.isActive)),bp=st(pm,i=>i.filter(t=>t.status==="pending")),Cp=st(fm,Kr,(i,t)=>t?i.filter(o=>o.groupId===t.id):[]),yp=st(_m,Kr,(i,t)=>t?i.filter(o=>o.groupId===t.id):[]),Pp=st(Kr,i=>(i==null?void 0:i.members.filter(t=>t.isActive).length)||0),vp=st(Kr,i=>"");var Ge=function(i){return i.ADMIN="admin",i.MEMBER="member",i}(Ge||{}),cs=function(i){return i.PENDING="pending",i.PARTIAL="partial",i.COMPLETED="completed",i.CANCELLED="cancelled",i}(cs||{}),Ai=function(i){return i.PENDING="pending",i.COMPLETED="completed",i.CANCELLED="cancelled",i}(Ai||{}),En=function(i){return i.PENDING="pending",i.ACCEPTED="accepted",i.DECLINED="declined",i.EXPIRED="expired",i}(En||{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$c={};var Hr,qc;(function(){var i;function t(M,h){function f(){}f.prototype=h.prototype,M.D=h.prototype,M.prototype=new f,M.prototype.constructor=M,M.C=function(y,P,w){for(var p=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)p[ce-2]=arguments[ce];return h.prototype[P].apply(y,p)}}function o(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,o),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,h,f){f||(f=0);var y=Array(16);if(typeof h=="string")for(var P=0;16>P;++P)y[P]=h.charCodeAt(f++)|h.charCodeAt(f++)<<8|h.charCodeAt(f++)<<16|h.charCodeAt(f++)<<24;else for(P=0;16>P;++P)y[P]=h[f++]|h[f++]<<8|h[f++]<<16|h[f++]<<24;h=M.g[0],f=M.g[1],P=M.g[2];var w=M.g[3],p=h+(w^f&(P^w))+y[0]+3614090360&4294967295;h=f+(p<<7&4294967295|p>>>25),p=w+(P^h&(f^P))+y[1]+3905402710&4294967295,w=h+(p<<12&4294967295|p>>>20),p=P+(f^w&(h^f))+y[2]+606105819&4294967295,P=w+(p<<17&4294967295|p>>>15),p=f+(h^P&(w^h))+y[3]+3250441966&4294967295,f=P+(p<<22&4294967295|p>>>10),p=h+(w^f&(P^w))+y[4]+4118548399&4294967295,h=f+(p<<7&4294967295|p>>>25),p=w+(P^h&(f^P))+y[5]+1200080426&4294967295,w=h+(p<<12&4294967295|p>>>20),p=P+(f^w&(h^f))+y[6]+2821735955&4294967295,P=w+(p<<17&4294967295|p>>>15),p=f+(h^P&(w^h))+y[7]+4249261313&4294967295,f=P+(p<<22&4294967295|p>>>10),p=h+(w^f&(P^w))+y[8]+1770035416&4294967295,h=f+(p<<7&4294967295|p>>>25),p=w+(P^h&(f^P))+y[9]+2336552879&4294967295,w=h+(p<<12&4294967295|p>>>20),p=P+(f^w&(h^f))+y[10]+4294925233&4294967295,P=w+(p<<17&4294967295|p>>>15),p=f+(h^P&(w^h))+y[11]+2304563134&4294967295,f=P+(p<<22&4294967295|p>>>10),p=h+(w^f&(P^w))+y[12]+1804603682&4294967295,h=f+(p<<7&4294967295|p>>>25),p=w+(P^h&(f^P))+y[13]+4254626195&4294967295,w=h+(p<<12&4294967295|p>>>20),p=P+(f^w&(h^f))+y[14]+2792965006&4294967295,P=w+(p<<17&4294967295|p>>>15),p=f+(h^P&(w^h))+y[15]+1236535329&4294967295,f=P+(p<<22&4294967295|p>>>10),p=h+(P^w&(f^P))+y[1]+4129170786&4294967295,h=f+(p<<5&4294967295|p>>>27),p=w+(f^P&(h^f))+y[6]+3225465664&4294967295,w=h+(p<<9&4294967295|p>>>23),p=P+(h^f&(w^h))+y[11]+643717713&4294967295,P=w+(p<<14&4294967295|p>>>18),p=f+(w^h&(P^w))+y[0]+3921069994&4294967295,f=P+(p<<20&4294967295|p>>>12),p=h+(P^w&(f^P))+y[5]+3593408605&4294967295,h=f+(p<<5&4294967295|p>>>27),p=w+(f^P&(h^f))+y[10]+38016083&4294967295,w=h+(p<<9&4294967295|p>>>23),p=P+(h^f&(w^h))+y[15]+3634488961&4294967295,P=w+(p<<14&4294967295|p>>>18),p=f+(w^h&(P^w))+y[4]+3889429448&4294967295,f=P+(p<<20&4294967295|p>>>12),p=h+(P^w&(f^P))+y[9]+568446438&4294967295,h=f+(p<<5&4294967295|p>>>27),p=w+(f^P&(h^f))+y[14]+3275163606&4294967295,w=h+(p<<9&4294967295|p>>>23),p=P+(h^f&(w^h))+y[3]+4107603335&4294967295,P=w+(p<<14&4294967295|p>>>18),p=f+(w^h&(P^w))+y[8]+1163531501&4294967295,f=P+(p<<20&4294967295|p>>>12),p=h+(P^w&(f^P))+y[13]+2850285829&4294967295,h=f+(p<<5&4294967295|p>>>27),p=w+(f^P&(h^f))+y[2]+4243563512&4294967295,w=h+(p<<9&4294967295|p>>>23),p=P+(h^f&(w^h))+y[7]+1735328473&4294967295,P=w+(p<<14&4294967295|p>>>18),p=f+(w^h&(P^w))+y[12]+2368359562&4294967295,f=P+(p<<20&4294967295|p>>>12),p=h+(f^P^w)+y[5]+4294588738&4294967295,h=f+(p<<4&4294967295|p>>>28),p=w+(h^f^P)+y[8]+2272392833&4294967295,w=h+(p<<11&4294967295|p>>>21),p=P+(w^h^f)+y[11]+1839030562&4294967295,P=w+(p<<16&4294967295|p>>>16),p=f+(P^w^h)+y[14]+4259657740&4294967295,f=P+(p<<23&4294967295|p>>>9),p=h+(f^P^w)+y[1]+2763975236&4294967295,h=f+(p<<4&4294967295|p>>>28),p=w+(h^f^P)+y[4]+1272893353&4294967295,w=h+(p<<11&4294967295|p>>>21),p=P+(w^h^f)+y[7]+4139469664&4294967295,P=w+(p<<16&4294967295|p>>>16),p=f+(P^w^h)+y[10]+3200236656&4294967295,f=P+(p<<23&4294967295|p>>>9),p=h+(f^P^w)+y[13]+681279174&4294967295,h=f+(p<<4&4294967295|p>>>28),p=w+(h^f^P)+y[0]+3936430074&4294967295,w=h+(p<<11&4294967295|p>>>21),p=P+(w^h^f)+y[3]+3572445317&4294967295,P=w+(p<<16&4294967295|p>>>16),p=f+(P^w^h)+y[6]+76029189&4294967295,f=P+(p<<23&4294967295|p>>>9),p=h+(f^P^w)+y[9]+3654602809&4294967295,h=f+(p<<4&4294967295|p>>>28),p=w+(h^f^P)+y[12]+3873151461&4294967295,w=h+(p<<11&4294967295|p>>>21),p=P+(w^h^f)+y[15]+530742520&4294967295,P=w+(p<<16&4294967295|p>>>16),p=f+(P^w^h)+y[2]+3299628645&4294967295,f=P+(p<<23&4294967295|p>>>9),p=h+(P^(f|~w))+y[0]+4096336452&4294967295,h=f+(p<<6&4294967295|p>>>26),p=w+(f^(h|~P))+y[7]+1126891415&4294967295,w=h+(p<<10&4294967295|p>>>22),p=P+(h^(w|~f))+y[14]+2878612391&4294967295,P=w+(p<<15&4294967295|p>>>17),p=f+(w^(P|~h))+y[5]+4237533241&4294967295,f=P+(p<<21&4294967295|p>>>11),p=h+(P^(f|~w))+y[12]+1700485571&4294967295,h=f+(p<<6&4294967295|p>>>26),p=w+(f^(h|~P))+y[3]+2399980690&4294967295,w=h+(p<<10&4294967295|p>>>22),p=P+(h^(w|~f))+y[10]+4293915773&4294967295,P=w+(p<<15&4294967295|p>>>17),p=f+(w^(P|~h))+y[1]+2240044497&4294967295,f=P+(p<<21&4294967295|p>>>11),p=h+(P^(f|~w))+y[8]+1873313359&4294967295,h=f+(p<<6&4294967295|p>>>26),p=w+(f^(h|~P))+y[15]+4264355552&4294967295,w=h+(p<<10&4294967295|p>>>22),p=P+(h^(w|~f))+y[6]+2734768916&4294967295,P=w+(p<<15&4294967295|p>>>17),p=f+(w^(P|~h))+y[13]+1309151649&4294967295,f=P+(p<<21&4294967295|p>>>11),p=h+(P^(f|~w))+y[4]+4149444226&4294967295,h=f+(p<<6&4294967295|p>>>26),p=w+(f^(h|~P))+y[11]+3174756917&4294967295,w=h+(p<<10&4294967295|p>>>22),p=P+(h^(w|~f))+y[2]+718787259&4294967295,P=w+(p<<15&4294967295|p>>>17),p=f+(w^(P|~h))+y[9]+3951481745&4294967295,M.g[0]=M.g[0]+h&4294967295,M.g[1]=M.g[1]+(P+(p<<21&4294967295|p>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+w&4294967295}n.prototype.u=function(M,h){h===void 0&&(h=M.length);for(var f=h-this.blockSize,y=this.B,P=this.h,w=0;w<h;){if(P==0)for(;w<=f;)r(this,M,w),w+=this.blockSize;if(typeof M=="string"){for(;w<h;)if(y[P++]=M.charCodeAt(w++),P==this.blockSize){r(this,y),P=0;break}}else for(;w<h;)if(y[P++]=M[w++],P==this.blockSize){r(this,y),P=0;break}}this.h=P,this.o+=h},n.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var h=1;h<M.length-8;++h)M[h]=0;var f=8*this.o;for(h=M.length-8;h<M.length;++h)M[h]=f&255,f/=256;for(this.u(M),M=Array(16),h=f=0;4>h;++h)for(var y=0;32>y;y+=8)M[f++]=this.g[h]>>>y&255;return M};function a(M,h){var f=u;return Object.prototype.hasOwnProperty.call(f,M)?f[M]:f[M]=h(M)}function l(M,h){this.h=h;for(var f=[],y=!0,P=M.length-1;0<=P;P--){var w=M[P]|0;y&&w==h||(f[P]=w,y=!1)}this.g=f}var u={};function m(M){return-128<=M&&128>M?a(M,function(h){return new l([h|0],0>h?-1:0)}):new l([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return tt(g(-M));for(var h=[],f=1,y=0;M>=f;y++)h[y]=M/f|0,f*=4294967296;return new l(h,0)}function C(M,h){if(M.length==0)throw Error("number format error: empty string");if(h=h||10,2>h||36<h)throw Error("radix out of range: "+h);if(M.charAt(0)=="-")return tt(C(M.substring(1),h));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var f=g(Math.pow(h,8)),y=S,P=0;P<M.length;P+=8){var w=Math.min(8,M.length-P),p=parseInt(M.substring(P,P+w),h);8>w?(w=g(Math.pow(h,w)),y=y.j(w).add(g(p))):(y=y.j(f),y=y.add(g(p)))}return y}var S=m(0),T=m(1),A=m(16777216);i=l.prototype,i.m=function(){if(at(this))return-tt(this).m();for(var M=0,h=1,f=0;f<this.g.length;f++){var y=this.i(f);M+=(0<=y?y:4294967296+y)*h,h*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(D(this))return"0";if(at(this))return"-"+tt(this).toString(M);for(var h=g(Math.pow(M,6)),f=this,y="";;){var P=Ce(f,h).g;f=kt(f,P.j(h));var w=((0<f.g.length?f.g[0]:f.h)>>>0).toString(M);if(f=P,D(f))return w+y;for(;6>w.length;)w="0"+w;y=w+y}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function D(M){if(M.h!=0)return!1;for(var h=0;h<M.g.length;h++)if(M.g[h]!=0)return!1;return!0}function at(M){return M.h==-1}i.l=function(M){return M=kt(this,M),at(M)?-1:D(M)?0:1};function tt(M){for(var h=M.g.length,f=[],y=0;y<h;y++)f[y]=~M.g[y];return new l(f,~M.h).add(T)}i.abs=function(){return at(this)?tt(this):this},i.add=function(M){for(var h=Math.max(this.g.length,M.g.length),f=[],y=0,P=0;P<=h;P++){var w=y+(this.i(P)&65535)+(M.i(P)&65535),p=(w>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);y=p>>>16,w&=65535,p&=65535,f[P]=p<<16|w}return new l(f,f[f.length-1]&-2147483648?-1:0)};function kt(M,h){return M.add(tt(h))}i.j=function(M){if(D(this)||D(M))return S;if(at(this))return at(M)?tt(this).j(tt(M)):tt(tt(this).j(M));if(at(M))return tt(this.j(tt(M)));if(0>this.l(A)&&0>M.l(A))return g(this.m()*M.m());for(var h=this.g.length+M.g.length,f=[],y=0;y<2*h;y++)f[y]=0;for(y=0;y<this.g.length;y++)for(var P=0;P<M.g.length;P++){var w=this.i(y)>>>16,p=this.i(y)&65535,ce=M.i(P)>>>16,Vn=M.i(P)&65535;f[2*y+2*P]+=p*Vn,Bt(f,2*y+2*P),f[2*y+2*P+1]+=w*Vn,Bt(f,2*y+2*P+1),f[2*y+2*P+1]+=p*ce,Bt(f,2*y+2*P+1),f[2*y+2*P+2]+=w*ce,Bt(f,2*y+2*P+2)}for(y=0;y<h;y++)f[y]=f[2*y+1]<<16|f[2*y];for(y=h;y<2*h;y++)f[y]=0;return new l(f,0)};function Bt(M,h){for(;(M[h]&65535)!=M[h];)M[h+1]+=M[h]>>>16,M[h]&=65535,h++}function $t(M,h){this.g=M,this.h=h}function Ce(M,h){if(D(h))throw Error("division by zero");if(D(M))return new $t(S,S);if(at(M))return h=Ce(tt(M),h),new $t(tt(h.g),tt(h.h));if(at(h))return h=Ce(M,tt(h)),new $t(tt(h.g),h.h);if(30<M.g.length){if(at(M)||at(h))throw Error("slowDivide_ only works with positive integers.");for(var f=T,y=h;0>=y.l(M);)f=Li(f),y=Li(y);var P=te(f,1),w=te(y,1);for(y=te(y,2),f=te(f,2);!D(y);){var p=w.add(y);0>=p.l(M)&&(P=P.add(f),w=p),y=te(y,1),f=te(f,1)}return h=kt(M,P.j(h)),new $t(P,h)}for(P=S;0<=M.l(h);){for(f=Math.max(1,Math.floor(M.m()/h.m())),y=Math.ceil(Math.log(f)/Math.LN2),y=48>=y?1:Math.pow(2,y-48),w=g(f),p=w.j(h);at(p)||0<p.l(M);)f-=y,w=g(f),p=w.j(h);D(w)&&(w=T),P=P.add(w),M=kt(M,p)}return new $t(P,M)}i.A=function(M){return Ce(this,M).h},i.and=function(M){for(var h=Math.max(this.g.length,M.g.length),f=[],y=0;y<h;y++)f[y]=this.i(y)&M.i(y);return new l(f,this.h&M.h)},i.or=function(M){for(var h=Math.max(this.g.length,M.g.length),f=[],y=0;y<h;y++)f[y]=this.i(y)|M.i(y);return new l(f,this.h|M.h)},i.xor=function(M){for(var h=Math.max(this.g.length,M.g.length),f=[],y=0;y<h;y++)f[y]=this.i(y)^M.i(y);return new l(f,this.h^M.h)};function Li(M){for(var h=M.g.length+1,f=[],y=0;y<h;y++)f[y]=M.i(y)<<1|M.i(y-1)>>>31;return new l(f,M.h)}function te(M,h){var f=h>>5;h%=32;for(var y=M.g.length-f,P=[],w=0;w<y;w++)P[w]=0<h?M.i(w+f)>>>h|M.i(w+f+1)<<32-h:M.i(w+f);return new l(P,M.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,qc=$c.Md5=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=g,l.fromString=C,Hr=$c.Integer=l}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});var Qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe={};var Kc,bm,Hc,Qc,Wc,Yc,Xc,Jc,Zc;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,s,c){return e==Array.prototype||e==Object.prototype||(e[s]=c.value),e};function o(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qr=="object"&&Qr];for(var s=0;s<e.length;++s){var c=e[s];if(c&&c.Math==Math)return c}throw Error("Cannot find global object")}var n=o(this);function r(e,s){if(s)t:{var c=n;e=e.split(".");for(var d=0;d<e.length-1;d++){var v=e[d];if(!(v in c))break t;c=c[v]}e=e[e.length-1],d=c[e],s=s(d),s!=d&&s!=null&&t(c,e,{configurable:!0,writable:!0,value:s})}}function a(e,s){e instanceof String&&(e+="");var c=0,d=!1,v={next:function(){if(!d&&c<e.length){var x=c++;return{value:s(x,e[x]),done:!1}}return d=!0,{done:!0,value:void 0}}};return v[Symbol.iterator]=function(){return v},v}r("Array.prototype.values",function(e){return e||function(){return a(this,function(s,c){return c})}});var l=l||{},u=this||self;function m(e){var s=typeof e;return s=s!="object"?s:e?Array.isArray(e)?"array":s:"null",s=="array"||s=="object"&&typeof e.length=="number"}function g(e){var s=typeof e;return s=="object"&&e!=null||s=="function"}function C(e,s,c){return e.call.apply(e.bind,arguments)}function S(e,s,c){if(!e)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,d),e.apply(s,v)}}return function(){return e.apply(s,arguments)}}function T(e,s,c){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?C:S,T.apply(null,arguments)}function A(e,s){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),e.apply(this,d)}}function D(e,s){function c(){}c.prototype=s.prototype,e.aa=s.prototype,e.prototype=new c,e.prototype.constructor=e,e.Qb=function(d,v,x){for(var E=Array(arguments.length-2),it=2;it<arguments.length;it++)E[it-2]=arguments[it];return s.prototype[v].apply(d,E)}}function at(e){let s=e.length;if(0<s){let c=Array(s);for(let d=0;d<s;d++)c[d]=e[d];return c}return[]}function tt(e,s){for(let c=1;c<arguments.length;c++){let d=arguments[c];if(m(d)){let v=e.length||0,x=d.length||0;e.length=v+x;for(let E=0;E<x;E++)e[v+E]=d[E]}else e.push(d)}}class kt{constructor(s,c){this.i=s,this.j=c,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}function Bt(e){return/^[\s\xa0]*$/.test(e)}function $t(){var e=u.navigator;return e&&(e=e.userAgent)?e:""}function Ce(e){return Ce[" "](e),e}Ce[" "]=function(){};var Li=$t().indexOf("Gecko")!=-1&&!($t().toLowerCase().indexOf("webkit")!=-1&&$t().indexOf("Edge")==-1)&&!($t().indexOf("Trident")!=-1||$t().indexOf("MSIE")!=-1)&&$t().indexOf("Edge")==-1;function te(e,s,c){for(let d in e)s.call(c,e[d],d,e)}function M(e,s){for(let c in e)s.call(void 0,e[c],c,e)}function h(e){let s={};for(let c in e)s[c]=e[c];return s}let f="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y(e,s){let c,d;for(let v=1;v<arguments.length;v++){d=arguments[v];for(c in d)e[c]=d[c];for(let x=0;x<f.length;x++)c=f[x],Object.prototype.hasOwnProperty.call(d,c)&&(e[c]=d[c])}}function P(e){var s=1;e=e.split(":");let c=[];for(;0<s&&e.length;)c.push(e.shift()),s--;return e.length&&c.push(e.join(":")),c}function w(e){u.setTimeout(()=>{throw e},0)}function p(){var e=co;let s=null;return e.g&&(s=e.g,e.g=e.g.next,e.g||(e.h=null),s.next=null),s}class ce{constructor(){this.h=this.g=null}add(s,c){let d=Vn.get();d.set(s,c),this.h?this.h.next=d:this.g=d,this.h=d}}var Vn=new kt(()=>new Ed,e=>e.reset());class Ed{constructor(){this.next=this.g=this.h=null}set(s,c){this.h=s,this.g=c,this.next=null}reset(){this.next=this.g=this.h=null}}let Fn,Ln=!1,co=new ce,Ds=()=>{let e=u.Promise.resolve(void 0);Fn=()=>{e.then(Sd)}};var Sd=()=>{for(var e;e=p();){try{e.h.call(e.g)}catch(c){w(c)}var s=Vn;s.j(e),100>s.h&&(s.h++,e.next=s.g,s.g=e)}Ln=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function yt(e,s){this.type=e,this.g=this.target=s,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var Td=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,s=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let c=()=>{};u.addEventListener("test",c,s),u.removeEventListener("test",c,s)}catch{}return e}();function Un(e,s){if(yt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var c=this.type=e.type,d=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=s,s=e.relatedTarget){if(Li){t:{try{Ce(s.nodeName);var v=!0;break t}catch{}v=!1}v||(s=null)}}else c=="mouseover"?s=e.fromElement:c=="mouseout"&&(s=e.toElement);this.relatedTarget=s,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Ad[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Un.aa.h.call(this)}}D(Un,yt);var Ad={2:"touch",3:"pen",4:"mouse"};Un.prototype.h=function(){Un.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Bn="closure_listenable_"+(1e6*Math.random()|0),kd=0;function Dd(e,s,c,d,v){this.listener=e,this.proxy=null,this.src=s,this.type=c,this.capture=!!d,this.ha=v,this.key=++kd,this.da=this.fa=!1}function Ui(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Bi(e){this.src=e,this.g={},this.h=0}Bi.prototype.add=function(e,s,c,d,v){var x=e.toString();e=this.g[x],e||(e=this.g[x]=[],this.h++);var E=uo(e,s,d,v);return-1<E?(s=e[E],c||(s.fa=!1)):(s=new Dd(s,this.src,x,!!d,v),s.fa=c,e.push(s)),s};function lo(e,s){var c=s.type;if(c in e.g){var d=e.g[c],v=Array.prototype.indexOf.call(d,s,void 0),x;(x=0<=v)&&Array.prototype.splice.call(d,v,1),x&&(Ui(s),e.g[c].length==0&&(delete e.g[c],e.h--))}}function uo(e,s,c,d){for(var v=0;v<e.length;++v){var x=e[v];if(!x.da&&x.listener==s&&x.capture==!!c&&x.ha==d)return v}return-1}var mo="closure_lm_"+(1e6*Math.random()|0),ho={};function Rs(e,s,c,d,v){if(d&&d.once)return Vs(e,s,c,d,v);if(Array.isArray(s)){for(var x=0;x<s.length;x++)Rs(e,s[x],c,d,v);return null}return c=_o(c),e&&e[Bn]?e.K(s,c,g(d)?!!d.capture:!!d,v):Ns(e,s,c,!1,d,v)}function Ns(e,s,c,d,v,x){if(!s)throw Error("Invalid event type");var E=g(v)?!!v.capture:!!v,it=po(e);if(it||(e[mo]=it=new Bi(e)),c=it.add(s,c,d,E,x),c.proxy)return c;if(d=Rd(),c.proxy=d,d.src=e,d.listener=c,e.addEventListener)Td||(v=E),v===void 0&&(v=!1),e.addEventListener(s.toString(),d,v);else if(e.attachEvent)e.attachEvent(Ls(s.toString()),d);else if(e.addListener&&e.removeListener)e.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return c}function Rd(){function e(c){return s.call(e.src,e.listener,c)}let s=Nd;return e}function Vs(e,s,c,d,v){if(Array.isArray(s)){for(var x=0;x<s.length;x++)Vs(e,s[x],c,d,v);return null}return c=_o(c),e&&e[Bn]?e.L(s,c,g(d)?!!d.capture:!!d,v):Ns(e,s,c,!0,d,v)}function Fs(e,s,c,d,v){if(Array.isArray(s))for(var x=0;x<s.length;x++)Fs(e,s[x],c,d,v);else d=g(d)?!!d.capture:!!d,c=_o(c),e&&e[Bn]?(e=e.i,s=String(s).toString(),s in e.g&&(x=e.g[s],c=uo(x,c,d,v),-1<c&&(Ui(x[c]),Array.prototype.splice.call(x,c,1),x.length==0&&(delete e.g[s],e.h--)))):e&&(e=po(e))&&(s=e.g[s.toString()],e=-1,s&&(e=uo(s,c,d,v)),(c=-1<e?s[e]:null)&&go(c))}function go(e){if(typeof e!="number"&&e&&!e.da){var s=e.src;if(s&&s[Bn])lo(s.i,e);else{var c=e.type,d=e.proxy;s.removeEventListener?s.removeEventListener(c,d,e.capture):s.detachEvent?s.detachEvent(Ls(c),d):s.addListener&&s.removeListener&&s.removeListener(d),(c=po(s))?(lo(c,e),c.h==0&&(c.src=null,s[mo]=null)):Ui(e)}}}function Ls(e){return e in ho?ho[e]:ho[e]="on"+e}function Nd(e,s){if(e.da)e=!0;else{s=new Un(s,this);var c=e.listener,d=e.ha||e.src;e.fa&&go(e),e=c.call(d,s)}return e}function po(e){return e=e[mo],e instanceof Bi?e:null}var fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function _o(e){return typeof e=="function"?e:(e[fo]||(e[fo]=function(s){return e.handleEvent(s)}),e[fo])}function Pt(){ye.call(this),this.i=new Bi(this),this.M=this,this.F=null}D(Pt,ye),Pt.prototype[Bn]=!0,Pt.prototype.removeEventListener=function(e,s,c,d){Fs(this,e,s,c,d)};function Ot(e,s){var c,d=e.F;if(d)for(c=[];d;d=d.F)c.push(d);if(e=e.M,d=s.type||s,typeof s=="string")s=new yt(s,e);else if(s instanceof yt)s.target=s.target||e;else{var v=s;s=new yt(d,e),y(s,v)}if(v=!0,c)for(var x=c.length-1;0<=x;x--){var E=s.g=c[x];v=zi(E,d,!0,s)&&v}if(E=s.g=e,v=zi(E,d,!0,s)&&v,v=zi(E,d,!1,s)&&v,c)for(x=0;x<c.length;x++)E=s.g=c[x],v=zi(E,d,!1,s)&&v}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var e=this.i,s;for(s in e.g){for(var c=e.g[s],d=0;d<c.length;d++)Ui(c[d]);delete e.g[s],e.h--}}this.F=null},Pt.prototype.K=function(e,s,c,d){return this.i.add(String(e),s,!1,c,d)},Pt.prototype.L=function(e,s,c,d){return this.i.add(String(e),s,!0,c,d)};function zi(e,s,c,d){if(s=e.i.g[String(s)],!s)return!0;s=s.concat();for(var v=!0,x=0;x<s.length;++x){var E=s[x];if(E&&!E.da&&E.capture==c){var it=E.listener,bt=E.ha||E.src;E.fa&&lo(e.i,E),v=it.call(bt,d)!==!1&&v}}return v&&!d.defaultPrevented}function Us(e,s,c){if(typeof e=="function")c&&(e=T(e,c));else if(e&&typeof e.handleEvent=="function")e=T(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:u.setTimeout(e,s||0)}function Bs(e){e.g=Us(()=>{e.g=null,e.i&&(e.i=!1,Bs(e))},e.l);let s=e.h;e.h=null,e.m.apply(null,s)}class Vd extends ye{constructor(s,c){super(),this.m=s,this.l=c,this.h=null,this.i=!1,this.g=null}j(s){this.h=arguments,this.g?this.i=!0:Bs(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zn(e){ye.call(this),this.h=e,this.g={}}D(zn,ye);var zs=[];function js(e){te(e.g,function(s,c){this.g.hasOwnProperty(c)&&go(s)},e),e.g={}}zn.prototype.N=function(){zn.aa.N.call(this),js(this)},zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bo=u.JSON.stringify,Fd=u.JSON.parse,Ld=class{stringify(e){return u.JSON.stringify(e,void 0)}parse(e){return u.JSON.parse(e,void 0)}};function Co(){}Co.prototype.h=null;function Gs(e){return e.h||(e.h=e.i())}function $s(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yo(){yt.call(this,"d")}D(yo,yt);function Po(){yt.call(this,"c")}D(Po,yt);var Ne={},qs=null;function ji(){return qs=qs||new Pt}Ne.La="serverreachability";function Ks(e){yt.call(this,Ne.La,e)}D(Ks,yt);function Gn(e){let s=ji();Ot(s,new Ks(s))}Ne.STAT_EVENT="statevent";function Hs(e,s){yt.call(this,Ne.STAT_EVENT,e),this.stat=s}D(Hs,yt);function xt(e){let s=ji();Ot(s,new Hs(s,e))}Ne.Ma="timingevent";function Qs(e,s){yt.call(this,Ne.Ma,e),this.size=s}D(Qs,yt);function $n(e,s){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){e()},s)}function qn(){this.g=!0}qn.prototype.xa=function(){this.g=!1};function Ud(e,s,c,d,v,x){e.info(function(){if(e.g)if(x)for(var E="",it=x.split("&"),bt=0;bt<it.length;bt++){var Q=it[bt].split("=");if(1<Q.length){var vt=Q[0];Q=Q[1];var Mt=vt.split("_");E=2<=Mt.length&&Mt[1]=="type"?E+(vt+"="+Q+"&"):E+(vt+"=redacted&")}}else E=null;else E=x;return"XMLHTTP REQ ("+d+") [attempt "+v+"]: "+s+`
`+c+`
`+E})}function Bd(e,s,c,d,v,x,E){e.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+v+"]: "+s+`
`+c+`
`+x+" "+E})}function He(e,s,c,d){e.info(function(){return"XMLHTTP TEXT ("+s+"): "+jd(e,c)+(d?" "+d:"")})}function zd(e,s){e.info(function(){return"TIMEOUT: "+s})}qn.prototype.info=function(){};function jd(e,s){if(!e.g)return s;if(!s)return null;try{var c=JSON.parse(s);if(c){for(e=0;e<c.length;e++)if(Array.isArray(c[e])){var d=c[e];if(!(2>d.length)){var v=d[1];if(Array.isArray(v)&&!(1>v.length)){var x=v[0];if(x!="noop"&&x!="stop"&&x!="close")for(var E=1;E<v.length;E++)v[E]=""}}}}return bo(c)}catch{return s}}var Gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ws={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vo;function $i(){}D($i,Co),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},vo=new $i;function Pe(e,s,c,d){this.j=e,this.i=s,this.l=c,this.R=d||1,this.U=new zn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ys}function Ys(){this.i=null,this.g="",this.h=!1}var Xs={},Mo={};function wo(e,s,c){e.L=1,e.v=Qi(le(s)),e.m=c,e.P=!0,Js(e,null)}function Js(e,s){e.F=Date.now(),qi(e),e.A=le(e.v);var c=e.A,d=e.R;Array.isArray(d)||(d=[String(d)]),ma(c.i,"t",d),e.C=0,c=e.j.J,e.h=new Ys,e.g=Ta(e.j,c?s:null,!e.m),0<e.O&&(e.M=new Vd(T(e.Y,e,e.g),e.O)),s=e.U,c=e.g,d=e.ca;var v="readystatechange";Array.isArray(v)||(v&&(zs[0]=v.toString()),v=zs);for(var x=0;x<v.length;x++){var E=Rs(c,v[x],d||s.handleEvent,!1,s.h||s);if(!E)break;s.g[E.key]=E}s=e.H?h(e.H):{},e.m?(e.u||(e.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,s)):(e.u="GET",e.g.ea(e.A,e.u,null,s)),Gn(),Ud(e.i,e.u,e.A,e.l,e.R,e.m)}Pe.prototype.ca=function(e){e=e.target;let s=this.M;s&&de(e)==3?s.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)t:{let Mt=de(this.g);var s=this.g.Ba();let Ye=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||Ca(this.g)))){this.J||Mt!=4||s==7||(s==8||0>=Ye?Gn(3):Gn(2)),Oo(this);var c=this.g.Z();this.X=c;e:if(Zs(this)){var d=Ca(this.g);e="";var v=d.length,x=de(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ve(this),Kn(this);var E="";break e}this.h.i=new u.TextDecoder}for(s=0;s<v;s++)this.h.h=!0,e+=this.h.i.decode(d[s],{stream:!(x&&s==v-1)});d.length=0,this.h.g+=e,this.C=0,E=this.h.g}else E=this.g.oa();if(this.o=c==200,Bd(this.i,this.u,this.A,this.l,this.R,Mt,c),this.o){if(this.T&&!this.K){e:{if(this.g){var it,bt=this.g;if((it=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bt(it)){var Q=it;break e}}Q=null}if(c=Q)He(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xo(this,c);else{this.o=!1,this.s=3,xt(12),Ve(this),Kn(this);break t}}if(this.P){c=!0;let Wt;for(;!this.J&&this.C<E.length;)if(Wt=Gd(this,E),Wt==Mo){Mt==4&&(this.s=4,xt(14),c=!1),He(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==Xs){this.s=4,xt(15),He(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else He(this.i,this.l,Wt,null),xo(this,Wt);if(Zs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||E.length!=0||this.h.h||(this.s=1,xt(16),c=!1),this.o=this.o&&c,!c)He(this.i,this.l,E,"[Invalid Chunked Response]"),Ve(this),Kn(this);else if(0<E.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ko(vt),vt.M=!0,xt(11))}}else He(this.i,this.l,E,null),xo(this,E);Mt==4&&Ve(this),this.o&&!this.J&&(Mt==4?xa(this.j,this):(this.o=!1,qi(this)))}else su(this.g),c==400&&0<E.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Ve(this),Kn(this)}}}catch{}finally{}};function Zs(e){return e.g?e.u=="GET"&&e.L!=2&&e.j.Ca:!1}function Gd(e,s){var c=e.C,d=s.indexOf(`
`,c);return d==-1?Mo:(c=Number(s.substring(c,d)),isNaN(c)?Xs:(d+=1,d+c>s.length?Mo:(s=s.slice(d,d+c),e.C=d+c,s)))}Pe.prototype.cancel=function(){this.J=!0,Ve(this)};function qi(e){e.S=Date.now()+e.I,ta(e,e.I)}function ta(e,s){if(e.B!=null)throw Error("WatchDog timer not null");e.B=$n(T(e.ba,e),s)}function Oo(e){e.B&&(u.clearTimeout(e.B),e.B=null)}Pe.prototype.ba=function(){this.B=null;let e=Date.now();0<=e-this.S?(zd(this.i,this.A),this.L!=2&&(Gn(),xt(17)),Ve(this),this.s=2,Kn(this)):ta(this,this.S-e)};function Kn(e){e.j.G==0||e.J||xa(e.j,e)}function Ve(e){Oo(e);var s=e.M;s&&typeof s.ma=="function"&&s.ma(),e.M=null,js(e.U),e.g&&(s=e.g,e.g=null,s.abort(),s.ma())}function xo(e,s){try{var c=e.j;if(c.G!=0&&(c.g==e||Io(c.h,e))){if(!e.K&&Io(c.h,e)&&c.G==3){try{var d=c.Da.g.parse(s)}catch{d=null}if(Array.isArray(d)&&d.length==3){var v=d;if(v[0]==0){t:if(!c.u){if(c.g)if(c.g.F+3e3<e.F)Zi(c),Xi(c);else break t;Ao(c),xt(18)}}else c.za=v[1],0<c.za-c.T&&37500>v[2]&&c.F&&c.v==0&&!c.C&&(c.C=$n(T(c.Za,c),6e3));if(1>=ia(c.h)&&c.ca){try{c.ca()}catch{}c.ca=void 0}}else Le(c,11)}else if((e.K||c.g==e)&&Zi(c),!Bt(s))for(v=c.Da.g.parse(s),s=0;s<v.length;s++){let Q=v[s];if(c.T=Q[0],Q=Q[1],c.G==2)if(Q[0]=="c"){c.K=Q[1],c.ia=Q[2];let vt=Q[3];vt!=null&&(c.la=vt,c.j.info("VER="+c.la));let Mt=Q[4];Mt!=null&&(c.Aa=Mt,c.j.info("SVER="+c.Aa));let Ye=Q[5];Ye!=null&&typeof Ye=="number"&&0<Ye&&(d=1.5*Ye,c.L=d,c.j.info("backChannelRequestTimeoutMs_="+d)),d=c;let Wt=e.g;if(Wt){let er=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(er){var x=d.h;x.g||er.indexOf("spdy")==-1&&er.indexOf("quic")==-1&&er.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Eo(x,x.h),x.h=null))}if(d.D){let Do=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(d.ya=Do,ct(d.I,d.D,Do))}}c.G=3,c.l&&c.l.ua(),c.ba&&(c.R=Date.now()-e.F,c.j.info("Handshake RTT: "+c.R+"ms")),d=c;var E=e;if(d.qa=Sa(d,d.J?d.ia:null,d.W),E.K){ra(d.h,E);var it=E,bt=d.L;bt&&(it.I=bt),it.B&&(Oo(it),qi(it)),d.g=E}else wa(d);0<c.i.length&&Ji(c)}else Q[0]!="stop"&&Q[0]!="close"||Le(c,7);else c.G==3&&(Q[0]=="stop"||Q[0]=="close"?Q[0]=="stop"?Le(c,7):To(c):Q[0]!="noop"&&c.l&&c.l.ta(Q),c.v=0)}}Gn(4)}catch{}}var $d=class{constructor(e,s){this.g=e,this.map=s}};function ea(e){this.l=e||10,u.PerformanceNavigationTiming?(e=u.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function na(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function ia(e){return e.h?1:e.g?e.g.size:0}function Io(e,s){return e.h?e.h==s:e.g?e.g.has(s):!1}function Eo(e,s){e.g?e.g.add(s):e.h=s}function ra(e,s){e.h&&e.h==s?e.h=null:e.g&&e.g.has(s)&&e.g.delete(s)}ea.prototype.cancel=function(){if(this.i=oa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function oa(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let s=e.i;for(let c of e.g.values())s=s.concat(c.D);return s}return at(e.i)}function qd(e){if(e.V&&typeof e.V=="function")return e.V();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(m(e)){for(var s=[],c=e.length,d=0;d<c;d++)s.push(e[d]);return s}s=[],c=0;for(d in e)s[c++]=e[d];return s}function Kd(e){if(e.na&&typeof e.na=="function")return e.na();if(!e.V||typeof e.V!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(m(e)||typeof e=="string"){var s=[];e=e.length;for(var c=0;c<e;c++)s.push(c);return s}s=[],c=0;for(let d in e)s[c++]=d;return s}}}function sa(e,s){if(e.forEach&&typeof e.forEach=="function")e.forEach(s,void 0);else if(m(e)||typeof e=="string")Array.prototype.forEach.call(e,s,void 0);else for(var c=Kd(e),d=qd(e),v=d.length,x=0;x<v;x++)s.call(void 0,d[x],c&&c[x],e)}var aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hd(e,s){if(e){e=e.split("&");for(var c=0;c<e.length;c++){var d=e[c].indexOf("="),v=null;if(0<=d){var x=e[c].substring(0,d);v=e[c].substring(d+1)}else x=e[c];s(x,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function Fe(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof Fe){this.h=e.h,Ki(this,e.j),this.o=e.o,this.g=e.g,Hi(this,e.s),this.l=e.l;var s=e.i,c=new Wn;c.i=s.i,s.g&&(c.g=new Map(s.g),c.h=s.h),ca(this,c),this.m=e.m}else e&&(s=String(e).match(aa))?(this.h=!1,Ki(this,s[1]||"",!0),this.o=Hn(s[2]||""),this.g=Hn(s[3]||"",!0),Hi(this,s[4]),this.l=Hn(s[5]||"",!0),ca(this,s[6]||"",!0),this.m=Hn(s[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}Fe.prototype.toString=function(){var e=[],s=this.j;s&&e.push(Qn(s,la,!0),":");var c=this.g;return(c||s=="file")&&(e.push("//"),(s=this.o)&&e.push(Qn(s,la,!0),"@"),e.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.s,c!=null&&e.push(":",String(c))),(c=this.l)&&(this.g&&c.charAt(0)!="/"&&e.push("/"),e.push(Qn(c,c.charAt(0)=="/"?Yd:Wd,!0))),(c=this.i.toString())&&e.push("?",c),(c=this.m)&&e.push("#",Qn(c,Jd)),e.join("")};function le(e){return new Fe(e)}function Ki(e,s,c){e.j=c?Hn(s,!0):s,e.j&&(e.j=e.j.replace(/:$/,""))}function Hi(e,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);e.s=s}else e.s=null}function ca(e,s,c){s instanceof Wn?(e.i=s,Zd(e.i,e.h)):(c||(s=Qn(s,Xd)),e.i=new Wn(s,e.h))}function ct(e,s,c){e.i.set(s,c)}function Qi(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Hn(e,s){return e?s?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qn(e,s,c){return typeof e=="string"?(e=encodeURI(e).replace(s,Qd),c&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Qd(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var la=/[#\/\?@]/g,Wd=/[#\?:]/g,Yd=/[#\?]/g,Xd=/[#\?@]/g,Jd=/#/g;function Wn(e,s){this.h=this.g=null,this.i=e||null,this.j=!!s}function ve(e){e.g||(e.g=new Map,e.h=0,e.i&&Hd(e.i,function(s,c){e.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}i=Wn.prototype,i.add=function(e,s){ve(this),this.i=null,e=Qe(this,e);var c=this.g.get(e);return c||this.g.set(e,c=[]),c.push(s),this.h+=1,this};function da(e,s){ve(e),s=Qe(e,s),e.g.has(s)&&(e.i=null,e.h-=e.g.get(s).length,e.g.delete(s))}function ua(e,s){return ve(e),s=Qe(e,s),e.g.has(s)}i.forEach=function(e,s){ve(this),this.g.forEach(function(c,d){c.forEach(function(v){e.call(s,v,d,this)},this)},this)},i.na=function(){ve(this);let e=Array.from(this.g.values()),s=Array.from(this.g.keys()),c=[];for(let d=0;d<s.length;d++){let v=e[d];for(let x=0;x<v.length;x++)c.push(s[d])}return c},i.V=function(e){ve(this);let s=[];if(typeof e=="string")ua(this,e)&&(s=s.concat(this.g.get(Qe(this,e))));else{e=Array.from(this.g.values());for(let c=0;c<e.length;c++)s=s.concat(e[c])}return s},i.set=function(e,s){return ve(this),this.i=null,e=Qe(this,e),ua(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[s]),this.h+=1,this},i.get=function(e,s){return e?(e=this.V(e),0<e.length?String(e[0]):s):s};function ma(e,s,c){da(e,s),0<c.length&&(e.i=null,e.g.set(Qe(e,s),at(c)),e.h+=c.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],s=Array.from(this.g.keys());for(var c=0;c<s.length;c++){var d=s[c];let x=encodeURIComponent(String(d)),E=this.V(d);for(d=0;d<E.length;d++){var v=x;E[d]!==""&&(v+="="+encodeURIComponent(String(E[d]))),e.push(v)}}return this.i=e.join("&")};function Qe(e,s){return s=String(s),e.j&&(s=s.toLowerCase()),s}function Zd(e,s){s&&!e.j&&(ve(e),e.i=null,e.g.forEach(function(c,d){var v=d.toLowerCase();d!=v&&(da(this,d),ma(this,v,c))},e)),e.j=s}function tu(e,s){let c=new qn;if(u.Image){let d=new Image;d.onload=A(Me,c,"TestLoadImage: loaded",!0,s,d),d.onerror=A(Me,c,"TestLoadImage: error",!1,s,d),d.onabort=A(Me,c,"TestLoadImage: abort",!1,s,d),d.ontimeout=A(Me,c,"TestLoadImage: timeout",!1,s,d),u.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=e}else s(!1)}function eu(e,s){let c=new qn,d=new AbortController,v=setTimeout(()=>{d.abort(),Me(c,"TestPingServer: timeout",!1,s)},1e4);fetch(e,{signal:d.signal}).then(x=>{clearTimeout(v),x.ok?Me(c,"TestPingServer: ok",!0,s):Me(c,"TestPingServer: server error",!1,s)}).catch(()=>{clearTimeout(v),Me(c,"TestPingServer: error",!1,s)})}function Me(e,s,c,d,v){try{v&&(v.onload=null,v.onerror=null,v.onabort=null,v.ontimeout=null),d(c)}catch{}}function nu(){this.g=new Ld}function iu(e,s,c){let d=c||"";try{sa(e,function(v,x){let E=v;g(v)&&(E=bo(v)),s.push(d+x+"="+encodeURIComponent(E))})}catch(v){throw s.push(d+"type="+encodeURIComponent("_badmap")),v}}function Yn(e){this.l=e.Ub||null,this.j=e.eb||!1}D(Yn,Co),Yn.prototype.g=function(){return new Wi(this.l,this.j)},Yn.prototype.i=function(e){return function(){return e}}({});function Wi(e,s){Pt.call(this),this.D=e,this.o=s,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Wi,Pt),i=Wi.prototype,i.open=function(e,s){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=s,this.readyState=1,Jn(this)},i.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let s={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(s.body=e),(this.D||u).fetch(new Request(this.A,s)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},i.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ha(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))};function ha(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}i.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var s=e.value?e.value:new Uint8Array(0);(s=this.v.decode(s,{stream:!e.done}))&&(this.response=this.responseText+=s)}e.done?Xn(this):Jn(this),this.readyState==3&&ha(this)}},i.Ra=function(e){this.g&&(this.response=this.responseText=e,Xn(this))},i.Qa=function(e){this.g&&(this.response=e,Xn(this))},i.ga=function(){this.g&&Xn(this)};function Xn(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Jn(e)}i.setRequestHeader=function(e,s){this.u.append(e,s)},i.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],s=this.h.entries();for(var c=s.next();!c.done;)c=c.value,e.push(c[0]+": "+c[1]),c=s.next();return e.join(`\r
`)};function Jn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});function ga(e){let s="";return te(e,function(c,d){s+=d,s+=":",s+=c,s+=`\r
`}),s}function So(e,s,c){t:{for(d in c){var d=!1;break t}d=!0}d||(c=ga(c),typeof e=="string"?c!=null&&encodeURIComponent(String(c)):ct(e,s,c))}function ut(e){Pt.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(ut,Pt);var ru=/^https?$/i,ou=["POST","PUT"];i=ut.prototype,i.Ha=function(e){this.J=e},i.ea=function(e,s,c,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);s=s?s.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vo.g(),this.v=this.o?Gs(this.o):Gs(vo),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(s,String(e),!0),this.B=!1}catch(x){pa(this,x);return}if(e=c||"",c=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var v in d)c.set(v,d[v]);else if(typeof d.keys=="function"&&typeof d.get=="function")for(let x of d.keys())c.set(x,d.get(x));else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(c.keys()).find(x=>x.toLowerCase()=="content-type"),v=u.FormData&&e instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ou,s,void 0))||d||v||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,E]of c)this.g.setRequestHeader(x,E);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ba(this),this.u=!0,this.g.send(e),this.u=!1}catch(x){pa(this,x)}};function pa(e,s){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=s,e.m=5,fa(e),Yi(e)}function fa(e){e.A||(e.A=!0,Ot(e,"complete"),Ot(e,"error"))}i.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,Ot(this,"complete"),Ot(this,"abort"),Yi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),ut.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?_a(this):this.bb())},i.bb=function(){_a(this)};function _a(e){if(e.h&&typeof l<"u"&&(!e.v[1]||de(e)!=4||e.Z()!=2)){if(e.u&&de(e)==4)Us(e.Ea,0,e);else if(Ot(e,"readystatechange"),de(e)==4){e.h=!1;try{let E=e.Z();t:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}var c;if(!(c=s)){var d;if(d=E===0){var v=String(e.D).match(aa)[1]||null;!v&&u.self&&u.self.location&&(v=u.self.location.protocol.slice(0,-1)),d=!ru.test(v?v.toLowerCase():"")}c=d}if(c)Ot(e,"complete"),Ot(e,"success");else{e.m=6;try{var x=2<de(e)?e.g.statusText:""}catch{x=""}e.l=x+" ["+e.Z()+"]",fa(e)}}finally{Yi(e)}}}}function Yi(e,s){if(e.g){ba(e);let c=e.g,d=e.v[0]?()=>{}:null;e.g=null,e.v=null,s||Ot(e,"ready");try{c.onreadystatechange=d}catch{}}}function ba(e){e.I&&(u.clearTimeout(e.I),e.I=null)}i.isActive=function(){return!!this.g};function de(e){return e.g?e.g.readyState:0}i.Z=function(){try{return 2<de(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(e){if(this.g){var s=this.g.responseText;return e&&s.indexOf(e)==0&&(s=s.substring(e.length)),Fd(s)}};function Ca(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function su(e){let s={};e=(e.g&&2<=de(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let d=0;d<e.length;d++){if(Bt(e[d]))continue;var c=P(e[d]);let v=c[0];if(c=c[1],typeof c!="string")continue;c=c.trim();let x=s[v]||[];s[v]=x,x.push(c)}M(s,function(d){return d.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zn(e,s,c){return c&&c.internalChannelParams&&c.internalChannelParams[e]||s}function ya(e){this.Aa=0,this.i=[],this.j=new qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zn("baseRetryDelayMs",5e3,e),this.cb=Zn("retryDelaySeedMs",1e4,e),this.Wa=Zn("forwardChannelMaxRetries",2,e),this.wa=Zn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new ea(e&&e.concurrentRequestLimit),this.Da=new nu,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ya.prototype,i.la=8,i.G=1,i.connect=function(e,s,c,d){xt(0),this.W=e,this.H=s||{},c&&d!==void 0&&(this.H.OSID=c,this.H.OAID=d),this.F=this.X,this.I=Sa(this,null,this.W),Ji(this)};function To(e){if(Pa(e),e.G==3){var s=e.U++,c=le(e.I);if(ct(c,"SID",e.K),ct(c,"RID",s),ct(c,"TYPE","terminate"),ti(e,c),s=new Pe(e,e.j,s),s.L=2,s.v=Qi(le(c)),c=!1,u.navigator&&u.navigator.sendBeacon)try{c=u.navigator.sendBeacon(s.v.toString(),"")}catch{}!c&&u.Image&&(new Image().src=s.v,c=!0),c||(s.g=Ta(s.j,null),s.g.ea(s.v)),s.F=Date.now(),qi(s)}Ea(e)}function Xi(e){e.g&&(ko(e),e.g.cancel(),e.g=null)}function Pa(e){Xi(e),e.u&&(u.clearTimeout(e.u),e.u=null),Zi(e),e.h.cancel(),e.s&&(typeof e.s=="number"&&u.clearTimeout(e.s),e.s=null)}function Ji(e){if(!na(e.h)&&!e.s){e.s=!0;var s=e.Ga;Fn||Ds(),Ln||(Fn(),Ln=!0),co.add(s,e),e.B=0}}function au(e,s){return ia(e.h)>=e.h.j-(e.s?1:0)?!1:e.s?(e.i=s.D.concat(e.i),!0):e.G==1||e.G==2||e.B>=(e.Va?0:e.Wa)?!1:(e.s=$n(T(e.Ga,e,s),Ia(e,e.B)),e.B++,!0)}i.Ga=function(e){if(this.s)if(this.s=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let v=new Pe(this,this.j,e),x=this.o;if(this.S&&(x?(x=h(x),y(x,this.S)):x=this.S),this.m!==null||this.O||(v.H=x,x=null),this.P)t:{for(var s=0,c=0;c<this.i.length;c++){e:{var d=this.i[c];if("__data__"in d.map&&(d=d.map.__data__,typeof d=="string")){d=d.length;break e}d=void 0}if(d===void 0)break;if(s+=d,4096<s){s=c;break t}if(s===4096||c===this.i.length-1){s=c+1;break t}}s=1e3}else s=1e3;s=Ma(this,v,s),c=le(this.I),ct(c,"RID",e),ct(c,"CVER",22),this.D&&ct(c,"X-HTTP-Session-Id",this.D),ti(this,c),x&&(this.O?s="headers="+encodeURIComponent(String(ga(x)))+"&"+s:this.m&&So(c,this.m,x)),Eo(this.h,v),this.Ua&&ct(c,"TYPE","init"),this.P?(ct(c,"$req",s),ct(c,"SID","null"),v.T=!0,wo(v,c,null)):wo(v,c,s),this.G=2}}else this.G==3&&(e?va(this,e):this.i.length==0||na(this.h)||va(this))};function va(e,s){var c;s?c=s.l:c=e.U++;let d=le(e.I);ct(d,"SID",e.K),ct(d,"RID",c),ct(d,"AID",e.T),ti(e,d),e.m&&e.o&&So(d,e.m,e.o),c=new Pe(e,e.j,c,e.B+1),e.m===null&&(c.H=e.o),s&&(e.i=s.D.concat(e.i)),s=Ma(e,c,1e3),c.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Eo(e.h,c),wo(c,d,s)}function ti(e,s){e.H&&te(e.H,function(c,d){ct(s,d,c)}),e.l&&sa({},function(c,d){ct(s,d,c)})}function Ma(e,s,c){c=Math.min(e.i.length,c);var d=e.l?T(e.l.Na,e.l,e):null;t:{var v=e.i;let x=-1;for(;;){let E=["count="+c];x==-1?0<c?(x=v[0].g,E.push("ofs="+x)):x=0:E.push("ofs="+x);let it=!0;for(let bt=0;bt<c;bt++){let Q=v[bt].g,vt=v[bt].map;if(Q-=x,0>Q)x=Math.max(0,v[bt].g-100),it=!1;else try{iu(vt,E,"req"+Q+"_")}catch{d&&d(vt)}}if(it){d=E.join("&");break t}}}return e=e.i.splice(0,c),s.D=e,d}function wa(e){if(!e.g&&!e.u){e.Y=1;var s=e.Fa;Fn||Ds(),Ln||(Fn(),Ln=!0),co.add(s,e),e.v=0}}function Ao(e){return e.g||e.u||3<=e.v?!1:(e.Y++,e.u=$n(T(e.Fa,e),Ia(e,e.v)),e.v++,!0)}i.Fa=function(){if(this.u=null,Oa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=$n(T(this.ab,this),e)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),Xi(this),Oa(this))};function ko(e){e.A!=null&&(u.clearTimeout(e.A),e.A=null)}function Oa(e){e.g=new Pe(e,e.j,"rpc",e.Y),e.m===null&&(e.g.H=e.o),e.g.O=0;var s=le(e.qa);ct(s,"RID","rpc"),ct(s,"SID",e.K),ct(s,"AID",e.T),ct(s,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(s,"TO",e.ja),ct(s,"TYPE","xmlhttp"),ti(e,s),e.m&&e.o&&So(s,e.m,e.o),e.L&&(e.g.I=e.L);var c=e.g;e=e.ia,c.L=1,c.v=Qi(le(s)),c.m=null,c.P=!0,Js(c,e)}i.Za=function(){this.C!=null&&(this.C=null,Xi(this),Ao(this),xt(19))};function Zi(e){e.C!=null&&(u.clearTimeout(e.C),e.C=null)}function xa(e,s){var c=null;if(e.g==s){Zi(e),ko(e),e.g=null;var d=2}else if(Io(e.h,s))c=s.D,ra(e.h,s),d=1;else return;if(e.G!=0){if(s.o)if(d==1){c=s.m?s.m.length:0,s=Date.now()-s.F;var v=e.B;d=ji(),Ot(d,new Qs(d,c)),Ji(e)}else wa(e);else if(v=s.s,v==3||v==0&&0<s.X||!(d==1&&au(e,s)||d==2&&Ao(e)))switch(c&&0<c.length&&(s=e.h,s.i=s.i.concat(c)),v){case 1:Le(e,5);break;case 4:Le(e,10);break;case 3:Le(e,6);break;default:Le(e,2)}}}function Ia(e,s){let c=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(c*=2),c*s}function Le(e,s){if(e.j.info("Error code "+s),s==2){var c=T(e.fb,e),d=e.Xa;let v=!d;d=new Fe(d||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ki(d,"https"),Qi(d),v?tu(d.toString(),c):eu(d.toString(),c)}else xt(2);e.G=0,e.l&&e.l.sa(s),Ea(e),Pa(e)}i.fb=function(e){e?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Ea(e){if(e.G=0,e.ka=[],e.l){let s=oa(e.h);(s.length!=0||e.i.length!=0)&&(tt(e.ka,s),tt(e.ka,e.i),e.h.i.length=0,at(e.i),e.i.length=0),e.l.ra()}}function Sa(e,s,c){var d=c instanceof Fe?le(c):new Fe(c);if(d.g!="")s&&(d.g=s+"."+d.g),Hi(d,d.s);else{var v=u.location;d=v.protocol,s=s?s+"."+v.hostname:v.hostname,v=+v.port;var x=new Fe(null);d&&Ki(x,d),s&&(x.g=s),v&&Hi(x,v),c&&(x.l=c),d=x}return c=e.D,s=e.ya,c&&s&&ct(d,c,s),ct(d,"VER",e.la),ti(e,d),d}function Ta(e,s,c){if(s&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return s=e.Ca&&!e.pa?new ut(new Yn({eb:c})):new ut(e.pa),s.Ha(e.J),s}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Aa(){}i=Aa.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function tr(){}tr.prototype.g=function(e,s){return new zt(e,s)};function zt(e,s){Pt.call(this),this.g=new ya(s),this.l=e,this.h=s&&s.messageUrlParams||null,e=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(e?e["X-WebChannel-Content-Type"]=s.messageContentType:e={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.va&&(e?e["X-WebChannel-Client-Profile"]=s.va:e={"X-WebChannel-Client-Profile":s.va}),this.g.S=e,(e=s&&s.Sb)&&!Bt(e)&&(this.g.m=e),this.v=s&&s.supportsCrossDomainXhr||!1,this.u=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!Bt(s)&&(this.g.D=s,e=this.h,e!==null&&s in e&&(e=this.h,s in e&&delete e[s])),this.j=new We(this)}D(zt,Pt),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){To(this.g)},zt.prototype.o=function(e){var s=this.g;if(typeof e=="string"){var c={};c.__data__=e,e=c}else this.u&&(c={},c.__data__=bo(e),e=c);s.i.push(new $d(s.Ya++,e)),s.G==3&&Ji(s)},zt.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,zt.aa.N.call(this)};function ka(e){yo.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var s=e.__sm__;if(s){t:{for(let c in s){e=c;break t}e=void 0}(this.i=e)&&(e=this.i,s=s!==null&&e in s?s[e]:void 0),this.data=s}else this.data=e}D(ka,yo);function Da(){Po.call(this),this.status=1}D(Da,Po);function We(e){this.g=e}D(We,Aa),We.prototype.ua=function(){Ot(this.g,"a")},We.prototype.ta=function(e){Ot(this.g,new ka(e))},We.prototype.sa=function(e){Ot(this.g,new Da)},We.prototype.ra=function(){Ot(this.g,"b")},tr.prototype.createWebChannel=tr.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,Zc=fe.createWebChannelTransport=function(){return new tr},Jc=fe.getStatEventTarget=function(){return ji()},Xc=fe.Event=Ne,Yc=fe.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,Wc=fe.ErrorCode=Gi,Ws.COMPLETE="complete",Qc=fe.EventType=Ws,$s.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,Hc=fe.WebChannel=$s,bm=fe.FetchXmlHttpFactory=Yn,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,Kc=fe.XhrIo=ut}).apply(typeof Qr<"u"?Qr:typeof self<"u"?self:typeof window<"u"?window:{});var tl="@firebase/firestore",el="4.8.0";var St=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");var oo="11.10.0";var Wr=new pn("@firebase/firestore");function Zt(i,...t){if(Wr.logLevel<=rt.DEBUG){let o=t.map(fl);Wr.debug(`Firestore (${oo}): ${i}`,...o)}}function pl(i,...t){if(Wr.logLevel<=rt.ERROR){let o=t.map(fl);Wr.error(`Firestore (${oo}): ${i}`,...o)}}function fl(i){if(typeof i=="string")return i;try{return function(o){return JSON.stringify(o)}(i)}catch{return i}}function Gt(i,t,o){let n="Unexpected state";typeof t=="string"?n=t:o=t,_l(i,n,o)}function _l(i,t,o){let n=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(o!==void 0)try{n+=" CONTEXT: "+JSON.stringify(o)}catch{n+=" CONTEXT: "+o}throw pl(n),new Error(n)}function $e(i,t,o,n){let r="Unexpected state";typeof o=="string"?r=o:n=o,i||_l(t,r,n)}var Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends he{constructor(t,o){super(t,o),this.code=t,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qe=class{constructor(){this.promise=new Promise((t,o)=>{this.resolve=t,this.reject=o})}};var ds=class{constructor(t,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},us=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,o){t.enqueueRetryable(()=>o(St.UNAUTHENTICATED))}shutdown(){}};var ms=class{constructor(t){this.t=t,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,o){$e(this.o===void 0,42304);let n=this.i,r=m=>this.i!==n?(n=this.i,o(m)):Promise.resolve(),a=new qe;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qe,t.enqueueRetryable(()=>r(this.currentUser))};let l=()=>{let m=a;t.enqueueRetryable(()=>G(this,null,function*(){yield m.promise,yield r(this.currentUser)}))},u=m=>{Zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(m=>u(m)),setTimeout(()=>{if(!this.auth){let m=this.t.getImmediate({optional:!0});m?u(m):(Zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qe)}},0),l()}getToken(){let t=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(n=>this.i!==t?(Zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?($e(typeof n.accessToken=="string",31837,{l:n}),new ds(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return $e(t===null||typeof t=="string",2055,{h:t}),new St(t)}},hs=class{constructor(t,o,n){this.P=t,this.T=o,this.I=n,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},gs=class{constructor(t,o,n){this.P=t,this.T=o,this.I=n}getToken(){return Promise.resolve(new hs(this.P,this.T,this.I))}start(t,o){t.enqueueRetryable(()=>o(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Yr=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ps=class{constructor(t,o){this.V=o,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vc(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,o){$e(this.o===void 0,3512);let n=a=>{a.error!=null&&Zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);let l=a.token!==this.m;return this.m=a.token,Zt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?o(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};let r=a=>{Zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){let a=this.V.getImmediate({optional:!0});a?r(a):Zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yr(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(o=>o?($e(typeof o.token=="string",44558,{tokenResult:o}),this.m=o.token,new Yr(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Cm(i){let t=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(o);else for(let n=0;n<i;n++)o[n]=Math.floor(256*Math.random());return o}function ym(){return new TextEncoder}var fs=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=62*Math.floor(4.129032258064516),n="";for(;n.length<20;){let r=Cm(40);for(let a=0;a<r.length;++a)n.length<20&&r[a]<o&&(n+=t.charAt(r[a]%62))}return n}};function Qt(i,t){return i<t?-1:i>t?1:0}function Pm(i,t){let o=0;for(;o<i.length&&o<t.length;){let n=i.codePointAt(o),r=t.codePointAt(o);if(n!==r){if(n<128&&r<128)return Qt(n,r);{let a=ym(),l=vm(a.encode(nl(i,o)),a.encode(nl(t,o)));return l!==0?l:Qt(n,r)}}o+=n>65535?2:1}return Qt(i.length,t.length)}function nl(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function vm(i,t){for(let o=0;o<i.length&&o<t.length;++o)if(i[o]!==t[o])return Qt(i[o],t[o]);return Qt(i.length,t.length)}var il="__name__",Xr=class i{constructor(t,o,n){o===void 0?o=0:o>t.length&&Gt(637,{offset:o,range:t.length}),n===void 0?n=t.length-o:n>t.length-o&&Gt(1746,{length:n,range:t.length-o}),this.segments=t,this.offset=o,this.len=n}get length(){return this.len}isEqual(t){return i.comparator(this,t)===0}child(t){let o=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(n=>{o.push(n)}):o.push(t),this.construct(o)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==t.get(o))return!1;return!0}forEach(t){for(let o=this.offset,n=this.limit();o<n;o++)t(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,o){let n=Math.min(t.length,o.length);for(let r=0;r<n;r++){let a=i.compareSegments(t.get(r),o.get(r));if(a!==0)return a}return Qt(t.length,o.length)}static compareSegments(t,o){let n=i.isNumericId(t),r=i.isNumericId(o);return n&&!r?-1:!n&&r?1:n&&r?i.extractNumericId(t).compare(i.extractNumericId(o)):Pm(t,o)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}},_e=class i extends Xr{construct(t,o,n){return new i(t,o,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let o=[];for(let n of t){if(n.indexOf("//")>=0)throw new H(Z.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);o.push(...n.split("/").filter(r=>r.length>0))}return new i(o)}static emptyPath(){return new i([])}},Mm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_s=class i extends Xr{construct(t,o,n){return new i(t,o,n)}static isValidIdentifier(t){return Mm.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===il}static keyField(){return new i([il])}static fromServerFormat(t){let o=[],n="",r=0,a=()=>{if(n.length===0)throw new H(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(n),n=""},l=!1;for(;r<t.length;){let u=t[r];if(u==="\\"){if(r+1===t.length)throw new H(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let m=t[r+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new H(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=m,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(n+=u,r++):(a(),r++)}if(a(),l)throw new H(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new i(o)}static emptyPath(){return new i([])}};var be=class i{constructor(t){this.path=t}static fromPath(t){return new i(_e.fromString(t))}static fromName(t){return new i(_e.fromString(t).popFirst(5))}static empty(){return new i(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_e.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,o){return _e.comparator(t.path,o.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new i(new _e(t.slice()))}};function wm(i,t,o,n){if(t===!0&&n===!0)throw new H(Z.INVALID_ARGUMENT,`${i} and ${o} cannot be used together.`)}function Om(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function pt(i,t){let o={typeString:i};return t&&(o.value=t),o}function Fi(i,t){if(!Om(i))throw new H(Z.INVALID_ARGUMENT,"JSON must be an object");let o;for(let n in t)if(t[n]){let r=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in i)){o=`JSON missing required field: '${n}'`;break}let l=i[n];if(r&&typeof l!==r){o=`JSON field '${n}' must be a ${r}.`;break}if(a!==void 0&&l!==a.value){o=`Expected '${n}' field to equal '${a.value}'`;break}}if(o)throw new H(Z.INVALID_ARGUMENT,o);return!0}var rl=-62135596800,ol=1e6,Ct=class i{static now(){return i.fromMillis(Date.now())}static fromDate(t){return i.fromMillis(t.getTime())}static fromMillis(t){let o=Math.floor(t/1e3),n=Math.floor((t-1e3*o)*ol);return new i(o,n)}constructor(t,o){if(this.seconds=t,this.nanoseconds=o,o<0)throw new H(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new H(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(t<rl)throw new H(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ol}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:i._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fi(t,i._jsonSchema))return new i(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-rl;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:pt("string",Ct._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};var bs=class{constructor(t,o,n,r){this.indexId=t,this.collectionGroup=o,this.fields=n,this.indexState=r}};bs.UNKNOWN_ID=-1;function xm(i){return i.name==="IndexedDbTransactionError"}function Im(i){return i===0&&1/i==-1/0}var Em="remoteDocuments",bl="owner";var Cl="mutationQueues";var yl="mutations";var Pl="documentMutations",Sm="remoteDocumentsV14";var vl="remoteDocumentGlobal";var Ml="targets";var wl="targetDocuments";var Ol="targetGlobal",xl="collectionParents";var Il="clientMetadata";var El="bundles";var Sl="namedQueries";var Tm="indexConfiguration";var Am="indexState";var km="indexEntries";var Tl="documentOverlays";var Dm="globals";var Rm=[Cl,yl,Pl,Em,Ml,bl,Ol,wl,Il,vl,xl,El,Sl],Wp=[...Rm,Tl],Nm=[Cl,yl,Pl,Sm,Ml,bl,Ol,wl,Il,vl,xl,El,Sl,Tl],Vm=Nm,Fm=[...Vm,Tm,Am,km];var Yp=[...Fm,Dm];var Dn=class i{constructor(t,o){this.comparator=t,this.root=o||ae.EMPTY}insert(t,o){return new i(this.comparator,this.root.insert(t,o,this.comparator).copy(null,null,ae.BLACK,null,null))}remove(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ae.BLACK,null,null))}get(t){let o=this.root;for(;!o.isEmpty();){let n=this.comparator(t,o.key);if(n===0)return o.value;n<0?o=o.left:n>0&&(o=o.right)}return null}indexOf(t){let o=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(t,n.key);if(r===0)return o+n.left.size;r<0?n=n.left:(o+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((o,n)=>(t(o,n),!1))}toString(){let t=[];return this.inorderTraversal((o,n)=>(t.push(`${o}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sn(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sn(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sn(this.root,t,this.comparator,!0)}},Sn=class{constructor(t,o,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=o?n(t.key,o):1,o&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),o={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},ae=class i{constructor(t,o,n,r,a){this.key=t,this.value=o,this.color=n!=null?n:i.RED,this.left=r!=null?r:i.EMPTY,this.right=a!=null?a:i.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,o,n,r,a){return new i(t!=null?t:this.key,o!=null?o:this.value,n!=null?n:this.color,r!=null?r:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,o,n){let r=this,a=n(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,o,n),null):a===0?r.copy(null,o,null,null,null):r.copy(null,null,null,null,r.right.insert(t,o,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return i.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,o){let n,r=this;if(o(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,o),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),o(t,r.key)===0){if(r.right.isEmpty())return i.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,o))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,o)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Gt(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw Gt(27949);return t+(this.isRed()?0:1)}};ae.EMPTY=null,ae.RED=!0,ae.BLACK=!1;ae.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt(57766)}get value(){throw Gt(16141)}get color(){throw Gt(16727)}get left(){throw Gt(29726)}get right(){throw Gt(36894)}copy(t,o,n,r,a){return this}insert(t,o,n){return new ae(t,o)}remove(t,o){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Jr=class i{constructor(t){this.comparator=t,this.data=new Dn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((o,n)=>(t(o),!1))}forEachInRange(t,o){let n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;o(r.key)}}forEachWhile(t,o){let n;for(n=o!==void 0?this.data.getIteratorFrom(o):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){let o=this.data.getIteratorFrom(t);return o.hasNext()?o.getNext().key:null}getIterator(){return new Zr(this.data.getIterator())}getIteratorFrom(t){return new Zr(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let o=this;return o.size<t.size&&(o=t,t=this),t.forEach(n=>{o=o.add(n)}),o}isEqual(t){if(!(t instanceof i)||this.size!==t.size)return!1;let o=this.data.getIterator(),n=t.data.getIterator();for(;o.hasNext();){let r=o.getNext().key,a=n.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(o=>{t.push(o)}),t}toString(){let t=[];return this.forEach(o=>t.push(o)),"SortedSet("+t.toString()+")"}copy(t){let o=new i(this.comparator);return o.data=t,o}},Zr=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Cs=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Re=class i{constructor(t){this.binaryString=t}static fromBase64String(t){let o=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Cs("Invalid base64 string: "+a):a}}(t);return new i(o)}static fromUint8Array(t){let o=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(t);return new i(o)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(o){return btoa(o)}(this.binaryString)}toUint8Array(){return function(o){let n=new Uint8Array(o.length);for(let r=0;r<o.length;r++)n[r]=o.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Re.EMPTY_BYTE_STRING=new Re("");var Lm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Um(i){if($e(!!i,39018),typeof i=="string"){let t=0,o=Lm.exec(i);if($e(!!o,46558,{timestamp:i}),o[1]){let r=o[1];r=(r+"000000000").substr(0,9),t=Number(r)}let n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ki(i.seconds),nanos:ki(i.nanos)}}function ki(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Bm(i){return typeof i=="string"?Re.fromBase64String(i):Re.fromUint8Array(i)}var sl="(default)",ys=class i{constructor(t,o){this.projectId=t,this.database=o||sl}static empty(){return new i("","")}get isDefaultDatabase(){return this.database===sl}isEqual(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database}};var Al="__type__",zm="__max__";var kl="__vector__",Dl="value";function jm(i){var t,o;return((o=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Al])===null||o===void 0?void 0:o.stringValue)===kl}function Gm(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===zm}var Jp={mapValue:{fields:{[Al]:{stringValue:kl},[Dl]:{arrayValue:{}}}}};var Ps=class{constructor(t,o=null,n=[],r=[],a=null,l="F",u=null,m=null){this.path=t,this.collectionGroup=o,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function $m(i){return new Ps(i)}var Zp=new Dn(be.comparator);var tf=new Dn(be.comparator);var ef=new Dn(be.comparator),nf=new Jr(be.comparator);var rf=new Jr(Qt);var al,K;(K=al||(al={}))[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";var of=new Hr([4294967295,4294967295],0);var to=class{constructor(){}bt(t,o){this.Dt(t,o),o.vt()}Dt(t,o){if("nullValue"in t)this.Ct(o,5);else if("booleanValue"in t)this.Ct(o,10),o.Ft(t.booleanValue?1:0);else if("integerValue"in t)this.Ct(o,15),o.Ft(ki(t.integerValue));else if("doubleValue"in t){let n=ki(t.doubleValue);isNaN(n)?this.Ct(o,13):(this.Ct(o,15),Im(n)?o.Ft(0):o.Ft(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Ct(o,20),typeof n=="string"&&(n=Um(n)),o.Mt(`${n.seconds||""}`),o.Ft(n.nanos||0)}else if("stringValue"in t)this.xt(t.stringValue,o),this.Ot(o);else if("bytesValue"in t)this.Ct(o,30),o.Nt(Bm(t.bytesValue)),this.Ot(o);else if("referenceValue"in t)this.Bt(t.referenceValue,o);else if("geoPointValue"in t){let n=t.geoPointValue;this.Ct(o,45),o.Ft(n.latitude||0),o.Ft(n.longitude||0)}else"mapValue"in t?Gm(t)?this.Ct(o,Number.MAX_SAFE_INTEGER):jm(t)?this.Lt(t.mapValue,o):(this.kt(t.mapValue,o),this.Ot(o)):"arrayValue"in t?(this.qt(t.arrayValue,o),this.Ot(o)):Gt(19022,{Qt:t})}xt(t,o){this.Ct(o,25),this.$t(t,o)}$t(t,o){o.Mt(t)}kt(t,o){let n=t.fields||{};this.Ct(o,55);for(let r of Object.keys(n))this.xt(r,o),this.Dt(n[r],o)}Lt(t,o){var n,r;let a=t.fields||{};this.Ct(o,53);let l=Dl,u=((r=(n=a[l].arrayValue)===null||n===void 0?void 0:n.values)===null||r===void 0?void 0:r.length)||0;this.Ct(o,15),o.Ft(ki(u)),this.xt(l,o),this.Dt(a[l],o)}qt(t,o){let n=t.values||[];this.Ct(o,50);for(let r of n)this.Dt(r,o)}Bt(t,o){this.Ct(o,37),be.fromName(t).path.forEach(n=>{this.Ct(o,60),this.$t(n,o)})}Ct(t,o){t.Ft(o)}Ot(t){t.Ft(2)}};to.Ut=new to;var sf=new Uint8Array(0);var Rl=41943040,se=class i{static withCacheSize(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,o,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=n}};se.DEFAULT_COLLECTION_PERCENTILE=10,se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,se.DEFAULT=new se(Rl,se.DEFAULT_COLLECTION_PERCENTILE,se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),se.DISABLED=new se(-1,0,0);var qm=1048576;function ls(){return typeof document<"u"?document:null}var vs=class{constructor(t,o,n=1e3,r=1.5,a=6e4){this.Fi=t,this.timerId=o,this.d_=n,this.E_=r,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();let o=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,o-n);r>0&&Zt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${o} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Ms=class i{constructor(t,o,n,r,a){this.asyncQueue=t,this.timerId=o,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new qe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,o,n,r,a){let l=Date.now()+n,u=new i(t,o,l,r,a);return u.start(n),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var cl,ll;(ll=cl||(cl={})).Fa="default",ll.Cache="cache";function Km(i){let t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}var dl=new Map;var Hm="firestore.googleapis.com",ul=!0,eo=class{constructor(t){var o,n;if(t.host===void 0){if(t.ssl!==void 0)throw new H(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hm,this.ssl=ul}else this.host=t.host,this.ssl=(o=t.ssl)!==null&&o!==void 0?o:ul;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Rl;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qm)throw new H(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Km((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new H(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new H(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new H(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},ws=class{constructor(t,o,n,r){this._authCredentials=t,this._appCheckCredentials=o,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eo({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new H(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eo(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new us;switch(n.type){case"firstParty":return new gs(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new H(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return G(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(o){let n=dl.get(o);n&&(Zt("ComponentProvider","Removing Datastore"),dl.delete(o),n.terminate())}(this),Promise.resolve()}};var Os=class i{constructor(t,o,n){this.converter=o,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new i(this.firestore,t,this._query)}},Ke=class i{constructor(t,o,n){this.converter=o,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new i(this.firestore,t,this._key)}toJSON(){return{type:i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,o,n){if(Fi(o,i._jsonSchema))return new i(t,n||null,new be(_e.fromString(o.referencePath)))}};Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:pt("string",Ke._jsonSchemaVersion),referencePath:pt("string")};var xs=class i extends Os{constructor(t,o,n){super(t,o,$m(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new Ke(this.firestore,null,new be(t))}withConverter(t){return new i(this.firestore,t,this._path)}};var ml="AsyncQueue",no=class{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new vs(this,"async_queue_retry"),this.oc=()=>{let n=ls();n&&Zt(ml,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=t;let o=ls();o&&typeof o.addEventListener=="function"&&o.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;let o=ls();o&&typeof o.removeEventListener=="function"&&o.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});let o=new qe;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}cc(){return G(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!xm(t))throw t;Zt(ml,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(t){let o=this._c.then(()=>(this.nc=!0,t().catch(n=>{throw this.tc=n,this.nc=!1,pl("INTERNAL UNHANDLED ERROR: ",hl(n)),n}).then(n=>(this.nc=!1,n))));return this._c=o,o}enqueueAfterDelay(t,o,n){this.ac(),this.sc.indexOf(t)>-1&&(o=0);let r=Ms.createAndSchedule(this,t,o,n,a=>this.lc(a));return this.ec.push(r),r}ac(){this.tc&&Gt(47125,{hc:hl(this.tc)})}verifyOperationInProgress(){}Pc(){return G(this,null,function*(){let t;do t=this._c,yield t;while(t!==this._c)})}Tc(t){for(let o of this.ec)if(o.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((o,n)=>o.targetTimeMs-n.targetTimeMs);for(let o of this.ec)if(o.skipDelay(),t!=="all"&&o.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){let o=this.ec.indexOf(t);this.ec.splice(o,1)}};function hl(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}var Is=class extends ws{constructor(t,o,n,r){super(t,o,n,r),this.type="firestore",this._queue=new no,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return G(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new no(t),this._firestoreClient=void 0,yield t}})}};var Di=class i{constructor(t){this._byteString=t}static fromBase64String(t){try{return new i(Re.fromBase64String(t))}catch(o){throw new H(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(t){return new i(Re.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fi(t,i._jsonSchema))return i.fromBase64String(t.bytes)}};Di._jsonSchemaVersion="firestore/bytes/1.0",Di._jsonSchema={type:pt("string",Di._jsonSchemaVersion),bytes:pt("string")};var io=class{constructor(...t){for(let o=0;o<t.length;++o)if(t[o].length===0)throw new H(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _s(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var Ri=class i{constructor(t,o){if(!isFinite(t)||t<-90||t>90)throw new H(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(o)||o<-180||o>180)throw new H(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=t,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:i._jsonSchemaVersion}}static fromJSON(t){if(Fi(t,i._jsonSchema))return new i(t.latitude,t.longitude)}};Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:pt("string",Ri._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};var Ni=class i{constructor(t){this._values=(t||[]).map(o=>o)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,r){if(n.length!==r.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==r[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fi(t,i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(o=>typeof o=="number"))return new i(t.vectorValues);throw new H(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:pt("string",Ni._jsonSchemaVersion),vectorValues:pt("object")};var Qm=new RegExp("[~\\*/\\[\\]]");function Wm(i,t,o){if(t.search(Qm)>=0)throw gl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,o);try{return new io(...t.split("."))._internalPath}catch{throw gl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,o)}}function gl(i,t,o,n,r){let a=n&&!n.isEmpty(),l=r!==void 0,u=`Function ${t}() called with invalid data`;o&&(u+=" (via `toFirestore()`)"),u+=". ";let m="";return(a||l)&&(m+=" (found",a&&(m+=` in field ${n}`),l&&(m+=` in document ${r}`),m+=")"),new H(Z.INVALID_ARGUMENT,u+i+m)}var ro=class{constructor(t,o,n,r,a){this._firestore=t,this._userDataWriter=o,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new Es(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let o=this._document.data.field(Nl("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o)}}},Es=class extends ro{data(){return super.data()}};function Nl(i,t){return typeof t=="string"?Wm(i,t):t instanceof io?t._internalPath:t._delegate._internalPath}var Tn=class{constructor(t,o){this.hasPendingWrites=t,this.fromCache=o}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},An=class i extends ro{constructor(t,o,n,r,a,l){super(t,o,n,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let o=new kn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,o={}){if(this._document){let n=this._document.data.field(Nl("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,o.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,o={};return o.type=i._jsonSchemaVersion,o.bundle="",o.bundleSource="DocumentSnapshot",o.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?o:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),o.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),o)}};An._jsonSchemaVersion="firestore/documentSnapshot/1.0",An._jsonSchema={type:pt("string",An._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};var kn=class extends An{data(t={}){return super.data(t)}},Vi=class i{constructor(t,o,n,r){this._firestore=t,this._userDataWriter=o,this._snapshot=r,this.metadata=new Tn(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let t=[];return this.forEach(o=>t.push(o)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,o){this._snapshot.docs.forEach(n=>{t.call(o,new kn(this._firestore,this._userDataWriter,n.key,n,new Tn(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let o=!!t.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new H(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>{let m=new kn(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Tn(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:m,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{let m=new kn(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Tn(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),g=-1,C=-1;return u.type!==0&&(g=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),C=l.indexOf(u.doc.key)),{type:Ym(u.type),doc:m,oldIndex:g,newIndex:C}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=i._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=fs.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let o=[],n=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(o.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function Ym(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt(61501,{type:i})}}Vi._jsonSchemaVersion="firestore/querySnapshot/1.0",Vi._jsonSchema={type:pt("string",Vi._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};(function(t,o=!0){(function(r){oo=r})(Fc),mi(new Se("firestore",(n,{instanceIdentifier:r,options:a})=>{let l=n.getProvider("app").getImmediate(),u=new Is(new ms(n.getProvider("auth-internal")),new ps(l,n.getProvider("app-check-internal")),function(g,C){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new H(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ys(g.options.projectId,C)}(l,r),l);return a=Object.assign({useFetchStreams:o},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),fn(tl,el,t),fn(tl,el,"esm2017")})();function Xm(i,t){i&1&&dt(0,"mat-spinner",21)}function Jm(i,t){i&1&&(_(0,"p",16),O(1,"Email is required"),b())}function Zm(i,t){i&1&&(_(0,"p",16),O(1,"Please enter a valid email address"),b())}function th(i,t){i&1&&(_(0,"p",16),O(1,"This person is already a member of the group"),b())}function eh(i,t){if(i&1&&(_(0,"p",22),O(1),b()),i&2){let o=V();Xt("user-found",o.userExists)("user-not-found",!o.userExists&&!o.checkingUser),I(),q(" ",o.getUserStatusText()," ")}}function nh(i,t){if(i&1&&dt(0,"img",31),i&2){let o=V().$implicit;N("src",o.photoURL,ar)("alt",o.displayName)}}function ih(i,t){i&1&&(_(0,"mat-icon"),O(1,"person"),b())}function rh(i,t){if(i&1){let o=ht();_(0,"div",23)(1,"div",24),j(2,nh,1,2,"img",25)(3,ih,2,0,"mat-icon",26),b(),_(4,"div",27)(5,"span",28),O(6),b(),_(7,"span",29),O(8),b()(),_(9,"button",30),B("click",function(){let r=X(o).$implicit,a=V();return J(a.onDeleteMember(r.userId))}),_(10,"mat-icon"),O(11,"delete"),b()()()}if(i&2){let o=t.$implicit;I(2),N("ngIf",o.photoURL),I(),N("ngIf",!o.photoURL),I(3),ot(o.displayName),I(2),ot(o.email)}}var Rn=(()=>{let t=class t{constructor(n,r,a,l,u,m){this.fb=n,this.dialogRef=r,this.data=a,this.auth=l,this.userService=u,this.dialog=m,this.isSubmitting=!1,this.userExists=!1,this.checkingUser=!1,this.group=a.group,this.memberForm=this.fb.group({email:["",[Oe.required,Oe.email]]})}ngOnInit(){setTimeout(()=>{let n=document.querySelector('input[formControlName="email"]');n&&n.focus()},100)}onEmailChange(){return G(this,null,function*(){var r,a,l;let n=(r=this.memberForm.get("email"))==null?void 0:r.value;if(n&&this.isEmailAlreadyMember(n)){(a=this.memberForm.get("email"))==null||a.setErrors({alreadyMember:!0}),this.userExists=!1;return}if(n&&((l=this.memberForm.get("email"))!=null&&l.valid)){this.checkingUser=!0;try{let u=yield this.userService.findUserByEmail(n);this.userExists=!!u}catch(u){console.error("Error checking user:",u),this.userExists=!1}finally{this.checkingUser=!1}}else this.userExists=!1})}onSubmit(){return G(this,null,function*(){if(this.memberForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let r={email:this.memberForm.value.email.trim().toLowerCase(),role:Ge.MEMBER};this.dialogRef.close(r)}catch(n){console.error("Error adding member:",n)}finally{this.isSubmitting=!1}}else this.memberForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(n){let r=this.memberForm.get(n);return r!=null&&r.hasError("required")?`${n.charAt(0).toUpperCase()+n.slice(1)} is required`:r!=null&&r.hasError("email")?"Please enter a valid email address":r!=null&&r.hasError("alreadyMember")?"This user is already a member of this group":""}isEmailAlreadyMember(n){return this.group.members.some(r=>r.email.toLowerCase()===n.toLowerCase())}getRoleDisplayName(n){return{admin:"Admin",member:"Member"}[n]||n}getUserStatusText(){var r,a;return this.checkingUser?"Checking if user exists...":this.userExists?"\u2713 User found in system - invitation will be sent immediately":((r=this.memberForm.get("email"))==null?void 0:r.value)&&((a=this.memberForm.get("email"))!=null&&a.valid)?"\u2139 User not found - invitation will be sent when they register":""}onDeleteMember(n){this.dialog.open(Ee,{data:{title:"Delete Member",message:"Are you sure you want to delete this member? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(r=>{r&&this.dialogRef.close({action:"delete",userId:n})})}};t.\u0275fac=function(r){return new(r||t)(R(yr),R(wr),R(fc),R(wt),R(cn),R(re))},t.\u0275cmp=gt({type:t,selectors:[["app-add-member-dialog"]],decls:36,vars:10,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Add Member",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"member-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","email","formControlName","email","placeholder","Enter member's email address","autofocus","",1,"form-input",3,"input"],[1,"field-footer"],[1,"error-message"],[1,"status-message",3,"user-found","user-not-found"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"bottom-spacing"],["diameter","16"],[1,"status-message"],[1,"member-item"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],["mat-icon-button","",3,"click"],[3,"src","alt"]],template:function(r,a){if(r&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),B("click",function(){return a.onCancel()}),_(4,"mat-icon"),O(5,"arrow_back"),b()(),_(6,"h6",4),O(7," Add Member "),b()(),_(8,"button",5),B("click",function(){return a.onCancel()}),_(9,"mat-icon"),O(10,"close"),b()(),_(11,"button",6),B("click",function(){return a.onSubmit()}),j(12,Xm,1,0,"mat-spinner",7),O(13),b()()(),_(14,"div",8)(15,"div",9)(16,"form",10),B("ngSubmit",function(){return a.onSubmit()}),_(17,"div",11)(18,"label",12)(19,"mat-icon",13),O(20,"email"),b(),O(21," Email Address * "),b(),_(22,"input",14),B("input",function(){return a.onEmailChange()}),b(),_(23,"div",15),j(24,Jm,2,0,"p",16)(25,Zm,2,0,"p",16)(26,th,2,0,"p",16)(27,eh,2,5,"p",17),b()(),_(28,"div",11)(29,"label",12)(30,"mat-icon",13),O(31,"people"),b(),O(32),b(),_(33,"div",18),j(34,rh,12,4,"div",19),b()(),dt(35,"div",20),b()()()),r&2){let l,u,m;I(11),N("disabled",a.memberForm.invalid||a.isSubmitting),I(),N("ngIf",a.isSubmitting),I(),q(" ",a.isSubmitting?"Adding...":"Add"," "),I(3),N("formGroup",a.memberForm),I(8),Et((l=a.memberForm.get("email"))!=null&&l.hasError("required")&&((l=a.memberForm.get("email"))!=null&&l.touched)?24:-1),I(),Et((u=a.memberForm.get("email"))!=null&&u.hasError("email")&&((u=a.memberForm.get("email"))!=null&&u.touched)?25:-1),I(),Et((m=a.memberForm.get("email"))!=null&&m.hasError("alreadyMember")&&((m=a.memberForm.get("email"))!=null&&m.touched)?26:-1),I(),Et(a.getUserStatusText()?27:-1),I(5),q(" Current Members (",a.group.members.length,") "),I(2),N("ngForOf",a.group.members)}},dependencies:[rn,Vt,_r,gr,pr,fr,br,Cr,Ht,ie,Ut,Ie,ln],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.75rem;margin:.25rem 0 0;display:flex;align-items:center;gap:.25rem;padding:.5rem;border-radius:6px;font-weight:500}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#059669;background-color:#d1fae5;border:1px solid #a7f3d0}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#6ee7b7;background-color:#064e3b;border-color:#047857}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#d97706;background-color:#fef3c7;border:1px solid #fde68a}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#fbbf24;background-color:#451a03;border-color:#92400e}.members-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;border:1px solid #e5e7eb;border-radius:8px;background:#f9fafb}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]{max-height:250px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]{max-height:200px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;border-bottom:1px solid #e5e7eb;background:#fff}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.75rem;gap:.5rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.625rem;gap:.375rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center;overflow:hidden;flex-shrink:0}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:36px;height:36px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:32px;height:32px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{background:#374151}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:20px;width:20px;height:20px}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#374151;font-weight:500;font-size:.875rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#f3f4f6}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.65rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#9ca3af}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem;height:24px;font-weight:500}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.7rem;height:22px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.65rem;height:20px}}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let i=t;return i})();function ah(i,t){if(i&1){let o=ht();_(0,"button",15),B("click",function(r){X(o);let a=V();return J(a.onDeleteGroup(r))}),_(1,"mat-icon"),O(2,"delete"),b(),_(3,"span"),O(4,"Delete Group"),b()()}}var Ll=(()=>{let t=class t{constructor(n,r,a){this.router=n,this.auth=r,this.dialog=a,this.isSelected=!1,this.isMobile=!1,this.groupSelected=new Nt,this.addMember=new Nt,this.deleteGroup=new Nt}onGroupClick(){this.router.navigate(["dashboard/splitwise/group",this.group.id])}openAddMemberDialog(n){n.stopPropagation(),this.dialog.open(Rn,{width:this.isMobile?"90vw":"400px",maxWidth:this.isMobile?"400px":"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(a=>{a&&this.addMember.emit({groupId:this.group.id,request:a})})}onDeleteGroup(n){n.stopPropagation(),this.deleteGroup.emit(this.group)}getGroupMemberCount(){return this.group.members.filter(n=>n.isActive).length}getCurrentUserRole(){let n=this.auth.currentUser;if(!n)return"";let r=this.group.members.find(a=>a.userId===n.uid);return(r==null?void 0:r.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}formatDate(n){return n?(n.toDate?n.toDate():new Date(n)).toLocaleDateString():""}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}};t.\u0275fac=function(r){return new(r||t)(R(on),R(wt),R(re))},t.\u0275cmp=gt({type:t,selectors:[["app-group"]],inputs:{group:"group",isSelected:"isSelected",isMobile:"isMobile"},outputs:{groupSelected:"groupSelected",addMember:"addMember",deleteGroup:"deleteGroup"},decls:28,vars:12,consts:[["groupMenu","matMenu"],[1,"group-item",3,"click"],[1,"group-info"],[1,"group-header"],[1,"group-title-section"],[1,"group-name"],[1,"group-meta"],[1,"member-count"],[1,"member-text"],[1,"created-date"],[1,"group-actions"],["mat-icon-button","",1,"menu-trigger",3,"click","matMenuTriggerFor"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"]],template:function(r,a){if(r&1){let l=ht();_(0,"div",1),B("click",function(){return X(l),J(a.onGroupClick())}),_(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),O(5),tn(6,"titlecase"),b(),_(7,"div",6)(8,"span",7)(9,"mat-icon"),O(10,"people"),b(),_(11,"span",8),O(12),b()(),_(13,"span",9),O(14),b()()()()(),_(15,"div",10)(16,"button",11),B("click",function(m){return X(l),J(m.stopPropagation())}),_(17,"mat-icon"),O(18,"more_vert"),b()(),_(19,"mat-menu",12,0)(21,"button",13),B("click",function(m){return X(l),J(a.openAddMemberDialog(m))}),_(22,"mat-icon"),O(23,"person_add"),b(),_(24,"span"),O(25,"Add Member"),b()(),dt(26,"mat-divider"),j(27,ah,5,0,"button",14),b()()()}if(r&2){let l=ii(20);Xt("selected",a.isSelected)("mobile",a.isMobile),I(5),ot(en(6,10,a.group.name)),I(7),q("",a.getGroupMemberCount()," members"),I(2),q("Created ",a.formatDate(a.group.createdAt),""),I(2),N("matMenuTriggerFor",l),Xe("aria-label","More options for "+a.group.name),I(11),N("ngIf",a.canManageGroup())}},dependencies:[Vt,Sr,ie,Ut,xr,Or,Ir,ur],styles:[".group-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:16px;border:1px solid #e0e0e0;border-radius:12px;margin-bottom:12px;cursor:pointer;transition:all .2s ease;background:#fff;position:relative;min-height:80px}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;box-shadow:0 4px 12px #1976d226;transform:translateY(-1px)}.group-item.selected[_ngcontent-%COMP%]{border-color:#1976d2;background:#f3f8ff;box-shadow:0 4px 12px #1976d233}.group-item.mobile[_ngcontent-%COMP%]{padding:12px;min-height:70px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{flex:1;min-width:0;margin-right:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.1rem;font-weight:600;color:#333;line-height:1.3;word-break:break-word}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.8rem;color:#666;font-weight:500}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#1976d2}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   .member-text[_ngcontent-%COMP%]{white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.75rem;color:#999;white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:flex-start}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d20a}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#f443360a}@media (max-width: 768px){.group-item[_ngcontent-%COMP%]{padding:12px;margin-bottom:8px;min-height:70px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{margin-right:8px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px;flex-direction:row;align-items:center}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 480px){.group-item[_ngcontent-%COMP%]{padding:10px;min-height:65px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:4px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.65rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:28px;height:28px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}@media (prefers-color-scheme: dark){.group-item[_ngcontent-%COMP%]{background:#2d2d2d;border-color:#404040;color:#e0e0e0}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;background:#3a3a3a}.group-item.selected[_ngcontent-%COMP%]{background:#1a3a5f;border-color:#1976d2}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{color:#e0e0e0}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{color:#b0b0b0}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{color:#888}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{color:#b0b0b0}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d21a}}"]});let i=t;return i})();var zl=(i,t)=>t.id;function lh(i,t){if(i&1){let o=ht();_(0,"div",17)(1,"div",18)(2,"div",19)(3,"h4"),O(4),b(),_(5,"p"),O(6),b(),_(7,"small"),O(8),b()(),_(9,"div",20)(10,"button",21),B("click",function(){let r=X(o).$implicit,a=V(2);return J(a.acceptInvitation(r))}),_(11,"mat-icon"),O(12,"check"),b(),O(13," Accept "),b(),_(14,"button",22),B("click",function(){let r=X(o).$implicit,a=V(2);return J(a.declineInvitation(r))}),_(15,"mat-icon"),O(16,"close"),b(),O(17," Decline "),b()()()()}if(i&2){let o=t.$implicit,n=V(2);I(4),ot(o.groupName),I(2),q("Invited by ",o.invitedByDisplayName,""),I(2),ot(n.formatDate(o.createdAt))}}function dh(i,t){if(i&1&&(_(0,"div",14)(1,"mat-card",15)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),O(5,"mail"),b(),O(6," Pending Invitations "),b()(),_(7,"mat-card-content")(8,"div",16),Uo(9,lh,18,3,"div",17,zl),b()()()()),i&2){let o=V();I(9),Bo(o.invitations)}}function uh(i,t){if(i&1){let o=ht();_(0,"app-group",23),B("addMember",function(r){X(o);let a=V();return J(a.handleAddMember(r))})("deleteGroup",function(r){X(o);let a=V();return J(a.deleteGroup(r))}),b()}if(i&2){let o=t.$implicit,n=V();N("group",o)("isSelected",!1)("isMobile",n.isMobile)}}var jl=(()=>{let t=class t{constructor(n,r,a,l,u){this.breakpointObserver=n,this.auth=r,this.store=a,this.dialog=l,this.notificationService=u,this.groups=[],this.invitations=[],this.isMobile=!1,this.currentUser=null,this.error=null,this.destroy$=new Yt,this.breakpointObserver.observe([an.Handset]).pipe(me(this.destroy$)).subscribe(m=>{this.isMobile=m.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.loadData(),this.subscribeToStore()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(In).pipe(me(this.destroy$)).subscribe(n=>{this.groups=n.groups,this.invitations=n.invitations,this.error=n.error,this.error&&(this.notificationService.error(this.error),this.store.dispatch(ke()))})}loadData(){this.store.dispatch(yn()),this.store.dispatch(Pn())}openCreateGroupDialog(){this.dialog.open(zc,{width:this.isMobile?"90vw":"500px",maxWidth:this.isMobile?"500px":"90vw",disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(r=>{r&&this.store.dispatch(vn({request:r}))})}handleAddMember(n){this.store.dispatch(oe(n))}acceptInvitation(n){this.store.dispatch(Mn({invitationId:n.id}))}declineInvitation(n){this.store.dispatch(wn({invitationId:n.id}))}deleteGroup(n){this.dialog.open(Ee,{width:"300px",data:{title:"Delete Group",message:'Are you sure you want to delete the group "${group.name}"?',confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(r=>{r&&this.store.dispatch(Te({groupId:n.id}))})}formatDate(n){return n?(n.toDate?n.toDate():new Date(n)).toLocaleDateString():""}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}};t.\u0275fac=function(r){return new(r||t)(R(sn),R(wt),R(Ft),R(re),R(xe))},t.\u0275cmp=gt({type:t,selectors:[["app-splitwise"]],decls:21,vars:1,consts:[[1,"splitwise-container"],[1,"header"],[1,"header-content"],[1,"title-section"],[1,"title-icon"],[1,"title"],[1,"subtitle"],[1,"header-actions"],["mat-raised-button","","color","primary",1,"create-group-btn",3,"click"],[1,"main-content"],["class","invitations-section",4,"ngIf"],[1,"groups-section"],[1,"groups-list"],[3,"group","isSelected","isMobile"],[1,"invitations-section"],[1,"invitations-card"],[1,"invitations-list"],[1,"invitation-item"],[1,"invitation-info"],[1,"invitation-details"],[1,"invitation-actions"],["mat-button","","color","primary",1,"accept-btn",3,"click"],["mat-button","","color","warn",1,"decline-btn",3,"click"],[3,"addMember","deleteGroup","group","isSelected","isMobile"]],template:function(r,a){r&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),O(5,"group"),b(),_(6,"h1",5),O(7,"Splitwise"),b(),_(8,"p",6),O(9,"Split expenses with friends and family"),b()(),_(10,"div",7)(11,"button",8),B("click",function(){return a.openCreateGroupDialog()}),_(12,"mat-icon"),O(13,"add"),b(),O(14," Create Group "),b()()()(),_(15,"div",9),j(16,dh,11,0,"div",10),_(17,"div",11)(18,"div",12),Uo(19,uh,1,3,"app-group",13,zl),b()()()()),r&2&&(I(16),N("ngIf",a.invitations.length>0),I(3),Bo(a.groups))},dependencies:[Vt,dn,mn,hn,un,Ht,Ut,Ll],styles:[".splitwise-container[_ngcontent-%COMP%]{background:#f9fafb;padding:20px}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}}.header[_ngcontent-%COMP%]{margin-bottom:30px}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));padding:1rem;border-radius:1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#fff}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:2.5rem;font-weight:700}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffffe6;margin:0;font-size:1.1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem}}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;font-weight:600;padding:12px 24px;border-radius:25px;transition:all .3s ease}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;border-color:#ffffff80;transform:translateY(-2px)}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;color:#fff}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.1rem}.main-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.invitations-section[_ngcontent-%COMP%]{margin-bottom:30px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]{padding:15px 0;border-bottom:1px solid #eee}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media (max-width: 768px){.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 5px;color:#666}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#999;font-size:.85rem}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background:#45a049}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]:hover{background:#da190b}.groups-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:30px}@media (max-width: 1024px){.groups-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fffffff2;border-radius:15px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#ccc;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin:0 0 10px;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 30px;font-size:1.1rem}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:12px 24px;border-radius:25px;font-weight:600}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#333;font-weight:600;font-size:1.3rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:30px}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{flex-direction:column}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]{border-color:#667eea;color:#667eea;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;margin:0 0 20px;font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid #eee}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#999;font-size:1.5rem;width:1.5rem;height:1.5rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#333;font-weight:500;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{color:#999;font-size:.8rem;text-transform:capitalize}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]{margin-bottom:20px}.groups-section[_ngcontent-%COMP%]{gap:15px}.details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 480px){.splitwise-container[_ngcontent-%COMP%]{padding:8px}.header[_ngcontent-%COMP%]{margin-bottom:15px}.groups-section[_ngcontent-%COMP%]{gap:10px}}"]});let i=t;return i})();var Gl=(()=>{let t=class t{constructor(){}toDate(n){try{if(!n)return null;if(n instanceof Date)return n;if(n instanceof Ct)return n.toDate();if(n&&typeof n=="object"&&"seconds"in n)return new Ct(n.seconds,n.nanoseconds).toDate();if(typeof n=="number")return new Date(n);if(typeof n=="string"){let r=new Date(n);return isNaN(r.getTime())?null:r}return n&&typeof n.toDate=="function"?n.toDate():null}catch(r){return console.error("Error converting timestamp to date:",r,n),null}}toTimestamp(n){try{if(!n)return null;if(n instanceof Ct)return n;if(n instanceof Date)return Ct.fromDate(n);if(typeof n=="number")return Ct.fromDate(new Date(n));if(typeof n=="string"){let r=new Date(n);if(!isNaN(r.getTime()))return Ct.fromDate(r)}return n&&typeof n.toDate=="function"?Ct.fromDate(n.toDate()):null}catch(r){return console.error("Error converting date to timestamp:",r,n),null}}fromFormDate(n){try{if(!n)return null;let r=new Date(n);return isNaN(r.getTime())?null:Ct.fromDate(r)}catch(r){return console.error("Error converting form date to timestamp:",r,n),null}}now(){return Ct.fromDate(new Date)}compare(n,r){let a=this.toDate(n),l=this.toDate(r);return!a&&!l?0:a?l?a.getTime()-l.getTime():1:-1}sortByDate(n,r,a=!1){return[...n].sort((l,u)=>{let m=this.toDate(l[r]),g=this.toDate(u[r]);if(!m&&!g)return 0;if(!m)return a?-1:1;if(!g)return a?1:-1;let C=m.getTime()-g.getTime();return a?C:-C})}filterByDateRange(n,r,a,l){let u=this.toDate(a),m=this.toDate(l);return!u&&!m?n:n.filter(g=>{let C=this.toDate(g[r]);return C?u&&m?C>=u&&C<=m:u?C>=u:m?C<=m:!0:!1})}isValidDate(n){let r=this.toDate(n);return r!==null&&!isNaN(r.getTime())}formatDate(n,r="MM/DD/YYYY"){let a=this.toDate(n);if(!a)return"Invalid Date";let l=a.getDate().toString().padStart(2,"0"),u=(a.getMonth()+1).toString().padStart(2,"0"),m=a.getFullYear();return r.replace("MM",u).replace("DD",l).replace("YYYY",m.toString())}toISOString(n){let r=this.toDate(n);return r?r.toISOString().split("T")[0]:""}getRelativeTime(n){let r=this.toDate(n);if(!r)return"Unknown";let l=Math.floor((new Date().getTime()-r.getTime())/1e3);if(l<60)return"Just now";if(l<3600){let u=Math.floor(l/60);return`${u} minute${u>1?"s":""} ago`}else if(l<86400){let u=Math.floor(l/3600);return`${u} hour${u>1?"s":""} ago`}else if(l<2592e3){let u=Math.floor(l/86400);return`${u} day${u>1?"s":""} ago`}else return this.formatDate(r)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var Nn=(()=>{let t=class t{constructor(n,r,a,l,u){this.firestore=n,this.auth=r,this.notificationService=a,this.dateService=l,this.userService=u}getUserGroups(n){let r=this.auth.currentUser;if(!(r!=null&&r.email))return $([]);let a=Lt(this.firestore,"splitwise-groups"),l=ne(a,jt("isActive","==",!0),ci("createdAt","desc"));return W(ee(l)).pipe(et(u=>u.docs.map(m=>k({id:m.id},m.data())).filter(m=>m.members.some(g=>{var C;return g.email.toLowerCase()===((C=r.email)==null?void 0:C.toLowerCase())&&g.isActive}))),mt(u=>(console.error("Error fetching user groups:",u),$([]))))}getGroupById(n){return _t(lt(this.firestore,"splitwise-groups",n)).then(r=>r.exists()?k({id:r.id},r.data()):null)}createGroup(n,r){let a=this.auth.currentUser;if(!a)throw new Error("User not authenticated");let l={name:n.name,description:n.description||"",createdBy:r,members:[{userId:a.uid,email:a.email||"",displayName:a.displayName||a.email||"",photoURL:a.photoURL||"",role:Ge.ADMIN,joinedAt:new Date,isActive:!0}],currency:n.currency||"USD",createdAt:new Date,updatedAt:new Date,isActive:!0,syncStatus:Ko.SYNCED},u=Lt(this.firestore,"splitwise-groups");return W(ai(u,l)).pipe(et(m=>k({id:m.id},l)))}deleteGroup(n,r){let a=lt(this.firestore,"splitwise-groups",n);return W(Kt(a,{isActive:!1,updatedAt:new Date}))}getUserInvitations(n){let r=this.auth.currentUser;if(!(r!=null&&r.email))return $([]);let a=Lt(this.firestore,"splitwise-invitations"),l=ne(a,jt("invitedEmail","==",r.email),jt("status","==","pending"),ci("createdAt","desc"));return W(ee(l)).pipe(et(u=>u.docs.map(m=>k({id:m.id},m.data()))),et(u=>u.filter(m=>!this.isInvitationExpired(m))),mt(u=>(console.error("Error fetching invitations:",u),$([]))))}isInvitationExpired(n){let r;return n.expiresAt instanceof Ct?r=n.expiresAt.toDate():n.expiresAt instanceof Date?r=n.expiresAt:r=new Date(n.expiresAt),r<new Date}markExpiredInvitations(n){return G(this,null,function*(){try{let r=this.auth.currentUser;if(!(r!=null&&r.email))return;let a=Lt(this.firestore,"splitwise-invitations"),l=ne(a,jt("invitedEmail","==",r.email),jt("status","==","pending")),u=yield ee(l),m=rc(this.firestore),g=!1;u.docs.forEach(C=>{let S=C.data();this.isInvitationExpired(S)&&(m.update(C.ref,{status:En.EXPIRED,updatedAt:new Date}),g=!0)}),g&&(yield m.commit())}catch(r){console.error("Error marking expired invitations:",r)}})}acceptInvitation(n,r){return G(this,null,function*(){try{let a=this.auth.currentUser;if(!a)throw new Error("User not authenticated");let l=lt(this.firestore,"splitwise-invitations",n),u=yield _t(l);if(!u.exists())throw new Error("Invitation not found");let m=u.data();yield Kt(l,{status:En.ACCEPTED,updatedAt:new Date});let g=lt(this.firestore,"splitwise-groups",m.groupId),C=yield _t(g);if(!C.exists())throw new Error("Group not found");let T=C.data().members.map(A=>{var D;return A.email.toLowerCase()===m.invitedEmail.toLowerCase()?F(k({},A),{userId:a.uid,displayName:a.displayName||((D=a.email)==null?void 0:D.split("@")[0])||A.displayName,photoURL:a.photoURL||A.photoURL,isActive:!0}):A});yield Kt(g,{members:T,updatedAt:new Date}),this.notificationService.success(`Successfully joined ${m.groupName}!`)}catch(a){throw console.error("Error accepting invitation:",a),this.notificationService.error("Failed to accept invitation"),a}})}declineInvitation(n,r){return G(this,null,function*(){try{if(!this.auth.currentUser)throw new Error("User not authenticated");let l=lt(this.firestore,"splitwise-invitations",n),u=yield _t(l);if(!u.exists())throw new Error("Invitation not found");let m=u.data();yield Kt(l,{status:En.DECLINED,updatedAt:new Date});let g=lt(this.firestore,"splitwise-groups",m.groupId),C=yield _t(g);if(C.exists()){let T=C.data().members.filter(A=>A.email.toLowerCase()!==m.invitedEmail.toLowerCase());yield Kt(g,{members:T,updatedAt:new Date})}this.notificationService.success(`Invitation to ${m.groupName} declined`)}catch(a){throw console.error("Error declining invitation:",a),this.notificationService.error("Failed to decline invitation"),a}})}addMemberToGroup(n,r,a){return G(this,null,function*(){var l;try{if(!this.auth.currentUser)throw new Error("User not authenticated");let m=lt(this.firestore,"splitwise-groups",n),g=yield _t(m);if(!g.exists())throw new Error("Group not found");let C=g.data();if(C.members.find(A=>A.email.toLowerCase()===r.email.toLowerCase()))throw new Error("User is already a member of this group");let T=yield this.userService.findUserByEmail(r.email);if(T){yield this.sendGroupInvitation(n,r.email,a);let A={userId:T.uid,email:r.email,displayName:T.firstName||((l=T.email)==null?void 0:l.split("@")[0])||r.email.split("@")[0],photoURL:T.photoURL||"",role:r.role||Ge.MEMBER,joinedAt:new Date,isActive:!1},D=[...C.members,A];return yield Kt(m,{members:D,updatedAt:new Date}),this.notificationService.success(`Invitation sent to ${r.email}`),F(k({id:n},C),{members:D,updatedAt:new Date})}else{let A={userId:"",email:r.email,displayName:r.email.split("@")[0],role:r.role||Ge.MEMBER,joinedAt:new Date,isActive:!1},D=[...C.members,A];return yield Kt(m,{members:D,updatedAt:new Date}),yield this.sendGroupInvitation(n,r.email,a),this.notificationService.success(`Invitation sent to ${r.email}. They will be added when they register and accept.`),F(k({id:n},C),{members:D,updatedAt:new Date})}}catch(u){throw console.error("Error adding member to group:",u),this.notificationService.error(u instanceof Error?u.message:"Failed to add member"),u}})}getGroupTransactions(n,r){let a=Lt(this.firestore,"splitwise-transactions"),l=ne(a,jt("groupId","==",n),ci("createdAt","desc"));return W(ee(l)).pipe(et(u=>u.docs.map(m=>k({id:m.id},m.data()))),mt(u=>(console.error("Error fetching group transactions:",u),$([]))))}getGroupSettlements(n,r){let a=Lt(this.firestore,"splitwise-settlements"),l=ne(a,jt("groupId","==",n),ci("createdAt","desc"));return W(ee(l)).pipe(et(u=>u.docs.map(m=>k({id:m.id},m.data()))),mt(u=>(console.error("Error fetching group settlements:",u),$([]))))}createSplitTransaction(n,r){if(!this.auth.currentUser)throw new Error("User not authenticated");let l={groupId:n.groupId,originalTransactionId:n.originalTransactionId,amount:n.amount,createdBy:r,splits:n.splits.map(m=>F(k({},m),{email:"",displayName:""})),totalAmount:n.amount,currency:"USD",status:cs.PENDING,createdAt:new Date,updatedAt:new Date,syncStatus:Ko.SYNCED},u=Lt(this.firestore,"splitwise-transactions");return W(ai(u,l)).pipe(et(m=>k({id:m.id},l)))}getGroup(n){return W(_t(lt(this.firestore,"splitwise-groups",n))).pipe(et(r=>r.exists()?k({id:r.id},r.data()):null))}updateGroup(n,r){return G(this,null,function*(){var a;try{if(!((a=this.auth.currentUser)==null?void 0:a.uid))throw new Error("User not authenticated");let u={updatedAt:new Date};r.name&&(u.name=r.name),r.description!==void 0&&(u.description=r.description),r.currency&&(u.currency=r.currency),yield Kt(lt(this.firestore,"splitwise-groups",n),u),this.notificationService.success("Group updated successfully")}catch(l){throw console.error("Error updating group:",l),this.notificationService.error("Failed to update group"),l}})}removeMemberFromGroup(n,r,a){return G(this,null,function*(){try{if(!a)throw new Error("User not authenticated");let l=lt(this.firestore,"splitwise-groups",n),u=yield _t(l);if(!u.exists())throw new Error("Group not found");let g=u.data().members.filter(C=>C.userId!==r);yield Kt(l,{members:g,updatedAt:new Date}),this.notificationService.success("Member removed successfully")}catch(l){throw console.error("Error removing member:",l),this.notificationService.error("Failed to remove member"),l}})}getSplitTransaction(n){return W(_t(lt(this.firestore,"splitwise-transactions",n))).pipe(et(r=>r.exists()?k({id:r.id},r.data()):null))}updateSplitTransaction(n,r){return G(this,null,function*(){var a;try{if(!((a=this.auth.currentUser)==null?void 0:a.uid))throw new Error("User not authenticated");let u={updatedAt:new Date};if(r.payee&&(u.payee=r.payee),r.amount&&(u.amount=r.amount),r.type&&(u.type=r.type),r.date&&(u.date=this.dateService.toTimestamp(r.date)),r.notes!==void 0&&(u.notes=r.notes),r.categoryId&&(u.categoryId=r.categoryId),r.category&&(u.category=r.category),r.status&&(u.status=r.status),r.splits){let m=yield _t(lt(this.firestore,"splitwise-transactions",n));if(!m.exists())throw new Error("Transaction not found");let g=m.data(),S=(yield _t(lt(this.firestore,"splitwise-groups",g.groupId))).data(),T=r.splits.map(A=>{let D=S.members.find(at=>at.userId===A.userId);return F(k({},A),{email:(D==null?void 0:D.email)||"",displayName:(D==null?void 0:D.displayName)||"",isPaid:A.isPaid!==void 0?A.isPaid:!1})});u.splits=T,r.amount&&(u.totalAmount=r.amount),r.amount&&r.amount!==g.totalAmount&&(yield this.updateMemberBalances(g.groupId,T))}yield Kt(lt(this.firestore,"splitwise-transactions",n),u),this.notificationService.success("Split transaction updated successfully")}catch(l){throw console.error("Error updating split transaction:",l),this.notificationService.error("Failed to update split transaction"),l}})}deleteSplitTransaction(n){return G(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");let l=yield _t(lt(this.firestore,"splitwise-transactions",n));if(!l.exists())throw new Error("Transaction not found");let u=l.data(),m=u.splits.map(g=>F(k({},g),{amount:-g.amount}));yield this.updateMemberBalances(u.groupId,m),yield qo(lt(this.firestore,"splitwise-transactions",n)),this.notificationService.success("Split transaction deleted successfully")}catch(a){throw console.error("Error deleting split transaction:",a),this.notificationService.error("Failed to delete split transaction"),a}})}createSettlement(n){return G(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");let l=yield _t(lt(this.firestore,"splitwise-groups",n.groupId));if(!l.exists())throw new Error("Group not found");let u=l.data(),m={groupId:n.groupId,fromUserId:n.fromUserId,toUserId:n.toUserId,amount:n.amount,currency:u.currency||"USD",status:Ai.PENDING,notes:n.notes||"",createdAt:new Date,updatedAt:new Date};return(yield ai(Lt(this.firestore,"splitwise-settlements"),m)).id}catch(a){throw console.error("Error creating settlement:",a),a}})}completeSettlement(n){return G(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");yield Kt(lt(this.firestore,"splitwise-settlements",n),{status:Ai.COMPLETED,settledAt:new Date,updatedAt:new Date});let u=(yield _t(lt(this.firestore,"splitwise-settlements",n))).data()}catch(a){throw console.error("Error completing settlement:",a),a}})}sendGroupInvitation(n,r,a){return G(this,null,function*(){try{let l=this.auth.currentUser;if(!l)throw new Error("User not authenticated");let m=(yield _t(lt(this.firestore,"splitwise-groups",n))).data(),g={groupId:n,groupName:m.name,invitedBy:a,invitedByEmail:l.email||"",invitedByDisplayName:l.displayName||"",invitedEmail:r,status:En.PENDING,expiresAt:new Date(Date.now()+7*24*60*60*1e3),createdAt:new Date,updatedAt:new Date};yield ai(Lt(this.firestore,"splitwise-invitations"),g)}catch(l){throw console.error("Error sending invitation:",l),l}})}updateMemberBalances(n,r){return G(this,null,function*(){console.warn("updateMemberBalances is deprecated. Use getMemberBalances() instead.")})}getGroupSummary(n){return G(this,null,function*(){var C;if(!((C=this.auth.currentUser)==null?void 0:C.uid))throw new Error("User not authenticated");let[a,l]=yield Promise.all([ee(ne(Lt(this.firestore,"splitwise-transactions"),jt("groupId","==",n))),ee(ne(Lt(this.firestore,"splitwise-settlements"),jt("groupId","==",n),jt("status","==",Ai.PENDING)))]),m=(yield _t(lt(this.firestore,"splitwise-groups",n))).data(),g=a.docs.reduce((S,T)=>{let A=T.data();return S+A.amount},0);return{groupId:n,totalTransactions:a.docs.length,totalAmount:g,averageAmount:a.docs.length>0?g/a.docs.length:0,memberCount:m.members.length,activeMemberCount:m.members.filter(S=>S.isActive).length,pendingSettlements:l.docs.length,lastActivity:new Date}})}getMemberBalances(n){return G(this,null,function*(){var g;if(!((g=this.auth.currentUser)==null?void 0:g.uid))throw new Error("User not authenticated");let l=(yield _t(lt(this.firestore,"splitwise-groups",n))).data(),u=yield ee(ne(Lt(this.firestore,"splitwise-transactions"),jt("groupId","==",n))),m=new Map;return l.members.forEach(C=>{m.set(C.userId,{userId:C.userId,email:C.email,displayName:C.displayName,totalPaid:0,totalOwed:0,netBalance:0,transactionCount:0})}),u.docs.forEach(C=>{C.data().splits.forEach(T=>{let A=m.get(T.userId);A&&(A.transactionCount++,T.amount>0?A.totalPaid+=T.amount:A.totalOwed+=Math.abs(T.amount),A.netBalance=A.totalPaid-A.totalOwed)})}),Array.from(m.values())})}deleteSplitTransactionRollback(n,r){return G(this,null,function*(){try{let a=Lt(this.firestore,"splitwise-transactions"),l=ne(a,jt("originalTransactionId","==",n)),u=yield ee(l);if(u.empty)throw new Error("Transaction not found");let g=u.docs[0].id;yield qo(lt(this.firestore,`splitwise-transactions/${g}`)),console.log(`Transaction with ID ${g} deleted successfully`)}catch(a){throw console.error("Error deleting split transaction rollback:",a),a}})}};t.\u0275fac=function(r){return new(r||t)(nt(ic),nt(wt),nt(xe),nt(Gl),nt(cn))},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var ql=new It("CdkAccordion");var gh=0,Kl=(()=>{let t=class t{get expanded(){return this._expanded}set expanded(n){if(this._expanded!==n){if(this._expanded=n,this.expandedChange.emit(n),n){this.opened.emit();let r=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,r)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(n,r,a){this.accordion=n,this._changeDetectorRef=r,this._expansionDispatcher=a,this._openCloseAllSubscription=nr.EMPTY,this.closed=new Nt,this.opened=new Nt,this.destroyed=new Nt,this.expandedChange=new Nt,this.id=`cdk-accordion-child-${gh++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=a.listen((l,u)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===u&&this.id!==l&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(n=>{this.disabled||(this.expanded=n)})}};t.\u0275fac=function(r){return new(r||t)(R(ql,12),R(nn),R(Mr))},t.\u0275dir=Ue({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",oi],disabled:[2,"disabled","disabled",oi]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[ri([{provide:ql,useValue:void 0}]),ni]});let i=t;return i})(),Hl=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({});let i=t;return i})();var bh=["body"],Ch=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],yh=["mat-expansion-panel-header","*","mat-action-row"];function Ph(i,t){}var vh=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Mh=["mat-panel-title","mat-panel-description","*"];function wh(i,t){if(i&1&&(_(0,"span",1),No(),_(1,"svg",2),dt(2,"path",3),b()()),i&2){let o=V();N("@indicatorRotate",o._getExpandedState())}}var Ql=new It("MAT_ACCORDION"),Wl="225ms cubic-bezier(0.4,0.0,0.2,1)",Xl={indicatorRotate:Ho("indicatorRotate",[di("collapsed, void",li({transform:"rotate(0deg)"})),di("expanded",li({transform:"rotate(180deg)"})),Wo("expanded <=> collapsed, void => collapsed",Qo(Wl))]),bodyExpansion:Ho("bodyExpansion",[di("collapsed, void",li({height:"0px",visibility:"hidden"})),di("expanded",li({height:"*",visibility:""})),Wo("expanded <=> collapsed, void => collapsed",Qo(Wl))])},Jl=new It("MAT_EXPANSION_PANEL"),Oh=(()=>{let t=class t{constructor(n,r){this._template=n,this._expansionPanel=r}};t.\u0275fac=function(r){return new(r||t)(R($a),R(Jl,8))},t.\u0275dir=Ue({type:t,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0});let i=t;return i})(),xh=0,Zl=new It("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Ts=(()=>{let t=class t extends Kl{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(n){this._hideToggle=n}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(n){this._togglePosition=n}constructor(n,r,a,l,u,m,g){super(n,r,a),this._viewContainerRef=l,this._animationMode=m,this._hideToggle=!1,this.afterExpand=new Nt,this.afterCollapse=new Nt,this._inputChanges=new Yt,this._headerId=`mat-expansion-panel-header-${xh++}`,this.accordion=n,this._document=u,this._animationsDisabled=m==="NoopAnimations",g&&(this.hideToggle=g.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(za(null),ue(()=>this.expanded&&!this._portal),ir(1)).subscribe(()=>{this._portal=new uc(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(n){this._inputChanges.next(n)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let n=this._document.activeElement,r=this._body.nativeElement;return n===r||r.contains(n)}return!1}_animationStarted(n){var r;!Yl(n)&&!this._animationsDisabled&&this._body&&((r=this._body)==null||r.nativeElement.setAttribute("inert",""))}_animationDone(n){Yl(n)||(n.toState==="expanded"?this.afterExpand.emit():n.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}};t.\u0275fac=function(r){return new(r||t)(R(Ql,12),R(nn),R(Mr),R(qa),R(Qa),R(Fo,8),R(Zl,8))},t.\u0275cmp=gt({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(r,a,l){if(r&1&&zo(l,Oh,5),r&2){let u;lr(u=dr())&&(a._lazyContent=u.first)}},viewQuery:function(r,a){if(r&1&&jo(bh,5),r&2){let l;lr(l=dr())&&(a._body=l.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(r,a){r&2&&Xt("mat-expanded",a.expanded)("_mat-animation-noopable",a._animationsDisabled)("mat-expansion-panel-spacing",a._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",oi],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[ri([{provide:Ql,useValue:void 0},{provide:Jl,useExisting:t}]),ni,Lo,sr,Ze],ngContentSelectors:yh,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(r,a){if(r&1){let l=ht();cr(Ch),we(0),_(1,"div",1,0),B("@bodyExpansion.start",function(m){return X(l),J(a._animationStarted(m))})("@bodyExpansion.done",function(m){return X(l),J(a._animationDone(m))}),_(3,"div",2),we(4,1),j(5,Ph,0,0,"ng-template",3),b(),we(6,2),b()}r&2&&(I(),N("@bodyExpansion",a._getExpandedState())("id",a.id),Xe("aria-labelledby",a._headerId),I(4),N("cdkPortalOutlet",a._portal))},dependencies:[mc],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Xl.bodyExpansion]},changeDetection:0});let i=t;return i})();function Yl(i){return i.fromState==="void"}var td=(()=>{let t=class t{constructor(n,r,a,l,u,m,g){this.panel=n,this._element=r,this._focusMonitor=a,this._changeDetectorRef=l,this._animationMode=m,this._parentChangeSubscription=nr.EMPTY,this.tabIndex=0;let C=n.accordion?n.accordion._stateChanges.pipe(ue(S=>!!(S.hideToggle||S.togglePosition))):Va;this.tabIndex=parseInt(g||"")||0,this._parentChangeSubscription=ei(n.opened,n.closed,C,n._inputChanges.pipe(ue(S=>!!(S.hideToggle||S.disabled||S.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),n.closed.pipe(ue(()=>n._containsFocus())).subscribe(()=>a.focusVia(r,"program")),u&&(this.expandedHeight=u.expandedHeight,this.collapsedHeight=u.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let n=this._isExpanded();return n&&this.expandedHeight?this.expandedHeight:!n&&this.collapsedHeight?this.collapsedHeight:null}_keydown(n){switch(n.keyCode){case 32:case 13:oc(n)||(n.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(n);return}}focus(n,r){n?this._focusMonitor.focusVia(this._element,n,r):this._element.nativeElement.focus(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(n=>{n&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}};t.\u0275fac=function(r){return new(r||t)(R(Ts,1),R(Vo),R(ac),R(nn),R(Zl,8),R(Fo,8),ja("tabindex"))},t.\u0275cmp=gt({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(r,a){r&1&&B("click",function(){return a._toggle()})("keydown",function(u){return a._keydown(u)}),r&2&&(Xe("id",a.panel._headerId)("tabindex",a.disabled?-1:a.tabIndex)("aria-controls",a._getPanelId())("aria-expanded",a._isExpanded())("aria-disabled",a.panel.disabled),Ka("height",a._getHeaderHeight()),Xt("mat-expanded",a._isExpanded())("mat-expansion-toggle-indicator-after",a._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",a._getTogglePosition()==="before")("_mat-animation-noopable",a._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",n=>n==null?0:Ha(n)]},standalone:!0,features:[ni,Ze],ngContentSelectors:Mh,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(r,a){r&1&&(cr(vh),_(0,"span",0),we(1),we(2,1),we(3,2),b(),j(4,wh,3,1,"span",1)),r&2&&(Xt("mat-content-hide-toggle",!a._showToggle()),I(4),Et(a._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Xl.indicatorRotate]},changeDetection:0});let i=t;return i})(),ed=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ue({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"],standalone:!0});let i=t;return i})(),nd=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ue({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0});let i=t;return i})();var id=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({imports:[vr,Hl,hc]});let i=t;return i})();function Eh(i,t){i&1&&(_(0,"div",5),dt(1,"mat-spinner",6),_(2,"p"),O(3,"Loading group details..."),b()())}function Sh(i,t){if(i&1){let o=ht();_(0,"button",34),B("click",function(){X(o);let r=V(2);return J(r.deleteGroup())}),_(1,"mat-icon"),O(2,"delete"),b(),_(3,"span"),O(4,"Delete Group"),b()()}}function Th(i,t){i&1&&(_(0,"span",50),O(1,"(You)"),b())}function Ah(i,t){if(i&1&&(_(0,"span",51),O(1),b()),i&2){let o=V().$implicit,n=V(3);I(),q(" ",n.getCurrentUserStatus(o.netBalance)," ")}}function kh(i,t){if(i&1&&(_(0,"div",41)(1,"div",42)(2,"div",43),O(3),j(4,Th,2,0,"span",44),b(),_(5,"div",45)(6,"span",46),O(7),b(),_(8,"span",47),O(9),b()()(),_(10,"div",48),O(11),j(12,Ah,2,1,"span",49),b()()),i&2){let o=t.$implicit,n=V(3);Xt("current-user",o.userId===(n.currentUser==null?null:n.currentUser.uid)),I(3),q(" ",o.displayName," "),I(),N("ngIf",o.userId===(n.currentUser==null?null:n.currentUser.uid)),I(3),q("Paid: ",n.formatCurrency(o.totalPaid,n.group.currency),""),I(2),q("Owed: ",n.formatCurrency(o.totalOwed,n.group.currency),""),I(),Je(n.getBalanceColor(o.netBalance)),I(),q(" ",n.formatCurrency(o.netBalance,n.group.currency)," "),I(),N("ngIf",o.userId===(n.currentUser==null?null:n.currentUser.uid))}}function Dh(i,t){if(i&1&&(_(0,"div",56)(1,"div",57)(2,"mat-icon"),O(3),b(),_(4,"span",58),O(5),b()(),_(6,"div",59),O(7),b()()),i&2){let o=t.$implicit,n=V(4);Je(o.type),I(2),Je(o.type==="owes"?"arrow_upward":"arrow_downward"),I(),q(" ",o.type==="owes"?"arrow_upward":"arrow_downward"," "),I(2),ot(o.message),I(),Je(o.type),I(),q(" ",n.formatCurrency(o.amount,n.group.currency)," ")}}function Rh(i,t){i&1&&(_(0,"div",60)(1,"mat-icon"),O(2,"check_circle"),b(),_(3,"span"),O(4,"All balances are settled!"),b()())}function Nh(i,t){if(i&1&&(_(0,"div",52)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"mat-icon"),O(5,"account_tree"),b(),_(6,"span"),O(7,"Detailed Balance Breakdown"),b()(),_(8,"mat-panel-description"),O(9," See who owes what to whom "),b()(),_(10,"div",53),j(11,Dh,8,9,"div",54)(12,Rh,5,0,"div",55),b()()()),i&2){let o=V(3);I(11),N("ngForOf",o.getDetailedBalanceBreakdown(o.currentUser.uid)),I(),N("ngIf",o.getDetailedBalanceBreakdown(o.currentUser.uid).length===0)}}function Vh(i,t){if(i&1){let o=ht();_(0,"div",35)(1,"mat-card",36)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),O(5,"account_balance_wallet"),b(),_(6,"span"),O(7,"Member Balances"),b()(),_(8,"mat-card-subtitle"),O(9," Who owes what to whom "),b(),_(10,"button",37),B("click",function(){X(o);let r=V(2);return J(r.debugBalanceCalculations())}),_(11,"mat-icon"),O(12,"bug_report"),b()()(),_(13,"mat-card-content")(14,"div",38),j(15,kh,13,10,"div",39),b(),j(16,Nh,13,2,"div",40),b()()()}if(i&2){let o=V(2);I(15),N("ngForOf",o.getMemberBalances()),I(),N("ngIf",o.currentUser==null?null:o.currentUser.uid)}}function Fh(i,t){i&1&&(_(0,"span",77),O(1," (Pending) "),b())}function Lh(i,t){i&1&&(_(0,"span",78),O(1," (Completed) "),b())}function Uh(i,t){i&1&&(_(0,"span"),O(1,"Pending"),b())}function Bh(i,t){i&1&&(_(0,"span"),O(1,"Completed"),b())}function zh(i,t){if(i&1&&(_(0,"span"),O(1),b()),i&2){let o=V().$implicit;I(),q(" ",o.type==="you_owe"?"Pay":"Settle"," ")}}function jh(i,t){if(i&1){let o=ht();_(0,"div",65)(1,"div",66)(2,"div",67)(3,"span",68),O(4),b(),j(5,Fh,2,0,"span",69)(6,Lh,2,0,"span",70),b(),_(7,"div",71)(8,"span",72),O(9),b(),_(10,"mat-icon"),O(11,"arrow_forward"),b(),_(12,"span",73),O(13),b()(),_(14,"div",74),O(15),b()(),_(16,"button",75),B("click",function(){let r=X(o).$implicit,a=V(3);return J(a.createSettlement(r))}),_(17,"mat-icon"),O(18),b(),j(19,Uh,2,0,"span",76)(20,Bh,2,0,"span",76)(21,zh,2,1,"span",76),b()()}if(i&2){let o=t.$implicit,n=V(3);Je(o.type),I(4),ot(n.getSettlementMessage(o)),I(),N("ngIf",n.isSettlementPending(o.fromUserId,o.toUserId)),I(),N("ngIf",n.isSettlementCompleted(o.fromUserId,o.toUserId)),I(3),ot(o.fromUserName),I(4),ot(o.toUserName),I(2),q(" ",n.formatCurrency(o.amount,o.currency)," "),I(),N("color",o.type==="you_owe"?"warn":"primary")("disabled",o.type==="others"||n.isSettlementPending(o.fromUserId,o.toUserId)||n.isSettlementCompleted(o.fromUserId,o.toUserId)),I(2),ot(o.type==="you_owe"?"payment":"check"),I(),N("ngIf",n.isSettlementPending(o.fromUserId,o.toUserId)),I(),N("ngIf",n.isSettlementCompleted(o.fromUserId,o.toUserId)),I(),N("ngIf",!n.isSettlementPending(o.fromUserId,o.toUserId)&&!n.isSettlementCompleted(o.fromUserId,o.toUserId))}}function Gh(i,t){if(i&1&&(_(0,"div",61)(1,"mat-card",62)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),O(5,"swap_horiz"),b(),_(6,"span"),O(7,"Settlement Suggestions"),b()(),_(8,"mat-card-subtitle"),O(9),b()(),_(10,"mat-card-content")(11,"div",63),j(12,jh,22,14,"div",64),b()()()()),i&2){let o=V(2);I(9),q(" ",o.getSettlementSubtitle()," "),I(3),N("ngForOf",o.getSettlementSuggestions())}}function $h(i,t){if(i&1){let o=ht();_(0,"button",92),B("click",function(){X(o);let r=V().$implicit,a=V(3);return J(a.settleTransaction(r))}),_(1,"mat-icon"),O(2,"check_circle"),b()()}if(i&2){let o=V().$implicit,n=V(3);N("disabled",!n.canSettleTransaction(o).canSettle)("matTooltip",n.canSettleTransaction(o).reason||"Settle transaction")}}function qh(i,t){if(i&1&&(_(0,"div",81)(1,"div",82)(2,"div",83)(3,"div",84),O(4),b(),_(5,"div",85)(6,"span",86),O(7),b(),_(8,"span",87),O(9),b()()(),_(10,"div",88),O(11),b()(),_(12,"div",89)(13,"mat-chip",90),O(14),b(),j(15,$h,3,2,"button",91),b()()),i&2){let o=t.$implicit,n=V(3);I(4),q(" ",n.getTransactionTitle(o)," "),I(3),q("Paid by ",n.getTransactionCreatorName(o),""),I(2),ot(n.formatDate(o.createdAt)),I(2),q(" ",n.formatCurrency(o.totalAmount,o.currency)," "),I(2),N("color",n.getTransactionStatusColor(o.status)),I(),q(" ",n.getTransactionStatusText(o.status)," "),I(),N("ngIf",o.status!=="completed")}}function Kh(i,t){if(i&1&&(_(0,"div",79),j(1,qh,16,7,"div",80),b()),i&2){let o=V(2);I(),N("ngForOf",o.transactions)}}function Hh(i,t){if(i&1){let o=ht();_(0,"div",93)(1,"mat-icon",94),O(2,"receipt"),b(),_(3,"p"),O(4,"No transactions yet"),b(),_(5,"button",95),B("click",function(){X(o);let r=V(2);return J(r.addTransaction())}),_(6,"mat-icon"),O(7,"add"),b(),O(8," Add Transaction "),b()()}}function Qh(i,t){if(i&1&&(_(0,"div",100)(1,"div",101)(2,"div",71)(3,"span",72),O(4),b(),_(5,"mat-icon"),O(6,"arrow_forward"),b(),_(7,"span",73),O(8),b()(),_(9,"div",74),O(10),b()(),_(11,"div",102)(12,"mat-chip",90),O(13),b()()()),i&2){let o=t.$implicit,n=V(3);I(4),ot(n.getMemberName(o.fromUserId)),I(4),ot(n.getMemberName(o.toUserId)),I(2),q(" ",n.formatCurrency(o.amount,o.currency)," "),I(2),N("color",o.status==="completed"?"success":"warning"),I(),q(" ",o.status==="completed"?"Completed":"Pending"," ")}}function Wh(i,t){if(i&1&&(_(0,"div",96)(1,"mat-card",97)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),O(5,"swap_horiz"),b(),_(6,"span"),O(7),b()()(),_(8,"mat-card-content")(9,"div",98),j(10,Qh,14,5,"div",99),b()()()()),i&2){let o=V(2);I(7),q("Settlements (",o.getSettlementCount(),")"),I(3),N("ngForOf",o.settlements)}}function Yh(i,t){if(i&1){let o=ht();_(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"button",11),B("click",function(){X(o);let r=V();return J(r.goBack())}),_(5,"mat-icon",12),B("click",function(){X(o);let r=V();return J(r.goBack())}),O(6,"arrow_back"),b()(),_(7,"span",13),O(8),tn(9,"titlecase"),b(),_(10,"button",14)(11,"mat-icon"),O(12,"more_vert"),b()()(),_(13,"div",15)(14,"mat-menu",16,0)(16,"button",17),B("click",function(){X(o);let r=V();return J(r.openAddMemberDialog())}),_(17,"mat-icon"),O(18,"person_add"),b(),_(19,"span"),O(20,"Add Member"),b()(),dt(21,"mat-divider"),j(22,Sh,5,0,"button",18),b()()()(),_(23,"div",19)(24,"mat-card",20)(25,"div",21)(26,"div",22)(27,"div",23),B("click",function(){X(o);let r=V();return J(r.openAddMemberDialog())}),_(28,"div",24),O(29),b(),_(30,"div",25),O(31,"Members"),b()()(),_(32,"div",22)(33,"div",26)(34,"div",24),O(35),b(),_(36,"div",25),O(37,"Total Balance"),b()()()()()(),j(38,Vh,17,2,"div",27)(39,Gh,13,2,"div",28),_(40,"div",29)(41,"mat-card",30)(42,"mat-card-header")(43,"mat-card-title")(44,"mat-icon"),O(45,"receipt"),b(),_(46,"span"),O(47),b()(),_(48,"mat-card-subtitle"),O(49),b()(),_(50,"mat-card-content"),j(51,Kh,2,1,"div",31)(52,Hh,9,0,"div",32),b()()(),j(53,Wh,11,2,"div",33),b()}if(i&2){let o=ii(15),n=V();I(8),ot(en(9,12,n.group.name)),I(2),N("matMenuTriggerFor",o),I(12),N("ngIf",n.canManageGroup()),I(7),ot(n.getGroupMemberCount()),I(6),ot(n.formatCurrency(n.getTotalBalance(),n.group.currency)),I(3),N("ngIf",n.showBalances),I(),N("ngIf",n.getSettlementSuggestions().length>0),I(8),q("Transactions (",n.getTransactionCount(),")"),I(2),q(" Total: ",n.formatCurrency(n.getTotalTransactionAmount(),n.group.currency)," "),I(2),N("ngIf",n.transactions.length>0),I(),N("ngIf",n.transactions.length===0),I(),N("ngIf",n.settlements.length>0)}}function Xh(i,t){if(i&1){let o=ht();_(0,"div",103)(1,"mat-icon",104),O(2,"error"),b(),_(3,"h3"),O(4,"Group Not Found"),b(),_(5,"p"),O(6,"The group you're looking for doesn't exist or you don't have access to it."),b(),_(7,"button",95),B("click",function(){X(o);let r=V();return J(r.goBack())}),_(8,"mat-icon"),O(9,"arrow_back"),b(),O(10," Go Back "),b()()}}var rd=(()=>{let t=class t{constructor(n,r,a,l,u,m,g,C){this.route=n,this.router=r,this.auth=a,this.store=l,this.dialog=u,this.notificationService=m,this.breakpointObserver=g,this.splitwiseService=C,this.group=null,this.transactions=[],this.settlements=[],this.error=null,this.currentUser=null,this.isMobile=!1,this.isLoading=!1,this.Math=Math,this.showBalances=!0,this.destroy$=new Yt,this.breakpointObserver.observe([an.Handset]).pipe(me(this.destroy$)).subscribe(S=>{this.isMobile=S.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails(),setTimeout(()=>{this.testBalanceCalculation()},2e3)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(In).pipe(me(this.destroy$)).subscribe(n=>{this.isLoading=n.loading,this.error=n.error;let r=this.route.snapshot.paramMap.get("id");r&&(this.group=n.groups.find(a=>a.id===r)||null,!this.group&&!this.isLoading&&this.splitwiseService.getGroupById(r).then(a=>{this.group=a})),this.transactions=n.transactions.filter(a=>a.groupId===r),this.settlements=n.settlements.filter(a=>a.groupId===r),this.error&&(this.notificationService.error(this.error),this.store.dispatch(ke())),console.log("Store state updated:",{loading:n.loading,transactionsCount:n.transactions.length,settlementsCount:n.settlements.length,error:n.error})})}reloadData(){let n=this.route.snapshot.paramMap.get("id");n&&(this.store.dispatch(ze({groupId:n})),this.store.dispatch(je({groupId:n})))}loadGroupDetails(){let n=this.route.snapshot.paramMap.get("id");n&&(this.store.dispatch(pe({groupId:n})),this.store.dispatch(ze({groupId:n})),this.store.dispatch(je({groupId:n})))}goBack(){this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(Rn,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(r=>{r&&(r.action==="delete"?this.store.dispatch(Ae({groupId:this.group.id,userId:r.userId})):this.store.dispatch(oe({groupId:this.group.id,request:r})))})}deleteGroup(){this.group&&this.dialog.open(Ee,{width:"300px",data:{title:"Delete Group",message:'Are you sure you want to delete the group "${this.group.name}"?',confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(n=>{var r;n&&(this.store.dispatch(Te({groupId:(r=this.group)==null?void 0:r.id})),this.goBack())})}getCurrentUserRole(){if(!this.group||!this.currentUser)return"";let n=this.group.members.find(r=>r.userId===this.currentUser.uid);return(n==null?void 0:n.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}getGroupMemberCount(){var n;return((n=this.group)==null?void 0:n.members.filter(r=>r.isActive).length)||0}formatDate(n){return n?(n.toDate?n.toDate():new Date(n)).toLocaleDateString():""}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}getTotalBalance(){return this.group?this.transactions.reduce((n,r)=>n+r.splits.reduce((a,l)=>a+l.amount,0),0):0}calculateNetBalances(){let n={};for(let r of this.transactions){let a=r.createdBy,l=r.totalAmount;for(let u of r.splits){let{userId:m,amount:g}=u;m!==a&&(n[m]||(n[m]={}),n[m][a]||(n[m][a]=0),n[m][a]+=g)}}for(let r of this.settlements){if(r.status==="cancelled")continue;let{fromUserId:a,toUserId:l,amount:u}=r;n[a]||(n[a]={}),n[a][l]||(n[a][l]=0),n[a][l]-=u}return this.simplifyBalances(n)}simplifyBalances(n){var l,u;let r={},a=new Set;for(let m in n)for(let g in n[m]){let C=`${m}_${g}`,S=`${g}_${m}`;if(a.has(C)||a.has(S))continue;let T=((l=n[m])==null?void 0:l[g])||0,A=((u=n[g])==null?void 0:u[m])||0,D=T-A;D>0?(r[m]||(r[m]={}),r[m][g]=Math.round(D*100)/100):D<0&&(r[g]||(r[g]={}),r[g][m]=Math.round(-D*100)/100),a.add(C),a.add(S)}return r}getMemberBalances(){if(!this.group)return[];let n=this.calculateNetBalances(),r=[];return this.group.members.forEach(a=>{let l=n[a.userId]||{},u=0;Object.values(l).forEach(C=>{C>0&&(u+=C)});let m=0;Object.keys(n).forEach(C=>{if(C!==a.userId){let T=(n[C]||{})[a.userId]||0;T>0&&(m+=T)}});let g=m-u;r.push({userId:a.userId,displayName:a.displayName,email:a.email,totalPaid:m,totalOwed:u,netBalance:g,simplifiedBalances:l})}),r.sort((a,l)=>l.netBalance-a.netBalance)}getDetailedBalanceBreakdown(n){let r=this.calculateNetBalances(),a=r[n]||{},l=[];return Object.entries(a).forEach(([u,m])=>{var g;m>0&&l.push({type:"owes",otherUserId:u,otherUserName:this.getMemberName(u),amount:m,message:`${this.getMemberName(n)} owes ${this.getMemberName(u)} ${this.formatCurrency(m,((g=this.group)==null?void 0:g.currency)||"USD")}`})}),Object.keys(r).forEach(u=>{var m;if(u!==n){let C=(r[u]||{})[n]||0;C>0&&l.push({type:"owed",otherUserId:u,otherUserName:this.getMemberName(u),amount:C,message:`${this.getMemberName(u)} owes ${this.getMemberName(n)} ${this.formatCurrency(C,((m=this.group)==null?void 0:m.currency)||"USD")}`})}}),l.sort((u,m)=>m.amount-u.amount)}getBalanceBetweenUsers(n,r){var m,g;let a=this.calculateNetBalances(),l=((m=a[n])==null?void 0:m[r])||0,u=((g=a[r])==null?void 0:g[n])||0;return l-u}getBalanceSummary(){let n=this.getMemberBalances(),r=n.filter(l=>l.netBalance<0),a=n.filter(l=>l.netBalance>0);return{owes:r,owed:a}}getSettlementSuggestions(){var u;let n=this.getMemberBalances(),r=[];if(!((u=this.currentUser)!=null&&u.uid))return r;let a=n.find(m=>m.userId===this.currentUser.uid);if(!a)return r;let l=a.netBalance;if(l<0){let m=Math.abs(l);n.filter(C=>C.netBalance>0&&C.userId!==this.currentUser.uid).forEach(C=>{var A;let S=C.netBalance,T=this.getBalanceBetweenUsers(this.currentUser.uid,C.userId);if(T>0){let D=Math.min(T,S);D>0&&r.push({fromUserId:this.currentUser.uid,fromUserName:a.displayName,toUserId:C.userId,toUserName:C.displayName,amount:D,currency:((A=this.group)==null?void 0:A.currency)||"USD",type:"you_owe"})}})}else if(l>0){let m=l;n.filter(C=>C.netBalance<0&&C.userId!==this.currentUser.uid).forEach(C=>{var T;let S=this.getBalanceBetweenUsers(C.userId,this.currentUser.uid);if(S>0){let A=Math.min(S,m);A>0&&r.push({fromUserId:C.userId,fromUserName:C.displayName,toUserId:this.currentUser.uid,toUserName:a.displayName,amount:A,currency:((T=this.group)==null?void 0:T.currency)||"USD",type:"owed_to_you"})}})}else{let m=n.filter(C=>C.netBalance<0&&C.userId!==this.currentUser.uid),g=n.filter(C=>C.netBalance>0&&C.userId!==this.currentUser.uid);m.forEach(C=>{let T=Math.abs(C.netBalance);g.forEach(A=>{var tt;if(T<=0)return;let D=A.netBalance,at=this.getBalanceBetweenUsers(C.userId,A.userId);if(at>0){let kt=Math.min(T,D,at);kt>0&&(r.push({fromUserId:C.userId,fromUserName:C.displayName,toUserId:A.userId,toUserName:A.displayName,amount:kt,currency:((tt=this.group)==null?void 0:tt.currency)||"USD",type:"others"}),T-=kt)}})})}return r}settleTransaction(n){var u;if(!this.group){this.notificationService.error("Group not found");return}if(!((u=this.currentUser)!=null&&u.uid)){this.notificationService.error("User not authenticated");return}let r=this.getExistingSettlementsForTransaction(n),a="Mark all splits in this transaction as paid?";r.length>0&&(a+=`

Note: There are ${r.length} existing settlement(s) that may be affected.`),this.dialog.open(Ee,{width:"400px",data:{title:"Settle Transaction",message:a,confirmText:"Settle",cancelText:"Cancel"}}).afterClosed().subscribe(m=>{if(m)try{let g=n.splits.map(C=>{var S;return{userId:C.userId,amount:C.amount,percentage:C.percentage,isPaid:!0,paidBy:(S=this.currentUser)==null?void 0:S.uid,paidAt:new Date}});console.log("Settling transaction:",n.id,"with splits:",g),this.store.dispatch(On({groupId:this.group.id,transactionId:n.id,updates:{splits:g,status:"completed"}})),this.notificationService.success("Transaction settled successfully"),setTimeout(()=>{this.reloadData()},1e3)}catch(g){console.error("Error settling transaction:",g),this.notificationService.error("Failed to settle transaction")}})}getExistingSettlementsForTransaction(n){let r=[],a=new Set;return n.splits.forEach(l=>{var u,m,g;l.userId!==((u=this.currentUser)==null?void 0:u.uid)&&(a.add(`${(m=this.currentUser)==null?void 0:m.uid}-${l.userId}`),a.add(`${l.userId}-${(g=this.currentUser)==null?void 0:g.uid}`))}),a.forEach(l=>{let[u,m]=l.split("-"),g=this.settlements.find(C=>C.fromUserId===u&&C.toUserId===m&&C.status!=="cancelled");g&&r.push({fromUserName:this.getMemberName(g.fromUserId),toUserName:this.getMemberName(g.toUserId),amount:g.amount,status:g.status})}),r}canSettleTransaction(n){if(n.status==="completed")return{canSettle:!1,reason:"Transaction is already completed"};let r=this.getExistingSettlementsForTransaction(n);if(r.length>0){let a=r.filter(l=>l.status==="pending");if(a.length>0)return{canSettle:!1,reason:`There are ${a.length} pending settlement(s) that need to be resolved first`}}return{canSettle:!0}}getSettlementConflicts(n){let r=[];return this.getExistingSettlementsForTransaction(n).filter(u=>u.status==="pending").forEach(u=>{var m;r.push({type:"pending_settlement",message:`Pending settlement: ${u.fromUserName} \u2192 ${u.toUserName} (${this.formatCurrency(u.amount,((m=this.group)==null?void 0:m.currency)||"USD")})`,settlement:u})}),r}hasSettlementConflicts(n){return this.getSettlementConflicts(n).length>0}createSettlement(n){var a;if(!this.group){this.notificationService.error("Group not found");return}if(!((a=this.currentUser)!=null&&a.uid)){this.notificationService.error("User not authenticated");return}this.dialog.open(Ee,{width:"400px",data:{title:"Create Settlement",message:`Create settlement of ${this.formatCurrency(n.amount,n.currency)} from ${n.fromUserName} to ${n.toUserName}?`,confirmText:"Create",cancelText:"Cancel"}}).afterClosed().subscribe(l=>{if(l)try{console.log("Creating settlement:",n),this.store.dispatch(xn({groupId:this.group.id,fromUserId:n.fromUserId,toUserId:n.toUserId,amount:n.amount,notes:"Settlement created from balance summary"})),this.notificationService.success("Settlement created successfully"),setTimeout(()=>{this.reloadData()},1e3)}catch(u){console.error("Error creating settlement:",u),this.notificationService.error("Failed to create settlement")}})}toggleBalanceDisplay(){this.showBalances=!this.showBalances}getBalanceColor(n){return n>0?"positive":n<0?"negative":"neutral"}getCompactTransactionSummary(n){let r=n.splits.filter(u=>u.isPaid).length,a=n.splits.length,l=this.getTransactionCreatorName(n);return r===a?`Paid by ${l}`:r===0?`Pending - ${l}`:`${r}/${a} paid - ${l}`}getSettlementSubtitle(){var a;if(!((a=this.currentUser)!=null&&a.uid))return"Quick settlements to balance the group";let r=this.getMemberBalances().find(l=>l.userId===this.currentUser.uid);return r?r.netBalance<0?"You owe money to these members":r.netBalance>0?"These members owe you money":"Other members can settle their balances":"Quick settlements to balance the group"}getSettlementMessage(n){switch(n.type){case"you_owe":return`You owe ${n.toUserName}`;case"owed_to_you":return`${n.fromUserName} owes you`;case"others":return`${n.fromUserName} owes ${n.toUserName}`;default:return"Settlement suggestion"}}getCurrentUserStatus(n){return n<0?"(You owe)":n>0?"(You are owed)":"(Balanced)"}getSettlementStatus(n,r){let a=this.settlements.find(l=>l.fromUserId===n&&l.toUserId===r);return a?{exists:!0,status:a.status,amount:a.amount}:{exists:!1,status:"",amount:0}}isSettlementPending(n,r){return!!this.settlements.find(l=>l.fromUserId===n&&l.toUserId===r&&l.status==="pending")}isSettlementCompleted(n,r){return!!this.settlements.find(l=>l.fromUserId===n&&l.toUserId===r&&l.status==="completed")}getExistingSettlementsSummary(){var a;if(!((a=this.currentUser)!=null&&a.uid))return[];let n=[];return this.settlements.filter(l=>(l.fromUserId===this.currentUser.uid||l.toUserId===this.currentUser.uid)&&l.status!=="cancelled").forEach(l=>{let u=l.fromUserId===this.currentUser.uid,m=u?l.toUserId:l.fromUserId,g=this.getMemberName(m);n.push({fromUserId:l.fromUserId,fromUserName:this.getMemberName(l.fromUserId),toUserId:l.toUserId,toUserName:this.getMemberName(l.toUserId),amount:l.amount,currency:l.currency,status:l.status,isInvolvingCurrentUser:!0,isFromCurrentUser:u,otherUserName:g})}),n}getPendingSettlementsCount(){return this.settlements.filter(n=>n.status==="pending").length}getCompletedSettlementsCount(){return this.settlements.filter(n=>n.status==="completed").length}getTransactionStatusColor(n){switch(n){case"completed":return"success";case"partial":return"warning";case"pending":return"info";case"cancelled":return"error";default:return"default"}}getTransactionStatusText(n){switch(n){case"completed":return"Completed";case"partial":return"Partial";case"pending":return"Pending";case"cancelled":return"Cancelled";default:return"Unknown"}}getTransactionCreatorName(n){return this.getMemberName(n.createdBy)}getTransactionTitle(n){let r=n.splits.length,a=n.splits.filter(l=>l.isPaid).length;return a===r?`Transaction (${r} members, all paid)`:a===0?`Transaction (${r} members, pending)`:`Transaction (${r} members, ${a} paid)`}getTransactionSplitsSummary(n){let r=n.splits.filter(l=>l.isPaid).length,a=n.splits.length;return`${r}/${a} paid`}getTotalTransactionAmount(){return this.transactions.reduce((n,r)=>n+r.totalAmount,0)}getTransactionCount(){return this.transactions.length}getSettlementCount(){return this.settlements.length}getMemberName(n){if(!this.group)return"Unknown";let r=this.group.members.find(a=>a.userId===n);return(r==null?void 0:r.displayName)||"Unknown"}debugBalanceCalculations(){var l;if(console.log("=== BALANCE CALCULATION DEBUG ==="),!this.group){console.log("No group found");return}console.log("Group:",this.group.name),console.log("Members:",this.group.members.map(u=>({id:u.userId,name:u.displayName}))),console.log("Transactions:",this.transactions.length),this.transactions.forEach((u,m)=>{console.log(`Transaction ${m+1}:`,{id:u.id,amount:u.totalAmount,paidBy:this.getMemberName(u.createdBy),splits:u.splits.map(g=>({user:this.getMemberName(g.userId),amount:g.amount,isPaid:g.isPaid}))})}),console.log("Settlements:",this.settlements.length),this.settlements.forEach((u,m)=>{console.log(`Settlement ${m+1}:`,{id:u.id,from:this.getMemberName(u.fromUserId),to:this.getMemberName(u.toUserId),amount:u.amount,status:u.status})});let n=this.calculateRawBalances();console.log("Raw Balances (before simplification):",n);let r=this.calculateNetBalances();console.log("Simplified Balances (after simplification):",r);let a=this.getMemberBalances();if(console.log("Member Balances (for display):",a),(l=this.currentUser)!=null&&l.uid){let u=this.getDetailedBalanceBreakdown(this.currentUser.uid);console.log("Current User Breakdown:",u)}console.log("=== END DEBUG ===")}calculateRawBalances(){var l,u;let n={};for(let m of this.transactions){let g=m.createdBy;for(let C of m.splits)C.userId!==g&&(n[C.userId]||(n[C.userId]={}),n[C.userId][g]||(n[C.userId][g]=0),n[C.userId][g]+=C.amount)}console.log("After transactions:",n);for(let m of this.settlements)n[m.fromUserId]||(n[m.fromUserId]={}),n[m.fromUserId][m.toUserId]||(n[m.fromUserId][m.toUserId]=0),n[m.fromUserId][m.toUserId]-=m.amount;console.log("After settlements:",n);let r={},a=new Set;for(let m in n)for(let g in n[m]){let C=`${m}_${g}`,S=`${g}_${m}`;if(a.has(C)||a.has(S))continue;let T=((l=n[m])==null?void 0:l[g])||0,A=((u=n[g])==null?void 0:u[m])||0,D=T-A;D>0?(r[m]||(r[m]={}),r[m][g]=Math.round(D*100)/100):D<0&&(r[g]||(r[g]={}),r[g][m]=Math.round(-D*100)/100),a.add(C),a.add(S)}return console.log("Final simplified result:",r),console.log("=== END TEST ==="),r}testBalanceCalculation(){var m,g;console.log("=== TESTING BALANCE CALCULATION ===");let n=[{id:"1",createdBy:"user1",totalAmount:100,splits:[{userId:"user1",amount:50,isPaid:!0},{userId:"user2",amount:50,isPaid:!1}]},{id:"2",createdBy:"user2",totalAmount:60,splits:[{userId:"user1",amount:30,isPaid:!1},{userId:"user2",amount:30,isPaid:!0}]}],r=[{id:"1",fromUserId:"user1",toUserId:"user2",amount:20,status:"completed"}];console.log("Test Transactions:",n),console.log("Test Settlements:",r);let a={};for(let C of n){let S=C.createdBy;for(let T of C.splits)T.userId!==S&&(a[T.userId]||(a[T.userId]={}),a[T.userId][S]||(a[T.userId][S]=0),a[T.userId][S]+=T.amount)}console.log("After transactions:",a);for(let C of r)a[C.fromUserId]||(a[C.fromUserId]={}),a[C.fromUserId][C.toUserId]||(a[C.fromUserId][C.toUserId]=0),a[C.fromUserId][C.toUserId]-=C.amount;console.log("After settlements:",a);let l={},u=new Set;for(let C in a)for(let S in a[C]){let T=`${C}_${S}`,A=`${S}_${C}`;if(u.has(T)||u.has(A))continue;let D=((m=a[C])==null?void 0:m[S])||0,at=((g=a[S])==null?void 0:g[C])||0,tt=D-at;tt>0?(l[C]||(l[C]={}),l[C][S]=Math.round(tt*100)/100):tt<0&&(l[S]||(l[S]={}),l[S][C]=Math.round(-tt*100)/100),u.add(T),u.add(A)}console.log("Final simplified result:",l),console.log("=== END TEST ===")}toggleMembers(){var n;this.router.navigate(["dashboard/splitwise/members",(n=this.group)==null?void 0:n.id])}addTransaction(){var n;this.router.navigate(["dashboard/transactions"],{queryParams:{splitGroupId:(n=this.group)==null?void 0:n.id,returnUrl:this.router.url}})}};t.\u0275fac=function(r){return new(r||t)(R(hr),R(on),R(wt),R(Ft),R(re),R(xe),R(sn),R(Nn))},t.\u0275cmp=gt({type:t,selectors:[["app-group-details"]],decls:4,vars:3,consts:[["groupMenu","matMenu"],[1,"group-details-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header"],[1,"header-content"],[1,"header-navigation"],["mat-icon-button","","aria-label","Go back",1,"back-btn","!z-[999]",3,"click"],[3,"click"],[1,"group-title"],["mat-icon-button","","aria-label","More options",1,"more-actions-btn",3,"matMenuTriggerFor"],[1,"header-actions"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","","class","delete-action",3,"click",4,"ngIf"],[1,"stats-section"],[1,"stats-card"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-content",3,"click"],[1,"stat-value"],[1,"stat-label"],[1,"stat-content"],["class","balances-section",4,"ngIf"],["class","settlement-suggestions",4,"ngIf"],[1,"transactions-section"],[1,"transactions-card"],["class","transactions-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","settlements-section",4,"ngIf"],["mat-menu-item","",1,"delete-action",3,"click"],[1,"balances-section"],[1,"balances-card"],["mat-icon-button","","matTooltip","Debug balance calculations",1,"debug-btn",3,"click"],[1,"balances-list"],["class","balance-item",3,"current-user",4,"ngFor","ngForOf"],["class","detailed-balances",4,"ngIf"],[1,"balance-item"],[1,"balance-info"],[1,"member-name"],["class","current-user-badge",4,"ngIf"],[1,"balance-details"],[1,"paid"],[1,"owed"],[1,"net-balance"],["class","status-indicator",4,"ngIf"],[1,"current-user-badge"],[1,"status-indicator"],[1,"detailed-balances"],[1,"breakdown-list"],["class","breakdown-item",3,"class",4,"ngFor","ngForOf"],["class","no-breakdown",4,"ngIf"],[1,"breakdown-item"],[1,"breakdown-info"],[1,"breakdown-message"],[1,"breakdown-amount"],[1,"no-breakdown"],[1,"settlement-suggestions"],[1,"suggestions-card"],[1,"suggestions-list"],["class","suggestion-item",3,"class",4,"ngFor","ngForOf"],[1,"suggestion-item"],[1,"suggestion-info"],[1,"suggestion-message"],[1,"message-text"],["class","settlement-status pending",4,"ngIf"],["class","settlement-status completed",4,"ngIf"],[1,"settlement-parties"],[1,"from-user"],[1,"to-user"],[1,"settlement-amount"],["mat-raised-button","","size","small",3,"click","color","disabled"],[4,"ngIf"],[1,"settlement-status","pending"],[1,"settlement-status","completed"],[1,"transactions-list"],["class","transaction-item simple",4,"ngFor","ngForOf"],[1,"transaction-item","simple"],[1,"transaction-main"],[1,"transaction-info"],[1,"transaction-title"],[1,"transaction-meta"],[1,"paid-by"],[1,"transaction-date"],[1,"transaction-amount"],[1,"transaction-actions"],["selected","",3,"color"],["mat-icon-button","","color","primary",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","","color","primary",3,"click","disabled","matTooltip"],[1,"empty-state"],[1,"empty-icon"],["mat-raised-button","","color","primary",3,"click"],[1,"settlements-section"],[1,"settlements-card"],[1,"settlements-list"],["class","settlement-item",4,"ngFor","ngForOf"],[1,"settlement-item"],[1,"settlement-info"],[1,"settlement-status"],[1,"error-state"],[1,"error-icon"]],template:function(r,a){r&1&&(_(0,"div",1),j(1,Eh,4,0,"div",2)(2,Yh,54,14,"div",3)(3,Xh,11,0,"div",4),b()),r&2&&(I(),N("ngIf",a.isLoading),I(),N("ngIf",!a.isLoading&&a.group),I(),N("ngIf",!a.isLoading&&!a.group))},dependencies:[rn,Vt,dn,mn,hn,Er,un,Sr,Ht,ie,Ut,Ie,ln,Oc,xr,Or,Ir,Ts,td,nd,ed,ur],styles:[".group-details-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh;background:#f9fafb}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px;margin:0}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px;text-align:center;padding:40px 20px}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:1.5rem;font-weight:600}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 24px;font-size:1rem;line-height:1.5}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 24px;font-weight:600}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-radius:12px;margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d20a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:600;color:#333;line-height:1.2}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:1.25rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d20a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:flex;gap:16px;padding:20px;justify-content:space-between}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{flex-direction:column;gap:16px;padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{gap:12px;padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:20px;text-align:center;cursor:pointer;transition:all .2s ease;border-radius:8px;background:#f8f9fa}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:hover{background-color:#1976d20a;transform:translateY(-1px)}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1976d2;margin-bottom:4px}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.25rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#666;font-weight:500}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0;flex-wrap:wrap}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0;flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.9rem}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .debug-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .debug-btn[_ngcontent-%COMP%]:hover{color:#ff9800;background-color:#ff98000a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .debug-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px;padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]{background-color:#1976d20d;border-left:4px solid #1976d2;border-radius:0 8px 8px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]{border-left:none;border-top:4px solid #1976d2;border-radius:8px 8px 0 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]   .current-user-badge[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;padding:2px 8px;border-radius:12px;font-size:.75rem;margin-left:8px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;margin-left:8px;opacity:.8}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]{flex:1;width:100%}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px;display:flex;align-items:center}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{margin-bottom:0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:.875rem}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]{flex-direction:column;gap:4px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]   .paid[_ngcontent-%COMP%]{color:#4caf50}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]   .owed[_ngcontent-%COMP%]{color:#f44336}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;text-align:right}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]{align-self:flex-end;font-size:1rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.positive[_ngcontent-%COMP%]{color:#4caf50}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.negative[_ngcontent-%COMP%]{color:#f44336}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.neutral[_ngcontent-%COMP%]{color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:12px 12px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#333;font-weight:600;font-size:1.25rem}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.1rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:24px;width:24px;height:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:.875rem;margin-top:4px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease;border-left:4px solid transparent}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px;padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.you_owe[_ngcontent-%COMP%]{border-left-color:#f44336;background-color:#f4433605}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.you_owe[_ngcontent-%COMP%]{border-left:none;border-top:4px solid #f44336}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.you_owe[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:#f44336;font-weight:600}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.you_owe[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{color:#f44336;font-weight:600}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.you_owe[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.owed_to_you[_ngcontent-%COMP%]{border-left-color:#4caf50;background-color:#4caf5005}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.owed_to_you[_ngcontent-%COMP%]{border-left:none;border-top:4px solid #4caf50}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.owed_to_you[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:#4caf50;font-weight:600}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.owed_to_you[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{color:#4caf50;font-weight:600}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.owed_to_you[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.others[_ngcontent-%COMP%]{border-left-color:#ff9800;background-color:#ff980005}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.others[_ngcontent-%COMP%]{border-left:none;border-top:4px solid #ff9800}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.others[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:#666;font-style:italic}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.others[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ccc;color:#666;cursor:not-allowed}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]{flex:1;width:100%}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]{margin-bottom:8px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]{margin-bottom:4px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;margin-left:8px;padding:2px 6px;border-radius:4px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status.pending[_ngcontent-%COMP%]{background-color:#ff98001a;color:#ff9800}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status.completed[_ngcontent-%COMP%]{background-color:#4caf501a;color:#4caf50}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:4px}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{flex-wrap:wrap;gap:4px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:600;color:#f44336}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:600;color:#4caf50}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-size:.875rem;color:#666;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:8px 16px;font-size:.875rem;border-radius:6px;transition:all .2s ease;white-space:nowrap}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-end;padding:6px 12px;font-size:.8rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 2px 4px #0003}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:12px 12px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#333;font-weight:600;font-size:1.25rem}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.1rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:24px;width:24px;height:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:.875rem;margin-top:4px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;padding:12px;margin-bottom:8px;background-color:#fff;transition:all .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]{flex:1;min-width:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-title[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px;font-size:.95rem}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]{display:flex;gap:12px;font-size:.8rem;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .paid-by[_ngcontent-%COMP%]{font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:#333;white-space:nowrap}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:8px;padding-top:8px;border-top:1px solid #f0f0f0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-actions[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:#333;white-space:nowrap}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-summary[_ngcontent-%COMP%]{flex:1;font-size:.9rem;color:#666;margin:0 12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{font-size:.8rem;color:#999;white-space:nowrap}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:8px;padding-top:8px;border-top:1px solid #f0f0f0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.compact[_ngcontent-%COMP%]   .transaction-actions[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:30px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#ccc;margin-bottom:16px}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;margin-bottom:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 24px;font-size:1rem}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 24px;font-weight:600}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:.9rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:12px 12px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#333;font-weight:600;font-size:1.25rem}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.1rem}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:24px;width:24px;height:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px;padding:16px 0}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]{padding:12px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]{flex:1;min-width:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:4px;flex-wrap:wrap}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{gap:4px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:.875rem}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#666;flex-shrink:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:.875rem}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1976d2}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]{flex-shrink:0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]{align-self:flex-end}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem;height:24px;font-weight:500}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#f443360a}.detailed-balances[_ngcontent-%COMP%]{margin-top:16px}.detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #e0e0e0;border-radius:8px}.detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header{padding:12px 16px;background-color:#f8f9fa;border-radius:8px 8px 0 0}.detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-expansion-panel-header-title{font-weight:600;color:#333;display:flex;align-items:center;gap:8px}.detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-expansion-panel-header-description{color:#666;font-size:.85rem}.detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:16px}.detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f0f0f0}.detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owes[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owes[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{color:#f44336;font-weight:600}.detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owed[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4caf50}.detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owed[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{color:#4caf50;font-weight:600}.detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   .breakdown-message[_ngcontent-%COMP%]{font-size:.9rem;color:#333}.detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}.detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .no-breakdown[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;color:#4caf50;font-weight:500}.detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .no-breakdown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4caf50}"]});let i=t;return i})();function Jh(i,t){if(i&1&&dt(0,"img",16),i&2){let o=V().$implicit;N("src",o.photoURL,ar)("alt",o.displayName)}}function Zh(i,t){i&1&&(_(0,"mat-icon"),O(1,"person"),b())}function tg(i,t){if(i&1&&(_(0,"div",7)(1,"div",8)(2,"div",9),j(3,Jh,1,2,"img",10)(4,Zh,2,0,"mat-icon",11),b(),_(5,"div",12)(6,"span",13),O(7),b(),_(8,"span",14),O(9),b(),_(10,"span",15),O(11),b()()()()),i&2){let o=t.$implicit;I(3),N("ngIf",o.photoURL),I(),N("ngIf",!o.photoURL),I(3),ot(o.displayName),I(2),ot(o.email),I(2),ot(o.role)}}var od=(()=>{let t=class t{constructor(){this.isMobile=!1,this.addMember=new Nt,this.Math=Math}formatCurrency(n,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(n)}getGroupMemberCount(){var n;return((n=this.group)==null?void 0:n.members.filter(r=>r.isActive).length)||0}getPositiveBalanceMembers(){return this.group?[]:[]}getNegativeBalanceMembers(){return this.group?[]:[]}getNeutralBalanceMembers(){return this.group?[]:[]}onAddMember(){this.addMember.emit()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=gt({type:t,selectors:[["app-members"]],inputs:{group:"group",isMobile:"isMobile"},outputs:{addMember:"addMember"},decls:18,vars:2,consts:[[1,"members-container"],[1,"members-section"],[1,"members-card"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"add-member-section"],["mat-stroked-button","","color","primary",3,"click"],[1,"member-item"],[1,"member-info"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],[1,"member-role"],[3,"src","alt"]],template:function(r,a){r&1&&(_(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title")(5,"mat-icon"),O(6,"people"),b(),O(7," Members "),b(),_(8,"mat-card-subtitle"),O(9),b()(),_(10,"mat-card-content")(11,"div",3),j(12,tg,12,5,"div",4),b()()()(),_(13,"div",5)(14,"button",6),B("click",function(){return a.onAddMember()}),_(15,"mat-icon"),O(16,"person_add"),b(),O(17," Add Member "),b()()()),r&2&&(I(9),q(" ",a.getGroupMemberCount()," active members "),I(3),N("ngForOf",a.group.members))},dependencies:[rn,Vt,dn,mn,hn,Er,un,Ht,Ut],styles:[".members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:12px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:11px;color:#1976d2;text-transform:uppercase;letter-spacing:.5px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]   .positive-icon[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]{border-left:4px solid #f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]   .negative-icon[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]{border-left:4px solid #666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]   .neutral-icon[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px 0}@media (max-width: 768px){.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:12px 0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:11px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:10px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let i=t;return i})();function ng(i,t){i&1&&(_(0,"div",4),dt(1,"mat-spinner",5),_(2,"p"),O(3,"Loading group members..."),b()())}function ig(i,t){if(i&1){let o=ht();_(0,"div",6)(1,"div",7)(2,"button",8),B("click",function(){X(o);let r=V();return J(r.goBack())}),_(3,"mat-icon"),O(4,"arrow_back"),b()()(),_(5,"app-members",9),B("addMember",function(){X(o);let r=V();return J(r.openAddMemberDialog())}),b()()}if(i&2){let o=V();I(5),N("group",o.group)("isMobile",o.isMobile)}}function rg(i,t){if(i&1){let o=ht();_(0,"div",10)(1,"mat-icon",11),O(2,"error"),b(),_(3,"h3"),O(4,"Group Not Found"),b(),_(5,"p"),O(6,"The group you're looking for doesn't exist or you don't have access to it."),b(),_(7,"button",12),B("click",function(){X(o);let r=V();return J(r.goBack())}),O(8," Go Back "),b()()}}var sd=(()=>{let t=class t{constructor(n,r,a,l,u,m,g){this.route=n,this.router=r,this.auth=a,this.store=l,this.dialog=u,this.notificationService=m,this.breakpointObserver=g,this.group=null,this.isLoading=!1,this.error=null,this.currentUser=null,this.isMobile=!1,this.destroy$=new Yt,this.breakpointObserver.observe([an.Handset]).pipe(me(this.destroy$)).subscribe(C=>{this.isMobile=C.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(In).pipe(me(this.destroy$)).subscribe(n=>{this.isLoading=n.loading,this.error=n.error;let r=this.route.snapshot.paramMap.get("id");r&&(this.group=n.groups.find(a=>a.id===r)||null,!this.group&&!this.isLoading&&this.store.dispatch(pe({groupId:r}))),this.error&&(this.notificationService.error(this.error),this.store.dispatch(ke()))})}loadGroupDetails(){let n=this.route.snapshot.paramMap.get("id");n&&this.store.dispatch(pe({groupId:n}))}goBack(){this.group?this.router.navigate(["dashboard/splitwise/group",this.group.id]):this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(Rn,{width:"400px",maxWidth:"90vw",data:{group:this.group},disableClose:!0,panelClass:"mobile-dialog"}).afterClosed().subscribe(r=>{r&&(r.action==="delete"?this.store.dispatch(Ae({groupId:this.group.id,userId:r.userId})):this.store.dispatch(oe({groupId:this.group.id,request:r})))})}};t.\u0275fac=function(r){return new(r||t)(R(hr),R(on),R(wt),R(Ft),R(re),R(xe),R(sn))},t.\u0275cmp=gt({type:t,selectors:[["app-members-page"]],decls:4,vars:3,consts:[[1,"members-page-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header-actions"],["mat-icon-button","",1,"back-btn",3,"click"],[3,"addMember","group","isMobile"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","primary",3,"click"]],template:function(r,a){r&1&&(_(0,"div",0),j(1,ng,4,0,"div",1)(2,ig,6,2,"div",2)(3,rg,9,0,"div",3),b()),r&2&&(I(),N("ngIf",a.isLoading),I(),N("ngIf",!a.isLoading&&a.group),I(),N("ngIf",!a.isLoading&&!a.group))},dependencies:[Vt,Ht,ie,Ut,Ie,od],styles:[".members-page-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh;background:#f5f5f5}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px;text-align:center}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:24px;box-shadow:0 2px 8px #0000001a}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1976d2}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex:1}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 4px;font-size:24px;font-weight:600;color:#333}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}@media (max-width: 768px){.members-page-container[_ngcontent-%COMP%]{padding:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{width:100%}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}}"]});let i=t;return i})();var og=[{path:"",component:jl},{path:"group/:id",component:rd},{path:"members/:id",component:sd}],ad=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({imports:[si.forChild(og),si]});let i=t;return i})();var cd=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({imports:[sc,mr,vr,cc,lc,Tr]});let i=t;return i})();var sg={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},ao="__@ngrx/effects_create__";function Tt(i,t={}){let o=t.functional?i:i(),n=k(k({},sg),t);return Object.defineProperty(o,ao,{value:n}),o}function ag(i){return Object.getOwnPropertyNames(i).filter(n=>i[n]&&i[n].hasOwnProperty(ao)?i[n][ao].hasOwnProperty("dispatch"):!1).map(n=>{let r=i[n][ao];return k({propertyName:n},r)})}function cg(i){return ag(i)}function md(i){return Object.getPrototypeOf(i)}function lg(i){return!!i.constructor&&i.constructor.name!=="Object"&&i.constructor.name!=="Function"}function hd(i){return typeof i=="function"}function ld(i){return i.filter(hd)}function dg(i){return i instanceof It||hd(i)}function ug(i,t,o){let n=md(i),a=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,l=cg(i).map(({propertyName:u,dispatch:m,useEffectsErrorHandler:g})=>{let C=typeof i[u]=="function"?i[u]():i[u],S=g?o(C,t):C;return m===!1?S.pipe(Fa()):S.pipe(Ba()).pipe(et(A=>({effect:i[u],notification:A,propertyName:u,sourceName:a,sourceInstance:i})))});return ei(...l)}var mg=10;function gd(i,t,o=mg){return i.pipe(mt(n=>(t&&t.handleError(n),o<=1?i:gd(i,t,o-1))))}var pd=(()=>{let t=class t extends Ra{constructor(n){super(),n&&(this.source=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}};t.\u0275fac=function(r){return new(r||t)(nt(Za))},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function At(...i){return ue(t=>i.some(o=>typeof o=="string"?o===t.type:o.type===t.type))}var fd=new It("@ngrx/effects Internal Root Guard"),so=new It("@ngrx/effects User Provided Effects"),As=new It("@ngrx/effects Internal Root Effects"),_d=new It("@ngrx/effects Internal Root Effects Instances"),dd=new It("@ngrx/effects Internal Feature Effects"),bd=new It("@ngrx/effects Internal Feature Effects Instance Groups"),hg=new It("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>gd}),Cd="@ngrx/effects/init",_0=L(Cd);function gg(i,t){if(i.notification.kind==="N"){let o=i.notification.value;!pg(o)&&t.handleError(new Error(`Effect ${fg(i)} dispatched an invalid action: ${_g(o)}`))}}function pg(i){return typeof i!="function"&&i&&i.type&&typeof i.type=="string"}function fg({propertyName:i,sourceInstance:t,sourceName:o}){let n=typeof t[i]=="function";return!!o?`"${o}.${String(i)}${n?"()":""}"`:`"${String(i)}()"`}function _g(i){try{return JSON.stringify(i)}catch{return i}}var bg="ngrxOnIdentifyEffects";function Cg(i){return ks(i,bg)}var yg="ngrxOnRunEffects";function Pg(i){return ks(i,yg)}var vg="ngrxOnInitEffects";function Mg(i){return ks(i,vg)}function ks(i,t){return i&&t in i&&typeof i[t]=="function"}var yd=(()=>{let t=class t extends Yt{constructor(n,r){super(),this.errorHandler=n,this.effectsErrorHandler=r}addEffects(n){this.next(n)}toActions(){return this.pipe(Ro(n=>lg(n)?md(n):n),Y(n=>n.pipe(Ro(wg))),Y(n=>{let r=n.pipe(Ua(l=>Og(this.errorHandler,this.effectsErrorHandler)(l)),et(l=>(gg(l,this.errorHandler),l.notification)),ue(l=>l.kind==="N"&&l.value!=null),La()),a=n.pipe(ir(1),ue(Mg),et(l=>l.ngrxOnInitEffects()));return ei(r,a)}))}};t.\u0275fac=function(r){return new(r||t)(nt(Ga),nt(hg))},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function wg(i){return Cg(i)?i.ngrxOnIdentifyEffects():""}function Og(i,t){return o=>{let n=ug(o,i,t);return Pg(o)?o.ngrxOnRunEffects(n):n}}var Pd=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(n,r){this.effectSources=n,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(nt(yd),nt(Ft))},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),vd=(()=>{let t=class t{constructor(n,r,a,l,u,m,g){this.sources=n,r.start();for(let C of l)n.addEffects(C);a.dispatch({type:Cd})}addEffects(n){this.sources.addEffects(n)}};t.\u0275fac=function(r){return new(r||t)(nt(yd),nt(Pd),nt(Ft),nt(_d),nt(Go,8),nt($o,8),nt(fd,8))},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({});let i=t;return i})(),xg=(()=>{let t=class t{constructor(n,r,a,l){let u=r.flat();for(let m of u)n.addEffects(m)}};t.\u0275fac=function(r){return new(r||t)(nt(vd),nt(bd),nt(Go,8),nt($o,8))},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({});let i=t;return i})(),Md=(()=>{let t=class t{static forFeature(...n){let r=n.flat(),a=ld(r);return{ngModule:xg,providers:[a,{provide:dd,multi:!0,useValue:r},{provide:so,multi:!0,useValue:[]},{provide:bd,multi:!0,useFactory:ud,deps:[dd,so]}]}}static forRoot(...n){let r=n.flat(),a=ld(r);return{ngModule:vd,providers:[a,{provide:As,useValue:[r]},{provide:fd,useFactory:Ig},{provide:so,multi:!0,useValue:[]},{provide:_d,useFactory:ud,deps:[As,so]}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({});let i=t;return i})();function ud(i,t){let o=[];for(let n of i)o.push(...n);for(let n of t)o.push(...n);return o.map(n=>dg(n)?rr(n):n)}function Ig(){let i=rr(Pd,{optional:!0,skipSelf:!0}),t=rr(As,{self:!0});if(!(t.length===1&&t[0].length===0)&&i)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var wd={groups:[],invitations:[],transactions:[],settlements:[],selectedGroup:null,loading:!1,error:null};var Od=ec(wd,U(yn,i=>F(k({},i),{loading:!0,error:null})),U(Ar,(i,{groups:t})=>F(k({},i),{groups:t,loading:!1,error:null})),U(fi,(i,{error:t})=>F(k({},i),{loading:!1,error:t})),U(pe,i=>F(k({},i),{loading:!0,error:null})),U(kr,(i,{group:t})=>F(k({},i),{groups:i.groups.find(o=>o.id===t.id)?i.groups.map(o=>o.id===t.id?t:o):[...i.groups,t],selectedGroup:t,loading:!1,error:null})),U(_i,(i,{error:t})=>F(k({},i),{loading:!1,error:t})),U(Pn,i=>F(k({},i),{loading:!0,error:null})),U(Dr,(i,{invitations:t})=>F(k({},i),{invitations:t,loading:!1,error:null})),U(bi,(i,{error:t})=>F(k({},i),{loading:!1,error:t})),U(vn,i=>F(k({},i),{loading:!0,error:null})),U(Rr,(i,{group:t})=>F(k({},i),{groups:[...i.groups,t],loading:!1,error:null})),U(Ci,(i,{error:t})=>F(k({},i),{loading:!1,error:t})),U(oe,i=>F(k({},i),{loading:!0,error:null})),U(Nr,(i,{group:t})=>F(k({},i),{groups:i.groups.map(o=>o.id===t.id?t:o),loading:!1,error:null})),U(yi,(i,{error:t})=>F(k({},i),{loading:!1,error:t})),U(Mn,i=>F(k({},i),{loading:!0,error:null})),U(Vr,(i,{invitationId:t})=>F(k({},i),{invitations:i.invitations.filter(o=>o.id!==t),loading:!1,error:null})),U(Pi,(i,{error:t})=>F(k({},i),{loading:!1,error:t})),U(wn,i=>F(k({},i),{loading:!0,error:null})),U(Fr,(i,{invitationId:t})=>F(k({},i),{invitations:i.invitations.filter(o=>o.id!==t),loading:!1,error:null})),U(vi,(i,{error:t})=>F(k({},i),{loading:!1,error:t})),U(Te,i=>F(k({},i),{loading:!0,error:null})),U(Lr,(i,{groupId:t})=>{var o;return F(k({},i),{groups:i.groups.filter(n=>n.id!==t),selectedGroup:((o=i.selectedGroup)==null?void 0:o.id)===t?null:i.selectedGroup,loading:!1,error:null})}),U(Mi,(i,{error:t})=>F(k({},i),{loading:!1,error:t})),U(jc,(i,{group:t})=>F(k({},i),{selectedGroup:t})),U(ze,i=>F(k({},i),{loading:!0,error:null})),U(Ur,(i,{transactions:t})=>F(k({},i),{transactions:t,loading:!1,error:null})),U(wi,(i,{error:t})=>F(k({},i),{loading:!1,error:t})),U(je,i=>F(k({},i),{loading:!0,error:null})),U(Br,(i,{settlements:t})=>F(k({},i),{settlements:t,loading:!1,error:null})),U(Oi,(i,{error:t})=>F(k({},i),{loading:!1,error:t})),U(zr,i=>F(k({},i),{loading:!0,error:null})),U(jr,(i,{transaction:t})=>F(k({},i),{transactions:[...i.transactions,t],loading:!1,error:null})),U(xi,(i,{error:t})=>F(k({},i),{loading:!1,error:t})),U(On,i=>F(k({},i),{loading:!0,error:null})),U(Gr,(i,{transaction:t})=>F(k({},i),{transactions:i.transactions.map(o=>o.id===t.id?t:o),loading:!1,error:null})),U(Ii,(i,{error:t})=>F(k({},i),{loading:!1,error:t})),U(xn,i=>F(k({},i),{loading:!0,error:null})),U($r,(i,{settlement:t})=>F(k({},i),{settlements:[...i.settlements,t],loading:!1,error:null})),U(Ei,(i,{error:t})=>F(k({},i),{loading:!1,error:t})),U(Ae,i=>F(k({},i),{loading:!0,error:null})),U(qr,(i,{groupId:t})=>F(k({},i),{loading:!1,error:null})),U(Si,(i,{error:t})=>F(k({},i),{loading:!1,error:t})),U(ke,i=>F(k({},i),{error:null})));var xd=(()=>{let t=class t{constructor(n,r,a,l,u){this.actions$=n,this.splitwiseService=r,this.userService=a,this.store=l,this.auth=u,this.loadGroups$=Tt(()=>this.actions$.pipe(At(yn),Y(()=>W(this.userService.getCurrentUser()).pipe(Y(m=>m!=null&&m.uid?this.splitwiseService.getUserGroups(m.uid).pipe(et(g=>Ar({groups:g||[]})),mt(g=>$(fi({error:g.message})))):$(fi({error:"User not authenticated"}))))))),this.loadGroupById$=Tt(()=>this.actions$.pipe(At(pe),Y(m=>W(this.splitwiseService.getGroupById(m.groupId)).pipe(et(g=>g?kr({group:g}):_i({error:"Group not found"})),mt(g=>$(_i({error:g.message}))))))),this.loadInvitations$=Tt(()=>this.actions$.pipe(At(Pn),Y(()=>W(this.userService.getCurrentUser()).pipe(Y(m=>m!=null&&m.uid?this.splitwiseService.getUserInvitations(m.uid).pipe(et(g=>Dr({invitations:g||[]})),mt(g=>$(bi({error:g.message})))):$(bi({error:"User not authenticated"}))))))),this.createGroup$=Tt(()=>this.actions$.pipe(At(vn),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(g=>g!=null&&g.uid?this.splitwiseService.createGroup(m.request,g.uid).pipe(et(C=>Rr({group:C})),mt(C=>$(Ci({error:C.message})))):$(Ci({error:"User not authenticated"}))))))),this.addMember$=Tt(()=>this.actions$.pipe(At(oe),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(g=>g!=null&&g.uid?W(this.splitwiseService.addMemberToGroup(m.groupId,m.request,g.uid)).pipe(et(C=>Nr({group:C})),mt(C=>$(yi({error:C.message})))):$(yi({error:"User not authenticated"}))))))),this.acceptInvitation$=Tt(()=>this.actions$.pipe(At(Mn),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(g=>g!=null&&g.uid?W(this.splitwiseService.acceptInvitation(m.invitationId,g.uid)).pipe(et(()=>Vr({invitationId:m.invitationId})),mt(C=>$(Pi({error:C.message})))):$(Pi({error:"User not authenticated"}))))))),this.declineInvitation$=Tt(()=>this.actions$.pipe(At(wn),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(g=>g!=null&&g.uid?W(this.splitwiseService.declineInvitation(m.invitationId,g.uid)).pipe(et(()=>Fr({invitationId:m.invitationId})),mt(C=>$(vi({error:C.message})))):$(vi({error:"User not authenticated"}))))))),this.deleteGroup$=Tt(()=>this.actions$.pipe(At(Te),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(g=>g!=null&&g.uid?this.splitwiseService.deleteGroup(m.groupId,g.uid).pipe(et(()=>Lr({groupId:m.groupId})),mt(C=>$(Mi({error:C.message})))):$(Mi({error:"User not authenticated"}))))))),this.loadTransactions$=Tt(()=>this.actions$.pipe(At(ze),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(g=>g!=null&&g.uid?this.splitwiseService.getGroupTransactions(m.groupId,g.uid).pipe(et(C=>Ur({transactions:C||[]})),mt(C=>$(wi({error:C.message})))):$(wi({error:"User not authenticated"}))))))),this.loadSettlements$=Tt(()=>this.actions$.pipe(At(je),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(g=>g!=null&&g.uid?this.splitwiseService.getGroupSettlements(m.groupId,g.uid).pipe(et(C=>Br({settlements:C||[]})),mt(C=>$(Oi({error:C.message})))):$(Oi({error:"User not authenticated"}))))))),this.createSplitTransaction$=Tt(()=>this.actions$.pipe(At(zr),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(g=>g!=null&&g.uid?this.splitwiseService.createSplitTransaction(m.request,g.uid).pipe(et(C=>jr({transaction:C})),mt(C=>$(xi({error:C.message})))):$(xi({error:"User not authenticated"}))))))),this.updateSplitTransaction$=Tt(()=>this.actions$.pipe(At(On),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(g=>g!=null&&g.uid?W(this.splitwiseService.updateSplitTransaction(m.transactionId,m.updates)).pipe(et(()=>Gr({transaction:{id:m.transactionId}})),mt(C=>$(Ii({error:C.message})))):$(Ii({error:"User not authenticated"}))))))),this.createSettlement$=Tt(()=>this.actions$.pipe(At(xn),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(g=>{if(!(g!=null&&g.uid))return $(Ei({error:"User not authenticated"}));let C={groupId:m.groupId,fromUserId:m.fromUserId,toUserId:m.toUserId,amount:m.amount,notes:m.notes};return W(this.splitwiseService.createSettlement(C)).pipe(et(S=>$r({settlement:{id:S}})),mt(S=>$(Ei({error:S.message}))))}))))),this.removeMember$=Tt(()=>this.actions$.pipe(At(Ae),Y(m=>W(this.userService.getCurrentUser()).pipe(Y(g=>g!=null&&g.uid?W(this.splitwiseService.removeMemberFromGroup(m.groupId,m.userId,g.uid)).pipe(et(()=>qr({groupId:m.groupId})),mt(C=>$(Si({error:C.message})))):$(Si({error:"User not authenticated"})))))))}};t.\u0275fac=function(r){return new(r||t)(nt(pd),nt(Nn),nt(cn),nt(Ft),nt(wt))},t.\u0275prov=qt({token:t,factory:t.\u0275fac});let i=t;return i})();function Sg(i,t){if(i&1&&(_(0,"div",0)(1,"div",1),dt(2,"div",2),_(3,"p",3),O(4),b()()()),i&2){let o=V();I(4),ot(o.message)}}var T0=(()=>{let t=class t{constructor(n){this.loaderService=n,this.message="Loading...",this.loading$=this.loaderService.loading$}};t.\u0275fac=function(r){return new(r||t)(R(Pc))},t.\u0275cmp=gt({type:t,selectors:[["app-loader"]],inputs:{message:"message"},standalone:!0,features:[Ze],decls:2,vars:3,consts:[[1,"loader-overlay"],[1,"loader"],[1,"spinner"],[1,"loader-message"]],template:function(r,a){r&1&&(j(0,Sg,5,1,"div",0),tn(1,"async")),r&2&&Et(en(1,1,a.loading$)?0:-1)},dependencies:[Wa],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#f9fafbf2;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9999}.loader[_ngcontent-%COMP%]{background:transparent;border-radius:1rem;padding:2rem;max-width:300px;width:90%;text-align:center;display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-top:4px solid #46777f;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loader-message[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:500;font-size:1.125rem;color:#1f2937;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.loader[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem}.loader-message[_ngcontent-%COMP%]{font-size:1rem}}"]});let i=t;return i})();var Id=(()=>{let t=class t{constructor(){this.currentLanguage=new Na("en"),this.translations={loading:{en:"Loading...",hi:"\u0932\u094B\u0921 \u0939\u094B \u0930\u0939\u093E \u0939\u0948..."},error:{en:"Error",hi:"\u0924\u094D\u0930\u0941\u091F\u093F"},success:{en:"Success",hi:"\u0938\u092B\u0932\u0924\u093E"},cancel:{en:"Cancel",hi:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902"},save:{en:"Save",hi:"\u0938\u0939\u0947\u091C\u0947\u0902"},delete:{en:"Delete",hi:"\u0939\u091F\u093E\u090F\u0902"},edit:{en:"Edit",hi:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},add:{en:"Add",hi:"\u091C\u094B\u0921\u093C\u0947\u0902"},close:{en:"Close",hi:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902"},logout:{en:"Logout",hi:"\u0932\u0949\u0917\u0906\u0909\u091F"},login:{en:"Login",hi:"\u0932\u0949\u0917\u093F\u0928"},signup:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},email:{en:"Email",hi:"\u0908\u092E\u0947\u0932"},password:{en:"Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921"},name:{en:"Name",hi:"\u0928\u093E\u092E"},amount:{en:"Amount",hi:"\u0930\u093E\u0936\u093F"},date:{en:"Date",hi:"\u0924\u093E\u0930\u0940\u0916"},category:{en:"Category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940"},type:{en:"Type",hi:"\u092A\u094D\u0930\u0915\u093E\u0930"},income:{en:"Income",hi:"\u0906\u092F"},expense:{en:"Expense",hi:"\u0916\u0930\u094D\u091A"},total:{en:"Total",hi:"\u0915\u0941\u0932"},balance:{en:"Balance",hi:"\u0936\u0947\u0937 \u0930\u093E\u0936\u093F"},actions:{en:"Actions",hi:"\u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},search:{en:"Search",hi:"\u0916\u094B\u091C\u0947\u0902"},filter:{en:"Filter",hi:"\u092B\u093C\u093F\u0932\u094D\u091F\u0930"},clear:{en:"Clear",hi:"\u0938\u093E\u092B\u093C \u0915\u0930\u0947\u0902"},settings:{en:"Settings",hi:"\u0938\u0947\u091F\u093F\u0902\u0917\u094D\u0938"},dashboard:{en:"Dashboard",hi:"\u0921\u0948\u0936\u092C\u094B\u0930\u094D\u0921"},home:{en:"Home",hi:"\u0939\u094B\u092E"},accounts:{en:"Accounts",hi:"\u0916\u093E\u0924\u0947"},transactions:{en:"Transactions",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928"},categories:{en:"Categories",hi:"\u0936\u094D\u0930\u0947\u0923\u093F\u092F\u093E\u0902"},budgets:{en:"Budgets",hi:"\u092C\u091C\u091F"},goals:{en:"Goals",hi:"\u0932\u0915\u094D\u0937\u094D\u092F"},reports:{en:"Reports",hi:"\u0930\u093F\u092A\u094B\u0930\u094D\u091F\u094D\u0938"},calendar:{en:"Calendar",hi:"\u0915\u0948\u0932\u0947\u0902\u0921\u0930"},notes:{en:"Notes",hi:"\u0928\u094B\u091F\u094D\u0938"},tax:{en:"Tax",hi:"\u0915\u0930"},tools:{en:"Tools",hi:"\u0909\u092A\u0915\u0930\u0923"},moneyManager:{en:`${Jt.APP_NAME}`,hi:"\u092E\u0928\u0940 \u092E\u0948\u0928\u0947\u091C\u0930"},manageFinances:{en:"Manage your finances",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0915\u0930\u0947\u0902"},welcomeBack:{en:"Welcome Back!",hi:"\u0935\u093E\u092A\u0938\u0940 \u092A\u0930 \u0938\u094D\u0935\u093E\u0917\u0924 \u0939\u0948!"},youSpend:{en:"You Spend",hi:"\u0906\u092A\u0915\u093E \u0916\u0930\u094D\u091A"},youEarn:{en:"You Earn",hi:"\u0906\u092A\u0915\u0940 \u0915\u092E\u093E\u0908"},netBalance:{en:"Net Balance",hi:"\u0936\u0941\u0926\u094D\u0927 \u0936\u0947\u0937"},thisMonth:{en:"This Month",hi:"\u0907\u0938 \u092E\u0939\u0940\u0928\u0947"},lastMonth:{en:"Last Month",hi:"\u092A\u093F\u091B\u0932\u0947 \u092E\u0939\u0940\u0928\u0947"},quickActions:{en:"Quick Actions",hi:"\u0924\u094D\u0935\u0930\u093F\u0924 \u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},recentTransactions:{en:"Recent Transactions",hi:"\u0939\u093E\u0932 \u0915\u0947 \u0932\u0947\u0928-\u0926\u0947\u0928"},upcomingBills:{en:"Upcoming Bills",hi:"\u0906\u0917\u093E\u092E\u0940 \u092C\u093F\u0932"},savingsGoal:{en:"Savings Goal",hi:"\u092C\u091A\u0924 \u0932\u0915\u094D\u0937\u094D\u092F"},signIn:{en:"Sign In",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928"},signUp:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},signOut:{en:"Sign Out",hi:"\u0938\u093E\u0907\u0928 \u0906\u0909\u091F"},forgotPassword:{en:"Forgot Password?",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092D\u0942\u0932 \u0917\u090F?"},resetPassword:{en:"Reset Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0930\u0940\u0938\u0947\u091F \u0915\u0930\u0947\u0902"},emailPlaceholder:{en:"Enter your email",hi:"\u0905\u092A\u0928\u093E \u0908\u092E\u0947\u0932 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},passwordPlaceholder:{en:"Enter your password",hi:"\u0905\u092A\u0928\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},confirmPassword:{en:"Confirm Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0915\u0940 \u092A\u0941\u0937\u094D\u091F\u093F \u0915\u0930\u0947\u0902"},namePlaceholder:{en:"Enter your name",hi:"\u0905\u092A\u0928\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},loginSuccess:{en:"Successfully signed in",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},loginError:{en:"Failed to sign in",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},signupSuccess:{en:"Successfully signed up",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},signupError:{en:"Failed to sign up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},sessionExpired:{en:"Session expired. Please sign in again.",hi:"\u0938\u0924\u094D\u0930 \u0938\u092E\u093E\u092A\u094D\u0924 \u0939\u094B \u0917\u092F\u093E\u0964 \u0915\u0943\u092A\u092F\u093E \u092B\u093F\u0930 \u0938\u0947 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902\u0964"},invalidCredentials:{en:"Invalid email or password",hi:"\u0905\u092E\u093E\u0928\u094D\u092F \u0908\u092E\u0947\u0932 \u092F\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921"},passwordMismatch:{en:"Passwords do not match",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092E\u0947\u0932 \u0928\u0939\u0940\u0902 \u0916\u093E\u0924\u0947"},emailRequired:{en:"Email is required",hi:"\u0908\u092E\u0947\u0932 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},passwordRequired:{en:"Password is required",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},nameRequired:{en:"Name is required",hi:"\u0928\u093E\u092E \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},addTransaction:{en:"Add Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0947\u0902"},editTransaction:{en:"Edit Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},deleteTransaction:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},transactionHistory:{en:"Transaction History",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0907\u0924\u093F\u0939\u093E\u0938"},manageTransactions:{en:"Manage and track your financial transactions",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924\u0940\u092F \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0914\u0930 \u091F\u094D\u0930\u0948\u0915\u093F\u0902\u0917 \u0915\u0930\u0947\u0902"},payee:{en:"Payee",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E"},payeePlaceholder:{en:"Enter payee name",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E \u0915\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},amountPlaceholder:{en:"Enter amount",hi:"\u0930\u093E\u0936\u093F \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},categoryPlaceholder:{en:"Select category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940 \u091A\u0941\u0928\u0947\u0902"},datePlaceholder:{en:"Select date",hi:"\u0924\u093E\u0930\u0940\u0916 \u091A\u0941\u0928\u0947\u0902"},notesPlaceholder:{en:"Add notes (optional)",hi:"\u0928\u094B\u091F\u094D\u0938 \u091C\u094B\u0921\u093C\u0947\u0902 (\u0935\u0948\u0915\u0932\u094D\u092A\u093F\u0915)"},noTransactions:{en:"No transactions yet",hi:"\u0905\u092D\u0940 \u0924\u0915 \u0915\u094B\u0908 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0928\u0939\u0940\u0902"},noTransactionsMessage:{en:"Start by adding your first transaction to track your finances.",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u091F\u094D\u0930\u0948\u0915 \u0930\u0916\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0905\u092A\u0928\u093E \u092A\u0939\u0932\u093E \u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0915\u0930 \u0936\u0941\u0930\u0942 \u0915\u0930\u0947\u0902\u0964"},transactionAdded:{en:"Transaction added successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u091C\u094B\u0921\u093C\u093E \u0917\u092F\u093E"},transactionUpdated:{en:"Transaction updated successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0905\u092A\u0921\u0947\u091F \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},transactionDeleted:{en:"Transaction deleted successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},confirmDelete:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},confirmDeleteMessage:{en:"Are you sure you want to delete this transaction?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0907\u0938 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u094B \u0939\u091F\u093E\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"},networkError:{en:"Network error. Please check your connection.",hi:"\u0928\u0947\u091F\u0935\u0930\u094D\u0915 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0915\u0928\u0947\u0915\u094D\u0936\u0928 \u091C\u093E\u0902\u091A\u0947\u0902\u0964"},serverError:{en:"Server error. Please try again later.",hi:"\u0938\u0930\u094D\u0935\u0930 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u092C\u093E\u0926 \u092E\u0947\u0902 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},validationError:{en:"Please check your input and try again.",hi:"\u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0907\u0928\u092A\u0941\u091F \u091C\u093E\u0902\u091A\u0947\u0902 \u0914\u0930 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},dataSaved:{en:"Data saved successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u0939\u0947\u091C\u093E \u0917\u092F\u093E"},dataDeleted:{en:"Data deleted successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},changesDiscarded:{en:"Changes discarded",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917 \u0926\u093F\u090F \u0917\u090F"},unsavedChanges:{en:"You have unsaved changes",hi:"\u0906\u092A\u0915\u0947 \u092A\u093E\u0938 \u0905\u0938\u0939\u0947\u091C\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0939\u0948\u0902"},confirmDiscard:{en:"Discard Changes",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0947\u0902"},confirmDiscardMessage:{en:"Are you sure you want to discard your changes?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0905\u092A\u0928\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"}};let n=localStorage.getItem("app_language");n&&(n==="en"||n==="hi")?this.currentLanguage.next(n):navigator.language.split("-")[0]==="hi"&&this.currentLanguage.next("hi")}getCurrentLanguage(){return this.currentLanguage.asObservable()}getCurrentLanguageValue(){return this.currentLanguage.value}setLanguage(n){this.currentLanguage.next(n),localStorage.setItem("app_language",n)}translate(n){let r=this.translations[n];return r&&(r[this.currentLanguage.value]||r.en)||n}translateWithParams(n,r){let a=this.translate(n);return Object.keys(r).forEach(l=>{a=a.replace(`{{${l}}}`,r[l])}),a}getAvailableLanguages(){return[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"\u0939\u093F\u0902\u0926\u0940"}]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var R0=(()=>{let t=class t{constructor(n){this.translationService=n}transform(n,r){return r?this.translationService.translateWithParams(n,r):this.translationService.translate(n)}};t.\u0275fac=function(r){return new(r||t)(R(Id,16))},t.\u0275pipe=or({name:"translate",type:t,pure:!0,standalone:!0});let i=t;return i})();var F0=(()=>{let t=class t{transform(n,r){if(n==null||n==="")return this.formatCurrency(0,r);let a=typeof n=="string"?parseFloat(n):n;return isNaN(a)?"Invalid amount":this.formatCurrency(a,r)}formatCurrency(n,r){let{currency:a=Jt.CURRENCY.DEFAULT,locale:l=Jt.LANGUAGE.DEFAULT,showSymbol:u=!0,showCode:m=!1,decimalPlaces:g,compact:C=!1,signDisplay:S="auto",notation:T="standard"}=r||{},A=this.getCurrencyConfig(a),D=n%1!==0,at=g!==void 0?D?g:0:D?A.decimalPlaces:0,tt=g!==void 0?g:A.decimalPlaces,kt={style:"currency",currency:a,minimumFractionDigits:at,maximumFractionDigits:tt,signDisplay:S,notation:C?"compact":T};u?m&&(kt.currencyDisplay="narrowSymbol"):kt.currencyDisplay="code";try{return new Intl.NumberFormat(l,kt).format(n)}catch(Bt){return console.error("Currency formatting error:",Bt),this.fallbackFormat(n,a,A)}}getCurrencyConfig(n){let r=n;return{symbol:Jt.CURRENCY.SYMBOLS[r]||n,decimalPlaces:Jt.CURRENCY.DECIMAL_PLACES[r]||2}}fallbackFormat(n,r,a){let l=a.symbol,u=n%1===0?n.toFixed(0):n.toFixed(a.decimalPlaces);return`${l}${u}`}static getCurrencySymbol(n){let r=n;return Jt.CURRENCY.SYMBOLS[r]||n}static getDecimalPlaces(n){let r=n;return Jt.CURRENCY.DECIMAL_PLACES[r]||2}static isSupportedCurrency(n){return Jt.CURRENCY.SUPPORTED.includes(n)}static getSupportedCurrencies(){return Jt.CURRENCY.SUPPORTED}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=or({name:"currency",type:t,pure:!0,standalone:!0});let i=t;return i})();var Sb=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Rt({type:t}),t.\u0275inj=Dt({providers:[Nn],imports:[mr,Xa,Ja,si,ad,wc,cd,dc,gc,_c,Cc,Mc,yc,pc,bc,xc,Ic,Tr,vc,id,tc.forFeature("splitwise",Od),Md.forFeature([xd])]});let i=t;return i})();export{Ct as a,R0 as b,yn as c,Pn as d,Mn as e,wn as f,zr as g,Gl as h,Nn as i,gm as j,Ts as k,td as l,nd as m,id as n,F0 as o,cu as p,kg as q,Dg as r,cd as s,Tt as t,pd as u,At as v,Md as w,T0 as x,Sb as y};

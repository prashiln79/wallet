import{$b as Ha,$c as kr,$d as zu,Ab as mi,Ac as gu,Ad as Ge,B as jn,Bb as nu,Bc as fu,Bd as Yi,C as bs,Cc as on,Cd as oa,Db as za,Dc as Ms,Dd as Ya,E as Nn,Eb as Kt,Ec as _u,F as vs,Fb as hc,Fc as $t,Fd as Gn,G as ys,Gc as bu,Gd as cn,H as Vn,Hb as _t,Hc as vu,Hd as Yn,Ic as He,Id as dn,Jb as Vt,Jc as bi,Jd as Au,Kb as Oi,Kc as Or,Kd as Ru,L as Cs,Lc as bc,Ld as Fu,M as xs,Mc as vc,Md as Bu,Nb as ta,Nc as yu,Nd as Wa,O as Jm,Ob as ki,Oc as na,Od as Tr,P as $n,Pc as sn,Pd as Lu,Q as Va,Qc as ra,Qd as Xa,R as $a,Rb as Di,Rc as Cu,Rd as Wn,Sb as ni,Sc as xu,Sd as Qa,Tb as ru,Tc as yc,Td as Ts,Ub as pc,Uc as Cc,Ud as Ir,V as ve,Vb as gc,Vc as wu,Vd as ju,W as ke,Wb as au,Wc as It,Wd as Nu,Xb as ou,Xd as Vu,Zb as Gi,_b as gt,_c as Et,_d as $u,ac as fc,ad as xc,ae as Hu,ba as eu,bd as Ua,be as Ka,cd as Ou,ce as Uu,da as Qe,dd as yn,de as qa,ea as J,ec as qt,ed as Ps,ee as Gu,fa as rn,fd as ku,fe as Yu,ga as mc,gd as Os,ge as Za,ha as uc,hd as Du,he as Wu,ia as tu,id as Ga,ie as Is,ja as xe,jd as ks,je as Es,ka as iu,kc as su,kd as Su,ke as As,l as fs,lc as Bt,ld as Ds,le as Ja,mc as ia,md as Tu,me as Xn,n as An,nc as lu,nd as aa,ne as sa,oc as _i,od as Dr,oe as la,pc as Si,pd as Sr,pe as Rs,q as Na,qc as _c,qd as Iu,qe as ca,r as Rn,rc as cu,rd as wc,re as Wi,s as Zm,sc as du,sd as Eu,t as Fn,tc as ws,td as Un,te as Pc,u as _s,uc as mu,ud as Ss,v as Ne,vc as zn,w as Bn,wb as Qt,wc as an,wd as Mc,we as eo,x as Ln,xc as uu,xd as ln,xe as Xu,yc as hu,zc as pu}from"./chunk-J32ER7RI.js";import{$b as Mt,Aa as j,Ac as Wm,Ad as Pi,Ba as Te,Bc as us,Bd as tt,Ca as re,Cc as hs,D as Zr,Da as os,Db as Ze,Dc as ps,Dd as Xt,E as Am,Eb as Gm,Ec as Ee,Ed as gs,F as ht,Fc as le,Gb as Hi,H as Ct,Hb as ii,Hd as Km,Ic as Xm,Id as Nt,J as st,Ja as pt,Jb as ls,Jc as Qm,Ka as E,Kd as qm,L as ns,La as A,Lb as je,Ma as nn,Mc as z,N as En,Na as ss,Nb as Fe,Nc as U,O as Rm,Oa as xt,Oc as dc,P as sc,Pa as zi,Qa as wi,Qb as S,Qd as zt,R as Fm,Ra as $m,Rb as Pe,Rd as rt,S as Bm,Sb as P,T as Lm,Tb as We,Td as Oe,Ub as H,Ud as Ke,Vb as Xe,Vd as Hn,W as lc,Wa as ye,Wd as it,Xb as V,Xd as Mu,Ya as N,Yb as Ym,Yd as Pu,Z as jm,Za as ja,Zb as cc,_b as wt,a as ot,ac as u,bb as zm,bc as h,c as ts,cb as Ft,cc as B,ea as Nm,ed as Ce,f as ue,fa as fi,fc as di,fd as Jr,g as $i,ga as Vm,gc as ee,h as Im,ha as De,hc as cs,ic as ds,jc as T,jd as Z,kc as ms,kd as Pt,l as is,lc as M,mc as ze,n as St,nc as be,oa as Wt,pa as et,pb as Pr,pc as $e,q as Ue,qa as Se,qc as Ie,r as _e,rc as Q,sa as ge,sc as K,sd as Ui,t as Em,ua as Ae,ub as f,va as Le,vb as v,vc as Mi,w as ne,wb as Hm,wc as _,x as gi,xa as rs,xb as Tt,xc as R,y as Ye,ya as as,yc as $,zb as Um,zc as vn,zd as ea}from"./chunk-JESKCT2G.js";import{a as X,b as ce,k as ut}from"./chunk-LKDXID24.js";var Oc=rn("profile"),Qu=J(Oc,a=>a.profile),xC=J(Oc,a=>a.loading),wC=J(Oc,a=>a.error),da=J(Qu,a=>a==null?void 0:a.preferences),to=J(da,a=>a==null?void 0:a.defaultCurrency),MC=J(da,a=>a==null?void 0:a.language),PC=J(da,a=>a==null?void 0:a.timezone),OC=J(da,a=>a==null?void 0:a.notifications),kC=J(da,a=>a==null?void 0:a.emailUpdates),DC=J(da,a=>a==null?void 0:a.budgetAlerts),SC=J(Qu,a=>(a==null?void 0:a.monthlyIncome)||0);function zg(a,t){if(a&1){let n=ee();u(0,"button",6),T("click",function(){E(n);let i=M();return A(i.onAddButtonClick())}),u(1,"mat-icon",7),_(2),h()()}if(a&2){let n=M();P("disabled",n.addButtonDisabled||n.isSubmitting)("matTooltip",n.addButtonTooltip),f(2),$(" ",n.isSubmitting?"hourglass_empty":"check"," ")}}function Hg(a,t){if(a&1){let n=ee();u(0,"button",8),T("click",function(){E(n);let i=M();return A(i.onCloseButtonClick())}),u(1,"mat-icon"),_(2,"close"),h()()}if(a&2){let n=M();P("matTooltip",n.closeButtonTooltip)}}var Fs=(()=>{let t=class t{constructor(){this.title="",this.showAddButton=!1,this.addButtonDisabled=!1,this.isSubmitting=!1,this.addButtonTooltip="Save",this.showCloseButton=!0,this.closeButtonTooltip="Close",this.addButtonClick=new N,this.closeButtonClick=new N}onAddButtonClick(){this.addButtonClick.emit()}onCloseButtonClick(){this.closeButtonClick.emit()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=j({type:t,selectors:[["app-common-header"]],inputs:{title:"title",showAddButton:"showAddButton",addButtonDisabled:"addButtonDisabled",isSubmitting:"isSubmitting",addButtonTooltip:"addButtonTooltip",showCloseButton:"showCloseButton",closeButtonTooltip:"closeButtonTooltip"},outputs:{addButtonClick:"addButtonClick",closeButtonClick:"closeButtonClick"},decls:7,vars:3,consts:[[1,"sticky","top-0","z-20","bg-white","dark:bg-gray-800","border-b","border-gray-200","dark:border-gray-700","shadow-sm"],[1,"flex","items-center","justify-between","px-4","py-3"],[1,"text-base","!m-0","font-semibold","text-gray-900","dark:text-gray-100"],[1,"flex","items-center","gap-2"],["mat-icon-button","","color","primary","class","w-10 h-10 !bg-primary",3,"disabled","matTooltip","click",4,"ngIf"],["mat-icon-button","","type","button","class","text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","color","primary",1,"w-10","h-10","!bg-primary",3,"click","disabled","matTooltip"],[1,"text-white"],["mat-icon-button","","type","button",1,"text-gray-500","hover:text-gray-700","dark:text-gray-400","dark:hover:text-gray-200",3,"click","matTooltip"]],template:function(i,r){i&1&&(u(0,"div",0)(1,"div",1)(2,"h6",2),_(3),h(),u(4,"div",3),S(5,zg,3,3,"button",4)(6,Hg,3,1,"button",5),h()()()),i&2&&(f(3),$(" ",r.title," "),f(2),P("ngIf",r.showAddButton),f(),P("ngIf",r.showCloseButton))},dependencies:[tt,Et,Ge,Wn]});let a=t;return a})();var Ug=["*"],Bs=(()=>{let t=class t{constructor(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=j({type:t,selectors:[["app-common-body-content"]],ngContentSelectors:Ug,decls:3,vars:0,consts:[[1,"flex-1","overflow-y-auto","bg-gray-50","dark:bg-gray-900"],[1,"p-4","space-y-6","overflow-y-auto","max-h-[89vh]"]],template:function(i,r){i&1&&(ze(),u(0,"div",0)(1,"div",1),be(2),h()())}});let a=t;return a})();function Gg(a,t){a&1&&(u(0,"p",7),_(1,"Group name is required"),h())}function Yg(a,t){a&1&&(u(0,"p",7),_(1,"Group name must be at least 2 characters"),h())}function Wg(a,t){a&1&&(u(0,"p",7),_(1,"Group name must not exceed 50 characters"),h())}function Xg(a,t){a&1&&(u(0,"p",7),_(1,"Description must not exceed 200 characters"),h())}var Zu=(()=>{let t=class t{constructor(e,i,r,o){this.fb=e,this.dialogRef=i,this.auth=r,this.store=o,this.isSubmitting=!1,this.userCurrency$=this.store.select(to),this.groupForm=this.fb.group({name:["",[Ne.required,Ne.minLength(2),Ne.maxLength(50)]],description:["",[Ne.maxLength(200)]],initialMembers:[[]]})}ngOnInit(){}onSubmit(){return ut(this,null,function*(){var e;if(this.groupForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let i=this.groupForm.value,r=this.store.select(to),o="USD";r.subscribe(l=>{l&&(o=l)}).unsubscribe();let s={name:i.name.trim(),description:((e=i.description)==null?void 0:e.trim())||"",currency:o,initialMembers:i.initialMembers||[]};this.dialogRef.close(s)}catch(i){console.error("Error creating group:",i)}finally{this.isSubmitting=!1}}else this.groupForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(e){var r,o;let i=this.groupForm.get(e);return i!=null&&i.hasError("required")?`${e.charAt(0).toUpperCase()+e.slice(1)} is required`:i!=null&&i.hasError("minlength")?`${e.charAt(0).toUpperCase()+e.slice(1)} must be at least ${(r=i.errors)==null?void 0:r.minlength.requiredLength} characters`:i!=null&&i.hasError("maxlength")?`${e.charAt(0).toUpperCase()+e.slice(1)} must not exceed ${(o=i.errors)==null?void 0:o.maxlength.requiredLength} characters`:""}};t.\u0275fac=function(i){return new(i||t)(v($n),v(cn),v(Qt),v(Qe))},t.\u0275cmp=j({type:t,selectors:[["app-create-group-dialog"]],decls:41,vars:14,consts:[[3,"closeButtonClick","addButtonClick","title","isSubmitting","showCloseButton","showAddButton","addButtonTooltip","addButtonDisabled","closeButtonTooltip"],[1,"group-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","text","formControlName","name","placeholder","Enter group name","autofocus","","maxlength","50",1,"form-input"],[1,"field-footer"],[1,"error-message"],[1,"character-count"],["formControlName","description","placeholder","Describe your group","maxlength","200","rows","3",1,"form-input"],[1,"info-section"],[1,"info-icon"],[1,"info-content"],[1,"bottom-spacing"]],template:function(i,r){if(i&1&&(u(0,"app-common-header",0),T("closeButtonClick",function(){return r.onCancel()})("addButtonClick",function(){return r.onSubmit()}),h(),u(1,"app-common-body-content")(2,"form",1),T("ngSubmit",function(){return r.onSubmit()}),u(3,"div",2)(4,"label",3)(5,"mat-icon",4),_(6,"group"),h(),_(7," Group Name * "),h(),B(8,"input",5),u(9,"div",6),S(10,Gg,2,0,"p",7)(11,Yg,2,0,"p",7)(12,Wg,2,0,"p",7),u(13,"span",8),_(14),h()()(),u(15,"div",2)(16,"label",3)(17,"mat-icon",4),_(18,"description"),h(),_(19," Description (Optional) "),h(),B(20,"textarea",9),u(21,"div",6),S(22,Xg,2,0,"p",7),u(23,"span",8),_(24),h()()(),u(25,"div",10)(26,"mat-icon",11),_(27,"info"),h(),u(28,"div",12)(29,"h4"),_(30,"What happens next?"),h(),u(31,"ul")(32,"li"),_(33,"You'll be added as the group admin"),h(),u(34,"li"),_(35,"You can invite friends by email"),h(),u(36,"li"),_(37,"Start adding shared expenses"),h(),u(38,"li"),_(39,"Track who owes what to whom"),h()()()(),B(40,"div",13),h()()),i&2){let o,s,l,c,d,p;P("title","Create Group")("isSubmitting",r.isSubmitting)("showCloseButton",!0)("showAddButton",!0)("addButtonTooltip",r.isSubmitting?"Saving...":"Save")("addButtonDisabled",r.groupForm.invalid||r.isSubmitting)("closeButtonTooltip",r.isSubmitting?"Saving...":"Close"),f(2),P("formGroup",r.groupForm),f(8),V((o=r.groupForm.get("name"))!=null&&o.hasError("required")&&((o=r.groupForm.get("name"))!=null&&o.touched)?10:-1),f(),V((s=r.groupForm.get("name"))!=null&&s.hasError("minlength")&&((s=r.groupForm.get("name"))!=null&&s.touched)?11:-1),f(),V((l=r.groupForm.get("name"))!=null&&l.hasError("maxlength")&&((l=r.groupForm.get("name"))!=null&&l.touched)?12:-1),f(2),$(" ",((c=r.groupForm.get("name"))==null||c.value==null?null:c.value.length)||0,"/50 "),f(8),V((d=r.groupForm.get("description"))!=null&&d.hasError("maxlength")&&((d=r.groupForm.get("description"))!=null&&d.touched)?22:-1),f(2),$(" ",((p=r.groupForm.get("description"))==null||p.value==null?null:p.value.length)||0,"/200 ")}},dependencies:[jn,Fn,Bn,Ln,Jm,Nn,Vn,Ge,Fs,Bs],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .group-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease;resize:vertical}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{font-size:.7rem}}.info-section[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1.25rem;background:#f8f9fa;border-radius:12px;border-left:4px solid #3b82f6;margin-top:.5rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;gap:.75rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px;gap:.5rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]{background:#1f2937;border-left-color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.5rem;width:1.5rem;height:1.5rem;margin-top:.125rem;flex-shrink:0}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#60a5fa}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{flex:1}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;color:#1f2937;font-weight:600;font-size:1rem}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:.5rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.375rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:1.25rem;color:#6b7280}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:.875rem}}.dark[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#9ca3af}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.375rem;font-size:.875rem;line-height:1.4}@media (max-width: 480px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.25rem}}@media (max-width: 360px){.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.125rem}}.info-section[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let a=t;return a})();var ma=ve("[Splitwise] Load Groups"),Ls=ve("[Splitwise] Load Groups Success",ke()),io=ve("[Splitwise] Load Groups Failure",ke()),Cn=ve("[Splitwise] Load Group by ID",ke()),js=ve("[Splitwise] Load Group by ID Success",ke()),no=ve("[Splitwise] Load Group by ID Failure",ke()),ua=ve("[Splitwise] Load Invitations"),Ns=ve("[Splitwise] Load Invitations Success",ke()),ro=ve("[Splitwise] Load Invitations Failure",ke()),ha=ve("[Splitwise] Create Group",ke()),Vs=ve("[Splitwise] Create Group Success",ke()),ao=ve("[Splitwise] Create Group Failure",ke()),un=ve("[Splitwise] Add Member",ke()),$s=ve("[Splitwise] Add Member Success",ke()),oo=ve("[Splitwise] Add Member Failure",ke()),pa=ve("[Splitwise] Accept Invitation",ke()),zs=ve("[Splitwise] Accept Invitation Success",ke()),so=ve("[Splitwise] Accept Invitation Failure",ke()),ga=ve("[Splitwise] Decline Invitation",ke()),Hs=ve("[Splitwise] Decline Invitation Success",ke()),lo=ve("[Splitwise] Decline Invitation Failure",ke()),Kn=ve("[Splitwise] Delete Group",ke()),Us=ve("[Splitwise] Delete Group Success",ke()),co=ve("[Splitwise] Delete Group Failure",ke()),Ju=ve("[Splitwise] Select Group",ke()),Ar=ve("[Splitwise] Load Transactions",ke()),Gs=ve("[Splitwise] Load Transactions Success",ke()),mo=ve("[Splitwise] Load Transactions Failure",ke()),Rr=ve("[Splitwise] Load Settlements",ke()),Ys=ve("[Splitwise] Load Settlements Success",ke()),uo=ve("[Splitwise] Load Settlements Failure",ke()),Ws=ve("[Splitwise] Create Split Transaction",ke()),Xs=ve("[Splitwise] Create Split Transaction Success",ke()),ho=ve("[Splitwise] Create Split Transaction Failure",ke()),Qs=ve("[Splitwise] Update Split Transaction",ke()),Ks=ve("[Splitwise] Update Split Transaction Success",ke()),po=ve("[Splitwise] Update Split Transaction Failure",ke()),fa=ve("[Splitwise] Create Settlement",ke()),qs=ve("[Splitwise] Create Settlement Success",ke()),go=ve("[Splitwise] Create Settlement Failure",ke()),qn=ve("[Splitwise] Remove Member",ke()),Zs=ve("[Splitwise] Remove Member Success",ke()),fo=ve("[Splitwise] Remove Member Failure",ke()),Zn=ve("[Splitwise] Clear Error");var Jn=rn("splitwise"),_a=J(Jn,a=>a),Qg=J(Jn,a=>a.groups),Kg=J(Jn,a=>a.invitations),qg=J(Jn,a=>a.transactions),Zg=J(Jn,a=>a.settlements),Js=J(Jn,a=>a.selectedGroup),NC=J(Jn,a=>a.loading),VC=J(Jn,a=>a.error),$C=J(Qg,a=>a.filter(t=>t.isActive)),zC=J(Kg,a=>a.filter(t=>t.status==="pending")),HC=J(qg,Js,(a,t)=>t?a.filter(n=>n.groupId===t.id):[]),UC=J(Zg,Js,(a,t)=>t?a.filter(n=>n.groupId===t.id):[]),GC=J(Js,a=>(a==null?void 0:a.members.filter(t=>t.isActive).length)||0),YC=J(Js,a=>"");var hn=(()=>{let t=class t{constructor(e){this.breakpointObserver=e,this.device={isMobile:!1,isTablePortrait:!1,isDesktop:!1},this.breakpointObserver.observe([an.Handset]).subscribe(i=>{this.device.isMobile=i.matches}),this.breakpointObserver.observe([an.TabletPortrait]).subscribe(i=>{this.device.isTablePortrait=i.matches}),this.breakpointObserver.observe([an.Web]).subscribe(i=>{this.device.isDesktop=i.matches})}};t.\u0275fac=function(i){return new(i||t)(Ae(zn))},t.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();var Fr=function(a){return a.ADMIN="admin",a.MEMBER="member",a}(Fr||{}),vo=function(a){return a.PENDING="pending",a.COMPLETED="completed",a.CANCELLED="cancelled",a}(vo||{}),ba=function(a){return a.PENDING="pending",a.ACCEPTED="accepted",a.DECLINED="declined",a.EXPIRED="expired",a}(ba||{});function Jg(a,t){a&1&&(u(0,"p",7),_(1,"Email is required"),h())}function ef(a,t){a&1&&(u(0,"p",7),_(1,"Please enter a valid email address"),h())}function tf(a,t){a&1&&(u(0,"p",7),_(1,"This person is already a member of the group"),h())}function nf(a,t){if(a&1&&(u(0,"p",12),_(1),h()),a&2){let n=M();H("user-found",n.userExists)("user-not-found",!n.userExists&&!n.checkingUser),f(),$(" ",n.getUserStatusText()," ")}}function rf(a,t){if(a&1&&B(0,"img",21),a&2){let n=M().$implicit;P("src",n.photoURL,Pr)("alt",n.displayName)}}function af(a,t){a&1&&(u(0,"mat-icon"),_(1,"person"),h())}function of(a,t){if(a&1){let n=ee();u(0,"div",13)(1,"div",14),S(2,rf,1,2,"img",15)(3,af,2,0,"mat-icon",16),h(),u(4,"div",17)(5,"span",18),_(6),h(),u(7,"span",19),_(8),h()(),u(9,"button",20),T("click",function(){let i=E(n).$implicit,r=M();return A(r.onDeleteMember(i.userId))}),u(10,"mat-icon"),_(11,"delete"),h()()()}if(a&2){let n=t.$implicit;f(2),P("ngIf",n.photoURL),f(),P("ngIf",!n.photoURL),f(3),R(n.displayName),f(2),R(n.email)}}var va=(()=>{let t=class t{constructor(e,i,r,o,s,l){this.fb=e,this.dialogRef=i,this.data=r,this.auth=o,this.userService=s,this.dialog=l,this.isSubmitting=!1,this.userExists=!1,this.checkingUser=!1,this.group=r.group,this.memberForm=this.fb.group({email:["",[Ne.required,Ne.email]]})}ngOnInit(){setTimeout(()=>{let e=document.querySelector('input[formControlName="email"]');e&&e.focus()},100)}onEmailChange(){return ut(this,null,function*(){var i,r,o;let e=(i=this.memberForm.get("email"))==null?void 0:i.value;if(e&&this.isEmailAlreadyMember(e)){(r=this.memberForm.get("email"))==null||r.setErrors({alreadyMember:!0}),this.userExists=!1;return}if(e&&((o=this.memberForm.get("email"))!=null&&o.valid)){this.checkingUser=!0;try{let s=yield this.userService.findUserByEmail(e);this.userExists=!!s}catch(s){console.error("Error checking user:",s),this.userExists=!1}finally{this.checkingUser=!1}}else this.userExists=!1})}onSubmit(){return ut(this,null,function*(){if(this.memberForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let i={email:this.memberForm.value.email.trim().toLowerCase(),role:Fr.MEMBER};this.dialogRef.close(i)}catch(e){console.error("Error adding member:",e)}finally{this.isSubmitting=!1}}else this.memberForm.markAllAsTouched()})}onCancel(){this.dialogRef.close()}getErrorMessage(e){let i=this.memberForm.get(e);return i!=null&&i.hasError("required")?`${e.charAt(0).toUpperCase()+e.slice(1)} is required`:i!=null&&i.hasError("email")?"Please enter a valid email address":i!=null&&i.hasError("alreadyMember")?"This user is already a member of this group":""}isEmailAlreadyMember(e){return this.group.members.some(i=>i.email.toLowerCase()===e.toLowerCase())}getRoleDisplayName(e){return{admin:"Admin",member:"Member"}[e]||e}getUserStatusText(){var i,r;return this.checkingUser?"Checking if user exists...":this.userExists?"\u2713 User found in system - invitation will be sent immediately":((i=this.memberForm.get("email"))==null?void 0:i.value)&&((r=this.memberForm.get("email"))!=null&&r.valid)?"\u2139 User not found - invitation will be sent when they register":""}onDeleteMember(e){this.dialog.open(Tr,{data:{title:"Delete Member",message:"Are you sure you want to delete this member? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(i=>{i&&this.dialogRef.close({action:"delete",userId:e})})}};t.\u0275fac=function(i){return new(i||t)(v($n),v(cn),v(Yn),v(Qt),v(Gn),v(dn))},t.\u0275cmp=j({type:t,selectors:[["app-add-member-dialog"]],decls:22,vars:11,consts:[[3,"closeButtonClick","addButtonClick","title","isSubmitting","showCloseButton","showAddButton"],[1,"member-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","email","formControlName","email","placeholder","Enter member's email address","autofocus","",1,"form-input",3,"input"],[1,"field-footer"],[1,"error-message"],[1,"status-message",3,"user-found","user-not-found"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"bottom-spacing"],[1,"status-message"],[1,"member-item"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],["mat-icon-button","",3,"click"],[3,"src","alt"]],template:function(i,r){if(i&1&&(u(0,"app-common-header",0),T("closeButtonClick",function(){return r.onCancel()})("addButtonClick",function(){return r.onSubmit()}),h(),u(1,"app-common-body-content")(2,"form",1),T("ngSubmit",function(){return r.onSubmit()}),u(3,"div",2)(4,"label",3)(5,"mat-icon",4),_(6,"email"),h(),_(7," Email Address * "),h(),u(8,"input",5),T("input",function(){return r.onEmailChange()}),h(),u(9,"div",6),S(10,Jg,2,0,"p",7)(11,ef,2,0,"p",7)(12,tf,2,0,"p",7)(13,nf,2,5,"p",8),h()(),u(14,"div",2)(15,"label",3)(16,"mat-icon",4),_(17,"people"),h(),_(18),h(),u(19,"div",9),S(20,of,12,4,"div",10),h()(),B(21,"div",11),h()()),i&2){let o,s,l;P("title","Add Member")("isSubmitting",r.isSubmitting)("showCloseButton",!0)("showAddButton",!0),f(2),P("formGroup",r.memberForm),f(8),V((o=r.memberForm.get("email"))!=null&&o.hasError("required")&&((o=r.memberForm.get("email"))!=null&&o.touched)?10:-1),f(),V((s=r.memberForm.get("email"))!=null&&s.hasError("email")&&((s=r.memberForm.get("email"))!=null&&s.touched)?11:-1),f(),V((l=r.memberForm.get("email"))!=null&&l.hasError("alreadyMember")&&((l=r.memberForm.get("email"))!=null&&l.touched)?12:-1),f(),V(r.getUserStatusText()?13:-1),f(5),$(" Current Members (",r.group.members.length,") "),f(2),P("ngForOf",r.group.members)}},dependencies:[Pi,tt,jn,Fn,Bn,Ln,Nn,Vn,Et,Ge,Fs,Bs],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .member-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.75rem;margin:.25rem 0 0;display:flex;align-items:center;gap:.25rem;padding:.5rem;border-radius:6px;font-weight:500}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#059669;background-color:#d1fae5;border:1px solid #a7f3d0}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-found[_ngcontent-%COMP%]{color:#6ee7b7;background-color:#064e3b;border-color:#047857}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#d97706;background-color:#fef3c7;border:1px solid #fde68a}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .status-message.user-not-found[_ngcontent-%COMP%]{color:#fbbf24;background-color:#451a03;border-color:#92400e}.members-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;border:1px solid #e5e7eb;border-radius:8px;background:#f9fafb}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]{max-height:250px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]{max-height:200px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;border-bottom:1px solid #e5e7eb;background:#fff}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.75rem;gap:.5rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:.625rem;gap:.375rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{border-color:#4b5563;background:#1f2937}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center;overflow:hidden;flex-shrink:0}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:36px;height:36px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:32px;height:32px}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{background:#374151}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:20px;width:20px;height:20px}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#374151;font-weight:500;font-size:.875rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#f3f4f6}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;line-height:1.2}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.65rem}}.dark[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#9ca3af}.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem;height:24px;font-weight:500}@media (max-width: 480px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.7rem;height:22px}}@media (max-width: 360px){.members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.65rem;height:20px}}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let a=t;return a})();var eh=(()=>{let t=class t{constructor(e,i,r,o){this.router=e,this.auth=i,this.dialog=r,this.breakpointService=o,this.isSelected=!1,this.isMobile=!1,this.groupSelected=new N,this.addMember=new N,this.deleteGroup=new N}onGroupClick(){this.router.navigate(["dashboard/splitwise/group",this.group.id])}openAddMemberDialog(e){e.stopPropagation(),this.dialog.open(va,{data:{group:this.group},disableClose:!0,panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"desktop-dialog"}).afterClosed().subscribe(r=>{r&&this.addMember.emit({groupId:this.group.id,request:r})})}onDeleteGroup(e){e.stopPropagation(),this.deleteGroup.emit(this.group)}getGroupMemberCount(){return this.group.members.filter(e=>e.isActive).length}getCurrentUserRole(){let e=this.auth.currentUser;if(!e)return"";let i=this.group.members.find(r=>r.userId===e.uid);return(i==null?void 0:i.role)||""}canManageGroup(){let e=this.getCurrentUserRole();return e==="admin"||e==="owner"}formatDate(e){return e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString():""}formatCurrency(e,i="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:i}).format(e)}};t.\u0275fac=function(i){return new(i||t)(v(An),v(Qt),v(dn),v(hn))},t.\u0275cmp=j({type:t,selectors:[["app-group"]],inputs:{group:"group",isSelected:"isSelected",isMobile:"isMobile"},outputs:{groupSelected:"groupSelected",addMember:"addMember",deleteGroup:"deleteGroup"},decls:32,vars:11,consts:[["groupMenu","matMenu"],[1,"group-item",3,"click"],[1,"group-info"],[1,"group-header"],[1,"group-title-section"],[1,"group-name"],[1,"group-meta"],[1,"member-count"],[1,"member-text"],[1,"created-date"],[1,"group-actions"],["mat-icon-button","",1,"menu-trigger",3,"click","matMenuTriggerFor"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","",1,"menu-item","delete-action",3,"click"]],template:function(i,r){if(i&1){let o=ee();u(0,"div",1),T("click",function(){return E(o),A(r.onGroupClick())}),u(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),_(5),z(6,"titlecase"),h(),u(7,"div",6)(8,"span",7)(9,"mat-icon"),_(10,"people"),h(),u(11,"span",8),_(12),h()(),u(13,"span",9),_(14),h()()()()(),u(15,"div",10)(16,"button",11),T("click",function(l){return E(o),A(l.stopPropagation())}),u(17,"mat-icon"),_(18,"more_vert"),h()(),u(19,"mat-menu",12,0)(21,"button",13),T("click",function(l){return E(o),A(r.openAddMemberDialog(l))}),u(22,"mat-icon"),_(23,"person_add"),h(),u(24,"span"),_(25,"Add Member"),h()(),B(26,"mat-divider"),u(27,"button",14),T("click",function(l){return E(o),A(r.onDeleteGroup(l))}),u(28,"mat-icon"),_(29,"delete"),h(),u(30,"span"),_(31,"Delete Group"),h()()()()()}if(i&2){let o=Mi(20);H("selected",r.isSelected)("mobile",r.isMobile),f(5),R(U(6,9,r.group.name)),f(7),$("",r.getGroupMemberCount()," members"),f(2),$("Created ",r.formatDate(r.group.createdAt),""),f(2),P("matMenuTriggerFor",o),Pe("aria-label","More options for "+r.group.name)}},dependencies:[Ts,Et,Ge,Es,Is,As,gs],styles:[".group-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:16px;border:1px solid #e0e0e0;border-radius:12px;margin-bottom:12px;cursor:pointer;transition:all .2s ease;background:#fff;position:relative;min-height:80px}.group-item[_ngcontent-%COMP%]:hover{border-color:#1976d2;box-shadow:0 4px 12px #1976d226;transform:translateY(-1px)}.group-item.selected[_ngcontent-%COMP%]{border-color:#1976d2;background:#f3f8ff;box-shadow:0 4px 12px #1976d233}.group-item.mobile[_ngcontent-%COMP%]{padding:12px;min-height:70px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item.mobile[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item.mobile[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{flex:1;min-width:0;margin-right:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.1rem;font-weight:600;color:#333;line-height:1.3;word-break:break-word}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.8rem;color:#666;font-weight:500}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#1976d2}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   .member-text[_ngcontent-%COMP%]{white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.75rem;color:#999;white-space:nowrap}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:flex-start}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]:hover{color:#1976d2;background-color:#1976d20a}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#f443360a}@media (max-width: 768px){.group-item[_ngcontent-%COMP%]{padding:12px;margin-bottom:8px;min-height:70px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{margin-right:8px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:8px;flex-direction:row;align-items:center}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:32px;height:32px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media (max-width: 480px){.group-item[_ngcontent-%COMP%]{padding:10px;min-height:65px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:4px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]{gap:6px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.7rem}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}.group-item[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-title-section[_ngcontent-%COMP%]   .group-meta[_ngcontent-%COMP%]   .created-date[_ngcontent-%COMP%]{font-size:.65rem}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{width:28px;height:28px}.group-item[_ngcontent-%COMP%]   .group-actions[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}"]});let a=t;return a})();var th=(a,t)=>t.id;function df(a,t){if(a&1){let n=ee();u(0,"div",17)(1,"div",18)(2,"div",19)(3,"h4"),_(4),h(),u(5,"p"),_(6),h(),u(7,"small"),_(8),h()(),u(9,"div",20)(10,"button",21),T("click",function(){let i=E(n).$implicit,r=M(2);return A(r.acceptInvitation(i))}),u(11,"mat-icon"),_(12,"check"),h(),_(13," Accept "),h(),u(14,"button",22),T("click",function(){let i=E(n).$implicit,r=M(2);return A(r.declineInvitation(i))}),u(15,"mat-icon"),_(16,"close"),h(),_(17," Decline "),h()()()()}if(a&2){let n=t.$implicit,e=M(2);f(4),R(n.groupName),f(2),$("Invited by ",n.invitedByDisplayName,""),f(2),R(e.formatDate(n.createdAt))}}function mf(a,t){if(a&1&&(u(0,"div",14)(1,"mat-card",15)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),_(5,"mail"),h(),_(6," Pending Invitations "),h()(),u(7,"mat-card-content")(8,"div",16),wt(9,df,18,3,"div",17,th),h()()()()),a&2){let n=M();f(9),Mt(n.invitations)}}function uf(a,t){if(a&1){let n=ee();u(0,"app-group",23),T("addMember",function(i){E(n);let r=M();return A(r.handleAddMember(i))})("deleteGroup",function(i){E(n);let r=M();return A(r.deleteGroup(i))}),h()}if(a&2){let n=t.$implicit,e=M();P("group",n)("isSelected",!1)("isMobile",e.isMobile)}}var ih=(()=>{let t=class t{constructor(e,i,r,o,s,l){this.breakpointObserver=e,this.auth=i,this.store=r,this.dialog=o,this.notificationService=s,this.breakpointService=l,this.groups=[],this.invitations=[],this.isMobile=!1,this.currentUser=null,this.error=null,this.destroy$=new ue,this.breakpointObserver.observe([an.Handset]).pipe(De(this.destroy$)).subscribe(c=>{this.isMobile=c.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.loadData(),this.subscribeToStore()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(_a).pipe(De(this.destroy$)).subscribe(e=>{this.groups=e.groups,this.invitations=e.invitations,this.error=e.error,this.error&&(this.notificationService.error(this.error),this.store.dispatch(Zn()))})}loadData(){this.store.dispatch(ma()),this.store.dispatch(ua())}openCreateGroupDialog(){this.dialog.open(Zu,{disableClose:!0,panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"desktop-dialog"}).afterClosed().subscribe(i=>{i&&this.store.dispatch(ha({request:i}))})}handleAddMember(e){this.store.dispatch(un(e))}acceptInvitation(e){this.store.dispatch(pa({invitationId:e.id}))}declineInvitation(e){this.store.dispatch(ga({invitationId:e.id}))}deleteGroup(e){this.dialog.open(Tr,{width:"300px",data:{title:"Delete Group",message:`Are you sure you want to delete the group "${e.name}"?`,confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(i=>{i&&this.store.dispatch(Kn({groupId:e.id}))})}formatDate(e){return e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString():""}formatCurrency(e,i="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:i}).format(e)}};t.\u0275fac=function(i){return new(i||t)(v(zn),v(Qt),v(Qe),v(dn),v(ln),v(hn))},t.\u0275cmp=j({type:t,selectors:[["app-splitwise"]],decls:21,vars:1,consts:[[1,"splitwise-container"],[1,"header"],[1,"header-content"],[1,"title-section"],[1,"title-icon"],[1,"title"],[1,"subtitle"],[1,"header-actions"],["mat-raised-button","","color","primary",1,"create-group-btn",3,"click"],[1,"main-content"],["class","invitations-section",4,"ngIf"],[1,"groups-section"],[1,"groups-list"],[3,"group","isSelected","isMobile"],[1,"invitations-section"],[1,"invitations-card"],[1,"invitations-list"],[1,"invitation-item"],[1,"invitation-info"],[1,"invitation-details"],[1,"invitation-actions"],["mat-button","","color","primary",1,"accept-btn",3,"click"],["mat-button","","color","warn",1,"decline-btn",3,"click"],[3,"addMember","deleteGroup","group","isSelected","isMobile"]],template:function(i,r){i&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),_(5,"group"),h(),u(6,"h1",5),_(7,"Splitwise"),h(),u(8,"p",6),_(9,"Split expenses with friends and family"),h()(),u(10,"div",7)(11,"button",8),T("click",function(){return r.openCreateGroupDialog()}),u(12,"mat-icon"),_(13,"add"),h(),_(14," Create Group "),h()()()(),u(15,"div",9),S(16,mf,11,0,"div",10),u(17,"div",11)(18,"div",12),wt(19,uf,1,3,"app-group",13,th),h()()()()),i&2&&(f(16),P("ngIf",r.invitations.length>0),f(3),Mt(r.groups))},dependencies:[tt,Xn,la,ca,sa,It,Ge,eh],styles:[".splitwise-container[_ngcontent-%COMP%]{background:#f9fafb;padding:20px}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}}.header[_ngcontent-%COMP%]{margin-bottom:30px}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));padding:1rem;border-radius:1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;color:#fff}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:2.5rem;font-weight:700}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem}}.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffffe6;margin:0;font-size:1.1rem}@media (max-width: 768px){.header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem}}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;font-weight:600;padding:12px 24px;border-radius:25px;transition:all .3s ease}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;border-color:#ffffff80;transform:translateY(-2px)}.header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .create-group-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;color:#fff}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1.1rem}.main-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.invitations-section[_ngcontent-%COMP%]{margin-bottom:30px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]{padding:15px 0;border-bottom:1px solid #eee}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media (max-width: 768px){.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#333;font-weight:600}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 5px;color:#666}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#999;font-size:.85rem}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background:#45a049}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff}.invitations-section[_ngcontent-%COMP%]   .invitations-card[_ngcontent-%COMP%]   .invitations-list[_ngcontent-%COMP%]   .invitation-item[_ngcontent-%COMP%]   .invitation-info[_ngcontent-%COMP%]   .invitation-actions[_ngcontent-%COMP%]   .decline-btn[_ngcontent-%COMP%]:hover{background:#da190b}.groups-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:30px}@media (max-width: 1024px){.groups-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fffffff2;border-radius:15px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#ccc;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin:0 0 10px;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 30px;font-size:1.1rem}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:12px 24px;border-radius:25px;font-weight:600}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;box-shadow:0 8px 32px #0000001a}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#333;font-weight:600;font-size:1.3rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:30px}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{flex-direction:column}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-expense-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]{border-color:#667eea;color:#667eea;flex:1}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .add-member-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;margin:0 0 20px;font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0;border-bottom:1px solid #eee}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#999;font-size:1.5rem;width:1.5rem;height:1.5rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#333;font-weight:500;font-size:1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{color:#999;font-size:.8rem;text-transform:capitalize}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.group-details[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#f44336}.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}@media (max-width: 768px){.splitwise-container[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]{margin-bottom:20px}.groups-section[_ngcontent-%COMP%]{gap:15px}.details-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 480px){.splitwise-container[_ngcontent-%COMP%]{padding:8px}.header[_ngcontent-%COMP%]{margin-bottom:15px}.groups-section[_ngcontent-%COMP%]{gap:10px}}"]});let a=t;return a})();function hf(a,t){a&1&&B(0,"mat-spinner",33)}function pf(a,t){a&1&&(u(0,"mat-icon"),_(1,"check"),h())}function gf(a,t){a&1&&(u(0,"p",19),_(1,"Total amount is required"),h())}function ff(a,t){a&1&&(u(0,"p",19),_(1,"Amount must be greater than 0"),h())}function _f(a,t){if(a&1&&(u(0,"div",34)(1,"span",35),_(2,"Difference:"),h(),u(3,"span",36),_(4),u(5,"span",37),_(6),h()()()),a&2){let n=M();f(3),H("positive",n.getTotalSplitAmount()>n.totalAmount)("negative",n.getTotalSplitAmount()<n.totalAmount),f(),$(" ",n.formatCurrency(n.Math.abs(n.getTotalSplitAmount()-n.totalAmount))," "),f(2),R(n.getTotalSplitAmount()>n.totalAmount?"Over":"Under")}}function bf(a,t){if(a&1&&B(0,"img",60),a&2){let n,e,i=M().$implicit,r=M();P("src",r.getMemberPhotoURL((n=i.get("userId"))==null?null:n.value),Pr)("alt",(e=i.get("displayName"))==null?null:e.value)}}function vf(a,t){if(a&1&&(u(0,"div",61),_(1),h()),a&2){let n,e=M().$implicit,i=M();f(),$(" ",i.getMemberInitials((n=e.get("displayName"))==null?null:n.value)," ")}}function yf(a,t){if(a&1){let n=ee();u(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",41),S(4,bf,1,2,"img",42)(5,vf,2,1,"div",43),h(),u(6,"div",44)(7,"span",45),_(8),h(),u(9,"span",46),_(10),h()()(),u(11,"button",47),T("click",function(){let i=E(n).index,r=M();return A(r.removeSplit(i))}),u(12,"mat-icon"),_(13,"delete"),h()()(),u(14,"div",48)(15,"div",49)(16,"div",50)(17,"label",51),_(18,"Amount"),h(),u(19,"div",52),B(20,"input",53),u(21,"span",54),_(22),h()()(),u(23,"div",50)(24,"label",51),_(25,"Percentage"),h(),u(26,"div",52),B(27,"input",55),u(28,"span",54),_(29,"%"),h()()()(),u(30,"div",56)(31,"label",57),B(32,"input",58),u(33,"span",59),_(34,"Paid"),h()()()()()}if(a&2){let n,e,i,r,o=t.$implicit,s=t.index,l=M();P("formGroupName",s),f(4),P("ngIf",l.getMemberPhotoURL((n=o.get("userId"))==null?null:n.value)),f(),P("ngIf",!l.getMemberPhotoURL((e=o.get("userId"))==null?null:e.value)),f(3),R((i=o.get("displayName"))==null?null:i.value),f(2),R((r=o.get("email"))==null?null:r.value),f(12),R(l.transaction.currency||"USD")}}function Cf(a,t){if(a&1&&B(0,"img",60),a&2){let n=M().$implicit;P("src",n.photoURL,Pr)("alt",n.displayName)}}function xf(a,t){if(a&1&&(u(0,"div",61),_(1),h()),a&2){let n=M().$implicit,e=M(2);f(),$(" ",e.getMemberInitials(n.displayName)," ")}}function wf(a,t){if(a&1){let n=ee();u(0,"button",67),T("click",function(){let i=E(n).$implicit,r=M(2);return A(r.addMemberSplit(i))}),u(1,"div",41),S(2,Cf,1,2,"img",42)(3,xf,2,1,"div",43),h(),u(4,"div",40)(5,"span",45),_(6),h(),u(7,"span",46),_(8),h()(),u(9,"mat-icon",68),_(10,"add"),h()()}if(a&2){let n=t.$implicit;f(2),P("ngIf",n.photoURL),f(),P("ngIf",!n.photoURL),f(3),R(n.displayName),f(2),R(n.email)}}function Mf(a,t){if(a&1&&(u(0,"div",62)(1,"div",63)(2,"div",64),_(3,"Available Members"),h(),u(4,"div",65),S(5,wf,11,4,"button",66),h()()()),a&2){let n=M();f(5),P("ngForOf",n.getAvailableMembers())}}function Pf(a,t){if(a&1&&(u(0,"div",72)(1,"mat-icon"),_(2,"error"),h(),u(3,"span"),_(4),z(5,"number"),h()()),a&2){let n=M(2);f(4),$("Total percentage must equal 100% (currently ",dc(5,1,n.getTotalPercentage(),"1.1-1"),"%)")}}function Of(a,t){if(a&1&&(u(0,"div",73)(1,"mat-icon"),_(2,"warning"),h(),u(3,"span"),_(4),h()()),a&2){let n=M(2);f(4),vn("Split amounts don't match transaction total (",n.formatCurrency(n.Math.abs(n.getTotalSplitAmount()-n.totalAmount))," ",n.getTotalSplitAmount()>n.totalAmount?"over":"under",")")}}function kf(a,t){if(a&1&&(u(0,"div",69),S(1,Pf,6,4,"div",70)(2,Of,5,2,"div",71),h()),a&2){let n=M();f(),P("ngIf",n.Math.abs(n.getTotalPercentage()-100)>.01),f(),P("ngIf",n.Math.abs(n.getTotalSplitAmount()-n.totalAmount)>.01)}}var rh=(()=>{let t=class t{constructor(e,i,r){this.fb=e,this.dialogRef=i,this.data=r,this.totalAmount=0,this.splitMode="percentage",this.isSubmitting=!1,this.Math=Math,this.transaction=r.transaction,this.groupMembers=r.groupMembers,this.totalAmount=this.transaction.totalAmount}ngOnInit(){this.initForm()}initForm(){var e;this.editForm=this.fb.group({totalAmount:[this.transaction.totalAmount,[Ne.required,Ne.min(.01)]],splits:this.fb.array([])}),this.transaction.splits.forEach(i=>{this.addSplit(i)}),(e=this.editForm.get("totalAmount"))==null||e.valueChanges.subscribe(i=>{this.totalAmount=i,this.updateSplitPercentages()})}get splitsArray(){return this.editForm.get("splits")}addSplit(e){var r,o;let i=this.fb.group({userId:[(e==null?void 0:e.userId)||"",Ne.required],displayName:[(e==null?void 0:e.displayName)||"",Ne.required],email:[(e==null?void 0:e.email)||"",Ne.required],amount:[(e==null?void 0:e.amount)||0,[Ne.required,Ne.min(0)]],percentage:[(e==null?void 0:e.percentage)||0,[Ne.required,Ne.min(0),Ne.max(100)]],isPaid:[(e==null?void 0:e.isPaid)||!1]});this.splitsArray.push(i),(r=i.get("amount"))==null||r.valueChanges.subscribe(s=>{if(this.totalAmount>0&&s!==null&&s!==void 0){let l=s/this.totalAmount*100;i.patchValue({percentage:Math.round(l*100)/100},{emitEvent:!1})}}),(o=i.get("percentage"))==null||o.valueChanges.subscribe(s=>{if(s!=null){let l=s/100*this.totalAmount;i.patchValue({amount:Math.round(l*100)/100},{emitEvent:!1})}})}removeSplit(e){this.splitsArray.removeAt(e),this.updateSplitPercentages()}updateSplitPercentages(){this.splitsArray.controls.forEach(i=>{var o;let r=((o=i.get("amount"))==null?void 0:o.value)||0;if(this.totalAmount>0&&r!==null&&r!==void 0){let s=r/this.totalAmount*100;i.patchValue({percentage:Math.round(s*100)/100},{emitEvent:!1})}})}updateSplitAmounts(){this.splitsArray.controls.forEach(i=>{var o;let r=((o=i.get("percentage"))==null?void 0:o.value)||0;if(r!=null){let s=r/100*this.totalAmount;i.patchValue({amount:Math.round(s*100)/100},{emitEvent:!1})}})}addMemberSplit(e){if(!this.splitsArray.controls.find(r=>{var o;return((o=r.get("userId"))==null?void 0:o.value)===e.userId})){let r=this.fb.group({userId:[e.userId,Ne.required],displayName:[e.displayName],email:[e.email,Ne.required],amount:[0,[Ne.required,Ne.min(0)]],percentage:[0,[Ne.required,Ne.min(0),Ne.max(100)]],isPaid:[!1]});this.splitsArray.push(r),this.updateSplitPercentages()}}getAvailableMembers(){let e=this.splitsArray.controls.map(i=>{var r;return(r=i.get("userId"))==null?void 0:r.value});return this.groupMembers.filter(i=>!e.includes(i.userId))}getTotalPercentage(){return this.splitsArray.controls.reduce((e,i)=>{var r;return e+(((r=i.get("percentage"))==null?void 0:r.value)||0)},0)}getTotalSplitAmount(){return this.splitsArray.controls.reduce((e,i)=>{var r;return e+(((r=i.get("amount"))==null?void 0:r.value)||0)},0)}isFormValid(){let e=this.getTotalPercentage();return this.editForm.valid&&Math.abs(e-100)<.01}onCancel(){this.dialogRef.close()}onSave(){if(this.isFormValid()){let e=this.editForm.value,i={totalAmount:e.totalAmount,splits:e.splits.map(r=>({userId:r.userId,displayName:r.displayName,email:r.email,amount:r.amount,percentage:r.percentage,isPaid:r.isPaid}))};this.dialogRef.close(i)}}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:this.transaction.currency||"USD"}).format(e)}setSplitMode(e){this.splitMode=e,e==="percentage"?this.updateSplitPercentages():this.updateSplitAmounts()}getMemberPhotoURL(e){let i=this.groupMembers.find(r=>r.userId===e);return(i==null?void 0:i.photoURL)||null}getMemberInitials(e){return e?e.split(" ").map(i=>i.charAt(0)).join("").toUpperCase().slice(0,2):"?"}};t.\u0275fac=function(i){return new(i||t)(v($n),v(cn),v(Yn))},t.\u0275cmp=j({type:t,selectors:[["app-edit-transaction-dialog"]],decls:71,vars:27,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Save Changes",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"transaction-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],[1,"amount-input-container"],["type","number","formControlName","totalAmount","step","0.01","min","0.01","placeholder","0.00",1,"form-input"],[1,"currency-suffix"],[1,"field-footer"],[1,"error-message"],[1,"split-mode-selector"],["type","button",1,"mode-option",3,"click"],[1,"field-subtitle"],[1,"split-balance-info"],[1,"balance-item"],[1,"balance-label"],[1,"balance-amount"],["class","balance-difference",4,"ngIf"],["formArrayName","splits",1,"splits-list"],["class","split-item",3,"formGroupName",4,"ngFor","ngForOf"],["class","add-member-section",4,"ngIf"],["class","validation-section",4,"ngIf"],[1,"bottom-spacing"],["diameter","16"],[1,"balance-difference"],[1,"difference-label"],[1,"difference-amount"],[1,"difference-type"],[1,"split-item",3,"formGroupName"],[1,"split-header"],[1,"member-info"],[1,"member-avatar"],["class","avatar-image",3,"src","alt",4,"ngIf"],["class","avatar-placeholder",4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],["type","button","mat-icon-button","",1,"remove-btn",3,"click"],[1,"split-controls"],[1,"split-input-group"],[1,"input-field"],[1,"input-label"],[1,"input-container"],["type","number","formControlName","amount","step","0.01","min","0","placeholder","0.00",1,"split-input"],[1,"input-suffix"],["type","number","formControlName","percentage","step","0.1","min","0","max","100","placeholder","0.0",1,"split-input"],[1,"paid-toggle"],[1,"toggle-label"],["type","checkbox","formControlName","isPaid",1,"toggle-checkbox"],[1,"toggle-text"],[1,"avatar-image",3,"src","alt"],[1,"avatar-placeholder"],[1,"add-member-section"],[1,"available-members"],[1,"section-label"],[1,"members-grid"],["type","button","class","member-option",3,"click",4,"ngFor","ngForOf"],["type","button",1,"member-option",3,"click"],[1,"add-icon"],[1,"validation-section"],["class","validation-item error",4,"ngIf"],["class","validation-item warning",4,"ngIf"],[1,"validation-item","error"],[1,"validation-item","warning"]],template:function(i,r){if(i&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),T("click",function(){return r.onCancel()}),u(4,"mat-icon"),_(5,"arrow_back"),h()(),u(6,"h6",4),_(7," Edit Transaction "),h()(),u(8,"button",5),T("click",function(){return r.onCancel()}),u(9,"mat-icon"),_(10,"close"),h()(),u(11,"button",6),T("click",function(){return r.onSave()}),S(12,hf,1,0,"mat-spinner",7)(13,pf,2,0,"mat-icon",8),_(14),h()()(),u(15,"div",9)(16,"div",10)(17,"form",11),T("ngSubmit",function(){return r.onSave()}),u(18,"div",12)(19,"label",13)(20,"mat-icon",14),_(21,"attach_money"),h(),_(22," Total Amount * "),h(),u(23,"div",15),B(24,"input",16),u(25,"span",17),_(26),h()(),u(27,"div",18),S(28,gf,2,0,"p",19)(29,ff,2,0,"p",19),h()(),u(30,"div",12)(31,"label",13)(32,"mat-icon",14),_(33,"settings"),h(),_(34," Split Mode "),h(),u(35,"div",20)(36,"button",21),T("click",function(){return r.setSplitMode("percentage")}),u(37,"mat-icon"),_(38,"percent"),h(),u(39,"span"),_(40,"Percentage"),h()(),u(41,"button",21),T("click",function(){return r.setSplitMode("amount")}),u(42,"mat-icon"),_(43,"account_balance_wallet"),h(),u(44,"span"),_(45,"Amount"),h()()()(),u(46,"div",12)(47,"label",13)(48,"mat-icon",14),_(49,"people"),h(),_(50," Splits "),u(51,"span",22),_(52),z(53,"number"),h()(),u(54,"div",23)(55,"div",24)(56,"span",25),_(57,"Split Total:"),h(),u(58,"span",26),_(59),h()(),u(60,"div",24)(61,"span",25),_(62,"Transaction Total:"),h(),u(63,"span",26),_(64),h()(),S(65,_f,7,6,"div",27),h(),u(66,"div",28),S(67,yf,35,6,"div",29),h(),S(68,Mf,6,1,"div",30),h(),S(69,kf,3,2,"div",31),B(70,"div",32),h()()()),i&2){let o,s;f(11),P("disabled",!r.isFormValid()||r.isSubmitting),f(),P("ngIf",r.isSubmitting),f(),P("ngIf",!r.isSubmitting),f(),$(" ",r.isSubmitting?"Saving...":"Save"," "),f(3),P("formGroup",r.editForm),f(9),R(r.transaction.currency||"USD"),f(2),V((o=r.editForm.get("totalAmount"))!=null&&o.hasError("required")&&((o=r.editForm.get("totalAmount"))!=null&&o.touched)?28:-1),f(),V((s=r.editForm.get("totalAmount"))!=null&&s.hasError("min")&&((s=r.editForm.get("totalAmount"))!=null&&s.touched)?29:-1),f(7),H("selected",r.splitMode==="percentage"),f(5),H("selected",r.splitMode==="amount"),f(11),vn("(",dc(53,24,r.getTotalPercentage(),"1.1-1"),"% \u2022 ",r.formatCurrency(r.getTotalSplitAmount()),")"),f(3),H("over",r.getTotalSplitAmount()>r.totalAmount)("under",r.getTotalSplitAmount()<r.totalAmount),f(4),R(r.formatCurrency(r.getTotalSplitAmount())),f(5),R(r.formatCurrency(r.totalAmount)),f(),P("ngIf",r.Math.abs(r.getTotalSplitAmount()-r.totalAmount)>.01),f(2),P("ngForOf",r.splitsArray.controls),f(),P("ngIf",r.getAvailableMembers().length>0),f(),P("ngIf",!r.isFormValid())}},dependencies:[Pi,tt,jn,Fn,bs,Zm,Bn,Ln,xs,Cs,Nn,Vn,vs,ys,It,Et,Ge,oa,Wn,Km],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .transaction-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .transaction-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .transaction-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-subtitle[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:400;margin-left:auto}.amount-input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 3rem .875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem 2.5rem .75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem 2.25rem .625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.amount-input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.amount-input-container[_ngcontent-%COMP%]   .currency-suffix[_ngcontent-%COMP%]{position:absolute;right:1rem;color:#6b7280;font-size:.875rem;font-weight:500;pointer-events:none}@media (max-width: 480px){.amount-input-container[_ngcontent-%COMP%]   .currency-suffix[_ngcontent-%COMP%]{right:.875rem;font-size:.8rem}}@media (max-width: 360px){.amount-input-container[_ngcontent-%COMP%]   .currency-suffix[_ngcontent-%COMP%]{right:.75rem;font-size:.75rem}}.split-mode-selector[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.75rem}@media (max-width: 480px){.split-mode-selector[_ngcontent-%COMP%]{gap:.5rem}}@media (max-width: 360px){.split-mode-selector[_ngcontent-%COMP%]{gap:.375rem}}.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:1rem;border:2px solid #e5e7eb;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:80px}@media (max-width: 480px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]{padding:.75rem;min-height:70px;gap:.375rem}}@media (max-width: 360px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]{padding:.625rem;min-height:60px;gap:.25rem}}.dark[_ngcontent-%COMP%]   .split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]{border-color:#4b5563}.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff}.split-mode-selector[_ngcontent-%COMP%]   .mode-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#dbeafe;color:#1d4ed8}.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}@media (max-width: 480px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}@media (max-width: 360px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}}.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}@media (max-width: 480px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}}@media (max-width: 360px){.split-mode-selector[_ngcontent-%COMP%]   .mode-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}}.split-balance-info[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:1rem;margin-bottom:1rem}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]{padding:.875rem}}@media (max-width: 360px){.split-balance-info[_ngcontent-%COMP%]{padding:.75rem}}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid #e2e8f0}.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{border-color:#374151}.split-balance-info[_ngcontent-%COMP%]   .balance-item.over[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{color:#dc2626;font-weight:600}.split-balance-info[_ngcontent-%COMP%]   .balance-item.under[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{color:#ea580c;font-weight:600}.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-label[_ngcontent-%COMP%]{font-size:.8rem}}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-label[_ngcontent-%COMP%]{color:#9ca3af}.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:.875rem;color:#1f2937;font-weight:600}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:.8rem}}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{color:#f9fafb}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;margin-top:.5rem;border-top:2px solid #e2e8f0;background:#f1f5f9;border-radius:6px;padding:.75rem}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]{border-color:#374151;background:#374151}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-label[_ngcontent-%COMP%]{font-size:.8rem}}.dark[_ngcontent-%COMP%]   .split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-label[_ngcontent-%COMP%]{color:#9ca3af}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:600}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount[_ngcontent-%COMP%]{font-size:.8rem}}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount.positive[_ngcontent-%COMP%]{color:#dc2626}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount.negative[_ngcontent-%COMP%]{color:#ea580c}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount[_ngcontent-%COMP%]   .difference-type[_ngcontent-%COMP%]{font-size:.75rem;padding:.125rem .375rem;border-radius:4px;font-weight:500;text-transform:uppercase}@media (max-width: 480px){.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount[_ngcontent-%COMP%]   .difference-type[_ngcontent-%COMP%]{font-size:.7rem;padding:.1rem .25rem}}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount.positive[_ngcontent-%COMP%]   .difference-type[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.split-balance-info[_ngcontent-%COMP%]   .balance-difference[_ngcontent-%COMP%]   .difference-amount.negative[_ngcontent-%COMP%]   .difference-type[_ngcontent-%COMP%]{background:#fff7ed;color:#ea580c;border:1px solid #fed7aa}.splits-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:1rem}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{padding:.875rem}}@media (max-width: 360px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{padding:.75rem}}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;flex-shrink:0}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:36px;height:36px}}@media (max-width: 360px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:32px;height:32px}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;justify-content:center;font-size:.875rem;font-weight:600;text-transform:uppercase}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{font-size:.75rem}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:0}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:.875rem;line-height:1.2;margin-bottom:.125rem}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#f9fafb}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.75rem}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 360px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.65rem}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{color:#ef4444;min-width:32px;width:32px;height:32px}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{background:#fef2f2}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.75rem}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]{gap:.5rem}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:#374151;margin-bottom:.375rem;display:block}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{color:#f3f4f6}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .split-input[_ngcontent-%COMP%]{width:100%;padding:.625rem 2rem .625rem .75rem;border:1px solid #d1d5db;border-radius:6px;background:transparent;font-size:14px;min-height:40px;transition:all .2s ease}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .split-input[_ngcontent-%COMP%]{padding:.5rem 1.75rem .5rem .625rem;min-height:36px;font-size:13px}}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .split-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .split-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f61a}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .split-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-suffix[_ngcontent-%COMP%]{position:absolute;right:.75rem;color:#6b7280;font-size:.75rem;font-weight:500;pointer-events:none}@media (max-width: 480px){.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .split-input-group[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-suffix[_ngcontent-%COMP%]{right:.625rem;font-size:.7rem}}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border-radius:6px;transition:background-color .2s ease}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]:hover{background:#f3f4f6}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]:hover{background:#374151}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]   .toggle-checkbox[_ngcontent-%COMP%]{width:18px;height:18px;accent-color:#3b82f6}.splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151}.dark[_ngcontent-%COMP%]   .splits-list[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-controls[_ngcontent-%COMP%]   .paid-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{color:#f3f4f6}.add-member-section[_ngcontent-%COMP%]{margin-top:1rem}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151;margin-bottom:.75rem}.dark[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{color:#f3f4f6}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem;border:1px solid #e5e7eb;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s ease;text-align:left}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]{padding:.625rem;gap:.625rem}}.dark[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.dark[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]:hover{background:#1e3a8a}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;overflow:hidden;flex-shrink:0}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:32px;height:32px}}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:600;text-transform:uppercase}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{font-size:.75rem}}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:0}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:.875rem;line-height:1.2;margin-bottom:.125rem}.dark[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{color:#f9fafb}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:.8rem}}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:.7rem}}.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.25rem;width:1.25rem;height:1.25rem;flex-shrink:0}@media (max-width: 480px){.add-member-section[_ngcontent-%COMP%]   .available-members[_ngcontent-%COMP%]   .members-grid[_ngcontent-%COMP%]   .member-option[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}}.validation-section[_ngcontent-%COMP%]{margin-top:1rem}.validation-section[_ngcontent-%COMP%]   .validation-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem;border-radius:6px;margin-bottom:.5rem}.validation-section[_ngcontent-%COMP%]   .validation-item.error[_ngcontent-%COMP%]{background:#fef2f2;border:1px solid #fecaca;color:#dc2626}.validation-section[_ngcontent-%COMP%]   .validation-item.error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#dc2626;font-size:1rem;width:1rem;height:1rem}.validation-section[_ngcontent-%COMP%]   .validation-item.error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.validation-section[_ngcontent-%COMP%]   .validation-item.warning[_ngcontent-%COMP%]{background:#fff7ed;border:1px solid #fed7aa;color:#ea580c}.validation-section[_ngcontent-%COMP%]   .validation-item.warning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ea580c;font-size:1rem;width:1rem;height:1rem}.validation-section[_ngcontent-%COMP%]   .validation-item.warning[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}"]});let a=t;return a})();var tl=(()=>{let t=class t{constructor(){}toDate(e){try{if(!e)return null;if(e instanceof Date)return e;if(e instanceof mi)return e.toDate();if(e&&typeof e=="object"&&"seconds"in e)return new mi(e.seconds,e.nanoseconds).toDate();if(typeof e=="number")return new Date(e);if(typeof e=="string"){let i=new Date(e);return isNaN(i.getTime())?null:i}return e&&typeof e.toDate=="function"?e.toDate():null}catch(i){return console.error("Error converting timestamp to date:",i,e),null}}toTimestamp(e){try{if(!e)return null;if(e instanceof mi)return e;if(e instanceof Date)return mi.fromDate(e);if(typeof e=="number")return mi.fromDate(new Date(e));if(typeof e=="string"){let i=new Date(e);if(!isNaN(i.getTime()))return mi.fromDate(i)}return e&&typeof e.toDate=="function"?mi.fromDate(e.toDate()):null}catch(i){return console.error("Error converting date to timestamp:",i,e),null}}fromFormDate(e){try{if(!e)return null;let i=new Date(e);return isNaN(i.getTime())?null:mi.fromDate(i)}catch(i){return console.error("Error converting form date to timestamp:",i,e),null}}now(){return mi.fromDate(new Date)}compare(e,i){let r=this.toDate(e),o=this.toDate(i);return!r&&!o?0:r?o?r.getTime()-o.getTime():1:-1}sortByDate(e,i,r=!1){return[...e].sort((o,s)=>{let l=this.toDate(o[i]),c=this.toDate(s[i]);if(!l&&!c)return 0;if(!l)return r?-1:1;if(!c)return r?1:-1;let d=l.getTime()-c.getTime();return r?d:-d})}filterByDateRange(e,i,r,o){let s=this.toDate(r),l=this.toDate(o);return!s&&!l?e:e.filter(c=>{let d=this.toDate(c[i]);return d?s&&l?d>=s&&d<=l:s?d>=s:l?d<=l:!0:!1})}isValidDate(e){let i=this.toDate(e);return i!==null&&!isNaN(i.getTime())}formatDate(e,i="MM/DD/YYYY"){let r=this.toDate(e);if(!r)return"Invalid Date";let o=r.getDate().toString().padStart(2,"0"),s=(r.getMonth()+1).toString().padStart(2,"0"),l=r.getFullYear();return i.replace("MM",s).replace("DD",o).replace("YYYY",l.toString())}toISOString(e){let i=this.toDate(e);return i?i.toISOString().split("T")[0]:""}getRelativeTime(e){let i=this.toDate(e);if(!i)return"Unknown";let o=Math.floor((new Date().getTime()-i.getTime())/1e3);if(o<60)return"Just now";if(o<3600){let s=Math.floor(o/60);return`${s} minute${s>1?"s":""} ago`}else if(o<86400){let s=Math.floor(o/3600);return`${s} hour${s>1?"s":""} ago`}else if(o<2592e3){let s=Math.floor(o/86400);return`${s} day${s>1?"s":""} ago`}else return this.formatDate(i)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();var oh=(()=>{let t=class t{constructor(){this.isSupported="vibrate"in navigator,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}isHapticSupported(){return this.isSupported&&this.isMobile}isMobileDevice(){return this.isMobile}lightVibration(){if(this.isHapticSupported())try{navigator.vibrate(10)}catch(e){console.warn("Vibration failed:",e)}}mediumVibration(){if(this.isHapticSupported())try{navigator.vibrate(100)}catch(e){console.warn("Vibration failed:",e)}}heavyVibration(){if(this.isHapticSupported())try{navigator.vibrate(200)}catch(e){console.warn("Vibration failed:",e)}}customVibration(e){if(this.isHapticSupported())try{navigator.vibrate(e)}catch(i){console.warn("Vibration failed:",i)}}vibrate(e={}){if(!this.isHapticSupported())return;let{duration:i=100,pattern:r,intensity:o="medium"}=e;try{if(r)navigator.vibrate(r);else{let s=i;switch(o){case"light":s=50;break;case"medium":s=100;break;case"heavy":s=200;break}navigator.vibrate(s)}}catch(s){console.warn("Vibration failed:",s)}}successVibration(){if(this.isHapticSupported())try{navigator.vibrate([50,100,50])}catch(e){console.warn("Vibration failed:",e)}}errorVibration(){if(this.isHapticSupported())try{navigator.vibrate([100,50,100,50,100])}catch(e){console.warn("Vibration failed:",e)}}warningVibration(){if(this.isHapticSupported())try{navigator.vibrate([100,100,100])}catch(e){console.warn("Vibration failed:",e)}}buttonClick(){this.lightVibration()}navigationClick(){this.mediumVibration()}importantAction(){this.heavyVibration()}stopVibration(){if(this.isSupported)try{navigator.vibrate(0)}catch(e){console.warn("Stop vibration failed:",e)}}testVibration(){if(!this.isHapticSupported()){console.log("Haptic feedback not supported on this device");return}console.log("Testing haptic feedback..."),this.lightVibration(),setTimeout(()=>{this.mediumVibration()},qt.PERFORMANCE.DEBOUNCE_DELAY),setTimeout(()=>{this.heavyVibration()},qt.PERFORMANCE.DEBOUNCE_DELAY*2)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();var ya=(()=>{let t=class t{constructor(e,i,r,o,s,l){this.firestore=e,this.auth=i,this.notificationService=r,this.dateService=o,this.userService=s,this.hapticFeedback=l}getUserGroups(e){let i=this.auth.currentUser;if(!(i!=null&&i.email))return _e([]);let r=Kt(this.firestore,"splitwise-groups"),o=ki(r,ni("isActive","==",!0),ta("createdAt","desc"));return Ue(Oi(o)).pipe(ne(s=>s.docs.map(l=>X({id:l.id},l.data())).filter(l=>l.members.some(c=>{var d;return c.email.toLowerCase()===((d=i.email)==null?void 0:d.toLowerCase())&&c.isActive}))),st(s=>(console.error("Error fetching user groups:",s),_e([]))))}getGroupById(e){return Vt(_t(this.firestore,"splitwise-groups",e)).then(i=>i.exists()?X({id:i.id},i.data()):null)}createGroup(e,i){let r=this.auth.currentUser;if(!r)throw new Error("User not authenticated");let o={name:e.name,description:e.description||"",createdBy:i,members:[{userId:r.uid,email:r.email||"",displayName:r.displayName||r.email||"",photoURL:r.photoURL||"",role:Fr.ADMIN,joinedAt:new Date,isActive:!0}],currency:e.currency||"USD",createdAt:new Date,updatedAt:new Date,isActive:!0,syncStatus:fc.SYNCED},s=Kt(this.firestore,"splitwise-groups");return Ue(za(s,o)).pipe(ne(l=>X({id:l.id},o)))}deleteGroup(e,i){let r=_t(this.firestore,"splitwise-groups",e);return Ue(Di(r,{isActive:!1,updatedAt:new Date}))}getUserInvitations(e){let i=this.auth.currentUser;if(!(i!=null&&i.email))return _e([]);let r=Kt(this.firestore,"splitwise-invitations"),o=ki(r,ni("invitedEmail","==",i.email),ni("status","==","pending"),ta("createdAt","desc"));return Ue(Oi(o)).pipe(ne(s=>s.docs.map(l=>X({id:l.id},l.data()))),ne(s=>s.filter(l=>!this.isInvitationExpired(l))),st(s=>(console.error("Error fetching invitations:",s),_e([]))))}isInvitationExpired(e){let i;return e.expiresAt instanceof mi?i=e.expiresAt.toDate():e.expiresAt instanceof Date?i=e.expiresAt:i=new Date(e.expiresAt),i<new Date}markExpiredInvitations(e){return ut(this,null,function*(){try{let i=this.auth.currentUser;if(!(i!=null&&i.email))return;let r=Kt(this.firestore,"splitwise-invitations"),o=ki(r,ni("invitedEmail","==",i.email),ni("status","==","pending")),s=yield Oi(o),l=ru(this.firestore),c=!1;s.docs.forEach(d=>{let p=d.data();this.isInvitationExpired(p)&&(l.update(d.ref,{status:ba.EXPIRED,updatedAt:new Date}),c=!0)}),c&&(yield l.commit())}catch(i){console.error("Error marking expired invitations:",i)}})}acceptInvitation(e,i){return ut(this,null,function*(){try{let r=this.auth.currentUser;if(!r)throw new Error("User not authenticated");let o=_t(this.firestore,"splitwise-invitations",e),s=yield Vt(o);if(!s.exists())throw new Error("Invitation not found");let l=s.data();yield Di(o,{status:ba.ACCEPTED,updatedAt:new Date});let c=_t(this.firestore,"splitwise-groups",l.groupId),d=yield Vt(c);if(!d.exists())throw new Error("Group not found");let g=d.data().members.map(m=>{var C;return m.email.toLowerCase()===l.invitedEmail.toLowerCase()?ce(X({},m),{userId:r.uid,displayName:r.displayName||((C=r.email)==null?void 0:C.split("@")[0])||m.displayName,photoURL:r.photoURL||m.photoURL,isActive:!0}):m});yield Di(c,{members:g,updatedAt:new Date}),this.notificationService.success(`Successfully joined ${l.groupName}!`)}catch(r){throw console.error("Error accepting invitation:",r),this.notificationService.error("Failed to accept invitation"),r}})}declineInvitation(e,i){return ut(this,null,function*(){try{if(!this.auth.currentUser)throw new Error("User not authenticated");let o=_t(this.firestore,"splitwise-invitations",e),s=yield Vt(o);if(!s.exists())throw new Error("Invitation not found");let l=s.data();yield Di(o,{status:ba.DECLINED,updatedAt:new Date});let c=_t(this.firestore,"splitwise-groups",l.groupId),d=yield Vt(c);if(d.exists()){let g=d.data().members.filter(m=>m.email.toLowerCase()!==l.invitedEmail.toLowerCase());yield Di(c,{members:g,updatedAt:new Date})}this.notificationService.success(`Invitation to ${l.groupName} declined`)}catch(r){throw console.error("Error declining invitation:",r),this.notificationService.error("Failed to decline invitation"),r}})}addMemberToGroup(e,i,r){return ut(this,null,function*(){var o;try{if(!this.auth.currentUser)throw new Error("User not authenticated");let l=_t(this.firestore,"splitwise-groups",e),c=yield Vt(l);if(!c.exists())throw new Error("Group not found");let d=c.data();if(d.members.find(m=>m.email.toLowerCase()===i.email.toLowerCase()))throw new Error("User is already a member of this group");let g=yield this.userService.findUserByEmail(i.email);if(g){yield this.sendGroupInvitation(e,i.email,r);let m={userId:g.uid,email:i.email,displayName:g.firstName||((o=g.email)==null?void 0:o.split("@")[0])||i.email.split("@")[0],photoURL:g.photoURL||"",role:i.role||Fr.MEMBER,joinedAt:new Date,isActive:!1},C=[...d.members,m];return yield Di(l,{members:C,updatedAt:new Date}),this.notificationService.success(`Invitation sent to ${i.email}`),ce(X({id:e},d),{members:C,updatedAt:new Date})}else{let m={userId:"",email:i.email,displayName:i.email.split("@")[0],role:i.role||Fr.MEMBER,joinedAt:new Date,isActive:!1},C=[...d.members,m];return yield Di(l,{members:C,updatedAt:new Date}),yield this.sendGroupInvitation(e,i.email,r),this.notificationService.success(`Invitation sent to ${i.email}. They will be added when they register and accept.`),ce(X({id:e},d),{members:C,updatedAt:new Date})}}catch(s){throw console.error("Error adding member to group:",s),this.notificationService.error(s instanceof Error?s.message:"Failed to add member"),s}})}getGroupTransactions(e,i){let r=Kt(this.firestore,"splitwise-transactions"),o=ki(r,ni("groupId","==",e),ta("createdAt","desc"));return Ue(Oi(o)).pipe(ne(s=>s.docs.map(l=>X({id:l.id},l.data()))),st(s=>(console.error("Error fetching group transactions:",s),_e([]))))}getGroupSettlements(e,i){let r=Kt(this.firestore,"splitwise-settlements"),o=ki(r,ni("groupId","==",e),ta("createdAt","desc"));return Ue(Oi(o)).pipe(ne(s=>s.docs.map(l=>X({id:l.id},l.data()))),st(s=>(console.error("Error fetching group settlements:",s),_e([]))))}getSettlementsByTransaction(e){let i=Kt(this.firestore,"splitwise-settlements"),r=ki(i,ni("originalTransactionId","==",e),ta("createdAt","desc"));return Ue(Oi(r)).pipe(ne(o=>o.docs.map(s=>X({id:s.id},s.data()))),st(o=>(console.error("Error fetching settlements by transaction:",o),_e([]))))}createSplitTransaction(e,i){if(!this.auth.currentUser)throw new Error("User not authenticated");let o={groupId:e.groupId,originalTransactionId:e.originalTransactionId,amount:e.amount,createdBy:i,splits:e.splits.map(l=>ce(X({},l),{email:l.email||"",displayName:l.displayName||""})),totalAmount:e.amount,currency:"USD",createdAt:new Date,updatedAt:new Date,syncStatus:fc.SYNCED},s=Kt(this.firestore,"splitwise-transactions");return Ue(za(s,o)).pipe(ne(l=>X({id:l.id},o)))}getGroup(e){return Ue(Vt(_t(this.firestore,"splitwise-groups",e))).pipe(ne(i=>i.exists()?X({id:i.id},i.data()):null))}updateGroup(e,i){return ut(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");let s={updatedAt:new Date};i.name&&(s.name=i.name),i.description!==void 0&&(s.description=i.description),i.currency&&(s.currency=i.currency),yield Di(_t(this.firestore,"splitwise-groups",e),s),this.notificationService.success("Group updated successfully")}catch(o){throw console.error("Error updating group:",o),this.notificationService.error("Failed to update group"),o}})}removeMemberFromGroup(e,i,r){return ut(this,null,function*(){try{if(!r)throw new Error("User not authenticated");let o=_t(this.firestore,"splitwise-groups",e),s=yield Vt(o);if(!s.exists())throw new Error("Group not found");let c=s.data().members.filter(d=>d.userId!==i);yield Di(o,{members:c,updatedAt:new Date}),this.notificationService.success("Member removed successfully")}catch(o){throw console.error("Error removing member:",o),this.notificationService.error("Failed to remove member"),o}})}getSplitTransaction(e){return Ue(Vt(_t(this.firestore,"splitwise-transactions",e))).pipe(ne(i=>i.exists()?X({id:i.id},i.data()):null))}updateSplitTransaction(e,i){return ut(this,null,function*(){var r;try{if(!((r=this.auth.currentUser)==null?void 0:r.uid))throw new Error("User not authenticated");let s={updatedAt:new Date};if(i.payee&&(s.payee=i.payee),i.amount&&(s.amount=i.amount),i.type&&(s.type=i.type),i.date&&(s.date=this.dateService.toTimestamp(i.date)),i.notes!==void 0&&(s.notes=i.notes),i.categoryId&&(s.categoryId=i.categoryId),i.category&&(s.category=i.category),i.splits){let l=yield Vt(_t(this.firestore,"splitwise-transactions",e));if(!l.exists())throw new Error("Transaction not found");let c=l.data(),p=(yield Vt(_t(this.firestore,"splitwise-groups",c.groupId))).data(),g=i.splits.map(m=>{let C=p.members.find(b=>b.userId===m.userId);return ce(X({},m),{email:(C==null?void 0:C.email)||"",displayName:(C==null?void 0:C.displayName)||"",isPaid:m.isPaid!==void 0?m.isPaid:!1})});s.splits=g,i.amount&&(s.totalAmount=i.amount)}yield Di(_t(this.firestore,"splitwise-transactions",e),s),this.notificationService.success("Split transaction updated successfully")}catch(o){throw console.error("Error updating split transaction:",o),this.notificationService.error("Failed to update split transaction"),o}})}deleteSplitTransaction(e,i){return ut(this,null,function*(){try{if(!i)throw new Error("User not authenticated");let r=ki(Kt(this.firestore,"splitwise-transactions"),ni("originalTransactionId","==",e)),o=yield Oi(r);if(o.empty)throw new Error("Transaction not found");let l=o.docs[0].data().splits.map(c=>ce(X({},c),{amount:-c.amount}));yield hc(o.docs[0].ref),yield this.cleanupSettlementsForTransaction(e),this.notificationService.success("Split transaction deleted successfully")}catch(r){throw console.error("Error deleting split transaction:",r),this.notificationService.error("Failed to delete split transaction"),r}})}cleanupSettlementsForTransaction(e){return ut(this,null,function*(){try{let i=Kt(this.firestore,"splitwise-settlements"),r=ki(i,ni("originalTransactionId","==",e)),o=yield Oi(r);if(!o.empty){let s=o.docs.map(l=>hc(l.ref));yield Promise.all(s),console.log(`Cleaned up ${o.docs.length} settlements for transaction ${e}`)}}catch(i){console.error("Error cleaning up settlements for transaction:",i)}})}createSettlement(e){return ut(this,null,function*(){var i;try{if(!((i=this.auth.currentUser)==null?void 0:i.uid))throw new Error("User not authenticated");let o=yield Vt(_t(this.firestore,"splitwise-groups",e.groupId));if(!o.exists())throw new Error("Group not found");let s=o.data(),l={groupId:e.groupId,originalTransactionId:e.originalTransactionId,fromUserId:e.fromUserId,toUserId:e.toUserId,amount:e.amount,currency:s.currency||"USD",status:vo.PENDING,notes:e.notes||"",createdAt:new Date,updatedAt:new Date};return(yield za(Kt(this.firestore,"splitwise-settlements"),l)).id}catch(r){throw console.error("Error creating settlement:",r),r}})}completeSettlement(e){return ut(this,null,function*(){var i;try{if(!((i=this.auth.currentUser)==null?void 0:i.uid))throw new Error("User not authenticated");yield Di(_t(this.firestore,"splitwise-settlements",e),{status:vo.COMPLETED,settledAt:new Date,updatedAt:new Date});let s=(yield Vt(_t(this.firestore,"splitwise-settlements",e))).data()}catch(r){throw console.error("Error completing settlement:",r),r}})}sendGroupInvitation(e,i,r){return ut(this,null,function*(){try{let o=this.auth.currentUser;if(!o)throw new Error("User not authenticated");let l=(yield Vt(_t(this.firestore,"splitwise-groups",e))).data(),c={groupId:e,groupName:l.name,invitedBy:r,invitedByEmail:o.email||"",invitedByDisplayName:o.displayName||"",invitedEmail:i,status:ba.PENDING,expiresAt:new Date(Date.now()+7*24*60*60*1e3),createdAt:new Date,updatedAt:new Date};yield za(Kt(this.firestore,"splitwise-invitations"),c)}catch(o){throw console.error("Error sending invitation:",o),o}})}getGroupSummary(e){return ut(this,null,function*(){var d;if(!((d=this.auth.currentUser)==null?void 0:d.uid))throw new Error("User not authenticated");let[r,o]=yield Promise.all([Oi(ki(Kt(this.firestore,"splitwise-transactions"),ni("groupId","==",e))),Oi(ki(Kt(this.firestore,"splitwise-settlements"),ni("groupId","==",e),ni("status","==",vo.PENDING)))]),l=(yield Vt(_t(this.firestore,"splitwise-groups",e))).data(),c=r.docs.reduce((p,g)=>{let m=g.data();return p+m.amount},0);return{groupId:e,totalTransactions:r.docs.length,totalAmount:c,averageAmount:r.docs.length>0?c/r.docs.length:0,memberCount:l.members.length,activeMemberCount:l.members.filter(p=>p.isActive).length,pendingSettlements:o.docs.length,lastActivity:new Date}})}getMemberBalances(e){return ut(this,null,function*(){var c;if(!((c=this.auth.currentUser)==null?void 0:c.uid))throw new Error("User not authenticated");let o=(yield Vt(_t(this.firestore,"splitwise-groups",e))).data(),s=yield Oi(ki(Kt(this.firestore,"splitwise-transactions"),ni("groupId","==",e))),l=new Map;return o.members.forEach(d=>{l.set(d.userId,{userId:d.userId,email:d.email,displayName:d.displayName,totalPaid:0,totalOwed:0,netBalance:0,transactionCount:0})}),s.docs.forEach(d=>{d.data().splits.forEach(g=>{let m=l.get(g.userId);m&&(m.transactionCount++,g.amount>0?m.totalPaid+=g.amount:m.totalOwed+=Math.abs(g.amount),m.netBalance=m.totalPaid-m.totalOwed)})}),Array.from(l.values())})}sharePWA(){this.hapticFeedback.buttonClick();let e={title:"Money Manager",text:"Check out this amazing money management app!",url:`${su.baseUrl}/#sign-in`};navigator.share&&navigator.canShare(e)?navigator.share(e).then(()=>{console.log("Shared successfully")}).catch(i=>{console.log("Error sharing:",i),this.fallbackShare(e.url)}):this.fallbackShare(e.url)}fallbackShare(e){navigator.clipboard.writeText(e).then(()=>{alert("PWA link copied to clipboard!")}).catch(()=>{let i=document.createElement("textarea");i.value=e,document.body.appendChild(i),i.select();try{document.execCommand("copy"),alert("PWA link copied to clipboard!")}catch{alert("Failed to copy link. Please copy manually: "+e)}document.body.removeChild(i)})}};t.\u0275fac=function(i){return new(i||t)(Ae(nu),Ae(Qt),Ae(ln),Ae(tl),Ae(Gn),Ae(oh))},t.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();var il=(()=>{let t=class t{constructor(e){this.userService=e,this.currentCurrencySubject=new $i(gc),this.currentCurrency$=this.currentCurrencySubject.asObservable(),this.initializeCurrency()}initializeCurrency(){return ut(this,null,function*(){var e;try{let i=yield this.userService.getCurrentUser();(e=i==null?void 0:i.preferences)!=null&&e.defaultCurrency&&this.setCurrentCurrency(i.preferences.defaultCurrency)}catch(i){console.error("Error initializing currency:",i)}})}getCurrencies(){return pc}getCurrentCurrency(){return this.currentCurrencySubject.value}setCurrentCurrency(e){this.isValidCurrency(e)&&this.currentCurrencySubject.next(e)}getCurrencySymbol(e){let i=e||this.getCurrentCurrency();return ou(i)}getCurrencyByCode(e){return au(e)}isValidCurrency(e){return pc.some(i=>i.code===e)}getDefaultCurrency(){return gc}formatAmount(e,i){let r=i||this.getCurrentCurrency();return new Intl.NumberFormat(qt.LANGUAGE.DEFAULT,{style:"currency",currency:r}).format(e)}};t.\u0275fac=function(i){return new(i||t)(Ae(Gn))},t.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();var ch=new ge("CdkAccordion");var Tf=0,dh=(()=>{let t=class t{get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let i=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,i)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=ot.EMPTY,this.closed=new N,this.opened=new N,this.destroyed=new N,this.expandedChange=new N,this.id=`cdk-accordion-child-${Tf++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}};t.\u0275fac=function(i){return new(i||t)(v(ch,12),v(Ce),v(Ds))},t.\u0275dir=re({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",Z],disabled:[2,"disabled","disabled",Z]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[Ee([{provide:ch,useValue:void 0}]),Fe]});let a=t;return a})(),mh=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({});let a=t;return a})();var If=["body"],Ef=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Af=["mat-expansion-panel-header","*","mat-action-row"];function Rf(a,t){}var Ff=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Bf=["mat-panel-title","mat-panel-description","*"];function Lf(a,t){if(a&1&&(u(0,"span",1),nn(),u(1,"svg",2),B(2,"path",3),h()()),a&2){let n=M();P("@indicatorRotate",n._getExpandedState())}}var uh=new ge("MAT_ACCORDION"),hh="225ms cubic-bezier(0.4,0.0,0.2,1)",gh={indicatorRotate:zt("indicatorRotate",[Ke("collapsed, void",Oe({transform:"rotate(0deg)"})),Ke("expanded",Oe({transform:"rotate(180deg)"})),it("expanded <=> collapsed, void => collapsed",rt(hh))]),bodyExpansion:zt("bodyExpansion",[Ke("collapsed, void",Oe({height:"0px",visibility:"hidden"})),Ke("expanded",Oe({height:"*",visibility:""})),it("expanded <=> collapsed, void => collapsed",rt(hh))])},fh=new ge("MAT_EXPANSION_PANEL"),jf=(()=>{let t=class t{constructor(e,i){this._template=e,this._expansionPanel=i}};t.\u0275fac=function(i){return new(i||t)(v(Tt),v(fh,8))},t.\u0275dir=re({type:t,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0});let a=t;return a})(),Nf=0,_h=new ge("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),Ac=(()=>{let t=class t extends dh{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,i,r,o,s,l,c){super(e,i,r),this._viewContainerRef=o,this._animationMode=l,this._hideToggle=!1,this.afterExpand=new N,this.afterCollapse=new N,this._inputChanges=new ue,this._headerId=`mat-expansion-panel-header-${Nf++}`,this.accordion=e,this._document=s,this._animationsDisabled=l==="NoopAnimations",c&&(this.hideToggle=c.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(fi(null),Ct(()=>this.expanded&&!this._portal),En(1)).subscribe(()=>{this._portal=new Ua(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}_animationStarted(e){var i;!ph(e)&&!this._animationsDisabled&&this._body&&((i=this._body)==null||i.nativeElement.setAttribute("inert",""))}_animationDone(e){ph(e)||(e.toState==="expanded"?this.afterExpand.emit():e.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}};t.\u0275fac=function(i){return new(i||t)(v(uh,12),v(Ce),v(Ds),v(ii),v(Ui),v(Ft,8),v(_h,8))},t.\u0275cmp=j({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,o){if(i&1&&$e(o,jf,5),i&2){let s;Q(s=K())&&(r._lazyContent=s.first)}},viewQuery:function(i,r){if(i&1&&Ie(If,5),i&2){let o;Q(o=K())&&(r._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,r){i&2&&H("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",Z],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[Ee([{provide:uh,useValue:void 0},{provide:fh,useExisting:t}]),Fe,je,pt,le],ngContentSelectors:Af,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){if(i&1){let o=ee();ze(Ef),be(0),u(1,"div",1,0),T("@bodyExpansion.start",function(l){return E(o),A(r._animationStarted(l))})("@bodyExpansion.done",function(l){return E(o),A(r._animationDone(l))}),u(3,"div",2),be(4,1),S(5,Rf,0,0,"ng-template",3),h(),be(6,2),h()}i&2&&(f(),P("@bodyExpansion",r._getExpandedState())("id",r.id),Pe("aria-labelledby",r._headerId),f(4),P("cdkPortalOutlet",r._portal))},dependencies:[yn],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[gh.bodyExpansion]},changeDetection:0});let a=t;return a})();function ph(a){return a.fromState==="void"}var bh=(()=>{let t=class t{constructor(e,i,r,o,s,l,c){this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=l,this._parentChangeSubscription=ot.EMPTY,this.tabIndex=0;let d=e.accordion?e.accordion._stateChanges.pipe(Ct(p=>!!(p.hideToggle||p.togglePosition))):is;this.tabIndex=parseInt(c||"")||0,this._parentChangeSubscription=ht(e.opened,e.closed,d,e._inputChanges.pipe(Ct(p=>!!(p.hideToggle||p.disabled||p.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Ct(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:_i(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}};t.\u0275fac=function(i){return new(i||t)(v(Ac,1),v(ye),v(on),v(Ce),v(_h,8),v(Ft,8),zi("tabindex"))},t.\u0275cmp=j({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,r){i&1&&T("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),i&2&&(Pe("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),We("height",r._getHeaderHeight()),H("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before")("_mat-animation-noopable",r._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Pt(e)]},standalone:!0,features:[Fe,le],ngContentSelectors:Bf,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,r){i&1&&(ze(Ff),u(0,"span",0),be(1),be(2,1),be(3,2),h(),S(4,Lf,3,1,"span",1)),i&2&&(H("mat-content-hide-toggle",!r._showToggle()),f(4),V(r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[gh.indicatorRotate]},changeDetection:0});let a=t;return a})();var vh=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=re({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0});let a=t;return a})();var yo=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({imports:[He,mh,Ps]});let a=t;return a})();function $f(a,t){a&1&&(u(0,"div",5),B(1,"mat-spinner",6),u(2,"p"),_(3,"Loading group details..."),h()())}function zf(a,t){a&1&&(u(0,"span",50),_(1,"(You)"),h())}function Hf(a,t){if(a&1&&(u(0,"span",51),_(1),h()),a&2){let n=M().$implicit,e=M(3);f(),$(" ",e.getCurrentUserStatus(n.netBalance)," ")}}function Uf(a,t){if(a&1&&(u(0,"div",41)(1,"div",42)(2,"div",43),_(3),z(4,"titlecase"),S(5,zf,2,0,"span",44),h(),u(6,"div",45)(7,"span",46),_(8),h(),u(9,"span",47),_(10),h()()(),u(11,"div",48),_(12),S(13,Hf,2,1,"span",49),h()()),a&2){let n=t.$implicit,e=M(3);H("current-user",n.userId===(e.currentUser==null?null:e.currentUser.uid)),f(3),$(" ",U(4,10,n.displayName)," "),f(2),P("ngIf",n.userId===(e.currentUser==null?null:e.currentUser.uid)),f(3),$("Paid: ",e.formatCurrency(n.totalPaid),""),f(2),$("Owed: ",e.formatCurrency(n.totalOwed),""),f(),Xe(e.getBalanceColor(n.netBalance)),f(),$(" ",e.formatCurrency(n.netBalance)," "),f(),P("ngIf",n.userId===(e.currentUser==null?null:e.currentUser.uid))}}function Gf(a,t){a&1&&(u(0,"span"),_(1," All balances are settled!"),h())}function Yf(a,t){a&1&&(u(0,"span"),_(1,"See who owes what to whom"),h())}function Wf(a,t){if(a&1&&(u(0,"div",57)(1,"div",58)(2,"mat-icon"),_(3),h(),u(4,"span",59),_(5),h()(),u(6,"div",60),_(7),h()()),a&2){let n=t.$implicit,e=M(4);Xe(n.type),f(2),Xe(n.type==="owes"?"arrow_upward":"arrow_downward"),f(),$(" ",n.type==="owes"?"arrow_upward":"arrow_downward"," "),f(2),R(n.message),f(),Xe(n.type),f(),$(" ",e.formatCurrency(n.amount)," ")}}function Xf(a,t){a&1&&(u(0,"div",61)(1,"mat-icon"),_(2,"check_circle"),h(),u(3,"span"),_(4,"All are settled!"),h()())}function Qf(a,t){if(a&1&&(u(0,"div",52)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"mat-icon"),_(5,"account_tree"),h(),S(6,Gf,2,0,"span",53)(7,Yf,2,0,"span",53),h()(),u(8,"div",54),S(9,Wf,8,9,"div",55)(10,Xf,5,0,"div",56),h()()()),a&2){let n=M(3);f(6),P("ngIf",n.getDetailedBalanceBreakdown(n.currentUser.uid).length===0),f(),P("ngIf",n.getDetailedBalanceBreakdown(n.currentUser.uid).length>0),f(2),P("ngForOf",n.getDetailedBalanceBreakdown(n.currentUser.uid)),f(),P("ngIf",n.getDetailedBalanceBreakdown(n.currentUser.uid).length===0)}}function Kf(a,t){if(a&1){let n=ee();u(0,"div",34)(1,"mat-card",35)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),_(5,"account_balance_wallet"),h(),u(6,"div",36)(7,"span"),_(8,"Member Balances"),h(),u(9,"button",37),T("click",function(){E(n);let i=M(2);return A(i.openAddMemberDialog())}),u(10,"mat-icon"),_(11,"add"),h()()()()(),u(12,"mat-card-content")(13,"div",38),S(14,Uf,14,12,"div",39),h(),S(15,Qf,11,4,"div",40),h()()()}if(a&2){let n=M(2);f(14),P("ngForOf",n.getMemberBalances()),f(),P("ngIf",n.currentUser==null?null:n.currentUser.uid)}}function qf(a,t){if(a&1){let n=ee();u(0,"div",66)(1,"div",67)(2,"div",68)(3,"span",69),_(4),h()(),u(5,"div",70)(6,"span",71),_(7),h(),u(8,"mat-icon"),_(9,"arrow_forward"),h(),u(10,"span",72),_(11),h()(),u(12,"div",73),_(13),h()(),u(14,"button",74),T("click",function(){let i=E(n).$implicit,r=M(3);return A(r.createSettlement(i))}),u(15,"mat-icon"),_(16),h(),u(17,"span"),_(18),h()()()}if(a&2){let n=t.$implicit,e=M(3);Xe(n.type),f(4),R(e.getSettlementMessage(n)),f(3),R(n.fromUserName),f(4),R(n.toUserName),f(2),$(" ",e.formatCurrency(n.amount)," "),f(),P("color",n.type==="you_owe"?"warn":"primary")("disabled",n.type==="others"),f(2),R(n.type==="you_owe"?"payment":"check"),f(2),R(n.type==="you_owe"?"Pay":"Settle")}}function Zf(a,t){if(a&1&&(u(0,"div",62)(1,"mat-card",63)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),_(5,"swap_horiz"),h(),u(6,"span"),_(7,"Settlement Suggestions"),h()(),u(8,"mat-card-subtitle"),_(9),h()(),u(10,"mat-card-content")(11,"div",64),S(12,qf,19,10,"div",65),h()()()()),a&2){let n=M(2);f(9),$(" ",n.getSettlementSubtitle()," "),f(3),P("ngForOf",n.getSettlementSuggestions())}}function Jf(a,t){if(a&1){let n=ee();u(0,"div",77),T("click",function(){let i=E(n).$implicit,r=M(3);return A(r.openEditTransactionDialog(i))}),u(1,"div",78)(2,"div",79)(3,"div",80),_(4),h(),u(5,"div",81)(6,"span",82),_(7),h(),u(8,"span",83),_(9),h()()(),u(10,"div",84),_(11),h()()()}if(a&2){let n=t.$implicit,e=M(3);f(4),$(" ",e.getTransactionTitle(n)," "),f(3),$("Paid by ",e.getTransactionCreatorName(n),""),f(2),R(e.formatDate(n.createdAt)),f(2),$(" ",e.formatCurrency(n.totalAmount)," ")}}function e_(a,t){if(a&1&&(u(0,"div",75),S(1,Jf,12,4,"div",76),h()),a&2){let n=M(2);f(),P("ngForOf",n.transactions)}}function t_(a,t){a&1&&(u(0,"div",85)(1,"mat-icon",86),_(2,"receipt"),h(),u(3,"p"),_(4,"No transactions yet"),h()())}function i_(a,t){if(a&1&&(u(0,"div",94),_(1),h()),a&2){let n=M().$implicit,e=M(3);f(),$(" ",e.formatDate(n.settledAt)," ")}}function n_(a,t){if(a&1&&(u(0,"div",91)(1,"div",92)(2,"div",70)(3,"span",71),_(4),h(),u(5,"mat-icon"),_(6,"arrow_forward"),h(),u(7,"span",72),_(8),h()(),u(9,"div",73),_(10),h(),S(11,i_,2,1,"div",93),h()()),a&2){let n=t.$implicit,e=M(3);f(4),R(e.getMemberName(n.fromUserId)),f(4),R(e.getMemberName(n.toUserId)),f(2),$(" ",e.formatCurrency(n.amount)," "),f(),P("ngIf",n.settledAt)}}function r_(a,t){if(a&1&&(u(0,"div",87)(1,"mat-card",88)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),_(5,"check_circle"),h(),u(6,"span"),_(7),h()()(),u(8,"mat-card-content")(9,"div",89),S(10,n_,12,4,"div",90),h()()()()),a&2){let n=M(2);f(7),$("Completed Settlements (",n.getCompletedSettlementsCount(),")"),f(3),P("ngForOf",n.getCompletedSettlements())}}function a_(a,t){if(a&1){let n=ee();u(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"button",11),T("click",function(){E(n);let i=M();return A(i.goBack())}),u(5,"mat-icon",12),T("click",function(){E(n);let i=M();return A(i.goBack())}),_(6,"arrow_back"),h()(),u(7,"span",13),_(8),z(9,"titlecase"),h(),u(10,"button",14)(11,"mat-icon"),_(12,"more_vert"),h()()(),u(13,"div",15)(14,"mat-menu",16,0)(16,"button",17),T("click",function(){E(n);let i=M();return A(i.openAddMemberDialog())}),u(17,"mat-icon"),_(18,"person_add"),h(),u(19,"span"),_(20,"Add Member"),h()(),B(21,"mat-divider"),u(22,"button",18),T("click",function(){E(n);let i=M();return A(i.deleteGroup())}),u(23,"mat-icon"),_(24,"delete"),h(),u(25,"span"),_(26,"Delete Group"),h()()()()()(),u(27,"div",19)(28,"mat-card",20)(29,"div",21)(30,"div",22)(31,"div",23),T("click",function(){E(n);let i=M();return A(i.openAddMemberDialog())}),u(32,"div",24),_(33),h(),u(34,"div",25),_(35,"Members"),h()()(),u(36,"div",22)(37,"div",26)(38,"div",24),_(39),h(),u(40,"div",25),_(41,"Total Balance"),h()()()()()(),S(42,Kf,16,2,"div",27)(43,Zf,13,2,"div",28),u(44,"div",29)(45,"mat-card",30)(46,"mat-card-header")(47,"mat-card-title")(48,"mat-icon"),_(49,"receipt"),h(),u(50,"span"),_(51),h()(),u(52,"mat-card-subtitle"),_(53),h()(),u(54,"mat-card-content"),S(55,e_,2,1,"div",31)(56,t_,5,0,"div",32),h()()(),S(57,r_,11,2,"div",33),h()}if(a&2){let n=Mi(15),e=M();f(8),R(U(9,11,e.group.name)),f(2),P("matMenuTriggerFor",n),f(23),R(e.getGroupMemberCount()),f(6),R(e.formatCurrency(e.getTotalBalance())),f(3),P("ngIf",e.showBalances),f(),P("ngIf",e.getSettlementSuggestions().length>0),f(8),$("Transactions (",e.getTransactionCount(),")"),f(2),$(" Total: ",e.formatCurrency(e.getTotalTransactionAmount())," "),f(2),P("ngIf",e.transactions.length>0),f(),P("ngIf",e.transactions.length===0),f(),P("ngIf",e.getCompletedSettlementsCount()>0)}}function o_(a,t){if(a&1){let n=ee();u(0,"div",95)(1,"mat-icon",96),_(2,"error"),h(),u(3,"h3"),_(4,"Group Not Found"),h(),u(5,"p"),_(6,"The group you're looking for doesn't exist or you don't have access to it."),h(),u(7,"button",97),T("click",function(){E(n);let i=M();return A(i.goBack())}),u(8,"mat-icon"),_(9,"arrow_back"),h(),_(10," Go Back "),h()()}}var yh=(()=>{let t=class t{constructor(e,i,r,o,s,l,c,d,p,g){this.route=e,this.router=i,this.auth=r,this.store=o,this.dialog=s,this.notificationService=l,this.breakpointObserver=c,this.splitwiseService=d,this.currencyService=p,this.breakpointService=g,this.group=null,this.transactions=[],this.settlements=[],this.error=null,this.currentUser=null,this.isMobile=!1,this.isLoading=!1,this.Math=Math,this.showBalances=!0,this.destroy$=new ue,this.breakpointObserver.observe([an.Handset]).pipe(De(this.destroy$)).subscribe(m=>{this.isMobile=m.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(_a).pipe(De(this.destroy$)).subscribe(e=>{this.isLoading=e.loading,this.error=e.error;let i=this.route.snapshot.paramMap.get("id");i&&(this.group=e.groups.find(r=>r.id===i)||null,!this.group&&!this.isLoading&&this.splitwiseService.getGroupById(i).then(r=>{this.group=r})),this.transactions=e.transactions.filter(r=>r.groupId===i),this.settlements=e.settlements.filter(r=>r.groupId===i),this.transactions.length>0&&(console.log("=== DEBUG: Balance Calculations ==="),this.calculateNetBalances(),console.log("=== END DEBUG ===")),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Zn())),console.log("Store state updated:",{loading:e.loading,transactionsCount:e.transactions.length,settlementsCount:e.settlements.length,error:e.error})})}reloadData(){let e=this.route.snapshot.paramMap.get("id");e&&(this.store.dispatch(Ar({groupId:e})),this.store.dispatch(Rr({groupId:e})))}loadGroupDetails(){let e=this.route.snapshot.paramMap.get("id");e&&(this.store.dispatch(Cn({groupId:e})),this.store.dispatch(Ar({groupId:e})),this.store.dispatch(Rr({groupId:e})))}goBack(){this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(va,{data:{group:this.group},disableClose:!0,panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"desktop-dialog"}).afterClosed().subscribe(i=>{i&&(i.action==="delete"?this.store.dispatch(qn({groupId:this.group.id,userId:i.userId})):this.store.dispatch(un({groupId:this.group.id,request:i})))})}deleteGroup(){this.group&&this.dialog.open(Tr,{width:"300px",data:{title:"Delete Group",message:'Are you sure you want to delete the group "${this.group.name}"?',confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(e=>{var i;e&&(this.store.dispatch(Kn({groupId:(i=this.group)==null?void 0:i.id})),this.goBack())})}getCurrentUserRole(){if(!this.group||!this.currentUser)return"";let e=this.group.members.find(i=>i.userId===this.currentUser.uid);return(e==null?void 0:e.role)||""}canManageGroup(){return this.getCurrentUserRole()==="admin"}getGroupMemberCount(){var e;return((e=this.group)==null?void 0:e.members.filter(i=>i.isActive).length)||0}formatDate(e){return e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString():""}formatCurrency(e){return this.currencyService.formatAmount(e)}getTotalBalance(){return this.group?this.transactions.reduce((e,i)=>e+i.splits.reduce((r,o)=>r+o.amount,0),0):0}calculateNetBalances(){let e={};for(let r of this.transactions){let o=r.createdBy;for(let s of r.splits){let{userId:l,amount:c}=s;l!==o&&(e[l]||(e[l]={}),e[l][o]||(e[l][o]=0),e[l][o]+=c)}}for(let r of this.settlements){if(r.status==="cancelled")continue;let{fromUserId:o,toUserId:s,amount:l}=r;e[o]||(e[o]={}),e[o][s]||(e[o][s]=0),e[o][s]-=l}return this.simplifyBalances(e)}simplifyBalances(e){var o,s;let i={},r=new Set;for(let l in e)for(let c in e[l]){let d=`${l}_${c}`,p=`${c}_${l}`;if(r.has(d)||r.has(p))continue;let g=((o=e[l])==null?void 0:o[c])||0,m=((s=e[c])==null?void 0:s[l])||0,C=g-m;C>0?(i[l]||(i[l]={}),i[l][c]=Math.round(C*100)/100):C<0&&(i[c]||(i[c]={}),i[c][l]=Math.round(-C*100)/100),r.add(d),r.add(p)}return i}getMemberBalances(){if(!this.group)return[];let e=this.calculateNetBalances(),i=[];return this.group.members.forEach(r=>{let o=e[r.userId]||{},s=0;Object.values(o).forEach(d=>{d>0&&(s+=d)});let l=0;this.transactions.forEach(d=>{if(d.createdBy===r.userId){let p=d.splits.find(g=>g.userId===r.userId);p?l+=d.totalAmount-p.amount:l+=d.totalAmount}});let c=l-s;i.push({userId:r.userId,displayName:r.displayName,email:r.email,totalPaid:l,totalOwed:s,netBalance:c,simplifiedBalances:o})}),i.sort((r,o)=>o.netBalance-r.netBalance)}getDetailedBalanceBreakdown(e){let i=this.calculateNetBalances(),r=i[e]||{},o=[];return Object.entries(r).forEach(([s,l])=>{l>0&&o.push({type:"owes",otherUserId:s,otherUserName:this.getMemberName(s),amount:l,message:`${this.getMemberName(e)} owes ${this.getMemberName(s)} ${this.formatCurrency(l)}`})}),Object.keys(i).forEach(s=>{if(s!==e){let c=(i[s]||{})[e]||0;c>0&&o.push({type:"owed",otherUserId:s,otherUserName:this.getMemberName(s),amount:c,message:`${this.getMemberName(s)} owes ${this.getMemberName(e)} ${this.formatCurrency(c)}`})}}),o.sort((s,l)=>l.amount-s.amount)}getBalanceBetweenUsers(e,i){var l,c;let r=this.calculateNetBalances(),o=((l=r[e])==null?void 0:l[i])||0,s=((c=r[i])==null?void 0:c[e])||0;return o-s}getBalanceSummary(){let e=this.getMemberBalances(),i=e.filter(o=>o.netBalance<0),r=e.filter(o=>o.netBalance>0);return{owes:i,owed:r}}getSettlementSuggestions(){var l;let e=this.getMemberBalances(),i=[],r=this.transactions;if(!((l=this.currentUser)!=null&&l.uid))return i;let o=e.find(c=>c.userId===this.currentUser.uid);if(!o)return i;let s=o.netBalance;if(s<0){let c=Math.abs(s);e.filter(p=>p.netBalance>0&&p.userId!==this.currentUser.uid).forEach(p=>{var C,b;let g=p.netBalance,m=this.getBalanceBetweenUsers(this.currentUser.uid,p.userId);if(m>0){let x=Math.min(m,g);x>0&&i.push({fromUserId:this.currentUser.uid,fromUserName:o.displayName,toUserId:p.userId,toUserName:p.displayName,amount:x,currency:((C=this.group)==null?void 0:C.currency)||"USD",type:"you_owe",originalTransactionId:((b=r.find(y=>y.splits.some(w=>w.userId===p.userId)))==null?void 0:b.originalTransactionId)||""})}})}else if(s>0){let c=s;e.filter(p=>p.netBalance<0&&p.userId!==this.currentUser.uid).forEach(p=>{var m,C;let g=this.getBalanceBetweenUsers(p.userId,this.currentUser.uid);if(g>0){let b=Math.min(g,c);b>0&&i.push({fromUserId:p.userId,fromUserName:p.displayName,toUserId:this.currentUser.uid,toUserName:o.displayName,amount:b,currency:((m=this.group)==null?void 0:m.currency)||"USD",type:"owed_to_you",originalTransactionId:((C=r.find(x=>x.splits.some(y=>y.userId===p.userId)))==null?void 0:C.originalTransactionId)||""})}})}else{let c=e.filter(p=>p.netBalance<0&&p.userId!==this.currentUser.uid),d=e.filter(p=>p.netBalance>0&&p.userId!==this.currentUser.uid);c.forEach(p=>{let m=Math.abs(p.netBalance);d.forEach(C=>{var y,w;if(m<=0)return;let b=C.netBalance,x=this.getBalanceBetweenUsers(p.userId,C.userId);if(x>0){let O=Math.min(m,b,x);O>0&&(i.push({fromUserId:p.userId,fromUserName:p.displayName,toUserId:C.userId,toUserName:C.displayName,amount:O,currency:((y=this.group)==null?void 0:y.currency)||"USD",type:"others",originalTransactionId:((w=r.find(D=>D.splits.some(F=>F.userId===p.userId)))==null?void 0:w.originalTransactionId)||""}),m-=O)}})})}return i.filter(c=>!this.settlements.find(p=>p.fromUserId===c.fromUserId&&p.toUserId===c.toUserId&&p.status!=="cancelled"))}createSettlement(e){var r;if(!this.group){this.notificationService.error("Group not found");return}if(!((r=this.currentUser)!=null&&r.uid)){this.notificationService.error("User not authenticated");return}this.dialog.open(Tr,{width:"400px",data:{title:"Settlement",message:`Confirm settlement of ${this.formatCurrency(e.amount)} from ${e.fromUserName} to ${e.toUserName}?`,confirmText:"Confirm",cancelText:"Cancel"}}).afterClosed().subscribe(o=>{if(o)try{console.log("Creating settlement:",e),this.store.dispatch(fa({groupId:this.group.id,fromUserId:e.fromUserId,toUserId:e.toUserId,amount:e.amount,notes:"Settlement created from balance summary",originalTransactionId:e.originalTransactionId})),this.notificationService.success("Settlement created successfully"),setTimeout(()=>{this.reloadData()},1e3)}catch(s){console.error("Error creating settlement:",s),this.notificationService.error("Failed to create settlement")}})}toggleBalanceDisplay(){this.showBalances=!this.showBalances}getBalanceColor(e){return e>0?"positive":e<0?"negative":"neutral"}getSettlementSubtitle(){var r;if(!((r=this.currentUser)!=null&&r.uid))return"Quick settlements to balance the group";let i=this.getMemberBalances().find(o=>o.userId===this.currentUser.uid);return i?i.netBalance<0?"You owe money to these members":i.netBalance>0?"These members owe you money":"Other members can settle their balances":"Quick settlements to balance the group"}getSettlementMessage(e){switch(e.type){case"you_owe":return`You owe ${e.toUserName}`;case"owed_to_you":return`${e.fromUserName} owes you`;case"others":return`${e.fromUserName} owes ${e.toUserName}`;default:return"Settlement suggestion"}}getCurrentUserStatus(e){return e<0?"(You owe)":e>0?"(You are owed)":"(Balanced)"}getSettlementStatus(e,i){let r=this.settlements.find(o=>o.fromUserId===e&&o.toUserId===i);return r?{exists:!0,status:r.status,amount:r.amount}:{exists:!1,status:"",amount:0}}isSettlementPending(e,i){return!!this.settlements.find(o=>o.fromUserId===e&&o.toUserId===i&&o.status==="pending")}isSettlementCompleted(e,i){return!!this.settlements.find(o=>o.fromUserId===e&&o.toUserId===i&&o.status==="completed")}getExistingSettlementsSummary(){var r;if(!((r=this.currentUser)!=null&&r.uid))return[];let e=[];return this.settlements.filter(o=>(o.fromUserId===this.currentUser.uid||o.toUserId===this.currentUser.uid)&&o.status!=="cancelled").forEach(o=>{let s=o.fromUserId===this.currentUser.uid,l=s?o.toUserId:o.fromUserId,c=this.getMemberName(l);e.push({fromUserId:o.fromUserId,fromUserName:this.getMemberName(o.fromUserId),toUserId:o.toUserId,toUserName:this.getMemberName(o.toUserId),amount:o.amount,currency:o.currency,status:o.status,isInvolvingCurrentUser:!0,isFromCurrentUser:s,otherUserName:c})}),e}getPendingSettlementsCount(){return this.settlements.filter(e=>e.status==="pending").length}getCompletedSettlementsCount(){return this.settlements.filter(e=>e.status==="completed").length}getCompletedSettlements(){return this.settlements.filter(e=>e.status==="completed")}getTransactionCreatorName(e){return this.getMemberName(e.createdBy)}getTransactionTitle(e){return`Transaction (${e.splits.length} members)`}getTotalTransactionAmount(){return this.transactions.reduce((e,i)=>e+i.totalAmount,0)}getTransactionCount(){return this.transactions.length}getSettlementCount(){return this.settlements.length}getMemberName(e){if(!this.group)return"Unknown";let i=this.group.members.find(r=>r.userId===e);return(i==null?void 0:i.displayName)||"Unknown"}getTransactionDetails(){return this.transactions.map(e=>{let i=e.splits.reduce((o,s)=>o+s.amount,0),r=e.totalAmount/i;return{id:e.id,totalAmount:e.totalAmount,paidBy:this.getMemberName(e.createdBy),totalSplitAmount:i,splitRatio:r,splits:e.splits.map(o=>({userId:o.userId,userName:this.getMemberName(o.userId),splitAmount:o.amount,actualAmount:o.amount*r,isPaidBy:o.userId===e.createdBy}))}})}toggleMembers(){var e;this.router.navigate(["dashboard/splitwise/members",(e=this.group)==null?void 0:e.id])}addTransaction(){var e;this.router.navigate(["dashboard/transactions"],{queryParams:{splitGroupId:(e=this.group)==null?void 0:e.id,returnUrl:this.router.url}})}openEditTransactionDialog(e){if(!this.group)return;this.dialog.open(rh,{data:{transaction:e,groupMembers:this.group.members},disableClose:!0,panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"desktop-dialog"}).afterClosed().subscribe(r=>{r&&this.splitwiseService.updateSplitTransaction(e.id,{amount:r.totalAmount,splits:r.splits}).then(()=>{this.notificationService.success("Transaction updated successfully"),this.reloadData()}).catch(o=>{console.error("Error updating transaction:",o),this.notificationService.error("Failed to update transaction")})})}};t.\u0275fac=function(i){return new(i||t)(v(fs),v(An),v(Qt),v(Qe),v(dn),v(ln),v(zn),v(ya),v(il),v(hn))},t.\u0275cmp=j({type:t,selectors:[["app-group-details"]],decls:4,vars:3,consts:[["groupMenu","matMenu"],[1,"group-details-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header"],[1,"header-content"],[1,"header-navigation"],["mat-icon-button","","aria-label","Go back",1,"back-btn","!z-[999]",3,"click"],[3,"click"],[1,"group-title"],["mat-icon-button","","aria-label","More options",1,"more-actions-btn",3,"matMenuTriggerFor"],[1,"header-actions"],[1,"group-menu"],["mat-menu-item","",1,"menu-item",3,"click"],["mat-menu-item","",1,"delete-action",3,"click"],[1,"stats-section"],[1,"stats-card"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-content",3,"click"],[1,"stat-value"],[1,"stat-label"],[1,"stat-content"],["class","balances-section",4,"ngIf"],["class","settlement-suggestions",4,"ngIf"],[1,"transactions-section"],[1,"transactions-card"],["class","transactions-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","settlements-section",4,"ngIf"],[1,"balances-section"],[1,"balances-card"],[1,"flex","justify-between","items-center","w-full"],["mat-icon-button","","aria-label","Add Member",1,"add-transaction-btn",3,"click"],[1,"balances-list"],["class","balance-item",3,"current-user",4,"ngFor","ngForOf"],["class","detailed-balances",4,"ngIf"],[1,"balance-item"],[1,"balance-info"],[1,"member-name"],["class","current-user-badge",4,"ngIf"],[1,"balance-details"],[1,"paid"],[1,"owed"],[1,"net-balance"],["class","status-indicator",4,"ngIf"],[1,"current-user-badge"],[1,"status-indicator"],[1,"detailed-balances"],[4,"ngIf"],[1,"breakdown-list"],["class","breakdown-item",3,"class",4,"ngFor","ngForOf"],["class","no-breakdown",4,"ngIf"],[1,"breakdown-item"],[1,"breakdown-info"],[1,"breakdown-message"],[1,"breakdown-amount"],[1,"no-breakdown"],[1,"settlement-suggestions"],[1,"suggestions-card"],[1,"suggestions-list"],["class","suggestion-item",3,"class",4,"ngFor","ngForOf"],[1,"suggestion-item"],[1,"suggestion-info"],[1,"suggestion-message"],[1,"message-text"],[1,"settlement-parties"],[1,"from-user"],[1,"to-user"],[1,"settlement-amount"],["mat-raised-button","","size","small",3,"click","color","disabled"],[1,"transactions-list"],["class","transaction-item simple",3,"click",4,"ngFor","ngForOf"],[1,"transaction-item","simple",3,"click"],[1,"transaction-main"],[1,"transaction-info"],[1,"transaction-title"],[1,"transaction-meta"],[1,"paid-by"],[1,"transaction-date"],[1,"transaction-amount"],[1,"empty-state"],[1,"empty-icon"],[1,"settlements-section"],[1,"settlements-card"],[1,"settlements-list"],["class","settlement-item",4,"ngFor","ngForOf"],[1,"settlement-item"],[1,"settlement-info"],["class","settlement-date",4,"ngIf"],[1,"settlement-date"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,r){i&1&&(u(0,"div",1),S(1,$f,4,0,"div",2)(2,a_,58,13,"div",3)(3,o_,11,0,"div",4),h()),i&2&&(f(),P("ngIf",r.isLoading),f(),P("ngIf",!r.isLoading&&r.group),f(),P("ngIf",!r.isLoading&&!r.group))},dependencies:[Pi,tt,Xn,la,ca,Rs,sa,Ts,It,Et,Ge,oa,Es,Is,As,Ac,bh,vh,gs],styles:[".group-details-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:24px;min-height:100vh;background:#fafafa}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]{padding:12px}}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px}.group-details-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:16px;text-align:center;padding:40px 20px}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#e0e0e0}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:18px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0 0 24px;font-size:14px;line-height:1.5}.group-details-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;font-weight:500;font-size:14px;border-radius:6px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{border-radius:8px;margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease;border-radius:50%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#333;background-color:#f5f5f5}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#333;line-height:1.2}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-navigation[_ngcontent-%COMP%]   .group-title[_ngcontent-%COMP%]{font-size:16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]{color:#666;transition:color .2s ease;border-radius:50%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]:hover{color:#333;background-color:#f5f5f5}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .more-actions-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:flex;gap:1px;background:#f0f0f0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{flex-direction:column}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;background:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{text-align:center;cursor:pointer;padding:24px 16px;transition:background-color .2s ease;width:100%}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]:hover{background-color:#fafafa}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-bottom:4px;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:#666;font-weight:400;text-transform:uppercase;letter-spacing:.5px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]{background-color:#f8f9fa;border-left:3px solid #333;padding-left:16px;margin:0 -16px 0 0;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item.current-user[_ngcontent-%COMP%]   .current-user-badge[_ngcontent-%COMP%]{background:#333;color:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#333;margin-bottom:2px;display:flex;align-items:center;gap:8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]   .current-user-badge[_ngcontent-%COMP%]{background:#666;color:#fff;padding:1px 6px;border-radius:4px;font-size:10px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]   .paid[_ngcontent-%COMP%]{color:#666;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-info[_ngcontent-%COMP%]   .balance-details[_ngcontent-%COMP%]   .owed[_ngcontent-%COMP%]{color:#666;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]{font-weight:600;font-size:14px;text-align:right}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.positive[_ngcontent-%COMP%]{color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.negative[_ngcontent-%COMP%]{color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance.neutral[_ngcontent-%COMP%]{color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .balances-section[_ngcontent-%COMP%]   .balances-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .balances-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .net-balance[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{display:block;font-size:10px;font-weight:400;margin-top:2px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.you_owe[_ngcontent-%COMP%]{border-left:3px solid #ff6b6b}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.owed_to_you[_ngcontent-%COMP%]{border-left:3px solid #51cf66}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item.others[_ngcontent-%COMP%]{border-left:3px solid #ffd43b}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#333;margin-bottom:2px;display:flex;align-items:center;gap:8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status[_ngcontent-%COMP%]{font-size:10px;font-weight:500;padding:1px 6px;border-radius:4px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status.pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .suggestion-message[_ngcontent-%COMP%]   .settlement-status.completed[_ngcontent-%COMP%]{background:#d1edff;color:#0c5460}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;color:#666;margin-bottom:2px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px;color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   .suggestion-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;font-weight:500;font-size:12px;transition:all .2s ease;min-width:80px;height:32px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){transform:none;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlement-suggestions[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .suggestions-list[_ngcontent-%COMP%]   .suggestion-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px;font-size:14px;width:14px;height:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:12px;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;padding:12px 0;background-color:#fff;transition:background-color .2s ease;cursor:pointer}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]{flex:1;min-width:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-title[_ngcontent-%COMP%]{font-weight:500;color:#333;margin-bottom:2px;font-size:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:12px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .paid-by[_ngcontent-%COMP%]{font-weight:400;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.simple[_ngcontent-%COMP%]   .transaction-main[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333;white-space:nowrap}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#e0e0e0;margin-bottom:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:20px;color:#666}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;font-weight:500;padding:10px 20px;font-size:14px;transition:all .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%]   .transactions-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:none;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]{margin-bottom:20px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px 20px 0}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:16px 16px 0}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666;font-size:18px;width:18px;height:18px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px 20px 20px}@media (max-width: 768px){.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:12px 16px 16px}}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;margin:0 -16px;padding-left:16px;padding-right:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]{flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px;color:#666;margin-bottom:2px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .from-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   .to-user[_ngcontent-%COMP%]{font-weight:500;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-parties[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px;color:#999}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-amount[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333;margin-bottom:2px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .settlements-section[_ngcontent-%COMP%]   .settlements-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .settlements-list[_ngcontent-%COMP%]   .settlement-item[_ngcontent-%COMP%]   .settlement-info[_ngcontent-%COMP%]   .settlement-date[_ngcontent-%COMP%]{font-size:11px;color:#999;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]{margin-top:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #f0f0f0;border-radius:6px;background:#fff}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header{padding:12px 16px;background:#fafafa;border-radius:6px 6px 0 0;color:#333}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-expansion-panel-header-title{font-weight:500;color:#333;display:flex;align-items:center;gap:8px;font-size:14px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-expansion-panel-header-description{color:#666;font-size:12px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header mat-icon{color:#666;font-size:16px;width:16px;height:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:16px;background:#fff;border-radius:0 0 6px 6px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f8f8f8;transition:background-color .2s ease}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]:hover{background-color:#fafafa;border-radius:4px;padding-left:8px;padding-right:8px;margin:0 -8px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owes[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owes[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{color:#ff6b6b;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owed[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#51cf66}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item.owed[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{color:#51cf66;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-info[_ngcontent-%COMP%]   .breakdown-message[_ngcontent-%COMP%]{font-size:13px;color:#333;font-weight:400}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]   .breakdown-amount[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .no-breakdown[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:16px;color:#51cf66;font-weight:500;background:#f8f9fa;border-radius:4px;border:1px solid #e9ecef}.group-details-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .detailed-balances[_ngcontent-%COMP%]   .breakdown-list[_ngcontent-%COMP%]   .no-breakdown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#51cf66;font-size:18px;width:18px;height:18px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]{color:#ff6b6b}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6b6b}.group-menu[_ngcontent-%COMP%]   .mat-menu-item.delete-action[_ngcontent-%COMP%]:hover{background-color:#fff5f5}"]});let a=t;return a})();function s_(a,t){if(a&1&&B(0,"img",16),a&2){let n=M().$implicit;P("src",n.photoURL,Pr)("alt",n.displayName)}}function l_(a,t){a&1&&(u(0,"mat-icon"),_(1,"person"),h())}function c_(a,t){if(a&1&&(u(0,"div",7)(1,"div",8)(2,"div",9),S(3,s_,1,2,"img",10)(4,l_,2,0,"mat-icon",11),h(),u(5,"div",12)(6,"span",13),_(7),h(),u(8,"span",14),_(9),h(),u(10,"span",15),_(11),h()()()()),a&2){let n=t.$implicit;f(3),P("ngIf",n.photoURL),f(),P("ngIf",!n.photoURL),f(3),R(n.displayName),f(2),R(n.email),f(2),R(n.role)}}var Ch=(()=>{let t=class t{constructor(){this.isMobile=!1,this.addMember=new N,this.Math=Math}formatCurrency(e,i="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:i}).format(e)}getGroupMemberCount(){var e;return((e=this.group)==null?void 0:e.members.filter(i=>i.isActive).length)||0}getPositiveBalanceMembers(){return this.group?[]:[]}getNegativeBalanceMembers(){return this.group?[]:[]}getNeutralBalanceMembers(){return this.group?[]:[]}onAddMember(){this.addMember.emit()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=j({type:t,selectors:[["app-members"]],inputs:{group:"group",isMobile:"isMobile"},outputs:{addMember:"addMember"},decls:18,vars:2,consts:[[1,"members-container"],[1,"members-section"],[1,"members-card"],[1,"members-list"],["class","member-item",4,"ngFor","ngForOf"],[1,"add-member-section"],["mat-stroked-button","","color","primary",3,"click"],[1,"member-item"],[1,"member-info"],[1,"member-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"member-details"],[1,"member-name"],[1,"member-email"],[1,"member-role"],[3,"src","alt"]],template:function(i,r){i&1&&(u(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title")(5,"mat-icon"),_(6,"people"),h(),_(7," Members "),h(),u(8,"mat-card-subtitle"),_(9),h()(),u(10,"mat-card-content")(11,"div",3),S(12,c_,12,5,"div",4),h()()()(),u(13,"div",5)(14,"button",6),T("click",function(){return r.onAddMember()}),u(15,"mat-icon"),_(16,"person_add"),h(),_(17," Add Member "),h()()()),i&2&&(f(9),$(" ",r.getGroupMemberCount()," active members "),f(3),P("ngForOf",r.group.members))},dependencies:[Pi,tt,Xn,la,ca,Rs,sa,It,Ge],styles:[".members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;overflow:hidden}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:12px;color:#666}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:11px;color:#1976d2;text-transform:uppercase;letter-spacing:.5px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]{margin-bottom:24px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]{border-left:4px solid #4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.positive[_ngcontent-%COMP%]   .positive-icon[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]{border-left:4px solid #f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.negative[_ngcontent-%COMP%]   .negative-icon[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]{border-left:4px solid #666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card.neutral[_ngcontent-%COMP%]   .neutral-icon[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-weight:600}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.positive[_ngcontent-%COMP%]{color:#4caf50}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.negative[_ngcontent-%COMP%]{color:#f44336}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-list[_ngcontent-%COMP%]   .balance-item[_ngcontent-%COMP%]   .balance-amount.neutral[_ngcontent-%COMP%]{color:#666}.members-container[_ngcontent-%COMP%]   .add-member-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px 0}@media (max-width: 768px){.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]{padding:12px 0}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]{width:40px;height:40px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-name[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-email[_ngcontent-%COMP%]{font-size:11px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-info[_ngcontent-%COMP%]   .member-details[_ngcontent-%COMP%]   .member-role[_ngcontent-%COMP%]{font-size:10px}.members-container[_ngcontent-%COMP%]   .members-section[_ngcontent-%COMP%]   .members-card[_ngcontent-%COMP%]   .members-list[_ngcontent-%COMP%]   .member-item[_ngcontent-%COMP%]   .member-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{font-size:14px}.members-container[_ngcontent-%COMP%]   .balance-summary-section[_ngcontent-%COMP%]   .balance-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let a=t;return a})();function m_(a,t){a&1&&(u(0,"div",4),B(1,"mat-spinner",5),u(2,"p"),_(3,"Loading group members..."),h()())}function u_(a,t){if(a&1){let n=ee();u(0,"div",6)(1,"div",7)(2,"button",8),T("click",function(){E(n);let i=M();return A(i.goBack())}),u(3,"mat-icon"),_(4,"arrow_back"),h()()(),u(5,"app-members",9),T("addMember",function(){E(n);let i=M();return A(i.openAddMemberDialog())}),h()()}if(a&2){let n=M();f(5),P("group",n.group)("isMobile",n.isMobile)}}function h_(a,t){if(a&1){let n=ee();u(0,"div",10)(1,"mat-icon",11),_(2,"error"),h(),u(3,"h3"),_(4,"Group Not Found"),h(),u(5,"p"),_(6,"The group you're looking for doesn't exist or you don't have access to it."),h(),u(7,"button",12),T("click",function(){E(n);let i=M();return A(i.goBack())}),_(8," Go Back "),h()()}}var xh=(()=>{let t=class t{constructor(e,i,r,o,s,l,c,d){this.route=e,this.router=i,this.auth=r,this.store=o,this.dialog=s,this.notificationService=l,this.breakpointObserver=c,this.breakpointService=d,this.group=null,this.isLoading=!1,this.error=null,this.currentUser=null,this.isMobile=!1,this.destroy$=new ue,this.breakpointObserver.observe([an.Handset]).pipe(De(this.destroy$)).subscribe(p=>{this.isMobile=p.matches})}ngOnInit(){this.currentUser=this.auth.currentUser,this.subscribeToStore(),this.loadGroupDetails()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToStore(){this.store.select(_a).pipe(De(this.destroy$)).subscribe(e=>{this.isLoading=e.loading,this.error=e.error;let i=this.route.snapshot.paramMap.get("id");i&&(this.group=e.groups.find(r=>r.id===i)||null,!this.group&&!this.isLoading&&this.store.dispatch(Cn({groupId:i}))),this.error&&(this.notificationService.error(this.error),this.store.dispatch(Zn()))})}loadGroupDetails(){let e=this.route.snapshot.paramMap.get("id");e&&this.store.dispatch(Cn({groupId:e}))}goBack(){this.group?this.router.navigate(["dashboard/splitwise/group",this.group.id]):this.router.navigate(["dashboard/splitwise"])}openAddMemberDialog(){if(!this.group)return;this.dialog.open(va,{data:{group:this.group},disableClose:!0,panelClass:this.breakpointService.device.isMobile?"mobile-dialog":"desktop-dialog"}).afterClosed().subscribe(i=>{i&&(i.action==="delete"?this.store.dispatch(qn({groupId:this.group.id,userId:i.userId})):this.store.dispatch(un({groupId:this.group.id,request:i})))})}};t.\u0275fac=function(i){return new(i||t)(v(fs),v(An),v(Qt),v(Qe),v(dn),v(ln),v(zn),v(hn))},t.\u0275cmp=j({type:t,selectors:[["app-members-page"]],decls:4,vars:3,consts:[[1,"members-page-container"],["class","loading-state",4,"ngIf"],["class","main-content",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"loading-state"],["diameter","40"],[1,"main-content"],[1,"header-actions"],["mat-icon-button","",1,"back-btn",3,"click"],[3,"addMember","group","isMobile"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,r){i&1&&(u(0,"div",0),S(1,m_,4,0,"div",1)(2,u_,6,2,"div",2)(3,h_,9,0,"div",3),h()),i&2&&(f(),P("ngIf",r.isLoading),f(),P("ngIf",!r.isLoading&&r.group),f(),P("ngIf",!r.isLoading&&!r.group))},dependencies:[tt,It,Et,Ge,oa,Ch],styles:[".members-page-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh;background:#f5f5f5}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:16px;text-align:center}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.members-page-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:24px;box-shadow:0 2px 8px #0000001a}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;gap:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{color:#666}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{color:#1976d2}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex:1}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 4px;font-size:24px;font-weight:600;color:#333}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}@media (max-width: 768px){.members-page-container[_ngcontent-%COMP%]{padding:16px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{width:100%}.members-page-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}}"]});let a=t;return a})();var p_=[{path:"",component:ih},{path:"group/:id",component:yh},{path:"members/:id",component:xh}],wh=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({imports:[Na.forChild(p_),Na]});let a=t;return a})();var g_=["*"],f_='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-app-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-app-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-app-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-app-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-app-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-app-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-app-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-app-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-app-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-app-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-app-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-app-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-app-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-app-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-app-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full));--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-app-secondary-container))}',__=["unscopedContent"],b_=["text"],v_=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],y_=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var C_=new ge("ListOption"),x_=(()=>{let t=class t{constructor(e){this._elementRef=e}};t.\u0275fac=function(i){return new(i||t)(v(ye))},t.\u0275dir=re({type:t,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0});let a=t;return a})(),w_=(()=>{let t=class t{constructor(e){this._elementRef=e}};t.\u0275fac=function(i){return new(i||t)(v(ye))},t.\u0275dir=re({type:t,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0});let a=t;return a})(),M_=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=re({type:t,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0});let a=t;return a})(),Mh=(()=>{let t=class t{constructor(e){this._listOption=e}_isAlignedAtStart(){var e;return!this._listOption||((e=this._listOption)==null?void 0:e._getTogglePosition())==="after"}};t.\u0275fac=function(i){return new(i||t)(v(C_,8))},t.\u0275dir=re({type:t,hostVars:4,hostBindings:function(i,r){i&2&&H("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())},standalone:!0});let a=t;return a})(),P_=(()=>{let t=class t extends Mh{};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=xt(t)))(r||t)}})(),t.\u0275dir=re({type:t,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[je]});let a=t;return a})(),O_=(()=>{let t=class t extends Mh{};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=xt(t)))(r||t)}})(),t.\u0275dir=re({type:t,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[je]});let a=t;return a})(),k_=new ge("MAT_LIST_CONFIG"),rl=(()=>{let t=class t{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=Le(k_,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Si(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Si(e)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=re({type:t,hostVars:1,hostBindings:function(i,r){i&2&&Pe("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0});let a=t;return a})(),D_=(()=>{let t=class t{set lines(e){this._explicitLines=_c(e,null),this._updateItemLines(!1)}get disableRipple(){var e;return this.disabled||this._disableRipple||this._noopAnimations||!!((e=this._listBase)!=null&&e.disableRipple)}set disableRipple(e){this._disableRipple=Si(e)}get disabled(){var e;return this._disabled||!!((e=this._listBase)!=null&&e.disabled)}set disabled(e){this._disabled=Si(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,i,r,o,s,l){this._elementRef=e,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new ot,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=s||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=l==="NoopAnimations",r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new yu(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(ht(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){var o;if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let i=(o=this._explicitLines)!=null?o:this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",i===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",i===3),this._hasUnscopedTextContent){let s=this._titles.length===0&&i===1;r.classList.toggle("mdc-list-item__primary-text",s),r.classList.toggle("mdc-list-item__secondary-text",!s)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}};t.\u0275fac=function(i){return new(i||t)(v(ye),v(Ze),v(rl,8),v(Bt),v(na,8),v(Ft,8))},t.\u0275dir=re({type:t,contentQueries:function(i,r,o){if(i&1&&($e(o,P_,4),$e(o,O_,4)),i&2){let s;Q(s=K())&&(r._avatars=s),Q(s=K())&&(r._icons=s)}},hostVars:4,hostBindings:function(i,r){i&2&&(Pe("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),H("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0});let a=t;return a})();var iM=(()=>{let t=class t extends rl{};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=xt(t)))(r||t)}})(),t.\u0275cmp=j({type:t,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[Ee([{provide:rl,useExisting:t}]),je,le],ngContentSelectors:g_,decls:1,vars:0,template:function(i,r){i&1&&(ze(),be(0))},styles:[f_],encapsulation:2,changeDetection:0});let a=t;return a})(),nM=(()=>{let t=class t extends D_{get activated(){return this._activated}set activated(e){this._activated=Si(e)}constructor(e,i,r,o,s,l){super(e,i,r,o,s,l),this._activated=!1}_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}};t.\u0275fac=function(i){return new(i||t)(v(ye),v(Ze),v(rl,8),v(Bt),v(na,8),v(Ft,8))},t.\u0275cmp=j({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,o){if(i&1&&($e(o,w_,5),$e(o,x_,5),$e(o,M_,5)),i&2){let s;Q(s=K())&&(r._lines=s),Q(s=K())&&(r._titles=s),Q(s=K())&&(r._meta=s)}},viewQuery:function(i,r){if(i&1&&(Ie(__,5),Ie(b_,5)),i&2){let o;Q(o=K())&&(r._unscopedContent=o.first),Q(o=K())&&(r._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,r){i&2&&(Pe("aria-current",r._getAriaCurrent()),H("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",r._avatars.length!==0)("mdc-list-item--with-leading-icon",r._icons.length!==0)("mdc-list-item--with-trailing-meta",r._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[je,le],ngContentSelectors:y_,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(i,r){if(i&1){let o=ee();ze(v_),be(0),u(1,"span",1),be(2,1),be(3,2),u(4,"span",2,0),T("cdkObserveContent",function(){return E(o),A(r._updateItemLines(!0))}),be(6,3),h()(),be(7,4),be(8,5),B(9,"div",3)}},dependencies:[ws],encapsulation:2,changeDetection:0});let a=t;return a})();var Co=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({imports:[mu,Nt,He,ra,xu,Ir]});let a=t;return a})();var S_=["button"],T_=["*"];function I_(a,t){if(a&1&&B(0,"mat-pseudo-checkbox",3),a&2){let n=M();P("disabled",n.disabled)}}function E_(a,t){if(a&1&&B(0,"mat-pseudo-checkbox",3),a&2){let n=M();P("disabled",n.disabled)}}var Ph=new ge("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:A_});function A_(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var Oh=new ge("MatButtonToggleGroup"),R_={provide:Rn,useExisting:Wt(()=>F_),multi:!0},kh=0,al=class{constructor(t,n){this.source=t,this.value=n}},F_=(()=>{let t=class t{get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get value(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(i=>i.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=e,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(e){this._hideMultipleSelectionIndicator=e,this._markButtonsForCheck()}constructor(e,i,r){var o,s;this._changeDetector=e,this._dir=r,this._multiple=!1,this._disabled=!1,this._disabledInteractive=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name=`mat-button-toggle-group-${kh++}`,this.valueChange=new N,this.change=new N,this.appearance=i&&i.appearance?i.appearance:"standard",this.hideSingleSelectionIndicator=(o=i==null?void 0:i.hideSingleSelectionIndicator)!=null?o:!1,this.hideMultipleSelectionIndicator=(s=i==null?void 0:i.hideMultipleSelectionIndicator)!=null?s:!1}ngOnInit(){this._selectionModel=new Su(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked)),this.multiple||this._initializeTabIndex()}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_keydown(e){if(this.multiple||this.disabled)return;let r=e.target.id,o=this._buttonToggles.toArray().findIndex(l=>l.buttonId===r),s=null;switch(e.keyCode){case 32:case 13:s=this._buttonToggles.get(o)||null;break;case 38:s=this._getNextButton(o,-1);break;case 37:s=this._getNextButton(o,this.dir==="ltr"?-1:1);break;case 40:s=this._getNextButton(o,1);break;case 39:s=this._getNextButton(o,this.dir==="ltr"?1:-1);break;default:return}s&&(e.preventDefault(),s._onButtonClick(),s.focus())}_emitChangeEvent(e){let i=new al(e,this.value);this._rawValue=i.value,this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(e,i,r=!1,o=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(e):this._selectionModel.deselect(e):o=!0,o?Promise.resolve().then(()=>this._updateModelValue(e,r)):this._updateModelValue(e,r)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>e.value!=null&&i===e.value):e.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(e=>{e.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let e=0;e<this._buttonToggles.length;e++){let i=this._buttonToggles.get(e);if(!i.disabled){i.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(e,i){let r=this._buttonToggles;for(let o=1;o<=r.length;o++){let s=(e+i*o+r.length)%r.length,l=r.get(s);if(l&&!l.disabled)return l}return null}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>{e.checked=!1,this.multiple||(e.tabIndex=-1)})}_selectValue(e){let i=this._buttonToggles.find(r=>r.value!=null&&r.value===e);i&&(i.checked=!0,this._selectionModel.select(i),this.multiple||(i.tabIndex=0))}_updateModelValue(e,i){i&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){var e;(e=this._buttonToggles)==null||e.forEach(i=>i._markForCheck())}};t.\u0275fac=function(i){return new(i||t)(v(Ce),v(Ph,8),v($t,8))},t.\u0275dir=re({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(i,r,o){if(i&1&&$e(o,Dh,5),i&2){let s;Q(s=K())&&(r._buttonToggles=s)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(i,r){i&1&&T("keydown",function(s){return r._keydown(s)}),i&2&&(Pe("role",r.multiple?"group":"radiogroup")("aria-disabled",r.disabled),H("mat-button-toggle-vertical",r.vertical)("mat-button-toggle-group-appearance-standard",r.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",Z],value:"value",multiple:[2,"multiple","multiple",Z],disabled:[2,"disabled","disabled",Z],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Z],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Z],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",Z]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[Ee([R_,{provide:Oh,useExisting:t}]),Fe]});let a=t;return a})(),Dh=(()=>{let t=class t{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(e){this._tabIndex=e,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=e}get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}constructor(e,i,r,o,s,l){var d;this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=o,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new N;let c=Number(s);this.tabIndex=c||c===0?c:null,this.buttonToggleGroup=e,this.appearance=l&&l.appearance?l.appearance:"standard",this.disabledInteractive=(d=l==null?void 0:l.disabledInteractive)!=null?d:!1}ngOnInit(){let e=this.buttonToggleGroup;this.id=this.id||`mat-button-toggle-${kh++}`,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){if(this.disabled)return;let e=this.isSingleSelector()?!0:!this._checked;if(e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let i=this.buttonToggleGroup._buttonToggles.find(r=>r.tabIndex===0);i&&(i.tabIndex=-1),this.tabIndex=0}this.change.emit(new al(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}};t.\u0275fac=function(i){return new(i||t)(v(Oh,8),v(Ce),v(ye),v(on),zi("tabindex"),v(Ph,8))},t.\u0275cmp=j({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(i,r){if(i&1&&Ie(S_,5),i&2){let o;Q(o=K())&&(r._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(i,r){i&1&&T("focus",function(){return r.focus()}),i&2&&(Pe("aria-label",null)("aria-labelledby",null)("id",r.id)("name",null),H("mat-button-toggle-standalone",!r.buttonToggleGroup)("mat-button-toggle-checked",r.checked)("mat-button-toggle-disabled",r.disabled)("mat-button-toggle-disabled-interactive",r.disabledInteractive)("mat-button-toggle-appearance-standard",r.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",Z],appearance:"appearance",checked:[2,"checked","checked",Z],disabled:[2,"disabled","disabled",Z],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Z]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[Fe,le],ngContentSelectors:T_,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){if(i&1){let o=ee();ze(),u(0,"button",1,0),T("click",function(){return E(o),A(r._onButtonClick())}),u(2,"span",2),S(3,I_,1,1,"mat-pseudo-checkbox",3)(4,E_,1,1,"mat-pseudo-checkbox",3),be(5),h()(),B(6,"span",4)(7,"span",5)}if(i&2){let o=Mi(1);P("id",r.buttonId)("disabled",r.disabled&&!r.disabledInteractive||null),Pe("role",r.isSingleSelector()?"radio":"button")("tabindex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("aria-pressed",r.isSingleSelector()?null:r.checked)("aria-checked",r.isSingleSelector()?r.checked:null)("name",r._getButtonName())("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),f(3),V(r.buttonToggleGroup&&r.checked&&!r.buttonToggleGroup.multiple&&!r.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),f(),V(r.buttonToggleGroup&&r.checked&&r.buttonToggleGroup.multiple&&!r.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),f(3),P("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)}},dependencies:[sn,Cu],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0});let a=t;return a})(),Po=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({imports:[He,ra,Dh,He]});let a=t;return a})();var B_={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},sl="__@ngrx/effects_create__";function ai(a,t={}){let n=t.functional?a:a(),e=X(X({},B_),t);return Object.defineProperty(n,sl,{value:e}),n}function L_(a){return Object.getOwnPropertyNames(a).filter(e=>a[e]&&a[e].hasOwnProperty(sl)?a[e][sl].hasOwnProperty("dispatch"):!1).map(e=>{let i=a[e][sl];return X({propertyName:e},i)})}function j_(a){return L_(a)}function Eh(a){return Object.getPrototypeOf(a)}function N_(a){return!!a.constructor&&a.constructor.name!=="Object"&&a.constructor.name!=="Function"}function Ah(a){return typeof a=="function"}function Sh(a){return a.filter(Ah)}function V_(a){return a instanceof ge||Ah(a)}function $_(a,t,n){let e=Eh(a),r=!!e&&e.constructor.name!=="Object"?e.constructor.name:null,o=j_(a).map(({propertyName:s,dispatch:l,useEffectsErrorHandler:c})=>{let d=typeof a[s]=="function"?a[s]():a[s],p=c?n(d,t):d;return l===!1?p.pipe(Rm()):p.pipe(jm()).pipe(ne(m=>({effect:a[s],notification:m,propertyName:s,sourceName:r,sourceInstance:a})))});return ht(...o)}var z_=10;function Rh(a,t,n=z_){return a.pipe(st(e=>(t&&t.handleError(e),n<=1?a:Rh(a,t,n-1))))}var Fh=(()=>{let t=class t extends ts{constructor(e){super(),e&&(this.source=e)}lift(e){let i=new t;return i.source=this,i.operator=e,i}};t.\u0275fac=function(i){return new(i||t)(Ae(eu))},t.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();function oi(...a){return Ct(t=>a.some(n=>typeof n=="string"?n===t.type:n.type===t.type))}var Bh=new ge("@ngrx/effects Internal Root Guard"),ol=new ge("@ngrx/effects User Provided Effects"),Fc=new ge("@ngrx/effects Internal Root Effects"),Lh=new ge("@ngrx/effects Internal Root Effects Instances"),Th=new ge("@ngrx/effects Internal Feature Effects"),jh=new ge("@ngrx/effects Internal Feature Effects Instance Groups"),H_=new ge("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Rh}),Nh="@ngrx/effects/init",LM=ve(Nh);function U_(a,t){if(a.notification.kind==="N"){let n=a.notification.value;!G_(n)&&t.handleError(new Error(`Effect ${Y_(a)} dispatched an invalid action: ${W_(n)}`))}}function G_(a){return typeof a!="function"&&a&&a.type&&typeof a.type=="string"}function Y_({propertyName:a,sourceInstance:t,sourceName:n}){let e=typeof t[a]=="function";return!!n?`"${n}.${String(a)}${e?"()":""}"`:`"${String(a)}()"`}function W_(a){try{return JSON.stringify(a)}catch{return a}}var X_="ngrxOnIdentifyEffects";function Q_(a){return Bc(a,X_)}var K_="ngrxOnRunEffects";function q_(a){return Bc(a,K_)}var Z_="ngrxOnInitEffects";function J_(a){return Bc(a,Z_)}function Bc(a,t){return a&&t in a&&typeof a[t]=="function"}var Vh=(()=>{let t=class t extends ue{constructor(e,i){super(),this.errorHandler=e,this.effectsErrorHandler=i}addEffects(e){this.next(e)}toActions(){return this.pipe(lc(e=>N_(e)?Eh(e):e),Ye(e=>e.pipe(lc(eb))),Ye(e=>{let i=e.pipe(Lm(o=>tb(this.errorHandler,this.effectsErrorHandler)(o)),ne(o=>(U_(o,this.errorHandler),o.notification)),Ct(o=>o.kind==="N"&&o.value!=null),Fm()),r=e.pipe(En(1),Ct(J_),ne(o=>o.ngrxOnInitEffects()));return ht(i,r)}))}};t.\u0275fac=function(i){return new(i||t)(Ae($m),Ae(H_))},t.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();function eb(a){return Q_(a)?a.ngrxOnIdentifyEffects():""}function tb(a,t){return n=>{let e=$_(n,a,t);return q_(n)?n.ngrxOnRunEffects(e):e}}var $h=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(e,i){this.effectSources=e,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(i){return new(i||t)(Ae(Vh),Ae(Qe))},t.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})(),zh=(()=>{let t=class t{constructor(e,i,r,o,s,l,c){this.sources=e,i.start();for(let d of o)e.addEffects(d);r.dispatch({type:Nh})}addEffects(e){this.sources.addEffects(e)}};t.\u0275fac=function(i){return new(i||t)(Ae(Vh),Ae($h),Ae(Qe),Ae(Lh),Ae(mc,8),Ae(uc,8),Ae(Bh,8))},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({});let a=t;return a})(),ib=(()=>{let t=class t{constructor(e,i,r,o){let s=i.flat();for(let l of s)e.addEffects(l)}};t.\u0275fac=function(i){return new(i||t)(Ae(zh),Ae(jh),Ae(mc,8),Ae(uc,8))},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({});let a=t;return a})(),Hh=(()=>{let t=class t{static forFeature(...e){let i=e.flat(),r=Sh(i);return{ngModule:ib,providers:[r,{provide:Th,multi:!0,useValue:i},{provide:ol,multi:!0,useValue:[]},{provide:jh,multi:!0,useFactory:Ih,deps:[Th,ol]}]}}static forRoot(...e){let i=e.flat(),r=Sh(i);return{ngModule:zh,providers:[r,{provide:Fc,useValue:[i]},{provide:Bh,useFactory:nb},{provide:ol,multi:!0,useValue:[]},{provide:Lh,useFactory:Ih,deps:[Fc,ol]}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({});let a=t;return a})();function Ih(a,t){let n=[];for(let e of a)n.push(...e);for(let e of t)n.push(...e);return n.map(e=>V_(e)?Le(e):e)}function nb(){let a=Le($h,{optional:!0,skipSelf:!0}),t=Le(Fc,{self:!0});if(!(t.length===1&&t[0].length===0)&&a)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Uh={groups:[],invitations:[],transactions:[],settlements:[],selectedGroup:null,loading:!1,error:null};var Gh=iu(Uh,xe(ma,a=>ce(X({},a),{loading:!0,error:null})),xe(Ls,(a,{groups:t})=>ce(X({},a),{groups:t,loading:!1,error:null})),xe(io,(a,{error:t})=>ce(X({},a),{loading:!1,error:t})),xe(Cn,a=>ce(X({},a),{loading:!0,error:null})),xe(js,(a,{group:t})=>ce(X({},a),{groups:a.groups.find(n=>n.id===t.id)?a.groups.map(n=>n.id===t.id?t:n):[...a.groups,t],selectedGroup:t,loading:!1,error:null})),xe(no,(a,{error:t})=>ce(X({},a),{loading:!1,error:t})),xe(ua,a=>ce(X({},a),{loading:!0,error:null})),xe(Ns,(a,{invitations:t})=>ce(X({},a),{invitations:t,loading:!1,error:null})),xe(ro,(a,{error:t})=>ce(X({},a),{loading:!1,error:t})),xe(ha,a=>ce(X({},a),{loading:!0,error:null})),xe(Vs,(a,{group:t})=>ce(X({},a),{groups:[...a.groups,t],loading:!1,error:null})),xe(ao,(a,{error:t})=>ce(X({},a),{loading:!1,error:t})),xe(un,a=>ce(X({},a),{loading:!0,error:null})),xe($s,(a,{group:t})=>ce(X({},a),{groups:a.groups.map(n=>n.id===t.id?t:n),loading:!1,error:null})),xe(oo,(a,{error:t})=>ce(X({},a),{loading:!1,error:t})),xe(pa,a=>ce(X({},a),{loading:!0,error:null})),xe(zs,(a,{invitationId:t})=>ce(X({},a),{invitations:a.invitations.filter(n=>n.id!==t),loading:!1,error:null})),xe(so,(a,{error:t})=>ce(X({},a),{loading:!1,error:t})),xe(ga,a=>ce(X({},a),{loading:!0,error:null})),xe(Hs,(a,{invitationId:t})=>ce(X({},a),{invitations:a.invitations.filter(n=>n.id!==t),loading:!1,error:null})),xe(lo,(a,{error:t})=>ce(X({},a),{loading:!1,error:t})),xe(Kn,a=>ce(X({},a),{loading:!0,error:null})),xe(Us,(a,{groupId:t})=>{var n;return ce(X({},a),{groups:a.groups.filter(e=>e.id!==t),selectedGroup:((n=a.selectedGroup)==null?void 0:n.id)===t?null:a.selectedGroup,loading:!1,error:null})}),xe(co,(a,{error:t})=>ce(X({},a),{loading:!1,error:t})),xe(Ju,(a,{group:t})=>ce(X({},a),{selectedGroup:t})),xe(Ar,a=>ce(X({},a),{loading:!0,error:null})),xe(Gs,(a,{transactions:t})=>ce(X({},a),{transactions:t,loading:!1,error:null})),xe(mo,(a,{error:t})=>ce(X({},a),{loading:!1,error:t})),xe(Rr,a=>ce(X({},a),{loading:!0,error:null})),xe(Ys,(a,{settlements:t})=>ce(X({},a),{settlements:t,loading:!1,error:null})),xe(uo,(a,{error:t})=>ce(X({},a),{loading:!1,error:t})),xe(Ws,a=>ce(X({},a),{loading:!0,error:null})),xe(Xs,(a,{transaction:t})=>ce(X({},a),{transactions:[...a.transactions,t],loading:!1,error:null})),xe(ho,(a,{error:t})=>ce(X({},a),{loading:!1,error:t})),xe(Qs,a=>ce(X({},a),{loading:!0,error:null})),xe(Ks,(a,{transaction:t})=>ce(X({},a),{transactions:a.transactions.map(n=>n.id===t.id?t:n),loading:!1,error:null})),xe(po,(a,{error:t})=>ce(X({},a),{loading:!1,error:t})),xe(fa,a=>ce(X({},a),{loading:!0,error:null})),xe(qs,(a,{settlement:t})=>ce(X({},a),{settlements:[...a.settlements,t],loading:!1,error:null})),xe(go,(a,{error:t})=>ce(X({},a),{loading:!1,error:t})),xe(qn,a=>ce(X({},a),{loading:!0,error:null})),xe(Zs,(a,{groupId:t})=>ce(X({},a),{loading:!1,error:null})),xe(fo,(a,{error:t})=>ce(X({},a),{loading:!1,error:t})),xe(Zn,a=>ce(X({},a),{error:null})));var Yh=(()=>{let t=class t{constructor(e,i,r,o,s){this.actions$=e,this.splitwiseService=i,this.userService=r,this.store=o,this.auth=s,this.loadGroups$=ai(()=>this.actions$.pipe(oi(ma),Ye(()=>Ue(this.userService.getCurrentUser()).pipe(Ye(l=>l!=null&&l.uid?this.splitwiseService.getUserGroups(l.uid).pipe(ne(c=>Ls({groups:c||[]})),st(c=>_e(io({error:c.message})))):_e(io({error:"User not authenticated"}))))))),this.loadGroupById$=ai(()=>this.actions$.pipe(oi(Cn),Ye(l=>Ue(this.splitwiseService.getGroupById(l.groupId)).pipe(ne(c=>c?js({group:c}):no({error:"Group not found"})),st(c=>_e(no({error:c.message}))))))),this.loadInvitations$=ai(()=>this.actions$.pipe(oi(ua),Ye(()=>Ue(this.userService.getCurrentUser()).pipe(Ye(l=>l!=null&&l.uid?this.splitwiseService.getUserInvitations(l.uid).pipe(ne(c=>Ns({invitations:c||[]})),st(c=>_e(ro({error:c.message})))):_e(ro({error:"User not authenticated"}))))))),this.createGroup$=ai(()=>this.actions$.pipe(oi(ha),Ye(l=>Ue(this.userService.getCurrentUser()).pipe(Ye(c=>c!=null&&c.uid?this.splitwiseService.createGroup(l.request,c.uid).pipe(ne(d=>Vs({group:d})),st(d=>_e(ao({error:d.message})))):_e(ao({error:"User not authenticated"}))))))),this.addMember$=ai(()=>this.actions$.pipe(oi(un),Ye(l=>Ue(this.userService.getCurrentUser()).pipe(Ye(c=>c!=null&&c.uid?Ue(this.splitwiseService.addMemberToGroup(l.groupId,l.request,c.uid)).pipe(ne(d=>$s({group:d})),st(d=>_e(oo({error:d.message})))):_e(oo({error:"User not authenticated"}))))))),this.acceptInvitation$=ai(()=>this.actions$.pipe(oi(pa),Ye(l=>Ue(this.userService.getCurrentUser()).pipe(Ye(c=>c!=null&&c.uid?Ue(this.splitwiseService.acceptInvitation(l.invitationId,c.uid)).pipe(ne(()=>zs({invitationId:l.invitationId})),st(d=>_e(so({error:d.message})))):_e(so({error:"User not authenticated"}))))))),this.declineInvitation$=ai(()=>this.actions$.pipe(oi(ga),Ye(l=>Ue(this.userService.getCurrentUser()).pipe(Ye(c=>c!=null&&c.uid?Ue(this.splitwiseService.declineInvitation(l.invitationId,c.uid)).pipe(ne(()=>Hs({invitationId:l.invitationId})),st(d=>_e(lo({error:d.message})))):_e(lo({error:"User not authenticated"}))))))),this.deleteGroup$=ai(()=>this.actions$.pipe(oi(Kn),Ye(l=>Ue(this.userService.getCurrentUser()).pipe(Ye(c=>c!=null&&c.uid?this.splitwiseService.deleteGroup(l.groupId,c.uid).pipe(ne(()=>Us({groupId:l.groupId})),st(d=>_e(co({error:d.message})))):_e(co({error:"User not authenticated"}))))))),this.loadTransactions$=ai(()=>this.actions$.pipe(oi(Ar),Ye(l=>Ue(this.userService.getCurrentUser()).pipe(Ye(c=>c!=null&&c.uid?this.splitwiseService.getGroupTransactions(l.groupId,c.uid).pipe(ne(d=>Gs({transactions:d||[]})),st(d=>_e(mo({error:d.message})))):_e(mo({error:"User not authenticated"}))))))),this.loadSettlements$=ai(()=>this.actions$.pipe(oi(Rr),Ye(l=>Ue(this.userService.getCurrentUser()).pipe(Ye(c=>c!=null&&c.uid?this.splitwiseService.getGroupSettlements(l.groupId,c.uid).pipe(ne(d=>Ys({settlements:d||[]})),st(d=>_e(uo({error:d.message})))):_e(uo({error:"User not authenticated"}))))))),this.createSplitTransaction$=ai(()=>this.actions$.pipe(oi(Ws),Ye(l=>Ue(this.userService.getCurrentUser()).pipe(Ye(c=>c!=null&&c.uid?this.splitwiseService.createSplitTransaction(l.request,c.uid).pipe(ne(d=>Xs({transaction:d})),st(d=>_e(ho({error:d.message})))):_e(ho({error:"User not authenticated"}))))))),this.updateSplitTransaction$=ai(()=>this.actions$.pipe(oi(Qs),Ye(l=>Ue(this.userService.getCurrentUser()).pipe(Ye(c=>c!=null&&c.uid?Ue(this.splitwiseService.updateSplitTransaction(l.transactionId,l.updates)).pipe(ne(()=>Ks({transaction:{id:l.transactionId}})),st(d=>_e(po({error:d.message})))):_e(po({error:"User not authenticated"}))))))),this.createSettlement$=ai(()=>this.actions$.pipe(oi(fa),Ye(l=>Ue(this.userService.getCurrentUser()).pipe(Ye(c=>{if(!(c!=null&&c.uid))return _e(go({error:"User not authenticated"}));let d={groupId:l.groupId,fromUserId:l.fromUserId,toUserId:l.toUserId,amount:l.amount,notes:l.notes,originalTransactionId:l.originalTransactionId};return Ue(this.splitwiseService.createSettlement(d)).pipe(ne(p=>qs({settlement:{id:p}})),st(p=>_e(go({error:p.message}))))}))))),this.removeMember$=ai(()=>this.actions$.pipe(oi(qn),Ye(l=>Ue(this.userService.getCurrentUser()).pipe(Ye(c=>c!=null&&c.uid?Ue(this.splitwiseService.removeMemberFromGroup(l.groupId,l.userId,c.uid)).pipe(ne(()=>Zs({groupId:l.groupId})),st(d=>_e(fo({error:d.message})))):_e(fo({error:"User not authenticated"})))))))}};t.\u0275fac=function(i){return new(i||t)(Ae(Fh),Ae(ya),Ae(Gn),Ae(Qe),Ae(Qt))},t.\u0275prov=et({token:t,factory:t.\u0275fac});let a=t;return a})();function ab(a,t){if(a&1&&(u(0,"div",0)(1,"div",1),B(2,"div",2),u(3,"p",3),_(4),h()()()),a&2){let n=M();f(4),R(n.message)}}var KM=(()=>{let t=class t{constructor(e){this.loaderService=e,this.message="Loading...",this.loading$=this.loaderService.loading$}};t.\u0275fac=function(i){return new(i||t)(v(Wu))},t.\u0275cmp=j({type:t,selectors:[["app-loader"]],inputs:{message:"message"},standalone:!0,features:[le],decls:2,vars:3,consts:[[1,"loader-overlay"],[1,"loader"],[1,"spinner"],[1,"loader-message"]],template:function(i,r){i&1&&(S(0,ab,5,1,"div",0),z(1,"async")),i&2&&V(U(1,1,r.loading$)?0:-1)},dependencies:[Xt],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#f9fafbf2;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9999}.loader[_ngcontent-%COMP%]{background:transparent;border-radius:1rem;padding:2rem;max-width:300px;width:90%;text-align:center;display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-top:4px solid #46777f;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loader-message[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:500;font-size:1.125rem;color:#1f2937;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.loader[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem}.loader-message[_ngcontent-%COMP%]{font-size:1rem}}"]});let a=t;return a})();var Wh=(()=>{let t=class t{constructor(){this.currentLanguage=new $i("en"),this.translations={loading:{en:"Loading...",hi:"\u0932\u094B\u0921 \u0939\u094B \u0930\u0939\u093E \u0939\u0948..."},error:{en:"Error",hi:"\u0924\u094D\u0930\u0941\u091F\u093F"},success:{en:"Success",hi:"\u0938\u092B\u0932\u0924\u093E"},cancel:{en:"Cancel",hi:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902"},save:{en:"Save",hi:"\u0938\u0939\u0947\u091C\u0947\u0902"},delete:{en:"Delete",hi:"\u0939\u091F\u093E\u090F\u0902"},edit:{en:"Edit",hi:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},add:{en:"Add",hi:"\u091C\u094B\u0921\u093C\u0947\u0902"},close:{en:"Close",hi:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902"},logout:{en:"Logout",hi:"\u0932\u0949\u0917\u0906\u0909\u091F"},login:{en:"Login",hi:"\u0932\u0949\u0917\u093F\u0928"},signup:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},email:{en:"Email",hi:"\u0908\u092E\u0947\u0932"},password:{en:"Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921"},name:{en:"Name",hi:"\u0928\u093E\u092E"},amount:{en:"Amount",hi:"\u0930\u093E\u0936\u093F"},date:{en:"Date",hi:"\u0924\u093E\u0930\u0940\u0916"},category:{en:"Category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940"},type:{en:"Type",hi:"\u092A\u094D\u0930\u0915\u093E\u0930"},income:{en:"Income",hi:"\u0906\u092F"},expense:{en:"Expense",hi:"\u0916\u0930\u094D\u091A"},total:{en:"Total",hi:"\u0915\u0941\u0932"},balance:{en:"Balance",hi:"\u0936\u0947\u0937 \u0930\u093E\u0936\u093F"},actions:{en:"Actions",hi:"\u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},search:{en:"Search",hi:"\u0916\u094B\u091C\u0947\u0902"},filter:{en:"Filter",hi:"\u092B\u093C\u093F\u0932\u094D\u091F\u0930"},clear:{en:"Clear",hi:"\u0938\u093E\u092B\u093C \u0915\u0930\u0947\u0902"},settings:{en:"Settings",hi:"\u0938\u0947\u091F\u093F\u0902\u0917\u094D\u0938"},dashboard:{en:"Dashboard",hi:"\u0921\u0948\u0936\u092C\u094B\u0930\u094D\u0921"},home:{en:"Home",hi:"\u0939\u094B\u092E"},accounts:{en:"Accounts",hi:"\u0916\u093E\u0924\u0947"},transactions:{en:"Transactions",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928"},categories:{en:"Categories",hi:"\u0936\u094D\u0930\u0947\u0923\u093F\u092F\u093E\u0902"},budgets:{en:"Budgets",hi:"\u092C\u091C\u091F"},goals:{en:"Goals",hi:"\u0932\u0915\u094D\u0937\u094D\u092F"},reports:{en:"Reports",hi:"\u0930\u093F\u092A\u094B\u0930\u094D\u091F\u094D\u0938"},calendar:{en:"Calendar",hi:"\u0915\u0948\u0932\u0947\u0902\u0921\u0930"},notes:{en:"Notes",hi:"\u0928\u094B\u091F\u094D\u0938"},tax:{en:"Tax",hi:"\u0915\u0930"},tools:{en:"Tools",hi:"\u0909\u092A\u0915\u0930\u0923"},moneyManager:{en:`${qt.APP_NAME}`,hi:"\u092E\u0928\u0940 \u092E\u0948\u0928\u0947\u091C\u0930"},manageFinances:{en:"Manage your finances",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0915\u0930\u0947\u0902"},welcomeBack:{en:"Welcome Back!",hi:"\u0935\u093E\u092A\u0938\u0940 \u092A\u0930 \u0938\u094D\u0935\u093E\u0917\u0924 \u0939\u0948!"},youSpend:{en:"You Spend",hi:"\u0906\u092A\u0915\u093E \u0916\u0930\u094D\u091A"},youEarn:{en:"You Earn",hi:"\u0906\u092A\u0915\u0940 \u0915\u092E\u093E\u0908"},netBalance:{en:"Net Balance",hi:"\u0936\u0941\u0926\u094D\u0927 \u0936\u0947\u0937"},thisMonth:{en:"This Month",hi:"\u0907\u0938 \u092E\u0939\u0940\u0928\u0947"},lastMonth:{en:"Last Month",hi:"\u092A\u093F\u091B\u0932\u0947 \u092E\u0939\u0940\u0928\u0947"},quickActions:{en:"Quick Actions",hi:"\u0924\u094D\u0935\u0930\u093F\u0924 \u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},recentTransactions:{en:"Recent Transactions",hi:"\u0939\u093E\u0932 \u0915\u0947 \u0932\u0947\u0928-\u0926\u0947\u0928"},upcomingBills:{en:"Upcoming Bills",hi:"\u0906\u0917\u093E\u092E\u0940 \u092C\u093F\u0932"},savingsGoal:{en:"Savings Goal",hi:"\u092C\u091A\u0924 \u0932\u0915\u094D\u0937\u094D\u092F"},signIn:{en:"Sign In",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928"},signUp:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},signOut:{en:"Sign Out",hi:"\u0938\u093E\u0907\u0928 \u0906\u0909\u091F"},forgotPassword:{en:"Forgot Password?",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092D\u0942\u0932 \u0917\u090F?"},resetPassword:{en:"Reset Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0930\u0940\u0938\u0947\u091F \u0915\u0930\u0947\u0902"},emailPlaceholder:{en:"Enter your email",hi:"\u0905\u092A\u0928\u093E \u0908\u092E\u0947\u0932 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},passwordPlaceholder:{en:"Enter your password",hi:"\u0905\u092A\u0928\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},confirmPassword:{en:"Confirm Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0915\u0940 \u092A\u0941\u0937\u094D\u091F\u093F \u0915\u0930\u0947\u0902"},namePlaceholder:{en:"Enter your name",hi:"\u0905\u092A\u0928\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},loginSuccess:{en:"Successfully signed in",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},loginError:{en:"Failed to sign in",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},signupSuccess:{en:"Successfully signed up",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},signupError:{en:"Failed to sign up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},sessionExpired:{en:"Session expired. Please sign in again.",hi:"\u0938\u0924\u094D\u0930 \u0938\u092E\u093E\u092A\u094D\u0924 \u0939\u094B \u0917\u092F\u093E\u0964 \u0915\u0943\u092A\u092F\u093E \u092B\u093F\u0930 \u0938\u0947 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902\u0964"},invalidCredentials:{en:"Invalid email or password",hi:"\u0905\u092E\u093E\u0928\u094D\u092F \u0908\u092E\u0947\u0932 \u092F\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921"},passwordMismatch:{en:"Passwords do not match",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092E\u0947\u0932 \u0928\u0939\u0940\u0902 \u0916\u093E\u0924\u0947"},emailRequired:{en:"Email is required",hi:"\u0908\u092E\u0947\u0932 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},passwordRequired:{en:"Password is required",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},nameRequired:{en:"Name is required",hi:"\u0928\u093E\u092E \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},addTransaction:{en:"Add Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0947\u0902"},editTransaction:{en:"Edit Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},deleteTransaction:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},transactionHistory:{en:"Transaction History",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0907\u0924\u093F\u0939\u093E\u0938"},manageTransactions:{en:"Manage and track your financial transactions",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924\u0940\u092F \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0914\u0930 \u091F\u094D\u0930\u0948\u0915\u093F\u0902\u0917 \u0915\u0930\u0947\u0902"},payee:{en:"Payee",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E"},payeePlaceholder:{en:"Enter payee name",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E \u0915\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},amountPlaceholder:{en:"Enter amount",hi:"\u0930\u093E\u0936\u093F \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},categoryPlaceholder:{en:"Select category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940 \u091A\u0941\u0928\u0947\u0902"},datePlaceholder:{en:"Select date",hi:"\u0924\u093E\u0930\u0940\u0916 \u091A\u0941\u0928\u0947\u0902"},notesPlaceholder:{en:"Add notes (optional)",hi:"\u0928\u094B\u091F\u094D\u0938 \u091C\u094B\u0921\u093C\u0947\u0902 (\u0935\u0948\u0915\u0932\u094D\u092A\u093F\u0915)"},noTransactions:{en:"No transactions yet",hi:"\u0905\u092D\u0940 \u0924\u0915 \u0915\u094B\u0908 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0928\u0939\u0940\u0902"},noTransactionsMessage:{en:"Start by adding your first transaction to track your finances.",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u091F\u094D\u0930\u0948\u0915 \u0930\u0916\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0905\u092A\u0928\u093E \u092A\u0939\u0932\u093E \u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0915\u0930 \u0936\u0941\u0930\u0942 \u0915\u0930\u0947\u0902\u0964"},transactionAdded:{en:"Transaction added successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u091C\u094B\u0921\u093C\u093E \u0917\u092F\u093E"},transactionUpdated:{en:"Transaction updated successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0905\u092A\u0921\u0947\u091F \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},transactionDeleted:{en:"Transaction deleted successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},confirmDelete:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},confirmDeleteMessage:{en:"Are you sure you want to delete this transaction?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0907\u0938 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u094B \u0939\u091F\u093E\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"},networkError:{en:"Network error. Please check your connection.",hi:"\u0928\u0947\u091F\u0935\u0930\u094D\u0915 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0915\u0928\u0947\u0915\u094D\u0936\u0928 \u091C\u093E\u0902\u091A\u0947\u0902\u0964"},serverError:{en:"Server error. Please try again later.",hi:"\u0938\u0930\u094D\u0935\u0930 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u092C\u093E\u0926 \u092E\u0947\u0902 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},validationError:{en:"Please check your input and try again.",hi:"\u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0907\u0928\u092A\u0941\u091F \u091C\u093E\u0902\u091A\u0947\u0902 \u0914\u0930 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},dataSaved:{en:"Data saved successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u0939\u0947\u091C\u093E \u0917\u092F\u093E"},dataDeleted:{en:"Data deleted successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},changesDiscarded:{en:"Changes discarded",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917 \u0926\u093F\u090F \u0917\u090F"},unsavedChanges:{en:"You have unsaved changes",hi:"\u0906\u092A\u0915\u0947 \u092A\u093E\u0938 \u0905\u0938\u0939\u0947\u091C\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0939\u0948\u0902"},confirmDiscard:{en:"Discard Changes",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0947\u0902"},confirmDiscardMessage:{en:"Are you sure you want to discard your changes?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0905\u092A\u0928\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"}};let e=localStorage.getItem("app_language");e&&(e==="en"||e==="hi")?this.currentLanguage.next(e):navigator.language.split("-")[0]==="hi"&&this.currentLanguage.next("hi")}getCurrentLanguage(){return this.currentLanguage.asObservable()}getCurrentLanguageValue(){return this.currentLanguage.value}setLanguage(e){this.currentLanguage.next(e),localStorage.setItem("app_language",e)}translate(e){let i=this.translations[e];return i&&(i[this.currentLanguage.value]||i.en)||e}translateWithParams(e,i){let r=this.translate(e);return Object.keys(i).forEach(o=>{r=r.replace(`{{${o}}}`,i[o])}),r}getAvailableLanguages(){return[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"\u0939\u093F\u0902\u0926\u0940"}]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();var eP=(()=>{let t=class t{constructor(e){this.translationService=e}transform(e,i){return i?this.translationService.translateWithParams(e,i):this.translationService.translate(e)}};t.\u0275fac=function(i){return new(i||t)(v(Wh,16))},t.\u0275pipe=os({name:"translate",type:t,pure:!0,standalone:!0});let a=t;return a})();function sb(a,t){a&1&&B(0,"div",2)}var lb=new ge("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var uP=(()=>{let t=class t{constructor(e,i,r,o,s){this._elementRef=e,this._ngZone=i,this._changeDetectorRef=r,this._animationMode=o,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new N,this._mode="determinate",this._transitionendHandler=l=>{this.animationEnd.observers.length===0||!l.target||!l.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=o==="NoopAnimations",s&&(s.color&&(this.color=this._defaultColor=s.color),this.mode=s.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(e){this._color=e}get value(){return this._value}set value(e){this._value=Xh(e||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=Xh(e||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}};t.\u0275fac=function(i){return new(i||t)(v(ye),v(Ze),v(Ce),v(Ft,8),v(lb,8))},t.\u0275cmp=j({type:t,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,r){i&2&&(Pe("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),Xe("mat-"+r.color),H("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",Pt],bufferValue:[2,"bufferValue","bufferValue",Pt],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[Fe,le],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){i&1&&(u(0,"div",0),B(1,"div",1),S(2,sb,1,0,"div",2),h(),u(3,"div",3),B(4,"span",4),h(),u(5,"div",5),B(6,"span",4),h()),i&2&&(f(),We("flex-basis",r._getBufferBarFlexBasis()),f(),V(r.mode==="buffer"?2:-1),f(),We("transform",r._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-app-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0});let a=t;return a})();function Xh(a,t=0,n=100){return Math.max(t,Math.min(n,a))}var Lc=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({imports:[He]});let a=t;return a})();var db=["mat-calendar-body",""];function mb(a,t){return this._trackRow(t)}var ip=(a,t)=>t.id;function ub(a,t){if(a&1&&(u(0,"tr",0)(1,"td",3),_(2),h()()),a&2){let n=M();f(),We("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),Pe("colspan",n.numCols),f(),$(" ",n.label," ")}}function hb(a,t){if(a&1&&(u(0,"td",3),_(1),h()),a&2){let n=M(2);We("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),Pe("colspan",n._firstRowOffset),f(),$(" ",n._firstRowOffset>=n.labelMinRequiredCells?n.label:""," ")}}function pb(a,t){if(a&1){let n=ee();u(0,"td",6)(1,"button",7),T("click",function(i){let r=E(n).$implicit,o=M(2);return A(o._cellClicked(r,i))})("focus",function(i){let r=E(n).$implicit,o=M(2);return A(o._emitActiveDateChange(r,i))}),u(2,"span",8),_(3),h(),B(4,"span",9),h()()}if(a&2){let n=t.$implicit,e=t.$index,i=M().$index,r=M();We("width",r._cellWidth)("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),Pe("data-mat-row",i)("data-mat-col",e),f(),H("mat-calendar-body-disabled",!n.enabled)("mat-calendar-body-active",r._isActiveCell(i,e))("mat-calendar-body-range-start",r._isRangeStart(n.compareValue))("mat-calendar-body-range-end",r._isRangeEnd(n.compareValue))("mat-calendar-body-in-range",r._isInRange(n.compareValue))("mat-calendar-body-comparison-bridge-start",r._isComparisonBridgeStart(n.compareValue,i,e))("mat-calendar-body-comparison-bridge-end",r._isComparisonBridgeEnd(n.compareValue,i,e))("mat-calendar-body-comparison-start",r._isComparisonStart(n.compareValue))("mat-calendar-body-comparison-end",r._isComparisonEnd(n.compareValue))("mat-calendar-body-in-comparison-range",r._isInComparisonRange(n.compareValue))("mat-calendar-body-preview-start",r._isPreviewStart(n.compareValue))("mat-calendar-body-preview-end",r._isPreviewEnd(n.compareValue))("mat-calendar-body-in-preview",r._isInPreview(n.compareValue)),P("ngClass",n.cssClasses)("tabindex",r._isActiveCell(i,e)?0:-1),Pe("aria-label",n.ariaLabel)("aria-disabled",!n.enabled||null)("aria-pressed",r._isSelected(n.compareValue))("aria-current",r.todayValue===n.compareValue?"date":null)("aria-describedby",r._getDescribedby(n.compareValue)),f(),H("mat-calendar-body-selected",r._isSelected(n.compareValue))("mat-calendar-body-comparison-identical",r._isComparisonIdentical(n.compareValue))("mat-calendar-body-today",r.todayValue===n.compareValue),f(),$(" ",n.displayValue," ")}}function gb(a,t){if(a&1&&(u(0,"tr",1),S(1,hb,2,6,"td",4),wt(2,pb,5,48,"td",5,ip),h()),a&2){let n=t.$implicit,e=t.$index,i=M();f(),V(e===0&&i._firstRowOffset?1:-1),f(),Mt(n)}}function fb(a,t){if(a&1&&(u(0,"th",2)(1,"span",6),_(2),h(),u(3,"span",3),_(4),h()()),a&2){let n=t.$implicit;f(2),R(n.long),f(2),R(n.narrow)}}var _b=["*"];function bb(a,t){}function vb(a,t){if(a&1){let n=ee();u(0,"mat-month-view",4),ps("activeDateChange",function(i){E(n);let r=M();return hs(r.activeDate,i)||(r.activeDate=i),A(i)}),T("_userSelection",function(i){E(n);let r=M();return A(r._dateSelected(i))})("dragStarted",function(i){E(n);let r=M();return A(r._dragStarted(i))})("dragEnded",function(i){E(n);let r=M();return A(r._dragEnded(i))}),h()}if(a&2){let n=M();us("activeDate",n.activeDate),P("selected",n.selected)("dateFilter",n.dateFilter)("maxDate",n.maxDate)("minDate",n.minDate)("dateClass",n.dateClass)("comparisonStart",n.comparisonStart)("comparisonEnd",n.comparisonEnd)("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName)("activeDrag",n._activeDrag)}}function yb(a,t){if(a&1){let n=ee();u(0,"mat-year-view",5),ps("activeDateChange",function(i){E(n);let r=M();return hs(r.activeDate,i)||(r.activeDate=i),A(i)}),T("monthSelected",function(i){E(n);let r=M();return A(r._monthSelectedInYearView(i))})("selectedChange",function(i){E(n);let r=M();return A(r._goToDateInView(i,"month"))}),h()}if(a&2){let n=M();us("activeDate",n.activeDate),P("selected",n.selected)("dateFilter",n.dateFilter)("maxDate",n.maxDate)("minDate",n.minDate)("dateClass",n.dateClass)}}function Cb(a,t){if(a&1){let n=ee();u(0,"mat-multi-year-view",6),ps("activeDateChange",function(i){E(n);let r=M();return hs(r.activeDate,i)||(r.activeDate=i),A(i)}),T("yearSelected",function(i){E(n);let r=M();return A(r._yearSelectedInMultiYearView(i))})("selectedChange",function(i){E(n);let r=M();return A(r._goToDateInView(i,"year"))}),h()}if(a&2){let n=M();us("activeDate",n.activeDate),P("selected",n.selected)("dateFilter",n.dateFilter)("maxDate",n.maxDate)("minDate",n.minDate)("dateClass",n.dateClass)}}function xb(a,t){}var wb=["button"],Mb=[[["","matDatepickerToggleIcon",""]]],Pb=["[matDatepickerToggleIcon]"];function Ob(a,t){a&1&&(nn(),u(0,"svg",2),B(1,"path",3),h())}var So=(()=>{let t=class t{constructor(){this.changes=new ue,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})(),kb=0,ko=class{constructor(t,n,e,i,r={},o=t,s){this.value=t,this.displayValue=n,this.ariaLabel=e,this.enabled=i,this.cssClasses=r,this.compareValue=o,this.rawValue=s,this.id=kb++}},Db=1,Qh=ia({passive:!1,capture:!0}),er=ia({passive:!0,capture:!0}),ll=ia({passive:!0}),Ma=(()=>{let t=class t{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=Le(Bt),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new N,this.previewChange=new N,this.activeDateChange=new N,this.dragStarted=new N,this.dragEnded=new N,this._didDragSinceMouseDown=!1,this._injector=Le(wi),this._trackRow=r=>r,this._enterHandler=r=>{if(this._skipNextFocus&&r.type==="focus"){this._skipNextFocus=!1;return}if(r.target&&this.isRange){let o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;let o=Kh(r),s=o?this._getCellFromElement(o):null;o!==r.target&&(this._didDragSinceMouseDown=!0),Nc(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:s!=null&&s.enabled?s:null,event:r}))},this._leaveHandler=r=>{this.previewEnd!==null&&this.isRange&&(r.type!=="blur"&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&!(r.relatedTarget&&this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let o=r.target&&this._getCellFromElement(r.target);!o||!this._isInRange(o.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:o.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;let o=Nc(r.target);if(!o){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})});return}o.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{var l;let s=this._getCellFromElement(o);this.dragEnded.emit({value:(l=s==null?void 0:s.rawValue)!=null?l:null,event:r})})},this._touchendHandler=r=>{let o=Kh(r);o&&this._mouseupHandler({target:o})},this._id=`mat-calendar-body-${Db++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{let r=e.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,Qh),r.addEventListener("mouseenter",this._enterHandler,er),r.addEventListener("focus",this._enterHandler,er),r.addEventListener("mouseleave",this._leaveHandler,er),r.addEventListener("blur",this._leaveHandler,er),r.addEventListener("mousedown",this._mousedownHandler,ll),r.addEventListener("touchstart",this._mousedownHandler,ll),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/o}%`),(i||!this._cellWidth)&&(this._cellWidth=`${100/o}%`)}ngOnDestroy(){let e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,Qh),e.removeEventListener("mouseenter",this._enterHandler,er),e.removeEventListener("focus",this._enterHandler,er),e.removeEventListener("mouseleave",this._leaveHandler,er),e.removeEventListener("blur",this._leaveHandler,er),e.removeEventListener("mousedown",this._mousedownHandler,ll),e.removeEventListener("touchstart",this._mousedownHandler,ll),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){Hi(()=>{setTimeout(()=>{let i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Vc(e,this.startValue,this.endValue)}_isRangeEnd(e){return $c(e,this.startValue,this.endValue)}_isInRange(e){return zc(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Vc(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){let s=this.rows[i-1];o=s&&s[s.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){let s=this.rows[i+1];o=s&&s[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return $c(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return zc(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Vc(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return $c(e,this.previewStart,this.previewEnd)}_isInPreview(e){return zc(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){let i=Nc(e);if(i){let r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}};t.\u0275fac=function(i){return new(i||t)(v(ye),v(Ze))},t.\u0275cmp=j({type:t,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[pt,le],attrs:db,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,r){i&1&&(S(0,ub,3,6,"tr",0),wt(1,gb,4,1,"tr",1,mb,!0),u(3,"span",2),_(4),h(),u(5,"span",2),_(6),h()),i&2&&(V(r._firstRowOffset<r.labelMinRequiredCells?0:-1),f(),Mt(r.rows),f(2),P("id",r._startDateLabelId),f(),$(" ",r.startDateAccessibleName,`
`),f(),P("id",r._endDateLabelId),f(),$(" ",r.endDateAccessibleName,`
`))},dependencies:[ea],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0});let a=t;return a})();function jc(a){return(a==null?void 0:a.nodeName)==="TD"}function Nc(a){var n;let t;return jc(a)?t=a:jc(a.parentNode)?t=a.parentNode:jc((n=a.parentNode)==null?void 0:n.parentNode)&&(t=a.parentNode.parentNode),(t==null?void 0:t.getAttribute("data-mat-row"))!=null?t:null}function Vc(a,t,n){return n!==null&&t!==n&&a<n&&a===t}function $c(a,t,n){return t!==null&&t!==n&&a>=t&&a===n}function zc(a,t,n,e){return e&&t!==null&&n!==null&&t!==n&&a>=t&&a<=n}function Kh(a){let t=a.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}var Ai=class{constructor(t,n){this.start=t,this.end=n}},Do=(()=>{let t=class t{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new ue,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){let r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}};t.\u0275fac=function(i){Hm()},t.\u0275prov=et({token:t,factory:t.\u0275fac});let a=t;return a})(),Sb=(()=>{let t=class t extends Do{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new t(this._adapter);return e.updateSelection(this.selection,this),e}};t.\u0275fac=function(i){return new(i||t)(Ae(bi))},t.\u0275prov=et({token:t,factory:t.\u0275fac});let a=t;return a})();function Tb(a,t){return a||new Sb(t)}var np={provide:Do,deps:[[new rs,new as,Do],bi],useFactory:Tb};var rp=new ge("MAT_DATE_RANGE_SELECTION_STRATEGY");var Hc=7,Ib=0,qh=(()=>{let t=class t{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof Ai?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,o,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=s,this._rerenderSubscription=ot.EMPTY,this.activeDrag=null,this.selectedChange=new N,this._userSelection=new N,this.dragStarted=new N,this.dragEnded=new N,this.activeDateChange=new N,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(fi(null)).subscribe(()=>this._init())}ngOnChanges(e){let i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let i=e.value,r=this._getDateFromDayOfMonth(i),o,s;this._selected instanceof Ai?(o=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):o=s=this._getDateInCurrentMonth(this._selected),(o!==i||s!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!_i(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(Hc+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%Hc,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){var r,o;if(this._rangeStrategy){let s=i?i.rawValue:null,l=this._rangeStrategy.createPreview(s,this.selected,e);if(this._previewStart=this._getCellCompareValue(l.start),this._previewEnd=this._getCellCompareValue(l.end),this.activeDrag&&s){let c=(o=(r=this._rangeStrategy).createDrag)==null?void 0:o.call(r,this.activeDrag.value,this.selected,s,e);c&&(this._previewStart=this._getCellCompareValue(c.start),this._previewEnd=this._getCellCompareValue(c.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){var i,r;if(this.activeDrag)if(e.value){let o=(r=(i=this._rangeStrategy)==null?void 0:i.createDrag)==null?void 0:r.call(i,this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:o!=null?o:null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow"),o=this._dateAdapter.getDayOfWeekNames("long").map((s,l)=>({long:s,narrow:i[l],id:Ib++}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){o==Hc&&(this._weeks.push([]),o=0);let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),l=this._shouldEnableDate(s),c=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),d=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new ko(r+1,i[r],c,l,d,this._getCellCompareValue(s),s))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!!(e&&i&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){let i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof Ai?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}};t.\u0275fac=function(i){return new(i||t)(v(Ce),v(Or,8),v(bi,8),v($t,8),v(rp,8))},t.\u0275cmp=j({type:t,selectors:[["mat-month-view"]],viewQuery:function(i,r){if(i&1&&Ie(Ma,5),i&2){let o;Q(o=K())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[pt,le],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(i,r){i&1&&(u(0,"table",0)(1,"thead",1)(2,"tr"),wt(3,fb,5,2,"th",2,ip),h(),u(5,"tr",3),B(6,"th",4),h()(),u(7,"tbody",5),T("selectedValueChange",function(s){return r._dateSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("previewChange",function(s){return r._previewChanged(s)})("dragStarted",function(s){return r.dragStarted.emit(s)})("dragEnded",function(s){return r._dragEnded(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),h()()),i&2&&(f(3),Mt(r._weekdays),f(4),P("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Ma],encapsulation:2,changeDetection:0});let a=t;return a})(),vi=24,Uc=4,Zh=(()=>{let t=class t{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),ap(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof Ai?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=ot.EMPTY,this.selectedChange=new N,this.yearSelected=new N,this.activeDateChange=new N,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(fi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let i=this._dateAdapter.getYear(this._activeDate)-Oo(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<vi;r++)o.push(i+r),o.length==Uc&&(this._years.push(o.map(s=>this._createCellForYear(s))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let i=e.value,r=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromYear(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Uc);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Uc);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Oo(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,vi-Oo(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-vi*10:-vi);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?vi*10:vi);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Oo(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){let i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new ko(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(e,0,1);for(let r=i;this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Ai){let i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}};t.\u0275fac=function(i){return new(i||t)(v(Ce),v(bi,8),v($t,8))},t.\u0275cmp=j({type:t,selectors:[["mat-multi-year-view"]],viewQuery:function(i,r){if(i&1&&Ie(Ma,5),i&2){let o;Q(o=K())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[le],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(i,r){i&1&&(u(0,"table",0)(1,"thead",1)(2,"tr"),B(3,"th",2),h()(),u(4,"tbody",3),T("selectedValueChange",function(s){return r._yearSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),h()()),i&2&&(f(4),P("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Ma],encapsulation:2,changeDetection:0});let a=t;return a})();function ap(a,t,n,e,i){let r=a.getYear(t),o=a.getYear(n),s=op(a,e,i);return Math.floor((r-s)/vi)===Math.floor((o-s)/vi)}function Oo(a,t,n,e){let i=a.getYear(t);return Eb(i-op(a,n,e),vi)}function op(a,t,n){let e=0;return n?e=a.getYear(n)-vi+1:t&&(e=a.getYear(t)),e}function Eb(a,t){return(a%t+t)%t}var Jh=(()=>{let t=class t{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){e instanceof Ai?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=ot.EMPTY,this.selectedChange=new N,this.monthSelected=new N,this.activeDateChange=new N,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(fi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);let o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(e){let i=e.value,r=this._activeDate;this.activeDate=this._getDateFromMonth(i),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(r,"year"):void 0;return new ko(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),s)}_shouldEnableMonth(e){let i=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(i,e,1);for(let o=r;this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){let r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){let r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof Ai?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}};t.\u0275fac=function(i){return new(i||t)(v(Ce),v(Or,8),v(bi,8),v($t,8))},t.\u0275cmp=j({type:t,selectors:[["mat-year-view"]],viewQuery:function(i,r){if(i&1&&Ie(Ma,5),i&2){let o;Q(o=K())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[le],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(i,r){i&1&&(u(0,"table",0)(1,"thead",1)(2,"tr"),B(3,"th",2),h()(),u(4,"tbody",3),T("selectedValueChange",function(s){return r._monthSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),h()()),i&2&&(f(4),P("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Ma],encapsulation:2,changeDetection:0});let a=t;return a})(),Ab=1,sp=(()=>{let t=class t{constructor(e,i,r,o,s){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._id=`mat-calendar-header-${Ab++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-vi)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:vi)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):ap(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let i=this._dateAdapter.getYear(this.calendar.activeDate)-Oo(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+vi-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return[o,s]}};t.\u0275fac=function(i){return new(i||t)(v(So),v(Wt(()=>Gc)),v(bi,8),v(Or,8),v(Ce))},t.\u0275cmp=j({type:t,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[le],ngContentSelectors:_b,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(i,r){i&1&&(ze(),u(0,"div",0)(1,"div",1)(2,"span",2),_(3),h(),u(4,"button",3),T("click",function(){return r.currentPeriodClicked()}),u(5,"span",4),_(6),h(),nn(),u(7,"svg",5),B(8,"polygon",6),h()(),ss(),B(9,"div",7),be(10),u(11,"button",8),T("click",function(){return r.previousClicked()}),nn(),u(12,"svg",9),B(13,"path",10),h()(),ss(),u(14,"button",11),T("click",function(){return r.nextClicked()}),nn(),u(15,"svg",9),B(16,"path",12),h()()()()),i&2&&(f(2),P("id",r._periodButtonLabelId),f(),R(r.periodButtonDescription),f(),Pe("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),f(2),R(r.periodButtonText),f(),H("mat-calendar-invert",r.calendar.currentView!=="month"),f(4),P("disabled",!r.previousEnabled()),Pe("aria-label",r.prevButtonLabel),f(3),P("disabled",!r.nextEnabled()),Pe("aria-label",r.nextButtonLabel))},dependencies:[It,Et],encapsulation:2,changeDetection:0});let a=t;return a})(),Gc=(()=>{let t=class t{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){e instanceof Ai?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){let i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new N,this.yearSelected=new N,this.monthSelected=new N,this.viewChanged=new N(!0),this._userSelection=new N,this._userDragDrop=new N,this._activeDrag=null,this.stateChanges=new ue,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new xc(this.headerComponent||sp),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){let s=this._getCurrentViewComponent();s&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let i=e.value;(this.selected instanceof Ai||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}};t.\u0275fac=function(i){return new(i||t)(v(So),v(bi,8),v(Or,8),v(Ce))},t.\u0275cmp=j({type:t,selectors:[["mat-calendar"]],viewQuery:function(i,r){if(i&1&&(Ie(qh,5),Ie(Jh,5),Ie(Zh,5)),i&2){let o;Q(o=K())&&(r.monthView=o.first),Q(o=K())&&(r.yearView=o.first),Q(o=K())&&(r.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[Ee([np]),pt,le],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(i,r){if(i&1&&(S(0,bb,0,0,"ng-template",0),u(1,"div",1),S(2,vb,1,11,"mat-month-view",2)(3,yb,1,6,"mat-year-view",3)(4,Cb,1,6,"mat-multi-year-view",3),h()),i&2){let o;P("cdkPortalOutlet",r._calendarHeaderPortal),f(2),V((o=r.currentView)==="month"?2:o==="year"?3:o==="multi-year"?4:-1)}},dependencies:[yn,Ms,qh,Jh,Zh],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let a=t;return a})(),ep={transformPanel:zt("transformPanel",[it("void => enter-dropdown",rt("120ms cubic-bezier(0, 0, 0.2, 1)",Hn([Oe({opacity:0,transform:"scale(1, 0.8)"}),Oe({opacity:1,transform:"scale(1, 1)"})]))),it("void => enter-dialog",rt("150ms cubic-bezier(0, 0, 0.2, 1)",Hn([Oe({opacity:0,transform:"scale(0.7)"}),Oe({transform:"none",opacity:1})]))),it("* => void",rt("100ms linear",Oe({opacity:0})))]),fadeInCalendar:zt("fadeInCalendar",[Ke("void",Oe({opacity:0})),Ke("enter",Oe({opacity:1})),it("void => *",rt("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Rb=0,lp=new ge("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let a=Le(Un);return()=>a.scrollStrategies.reposition()}});function Fb(a){return()=>a.scrollStrategies.reposition()}var Bb={provide:lp,deps:[Un],useFactory:Fb},cp=(()=>{let t=class t{constructor(e,i,r,o,s,l){this._elementRef=e,this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=s,this._subscriptions=new ot,this._animationDone=new ue,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=l.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let i=this._model.selection,r=e.value,o=i instanceof Ai;if(o&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(s,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating=e.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}};t.\u0275fac=function(i){return new(i||t)(v(ye),v(Ce),v(Do),v(bi),v(rp,8),v(So))},t.\u0275cmp=j({type:t,selectors:[["mat-datepicker-content"]],viewQuery:function(i,r){if(i&1&&Ie(Gc,5),i&2){let o;Q(o=K())&&(r._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(i,r){i&1&&ms("@transformPanel.start",function(s){return r._handleAnimationEvent(s)})("@transformPanel.done",function(s){return r._handleAnimationEvent(s)}),i&2&&(ds("@transformPanel",r._animationState),Xe(r.color?"mat-"+r.color:""),H("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[le],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(i,r){if(i&1&&(u(0,"div",0)(1,"mat-calendar",1),T("yearSelected",function(s){return r.datepicker._selectYear(s)})("monthSelected",function(s){return r.datepicker._selectMonth(s)})("viewChanged",function(s){return r.datepicker._viewChanged(s)})("_userSelection",function(s){return r._handleUserSelection(s)})("_userDragDrop",function(s){return r._handleUserDragDrop(s)}),h(),S(2,xb,0,0,"ng-template",2),u(3,"button",3),T("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),_(4),h()()),i&2){let o;H("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),Pe("aria-modal",!0)("aria-labelledby",(o=r._dialogLabelId)!==null&&o!==void 0?o:void 0),f(),Xe(r.datepicker.panelClass),P("id",r.datepicker.id)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),f(),P("cdkPortalOutlet",r._actionsPortal),f(),H("cdk-visually-hidden",!r._closeButtonFocused),P("color",r.color||"primary"),f(),R(r._closeButtonText)}},dependencies:[fu,Gc,yn,It],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[ep.transformPanel,ep.fadeInCalendar]},changeDetection:0});let a=t;return a})(),tp=(()=>{let t=class t{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=du(e)}get opened(){return this._opened}set opened(e){e?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,i,r,o,s,l,c){this._overlay=e,this._viewContainerRef=r,this._dateAdapter=s,this._dir=l,this._model=c,this._inputStateChanges=ot.EMPTY,this._document=Le(Ui),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new N,this.monthSelected=new N,this.viewChanged=new N(!0),this.openedStream=new N,this.closedStream=new N,this._opened=!1,this.id=`mat-datepicker-${Rb++}`,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new ue,this._injector=Le(wi),this._changeDetectorRef=Le(Ce),this._dateAdapter,this._scrollStrategy=o,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;r instanceof Eu&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){var i;this._actionsPortal,this._actionsPortal=e,(i=this._componentRef)==null||i.instance._assignActions(e,!0)}removeActions(e){var i;e===this._actionsPortal&&(this._actionsPortal=null,(i=this._componentRef)==null||i.instance._assignActions(null,!0))}open(){var e;this._opened||this.disabled||(e=this._componentRef)!=null&&e.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=lu(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){var r;if(!this._opened||(r=this._componentRef)!=null&&r.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:o,location:s}=this._componentRef;o._startExitAnimation(),o._animationDone.pipe(En(1)).subscribe(()=>{let l=this._document.activeElement;e&&(!l||l===this._document.activeElement||s.nativeElement.contains(l))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){var e,i;(i=(e=this._componentRef)==null?void 0:e.instance)==null||i._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,i=new xc(cp,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new wc({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{let s=o.keyCode;(s===38||s===40||s===37||s===39||s===33||s===34)&&o.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||Hi(()=>{r.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let i=this.xPosition==="end"?"end":"start",r=i==="start"?"end":"start",o=this.yPosition==="above"?"bottom":"top",s=o==="top"?"bottom":"top";return e.withPositions([{originX:i,originY:s,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:s}])}_getCloseStream(e){let i=["ctrlKey","shiftKey","metaKey"];return ht(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Ct(r=>r.keyCode===27&&!_i(r)||this.datepickerInput&&_i(r,"altKey")&&r.keyCode===38&&i.every(o=>!_i(r,o)))))}};t.\u0275fac=function(i){return new(i||t)(v(Un),v(Ze),v(ii),v(lp),v(bi,8),v($t,8),v(Do))},t.\u0275dir=re({type:t,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",Z],disabled:[2,"disabled","disabled",Z],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",Z],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",Z]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Fe,pt]});let a=t;return a})(),KP=(()=>{let t=class t extends tp{};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=xt(t)))(r||t)}})(),t.\u0275cmp=j({type:t,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[Ee([np,{provide:tp,useExisting:t}]),je,le],decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0});let a=t;return a})(),wa=class{constructor(t,n){this.target=t,this.targetElement=n,this.value=this.target.value}},Lb=(()=>{let t=class t{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let i=e,r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){let r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new wa(this,this._elementRef.nativeElement)),this.dateChange.emit(new wa(this,this._elementRef.nativeElement))}})}constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new N,this.dateInput=new N,this.stateChanges=new ue,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=ot.EMPTY,this._localeSubscription=ot.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{let s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!s||this._matchesFilter(s)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{let s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),l=this._getMinDate();return!l||!s||this._dateAdapter.compareDate(l,s)<=0?null:{matDatepickerMin:{min:l,actual:s}}},this._maxValidator=o=>{let s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),l=this._getMaxDate();return!l||!s||this._dateAdapter.compareDate(l,s)>=0?null:{matDatepickerMax:{max:l,actual:s}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){jb(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let i=["ctrlKey","shiftKey","metaKey"];_i(e,"altKey")&&e.keyCode===40&&i.every(o=>!_i(e,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let i=this._lastValueValid,r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);let o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new wa(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new wa(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let i=this._getDateFilter();return!i||i(e)}};t.\u0275fac=function(i){return new(i||t)(v(ye),v(bi,8),v(Or,8))},t.\u0275dir=re({type:t,inputs:{value:"value",disabled:[2,"disabled","disabled",Z]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[Fe,pt]});let a=t;return a})();function jb(a,t){let n=Object.keys(a);for(let e of n){let{previousValue:i,currentValue:r}=a[e];if(t.isDateInstance(i)&&t.isDateInstance(r)){if(!t.sameDate(i,r))return!0}else return!0}return!1}var Nb={provide:Rn,useExisting:Wt(()=>dp),multi:!0},Vb={provide:_s,useExisting:Wt(()=>dp),multi:!0},dp=(()=>{let t=class t extends Lb{set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){let i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(e,i,r,o){super(e,i,r),this._formField=o,this._closedSubscription=ot.EMPTY,this._openedSubscription=ot.EMPTY,this._ariaOwns=ls(null),this._validator=Ne.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}};t.\u0275fac=function(i){return new(i||t)(v(ye),v(bi,8),v(Or,8),v(zu,8))},t.\u0275dir=re({type:t,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,r){i&1&&T("input",function(s){return r._onInput(s.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(s){return r._onKeydown(s)}),i&2&&(cs("disabled",r.disabled),Pe("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",r._ariaOwns())("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[Ee([Nb,Vb,{provide:Gu,useExisting:t}]),je]});let a=t;return a})(),$b=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=re({type:t,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0});let a=t;return a})(),zb=(()=>{let t=class t{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=ot.EMPTY;let o=Number(r);this.tabIndex=o||o===0?o:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:_e(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:_e(),r=this.datepicker?ht(this.datepicker.openedStream,this.datepicker.closedStream):_e();this._stateChanges.unsubscribe(),this._stateChanges=ht(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}};t.\u0275fac=function(i){return new(i||t)(v(So),v(Ce),zi("tabindex"))},t.\u0275cmp=j({type:t,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,r,o){if(i&1&&$e(o,$b,5),i&2){let s;Q(s=K())&&(r._customIcon=s.first)}},viewQuery:function(i,r){if(i&1&&Ie(wb,5),i&2){let o;Q(o=K())&&(r._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,r){i&1&&T("click",function(s){return r._open(s)}),i&2&&(Pe("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),H("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&r.datepicker.color==="accent")("mat-warn",r.datepicker&&r.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",Z],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[Fe,pt,le],ngContentSelectors:Pb,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,r){i&1&&(ze(Mb),u(0,"button",1,0),S(2,Ob,2,0,":svg:svg",2),be(3),h()),i&2&&(P("disabled",r.disabled)("disableRipple",r.disableRipple),Pe("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),f(2),V(r._customIcon?-1:2))},dependencies:[Et],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0});let a=t;return a})();var Xc=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({providers:[So,Bb],imports:[Nt,kr,Ss,_u,Ps,He,cp,zb,sp,Sr]});let a=t;return a})();var up=["*"],Hb=["content"],Ub=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Gb=["mat-drawer","mat-drawer-content","*"];function Yb(a,t){if(a&1){let n=ee();u(0,"div",1),T("click",function(){E(n);let i=M();return A(i._onBackdropClicked())}),h()}if(a&2){let n=M();H("mat-drawer-shown",n._isShowingBackdrop())}}function Wb(a,t){a&1&&(u(0,"mat-drawer-content"),be(1,2),h())}var Xb={transformDrawer:zt("transform",[Ke("open, open-instant",Oe({transform:"none",visibility:"visible"})),Ke("void",Oe({"box-shadow":"none",visibility:"hidden"})),it("void => open-instant",rt("0ms")),it("void <=> open, open-instant => void",rt("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var Qb=new ge("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:Kb}),hp=new ge("MAT_DRAWER_CONTAINER");function Kb(){return!1}var Qc=(()=>{let t=class t extends aa{constructor(e,i,r,o,s){super(r,o,s),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}};t.\u0275fac=function(i){return new(i||t)(v(Ce),v(Wt(()=>Zb)),v(ye),v(Tu),v(Ze))},t.\u0275cmp=j({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){i&2&&We("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},standalone:!0,features:[Ee([{provide:aa,useExisting:t}]),je,le],ngContentSelectors:up,decls:1,vars:0,template:function(i,r){i&1&&(ze(),be(0))},encapsulation:2,changeDetection:0});let a=t;return a})(),qb=(()=>{let t=class t{get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Si(e)}get autoFocus(){let e=this._autoFocus;return e==null?this.mode==="side"?"dialog":"first-tabbable":e}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=Si(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Si(e))}constructor(e,i,r,o,s,l,c,d){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=l,this._doc=c,this._container=d,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ue,this._animationEnd=new ue,this._animationState="void",this.openedChange=new N(!0),this._openedStream=this.openedChange.pipe(Ct(p=>p),ne(()=>{})),this.openedStart=this._animationStarted.pipe(Ct(p=>p.fromState!==p.toState&&p.toState.indexOf("open")===0),sc(void 0)),this._closedStream=this.openedChange.pipe(Ct(p=>!p),ne(()=>{})),this.closedStart=this._animationStarted.pipe(Ct(p=>p.fromState!==p.toState&&p.toState==="void"),sc(void 0)),this._destroyed=new ue,this.onPositionChanged=new N,this._modeChanged=new ue,this._injector=Le(wi),this._changeDetectorRef=Le(Ce),this.openedChange.pipe(De(this._destroyed)).subscribe(p=>{p?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Zr(this._elementRef.nativeElement,"keydown").pipe(Ct(p=>p.keyCode===27&&!this.disableClose&&!_i(p)),De(this._destroyed)).subscribe(p=>this._ngZone.run(()=>{this.close(),p.stopPropagation(),p.preventDefault()}))}),this._animationEnd.subscribe(p=>{let{fromState:g,toState:m}=p;(m.indexOf("open")===0&&g==="void"||m==="void"&&g.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Hi(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e,i;(e=this._focusTrap)==null||e.destroy(),(i=this._anchor)==null||i.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);let r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(En(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){var e;this._focusTrap&&(this._focusTrap.enabled=!!((e=this._container)!=null&&e.hasBackdrop)&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let i=this._elementRef.nativeElement,r=i.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}};t.\u0275fac=function(i){return new(i||t)(v(ye),v(gu),v(on),v(Bt),v(Ze),v(pu),v(Ui,8),v(hp,8))},t.\u0275cmp=j({type:t,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(i&1&&Ie(Hb,5),i&2){let o;Q(o=K())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){i&1&&ms("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),i&2&&(ds("@transform",r._animationState),Pe("align",null),H("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side")("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[le],ngContentSelectors:up,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,r){i&1&&(ze(),u(0,"div",1,0),be(2),h())},dependencies:[aa],encapsulation:2,data:{animation:[Xb.transformDrawer]},changeDetection:0});let a=t;return a})(),Zb=(()=>{let t=class t{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Si(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:Si(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,o,s,l=!1,c){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=c,this._drawers=new ja,this.backdropClick=new N,this._destroyed=new ue,this._doCheckSubject=new ue,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ue,this._injector=Le(wi),e&&e.change.pipe(De(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(De(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=l}ngAfterContentInit(){this._allDrawers.changes.pipe(fi(this._allDrawers),De(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(fi(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(ns(10),De(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let r=this._left._getWidth();e+=r,i-=r}}if(this._right&&this._right.opened){if(this._right.mode=="side")i+=this._right._getWidth();else if(this._right.mode=="push"){let r=this._right._getWidth();i+=r,e-=r}}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Ct(i=>i.fromState!==i.toState),De(this._drawers.changes)).subscribe(i=>{i.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(De(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(De(this._drawers.changes)).subscribe(()=>{Hi(()=>{this._validateDrawers()},{injector:this._injector,phase:Gm.Read})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(De(ht(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}};t.\u0275fac=function(i){return new(i||t)(v($t,8),v(ye),v(Ze),v(Ce),v(Dr),v(Qb),v(Ft,8))},t.\u0275cmp=j({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(i&1&&($e(o,Qc,5),$e(o,qb,5)),i&2){let s;Q(s=K())&&(r._content=s.first),Q(s=K())&&(r._allDrawers=s)}},viewQuery:function(i,r){if(i&1&&Ie(Qc,5),i&2){let o;Q(o=K())&&(r._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){i&2&&H("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[Ee([{provide:hp,useExisting:t}]),le],ngContentSelectors:Gb,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){i&1&&(ze(Ub),S(0,Yb,1,2,"div",0),be(1),be(2,1),S(3,Wb,2,0,"mat-drawer-content")),i&2&&(V(r.hasBackdrop?0:-1),f(3),V(r._content?-1:3))},dependencies:[Qc],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0});let a=t;return a})();var Kc=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({imports:[He,Sr,Sr,He]});let a=t;return a})();var qc=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({imports:[He,He]});let a=t;return a})();var i0=[[["caption"]],[["colgroup"],["col"]],"*"],n0=["caption","colgroup, col","*"];function r0(a,t){a&1&&be(0,2)}function a0(a,t){a&1&&(u(0,"thead",0),di(1,1),h(),u(2,"tbody",0),di(3,2)(4,3),h(),u(5,"tfoot",0),di(6,4),h())}function o0(a,t){a&1&&di(0,1)(1,2)(2,3)(3,4)}var Xi=new ge("CDK_TABLE");var _l=(()=>{let t=class t{constructor(e){this.template=e}};t.\u0275fac=function(i){return new(i||t)(v(Tt))},t.\u0275dir=re({type:t,selectors:[["","cdkCellDef",""]],standalone:!0});let a=t;return a})(),bl=(()=>{let t=class t{constructor(e){this.template=e}};t.\u0275fac=function(i){return new(i||t)(v(Tt))},t.\u0275dir=re({type:t,selectors:[["","cdkHeaderCellDef",""]],standalone:!0});let a=t;return a})(),fp=(()=>{let t=class t{constructor(e){this.template=e}};t.\u0275fac=function(i){return new(i||t)(v(Tt))},t.\u0275dir=re({type:t,selectors:[["","cdkFooterCellDef",""]],standalone:!0});let a=t;return a})(),Pa=(()=>{let t=class t{get name(){return this._name}set name(e){this._setNameInput(e)}get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}constructor(e){this._table=e,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}};t.\u0275fac=function(i){return new(i||t)(v(Xi,8))},t.\u0275dir=re({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,r,o){if(i&1&&($e(o,_l,5),$e(o,bl,5),$e(o,fp,5)),i&2){let s;Q(s=K())&&(r.cell=s.first),Q(s=K())&&(r.headerCell=s.first),Q(s=K())&&(r.footerCell=s.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",Z],stickyEnd:[2,"stickyEnd","stickyEnd",Z]},standalone:!0,features:[Ee([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Fe]});let a=t;return a})(),hl=class{constructor(t,n){n.nativeElement.classList.add(...t._columnCssClassName)}},_p=(()=>{let t=class t extends hl{constructor(e,i){super(e,i)}};t.\u0275fac=function(i){return new(i||t)(v(Pa),v(ye))},t.\u0275dir=re({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[je]});let a=t;return a})();var bp=(()=>{let t=class t extends hl{constructor(e,i){var o;super(e,i);let r=(o=e._table)==null?void 0:o._getCellRole();r&&i.nativeElement.setAttribute("role",r)}};t.\u0275fac=function(i){return new(i||t)(v(Pa),v(ye))},t.\u0275dir=re({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[je]});let a=t;return a})(),pl=class{constructor(){this.tasks=[],this.endTasks=[]}},gl=new ge("_COALESCED_STYLE_SCHEDULER"),Jc=(()=>{let t=class t{constructor(e){this._currentSchedule=null,this._ngZone=Le(Ze)}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new pl,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new pl;for(let i of e.tasks)i();for(let i of e.endTasks)i()}this._currentSchedule=null})))}};t.\u0275fac=function(i){return new(i||t)(Ae(Ze))},t.\u0275prov=et({token:t,factory:t.\u0275fac});let a=t;return a})();var ed=(()=>{let t=class t{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){let i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof To?e.headerCell.template:this instanceof td?e.footerCell.template:e.cell.template}};t.\u0275fac=function(i){return new(i||t)(v(Tt),v(Jr))},t.\u0275dir=re({type:t,features:[pt]});let a=t;return a})(),To=(()=>{let t=class t extends ed{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,i,r){super(e,i),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}};t.\u0275fac=function(i){return new(i||t)(v(Tt),v(Jr),v(Xi,8))},t.\u0275dir=re({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",Z]},standalone:!0,features:[Fe,je,pt]});let a=t;return a})(),td=(()=>{let t=class t extends ed{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,i,r){super(e,i),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}};t.\u0275fac=function(i){return new(i||t)(v(Tt),v(Jr),v(Xi,8))},t.\u0275dir=re({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",Z]},standalone:!0,features:[Fe,je,pt]});let a=t;return a})(),vl=(()=>{let t=class t extends ed{constructor(e,i,r){super(e,i),this._table=r}};t.\u0275fac=function(i){return new(i||t)(v(Tt),v(Jr),v(Xi,8))},t.\u0275dir=re({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[je]});let a=t;return a})(),Br=(()=>{let t=class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}};t.mostRecentCellOutlet=null,t.\u0275fac=function(i){return new(i||t)(v(ii))},t.\u0275dir=re({type:t,selectors:[["","cdkCellOutlet",""]],standalone:!0});let a=t;return a})(),id=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=j({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[le],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&di(0,0)},dependencies:[Br],encapsulation:2});let a=t;return a})();var nd=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=j({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[le],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&di(0,0)},dependencies:[Br],encapsulation:2});let a=t;return a})(),vp=(()=>{let t=class t{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}};t.\u0275fac=function(i){return new(i||t)(v(Tt))},t.\u0275dir=re({type:t,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0});let a=t;return a})(),pp=["top","bottom","left","right"],Zc=class{constructor(t,n,e,i,r=!0,o=!0,s){this._isNativeHtmlTable=t,this._stickCellCss=n,this.direction=e,this._coalescedStyleScheduler=i,this._isBrowser=r,this._needsPositionStickyOnElement=o,this._positionListener=s,this._elemSizeCache=new WeakMap,this._resizeObserver=globalThis!=null&&globalThis.ResizeObserver?new globalThis.ResizeObserver(l=>this._updateCachedSizes(l)):null,this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null,this._cachedCellWidths=[],this._borderCellCss={top:`${n}-border-elem-top`,bottom:`${n}-border-elem-bottom`,left:`${n}-border-elem-left`,right:`${n}-border-elem-right`}}clearStickyPositioning(t,n){(n.includes("left")||n.includes("right"))&&this._removeFromStickyColumnReplayQueue(t);let e=[];for(let i of t)if(i.nodeType===i.ELEMENT_NODE){e.push(i);for(let r=0;r<i.children.length;r++)e.push(i.children[r])}this._coalescedStyleScheduler.schedule(()=>{for(let i of e)this._removeStickyStyle(i,n)})}updateStickyColumns(t,n,e,i=!0,r=!0){if(r&&this._updateStickyColumnReplayQueue({rows:[...t],stickyStartStates:[...n],stickyEndStates:[...e]}),!t.length||!this._isBrowser||!(n.some(o=>o)||e.some(o=>o))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let o=t[0],s=o.children.length,l=this._getCellWidths(o,i),c=this._getStickyStartColumnPositions(l,n),d=this._getStickyEndColumnPositions(l,e),p=n.lastIndexOf(!0),g=e.indexOf(!0),m=this.direction==="rtl",C=m?"right":"left",b=m?"left":"right";for(let x of t)for(let y=0;y<s;y++){let w=x.children[y];n[y]&&this._addStickyStyle(w,C,c[y],y===p),e[y]&&this._addStickyStyle(w,b,d[y],y===g)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:p===-1?[]:l.slice(0,p+1).map((x,y)=>n[y]?x:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:g===-1?[]:l.slice(g).map((x,y)=>e[y+g]?x:null).reverse()}))})}stickRows(t,n,e){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{var d,p;let i=e==="bottom"?t.slice().reverse():t,r=e==="bottom"?n.slice().reverse():n,o=[],s=[],l=[];for(let g=0,m=0;g<i.length;g++){if(!r[g])continue;o[g]=m;let C=i[g];l[g]=this._isNativeHtmlTable?Array.from(C.children):[C];let b=this._retrieveElementSize(C).height;m+=b,s[g]=b}let c=r.lastIndexOf(!0);for(let g=0;g<i.length;g++){if(!r[g])continue;let m=o[g],C=g===c;for(let b of l[g])this._addStickyStyle(b,e,m,C)}e==="top"?(d=this._positionListener)==null||d.stickyHeaderRowsUpdated({sizes:s,offsets:o,elements:l}):(p=this._positionListener)==null||p.stickyFooterRowsUpdated({sizes:s,offsets:o,elements:l})})}updateStickyFooterContainer(t,n){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let e=t.querySelector("tfoot");e&&(n.some(i=>!i)?this._removeStickyStyle(e,["bottom"]):this._addStickyStyle(e,"bottom",0,!1))})}_removeStickyStyle(t,n){for(let i of n)t.style[i]="",t.classList.remove(this._borderCellCss[i]);pp.some(i=>n.indexOf(i)===-1&&t.style[i])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,n,e,i){t.classList.add(this._stickCellCss),i&&t.classList.add(this._borderCellCss[n]),t.style[n]=`${e}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){let n={top:100,bottom:10,left:1,right:1},e=0;for(let i of pp)t.style[i]&&(e+=n[i]);return e?`${e}`:""}_getCellWidths(t,n=!0){if(!n&&this._cachedCellWidths.length)return this._cachedCellWidths;let e=[],i=t.children;for(let r=0;r<i.length;r++){let o=i[r];e.push(this._retrieveElementSize(o).width)}return this._cachedCellWidths=e,e}_getStickyStartColumnPositions(t,n){let e=[],i=0;for(let r=0;r<t.length;r++)n[r]&&(e[r]=i,i+=t[r]);return e}_getStickyEndColumnPositions(t,n){let e=[],i=0;for(let r=t.length;r>0;r--)n[r]&&(e[r]=i,i+=t[r]);return e}_retrieveElementSize(t){let n=this._elemSizeCache.get(t);if(n)return n;let e=t.getBoundingClientRect(),i={width:e.width,height:e.height};return this._resizeObserver&&(this._elemSizeCache.set(t,i),this._resizeObserver.observe(t,{box:"border-box"})),i}_updateStickyColumnReplayQueue(t){this._removeFromStickyColumnReplayQueue(t.rows),!this._stickyColumnsReplayTimeout&&this._updatedStickyColumnsParamsToReplay.push(t)}_removeFromStickyColumnReplayQueue(t){let n=new Set(t);for(let e of this._updatedStickyColumnsParamsToReplay)e.rows=e.rows.filter(i=>!n.has(i));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(e=>!!e.rows.length)}_updateCachedSizes(t){var e,i;let n=!1;for(let r of t){let o=(e=r.borderBoxSize)!=null&&e.length?{width:r.borderBoxSize[0].inlineSize,height:r.borderBoxSize[0].blockSize}:{width:r.contentRect.width,height:r.contentRect.height};o.width!==((i=this._elemSizeCache.get(r.target))==null?void 0:i.width)&&s0(r.target)&&(n=!0),this._elemSizeCache.set(r.target,o)}n&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{for(let r of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(r.rows,r.stickyStartStates,r.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null},0))}};function s0(a){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(t=>a.classList.contains(t))}var fl=new ge("CDK_SPL");var rd=(()=>{let t=class t{constructor(e,i){this.viewContainer=e,this.elementRef=i;let r=Le(Xi);r._rowOutlet=this,r._outletAssigned()}};t.\u0275fac=function(i){return new(i||t)(v(ii),v(ye))},t.\u0275dir=re({type:t,selectors:[["","rowOutlet",""]],standalone:!0});let a=t;return a})(),ad=(()=>{let t=class t{constructor(e,i){this.viewContainer=e,this.elementRef=i;let r=Le(Xi);r._headerRowOutlet=this,r._outletAssigned()}};t.\u0275fac=function(i){return new(i||t)(v(ii),v(ye))},t.\u0275dir=re({type:t,selectors:[["","headerRowOutlet",""]],standalone:!0});let a=t;return a})(),od=(()=>{let t=class t{constructor(e,i){this.viewContainer=e,this.elementRef=i;let r=Le(Xi);r._footerRowOutlet=this,r._outletAssigned()}};t.\u0275fac=function(i){return new(i||t)(v(ii),v(ye))},t.\u0275dir=re({type:t,selectors:[["","footerRowOutlet",""]],standalone:!0});let a=t;return a})(),sd=(()=>{let t=class t{constructor(e,i){this.viewContainer=e,this.elementRef=i;let r=Le(Xi);r._noDataRowOutlet=this,r._outletAssigned()}};t.\u0275fac=function(i){return new(i||t)(v(ii),v(ye))},t.\u0275dir=re({type:t,selectors:[["","noDataRowOutlet",""]],standalone:!0});let a=t;return a})();var ld=(()=>{let t=class t{_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,o,s,l,c,d,p,g,m,C){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=s,this._platform=c,this._viewRepeater=d,this._coalescedStyleScheduler=p,this._viewportRuler=g,this._stickyPositioningListener=m,this._onDestroy=new ue,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new N,this.viewChange=new $i({start:0,end:Number.MAX_VALUE}),this._injector=Le(wi),o||r.nativeElement.setAttribute("role","table"),this._document=l,this._isServer=!c.isBrowser,this._isNativeHtmlTable=r.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(De(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){var e,i,r;[(e=this._rowOutlet)==null?void 0:e.viewContainer,(i=this._headerRowOutlet)==null?void 0:i.viewContainer,(r=this._footerRowOutlet)==null?void 0:r.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(o=>{o==null||o.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Os(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,s)=>this._getEmbeddedViewArgs(r.item,s),r=>r.item.data,r=>{r.operation===Du.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);o.context.$implicit=r.item.data}),this._updateNoDataRow(),Hi(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let r=gp(this._headerRowOutlet,"thead");r&&(r.style.display=e.length?"":"none")}let i=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,i,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let r=gp(this._footerRowOutlet,"tfoot");r&&(r.style.display=e.length?"":"none")}let i=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{let s=[];for(let l=0;l<i.length;l++)this._renderRows[l].rowDef===o&&s.push(i[l]);this._addStickyColumnStyles(s,o)}),r.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r],s=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let l=0;l<s.length;l++){let c=s[l],d=this._cachedRenderRowsMap.get(c.data);d.has(c.rowDef)?d.get(c.rowDef).push(c):d.set(c.rowDef,[c]),e.push(c)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(s=>{let l=r&&r.has(s)?r.get(s):[];if(l.length){let c=l.shift();return c.dataIndex=i,c}else return{data:e,rowDef:s,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ul(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=ul(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ul(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ul(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(i=>!i.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(s,l)=>{let c=!!l.getColumnsDiff();return s||c},i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();let r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],Os(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Os(this.dataSource)?e=this.dataSource.connect(this):Em(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=_e(this.dataSource)),this._renderChangeSubscription=e.pipe(De(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){let r=Array.from(i.columns||[]).map(l=>{let c=this._columnDefsByName.get(l);return c}),o=r.map(l=>l.sticky),s=r.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let i=[];for(let r=0;r<e.viewContainer.length;r++){let o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(this._rowDefs.length==1)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(s=>s.when&&s.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r.length,r}_getEmbeddedViewArgs(e,i){let r=e.rowDef,o={$implicit:e.data};return{templateRef:r.template,context:o,index:i}}_renderRow(e,i,r,o={}){let s=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),s}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Br.mostRecentCellOutlet&&Br.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){let s=e.get(i).context;s.count=r,s.first=i===0,s.last=i===r-1,s.even=i%2===0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[i].dataIndex,s.renderIndex=i):s.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,i=>{let r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new Zc(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:_e()).pipe(De(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let i=this._rowOutlet.viewContainer.length===0;if(i===this._isShowingNoDataRow)return;let r=this._noDataRowOutlet.viewContainer;if(i){let o=r.createEmbeddedView(e.templateRef),s=o.rootNodes[0];o.rootNodes.length===1&&(s==null?void 0:s.nodeType)===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}};t.\u0275fac=function(i){return new(i||t)(v(Jr),v(Ce),v(ye),zi("role"),v($t,8),v(Ui),v(Bt),v(Ga),v(gl),v(Dr),v(fl,12),v(Ze,8))},t.\u0275cmp=j({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,r,o){if(i&1&&($e(o,vp,5),$e(o,Pa,5),$e(o,vl,5),$e(o,To,5),$e(o,td,5)),i&2){let s;Q(s=K())&&(r._noDataRow=s.first),Q(s=K())&&(r._contentColumnDefs=s),Q(s=K())&&(r._contentRowDefs=s),Q(s=K())&&(r._contentHeaderRowDefs=s),Q(s=K())&&(r._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,r){i&2&&H("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",Z],fixedLayout:[2,"fixedLayout","fixedLayout",Z]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[Ee([{provide:Xi,useExisting:t},{provide:Ga,useClass:ks},{provide:gl,useClass:Jc},{provide:fl,useValue:null}]),Fe,le],ngContentSelectors:n0,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){i&1&&(ze(i0),be(0),be(1,1),S(2,r0,1,0)(3,a0,7,0)(4,o0,4,0)),i&2&&(f(2),V(r._isServer?2:-1),f(),V(r._isNativeHtmlTable?3:4))},dependencies:[ad,rd,sd,od],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2});let a=t;return a})();function ul(a,t){return a.concat(Array.from(t))}function gp(a,t){let n=t.toUpperCase(),e=a.viewContainer.element.nativeElement;for(;e;){let i=e.nodeType===1?e.nodeName:null;if(i===n)return e;if(i==="TABLE")break;e=e.parentNode}return null}var yp=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({imports:[Iu]});let a=t;return a})();var l0=[[["caption"]],[["colgroup"],["col"]],"*"],c0=["caption","colgroup, col","*"];function d0(a,t){a&1&&be(0,2)}function m0(a,t){a&1&&(u(0,"thead",0),di(1,1),h(),u(2,"tbody",2),di(3,3)(4,4),h(),u(5,"tfoot",0),di(6,5),h())}function u0(a,t){a&1&&di(0,1)(1,3)(2,4)(3,5)}var o1=(()=>{let t=class t extends ld{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=xt(t)))(r||t)}})(),t.\u0275cmp=j({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,r){i&2&&H("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[Ee([{provide:ld,useExisting:t},{provide:Xi,useExisting:t},{provide:gl,useClass:Jc},{provide:Ga,useClass:ks},{provide:fl,useValue:null}]),je,le],ngContentSelectors:c0,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){i&1&&(ze(l0),be(0),be(1,1),S(2,d0,1,0)(3,m0,7,0)(4,u0,4,0)),i&2&&(f(2),V(r._isServer?2:-1),f(),V(r._isNativeHtmlTable?3:4))},dependencies:[ad,rd,sd,od],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-app-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-app-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-app-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-app-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-app-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2});let a=t;return a})(),s1=(()=>{let t=class t extends _l{};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=xt(t)))(r||t)}})(),t.\u0275dir=re({type:t,selectors:[["","matCellDef",""]],standalone:!0,features:[Ee([{provide:_l,useExisting:t}]),je]});let a=t;return a})(),l1=(()=>{let t=class t extends bl{};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=xt(t)))(r||t)}})(),t.\u0275dir=re({type:t,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[Ee([{provide:bl,useExisting:t}]),je]});let a=t;return a})();var c1=(()=>{let t=class t extends Pa{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=xt(t)))(r||t)}})(),t.\u0275dir=re({type:t,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[Ee([{provide:Pa,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),je]});let a=t;return a})(),d1=(()=>{let t=class t extends _p{};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=xt(t)))(r||t)}})(),t.\u0275dir=re({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[je]});let a=t;return a})();var m1=(()=>{let t=class t extends bp{};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=xt(t)))(r||t)}})(),t.\u0275dir=re({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[je]});let a=t;return a})();var u1=(()=>{let t=class t extends To{};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=xt(t)))(r||t)}})(),t.\u0275dir=re({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",Z]},standalone:!0,features:[Ee([{provide:To,useExisting:t}]),Fe,je]});let a=t;return a})();var h1=(()=>{let t=class t extends vl{};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=xt(t)))(r||t)}})(),t.\u0275dir=re({type:t,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[Ee([{provide:vl,useExisting:t}]),je]});let a=t;return a})(),p1=(()=>{let t=class t extends id{};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=xt(t)))(r||t)}})(),t.\u0275cmp=j({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[Ee([{provide:id,useExisting:t}]),je,le],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&di(0,0)},dependencies:[Br],encapsulation:2});let a=t;return a})();var g1=(()=>{let t=class t extends nd{};t.\u0275fac=(()=>{let e;return function(r){return(e||(e=xt(t)))(r||t)}})(),t.\u0275cmp=j({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[Ee([{provide:nd,useExisting:t}]),je,le],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&di(0,0)},dependencies:[Br],encapsulation:2});let a=t;return a})();var cd=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({imports:[He,yp,He]});let a=t;return a})(),h0=9007199254740991,Cp=class extends ku{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new $i([]),this._filter=new $i(""),this._internalPageChanges=new ue,this._renderChangesSubscription=null,this.sortingDataAccessor=(n,e)=>{let i=n[e];if(cu(i)){let r=Number(i);return r<h0?r:i}return i},this.sortData=(n,e)=>{let i=e.active,r=e.direction;return!i||r==""?n:n.sort((o,s)=>{let l=this.sortingDataAccessor(o,i),c=this.sortingDataAccessor(s,i),d=typeof l,p=typeof c;d!==p&&(d==="number"&&(l+=""),p==="number"&&(c+=""));let g=0;return l!=null&&c!=null?l>c?g=1:l<c&&(g=-1):l!=null?g=1:c!=null&&(g=-1),g*(r=="asc"?1:-1)})},this.filterPredicate=(n,e)=>{let i=Object.keys(n).reduce((o,s)=>o+n[s]+"\u25EC","").toLowerCase(),r=e.trim().toLowerCase();return i.indexOf(r)!=-1},this._data=new $i(t),this._updateChangeSubscription()}_updateChangeSubscription(){var s;let t=this._sort?ht(this._sort.sortChange,this._sort.initialized):_e(null),n=this._paginator?ht(this._paginator.page,this._internalPageChanges,this._paginator.initialized):_e(null),e=this._data,i=gi([e,this._filter]).pipe(ne(([l])=>this._filterData(l))),r=gi([i,t]).pipe(ne(([l])=>this._orderData(l))),o=gi([r,n]).pipe(ne(([l])=>this._pageData(l)));(s=this._renderChangesSubscription)==null||s.unsubscribe(),this._renderChangesSubscription=o.subscribe(l=>this._renderData.next(l))}_filterData(t){return this.filteredData=this.filter==null||this.filter===""?t:t.filter(n=>this.filterPredicate(n,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;let n=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(n,n+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{let n=this.paginator;if(n&&(n.length=t,n.pageIndex>0)){let e=Math.ceil(n.length/n.pageSize)-1||0,i=Math.min(n.pageIndex,e);i!==n.pageIndex&&(n.pageIndex=i,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;(t=this._renderChangesSubscription)==null||t.unsubscribe(),this._renderChangesSubscription=null}};var p0=["mat-sort-header",""],g0=["*"];function f0(a,t){if(a&1){let n=ee();u(0,"div",2),T("@arrowPosition.start",function(){E(n);let i=M();return A(i._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){E(n);let i=M();return A(i._disableViewStateAnimation=!1)}),B(1,"div",3),u(2,"div",4),B(3,"div",5)(4,"div",6)(5,"div",7),h()()}if(a&2){let n=M();P("@arrowOpacity",n._getArrowViewState())("@arrowPosition",n._getArrowViewState())("@allowChildren",n._getArrowDirectionState()),f(2),P("@indicator",n._getArrowDirectionState()),f(),P("@leftPointer",n._getArrowDirectionState()),f(),P("@rightPointer",n._getArrowDirectionState())}}var xp=new ge("MAT_SORT_DEFAULT_OPTIONS"),_0=(()=>{let t=class t{get direction(){return this._direction}set direction(e){this._direction=e}constructor(e){this._defaultOptions=e,this._initializedStream=new Im(1),this.sortables=new Map,this._stateChanges=new ue,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new N,this.initialized=this._initializedStream}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){var s,l,c;if(!e)return"";let i=(c=(s=e==null?void 0:e.disableClear)!=null?s:this.disableClear)!=null?c:!!((l=this._defaultOptions)!=null&&l.disableClear),r=b0(e.start||this.start,i),o=r.indexOf(this.direction)+1;return o>=r.length&&(o=0),r[o]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}};t.\u0275fac=function(i){return new(i||t)(v(xp,8))},t.\u0275dir=re({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",Z],disabled:[2,"matSortDisabled","disabled",Z]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[Fe,pt]});let a=t;return a})();function b0(a,t){let n=["asc","desc"];return a=="desc"&&n.reverse(),t||n.push(""),n}var tr=vu.ENTERING+" "+bu.STANDARD_CURVE,Oa={indicator:zt("indicator",[Ke("active-asc, asc",Oe({transform:"translateY(0px)"})),Ke("active-desc, desc",Oe({transform:"translateY(10px)"})),it("active-asc <=> active-desc",rt(tr))]),leftPointer:zt("leftPointer",[Ke("active-asc, asc",Oe({transform:"rotate(-45deg)"})),Ke("active-desc, desc",Oe({transform:"rotate(45deg)"})),it("active-asc <=> active-desc",rt(tr))]),rightPointer:zt("rightPointer",[Ke("active-asc, asc",Oe({transform:"rotate(45deg)"})),Ke("active-desc, desc",Oe({transform:"rotate(-45deg)"})),it("active-asc <=> active-desc",rt(tr))]),arrowOpacity:zt("arrowOpacity",[Ke("desc-to-active, asc-to-active, active",Oe({opacity:1})),Ke("desc-to-hint, asc-to-hint, hint",Oe({opacity:.54})),Ke("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Oe({opacity:0})),it("* => asc, * => desc, * => active, * => hint, * => void",rt("0ms")),it("* <=> *",rt(tr))]),arrowPosition:zt("arrowPosition",[it("* => desc-to-hint, * => desc-to-active",rt(tr,Hn([Oe({transform:"translateY(-25%)"}),Oe({transform:"translateY(0)"})]))),it("* => hint-to-desc, * => active-to-desc",rt(tr,Hn([Oe({transform:"translateY(0)"}),Oe({transform:"translateY(25%)"})]))),it("* => asc-to-hint, * => asc-to-active",rt(tr,Hn([Oe({transform:"translateY(25%)"}),Oe({transform:"translateY(0)"})]))),it("* => hint-to-asc, * => active-to-asc",rt(tr,Hn([Oe({transform:"translateY(0)"}),Oe({transform:"translateY(-25%)"})]))),Ke("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Oe({transform:"translateY(0)"})),Ke("hint-to-desc, active-to-desc, desc",Oe({transform:"translateY(-25%)"})),Ke("hint-to-asc, active-to-asc, asc",Oe({transform:"translateY(25%)"}))]),allowChildren:zt("allowChildren",[it("* <=> *",[Pu("@*",Mu(),{optional:!0})])])},yl=(()=>{let t=class t{constructor(){this.changes=new ue}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();function v0(a){return a||new yl}var y0={provide:yl,deps:[[new rs,new as,yl]],useFactory:v0},T1=(()=>{let t=class t{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}constructor(e,i,r,o,s,l,c,d){this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=o,this._focusMonitor=s,this._elementRef=l,this._ariaDescriber=c,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",d!=null&&d.arrowPosition&&(this.arrowPosition=d==null?void 0:d.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){var e;this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&((e=this._ariaDescriber)==null||e.removeDescription(this._sortButton,this._sortActionDescription))}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._showIndicatorHint?this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"hint"}):this._setAnimationTransitionState({fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(e.keyCode===32||e.keyCode===13)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){let e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){var i,r;this._sortButton&&((i=this._ariaDescriber)==null||i.removeDescription(this._sortButton,this._sortActionDescription),(r=this._ariaDescriber)==null||r.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=ht(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&this._viewState.toState==="active"&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}};t.\u0275fac=function(i){return new(i||t)(v(yl),v(Ce),v(_0,8),v("MAT_SORT_HEADER_COLUMN_DEF",8),v(on),v(ye),v(uu,8),v(xp,8))},t.\u0275cmp=j({type:t,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(i,r){i&1&&T("click",function(){return r._handleClick()})("keydown",function(s){return r._handleKeydown(s)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),i&2&&(Pe("aria-sort",r._getAriaSortAttribute()),H("mat-sort-header-disabled",r._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",Z],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",Z]},exportAs:["matSortHeader"],standalone:!0,features:[Fe,le],attrs:p0,ngContentSelectors:g0,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(i,r){i&1&&(ze(),u(0,"div",0)(1,"div",1),be(2),h(),S(3,f0,6,6,"div",2),h()),i&2&&(H("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before",r.arrowPosition==="before"),Pe("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),f(3),V(r._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color, var(--mat-app-on-surface));opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Oa.indicator,Oa.leftPointer,Oa.rightPointer,Oa.arrowOpacity,Oa.arrowPosition,Oa.allowChildren]},changeDetection:0});let a=t;return a})(),dd=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({providers:[y0],imports:[He]});let a=t;return a})();var pd=["*"];function C0(a,t){a&1&&be(0)}var x0=["tabListContainer"],w0=["tabList"],M0=["tabListInner"],P0=["nextPaginator"],O0=["previousPaginator"],k0=a=>({animationDuration:a}),D0=(a,t)=>({value:a,params:t});function S0(a,t){}var T0=["tabBodyWrapper"],I0=["tabHeader"];function E0(a,t){}function A0(a,t){if(a&1&&S(0,E0,0,0,"ng-template",12),a&2){let n=M().$implicit;P("cdkPortalOutlet",n.templateLabel)}}function R0(a,t){if(a&1&&_(0),a&2){let n=M().$implicit;R(n.textLabel)}}function F0(a,t){if(a&1){let n=ee();u(0,"div",7,2),T("click",function(){let i=E(n),r=i.$implicit,o=i.$index,s=M(),l=Mi(1);return A(s._handleClick(r,l,o))})("cdkFocusChange",function(i){let r=E(n).$index,o=M();return A(o._tabFocusChanged(i,r))}),B(2,"span",8)(3,"div",9),u(4,"span",10)(5,"span",11),S(6,A0,1,1,null,12)(7,R0,1,1),h()()()}if(a&2){let n=t.$implicit,e=t.$index,i=Mi(1),r=M();Xe(n.labelClass),H("mdc-tab--active",r.selectedIndex===e),P("id",r._getTabLabelId(e))("disabled",n.disabled)("fitInkBarToContent",r.fitInkBarToContent),Pe("tabIndex",r._getTabIndex(e))("aria-posinset",e+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(e))("aria-selected",r.selectedIndex===e)("aria-label",n.ariaLabel||null)("aria-labelledby",!n.ariaLabel&&n.ariaLabelledby?n.ariaLabelledby:null),f(3),P("matRippleTrigger",i)("matRippleDisabled",n.disabled||r.disableRipple),f(3),V(n.templateLabel?6:7)}}function B0(a,t){a&1&&be(0)}function L0(a,t){if(a&1){let n=ee();u(0,"mat-tab-body",13),T("_onCentered",function(){E(n);let i=M();return A(i._removeTabBodyWrapperHeight())})("_onCentering",function(i){E(n);let r=M();return A(r._setTabBodyWrapperHeight(i))}),h()}if(a&2){let n=t.$implicit,e=t.$index,i=M();Xe(n.bodyClass),H("mat-mdc-tab-body-active",i.selectedIndex===e),P("id",i._getTabContentId(e))("content",n.content)("position",n.position)("origin",n.origin)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),Pe("tabindex",i.contentTabIndex!=null&&i.selectedIndex===e?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(e))("aria-hidden",i.selectedIndex!==e)}}var j0=new ge("MatTabContent"),N0=(()=>{let t=class t{constructor(e){this.template=e}};t.\u0275fac=function(i){return new(i||t)(v(Tt))},t.\u0275dir=re({type:t,selectors:[["","matTabContent",""]],standalone:!0,features:[Ee([{provide:j0,useExisting:t}])]});let a=t;return a})(),V0=new ge("MatTabLabel"),Pp=new ge("MAT_TAB"),$0=(()=>{let t=class t extends Ou{constructor(e,i,r){super(e,i),this._closestTab=r}};t.\u0275fac=function(i){return new(i||t)(v(Tt),v(ii),v(Pp,8))},t.\u0275dir=re({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[Ee([{provide:V0,useExisting:t}]),je]});let a=t;return a})(),Op=new ge("MAT_TAB_GROUP"),gd=(()=>{let t=class t{get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}constructor(e,i){this._viewContainerRef=e,this._closestTabGroup=i,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new ue,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Ua(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}};t.\u0275fac=function(i){return new(i||t)(v(ii),v(Op,8))},t.\u0275cmp=j({type:t,selectors:[["mat-tab"]],contentQueries:function(i,r,o){if(i&1&&($e(o,$0,5),$e(o,N0,7,Tt)),i&2){let s;Q(s=K())&&(r.templateLabel=s.first),Q(s=K())&&(r._explicitContent=s.first)}},viewQuery:function(i,r){if(i&1&&Ie(Tt,7),i&2){let o;Q(o=K())&&(r._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",Z],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[Ee([{provide:Pp,useExisting:t}]),Fe,pt,le],ngContentSelectors:pd,decls:1,vars:0,template:function(i,r){i&1&&(ze(),S(0,C0,1,0,"ng-template"))},encapsulation:2});let a=t;return a})(),md="mdc-tab-indicator--active",wp="mdc-tab-indicator--no-transition",ud=class{constructor(t){this._items=t}hide(){this._items.forEach(t=>t.deactivateInkBar())}alignToElement(t){var i,r;let n=this._items.find(o=>o.elementRef.nativeElement===t),e=this._currentItem;if(n!==e&&(e==null||e.deactivateInkBar(),n)){let o=(r=e==null?void 0:(i=e.elementRef.nativeElement).getBoundingClientRect)==null?void 0:r.call(i);n.activateInkBar(o),this._currentItem=n}}},z0=(()=>{let t=class t{constructor(){this._elementRef=Le(ye),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let i=this._elementRef.nativeElement;if(!e||!i.getBoundingClientRect||!this._inkBarContentElement){i.classList.add(md);return}let r=i.getBoundingClientRect(),o=e.width/r.width,s=e.left-r.left;i.classList.add(wp),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${o})`),i.getBoundingClientRect(),i.classList.remove(wp),i.classList.add(md),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(md)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){var e;(e=this._inkBarElement)==null||e.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,i=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");i.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",i.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=re({type:t,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Z]},features:[Fe]});let a=t;return a})();var kp=(()=>{let t=class t extends z0{constructor(e){super(),this.elementRef=e,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}};t.\u0275fac=function(i){return new(i||t)(v(ye))},t.\u0275dir=re({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,r){i&2&&(Pe("aria-disabled",!!r.disabled),H("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[2,"disabled","disabled",Z]},standalone:!0,features:[Fe,je]});let a=t;return a})(),Mp=ia({passive:!0}),H0=650,U0=100,G0=(()=>{let t=class t{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let i=isNaN(e)?0:e;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}constructor(e,i,r,o,s,l,c){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=o,this._ngZone=s,this._platform=l,this._animationMode=c,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new ue,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new ue,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new N,this.indexFocused=new N,this._sharedResizeObserver=Le(ju),this._injector=Le(wi),s.runOutsideAngular(()=>{Zr(e.nativeElement,"mouseleave").pipe(De(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Zr(this._previousPaginator.nativeElement,"touchstart",Mp).pipe(De(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Zr(this._nextPaginator.nativeElement,"touchstart",Mp).pipe(De(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let e=this._dir?this._dir.change:_e("ltr"),i=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(ns(32),De(this._destroyed)),r=this._viewportRuler.change(150).pipe(De(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new hu(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),Hi(o,{injector:this._injector}),ht(e,r,i,this._items.changes,this._itemsResized()).pipe(De(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?is:this._items.changes.pipe(fi(this._items),Vm(e=>new ts(i=>this._ngZone.runOutsideAngular(()=>{let r=new ResizeObserver(o=>i.next(o));return e.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),Nm(1),Ct(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){var e;(e=this._keyManager)==null||e.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!_i(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let i=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?i.scrollLeft=0:i.scrollLeft=i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,i=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let i=this._tabListContainer.nativeElement.offsetWidth,r=(e=="before"?-1:1)*i/3;return this._scrollTo(this._scrollDistance+r)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let i=this._items?this._items.toArray()[e]:null;if(!i)return;let r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=i.elementRef.nativeElement,l,c;this._getLayoutDirection()=="ltr"?(l=o,c=l+s):(c=this._tabListInner.nativeElement.offsetWidth-o,l=c-s);let d=this.scrollDistance,p=this.scrollDistance+r;l<d?this.scrollDistance-=d-l:c>p&&(this.scrollDistance+=Math.min(c-p,l-d))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,i=this._elementRef.nativeElement.offsetWidth,r=e-i>=5;r||(this.scrollDistance=0),r!==this._showPaginationControls&&(this._showPaginationControls=r,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,i=this._tabListContainer.nativeElement.offsetWidth;return e-i||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&i.button!=null&&i.button!==0||(this._stopInterval(),Am(H0,U0).pipe(De(ht(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(o===0||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}};t.\u0275fac=function(i){return new(i||t)(v(ye),v(Ce),v(Dr),v($t,8),v(Ze),v(Bt),v(Ft,8))},t.\u0275dir=re({type:t,inputs:{disablePagination:[2,"disablePagination","disablePagination",Z],selectedIndex:[2,"selectedIndex","selectedIndex",Pt]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Fe]});let a=t;return a})(),Y0=(()=>{let t=class t extends G0{constructor(e,i,r,o,s,l,c){super(e,i,r,o,s,l,c),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new ud(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}};t.\u0275fac=function(i){return new(i||t)(v(ye),v(Ce),v(Dr),v($t,8),v(Ze),v(Bt),v(Ft,8))},t.\u0275cmp=j({type:t,selectors:[["mat-tab-header"]],contentQueries:function(i,r,o){if(i&1&&$e(o,kp,4),i&2){let s;Q(s=K())&&(r._items=s)}},viewQuery:function(i,r){if(i&1&&(Ie(x0,7),Ie(w0,7),Ie(M0,7),Ie(P0,5),Ie(O0,5)),i&2){let o;Q(o=K())&&(r._tabListContainer=o.first),Q(o=K())&&(r._tabList=o.first),Q(o=K())&&(r._tabListInner=o.first),Q(o=K())&&(r._nextPaginator=o.first),Q(o=K())&&(r._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,r){i&2&&H("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl",r._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",Z]},standalone:!0,features:[Fe,je,le],ngContentSelectors:pd,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(i,r){if(i&1){let o=ee();ze(),u(0,"div",5,0),T("click",function(){return E(o),A(r._handlePaginatorClick("before"))})("mousedown",function(l){return E(o),A(r._handlePaginatorPress("before",l))})("touchend",function(){return E(o),A(r._stopInterval())}),B(2,"div",6),h(),u(3,"div",7,1),T("keydown",function(l){return E(o),A(r._handleKeydown(l))}),u(5,"div",8,2),T("cdkObserveContent",function(){return E(o),A(r._onContentChanges())}),u(7,"div",9,3),be(9),h()()(),u(10,"div",10,4),T("mousedown",function(l){return E(o),A(r._handlePaginatorPress("after",l))})("click",function(){return E(o),A(r._handlePaginatorClick("after"))})("touchend",function(){return E(o),A(r._stopInterval())}),B(12,"div",6),h()}i&2&&(H("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),P("matRippleDisabled",r._disableScrollBefore||r.disableRipple),f(3),H("_mat-animation-noopable",r._animationMode==="NoopAnimations"),f(2),Pe("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null),f(5),H("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),P("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},dependencies:[sn,ws],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2});let a=t;return a})(),W0=new ge("MAT_TABS_CONFIG"),X0={translateTab:zt("translateTab",[Ke("center, void, left-origin-center, right-origin-center",Oe({transform:"none",visibility:"visible"})),Ke("left",Oe({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Ke("right",Oe({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),it("* => left, * => right, left => center, right => center",rt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),it("void => left-origin-center",[Oe({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),rt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),it("void => right-origin-center",[Oe({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),rt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},Q0=(()=>{let t=class t extends yn{constructor(e,i,r,o){super(e,i,o),this._host=r,this._centeringSub=ot.EMPTY,this._leavingSub=ot.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(fi(this._host._isCenterPosition(this._host._position))).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)(v(Um),v(ii),v(Wt(()=>Dp)),v(Ui))},t.\u0275dir=re({type:t,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[je]});let a=t;return a})(),Dp=(()=>{let t=class t{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=ot.EMPTY,this._translateTabComplete=new ue,this._onCentering=new N,this._beforeCentering=new N,this._afterLeavingCenter=new N,this._onCentered=new N(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){let i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(e){return e=="center"||e=="left-origin-center"||e=="right-origin-center"}_computePositionAnimationState(e=this._getLayoutDirection()){this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(e){let i=this._getLayoutDirection();return i=="ltr"&&e<=0||i=="rtl"&&e>0?"left-origin-center":"right-origin-center"}};t.\u0275fac=function(i){return new(i||t)(v(ye),v($t,8),v(Ce))},t.\u0275cmp=j({type:t,selectors:[["mat-tab-body"]],viewQuery:function(i,r){if(i&1&&Ie(yn,5),i&2){let o;Q(o=K())&&(r._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[le],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(i,r){if(i&1){let o=ee();u(0,"div",1,0),T("@translateTab.start",function(l){return E(o),A(r._onTranslateTabStarted(l))})("@translateTab.done",function(l){return E(o),A(r._translateTabComplete.next(l))}),S(2,S0,0,0,"ng-template",2),h()}i&2&&P("@translateTab",Qm(3,D0,r._position,Xm(1,k0,r.animationDuration)))},dependencies:[Q0,aa],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[X0.translateTab]}});let a=t;return a})(),K0=0,q0=!0,Sp=(()=>{let t=class t{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}get animationDuration(){return this._animationDuration}set animationDuration(e){let i=e+"";this._animationDuration=/^\d+$/.test(i)?e+"ms":i}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){if(!q0)throw new Error("mat-tab-group background color must be set through the Sass theming API");let i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&i.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,i,r,o){this._elementRef=e,this._changeDetectorRef=i,this._animationMode=o,this._tabs=new ja,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=ot.EMPTY,this._tabLabelSubscription=ot.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new N,this.focusChange=new N,this.animationDone=new N,this.selectedTabChange=new N(!0),this._isServer=!Le(Bt).isBrowser,this._groupId=K0++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=r&&r.disablePagination!=null?r.disablePagination:!1,this.dynamicHeight=r&&r.dynamicHeight!=null?r.dynamicHeight:!1,(r==null?void 0:r.contentTabIndex)!=null&&(this.contentTabIndex=r.contentTabIndex),this.preserveContent=!!(r!=null&&r.preserveContent),this.fitInkBarToContent=r&&r.fitInkBarToContent!=null?r.fitInkBarToContent:!1,this.stretchTabs=r&&r.stretchTabs!=null?r.stretchTabs:!0}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let i=this._selectedIndex==null;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));let r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,this._selectedIndex!=null&&i.position==0&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let i=this._tabs.toArray(),r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(fi(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let i=new hd;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=ht(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){i.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){var r;let i=(r=this._lastFocusedTabIndex)!=null?r:this.selectedIndex;return e===i?0:-1}_tabFocusChanged(e,i){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=i)}};t.\u0275fac=function(i){return new(i||t)(v(ye),v(Ce),v(W0,8),v(Ft,8))},t.\u0275cmp=j({type:t,selectors:[["mat-tab-group"]],contentQueries:function(i,r,o){if(i&1&&$e(o,gd,5),i&2){let s;Q(s=K())&&(r._allTabs=s)}},viewQuery:function(i,r){if(i&1&&(Ie(T0,5),Ie(I0,5)),i&2){let o;Q(o=K())&&(r._tabBodyWrapper=o.first),Q(o=K())&&(r._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(i,r){i&2&&(Xe("mat-"+(r.color||"primary")),We("--mat-tab-animation-duration",r.animationDuration),H("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header",r.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Z],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",Z],dynamicHeight:[2,"dynamicHeight","dynamicHeight",Z],selectedIndex:[2,"selectedIndex","selectedIndex",Pt],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Pt],disablePagination:[2,"disablePagination","disablePagination",Z],disableRipple:[2,"disableRipple","disableRipple",Z],preserveContent:[2,"preserveContent","preserveContent",Z],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[Ee([{provide:Op,useExisting:t}]),Fe,le],ngContentSelectors:pd,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(i,r){if(i&1){let o=ee();ze(),u(0,"mat-tab-header",3,0),T("indexFocused",function(l){return E(o),A(r._focusChanged(l))})("selectFocusedIndex",function(l){return E(o),A(r.selectedIndex=l)}),wt(2,F0,8,17,"div",4,cc),h(),S(4,B0,1,0),u(5,"div",5,1),wt(7,L0,1,13,"mat-tab-body",6,cc),h()}i&2&&(P("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),f(2),Mt(r._tabs),f(2),V(r._isServer?4:-1),f(),H("_mat-animation-noopable",r._animationMode==="NoopAnimations"),f(2),Mt(r._tabs))},dependencies:[Y0,kp,Ms,sn,yn,Dp],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-app-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-app-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-app-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2});let a=t;return a})(),hd=class{};var fd=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({imports:[He,He]});let a=t;return a})();var J0=["switch"],ev=["*"];function tv(a,t){a&1&&(u(0,"span",10),nn(),u(1,"svg",12),B(2,"path",13),h(),u(3,"svg",14),B(4,"path",15),h()())}var iv=new ge("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),nv={provide:Rn,useExisting:Wt(()=>Tp),multi:!0},Cl=class{constructor(t,n){this.source=t,this.checked=n}},rv=0,Tp=(()=>{let t=class t{_createChangeEvent(e){return new Cl(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,o,s,l){var c,d;this._elementRef=e,this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=s,this._onChange=p=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new N,this.toggleChange=new N,this.tabIndex=parseInt(o)||0,this.color=s.color||"accent",this._noopAnimations=l==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++rv}`,this.hideIcon=(c=s.hideIcon)!=null?c:!1,this.disabledInteractive=(d=s.disabledInteractive)!=null?d:!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Cl(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}};t.\u0275fac=function(i){return new(i||t)(v(ye),v(on),v(Ce),zi("tabindex"),v(iv),v(Ft,8))},t.\u0275cmp=j({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(i&1&&Ie(J0,5),i&2){let o;Q(o=K())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){i&2&&(cs("id",r.id),Pe("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Xe(r.color?"mat-"+r.color:""),H("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",Z],color:"color",disabled:[2,"disabled","disabled",Z],disableRipple:[2,"disableRipple","disableRipple",Z],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Pt(e)],checked:[2,"checked","checked",Z],hideIcon:[2,"hideIcon","hideIcon",Z],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Z]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[Ee([nv,{provide:_s,useExisting:t,multi:!0}]),Fe,pt,le],ngContentSelectors:ev,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(i&1){let o=ee();ze(),u(0,"div",1)(1,"button",2,0),T("click",function(){return E(o),A(r._handleClick())}),B(3,"span",3),u(4,"span",4)(5,"span",5)(6,"span",6),B(7,"span",7),h(),u(8,"span",8),B(9,"span",9),h(),S(10,tv,5,0,"span",10),h()()(),u(11,"label",11),T("click",function(l){return E(o),A(l.stopPropagation())}),be(12),h()()}if(i&2){let o=Mi(2);P("labelPosition",r.labelPosition),f(),H("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled)("mat-mdc-slide-toggle-disabled-interactive",r.disabledInteractive),P("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("disabled",r.disabled&&!r.disabledInteractive),Pe("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),f(8),P("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),f(),V(r.hideIcon?-1:10),f(),P("for",r.buttonId),Pe("id",r._labelId)}},dependencies:[sn,wu],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0});let a=t;return a})();var _d=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({imports:[Tp,He,He]});let a=t;return a})();var av=new ge("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let a=Le(Un);return()=>a.scrollStrategies.reposition()}});function ov(a){return()=>a.scrollStrategies.reposition()}var sv={provide:av,deps:[Un],useFactory:ov};var bd=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({providers:[sv],imports:[Ss,Cc,He,Nt,Sr,Cc,He]});let a=t;return a})();var lv=["knob"],cv=["valueIndicatorContainer"];function dv(a,t){if(a&1&&(u(0,"div",2,1)(2,"div",5)(3,"span",6),_(4),h()()()),a&2){let n=M();f(4),R(n.valueIndicatorText)}}var mv=["trackActive"],uv=["*"];function hv(a,t){if(a&1&&B(0,"div"),a&2){let n=t.$implicit,e=t.$index,i=M(3);Xe(n===0?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),We("transform",i._calcTickMarkTransform(e))}}function pv(a,t){if(a&1&&wt(0,hv,1,4,"div",8,Ym),a&2){let n=M(2);Mt(n._tickMarks)}}function gv(a,t){if(a&1&&(u(0,"div",6,1),S(2,pv,2,0),h()),a&2){let n=M();f(2),V(n._cachedWidth?2:-1)}}function fv(a,t){if(a&1&&B(0,"mat-slider-visual-thumb",7),a&2){let n=M();P("discrete",n.discrete)("thumbPosition",1)("valueIndicatorText",n.startValueIndicatorText)}}var Me=function(a){return a[a.START=1]="START",a[a.END=2]="END",a}(Me||{}),ka=function(a){return a[a.ACTIVE=0]="ACTIVE",a[a.INACTIVE=1]="INACTIVE",a}(ka||{}),vd=new ge("_MatSlider"),Ip=new ge("_MatSliderThumb"),_v=new ge("_MatSliderRangeThumb"),Ep=new ge("_MatSliderVisualThumb");var bv=(()=>{let t=class t{constructor(e,i,r,o){this._cdr=e,this._ngZone=i,this._slider=o,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=Le(Bt),this._onPointerMove=s=>{if(this._sliderInput._isFocused)return;let l=this._hostElement.getBoundingClientRect(),c=this._slider._isCursorOnSliderThumb(s,l);this._isHovered=c,c?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=s=>{s.button===0&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=r.nativeElement}ngAfterViewInit(){let e=this._slider._getInput(this.thumbPosition);e&&(this._ripple.radius=24,this._sliderInput=e,this._sliderInputEl=this._sliderInput._hostElement,this._ngZone.runOutsideAngular(()=>{let i=this._sliderInputEl;i.addEventListener("pointermove",this._onPointerMove),i.addEventListener("pointerdown",this._onDragStart),i.addEventListener("pointerup",this._onDragEnd),i.addEventListener("pointerleave",this._onMouseLeave),i.addEventListener("focus",this._onFocus),i.addEventListener("blur",this._onBlur)}))}ngOnDestroy(){let e=this._sliderInputEl;e&&(e.removeEventListener("pointermove",this._onPointerMove),e.removeEventListener("pointerdown",this._onDragStart),e.removeEventListener("pointerup",this._onDragEnd),e.removeEventListener("pointerleave",this._onMouseLeave),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur))}_showHoverRipple(){var e;this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),(e=this._hoverRippleRef)==null||e.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){var e;this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),(e=this._focusRippleRef)==null||e.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){var e;this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),(e=this._activeRippleRef)==null||e.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return(e==null?void 0:e.state)===vc.FADING_IN||(e==null?void 0:e.state)===vc.VISIBLE}_showRipple(e,i){var r;if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===Me.START?Me.END:Me.START)._showValueIndicator(),!((r=this._slider._globalRippleOptions)!=null&&r.disabled&&!i)))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e==null||e.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();let i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===Me.START?Me.END:Me.START)}_getValueIndicatorContainer(){var e;return(e=this._valueIndicatorContainer)==null?void 0:e.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}};t.\u0275fac=function(i){return new(i||t)(v(Ce),v(Ze),v(ye),v(vd))},t.\u0275cmp=j({type:t,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,r){if(i&1&&(Ie(sn,5),Ie(lv,5),Ie(cv,5)),i&2){let o;Q(o=K())&&(r._ripple=o.first),Q(o=K())&&(r._knob=o.first),Q(o=K())&&(r._valueIndicatorContainer=o.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[Ee([{provide:Ep,useExisting:t}]),le],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,r){i&1&&(S(0,dv,5,1,"div",2),B(1,"div",3,0)(3,"div",4)),i&2&&(V(r.discrete?0:-1),f(3),P("matRippleDisabled",!0))},dependencies:[sn],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0});let a=t;return a})(),sD=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(e){this._disabled=e;let i=this._getInput(Me.END),r=this._getInput(Me.START);i&&(i.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(e){this._discrete=e,this._updateValueIndicatorUIs()}get min(){return this._min}set min(e){let i=isNaN(e)?this._min:e;this._min!==i&&this._updateMin(i)}_updateMin(e){let i=this._min;this._min=e,this._isRange?this._updateMinRange({old:i,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){let i=this._getInput(Me.END),r=this._getInput(Me.START),o=i.value,s=r.value;r.min=e.new,i.min=Math.max(e.new,r.value),r.max=Math.min(i.max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),o!==i.value&&this._onValueChange(i),s!==r.value&&this._onValueChange(r)}_updateMinNonRange(e){let i=this._getInput(Me.END);if(i){let r=i.value;i.min=e,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(e){let i=isNaN(e)?this._max:e;this._max!==i&&this._updateMax(i)}_updateMax(e){let i=this._max;this._max=e,this._isRange?this._updateMaxRange({old:i,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){let i=this._getInput(Me.END),r=this._getInput(Me.START),o=i.value,s=r.value;i.max=e.new,r.max=Math.min(e.new,i.value),i.min=r.value,i._updateWidthInactive(),r._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),o!==i.value&&this._onValueChange(i),s!==r.value&&this._onValueChange(r)}_updateMaxNonRange(e){let i=this._getInput(Me.END);if(i){let r=i.value;i.max=e,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(e){let i=isNaN(e)?this._step:e;this._step!==i&&this._updateStep(i)}_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){let e=this._getInput(Me.END),i=this._getInput(Me.START),r=e.value,o=i.value,s=i.value;e.min=this._min,i.max=this._max,e.step=this._step,i.step=this._step,this._platform.SAFARI&&(e.value=e.value,i.value=i.value),e.min=Math.max(this._min,i.value),i.max=Math.min(this._max,e.value),i._updateWidthInactive(),e._updateWidthInactive(),e.value<s?this._onTranslateXChangeBySideEffect(i,e):this._onTranslateXChangeBySideEffect(e,i),r!==e.value&&this._onValueChange(e),o!==i.value&&this._onValueChange(i)}_updateStepNonRange(){let e=this._getInput(Me.END);if(e){let i=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),i!==e.value&&this._onValueChange(e)}}constructor(e,i,r,o,s,l){this._ngZone=e,this._cdr=i,this._elementRef=r,this._dir=o,this._globalRippleOptions=s,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=c=>`${c}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=Le(Bt),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations=l==="NoopAnimations",this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl=this._dir.value==="rtl"}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();let e=this._getInput(Me.END),i=this._getInput(Me.START);this._isRange=!!e&&!!i,this._cdr.detectChanges();let r=this._getThumb(Me.END);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(e,i):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,i){e.initProps(),e.initUI(),i.initProps(),i.initUI(),e._updateMinMax(),i._updateMinMax(),e._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){var e;this._dirChangeSubscription.unsubscribe(),(e=this._resizeObserver)==null||e.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl=this._dir.value==="rtl",this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){let e=this._getInput(Me.END),i=this._getInput(Me.START);e._setIsLeftThumb(),i._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateWidthInactive(),i._updateWidthInactive(),e._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(Me.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(Me.START)._isActive||this._getThumb(Me.END)._isActive}_getValue(e=Me.END){let i=this._getInput(e);return i?i.value:this.min}_skipUpdate(){var e,i;return!!((e=this._getInput(Me.START))!=null&&e._skipUIUpdate||(i=this._getInput(Me.END))!=null&&i._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){let i=this._trackActive.nativeElement.style;i.left=e.left,i.right=e.right,i.transformOrigin=e.transformOrigin,i.transform=e.transform}_calcTickMarkTransform(e){return`translateX(${e*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,i){this._hasViewInitialized&&(e._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){let e=this._getInput(Me.END),i=this._getInput(Me.START);e._updateThumbUIByValue(),i._updateThumbUIByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateMinMax(),i._updateMinMax(),e._updateWidthInactive(),i._updateWidthInactive()}else{let e=this._getInput(Me.END);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){let e=this._getInput(Me.START),i=this._getInput(Me.END);return!e||!i?!1:i.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){let i=e.getSibling(),r=this._getThumb(e.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){if(this._skipUpdate())return;let i=this._getThumb(e.thumbPosition===Me.END?Me.END:Me.START);i._hostElement.style.transform=`translateX(${e.translateX}px)`}_updateValueIndicatorUI(e){if(this._skipUpdate())return;let i=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext.set(i):e._hostElement.setAttribute("aria-valuetext",i),this.discrete){e.thumbPosition===Me.START?this.startValueIndicatorText=i:this.endValueIndicatorText=i;let r=this._getThumb(e.thumbPosition);i.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){let e=this._getInput(Me.END),i=this._getInput(Me.START);e&&this._updateValueIndicatorUI(e),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;let e=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){let i=e.getSibling();if(!i||!this._cachedWidth)return;let r=Math.abs(i.translateX-e.translateX)/this._cachedWidth;e._isLeftThumb&&this._cachedWidth?this._setTrackActiveStyles({left:"auto",right:`${this._cachedWidth-i.translateX}px`,transformOrigin:"right",transform:`scaleX(${r})`}):this._setTrackActiveStyles({left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(e){this._isRtl?this._setTrackActiveStyles({left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}):this._setTrackActiveStyles({left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||this.step===void 0||this.min===void 0||this.max===void 0)return;let e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(e){let i=this._getValue(),r=Math.max(Math.round((i-this.min)/e),0),o=Math.max(Math.round((this.max-i)/e),0);this._isRtl?r++:o++,this._tickMarks=Array(r).fill(ka.ACTIVE).concat(Array(o).fill(ka.INACTIVE))}_updateTickMarkUIRange(e){let i=this._getValue(),r=this._getValue(Me.START),o=Math.max(Math.round((r-this.min)/e),0),s=Math.max(Math.round((i-r)/e)+1,0),l=Math.max(Math.round((this.max-i)/e),0);this._tickMarks=Array(o).fill(ka.INACTIVE).concat(Array(s).fill(ka.ACTIVE),Array(l).fill(ka.INACTIVE))}_getInput(e){var i;if(e===Me.END&&this._input)return this._input;if((i=this._inputs)!=null&&i.length)return e===Me.START?this._inputs.first:this._inputs.last}_getThumb(e){var i,r;return e===Me.END?(i=this._thumbs)==null?void 0:i.last:(r=this._thumbs)==null?void 0:r.first}_setTransition(e){this._hasAnimation=!this._platform.IOS&&e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(e,i){let r=i.width/2,o=i.x+r,s=i.y+r,l=e.clientX-o,c=e.clientY-s;return Math.pow(l,2)+Math.pow(c,2)<Math.pow(r,2)}};t.\u0275fac=function(i){return new(i||t)(v(Ze),v(Ce),v(ye),v($t,8),v(na,8),v(Ft,8))},t.\u0275cmp=j({type:t,selectors:[["mat-slider"]],contentQueries:function(i,r,o){if(i&1&&($e(o,Ip,5),$e(o,_v,4)),i&2){let s;Q(s=K())&&(r._input=s.first),Q(s=K())&&(r._inputs=s)}},viewQuery:function(i,r){if(i&1&&(Ie(mv,5),Ie(Ep,5)),i&2){let o;Q(o=K())&&(r._trackActive=o.first),Q(o=K())&&(r._thumbs=o)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(i,r){i&2&&(Xe("mat-"+(r.color||"primary")),H("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",Z],discrete:[2,"discrete","discrete",Z],showTickMarks:[2,"showTickMarks","showTickMarks",Z],min:[2,"min","min",Pt],color:"color",disableRipple:[2,"disableRipple","disableRipple",Z],max:[2,"max","max",Pt],step:[2,"step","step",Pt],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[Ee([{provide:vd,useExisting:t}]),Fe,le],ngContentSelectors:uv,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(i,r){i&1&&(ze(),be(0),u(1,"div",2),B(2,"div",3),u(3,"div",4),B(4,"div",5,0),h(),S(6,gv,3,1,"div",6),h(),S(7,fv,1,3,"mat-slider-visual-thumb",7),B(8,"mat-slider-visual-thumb",7)),i&2&&(f(6),V(r.showTickMarks?6:-1),f(),V(r._isRange?7:-1),f(),P("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[bv],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape, var(--mat-app-corner-full));height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color, var(--mat-app-primary));border-top-width:var(--mdc-slider-active-track-height)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mat-app-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color, var(--mat-app-surface-variant));height:var(--mdc-slider-inactive-track-height);border-radius:var(--mdc-slider-inactive-track-shape, var(--mat-app-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mat-app-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__track--inactive::before{border-color:CanvasText}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color, var(--mat-app-primary));color:var(--mdc-slider-label-label-text-color, var(--mat-app-on-primary));width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display);border-top-color:var(--mdc-slider-label-container-color, var(--mat-app-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__value-indicator::after{border-color:CanvasText}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform);font-family:var(--mdc-slider-label-label-text-font, var(--mat-app-label-medium-font));font-size:var(--mdc-slider-label-label-text-size, var(--mat-app-label-medium-size));font-weight:var(--mdc-slider-label-label-text-weight, var(--mat-app-label-medium-weight));line-height:var(--mdc-slider-label-label-text-line-height, var(--mat-app-label-medium-line-height));letter-spacing:var(--mdc-slider-label-label-text-tracking, var(--mat-app-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-width:calc(var(--mdc-slider-handle-height)/2) calc(var(--mdc-slider-handle-width)/2);box-shadow:var(--mdc-slider-handle-elevation, var(--mat-app-level1));background-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-radius:var(--mdc-slider-handle-shape, var(--mat-app-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface));border-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color, var(--mat-app-on-primary));border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size);height:var(--mdc-slider-with-tick-marks-container-size);border-radius:var(--mdc-slider-with-tick-marks-container-shape, var(--mat-app-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mat-app-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mat-app-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity);background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mat-app-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-app-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let a=t;return a})();var vv={provide:Rn,useExisting:Wt(()=>yv),multi:!0};var yv=(()=>{let t=class t{get value(){return Pt(this._hostElement.value,0)}set value(e){e=isNaN(e)?0:e;let i=e+"";if(!this._hasSetInitialValue){this._initialValue=i;return}this._isActive||this._setValue(i)}_setValue(e){this._hostElement.value=e,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(this._translateX===void 0&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}get min(){return Pt(this._hostElement.min,0)}set min(e){this._hostElement.min=e+"",this._cdr.detectChanges()}get max(){return Pt(this._hostElement.max,0)}set max(e){this._hostElement.max=e+"",this._cdr.detectChanges()}get step(){return Pt(this._hostElement.step,0)}set step(e){this._hostElement.step=e+"",this._cdr.detectChanges()}get disabled(){return Z(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=e,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?this._translateX===0?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(e){this._isFocused=e}constructor(e,i,r,o){this._ngZone=e,this._elementRef=i,this._cdr=r,this._slider=o,this.valueChange=new N,this.dragStart=new N,this.dragEnd=new N,this.thumbPosition=Me.END,this._valuetext=ls(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new ue,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=Le(Bt),this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,this._initialValue===void 0?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){var e;(e=this._onChangeFn)==null||e.call(this,this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){if(!(this.disabled||e.button!==0)){if(this._platform.IOS){let i=this._slider._isCursorOnSliderThumb(e,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());this._isActive=i,this._updateWidthActive(),this._slider._updateDimensions();return}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){var m;let i=e.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,o=this._slider.step===0?1:this._slider.step,s=Math.floor((this._slider.max-this._slider.min)/o),l=this._slider._isRtl?1-i/r:i/r,d=Math.round(l*s)/s*(this._slider.max-this._slider.min)+this._slider.min,p=Math.round(d/o)*o,g=this.value;if(p===g){this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation});return}this.value=p,this.valueChange.emit(this.value),(m=this._onChangeFn)==null||m.call(this,this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(e){let i=this._tickMarkOffset,r=this._slider._cachedWidth-this._tickMarkOffset;return Math.max(Math.min(e,r),i)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-this._tickMarkOffset*2}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(i)}_updateThumbUI(e){this._slider._setTransition(!!(e!=null&&e.withAnimation)),this._slider._onTranslateXChange(this)}writeValue(e){(this._isControlInitialized||e!==null)&&(this.value=e)}registerOnChange(e){this._onChangeFn=e,this._isControlInitialized=!0}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}};t.\u0275fac=function(i){return new(i||t)(v(Ze),v(ye),v(Ce),v(vd))},t.\u0275dir=re({type:t,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,r){i&1&&T("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),i&2&&Pe("aria-valuetext",r._valuetext())},inputs:{value:[2,"value","value",Pt]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[Ee([vv,{provide:Ip,useExisting:t}]),Fe]});let a=t;return a})();var yd=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({imports:[He,ra]});let a=t;return a})();var Io=rn("accounts"),pn=J(Io,a=>a.ids.map(t=>a.entities[t]).filter(t=>t)),xl=J(Io,a=>a.loading),mD=J(Io,a=>a.error),Cv=J(Io,a=>a.selectedAccountId),uD=J(Io,Cv,(a,t)=>t?a.entities[t]:null);var hD=J(pn,a=>a.filter(t=>t.isActive!==!1)),Ap=J(pn,a=>a.reduce((n,e)=>{if(e.type===Gi.LOAN){let i=e.loanDetails;return n-i.remainingBalance}return n+e.balance},0));function xv(a,t){if(a&1&&(u(0,"div",34)(1,"mat-icon",35),_(2,"event"),h(),u(3,"span",36),_(4),h()()),a&2){let n=t.ngIf;f(4),$("Due: ",n,"")}}function wv(a,t){if(a&1&&(u(0,"div",37)(1,"mat-icon",38),_(2,"schedule"),h(),u(3,"span",39),_(4),h()()),a&2){let n=t.ngIf;f(4),R(n)}}function Mv(a,t){if(a&1&&(u(0,"div",31),S(1,xv,5,1,"div",32),z(2,"async"),S(3,wv,5,1,"div",33),z(4,"async"),h()),a&2){let n=M().$implicit,e=M();f(),P("ngIf",U(2,2,e.getCreditCardDueDate(n))),f(2),P("ngIf",U(4,4,e.getBillingCycleInfo(n)))}}function Pv(a,t){if(a&1&&(u(0,"div",40)(1,"mat-icon",41),_(2,"note"),h(),u(3,"span"),_(4),h()()),a&2){let n=M().$implicit;f(4),R(n.notes)}}function Ov(a,t){if(a&1){let n=ee();u(0,"div",20)(1,"mat-checkbox",21),T("change",function(){let i=E(n).$implicit,r=M();return A(i.id&&r.toggleTransaction(i.id))}),h(),u(2,"div",22)(3,"div",23)(4,"span",24),_(5),h(),u(6,"span",25),_(7),h()(),u(8,"div",26)(9,"span",27),_(10),h(),u(11,"span",28),_(12),h()(),S(13,Mv,5,6,"div",29),z(14,"async"),S(15,Pv,5,1,"div",30),h()()}if(a&2){let n=t.$implicit,e=M();H("selected",n.id&&e.selectedTransactions.has(n.id)),f(),P("checked",n.id&&e.selectedTransactions.has(n.id)),f(4),R(n.payee),f(),H("income",n.type==="income")("expense",n.type==="expense"),f(),$(" ",e.formatAmount(n.amount)," "),f(3),R(n.category),f(2),R(e.getRecurringIntervalText(n.recurringInterval)),f(),P("ngIf",U(14,13,e.isCreditCardTransaction(n))),f(2),P("ngIf",n.notes)}}function kv(a,t){if(a&1&&(u(0,"div",8)(1,"label",9)(2,"mat-icon",10),_(3,"calculate"),h(),_(4," Summary "),h(),u(5,"div",42)(6,"div",43)(7,"span",44),_(8,"Selected Transactions:"),h(),u(9,"span",45),_(10),h()(),u(11,"div",46)(12,"span",44),_(13,"Total Amount:"),h(),u(14,"span",47),_(15),h()()()()),a&2){let n=M();f(10),R(n.getSelectedTransactions().length),f(5),R(n.formatAmount(n.getSelectedTransactionsTotal()))}}var yD=(()=>{let t=class t{constructor(e,i,r,o){this.data=e,this.dialogRef=i,this.store=r,this.currencyService=o,this.selectedTransactions=new Set,this.allSelected=!1,this.userCurrency$=this.store.select(to),this.accounts$=this.store.select(pn)}ngOnInit(){this.selectAll()}selectAll(){this.allSelected=!0,this.selectedTransactions.clear(),this.data.transactions.forEach(e=>{e.id&&this.selectedTransactions.add(e.id)})}deselectAll(){this.allSelected=!1,this.selectedTransactions.clear()}toggleTransaction(e){this.selectedTransactions.has(e)?this.selectedTransactions.delete(e):this.selectedTransactions.add(e),this.updateSelectAllState()}updateSelectAllState(){this.allSelected=this.data.transactions.every(e=>e.id&&this.selectedTransactions.has(e.id))}getSelectedTransactions(){return this.data.transactions.filter(e=>e.id&&this.selectedTransactions.has(e.id))}getRecurringIntervalText(e){switch(e){case Ha.DAILY:return"Daily";case Ha.WEEKLY:return"Weekly";case Ha.MONTHLY:return"Monthly";case Ha.YEARLY:return"Yearly";default:return"Unknown"}}formatAmount(e){return this.currencyService.formatAmount(e)}getSelectedTransactionsTotal(){return this.getSelectedTransactions().reduce((e,i)=>e+i.amount,0)}trackByTransactionId(e,i){return i.id||e.toString()}getAccountDetails(e){return this.accounts$.pipe(ne(i=>i.find(r=>r.accountId===e.accountId)))}isCreditCardTransaction(e){return this.getAccountDetails(e).pipe(ne(i=>(i==null?void 0:i.type)==="credit"))}getCreditCardDueDate(e){return this.getAccountDetails(e).pipe(ne(i=>{var r;if((i==null?void 0:i.type)==="credit"&&((r=i.creditCardDetails)!=null&&r.dueDate)){let o=i.creditCardDetails.dueDate,s=new Date,l=s.getMonth(),c=s.getFullYear(),d=new Date(c,l,o);return d<s&&(d=new Date(c,l+1,o)),d.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}return null}))}getBillingCycleInfo(e){return this.getAccountDetails(e).pipe(ne(i=>{var r;if((i==null?void 0:i.type)==="credit"&&((r=i.creditCardDetails)!=null&&r.billingCycleStart)){let o=i.creditCardDetails.billingCycleStart;return`Billing cycle starts on ${o}${this.getDaySuffix(o)} of each month`}return null}))}getDaySuffix(e){if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}confirm(){let e=this.getSelectedTransactions();this.dialogRef.close({action:"confirm",transactions:e})}skip(){this.dialogRef.close({action:"skip"})}cancel(){this.dialogRef.close({action:"cancel"})}};t.\u0275fac=function(i){return new(i||t)(v(Yn),v(cn),v(Qe),v(il))},t.\u0275cmp=j({type:t,selectors:[["app-recurring-transaction-confirmation-dialog"]],decls:34,vars:5,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],[1,"mobile-content"],[1,"form-container"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],[1,"field-description"],["color","primary",1,"select-all-checkbox",3,"change","checked"],[1,"transactions-list"],["class","transaction-item",3,"selected",4,"ngFor","ngForOf","ngForTrackBy"],["class","form-field",4,"ngIf"],[1,"action-buttons"],["mat-stroked-button","",1,"skip-button",3,"click"],["mat-raised-button","","color","primary",1,"confirm-button",3,"click","disabled"],[1,"bottom-spacing"],[1,"transaction-item"],["color","primary",1,"transaction-checkbox",3,"change","checked"],[1,"transaction-details"],[1,"transaction-header"],[1,"payee"],[1,"amount"],[1,"transaction-meta"],[1,"category"],[1,"interval"],["class","credit-card-info",4,"ngIf"],["class","transaction-notes",4,"ngIf"],[1,"credit-card-info"],["class","due-date-info",4,"ngIf"],["class","billing-cycle-info",4,"ngIf"],[1,"due-date-info"],[1,"due-date-icon"],[1,"due-date-text"],[1,"billing-cycle-info"],[1,"billing-icon"],[1,"billing-text"],[1,"transaction-notes"],[1,"note-icon"],[1,"summary-content"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"summary-item","total"],[1,"summary-value","total-amount"]],template:function(i,r){i&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),T("click",function(){return r.cancel()}),u(4,"mat-icon"),_(5,"arrow_back"),h()(),u(6,"h6",4),_(7," Recurring Transactions "),h()(),u(8,"button",5),T("click",function(){return r.cancel()}),u(9,"mat-icon"),_(10,"close"),h()()()(),u(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9)(15,"mat-icon",10),_(16,"schedule"),h(),_(17," Due Transactions "),h(),u(18,"p",11),_(19," Select which recurring transactions you'd like to process: "),h()(),u(20,"div",8)(21,"mat-checkbox",12),T("change",function(){return r.allSelected?r.deselectAll():r.selectAll()}),_(22," Select All Transactions "),h()(),u(23,"div",8)(24,"div",13),S(25,Ov,16,15,"div",14),h()(),S(26,kv,16,2,"div",15),u(27,"div",8)(28,"div",16)(29,"button",17),T("click",function(){return r.skip()}),_(30," Skip All "),h(),u(31,"button",18),T("click",function(){return r.confirm()}),_(32," Process Selected "),h()()(),B(33,"div",19),h()()),i&2&&(f(21),P("checked",r.allSelected),f(4),P("ngForOf",r.data.transactions)("ngForTrackBy",r.trackByTransactionId),f(),P("ngIf",r.getSelectedTransactions().length>0),f(5),P("disabled",r.getSelectedTransactions().length===0))},dependencies:[Pi,tt,It,Et,Ge,Lu,Wn,Xt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}.form-field[_ngcontent-%COMP%]{margin-bottom:1.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{margin-bottom:1.25rem}}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1rem;font-weight:600;color:#1f2937;margin-bottom:.5rem}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f9fafb}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:20px;width:20px;height:20px}.form-field[_ngcontent-%COMP%]   .field-description[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.5;margin:0 0 1rem}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-description[_ngcontent-%COMP%]{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .select-all-checkbox[_ngcontent-%COMP%]{font-weight:500;color:#374151}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .select-all-checkbox[_ngcontent-%COMP%]{color:#d1d5db}.transactions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.transaction-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:.75rem;display:flex;align-items:flex-start;gap:.75rem;transition:border-color .2s ease}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.transaction-item.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#f8fafc}.dark[_ngcontent-%COMP%]   .transaction-item.selected[_ngcontent-%COMP%]{background:#1e3a8a;border-color:#60a5fa}.transaction-item[_ngcontent-%COMP%]   .transaction-checkbox[_ngcontent-%COMP%]{margin-top:.125rem}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]{flex:1;min-width:0}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.25rem}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .payee[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:.875rem}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .payee[_ngcontent-%COMP%]{color:#f9fafb}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .amount.income[_ngcontent-%COMP%]{color:#10b981}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .amount.expense[_ngcontent-%COMP%]{color:#ef4444}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.25rem}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151;padding:.125rem .375rem;border-radius:4px;font-size:.75rem}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{background:#374151;color:#d1d5db}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .interval[_ngcontent-%COMP%]{color:#3b82f6;font-size:.75rem}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-meta[_ngcontent-%COMP%]   .interval[_ngcontent-%COMP%]{color:#60a5fa}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-notes[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.75rem;color:#6b7280;font-style:italic}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-notes[_ngcontent-%COMP%]{color:#9ca3af}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-notes[_ngcontent-%COMP%]   .note-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem;background:#f0f9ff;border-radius:4px;border-left:3px solid #3b82f6}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]{background:#1e3a8a;border-left-color:#60a5fa}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%], .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .billing-cycle-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.75rem;margin-bottom:.25rem}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]:last-child, .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .billing-cycle-info[_ngcontent-%COMP%]:last-child{margin-bottom:0}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   .due-date-icon[_ngcontent-%COMP%], .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   .billing-icon[_ngcontent-%COMP%], .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .billing-cycle-info[_ngcontent-%COMP%]   .due-date-icon[_ngcontent-%COMP%], .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .billing-cycle-info[_ngcontent-%COMP%]   .billing-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;color:#3b82f6}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   .due-date-icon[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   .billing-icon[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .billing-cycle-info[_ngcontent-%COMP%]   .due-date-icon[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .billing-cycle-info[_ngcontent-%COMP%]   .billing-icon[_ngcontent-%COMP%]{color:#60a5fa}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   .due-date-text[_ngcontent-%COMP%], .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .billing-cycle-info[_ngcontent-%COMP%]   .due-date-text[_ngcontent-%COMP%]{color:#1e40af;font-weight:500}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   .due-date-text[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .billing-cycle-info[_ngcontent-%COMP%]   .due-date-text[_ngcontent-%COMP%]{color:#93c5fd}.transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   .billing-text[_ngcontent-%COMP%], .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .billing-cycle-info[_ngcontent-%COMP%]   .billing-text[_ngcontent-%COMP%]{color:#374151;font-style:italic}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .due-date-info[_ngcontent-%COMP%]   .billing-text[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .credit-card-info[_ngcontent-%COMP%]   .billing-cycle-info[_ngcontent-%COMP%]   .billing-text[_ngcontent-%COMP%]{color:#d1d5db}.summary-content[_ngcontent-%COMP%]{background:#f9fafb;border-radius:6px;padding:.75rem}.dark[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{background:#374151}.summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.875rem;padding:.25rem 0}.summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{color:#6b7280}.dark[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{color:#9ca3af}.summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.dark[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{color:#f9fafb}.summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value.total-amount[_ngcontent-%COMP%]{color:#059669}.dark[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value.total-amount[_ngcontent-%COMP%]{color:#34d399}.summary-content[_ngcontent-%COMP%]   .summary-item.total[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;margin-top:.5rem;padding-top:.5rem}.dark[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item.total[_ngcontent-%COMP%]{border-color:#4b5563}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem}@media (max-width: 480px){.action-buttons[_ngcontent-%COMP%]{flex-direction:column}}.action-buttons[_ngcontent-%COMP%]   .skip-button[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]{flex:1;min-height:44px;display:flex;align-items:center;justify-content:center;font-weight:500;border-radius:6px}@media (max-width: 480px){.action-buttons[_ngcontent-%COMP%]   .skip-button[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]{min-height:40px}}.action-buttons[_ngcontent-%COMP%]   .skip-button[_ngcontent-%COMP%]{border:1px solid #d1d5db;color:#6b7280;background:#fff}.dark[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .skip-button[_ngcontent-%COMP%]{border-color:#4b5563;color:#9ca3af;background:#374151}.action-buttons[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none}.action-buttons[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]:hover{background:#2563eb}.action-buttons[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}"]});let a=t;return a})();var xd=rn("categories"),gn=J(xd,a=>a.ids.map(t=>a.entities[t]).filter(t=>t)),wl=J(xd,a=>a.loading),MD=J(xd,a=>a.error);var PD=J(gn,a=>a.filter(t=>t.type===gt.INCOME)),OD=J(gn,a=>a.filter(t=>t.type===gt.EXPENSE));function Dv(a,t){if(a&1&&(u(0,"mat-option",34)(1,"div",35)(2,"div",36)(3,"mat-icon"),_(4),h()(),u(5,"span"),_(6),h()()()),a&2){let n=t.$implicit;P("value",n.id),f(2),We("background-color",n.color),f(2),R(n.icon),f(2),R(n.name)}}function Sv(a,t){a&1&&(u(0,"mat-error"),_(1," Category is required "),h())}function Tv(a,t){a&1&&(u(0,"mat-error"),_(1," Amount is required "),h())}function Iv(a,t){a&1&&(u(0,"mat-error"),_(1," Amount must be positive "),h())}function Ev(a,t){a&1&&(u(0,"mat-error"),_(1," Percentage is required "),h())}function Av(a,t){a&1&&(u(0,"mat-error"),_(1," Percentage must be between 0 and 100 "),h())}function Rv(a,t){if(a&1){let n=ee();u(0,"div",19)(1,"div",20)(2,"h3"),_(3),h(),u(4,"button",21),T("click",function(){let i=E(n).index,r=M();return A(r.removeSplit(i))}),u(5,"mat-icon"),_(6,"delete"),h()()(),u(7,"div",22)(8,"mat-form-field",23)(9,"mat-label"),_(10,"Category"),h(),u(11,"mat-select",24),T("selectionChange",function(i){let r=E(n).index,o=M();return A(o.onCategoryChange(i.value,r))}),S(12,Dv,7,5,"mat-option",25),z(13,"async"),h(),S(14,Sv,2,0,"mat-error",26),h(),u(15,"div",27)(16,"mat-form-field",28)(17,"mat-label"),_(18,"Amount"),h(),B(19,"input",29),S(20,Tv,2,0,"mat-error",26)(21,Iv,2,0,"mat-error",26),h(),u(22,"mat-form-field",30)(23,"mat-label"),_(24,"Percentage"),h(),B(25,"input",31),u(26,"span",32),_(27,"%"),h(),S(28,Ev,2,0,"mat-error",26)(29,Av,2,0,"mat-error",26),h()(),u(30,"mat-form-field",23)(31,"mat-label"),_(32,"Notes (Optional)"),h(),B(33,"textarea",33),h()()()}if(a&2){let n,e,i,r,o,s=t.$implicit,l=t.index,c=M();P("formGroupName",l),f(3),$("Split ",l+1,""),f(),P("disabled",c.splitsArray.length===1),f(8),P("ngForOf",U(13,9,c.categories$)),f(2),P("ngIf",(n=s.get("categoryId"))==null?null:n.hasError("required")),f(6),P("ngIf",(e=s.get("amount"))==null?null:e.hasError("required")),f(),P("ngIf",(i=s.get("amount"))==null?null:i.hasError("min")),f(7),P("ngIf",(r=s.get("percentage"))==null?null:r.hasError("required")),f(),P("ngIf",((o=s.get("percentage"))==null?null:o.hasError("min"))||((o=s.get("percentage"))==null?null:o.hasError("max")))}}function Fv(a,t){if(a&1){let n=ee();u(0,"div",37)(1,"button",38),T("click",function(){E(n);let i=M();return A(i.distributeRemaining())}),u(2,"mat-icon"),_(3,"account_balance_wallet"),h(),_(4),h()()}if(a&2){let n=M();f(4),$(" Distribute Remaining (\u20B9",n.remainingAmount.toFixed(2),") ")}}function Bv(a,t){a&1&&(u(0,"mat-icon",39),_(1,"refresh"),h())}var ED=(()=>{let t=class t{constructor(e,i,r,o,s){this.data=e,this.fb=i,this.dialogRef=r,this.store=o,this.notificationService=s,this.remainingAmount=0,this.isSubmitting=!1,this.totalAmount=e.totalAmount,this.categories$=this.store.select(gn),this.categorySplitForm=this.fb.group({splits:this.fb.array([])})}ngOnInit(){this.data.existingSplits&&this.data.existingSplits.length>0?this.data.existingSplits.forEach(e=>{this.addSplit(e)}):this.addSplit(),this.updateRemainingAmount()}get splitsArray(){return this.categorySplitForm.get("splits")}addSplit(e){var r,o,s;let i=this.fb.group({categoryId:[(e==null?void 0:e.categoryId)||"",Ne.required],categoryName:[(e==null?void 0:e.categoryName)||"",Ne.required],amount:[(e==null?void 0:e.amount)||0,[Ne.required,Ne.min(0)]],percentage:[(e==null?void 0:e.percentage)||0,[Ne.required,Ne.min(0),Ne.max(100)]],notes:[(e==null?void 0:e.notes)||""]});this.splitsArray.push(i),(r=i.get("amount"))==null||r.valueChanges.subscribe(l=>{if(this.totalAmount>0&&l!==null&&l!==void 0){let c=l/this.totalAmount*100;i.patchValue({percentage:Math.round(c*100)/100},{emitEvent:!1}),this.updateRemainingAmount()}}),(o=i.get("percentage"))==null||o.valueChanges.subscribe(l=>{if(l!=null){let c=l/100*this.totalAmount;i.patchValue({amount:Math.round(c*100)/100},{emitEvent:!1}),this.updateRemainingAmount()}}),(s=i.get("categoryId"))==null||s.valueChanges.subscribe(l=>{l&&this.categories$.subscribe(c=>{let d=c.find(p=>p.id===l);d&&i.patchValue({categoryName:d.name},{emitEvent:!1})})})}removeSplit(e){this.splitsArray.removeAt(e),this.updateRemainingAmount()}updateRemainingAmount(){let e=this.splitsArray.controls.reduce((i,r)=>{var o;return i+(((o=r.get("amount"))==null?void 0:o.value)||0)},0);this.remainingAmount=this.totalAmount-e}distributeRemaining(){if(this.remainingAmount>0&&this.splitsArray.length>0){let e=this.remainingAmount/this.splitsArray.length;this.splitsArray.controls.forEach(i=>{var l;let o=(((l=i.get("amount"))==null?void 0:l.value)||0)+e,s=o/this.totalAmount*100;i.patchValue({amount:Math.round(o*100)/100,percentage:Math.round(s*100)/100},{emitEvent:!1})}),this.updateRemainingAmount()}}onCategoryChange(e,i){this.categories$.subscribe(r=>{let o=r.find(s=>s.id===e);o&&this.splitsArray.at(i).patchValue({categoryName:o.name},{emitEvent:!1})})}onSubmit(){if(this.categorySplitForm.valid&&Math.abs(this.remainingAmount)<.01){this.isSubmitting=!0;let e=this.splitsArray.value.map(i=>({categoryId:i.categoryId,categoryName:i.categoryName,amount:i.amount,percentage:i.percentage,notes:i.notes}));this.dialogRef.close(e)}else Math.abs(this.remainingAmount)>=.01?this.notificationService.error(`Total split amount must equal ${this.totalAmount}. Remaining: ${this.remainingAmount.toFixed(2)}`):this.notificationService.error("Please fill in all required fields")}onCancel(){this.dialogRef.close()}getRemainingAmountColor(){return Math.abs(this.remainingAmount)<.01?"text-green-600":this.remainingAmount>0?"text-orange-600":"text-red-600"}};t.\u0275fac=function(i){return new(i||t)(v(Yn),v($n),v(cn),v(Qe),v(ln))},t.\u0275cmp=j({type:t,selectors:[["app-category-split-dialog"]],decls:34,vars:10,consts:[[1,"category-split-dialog"],[1,"dialog-header"],["mat-dialog-title",""],["mat-icon-button","","mat-dialog-close","",1,"close-button"],[1,"split-info","mb-4"],[1,"total-amount"],[1,"label"],[1,"amount"],[1,"remaining-amount"],[3,"formGroup"],["formArrayName","splits",1,"splits-container"],["class","split-item",3,"formGroupName",4,"ngFor","ngForOf"],[1,"add-split-section"],["type","button","mat-stroked-button","",1,"add-split-button",3,"click"],["class","distribute-section",4,"ngIf"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],["class","spinning",4,"ngIf"],[1,"split-item",3,"formGroupName"],[1,"split-header"],["type","button","mat-icon-button","","matTooltip","Remove split",1,"remove-button",3,"click","disabled"],[1,"split-content"],["appearance","outline",1,"w-full"],["formControlName","categoryId",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"amount-percentage-row"],["appearance","outline",1,"amount-field"],["matInput","","type","number","formControlName","amount","step","0.01","min","0"],["appearance","outline",1,"percentage-field"],["matInput","","type","number","formControlName","percentage","step","0.01","min","0","max","100"],["matSuffix",""],["matInput","","formControlName","notes","rows","2","placeholder","Add notes for this split..."],[3,"value"],[1,"category-option"],[1,"category-icon"],[1,"distribute-section"],["type","button","mat-stroked-button","",1,"distribute-button",3,"click"],[1,"spinning"]],template:function(i,r){i&1&&(u(0,"div",0)(1,"div",1)(2,"h2",2),_(3,"Split Transaction by Category"),h(),u(4,"button",3)(5,"mat-icon"),_(6,"close"),h()()(),u(7,"mat-dialog-content")(8,"div",4)(9,"div",5)(10,"span",6),_(11,"Total Amount:"),h(),u(12,"span",7),_(13),h()(),u(14,"div",8)(15,"span",6),_(16,"Remaining:"),h(),u(17,"span",7),_(18),h()()(),u(19,"form",9)(20,"div",10),S(21,Rv,34,11,"div",11),h(),u(22,"div",12)(23,"button",13),T("click",function(){return r.addSplit()}),u(24,"mat-icon"),_(25,"add"),h(),_(26," Add Another Split "),h()(),S(27,Fv,5,1,"div",14),h()(),u(28,"mat-dialog-actions",15)(29,"button",16),T("click",function(){return r.onCancel()}),_(30,"Cancel"),h(),u(31,"button",17),T("click",function(){return r.onSubmit()}),S(32,Bv,2,0,"mat-icon",18),_(33),h()()()),i&2&&(f(13),$("\u20B9",r.totalAmount.toFixed(2),""),f(),Xe(r.getRemainingAmountColor()),f(4),$("\u20B9",r.remainingAmount.toFixed(2),""),f(),P("formGroup",r.categorySplitForm),f(2),P("ngForOf",r.splitsArray.controls),f(6),P("ngIf",r.remainingAmount>0),f(4),P("disabled",r.categorySplitForm.invalid||r.remainingAmount>=.01||r.isSubmitting),f(),P("ngIf",r.isSubmitting),f(),$(" ",r.isSubmitting?"Saving...":"Save Splits"," "))},dependencies:[Pi,tt,jn,Fn,bs,Bn,Ln,xs,Cs,Nn,Vn,vs,ys,It,Et,Ge,Hu,Nu,Vu,$u,Uu,yc,Yu,Au,Ru,Bu,Fu,Wn,Xt],styles:[".category-split-dialog[_ngcontent-%COMP%]{min-width:500px;max-width:700px}.category-split-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-bottom:1px solid #e0e0e0}.category-split-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:500}.category-split-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#666}.category-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{padding:24px;max-height:70vh;overflow-y:auto}.category-split-dialog[_ngcontent-%COMP%]   .split-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background-color:#f5f5f5;border-radius:8px;margin-bottom:20px}.category-split-dialog[_ngcontent-%COMP%]   .split-info[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%], .category-split-dialog[_ngcontent-%COMP%]   .split-info[_ngcontent-%COMP%]   .remaining-amount[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.category-split-dialog[_ngcontent-%COMP%]   .split-info[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .category-split-dialog[_ngcontent-%COMP%]   .split-info[_ngcontent-%COMP%]   .remaining-amount[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.875rem;color:#666;margin-bottom:4px}.category-split-dialog[_ngcontent-%COMP%]   .split-info[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%], .category-split-dialog[_ngcontent-%COMP%]   .split-info[_ngcontent-%COMP%]   .remaining-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.category-split-dialog[_ngcontent-%COMP%]   .split-info[_ngcontent-%COMP%]   .remaining-amount.text-green-600[_ngcontent-%COMP%]{color:#059669}.category-split-dialog[_ngcontent-%COMP%]   .split-info[_ngcontent-%COMP%]   .remaining-amount.text-orange-600[_ngcontent-%COMP%]{color:#ea580c}.category-split-dialog[_ngcontent-%COMP%]   .split-info[_ngcontent-%COMP%]   .remaining-amount.text-red-600[_ngcontent-%COMP%]{color:#dc2626}.category-split-dialog[_ngcontent-%COMP%]   .splits-container[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;margin-bottom:16px;overflow:hidden}.category-split-dialog[_ngcontent-%COMP%]   .splits-container[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background-color:#f8f9fa;border-bottom:1px solid #e0e0e0}.category-split-dialog[_ngcontent-%COMP%]   .splits-container[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:500;color:#333}.category-split-dialog[_ngcontent-%COMP%]   .splits-container[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{color:#dc2626}.category-split-dialog[_ngcontent-%COMP%]   .splits-container[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-header[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]:disabled{color:#9ca3af}.category-split-dialog[_ngcontent-%COMP%]   .splits-container[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-content[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:16px}.category-split-dialog[_ngcontent-%COMP%]   .splits-container[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-content[_ngcontent-%COMP%]   .category-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.category-split-dialog[_ngcontent-%COMP%]   .splits-container[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-content[_ngcontent-%COMP%]   .category-option[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff}.category-split-dialog[_ngcontent-%COMP%]   .splits-container[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-content[_ngcontent-%COMP%]   .category-option[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.category-split-dialog[_ngcontent-%COMP%]   .splits-container[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-content[_ngcontent-%COMP%]   .amount-percentage-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.category-split-dialog[_ngcontent-%COMP%]   .splits-container[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-content[_ngcontent-%COMP%]   .amount-percentage-row[_ngcontent-%COMP%]   .amount-field[_ngcontent-%COMP%], .category-split-dialog[_ngcontent-%COMP%]   .splits-container[_ngcontent-%COMP%]   .split-item[_ngcontent-%COMP%]   .split-content[_ngcontent-%COMP%]   .amount-percentage-row[_ngcontent-%COMP%]   .percentage-field[_ngcontent-%COMP%]{width:100%}.category-split-dialog[_ngcontent-%COMP%]   .add-split-section[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 0}.category-split-dialog[_ngcontent-%COMP%]   .add-split-section[_ngcontent-%COMP%]   .add-split-button[_ngcontent-%COMP%]{border:2px dashed #d1d5db;color:#6b7280;padding:12px 24px;border-radius:8px;transition:all .2s}.category-split-dialog[_ngcontent-%COMP%]   .add-split-section[_ngcontent-%COMP%]   .add-split-button[_ngcontent-%COMP%]:hover{border-color:#3b82f6;color:#3b82f6;background-color:#eff6ff}.category-split-dialog[_ngcontent-%COMP%]   .add-split-section[_ngcontent-%COMP%]   .add-split-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.category-split-dialog[_ngcontent-%COMP%]   .distribute-section[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:16px 0}.category-split-dialog[_ngcontent-%COMP%]   .distribute-section[_ngcontent-%COMP%]   .distribute-button[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e;border:1px solid #f59e0b;padding:8px 16px;border-radius:6px;transition:all .2s}.category-split-dialog[_ngcontent-%COMP%]   .distribute-section[_ngcontent-%COMP%]   .distribute-button[_ngcontent-%COMP%]:hover{background-color:#fde68a;border-color:#d97706}.category-split-dialog[_ngcontent-%COMP%]   .distribute-section[_ngcontent-%COMP%]   .distribute-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.category-split-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #e0e0e0;margin:0}.category-split-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 600px){.category-split-dialog[_ngcontent-%COMP%]{min-width:100%;max-width:100%}.category-split-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{padding:16px}.category-split-dialog[_ngcontent-%COMP%]   .split-info[_ngcontent-%COMP%]{flex-direction:column;gap:12px;text-align:center}.category-split-dialog[_ngcontent-%COMP%]   .amount-percentage-row[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}"]});let a=t;return a})();var Eo=rn("transactions"),Lt=J(Eo,a=>a.ids.map(t=>a.entities[t]).filter(Boolean)),Da=J(Eo,a=>a.loading),LD=J(Eo,a=>a.error),Lv=J(Eo,a=>a.selectedTransactionId),jD=J(Eo,Lv,(a,t)=>t?a.entities[t]:null);var wd=a=>a instanceof mi?new Date(a.seconds*1e3):a instanceof Date?a:new Date(a);var Rp=(a,t,n)=>{let e=wd(a);return e.getMonth()===t&&e.getFullYear()===n},ND=a=>J(Lt,t=>t.filter(n=>n.accountId===a));var Fp=J(Lt,a=>a.filter(t=>t.type===gt.INCOME)),jv=J(Fp,a=>a.reduce((t,n)=>t+n.amount,0)),VD=(a,t)=>J(Fp,n=>n.filter(e=>e.date&&Rp(e.date,a,t)).reduce((e,i)=>e+i.amount,0)),Bp=J(Lt,a=>a.filter(t=>t.type===gt.EXPENSE)),Nv=J(Bp,a=>a.reduce((t,n)=>t+n.amount,0)),$D=(a,t)=>J(Bp,n=>n.filter(e=>e.date&&Rp(e.date,a,t)).reduce((e,i)=>e+i.amount,0)),Vv=J(Lt,a=>a.filter(t=>t.type===gt.TRANSFER)),zD=J(Vv,a=>a.reduce((t,n)=>t+n.amount,0)),HD=J(jv,Nv,(a,t)=>a-t);var UD=J(Lt,a=>a.length&&a.filter(t=>t.date).sort((t,n)=>{let e=wd(t.date);return wd(n.date).getTime()-e.getTime()})[0]||null);var GD=J(Lt,a=>{let t=new Map;return a.forEach(n=>{let e=n.categoryId;t.has(e)||t.set(e,{categoryId:n.categoryId,categoryName:n.category,totalAmount:0,transactionCount:0});let i=t.get(e);i.totalAmount+=n.amount,i.transactionCount+=1}),Array.from(t.values()).sort((n,e)=>e.totalAmount-n.totalAmount)}),YD=J(Lt,a=>{let t=new Map;return a.forEach(n=>{let e=n.accountId;t.has(e)||t.set(e,{accountId:n.accountId,totalAmount:0,transactionCount:0});let i=t.get(e);i.totalAmount+=n.amount,i.transactionCount+=1}),Array.from(t.values()).sort((n,e)=>e.totalAmount-n.totalAmount)}),WD=J(Lt,a=>a.reduce((t,n)=>t+(n.taxAmount||0),0));var XD=J(Lt,a=>a.filter(t=>t.status==="pending")),QD=J(Lt,a=>a.filter(t=>t.isRecurring===!0));var Ol=(()=>{let t=class t{transform(e,i){if(e==null||e==="")return this.formatCurrency(0,i);let r=typeof e=="string"?parseFloat(e):e;if(isNaN(r))return"Invalid amount";let o=i!=null&&i.round?Math.round(r):r;return this.formatCurrency(o,i)}formatCurrency(e,i){let{currency:r=qt.CURRENCY.DEFAULT,locale:o=qt.LANGUAGE.DEFAULT,showSymbol:s=!0,showCode:l=!1,decimalPlaces:c,compact:d=!1,signDisplay:p="auto",notation:g="standard",round:m=!1}=i||{},C=this.getCurrencyConfig(r),b=e%1!==0,x=m?0:c,y=x!==void 0?b&&!m?x:0:b&&!m?C.decimalPlaces:0,w=x!==void 0?x:m?0:C.decimalPlaces,O={style:"currency",currency:r,minimumFractionDigits:y,maximumFractionDigits:w,signDisplay:p,notation:d?"compact":g};s?l&&(O.currencyDisplay="narrowSymbol"):O.currencyDisplay="code";try{return new Intl.NumberFormat(o,O).format(e)}catch(D){return console.error("Currency formatting error:",D),this.fallbackFormat(e,r,C)}}getCurrencyConfig(e){let i=e;return{symbol:qt.CURRENCY.SYMBOLS[i]||e,decimalPlaces:qt.CURRENCY.DECIMAL_PLACES[i]||2}}fallbackFormat(e,i,r){let o=r.symbol,s=e%1===0?e.toFixed(0):e.toFixed(r.decimalPlaces);return`${o}${s}`}static getCurrencySymbol(e){let i=e;return qt.CURRENCY.SYMBOLS[i]||e}static getDecimalPlaces(e){let i=e;return qt.CURRENCY.DECIMAL_PLACES[i]||2}static isSupportedCurrency(e){return qt.CURRENCY.SUPPORTED.includes(e)}static getSupportedCurrencies(){return qt.CURRENCY.SUPPORTED}};t.\u0275fac=function(i){return new(i||t)},t.\u0275pipe=os({name:"currency",type:t,pure:!0});let a=t;return a})();var $v=(a,t)=>t.id;function zv(a,t){if(a&1){let n=ee();u(0,"div",16)(1,"button",17),T("click",function(){E(n);let i=M(2);return A(i.toggleBudgetSummaryExpansion())}),u(2,"mat-icon"),_(3),h(),u(4,"span"),_(5),h()()()}if(a&2){let n=M(2);f(3),R(n.isBudgetSummaryExpanded?"expand_less":"expand_more"),f(2),R(n.isBudgetSummaryExpanded?"Show Less":"Show More")}}function Hv(a,t){if(a&1&&(u(0,"div",22)(1,"span",23),_(2,"Highest Spending Category:"),h(),u(3,"span",24)(4,"mat-icon"),z(5,"async"),_(6),z(7,"async"),h(),_(8),z(9,"async"),z(10,"async"),z(11,"currency"),h()()),a&2){let n,e,i,r=M(3);f(4),We("color",(n=U(5,5,r.detailedBudgetStats$))==null||n.mostExpensiveCategory==null?null:n.mostExpensiveCategory.color),f(2),R((e=U(7,7,r.detailedBudgetStats$))==null||e.mostExpensiveCategory==null?null:e.mostExpensiveCategory.icon),f(2),vn(" ",(i=U(9,9,r.detailedBudgetStats$))==null||i.mostExpensiveCategory==null?null:i.mostExpensiveCategory.name," (",U(11,13,(i=U(10,11,r.detailedBudgetStats$))==null||i.mostExpensiveCategory==null?null:i.mostExpensiveCategory.spent),") ")}}function Uv(a,t){if(a&1&&(u(0,"div",22)(1,"span",23),_(2,"Lowest Spending Category:"),h(),u(3,"span",24)(4,"mat-icon"),z(5,"async"),_(6),z(7,"async"),h(),_(8),z(9,"async"),z(10,"async"),z(11,"currency"),h()()),a&2){let n,e,i,r=M(3);f(4),We("color",(n=U(5,5,r.detailedBudgetStats$))==null||n.leastExpensiveCategory==null?null:n.leastExpensiveCategory.color),f(2),R((e=U(7,7,r.detailedBudgetStats$))==null||e.leastExpensiveCategory==null?null:e.leastExpensiveCategory.icon),f(2),vn(" ",(i=U(9,9,r.detailedBudgetStats$))==null||i.leastExpensiveCategory==null?null:i.leastExpensiveCategory.name," (",U(11,13,(i=U(10,11,r.detailedBudgetStats$))==null||i.leastExpensiveCategory==null?null:i.leastExpensiveCategory.spent),") ")}}function Gv(a,t){if(a&1&&(u(0,"div",28)(1,"div",29)(2,"mat-icon"),_(3),h(),u(4,"span",30),_(5),h()(),u(6,"div",31)(7,"div",32)(8,"span",33),_(9,"Budget:"),h(),u(10,"span",34),_(11),z(12,"currency"),h()(),u(13,"div",32)(14,"span",33),_(15,"Spent:"),h(),u(16,"span",35),_(17),z(18,"currency"),h()(),u(19,"div",32)(20,"span",33),_(21,"Remaining:"),h(),u(22,"span",34),_(23),z(24,"currency"),h()(),u(25,"div",32)(26,"span",33),_(27,"Progress:"),h(),u(28,"span",34),_(29),h()()(),u(30,"div",36)(31,"div",11),B(32,"div",12),h()()()),a&2){let n=t.$implicit,e=M(3);f(2),We("color",n.color),f(),R(n.icon),f(2),R(n.name),f(6),R(U(12,16,n.budget)),f(6),R(U(18,18,n.spent)),f(5),Xe(n.remaining<0?"danger":"safe"),f(),$(" ",U(24,20,n.remaining)," "),f(5),Xe(n.progress>=90?"danger":n.progress>=75?"warning":"safe"),f(),$(" ",n.progress.toFixed(1),"% "),f(3),We("width",e.Math.min(n.progress,100),"%")("background-color",n.progress>=100?"#ef4444":n.progress>=80?"#f59e0b":n.progress>=60?"#3b82f6":"#10b981")}}function Yv(a,t){if(a&1&&(u(0,"div",18)(1,"mat-tab-group",19)(2,"mat-tab",20)(3,"div",21)(4,"div",22)(5,"span",23),_(6,"Total Categories with Budget:"),h(),u(7,"span",24),_(8),z(9,"async"),h()(),u(10,"div",22)(11,"span",23),_(12,"Average Budget per Category:"),h(),u(13,"span",24),_(14),z(15,"async"),z(16,"currency"),h()(),u(17,"div",22)(18,"span",23),_(19,"Average Spent per Category:"),h(),u(20,"span",24),_(21),z(22,"async"),z(23,"currency"),h()(),S(24,Hv,12,15,"div",25),z(25,"async"),S(26,Uv,12,15,"div",25),z(27,"async"),h()(),u(28,"mat-tab",26)(29,"div",21)(30,"div",27),wt(31,Gv,33,22,"div",28,$v),z(33,"async"),h()()()()()),a&2){let n,e,i,r,o,s,l=M(2);f(8),R((n=U(9,5,l.detailedBudgetStats$))==null?null:n.totalCategories),f(6),R(U(16,9,(e=U(15,7,l.overallBudgetStats$))==null?null:e.averageBudget)),f(7),R(U(23,13,(i=U(22,11,l.detailedBudgetStats$))==null?null:i.averageSpentPerCategory)),f(3),P("ngIf",(r=U(25,15,l.detailedBudgetStats$))==null?null:r.mostExpensiveCategory),f(2),P("ngIf",(o=U(27,17,l.detailedBudgetStats$))==null?null:o.leastExpensiveCategory),f(5),Mt((s=U(33,19,l.detailedBudgetStats$))==null?null:s.categories)}}function Wv(a,t){if(a&1&&(u(0,"div",2)(1,"div",3)(2,"mat-icon",4),_(3,"account_balance_wallet"),h(),u(4,"h3",5),_(5,"Overall Monthly Budget"),h()(),u(6,"div",6)(7,"div",7)(8,"span",8),_(9,"Total Budget:"),h(),u(10,"span",9),_(11),z(12,"async"),z(13,"currency"),h()()(),u(14,"div",10)(15,"div",11),B(16,"div",12),z(17,"async"),z(18,"async"),h(),u(19,"div",13),_(20),z(21,"async"),z(22,"currency"),z(23,"async"),z(24,"currency"),z(25,"async"),h()(),S(26,zv,6,2,"div",14)(27,Yv,34,21,"div",15),h()),a&2){let n,e,i,r=M();H("expanded",r.isBudgetSummaryExpanded),f(11),R(U(13,14,(n=U(12,12,r.overallBudgetStats$))==null?null:n.totalBudget)),f(5),We("width",r.Math.min(((e=U(17,16,r.overallBudgetStats$))==null?null:e.overallProgress)||0,100),"%")("background-color",U(18,18,r.overallBudgetProgressColor$)),f(4),Wm(" ",U(22,22,(i=U(21,20,r.overallBudgetStats$))==null?null:i.totalSpent)," / ",U(24,26,(i=U(23,24,r.overallBudgetStats$))==null?null:i.totalBudget)," (",(i=U(25,28,r.overallBudgetStats$))==null||i.overallProgress==null?null:i.overallProgress.toFixed(1),"%) "),f(6),P("ngIf",!r.breakpointService.device.isMobile||r.isHomeView),f(),P("ngIf",r.isBudgetSummaryExpanded)}}function Xv(a,t){if(a&1){let n=ee();u(0,"div",37)(1,"div",38)(2,"mat-icon",39),_(3,"account_balance_wallet"),h(),u(4,"div",40)(5,"h4",41),_(6,"No Budgets Set"),h(),u(7,"p",42),_(8,"Set budgets for your expense categories to track your spending goals and get insights into your financial habits."),h(),u(9,"div",43)(10,"button",44),T("click",function(){E(n);let i=M();return A(i.navigateToBudgets())}),u(11,"mat-icon"),_(12,"add"),h(),_(13," Set Up Budgets "),h(),u(14,"button",45),T("click",function(){E(n);let i=M();return A(i.navigateToCategories())}),u(15,"mat-icon"),_(16,"category"),h(),_(17," Manage Categories "),h()()()()()}}var nS=(()=>{let t=class t{constructor(e,i,r,o,s){this.store=e,this.dateService=i,this.breakpointService=r,this.cdr=o,this.router=s,this.isHomeView=!1,this.isChildView=!1,this.isBudgetSummaryExpanded=!1,this.Math=Math,this.destroy$=new ue,this.categories$=this.store.select(gn),this.transactions$=this.store.select(Lt),this.setupComputedObservables()}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setupComputedObservables(){let e=gi([this.categories$,this.transactions$]).pipe(ne(([i,r])=>({categories:i,transactions:r})),Bm((i,r)=>JSON.stringify(i)===JSON.stringify(r)));this.overallBudgetStats$=e.pipe(ne(({categories:i,transactions:r})=>this.calculateOverallBudgetStats(i,r))),this.detailedBudgetStats$=e.pipe(ne(({categories:i,transactions:r})=>this.calculateDetailedBudgetStats(i,r))),this.overallBudgetProgressColor$=this.overallBudgetStats$.pipe(ne(i=>{let r=(i==null?void 0:i.overallProgress)||0;return r>=100?"#ef4444":r>=80?"#f59e0b":r>=60?"#3b82f6":"#10b981"}))}getCurrentBudgetPeriod(){let e=new Date,i=e.getMonth(),r=e.getFullYear(),o=new Date(r,i,1),s=new Date(r,i+1,0,23,59,59);return{startDate:o,endDate:s}}isTransactionInBudgetPeriod(e,i,r){let o=this.dateService.toDate(e.date);if(!o)return!1;let{startDate:s,endDate:l}=this.getCurrentBudgetPeriod(),c,d;return i?c=this.dateService.toDate(i):c=s,r?d=this.dateService.toDate(r):d=l,!c||!d?!1:o>=c&&o<=d}calculateBudgetSpent(e,i){var s,l;return!((s=e.budget)!=null&&s.hasBudget)||!((l=e.budget)!=null&&l.budgetAmount)?0:i.filter(c=>{var d,p;return c.categoryId===e.id&&c.type===gt.EXPENSE&&this.isTransactionInBudgetPeriod(c,(d=e.budget)==null?void 0:d.budgetStartDate,(p=e.budget)==null?void 0:p.budgetEndDate)}).reduce((c,d)=>c+Math.abs(d.amount),0)}calculateBudgetRemaining(e,i){var o,s;if(!((o=e.budget)!=null&&o.hasBudget)||!((s=e.budget)!=null&&s.budgetAmount))return 0;let r=this.calculateBudgetSpent(e,i);return Math.max(0,(e.budget.budgetAmount||0)-r)}calculateBudgetProgressPercentage(e,i){var s,l;if(!((s=e.budget)!=null&&s.hasBudget)||!((l=e.budget)!=null&&l.budgetAmount))return 0;let r=this.calculateBudgetSpent(e,i),o=e.budget.budgetAmount||0;return o===0?0:Math.min(100,r/o*100)}calculateOverallBudgetStats(e,i){let r=e.filter(g=>{var m;return((m=g.budget)==null?void 0:m.hasBudget)&&g.type===gt.EXPENSE}),o=e.filter(g=>{var m;return((m=g.budget)==null?void 0:m.budgetAmount)&&g.type===gt.EXPENSE});if(r.length===0)return{totalBudget:0,totalSpent:0,totalRemaining:0,overallProgress:0,categoriesWithBudget:0,averageBudget:0};let s=r.reduce((g,m)=>{var C;return g+(((C=m.budget)==null?void 0:C.budgetAmount)||0)},0),l=r.reduce((g,m)=>g+this.calculateBudgetSpent(m,i),0),c=s-l,d=s>0?l/s*100:0,p=s/r.length;return{totalBudget:s,totalSpent:l,totalRemaining:c,overallProgress:d,categoriesWithBudget:r.length,averageBudget:p}}getOverallBudgetStatusClass(){let e={};return this.overallBudgetStats$.pipe(De(this.destroy$)).subscribe(i=>{e=i}),e.overallProgress>=90?"danger":e.overallProgress>=75?"warning":"safe"}calculateDetailedBudgetStats(e,i){let r=e.filter(p=>{var g;return((g=p.budget)==null?void 0:g.hasBudget)&&p.type===gt.EXPENSE});if(r.length===0)return{categories:[],totalCategories:0,averageSpentPerCategory:0,mostExpensiveCategory:null,leastExpensiveCategory:null};let o=r.map(p=>{var g;return{id:p.id,name:p.name,budget:((g=p.budget)==null?void 0:g.budgetAmount)||0,spent:this.calculateBudgetSpent(p,i),remaining:this.calculateBudgetRemaining(p,i),progress:this.calculateBudgetProgressPercentage(p,i),color:p.color,icon:p.icon}}),l=o.reduce((p,g)=>p+g.spent,0)/o.length,c=o.reduce((p,g)=>g.spent>p.spent?g:p,o[0]),d=o.reduce((p,g)=>g.spent<p.spent?g:p,o[0]);return{categories:o.sort((p,g)=>g.spent-p.spent),totalCategories:o.length,averageSpentPerCategory:l,mostExpensiveCategory:c,leastExpensiveCategory:d}}toggleBudgetSummaryExpansion(){this.isBudgetSummaryExpanded=!this.isBudgetSummaryExpanded,this.cdr.detectChanges()}navigateToBudgets(){this.router.navigate(["/dashboard/budgets"])}navigateToCategories(){this.router.navigate(["/dashboard/category"])}getOverallBudgetStats(){let e={};return this.overallBudgetStats$.pipe(De(this.destroy$)).subscribe(i=>e=i),e}getDetailedBudgetStats(){let e={};return this.detailedBudgetStats$.pipe(De(this.destroy$)).subscribe(i=>e=i),e}};t.\u0275fac=function(i){return new(i||t)(v(Qe),v(tl),v(hn),v(Ce),v(An))},t.\u0275cmp=j({type:t,selectors:[["app-budget-card"]],inputs:{isHomeView:"isHomeView",isChildView:"isChildView"},decls:4,vars:6,consts:[["class","budget-summary-card lg:col-span-2",3,"expanded",4,"ngIf"],["class","no-budget-card",4,"ngIf"],[1,"budget-summary-card","lg:col-span-2"],[1,"budget-summary-header"],[1,"budget-icon"],[1,"budget-summary-title"],[1,"budget-summary-stats"],[1,"budget-stat-item"],[1,"budget-stat-label"],[1,"budget-stat-value"],[1,"overall-budget-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],["class","expand-section",4,"ngIf"],["class","budget-details-expanded",4,"ngIf"],[1,"expand-section"],["mat-button","",1,"expand-btn",3,"click"],[1,"budget-details-expanded"],[1,"details-tabs"],["label","Summary"],[1,"tab-content"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],["class","detail-row",4,"ngIf"],["label","Category Breakdown"],[1,"category-breakdown-list"],[1,"category-breakdown-item"],[1,"category-breakdown-header"],[1,"category-name"],[1,"category-breakdown-stats"],[1,"breakdown-stat"],[1,"breakdown-label"],[1,"breakdown-value"],[1,"breakdown-value","spent"],[1,"category-breakdown-progress"],[1,"no-budget-card"],[1,"no-budget-content"],[1,"no-budget-icon"],[1,"no-budget-text-content"],[1,"no-budget-title"],[1,"no-budget-text"],[1,"no-budget-actions"],["mat-raised-button","","color","primary",1,"setup-budget-btn",3,"click"],["mat-button","",1,"manage-categories-btn",3,"click"]],template:function(i,r){if(i&1&&(S(0,Wv,28,30,"div",0),z(1,"async"),S(2,Xv,18,0,"div",1),z(3,"async")),i&2){let o,s;P("ngIf",((o=U(1,2,r.overallBudgetStats$))==null?null:o.categoriesWithBudget)>0),f(2),P("ngIf",((s=U(3,4,r.overallBudgetStats$))==null?null:s.categoriesWithBudget)===0)}},dependencies:[tt,It,Ge,gd,Sp,Xt,Ol],styles:[".budget-summary-card[_ngcontent-%COMP%]{width:100%;background:#dbfbff4a;border-radius:12px;padding:1.25rem;border:1px solid #e5e7eb;transition:all .2s ease;border-left:4px solid #4d98a4;position:relative;overflow:hidden}@media (max-width: 640px){.budget-summary-card[_ngcontent-%COMP%]{padding:.5rem;border-radius:10px}}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin:.65rem 0 .5rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-header[_ngcontent-%COMP%]   .budget-icon[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;width:1.5rem;height:1.5rem;--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));border-radius:8px;padding:.5rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-header[_ngcontent-%COMP%]   .budget-summary-title[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.25rem);font-weight:600;color:#1f2937;margin:0;line-height:1.2}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:.5rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#6b7280}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.spent[_ngcontent-%COMP%], .budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.danger[_ngcontent-%COMP%]{color:#dc2626}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.warning[_ngcontent-%COMP%]{color:#f59e0b}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.safe[_ngcontent-%COMP%]{color:#10b981}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;margin-bottom:1rem}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:6px;background-color:#e5e7eb;border-radius:3px;overflow:hidden}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease;border-radius:3px}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;display:block;line-height:1.2}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:.75rem;border-top:1px solid #e5e7eb}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-footer[_ngcontent-%COMP%]   .budget-categories-count[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]{display:flex;justify-content:center;border-top:1px solid #e5e7eb}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;display:flex;align-items:center;gap:.5rem;transition:color .2s ease}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover{color:#3b82f6}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid #e5e7eb}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-header{border-bottom:1px solid #e5e7eb;margin-bottom:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-header .mat-tab-label{min-width:100px;font-size:.875rem;font-weight:500;color:#6b7280;padding:0 1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-header .mat-tab-label.mat-tab-label-active{color:#3b82f6}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-header .mat-ink-bar{background-color:#3b82f6}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-body-content{height:100%;overflow:hidden;display:flex;flex-direction:column}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:1rem;min-height:0}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;border-bottom:1px solid #f1f5f9}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:#1e293b;display:flex;align-items:center;gap:.5rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:1rem;transition:all .2s ease}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a;transform:translateY(-1px)}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1e293b}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:.5rem;margin-bottom:.75rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-label[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.spent[_ngcontent-%COMP%], .budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.danger[_ngcontent-%COMP%]{color:#dc2626}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.warning[_ngcontent-%COMP%]{color:#f59e0b}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.safe[_ngcontent-%COMP%]{color:#10b981}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:6px;background-color:#e5e7eb;border-radius:3px;overflow:hidden}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease;border-radius:3px}@media (max-width: 768px){.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-header .mat-tab-label{min-width:80px;font-size:.75rem;padding:0 .75rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:.75rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{padding:.5rem 0}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%], .budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.75rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]{gap:.75rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]{padding:.75rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-header[_ngcontent-%COMP%]{margin-bottom:.5rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:.875rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:.375rem;margin-bottom:.5rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-label[_ngcontent-%COMP%]{font-size:.625rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value[_ngcontent-%COMP%]{font-size:.75rem}}.no-budget-card[_ngcontent-%COMP%]{width:100%;background:#f8fafc;border-radius:12px;padding:2rem;border:2px dashed #d1d5db;text-align:center;transition:all .2s ease}.no-budget-card[_ngcontent-%COMP%]:hover{border-color:#9ca3af;background:#f1f5f9}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:#6b7280;margin-bottom:.5rem}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#374151;margin:0}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-text[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0;max-width:400px;line-height:1.5}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem;flex-wrap:wrap;justify-content:center}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-actions[_ngcontent-%COMP%]   .setup-budget-btn[_ngcontent-%COMP%], .no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-actions[_ngcontent-%COMP%]   .manage-categories-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;font-weight:500}@media (max-width: 640px){.no-budget-card[_ngcontent-%COMP%]{padding:1.5rem}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-title[_ngcontent-%COMP%]{font-size:1.125rem}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-text[_ngcontent-%COMP%]{font-size:.8rem}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-actions[_ngcontent-%COMP%]   .setup-budget-btn[_ngcontent-%COMP%], .no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-actions[_ngcontent-%COMP%]   .manage-categories-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}"],changeDetection:0});let a=t;return a})();function Qv(a,t){if(a&1&&(u(0,"div",8)(1,"span",9),_(2,"Assets:"),h(),u(3,"span",10),_(4),z(5,"currency"),h()()),a&2){let n=M();f(4),R(U(5,1,n.getTotalPositiveBalance()))}}function Kv(a,t){if(a&1&&(u(0,"div",11)(1,"span",9),_(2,"Liabilities:"),h(),u(3,"span",10),_(4),z(5,"currency"),h()()),a&2){let n=M();f(4),R(U(5,1,n.getTotalNegativeBalance()))}}var sS=(()=>{let t=class t{constructor(e){this.store=e,this.accounts=[],this.destroy$=new ue,this.accounts$=this.store.select(pn),this.totalBalance$=this.store.select(Ap)}ngOnInit(){this.accounts$.pipe(De(this.destroy$)).subscribe(e=>{this.accounts=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getPositiveAccounts(){return this.accounts.filter(e=>e.type===Gi.LOAN&&e.loanDetails?-(e.loanDetails.remainingBalance||0)>0:e.balance>0)}getNegativeAccounts(){return this.accounts.filter(e=>e.type===Gi.LOAN&&e.loanDetails?-(e.loanDetails.remainingBalance||0)<0:e.balance<0)}getTotalPositiveBalance(){return this.getPositiveAccounts().reduce((e,i)=>i.type===Gi.LOAN&&i.loanDetails?e+-(i.loanDetails.remainingBalance||0):e+i.balance,0)}getTotalNegativeBalance(){return this.getNegativeAccounts().reduce((e,i)=>{if(i.type===Gi.LOAN){let r=i.loanDetails;return e-r.remainingBalance}return e+i.balance},0)}};t.\u0275fac=function(i){return new(i||t)(v(Qe))},t.\u0275cmp=j({type:t,selectors:[["app-account-summary-card"]],decls:14,vars:11,consts:[[1,"balance-summary-card"],[1,"balance-summary-header"],[1,"balance-icon"],[1,"balance-summary-title","flex","justify-between","w-full"],[1,"balance-stat-value","pr-2"],[1,"balance-breakdown"],["class","breakdown-item positive",4,"ngIf"],["class","breakdown-item negative",4,"ngIf"],[1,"breakdown-item","positive"],[1,"breakdown-label"],[1,"breakdown-value"],[1,"breakdown-item","negative"]],template:function(i,r){if(i&1&&(u(0,"div",0)(1,"div",1)(2,"mat-icon",2),_(3,"account_balance"),h(),u(4,"h3",3),_(5,"Total Balance "),u(6,"span",4),z(7,"async"),_(8),z(9,"async"),z(10,"currency"),h()()(),u(11,"div",5),S(12,Qv,6,3,"div",6)(13,Kv,6,3,"div",7),h()()),i&2){let o,s,l,c;f(6),Xe(((o=U(7,5,r.totalBalance$))!==null&&o!==void 0?o:0)>=0?"positive":"negative"),f(2),$(" ",U(10,9,(s=U(9,7,r.totalBalance$))!==null&&s!==void 0?s:0)," "),f(4),P("ngIf",(l=r.getPositiveAccounts())==null?null:l.length),f(),P("ngIf",(c=r.getNegativeAccounts())==null?null:c.length)}},dependencies:[tt,Ge,Xt,Ol],styles:[".balance-summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;border:1px solid #e5e7eb;margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a;border-left:4px solid #4d98a4}.balance-summary-card.loading[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 0;color:#6b7280;font-size:.875rem}.balance-summary-card.loading[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]     .mat-mdc-progress-spinner-circle{stroke:#4d98a4}@media (max-width: 640px){.balance-summary-card[_ngcontent-%COMP%]{padding:.5rem}}.balance-summary-card[_ngcontent-%COMP%]   .balance-summary-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.balance-summary-card[_ngcontent-%COMP%]   .balance-summary-header[_ngcontent-%COMP%]   .balance-icon[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(70 119 127 / var(--tw-text-opacity));font-size:1.5rem;width:1.5rem;height:1.5rem}.balance-summary-card[_ngcontent-%COMP%]   .balance-summary-header[_ngcontent-%COMP%]   .balance-summary-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#1f2937;margin:0;display:flex;justify-content:space-between;align-items:center;width:100%}.balance-summary-card[_ngcontent-%COMP%]   .balance-summary-header[_ngcontent-%COMP%]   .balance-summary-title[_ngcontent-%COMP%]   .balance-stat-value[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700}.balance-summary-card[_ngcontent-%COMP%]   .balance-summary-header[_ngcontent-%COMP%]   .balance-summary-title[_ngcontent-%COMP%]   .balance-stat-value.positive[_ngcontent-%COMP%]{color:#10b981}.balance-summary-card[_ngcontent-%COMP%]   .balance-summary-header[_ngcontent-%COMP%]   .balance-summary-title[_ngcontent-%COMP%]   .balance-stat-value.negative[_ngcontent-%COMP%]{color:#ef4444}.balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;justify-content:flex-start}.balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;border-radius:6px;font-size:.875rem}@media (max-width: 640px){.balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{justify-content:space-between}}.balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.positive[_ngcontent-%COMP%]{background:#f0fdf4;color:#166534}.balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.positive[_ngcontent-%COMP%]   .breakdown-label[_ngcontent-%COMP%]{font-weight:500}.balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.positive[_ngcontent-%COMP%]   .breakdown-value[_ngcontent-%COMP%]{font-weight:600}.balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.negative[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.negative[_ngcontent-%COMP%]   .breakdown-label[_ngcontent-%COMP%]{font-weight:500}.balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.negative[_ngcontent-%COMP%]   .breakdown-value[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.balance-summary-card[_ngcontent-%COMP%]{padding:1rem}.balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}@media (max-width: 480px){.balance-summary-card[_ngcontent-%COMP%]{padding:.5rem;margin:0}.balance-summary-card[_ngcontent-%COMP%]   .balance-summary-header[_ngcontent-%COMP%]   .balance-summary-title[_ngcontent-%COMP%]{font-size:1rem}}"]});let a=t;return a})();var qv=(a,t)=>t.id||t.title;function Zv(a,t){if(a&1&&(u(0,"p",9),_(1),h()),a&2){let n=M(2);f(),$(" ",n.effectiveConfig.subtitle," ")}}function Jv(a,t){if(a&1&&(u(0,"div",7)(1,"h3",8),_(2),h(),S(3,Zv,2,1,"p",9),h()),a&2){let n=M();f(2),$(" ",n.effectiveConfig.title," "),f(),V(n.effectiveConfig.subtitle?3:-1)}}function ey(a,t){if(a&1&&(u(0,"div",3)(1,"mat-icon",10),_(2),h()()),a&2){let n=M();f(2),$(" ",n.effectiveConfig.headerIcon||"analytics"," ")}}function ty(a,t){a&1&&(u(0,"div",4)(1,"div",11),B(2,"div",12),h(),u(3,"p",13),_(4,"Loading metrics data..."),h()())}function iy(a,t){if(a&1&&(u(0,"div",4)(1,"div",14)(2,"mat-icon",15),_(3,"error"),h()(),u(4,"p",16),_(5),h()()),a&2){let n=M();f(5),R(n.effectiveConfig.error)}}function ny(a,t){if(a&1&&(u(0,"p",23),_(1),h()),a&2){let n=M().$implicit,e=M(2);P("ngClass",e.getMetricColorClass(n.color,"text")),f(),$(" ",n.period," ")}}function ry(a,t){if(a&1&&(u(0,"mat-icon",26),_(1),h()),a&2){let n=M(2).$implicit,e=M(2);P("ngClass",e.getTrendColor(n)),f(),$(" ",e.getTrendIcon(n)," ")}}function ay(a,t){if(a&1&&(u(0,"div",24),S(1,ry,2,2,"mat-icon",26),u(2,"p",27),_(3),h()()),a&2){let n=M().$implicit,e=M(2);f(),V(n.trend?1:-1),f(),P("ngClass",e.getTrendColor(n)),f(),$(" ",e.getChangeDisplay(n)," ")}}function oy(a,t){if(a&1&&(u(0,"div",25)(1,"div",28)(2,"mat-icon",29),_(3),h()()()),a&2){let n=M().$implicit,e=M(2);P("ngClass",e.getMetricColorClass(n.color,"bg")),f(2),P("ngClass",e.getMetricColorClass(n.color,"text")),f(),$(" ",n.icon," ")}}function sy(a,t){if(a&1){let n=ee();u(0,"div",19),T("click",function(){let i=E(n).$implicit,r=M(2);return A(r.onMetricClick(i))}),u(1,"div",0)(2,"div",20)(3,"div",7)(4,"p",21),_(5),h(),u(6,"p",22),_(7),h(),S(8,ny,2,2,"p",23)(9,ay,4,3,"div",24),h(),S(10,oy,4,3,"div",25),h()()()}if(a&2){let n=t.$implicit,e=t.$index,i=M(2);We("animation-delay",i.effectiveConfig.animations?e*.1+"s":"0s"),H("cursor-pointer",i.effectiveConfig.clickable)("cursor-default",!i.effectiveConfig.clickable)("animate-fade-in",i.effectiveConfig.animations),P("ngClass",i.getMetricClasses(n)),f(4),P("ngClass",i.getMetricColorClass(n.color,"text")),f(),$(" ",n.title," "),f(),P("ngClass",i.getMetricColorClass(n.color,"value")),f(),$(" ",i.formatCurrency(n.value)," "),f(),V(i.effectiveConfig.showPeriod&&n.period?8:-1),f(),V(i.effectiveConfig.showTrends&&(n.changeValue!==void 0||n.changePercentage!==void 0)?9:-1),f(),V(i.effectiveConfig.showIcons&&n.icon&&i.effectiveConfig.showPeriod?10:-1)}}function ly(a,t){if(a&1&&(u(0,"div",17),wt(1,sy,11,16,"div",18,qv),z(3,"async"),h()),a&2){let n=M();H("flex",n.effectiveConfig.layout==="list")("flex-col",n.effectiveConfig.layout==="list")("grid",n.effectiveConfig.layout==="grid"),P("ngClass",n.gridColumns),f(),Mt(U(3,7,n.metrics$))}}function cy(a,t){if(a&1&&(u(0,"div",4)(1,"div",30)(2,"mat-icon",31),_(3,"analytics"),h()(),u(4,"h4",32),_(5,"No Metrics Available"),h(),u(6,"p",33),_(7),h()()),a&2){let n=M();f(7),R(n.effectiveConfig.emptyStateMessage)}}function dy(a,t){if(a&1&&(u(0,"span",36),_(1),h()),a&2){let n=M(2);f(),$("Layout: ",n.getCardsPerRowInfo(),"")}}function my(a,t){if(a&1&&(u(0,"div",6)(1,"div",34)(2,"span"),_(3),h(),u(4,"div",35),S(5,dy,2,1,"span",36),u(6,"span"),_(7),h()()()()),a&2){let n=M();f(3),R(n.effectiveConfig.footerText||"Last updated"),f(2),V(n.effectiveConfig.showDebugInfo?5:-1),f(2),R(n.getLastUpdatedTime())}}var jp=(()=>{let t=class t{constructor(e){this.store=e,this.config={title:"Key Metrics Summary",subtitle:"Financial overview for this period",currency:"INR",showTrends:!0,showIcons:!0,showPeriod:!0,showHeaderIcon:!0,headerIcon:"analytics",showFooter:!1,footerText:"Last updated",cardHeight:"medium",layout:"grid",columns:4,cardsPerRow:{xs:1,sm:2,md:2,lg:3,xl:4,xxl:4},responsiveBreakpoints:{mobile:1,tablet:2,desktop:4},theme:"auto",animations:!0,clickable:!0,loading:!1,error:"",emptyStateMessage:"No metrics available",showDebugInfo:!1,customColors:{}},this.destroy$=new ue,this.transactions$=this.store.select(Lt),this.categories$=this.store.select(gn),this.accounts$=this.store.select(pn),this.transactionsLoading$=this.store.select(Da),this.categoriesLoading$=this.store.select(wl),this.accountsLoading$=this.store.select(xl),this.isLoading$=gi([this.transactionsLoading$,this.categoriesLoading$,this.accountsLoading$]).pipe(ne(([i,r,o])=>i||r||o)),this.metrics$=this.calculateKeyMetrics()}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calculateKeyMetrics(){return gi([this.transactions$,this.categories$,this.accounts$]).pipe(ne(([e,i,r])=>{let o=new Date().getMonth(),s=new Date().getFullYear(),l=o===0?11:o-1,c=o===0?s-1:s,d=e.filter(W=>{let I=this.convertToDate(W.date);return I.getMonth()===o&&I.getFullYear()===s}),p=e.filter(W=>{let I=this.convertToDate(W.date);return I.getMonth()===l&&I.getFullYear()===c}),g=d.filter(W=>W.type===gt.INCOME).reduce((W,I)=>W+I.amount,0),m=d.filter(W=>W.type===gt.EXPENSE).reduce((W,I)=>W+I.amount,0),C=g-m,b=p.filter(W=>W.type===gt.INCOME).reduce((W,I)=>W+I.amount,0),x=p.filter(W=>W.type===gt.EXPENSE).reduce((W,I)=>W+I.amount,0),y=b-x,w=g-b,O=m-x,D=C-y,F=b>0?w/b*100:0,ie=x>0?O/x*100:0,G=y!==0?D/Math.abs(y)*100:0,se=r.reduce((W,I)=>{if(I.type===Gi.LOAN){let Y=I.loanDetails;return W-((Y==null?void 0:Y.remainingBalance)||0)}return W+I.balance},0),de=r.reduce((W,I)=>{if(I.type===Gi.LOAN){let Y=I.loanDetails;return W+((Y==null?void 0:Y.remainingBalance)||0)}return W},0),ae=r.reduce((W,I)=>I.type===Gi.CREDIT?W+Math.abs(I.balance):W,0),q=[{id:"total-income",title:"Total Income",value:g,period:"This month",icon:"trending_up",color:"green",trend:g>0?"up":"neutral",changeValue:w,changePercentage:F,description:"Total income for the current month"},{id:"total-expenses",title:"Total Expenses",value:m,period:"This month",icon:"trending_down",color:"red",trend:m>0?"down":"neutral",changeValue:O,changePercentage:ie,description:"Total expenses for the current month"},{id:"net-savings",title:"Net Savings",value:Math.abs(C),period:"This month",icon:"account_balance_wallet",color:"blue",trend:C>=0?"up":"down",changeValue:D,changePercentage:G,description:"Net savings (income - expenses) for the current month"},{id:"total-balance",title:"Total Balance",value:Math.abs(se),period:"All accounts",icon:"account_balance",color:se>=0?"green":"red",trend:se>=0?"up":"down",description:"Total balance across all accounts"},{id:"total-loan-amount",title:"Total Loan Amount",value:de,period:"All loans",icon:"credit_score",color:de>0?"red":"gray",trend:de>0?"down":"neutral",description:"Total outstanding loan amount across all loan accounts"},{id:"credit-card-balance",title:"Credit Card Balance",value:ae,period:"All cards",icon:"credit_card",color:ae>0?"red":"gray",trend:ae>0?"down":"neutral",description:"Total outstanding balance across all credit cards"}];if(this.config.columns&&this.config.columns>4){let W=new Date(s,o+1,0).getDate(),I=W>0?m/W:0;q.push({id:"avg-daily-spending",title:"Avg Daily Spending",value:I,period:"This month",icon:"schedule",color:"orange",trend:"neutral",description:"Average daily spending for the current month"});let Y=d.length,me=p.length,ei=Y-me,Be=me>0?ei/me*100:0;q.push({id:"transaction-count",title:"Transactions",value:Y,period:"This month",icon:"receipt",color:"purple",trend:ei>=0?"up":"down",changeValue:ei,changePercentage:Be,description:"Number of transactions this month"})}return q}))}convertToDate(e){return e instanceof Date?e:e!=null&&e.seconds?new Date(e.seconds*1e3):new Date(e)}get effectiveConfig(){var e,i,r,o,s,l,c,d,p,g,m,C,b,x,y,w,O,D,F,ie,G,se,de;return{title:(e=this.config.title)!=null?e:"Key Metrics Summary",subtitle:(i=this.config.subtitle)!=null?i:"Financial overview for this period",currency:(r=this.config.currency)!=null?r:"INR",showTrends:(o=this.config.showTrends)!=null?o:!0,showIcons:(s=this.config.showIcons)!=null?s:!0,showPeriod:(l=this.config.showPeriod)!=null?l:!0,showHeaderIcon:(c=this.config.showHeaderIcon)!=null?c:!0,headerIcon:(d=this.config.headerIcon)!=null?d:"analytics",showFooter:(p=this.config.showFooter)!=null?p:!1,footerText:(g=this.config.footerText)!=null?g:"Last updated",cardHeight:(m=this.config.cardHeight)!=null?m:"medium",layout:(C=this.config.layout)!=null?C:"grid",columns:(b=this.config.columns)!=null?b:4,cardsPerRow:(x=this.config.cardsPerRow)!=null?x:{xs:1,sm:2,md:2,lg:3,xl:4,xxl:4},responsiveBreakpoints:(y=this.config.responsiveBreakpoints)!=null?y:{mobile:1,tablet:2,desktop:4},theme:(w=this.config.theme)!=null?w:"auto",animations:(O=this.config.animations)!=null?O:!0,clickable:(D=this.config.clickable)!=null?D:!0,loading:(F=this.config.loading)!=null?F:!1,error:(ie=this.config.error)!=null?ie:"",emptyStateMessage:(G=this.config.emptyStateMessage)!=null?G:"No metrics available",showDebugInfo:(se=this.config.showDebugInfo)!=null?se:!1,customColors:(de=this.config.customColors)!=null?de:{},onMetricClick:this.config.onMetricClick,onRefresh:this.config.onRefresh}}get gridColumns(){var l,c,d;if(this.effectiveConfig.cardsPerRow){let p=this.effectiveConfig.cardsPerRow,g=`grid-cols-${p.xs||1}`;return p.sm&&p.sm!==p.xs&&(g+=` sm:grid-cols-${p.sm}`),p.md&&p.md!==p.sm&&(g+=` md:grid-cols-${p.md}`),p.lg&&p.lg!==p.md&&(g+=` lg:grid-cols-${p.lg}`),p.xl&&p.xl!==p.lg&&(g+=` xl:grid-cols-${p.xl}`),p.xxl&&p.xxl!==p.xl&&(g+=` 2xl:grid-cols-${p.xxl}`),g}let e=this.effectiveConfig.responsiveBreakpoints,i=(l=e==null?void 0:e.mobile)!=null?l:1,r=(c=e==null?void 0:e.tablet)!=null?c:2,o=(d=e==null?void 0:e.desktop)!=null?d:4,s=`grid-cols-${i}`;return r>i&&(s+=` sm:grid-cols-${r}`),o>r&&(s+=` lg:grid-cols-${o}`),o>4&&(s+=` xl:grid-cols-${Math.min(o,6)}`),s}get cardHeightClass(){switch(this.effectiveConfig.cardHeight){case"small":return"min-h-20";case"large":return"min-h-32";case"auto":return"min-h-0";default:return"min-h-24"}}get layoutClass(){switch(this.effectiveConfig.layout){case"list":return"flex flex-col space-y-3";case"compact":return"grid gap-2";default:return"grid"}}formatCurrency(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:this.effectiveConfig.currency,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}getMetricClasses(e){var i,r,o;return{"metric-green":e.color==="green","metric-red":e.color==="red","metric-blue":e.color==="blue","metric-purple":e.color==="purple","metric-orange":e.color==="orange","metric-yellow":e.color==="yellow","metric-gray":e.color==="gray",clickable:(i=this.effectiveConfig.clickable)!=null?i:!0,"no-animations":!((r=this.effectiveConfig.animations)==null||r),loading:(o=this.effectiveConfig.loading)!=null?o:!1}}getMetricColorClass(e,i){var o;let r=(o=this.effectiveConfig.customColors)==null?void 0:o[e];if(r&&i==="text")return`color: ${r};`;switch(e){case"green":return i==="text"?"text-green-600 dark:text-green-400":i==="value"?"text-green-700 dark:text-green-300":"bg-green-50 dark:bg-green-900/20";case"red":return i==="text"?"text-red-600 dark:text-red-400":i==="value"?"text-red-700 dark:text-red-300":"bg-red-50 dark:bg-red-900/20";case"blue":return i==="text"?"text-blue-600 dark:text-blue-400":i==="value"?"text-blue-700 dark:text-blue-300":"bg-blue-50 dark:bg-blue-900/20";case"purple":return i==="text"?"text-purple-600 dark:text-purple-400":i==="value"?"text-purple-700 dark:text-purple-300":"bg-purple-50 dark:bg-purple-900/20";case"orange":return i==="text"?"text-orange-600 dark:text-orange-400":i==="value"?"text-orange-700 dark:text-orange-300":"bg-orange-50 dark:bg-orange-900/20";case"yellow":return i==="text"?"text-yellow-600 dark:text-yellow-400":i==="value"?"text-yellow-700 dark:text-yellow-300":"bg-yellow-50 dark:bg-yellow-900/20";case"gray":return i==="text"?"text-gray-600 dark:text-gray-400":i==="value"?"text-gray-700 dark:text-gray-300":"bg-gray-50 dark:bg-gray-900/20";default:return""}}getTrendIcon(e){if(!e.trend)return"";switch(e.trend){case"up":return"trending_up";case"down":return"trending_down";default:return"trending_flat"}}getTrendColor(e){if(!e.trend)return"";switch(e.trend){case"up":return"text-green-600 dark:text-green-400";case"down":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}}onMetricClick(e){this.effectiveConfig.clickable&&this.effectiveConfig.onMetricClick&&this.effectiveConfig.onMetricClick(e)}getChangeDisplay(e){if(e.changeValue===void 0&&e.changePercentage===void 0)return"";let i="";if(e.changeValue!==void 0){let r=e.changeValue>=0?"+":"";i+=`${r}${this.formatCurrency(e.changeValue)}`}if(e.changePercentage!==void 0){let o=`${e.changePercentage>=0?"+":""}${e.changePercentage.toFixed(1)}%`;i?i+=` (${o})`:i=o}return i}getLastUpdatedTime(){return new Date().toLocaleString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}onRefreshClick(){this.effectiveConfig.onRefresh&&this.effectiveConfig.onRefresh()}get isEmpty(){return this.metrics$.pipe(ne(e=>!e||e.length===0))}get hasError(){return!!(this.effectiveConfig.error&&this.effectiveConfig.error.trim())}getCurrentCardsPerRow(){let e=this.effectiveConfig.cardsPerRow;return e?e.xl||e.lg||e.md||e.sm||e.xs||1:this.effectiveConfig.columns||4}getCardsPerRowInfo(){let e=this.effectiveConfig.cardsPerRow;if(!e)return`${this.effectiveConfig.columns||4} columns`;let i=[];return e.xs&&i.push(`XS: ${e.xs}`),e.sm&&i.push(`SM: ${e.sm}`),e.md&&i.push(`MD: ${e.md}`),e.lg&&i.push(`LG: ${e.lg}`),e.xl&&i.push(`XL: ${e.xl}`),e.xxl&&i.push(`2XL: ${e.xxl}`),i.join(", ")}};t.\u0275fac=function(i){return new(i||t)(v(Qe))},t.\u0275cmp=j({type:t,selectors:[["app-key-metrics-summary-card"]],inputs:{config:"config"},standalone:!0,features:[le],decls:12,vars:13,consts:[[1,"p-3","sm:p-4","md:p-6"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-3","sm:gap-4","mb-4","sm:mb-6"],["class","flex-1 min-w-0",4,"ngIf"],[1,"bg-blue-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","self-start","sm:self-auto"],[1,"text-center","py-8"],[1,"gap-3","sm:gap-4","md:gap-6",3,"ngClass","flex","flex-col","grid"],[1,"mt-4","sm:mt-6","pt-4","border-t","border-gray-200","dark:border-gray-700"],[1,"flex-1","min-w-0"],[1,"text-base","sm:text-lg","md:text-xl","font-semibold","text-gray-900","dark:text-white","truncate","leading-tight"],[1,"text-xs","sm:text-sm","text-gray-600","dark:text-gray-400","mt-1","leading-relaxed"],[1,"text-blue-600","dark:text-blue-400","text-lg","sm:text-xl"],[1,"inline-flex","items-center","justify-center","w-12","h-12","bg-blue-100","dark:bg-blue-900/20","rounded-full","mb-4"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-blue-600"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"bg-red-100","dark:bg-red-900/20","w-12","h-12","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-red-600","dark:text-red-400"],[1,"text-sm","text-red-600","dark:text-red-400"],[1,"gap-3","sm:gap-4","md:gap-6",3,"ngClass"],[1,"metric-card","rounded-xl","border","shadow-sm","hover:shadow-md","transition-all","duration-200",3,"ngClass","cursor-pointer","cursor-default","animate-fade-in","animation-delay"],[1,"metric-card","rounded-xl","border","shadow-sm","hover:shadow-md","transition-all","duration-200",3,"click","ngClass"],[1,"flex","items-start","justify-between","gap-3"],[1,"text-xs","sm:text-sm","font-medium","truncate","leading-tight",3,"ngClass"],[1,"text-base","sm:text-lg","md:text-xl","lg:text-2xl","font-bold","truncate","leading-tight","mt-1",3,"ngClass"],[1,"text-xs","mt-1","leading-relaxed","opacity-75",3,"ngClass"],[1,"flex","items-center","gap-1","mt-2"],[1,"flex-shrink-0",3,"ngClass"],[1,"text-xs",3,"ngClass"],[1,"text-xs","font-medium",3,"ngClass"],[1,"p-2","sm:p-3","rounded-lg"],[1,"text-base","sm:text-lg","md:text-xl",3,"ngClass"],[1,"bg-gray-100","dark:bg-gray-700","w-16","h-16","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-gray-400","text-2xl"],[1,"text-base","font-medium","text-gray-900","dark:text-white","mb-2"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","justify-between","text-xs","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-4"],[1,"text-xs","opacity-75"]],template:function(i,r){i&1&&(u(0,"div",0)(1,"div",1),S(2,Jv,4,2,"div",2)(3,ey,3,1,"div",3),h(),S(4,ty,5,0,"div",4),z(5,"async"),S(6,iy,6,1,"div",4)(7,ly,4,9,"div",5),z(8,"async"),S(9,cy,8,1,"div",4),z(10,"async"),S(11,my,8,3,"div",6),h()),i&2&&(f(2),P("ngIf",r.effectiveConfig.title||r.effectiveConfig.subtitle||r.effectiveConfig.subtitle),f(),V(r.effectiveConfig.showHeaderIcon!==!1?3:-1),f(),V(U(5,7,r.isLoading$)?4:-1),f(2),V(r.hasError?6:-1),f(),V(!U(8,9,r.isLoading$)&&!r.hasError?7:-1),f(2),V(U(10,11,r.isEmpty)?9:-1),f(2),V(r.effectiveConfig.showFooter?11:-1))},dependencies:[Nt,ea,tt,Xt,Wi,Yi,Ge],styles:['[_nghost-%COMP%]{display:block;width:100%}.key-metrics-card[_ngcontent-%COMP%]{transition:all .3s ease-in-out;padding:.5rem}@media (min-width: 640px){.key-metrics-card[_ngcontent-%COMP%]{padding:.75rem}}.metric-card[_ngcontent-%COMP%]{position:relative;cursor:pointer;overflow:hidden;border-radius:1rem;border:1px solid rgba(0,0,0,.08);background:#fff;padding:1.1rem 1.25rem;box-shadow:0 2px 6px #0000000d;transition:transform .25s ease,box-shadow .25s ease}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 22px #0000001f}.metric-card[_ngcontent-%COMP%]:hover:before{opacity:.4}.metric-card[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;right:0;height:3px;top:0;background:linear-gradient(90deg,transparent,currentColor,transparent);opacity:0;transition:opacity .3s ease}.metric-card.clickable[_ngcontent-%COMP%]:active{transform:scale(.99)}.metric-card.loading[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}.metric-card.loading[_ngcontent-%COMP%]:after{content:"";width:20px;height:20px;border-radius:50%;border:2px solid #e5e7eb;border-top-color:#3b82f6;animation:_ngcontent-%COMP%_spin 1s linear infinite;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.metric-green[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0fdf4,#dcfce7);border-color:#bbf7d0;color:#166534}.dark[_ngcontent-%COMP%]   .metric-green[_ngcontent-%COMP%]{background:#14532d40;border-color:#1b8a46}.metric-red[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef2f2,#fee2e2);border-color:#fecaca;color:#b91c1c}.dark[_ngcontent-%COMP%]   .metric-red[_ngcontent-%COMP%]{background:#7f1d1d40;border-color:#dc2626}.metric-blue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eff6ff,#dbeafe);border-color:#bfdbfe;color:#1e3a8a}.dark[_ngcontent-%COMP%]   .metric-blue[_ngcontent-%COMP%]{background:#2563eb38;border-color:#2563eb}.metric-purple[_ngcontent-%COMP%]{background:linear-gradient(135deg,#faf5ff,#f3e8ff);border-color:#d8b4fe;color:#6b21a8}.dark[_ngcontent-%COMP%]   .metric-purple[_ngcontent-%COMP%]{background:#9333ea38;border-color:#9333ea}.metric-orange[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff7ed,#fed7aa);border-color:#fed7aa;color:#9a3412}.dark[_ngcontent-%COMP%]   .metric-orange[_ngcontent-%COMP%]{background:#c2410c38;border-color:#ea580c}.metric-yellow[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fefce8,#fef3c7);border-color:#fde68a;color:#ca8a04}.dark[_ngcontent-%COMP%]   .metric-yellow[_ngcontent-%COMP%]{background:#a1620738;border-color:#d97706}.metric-gray[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f9fafb,#f3f4f6);border-color:#d1d5db;color:#374151}.dark[_ngcontent-%COMP%]   .metric-gray[_ngcontent-%COMP%]{background:#4b556338;border-color:#6b7280}@media (prefers-color-scheme: dark){.metric-card[_ngcontent-%COMP%]{background:#1f293780;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-color:#ffffff14}}.metric-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;opacity:.85}.metric-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;margin-top:.35rem}.metric-card[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.75rem;opacity:.65}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .45s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 640px){.metric-card[_ngcontent-%COMP%]{padding:.9rem 1rem}.metric-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.5rem}}']});let a=t;return a})();var uy=(a,t)=>t.category,hy=(a,t)=>t.period,py=(a,t)=>t.account;function gy(a,t){if(a&1&&(u(0,"p",5),_(1),h()),a&2){let n=M();f(),$(" ",n.effectiveConfig.subtitle," ")}}function fy(a,t){if(a&1&&(u(0,"div",6)(1,"mat-icon",10),_(2),h()()),a&2){let n=M();f(2),$(" ",n.effectiveConfig.headerIcon||"insights"," ")}}function _y(a,t){a&1&&(u(0,"div",7)(1,"div",11),B(2,"div",12),h(),u(3,"p",13),_(4,"Loading analytics data..."),h()())}function by(a,t){if(a&1&&(u(0,"div",7)(1,"div",14)(2,"mat-icon",15),_(3,"error"),h()(),u(4,"p",16),_(5),h()()),a&2){let n=M();f(5),R(n.effectiveConfig.error)}}function vy(a,t){if(a&1&&(u(0,"mat-icon",19),_(1),h()),a&2){let n=M().$implicit;We("color",n.color),f(),R(n.icon)}}function yy(a,t){if(a&1){let n=ee();u(0,"div",21),T("click",function(){let i=E(n).$implicit,r=M(3);return A(r.onCategoryClick(i))}),u(1,"div",22),S(2,vy,2,3,"mat-icon",23),u(3,"span",24),_(4),h()(),u(5,"span",25),_(6),h()()}if(a&2){let n=t.$implicit,e=M(3);H("cursor-pointer",e.effectiveConfig.clickable)("cursor-default",!e.effectiveConfig.clickable),f(2),V(n.icon?2:-1),f(2),R(n.category),f(),P("ngClass",e.getTrendColor(n)),f(),vn(" ",n.change>=0?"+":"","",n.percentage.toFixed(1),"% ")}}function Cy(a,t){if(a&1&&(u(0,"div",17)(1,"h4",18)(2,"mat-icon",19),_(3,"category"),h(),_(4," Category Trends "),h(),wt(5,yy,7,9,"div",20,uy),z(7,"async"),h()),a&2){let n=M(2);f(5),Mt(U(7,0,n.categoryTrends$))}}function xy(a,t){if(a&1&&(u(0,"div",28),_(1),h()),a&2){let n=M().$implicit;P("ngClass",n.percentage>=0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"),f(),vn(" ",n.percentage>=0?"+":"","",n.percentage.toFixed(1),"% ")}}function wy(a,t){if(a&1){let n=ee();u(0,"div",21),T("click",function(){let i=E(n).$implicit,r=M(3);return A(r.onSpendingClick(i))}),u(1,"span",24),_(2),h(),u(3,"div",26)(4,"div",27),_(5),h(),S(6,xy,2,3,"div",28),h()()}if(a&2){let n=t.$implicit,e=M(3);H("cursor-pointer",e.effectiveConfig.clickable)("cursor-default",!e.effectiveConfig.clickable),f(2),R(n.period),f(3),R(e.formatCurrency(n.amount)),f(),V(n.percentage!==void 0?6:-1)}}function My(a,t){if(a&1&&(u(0,"div",17)(1,"h4",18)(2,"mat-icon",19),_(3,"trending_up"),h(),_(4," Spending Trends "),h(),wt(5,wy,7,7,"div",20,hy),z(7,"async"),h()),a&2){let n=M(2);f(5),Mt(U(7,0,n.spendingTrends$))}}function Py(a,t){if(a&1&&(u(0,"mat-icon",19),_(1),h()),a&2){let n=M().$implicit;f(),R(n.icon)}}function Oy(a,t){if(a&1){let n=ee();u(0,"div",21),T("click",function(){let i=E(n).$implicit,r=M(3);return A(r.onAccountClick(i))}),u(1,"div",22),S(2,Py,2,1,"mat-icon",19),u(3,"span",24),_(4),h()(),u(5,"span",25),_(6),h()()}if(a&2){let n=t.$implicit,e=M(3);H("cursor-pointer",e.effectiveConfig.clickable)("cursor-default",!e.effectiveConfig.clickable),f(2),V(n.icon?2:-1),f(2),R(n.account),f(),P("ngClass",e.getAccountColor(n)),f(),R(e.formatCurrency(n.balance))}}function ky(a,t){if(a&1&&(u(0,"div",17)(1,"h4",18)(2,"mat-icon",19),_(3,"account_balance"),h(),_(4," Account Balances "),h(),wt(5,Oy,7,8,"div",20,py),z(7,"async"),h()),a&2){let n=M(2);f(5),Mt(U(7,0,n.accountBalances$))}}function Dy(a,t){if(a&1&&(u(0,"div",7)(1,"div",29)(2,"mat-icon",30),_(3,"analytics"),h()(),u(4,"h4",31),_(5,"No Analytics Data"),h(),u(6,"p",32),_(7),h()()),a&2){let n=M(2);f(7),R(n.effectiveConfig.emptyStateMessage)}}function Sy(a,t){if(a&1&&(u(0,"div",8),S(1,Cy,8,2,"div",17),z(2,"async"),S(3,My,8,2,"div",17),z(4,"async"),S(5,ky,8,2,"div",17),z(6,"async"),S(7,Dy,8,1,"div",7),z(8,"async"),h()),a&2){let n,e,i,r=M();f(),V((n=U(2,4,r.categoryTrends$))!=null&&n.length?1:-1),f(2),V((e=U(4,6,r.spendingTrends$))!=null&&e.length?3:-1),f(2),V((i=U(6,8,r.accountBalances$))!=null&&i.length?5:-1),f(2),V(U(8,10,r.isEmpty)?7:-1)}}function Ty(a,t){a&1&&(u(0,"span",35),_(1,"Analytics Summary"),h())}function Iy(a,t){if(a&1&&(u(0,"div",9)(1,"div",33)(2,"span"),_(3),h(),u(4,"div",34),S(5,Ty,2,0,"span",35),u(6,"span"),_(7),h()()()()),a&2){let n=M();f(3),R(n.effectiveConfig.footerText||"Last updated"),f(2),V(n.effectiveConfig.showDebugInfo?5:-1),f(2),R(n.getLastUpdatedTime())}}var Np=(()=>{let t=class t{constructor(e){this.store=e,this.config={title:"Analytics Summary",subtitle:"Key insights and trends",currency:"INR",showHeaderIcon:!0,headerIcon:"insights",showFooter:!1,footerText:"Last updated",cardHeight:"medium",theme:"auto",animations:!0,clickable:!0,loading:!1,error:"",emptyStateMessage:"No analytics data available",showDebugInfo:!1,maxItems:{categoryTrends:3,spendingTrends:3,accountBalances:3}},this.destroy$=new ue,this.transactions$=this.store.select(Lt),this.categories$=this.store.select(gn),this.accounts$=this.store.select(pn),this.transactionsLoading$=this.store.select(Da),this.categoriesLoading$=this.store.select(wl),this.accountsLoading$=this.store.select(xl),this.isLoading$=gi([this.transactionsLoading$,this.categoriesLoading$,this.accountsLoading$]).pipe(ne(([i,r,o])=>i||r||o)),this.categoryTrends$=this.calculateCategoryTrends(),this.spendingTrends$=this.calculateSpendingTrends(),this.accountBalances$=this.calculateAccountBalances()}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calculateCategoryTrends(){return gi([this.transactions$,this.categories$]).pipe(ne(([e,i])=>{var m;let r=new Date().getMonth(),o=new Date().getFullYear(),s=r===0?11:r-1,l=r===0?o-1:o,c=e.filter(C=>{let b=this.convertToDate(C.date);return b.getMonth()===r&&b.getFullYear()===o}),d=e.filter(C=>{let b=this.convertToDate(C.date);return b.getMonth()===s&&b.getFullYear()===l}),p=new Map;return c.forEach(C=>{let b=i.find(x=>x.id===C.categoryId);if(b){let x=p.get(C.categoryId)||{current:0,previous:0,category:b};x.current+=C.amount,p.set(C.categoryId,x)}}),d.forEach(C=>{let b=i.find(x=>x.id===C.categoryId);if(b){let x=p.get(C.categoryId)||{current:0,previous:0,category:b};x.previous+=C.amount,p.set(C.categoryId,x)}}),Array.from(p.values()).filter(C=>C.current>0||C.previous>0).map(C=>{let b=C.current-C.previous,x=C.previous>0?b/C.previous*100:0;return{category:C.category.name,change:Math.abs(b),percentage:Math.abs(x),color:C.category.color,icon:C.category.icon}}).sort((C,b)=>b.change-C.change).slice(0,((m=this.config.maxItems)==null?void 0:m.categoryTrends)||3)}))}calculateSpendingTrends(){return this.transactions$.pipe(ne(e=>{var o;let i=new Date,r=[];for(let s=5;s>=0;s--){let l=new Date(i.getFullYear(),i.getMonth()-s,1),c=l.toLocaleDateString("en-US",{month:"short"}),p=e.filter(g=>{let m=this.convertToDate(g.date);return m.getMonth()===l.getMonth()&&m.getFullYear()===l.getFullYear()&&g.type===gt.EXPENSE}).reduce((g,m)=>g+m.amount,0);r.push({period:c,amount:p})}for(let s=1;s<r.length;s++){let l=r[s],c=r[s-1];c.amount>0&&(l.change=l.amount-c.amount,l.percentage=l.change/c.amount*100)}return r.slice(-(((o=this.config.maxItems)==null?void 0:o.spendingTrends)||3))}))}calculateAccountBalances(){return this.accounts$.pipe(ne(e=>{var i;return e.filter(r=>r.isActive!==!1).map(r=>{let o=r.balance;return r.type==="loan"&&r.loanDetails&&(o=-(r.loanDetails.remainingBalance||0)),{account:r.name,balance:o,change:0,percentage:0,color:o>=0?"#10B981":"#EF4444",icon:this.getAccountIcon(r)}}).sort((r,o)=>Math.abs(o.balance)-Math.abs(r.balance)).slice(0,((i=this.config.maxItems)==null?void 0:i.accountBalances)||3)}))}convertToDate(e){return e instanceof Date?e:e!=null&&e.seconds?new Date(e.seconds*1e3):new Date(e)}getAccountIcon(e){switch(e.type){case"bank":return"account_balance";case"cash":return"money";case"credit":return"credit_card";case"loan":return"account_balance_wallet";default:return"account_balance"}}get effectiveConfig(){var e,i,r,o,s,l,c,d,p,g,m,C,b,x,y,w;return{title:(e=this.config.title)!=null?e:"Analytics Summary",subtitle:(i=this.config.subtitle)!=null?i:"Key insights and trends",currency:(r=this.config.currency)!=null?r:"INR",showHeaderIcon:(o=this.config.showHeaderIcon)!=null?o:!0,headerIcon:(s=this.config.headerIcon)!=null?s:"insights",showFooter:(l=this.config.showFooter)!=null?l:!1,footerText:(c=this.config.footerText)!=null?c:"Last updated",cardHeight:(d=this.config.cardHeight)!=null?d:"medium",theme:(p=this.config.theme)!=null?p:"auto",animations:(g=this.config.animations)!=null?g:!0,clickable:(m=this.config.clickable)!=null?m:!0,loading:(C=this.config.loading)!=null?C:!1,error:(b=this.config.error)!=null?b:"",emptyStateMessage:(x=this.config.emptyStateMessage)!=null?x:"No analytics data available",showDebugInfo:(y=this.config.showDebugInfo)!=null?y:!1,maxItems:(w=this.config.maxItems)!=null?w:{categoryTrends:3,spendingTrends:3,accountBalances:3},onCategoryClick:this.config.onCategoryClick,onSpendingClick:this.config.onSpendingClick,onAccountClick:this.config.onAccountClick,onRefresh:this.config.onRefresh}}get cardHeightClass(){switch(this.effectiveConfig.cardHeight){case"small":return"min-h-20";case"large":return"min-h-32";case"auto":return"min-h-0";default:return"min-h-24"}}formatCurrency(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:this.effectiveConfig.currency,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}getTrendColor(e){return e.change>=0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}getTrendIcon(e){return e.change>=0?"trending_up":"trending_down"}getAccountColor(e){return e.color?e.color:e.balance>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}getAccountIconForBalance(e){return e.icon||"account_balance"}onCategoryClick(e){this.effectiveConfig.clickable&&this.effectiveConfig.onCategoryClick&&this.effectiveConfig.onCategoryClick(e)}onSpendingClick(e){this.effectiveConfig.clickable&&this.effectiveConfig.onSpendingClick&&this.effectiveConfig.onSpendingClick(e)}onAccountClick(e){this.effectiveConfig.clickable&&this.effectiveConfig.onAccountClick&&this.effectiveConfig.onAccountClick(e)}getLastUpdatedTime(){return new Date().toLocaleString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}onRefreshClick(){this.effectiveConfig.onRefresh&&this.effectiveConfig.onRefresh()}get isEmpty(){return gi([this.categoryTrends$,this.spendingTrends$,this.accountBalances$]).pipe(ne(([e,i,r])=>e.length===0&&i.length===0&&r.length===0))}get hasError(){return!!(this.effectiveConfig.error&&this.effectiveConfig.error.trim())}};t.\u0275fac=function(i){return new(i||t)(v(Qe))},t.\u0275cmp=j({type:t,selectors:[["app-analytics-summary-card"]],inputs:{config:"config"},standalone:!0,features:[le],decls:14,vars:11,consts:[[1,"analytics-summary-card","bg-white","dark:bg-gray-800","shadow-lg","border-0","rounded-xl","overflow-hidden","h-full"],[1,"p-4","sm:p-6"],[1,"flex","items-center","justify-between","mb-4","sm:mb-6"],[1,"flex-1","min-w-0"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","dark:text-white","truncate"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-1"],[1,"bg-green-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-center","py-8"],[1,"space-y-4"],[1,"mt-4","sm:mt-6","pt-4","border-t","border-gray-200","dark:border-gray-700"],[1,"text-green-600","dark:text-green-400"],[1,"inline-flex","items-center","justify-center","w-12","h-12","bg-blue-100","dark:bg-blue-900/20","rounded-full","mb-4"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-blue-600"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"bg-red-100","dark:bg-red-900/20","w-12","h-12","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-red-600","dark:text-red-400"],[1,"text-sm","text-red-600","dark:text-red-400"],[1,"space-y-3"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","flex","items-center"],[1,"text-sm","mr-2"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors",3,"cursor-pointer","cursor-default"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors",3,"click"],[1,"flex","items-center"],[1,"text-sm","mr-2",3,"color"],[1,"text-sm","text-gray-600","dark:text-gray-400","truncate"],[1,"text-sm","font-medium",3,"ngClass"],[1,"text-right"],[1,"text-sm","font-medium","text-gray-900","dark:text-white"],[1,"text-xs",3,"ngClass"],[1,"bg-gray-100","dark:bg-gray-700","w-16","h-16","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-gray-400","text-2xl"],[1,"text-base","font-medium","text-gray-900","dark:text-white","mb-2"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","justify-between","text-xs","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","gap-4"],[1,"text-xs","opacity-75"]],template:function(i,r){i&1&&(u(0,"mat-card",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),_(5),h(),S(6,gy,2,1,"p",5),h(),S(7,fy,3,1,"div",6),h(),S(8,_y,5,0,"div",7),z(9,"async"),S(10,by,6,1,"div",7)(11,Sy,9,12,"div",8),z(12,"async"),S(13,Iy,8,3,"div",9),h()()),i&2&&(f(5),$(" ",r.effectiveConfig.title," "),f(),V(r.effectiveConfig.subtitle?6:-1),f(),V(r.effectiveConfig.showHeaderIcon!==!1?7:-1),f(),V(U(9,7,r.isLoading$)?8:-1),f(2),V(r.hasError?10:-1),f(),V(!U(12,9,r.isLoading$)&&!r.hasError?11:-1),f(2),V(r.effectiveConfig.showFooter?13:-1))},dependencies:[Nt,ea,Xt,Wi,Xn,Yi,Ge],styles:[".analytics-summary-card[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.analytics-summary-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{padding:0}.analytics-summary-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;line-height:1.2}.analytics-summary-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;line-height:1.4}.analytics-summary-card[_ngcontent-%COMP%]   .trend-item[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.analytics-summary-card[_ngcontent-%COMP%]   .trend-item[_ngcontent-%COMP%]:hover{transform:translate(4px)}.analytics-summary-card[_ngcontent-%COMP%]   .animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 640px){.analytics-summary-card[_ngcontent-%COMP%]   .p-4[_ngcontent-%COMP%]{padding:1rem}.analytics-summary-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.analytics-summary-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.875rem}}.analytics-summary-card.dark[_ngcontent-%COMP%]{background-color:#1f2937}.analytics-summary-card.dark[_ngcontent-%COMP%]   .bg-gray-50[_ngcontent-%COMP%]{background-color:#374151}.analytics-summary-card.dark[_ngcontent-%COMP%]   .hover\\\\[_ngcontent-%COMP%]:bg-gray-100:hover{background-color:#4b5563}.analytics-summary-card[_ngcontent-%COMP%]   .cursor-pointer[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}.analytics-summary-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:color .2s ease-in-out,background-color .2s ease-in-out,transform .2s ease-in-out}"]});let a=t;return a})();var he=class a{constructor(t){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=t}get value(){return this._value/100}get percent(){return this._value}toString(){return""+this._value+"%"}interpolate(t,n){return t+this.value*(n-t)}static normalize(t,n,e){return t instanceof a?t:n===e?new a(0):new a(Math.min(Math.max((t-n)*(1/(e-n)),0),1)*100)}};function At(a){return new he(a)}var Ey=At(0),fe=At(100),pe=At(50);function Md(a){return a instanceof he}function kl(a){return Number(a)!==a}function Ay(a){return{}.toString.call(a)}function Ht(a){if(a!=null&&!L(a)){let t=Number(a);if(kl(t)&&Qi(a)&&a!=""&&a.match(/[0-9]+/)){let n=a.replace(/[^0-9.\-]+/g,"");return a===n?t:Ht(n)}return t}return a}function $p(a){if(Dl(a))return new Date(a);if(L(a))return new Date(a);{let t=Number(a);return L(t)?new Date(t):new Date(a)}}function zp(a){if(kl(a))return"NaN";if(a===1/0)return"Infinity";if(a===-1/0)return"-Infinity";if(a===0&&1/a===-1/0)return"-0";let t=a<0;a=Math.abs(a);let n=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+a),e=n[1],i=n[2]||"",r;if(n[3]===void 0)r=i===""?e:e+"."+i;else{let o=+n[3];if(a<1){let s=o-1;r="0."+Vp("0",s)+e+i}else{let s=o-i.length;s===0?r=e+i:s<0?r=e+i.slice(0,s)+"."+i.slice(s):r=e+i+Vp("0",s)}}return t?"-"+r:r}function Vp(a,t){return new Array(t+1).join(a)}function Dl(a){return Ay(a)==="[object Date]"}function Qi(a){return typeof a=="string"}function L(a){return typeof a=="number"&&Number(a)==a}function xn(a){return typeof a=="object"&&a!==null}var Ri="__\xA7\xA7\xA7__",ir="__\xA7\xA7\xA7\xA7__";function nr(a,t){let n=a.length;for(let e=0;e<n;++e)if(a[e]===t)return e;return-1}function Hp(a,t){let n=a.length;for(let e=0;e<n;++e)if(t(a[e]))return!0;return!1}function Ao(a,t){let n=a.length,e=new Array(n);for(let i=0;i<n;++i)e[i]=t(a[i],i);return e}function k(a,t){let n=a.length;for(let e=0;e<n;++e)t(a[e],e)}function rr(a,t){let n=a.length;for(;n>0;)--n,t(a[n],n)}function Ro(a,t){let n=a.length;for(let e=0;e<n&&t(a[e],e);++e);}function Fi(a,t){let n=!1,e=0;for(;;){if(e=a.indexOf(t,e),e===-1)return n;n=!0,a.splice(e,1)}}function Ot(a,t){let n=a.indexOf(t);return n!==-1?(a.splice(n,1),!0):!1}function Up(a,t,n){let e=nr(a,t);e!==-1&&Sl(a,e),n==null?a.push(t):Fo(a,n,t)}function ar(a,t){a.indexOf(t)===-1&&a.push(t)}function Gp(a){let t=a.length,n=new Array(t);for(let e=0;e<t;++e)n[e]=a[e];return n}function Fo(a,t,n){a.splice(t,0,n)}function Sl(a,t){a.splice(t,1)}function Pd(a,t){let n=a.length;for(let e=0;e<n;++e)if(t(a[e],e))return e;return-1}function Ry(a,t){let n=a.length;for(;n>0;)if(--n,t(a[n],n))return n;return-1}function Tl(a,t){let n=Pd(a,t);if(n!==-1)return a[n]}function Yp(a,t){let n=Ry(a,t);if(n!==-1)return a[n]}function Wp(a,t){let n=0,e=a.length,i=!1;for(;n<e;){let r=n+e>>1,o=t(a[r]);o<0?n=r+1:o===0?(i=!0,n=r+1):e=r}return{found:i,index:i?n-1:n}}function Xp(a,t){let n=0,e=a.length,i=!1;for(;n<e;){let r=n+e>>1,o=t(a[r]);o<0?n=r+1:(o===0&&(i=!0),e=r)}return{found:i,index:n}}function Lr(a,t){let n=a.length;for(;n>0;)--n,t(a[n])||a.splice(n,1)}function ct(a){return Object.keys(a)}function Qp(a,t){return ct(a).sort(t)}function Kp(a){return Object.assign({},a)}function Ve(a,t){ct(a).forEach(n=>{t(n,a[n])})}function qp(a,t){for(let n in a)if(Fy(a,n)&&!t(n,a[n]))break}function Fy(a,t){return{}.hasOwnProperty.call(a,t)}var jr=class{constructor(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}},qe=class{constructor(t){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=t}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}},Il=class extends jr{constructor(){super(...arguments),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_dispose(){k(this._disposers,t=>{t.dispose()})}},kt=class extends jr{constructor(t){super(),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposers=t}_dispose(){k(this._disposers,t=>{t.dispose()})}get disposers(){return this._disposers}};var Sa=class extends qe{constructor(){super(...arguments),Object.defineProperty(this,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0})}increment(){return++this._counter,new qe(()=>{--this._counter,this._counter===0&&this.dispose()})}};function Jp(a){a.parentNode&&a.parentNode.removeChild(a)}function nt(a,t,n,e){return a.addEventListener(t,n,e||!1),new qe(()=>{a.removeEventListener(t,n,e||!1)})}function Al(a){return nt(window,"resize",t=>{a()})}function wn(a){switch(a){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function Rl(a){return a.pointerId||0}function eg(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let a=document.createElement("button");a.style.position="fixed",a.style.top="0px",a.style.left="-10000px",document.body.appendChild(a),a.focus(),a.blur(),document.body.removeChild(a)}}function tg(a){a&&a.focus()}function Fl(a){if(wn("pointerevents"))return a;if(wn("touchevents"))switch(a){case"pointerover":return"touchstart";case"pointerout":return"touchend";case"pointerleave":return"touchend";case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"click":return"click";case"dblclick":return"dblclick"}else if(wn("mouseevents"))switch(a){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return a}function Od(a){if(typeof Touch<"u"&&a instanceof Touch)return!0;if(typeof PointerEvent<"u"&&a instanceof PointerEvent&&a.pointerType!=null)switch(a.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(a instanceof MouseEvent)}else if(a.type!=null&&a.type.match(/^mouse/))return!1;return!0}function Lo(a,t,n){a.style[t]=n}function ig(a,t){return a.style[t]}function kd(a){if(a.composedPath){let t=a.composedPath();return t.length===0?null:t[0]}else return a.target}function By(a,t){let n=t;for(;;){if(a===n)return!0;if(n.parentNode===null){if(n.host==null)return!1;n=n.host}else n=n.parentNode}}function ng(a,t){return a.target&&By(t.root.dom,a.target)}function sr(a,t){t?a.style.pointerEvents="auto":a.style.pointerEvents="none"}function jo(a){if(a.key!==void 0)return a.key;switch(a.keyCode){case 9:return"Tab";case 13:return"Enter";case 16:return"Shift";case 17:return"Control";case 27:return"Escape";case 32:return" ";case 37:return"ArrowLeft";case 38:return"ArrowUp";case 39:return"ArrowRight";case 40:return"ArrowDown";case 46:return"Delete"}return""+a.keyCode}function Ly(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function rg(){return Ly()?1:void 0}function dt(a,t){return L(a)?a:a!=null&&L(a.value)&&L(t)?t*a.value:0}function ag(a){let t=(""+a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function at(a,t=0,n="0"){return typeof a!="string"&&(a=a.toString()),t>a.length?Array(t-a.length+1).join(n)+a:a}function jy(a){return a.replace(/^[\s]*/,"")}function Ny(a){return a.replace(/[\s]*$/,"")}function or(a){return jy(Ny(a))}function og(a,t,n=!1,e="..."){if(a.length>t){let i=t-1;for(;i>=0&&a.charAt(i).match(/\w/);)i--;return i>=0&&n==!1?a.substring(0,i+1)+"...":a.substring(0,t)+e}else return a}function sg(a){if(typeof a>"u")return"string";a=a.toLowerCase().replace(/^\[[^\]]*\]/,""),a=a.replace(/\[[^\]]+\]/,""),a=a.trim();let t=a.match(/\/(date|number|duration)$/);return t?t[1]:a==="number"?"number":a==="date"?"date":a==="duration"?"duration":a.match(/[#0]/)?"number":a.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}function Ta(a){return a.replace(/\/(date|number|duration)$/i,"")}function Dd(a){return a&&a.replace(/<[^>]*>/g,"")}function Sd(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function lg(a){let t=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/,n=/([^]*[])/gi,e=a.split(/(\s+)/),i=[];return e.forEach(r=>{if(r.match(/^\s+$/))(r=" ")&&(r="  "),i.push(r);else if(t.test(r)){let o=r.split(n).filter(s=>s!=="");i=i.concat(o)}else i=i.concat([...r])}),i}function Td(a,t=!1){let n=new Date(a.getFullYear(),0,0),e=a.getTime()-n.getTime()+(n.getTimezoneOffset()-a.getTimezoneOffset())*60*1e3,i=1e3*60*60*24;return Math.floor(e/i)}function Bo(a,t=!1){let n=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())),e=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-e);let i=new Date(Date.UTC(n.getUTCFullYear(),0,1));return Math.ceil(((n.getTime()-i.getTime())/864e5+1)/7)}function cg(a,t=!1){let n=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())),e=n.getUTCDay()||7;return n.setUTCDate(n.getUTCDate()+4-e),new Date(Date.UTC(n.getUTCFullYear(),0,1)).getFullYear()}function dg(a,t=!1){let n=Bo(new Date(a.getFullYear(),a.getMonth(),1),t),e=Bo(a,t);return e==1&&(e=53),e-n+1}function mg(a,t,n=1,e=!1){let i=new Date(t,0,4,0,0,0,0);return e&&i.setUTCFullYear(t),a*7+n-((i.getDay()||7)+3)}function No(a,t){return a>12?a-=12:a===0&&(a=12),t!=null?a+(t-1):a}function Vo(a,t=!1,n=!1,e=!1,i){if(e)return t?"Coordinated Universal Time":"UTC";if(i){let s=a.toLocaleString("en-US",{timeZone:i}),l=a.toLocaleString("en-US",{timeZone:i,timeZoneName:t?"long":"short"});return or(l.substr(s.length))}let r=a.toLocaleString("UTC"),o=a.toLocaleString("UTC",{timeZoneName:t?"long":"short"}).substr(r.length);return n===!1&&(o=o.replace(/ (standard|daylight|summer|winter) /i," ")),or(o)}function ug(a,t){let n=t||new Date(Date.UTC(2012,0,1,0,0,0,0)),e=new Date(n.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(n.toLocaleString("en-US",{timeZone:a})).getTime()-e.getTime())/6e4*-1}function OS(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Id(a){let t,n,e,i=a.h,r=a.s,o=a.l;if(r==0)t=n=e=o;else{let s=function(p,g,m){return m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?p+(g-p)*6*m:m<.5?g:m<.6666666666666666?p+(g-p)*(.6666666666666666-m)*6:p},l=o<.5?o*(1+r):o+r-o*r,c=2*o-l;t=s(c,l,i+1/3),n=s(c,l,i),e=s(c,l,i-1/3)}return{r:Math.round(t*255),g:Math.round(n*255),b:Math.round(e*255)}}function Ed(a){let t=a.r/255,n=a.g/255,e=a.b/255,i=Math.max(t,n,e),r=Math.min(t,n,e),o=0,s=0,l=(i+r)/2;if(i===r)o=s=0;else{let c=i-r;switch(s=l>.5?c/(2-i-r):c/(i+r),i){case t:o=(n-e)/c+(n<e?6:0);break;case n:o=(e-t)/c+2;break;case e:o=(t-n)/c+4;break}o/=6}return{h:o,s,l}}function hg(a,t){return a&&{r:Math.max(0,Math.min(255,a.r+El(a.r,t))),g:Math.max(0,Math.min(255,a.g+El(a.g,t))),b:Math.max(0,Math.min(255,a.b+El(a.b,t))),a:a.a}}function El(a,t){let n=t>0?255-a:a;return Math.round(n*t)}function pg(a,t){if(a){let n=Math.min(Math.max(a.r,a.g,a.b),230),e=El(n,t);return{r:Math.max(0,Math.min(255,Math.round(a.r+e))),g:Math.max(0,Math.min(255,Math.round(a.g+e))),b:Math.max(0,Math.min(255,Math.round(a.b+e))),a:a.a}}else return a}function Zp(a){return(a.r*299+a.g*587+a.b*114)/1e3>=128}function gg(a,t){if(a===void 0||t==1)return a;let n=Ed(a);return n.s=t,Id(n)}function fg(a,t={r:255,g:255,b:255},n={r:255,g:255,b:255}){let e=t,i=n;return Zp(n)&&(e=n,i=t),Zp(a)?i:e}function Mn(a,t){return a||(a=[]),[...a,...t].filter((n,e,i)=>i.indexOf(n)===e)}function kS(a,t){return!(!t||a.left!=t.left||a.right!=t.right||a.top!=t.top||a.bottom!=t.bottom)}function _g(a){return a[0]==="#"&&(a=a.substr(1)),a.length==3&&(a=a[0].repeat(2)+a[1].repeat(2)+a[2].repeat(2)),parseInt(a,16)}function Vy(a){a=a.replace(/[ ]/g,"");let t=a.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(t)t.push("1");else if(t=a.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!t)return 0;let n="";for(let e=1;e<=3;e++){let i=parseInt(t[e]).toString(16);i.length==1&&(i="0"+i),n+=i}return _g(n)}function Zt(a){return oe.fromAny(a)}var oe=class a{constructor(t){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=t|0}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return this._hex&255}toCSS(t=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+t+")"}toCSSHex(){return"#"+at(this.r.toString(16),2)+at(this.g.toString(16),2)+at(this.b.toString(16),2)}toHSL(t=1){return Ed({r:this.r,g:this.g,b:this.b,a:t})}static fromHSL(t,n,e){let i=Id({h:t,s:n,l:e});return this.fromRGB(i.r,i.g,i.b)}toString(){return this.toCSSHex()}static fromHex(t){return new a(t)}static fromRGB(t,n,e){return new a((e|0)+(n<<8)+(t<<16))}static fromString(t){return new a(_g(t))}static fromCSS(t){return new a(Vy(t))}static fromAny(t){if(Qi(t)){if(t[0]=="#")return a.fromString(t);if(t.substr(0,3)=="rgb")return a.fromCSS(t)}else{if(L(t))return a.fromHex(t);if(t instanceof a)return a.fromHex(t.hex)}throw new Error("Unknown color syntax: "+t)}static alternative(t,n,e){let i=fg({r:t.r,g:t.g,b:t.b},n?{r:n.r,g:n.g,b:n.b}:void 0,e?{r:e.r,g:e.g,b:e.b}:void 0);return this.fromRGB(i.r,i.g,i.b)}static interpolate(t,n,e,i="rgb"){if(i=="hsl"){let r=n.toHSL(),o=e.toHSL();return a.fromHSL(Pn(t,r.h,o.h),Pn(t,r.s,o.s),Pn(t,r.l,o.l))}else return a.fromRGB(Pn(t,n.r,e.r),Pn(t,n.g,e.g),Pn(t,n.b,e.b))}static lighten(t,n){let e=hg({r:t.r,g:t.g,b:t.b},n);return a.fromRGB(e.r,e.g,e.b)}static brighten(t,n){let e=pg({r:t.r,g:t.g,b:t.b},n);return a.fromRGB(e.r,e.g,e.b)}static saturate(t,n){let e=gg({r:t.r,g:t.g,b:t.b},n);return a.fromRGB(e.r,e.g,e.b)}};var yi=class{constructor(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}isDisposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0;let t=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{k(t,n=>{n.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}}hasListeners(){return this._listeners.length!==0}hasListenersByType(t){return Hp(this._listeners,n=>(n.type===null||n.type===t)&&!n.killed)}enable(){this._enabled=!0}disable(){this._enabled=!1}enableType(t){delete this._disabled[t]}disableType(t,n=1/0){this._disabled[t]=n}_removeListener(t){if(this._iterating===0){let n=this._listeners.indexOf(t);if(n===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(n,1)}else this._killed.push(t)}_removeExistingListener(t,n,e,i){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(r=>{r.once===t&&r.type===n&&(e===void 0||r.callback===e)&&r.context===i&&r.disposer.dispose()})}isEnabled(t){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(t)&&this._disabled[t]===void 0}removeType(t){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(n=>{n.type===t&&n.disposer.dispose()})}has(t,n,e){return Pd(this._listeners,r=>r.once!==!0&&r.type===t&&(n===void 0||r.callback===n)&&r.context===e)!==-1}_shouldDispatch(t){if(this._disposed)throw new Error("EventDispatcher is disposed");let n=this._disabled[t];return L(n)?(n<=1?delete this._disabled[t]:--this._disabled[t],!1):this._enabled}_eachListener(t){++this._iterating;try{k(this._listeners,t)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(k(this._killed,n=>{this._removeListener(n)}),this._killed.length=0)}}dispatch(t,n){this._shouldDispatch(t)&&this._eachListener(e=>{!e.killed&&(e.type===null||e.type===t)&&(e._debounceDelay?(e._debounceTimeout&&window.clearTimeout(e._debounceTimeout),e._debounceTimeout=window.setTimeout(()=>{e._debounceTimeout=void 0,e.killed||e.dispatch(t,n)},e._debounceDelay)):e.dispatch(t,n))})}_on(t,n,e,i,r,o,s){if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(t,n,e,i);let l={type:n,callback:e,context:i,shouldClone:r,dispatch:o,killed:!1,once:t,disposer:new qe(()=>{l.killed=!0,l._debounceTimeout&&window.clearTimeout(l._debounceTimeout),this._removeListener(l)}),_debounceDelay:s};return this._listeners.push(l),l}onAll(t,n,e=!0){return this._on(!1,null,t,n,e,(i,r)=>t.call(n,r)).disposer}on(t,n,e,i=!0){return this._on(!1,t,n,e,i,(r,o)=>n.call(e,o)).disposer}onDebounced(t,n,e,i,r=!0){return this._on(!1,t,n,i,r,(o,s)=>n.call(i,s),e).disposer}once(t,n,e,i=!0){let r=this._on(!0,t,n,e,i,(o,s)=>{r.disposer.dispose(),n.call(e,s)});return r.disposer}off(t,n,e){this._removeExistingListener(!1,t,n,e)}copyFrom(t){if(this._disposed)throw new Error("EventDispatcher is disposed");if(t===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");let n=[];return k(t._listeners,e=>{!e.killed&&e.shouldClone&&(e.type===null?n.push(this.onAll(e.callback,e.context)):e.once?n.push(this.once(e.type,e.callback,e.context)):n.push(this.on(e.type,e.callback,e.context)))}),new kt(n)}};function Ad(a){return St(this,void 0,void 0,function*(){if(a!==void 0){let t=[];Ve(a,(n,e)=>{t.push(e.waitForStop())}),yield Promise.all(t)}})}function Pn(a,t,n){return t+a*(n-t)}function $y(a,t,n){return a>=1?n:t}function Rd(a,t,n){return new he(Pn(a,t.percent,n.percent))}function zy(a,t,n){return oe.interpolate(a,t,n)}function bg(a,t){return typeof a=="number"&&typeof t=="number"?Pn:a instanceof he&&t instanceof he?Rd:a instanceof oe&&t instanceof oe?zy:$y}var lr=function(a){return a[a.Stopped=0]="Stopped",a[a.Playing=1]="Playing",a[a.Paused=2]="Paused",a}(lr||{});function $o(a,t){if(!(a>=0&&a<t))throw new Error("Index out of bounds: "+a)}var On=class{constructor(t=[]){Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new yi}),this._values=t}get values(){return this._values}contains(t){return this._values.indexOf(t)!==-1}removeValue(t){let n=0,e=this._values.length;for(;n<e;)this._values[n]===t?(this.removeIndex(n),--e):++n}indexOf(t){return nr(this._values,t)}get length(){return this._values.length}hasIndex(t){return t>=0&&t<this._values.length}getIndex(t){return this._values[t]}_onPush(t){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:t})}_onInsertIndex(t,n){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:t,newValue:n})}_onSetIndex(t,n,e){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:t,oldValue:n,newValue:e})}_onSwap(t,n){this.events.isEnabled("swap")&&this.events.dispatch("swap",{type:"swap",target:this,a:t,b:n})}_onRemoveIndex(t,n){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:t,oldValue:n})}_onMoveIndex(t,n,e){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:t,newIndex:n,value:e})}_onClear(t){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:t})}setIndex(t,n){$o(t,this._values.length);let e=this._values[t];return e!==n&&(this._values[t]=n,this._onSetIndex(t,e,n)),e}insertIndex(t,n){return $o(t,this._values.length+1),Fo(this._values,t,n),this._onInsertIndex(t,n),n}swap(t,n){let e=this._values.length;if($o(t,e),$o(n,e),t!==n){let i=this._values[t],r=this._values[n];this._values[t]=r,this._values[n]=i,this._onSwap(i,r)}}removeIndex(t){$o(t,this._values.length);let n=this._values[t];return Sl(this._values,t),this._onRemoveIndex(t,n),n}moveValue(t,n){let e=this.indexOf(t);if(e!==-1)if(Sl(this._values,e),n==null){let i=this._values.length;this._values.push(t),this._onMoveIndex(e,i,t)}else Fo(this._values,n,t),this._onMoveIndex(e,n,t);else n==null?(this._values.push(t),this._onPush(t)):(Fo(this._values,n,t),this._onInsertIndex(n,t));return t}push(t){return this._values.push(t),this._onPush(t),t}unshift(t){return this.insertIndex(0,t),t}pushAll(t){k(t,n=>{this.push(n)})}copyFrom(t){this.pushAll(t._values)}pop(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(t){let n=this._values;this._values=[],this._onClear(n),k(t,e=>{this._values.push(e),this._onPush(e)})}clear(){this.setAll([])}*[Symbol.iterator](){let t=this._values.length;for(let n=0;n<t;++n)yield this._values[n]}each(t){k(this._values,t)}eachReverse(t){rr(this._values,t)}},zo=class extends On{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}swap(t,n){let e=this.autoDispose;this.autoDispose=!1,super.swap(t,n),this.autoDispose=e}_onSetIndex(t,n,e){this.autoDispose&&n.dispose(),super._onSetIndex(t,n,e)}_onRemoveIndex(t,n){this.autoDispose&&n.dispose(),super._onRemoveIndex(t,n)}_onClear(t){this.autoDispose&&k(t,n=>{n.dispose()}),super._onClear(t)}_dispose(){this.autoDispose&&k(this._values,t=>{t.dispose()})}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}},Ia=class extends zo{constructor(t,n){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=t,this.make=n}_dispose(){super._dispose(),this.autoDispose&&this.template.dispose()}};var Bl=class extends On{constructor(t){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=t,this._events=this.events.onAll(n=>{if(n.type==="clear")k(n.oldValues,e=>{this._onRemoved(e)});else if(n.type==="push")this._onInserted(n.newValue);else if(n.type==="setIndex")this._onRemoved(n.oldValue),this._onInserted(n.newValue,n.index);else if(n.type==="insertIndex")this._onInserted(n.newValue,n.index);else if(n.type==="removeIndex")this._onRemoved(n.oldValue);else if(n.type==="moveIndex")this._onRemoved(n.value),this._onInserted(n.value,n.newIndex);else throw new Error("Unknown IListEvent type")})}_onInserted(t,n){t._setParent(this._container,!0);let e=this._container._childrenDisplay;n===void 0?e.addChild(t._display):e.addChildAt(t._display,n)}_onRemoved(t){this._container._childrenDisplay.removeChild(t._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),k(this.values,t=>{t.dispose()}))}};var Bd=Math.PI,$S=Bd/2,Nr=Bd/180,Ea=180/Bd;function zS(a,t,n){if(!L(t)||t<=0){let e=Math.round(a);return n&&e-a==.5&&e--,e}else{let e=Math.pow(10,t);return Math.round(a*e)/e}}function HS(a,t){if(!L(t)||t<=0)return Math.ceil(a);{let n=Math.pow(10,t);return Math.ceil(a*n)/n}}function bt(a,t,n){return Math.min(Math.max(a,t),n)}function Jt(a){return Math.sin(Nr*a)}function hi(a){return Math.cos(Nr*a)}function cr(a){return a=a%360,a<0&&(a+=360),a}function Ho(a,t,n,e,i){let r=Number.MAX_VALUE,o=Number.MAX_VALUE,s=-Number.MAX_VALUE,l=-Number.MAX_VALUE,c=[];c.push(Fd(i,n)),c.push(Fd(i,e));let d=Math.min(Math.floor(n/90)*90,Math.floor(e/90)*90),p=Math.max(Math.ceil(n/90)*90,Math.ceil(e/90)*90);for(let g=d;g<=p;g+=90)g>=n&&g<=e&&c.push(Fd(i,g));for(let g=0;g<c.length;g++){let m=c[g];m.x<r&&(r=m.x),m.y<o&&(o=m.y),m.x>s&&(s=m.x),m.y>l&&(l=m.y)}return{left:a+r,top:t+o,right:a+s,bottom:t+l}}function Fd(a,t){return{x:a*hi(t),y:a*Jt(t)}}function vg(a){let t=a.length;if(t>0){let n=a[0],e=n.left,i=n.top,r=n.right,o=n.bottom;if(t>1)for(let s=1;s<t;s++)n=a[s],e=Math.min(n.left,e),r=Math.max(n.right,r),i=Math.min(n.top,i),o=Math.max(n.bottom,o);return{left:e,right:r,top:i,bottom:o}}return{left:0,right:0,top:0,bottom:0}}function US(a,t,n){if(t>n){let o=t;t=n,n=o}a=cr(a);let e=(t-cr(t))/360;a<t&&(a+=360*(e+1));let i=t+(n-t)/2+180,r=t+(n-t)/2-180;return a>n&&(a-360>t?a-=360:a<i?a=n:a=t),a<t&&(a>r?a=t:a=n),a}function yg(a,t){return a.x>=t.left&&a.y>=t.top&&a.x<=t.right&&a.y<=t.bottom}function Ld(a){return a}function kn(a){return a*a*a}function Vr(a){return function(t){return 1-a(1-t)}}var Cg=4/11,GS=6/11,YS=8/11,WS=3/4,XS=9/11,QS=10/11,KS=15/16,qS=21/22,ZS=63/64,JS=1/Cg/Cg;var Hy=2*Math.PI,Uy=1,Gy=.3/Hy,eT=Math.asin(1/Uy)*Gy;var Nd=class{constructor(t,n){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=t,this._settings=n,Ve(n,e=>{this._userSettings[e]=!0})}get(t,n){let e=this._settings[t];return e!==void 0?e:n}setRaw(t,n){this._settings[t]=n}set(t,n){this._userSettings[t]=!0,this.setRaw(t,n)}remove(t){delete this._userSettings[t],delete this._settings[t]}setAll(t){ct(t).forEach(n=>{this.set(n,t[n])})}_eachSetting(t){Ve(this._settings,t)}apply(){let t={};t.stateAnimationEasing=!0,t.stateAnimationDuration=!0;let n=this._entity.states.lookup("default");this._eachSetting((e,i)=>{t[e]||(t[e]=!0,this!==n&&(e in n._settings||(n._settings[e]=this._entity.get(e))),this._entity.set(e,i))})}applyAnimate(t){t==null&&(t=this._settings.stateAnimationDuration),t==null&&(t=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let n=this._settings.stateAnimationEasing;n==null&&(n=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",kn)));let e=this._entity.states.lookup("default"),i={};i.stateAnimationEasing=!0,i.stateAnimationDuration=!0;let r={};return this._eachSetting((o,s)=>{if(!i[o]){i[o]=!0,this!=e&&(o in e._settings||(e._settings[o]=this._entity.get(o)));let l=this._entity.animate({key:o,to:s,duration:t,easing:n});l&&(r[o]=l)}}),r}},Ll=class{constructor(t){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=t}lookup(t){return this._states[t]}create(t,n){let e=this._states[t];if(e)return e.setAll(n),e;{let i=new Nd(this._entity,n);return this._states[t]=i,i}}remove(t){delete this._states[t]}apply(t){let n=this._states[t];n&&n.apply(),this._entity._applyState(t)}applyAnimate(t,n){let e,i=this._states[t];return i&&(e=i.applyAnimate(n)),this._entity._applyStateAnimated(t,n),e}};var Vd=class{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.14.4"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!1})}},Zi=new Vd;function fn(a,t){return a===t?0:a<t?-1:1}function jl(a,t,n){let e=a.length,i=t.length,r=Math.min(e,i);for(let o=0;o<r;++o){let s=n(a[o],t[o]);if(s!==0)return s}return fn(e,i)}function nT(a,t){return a===t?0:a<t?-1:1}var zd=class{constructor(t){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=t}add(t,n){let e=this._callbacks[t];return e===void 0&&(e=this._callbacks[t]=[]),e.push(n),this._entity._markDirtyKey(t),new qe(()=>{Ot(e,n)&&this._entity._markDirtyKey(t)})}remove(t){let n=this._callbacks[t];n!==void 0&&(delete this._callbacks[t],n.length!==0&&this._entity._markDirtyKey(t))}enable(t){this._disabled[t]&&(delete this._disabled[t],this._entity._markDirtyKey(t))}disable(t){this._disabled[t]||(this._disabled[t]=!0,this._entity._markDirtyKey(t))}fold(t,n){if(!this._disabled[t]){let e=this._callbacks[t];if(e!==void 0)for(let i=0,r=e.length;i<r;++i)n=e[i](n,this._entity,t)}return n}},Aa=class{constructor(t,n,e,i,r,o,s){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new yi}),this._animation=t,this._from=n,this._to=e,this._duration=i,this._easing=r,this._loops=o,this._interpolate=bg(n,e),this._oldTime=s}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){!this._stopped&&!this._playing&&(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise((t,n)=>{if(this._stopped)t();else{let e=()=>{i.dispose(),t()},i=this.events.on("stopped",e)}})}_checkEnded(){return this._loops>1?(--this._loops,!1):!0}_run(t){this._oldTime!==null&&(this._time+=t-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=t}_reset(t){this._oldTime=t,this._time=0}_value(t){return this._interpolate(this._easing(t),this._from,this._to)}},Yy=0,Uo=class{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++Yy}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"enableDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._settings=t}_checkDirty(){ct(this._settings).forEach(t=>{this._userProperties[t]=!0,this._markDirtyKey(t)})}resetUserSettings(){this._userProperties={}}_runAnimation(t){let n=lr.Stopped;if(!this.isDisposed()){let e=!1,i=!1;Ve(this._animatingSettings,(r,o)=>{if(o.stopped)this._stopAnimation(r);else if(o.playing){o._run(t);let s=o.percentage;s>=1?o._checkEnded()?this.set(r,o._value(1)):(e=!0,o._reset(t),this._set(r,o._value(1))):(e=!0,this._set(r,o._value(s)))}else i=!0}),Ve(this._animatingPrivateSettings,(r,o)=>{if(o.stopped)this._stopAnimationPrivate(r);else if(o.playing){o._run(t);let s=o.percentage;s>=1?o._checkEnded()?this.setPrivate(r,o._value(1)):(e=!0,o._reset(t),this._setPrivate(r,o._value(1))):(e=!0,this._setPrivate(r,o._value(s)))}else i=!0}),e?n=lr.Playing:i&&(n=lr.Paused)}return n}_markDirtyKey(t){this.markDirty()}_markDirtyPrivateKey(t){this.markDirty()}on(t,n){let e=this._settingEvents[t];return e===void 0&&(e=this._settingEvents[t]=[]),e.push(n),new qe(()=>{Ot(e,n),e.length===0&&delete this._settingEvents[t]})}off(t,n){let e=this._settingEvents[t];e!==void 0&&n!==void 0?Ot(e,n):delete this._settingEvents[t]}onPrivate(t,n){let e=this._privateSettingEvents[t];return e===void 0&&(e=this._privateSettingEvents[t]=[]),e.push(n),new qe(()=>{Ot(e,n),e.length===0&&delete this._privateSettingEvents[t]})}offPrivate(t,n){let e=this._privateSettingEvents[t];e!==void 0&&n!==void 0?Ot(e,n):delete this._privateSettingEvents[t]}getRaw(t,n){let e=this._settings[t];return e!==void 0?e:n}has(t){return t in this._settings}get(t,n){return this.getRaw(t,n)}_sendKeyEvent(t,n){let e=this._settingEvents[t];e!==void 0&&k(e,i=>{i(n,this,t)})}_sendPrivateKeyEvent(t,n){let e=this._privateSettingEvents[t];e!==void 0&&k(e,i=>{i(n,this,t)})}_setRaw(t,n,e){this._prevSettings[t]=n,this._sendKeyEvent(t,e)}setRaw(t,n){let e=this._settings[t];this._settings[t]=n,e!==n&&this._setRaw(t,e,n)}_set(t,n){let e=this._settings[t];this._settings[t]=n,e!==n&&(this._setRaw(t,e,n),this._markDirtyKey(t))}_stopAnimation(t){let n=this._animatingSettings[t];n&&(delete this._animatingSettings[t],n.stop())}set(t,n){return this._set(t,n),this._stopAnimation(t),n}remove(t){t in this._settings&&(this._prevSettings[t]=this._settings[t],delete this._settings[t],this._sendKeyEvent(t,void 0),this._markDirtyKey(t)),this._stopAnimation(t)}removeAll(){k(ct(this._settings),t=>{this.remove(t)})}getPrivate(t,n){let e=this._privateSettings[t];return e!==void 0?e:n}_setPrivateRaw(t,n,e){this._prevPrivateSettings[t]=n,this._sendPrivateKeyEvent(t,e)}setPrivateRaw(t,n){let e=this._privateSettings[t];this._privateSettings[t]=n,e!==n&&this._setPrivateRaw(t,e,n)}_setPrivate(t,n){let e=this._privateSettings[t];this._privateSettings[t]=n,e!==n&&(this._setPrivateRaw(t,e,n),this._markDirtyPrivateKey(t))}_stopAnimationPrivate(t){let n=this._animatingPrivateSettings[t];n&&(n.stop(),delete this._animatingPrivateSettings[t])}setPrivate(t,n){return this._setPrivate(t,n),this._stopAnimationPrivate(t),n}removePrivate(t){t in this._privateSettings&&(this._prevPrivateSettings[t]=this._privateSettings[t],delete this._privateSettings[t],this._markDirtyPrivateKey(t)),this._stopAnimationPrivate(t)}setAll(t){Ve(t,(n,e)=>{this.set(n,e)})}animate(t){let n=t.key,e=t.to,i=t.duration||0,r=t.loops||1,o=t.from===void 0?this.get(n):t.from,s=t.easing===void 0?Ld:t.easing;if(i===0)this.set(n,e);else if(o===void 0||o===e)this.set(n,e);else{this.set(n,o);let c=this._animatingSettings[n]=new Aa(this,o,e,i,s,r,this._animationTime());return this._startAnimation(),c}let l=new Aa(this,o,e,i,s,r,null);return l.stop(),l}animatePrivate(t){let n=t.key,e=t.to,i=t.duration||0,r=t.loops||1,o=t.from===void 0?this.getPrivate(n):t.from,s=t.easing===void 0?Ld:t.easing;if(i===0)this.setPrivate(n,e);else if(o===void 0||o===e)this.setPrivate(n,e);else{this.setPrivate(n,o);let c=this._animatingPrivateSettings[n]=new Aa(this,o,e,i,s,r,this._animationTime());return this._startAnimation(),c}let l=new Aa(this,o,e,i,s,r,null);return l.stop(),l}_dispose(){}isDisposed(){return this._disposed}dispose(){this.enableDispose&&!this._disposed&&(this._disposed=!0,this._dispose())}},Je=class extends Uo{constructor(t,n,e,i=[]){if(super(n),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Ll(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new zd(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=t,this._internalTemplates=i,n.id&&this._registerId(n.id)}static new(t,n,e){let i=new this(t,n,!0);return i._template=e,i._afterNew(),i}static _new(t,n,e=[]){let i=new this(t,n,!0,e);return i._afterNew(),i}_afterNew(){this._checkDirty();let t=!1,n=this._template;n&&(t=!0,n._setObjectTemplate(this)),k(this._internalTemplates,e=>{t=!0,e._setObjectTemplate(this)}),t&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();let t=this._template;t&&t._setObjectTemplate(this),k(this._internalTemplates,n=>{n._setObjectTemplate(this)}),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new yi}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefaultFn(t,n){let e=this.get(t);if(e)return e;{let i=n();return this.set(t,i),i}}_setDefault(t,n){this.has(t)||super.set(t,n)}_setRawDefault(t,n){this.has(t)||super.setRaw(t,n)}_clearDirty(){ct(this._dirty).forEach(t=>{this._dirty[t]=!1}),ct(this._dirtyPrivate).forEach(t=>{this._dirtyPrivate[t]=!1})}isDirty(t){return!!this._dirty[t]}isPrivateDirty(t){return!!this._dirtyPrivate[t]}_markDirtyKey(t){this._dirty[t]=!0,super._markDirtyKey(t)}_markDirtyPrivateKey(t){this._dirtyPrivate[t]=!0,super._markDirtyKey(t)}isType(t){return this.classNames.indexOf(t)!==-1}_pushPropertyDisposer(t,n){let e=this._disposerProperties[t];return e===void 0&&(e=this._disposerProperties[t]=[]),e.push(n),n}_disposeProperty(t){let n=this._disposerProperties[t];n!==void 0&&(k(n,e=>{e.dispose()}),delete this._disposerProperties[t])}set template(t){let n=this._template;n!==t&&(this._template=t,n&&n._removeObjectTemplate(this),t&&t._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(t){}_applyStateAnimated(t,n){}get(t,n){let e=this.adapters.fold(t,this._settings[t]);return e!==void 0?e:n}isUserSetting(t){return this._userProperties[t]||!1}set(t,n){return this._userProperties[t]=!0,super.set(t,n)}setRaw(t,n){this._userProperties[t]=!0,super.setRaw(t,n)}_setSoft(t,n){return this._userProperties[t]?n:super.set(t,n)}remove(t){delete this._userProperties[t],this._removeTemplateProperty(t)}setPrivate(t,n){return this._userPrivateProperties[t]=!0,super.setPrivate(t,n)}setPrivateRaw(t,n){this._userPrivateProperties[t]=!0,super.setPrivateRaw(t,n)}removePrivate(t){delete this._userPrivateProperties[t],this._removeTemplatePrivateProperty(t)}_setTemplateProperty(t,n,e){if(!this._userProperties[n]){let i=this._findTemplateByKey(n);t===i&&super.set(n,e)}}_setTemplatePrivateProperty(t,n,e){if(!this._userPrivateProperties[n]){let i=this._findTemplateByPrivateKey(n);t===i&&super.setPrivate(n,e)}}_removeTemplateProperty(t){if(!this._userProperties[t]){let n=this._findTemplateByKey(t);n?super.set(t,n._settings[t]):super.remove(t)}}_removeTemplatePrivateProperty(t){if(!this._userPrivateProperties[t]){let n=this._findTemplateByPrivateKey(t);n?super.setPrivate(t,n._privateSettings[t]):super.removePrivate(t)}}_walkParents(t){t(this._root._rootContainer),t(this)}_applyStateByKey(t){let n=this.states.create(t,{}),e={};this._eachTemplate(i=>{let r=i.states.lookup(t);r&&r._apply(n,e)}),Ve(n._settings,i=>{!e[i]&&!n._userSettings[i]&&n.remove(i)})}_applyTemplate(t,n){this._templateDisposers.push(t._apply(this,n)),Ve(t._settings,(e,i)=>{!n.settings[e]&&!this._userProperties[e]&&(n.settings[e]=!0,super.set(e,i))}),Ve(t._privateSettings,(e,i)=>{!n.privateSettings[e]&&!this._userPrivateProperties[e]&&(n.privateSettings[e]=!0,super.setPrivate(e,i))}),this._runSetup&&t.setup&&(this._runSetup=!1,t.setup(this))}_findStaticTemplate(t){if(this._template&&t(this._template))return this._template}_eachTemplate(t){this._findStaticTemplate(n=>(t(n),!1)),rr(this._internalTemplates,t),k(this._templates,t)}_applyTemplates(t=!0){t&&this._disposeTemplates();let n={settings:{},privateSettings:{},states:{}};this._eachTemplate(e=>{this._applyTemplate(e,n)}),t&&(Ve(this._settings,e=>{!this._userProperties[e]&&!n.settings[e]&&super.remove(e)}),Ve(this._privateSettings,e=>{!this._userPrivateProperties[e]&&!n.privateSettings[e]&&super.removePrivate(e)}))}_findTemplate(t){let n=this._findStaticTemplate(t);if(n===void 0){let e=Yp(this._internalTemplates,t);return e===void 0?Tl(this._templates,t):e}else return n}_findTemplateByKey(t){return this._findTemplate(n=>t in n._settings)}_findTemplateByPrivateKey(t){return this._findTemplate(n=>t in n._privateSettings)}_disposeTemplates(){k(this._templateDisposers,t=>{t.dispose()}),this._templateDisposers.length=0}_removeTemplates(){k(this._templates,t=>{t._removeObjectTemplate(this)}),this._templates.length=0}_applyThemes(t=!1){let n=!1,e=[],i=[],r=new Set,o=this.get("themeTagsSelf");return o&&k(o,s=>{r.add(s)}),this._walkParents(s=>{s===this._root._rootContainer&&(n=!0),s._defaultThemes.length>0&&e.push(s._defaultThemes);let l=s.get("themes");l&&i.push(l);let c=s.get("themeTags");c&&k(c,d=>{r.add(d)})}),i=e.concat(i),this._removeTemplates(),(n||t)&&rr(this.classNames,s=>{let l=[];k(i,c=>{k(c,d=>{let p=d._lookupRules(s);p&&rr(p,g=>{if(g.tags.every(C=>r.has(C))){let C=Xp(l,b=>{let x=fn(g.tags.length,b.tags.length);return x===0?jl(g.tags,b.tags,fn):x});l.splice(C.index,0,g)}})})}),k(l,c=>{this._templates.push(c.template),c.template._setObjectTemplate(this)})}),this._applyTemplates(),(n||t)&&(this._runSetup=!1),n||t}_changed(){}_beforeChanged(){if(this.isDirty("id")){let t=this.get("id");t&&this._registerId(t);let n=this._prevSettings.id;n&&(delete this._root.entitiesById[n],delete Zi.entitiesById[n])}}_registerId(t){if(this._root.entitiesById[t]&&this._root.entitiesById[t]!==this)throw new Error('An entity with id "'+t+'" already exists.');this._root.entitiesById[t]=this,Zi.entitiesById[t]=this}_afterChanged(){}addDisposer(t){return this._disposers.push(t),t}_dispose(){super._dispose();let t=this._template;t&&t._removeObjectTemplate(this),k(this._internalTemplates,e=>{e._removeObjectTemplate(this)}),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach(e=>{e.dispose()}),Ve(this._disposerProperties,(e,i)=>{k(i,r=>{r.dispose()})});let n=this.get("id");n&&(delete this._root.entitiesById[n],delete Zi.entitiesById[n])}setTimeout(t,n){let e=setTimeout(()=>{this.removeDispose(i),t()},n),i=new qe(()=>{clearTimeout(e)});return this._disposers.push(i),i}removeDispose(t){if(!this.isDisposed()){let n=nr(this._disposers,t);n>-1&&this._disposers.splice(n,1)}t.dispose()}hasTag(t){return nr(this.get("themeTags",[]),t)!==-1}addTag(t){if(!this.hasTag(t)){let n=this.get("themeTags",[]);n.push(t),this.set("themeTags",n)}}removeTag(t){if(this.hasTag(t)){let n=this.get("themeTags",[]);Fi(n,t),this.set("themeTags",n)}}_t(t,n,...e){return this._root.language.translate(t,n,...e)}get root(){return this._root}};Object.defineProperty(Je,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"});Object.defineProperty(Je,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});function Hd(a){Ve(a,(t,n)=>{xn(n)&&typeof n.dispose=="function"&&(n.enableDispose=!0,n.dispose())})}var Ud=class{constructor(t,n,e){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=t,this._template=n,this._settings=e}_dispose(){Hd(this._settings)}get(t,n){let e=this._settings[t];return e!==void 0?e:n}set(t,n){this._settings[t]=n,this._template._stateChanged(this._name)}remove(t){delete this._settings[t],this._template._stateChanged(this._name)}setAll(t){ct(t).forEach(n=>{this._settings[n]=t[n]}),this._template._stateChanged(this._name)}_apply(t,n){Ve(this._settings,(e,i)=>{!n[e]&&!t._userSettings[e]&&(n[e]=!0,t.setRaw(e,i))})}},Gd=class{constructor(t){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=t}_dispose(){Ve(this._states,(t,n)=>{n._dispose()})}lookup(t){return this._states[t]}create(t,n){let e=this._states[t];if(e)return e.setAll(n),e;{let i=new Ud(t,this._template,n);return this._states[t]=i,this._template._stateChanged(t),i}}remove(t){delete this._states[t],this._template._stateChanged(t)}_apply(t,n){Ve(this._states,(e,i)=>{let r=n.states[e];r==null&&(r=n.states[e]={});let o=t.states.create(e,{});i._apply(o,r)})}},Yd=class{constructor(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}add(t,n){let e=this._callbacks[t];return e===void 0&&(e=this._callbacks[t]=[]),e.push(n),new qe(()=>{Ot(e,n),e.length===0&&delete this._callbacks[t]})}remove(t){this._callbacks[t]!==void 0&&delete this._callbacks[t]}_apply(t){let n=[];return Ve(this._callbacks,(e,i)=>{k(i,r=>{n.push(t.adapters.add(e,r))})}),new kt(n)}},Ji=class a{constructor(t,n){if(Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Gd(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new Yd}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new yi}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!n)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=t}static new(t){return new a(t,!0)}_dispose(){Hd(this._settings),Hd(this._privateSettings)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}_checkDisposed(){if(this._disposed)throw new Error("Template is disposed")}get entities(){return this._entities}get(t,n){this._checkDisposed();let e=this._settings[t];return e!==void 0?e:n}setRaw(t,n){this._checkDisposed(),this._settings[t]=n}set(t,n){this._checkDisposed(),this._settings[t]!==n&&(this.setRaw(t,n),this._entities.forEach(e=>{e._setTemplateProperty(this,t,n)}))}remove(t){this._checkDisposed(),t in this._settings&&(delete this._settings[t],this._entities.forEach(n=>{n._removeTemplateProperty(t)}))}removeAll(){this._checkDisposed(),Ve(this._settings,(t,n)=>{this.remove(t)})}getPrivate(t,n){this._checkDisposed();let e=this._privateSettings[t];return e!==void 0?e:n}setPrivateRaw(t,n){return this._checkDisposed(),this._privateSettings[t]=n,n}setPrivate(t,n){return this._checkDisposed(),this._privateSettings[t]!==n&&(this.setPrivateRaw(t,n),this._entities.forEach(e=>{e._setTemplatePrivateProperty(this,t,n)})),n}removePrivate(t){this._checkDisposed(),t in this._privateSettings&&(delete this._privateSettings[t],this._entities.forEach(n=>{n._removeTemplatePrivateProperty(t)}))}setAll(t){this._checkDisposed(),Ve(t,(n,e)=>{this.set(n,e)})}on(t,n){this._checkDisposed();let e=this._settingEvents[t];return e===void 0&&(e=this._settingEvents[t]=[]),e.push(n),new qe(()=>{Ot(e,n),e.length===0&&delete this._settingEvents[t]})}onPrivate(t,n){this._checkDisposed();let e=this._privateSettingEvents[t];return e===void 0&&(e=this._privateSettingEvents[t]=[]),e.push(n),new qe(()=>{Ot(e,n),e.length===0&&delete this._privateSettingEvents[t]})}_apply(t,n){this._checkDisposed();let e=[];return Ve(this._settingEvents,(i,r)=>{k(r,o=>{e.push(t.on(i,o))})}),Ve(this._privateSettingEvents,(i,r)=>{k(r,o=>{e.push(t.onPrivate(i,o))})}),this.states._apply(t,n),e.push(this.adapters._apply(t)),e.push(t.events.copyFrom(this.events)),new kt(e)}_setObjectTemplate(t){this._checkDisposed(),this._entities.push(t)}_removeObjectTemplate(t){Fi(this._entities,t)}_stateChanged(t){this._checkDisposed(),this._entities.forEach(n=>{n._applyStateByKey(t)})}};var Nl=class a extends yi{constructor(t){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=t}_makePointerEvent(t,n){return{type:t,originalEvent:n.event,point:n.point,simulated:n.simulated,native:n.native,target:this._sprite}}_onRenderer(t,n){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let e=this._rendererDisposers[t];if(e===void 0){let i=this._sprite._display.on(t,r=>{n.call(this,r)});e=this._rendererDisposers[t]=new Sa(()=>{delete this._rendererDisposers[t],i.dispose()})}return e.increment()}_on(t,n,e,i,r,o,s){let l=super._on(t,n,e,i,r,o,s),c=a.RENDERER_EVENTS[n];return c!==void 0&&(l.disposer=new kt([l.disposer,this._onRenderer(n,c)])),l}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(t,n){let e=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(t,n),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(t,n)}finally{this._dispatchParents=e}}};Object.defineProperty(Nl,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(a){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",a))&&this.dispatch("click",this._makePointerEvent("click",a))},rightclick:function(a){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",a))},middleclick:function(a){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",a))},dblclick:function(a){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",a))},pointerover:function(a){let t=this._sprite,n=!0;if(t.getPrivate("trustBounds")){t._getBounds();let e=t.globalBounds();if(t.isType("Graphics")){let i=t.get("strokeWidth",1)/2;i>=1&&(e.left-=i,e.right+=i,e.top-=i,e.bottom+=i)}yg(a.point,e)||(n=!1,t._root._renderer.removeHovering(t._display))}n&&this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",a))},pointerout:function(a){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",a))},pointerdown:function(a){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",a))},pointerup:function(a){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",a))},globalpointerup:function(a){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",a))},globalpointermove:function(a){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",a))},wheel:function(a){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:a.event,point:a.point})}}});var Gt=class extends Je{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_virtualParent",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}markDirtyKey(t){this._markDirtyKey(t)}_markDirtyKey(t){super._markDirtyKey(t),(t=="x"||t=="y"||t=="dx"||t=="dy")&&(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(t){super._markDirtyPrivateKey(t),(t=="x"||t=="y")&&this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new Nl(this)}_processTemplateField(){let t,n=this.get("templateField");if(n){let e=this.dataItem;if(e){let i=e.dataContext;i&&(t=i[n],!(t instanceof Ji)&&t&&(t=Ji.new(t)))}}this._templateField!==t&&(this._removeTemplateField(),this._templateField=t,t&&t._setObjectTemplate(this),this._applyTemplates())}_setDataItem(t){let n=this._dataItem;this._dataItem=t,this._processTemplateField();let e="dataitemchanged";t!=n&&this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,oldDataItem:n,newDataItem:t})}set dataItem(t){this._setDataItem(t)}get dataItem(){if(this._dataItem)return this._dataItem;{let t=this._parent;for(;t;){if(t._dataItem)return t._dataItem;t=t._parent}}}_addPercentageSizeChildren(){let t=this.parent;t&&(this.get("width")instanceof he||this.get("height")instanceof he?ar(t._percentageSizeChildren,this):Ot(t._percentageSizeChildren,this))}_addPercentagePositionChildren(){let t=this.parent;t&&(this.get("x")instanceof he||this.get("y")instanceof he?ar(t._percentagePositionChildren,this):Ot(t._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){let t=this._localBounds;if(t){let n=this.get("centerX");n!=null&&(this._display.pivot.x=t.left+dt(n,t.right-t.left));let e=this.get("centerY");e!=null&&(this._display.pivot.y=t.top+dt(e,t.bottom-t.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){let t=this._prevSettings.tooltip;t&&t.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){let t=this._tooltipMoveDp;t&&(t.dispose(),this._tooltipMoveDp=void 0);let n=this._tooltipPointerDp;n&&(n.dispose(),this._tooltipPointerDp=void 0),this.get("tooltipPosition")=="pointer"&&(this.isHover()&&(this._tooltipMoveDp=this.events.on("globalpointermove",e=>{this.showTooltip(e.point)})),this._tooltipPointerDp=new kt([this.events.on("pointerover",()=>{this._tooltipMoveDp=this.events.on("globalpointermove",e=>{this.showTooltip(e.point)})}),this.events.on("pointerout",()=>{let e=this._tooltipMoveDp;e&&(e.dispose(),this._tooltipMoveDp=void 0)})]))}}_handleStates(){this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility())}_changed(){super._changed();let t=this._display,n=this.events;if(this.isDirty("draggable")){let i=this.get("draggable");i?(this.set("interactive",!0),this._dragDp=new kt([n.on("pointerdown",r=>{this.dragStart(r)}),n.on("globalpointermove",r=>{this.dragMove(r)}),n.on("globalpointerup",r=>{this.dragStop(r)})])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),t.cancelTouch=!!i}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){let i=this.get("tooltipText"),r=this.get("tooltipHTML"),o=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(i||r)&&(o=="click"?(this._tooltipDp=new kt([n.on("click",()=>{this.setTimeout(()=>{let s=this.getTooltip();s&&!s.isHidden()&&s.get("tooltipTarget")===this?this.hideTooltip():this.showTooltip()},10)}),nt(document,"click",s=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)):o=="always"||(this._tooltipDp=new kt([n.on("pointerover",()=>{this.showTooltip()}),n.on("pointerout",()=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){let i=this.get("toggleKey");i&&i!="none"?this._toggleDp=n.on("click",()=>{this._isDragging||this.set(i,!this.get(i))}):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(t.alpha=Math.max(0,this.get("opacity",1)),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("rotation")&&(this.markDirtyBounds(),t.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),t.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(t.visible=!1,this.hideTooltip()):t.visible=!0,this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();let i=this.parent;i&&(this.isDirty("width")&&this.get("width")instanceof he||this.isDirty("height")&&this.get("height")instanceof he)&&(i.markDirty(),i._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight")||this.isDirty("marginLeft")||this.isDirty("marginTop")||this.isDirty("marginRight")||this.isDirty("marginBottom"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){let i=this.get("wheelable");i&&this.set("interactive",!0),t.wheelable=!!i}(this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(t.filter=this.get("filter"));let e=this.get("filter","");if(this.isDirty("blur")){let i=this.get("blur",0);i!=0&&(e+=" blur("+i+"px)")}if(this.isDirty("saturate")){let i=this.get("saturate",1);i!=1&&(e+=" saturate("+i+")")}if(this.isDirty("brightness")){let i=this.get("brightness",1);i!=1&&(e+=" brightness("+i+")")}if(this.isDirty("contrast")){let i=this.get("contrast",1);i!=1&&(e+=" contrast("+i+")")}if(this.isDirty("sepia")){let i=this.get("sepia",0);i!=0&&(e+=" sepia("+i+")")}if(this.isDirty("hue")){let i=this.get("hue",0);i!=0&&(e+=" hue-rotate("+i+"deg)")}if(this.isDirty("invert")){let i=this.get("invert",0);i!=0&&(e+=" invert("+i+")")}if(e&&(t.filter=e),this.isDirty("cursorOverStyle")&&(t.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new kt([n.on("focus",()=>{this.showTooltip()}),n.on("blur",()=>{this.hideTooltip()})]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility(),this._disposers.push(n.on("blur",()=>{this.setPrivateRaw("touchHovering",!1)})),this._disposers.push(n.once("boundschanged",()=>{this.markDirtyAccessibility()}))),this.isPrivateDirty("focusable")&&this.markDirtyAccessibility(),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(t.exportable=this.get("exportable")),this.isDirty("interactive")){let i=this.events;this.get("interactive")&&!i.isDisposed()?this._hoverDp=new kt([i.on("click",r=>{Od(r.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout(()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:r.target,originalEvent:r.originalEvent,point:r.point,simulated:r.simulated})},10))}),i.on("globalpointerup",r=>{Od(r.originalEvent)&&this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip(),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:r.target,originalEvent:r.originalEvent,point:r.point,simulated:r.simulated})),this._isDown&&this._handleUp(r)}),i.on("pointerover",()=>{this._handleOver()}),i.on("pointerout",()=>{this._handleOut()}),i.on("pointerdown",r=>{this._handleDown(r)})]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",null)),this.get("showTooltipOn")=="always"&&this._display.visible&&this.showTooltip()}dragStart(t){this._dragEvent=t,this.events.stopParentDispatch()}dragStop(t){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;let n="dragstop";this.events.isEnabled(n)&&this.events.dispatch(n,{type:n,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleUp(t){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;let n=Rl(t.originalEvent);delete this._downPoints[n],ct(this._downPoints).length==0&&(this._isDown=!1)}}_hasMoved(t){let n=Rl(t.originalEvent),e=this._downPoints[n];if(e){let i=Math.abs(e.x-t.point.x),r=Math.abs(e.y-t.point.y);return i>5||r>5}return!1}_hasDown(){return ct(this._downPoints).length>0}_handleDown(t){let n=this.parent;if(n&&!this.get("draggable")&&n._handleDown(t),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:t.point.x,y:t.point.y},this._isDown=!0;let e=Rl(t.originalEvent);this._downPoints[e]={x:t.point.x,y:t.point.y}}}dragMove(t){let n=this._dragEvent;if(n){if(n.simulated&&!t.simulated)return!0;let e=0,i=this.parent,r=1;for(;i!=null;)e+=i.get("rotation",0),i=i.parent,i&&(r*=i.get("scale",1));let o=(t.point.x-n.point.x)/r,s=(t.point.y-n.point.y)/r,l=this.events;if(n.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=t,this._dragPoint={x:this.x(),y:this.y()};let c="dragstart";l.isEnabled(c)&&l.dispatch(c,{type:c,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}if(this._isDragging){let c=this._dragPoint;this.set("x",c.x+o*hi(e)+s*Jt(e)),this.set("y",c.y+s*hi(e)-o*Jt(e));let d="dragged";l.isEnabled(d)&&l.dispatch(d,{type:d,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}else if(Math.hypot(o,s)>5){this._isDragging=!0,this._dragEvent=t,this._dragPoint={x:this.x(),y:this.y()};let c="dragstart";l.isEnabled(c)&&l.dispatch(c,{type:c,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let t=this.parent,n=0;for(;;)if(t)++n,t=t.parent;else return n}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){let t=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),t.isMeasured=!0,t.invalidateBounds();let n=this.parent;n&&this.get("position")!="absolute"&&(n.get("width")==null||n.get("height")==null||n.get("layout"))&&n.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){let t=this._adjustedLocalBounds,n;if(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(n={left:0,right:0,top:0,bottom:0},this._localBounds=n,this._adjustedLocalBounds=n):(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),n=this._adjustedLocalBounds),!t||t.left!==n.left||t.top!==n.top||t.right!==n.right||t.bottom!==n.bottom){let e="boundschanged";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds()),this.getPrivate("showingTooltip")&&this.showTooltip()}}_fixMinBounds(t){let n=this.get("minWidth",this.getPrivate("minWidth")),e=this.get("minHeight",this.getPrivate("minHeight"));L(n)&&t.right-t.left<n&&(t.right=t.left+n),L(e)&&t.bottom-t.top<e&&(t.bottom=t.top+e);let i=this.getPrivate("width"),r=this.getPrivate("height");L(i)&&(i>0?t.right=t.left+i:t.left=t.right+i),L(r)&&(r>0?t.bottom=t.top+r:t.top=t.bottom+r)}_removeParent(t){t&&(t.children.removeValue(this),Ot(t._percentageSizeChildren,this),Ot(t._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1}hover(){this.isDisposed()||(this.showTooltip(),this._handleOver())}unhover(){this.isDisposed()||(this.hideTooltip(),this._handleOut())}showTooltip(t){if(!this.isDisposed()){let n=this.getTooltip(),e=this.get("tooltipText"),i=this.get("tooltipHTML");if((e||i)&&n){let r=this.get("tooltipPosition"),o=this.getPrivate("tooltipTarget",this);if((r=="fixed"||!t)&&(this._display._setMatrix(),t=this.toGlobal(o._getTooltipPoint())),r=="pointer"){let c=this.getPrivate("lastTooltipCoords");if(c&&c.x==t.x&&c.y==t.y)return;this.setPrivate("lastTooltipCoords",t)}n.set("pointTo",t),n.set("tooltipTarget",o),n.get("x")||n.set("x",t.x),n.get("y")||n.set("y",t.y),e&&n.label.set("text",e),i&&n.label.set("html",i);let s=this.dataItem;if(s&&n.label._setDataItem(s),this.get("showTooltipOn")=="always"&&(t.x<0||t.x>this._root.width()||t.y<0||t.y>this._root.height())){this.hideTooltip();return}n.label.text.markDirtyText();let l=n.show();return this.setPrivateRaw("showingTooltip",!0),l}}}hideTooltip(){let t=this.getTooltip();if(t&&(this.removePrivate("lastTooltipCoords"),t.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)||this.get("tooltip")==t)){let n=t.get("keepTargetHover")&&t.get("stateAnimationDuration",0)==0?400:void 0,e=t.hide(n);return this.setPrivateRaw("showingTooltip",!1),e}}_getTooltipPoint(){let t=this._localBounds;if(t){let n=0,e=0;return this.get("isMeasured")?(n=t.left+dt(this.get("tooltipX",0),t.right-t.left),e=t.top+dt(this.get("tooltipY",0),t.bottom-t.top)):(n=dt(this.get("tooltipX",0),this.width()),e=dt(this.get("tooltipY",0),this.height())),{x:n,y:e}}return{x:0,y:0}}getTooltip(){let t=this.get("tooltip");if(t)return t;{let n=this.parent;if(n)return n.getTooltip()}}_updatePosition(){let t=this.parent,n=this.get("dx",0),e=this.get("dy",0),i=this.get("x"),r=this.getPrivate("x"),o=0,s=0,l=this.get("position");i instanceof he&&(t?i=t.innerWidth()*i.value+t.get("paddingLeft",0):i=0),L(i)?o=i+n:r!=null?o=r:t&&l=="relative"&&(o=t.get("paddingLeft",0)+n);let c=this.get("y"),d=this.getPrivate("y");c instanceof he&&(t?c=t.innerHeight()*c.value+t.get("paddingTop",0):c=0),L(c)?s=c+e:d!=null?s=d:t&&l=="relative"&&(s=t.get("paddingTop",0)+e);let p=this._display;if(p.x!=o||p.y!=s){p.invalidateBounds(),p.x=o,p.y=s;let g="positionchanged";this.events.isEnabled(g)&&this.events.dispatch(g,{type:g,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let t=this.get("x"),n=this.getPrivate("x"),e=this.parent;return e?t instanceof he?dt(t,e.innerWidth())+e.get("paddingLeft",0):L(t)?t:n!=null?n:e.get("paddingLeft",this._display.x):this._display.x}y(){let t=this.getPrivate("y");if(t!=null)return t;let n=this.get("y"),e=this.parent;return e?n instanceof he?dt(n,e.innerHeight())+e.get("paddingTop",0):L(n)?n:t!=null?t:e.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);let t=this.get("tooltip");t&&t.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){let t=this._adjustedLocalBounds,n=this.x(),e=this.y();return{left:t.left+n,right:t.right+n,top:t.top+e,bottom:t.bottom+e}}globalBounds(){let t=this.localBounds(),n=this.toGlobal({x:t.left,y:t.top}),e=this.toGlobal({x:t.right,y:t.top}),i=this.toGlobal({x:t.right,y:t.bottom}),r=this.toGlobal({x:t.left,y:t.bottom});return{left:Math.min(n.x,e.x,i.x,r.x),top:Math.min(n.y,e.y,i.y,r.y),right:Math.max(n.x,e.x,i.x,r.x),bottom:Math.max(n.y,e.y,i.y,r.y)}}_onShow(t){}_onHide(t){}appear(t,n){return St(this,void 0,void 0,function*(){return yield this.hide(0),n?new Promise((e,i)=>{this.setTimeout(()=>{e(this.show(t))},n)}):this.show(t)})}show(t){return St(this,void 0,void 0,function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(t);let n=this.states.applyAnimate("default",t);yield Ad(n),this._isShowing=!1}})}hide(t){return St(this,void 0,void 0,function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let n=this.states.lookup("hidden");n||(n=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(t);let e=this.states.applyAnimate("hidden",t);yield Ad(e),this._isHiding=!1}})}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!!(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){let t=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*t:t}compositeScale(){let t=this.get("scale",1);return this._parent?this._parent.compositeScale()*t:t}compositeRotation(){let t=this.get("rotation",0);return this._parent?this._parent.compositeRotation()+t:t}width(){let t=this.get("width"),n=this.get("maxWidth",this.getPrivate("maxWidth")),e=this.get("minWidth",this.getPrivate("minWidth")),i=this.getPrivate("width"),r=0;if(L(i))r=i;else if(t==null)this._adjustedLocalBounds&&(r=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(t instanceof he){let o=this.parent;o?r=o.innerWidth()*t.value:r=this._root.width()*t.value}else L(t)&&(r=t);return L(e)&&(r=Math.max(e,r)),L(n)&&(r=Math.min(n,r)),r}maxWidth(){let t=this.get("maxWidth",this.getPrivate("maxWidth"));if(L(t))return t;{let e=this.get("width");if(L(e))return e}let n=this.parent;return n?n.innerWidth():this._root.width()}maxHeight(){let t=this.get("maxHeight",this.getPrivate("maxHeight"));if(L(t))return t;{let e=this.get("height");if(L(e))return e}let n=this.parent;return n?n.innerHeight():this._root.height()}height(){let t=this.get("height"),n=this.get("maxHeight",this.getPrivate("maxHeight")),e=this.get("minHeight",this.getPrivate("minHeight")),i=this.getPrivate("height"),r=0;if(L(i))r=i;else if(t==null)this._adjustedLocalBounds&&(r=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(t instanceof he){let o=this.parent;o?r=o.innerHeight()*t.value:r=this._root.height()*t.value}else L(t)&&(r=t);return L(e)&&(r=Math.max(e,r)),L(n)&&(r=Math.min(n,r)),r}_findStaticTemplate(t){return this._templateField&&t(this._templateField)?this._templateField:super._findStaticTemplate(t)}_walkParents(t){(this._parent||this._virtualParent)&&this._walkParent(t)}_walkParent(t){this._parent?this._parent._walkParent(t):this._virtualParent&&this._virtualParent._walkParent(t),t(this)}set virtualParent(t){this._virtualParent=t,this._applyThemes()}get parent(){return this._parent}_setParent(t,n=!1){let e=this._parent;t!==e&&(this.markDirtyBounds(),t.markDirty(),this._parent=t,n&&(this._removeParent(e),t&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(t){return this._display.toGlobal(t)}toLocal(t){return this._display.toLocal(t)}_getDownPoint(){let t=this._getDownPointId();if(t)return this._downPoints[t]}_getDownPointId(){if(this._downPoints)return Qp(this._downPoints,(t,n)=>t>n?1:t<n?-1:0)[0]}toFront(){let t=this.parent;t&&t.children.moveValue(this,t.children.length-1)}toBack(){let t=this.parent;t&&t.children.moveValue(this,0)}};Object.defineProperty(Gt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"});Object.defineProperty(Gt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Je.classNames.concat([Gt.className])});var dr=class extends Je{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fillOpacity"))&&(this._clear=!0),this._checkDirtyFill()}_checkDirtyFill(){(this.isDirty("color")||this.isDirty("fill"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let t=this.get("repetition",""),n=this.get("width",100),e=this.get("height",100),i=this.get("fill"),r=this.get("fillOpacity",1),o=this._backgroundDisplay,s=this._display;s.clear(),o.clear(),i&&r>0&&(o.beginFill(i,r),o.drawRect(0,0,n,e),o.endFill()),s.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(s,o,t,n,e)}this._clear=!1}};Object.defineProperty(dr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"});Object.defineProperty(dr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Je.classNames.concat([dr.className])});var mr=class extends dr{constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load();let t=this.get("canvas");t&&(this.set("width",t.width),this.set("height",t.height))}_draw(){super._draw();let t=this.get("colorOpacity");t!==void 0&&(this._display.alpha=Math.max(0,t));let n=this._image;if(n){let i=this.get("width",100),r=this.get("height",100),o=this.get("fit","image"),s=0,l=0;o=="pattern"?(s=i,l=r,this.markDirty()):(s=n.width,l=n.height,o=="image"&&(this.set("width",s),this.set("height",l)));let c=this.get("centered",!0),d=0,p=0;c&&(d=i/2-s/2,p=r/2-l/2),this._display.image(n,s,l,d,p)}let e=this.get("canvas");e&&this._display.image(e,e.width,e.height,0,0)}_load(){let t=this.get("src");if(t){let n=new Image;n.src=t,n.decode().then(()=>{this._image=n,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})}).catch(e=>{})}}};Object.defineProperty(mr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"});Object.defineProperty(mr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:dr.classNames.concat([mr.className])});var Go=function(a){return a.ADD="lighter",a.COLOR="color",a.COLOR_BURN="color-burn",a.COLOR_DODGE="color-dodge",a.DARKEN="darken",a.DIFFERENCE="difference",a.DST_OVER="destination-over",a.EXCLUSION="exclusion",a.HARD_LIGHT="hard-light",a.HUE="hue",a.LIGHTEN="lighten",a.LUMINOSITY="luminosity",a.MULTIPLY="multiply",a.NORMAL="source-over",a.OVERLAY="overlay",a.SATURATION="saturation",a.SCREEN="screen",a.SOFT_LIGHT="soft-light",a.SRC_ATOP="source-atop",a.XOR="xor",a}(Go||{});var xg=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset","shadowBlur","shadowColor","shadowOpacity","shadowOffsetX","shadowOffsetY","blur","sepia","invert","brightness","hue","contrast","saturate"],Dt=class extends Gt{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("lineCap")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){let t=this.get("fillGradient");if(t){this._display.isMeasured=!0;let n=t.get("target");n&&(this._disposers.push(n.events.on("boundschanged",()=>{this._markDirtyKey("fill")})),this._disposers.push(n.events.on("positionchanged",()=>{this._markDirtyKey("fill")})))}}if(this.isDirty("strokeGradient")){let t=this.get("strokeGradient");if(t){this._display.isMeasured=!0;let n=t.get("target");n&&(this._disposers.push(n.events.on("boundschanged",()=>{this._markDirtyKey("stroke")})),this._disposers.push(n.events.on("positionchanged",()=>{this._markDirtyKey("stroke")})))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let t=this.get("strokeDasharray");L(t)&&(t<.5?t=[0]:t=[t]),this._display.setLineDash(t);let n=this.get("strokeDashoffset");n&&this._display.setLineDashOffset(n);let e=this.get("blendMode",Go.NORMAL);this._display.blendMode=e;let i=this.get("draw");i&&typeof i=="function"&&i(this._display,this);let r=this.get("svgPath");r!=null&&this._display.svgPath(r)}}_afterChanged(){if(super._afterChanged(),this._clear){let t=this.get("fill"),n=this.get("fillGradient"),e=this.get("fillPattern"),i=this.get("fillOpacity"),r=this.get("stroke"),o=this.get("strokeGradient"),s=this.get("strokePattern"),l=this.get("shadowColor"),c=this.get("shadowBlur"),d=this.get("shadowOffsetX"),p=this.get("shadowOffsetY"),g=this.get("shadowOpacity");if(l&&(c||d||p)&&this._display.shadow(l,c,d,p,g),t&&!n&&(this._display.beginFill(t,i),this._display.endFill()),n){if(t){let C=n.get("stops",[]);C.length&&k(C,b=>{(!b.color||b.colorInherited)&&t&&(b.color=t,b.colorInherited=!0),(b.opacity==null||b.opacityInherited)&&(b.opacity=i,b.opacityInherited=!0)})}let m=n.getFill(this);m&&(this._display.beginFill(m,i),this._display.endFill())}if(e){let m=e.pattern;m&&(this._display.beginFill(m,i),this._display.endFill(),e instanceof mr&&e.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}if(r||o||s){let m=this.get("strokeOpacity"),C=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(C=C/this.get("scale",1)),this.get("crisp")&&(C/=this._root._renderer.resolution);let b=this.get("lineJoin"),x=this.get("lineCap");if(r&&!o&&(this._display.lineStyle(C,r,m,b,x),this._display.endStroke()),o){let y=o.get("stops",[]);y.length&&k(y,O=>{(!O.color||O.colorInherited)&&r&&(O.color=r,O.colorInherited=!0),(O.opacity==null||O.opacityInherited)&&(O.opacity=m,O.opacityInherited=!0)});let w=o.getFill(this);w&&(this._display.lineStyle(C,w,m,b,x),this._display.endStroke())}if(s){let y=s.pattern;y&&(this._display.lineStyle(C,y,m,b,x),this._display.endStroke(),s instanceof mr&&s.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}};Object.defineProperty(Dt,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"});Object.defineProperty(Dt,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Gt.classNames.concat([Dt.className])});var Ci=class extends Dt{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){let t=this.width(),n=this.height(),e=0,i=0,r=t/Math.abs(t),o=n/Math.abs(n);if(this.get("containStroke",!1)){let s=this.get("strokeWidth",0);t-=s*r,n-=s*o,e+=s/2*r,i+=s/2*o}this._display.drawRect(e,i,t,n)}_updateSize(){this.markDirty(),this._clear=!0}};Object.defineProperty(Ci,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"});Object.defineProperty(Ci,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Dt.classNames.concat([Ci.className])});function Bi(a,t){a.get("reverseChildren",!1)?a.children.eachReverse(t):a.children.each(t)}var pi=class extends Je{};Object.defineProperty(pi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"});Object.defineProperty(pi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Je.classNames.concat([pi.className])});var _n=class extends pi{updateContainer(t){let n=t.get("paddingLeft",0),e=t.innerWidth(),i=0;Bi(t,o=>{if(o.isVisible()&&o.get("position")=="relative"){let s=o.get("width");if(s instanceof he){i+=s.value;let l=e*s.value,c=o.get("minWidth",o.getPrivate("minWidth",-1/0));c>l&&(e-=c,i-=s.value);let d=o.get("maxWidth",o.getPrivate("maxWidth",1/0));l>d&&(e-=d,i-=s.value)}else L(s)||(s=o.width()),e-=s+o.get("marginLeft",0)+o.get("marginRight",0)}}),(e<=0||e==1/0)&&(e=.1),Bi(t,o=>{if(o.isVisible()&&o.get("position")=="relative"){let s=o.get("width");if(s instanceof he){let l=e*s.value/i-o.get("marginLeft",0)-o.get("marginRight",0),c=o.get("minWidth",o.getPrivate("minWidth",-1/0)),d=o.get("maxWidth",o.getPrivate("maxWidth",1/0));l=Math.min(Math.max(c,l),d),o.setPrivate("width",l)}else o._prevSettings.width instanceof he&&o.setPrivate("width",void 0)}});let r=n;Bi(t,o=>{if(o.get("position")=="relative")if(o.isVisible()){let s=o.adjustedLocalBounds(),l=o.get("marginLeft",0),c=o.get("marginRight",0),d=o.get("maxWidth"),p=s.left,g=s.right;d&&g-p>d&&(g=p+d);let m=r+l-p;o.setPrivate("x",m),r=m+g+c}else o.setPrivate("x",void 0)})}};Object.defineProperty(_n,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"});Object.defineProperty(_n,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pi.classNames.concat([_n.className])});var bn=class extends pi{updateContainer(t){let n=t.get("paddingTop",0),e=t.innerHeight(),i=0;Bi(t,o=>{if(o.isVisible()&&o.get("position")=="relative"){let s=o.get("height");if(s instanceof he){i+=s.value;let l=e*s.value,c=o.get("minHeight",o.getPrivate("minHeight",-1/0));c>l&&(e-=c,i-=s.value);let d=o.get("maxHeight",o.getPrivate("maxHeight",1/0));l>d&&(e-=d,i-=s.value)}else L(s)||(s=o.height()),e-=s+o.get("marginTop",0)+o.get("marginBottom",0)}}),(e<=0||e==1/0)&&(e=.1),Bi(t,o=>{if(o.isVisible()&&o.get("position")=="relative"){let s=o.get("height");if(s instanceof he){let l=e*s.value/i-o.get("marginTop",0)-o.get("marginBottom",0),c=o.get("minHeight",o.getPrivate("minHeight",-1/0)),d=o.get("maxHeight",o.getPrivate("maxHeight",1/0));l=Math.min(Math.max(c,l),d),o.setPrivate("height",l)}else o._prevSettings.height instanceof he&&o.setPrivate("height",void 0)}});let r=n;Bi(t,o=>{if(o.get("position")=="relative")if(o.isVisible()){let s=o.adjustedLocalBounds(),l=o.get("marginTop",0),c=s.top,d=s.bottom,p=o.get("maxHeight");p&&d-c>p&&(d=c+p);let g=o.get("marginBottom",0),m=r+l-c;o.setPrivate("y",m),r=m+d+g}else o.setPrivate("y",void 0)})}};Object.defineProperty(bn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"});Object.defineProperty(bn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pi.classNames.concat([bn.className])});var Li=class extends pi{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(t){let n=t.get("paddingLeft",0),e=t.get("paddingRight",0),i=t.get("paddingTop",0),r=t.maxWidth()-n-e,o=r,s=1;Bi(t,C=>{if(C.get("visible")&&C.getPrivate("visible")&&!C.get("forceHidden")&&C.get("position")!="absolute"){let b=C.width();b<o&&(o=b),b>s&&(s=b)}}),o=bt(o,1,r),s=bt(s,1,r);let l=1;this.get("fixedWidthGrid")?l=r/s:l=r/o,l=Math.max(1,Math.floor(l)),l=Math.min(this.get("maxColumns",Number.MAX_VALUE),l);let c=this.getColumnWidths(t,l,s,r),d=i,p=0,g=0;l=c.length;let m=n;Bi(t,C=>{if(C.get("position")=="relative"&&C.isVisible()){let b=C.get("marginTop",0),x=C.get("marginBottom",0),y=C.adjustedLocalBounds(),w=C.get("marginLeft",0),O=C.get("marginRight",0),D=m+w-y.left,F=d+b-y.top;C.setPrivate("x",D),C.setPrivate("y",F),m+=c[p]+O,g=Math.max(g,C.height()+b+x),p++,p>=l&&(p=0,m=n,d+=g,g=0)}})}getColumnWidths(t,n,e,i){let r=0,o=[],s=0;return Bi(t,l=>{let c=l.adjustedLocalBounds();l.get("position")!="absolute"&&l.isVisible()&&(this.get("fixedWidthGrid")?o[s]=e:o[s]=Math.max(o[s]|0,c.right-c.left+l.get("marginLeft",0)+l.get("marginRight",0)),s<t.children.length-1&&(s++,s==n&&(s=0)))}),k(o,l=>{r+=l}),r>i?n>2?(n-=1,this.getColumnWidths(t,n,e,i)):[i]:o}};Object.defineProperty(Li,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"});Object.defineProperty(Li,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pi.classNames.concat([Li.className])});var jt=class{static escape(t){return t.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(t){return t.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(t){return t.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(t,n=!1,e=!1){let i=[];t=this.escape(t);let r=n?t.split("'"):[t];for(let o=0;o<r.length;o++){let s=r[o];if(s!=="")if(o%2===0){s=s.replace(/\]\[/g,"]"+Ri+"["),s=s.replace(/\[\]/g,"[ ]");let l=s.split(/[\[\]]+/);for(let c=0;c<l.length;c++){let d=this.cleanUp(this.unescape(l[c]));d!==Ri&&d!==""&&(c%2===0?i.push({type:"value",text:d}):i.push({type:e?"value":"format",text:"["+d+"]"}))}}else{let l=s.split(/[\[\]]+/);for(let c=0;c<l.length;c++){let d=this.cleanUp(this.unescape(l[c]));d!==""&&(c%2===0?i.push({type:"text",text:d}):this.isImage(d)?i.push({type:"image",text:"["+d+"]"}):i.push({type:"format",text:"["+d+"]"}))}}}return i}static isImage(t){return!!t.match(/img[ ]?:/)}static getTextStyle(t){let n={};if(t==""||t=="[ ]")return{};let e=t.match(/('[^']*')|("[^"]*")/gi);if(e)for(let r=0;r<e.length;r++)t=t.replace(e[r],e[r].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let i=t.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!i)return{};for(let r=0;r<i.length;r++)if(i[r].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))n.fontWeight=i[r];else if(i[r].match(/^(underline|line-through)$/i))n.textDecoration=i[r];else if(i[r]!="/")if(!i[r].match(/:/))n.fill=oe.fromString(i[r]);else{let o=i[r].replace("+"," ").split(/:[ ]*/);n[o[0]]=o[1]}return n}};Object.defineProperty(jt,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});function ur(a,t){if(t!=null){t=""+t,t=jt.escape(t);let n=t.match(/\{([^}]+)\}/g),e;if(n)for(e=0;e<n.length;e++){let i=n[e].replace(/\{([^}]+)\}/,"$1"),r=Wd(a,i,"");r==null&&(r=""),t=t.split(n[e]).join(r)}t=jt.unescape(t)}else t="";return t}function Wd(a,t,n){let e,i=a.dataItem,r=[],o=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g,s;for(;s=o.exec(t),s!==null;)if(s[3]){r.push({prop:s[3]});let l=a.getDateFormatter().get("dateFields",[]),c=a.getNumberFormatter().get("numericFields",[]),d=a.getDurationFormatter().get("durationFields",[]);l.indexOf(s[3])!==-1?r.push({method:"formatDate",params:[]}):c.indexOf(s[3])!==-1?r.push({method:"formatNumber",params:[]}):d.indexOf(s[3])!==-1&&r.push({method:"formatDuration",params:[]})}else{let l=[];if(or(s[2])!=""){let c=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,d;for(;d=c.exec(s[2]),d!==null;)l.push(d[1]||d[2]||d[3])}r.push({method:s[1],params:l})}if(i){e=$r(a,r,i._settings),(e==null||xn(e))&&(e=$r(a,r,i));let l=i.dataContext;e==null&&l&&(e=$r(a,r,l),e==null&&(e=$r(a,[{prop:t}],l)),e==null&&l.dataContext&&(e=$r(a,r,l.dataContext))),e==null&&i.component&&i.component.dataItem!==i&&(e=Wd(i.component,t,n))}return e==null&&(e=$r(a,r,a)),e==null&&a.parent&&(e=Wd(a.parent,t,n)),e}function Wy(a,t){let n=a.getPrivate("customData");if(xn(n))return n[t]}function $r(a,t,n,e){let i=n,r=!1;for(let o=0,s=t.length;o<s;o++){let l=t[o];if(l.prop){if(i instanceof Gt){let c=i.get(l.prop);c==null&&(c=i.getPrivate(l.prop)),c==null&&(c=Wy(i,l.prop)),c==null&&(c=i[l.prop]),i=c}else if(i.get){let c=i.get(l.prop);c==null&&(c=i[l.prop]),i=c}else i=i[l.prop];if(i==null)return}else switch(l.method){case"formatNumber":let c=Ht(i);c!=null&&(i=a.getNumberFormatter().format(c,e||l.params[0]||void 0),r=!0);break;case"formatDate":let d=$p(i);if(!Dl(d)||kl(d.getTime()))return;d!=null&&(i=a.getDateFormatter().format(d,e||l.params[0]||void 0),r=!0);break;case"formatDuration":let p=Ht(i);p!=null&&(i=a.getDurationFormatter().format(p,e||l.params[0]||void 0,l.params[1]||void 0),r=!0);break;case"urlEncode":case"encodeURIComponent":i=encodeURIComponent(i);break;default:i[l.method]&&i[l.method].apply(n,l.params);break}}if(!r){let o=[{method:"",params:e}];if(e==null)L(i)?(o[0].method="formatNumber",o[0].params=""):Dl(i)&&(o[0].method="formatDate",o[0].params="");else{let s=sg(e);s==="number"?o[0].method="formatNumber":s==="date"?o[0].method="formatDate":s==="duration"&&(o[0].method="formatDuration")}o[0].method&&(i=$r(a,o,i))}return i}var Re=class a extends Gt{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new Bl(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_childrenPrep",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_childrenUpdt",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_afterChanged(){super._afterChanged(),this._childrenPrep=!1,this._childrenUpdt=!1}_dispose(){rr(this.allChildren(),t=>{t.dispose()}),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_beforeChanged(){this._childrenPrep||this._prepareChildren(),this._childrenUpdt||this._updateChildren(),super._beforeChanged()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each(t=>{t.removePrivate("x"),t.removePrivate("y")})),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each(t=>{t.markDirtyPosition()}),this.isDirty("maskContent")){let t=this._childrenDisplay,n=this._contentMask;this.get("maskContent")?n||(n=Ci.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=n,t.addChildAt(n._display,0),t.mask=n._display):n&&(t.removeChild(n._display),t.mask=null,n.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),k(this._percentageSizeChildren,t=>{t._updateSize()}),k(this._percentagePositionChildren,t=>{t.markDirtyPosition(),t._updateSize()}),this.updateBackground()}updateBackground(){let t=this.get("background"),n=this._localBounds;if(n&&!this.isHidden()){let e=n.left,i=n.top,r=n.right-e,o=n.bottom-i,s=this.get("maxWidth"),l=this.get("maxHeight");l&&o>l&&(o=l),s&&r>s&&(r=s);let c=this.width(),d=this.height();t&&(t.setAll({width:r,height:o,x:e,y:i}),this._display.interactive&&(t._display.interactive=!0));let p=this._contentMask;p&&p.setAll({width:c+1,height:d+1});let g=this.get("verticalScrollbar");if(g){g.set("height",d),g.set("x",c-g.width()-g.get("marginRight",0)),g.set("end",g.get("start",0)+d/this._contentHeight);let m=g.get("background");m&&m.setAll({width:g.width(),height:d});let C=!0;this._contentHeight<=d&&(C=!1),g.setPrivate("visible",C)}}}_applyThemes(t=!1){return super._applyThemes(t)?(this.eachChildren(n=>{n._applyThemes(t)}),!0):!1}_applyState(t){super._applyState(t),this.get("setStateOnChildren")&&this.eachChildren(n=>{n.states.apply(t)})}_applyStateAnimated(t,n){super._applyStateAnimated(t,n),this.get("setStateOnChildren")&&this.eachChildren(e=>{e.states.applyAnimate(t,n)})}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){if(this.get("html")){let t=this._localBounds;t&&(this._contentWidth=t.right-t.left,this._contentHeight=t.bottom-t.top)}else{let t=this.get("width"),n=this.get("height"),e=this.getPrivate("width"),i=this.getPrivate("height"),r={left:0,top:0,right:this.width(),bottom:this.height()},o=this.get("layout"),s=!1,l=!1;if((o instanceof _n||o instanceof Li)&&(s=!0),o instanceof bn&&(l=!0),!((t!=null||e!=null)&&(n!=null||i!=null)&&!this.get("verticalScrollbar"))){let c=Number.MAX_VALUE,d=c,p=-c,g=c,m=-c,C=this.get("paddingLeft",0),b=this.get("paddingTop",0),x=this.get("paddingRight",0),y=this.get("paddingBottom",0);this.children.each(D=>{if(D.get("position")!="absolute"&&D.get("isMeasured")){let F=D.adjustedLocalBounds(),ie=D.x(),G=D.y(),se=ie+F.left,de=ie+F.right,ae=G+F.top,q=G+F.bottom;s&&(se-=D.get("marginLeft",0),de+=D.get("marginRight",0)),l&&(ae-=D.get("marginTop",0),q+=D.get("marginBottom",0)),se<d&&(d=se),de>p&&(p=de),ae<g&&(g=ae),q>m&&(m=q)}}),d==c&&(d=0),p==-c&&(p=0),g==c&&(g=0),m==-c&&(m=0),r.left=d-C,r.top=g-b,r.right=p+x,r.bottom=m+y;let w=this.get("minWidth");L(w)&&w>0&&r.right-r.left<w&&(r.right>=w?r.left=r.right-w:r.right=r.left+w);let O=this.get("minHeight");L(O)&&O>0&&r.bottom-r.top<O&&(r.bottom>=O?r.top=r.bottom-O:r.bottom=r.top+O)}this._contentWidth=r.right-r.left,this._contentHeight=r.bottom-r.top,L(t)&&(r.left=0,r.right=t),L(e)&&(r.left=0,r.right=e),L(n)&&(r.top=0,r.bottom=n),L(i)&&(r.top=0,r.bottom=i),this._localBounds=r}}_updateBounds(){let t=this.get("layout");t&&t.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){this._childrenPrep=!0;let t=this.innerWidth(),n=this.innerHeight();if(t!=this._prevWidth||n!=this._prevHeight){let e=this.get("layout"),i=!1,r=!1;e&&((e instanceof _n||e instanceof Li)&&(i=!0),e instanceof bn&&(r=!0)),k(this._percentageSizeChildren,o=>{if(!i){let s=o.get("width");s instanceof he&&o.setPrivate("width",s.value*t)}if(!r){let s=o.get("height");s instanceof he&&o.setPrivate("height",s.value*n)}}),k(this._percentagePositionChildren,o=>{o.markDirtyPosition(),o.markDirtyBounds()}),this._prevWidth=t,this._prevHeight=n,this._sizeDirty=!0,this.updateBackground()}}_updateHTMLContent(){let t=this.get("html","");t&&t!==""?this._root._setHTMLContent(this,ur(this,t)):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}scrollToChild(t){let n=this.get("verticalScrollbar");if(n){let e=t.y(),i=this.innerHeight(),r=t.height(),o=this._contentHeight,s=1-(i-r/2)/o;if(e+r*.7+this._childrenDisplay.y>i||e-r*.3+this._childrenDisplay.y<0){let l=Math.max(0,Math.min(s,(e-r/2)/o));n.animate({key:"start",to:l,duration:n.get("animationDuration",0),easing:n.get("animationEasing")})}}}_updateChildren(){if(this._childrenUpdt=!0,this.isDirty("html")&&this._updateHTMLContent(),this.isDirty("verticalScrollbar")){let t=this.get("verticalScrollbar");if(t){t._setParent(this),t.startGrip.setPrivate("visible",!1),t.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",t.width()+t.get("marginRight",0)+t.get("marginLeft",0));let n=this.get("background");n||(n=this.set("background",Ci.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",e=>{let i=e.originalEvent;if(ng(i,this))i.preventDefault();else return;let r=i.deltaY/5e3,o=t.get("start",0),s=t.get("end",1);o+r<=0&&(r=-o),s+r>=1&&(r=1-s),o+r>=0&&s+r<=1&&(t.set("start",o+r),t.set("end",s+r))}),this._disposers.push(this._vsbd0),this._vsbd1=t.events.on("rangechanged",()=>{let e=this._contentHeight,i=this._childrenDisplay,r=this._contentMask;i.y=-t.get("start",0)*e,i.markDirtyLayer(),r&&(r._display.y=-i.y,i.mask=r._display)}),this._disposers.push(this._vsbd1),this._display.addChild(t._display)}else{let n=this._prevSettings.verticalScrollbar;if(n){this._display.removeChild(n._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose();let e=this._childrenDisplay;e.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0)}}}if(this.isDirty("background")){let t=this._prevSettings.background;t&&this._display.removeChild(t._display);let n=this.get("background");n instanceof Gt&&(n.set("isMeasured",!1),n._setParent(this),this._display.addChildAt(n._display,0))}if(this.isDirty("mask")){let t=this.get("mask"),n=this._prevSettings.mask;if(n&&(this._display.removeChild(n._display),n!=t&&n.dispose()),t){let e=t.parent;e&&e.children.removeValue(t),t._setParent(this),this._display.addChildAt(t._display,0),this._childrenDisplay.mask=t._display}}}_processTemplateField(){super._processTemplateField(),this.children.each(t=>{t._processTemplateField()})}walkChildren(t){this.children.each(n=>{n instanceof a&&n.walkChildren(t),t(n)})}eachChildren(t){let n=this.get("background");n&&t(n);let e=this.get("verticalScrollbar");e&&t(e);let i=this.get("mask");i&&t(i),this.children.values.forEach(r=>{t(r)})}allChildren(){let t=[];return this.eachChildren(n=>{t.push(n)}),t}_setDataItem(t){let n=t!==this._dataItem;super._setDataItem(t);let e=this.get("html","");e&&e!==""&&n&&this._root._setHTMLContent(this,ur(this,e))}contentWidth(){return this._contentWidth}contentHeight(){return this._contentHeight}};Object.defineProperty(Re,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"});Object.defineProperty(Re,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Gt.classNames.concat([Re.className])});var ji=class extends Gt{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","maxChars"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){if(this.get("text")){super._updateBounds();let t=this.get("fillGradient");t&&(this._display.style.fill=t.getFill(this))}else{let t={left:0,right:0,top:0,bottom:0};this._adjustedLocalBounds=t}}_changed(){super._changed(),this._display.clear();let t=this.textStyle;if(this.isDirty("opacity")){let n=this.get("opacity",1);this._display.alpha=n}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),this.get("role")=="tooltip"&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")&&this.getPrivate("tooltipElement")&&this._disposers.push(new qe(()=>{this._root._removeTooltipElement(this)})),this.isDirty("width")&&(t.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(t.oversizedBehavior=this.get("oversizedBehavior","none"),this._display.invalidateVisibility(),this.markDirtyBounds()),this.isDirty("breakWords")&&(t.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(t.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(t.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(t.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")||this.isDirty("fillGradient")){let n=this.get("fill"),e=this.get("fillGradient"),i=this.get("fillOpacity");if(e){if(n){let r=e.get("stops",[]);r.length&&k(r,o=>{(!o.color||o.colorInherited)&&n&&(o.color=n,o.colorInherited=!0),(o.opacity==null||o.opacityInherited)&&(o.opacity=i,o.opacityInherited=!0)})}t.fill=e.getFill(this)}else n&&(t.fill=n)}if(this.isDirty("fillOpacity")){let n=this.get("fillOpacity",1);n&&(t.fillOpacity=n)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(t.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(t.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),k(this._textStyles,n=>{this._dirty[n]&&(t[n]=this.get(n),this.markDirtyBounds())}),t.fontSize=this.get("fontSize"),t.fontFamily=this.get("fontFamily"),this._display.style=t,this.isDirty("role")&&this.get("role")=="tooltip"&&this._root.updateTooltip(this)}_getText(){let t=this.get("text","");return this.get("maxChars")&&(t=og(t,this.get("maxChars",1e8),this.get("breakWords"),this.get("ellipsis"))),this.get("populateText")?ur(this,t):t}_getAccessibleText(){let t=this.get("ariaLabel");return t!==void 0?this.get("populateText")?ur(this,t):t:this._getText()}markDirtyText(){this._display.text=this._getText(),this.get("role")=="tooltip"&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(t){super._setDataItem(t),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}};Object.defineProperty(ji,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"});Object.defineProperty(ji,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Gt.classNames.concat([ji.className])});var Xd=class{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(t=>{k(t,n=>{k(this._targets,e=>{e.target===n.target&&e.callback()})})})}addTarget(t,n){this._observer.observe(t,{box:"border-box"}),this._targets.push({target:t,callback:n})}removeTarget(t){this._observer.unobserve(t),Lr(this._targets,n=>n.target!==t)}},$l=class a{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(t,n){if(this._timer===null){let i=null,r=()=>{let o=Date.now();(i===null||o>i+a.delay)&&(i=o,k(this._targets,s=>{let l=s.target.getBoundingClientRect();(l.width!==s.size.width||l.height!==s.size.height)&&(s.size=l,s.callback())})),this._targets.length===0?this._timer=null:this._timer=requestAnimationFrame(r)};this._timer=requestAnimationFrame(r)}let e={width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0};this._targets.push({target:t,callback:n,size:e})}removeTarget(t){Lr(this._targets,n=>n.target!==t),this._targets.length===0&&this._timer!==null&&(cancelAnimationFrame(this._timer),this._timer=null)}};Object.defineProperty($l,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});var Vl=null;function Xy(){return Vl===null&&(typeof ResizeObserver<"u"?Vl=new Xd:Vl=new $l),Vl}var zl=class{constructor(t,n){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=Xy(),this._element=t,this._listener=Al(n),this._sensor.addTarget(t,n)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}};var zr=class extends Je{};Object.defineProperty(zr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"});Object.defineProperty(zr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Je.classNames.concat([zr.className])});var si=class extends Re{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillGradient","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting","maxChars","ariaLabel"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),k(this._textKeys,t=>{let n=this.get(t);n!=null&&this._text.set(t,n)}),this.get("html","")!==""&&this._text.set("text",""),this.onPrivate("maxWidth",()=>{this._setMaxDimentions()}),this.onPrivate("maxHeight",()=>{this._setMaxDimentions()})}_makeText(){this._text=this.children.push(ji.new(this._root,{}))}_updateChildren(){super._updateChildren();let t=this._text;if(k(this._textKeys,e=>{this._text.set(e,this.get(e))}),(this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isDirty("rotation"))&&this._setMaxDimentions(),this.get("html","")!==""?t.set("text",""):(t.set("text",this.get("text")),this._maybeUpdateHTMLColor()),(this.isDirty("fill")||this.isDirty("fillGradient"))&&this._maybeUpdateHTMLColor(),this.isDirty("textAlign")||this.isDirty("width")){let e=this.get("textAlign"),i;this.get("width")!=null?e=="right"?i=fe:e=="center"?i=pe:i=0:e=="left"||e=="start"?i=this.get("paddingLeft",0):(e=="right"||e=="end")&&(i=-this.get("paddingRight",0)),t.set("x",i)}let n=this.get("background");n&&n.setPrivate("visible",t._display.textVisible)}_maybeUpdateHTMLColor(){let t=this.getPrivate("htmlElement");t&&this.get("fill")&&(t.style.color=this.get("fill").toCSSHex())}_setMaxDimentions(){let t=this.get("rotation"),n=t==90||t==270||t==-90,e=this._text,i=this.get("maxWidth",this.getPrivate("maxWidth",1/0));L(i)?e.set(n?"maxHeight":"maxWidth",i-this.get("paddingTop",0)-this.get("paddingBottom",0)):e.set(n?"maxHeight":"maxWidth",void 0);let r=this.get("maxHeight",this.getPrivate("maxHeight",1/0));L(r)?e.set(n?"maxWidth":"maxHeight",r-this.get("paddingLeft",0)-this.get("paddingRight",0)):e.set(n?"maxWidth":"maxHeight",void 0),this.root.events.once("frameended",()=>{e.markDirtyBounds()})}_setDataItem(t){super._setDataItem(t),this._markDirtyKey("text"),this._markDirtyKey("html");let n=this._text;n.get("populateText")&&n.markDirtyText();let e=this.get("html");e&&e!==""&&this._updateHTMLContent()}getText(){return this._text._getText()}getAccessibleText(){return this._text._getAccessibleText()}};Object.defineProperty(si,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"});Object.defineProperty(si,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([si.className])});var Dn=class extends Dt{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let t=this.width(),n=this.height();if(t>0&&n>0){let e=this.get("cornerRadius",8);e=bt(e,0,Math.min(t/2,n/2));let i=this.get("pointerX",0),r=this.get("pointerY",0),o=this.get("pointerBaseWidth",15)/2,s=0,l=0,c=t,d=0,p=t,g=n,m=0,C=n,b=(i-s)*(g-l)-(r-l)*(p-s),x=(i-m)*(d-C)-(r-C)*(c-m),y=this._display;if(y.moveTo(e,0),b>0&&x>0){let w=Math.round(bt(i,e+o,t-o-e));r=bt(r,-1/0,0),y.lineTo(w-o,0),y.lineTo(i,r),y.lineTo(w+o,0)}if(y.lineTo(t-e,0),y.arcTo(t,0,t,e,e),b>0&&x<0){let w=Math.round(bt(r,e+o,n-o-e));i=bt(i,t,1/0),y.lineTo(t,e),y.lineTo(t,Math.max(w-o,e)),y.lineTo(i,r),y.lineTo(t,w+o)}if(y.lineTo(t,n-e),y.arcTo(t,n,t-e,n,e),b<0&&x<0){let w=Math.round(bt(i,e+o,t-o-e));r=bt(r,n,1/0),y.lineTo(t-e,n),y.lineTo(w+o,n),y.lineTo(i,r),y.lineTo(w-o,n)}if(y.lineTo(e,n),y.arcTo(0,n,0,n-e,e),b<0&&x>0){let w=Math.round(bt(r,e+o,n-e-o));i=bt(i,-1/0,0),y.lineTo(0,n-e),y.lineTo(0,w+o),y.lineTo(i,r),y.lineTo(0,Math.max(w-o,e))}y.lineTo(0,e),y.arcTo(0,0,e,0,e),y.closePath()}}}};Object.defineProperty(Dn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"});Object.defineProperty(Dn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Dt.classNames.concat([Dn.className])});var Sn=class extends Re{constructor(t,n,e,i=[]){super(t,n,e,i),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillGrDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._settings.themeTags=Mn(this._settings.themeTags,["tooltip"]),super._afterNew(),this._setDefaultFn("background",()=>Dn.new(this._root,{})).set("themeTags",["tooltip","background"]),this._label=this.children.push(si.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",()=>{this._updateBackground()})),this._disposers.push(this.on("bounds",()=>{this._updateBackground()})),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",n=>{n&&(this._disposers.push(nt(n,"pointerover",e=>{this._htmlContentHovered=!0})),this._disposers.push(nt(n,"pointerout",e=>{this._htmlContentHovered=!1})))})),this.on("visible",n=>{this._handleReaderAnnouncement()}),this.label.events.on("dataitemchanged",n=>{this._handleReaderAnnouncement()}),this._root._tooltips.push(this)}_handleReaderAnnouncement(){this.get("readerAnnounce")&&this.isVisibleDeep()&&this._root.readerAlert(this.label.getAccessibleText())}get label(){return this._label}_dispose(){super._dispose(),Fi(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),this.get("labelText")!=null&&this.label.set("text",this.get("labelText")),this.get("labelHTML")!=null&&this.label.set("html",this.get("labelHTML")),this.get("labelAriaLabel")!=null&&this.label.set("ariaLabel",this.get("labelAriaLabel"))}_changed(){if(super._changed(),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){let n=this.get("background");this._keepHoverDp=new kt([n.events.on("pointerover",e=>{let i=this.get("tooltipTarget");i&&(i.parent&&i.parent.getPrivate("tooltipTarget")==i&&(i=i.parent),i.hover())}),n.events.on("pointerout",e=>{let i=this.get("tooltipTarget");i&&(i.parent&&i.parent.getPrivate("tooltipTarget")==i&&(i=i.parent),this._htmlContentHovered||i.unhover())})]),this.label.onPrivate("htmlElement",e=>{this._keepHoverDp&&e&&this._keepHoverDp.disposers.push(nt(e,"pointerleave",i=>{let r=this.root._renderer.getEvent(i);n.events.dispatch("pointerout",{type:"pointerout",originalEvent:r.event,point:r.point,simulated:!1,target:n})}))})}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let t=this.get("tooltipTarget"),n=this.get("background"),e,i;if(t&&n){if(e=t.get("fill"),i=t.get("stroke"),e==null&&(e=i),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),e!=null&&n.set("fill",e),this._fillDp=t.on("fill",r=>{r!=null&&(n.set("fill",r),this._updateTextColor(r))}),this._disposers.push(this._fillDp)),this.get("getFillGradientFromSprite")){this._fillGrDp&&this._fillGrDp.dispose();let r=t.get("fillGradient");r!=null&&n.set("fillGradient",r),this._fillGrDp=t.on("fillGradient",o=>{o!=null&&n.set("fillGradient",o)}),this._disposers.push(this._fillGrDp)}this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),e!=null&&n.set("stroke",e),this._strokeDp=t.on("fill",r=>{r!=null&&n.set("stroke",r)}),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),e!=null&&this.label.set("fill",e),this._labelDp=t.on("fill",r=>{r!=null&&this.label.set("fill",r)}),this._disposers.push(this._labelDp))}this._updateTextColor(e)}_updateTextColor(t){this.get("autoTextColor")&&(t==null&&(t=this.get("background").get("fill")),t==null&&(t=this._root.interfaceColors.get("background")),t instanceof oe&&this.label.set("fill",oe.alternative(t,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(t){super._setDataItem(t),this.label._setDataItem(t)}_updateBackground(){super.updateBackground();let t=this._root.container;if(t){let n=.5,e=.5,i=this.get("centerX");i instanceof he&&(n=i.value);let r=this.get("centerY");r instanceof he&&(e=r.value);let o=t.width(),s=t.height(),l=this.parent,c=0,d=0;if(l){c=l.x(),d=l.y();let q=l.get("layerMargin");q&&(c+=q.left||0,d+=q.top||0,o+=(q.left||0)+(q.right||0),s+=(q.top||0)+(q.bottom||0))}let p=this.get("bounds",{left:-c,top:-d,right:o-c,bottom:s-d});this._updateBounds();let g=this.width(),m=this.height();g===0&&(g=this._w),m===0&&(m=this._h);let C=this.get("pointTo",{x:o/2,y:s/2}),b=C.x,x=C.y,y=this.get("pointerOrientation"),w=this.get("background"),O=0,D=0,F=0;w instanceof Dn&&(O=w.get("pointerLength",0),D=w.get("strokeWidth",0)/2,F=D,w.set("width",g),w.set("height",m));let ie=0,G=0,se=p.right-p.left,de=p.bottom-p.top;y=="horizontal"||y=="left"||y=="right"?(D=0,y=="horizontal"?b>p.left+se/2?(b-=g*(1-n)+O,F*=-1):b+=g*n+O:y=="left"?b+=g*(1-n)+O:(b-=g*n+O,F*=-1)):(F=0,y=="vertical"?x>p.top+m/2+O?x-=m*(1-e)+O:(x+=m*e+O,D*=-1):y=="down"?x-=m*(1-e)+O:(x+=m*e+O,D*=-1)),b=bt(b,p.left+g*n,p.left+se-g*(1-n))+F,x=bt(x,p.top+m*e,p.top+de-m*(1-e))-D,ie=C.x-b+g*n+F,G=C.y-x+m*e-D,this._fx=b,this._fy=x;let ae=this.get("animationDuration",0);if(ae>0&&this.get("visible")&&this.get("opacity")>.1){let q=this.get("animationEasing");this.animate({key:"x",to:b,duration:ae,easing:q}),this.animate({key:"y",to:x,duration:ae,easing:q})}else this.set("x",b),this.set("y",x);w instanceof Dn&&(w.set("pointerX",ie),w.set("pointerY",G)),g>0&&(this._w=g),m>0&&(this._h=m)}}};Object.defineProperty(Sn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"});Object.defineProperty(Sn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([Sn.className])});var Hl=class extends Je{_setDefaults(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);let t="_big_number_suffix_",n="_small_number_suffix_",e="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(t+"3")},{number:1e6,suffix:this._t(t+"6")},{number:1e9,suffix:this._t(t+"9")},{number:1e12,suffix:this._t(t+"12")},{number:1e15,suffix:this._t(t+"15")},{number:1e18,suffix:this._t(t+"18")},{number:1e21,suffix:this._t(t+"21")},{number:1e24,suffix:this._t(t+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(n+"24")},{number:1e-21,suffix:this._t(n+"21")},{number:1e-18,suffix:this._t(n+"18")},{number:1e-15,suffix:this._t(n+"15")},{number:1e-12,suffix:this._t(n+"12")},{number:1e-9,suffix:this._t(n+"9")},{number:1e-6,suffix:this._t(n+"6")},{number:.001,suffix:this._t(n+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(e+"B")},{number:1024,suffix:this._t(e+"KB")},{number:1048576,suffix:this._t(e+"MB")},{number:1073741824,suffix:this._t(e+"GB")},{number:1099511627776,suffix:this._t(e+"TB")},{number:0x4000000000000,suffix:this._t(e+"PB")}]),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(t,n,e){(n==null||Qi(n)&&n.toLowerCase()==="number")&&(n=this.get("numberFormat",""));let i,r=Number(t);if(xn(n))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),n).format(r):new Intl.NumberFormat(void 0,n).format(r)}catch{return"Invalid"}else{n=Ta(n);let o=this.parseFormat(n,this._root.language),s;r>this.get("negativeBase")?s=o.positive:r<this.get("negativeBase")?s=o.negative:s=o.zero,e!=null&&!s.mod&&(s=Kp(s),s.decimals.active=r==0?0:e),i=s.template.split(Ri).join(this.applyFormat(r,s))}return this.get("forceLTR")===!0&&(i="\u200E"+i),i}parseFormat(t,n){let e=n.translateEmpty("_thousandSeparator"),i=n.translateEmpty("_decimalSeparator"),r={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:e},decimals:{active:-1,passive:-1,separator:i},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:e},decimals:{active:-1,passive:-1,separator:i},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:e},decimals:{active:-1,passive:-1,separator:i},template:"",source:"",parsed:!1}};t=t.replace("||",ir);let o=t.split("|");return r.positive.source=o[0],typeof o[2]>"u"?r.zero=r.positive:r.zero.source=o[2],typeof o[1]>"u"?r.negative=r.positive:r.negative.source=o[1],Ve(r,(s,l)=>{if(l.parsed)return;let c=l.source;c.toLowerCase()==="number"&&(c=this.get("numberFormat","#,###.#####"));let d=jt.chunk(c,!0);for(let p=0;p<d.length;p++){let g=d[p];if(g.text=g.text.replace(ir,"|"),g.type==="value"){let m=g.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP!]?/);if(m)if(m===null||m[0]==="")l.template+=g.text;else{let C=m[0].match(/[abespABESP%!]{2}|[abespABESP%]{1}$/);C&&(l.mod=C[0].toLowerCase(),l.modSpacing=!!m[0].match(/[ ]{1}[abespABESP%!]{1}$/));let b=m[0].split(".");if(b[0]!==""){l.thousands.active=(b[0].match(/0/g)||[]).length,l.thousands.passive=(b[0].match(/\#/g)||[]).length+l.thousands.active;let x=b[0].split(",");x.length===1||(l.thousands.interval=(x.pop()||"").length,l.thousands.interval===0&&(l.thousands.interval=-1))}typeof b[1]>"u"||(l.decimals.active=(b[1].match(/0/g)||[]).length,l.decimals.passive=(b[1].match(/\#/g)||[]).length+l.decimals.active),l.template+=g.text.split(m[0]).join(Ri)}}else l.template+=g.text}l.parsed=!0}),r}applyFormat(t,n){let e=t<0;t=Math.abs(t);let i="",r="",o=n.mod?n.mod.split(""):[];if(o.indexOf("b")!==-1){let p=this.applyPrefix(t,this.get("bytePrefixes"),o.indexOf("!")!==-1);t=p[0],i=p[1],r=p[2],n.modSpacing&&(r=" "+r)}else if(o.indexOf("a")!==-1){let p=this.applyPrefix(t,t<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),o.indexOf("!")!==-1);t=p[0],i=p[1],r=p[2],n.modSpacing&&(r=" "+r)}else if(o.indexOf("p")!==-1){let p=Math.min(t.toString().length+2,21);t=parseFloat(t.toPrecision(p)),i=this._root.language.translate("_percentPrefix"),r=this._root.language.translate("_percentSuffix"),i==""&&r==""&&(r="%")}else if(o.indexOf("%")!==-1){let p=Math.min(t.toString().length+2,21);t*=100,t=parseFloat(t.toPrecision(p)),r="%"}else if(o.indexOf("\u2030")!==-1){let p=Math.min(t.toString().length+3,21);t*=1e3,t=parseFloat(t.toPrecision(p)),r="\u2030"}if(o.indexOf("e")!==-1){let p;n.decimals.passive>=0?p=t.toExponential(n.decimals.passive).split("e"):p=t.toExponential().split("e"),t=Number(p[0]),r="e"+p[1],n.modSpacing&&(r=" "+r)}else if(n.decimals.passive===0)t=Math.round(t);else if(n.decimals.passive>0){let p=ag(t);if(p>0){let g=Math.pow(10,n.decimals.passive);t=Math.round(parseFloat((t*g).toFixed(p)))/g}}let s="",l=zp(t).split("."),c=l[0];if(c.length<n.thousands.active&&(c=Array(n.thousands.active-c.length+1).join("0")+c),n.thousands.interval>0){let p=[],g=c.split("").reverse().join("");for(let m=0,C=c.length;m<=C;m+=n.thousands.interval){let b=g.substr(m,n.thousands.interval).split("").reverse().join("");b!==""&&p.unshift(b)}c=p.join(n.thousands.separator)}s+=c,l.length===1&&l.push("");let d=l[1];return d.length<n.decimals.active&&(d+=Array(n.decimals.active-d.length+1).join("0")),d!==""&&(s+=n.decimals.separator+d),s===""&&(s="0"),t!==0&&e&&o.indexOf("s")===-1&&(s="-"+s),i&&(s=i+s),r&&(s+=r),s}applyPrefix(t,n,e=!1){let i=t,r="",o="",s=!1,l=1;for(let c=0,d=n.length;c<d;c++)n[c].number<=t&&(n[c].number===0?i=0:(i=t/n[c].number,l=n[c].number),r=n[c].prefix,o=n[c].suffix,s=!0);return!s&&e&&n.length&&t!=0&&(i=t/n[0].number,r=n[0].prefix,o=n[0].suffix,s=!0),s&&(i=parseFloat(i.toPrecision(Math.min(l.toString().length+Math.floor(i).toString().replace(/[^0-9]*/g,"").length,21)))),[i,r,o]}escape(t){return t.replace("||",ir)}unescape(t){return t.replace(ir,"|")}};function Mg(a,t){let n=0,e=0,i=1,r=0,o=0,s=0,l=0,c=0;return a.formatToParts(t).forEach(d=>{switch(d.type){case"year":n=+d.value;break;case"month":e=+d.value-1;break;case"day":i=+d.value;break;case"hour":r=+d.value;break;case"minute":o=+d.value;break;case"second":s=+d.value;break;case"fractionalSecond":l=+d.value;break;case"weekday":switch(d.value){case"Sun":c=0;break;case"Mon":c=1;break;case"Tue":c=2;break;case"Wed":c=3;break;case"Thu":c=4;break;case"Fri":c=5;break;case"Sat":c=6;break}}}),r===24&&(r=0),{year:n,month:e,day:i,hour:r,minute:o,second:s,millisecond:l,weekday:c}}function wg(a,t){let{year:n,month:e,day:i,hour:r,minute:o,second:s,millisecond:l}=Mg(a,t);return Date.UTC(n,e,i,r,o,s,l)}var Ul=class{constructor(t,n){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!n)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=t,this._utc=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(t){return new this(t,!0)}convertLocal(t){let n=this.offsetUTC(t),e=t.getTimezoneOffset(),i=new Date(t);i.setUTCMinutes(i.getUTCMinutes()-(n-e));let r=i.getTimezoneOffset();return e!=r&&i.setUTCMinutes(i.getUTCMinutes()+r-e),i}offsetUTC(t){let n=wg(this._utc,t),e=wg(this._dtf,t);return(n-e)/6e4}parseDate(t){return Mg(this._dtf,t)}};var Gl=class extends Je{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(t,n,e=!1){(typeof n>"u"||n==="")&&(n=this.get("dateFormat","yyyy-MM-dd"));let i,r=t;if(xn(n))try{let c=this.get("intlLocales");return c?new Intl.DateTimeFormat(c,n).format(r):new Intl.DateTimeFormat(void 0,n).format(r)}catch{return"Invalid"}let o=this.parseFormat(n),s=this._root.timezone,l=r;return s&&!this._root.utc&&!e&&(r=s.convertLocal(r)),L(r.getTime())?(i=this.applyFormat(r,o,e,l),this.get("capitalize")&&(i=i.replace(/^.{1}/,i.substr(0,1).toUpperCase())),i):"Invalid date"}applyFormat(t,n,e=!1,i){let r=n.template,o,s,l,c,d,p,g,m,C=t.getTime();this._root.utc&&!e?(o=t.getUTCFullYear(),s=t.getUTCMonth(),l=t.getUTCDay(),c=t.getUTCDate(),d=t.getUTCHours(),p=t.getUTCMinutes(),g=t.getUTCSeconds(),m=t.getUTCMilliseconds()):(o=t.getFullYear(),s=t.getMonth(),l=t.getDay(),c=t.getDate(),d=t.getHours(),p=t.getMinutes(),g=t.getSeconds(),m=t.getMilliseconds());for(let b=0,x=n.parts.length;b<x;b++){let y="";switch(n.parts[b]){case"G":y=this._t(o<0?"_era_bc":"_era_ad");break;case"yyyy":y=Math.abs(o).toString(),o<0&&(y+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":y=Math.abs(o).toString().substr(-n.parts[b].length),o<0&&(y+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let w=cg(t,this._root.utc);n.parts[b]=="YYYY"?y=Math.abs(w).toString():y=Math.abs(w).toString().substr(-n.parts[b].length),w<0&&(y+=this._t("_era_bc"));break;case"u":break;case"q":y=""+Math.ceil((t.getMonth()+1)/3);break;case"MMMMM":y=this._t(this._getMonth(s)).substr(0,1);break;case"MMMM":y=this._t(this._getMonth(s));break;case"MMM":y=this._t(this._getShortMonth(s));break;case"MM":y=at(s+1,2,"0");break;case"M":y=(s+1).toString();break;case"ww":y=at(Bo(t,this._root.utc),2,"0");break;case"w":y=Bo(t,this._root.utc).toString();break;case"W":y=dg(t,this._root.utc).toString();break;case"dd":y=at(c,2,"0");break;case"d":y=c.toString();break;case"DD":case"DDD":y=at(Td(t,this._root.utc).toString(),n.parts[b].length,"0");break;case"D":y=Td(t,this._root.utc).toString();break;case"F":break;case"g":break;case"t":y=this._root.language.translateFunc("_dateOrd").call(this,c);break;case"E":y=(l||7).toString();break;case"EE":y=at((l||7).toString(),2,"0");break;case"EEE":case"eee":y=this._t(this._getShortWeekday(l));break;case"EEEE":case"eeee":y=this._t(this._getWeekday(l));break;case"EEEEE":case"eeeee":y=this._t(this._getShortWeekday(l)).substr(0,1);break;case"e":case"ee":y=(l-(this._root.locale.firstDayOfWeek||1)+1).toString(),n.parts[b]=="ee"&&(y=at(y,2,"0"));break;case"a":d>=12?y=this._t("PM"):y=this._t("AM");break;case"aa":d>=12?y=this._t("P.M."):y=this._t("A.M.");break;case"aaa":d>=12?y=this._t("P"):y=this._t("A");break;case"h":y=No(d).toString();break;case"hh":y=at(No(d),2,"0");break;case"H":y=d.toString();break;case"HH":y=at(d,2,"0");break;case"K":y=No(d,0).toString();break;case"KK":y=at(No(d,0),2,"0");break;case"k":y=(d+1).toString();break;case"kk":y=at(d+1,2,"0");break;case"m":y=p.toString();break;case"mm":y=at(p,2,"0");break;case"s":y=g.toString();break;case"ss":y=at(g,2,"0");break;case"S":case"SS":case"SSS":y=Math.round(m/1e3*Math.pow(10,n.parts[b].length)).toString();break;case"x":y=C.toString();break;case"n":case"nn":case"nnn":y=at(m,n.parts[b].length,"0");break;case"z":y=Vo(i||t,!1,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zz":y=Vo(i||t,!0,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"zzz":y=Vo(i||t,!1,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zzzz":y=Vo(i||t,!0,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"Z":case"ZZ":let O=this._root.utc?"UTC":this._root.timezone;O instanceof Ul&&(O=O.name);let D=O?ug(O,i||t):t.getTimezoneOffset(),F=Math.abs(D)/60,ie=Math.floor(F),G=F*60-ie*60;this._root.utc&&(ie=0,G=0),n.parts[b]=="Z"?(y="GMT",y+=D>0?"-":"+",y+=at(ie,2)+":"+at(G,2)):(y=D>0?"-":"+",y+=at(ie,2)+at(G,2));break;case"i":y=t.toISOString();break;case"I":y=t.toUTCString();break}r=r.replace(Ri,y)}return r}parseFormat(t){let n={template:"",parts:[]},e=jt.chunk(t,!0);for(let i=0;i<e.length;i++){let r=e[i];if(r.type==="value"){if(r.text.match(/^date$/i)){let s=this.get("dateFormat","yyyy-MM-dd");Qi(s)||(s="yyyy-MM-dd"),r.text=s}let o=r.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(o)for(let s=0;s<o.length;s++)n.parts.push(o[s]),r.text=r.text.replace(o[s],Ri)}n.template+=r.text}return n}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(t){return this._months()[t]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(t){return this._shortMonths()[t]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(t){return this._weekdays()[t]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(t){return this._shortWeekdays()[t]}parse(t,n,e){if(typeof e>"u"&&(e=this._root.utc),t instanceof Date)return t;if(L(t))return new Date(t);if(n=="x")return new Date(parseInt(t));Qi(t)||(t=t.toString());let i,r="";n=Ta(n),n=n.substr(0,t.length);let o=this.parseFormat(n),s={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},l={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:e},c=0,d=0;for(let m=0;m<o.parts.length;m++){switch(d=m+c+1,o.parts[m]){case"yyyy":case"YYYY":r+="([0-9]{4})",s.year=d;break;case"yyy":case"YYY":r+="([0-9]{3})",s.year3=d;break;case"yy":case"YY":r+="([0-9]{2})",s.year2=d;break;case"y":case"Y":r+="([0-9]{1})",s.year1=d;break;case"MMMM":r+="("+this.getStringList(this._months()).join("|")+")",s.monthLong=d;break;case"MMM":r+="("+this.getStringList(this._shortMonths()).join("|")+")",s.monthShort=d;break;case"MM":case"M":r+="([0-9]{2}|[0-9]{1})",s.month=d;break;case"ww":case"w":r+="([0-9]{2}|[0-9]{1})",s.week=d;break;case"dd":case"d":r+="([0-9]{2}|[0-9]{1})",s.day=d;break;case"DDD":case"DD":case"D":r+="([0-9]{3}|[0-9]{2}|[0-9]{1})",s.yearDay=d;break;case"dddd":r+="("+this.getStringList(this._weekdays()).join("|")+")",s.weekdayLong=d;break;case"ddd":r+="("+this.getStringList(this._shortWeekdays()).join("|")+")",s.weekdayShort=d;break;case"aaa":case"aa":case"a":r+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",s.am=d;break;case"hh":case"h":r+="([0-9]{2}|[0-9]{1})",s.hour12Base1=d;break;case"HH":case"H":r+="([0-9]{2}|[0-9]{1})",s.hourBase0=d;break;case"KK":case"K":r+="([0-9]{2}|[0-9]{1})",s.hour12Base0=d;break;case"kk":case"k":r+="([0-9]{2}|[0-9]{1})",s.hourBase1=d;break;case"mm":case"m":r+="([0-9]{2}|[0-9]{1})",s.minute=d;break;case"ss":case"s":r+="([0-9]{2}|[0-9]{1})",s.second=d;break;case"SSS":case"SS":case"S":r+="([0-9]{3}|[0-9]{2}|[0-9]{1})",s.millisecond=d,s.millisecondDigits=o.parts[m].length;break;case"nnn":case"nn":case"n":r+="([0-9]{3}|[0-9]{2}|[0-9]{1})",s.millisecond=d;break;case"x":r+="([0-9]{1,})",s.timestamp=d;break;case"Z":r+="GMT([-+]+[0-9]{2}:[0-9]{2})",s.zone=d;break;case"ZZ":r+="([\\-+]+[0-9]{2}[0-9]{2})",s.zone=d;break;case"i":r+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",s.iso=d,c+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":c--;break}r+="[^0-9]*"}let p=new RegExp(r),g=t.match(p);if(g){if(s.year>-1&&(l.year=parseInt(g[s.year])),s.year3>-1){let m=parseInt(g[s.year3]);m+=1e3,l.year=m}if(s.year2>-1){let m=parseInt(g[s.year2]);m>50?m+=1e3:m+=2e3,l.year=m}if(s.year1>-1){let m=parseInt(g[s.year1]);m=Math.floor(new Date().getFullYear()/10)*10+m,l.year=m}if(s.monthLong>-1&&(l.month=this.resolveMonth(g[s.monthLong])),s.monthShort>-1&&(l.month=this.resolveShortMonth(g[s.monthShort])),s.month>-1&&(l.month=parseInt(g[s.month])-1),s.week>-1&&s.day===-1&&(l.month=0,l.day=mg(parseInt(g[s.week]),l.year,1,e)),s.day>-1&&(l.day=parseInt(g[s.day])),s.yearDay>-1&&(l.month=0,l.day=parseInt(g[s.yearDay])),s.hourBase0>-1&&(l.hour=parseInt(g[s.hourBase0])),s.hourBase1>-1&&(l.hour=parseInt(g[s.hourBase1])-1),s.hour12Base0>-1){let m=parseInt(g[s.hour12Base0]);m==11&&(m=0),s.am>-1&&!this.isAm(g[s.am])&&(m+=12),l.hour=m}if(s.hour12Base1>-1){let m=parseInt(g[s.hour12Base1]);m==12&&(m=0),s.am>-1&&!this.isAm(g[s.am])&&(m+=12),l.hour=m}if(s.minute>-1&&(l.minute=parseInt(g[s.minute])),s.second>-1&&(l.second=parseInt(g[s.second])),s.millisecond>-1){let m=parseInt(g[s.millisecond]);s.millisecondDigits==2?m*=10:s.millisecondDigits==1&&(m*=100),l.millisecond=m}if(s.timestamp>-1){l.timestamp=parseInt(g[s.timestamp]);let m=new Date(l.timestamp);l.year=m.getUTCFullYear(),l.month=m.getUTCMonth(),l.day=m.getUTCDate(),l.hour=m.getUTCHours(),l.minute=m.getUTCMinutes(),l.second=m.getUTCSeconds(),l.millisecond=m.getUTCMilliseconds()}s.zone>-1&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),g[s.zone])),s.iso>-1&&(l.year=Ht(g[s.iso+0]),l.month=Ht(g[s.iso+1])-1,l.day=Ht(g[s.iso+2]),l.hour=Ht(g[s.iso+3]),l.minute=Ht(g[s.iso+4]),l.second=Ht(g[s.iso+5]),l.millisecond=Ht(g[s.iso+6]),g[s.iso+7]=="Z"||g[s.iso+7]=="z"?l.utc=!0:g[s.iso+7]!=""&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),g[s.iso+7]))),l.utc?i=new Date(Date.UTC(l.year,l.month,l.day,l.hour,l.minute,l.second,l.millisecond)):i=new Date(l.year,l.month,l.day,l.hour,l.minute+l.offset,l.second,l.millisecond)}else i=new Date(t);return i}resolveTimezoneOffset(t,n){if(n.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let i=n.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),r=i[1],o=i[2],s=i[3],l=parseInt(o)*60+parseInt(s);r=="+"&&(l*=-1);let c=(t||new Date).getTimezoneOffset();return l-c}return 0}resolveMonth(t){let n=this._months().indexOf(t);return n>-1||!this._root.language.isDefault()&&(n=this._root.language.translateAll(this._months()).indexOf(t),n>-1)?n:0}resolveShortMonth(t){let n=this._shortMonths().indexOf(t);return n>-1||(n=this._months().indexOf(t),n>-1)||this._root.language&&!this._root.language.isDefault()&&(n=this._root.language.translateAll(this._shortMonths()).indexOf(t),n>-1)?n:0}isAm(t){return this.getStringList(["AM","A.M.","A"]).indexOf(t.toUpperCase())>-1}getStringList(t){let n=[];for(let e=0;e<t.length;e++)this._root.language?n.push(Sd(this._t(t[e]))):n.push(Sd(t[e]));return n}};var Yl=class extends Je{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){let t="_duration_millisecond",n="_duration_second",e="_duration_minute",i="_duration_hour",r="_duration_day",o="_duration_week",s="_duration_month",l="_duration_year",c="_second",d="_minute",p="_hour",g="_day",m="_week",C="_week",b="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(t),second:this._t(t+c),minute:this._t(t+d),hour:this._t(t+p),day:this._t(t+g),week:this._t(t+m),month:this._t(t+C),year:this._t(t+b)},second:{second:this._t(n),minute:this._t(n+d),hour:this._t(n+p),day:this._t(n+g),week:this._t(n+m),month:this._t(n+C),year:this._t(n+b)},minute:{minute:this._t(e),hour:this._t(e+p),day:this._t(e+g),week:this._t(e+m),month:this._t(e+C),year:this._t(e+b)},hour:{hour:this._t(i),day:this._t(i+g),week:this._t(i+m),month:this._t(i+C),year:this._t(i+b)},day:{day:this._t(r),week:this._t(r+m),month:this._t(r+C),year:this._t(r+b)},week:{week:this._t(o),month:this._t(o+C),year:this._t(o+b)},month:{month:this._t(s),year:this._t(s+b)},year:{year:this._t(l)}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(t,n,e){let i=e||this.get("baseUnit");(typeof n>"u"||n==="")&&(this.get("durationFormat")!=null?n=this.get("durationFormat"):n=this.getFormat(Ht(t),void 0,i)),n=Ta(n);let r=this.parseFormat(n,i),o=Number(t),s;o>this.get("negativeBase")?s=r.positive:o<this.get("negativeBase")?s=r.negative:s=r.zero;let l=this.applyFormat(o,s);return s.color!==""&&(l="["+s.color+"]"+l+"[/]"),l}parseFormat(t,n){let e=n||this.get("baseUnit"),i={positive:{color:"",template:"",parts:[],source:"",baseUnit:e,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:e,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:e,parsed:!1,absolute:!1}};t=t.replace("||",ir);let r=t.split("|");return i.positive.source=r[0],typeof r[2]>"u"?i.zero=i.positive:i.zero.source=r[2],typeof r[1]>"u"?i.negative=i.positive:i.negative.source=r[1],Ve(i,(o,s)=>{if(s.parsed)return;let l=s.source,c=[];c=s.source.match(/^\[([^\]]*)\]/),c&&c.length&&c[0]!==""&&(l=s.source.substr(c[0].length),s.color=c[1]);let d=jt.chunk(l,!0);for(let p=0;p<d.length;p++){let g=d[p];if(g.text=g.text.replace(ir,"|"),g.type==="value"){g.text.match(/[yYMdDwhHKkmsSn]+a/)&&(s.absolute=!0,g.text=g.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let m=g.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(m)for(let C=0;C<m.length;C++)m[C]==null&&(m[C]=this._unitAliases[m[C]]),s.parts.push(m[C]),g.text=g.text.replace(m[C],Ri)}s.template+=g.text}s.parsed=!0}),i}applyFormat(t,n){let e=!n.absolute&&t<this.get("negativeBase");t=Math.abs(t);let i=this.toTimeStamp(t,n.baseUnit),r=n.template,o={millisecond:0,second:0,minute:0,hour:0,day:0,week:0,month:0,year:0};for(let s=0,l=n.parts.length;s<l;s++){let c=n.parts[s],d=this._toTimeUnit(c.substr(0,1)),p,g=this._getUnitValue(d);s<l-1?p=Math.floor(i/g):p=Math.round(i/g),o[d]+=p,i-=p*g}Ve(o,(s,l)=>{s=="millisecond"&&l==1e3?(o.second++,o.millisecond=0):s=="second"&&l==60?(o.minute++,o.second=0):s=="minute"&&l==60?(o.hour++,o.minute=0):s=="hour"&&l==24?(o.day++,o.hour=0):s=="day"&&l==7&&n.parts.indexOf("w")!==-1?(o.week++,o.day=0):s=="day"&&l==30?(o.month++,o.day=0):s=="month"&&l==12&&(o.year++,o.month=0)});for(let s=0,l=n.parts.length;s<l;s++){let c=n.parts[s],d=this._toTimeUnit(c.substr(0,1)),p=c.length;r=r.replace(Ri,at(o[d],p,"0"))}return e&&(r="-"+r),r}toTimeStamp(t,n){return t*this._getUnitValue(n)}_toTimeUnit(t){switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(t,n,e){if(this.get("durationFormat")!=null)return this.get("durationFormat");if(e||(e=this.get("baseUnit")),n!=null&&t!=n){t=Math.abs(t),n=Math.abs(n);let i=this.getValueUnit(Math.max(t,n),e);return this.get("durationFormats")[e][i]}else{let i=this.getValueUnit(t,e);return this.get("durationFormats")[e][i]}}getValueUnit(t,n){n||(n=this.get("baseUnit"));let e,i=this.getMilliseconds(t,n);return qp(this._getUnitValues(),(r,o)=>{if(r==n||e){if(i/o<=1)return e||(e=r),!1;e=r}return!0}),e}getMilliseconds(t,n){return n||(n=this.get("baseUnit")),t*this._getUnitValue(n)}_getUnitValue(t){return this._getUnitValues()[t]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}};var Wl={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03BC",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_short:"HH",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(a){let t="th";if(a<11||a>13)switch(a%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break}return t},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:"",Confirm:""};var Xl=class extends Je{_setDefaults(){this.setPrivate("defaultLocale",Wl),super._setDefaults()}translate(t,n,...e){n||(n=this._root.locale||this.getPrivate("defaultLocale"));let i=t,r=n[t];if(r===null)i="";else if(r!=null)r&&(i=r);else if(n!==this.getPrivate("defaultLocale"))return this.translate(t,this.getPrivate("defaultLocale"),...e);if(e.length)for(let o=e.length,s=0;s<o;++s)i=i.split("%"+(s+1)).join(e[s]);return i}translateAny(t,n,...e){return this.translate(t,n,...e)}setTranslationAny(t,n,e){let i=e||this._root.locale;i[t]=n}setTranslationsAny(t,n){Ve(t,(e,i)=>{this.setTranslationAny(e,i,n)})}translateEmpty(t,n,...e){let i=this.translate(t,n,...e);return i==t?"":i}translateFunc(t,n){return this._root.locale[t]?this._root.locale[t]:n!==this.getPrivate("defaultLocale")?this.translateFunc(t,this.getPrivate("defaultLocale")):()=>""}translateAll(t,n){return this.isDefault()?t:Ao(t,e=>this.translate(e,n))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}};var hr=class{constructor(t,n){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=t,!n)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(t){let n=new this(t,!0);return n.setupDefaultRules(),n}setupDefaultRules(){}_lookupRules(t){return this._rules[t]}ruleRaw(t,n=[]){let e=this._rules[t];e||(e=this._rules[t]=[]),n.sort(fn);let{index:i,found:r}=Wp(e,o=>{let s=fn(o.tags.length,n.length);return s===0?jl(o.tags,n,fn):s});if(r)return e[i].template;{let o=Ji.new({});return e.splice(i,0,{tags:n,template:o}),o}}rule(t,n=[]){return this.ruleRaw(t,n)}};function te(a,t,n,e){a.set(t,n.get(e)),n.on(e,i=>{a.set(t,i)})}var Ql=class extends hr{setupDefaultRules(){super.setupDefaultRules();let t=this._root.language,n=this._root.interfaceColors,e=this._root.horizontalLayout,i=this._root.verticalLayout,r=this.rule.bind(this);r("InterfaceColors").setAll({stroke:oe.fromHex(15066597),fill:oe.fromHex(15987699),primaryButton:oe.fromHex(6788316),primaryButtonHover:oe.fromHex(6779356),primaryButtonDown:oe.fromHex(6872182),primaryButtonActive:oe.fromHex(6872182),primaryButtonDisabled:oe.fromHex(14342874),primaryButtonTextDisabled:oe.fromHex(16777215),primaryButtonText:oe.fromHex(16777215),primaryButtonStroke:oe.fromHex(16777215),secondaryButton:oe.fromHex(14277081),secondaryButtonHover:oe.fromHex(10724259),secondaryButtonDown:oe.fromHex(9276813),secondaryButtonActive:oe.fromHex(15132390),secondaryButtonText:oe.fromHex(0),secondaryButtonStroke:oe.fromHex(16777215),grid:oe.fromHex(0),background:oe.fromHex(16777215),alternativeBackground:oe.fromHex(0),text:oe.fromHex(0),alternativeText:oe.fromHex(16777215),disabled:oe.fromHex(11382189),positive:oe.fromHex(5288704),negative:oe.fromHex(11730944)});{let o=r("ColorSet");o.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[oe.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),o.setPrivate("currentStep",0),o.setPrivate("currentPass",0)}r("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:Vr(kn)}),r("Component").setAll({interpolationDuration:0,interpolationEasing:Vr(kn)}),r("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:pe,tooltipY:pe,tooltipPosition:"fixed",isMeasured:!0}),r("Sprite").states.create("default",{visible:!0,opacity:1}),r("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),r("Graphics").setAll({strokeWidth:1}),r("Chart").setAll({width:fe,height:fe,interactiveChildren:!1}),r("ZoomableContainer").setAll({width:fe,height:fe,wheelable:!0,pinchZoom:!0,maxZoomLevel:32,minZoomLevel:1,zoomStep:2,animationEasing:Vr(kn),animationDuration:600,maxPanOut:.4}),r("Sprite",["horizontal","center"]).setAll({centerX:pe,x:pe}),r("Sprite",["vertical","center"]).setAll({centerY:pe,y:pe}),r("Container",["horizontal","layout"]).setAll({layout:e}),r("Container",["vertical","layout"]).setAll({layout:i}),r("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),r("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),r("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),r("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),r("GrainPattern").setAll({width:200,height:200,colors:[oe.fromHex(0)],size:1,horizontalGap:0,verticalGap:0,density:1,minOpacity:0,maxOpacity:.2});{let o=r("PatternSet");o.setAll({step:1}),te(o,"color",n,"stroke")}r("LinearGradient").setAll({rotation:90}),r("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:Li.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),r("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:e,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:t.translate("Press ENTER to toggle"),role:"checkbox"});{let o=r("Rectangle",["legend","item","background"]);o.setAll({fillOpacity:0}),te(o,"fill",n,"background")}r("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:pe,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),r("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:fe,height:fe,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{let o=r("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});te(o,"fill",n,"disabled"),te(o,"stroke",n,"disabled")}r("Label",["legend","label"]).setAll({centerY:pe,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0});{let o=r("Label",["legend","label"]).states.create("disabled",{});te(o,"fill",n,"disabled")}r("Label",["legend","value","label"]).setAll({centerY:pe,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:fe,populateText:!0});{let o=r("Label",["legend","value","label"]).states.create("disabled",{});te(o,"fill",n,"disabled")}r("HeatLegend").setAll({stepCount:1}),r("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),r("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:fe,width:15}),r("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:fe,height:15}),r("HeatLegend",["vertical"]).setAll({height:fe}),r("HeatLegend",["horizontal"]).setAll({width:fe}),r("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),r("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{let o=r("Label");o.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),te(o,"fill",n,"text")}r("RadialLabel").setAll({textType:"regular",centerY:pe,centerX:pe,inside:!1,radius:0,baseRadius:fe,orientation:"auto",textAlign:"center"}),r("EditableLabel").setAll({editOn:"click",themeTags:["editablelabel"],multiLine:!0}),r("RoundedRectangle",["editablelabel","background"]).setAll({fillOpacity:0,fill:oe.fromHex(0),cornerRadiusBL:3,cornerRadiusBR:3,cornerRadiusTL:3,cornerRadiusTR:3,strokeOpacity:0,stroke:oe.fromHex(0)}),r("RoundedRectangle",["editablelabel","background"]).states.create("active",{strokeOpacity:.2}),r("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),r("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),r("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{let o=r("Tick");o.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),te(o,"stroke",n,"grid")}r("Bullet").setAll({locationX:.5,locationY:.5}),r("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:pe,centerY:pe,animationEasing:Vr(kn),exportable:!1}),r("Tooltip",["system"]).setAll({pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});{let o=r("PointedRectangle",["tooltip","system","background"]);o.setAll({strokeOpacity:.3}),te(o,"fill",n,"background"),te(o,"stroke",n,"grid")}r("Label",["tooltip","system"]).setAll({fontSize:12,fill:n.get("background")}),r("Polygon").setAll({animationEasing:Vr(kn)}),r("Link").setAll({cornerRadius:8,setStateOnChildren:!0});{let o=r("OrthogonalLine",["link","line"]);o.setAll({isMeasured:!1,crisp:!0});let s=o.states.create("active",{strokeWidth:2});te(s,"stroke",n,"negative")}r("OrthogonalLine",["link","hit"]).setAll({strokeWidth:10,opacity:0,strokeOpacity:0});{let o=r("OrthogonalLine");o.setAll({strokeWidth:1,strokeOpacity:1,cornerRadius:10}),te(o,"stroke",n,"grid")}{let o=r("Triangle",["link"]);o.setAll({width:14,height:10,centerY:0}),te(o,"fill",n,"grid"),te(o,"stroke",n,"grid"),o.states.create("default",{stateAnimationDuration:0});let s=o.states.create("active",{stateAnimationDuration:0,stroke:Zt(16777215),strokeWidth:2});s.set("draw",l=>{l.arc(0,0,11,0,Math.PI*2),l.moveTo(-4,-4),l.lineTo(4,4),l.moveTo(4,-4),l.lineTo(-4,4)}),te(s,"fill",n,"negative")}r("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:oe.fromHex(16777215)});{let o=r("Label",["tooltip"]);o.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),te(o,"fill",n,"alternativeText")}r("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:e,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),r("Button").states.create("hover",{}),r("Button").states.create("down",{stateAnimationDuration:0}),r("Button").states.create("active",{}),r("Button").states.create("disabled",{forceInactive:!0});{let o=r("RoundedRectangle",["button","background"]);te(o,"fill",n,"primaryButton"),te(o,"stroke",n,"primaryButtonStroke")}{let o=r("RoundedRectangle",["button","background"]).states.create("hover",{});te(o,"fill",n,"primaryButtonHover")}{let o=r("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0});te(o,"fill",n,"primaryButtonDown")}{let o=r("RoundedRectangle",["button","background"]).states.create("active",{});te(o,"fill",n,"primaryButtonActive")}{let o=r("RoundedRectangle",["button","background"]).states.create("disabled",{});te(o,"fill",n,"primaryButtonDisabled")}{let o=r("Graphics",["button","icon"]).states.create("disabled",{});te(o,"fill",n,"primaryButtonTextDisabled")}{let o=r("Label",["button"]).states.create("disabled",{});te(o,"fill",n,"primaryButtonTextDisabled")}{let o=r("Graphics",["button","icon"]);o.setAll({forceInactive:!0}),te(o,"stroke",n,"primaryButtonText")}{let o=r("Label",["button"]);te(o,"fill",n,"primaryButtonText")}r("ConfirmButton").setAll({toggleKey:"active",setStateOnChildren:!0,label:si.new(this._root,{text:t.translate("Confirm"),forceHidden:!0})});{let o=r("RoundedRectangle",["button","background","confirm"]).states.create("active",{});te(o,"fill",n,"negative")}r("Label",["button","confirm"]).setAll({paddingTop:0,paddingBottom:0,paddingRight:3,paddingLeft:5}),r("Label",["button","confirm"]).states.create("default",{stateAnimationDuration:0}),r("Label",["button","confirm"]).states.create("active",{forceHidden:!1,stateAnimationDuration:0});{let o=r("Graphics",["icon","confirm","button"]);o.setAll({stateAnimationDuration:0}),o.states.create("default",{stateAnimationDuration:0}),te(o,"stroke",n,"primaryButtonText")}{let o=r("Graphics",["icon","confirm","button"]).states.create("active",{svgPath:"M -5 1 L 0 6 L 8 -5",strokeWidth:2});te(o,"stroke",n,"primaryButtonText")}{let o=r("Graphics",["icon","confirm","button","secondary"]).states.create("active",{});te(o,"stroke",n,"primaryButtonText")}{let o=r("RoundedRectangle",["button","background","confirm","secondary"]).states.create("active",{fillOpacity:1});te(o,"fill",n,"negative")}{let o=r("RoundedRectangle",["button","background","confirm","secondary"]).states.create("hoverActive",{fillOpacity:1});te(o,"fill",n,"negative")}r("Button",["button","confirm"]).states.create("hoverActive",{}),r("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:fe,role:"button",ariaLabel:t.translate("Zoom Out"),layer:30});{let o=r("RoundedRectangle",["background","button","zoom"]);o.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),te(o,"fill",n,"primaryButton")}{let o=r("RoundedRectangle",["background","button","zoom"]).states.create("hover",{});te(o,"fill",n,"primaryButtonHover")}{let o=r("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0});te(o,"fill",n,"primaryButtonDown")}{let o=r("Graphics",["icon","button","zoom"]);o.setAll({crisp:!0,strokeOpacity:.7,draw:s=>{s.moveTo(0,0),s.lineTo(12,0)}}),te(o,"stroke",n,"primaryButtonText")}r("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:pe,centerY:pe,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:t.translate("Use up and down arrows to move selection")});{let o=r("RoundedRectangle",["background","resize","button"]);o.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),te(o,"fill",n,"secondaryButton"),te(o,"stroke",n,"secondaryButtonStroke")}{let o=r("RoundedRectangle",["background","resize","button"]).states.create("hover",{});te(o,"fill",n,"secondaryButtonHover")}{let o=r("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0});te(o,"fill",n,"secondaryButtonDown")}{let o=r("Graphics",["resize","button","icon"]);o.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:s=>{s.moveTo(0,.5),s.lineTo(0,12.5),s.moveTo(4,.5),s.lineTo(4,12.5)}}),te(o,"stroke",n,"secondaryButtonText")}r("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),r("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),r("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:t.translate("Play"),toggleKey:"active"});{let o=r("RoundedRectangle",["play","background"]);o.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),te(o,"fill",n,"primaryButton")}{let o=r("Graphics",["play","icon"]);o.setAll({stateAnimationDuration:0,dx:1,draw:s=>{s.moveTo(0,-5),s.lineTo(8,0),s.lineTo(0,5),s.lineTo(0,-5)}}),te(o,"fill",n,"primaryButtonText")}r("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),r("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:o=>{o.moveTo(-4,-5),o.lineTo(-1,-5),o.lineTo(-1,5),o.lineTo(-4,5),o.lineTo(-4,-5),o.moveTo(4,-5),o.lineTo(1,-5),o.lineTo(1,5),o.lineTo(4,5),o.lineTo(4,-5)}}),r("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:t.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{let o=r("RoundedRectangle",["switch","background"]);o.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),te(o,"fill",n,"primaryButton")}{let o=r("Circle",["switch","icon"]);o.setAll({radius:8,centerY:0,centerX:0,dx:0}),te(o,"fill",n,"primaryButtonText")}r("Graphics",["switch","icon"]).states.create("active",{dx:16}),r("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:Vr(kn)}),r("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:fe}),r("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:fe}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{let o=r("RoundedRectangle",["scrollbar","main","background"]);o.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),te(o,"fill",n,"fill")}{let o=r("RoundedRectangle",["scrollbar","thumb"]);o.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),te(o,"fill",n,"secondaryButton")}{let o=r("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{});te(o,"fill",n,"secondaryButtonHover")}{let o=r("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0});te(o,"fill",n,"secondaryButtonDown")}r("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:pe,width:fe,centerX:pe,ariaLabel:t.translate("Use up and down arrows to move selection")}),r("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:pe,centerY:pe,height:fe,ariaLabel:t.translate("Use left and right arrows to move selection")});{let o=r("PointedRectangle",["axis","tooltip","background"]);o.setAll({cornerRadius:0}),te(o,"fill",n,"alternativeBackground")}r("Label",["axis","tooltip"]).setAll({role:void 0}),r("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),r("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),r("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),r("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),r("Star").setAll({spikes:5,innerRadius:5,radius:10}),r("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),r("Tooltip",["indicator"]).setAll({forceHidden:!0}),r("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),r("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),r("SpriteResizer").setAll({rotationStep:10,isMeasured:!1}),r("Container",["resizer","grip"]).states.create("hover",{});{let o=r("RoundedRectangle",["resizer","grip"]);o.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),te(o,"fill",n,"background"),te(o,"stroke",n,"alternativeBackground")}{let o=r("RoundedRectangle",["resizer","grip","outline"]);o.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),o.states.create("hover",{fillOpacity:.3}),te(o,"fill",n,"alternativeBackground")}r("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),r("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{let o=r("Rectangle",["resizer","rectangle"]);o.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),te(o,"stroke",n,"alternativeBackground")}r("Graphics",["button","plus","icon"]).setAll({x:pe,y:pe,draw:o=>{o.moveTo(-4,0),o.lineTo(4,0),o.moveTo(0,-4),o.lineTo(0,4)}}),r("Graphics",["button","minus","icon"]).setAll({x:pe,y:pe,draw:o=>{o.moveTo(-4,0),o.lineTo(4,0)}}),r("Graphics",["button","home","icon"]).setAll({x:pe,y:pe,svgPath:"M 8 -1 L 6 -1 L 6 7 L 2 7 L 2 1 L -2 1 L -2 7 L -6 7 L -6 -1 L -8 -1 L 0 -9 L 8 -1 Z M 8 -1"}),r("Button",["zoomtools"]).setAll({marginTop:1,marginBottom:2}),r("ZoomTools").setAll({x:fe,centerX:fe,y:fe,centerY:fe,paddingRight:10,paddingBottom:10}),r("ProgressPie").setAll({radius:fe,width:50,height:50,centerX:At(-50),centerY:At(-50),innerRadius:At(85),numberFormat:"#."});{let o=r("Label",["progresspie"]);o.setAll({centerX:pe,centerY:pe,fontSize:"0.75em"}),te(o,"fill",n,"primaryButton")}{let o=r("Circle",["progresspie"]);o.setAll({fillOpacity:.5}),te(o,"fill",n,"background")}{let o=r("Slice",["progresspie"]);o.setAll({startAngle:-90}),te(o,"fill",n,"primaryButton")}{let o=r("Slice",["progresspie","background"]);o.setAll({fillOpacity:.2,arc:360}),te(o,"fill",n,"primaryButton")}r("EditableLabel",["numericstepper"]).setAll({y:pe,centerY:pe,multiLine:!1,marginRight:2});{let o=r("Container",["numericstepper","buttons"]);o.setAll({layout:this._root.verticalLayout,centerY:pe,y:pe,marginRight:10,opacity:0}),o.states.create("active",{opacity:1}),o.states.create("default",{opacity:0})}{let o=r("Triangle",["numericstepper"]);o.setAll({width:17,height:11,marginTop:3,marginBottom:3,strokeWidth:5,strokeOpacity:0,cursorOverStyle:"pointer"}),te(o,"fill",n,"secondaryButton")}r("Triangle",["downbutton"]).setAll({rotation:180})}};var Ra=class{constructor(t=1,n=0,e=0,i=1,r=0,o=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=t,this.b=n,this.c=e,this.d=i,this.tx=r,this.ty=o}setTransform(t,n,e,i,r,o=1){this.a=Math.cos(r)*o,this.b=Math.sin(r)*o,this.c=-Math.sin(r)*o,this.d=Math.cos(r)*o,this.tx=t-(e*this.a+i*this.c),this.ty=n-(e*this.b+i*this.d)}apply(t){return{x:this.a*t.x+this.c*t.y+this.tx,y:this.b*t.x+this.d*t.y+this.ty}}applyInverse(t){let n=1/(this.a*this.d+this.c*-this.b);return{x:this.d*n*t.x+-this.c*n*t.y+(this.ty*this.c-this.tx*this.d)*n,y:this.a*n*t.y+-this.b*n*t.x+(-this.ty*this.a+this.tx*this.b)*n}}append(t){let n=this.a,e=this.b,i=this.c,r=this.d;this.a=t.a*n+t.b*i,this.b=t.a*e+t.b*r,this.c=t.c*n+t.d*i,this.d=t.c*e+t.d*r,this.tx=t.tx*n+t.ty*i+this.tx,this.ty=t.tx*e+t.ty*r+this.ty}prepend(t){let n=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){let e=this.a,i=this.c;this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty}copyFrom(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty}};var Qy=function(){function a(t,n){var e=[],i=!0,r=!1,o=void 0;try{for(var s=t[Symbol.iterator](),l;!(i=(l=s.next()).done)&&(e.push(l.value),!(n&&e.length===n));i=!0);}catch(c){r=!0,o=c}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return e}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return a(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Yo=Math.PI*2,Qd=function(t,n,e,i,r,o,s){var l=t.x,c=t.y;l*=n,c*=e;var d=i*l-r*c,p=r*l+i*c;return{x:d+o,y:p+s}},Ky=function(t,n){var e=n===1.5707963267948966?.551915024494:n===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(n/4),i=Math.cos(t),r=Math.sin(t),o=Math.cos(t+n),s=Math.sin(t+n);return[{x:i-r*e,y:r+i*e},{x:o+s*e,y:s-o*e},{x:o,y:s}]},Pg=function(t,n,e,i){var r=t*i-n*e<0?-1:1,o=t*e+n*i;return o>1&&(o=1),o<-1&&(o=-1),r*Math.acos(o)},qy=function(t,n,e,i,r,o,s,l,c,d,p,g){var m=Math.pow(r,2),C=Math.pow(o,2),b=Math.pow(p,2),x=Math.pow(g,2),y=m*C-m*x-C*b;y<0&&(y=0),y/=m*x+C*b,y=Math.sqrt(y)*(s===l?-1:1);var w=y*r/o*g,O=y*-o/r*p,D=d*w-c*O+(t+e)/2,F=c*w+d*O+(n+i)/2,ie=(p-w)/r,G=(g-O)/o,se=(-p-w)/r,de=(-g-O)/o,ae=Pg(1,0,ie,G),q=Pg(ie,G,se,de);return l===0&&q>0&&(q-=Yo),l===1&&q<0&&(q+=Yo),[D,F,ae,q]},Zy=function(t){var n=t.px,e=t.py,i=t.cx,r=t.cy,o=t.rx,s=t.ry,l=t.xAxisRotation,c=l===void 0?0:l,d=t.largeArcFlag,p=d===void 0?0:d,g=t.sweepFlag,m=g===void 0?0:g,C=[];if(o===0||s===0)return[];var b=Math.sin(c*Yo/360),x=Math.cos(c*Yo/360),y=x*(n-i)/2+b*(e-r)/2,w=-b*(n-i)/2+x*(e-r)/2;if(y===0&&w===0)return[];o=Math.abs(o),s=Math.abs(s);var O=Math.pow(y,2)/Math.pow(o,2)+Math.pow(w,2)/Math.pow(s,2);O>1&&(o*=Math.sqrt(O),s*=Math.sqrt(O));var D=qy(n,e,i,r,o,s,p,m,b,x,y,w),F=Qy(D,4),ie=F[0],G=F[1],se=F[2],de=F[3],ae=Math.abs(de)/(Yo/4);Math.abs(1-ae)<1e-7&&(ae=1);var q=Math.max(Math.ceil(ae),1);de/=q;for(var W=0;W<q;W++)C.push(Ky(se,de)),se+=de;return C.map(function(I){var Y=Qd(I[0],o,s,x,b,ie,G),me=Y.x,ei=Y.y,Be=Qd(I[1],o,s,x,b,ie,G),mt=Be.x,Rt=Be.y,ci=Qd(I[2],o,s,x,b,ie,G),tn=ci.x,ti=ci.y;return{x1:me,y1:ei,x2:mt,y2:Rt,x:tn,y:ti}})},Og=Zy;function Jy(a,t,n){if(t!==n)throw new Error("Required "+n+" arguments for "+a+" but got "+t)}function Wo(a,t,n){if(t<n)throw new Error("Required at least "+n+" arguments for "+a+" but got "+t)}function xi(a,t,n){if(Wo(a,t,n),t%n!==0)throw new Error("Arguments for "+a+" must be in pairs of "+n)}function eC(a){for(let t=0;t<a.length;t+=7){let n=t+3,e=a[n];if(e.length>1){let i=/^([01])([01])(.*)$/.exec(e);i!==null&&(a.splice(n,0,i[1]),++n,a.splice(n,0,i[2]),++n,i[3].length>0?a[n]=i[3]:a.splice(n,1))}if(++n,e=a[n],e.length>1){let i=/^([01])(.+)$/.exec(e);i!==null&&(a.splice(n,0,i[1]),++n,a[n]=i[2])}}}function kg(a){if(a===0||a===1)return a;throw new Error("Flag must be 0 or 1")}function tC(a){let t=[0,0,0];for(let n=0;n<24;n++)t[n%3]<<=1,t[n%3]|=a&1,a>>=1;return(t[0]|0)+(t[1]<<8)+(t[2]<<16)}function Kl(a,t){for(;!(a.interactive&&!t(a));)if(a._parent)a=a._parent;else break}function iC(a,t,n){return nt(a,Fl(t),e=>{let i=kd(e),r=e.touches;r?(r.length==0&&(r=e.changedTouches),n(Gp(r),i)):n([e],i)})}function Dg(a){let t=document.createElement("canvas");t.width=1,t.height=1;let n=t.getContext("2d",{willReadFrequently:!0});n.drawImage(a,0,0,1,1);try{return n.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+a.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function Xo(a){a.width=0,a.height=0,a.style.width="0px",a.style.height="0px"}function Sg(a){return Math.floor(a)+.5}var Kd=class{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(t){this._x=t}set y(t){this._y=t}},Fa=class extends jr{constructor(t){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new Kd}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new Ra}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new Ra}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new Ra}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=t}subStatus(t){return{inactive:this.inactive==null?t.inactive:this.inactive,layer:this._layer||t.layer}}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let t=this;for(;;){if(t._layer)return t._layer;if(t._parent)t=t._parent;else return this._renderer.defaultLayer}}setLayer(t,n){t==null?this._layer=void 0:(this._layer=this._renderer.getLayer(t,!0),this._layer.visible=!0,this._layer.margin=n,n&&sr(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(t){}_getColorId(){return this._colorId===void 0&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(t){return!t.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(t){return this._isInteractive(t)}contains(t){for(;;){if(t===this)return!0;if(t._parent)t=t._parent;else return!1}}toGlobal(t){return this._matrix.apply(t)}toLocal(t){return this._matrix.applyInverse(t)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(t){this._setMatrix();let n=this.getLocalMatrix(),e=n.apply({x:t.left,y:t.top}),i=n.apply({x:t.right,y:t.top}),r=n.apply({x:t.right,y:t.bottom}),o=n.apply({x:t.left,y:t.bottom});return{left:Math.min(e.x,i.x,r.x,o.x),top:Math.min(e.y,i.y,r.y,o.y),right:Math.max(e.x,i.x,r.x,o.x),bottom:Math.max(e.y,i.y,r.y,o.y)}}on(t,n,e){return this.interactive?this._renderer._addEvent(this,t,n,e):new qe(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(t,n){let e=this._matrix,i=e.tx*n,r=e.ty*n;this.crisp&&(i=Sg(i),r=Sg(r)),t.setTransform(e.a*n,e.b*n,e.c*n,e.d*n,i,r)}_transformMargin(t,n,e){let i=this._matrix;t.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,(i.tx+e.left)*n,(i.ty+e.top)*n)}_transformLayer(t,n,e){e.margin?this._transformMargin(t,e.scale||n,e.margin):this._transform(t,e.scale||n)}render(t,n=0){if(this.visible&&(this.exportable!==!1||!this._renderer._omitTainted)){this._setMatrix();let e=this.subStatus(t),i=this._renderer.resolution,r=this._renderer.layers,o=this._renderer._ghostLayer,s=o.context,l=this.mask;l&&l._setMatrix(),k(r,c=>{if(c){let d=c.context;d.save(),l&&(l._transformLayer(d,i,c),l._runPath(d),d.clip()),d.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(d,i,c),this.filter&&(d.filter=this.filter)}}),s.save(),l&&this._isInteractiveMask(e)&&(l._transformMargin(s,i,o.margin),l._runPath(s),s.clip()),this._transformMargin(s,i,o.margin),e.layer.order>0&&!n&&Up(this._renderer._deferredGhostLayers,e.layer.order),this._render(e,n),s.restore(),k(r,c=>{c&&c.context.restore()})}}_render(t,n=0){this.exportable===!1&&(t.layer.tainted=!0)}_ghostOnly(t=0){return t>0}_drawGhost(t,n=0){let e=this._isInteractive(t),i=t.layer.order||0;return!!(e&&(i==0&&!this._ghostOnly(n)||i==n))}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(t=>t.value===this)}shouldCancelTouch(){let t=this._renderer;return t.tapToActivate&&!t._touchActive?!1:this.cancelTouch?!0:this._parent?this._parent.shouldCancelTouch():!1}},qd=class extends Fa{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(t){return this.interactiveChildren||super._isInteractiveMask(t)}addChild(t){t._parent=this,this._children.push(t),t._layer&&this.registerChildLayer(t._layer)}addChildAt(t,n){t._parent=this,this._children.splice(n,0,t),t._layer&&this.registerChildLayer(t._layer)}removeChild(t){t._parent=void 0,Ot(this._children,t)}_render(t,n){super._render(t);let e=this._renderer;this.interactive&&this.interactiveChildren&&++e._forceInteractive,k(this._children,i=>{i.compoundAlpha=this.compoundAlpha*this.alpha,i.render(t,n)}),this.interactive&&this.interactiveChildren&&--e._forceInteractive}registerChildLayer(t){this._childLayers||(this._childLayers=[]),ar(this._childLayers,t),this._parent&&this._parent.registerChildLayer(t)}markDirtyLayer(t=!1){super.markDirtyLayer(),t&&this._childLayers&&k(this._childLayers,n=>n.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&k(this._childLayers,t=>{t.dirty=!0})}};function vt(a,t){a.left=Math.min(a.left,t.x),a.top=Math.min(a.top,t.y),a.right=Math.max(a.right,t.x),a.bottom=Math.max(a.bottom,t.y)}var yt=class{colorize(t,n){}colorizeGhost(t,n){this.colorize(t,n)}path(t){}pathGhost(t){this.path(t)}addBounds(t){}},Zd=class extends yt{colorize(t,n){t.beginPath()}},Qo=class extends yt{constructor(t){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,n){n!==void 0?t.fillStyle=n:t.fillStyle=this.color}},Jd=class extends yt{constructor(t){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,n){t.fill(),this.clearShadow&&(t.shadowColor="",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},em=class extends yt{colorize(t,n){t.stroke()}},Ko=class extends yt{constructor(t,n,e,i){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lineCap",{enumerable:!0,configurable:!0,writable:!0,value:i})}colorize(t,n){n!==void 0?t.strokeStyle=n:t.strokeStyle=this.color,t.lineWidth=this.width,this.lineJoin&&(t.lineJoin=this.lineJoin),this.lineCap&&(t.lineCap=this.lineCap)}},tm=class extends yt{constructor(t){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,n){t.setLineDash(this.dash)}},im=class extends yt{constructor(t){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,n){t.lineDashOffset=this.dashOffset}},nm=class extends yt{constructor(t,n,e,i){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:i})}path(t){t.rect(this.x,this.y,this.width,this.height)}addBounds(t){let n=this.x,e=this.y,i=n+this.width,r=e+this.height;vt(t,{x:n,y:e}),vt(t,{x:i,y:e}),vt(t,{x:n,y:r}),vt(t,{x:i,y:r})}},rm=class extends yt{constructor(t,n,e){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:e})}path(t){t.moveTo(this.x+this.radius,this.y),t.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(t){vt(t,{x:this.x-this.radius,y:this.y-this.radius}),vt(t,{x:this.x+this.radius,y:this.y+this.radius})}},am=class extends yt{constructor(t,n,e,i){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:i})}path(t){t.ellipse(0,0,this.radiusX,this.radiusY,0,0,Math.PI*2)}addBounds(t){vt(t,{x:this.x-this.radiusX,y:this.y-this.radiusY}),vt(t,{x:this.x+this.radiusX,y:this.y+this.radiusY})}},om=class extends yt{constructor(t,n,e,i,r,o){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:o})}path(t){this.radius>0&&t.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(t){let n=Ho(this.cx,this.cy,this.startAngle*Ea,this.endAngle*Ea,this.radius);vt(t,{x:n.left,y:n.top}),vt(t,{x:n.right,y:n.bottom})}},sm=class extends yt{constructor(t,n,e,i,r){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(t){this.radius>0&&t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(t){}},lm=class extends yt{constructor(t,n){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(t){t.lineTo(this.x,this.y)}addBounds(t){vt(t,{x:this.x,y:this.y})}},cm=class extends yt{constructor(t,n){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(t){t.moveTo(this.x,this.y)}addBounds(t){vt(t,{x:this.x,y:this.y})}},dm=class extends yt{path(t){t.closePath()}},mm=class extends yt{constructor(t,n,e,i,r,o){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:o})}path(t){t.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(t){vt(t,{x:this.cpX,y:this.cpY}),vt(t,{x:this.cpX2,y:this.cpY2}),vt(t,{x:this.toX,y:this.toY})}},um=class extends yt{constructor(t,n,e,i){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:i})}path(t){t.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(t){vt(t,{x:this.cpX,y:this.cpY}),vt(t,{x:this.toX,y:this.toY})}},hm=class extends yt{constructor(t,n,e,i,r){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:r})}colorize(t,n){this.opacity&&(t.fillStyle=this.color),t.shadowColor=this.color,t.shadowBlur=this.blur,t.shadowOffsetX=this.offsetX,t.shadowOffsetY=this.offsetY}colorizeGhost(t,n){}},pm=class extends yt{constructor(t,n,e,i,r){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(t){t.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(t){vt(t,{x:this.x,y:this.y}),vt(t,{x:this.width,y:this.height})}},gm=class extends Fa{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:Go.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(t){this._operations.push(t)}beginFill(t,n=1){this._fillAlpha=n,t?t instanceof oe?this._pushOp(new Qo(t.toCSS(n))):(this.isMeasured=!0,this._pushOp(new Qo(t))):this._pushOp(new Qo("rgba(0, 0, 0, "+n+")"))}endFill(){this._pushOp(new Jd(this._hasShadows))}endStroke(){this._pushOp(new em)}beginPath(){this._pushOp(new Zd)}lineStyle(t=0,n,e=1,i,r){this._strokeAlpha=e,n?n instanceof oe?this._pushOp(new Ko(t,n.toCSS(e),i,r)):this._pushOp(new Ko(t,n,i,r)):this._pushOp(new Ko(t,"rgba(0, 0, 0, "+e+")",i,r))}setLineDash(t){this._pushOp(new tm(t||[]))}setLineDashOffset(t=0){this._pushOp(new im(t))}drawRect(t,n,e,i){this._pushOp(new nm(t,n,e,i))}drawCircle(t,n,e){this._pushOp(new rm(t,n,e))}drawEllipse(t,n,e,i){this._pushOp(new am(t,n,e,i))}arc(t,n,e,i,r,o=!1){this._pushOp(new om(t,n,e,i,r,o))}arcTo(t,n,e,i,r){this._pushOp(new sm(t,n,e,i,r))}lineTo(t,n){this._pushOp(new lm(t,n))}moveTo(t,n){this._pushOp(new cm(t,n))}bezierCurveTo(t,n,e,i,r,o){this._pushOp(new mm(t,n,e,i,r,o))}quadraticCurveTo(t,n,e,i){this._pushOp(new um(t,n,e,i))}closePath(){this._pushOp(new dm)}shadow(t,n=0,e=0,i=0,r){this._hasShadows=!0,this._pushOp(new hm(r?t.toCSS(r):t.toCSS(this._fillAlpha||this._strokeAlpha),n,e,i))}image(t,n,e,i,r){this._pushOp(new pm(t,n,e,i,r))}svgPath(t){let n=0,e=0,i=null,r=null,o=null,s=null,l=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,c=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g,d;for(;(d=l.exec(t))!==null;){let p=d[1],g=d[2],m=[];for(;(d=c.exec(g))!==null;)m.push(d[1]);switch(p!=="S"&&p!=="s"&&p!=="C"&&p!=="c"&&(i=null,r=null),p!=="Q"&&p!=="q"&&p!=="T"&&p!=="t"&&(o=null,s=null),p){case"M":xi(p,m.length,2),n=+m[0],e=+m[1],this.moveTo(n,e);for(let b=2;b<m.length;b+=2)n=+m[b],e=+m[b+1],this.lineTo(n,e);break;case"m":xi(p,m.length,2),n+=+m[0],e+=+m[1],this.moveTo(n,e);for(let b=2;b<m.length;b+=2)n+=+m[b],e+=+m[b+1],this.lineTo(n,e);break;case"L":xi(p,m.length,2);for(let b=0;b<m.length;b+=2)n=+m[b],e=+m[b+1],this.lineTo(n,e);break;case"l":xi(p,m.length,2);for(let b=0;b<m.length;b+=2)n+=+m[b],e+=+m[b+1],this.lineTo(n,e);break;case"H":Wo(p,m.length,1);for(let b=0;b<m.length;++b)n=+m[b],this.lineTo(n,e);break;case"h":Wo(p,m.length,1);for(let b=0;b<m.length;++b)n+=+m[b],this.lineTo(n,e);break;case"V":Wo(p,m.length,1);for(let b=0;b<m.length;++b)e=+m[b],this.lineTo(n,e);break;case"v":Wo(p,m.length,1);for(let b=0;b<m.length;++b)e+=+m[b],this.lineTo(n,e);break;case"C":xi(p,m.length,6);for(let b=0;b<m.length;b+=6){let x=+m[b],y=+m[b+1];i=+m[b+2],r=+m[b+3],n=+m[b+4],e=+m[b+5],this.bezierCurveTo(x,y,i,r,n,e)}break;case"c":xi(p,m.length,6);for(let b=0;b<m.length;b+=6){let x=+m[b]+n,y=+m[b+1]+e;i=+m[b+2]+n,r=+m[b+3]+e,n+=+m[b+4],e+=+m[b+5],this.bezierCurveTo(x,y,i,r,n,e)}break;case"S":xi(p,m.length,4),(i===null||r===null)&&(i=n,r=e);for(let b=0;b<m.length;b+=4){let x=2*n-i,y=2*e-r;i=+m[b],r=+m[b+1],n=+m[b+2],e=+m[b+3],this.bezierCurveTo(x,y,i,r,n,e)}break;case"s":xi(p,m.length,4),(i===null||r===null)&&(i=n,r=e);for(let b=0;b<m.length;b+=4){let x=2*n-i,y=2*e-r;i=+m[b]+n,r=+m[b+1]+e,n+=+m[b+2],e+=+m[b+3],this.bezierCurveTo(x,y,i,r,n,e)}break;case"Q":xi(p,m.length,4);for(let b=0;b<m.length;b+=4)o=+m[b],s=+m[b+1],n=+m[b+2],e=+m[b+3],this.quadraticCurveTo(o,s,n,e);break;case"q":xi(p,m.length,4);for(let b=0;b<m.length;b+=4)o=+m[b]+n,s=+m[b+1]+e,n+=+m[b+2],e+=+m[b+3],this.quadraticCurveTo(o,s,n,e);break;case"T":xi(p,m.length,2),(o===null||s===null)&&(o=n,s=e);for(let b=0;b<m.length;b+=2)o=2*n-o,s=2*e-s,n=+m[b],e=+m[b+1],this.quadraticCurveTo(o,s,n,e);break;case"t":xi(p,m.length,2),(o===null||s===null)&&(o=n,s=e);for(let b=0;b<m.length;b+=2)o=2*n-o,s=2*e-s,n+=+m[b],e+=+m[b+1],this.quadraticCurveTo(o,s,n,e);break;case"A":case"a":let C=p==="a";eC(m),xi(p,m.length,7);for(let b=0;b<m.length;b+=7){let x=+m[b+5],y=+m[b+6];C&&(x+=n,y+=e);let w=Og({px:n,py:e,rx:+m[b],ry:+m[b+1],xAxisRotation:+m[b+2],largeArcFlag:kg(+m[b+3]),sweepFlag:kg(+m[b+4]),cx:x,cy:y});k(w,O=>{this.bezierCurveTo(O.x1,O.y1,O.x2,O.y2,O.x,O.y),n=O.x,e=O.y})}break;case"Z":case"z":Jy(p,m.length,0),this.closePath();break}}}_runPath(t){t.beginPath(),k(this._operations,n=>{n.path(t)})}_render(t,n=0){super._render(t);let e=t.layer.dirty,i=this._isInteractive(t),r=this._ghostOnly(n),o=this._drawGhost(t,n);if(e||i||r){let s=t.layer.context,l=this._renderer._ghostLayer.context;e&&!r&&(s.globalCompositeOperation=this.blendMode,s.beginPath());let c;o&&(l.beginPath(),c=this._getColorId()),k(this._operations,d=>{e&&!r&&(d.path(s),d.colorize(s,void 0)),o&&(d.pathGhost(l),d.colorizeGhost(l,c))})}}renderDetached(t){if(this.visible){this._setMatrix(),t.save();let n=this.mask;n&&(n._setMatrix(),n._transform(t,1),n._runPath(t),t.clip()),t.globalAlpha=this.compoundAlpha*this.alpha,this._transform(t,1),this.filter&&(t.filter=this.filter),t.globalCompositeOperation=this.blendMode,t.beginPath(),k(this._operations,e=>{e.path(t),e.colorize(t,void 0)}),t.restore()}}_addBounds(t){this.visible&&this.isMeasured&&k(this._operations,n=>{n.addBounds(t)})}},ql=class extends Fa{constructor(t,n,e){super(t),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"truncated",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=n,this.style=e}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}invalidateVisibility(){this.textVisible=!0,this.scale=this._originalScale||1}_shared(t){this.style.textAlign&&(t.textAlign=this.style.textAlign),this.style.direction&&(t.direction=this.style.direction),this.style.textBaseline&&(t.textBaseline=this.style.textBaseline)}_prerender(t,n=!1,e=!1){super._render(t);let i=t.layer.context,r=this._renderer._ghostLayer.context,o=this.style,s=this._getFontStyle(void 0,e);i.font=s,this._isInteractive(t)&&!n&&(r.font=s),o.fill&&(o.fill instanceof oe?i.fillStyle=o.fill.toCSS(o.fillOpacity!=null?o.fillOpacity:1):i.fillStyle=o.fill),o.shadowColor&&(t.layer.context.shadowColor=o.shadowColor.toCSS(o.shadowOpacity||1)),o.shadowBlur&&(t.layer.context.shadowBlur=o.shadowBlur),o.shadowOffsetX&&(t.layer.context.shadowOffsetX=o.shadowOffsetX),o.shadowOffsetY&&(t.layer.context.shadowOffsetY=o.shadowOffsetY),this._shared(i),this._isInteractive(t)&&!n&&(r.fillStyle=this._getColorId(),this._shared(r))}_getFontStyle(t,n=!1){let e=this.style,i=[];return t&&t.fontVariant?i.push(t.fontVariant):e.fontVariant&&i.push(e.fontVariant),n||(t&&t.fontWeight?i.push(t.fontWeight):e.fontWeight&&i.push(e.fontWeight)),t&&t.fontStyle?i.push(t.fontStyle):e.fontStyle&&i.push(e.fontStyle),t&&t.fontSize?(L(t.fontSize)&&(t.fontSize=t.fontSize+"px"),i.push(t.fontSize)):e.fontSize&&(L(e.fontSize)&&(e.fontSize=e.fontSize+"px"),i.push(e.fontSize)),t&&t.fontFamily?i.push(t.fontFamily):e.fontFamily?i.push(e.fontFamily):i.length&&i.push("Arial"),i.join(" ")}_render(t,n=0){if(this._textInfo||this._measure(t),this.textVisible){let e=this._isInteractive(t),i=t.layer.context,r=t.layer.dirty,o=this._renderer._ghostLayer.context,s=this._ghostOnly(n),l=this._drawGhost(t,n);i.save(),o.save(),this._prerender(t),k(this._textInfo,(c,d)=>{k(c.textChunks,(p,g)=>{if(p.style&&(i.save(),o.save(),s||(i.font=p.style),this._isInteractive(t)&&(o.font=p.style)),p.fill&&(i.save(),s||(i.fillStyle=p.fill.toCSS())),r&&!s&&i.fillText(p.text,p.offsetX,c.offsetY+p.offsetY),p.textDecoration=="underline"||p.textDecoration=="line-through"){let m=1,C=1,b=p.height,x=this.style.oversizedBehavior||"";if(["truncate","wrap","wrap-no-break"].indexOf(x)>-1){let O=this._measureText(p.text,i);p.width=O.actualBoundingBoxLeft+O.actualBoundingBoxRight}let y=p.offsetX;switch(this.style.textAlign){case"right":case"end":y-=p.width;break;case"center":y-=p.width/2;break}if(p.style)switch(jt.getTextStyle(p.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":m=2;break}b&&(C=b/20);let w;p.textDecoration=="line-through"?w=m+c.offsetY+p.offsetY-p.height/2:w=m+C*1.5+c.offsetY+p.offsetY,s||(i.save(),i.beginPath(),p.fill?i.strokeStyle=p.fill.toCSS():this.style.fill&&this.style.fill instanceof oe&&(i.strokeStyle=this.style.fill.toCSS()),i.lineWidth=m*C,i.moveTo(y,w),i.lineTo(y+p.width,w),i.stroke(),i.restore())}e&&this.interactive&&l&&o.fillText(p.text,p.offsetX,c.offsetY+p.offsetY),p.fill&&i.restore(),p.style&&(i.restore(),o.restore())})}),i.restore(),o.restore()}}_addBounds(t){if(this.visible&&this.isMeasured){let n=this._measure({inactive:this.inactive,layer:this.getLayer()});vt(t,{x:n.left,y:n.top}),vt(t,{x:n.right,y:n.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(t){let n=t.layer.context,e=this._renderer._ghostLayer.context,i=this.style.direction=="rtl";this._textInfo=[];let r=this.style.oversizedBehavior,o=this.style.maxWidth,s=L(o)&&r=="truncate",l=L(o)&&(r=="wrap"||r=="wrap-no-break");n.save(),e.save(),this._prerender(t,!0,this._ignoreFontWeight());let c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",d=this.text.toString().replace(/\r/g,"").split(/\n/),p=!0,g=0,m=0,C=0,b;k(d,(y,w)=>{let O;for(y==""?O=[{type:"value",text:""}]:O=jt.chunk(y,!1,this.style.ignoreFormatting);O.length>0;){let D={offsetY:C,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},F=this._measureText(c,n),ie=F.actualBoundingBoxAscent+F.actualBoundingBoxDescent;D.height=ie,D.ascent=F.actualBoundingBoxAscent;let G,se=this.style.textDecoration,de,ae,q=!1,W=!0,I=[],Y;Ro(O,(me,ei)=>{if(me.type=="format")if(me.text=="[/]")p||(n.restore(),e.restore(),p=!0),de=void 0,b=void 0,ae=void 0,se=this.style.textDecoration,Y=void 0,G=me.text;else{p||(n.restore(),e.restore());let Be=jt.getTextStyle(me.text),mt=this._getFontStyle(Be);n.save(),e.save(),n.font=mt,b=mt,G=me.text,Be.textDecoration&&(se=Be.textDecoration),Be.fill&&(de=Be.fill),Be.width&&(ae=Ht(Be.width)),Be.verticalAlign&&(Y=Be.verticalAlign),p=!1;let Rt=this._measureText(c,n),ci=Rt.actualBoundingBoxAscent+Rt.actualBoundingBoxDescent;ci>D.height&&(D.height=ci),Rt.actualBoundingBoxAscent>D.ascent&&(D.ascent=Rt.actualBoundingBoxAscent)}else if(me.type=="value"&&!q){let Be=this._measureText(me.text,n),mt=Be.actualBoundingBoxLeft+Be.actualBoundingBoxRight;if(s){this.truncated=void 0;let ti=W||this.style.breakWords||!1,Ni=this.style.ellipsis||"",qr=this._measureText(Ni,n),Vi=qr.actualBoundingBoxLeft+qr.actualBoundingBoxRight;if(D.width+mt>o){let La=o-D.width-Vi;me.text=this._truncateText(n,me.text,La,ti),me.text+=Ni,q=!0,this.truncated=!0}}else if(l&&D.width+mt>o){let ti=o-D.width,Ni=this._truncateText(n,me.text,ti,!1,W&&this.style.oversizedBehavior!="wrap-no-break");if(Ni=="")return this.textVisible=!0,!1;I=O.slice(ei+1),or(Ni)!=or(me.text)&&(I.unshift({type:"value",text:me.text.substr(Ni.length)}),G&&I.unshift({type:"format",text:G})),me.text=or(Ni),O=[],q=!0}let Rt=1,ci=1;if(b&&ae&&ae>mt){let ti=mt/ae;switch(this.style.textAlign){case"right":case"end":Rt=ti;break;case"center":Rt=ti,ci=ti;break;default:ci=ti}mt=ae}let tn=Be.actualBoundingBoxAscent+Be.actualBoundingBoxDescent;tn>D.height&&(D.height=tn),Be.actualBoundingBoxAscent>D.ascent&&(D.ascent=Be.actualBoundingBoxAscent),D.width+=mt,D.left+=Be.actualBoundingBoxLeft/Rt,D.right+=Be.actualBoundingBoxRight/ci,D.textChunks.push({style:b,fill:de,text:me.text,width:mt,height:tn,left:Be.actualBoundingBoxLeft,right:Be.actualBoundingBoxRight,ascent:Be.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:se,verticalAlign:Y}),W=!1}return!0}),this.style.lineHeight instanceof he?(D.height*=this.style.lineHeight.value,D.ascent*=this.style.lineHeight.value):(D.height*=this.style.lineHeight||1.2,D.ascent*=this.style.lineHeight||1.2),g<D.left&&(g=D.left),m<D.right&&(m=D.right),this._textInfo.push(D),C+=D.height,O=I||[]}}),p||(n.restore(),e.restore()),k(this._textInfo,(y,w)=>{let O=0;k(y.textChunks,D=>{if(D.offsetX=O+D.left-y.left,D.offsetY+=y.height-y.height*(this.style.baselineRatio||.19),O+=D.width*(i?-1:1),D.verticalAlign)switch(D.verticalAlign){case"super":D.offsetY-=y.height/2-D.height/2;break;case"sub":D.offsetY+=D.height/2;break}})});let x={left:i?-m:-g,top:0,right:i?g:m,bottom:C};if(r!=="none"){let y=this._fitRatio(x);if(y<1)if(r=="fit")L(this.style.minScale)&&y<this.style.minScale?(this.textVisible=!1,x.left=0,x.top=0,x.right=0,x.bottom=0):(this._originalScale||(this._originalScale=this.scale),this.scale=y,this.textVisible=!0);else if(r=="hide")this.textVisible=!1,x.left=0,x.top=0,x.right=0,x.bottom=0;else{switch(this.style.textAlign){case"right":case"end":x.left=i?o:-o,x.right=0;break;case"center":x.left=-o/2,x.right=o/2;break;default:x.left=0,x.right=i?-o:o}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return n.restore(),e.restore(),x}_fitRatio(t){let n=this.style.maxWidth,e=this.style.maxHeight;if(!L(n)&&!L(e))return 1;let i=t.right-t.left,r=t.bottom-t.top;return Math.min(n/i||1,e/r||1)}_truncateText(t,n,e,i=!1,r=!0){let o;do{if(i)n=n.slice(0,-1);else{let l=n.replace(/[^,;:!?\\\/\s]+[,;:!?\\\/\s]*$/g,"");if((l==""||l===n)&&r)i=!0;else{if(l=="")return n;n=l}}let s=this._measureText(n,t);o=s.actualBoundingBoxLeft+s.actualBoundingBoxRight}while(o>e&&n!="");return n}_measureText(t,n){let e=n.measureText(t),i={};if(e.actualBoundingBoxAscent==null){let o=document.createElement("div");o.innerText=t,o.style.visibility="hidden",o.style.position="absolute",o.style.top="-1000000px;",o.style.fontFamily=this.style.fontFamily||"",o.style.fontSize=this.style.fontSize+"",document.body.appendChild(o);let s=o.getBoundingClientRect();document.body.removeChild(o);let l=s.height,c=e.width;i={actualBoundingBoxAscent:l,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:c,fontBoundingBoxAscent:l,fontBoundingBoxDescent:0,width:c}}else i={actualBoundingBoxAscent:e.actualBoundingBoxAscent,actualBoundingBoxDescent:e.actualBoundingBoxDescent,actualBoundingBoxLeft:e.actualBoundingBoxLeft,actualBoundingBoxRight:e.actualBoundingBoxRight,fontBoundingBoxAscent:e.actualBoundingBoxAscent,fontBoundingBoxDescent:e.actualBoundingBoxDescent,width:e.width};let r=e.width;switch(this.style.textAlign){case"right":case"end":i.actualBoundingBoxLeft=r,i.actualBoundingBoxRight=0;break;case"center":i.actualBoundingBoxLeft=r/2,i.actualBoundingBoxRight=r/2;break;default:i.actualBoundingBoxLeft=0,i.actualBoundingBoxRight=r}return i}},fm=class{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:At(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"\u2026"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}},_m=class extends ql{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(t,n=0){switch(this.textType){case"circular":this._renderCircular(t,n);break;default:super._render(t,n);break}}_renderCircular(t,n=0){if(this.textVisible){this._prerender(t);let e=this._isInteractive(t),i=t.layer.context,r=t.layer.dirty,o=this._renderer._ghostLayer.context;i.save(),e&&o.save(),this._textInfo||this._measure(t);let s=this.radius||0,l=this.startAngle||0,c=0,d=this.orientation,p=d=="auto"?"auto":d=="inward",g=this.inside,m=this.style.textAlign||"left",C=this.kerning||0,b=m=="left"?1:-1,x=!this._textReversed,y=this._ghostOnly(n),w=this._drawGhost(t,n);if(p=="auto"){let O=0,D=0;k(this._textInfo,(F,ie)=>{let G=l+F.width/(s-F.height)/2*-b;G>O&&(O=G)}),m=="left"?D=(O+c/2)*Ea:m=="right"?D=(O-c/2)*Ea:D=l*Ea,D=cr(D),p=D>=270||D<=90}p==!0&&x&&(this._textInfo.reverse(),this._textReversed=!0),k(this._textInfo,(O,D)=>{let F=O.height;g||(s+=F),(b==-1&&p||b==1&&!p)&&x&&O.textChunks.reverse();let ie=l;c=0,m=="center"&&(ie+=O.width/(s-F)/2*-b,c=ie-l),ie+=Math.PI*(p?0:1),i.save(),e&&o.save(),y||i.rotate(ie),e&&o.rotate(ie);let G=0;k(O.textChunks,(se,de)=>{let ae=se.text,q=se.width;G=q/2/(s-F)*b,y||i.rotate(G),e&&o.rotate(G),se.style&&(i.save(),o.save(),y||(i.font=se.style),e&&(o.font=se.style)),se.fill&&(i.save(),y||(i.fillStyle=se.fill.toCSS())),y||(i.textBaseline="middle",i.textAlign="center"),e&&(o.textBaseline="middle",o.textAlign="center"),r&&!y&&i.fillText(ae,0,(p?1:-1)*(0-s+F/2)),e&&w&&o.fillText(ae,0,(p?1:-1)*(0-s+F/2)),se.fill&&i.restore(),se.style&&(i.restore(),o.restore()),G=(q/2+C)/(s-F)*b,y||i.rotate(G),e&&o.rotate(G)}),i.restore(),e&&o.restore(),g&&(s-=F)}),i.restore(),e&&o.restore()}}_measure(t){switch(this.textType){case"circular":return this._measureCircular(t);default:return super._measure(t)}}_measureCircular(t){let n=t.layer.context,e=this._renderer._ghostLayer.context,i=this.style.direction=="rtl",r=this.style.oversizedBehavior,o=this.style.maxWidth,s=L(o)&&r=="truncate",l=this.style.ellipsis||"",c;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,n.save(),e.save(),this._prerender(t,!0);let d=this.text.toString().replace(/\r/g,"").split(/\n/),p=!0,g=0,m=0;return k(d,(C,b)=>{let x=jt.chunk(C,!1,this.style.ignoreFormatting),y={offsetY:m,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},w,O,D;k(x,(F,ie)=>{if(F.type=="format"){if(F.text=="[/]")p||(n.restore(),e.restore(),p=!0),O=void 0,w=void 0,D=void 0;else{let G=jt.getTextStyle(F.text),se=this._getFontStyle(G);n.save(),e.save(),n.font=se,w=se,G.fill&&(O=G.fill),G.width&&(D=Ht(G.width)),p=!1}s&&(c=this._measureText(l,n))}else if(F.type=="value"){let G=F.text.match(/./ug)||[];i&&(G=lg(F.text),G.reverse());for(let se=0;se<G.length;se++){let de=G[se],ae=this._measureText(de,n),q=ae.width;w&&D&&D>q&&(q=D);let W=ae.actualBoundingBoxAscent+ae.actualBoundingBoxDescent;if(W>y.height&&(y.height=W),ae.actualBoundingBoxAscent>y.ascent&&(y.ascent=ae.actualBoundingBoxAscent),g+=q,s){c||(c=this._measureText(l,n));let I=c.actualBoundingBoxLeft+c.actualBoundingBoxRight;if(g+I>o){y.textChunks.length==1?this.textVisible=!1:(y.width+=I,y.left+=c.actualBoundingBoxLeft,y.right+=c.actualBoundingBoxRight,y.textChunks.push({style:w,fill:O,text:l,width:I,height:W+c.actualBoundingBoxDescent,left:c.actualBoundingBoxLeft,right:c.actualBoundingBoxRight,ascent:c.actualBoundingBoxAscent,offsetX:0,offsetY:W,textDecoration:void 0}));break}}y.width+=q,y.left+=ae.actualBoundingBoxLeft,y.right+=ae.actualBoundingBoxRight,y.textChunks.push({style:w,fill:O,text:de,width:q,height:W+ae.actualBoundingBoxDescent,left:ae.actualBoundingBoxLeft,right:ae.actualBoundingBoxRight,ascent:ae.actualBoundingBoxAscent,offsetX:0,offsetY:W,textDecoration:void 0})}}}),this.style.lineHeight instanceof he?y.height*=this.style.lineHeight.value:y.height*=this.style.lineHeight||1.2,this._textInfo.push(y),m+=y.height}),p||(n.restore(),e.restore()),r=="hide"&&g>o&&(this.textVisible=!1),k(this._textInfo,C=>{k(C.textChunks,b=>{b.offsetY+=Math.round((C.height-b.height+(C.ascent-b.ascent))/2)})}),n.restore(),e.restore(),{left:0,top:0,right:0,bottom:0}}},bm=class extends Fa{constructor(t,n){super(t),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=n}_dispose(){super._dispose(),this._imageMask&&Xo(this._imageMask)}getLocalBounds(){if(!this._localBounds){let t=0,n=0;this.width&&(t=this.width),this.height&&(n=this.height),this._localBounds={left:0,top:0,right:t,bottom:n},this._addBounds(this._localBounds)}return this._localBounds}_render(t,n=0){if(super._render(t),this.image){if(this.tainted===void 0&&(this.tainted=Dg(this.image),t.layer.tainted=!0),this.tainted&&this._renderer._omitTainted)return;let e=this._ghostOnly(n),i=this._drawGhost(t,n);if(t.layer.dirty&&!e){this.shadowColor&&(t.layer.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(t.layer.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(t.layer.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(t.layer.context.shadowOffsetY=this.shadowOffsetY);let r=this.width||this.image.naturalWidth,o=this.height||this.image.naturalHeight;t.layer.context.drawImage(this.image,0,0,r,o)}if(this.interactive&&this._isInteractive(t)&&i){let r=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(r,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(t){if(this._imageMask===void 0){let n=this.width||t.naturalWidth,e=this.height||t.naturalHeight,i=document.createElement("canvas");i.width=n,i.height=e;let r=i.getContext("2d");r.imageSmoothingEnabled=!1,r.fillStyle=this._getColorId(),r.fillRect(0,0,n,e),Dg(t)||(r.globalCompositeOperation="destination-in",r.drawImage(t,0,0,n,e)),this._imageMask=i}return this._imageMask}},vm=class{constructor(t,n,e,i){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),wn("touchevents")&&t instanceof Touch?this.id=t.identifier:this.id=null}},Zl=class extends Il{constructor(t){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new ym}),Object.defineProperty(this,"_deferredGhostLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_realWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_realHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t==null?this.resolution=window.devicePixelRatio:this.resolution=t,this.view.style.position="absolute",this.view.setAttribute("aria-hidden","true"),this.view.appendChild(this._layerDom),this._disposers.push(new qe(()=>{Ve(this._events,(n,e)=>{e.disposer.dispose()}),k(this.layers,n=>{Xo(n.view),n.exportableView&&Xo(n.exportableView)}),Xo(this._ghostLayer.view),Xo(this._patternCanvas)})),this._disposers.push(Al(()=>{t==null&&(this.resolution=window.devicePixelRatio)})),wn("touchevents")){let n=e=>{this._dragging.length!==0&&Ro(this._dragging,i=>i.value.shouldCancelTouch()?(e.preventDefault(),!1):!0),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(nt(window,"touchstart",n,{passive:!1})),this._disposers.push(nt(this.view,"touchstart",n,{passive:!1})),this._disposers.push(nt(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(nt(window,"click",e=>{this._touchActive=!1},{passive:!0})),this._disposers.push(nt(this.view,"click",e=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}wn("wheelevents")&&this._disposers.push(nt(this.view,"wheel",n=>{let e=!1;this._hovering.forEach(i=>{if(i.wheelable)return e=!0,!1}),e&&n.preventDefault()},{passive:!1}))}resetImageArray(){this._ghostLayer.imageArray=void 0}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(t){t?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(t,n,e,i){return this.defaultLayer.context.createLinearGradient(t,n,e,i)}createRadialGradient(t,n,e,i,r,o){return this.defaultLayer.context.createRadialGradient(t,n,e,i,r,o)}createPattern(t,n,e,i,r){return this._patternCanvas.width=i,this._patternCanvas.height=r,this._patternContext.clearRect(0,0,i,r),n.renderDetached(this._patternContext),t.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,e)}makeContainer(){return new qd(this)}makeGraphics(){return new gm(this)}makeText(t,n){return new ql(this,t,n)}makeTextStyle(){return new fm}makeRadialText(t,n){return new _m(this,t,n)}makePicture(t){return new bm(this,t)}resizeLayer(t){t.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resize(t,n,e,i){this._realWidth=t,this._realHeight=n,this._calculatedWidth=e,this._calculatedHeight=i,k(this.layers,r=>{r&&(r.dirty=!0,this.resizeLayer(r))}),this.resizeGhost(),this.view.style.width=e+"px",this.view.style.height=i+"px"}createDetachedLayer(t=!1){let n=document.createElement("canvas"),e=n.getContext("2d",{willReadFrequently:t}),i=new Cm(n,e);return n.style.position="absolute",n.style.top="0px",n.style.left="0px",i}getLayerByOrder(t){let n=this.layers,e=n.length;for(let i=0;i<e;i++){let r=n[i];if(r.order==t)return r}}getLayer(t,n=!0){let e=this.getLayerByOrder(t);if(e)return e;let i=this.createDetachedLayer(t==99);i.order=t,i.visible=n,i.view.className="am5-layer-"+t,i.visible&&this.resizeLayer(i);let r=this.layers;r.push(i),r.sort((c,d)=>c.order>d.order?1:c.order<d.order?-1:0);let o=r.length,s=nr(r,i),l;for(let c=s+1;c<o;c++)if(r[c].visible){l=r[c];break}return i.visible&&(l===void 0?this._layerDom.appendChild(i.view):this._layerDom.insertBefore(i.view,l.view)),i}render(t){this._dirtyLayers.length=0,this._deferredGhostLayers=[],k(this.layers,e=>{e&&e.dirty&&e.visible&&(this._dirtyLayers.push(e),e.clear())}),this._ghostLayer.clear(),t.render({inactive:null,layer:this.defaultLayer});let n=this._deferredGhostLayers;if(n.length&&(n.sort((e,i)=>e-i),k(n,e=>{t.render({inactive:null,layer:this.defaultLayer},e)})),this._ghostLayer.context.restore(),k(this.layers,e=>{if(e){let i=e.context;i.beginPath(),i.moveTo(0,0),i.stroke()}}),k(this._dirtyLayers,e=>{e.context.restore(),e.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){let{events:e,target:i,native:r}=this._lastPointerMoveEvent;k(e,o=>{this._dispatchGlobalMousemove(o,i,r)})}}paintId(t){let n=tC(++this._colorId),e=oe.fromHex(n).toCSS();return this._colorMap[e]=t,e}_removeObject(t){t._colorId!==void 0&&delete this._colorMap[t._colorId]}_adjustBoundingBox(t){let n=this._ghostLayer.margin;return new DOMRect(-n.left,-n.top,t.width+n.left+n.right,t.height+n.top+n.bottom)}getEvent(t,n=!0){let e=this.view.getBoundingClientRect(),i=t.clientX||0,r=t.clientY||0,o=this._calculatedWidth/this._realWidth,s=this._calculatedHeight/this._realHeight,l={x:i-e.left,y:r-e.top},c={x:(i-(n?e.left:0))*o,y:(r-(n?e.top:0))*s};return new vm(t,l,c,this._adjustBoundingBox(e))}_getHitTarget(t,n,e){if(n.width===0||n.height===0||t.x<n.left||t.x>n.right||t.y<n.top||t.y>n.bottom||!e||!this._layerDom.contains(e))return;let i=this._ghostLayer.getImageData(t,n);if(i.data[0]===0&&i.data[1]===0&&i.data[2]===0)return!1;let r=oe.fromRGB(i.data[0],i.data[1],i.data[2]).toCSS();return this._colorMap[r]}getObjectAtPoint(t){let n=this._ghostLayer.getImageArray(t);if(n[0]===0&&n[1]===0&&n[2]===0)return;let e=oe.fromRGB(n[0],n[1],n[2]).toCSS();return this._colorMap[e]}_withEvents(t,n){let e=this._events[t];if(e!==void 0){e.dispatching=!0;try{n(e)}finally{e.dispatching=!1,e.cleanup&&(e.cleanup=!1,Lr(e.callbacks,i=>!i.disposed),e.callbacks.length===0&&(e.disposer.dispose(),delete this._events[t]))}}}_dispatchEventAll(t,n){this.interactionsEnabled&&this._withEvents(t,e=>{k(e.callbacks,i=>{i.disposed||i.callback.call(i.context,n)})})}_dispatchEvent(t,n,e){if(!this.interactionsEnabled)return!1;let i=!1;return this._withEvents(t,r=>{k(r.callbacks,o=>{!o.disposed&&o.object===n&&(o.callback.call(o.context,e),i=!0)})}),i}_dispatchMousedown(t,n){let e=t.button;if(e!=0&&e!=2&&e!=1&&e!==void 0)return;let i=this.getEvent(t),r=this._getHitTarget(i.originalPoint,i.bbox,n);if(r){let o=i.id,s=!1;Kl(r,l=>{let c={id:o,value:l};return this._mousedown.push(c),!s&&this._dispatchEvent("pointerdown",l,i)&&(s=!0,this._dragging.some(p=>p.value===l&&p.id===o)||this._dragging.push(c)),!0})}}_dispatchGlobalMousemove(t,n,e){let i=this.getEvent(t),r=this._getHitTarget(i.originalPoint,i.bbox,n);i.native=e,r?(this._hovering.forEach(o=>{o.contains(r)||(this._hovering.delete(o),o.cursorOverStyle&&Lo(document.body,"cursor",o._replacedCursorStyle),this._dispatchEvent("pointerout",o,i))}),i.native&&Kl(r,o=>(this._hovering.has(o)||(this._hovering.add(o),o.cursorOverStyle&&(o._replacedCursorStyle=ig(document.body,"cursor"),Lo(document.body,"cursor",o.cursorOverStyle)),this._dispatchEvent("pointerover",o,i)),!0))):(this._hovering.forEach(o=>{o.cursorOverStyle&&Lo(document.body,"cursor",o._replacedCursorStyle),this._dispatchEvent("pointerout",o,i)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",i)}removeHovering(t){this._hovering.delete(t),t.cursorOverStyle&&Lo(document.body,"cursor",t._replacedCursorStyle)}_dispatchGlobalMouseup(t,n){let e=this.getEvent(t);e.native=n,this._dispatchEventAll("globalpointerup",e)}_dispatchDragMove(t){if(this._dragging.length!==0){let n=this.getEvent(t),e=n.id;this._dragging.forEach(i=>{i.id===e&&this._dispatchEvent("pointermove",i.value,n)})}}_dispatchDragEnd(t,n){let e=t.button,i;if(e==0||e===void 0)i="click";else if(e==2)i="rightclick";else if(e==1)i="middleclick";else return;let r=this.getEvent(t),o=r.id;if(this._mousedown.length!==0){let s=this._getHitTarget(r.originalPoint,r.bbox,n);s&&this._mousedown.forEach(l=>{l.id===o&&l.value.contains(s)&&this._dispatchEvent(i,l.value,r)}),this._mousedown.length=0}this._dragging.length!==0&&(this._dragging.forEach(s=>{s.id===o&&this._dispatchEvent("pointerup",s.value,r)}),this._dragging.length=0)}_dispatchDoubleClick(t,n){let e=this.getEvent(t),i=this._getHitTarget(e.originalPoint,e.bbox,n);i&&Kl(i,r=>!this._dispatchEvent("dblclick",r,e))}_dispatchWheel(t,n){let e=this.getEvent(t),i=this._getHitTarget(e.originalPoint,e.bbox,n);i&&Kl(i,r=>!this._dispatchEvent("wheel",r,e))}_makeSharedEvent(t,n){if(this._listeners[t]===void 0){let e=n();this._listeners[t]=new Sa(()=>{delete this._listeners[t],e.dispose()})}return this._listeners[t].increment()}_onPointerEvent(t,n){let e=!1,i=null;function r(){i=null,e=!1}return new kt([new qe(()=>{i!==null&&clearTimeout(i),r()}),nt(this.view,Fl(t),o=>{e=!0,i!==null&&clearTimeout(i),i=window.setTimeout(r,0)}),iC(window,t,(o,s)=>{i!==null&&(clearTimeout(i),i=null),n(o,s,e),e=!1})])}_initEvent(t){switch(t){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{let n=(e,i,r)=>{this._lastPointerMoveEvent={events:e,target:i,native:r},k(e,o=>{this._dispatchGlobalMousemove(o,i,r)})};return new kt([this._onPointerEvent("pointerdown",n),this._onPointerEvent("pointermove",n)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{let n=this._onPointerEvent("pointerup",(i,r,o)=>{k(i,s=>{this._dispatchGlobalMouseup(s,o)}),this._lastPointerMoveEvent={events:i,target:r,native:o}}),e=this._onPointerEvent("pointercancel",(i,r,o)=>{k(i,s=>{this._dispatchGlobalMouseup(s,o)}),this._lastPointerMoveEvent={events:i,target:r,native:o}});return new qe(()=>{n.dispose(),e.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{let n=this._onPointerEvent("pointerdown",(o,s)=>{k(o,l=>{this._dispatchMousedown(l,s)})}),e=this._onPointerEvent("pointermove",o=>{k(o,s=>{this._dispatchDragMove(s)})}),i=this._onPointerEvent("pointerup",(o,s)=>{k(o,l=>{this._dispatchDragEnd(l,s)})}),r=this._onPointerEvent("pointercancel",(o,s)=>{k(o,l=>{this._dispatchDragEnd(l,s)})});return new qe(()=>{n.dispose(),e.dispose(),i.dispose(),r.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",(n,e)=>{k(n,i=>{this._dispatchDoubleClick(i,e)})}));case"wheel":return this._makeSharedEvent("wheel",()=>nt(this.view,Fl("wheel"),n=>{this._dispatchWheel(n,kd(n))},{passive:!1}))}}_addEvent(t,n,e,i){let r=this._events[n];r===void 0&&(r=this._events[n]={disposer:this._initEvent(n),callbacks:[],dispatching:!1,cleanup:!1});let o={object:t,context:i,callback:e,disposed:!1};return r.callbacks.push(o),new qe(()=>{o.disposed=!0,r.dispatching?r.cleanup=!0:(Ot(r.callbacks,o),r.callbacks.length===0&&(r.disposer.dispose(),delete this._events[n]))})}getCanvas(t,n){this.render(t),n||(n={});let e=this.resolution,i=Math.floor(this._calculatedWidth*this.resolution),r=Math.floor(this._calculatedHeight*this.resolution);if(n.minWidth&&n.minWidth>i){let m=n.minWidth/i;m>e&&(e=m*this.resolution)}if(n.minHeight&&n.minHeight>r){let m=n.minHeight/r;m>e&&(e=m*this.resolution)}if(n.maxWidth&&n.maxWidth<i){let m=n.maxWidth/i;m<e&&(e=m*this.resolution)}if(n.maxHeight&&n.maxHeight>r){let m=n.maxHeight/r;m<e&&(e=m*this.resolution)}n.maintainPixelRatio&&(e/=this.resolution);let o=[],s=!1,l=document.createElement("canvas");e!=this.resolution&&(s=!0,i=i*e/this.resolution,r=r*e/this.resolution),l.width=i,l.height=r,l.style.position="fixed",l.style.top="-10000px",this.view.appendChild(l),o.push(l);let c=l.getContext("2d"),d=0,p=0,g=!1;return k(this.layers,m=>{if(m&&m.visible&&(m.tainted||s)){g=!0,m.exportableView=m.view,m.exportableContext=m.context,m.view=document.createElement("canvas"),m.view.style.position="fixed",m.view.style.top="-10000px",this.view.appendChild(m.view),o.push(m.view);let C=0,b=0;m.margin&&(C+=m.margin.left||0+m.margin.right||0,b+=m.margin.top||0+m.margin.bottom||0),m.view.width=i+C,m.view.height=r+b,m.context=m.view.getContext("2d"),m.dirty=!0,m.scale=e}}),g&&(this._omitTainted=!0,this.render(t),this._omitTainted=!1),k(this.layers,m=>{if(m&&m.visible){let C=0,b=0;m.margin&&(C=-(m.margin.left||0)*this.resolution,b=-(m.margin.top||0)*this.resolution),c.drawImage(m.view,C,b),m.exportableView&&(m.view=m.exportableView,m.exportableView=void 0),m.exportableContext&&(m.context=m.exportableContext,m.exportableContext=void 0),d<m.view.clientWidth&&(d=m.view.clientWidth),p<m.view.clientHeight&&(p=m.view.clientHeight),m.scale=void 0}}),l.style.width=d+"px",l.style.height=p+"px",k(o,m=>{m.style.position="",m.style.top="",this.view.removeChild(m)}),l}},ym=class{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"imageArray",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(t,n,e,i,r){this._resolution=r,t+=this.margin.left+this.margin.right,n+=this.margin.top+this.margin.bottom,e+=this.margin.left+this.margin.right,i+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(t*r),this._height=Math.floor(n*r),this.view.width=this._width,this.view.style.width=e+"px",this.view.height=this._height,this.view.style.height=i+"px"}getImageData(t,n){return this.context.getImageData(Math.round((t.x-n.left)/n.width*this._width),Math.round((t.y-n.top)/n.height*this._height),1,1)}getImageArray(t){this.imageArray||(this.imageArray=this.context.getImageData(0,0,this._width,this._height).data);let n=this.imageArray,e=Math.round(t.x*this._resolution),r=(Math.round(t.y*this._resolution)*this._width+e)*4;return[n[r],n[r+1],n[r+2],n[r+3]]}setMargin(t){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,k(t,n=>{n.margin&&(this.margin.left=Math.max(this.margin.left,n.margin.left),this.margin.right=Math.max(this.margin.right,n.margin.right),this.margin.top=Math.max(this.margin.top,n.margin.top),this.margin.bottom=Math.max(this.margin.bottom,n.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}},Cm=class{constructor(t,n){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=t,this.context=n}resize(t,n,e,i,r){this.width!=null&&(t=this.width,e=this.width),this.height!=null&&(n=this.height,i=this.height),this.margin?(t+=this.margin.left+this.margin.right,n+=this.margin.top+this.margin.bottom,e+=this.margin.left+this.margin.right,i+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(t*r),this._height=Math.floor(n*r),this.view.width=this._width,this.view.style.width=e+"px",this.view.height=this._height,this.view.style.height=i+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}};function Tg(a,t){a==null?requestAnimationFrame(t):setTimeout(()=>{requestAnimationFrame(t)},1e3/a)}var qo=class a{constructor(t,n={},e){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyAnimation",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new yi}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:Xl.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:Wl}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Hl.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Gl.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Yl.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipNextGroupJump",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:bn.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:_n.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:Li.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_systemTooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=n,n.accessible==!1&&(this._a11yD=!0),n.useSafeResolution==null&&(n.useSafeResolution=!0);let i;n.useSafeResolution&&(i=rg()),this._renderer=new Zl(i);let r;if(t instanceof HTMLElement?r=t:r=document.getElementById(t),k(Zi.rootElements,l=>{if(l.dom===r)if(Zi.autoDispose)l.dispose();else throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=zr.new(this,{}),r===null)throw new Error("Could not find HTML element with id `"+t+"`");this.dom=r;let o=document.createElement("div");o.style.position="relative",o.style.width="100%",o.style.height="100%",r.appendChild(o);let s=n.tooltipContainerBounds;s&&(this._tooltipContainerSettings=s),this._inner=o,this._updateComputedStyles(),Zi.rootElements.push(this)}static new(t,n){let e=new a(t,n,!0);return e._init(),e}moveDOM(t){let n;if(t instanceof HTMLElement?n=t:n=document.getElementById(t),n){for(;this.dom.childNodes.length>0;)n.appendChild(this.dom.childNodes[0]);this.dom=n,this._initResizeSensor(),this.resize()}}_handleLogo(){if(this._logo){let t=this.dom.offsetWidth,n=this.dom.offsetHeight;t<=150||n<=60?this._logo.hide():this._logo.show()}}_showBranding(){if(!this._logo){let t=this.tooltipContainer.children.push(Re.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:At(100),centerY:fe,tooltipY:10,tooltipText:"Created using amCharts 5",tooltipX:fe,cursorOverStyle:"pointer",background:Ci.new(this,{fill:Zt(4671320),fillOpacity:0,tooltipY:5})}));t.set("tooltip",this.systemTooltip),t.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),t.states.create("hover",{}),t.children.push(Dt.new(this,{stroke:Zt(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:Zt(3976191)}),t.children.push(Dt.new(this,{stroke:Zt(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:Zt(4671320)}),this._logo=t,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(t){return this._settings.calculateSize?this._settings.calculateSize(t):{width:t.width,height:t.height}}_init(){let t=this._settings;t.accessible!==!1&&(t.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),t.ariaLabel&&this._inner.setAttribute("aria-label",t.ariaLabel),t.role&&this._inner.setAttribute("role",t.role));let n=this._renderer,e=this._getRealSize(),i=this._getCalculatedSize(e),r=Math.floor(i.width),o=Math.floor(i.height),s=Math.floor(e.width),l=Math.floor(e.height),c=Re.new(this,{visible:!0,width:r,height:o});this._rootContainer=c,this._rootContainer._defaultThemes.push(Ql.new(this));let d=c.children.push(Re.new(this,{visible:!0,width:fe,height:fe}));this.container=d,n.resize(s,l,r,o),this._inner.appendChild(n.view),this._initResizeSensor();let p=document.createElement("div");if(this._htmlElementContainer=p,p.className="am5-html-container",p.style.position="absolute",p.style.pointerEvents="none",this._tooltipContainerSettings||(p.style.overflow="hidden"),this._inner.appendChild(p),this._a11yD!==!0){let g=document.createElement("div");g.className="am5-reader-container",g.setAttribute("role","alert"),g.style.position="absolute",g.style.width="1px",g.style.height="1px",g.style.overflow="hidden",g.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=g,this._inner.appendChild(this._readerAlertElement);let m=document.createElement("div");m.className="am5-focus-container",m.style.position="absolute",m.style.pointerEvents="none",m.style.top="0px",m.style.left="0px",m.style.overflow="hidden",m.style.width=r+"px",m.style.height=o+"px",m.setAttribute("role","graphics-document"),sr(m,!1),this._focusElementContainer=m,this._inner.appendChild(this._focusElementContainer);let C=document.createElement("div");this._tooltipElementContainer=C,C.className="am5-tooltip-container",this._inner.appendChild(C),wn("keyboardevents")&&(this._disposers.push(nt(window,"keydown",b=>{let x=jo(b);x=="Shift"?this._isShift=!0:x=="Tab"&&(this._isShift=b.shiftKey)})),this._disposers.push(nt(window,"keyup",b=>{jo(b)=="Shift"&&(this._isShift=!1)})),this._disposers.push(nt(m,"click",()=>{let b=this._focusedSprite;if(b){let x=b.get("clickAnnounceText","");x!==""&&this.readerAlert(x);let y=n.getEvent(new MouseEvent("click"));b.events.dispatch("click",{type:"click",originalEvent:y.event,point:y.point,simulated:!0,target:b})}})),this._disposers.push(nt(m,"keydown",b=>{let x=this._focusedSprite;if(x){b.key=="Escape"&&(eg(),this._focusedSprite=void 0);let y=0,w=0,O=jo(b);switch(O){case"Enter":case" ":let D=x.get("clickAnnounceText","");if(D!==""&&this.readerAlert(D),O==" "&&x.get("role")!="checkbox")return;b.preventDefault();let F=n.getEvent(new MouseEvent("mouse"));x.events.dispatch("click",{type:"click",originalEvent:F.event,point:F.point,simulated:!0,target:x});return;case"ArrowLeft":y=-6;break;case"ArrowRight":y=6;break;case"ArrowUp":w=-6;break;case"ArrowDown":w=6;break;default:return}if(y!=0||w!=0){if(b.preventDefault(),!x.isDragging()){this._keyboardDragPoint={x:0,y:0};let ie=n.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));ie.point={x:0,y:0},x.events.isEnabled("pointerdown")&&x.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:ie.event,point:ie.point,simulated:!0,target:x})}let D=this._keyboardDragPoint;D.x+=y,D.y+=w;let F=n.getEvent(new MouseEvent("mousemove",{clientX:D.x,clientY:D.y}),!1);x.events.isEnabled("globalpointermove")&&x.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:F.event,point:F.point,simulated:!0,target:x})}}})),this._disposers.push(nt(m,"keyup",b=>{if(this._focusedSprite){let x=this._focusedSprite,y=jo(b);switch(y){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":if(x.isDragging()){let O=this._keyboardDragPoint,D=n.getEvent(new MouseEvent("mouseup",{clientX:O.x,clientY:O.y}));x.events.isEnabled("globalpointerup")&&x.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:D.event,point:D.point,simulated:!0,target:x}),this._keyboardDragPoint=void 0;return}else if(x.get("focusableGroup")){let O=x.get("focusableGroup"),D=this._tabindexes.filter(G=>!!(G.get("focusableGroup")==O&&G.getPrivate("focusable")!==!1&&G.isVisibleDeep())),F=D.indexOf(x),ie=D.length-1;F+=y=="ArrowRight"||y=="ArrowDown"?1:-1,F<0?F=ie:F>ie&&(F=0),tg(D[F].getPrivate("focusElement").dom)}break;case"Tab":let w=x.get("focusableGroup");if(w&&this._isShift){this._skipNextGroupJump||(this._focusNext(x.getPrivate("focusElement").dom,-1,w),this._skipNextGroupJump=!0);return}break}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}get systemTooltip(){if(!this._systemTooltip){let t=Sn.new(this,{themeTags:["system"]});this._systemTooltip=t}return this._systemTooltip}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new zl(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){let t=this._getRealSize(),n=this._getCalculatedSize(t),e=Math.floor(n.width),i=Math.floor(n.height);if(e>0&&i>0){let r=Math.floor(t.width),o=Math.floor(t.height),s=this._htmlElementContainer;if(s.style.width=e+"px",s.style.height=i+"px",this._a11yD!==!0){let c=this._focusElementContainer;c.style.width=e+"px",c.style.height=i+"px"}this._renderer.resize(r,o,e,i);let l=this._rootContainer;l.setPrivate("width",e),l.setPrivate("height",i),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(t){k(this._tickers,n=>{n(t)})}_runAnimations(t){let n=0;return Lr(this._animations,e=>{let i=e._runAnimation(t);return i===lr.Stopped?!1:(i===lr.Playing&&++n,!0)}),this._isDirtyAnimation=!1,n===0}_runDirties(){let t={};for(;this._isDirtyParents;)this._isDirtyParents=!1,ct(this._dirtyParents).forEach(o=>{let s=this._dirtyParents[o];delete this._dirtyParents[o],s.isDisposed()||(t[s.uid]=s,s._prepareChildren())});ct(t).forEach(o=>{t[o]._updateChildren()});let n=[];ct(this._dirty).forEach(o=>{let s=this._dirty[o];s.isDisposed()?delete this._dirty[s.uid]:(n.push(s),s._beforeChanged())}),n.forEach(o=>{o._changed(),delete this._dirty[o.uid],o._clearDirty()}),this._isDirty=!1;let e={},i=[];ct(this._dirtyBounds).forEach(o=>{let s=this._dirtyBounds[o];delete this._dirtyBounds[o],s.isDisposed()||(e[s.uid]=s.depth(),i.push(s))}),this._positionHTMLElements(),i.sort((o,s)=>fn(e[s.uid],e[o.uid])),i.forEach(o=>{o._updateBounds()});let r=this._dirtyPositions;ct(r).forEach(o=>{let s=r[o];delete r[o],s.isDisposed()||s._updatePosition()}),n.forEach(o=>{o._afterChanged()}),ct(t).forEach(o=>{t[o]._childrenPrep=!1,t[o]._childrenUpdt=!1})}_renderFrame(t){if(this._updateTick){this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:t}),this._checkComputedStyles(),this._runTickers(t);let n=this._runAnimations(t);return this._runDirties(),this._render(),this._renderer.resetImageArray(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:t}),this._tickers.length===0&&n&&!this._isDirtyAnimation&&!this._isDirty}else return!0}_runTicker(t,n){this.isDisposed()||(this.animationTime=t,this._renderFrame(t)?(this._ticker=null,this.animationTime=null):this._paused||(n?this._ticker:Tg(this.fps,this._ticker)))}_runTickerNow(t=1e4){if(!this.isDisposed()){let n=performance.now()+t;for(;;){let e=performance.now();if(e>=n){this.animationTime=null;break}if(this.animationTime=e,this._renderFrame(e)){this.animationTime=null;break}}}}_startTicker(){this._ticker===null&&(this.animationTime=null,this._ticker=t=>{this._runTicker(t)},Tg(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(t){this._updateTick=t,t&&this._startTicker()}_addDirtyEntity(t){this._isDirty=!0,this._dirty[t.uid]===void 0&&(this._dirty[t.uid]=t),this._startTicker()}_addDirtyParent(t){this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[t.uid]===void 0&&(this._dirtyParents[t.uid]=t),this._startTicker()}_addDirtyBounds(t){this._isDirty=!0,this._dirtyBounds[t.uid]===void 0&&(this._dirtyBounds[t.uid]=t),this._startTicker()}_addDirtyPosition(t){this._isDirty=!0,this._dirtyPositions[t.uid]===void 0&&(this._dirtyPositions[t.uid]=t),this._startTicker()}_addAnimation(t){this._isDirtyAnimation=!0,this._animations.indexOf(t)===-1&&this._animations.push(t),this._startTicker()}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(t){return this._tickers.push(t),this._startTicker(),new qe(()=>{Ot(this._tickers,t)})}markDirtyGlobal(t){t||(t=this.container),t.walkChildren(n=>{n instanceof Re&&this.markDirtyGlobal(n),n.markDirty(),n.markDirtyBounds()})}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),k(this._disposers,t=>{t.dispose()}),this._inner&&Jp(this._inner),Fi(Zi.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(t){if(this._a11yD!==!0){let n=this._readerAlertElement;t=Dd(t),n.innerHTML==t&&(n.innerHTML=""),n.innerHTML=t}}setThemes(t){this._rootContainer.set("themes",t);let n=this.tooltipContainer;n&&n._applyThemes();let e=this.interfaceColors;e&&e._applyThemes()}_addTooltip(){if(!this.tooltipContainer){let t=this._tooltipContainerSettings,n=this._rootContainer.children.push(Re.new(this,{position:"absolute",isMeasured:!1,width:fe,height:fe,layer:t?35:30,layerMargin:t||void 0}));this.tooltipContainer=n;let e=Sn.new(this,{});this.container.set("tooltip",e),e.hide(0),this._tooltip=e}}_registerTabindexOrder(t){this._a11yD!=!0&&(t.get("focusable")?ar(this._tabindexes,t):Fi(this._tabindexes,t),this._invalidateTabindexes())}_unregisterTabindexOrder(t){this._a11yD!=!0&&(Fi(this._tabindexes,t),this._invalidateTabindexes())}_invalidateTabindexes(){if(this._a11yD==!0)return;this._tabindexes.sort((n,e)=>{let i=n.get("tabindexOrder",0),r=e.get("tabindexOrder",0);return i==r?0:i>r?1:-1});let t=[];k(this._tabindexes,(n,e)=>{n.getPrivate("focusElement")?this._moveFocusElement(e,n):this._makeFocusElement(e,n);let i=n.get("focusableGroup");i&&n.getPrivate("focusable")!==!1&&(t.indexOf(i)!==-1?n.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):t.push(i))})}_updateCurrentFocus(){this._a11yD!=!0&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(t,n){if(this._a11yD==!0||(n||(n=t.getPrivate("focusElement").dom),!n))return;let e=t.get("role");e?n.setAttribute("role",e):n.removeAttribute("role");let i=t.get("ariaLabel");if(i){let b=ur(t,i);n.setAttribute("aria-label",b)}else n.removeAttribute("aria-label");let r=t.get("ariaLive");r?n.setAttribute("aria-live",r):n.removeAttribute("aria-live");let o=t.get("ariaChecked");o!=null&&e&&["checkbox","option","radio","menuitemcheckbox","menuitemradio","treeitem"].indexOf(e)!==-1?n.setAttribute("aria-checked",o?"true":"false"):n.removeAttribute("aria-checked");let s=t.get("ariaCurrent");s!=null?n.setAttribute("aria-current",s):n.removeAttribute("aria-current");let l=t.get("ariaSelected");l!=null&&e&&["gridcell","option","row","tab","columnheader","rowheader","treeitem"].indexOf(e)!==-1?n.setAttribute("aria-selected",l?"true":"false"):n.removeAttribute("aria-selected"),t.get("ariaHidden")?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden");let c=t.get("ariaOrientation");c?n.setAttribute("aria-orientation",c):n.removeAttribute("aria-orientation");let d=t.get("ariaValueNow");d?n.setAttribute("aria-valuenow",d):n.removeAttribute("aria-valuenow");let p=t.get("ariaValueMin");p?n.setAttribute("aria-valuemin",p):n.removeAttribute("aria-valuemin");let g=t.get("ariaValueMax");g?n.setAttribute("aria-valuemax",g):n.removeAttribute("aria-valuemax");let m=t.get("ariaValueText");m?n.setAttribute("aria-valuetext",m):n.removeAttribute("aria-valuetext");let C=t.get("ariaControls");C?n.setAttribute("aria-controls",C):n.removeAttribute("aria-controls"),t.get("visible")&&t.get("opacity")!==0&&t.get("role")!="tooltip"&&!t.isHidden()&&t.getPrivate("focusable")!==!1&&(t.height()||t.width())?(n.getAttribute("tabindex")!="-1"&&n.setAttribute("tabindex",""+this.tabindex),n.removeAttribute("aria-hidden")):(n.removeAttribute("tabindex"),n.setAttribute("aria-hidden","true"))}_makeFocusElement(t,n){if(n.getPrivate("focusElement")||this._a11yD==!0)return;let e=document.createElement("div");n.get("role")!="tooltip"&&(e.tabIndex=this.tabindex),e.style.position="absolute",sr(e,!1);let i=[];n.setPrivate("focusElement",{dom:e,disposers:i}),this._decorateFocusElement(n),i.push(nt(e,"focus",r=>{this._handleFocus(r)})),i.push(nt(e,"blur",r=>{this._handleBlur(r)})),this._moveFocusElement(t,n)}_removeFocusElement(t){if(this._a11yD==!0)return;Fi(this._tabindexes,t);let n=t.getPrivate("focusElement");n&&(this._focusElementContainer.removeChild(n.dom),k(n.disposers,i=>{i.dispose()}))}_hideFocusElement(t){if(this._a11yD==!0)return;let n=t.getPrivate("focusElement");n.dom.style.display="none"}_moveFocusElement(t,n){if(this._a11yD==!0)return;let e=this._focusElementContainer,i=n.getPrivate("focusElement").dom;if(i===this._focusElementContainer.children[t])return;let r=this._focusElementContainer.children[t+1];r?e.insertBefore(i,r):e.append(i)}_positionFocusElement(t){if(this._a11yD==!0||t==null)return;this._focusElementContainer.scrollTop=0;let n=t.globalBounds(),e=n.right==n.left?t.width():n.right-n.left,i=n.top==n.bottom?t.height():n.bottom-n.top,r=this._settings.focusPadding!==void 0?this._settings.focusPadding:2,o=n.left-r,s=n.top-r;e<0&&(o+=e,e=Math.abs(e)),i<0&&(s+=i,i=Math.abs(i));let l=t.getPrivate("focusElement").dom;l.style.top=s+"px",l.style.left=o+"px",l.style.width=e+r*2+"px",l.style.height=i+r*2+"px"}_getSpriteByFocusElement(t){let n;return Ro(this._tabindexes,(e,i)=>e.getPrivate("focusElement").dom===t?(n=e,!1):!0),n}_handleFocus(t){if(this._a11yD==!0)return;let n=this._getSpriteByFocusElement(t.target);if(n){if(!n.isVisibleDeep()){this._focusNext(t.target,this._isShift?-1:1);return}this._positionFocusElement(n),this._focusedSprite=n,n.events.isEnabled("focus")&&n.events.dispatch("focus",{type:"focus",originalEvent:t,target:n}),n.getPrivate("focusElement").dom.tabIndex==-1&&(this._skipNextGroupJump=!1)}}_focusNext(t,n,e){if(this._a11yD==!0)return;let i=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(","))),r=i.indexOf(t)+n;r<0?r=i.length-1:r>=i.length&&(r=0);let o=i[r];if(e&&n==-1){let s=this._getSpriteByFocusElement(o);if(s&&s.get("focusableGroup")==e){this._focusNext(o,n);return}}o.focus()}_handleBlur(t){if(this._a11yD==!0)return;let n=this._focusedSprite;n&&!n.isDisposed()&&n.events.isEnabled("blur")&&n.events.dispatch("blur",{type:"blur",originalEvent:t,target:n}),this._focusedSprite=void 0}updateTooltip(t){if(this._a11yD==!0)return;let n=Dd(t._getText()),e=t.getPrivate("tooltipElement");t.get("role")=="tooltip"&&n!=""?(e||(e=this._makeTooltipElement(t)),e.innerHTML!=n&&(e.innerHTML=n),e.setAttribute("aria-hidden",t.isVisibleDeep()?"false":"true")):e&&(e.remove(),t.removePrivate("tooltipElement"))}_makeTooltipElement(t){let n=this._tooltipElementContainer,e=document.createElement("div");return e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.overflow="hidden",e.style.clip="rect(1px, 1px, 1px, 1px)",sr(e,!1),this._decorateFocusElement(t,e),n.append(e),t.setPrivate("tooltipElement",e),e}_removeTooltipElement(t){if(this._a11yD==!0)return;let n=t.getPrivate("tooltipElement");if(n){let e=n.parentElement;e&&e.removeChild(n)}}_invalidateAccessibility(t){if(this._a11yD==!0)return;this._focusElementDirty=!0;let n=t.getPrivate("focusElement");t.get("focusable")?n&&(this._decorateFocusElement(t),this._positionFocusElement(t)):n&&this._removeFocusElement(t)}focused(t){return this._focusedSprite===t}documentPointToRoot(t){let n=this._getRealSize(),e=this._getCalculatedSize(n),i=e.width/n.width,r=e.height/n.height;return{x:(t.x-n.left)*i,y:(t.y-n.top)*r}}rootPointToDocument(t){let n=this._getRealSize(),e=this._getCalculatedSize(n),i=e.width/n.width,r=e.height/n.height;return{x:t.x/i+n.left,y:t.y/r+n.top}}addDisposer(t){return this._disposers.push(t),t}_updateComputedStyles(){let t=window.getComputedStyle(this.dom),n="";Ve(t,(i,r)=>{Qi(i)&&i.match(/^font/)&&(n+=r)});let e=n!=this._fontHash;return e&&(this._fontHash=n),e}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(t){t instanceof Re?t.children.each(n=>{this._invalidateLabelBounds(n)}):t instanceof ji&&t.markDirtyBounds()}_hasLicense(){for(let t=0;t<Zi.licenses.length;t++)if(Zi.licenses[t].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(t){this._renderer.debugGhostView=t}set tapToActivate(t){this._renderer.tapToActivate=t}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(t){this._renderer.tapToActivateTimeout=t}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(t){let n=this._htmlElementContainer,e=document.createElement("div");t.setPrivate("htmlElement",e);let i=!1,r;t._walkParents(s=>{if(s.get("verticalScrollbar"))return i=!0,r=s,!1});let o;return i&&(o=document.createElement("div"),t.setPrivate("htmlElementWrapper",o),t.setPrivate("wrapperContainer",r),o.style.position="absolute",o.style.overflow="hidden",o.style.boxSizing="border-box",o.style.top="0px",o.style.left="0px",o.style.width="100%",o.style.height="100%",r.events.on("boundschanged",()=>{this._positionHTMLElement(t)})),e.style.position="absolute",e.style.overflow="auto",e.style.boxSizing="border-box",sr(e,t.get("interactive",!1)),t.events.isEnabled("click")&&(sr(e,!0),this._disposers.push(nt(e,"click",s=>{let l=this._renderer.getEvent(s);t.events.dispatch("click",{type:"click",originalEvent:l.event,point:l.point,simulated:!1,target:t})}))),this._positionHTMLElement(t),i?(o.append(e),n.append(o)):n.append(e),ar(this._htmlEnabledContainers,t),e}_positionHTMLElements(){k(this._htmlEnabledContainers,t=>{this._positionHTMLElement(t)})}_positionHTMLElement(t){let n=t.getPrivate("htmlElementWrapper");if(n){let i=t.getPrivate("wrapperContainer");if(i){let r=i.globalBounds();n.style.clipPath="rect("+r.top+"px "+r.right+"px "+r.bottom+"px "+r.left+"px)"}}let e=t.getPrivate("htmlElement");if(e){k(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],O=>{let D=t.get(O);D?e.style[O]=D+"px":e.style[O]=""}),k(["fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration"],O=>{let D=t.get(O);D?O=="fontSize"&&!Qi(D)?e.style[O]=D+"px":e.style[O]=D+"":e.style[O]=""});let o=t.compositeScale()||1,s=t.compositeRotation()||0;e.style.transform="",e.style.transformOrigin="";let l=t.compositeOpacity();setTimeout(()=>{e.style.opacity=l+""},10);let c=t.isVisibleDeep();c&&(e.style.display="block");let d={x:t.x()+t.get("dx",0),y:t.y()+t.get("dy",0)};t.parent&&(d=t.parent.toGlobal(d)),e.style.top=d.y+"px",e.style.left=d.x+"px";let p=t.get("width"),g=t.get("height"),m=0,C=0;if(p&&(m=t.width()),g&&(C=t.height()),!p||!g){e.style.position="fixed",e.style.width="",e.style.height="";let O=e.getBoundingClientRect();e.style.position="absolute",p||(m=O.width),g||(C=O.height);let D=m/o,F=C/o,ie=t.get("centerX",0),G=t.get("centerY",0),se=0,de=0,ae=0,q=0;ie instanceof he?(se=-ie.value*D,de=(1-ie.value)*D):(se=-ie,de=D-ie),G instanceof he?(ae=-G.value*F,q=(1-G.value)*F):(ae=-G,q=F-G),t._localBounds={left:se,right:de,top:ae,bottom:q};let W=t._adjustedLocalBounds,I=t._display.getAdjustedBounds(t._localBounds);t._adjustedLocalBounds=I,(W.left!==I.left||W.right!==I.right||W.top!==I.top||W.bottom!==I.bottom)&&t.markDirtyBounds()}m>0&&(e.style.minWidth=m+"px"),C>0&&(e.style.minHeight=C+"px"),(!c||l==0)&&(e.style.display="none");let b=t.get("centerX",0),x=Md(b)?b.percent+"%":b+"px",y=t.get("centerY",0),w=Md(y)?y.percent+"%":y+"px";(b||y)&&(e.style.transform="translate(-"+x+", -"+w+")"+e.style.transform),o!=1&&(e.style.transform+="scale("+o+")"),s!=0&&(e.style.transform+=" rotate("+s+"deg)"),e.style.transform!=""&&(e.style.transformOrigin=x+" "+w)}}_setHTMLContent(t,n){let e=t.getPrivate("htmlElement");e||(e=this._makeHTMLElement(t),this.autoResize||this.resize()),e.innerHTML!=n&&(e.innerHTML=n)}_removeHTMLContent(t){let n=t.getPrivate("htmlElementWrapper"),e=t.getPrivate("htmlElement");n?(this._htmlElementContainer.removeChild(n),t.removePrivate("htmlElement"),t.removePrivate("htmlElementWrapper"),t.removePrivate("wrapperContainer")):e&&(this._htmlElementContainer.removeChild(e),t.removePrivate("htmlElement"),t.removePrivate("wrapperContainer")),Fi(this._htmlEnabledContainers,t)}};var Hr=class extends Ci{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let t=this.width(),n=this.height(),e=t/Math.abs(t),i=n/Math.abs(n),r=0,o=0,s=this.get("strokeWidth",0);this.get("containStroke",!1)&&(t-=e*s,n-=i*s,r+=e*s/2,o+=i*s/2);let l=t,c=n;if(L(l)&&L(c)){let d=Math.min(l,c)/2,p=dt(this.get("cornerRadiusTL",8),d),g=dt(this.get("cornerRadiusTR",8),d),m=dt(this.get("cornerRadiusBR",8),d),C=dt(this.get("cornerRadiusBL",8),d),b=Math.min(Math.abs(l/2),Math.abs(c/2));p=bt(p,0,b),g=bt(g,0,b),m=bt(m,0,b),C=bt(C,0,b);let x=this._display;x.moveTo(r+p*e,o),x.lineTo(r+l-g*e,o),g>0&&x.arcTo(r+l,o,r+l,o+g*i,g),x.lineTo(r+l,o+c-m*i),m>0&&x.arcTo(r+l,o+c,r+l-m*e,o+c,m),x.lineTo(r+C*e,o+c),C>0&&x.arcTo(r,o+c,r,o+c-C*i,C),x.lineTo(r,o+p*i),p>0&&x.arcTo(r,o,r+p*e,o,p),x.closePath()}}};Object.defineProperty(Hr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"});Object.defineProperty(Hr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ci.classNames.concat([Hr.className])});var Zo=class extends Re{_afterNew(){this._settings.themeTags=Mn(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",Hr.new(this._root,{themeTags:Mn(this._settings.themeTags,["background"])})),this.setPrivate("trustBounds",!0)}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){let t=this._prevSettings.icon,n=this.get("icon");n!==t&&(this._disposeProperty("icon"),t&&t.dispose(),n&&this.children.push(n),this._prevSettings.icon=n)}if(this.isDirty("label")){let t=this._prevSettings.label,n=this.get("label");n!==t&&(this._disposeProperty("label"),t&&t.dispose(),n&&this.children.push(n),this._prevSettings.label=n)}}};Object.defineProperty(Zo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"});Object.defineProperty(Zo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([Zo.className])});var Jl=class extends On{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(t){this.processor&&this.processor.processRow(t),super._onPush(t)}_onInsertIndex(t,n){this.processor&&this.processor.processRow(n),super._onInsertIndex(t,n)}_onSetIndex(t,n,e){this.processor&&this.processor.processRow(e),super._onSetIndex(t,n,e)}};var Jo=class extends Uo{constructor(t,n,e){super(e),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=n,this.component=t,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(t){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,t)}hide(t){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,t)}isHidden(){return!this.get("visible")}},pr=class extends Re{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new Jl}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(t){t.incrementRef(),this._data.decrementRef(),this._data=t}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(t=>{let n=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,t.type==="clear")k(n,e=>{e.dispose()}),n.length=0,this._onDataClear();else if(t.type==="push"){let e=new Jo(this,t.newValue,this._makeDataItem(t.newValue));n.push(e),this.processDataItem(e)}else if(t.type==="setIndex"){let e=n[t.index],i=this._makeDataItem(t.newValue);e.bullets&&e.bullets.length==0&&(e.bullets=void 0),ct(i).forEach(r=>{e.get(r)!=i[r]&&e.animate({key:r,to:i[r],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),e.dataContext=t.newValue}else if(t.type==="insertIndex"){let e=new Jo(this,t.newValue,this._makeDataItem(t.newValue));n.splice(t.index,0,e),this.processDataItem(e)}else if(t.type==="removeIndex")n[t.index].dispose(),n.splice(t.index,1);else if(t.type==="moveIndex"){let e=n[t.oldIndex];n.splice(t.oldIndex,1),n.splice(t.newIndex,0,e)}else throw new Error("Unknown IStreamEvent type");this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},k(this.valueFields,t=>{this.get(t+"Field")&&(this._valueFields.push(t),this._valueFieldsF[t]={fieldKey:t+"Field",workingKey:t+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},k(this.fields,t=>{this.get(t+"Field")&&(this._fields.push(t),this._fieldsF[t]=t+"Field")}))}get dataItems(){return this._dataItems}processDataItem(t){}_makeDataItem(t){let n={};return this._valueFields&&k(this._valueFields,e=>{let i=this.get(this._valueFieldsF[e].fieldKey);n[e]=t[i],n[this._valueFieldsF[e].workingKey]=n[e]}),this._fields&&k(this._fields,e=>{let i=this.get(this._fieldsF[e]);n[e]=t[i]}),n}makeDataItem(t,n){let e=new Jo(this,n,t);return this.processDataItem(e),e}pushDataItem(t,n){let e=this.makeDataItem(t,n);return this._mainDataItems.push(e),e}disposeDataItem(t){}showDataItem(t,n){return St(this,void 0,void 0,function*(){t.set("visible",!0)})}hideDataItem(t,n){return St(this,void 0,void 0,function*(){t.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){let t="datavalidated";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this}),this._dataChanged=!1}if(this._valuesDirty){let t="valueschanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}this.inited=!0}markDirtyValues(t){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}getDataItemById(t){return Tl(this.dataItems,n=>n.get("id")==t)}};Object.defineProperty(pr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"});Object.defineProperty(pr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([pr.className])});function Ig(a){return new Promise((t,n)=>{setTimeout(t,a)})}var nC={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:365.242/12*864e5,year:31536e6};function gr(a,t){return t==null&&(t=1),nC[a]*t}function xm(a,t,n,e,i,r,o){if(!o||i){let s=0;switch(!i&&t!="millisecond"&&(s=a.getTimezoneOffset(),a.setUTCMinutes(a.getUTCMinutes()-s)),t){case"day":let l=a.getUTCDate();if(n>1){if(r){r=xm(r,"day",1);let y=a.getTime()-r.getTime(),w=Math.floor(y/gr("day")/n),O=gr("day",w*n);a.setTime(r.getTime()+O-s*gr("minute"))}}else a.setUTCDate(l);a.setUTCHours(0,0,0,0);break;case"second":let c=a.getUTCSeconds();n>1&&(c=Math.floor(c/n)*n),a.setUTCSeconds(c,0);break;case"millisecond":if(n==1)return a;let d=a.getUTCMilliseconds();d=Math.floor(d/n)*n,a.setUTCMilliseconds(d);break;case"hour":let p=a.getUTCHours();n>1&&(p=Math.floor(p/n)*n),a.setUTCHours(p,0,0,0);break;case"minute":let g=a.getUTCMinutes();n>1&&(g=Math.floor(g/n)*n),a.setUTCMinutes(g,0,0);break;case"month":let m=a.getUTCMonth();n>1&&(n==2||n==3||n==4||n==6)&&(m=Math.floor(m/n)*n),a.setUTCMonth(m,1),a.setUTCHours(0,0,0,0);break;case"year":let C=a.getUTCFullYear();n>1&&(C=Math.floor(C/n)*n),a.setUTCFullYear(C,0,1),a.setUTCHours(0,0,0,0);break;case"week":if(n>1&&r){r=xm(r,"week",1);let y=a.getTime()-r.getTime(),w=Math.floor(y/gr("week")/n),O=gr("week",w*n);a.setTime(r.getTime()+O-s*gr("minute"))}let b=a.getUTCDate(),x=a.getUTCDay();L(e)||(e=1),x>=e?b=b-x+e:b=b-(7+x)+e,a.setUTCDate(b),a.setUTCHours(0,0,0,0);break}if(!i&&t!="millisecond"&&(a.setUTCMinutes(a.getUTCMinutes()+s),t=="day"||t=="week"||t=="month"||t=="year")){let l=a.getTimezoneOffset();if(l!=s){let c=l-s;a.setUTCMinutes(a.getUTCMinutes()+c)}}return a}else{if(isNaN(a.getTime()))return a;let s=a.getTime(),l=o.offsetUTC(a),c=a.getTimezoneOffset(),d=o.parseDate(a),p=d.year,g=d.month,m=d.day,C=d.hour,b=d.minute,x=d.second,y=d.millisecond,w=d.weekday,O=l-c;switch(t){case"day":if(n>1&&r){r=xm(r,"day",1,e,i,void 0,o);let de=a.getTime()-r.getTime(),ae=Math.floor(de/gr("day")/n),q=gr("day",ae*n);a.setTime(r.getTime()+q),d=o.parseDate(a),p=d.year,g=d.month,m=d.day}C=0,b=O,x=0,y=0;break;case"second":b+=O,n>1&&(x=Math.floor(x/n)*n),y=0;break;case"millisecond":b+=O,n>1&&(y=Math.floor(y/n)*n);break;case"hour":n>1&&(C=Math.floor(C/n)*n),b=O,x=0,y=0;break;case"minute":n>1&&(b=Math.floor(b/n)*n),b+=O,x=0,y=0;break;case"month":n>1&&(g=Math.floor(g/n)*n),m=1,C=0,b=O,x=0,y=0;break;case"year":n>1&&(p=Math.floor(p/n)*n),g=0,m=1,C=0,b=O,x=0,y=0;break;case"week":L(e)||(e=1),w>=e?m=m-w+e:m=m-(7+w)+e,C=0,b=O,x=0,y=0;break}a=new Date(p,g,m,C,b,x,y);let D=a.getTime(),F=36e5;t=="hour"&&(F=36e5*n),D+F<=s&&(t=="hour"||t=="minute"||t=="second"||t=="millisecond")&&(a=new Date(D+F));let ie=a.getTimezoneOffset(),se=o.offsetUTC(a)-ie;return se!=O&&a.setTime(a.getTime()+(se-O)*6e4),a}}var fr=class extends pr{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseSeriesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new On}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:Re.new(this._root,{width:fe,height:fe,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(()=>{this._handleBullets(this.dataItems)}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let t=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),t)}endIndex(){let t=this.dataItems.length;return Math.max(0,Math.min(this.getPrivate("endIndex",t),t))}_handleBullets(t){k(t,n=>{let e=n.bullets;e&&(k(e,i=>{i.dispose()}),n.bullets=void 0)}),this.markDirtyValues()}_makeBullets(t){this._shouldMakeBullet(t)&&(t.bullets=[],this.bullets.each(n=>{this._makeBullet(t,n)}))}_shouldMakeBullet(t){return!0}_makeBullet(t,n,e){let i=n(this._root,this,t);return i&&(i._index=e,this._makeBulletReal(t,i)),i}_makeBulletReal(t,n){let e=n.get("sprite");e&&(e._setDataItem(t),e.setRaw("position","absolute"),this.bulletsContainer.children.push(e)),n.series=this,t.bullets.push(n)}addBullet(t,n){t.bullets||(t.bullets=[]),n&&this._makeBulletReal(t,n)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._baseSeriesDirty=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let t=this.startIndex(),n=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){let i=this.getPrivate("baseValueSeries");i&&this._disposers.push(i.onPrivate("startIndex",()=>{this._baseSeriesDirty=!0,this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,t!=0&&(this._psi=void 0))),(this._psi!=t||this._pei!=n||this.isPrivateDirty("adjustedStartIndex"))&&!this._selectionAggregatesCalculated&&(t===0&&n===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(t,n),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let i=this.get("tooltip");i&&(i.hide(0),i.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let i,r=this.get("legendDataItem");if(r&&(i=r.get("markerRectangle"),i&&this.isVisible())){if(this.isDirty("stroke")){let o=this.get("stroke");i.set("stroke",o)}if(this.isDirty("fill")){let o=this.get("fill");i.set("fill",o)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let i=this.startIndex(),r=this.endIndex();r<this.dataItems.length&&r++;for(let o=i;o<r;o++){let s=this.dataItems[o];s.bullets||this._makeBullets(s)}}}_handleRemoved(){}_adjustStartIndex(t){return t}_calculateAggregates(t,n){let e=this._valueFields;if(!e)throw new Error("No value fields are set for the series.");let i=this.get("excludeFromAggregate");i&&(e=e.filter(x=>i.indexOf(x)==-1));let r={},o={},s={},l={},c={},d={},p={},g={},m={};for(let x=0,y=e.length;x<y;x++){let w=e[x];r[w]=0,o[w]=0,s[w]=0}let C=this.dataItems,b=C.length;for(let x=0,y=e.length;x<y;x++){let w=e[x],O=w+"Change",D=w+"ChangePercent",F=w+"ChangePrevious",ie=w+"ChangePreviousPercent",G=w+"ChangeSelection",se=w+"ChangeSelectionPercent",de="valueY";(w==="valueX"||w.endsWith("ValueX"))&&(de="valueX");let ae=this.getPrivate("baseValueSeries"),q=this.getPrivate("adjustedStartIndex",t),W=(I,Y,me)=>{if(t===0){let mt=d[de],Rt=Y-mt;I.setRaw(O,Rt),I.setRaw(D,Rt/mt*100)}let ei=Y-m[de],Be=Y-d[de];I.setRaw(F,ei),I.setRaw(ie,ei/m[de]*100),I.setRaw(G,Be),I.setRaw(se,Be/d[de]*100),m[me]=Y};for(let I=q;I<n;I++){let Y=C[I];if(Y){let me=Y.get(w);if(me!=null){l[w]==null&&(l[w]=me),c[w]==null&&(c[w]=me),d[w]==null&&(d[w]=me,m[w]=me,ae&&(d[de]=ae._getBase(de)));break}}}for(let I=q;I<n;I++){let Y=C[I];if(Y){let me=Y._settings[w];me!=null&&(s[w]++,r[w]+=me,o[w]+=Math.abs(me),l[w]>me&&(l[w]=me),c[w]<me&&(c[w]=me),p[w]=me,W(Y,me,w))}}if(g[w]=r[w]/s[w],n<b){let I=C[n];if(I){let Y=I.get(w);Y!=null&&W(I,Y,w)}}if(n+1<b){let I=C[n+1];if(I){let Y=I.get(w);Y!=null&&W(I,Y,w)}}t>0&&t--,delete m[w];for(let I=t;I<q;I++){let Y=C[I];if(Y){let me=Y.get(w);m[w]==null&&(m[w]=me),me!=null&&W(Y,me,w)}}}for(let x=0,y=e.length;x<y;x++){let w=e[x];this.setPrivate(w+"AverageSelection",g[w]),this.setPrivate(w+"CountSelection",s[w]),this.setPrivate(w+"SumSelection",r[w]),this.setPrivate(w+"AbsoluteSumSelection",o[w]),this.setPrivate(w+"LowSelection",l[w]),this.setPrivate(w+"HighSelection",c[w]),this.setPrivate(w+"OpenSelection",d[w]),this.setPrivate(w+"CloseSelection",p[w])}if(t===0&&n===b)for(let x=0,y=e.length;x<y;x++){let w=e[x];this.setPrivate(w+"Average",g[w]),this.setPrivate(w+"Count",s[w]),this.setPrivate(w+"Sum",r[w]),this.setPrivate(w+"AbsoluteSum",o[w]),this.setPrivate(w+"Low",l[w]),this.setPrivate(w+"High",c[w]),this.setPrivate(w+"Open",d[w]),this.setPrivate(w+"Close",p[w])}}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));let t=this.get("heatRules");if(this._valuesDirty&&t&&t.length>0&&k(t,n=>{let e=n.minValue||this.getPrivate(n.dataField+"Low")||0,i=n.maxValue||this.getPrivate(n.dataField+"High")||0;k(n.target._entities,r=>{let o=r.dataItem.get(n.dataField);if(!L(o)){n.neutral&&r.set(n.key,n.neutral);let s=r.states;if(s){let l=s.lookup("default");l&&n.neutral&&l.set(n.key,n.neutral)}if(!n.customFunction)return}if(n.customFunction)n.customFunction.call(this,r,e,i,o);else{let s;n.logarithmic?s=(Math.log(o)*Math.LOG10E-Math.log(e)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E):s=(o-e)/(i-e),L(o)&&(!L(s)||Math.abs(s)==1/0)&&(s=.5);let l;L(n.min)?l=n.min+(n.max-n.min)*s:n.min instanceof oe?l=oe.interpolate(s,n.min,n.max):n.min instanceof he&&(l=Rd(s,n.min,n.max)),r.set(n.key,l);let c=r.states;if(c){let d=c.lookup("default");d&&d.set(n.key,l)}}})}),this.get("visible")){let n=this.dataItems.length,e=this.startIndex(),i=this.endIndex();i<n&&i++,e>0&&e--;for(let r=0;r<e;r++)this._hideBullets(this.dataItems[r]);for(let r=e;r<i;r++)this._positionBullets(this.dataItems[r]);for(let r=i;r<n;r++)this._hideBullets(this.dataItems[r])}}_positionBullets(t){t.bullets&&k(t.bullets,n=>{this._positionBullet(n);let e=n.get("sprite");n.get("dynamic")&&(e&&(e._markDirtyKey("fill"),e.markDirtySize()),e instanceof Re&&e.walkChildren(i=>{i._markDirtyKey("fill"),i.markDirtySize(),i instanceof si&&i.text.markDirtyText()})),e instanceof si&&e.get("populateText")&&e.text.markDirtyText()})}_hideBullets(t){t.bullets&&k(t.bullets,n=>{let e=n.get("sprite");e&&e.setPrivate("visible",!1)})}_positionBullet(t){}_placeBulletsContainer(t){t.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){let t=this.bulletsContainer;t.parent&&t.parent.children.removeValue(t)}disposeDataItem(t){let n=t.bullets;n&&(k(n,e=>{e.dispose()}),t.bullets=void 0)}_getItemReaderLabel(){return""}showDataItem(t,n){let e=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return St(this,void 0,void 0,function*(){let i=[e.showDataItem.call(this,t,n)],r=t.bullets;r&&k(r,o=>{let s=o.get("sprite");s&&i.push(s.show(n))}),yield Promise.all(i)})}hideDataItem(t,n){let e=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return St(this,void 0,void 0,function*(){let i=[e.hideDataItem.call(this,t,n)],r=t.bullets;r&&k(r,o=>{let s=o.get("sprite");s&&i.push(s.hide(n))}),yield Promise.all(i)})}_sequencedShowHide(t,n){return St(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(L(n)||(n=this.get("interpolationDuration",0)),n>0){let e=this.startIndex(),i=this.endIndex();yield Promise.all(Ao(this.dataItems,(r,o)=>St(this,void 0,void 0,function*(){let s=n||0;(o<e-10||o>i+10)&&(s=0);let l=this.get("sequencedDelay",0)+s/(i-e);yield Ig(l*(o-e)),t?yield this.showDataItem(r,s):yield this.hideDataItem(r,s)})))}else yield Promise.all(Ao(this.dataItems,e=>t?this.showDataItem(e,0):this.hideDataItem(e,0)))})}updateLegendValue(t){if(t){let n=t.get("legendDataItem");if(n){let e=n.get("valueLabel");if(e){let r=e.text,o="";e._setDataItem(t),o=this.get("legendValueText",r.get("text","")),e.set("text",o),r.markDirtyText()}let i=n.get("label");if(i){let r=i.text,o="";i._setDataItem(t),o=this.get("legendLabelText",r.get("text","")),i.set("text",o),r.markDirtyText()}}}}updateLegendMarker(t){}_onHide(){super._onHide();let t=this.getTooltip();t&&t.hide()}hoverDataItem(t){}unhoverDataItem(t){}_getBase(t){let n=this.dataItems[this.startIndex()];return n?n.get(t):0}};Object.defineProperty(fr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"});Object.defineProperty(fr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:pr.classNames.concat([fr.className])});function wm(a,t){for(let n=0,e=t.length;n<e;n++){let i=t[n];if(i.length>0){let r=i[0];if(r.length>0){let o=r[0];a.moveTo(o.x,o.y);for(let s=0,l=i.length;s<l;s++)aC(a,i[s])}}}}function aC(a,t){for(let n=0,e=t.length;n<e;n++){let i=t[n];a.lineTo(i.x,i.y)}}var _r=class extends Dt{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let t=this.get("points"),n=this.get("segments");if(t&&t.length>0){let e=t[0];this._display.moveTo(e.x,e.y),wm(this._display,[[t]])}else if(n)wm(this._display,n);else if(!this.get("draw")){let e=this.width(),i=this.height();this._display.moveTo(0,0),this._display.lineTo(e,i)}}}};Object.defineProperty(_r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"});Object.defineProperty(_r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Dt.classNames.concat([_r.className])});var Ur=class extends ji{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*Nr,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}};Object.defineProperty(Ur,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"});Object.defineProperty(Ur,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ji.classNames.concat([Ur.className])});var Gr=class extends si{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(Ur.new(this._root,{}))}baseRadius(){let t=this.getPrivate("radius",0),n=this.getPrivate("innerRadius",0),e=this.get("baseRadius",0);return n+dt(e,t-n)}radius(){let t=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(t?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){let t=this.get("textType","adjusted"),n=this.get("inside",!1),e=this.get("orientation"),i=cr(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",n);let r=Jt(i),o=hi(i),s=this.baseRadius(),l=this.radius();if(this._display.angle=0,t=="circular")this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this.setRaw("x",void 0),this.setRaw("y",void 0),this._text.set("orientation",e),this._text.set("radius",l);else{s==0&&(i=0,l=0);let c=l*o,d=l*r;t=="radial"?(this.setRaw("x",c),this.setRaw("y",d),i<90||i>270||e!="auto"?(this._display.angle=i,this._flipped=!1):(this._display.angle=i+180,this._flipped=!0),this._dirty.rotation=!1):t=="adjusted"?(this.setRaw("centerX",pe),this.setRaw("centerY",pe),this.setRaw("x",c),this.setRaw("y",d)):t=="regular"&&(this.setRaw("x",c),this.setRaw("y",d))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){let t=this.get("textType","regular"),n=this.get("inside",!1),e=0,i=0,r=this.get("labelAngle",0),o=this.localBounds(),s=o.right-o.left,l=o.bottom-o.top;if(t=="radial"){if(this._flipped){let c=this.get("centerX");c instanceof he&&(s=s*(1-c.value*2)),e=s*hi(r),i=s*Jt(r)}}else!n&&t=="adjusted"&&(e=s/2*hi(r),i=l/2*Jt(r));this.setRaw("dx",e),this.setRaw("dy",i),super._updatePosition()}get text(){return this._text}};Object.defineProperty(Gr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"});Object.defineProperty(Gr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:si.classNames.concat([Gr.className])});function Tn(a){return function(){return a}}var Mm=Math.abs,Yt=Math.atan2,br=Math.cos,Eg=Math.max,ec=Math.min,en=Math.sin,Yr=Math.sqrt,li=1e-12,Ba=Math.PI,es=Ba/2,Ag=2*Ba;function Rg(a){return a>1?0:a<-1?Ba:Math.acos(a)}function Pm(a){return a>=1?es:a<=-1?-es:Math.asin(a)}var Om=Math.PI,km=2*Om,Wr=1e-6,sC=km-Wr;function Fg(a){this._+=a[0];for(let t=1,n=a.length;t<n;++t)this._+=arguments[t]+a[t]}function lC(a){let t=Math.floor(a);if(!(t>=0))throw new Error(`invalid digits: ${a}`);if(t>15)return Fg;let n=10**t;return function(e){this._+=e[0];for(let i=1,r=e.length;i<r;++i)this._+=Math.round(arguments[i]*n)/n+e[i]}}var Xr=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Fg:lC(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,i){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+i}`}bezierCurveTo(t,n,e,i,r,o){this._append`C${+t},${+n},${+e},${+i},${this._x1=+r},${this._y1=+o}`}arcTo(t,n,e,i,r){if(t=+t,n=+n,e=+e,i=+i,r=+r,r<0)throw new Error(`negative radius: ${r}`);let o=this._x1,s=this._y1,l=e-t,c=i-n,d=o-t,p=s-n,g=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Wr)if(!(Math.abs(p*l-c*d)>Wr)||!r)this._append`L${this._x1=t},${this._y1=n}`;else{let m=e-o,C=i-s,b=l*l+c*c,x=m*m+C*C,y=Math.sqrt(b),w=Math.sqrt(g),O=r*Math.tan((Om-Math.acos((b+g-x)/(2*y*w)))/2),D=O/w,F=O/y;Math.abs(D-1)>Wr&&this._append`L${t+D*d},${n+D*p}`,this._append`A${r},${r},0,0,${+(p*m>d*C)},${this._x1=t+F*l},${this._y1=n+F*c}`}}arc(t,n,e,i,r,o){if(t=+t,n=+n,e=+e,o=!!o,e<0)throw new Error(`negative radius: ${e}`);let s=e*Math.cos(i),l=e*Math.sin(i),c=t+s,d=n+l,p=1^o,g=o?i-r:r-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Wr||Math.abs(this._y1-d)>Wr)&&this._append`L${c},${d}`,e&&(g<0&&(g=g%km+km),g>sC?this._append`A${e},${e},0,1,${p},${t-s},${n-l}A${e},${e},0,1,${p},${this._x1=c},${this._y1=d}`:g>Wr&&this._append`A${e},${e},0,${+(g>=Om)},${p},${this._x1=t+e*Math.cos(r)},${this._y1=n+e*Math.sin(r)}`)}rect(t,n,e,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+i}h${-e}Z`}toString(){return this._}};function Bg(){return new Xr}Bg.prototype=Xr.prototype;function Lg(a){let t=3;return a.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return a},()=>new Xr(t)}function cC(a){return a.innerRadius}function dC(a){return a.outerRadius}function mC(a){return a.startAngle}function uC(a){return a.endAngle}function hC(a){return a&&a.padAngle}function pC(a,t,n,e,i,r,o,s){var l=n-a,c=e-t,d=o-i,p=s-r,g=p*l-d*c;if(!(g*g<li))return g=(d*(t-r)-p*(a-i))/g,[a+g*l,t+g*c]}function tc(a,t,n,e,i,r,o){var s=a-n,l=t-e,c=(o?r:-r)/Yr(s*s+l*l),d=c*l,p=-c*s,g=a+d,m=t+p,C=n+d,b=e+p,x=(g+C)/2,y=(m+b)/2,w=C-g,O=b-m,D=w*w+O*O,F=i-r,ie=g*b-C*m,G=(O<0?-1:1)*Yr(Eg(0,F*F*D-ie*ie)),se=(ie*O-w*G)/D,de=(-ie*w-O*G)/D,ae=(ie*O+w*G)/D,q=(-ie*w+O*G)/D,W=se-x,I=de-y,Y=ae-x,me=q-y;return W*W+I*I>Y*Y+me*me&&(se=ae,de=q),{cx:se,cy:de,x01:-d,y01:-p,x11:se*(i/F-1),y11:de*(i/F-1)}}function Dm(){var a=cC,t=dC,n=Tn(0),e=null,i=mC,r=uC,o=hC,s=null,l=Lg(c);function c(){var d,p,g=+a.apply(this,arguments),m=+t.apply(this,arguments),C=i.apply(this,arguments)-es,b=r.apply(this,arguments)-es,x=Mm(b-C),y=b>C;if(s||(s=d=l()),m<g&&(p=m,m=g,g=p),!(m>li))s.moveTo(0,0);else if(x>Ag-li)s.moveTo(m*br(C),m*en(C)),s.arc(0,0,m,C,b,!y),g>li&&(s.moveTo(g*br(b),g*en(b)),s.arc(0,0,g,b,C,y));else{var w=C,O=b,D=C,F=b,ie=x,G=x,se=o.apply(this,arguments)/2,de=se>li&&(e?+e.apply(this,arguments):Yr(g*g+m*m)),ae=ec(Mm(m-g)/2,+n.apply(this,arguments)),q=ae,W=ae,I,Y;if(de>li){var me=Pm(de/g*en(se)),ei=Pm(de/m*en(se));(ie-=me*2)>li?(me*=y?1:-1,D+=me,F-=me):(ie=0,D=F=(C+b)/2),(G-=ei*2)>li?(ei*=y?1:-1,w+=ei,O-=ei):(G=0,w=O=(C+b)/2)}var Be=m*br(w),mt=m*en(w),Rt=g*br(F),ci=g*en(F);if(ae>li){var tn=m*br(O),ti=m*en(O),Ni=g*br(D),qr=g*en(D),Vi;if(x<Ba)if(Vi=pC(Be,mt,Ni,qr,tn,ti,Rt,ci)){var La=Be-Vi[0],rc=mt-Vi[1],ac=tn-Vi[0],oc=ti-Vi[1],Sm=1/en(Rg((La*ac+rc*oc)/(Yr(La*La+rc*rc)*Yr(ac*ac+oc*oc)))/2),Tm=Yr(Vi[0]*Vi[0]+Vi[1]*Vi[1]);q=ec(ae,(g-Tm)/(Sm-1)),W=ec(ae,(m-Tm)/(Sm+1))}else q=W=0}G>li?W>li?(I=tc(Ni,qr,Be,mt,m,W,y),Y=tc(tn,ti,Rt,ci,m,W,y),s.moveTo(I.cx+I.x01,I.cy+I.y01),W<ae?s.arc(I.cx,I.cy,W,Yt(I.y01,I.x01),Yt(Y.y01,Y.x01),!y):(s.arc(I.cx,I.cy,W,Yt(I.y01,I.x01),Yt(I.y11,I.x11),!y),s.arc(0,0,m,Yt(I.cy+I.y11,I.cx+I.x11),Yt(Y.cy+Y.y11,Y.cx+Y.x11),!y),s.arc(Y.cx,Y.cy,W,Yt(Y.y11,Y.x11),Yt(Y.y01,Y.x01),!y))):(s.moveTo(Be,mt),s.arc(0,0,m,w,O,!y)):s.moveTo(Be,mt),!(g>li)||!(ie>li)?s.lineTo(Rt,ci):q>li?(I=tc(Rt,ci,tn,ti,g,-q,y),Y=tc(Be,mt,Ni,qr,g,-q,y),s.lineTo(I.cx+I.x01,I.cy+I.y01),q<ae?s.arc(I.cx,I.cy,q,Yt(I.y01,I.x01),Yt(Y.y01,Y.x01),!y):(s.arc(I.cx,I.cy,q,Yt(I.y01,I.x01),Yt(I.y11,I.x11),!y),s.arc(0,0,g,Yt(I.cy+I.y11,I.cx+I.x11),Yt(Y.cy+Y.y11,Y.cx+Y.x11),y),s.arc(Y.cx,Y.cy,q,Yt(Y.y11,Y.x11),Yt(Y.y01,Y.x01),!y))):s.arc(0,0,g,F,D,y)}if(s.closePath(),d)return s=null,d+""||null}return c.centroid=function(){var d=(+a.apply(this,arguments)+ +t.apply(this,arguments))/2,p=(+i.apply(this,arguments)+ +r.apply(this,arguments))/2-Ba/2;return[br(p)*d,en(p)*d]},c.innerRadius=function(d){return arguments.length?(a=typeof d=="function"?d:Tn(+d),c):a},c.outerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:Tn(+d),c):t},c.cornerRadius=function(d){return arguments.length?(n=typeof d=="function"?d:Tn(+d),c):n},c.padRadius=function(d){return arguments.length?(e=d==null?null:typeof d=="function"?d:Tn(+d),c):e},c.startAngle=function(d){return arguments.length?(i=typeof d=="function"?d:Tn(+d),c):i},c.endAngle=function(d){return arguments.length?(r=typeof d=="function"?d:Tn(+d),c):r},c.padAngle=function(d){return arguments.length?(o=typeof d=="function"?d:Tn(+d),c):o},c.context=function(d){return arguments.length?(s=d==null?null:d,c):s},c}var Qr=class extends Dt{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:Dm()})}_getTooltipPoint(){let t=this.get("tooltipX"),n=this.get("tooltipY"),e=0,i=0;L(t)&&(e=t),L(n)&&(i=n);let r=this.get("radius",0),o=this.get("innerRadius",0),s=this.get("dRadius",0),l=this.get("dInnerRadius",0);return r+=s,o+=l,o<0&&(o=r+o),t instanceof he&&(e=this.ix*(o+(r-o)*t.value)),n instanceof he&&(i=this.iy*(o+(r-o)*n.value)),this.get("arc")>=360&&o==0&&(e=0,i=0),{x:e,y:i}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius")||this.isDirty("shiftRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let t=this.get("startAngle",0),n=this.get("arc",0),e=this._generator;n<0&&(t=t+n,n=n*-1),n>.1&&e.cornerRadius(this.get("cornerRadius",0)),e.context(this._display);let i=this.get("radius",0),r=this.get("innerRadius",0),o=this.get("dRadius",0),s=this.get("dInnerRadius",0);i+=o,r+=s,r<0&&(r=i+r),e({innerRadius:r,outerRadius:i,startAngle:(t+90)*Nr,endAngle:(t+n+90)*Nr});let l=t+n/2;this.ix=hi(l),this.iy=Jt(l);let c=this.get("shiftRadius",0);this.setRaw("dx",this.ix*c),this.setRaw("dy",this.iy*c),this.markDirtyPosition()}}};Object.defineProperty(Qr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"});Object.defineProperty(Qr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Dt.classNames.concat([Qr.className])});var vr=class extends Re{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Re.new(this._root,{width:fe,height:fe,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:Re.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:fe,height:fe})})}};Object.defineProperty(vr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"});Object.defineProperty(vr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([vr.className])});var yr=class extends vr{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:Re.new(this._root,{width:fe,height:fe,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new zo})}_afterNew(){super._afterNew(),this._disposers.push(this.series);let t=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(n=>{if(n.type==="clear"){k(n.oldValues,r=>{this._removeSeries(r)});let e=this.get("colors");e&&e.reset();let i=this.get("patterns");i&&i.reset()}else if(n.type==="push")t.moveValue(n.newValue),this._processSeries(n.newValue);else if(n.type==="setIndex")t.setIndex(n.index,n.newValue),this._processSeries(n.newValue);else if(n.type==="insertIndex")t.insertIndex(n.index,n.newValue),this._processSeries(n.newValue);else if(n.type==="removeIndex")this._removeSeries(n.oldValue);else if(n.type==="moveIndex")t.moveValue(n.value,n.newIndex),this._processSeries(n.value);else if(n.type==="swap"){let e=n.a,i=n.b,r=this.series.indexOf(e),o=this.series.indexOf(i);t.moveValue(e,o),t.moveValue(i,r),this.series.each(s=>{this._processSeries(s),s.markDirtyValues()})}else throw new Error("Unknown IListEvent type")}))}_processSeries(t){t.chart=this,t._placeBulletsContainer(this)}_removeSeries(t){t._handleRemoved(),t.isDisposed()||(this.seriesContainer.children.removeValue(t),t._removeBulletsContainer())}};Object.defineProperty(yr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"});Object.defineProperty(yr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:vr.classNames.concat([yr.className])});var Kr=class extends _r{};Object.defineProperty(Kr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"});Object.defineProperty(Kr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_r.classNames.concat([Kr.className])});var Cr=class extends Je{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);let t=this.getPrivate("currentPass"),n=this.get("colors",[this.get("baseColor",oe.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",n.length);let e=this.getPrivate("numColors"),i=0,r=this.get("passOptions"),o=this.get("reuse");for(let s=i;s<e;s++)if(o)n.push(n[s]);else{let l=n[s].toHSL(),c=l.h+(r.hue||0)*t;for(;c>1;)c-=1;let d=l.s+(r.saturation||0)*t;d>1&&(d=1),d<0&&(d=0);let p=l.l+(r.lightness||0)*t;for(;p>1;)p-=1;n.push(oe.fromHSL(c,d,p))}}getIndex(t){let n=this.get("colors",[]),e=this.get("saturation");return t>=n.length?(this.generateColors(),this.getIndex(t)):e!=null?oe.saturate(n[t],e):n[t]}next(){let t=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",t+this.get("step",1)),this.getIndex(t)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}};Object.defineProperty(Cr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"});Object.defineProperty(Cr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Je.classNames.concat([Cr.className])});var ic=class extends hr{setupDefaultRules(){super.setupDefaultRules();let t=this._root.interfaceColors,n=this.rule.bind(this);n("PercentSeries").setAll({legendLabelText:"{category}",legendValueText:"{valuePercentTotal.formatNumber('0.00p')}",colors:Cr.new(this._root,{}),width:fe,height:fe}),n("PieChart").setAll({radius:At(80),startAngle:-90,endAngle:270}),n("PieSeries").setAll({alignLabels:!0,startAngle:-90,endAngle:270}),n("PieSeries").states.create("hidden",{endAngle:-90,opacity:0}),n("Slice",["pie"]).setAll({position:"absolute",isMeasured:!1,x:0,y:0,toggleKey:"active",tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}",strokeWidth:1,strokeOpacity:1,role:"figure",lineJoin:"round"}),n("Slice",["pie"]).states.create("active",{shiftRadius:20,scale:1}),n("Slice",["pie"]).states.create("hoverActive",{scale:1.04}),n("Slice",["pie"]).states.create("hover",{scale:1.04}),n("RadialLabel",["pie"]).setAll({textType:"aligned",radius:10,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",paddingTop:5,paddingBottom:5,populateText:!0}),n("Tick",["pie"]).setAll({location:1}),n("SlicedChart").setAll({paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10}),n("FunnelSeries").setAll({startLocation:0,endLocation:1,orientation:"vertical",alignLabels:!0,sequencedInterpolation:!0}),n("FunnelSlice").setAll({interactive:!0,expandDistance:0}),n("FunnelSlice").states.create("hover",{expandDistance:.15}),n("Label",["funnel"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:pe}),n("Label",["funnel","horizontal"]).setAll({centerX:0,centerY:pe,rotation:-90}),n("Label",["funnel","vertical"]).setAll({centerY:pe,centerX:0}),n("Tick",["funnel"]).setAll({location:1}),n("FunnelSlice",["funnel","link"]).setAll({fillOpacity:.5,strokeOpacity:0,expandDistance:-.1}),n("FunnelSlice",["funnel","link","vertical"]).setAll({height:10}),n("FunnelSlice",["funnel","link","horizontal"]).setAll({width:10}),n("PyramidSeries").setAll({valueIs:"area"}),n("FunnelSlice",["pyramid","link"]).setAll({fillOpacity:.5}),n("FunnelSlice",["pyramid","link","vertical"]).setAll({height:0}),n("FunnelSlice",["pyramid","link","horizontal"]).setAll({width:0}),n("FunnelSlice",["pyramid"]).setAll({interactive:!0,expandDistance:0}),n("FunnelSlice",["pyramid"]).states.create("hover",{expandDistance:.15}),n("Label",["pyramid"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:pe}),n("Label",["pyramid","horizontal"]).setAll({centerX:0,centerY:pe,rotation:-90}),n("Label",["pyramid","vertical"]).setAll({centerY:pe,centerX:0}),n("Tick",["pyramid"]).setAll({location:1}),n("FunnelSlice",["pictorial"]).setAll({interactive:!0,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}"}),n("Label",["pictorial"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:pe}),n("Label",["pictorial","horizontal"]).setAll({centerX:0,centerY:pe,rotation:-90}),n("Label",["pictorial","vertical"]).setAll({centerY:pe,centerX:0}),n("FunnelSlice",["pictorial","link"]).setAll({fillOpacity:.5,width:0,height:0}),n("Tick",["pictorial"]).setAll({location:.5});{let e=n("Graphics",["pictorial","background"]);e.setAll({fillOpacity:.2}),te(e,"fill",t,"alternativeBackground")}}};var xr=class extends yr{_afterNew(){this._defaultThemes.push(ic.new(this._root)),super._afterNew(),this.chartContainer.children.push(this.seriesContainer),this.seriesContainer.children.push(this.bulletsContainer)}_processSeries(t){super._processSeries(t),this.seriesContainer.children.moveValue(this.bulletsContainer,this.seriesContainer.children.length-1)}};Object.defineProperty(xr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentChart"});Object.defineProperty(xr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:yr.classNames.concat([xr.className])});var wr=class extends fr{constructor(){super(...arguments),Object.defineProperty(this,"slicesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Re.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Re.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"ticksContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Re.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"_lLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_rLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_hLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"slices",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeSlices())}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeLabels())}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeTicks())})}makeSlice(t){let n=this.slicesContainer.children.push(this.slices.make());return n.on("fill",()=>{this.updateLegendMarker(t)}),n.on("fillPattern",()=>{this.updateLegendMarker(t)}),n.on("stroke",()=>{this.updateLegendMarker(t)}),n._setDataItem(t),t.set("slice",n),this.slices.push(n),n}makeLabel(t){let n=this.labelsContainer.children.push(this.labels.make());return n._setDataItem(t),t.set("label",n),this.labels.push(n),n}_shouldMakeBullet(t){return t.get("value")!=null}makeTick(t){let n=this.ticksContainer.children.push(this.ticks.make());return n._setDataItem(t),t.set("tick",n),this.ticks.push(n),n}_afterNew(){this.fields.push("category","fill"),super._afterNew()}_onDataClear(){let t=this.get("colors");t&&t.reset();let n=this.get("patterns");n&&n.reset()}_prepareChildren(){if(super._prepareChildren(),this._lLabels=[],this._rLabels=[],this._hLabels=[],this._valuesDirty){let t=0,n=0,e=0,i=1/0,r=0;k(this._dataItems,o=>{let s=o.get("valueWorking",0);t+=s,n+=Math.abs(s)}),k(this._dataItems,o=>{let s=o.get("valueWorking",0);s>e&&(e=s),s<i&&(i=s),r++;let l=s/n;n==0&&(l=0),o.setRaw("valuePercentTotal",l*100)}),this.setPrivateRaw("valueLow",i),this.setPrivateRaw("valueHigh",e),this.setPrivateRaw("valueSum",t),this.setPrivateRaw("valueAverage",t/r),this.setPrivateRaw("valueAbsoluteSum",n)}}show(t){let n=Object.create(null,{show:{get:()=>super.show}});return St(this,void 0,void 0,function*(){let e=[];e.push(n.show.call(this,t)),e.push(this._sequencedShowHide(!0,t)),yield Promise.all(e)})}hide(t){let n=Object.create(null,{hide:{get:()=>super.hide}});return St(this,void 0,void 0,function*(){let e=[];e.push(n.hide.call(this,t)),e.push(this._sequencedShowHide(!1,t)),yield Promise.all(e)})}_updateChildren(){super._updateChildren(),this._valuesDirty&&k(this._dataItems,t=>{t.get("label").text.markDirtyText()}),(this.isDirty("legendLabelText")||this.isDirty("legendValueText"))&&k(this._dataItems,t=>{this.updateLegendValue(t)}),this._arrange()}_arrange(){this._arrangeDown(this._lLabels),this._arrangeUp(this._lLabels),this._arrangeDown(this._rLabels),this._arrangeUp(this._rLabels),this._arrangeLeft(this._hLabels),this._arrangeRight(this._hLabels),k(this.dataItems,t=>{this._updateTick(t)})}_afterChanged(){super._afterChanged(),this._arrange()}processDataItem(t){if(super.processDataItem(t),t.get("fill")==null){let n=this.get("colors");n&&t.setRaw("fill",n.next())}if(t.get("fillPattern")==null){let n=this.get("patterns");n&&t.setRaw("fillPattern",n.next())}}showDataItem(t,n){let e=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return St(this,void 0,void 0,function*(){let i=[e.showDataItem.call(this,t,n)];L(n)||(n=this.get("stateAnimationDuration",0));let r=this.get("stateAnimationEasing"),o=t.get("value"),s=t.animate({key:"valueWorking",to:o,duration:n,easing:r});s&&i.push(s.waitForStop());let l=t.get("tick");l&&i.push(l.show(n));let c=t.get("label");c&&i.push(c.show(n));let d=t.get("slice");d&&i.push(d.show(n)),d.get("active")&&d.states.applyAnimate("active"),yield Promise.all(i)})}hideDataItem(t,n){let e=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return St(this,void 0,void 0,function*(){let i=[e.hideDataItem.call(this,t,n)],r=this.states.create("hidden",{});L(n)||(n=r.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));let o=r.get("stateAnimationEasing",this.get("stateAnimationEasing")),s=t.animate({key:"valueWorking",to:0,duration:n,easing:o});s&&i.push(s.waitForStop());let l=t.get("tick");l&&i.push(l.hide(n));let c=t.get("label");c&&i.push(c.hide(n));let d=t.get("slice");d.hideTooltip(),d&&i.push(d.hide(n)),yield Promise.all(i)})}disposeDataItem(t){super.disposeDataItem(t);let n=t.get("label");n&&(this.labels.removeValue(n),n.dispose());let e=t.get("tick");e&&(this.ticks.removeValue(e),e.dispose());let i=t.get("slice");i&&(this.slices.removeValue(i),i.dispose())}hoverDataItem(t){let n=t.get("slice");n&&!n.isHidden()&&n.hover()}unhoverDataItem(t){let n=t.get("slice");n&&n.unhover()}updateLegendMarker(t){if(t){let n=t.get("slice");if(n){let e=t.get("legendDataItem");if(e){let i=e.get("markerRectangle");k(xg,r=>{n.get(r)!=null&&i.set(r,n.get(r))})}}}}_arrangeDown(t){if(t){let n=this._getNextDown();t.sort((e,i)=>e.y>i.y?1:e.y<i.y?-1:0),k(t,e=>{let i=e.label.adjustedLocalBounds(),r=i.top;e.y+r<n&&(e.y=n-r),e.label.set("y",e.y),n=e.y+i.bottom})}}_getNextUp(){return this.labelsContainer.maxHeight()}_getNextDown(){return 0}_arrangeUp(t){if(t){let n=this._getNextUp();t.sort((e,i)=>e.y<i.y?1:e.y>i.y?-1:0),k(t,e=>{let i=e.label.adjustedLocalBounds(),r=i.bottom;e.y+r>n&&(e.y=n-r),e.label.set("y",e.y),n=e.y+i.top})}}_arrangeRight(t){if(t){let n=0;t.sort((e,i)=>e.y>i.y?1:e.y<i.y?-1:0),k(t,e=>{let i=e.label.adjustedLocalBounds(),r=i.left;e.y+r<n&&(e.y=n-r),e.label.set("x",e.y),n=e.y+i.right})}}_arrangeLeft(t){if(t){let n=this.labelsContainer.maxWidth();t.sort((e,i)=>e.y<i.y?1:e.y>i.y?-1:0),k(t,e=>{let i=e.label.adjustedLocalBounds(),r=i.right;e.y+r>n&&(e.y=n-r),e.label.set("x",e.y),n=e.y+i.left})}}_updateSize(){super._updateSize(),this.markDirty()}_updateTick(t){}_dispose(){super._dispose();let t=this.chart;t&&t.series.removeValue(this)}};Object.defineProperty(wr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentSeries"});Object.defineProperty(wr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fr.classNames.concat([wr.className])});var Mr=class extends xr{constructor(){super(...arguments),Object.defineProperty(this,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){super._afterNew(),this.seriesContainer.setAll({x:pe,y:pe})}_prepareChildren(){super._prepareChildren();let t=this.chartContainer,n=t.innerWidth(),e=t.innerHeight(),i=this.get("startAngle",0),r=this.get("endAngle",0),o=this.get("innerRadius"),s=Ho(0,0,i,r,1),l=n/(s.right-s.left),c=e/(s.bottom-s.top),d={left:0,right:0,top:0,bottom:0};if(o instanceof he){let m=o.value,C=Math.min(l,c);m=Math.max(C*m,C-Math.min(e,n))/C,d=Ho(0,0,i,r,m),this.setPrivateRaw("irModifyer",m/o.value)}s=vg([s,d]);let p=this._maxRadius;this._maxRadius=Math.min(l,c);let g=dt(this.get("radius",0),this._maxRadius);this.seriesContainer.setAll({dy:-g*(s.bottom+s.top)/2,dx:-g*(s.right+s.left)/2}),(this.isDirty("startAngle")||this.isDirty("endAngle")||p!=this._maxRadius)&&this.series.each(m=>{m._markDirtyKey("startAngle")}),(this.isDirty("innerRadius")||this.isDirty("radius"))&&this.series.each(m=>{m._markDirtyKey("innerRadius")})}radius(t){let n=dt(this.get("radius",0),this._maxRadius),e=dt(this.get("innerRadius",0),n);if(t){let i=this.series.indexOf(t),r=this.series.length,o=t.get("radius");return o!=null?e+dt(o,n-e):e+(n-e)/r*(i+1)}return n}innerRadius(t){let n=this.radius(),e=dt(this.get("innerRadius",0),n);if(e<0&&(e=n+e),t){let i=this.series.indexOf(t),r=this.series.length,o=t.get("innerRadius");return o!=null?e+dt(o,n-e):e+(n-e)/r*i}return e}_updateSize(){super._updateSize(),this.markDirtyKey("radius")}};Object.defineProperty(Mr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieChart"});Object.defineProperty(Mr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xr.classNames.concat([Mr.className])});var In=class extends wr{_makeSlices(){return new Ia(Ji.new({}),()=>Qr._new(this._root,{themeTags:Mn(this.slices.template.get("themeTags",[]),["pie","series"])},[this.slices.template]))}_makeLabels(){return new Ia(Ji.new({}),()=>Gr._new(this._root,{themeTags:Mn(this.labels.template.get("themeTags",[]),["pie","series"])},[this.labels.template]))}_makeTicks(){return new Ia(Ji.new({}),()=>Kr._new(this._root,{themeTags:Mn(this.ticks.template.get("themeTags",[]),["pie","series"])},[this.ticks.template]))}processDataItem(t){super.processDataItem(t);let n=this.makeSlice(t);n.on("scale",()=>{this._updateTick(t)}),n.on("shiftRadius",()=>{this._updateTick(t)}),n.events.on("positionchanged",()=>{this._updateTick(t)});let e=this.makeLabel(t);e.events.on("positionchanged",()=>{this._updateTick(t)}),this.makeTick(t),n.events.on("positionchanged",()=>{e.markDirty()})}_getNextUp(){let t=this.chart;return t?t._maxRadius:this.labelsContainer.maxHeight()/2}_getNextDown(){let t=this.chart;return t?-t._maxRadius:-this.labelsContainer.maxHeight()/2}_prepareChildren(){super._prepareChildren();let t=this.chart;if(t){if(this.isDirty("alignLabels")){let n=this.labels.template;if(this.get("alignLabels"))n.set("textType","aligned");else{let e=n.get("textType");(e==null||e=="aligned")&&n.set("textType","adjusted")}}if(this._valuesDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")||this.isDirty("alignLabels")){this.markDirtyBounds();let n=this.get("startAngle",t.get("startAngle",-90)),i=this.get("endAngle",t.get("endAngle",270))-n,r=n,o=t.radius(this);this.setPrivateRaw("radius",o);let s=t.innerRadius(this)*t.getPrivate("irModifyer",1);s<0&&(s=o+s),k(this._dataItems,l=>{this.updateLegendValue(l);let c=i*l.get("valuePercentTotal")/100,d=l.get("slice");if(d){d.set("radius",o),d.set("innerRadius",s),d.set("startAngle",r),d.set("arc",c);let m=l.get("fill");d._setDefault("fill",m),d._setDefault("stroke",m);let C=l.get("fillPattern");d._setDefault("fillPattern",C)}let p=cr(r+c/2),g=l.get("label");if(g&&(g.setPrivate("radius",o),g.setPrivate("innerRadius",s),g.set("labelAngle",p),g.get("textType")=="aligned")){let m=o+g.get("radius",0),C=o*Jt(p);p>90&&p<=270?(!g.isHidden()&&!g.isHiding()&&this._lLabels.push({label:g,y:C}),m*=-1,m-=this.labelsContainer.get("paddingLeft",0),g.set("centerX",fe),g.setPrivateRaw("left",!0)):(!g.isHidden()&&!g.isHiding()&&this._rLabels.push({label:g,y:C}),m+=this.labelsContainer.get("paddingRight",0),g.set("centerX",0),g.setPrivateRaw("left",!1)),g.set("x",m),g.set("y",o*Jt(p))}r+=c,this._updateTick(l)})}}}_updateTick(t){let n=t.get("tick"),e=t.get("label"),i=t.get("slice"),r=n.get("location",1);if(n&&e&&i){let o=(i.get("shiftRadius",0)+i.get("radius",0))*i.get("scale",1)*r,s=e.get("labelAngle",0),l=hi(s),c=Jt(s),d=this.labelsContainer,p=d.get("paddingLeft",0),g=d.get("paddingRight",0),m=0,C=0;m=e.x(),C=e.y();let b=[];if(m!=0||C!=0){if(e.get("textType")=="circular"){let y=e.radius()-e.get("paddingBottom",0),w=e.get("labelAngle",0);m=y*hi(w),C=y*Jt(w)}let x=-g;e.getPrivate("left")&&(x=p),b=[{x:i.x()+o*l,y:i.y()+o*c},{x:m+x,y:C},{x:m,y:C}]}n.set("points",b)}}_positionBullet(t){let n=t.get("sprite");if(n){let i=n.dataItem.get("slice");if(i){let r=i.get("innerRadius",0),o=i.get("radius",0),s=i.get("startAngle",0),l=i.get("arc",0),c=t.get("locationX",.5),d=t.get("locationY",.5),p=s+l*c,g=r+(o-r)*d;n.setAll({x:hi(p)*g,y:Jt(p)*g})}}}};Object.defineProperty(In,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieSeries"});Object.defineProperty(In,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:wr.classNames.concat([In.className])});var nc=class extends hr{setupDefaultRules(){super.setupDefaultRules(),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500),this.rule("Polygon").set("animationDuration",600),this.rule("ArcDiagram").set("animationDuration",600)}};var jg=nc;function _C(a,t){a&1&&(u(0,"div",9)(1,"div",10)(2,"mat-icon",11),_(3,"refresh"),h(),u(4,"span"),_(5,"Loading financial data..."),h()()())}function bC(a,t){if(a&1){let n=ee();u(0,"button",16),T("click",function(){E(n);let i=M(2);return A(i.onRefreshClick())}),u(1,"mat-icon"),_(2,"refresh"),h(),_(3," Retry "),h()}}function vC(a,t){if(a&1&&(u(0,"div",12)(1,"mat-icon",13),_(2,"error"),h(),u(3,"span",14),_(4),h(),S(5,bC,4,0,"button",15),h()),a&2){let n=M();f(4),R(n.effectiveConfig.error),f(),P("ngIf",n.effectiveConfig.onRefresh)}}function yC(a,t){if(a&1&&(u(0,"div",17)(1,"mat-icon",18),_(2,"pie_chart"),h(),u(3,"span",19),_(4),h()()),a&2){let n=M();f(4),R(n.effectiveConfig.emptyStateMessage)}}var Ng=(()=>{let t=class t{constructor(e,i,r){this.store=e,this.platformId=i,this.zone=r,this.config={title:"Financial Overview",subtitle:"",currency:"INR",showHeaderIcon:!0,headerIcon:"pie_chart",showFooter:!1,footerText:"Last updated",cardHeight:"medium",theme:"auto",animations:!0,loading:!1,error:"",emptyStateMessage:"No financial data available",pieChartHeight:"inherit",customColors:{}},this.chartContainerId="financial-metrics-pie-chart",this.destroy$=new ue,this.transactions$=this.store.select(Lt),this.transactionsLoading$=this.store.select(Da),this.isLoading$=this.transactionsLoading$,this.metrics$=this.calculateFinancialMetrics()}ngOnInit(){}ngAfterViewInit(){this.browserOnly(()=>{this.initializePieChart(),this.subscribeToPieChartData()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.browserOnly(()=>{this.root&&this.root.dispose()})}browserOnly(e){qm(this.platformId)&&this.zone.runOutsideAngular(()=>{e()})}calculateFinancialMetrics(){return this.transactions$.pipe(ne(e=>{let i=new Date().getMonth(),r=new Date().getFullYear(),o=e.filter(d=>{let p=this.convertToDate(d.date);return p.getMonth()===i&&p.getFullYear()===r}),s=o.filter(d=>d.type===gt.INCOME).reduce((d,p)=>d+p.amount,0),l=o.filter(d=>d.type===gt.EXPENSE).reduce((d,p)=>d+p.amount,0),c=s-l;return{expenses:l,savings:c}}))}convertToDate(e){return e instanceof Date?e:e!=null&&e.seconds?new Date(e.seconds*1e3):new Date(e)}initializePieChart(){try{this.root=qo.new(this.chartContainerId),this.root.setThemes([jg.new(this.root)]),this.chart=this.root.container.children.push(Mr.new(this.root,{layout:this.root.verticalLayout}));let e=this.chart.series.push(In.new(this.root,{valueField:"value",categoryField:"category",alignLabels:!1,radius:At(80),innerRadius:At(60)}));e.states.create("hidden",{startAngle:180,endAngle:180}),e.slices.template.setAll({fillOpacity:.5,strokeOpacity:0,templateField:"settings"}),e.slices.template.states.create("hover",{scale:1}),e.slices.template.states.create("active",{shiftRadius:0}),e.labels.template.setAll({templateField:"settings"}),e.ticks.template.setAll({templateField:"settings"}),e.labels.template.setAll({textType:"circular",radius:30});let i=this.chart.series.push(In.new(this.root,{radius:At(85),innerRadius:At(60),valueField:"value",categoryField:"category",alignLabels:!1}));i.states.create("hidden",{startAngle:180,endAngle:180}),i.slices.template.setAll({templateField:"sliceSettings",strokeOpacity:0}),i.labels.template.setAll({textType:"circular",fontSize:12,fill:Zt(16777215),fontWeight:"bold"}),i.labels.template.adapters.add("radius",function(r,o){return-15}),i.labels.template.adapters.add("text",(r,o)=>{let s=o.dataItem;if(s&&s.dataContext){let l=s.dataContext,c=l.amount,d=l.percent;if(c!==void 0&&d!==void 0)return`${d.toFixed(0)}% ${c}`}return r}),i.slices.template.states.create("hover",{scale:1.1}),i.slices.template.states.create("active",{shiftRadius:0}),i.slices.template.set("tooltipText","{category}: {percent.formatNumber('#.0')}% ({amount})"),i.slices.template.set("tooltipPosition","pointer"),i.ticks.template.setAll({forceHidden:!0}),this.outerSeries=e,this.innerSeries=i,console.log("Two-level pie chart initialized successfully")}catch(e){console.error("Error initializing pie chart:",e)}}subscribeToPieChartData(){this.metrics$.pipe(De(this.destroy$)).subscribe(e=>{this.browserOnly(()=>{e?this.updatePieChartData(e):this.clearPieChartData()})})}updatePieChartData(e){if(!this.outerSeries||!this.innerSeries){console.error("Pie chart series not available");return}let{expenses:i,savings:r}=e,o=i+Math.abs(r);if(o===0){this.clearPieChartData();return}let s=[{category:"Expenses and Savings Overview",value:o,sliceSettings:{fill:Zt(0),stroke:Zt(0),strokeWidth:.5}}],l=[{category:"Expenses",value:i,amount:this.formatCurrency(i),percent:o>0?i/o*100:0,sliceSettings:{fill:Zt(this.getCustomColor("expenses","#EF4444"))}}];r!==0&&l.push({category:r>=0?"Savings":"Deficit",value:Math.abs(r),amount:this.formatCurrency(Math.abs(r)),percent:o>0?Math.abs(r)/o*100:0,sliceSettings:{fill:Zt(this.getCustomColor("savings",r>=0?"#3B82F6":"#F59E0B"))}}),o<100&&l.push({category:"Remaining",value:100-o,amount:this.formatCurrency(100-o),percent:o>0?(100-o)/o*100:0,sliceSettings:{fill:Zt(14606046)}}),this.outerSeries.data.setAll(s),this.innerSeries.data.setAll(l),this.outerSeries.appear(1e3,100),this.innerSeries.appear(1e3,100)}clearPieChartData(){this.outerSeries&&this.outerSeries.data.clear(),this.innerSeries&&this.innerSeries.data.clear()}getCustomColor(e,i){let r=this.effectiveConfig.customColors;return r&&r[e]&&r[e]||i}get effectiveConfig(){var e,i,r,o,s,l,c,d,p,g,m,C,b,x,y;return{title:(e=this.config.title)!=null?e:"Financial Overview",subtitle:(i=this.config.subtitle)!=null?i:"",currency:(r=this.config.currency)!=null?r:"INR",showHeaderIcon:(o=this.config.showHeaderIcon)!=null?o:!0,headerIcon:(s=this.config.headerIcon)!=null?s:"pie_chart",showFooter:(l=this.config.showFooter)!=null?l:!1,footerText:(c=this.config.footerText)!=null?c:"Last updated",cardHeight:(d=this.config.cardHeight)!=null?d:"medium",theme:(p=this.config.theme)!=null?p:"auto",animations:(g=this.config.animations)!=null?g:!0,loading:(m=this.config.loading)!=null?m:!1,error:(C=this.config.error)!=null?C:"",emptyStateMessage:(b=this.config.emptyStateMessage)!=null?b:"No financial data available",pieChartHeight:(x=this.config.pieChartHeight)!=null?x:"inherit",customColors:(y=this.config.customColors)!=null?y:{},onRefresh:this.config.onRefresh}}get cardHeightClass(){switch(this.effectiveConfig.cardHeight){case"small":return"min-h-20";case"large":return"min-h-32";case"auto":return"min-h-0";default:return"min-h-24"}}formatCurrency(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:this.effectiveConfig.currency,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}onRefreshClick(){this.effectiveConfig.onRefresh&&this.effectiveConfig.onRefresh()}get isEmpty(){return this.metrics$.pipe(ne(e=>!e||e.expenses===0))}get hasError(){return!!(this.effectiveConfig.error&&this.effectiveConfig.error.trim())}getLastUpdatedTime(){return new Date().toLocaleString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}};t.\u0275fac=function(i){return new(i||t)(v(Qe),v(zm),v(Ze))},t.\u0275cmp=j({type:t,selectors:[["app-financial-metrics-card"]],inputs:{config:"config"},standalone:!0,features:[le],decls:14,vars:13,consts:[[1,"financial-metrics-card"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","empty-container",4,"ngIf"],[1,"pie-chart-container"],[1,"pie-chart-header"],[1,"pie-chart-title"],[1,"pie-chart-subtitle"],[1,"pie-chart",3,"id"],[1,"loading-container"],[1,"loading-spinner"],[1,"animate-spin"],[1,"error-container"],[1,"error-icon"],[1,"error-message"],["class","retry-button",3,"click",4,"ngIf"],[1,"retry-button",3,"click"],[1,"empty-container"],[1,"empty-icon"],[1,"empty-message"]],template:function(i,r){i&1&&(u(0,"div",0),S(1,_C,6,0,"div",1),z(2,"async"),S(3,vC,6,2,"div",2)(4,yC,5,1,"div",3),z(5,"async"),z(6,"async"),u(7,"div",4)(8,"div",5)(9,"h4",6),_(10,"Financial Distribution"),h(),u(11,"p",7),_(12),h()(),B(13,"div",8),h()()),i&2&&(f(),P("ngIf",U(2,7,r.isLoading$)),f(2),P("ngIf",r.hasError),f(),P("ngIf",U(5,9,r.isEmpty)&&!r.hasError&&!U(6,11,r.isLoading$)),f(8),R(r.effectiveConfig.subtitle),f(),We("height",r.effectiveConfig.pieChartHeight),P("id",r.chartContainerId))},dependencies:[Nt,tt,Xt,Wi,Yi,Ge],styles:[".financial-metrics-card[_ngcontent-%COMP%]{width:100%;height:100%;min-height:500px}.financial-metrics-card[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2rem}.financial-metrics-card[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#4b5563}.financial-metrics-card[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem}.financial-metrics-card[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center}.financial-metrics-card[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{color:#ef4444;font-size:1.875rem;margin-bottom:.5rem}.financial-metrics-card[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;margin-bottom:1rem}.financial-metrics-card[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.5rem 1rem;background-color:#fef2f2;color:#b91c1c;border-radius:.5rem;transition:all .2s}.financial-metrics-card[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]:hover{background-color:#fee2e2}.financial-metrics-card[_ngcontent-%COMP%]   .empty-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center}.financial-metrics-card[_ngcontent-%COMP%]   .empty-container[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:1.875rem;margin-bottom:.5rem}.financial-metrics-card[_ngcontent-%COMP%]   .empty-container[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{color:#6b7280}.financial-metrics-card[_ngcontent-%COMP%]   .metrics-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background-color:#fff;border-radius:.5rem;box-shadow:0 1px 2px #0000000d;border:1px solid #e5e7eb}.financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2.5rem;height:2.5rem;background-color:#dbeafe;border-radius:.5rem}.financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2563eb;font-size:1.25rem}.financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#111827;margin-bottom:.25rem}.financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#4b5563}.financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]{color:#6b7280;transition:color .2s}.financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover{color:#374151}.financial-metrics-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:1rem;background-color:#f9fafb;border-radius:.5rem;border:1px solid #e5e7eb}.financial-metrics-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .footer-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.financial-metrics-card[_ngcontent-%COMP%]   .pie-chart-container[_ngcontent-%COMP%]{padding:1rem;height:inherit;background-color:#fff;border-radius:.5rem;box-shadow:0 1px 2px #0000000d;border:1px solid #e5e7eb}.financial-metrics-card[_ngcontent-%COMP%]   .pie-chart-container[_ngcontent-%COMP%]   .pie-chart-header[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center}.financial-metrics-card[_ngcontent-%COMP%]   .pie-chart-container[_ngcontent-%COMP%]   .pie-chart-header[_ngcontent-%COMP%]   .pie-chart-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#111827;margin-bottom:.25rem}.financial-metrics-card[_ngcontent-%COMP%]   .pie-chart-container[_ngcontent-%COMP%]   .pie-chart-header[_ngcontent-%COMP%]   .pie-chart-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#4b5563}.financial-metrics-card[_ngcontent-%COMP%]   .pie-chart-container[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;min-height:200px;margin-top:-5rem}@media (max-width: 640px){.financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{width:100%}.financial-metrics-card[_ngcontent-%COMP%]   .pie-chart-container[_ngcontent-%COMP%]{padding:.75rem}.financial-metrics-card[_ngcontent-%COMP%]   .pie-chart-container[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]{min-height:150px}}.financial-metrics-card.dark[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#1f2937;border-color:#374151}.financial-metrics-card.dark[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{background-color:#3b82f633}.financial-metrics-card.dark[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#60a5fa}.financial-metrics-card.dark[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#fff}.financial-metrics-card.dark[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%], .financial-metrics-card.dark[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]{color:#9ca3af}.financial-metrics-card.dark[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover{color:#d1d5db}.financial-metrics-card.dark[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{background-color:#11182733;border-color:#374151}.financial-metrics-card.dark[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .footer-text[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .footer-text[_ngcontent-%COMP%]{color:#9ca3af}.financial-metrics-card.dark[_ngcontent-%COMP%]   .pie-chart-container[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .pie-chart-container[_ngcontent-%COMP%]{background-color:#1f2937;border-color:#374151}.financial-metrics-card.dark[_ngcontent-%COMP%]   .pie-chart-container[_ngcontent-%COMP%]   .pie-chart-header[_ngcontent-%COMP%]   .pie-chart-title[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .pie-chart-container[_ngcontent-%COMP%]   .pie-chart-header[_ngcontent-%COMP%]   .pie-chart-title[_ngcontent-%COMP%]{color:#fff}.financial-metrics-card.dark[_ngcontent-%COMP%]   .pie-chart-container[_ngcontent-%COMP%]   .pie-chart-header[_ngcontent-%COMP%]   .pie-chart-subtitle[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .pie-chart-container[_ngcontent-%COMP%]   .pie-chart-header[_ngcontent-%COMP%]   .pie-chart-subtitle[_ngcontent-%COMP%], .financial-metrics-card.dark[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%], .financial-metrics-card.dark[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{color:#9ca3af}.financial-metrics-card.dark[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#fca5a5}.financial-metrics-card.dark[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]{background-color:#ef444433;color:#fca5a5}.financial-metrics-card.dark[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .financial-metrics-card[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]:hover{background-color:#ef44444d}.financial-metrics-card[_ngcontent-%COMP%]   .animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]});let a=t;return a})();var Vg=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({imports:[Nt,Va,$a,jp,Np,Ng,Wi,Co,kr,Yi,Lc,Ya,Xc,bc,Kc,Ka,qa,Ja,qc,Po,Za,Wa,cd,dd,Pc,fd,Xa,Qa,_d,bd,yo,Ir,eo,Mc,yd,Nt,Va,$a,Wi,Co,kr,Yi,Lc,Ya,Xc,bc,Kc,Ka,qa,Ja,qc,Po,Za,Wa,cd,dd,Pc,fd,Xa,Qa,_d,bd,yo,Ir,eo,Mc,yd]});let a=t;return a})();var _3=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Se({providers:[ya],imports:[Nt,Va,$a,Na,wh,Wi,Co,kr,Yi,Wa,Ka,Za,qa,Ya,Qa,eo,Xu,Ir,Ja,yo,Po,Xa,Vg,tu.forFeature("splitwise",Gh),Hh.forFeature([Yh])]});let a=t;return a})();export{eP as a,ma as b,pa as c,ga as d,tl as e,oh as f,ya as g,Qu as h,xC as i,wC as j,da as k,SC as l,pn as m,xl as n,mD as o,Ap as p,il as q,yD as r,Qc as s,qb as t,Zb as u,gn as v,wl as w,iM as x,nM as y,Fs as z,Bs as A,Ol as B,Qg as C,Lt as D,Da as E,LD as F,ND as G,jv as H,VD as I,Nv as J,$D as K,HD as L,UD as M,ED as N,hn as O,Tp as P,Ac as Q,bh as R,vh as S,$0 as T,gd as U,Sp as V,sS as W,nS as X,Gc as Y,KP as Z,dp as _,zb as $,jp as aa,he as ba,At as ca,fe as da,pe as ea,kl as fa,L as ga,k as ha,Fi as ia,Ot as ja,Up as ka,Gp as la,ct as ma,Kp as na,Ve as oa,kt as pa,nt as qa,wn as ra,Od as sa,ng as ta,jo as ua,dt as va,ag as wa,OS as xa,Mn as ya,kS as za,Zt as Aa,oe as Ba,On as Ca,zo as Da,Ia as Ea,Nr as Fa,Ea as Ga,zS as Ha,HS as Ia,bt as Ja,Jt as Ka,hi as La,cr as Ma,Ho as Na,vg as Oa,US as Pa,nT as Qa,Ji as Ra,xg as Sa,Dt as Ta,Ci as Ua,ur as Va,Re as Wa,si as Xa,Sn as Ya,hr as Za,te as _a,qo as $a,Hr as ab,Zo as bb,Jo as cb,pr as db,xm as eb,fr as fb,Gr as gb,Dm as hb,Qr as ib,yr as jb,Kr as kb,Cr as lb,jg as mb,F_ as nb,Dh as ob,Np as pb,o1 as qb,s1 as rb,l1 as sb,c1 as tb,d1 as ub,m1 as vb,u1 as wb,h1 as xb,p1 as yb,g1 as zb,Cp as Ab,_0 as Bb,T1 as Cb,uP as Db,sD as Eb,yv as Fb,ai as Gb,Fh as Hb,oi as Ib,Hh as Jb,KM as Kb,Vg as Lb,_3 as Mb};

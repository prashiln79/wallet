import{$ as Fy,$a as Lh,$b as Is,$c as jC,$d as sw,A as Gi,Aa as kh,Ab as ao,Ac as cl,Ad as KC,Ba as Ph,Bb as oo,Bc as TC,Bd as Zo,C as yr,Ca as Eh,Cb as pn,Cd as Jo,D as ky,Da as vd,Db as cC,Dc as ll,Dd as ep,E as Cr,Ea as Vy,Eb as ir,Ec as Gh,Ed as QC,F as Ja,Fa as Th,Fb as hc,Fc as OC,Fd as Td,G as eo,Ga as By,Gb as lC,Gc as IC,Gd as XC,H as to,Ha as Sa,Hb as dC,Hc as Lr,Hd as Ma,I as mh,Ia as Oh,Ib as pc,Ic as O_,Id as ZC,J as hh,Ja as Ih,Jb as Nr,Jc as AC,Jd as Qr,K as _d,Ka as uc,Kb as $u,Kc as Cn,Kd as JC,L as cc,La as jy,Lb as k_,Lc as gc,Ld as Vr,M as wr,Ma as Ah,Mb as P_,Mc as DC,Md as D_,N as Py,Na as Ts,Nb as uC,Nc as wn,Nd as ew,O as Ey,Oa as Uy,Ob as mC,Oc as $h,Od as Ds,P as _n,Pa as Dh,Pb as E_,Pc as I_,Pd as vc,Q as Ty,Qa as bd,Qb as so,Qc as Wu,Qd as bc,R as Oy,Ra as Fh,Rb as Yr,Rc as NC,Rd as yc,S as mt,Sa as Rh,Sb as Os,Sc as As,Sd as tw,T as ft,Ta as Nh,Tb as fc,Tc as Wh,Td as nw,U as b_,Ua as zy,Ub as hC,Uc as LC,Ud as Cc,V as ph,Va as Hy,Vb as wd,Vc as Yh,Vd as iw,W as Iy,Wa as Gy,Wb as zh,Wc as VC,Wd as wc,X as Ay,Xa as $y,Xb as Sd,Xc as Yu,Xd as rw,Y as Dy,Ya as Wy,Yb as Md,Yc as qh,Yd as aw,Z as y_,Za as Yy,Zb as pC,Zc as BC,Zd as ow,_ as fh,_a as qy,_b as xt,_c as Kh,_d as tp,a as xy,aa as qt,ab as Vh,ac as fC,ad as Ed,ae as np,b as vy,ba as Kt,bb as yd,bc as gC,bd as dl,be as cw,c as ah,ca as no,cb as sl,cc as Fa,cd as ul,ce as lw,d as by,da as C_,db as Bh,dc as kd,dd as UC,e as oh,ea as w_,eb as Cd,ec as _C,ed as A_,f as yy,fa as Ry,fb as Gu,fc as Ra,fd as zC,g as Cy,ga as je,gb as S_,gc as Pd,gd as xc,h as wy,ha as io,hb as mc,hc as xC,hd as Qh,i as sh,ia as wa,ib as Ky,ic as vC,id as At,j as Sy,ja as gh,jb as Qy,jc as T_,jd as Kr,k as ch,ka as _h,kb as Xy,kc as bC,kd as HC,l as Sn,la as lc,lb as Zy,lc as Sr,ld as zt,m as lh,ma as Ny,mb as Jy,mc as qr,md as GC,n as My,na as xh,nb as jh,nc as yC,nd as Xo,o as zu,oa as dc,ob as eC,oc as CC,od as $C,p as fd,pa as Ly,pb as tC,pc as wC,pd as WC,q as dh,qa as vh,qb as nC,qc as SC,qd as rr,r as mn,ra as xd,rb as iC,rc as MC,rd as ni,s as uh,sa as bh,sb as rC,sc as Qo,sd as YC,t as yt,ta as yh,tb as Ut,tc as Hh,td as Mr,u as hn,ua as Ch,ub as aC,uc as kC,ud as kr,v as Ai,va as wh,vb as oC,vc as pa,vd as ar,w as gd,wa as Hu,wb as M_,wc as PC,wd as Xh,xa as Es,xb as ro,xc as EC,xd as Zh,y as Hi,ya as Sh,yb as sC,yc as Kn,yd as Jh,z as Di,za as Mh,zb as Uh,zc as Na,zd as qC}from"./chunk-WU6727VH.js";import{f as dw,g as qu,h as ip,m as uw,n as rp,p as mw,u as hw}from"./chunk-Y27IEURU.js";import{$ as ty,$b as c,A as $0,Aa as Fe,Ab as Z0,Ac as St,Ad as md,Ba as Bt,Bc as Mt,Bd as Ko,C as Xa,Ca as Et,Cb as __,Cc as kt,Cd as zi,D as Kb,Da as q0,Db as An,Dc as Dn,Dd as hd,E as m_,Ea as Ss,Eb as my,Ec as rn,Ed as pd,F as mi,G as ld,Gb as Io,Gc as py,Gd as v_,H as un,Hb as ma,Hc as fy,Hd as sc,Ic as gy,J as Qt,Ja as ti,Jb as hy,Jc as Ee,K as h_,Ka as q,Kc as $e,L as ws,La as K,Lb as Yn,Lc as Xt,Ma as si,Md as $i,N as Rr,Na as Gr,Nb as Ln,Nd as Qn,O as Qb,Oa as pr,P as p_,Pa as Oo,Pd as Nt,Q as Xb,Qa as $r,Qb as G,Qd as Fn,R as Zb,Ra as K0,Rb as Gt,Rd as _c,S as dd,Sb as P,Sd as Hn,T as Jb,Tb as Yt,Td as FC,Ua as g_,Ub as Be,Ud as RC,Va as Ms,Vb as jt,Vc as ih,W as f_,Wa as tn,Xb as ot,Xc as x_,Ya as He,Yb as Uu,Z as ey,Za as ju,Zb as Li,_b as Vi,a as fn,aa as ny,ac as l,ad as _y,ba as iy,bb as ol,bc as de,bd as gn,c as In,ca as ry,cb as Wr,cc as ks,cd as ud,dc as Ps,ea as W0,ec as Ca,f as bt,fa as ua,fc as Ce,g as Jt,ga as Za,gc as J0,gd as Ct,h as rl,ha as It,hc as eh,hd as oc,ic as H,j as Hb,ja as ay,jc as th,k as Gb,ka as oy,kc as k,l as sd,la as sy,lc as _i,ma as cy,mc as yn,n as $b,nc as Ao,oa as Da,oc as yi,p as Fr,pa as it,pc as Zt,pd as ha,q as ht,qa as Vt,qc as gt,r as G0,rb as ly,rc as _t,s as Wb,sa as Ft,sb as Q0,u as Yb,ua as Ne,ub as g,uc as qn,ud as rh,v as at,va as cn,vb as D,vc as u,w as cd,wb as X0,wc as ne,wd as qo,x as en,xa as al,xb as fr,xc as he,xd as an,ya as Y0,yb as dy,yc as xi,yd as Tt,z as qb,zb as uy,zc as nh}from"./chunk-FA2IIB5J.js";import{a as ue,b as xe,c as Ub,d as ad,e as od,f as zb,h as To,k as ge}from"./chunk-LKDXID24.js";var Fo=zb((v1,qd)=>{"use strict";(function(e,n){typeof v1=="object"&&typeof qd<"u"?qd.exports=n():typeof define=="function"&&define.amd?define(n):e.moment=n()})(v1,function(){"use strict";var e;function n(){return e.apply(null,arguments)}function r(h){e=h}function t(h){return h instanceof Array||Object.prototype.toString.call(h)==="[object Array]"}function i(h){return h!=null&&Object.prototype.toString.call(h)==="[object Object]"}function a(h,x){return Object.prototype.hasOwnProperty.call(h,x)}function o(h){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(h).length===0;var x;for(x in h)if(a(h,x))return!1;return!0}function s(h){return h===void 0}function d(h){return typeof h=="number"||Object.prototype.toString.call(h)==="[object Number]"}function m(h){return h instanceof Date||Object.prototype.toString.call(h)==="[object Date]"}function f(h,x){var M=[],T,z=h.length;for(T=0;T<z;++T)M.push(x(h[T],T));return M}function _(h,x){for(var M in x)a(x,M)&&(h[M]=x[M]);return a(x,"toString")&&(h.toString=x.toString),a(x,"valueOf")&&(h.valueOf=x.valueOf),h}function v(h,x,M,T){return En(h,x,M,T,!0).utc()}function w(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function C(h){return h._pf==null&&(h._pf=w()),h._pf}var b;Array.prototype.some?b=Array.prototype.some:b=function(h){var x=Object(this),M=x.length>>>0,T;for(T=0;T<M;T++)if(T in x&&h.call(this,x[T],T,x))return!0;return!1};function O(h){var x=null,M=!1,T=h._d&&!isNaN(h._d.getTime());if(T&&(x=C(h),M=b.call(x.parsedDateParts,function(z){return z!=null}),T=x.overflow<0&&!x.empty&&!x.invalidEra&&!x.invalidMonth&&!x.invalidWeekday&&!x.weekdayMismatch&&!x.nullInput&&!x.invalidFormat&&!x.userInvalidated&&(!x.meridiem||x.meridiem&&M),h._strict&&(T=T&&x.charsLeftOver===0&&x.unusedTokens.length===0&&x.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(h))h._isValid=T;else return T;return h._isValid}function L(h){var x=v(NaN);return h!=null?_(C(x),h):C(x).userInvalidated=!0,x}var N=n.momentProperties=[],V=!1;function re(h,x){var M,T,z,le=N.length;if(s(x._isAMomentObject)||(h._isAMomentObject=x._isAMomentObject),s(x._i)||(h._i=x._i),s(x._f)||(h._f=x._f),s(x._l)||(h._l=x._l),s(x._strict)||(h._strict=x._strict),s(x._tzm)||(h._tzm=x._tzm),s(x._isUTC)||(h._isUTC=x._isUTC),s(x._offset)||(h._offset=x._offset),s(x._pf)||(h._pf=C(x)),s(x._locale)||(h._locale=x._locale),le>0)for(M=0;M<le;M++)T=N[M],z=x[T],s(z)||(h[T]=z);return h}function oe(h){re(this,h),this._d=new Date(h._d!=null?h._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),V===!1&&(V=!0,n.updateOffset(this),V=!1)}function F(h){return h instanceof oe||h!=null&&h._isAMomentObject!=null}function S(h){n.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+h)}function E(h,x){var M=!0;return _(function(){if(n.deprecationHandler!=null&&n.deprecationHandler(null,h),M){var T=[],z,le,Pe,ut=arguments.length;for(le=0;le<ut;le++){if(z="",typeof arguments[le]=="object"){z+=`
[`+le+"] ";for(Pe in arguments[0])a(arguments[0],Pe)&&(z+=Pe+": "+arguments[0][Pe]+", ");z=z.slice(0,-2)}else z=arguments[le];T.push(z)}S(h+`
Arguments: `+Array.prototype.slice.call(T).join("")+`
`+new Error().stack),M=!1}return x.apply(this,arguments)},x)}var A={};function R(h,x){n.deprecationHandler!=null&&n.deprecationHandler(h,x),A[h]||(S(x),A[h]=!0)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;function j(h){return typeof Function<"u"&&h instanceof Function||Object.prototype.toString.call(h)==="[object Function]"}function U(h){var x,M;for(M in h)a(h,M)&&(x=h[M],j(x)?this[M]=x:this["_"+M]=x);this._config=h,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Y(h,x){var M=_({},h),T;for(T in x)a(x,T)&&(i(h[T])&&i(x[T])?(M[T]={},_(M[T],h[T]),_(M[T],x[T])):x[T]!=null?M[T]=x[T]:delete M[T]);for(T in h)a(h,T)&&!a(x,T)&&i(h[T])&&(M[T]=_({},M[T]));return M}function Ge(h){h!=null&&this.set(h)}var ke;Object.keys?ke=Object.keys:ke=function(h){var x,M=[];for(x in h)a(h,x)&&M.push(x);return M};var Xe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function De(h,x,M){var T=this._calendar[h]||this._calendar.sameElse;return j(T)?T.call(x,M):T}function st(h,x,M){var T=""+Math.abs(h),z=x-T.length,le=h>=0;return(le?M?"+":"":"-")+Math.pow(10,Math.max(0,z)).toString().substr(1)+T}var Ie=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ve=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,me={},te={};function ae(h,x,M,T){var z=T;typeof T=="string"&&(z=function(){return this[T]()}),h&&(te[h]=z),x&&(te[x[0]]=function(){return st(z.apply(this,arguments),x[1],x[2])}),M&&(te[M]=function(){return this.localeData().ordinal(z.apply(this,arguments),h)})}function se(h){return h.match(/\[[\s\S]/)?h.replace(/^\[|\]$/g,""):h.replace(/\\/g,"")}function ce(h){var x=h.match(Ie),M,T;for(M=0,T=x.length;M<T;M++)te[x[M]]?x[M]=te[x[M]]:x[M]=se(x[M]);return function(z){var le="",Pe;for(Pe=0;Pe<T;Pe++)le+=j(x[Pe])?x[Pe].call(z,h):x[Pe];return le}}function fe(h,x){return h.isValid()?(x=Ae(x,h.localeData()),me[x]=me[x]||ce(x),me[x](h)):h.localeData().invalidDate()}function Ae(h,x){var M=5;function T(z){return x.longDateFormat(z)||z}for(Ve.lastIndex=0;M>=0&&Ve.test(h);)h=h.replace(Ve,T),Ve.lastIndex=0,M-=1;return h}var Re={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Te(h){var x=this._longDateFormat[h],M=this._longDateFormat[h.toUpperCase()];return x||!M?x:(this._longDateFormat[h]=M.match(Ie).map(function(T){return T==="MMMM"||T==="MM"||T==="DD"||T==="dddd"?T.slice(1):T}).join(""),this._longDateFormat[h])}var we="Invalid date";function dt(){return this._invalidDate}var ee="%d",pt=/\d{1,2}/;function tt(h){return this._ordinal.replace("%d",h)}var Ot={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function rt(h,x,M,T){var z=this._relativeTime[M];return j(z)?z(h,x,M,T):z.replace(/%d/i,h)}function Ue(h,x){var M=this._relativeTime[h>0?"future":"past"];return j(M)?M(x):M.replace(/%s/i,x)}var $t={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function kn(h){return typeof h=="string"?$t[h]||$t[h.toLowerCase()]:void 0}function ui(h){var x={},M,T;for(T in h)a(h,T)&&(M=kn(T),M&&(x[M]=h[T]));return x}var Xi={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function fi(h){var x=[],M;for(M in h)a(h,M)&&x.push({unit:M,priority:Xi[M]});return x.sort(function(T,z){return T.priority-z.priority}),x}var Ti=/\d/,Rt=/\d\d/,$n=/\d{3}/,bi=/\d{4}/,Wn=/[+-]?\d{6}/,vt=/\d\d?/,Ci=/\d\d\d\d?/,wt=/\d\d\d\d\d\d?/,Pn=/\d{1,3}/,Zi=/\d{1,4}/,Jn=/[+-]?\d{1,6}/,Dr=/\d+/,Ho=/[+-]?\d+/,qc=/Z|[+-]\d\d:?\d\d/gi,qs=/Z|[+-]\d\d(?::?\d\d)?/gi,Gl=/[+-]?\d+(\.\d{1,3})?/,Ga=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,$a=/^[1-9]\d?/,Ks=/^([1-9]\d|\d)/,Wa;Wa={};function nt(h,x,M){Wa[h]=j(x)?x:function(T,z){return T&&M?M:x}}function Kc(h,x){return a(Wa,h)?Wa[h](x._strict,x._locale):new RegExp(So(h))}function So(h){return xa(h.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(x,M,T,z,le){return M||T||z||le}))}function xa(h){return h.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function mr(h){return h<0?Math.ceil(h)||0:Math.floor(h)}function sn(h){var x=+h,M=0;return x!==0&&isFinite(x)&&(M=mr(x)),M}var Mo={};function Nn(h,x){var M,T=x,z;for(typeof h=="string"&&(h=[h]),d(x)&&(T=function(le,Pe){Pe[x]=sn(le)}),z=h.length,M=0;M<z;M++)Mo[h[M]]=T}function Ni(h,x){Nn(h,function(M,T,z,le){z._w=z._w||{},x(M,z._w,z,le)})}function Qs(h,x,M){x!=null&&a(Mo,h)&&Mo[h](x,M._a,M,h)}function Ya(h){return h%4===0&&h%100!==0||h%400===0}var Oi=0,Ia=1,B=2,Z=3,Q=4,X=5,J=6,ie=7,ve=8;ae("Y",0,0,function(){var h=this.year();return h<=9999?st(h,4):"+"+h}),ae(0,["YY",2],0,function(){return this.year()%100}),ae(0,["YYYY",4],0,"year"),ae(0,["YYYYY",5],0,"year"),ae(0,["YYYYYY",6,!0],0,"year"),nt("Y",Ho),nt("YY",vt,Rt),nt("YYYY",Zi,bi),nt("YYYYY",Jn,Wn),nt("YYYYYY",Jn,Wn),Nn(["YYYYY","YYYYYY"],Oi),Nn("YYYY",function(h,x){x[Oi]=h.length===2?n.parseTwoDigitYear(h):sn(h)}),Nn("YY",function(h,x){x[Oi]=n.parseTwoDigitYear(h)}),Nn("Y",function(h,x){x[Oi]=parseInt(h,10)});function Me(h){return Ya(h)?366:365}n.parseTwoDigitYear=function(h){return sn(h)+(sn(h)>68?1900:2e3)};var _e=ye("FullYear",!0);function be(){return Ya(this.year())}function ye(h,x){return function(M){return M!=null?(qe(this,h,M),n.updateOffset(this,x),this):ze(this,h)}}function ze(h,x){if(!h.isValid())return NaN;var M=h._d,T=h._isUTC;switch(x){case"Milliseconds":return T?M.getUTCMilliseconds():M.getMilliseconds();case"Seconds":return T?M.getUTCSeconds():M.getSeconds();case"Minutes":return T?M.getUTCMinutes():M.getMinutes();case"Hours":return T?M.getUTCHours():M.getHours();case"Date":return T?M.getUTCDate():M.getDate();case"Day":return T?M.getUTCDay():M.getDay();case"Month":return T?M.getUTCMonth():M.getMonth();case"FullYear":return T?M.getUTCFullYear():M.getFullYear();default:return NaN}}function qe(h,x,M){var T,z,le,Pe,ut;if(!(!h.isValid()||isNaN(M))){switch(T=h._d,z=h._isUTC,x){case"Milliseconds":return void(z?T.setUTCMilliseconds(M):T.setMilliseconds(M));case"Seconds":return void(z?T.setUTCSeconds(M):T.setSeconds(M));case"Minutes":return void(z?T.setUTCMinutes(M):T.setMinutes(M));case"Hours":return void(z?T.setUTCHours(M):T.setHours(M));case"Date":return void(z?T.setUTCDate(M):T.setDate(M));case"FullYear":break;default:return}le=M,Pe=h.month(),ut=h.date(),ut=ut===29&&Pe===1&&!Ya(le)?28:ut,z?T.setUTCFullYear(le,Pe,ut):T.setFullYear(le,Pe,ut)}}function lt(h){return h=kn(h),j(this[h])?this[h]():this}function Ke(h,x){if(typeof h=="object"){h=ui(h);var M=fi(h),T,z=M.length;for(T=0;T<z;T++)this[M[T].unit](h[M[T].unit])}else if(h=kn(h),j(this[h]))return this[h](x);return this}function et(h,x){return(h%x+x)%x}var ct;Array.prototype.indexOf?ct=Array.prototype.indexOf:ct=function(h){var x;for(x=0;x<this.length;++x)if(this[x]===h)return x;return-1};function Un(h,x){if(isNaN(h)||isNaN(x))return NaN;var M=et(x,12);return h+=(x-M)/12,M===1?Ya(h)?29:28:31-M%7%2}ae("M",["MM",2],"Mo",function(){return this.month()+1}),ae("MMM",0,0,function(h){return this.localeData().monthsShort(this,h)}),ae("MMMM",0,0,function(h){return this.localeData().months(this,h)}),nt("M",vt,$a),nt("MM",vt,Rt),nt("MMM",function(h,x){return x.monthsShortRegex(h)}),nt("MMMM",function(h,x){return x.monthsRegex(h)}),Nn(["M","MM"],function(h,x){x[Ia]=sn(h)-1}),Nn(["MMM","MMMM"],function(h,x,M,T){var z=M._locale.monthsParse(h,T,M._strict);z!=null?x[Ia]=z:C(M).invalidMonth=h});var nr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ai="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ii=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ko=Ga,ps=Ga;function qa(h,x){return h?t(this._months)?this._months[h.month()]:this._months[(this._months.isFormat||Ii).test(x)?"format":"standalone"][h.month()]:t(this._months)?this._months:this._months.standalone}function Xs(h,x){return h?t(this._monthsShort)?this._monthsShort[h.month()]:this._monthsShort[Ii.test(x)?"format":"standalone"][h.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function va(h,x,M){var T,z,le,Pe=h.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],T=0;T<12;++T)le=v([2e3,T]),this._shortMonthsParse[T]=this.monthsShort(le,"").toLocaleLowerCase(),this._longMonthsParse[T]=this.months(le,"").toLocaleLowerCase();return M?x==="MMM"?(z=ct.call(this._shortMonthsParse,Pe),z!==-1?z:null):(z=ct.call(this._longMonthsParse,Pe),z!==-1?z:null):x==="MMM"?(z=ct.call(this._shortMonthsParse,Pe),z!==-1?z:(z=ct.call(this._longMonthsParse,Pe),z!==-1?z:null)):(z=ct.call(this._longMonthsParse,Pe),z!==-1?z:(z=ct.call(this._shortMonthsParse,Pe),z!==-1?z:null))}function Au(h,x,M){var T,z,le;if(this._monthsParseExact)return va.call(this,h,x,M);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),T=0;T<12;T++){if(z=v([2e3,T]),M&&!this._longMonthsParse[T]&&(this._longMonthsParse[T]=new RegExp("^"+this.months(z,"").replace(".","")+"$","i"),this._shortMonthsParse[T]=new RegExp("^"+this.monthsShort(z,"").replace(".","")+"$","i")),!M&&!this._monthsParse[T]&&(le="^"+this.months(z,"")+"|^"+this.monthsShort(z,""),this._monthsParse[T]=new RegExp(le.replace(".",""),"i")),M&&x==="MMMM"&&this._longMonthsParse[T].test(h))return T;if(M&&x==="MMM"&&this._shortMonthsParse[T].test(h))return T;if(!M&&this._monthsParse[T].test(h))return T}}function $l(h,x){if(!h.isValid())return h;if(typeof x=="string"){if(/^\d+$/.test(x))x=sn(x);else if(x=h.localeData().monthsParse(x),!d(x))return h}var M=x,T=h.date();return T=T<29?T:Math.min(T,Un(h.year(),M)),h._isUTC?h._d.setUTCMonth(M,T):h._d.setMonth(M,T),h}function Du(h){return h!=null?($l(this,h),n.updateOffset(this,!0),this):ze(this,"Month")}function u0(){return Un(this.year(),this.month())}function $g(h){return this._monthsParseExact?(a(this,"_monthsRegex")||Fu.call(this),h?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ko),this._monthsShortStrictRegex&&h?this._monthsShortStrictRegex:this._monthsShortRegex)}function Wg(h){return this._monthsParseExact?(a(this,"_monthsRegex")||Fu.call(this),h?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=ps),this._monthsStrictRegex&&h?this._monthsStrictRegex:this._monthsRegex)}function Fu(){function h(Wt,Tn){return Tn.length-Wt.length}var x=[],M=[],T=[],z,le,Pe,ut;for(z=0;z<12;z++)le=v([2e3,z]),Pe=xa(this.monthsShort(le,"")),ut=xa(this.months(le,"")),x.push(Pe),M.push(ut),T.push(ut),T.push(Pe);x.sort(h),M.sort(h),T.sort(h),this._monthsRegex=new RegExp("^("+T.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+M.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+x.join("|")+")","i")}function m0(h,x,M,T,z,le,Pe){var ut;return h<100&&h>=0?(ut=new Date(h+400,x,M,T,z,le,Pe),isFinite(ut.getFullYear())&&ut.setFullYear(h)):ut=new Date(h,x,M,T,z,le,Pe),ut}function Qc(h){var x,M;return h<100&&h>=0?(M=Array.prototype.slice.call(arguments),M[0]=h+400,x=new Date(Date.UTC.apply(null,M)),isFinite(x.getUTCFullYear())&&x.setUTCFullYear(h)):x=new Date(Date.UTC.apply(null,arguments)),x}function Ka(h,x,M){var T=7+x-M,z=(7+Qc(h,0,T).getUTCDay()-x)%7;return-z+T-1}function Qa(h,x,M,T,z){var le=(7+M-T)%7,Pe=Ka(h,T,z),ut=1+7*(x-1)+le+Pe,Wt,Tn;return ut<=0?(Wt=h-1,Tn=Me(Wt)+ut):ut>Me(h)?(Wt=h+1,Tn=ut-Me(h)):(Wt=h,Tn=ut),{year:Wt,dayOfYear:Tn}}function Go(h,x,M){var T=Ka(h.year(),x,M),z=Math.floor((h.dayOfYear()-T-1)/7)+1,le,Pe;return z<1?(Pe=h.year()-1,le=z+ba(Pe,x,M)):z>ba(h.year(),x,M)?(le=z-ba(h.year(),x,M),Pe=h.year()+1):(Pe=h.year(),le=z),{week:le,year:Pe}}function ba(h,x,M){var T=Ka(h,x,M),z=Ka(h+1,x,M);return(Me(h)-T+z)/7}ae("w",["ww",2],"wo","week"),ae("W",["WW",2],"Wo","isoWeek"),nt("w",vt,$a),nt("ww",vt,Rt),nt("W",vt,$a),nt("WW",vt,Rt),Ni(["w","ww","W","WW"],function(h,x,M,T){x[T.substr(0,1)]=sn(h)});function h0(h){return Go(h,this._week.dow,this._week.doy).week}var gi={dow:0,doy:6};function Wl(){return this._week.dow}function Xc(){return this._week.doy}function Zc(h){var x=this.localeData().week(this);return h==null?x:this.add((h-x)*7,"d")}function Yg(h){var x=Go(this,1,4).week;return h==null?x:this.add((h-x)*7,"d")}ae("d",0,"do","day"),ae("dd",0,0,function(h){return this.localeData().weekdaysMin(this,h)}),ae("ddd",0,0,function(h){return this.localeData().weekdaysShort(this,h)}),ae("dddd",0,0,function(h){return this.localeData().weekdays(this,h)}),ae("e",0,0,"weekday"),ae("E",0,0,"isoWeekday"),nt("d",vt),nt("e",vt),nt("E",vt),nt("dd",function(h,x){return x.weekdaysMinRegex(h)}),nt("ddd",function(h,x){return x.weekdaysShortRegex(h)}),nt("dddd",function(h,x){return x.weekdaysRegex(h)}),Ni(["dd","ddd","dddd"],function(h,x,M,T){var z=M._locale.weekdaysParse(h,T,M._strict);z!=null?x.d=z:C(M).invalidWeekday=h}),Ni(["d","e","E"],function(h,x,M,T){x[T]=sn(h)});function p0(h,x){return typeof h!="string"?h:isNaN(h)?(h=x.weekdaysParse(h),typeof h=="number"?h:null):parseInt(h,10)}function qg(h,x){return typeof h=="string"?x.weekdaysParse(h)%7||7:isNaN(h)?null:h}function Ru(h,x){return h.slice(x,7).concat(h.slice(0,x))}var Kg="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),f0="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Jc="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$o=Ga,g0=Ga,_0=Ga;function x0(h,x){var M=t(this._weekdays)?this._weekdays:this._weekdays[h&&h!==!0&&this._weekdays.isFormat.test(x)?"format":"standalone"];return h===!0?Ru(M,this._week.dow):h?M[h.day()]:M}function Zs(h){return h===!0?Ru(this._weekdaysShort,this._week.dow):h?this._weekdaysShort[h.day()]:this._weekdaysShort}function Qg(h){return h===!0?Ru(this._weekdaysMin,this._week.dow):h?this._weekdaysMin[h.day()]:this._weekdaysMin}function Xg(h,x,M){var T,z,le,Pe=h.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],T=0;T<7;++T)le=v([2e3,1]).day(T),this._minWeekdaysParse[T]=this.weekdaysMin(le,"").toLocaleLowerCase(),this._shortWeekdaysParse[T]=this.weekdaysShort(le,"").toLocaleLowerCase(),this._weekdaysParse[T]=this.weekdays(le,"").toLocaleLowerCase();return M?x==="dddd"?(z=ct.call(this._weekdaysParse,Pe),z!==-1?z:null):x==="ddd"?(z=ct.call(this._shortWeekdaysParse,Pe),z!==-1?z:null):(z=ct.call(this._minWeekdaysParse,Pe),z!==-1?z:null):x==="dddd"?(z=ct.call(this._weekdaysParse,Pe),z!==-1||(z=ct.call(this._shortWeekdaysParse,Pe),z!==-1)?z:(z=ct.call(this._minWeekdaysParse,Pe),z!==-1?z:null)):x==="ddd"?(z=ct.call(this._shortWeekdaysParse,Pe),z!==-1||(z=ct.call(this._weekdaysParse,Pe),z!==-1)?z:(z=ct.call(this._minWeekdaysParse,Pe),z!==-1?z:null)):(z=ct.call(this._minWeekdaysParse,Pe),z!==-1||(z=ct.call(this._weekdaysParse,Pe),z!==-1)?z:(z=ct.call(this._shortWeekdaysParse,Pe),z!==-1?z:null))}function Zg(h,x,M){var T,z,le;if(this._weekdaysParseExact)return Xg.call(this,h,x,M);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),T=0;T<7;T++){if(z=v([2e3,1]).day(T),M&&!this._fullWeekdaysParse[T]&&(this._fullWeekdaysParse[T]=new RegExp("^"+this.weekdays(z,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[T]=new RegExp("^"+this.weekdaysShort(z,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[T]=new RegExp("^"+this.weekdaysMin(z,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[T]||(le="^"+this.weekdays(z,"")+"|^"+this.weekdaysShort(z,"")+"|^"+this.weekdaysMin(z,""),this._weekdaysParse[T]=new RegExp(le.replace(".",""),"i")),M&&x==="dddd"&&this._fullWeekdaysParse[T].test(h))return T;if(M&&x==="ddd"&&this._shortWeekdaysParse[T].test(h))return T;if(M&&x==="dd"&&this._minWeekdaysParse[T].test(h))return T;if(!M&&this._weekdaysParse[T].test(h))return T}}function Wo(h){if(!this.isValid())return h!=null?this:NaN;var x=ze(this,"Day");return h!=null?(h=p0(h,this.localeData()),this.add(h-x,"d")):x}function Jg(h){if(!this.isValid())return h!=null?this:NaN;var x=(this.day()+7-this.localeData()._week.dow)%7;return h==null?x:this.add(h-x,"d")}function e_(h){if(!this.isValid())return h!=null?this:NaN;if(h!=null){var x=qg(h,this.localeData());return this.day(this.day()%7?x:x-7)}else return this.day()||7}function el(h){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||fs.call(this),h?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=$o),this._weekdaysStrictRegex&&h?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yl(h){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||fs.call(this),h?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=g0),this._weekdaysShortStrictRegex&&h?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function v0(h){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||fs.call(this),h?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=_0),this._weekdaysMinStrictRegex&&h?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function fs(){function h(da,Cs){return Cs.length-da.length}var x=[],M=[],T=[],z=[],le,Pe,ut,Wt,Tn;for(le=0;le<7;le++)Pe=v([2e3,1]).day(le),ut=xa(this.weekdaysMin(Pe,"")),Wt=xa(this.weekdaysShort(Pe,"")),Tn=xa(this.weekdays(Pe,"")),x.push(ut),M.push(Wt),T.push(Tn),z.push(ut),z.push(Wt),z.push(Tn);x.sort(h),M.sort(h),T.sort(h),z.sort(h),this._weekdaysRegex=new RegExp("^("+z.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+T.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+M.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+x.join("|")+")","i")}function gs(){return this.hours()%12||12}function b0(){return this.hours()||24}ae("H",["HH",2],0,"hour"),ae("h",["hh",2],0,gs),ae("k",["kk",2],0,b0),ae("hmm",0,0,function(){return""+gs.apply(this)+st(this.minutes(),2)}),ae("hmmss",0,0,function(){return""+gs.apply(this)+st(this.minutes(),2)+st(this.seconds(),2)}),ae("Hmm",0,0,function(){return""+this.hours()+st(this.minutes(),2)}),ae("Hmmss",0,0,function(){return""+this.hours()+st(this.minutes(),2)+st(this.seconds(),2)});function ql(h,x){ae(h,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),x)})}ql("a",!0),ql("A",!1);function wi(h,x){return x._meridiemParse}nt("a",wi),nt("A",wi),nt("H",vt,Ks),nt("h",vt,$a),nt("k",vt,$a),nt("HH",vt,Rt),nt("hh",vt,Rt),nt("kk",vt,Rt),nt("hmm",Ci),nt("hmmss",wt),nt("Hmm",Ci),nt("Hmmss",wt),Nn(["H","HH"],Z),Nn(["k","kk"],function(h,x,M){var T=sn(h);x[Z]=T===24?0:T}),Nn(["a","A"],function(h,x,M){M._isPm=M._locale.isPM(h),M._meridiem=h}),Nn(["h","hh"],function(h,x,M){x[Z]=sn(h),C(M).bigHour=!0}),Nn("hmm",function(h,x,M){var T=h.length-2;x[Z]=sn(h.substr(0,T)),x[Q]=sn(h.substr(T)),C(M).bigHour=!0}),Nn("hmmss",function(h,x,M){var T=h.length-4,z=h.length-2;x[Z]=sn(h.substr(0,T)),x[Q]=sn(h.substr(T,2)),x[X]=sn(h.substr(z)),C(M).bigHour=!0}),Nn("Hmm",function(h,x,M){var T=h.length-2;x[Z]=sn(h.substr(0,T)),x[Q]=sn(h.substr(T))}),Nn("Hmmss",function(h,x,M){var T=h.length-4,z=h.length-2;x[Z]=sn(h.substr(0,T)),x[Q]=sn(h.substr(T,2)),x[X]=sn(h.substr(z))});function t_(h){return(h+"").toLowerCase().charAt(0)==="p"}var n_=/[ap]\.?m?\.?/i,y0=ye("Hours",!0);function C0(h,x,M){return h>11?M?"pm":"PM":M?"am":"AM"}var Nu={calendar:Xe,longDateFormat:Re,invalidDate:we,ordinal:ee,dayOfMonthOrdinalParse:pt,relativeTime:Ot,months:nr,monthsShort:ai,week:gi,weekdays:Kg,weekdaysMin:Jc,weekdaysShort:f0,meridiemParse:n_},oi={},Js={},la;function w0(h,x){var M,T=Math.min(h.length,x.length);for(M=0;M<T;M+=1)if(h[M]!==x[M])return M;return T}function S0(h){return h&&h.toLowerCase().replace("_","-")}function tl(h){for(var x=0,M,T,z,le;x<h.length;){for(le=S0(h[x]).split("-"),M=le.length,T=S0(h[x+1]),T=T?T.split("-"):null;M>0;){if(z=ec(le.slice(0,M).join("-")),z)return z;if(T&&T.length>=M&&w0(le,T)>=M-1)break;M--}x++}return la}function M0(h){return!!(h&&h.match("^[^/\\\\]*$"))}function ec(h){var x=null,M;if(oi[h]===void 0&&typeof qd<"u"&&qd&&qd.exports&&M0(h))try{x=la._abbr,M=Ub,M("./locale/"+h),Aa(x)}catch{oi[h]=null}return oi[h]}function Aa(h,x){var M;return h&&(s(x)?M=Po(h):M=Kl(h,x),M?la=M:typeof console<"u"&&console.warn&&console.warn("Locale "+h+" not found. Did you forget to load it?")),la._abbr}function Kl(h,x){if(x!==null){var M,T=Nu;if(x.abbr=h,oi[h]!=null)R("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),T=oi[h]._config;else if(x.parentLocale!=null)if(oi[x.parentLocale]!=null)T=oi[x.parentLocale]._config;else if(M=ec(x.parentLocale),M!=null)T=M._config;else return Js[x.parentLocale]||(Js[x.parentLocale]=[]),Js[x.parentLocale].push({name:h,config:x}),null;return oi[h]=new Ge(Y(T,x)),Js[h]&&Js[h].forEach(function(z){Kl(z.name,z.config)}),Aa(h),oi[h]}else return delete oi[h],null}function Ql(h,x){if(x!=null){var M,T,z=Nu;oi[h]!=null&&oi[h].parentLocale!=null?oi[h].set(Y(oi[h]._config,x)):(T=ec(h),T!=null&&(z=T._config),x=Y(z,x),T==null&&(x.abbr=h),M=new Ge(x),M.parentLocale=oi[h],oi[h]=M),Aa(h)}else oi[h]!=null&&(oi[h].parentLocale!=null?(oi[h]=oi[h].parentLocale,h===Aa()&&Aa(h)):oi[h]!=null&&delete oi[h]);return oi[h]}function Po(h){var x;if(h&&h._locale&&h._locale._abbr&&(h=h._locale._abbr),!h)return la;if(!t(h)){if(x=ec(h),x)return x;h=[h]}return tl(h)}function k0(){return ke(oi)}function _s(h){var x,M=h._a;return M&&C(h).overflow===-2&&(x=M[Ia]<0||M[Ia]>11?Ia:M[B]<1||M[B]>Un(M[Oi],M[Ia])?B:M[Z]<0||M[Z]>24||M[Z]===24&&(M[Q]!==0||M[X]!==0||M[J]!==0)?Z:M[Q]<0||M[Q]>59?Q:M[X]<0||M[X]>59?X:M[J]<0||M[J]>999?J:-1,C(h)._overflowDayOfYear&&(x<Oi||x>B)&&(x=B),C(h)._overflowWeeks&&x===-1&&(x=ie),C(h)._overflowWeekday&&x===-1&&(x=ve),C(h).overflow=x),h}var P0=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,E0=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Lu=/Z|[+-]\d\d(?::?\d\d)?/,tc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Xl=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Zl=/^\/?Date\((-?\d+)/i,T0=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,O0={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Yo(h){var x,M,T=h._i,z=P0.exec(T)||E0.exec(T),le,Pe,ut,Wt,Tn=tc.length,da=Xl.length;if(z){for(C(h).iso=!0,x=0,M=Tn;x<M;x++)if(tc[x][1].exec(z[1])){Pe=tc[x][0],le=tc[x][2]!==!1;break}if(Pe==null){h._isValid=!1;return}if(z[3]){for(x=0,M=da;x<M;x++)if(Xl[x][1].exec(z[3])){ut=(z[2]||" ")+Xl[x][0];break}if(ut==null){h._isValid=!1;return}}if(!le&&ut!=null){h._isValid=!1;return}if(z[4])if(Lu.exec(z[4]))Wt="Z";else{h._isValid=!1;return}h._f=Pe+(ut||"")+(Wt||""),I(h)}else h._isValid=!1}function I0(h,x,M,T,z,le){var Pe=[A0(h),ai.indexOf(x),parseInt(M,10),parseInt(T,10),parseInt(z,10)];return le&&Pe.push(parseInt(le,10)),Pe}function A0(h){var x=parseInt(h,10);return x<=49?2e3+x:x<=999?1900+x:x}function D0(h){return h.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function F0(h,x,M){if(h){var T=f0.indexOf(h),z=new Date(x[0],x[1],x[2]).getDay();if(T!==z)return C(M).weekdayMismatch=!0,M._isValid=!1,!1}return!0}function Jl(h,x,M){if(h)return O0[h];if(x)return 0;var T=parseInt(M,10),z=T%100,le=(T-z)/100;return le*60+z}function Hr(h){var x=T0.exec(D0(h._i)),M;if(x){if(M=I0(x[4],x[3],x[2],x[5],x[6],x[7]),!F0(x[1],M,h))return;h._a=M,h._tzm=Jl(x[8],x[9],x[10]),h._d=Qc.apply(null,h._a),h._d.setUTCMinutes(h._d.getUTCMinutes()-h._tzm),C(h).rfc2822=!0}else h._isValid=!1}function R0(h){var x=Zl.exec(h._i);if(x!==null){h._d=new Date(+x[1]);return}if(Yo(h),h._isValid===!1)delete h._isValid;else return;if(Hr(h),h._isValid===!1)delete h._isValid;else return;h._strict?h._isValid=!1:n.createFromInputFallback(h)}n.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(h){h._d=new Date(h._i+(h._useUTC?" UTC":""))});function xs(h,x,M){return h!=null?h:x!=null?x:M}function nc(h){var x=new Date(n.now());return h._useUTC?[x.getUTCFullYear(),x.getUTCMonth(),x.getUTCDate()]:[x.getFullYear(),x.getMonth(),x.getDate()]}function p(h){var x,M,T=[],z,le,Pe;if(!h._d){for(z=nc(h),h._w&&h._a[B]==null&&h._a[Ia]==null&&y(h),h._dayOfYear!=null&&(Pe=xs(h._a[Oi],z[Oi]),(h._dayOfYear>Me(Pe)||h._dayOfYear===0)&&(C(h)._overflowDayOfYear=!0),M=Qc(Pe,0,h._dayOfYear),h._a[Ia]=M.getUTCMonth(),h._a[B]=M.getUTCDate()),x=0;x<3&&h._a[x]==null;++x)h._a[x]=T[x]=z[x];for(;x<7;x++)h._a[x]=T[x]=h._a[x]==null?x===2?1:0:h._a[x];h._a[Z]===24&&h._a[Q]===0&&h._a[X]===0&&h._a[J]===0&&(h._nextDay=!0,h._a[Z]=0),h._d=(h._useUTC?Qc:m0).apply(null,T),le=h._useUTC?h._d.getUTCDay():h._d.getDay(),h._tzm!=null&&h._d.setUTCMinutes(h._d.getUTCMinutes()-h._tzm),h._nextDay&&(h._a[Z]=24),h._w&&typeof h._w.d<"u"&&h._w.d!==le&&(C(h).weekdayMismatch=!0)}}function y(h){var x,M,T,z,le,Pe,ut,Wt,Tn;x=h._w,x.GG!=null||x.W!=null||x.E!=null?(le=1,Pe=4,M=xs(x.GG,h._a[Oi],Go(nn(),1,4).year),T=xs(x.W,1),z=xs(x.E,1),(z<1||z>7)&&(Wt=!0)):(le=h._locale._week.dow,Pe=h._locale._week.doy,Tn=Go(nn(),le,Pe),M=xs(x.gg,h._a[Oi],Tn.year),T=xs(x.w,Tn.week),x.d!=null?(z=x.d,(z<0||z>6)&&(Wt=!0)):x.e!=null?(z=x.e+le,(x.e<0||x.e>6)&&(Wt=!0)):z=le),T<1||T>ba(M,le,Pe)?C(h)._overflowWeeks=!0:Wt!=null?C(h)._overflowWeekday=!0:(ut=Qa(M,T,z,le,Pe),h._a[Oi]=ut.year,h._dayOfYear=ut.dayOfYear)}n.ISO_8601=function(){},n.RFC_2822=function(){};function I(h){if(h._f===n.ISO_8601){Yo(h);return}if(h._f===n.RFC_2822){Hr(h);return}h._a=[],C(h).empty=!0;var x=""+h._i,M,T,z,le,Pe,ut=x.length,Wt=0,Tn,da;for(z=Ae(h._f,h._locale).match(Ie)||[],da=z.length,M=0;M<da;M++)le=z[M],T=(x.match(Kc(le,h))||[])[0],T&&(Pe=x.substr(0,x.indexOf(T)),Pe.length>0&&C(h).unusedInput.push(Pe),x=x.slice(x.indexOf(T)+T.length),Wt+=T.length),te[le]?(T?C(h).empty=!1:C(h).unusedTokens.push(le),Qs(le,T,h)):h._strict&&!T&&C(h).unusedTokens.push(le);C(h).charsLeftOver=ut-Wt,x.length>0&&C(h).unusedInput.push(x),h._a[Z]<=12&&C(h).bigHour===!0&&h._a[Z]>0&&(C(h).bigHour=void 0),C(h).parsedDateParts=h._a.slice(0),C(h).meridiem=h._meridiem,h._a[Z]=W(h._locale,h._a[Z],h._meridiem),Tn=C(h).era,Tn!==null&&(h._a[Oi]=h._locale.erasConvertYear(Tn,h._a[Oi])),p(h),_s(h)}function W(h,x,M){var T;return M==null?x:h.meridiemHour!=null?h.meridiemHour(x,M):(h.isPM!=null&&(T=h.isPM(M),T&&x<12&&(x+=12),!T&&x===12&&(x=0)),x)}function pe(h){var x,M,T,z,le,Pe,ut=!1,Wt=h._f.length;if(Wt===0){C(h).invalidFormat=!0,h._d=new Date(NaN);return}for(z=0;z<Wt;z++)le=0,Pe=!1,x=re({},h),h._useUTC!=null&&(x._useUTC=h._useUTC),x._f=h._f[z],I(x),O(x)&&(Pe=!0),le+=C(x).charsLeftOver,le+=C(x).unusedTokens.length*10,C(x).score=le,ut?le<T&&(T=le,M=x):(T==null||le<T||Pe)&&(T=le,M=x,Pe&&(ut=!0));_(h,M||x)}function Se(h){if(!h._d){var x=ui(h._i),M=x.day===void 0?x.date:x.day;h._a=f([x.year,x.month,M,x.hour,x.minute,x.second,x.millisecond],function(T){return T&&parseInt(T,10)}),p(h)}}function Je(h){var x=new oe(_s(ei(h)));return x._nextDay&&(x.add(1,"d"),x._nextDay=void 0),x}function ei(h){var x=h._i,M=h._f;return h._locale=h._locale||Po(h._l),x===null||M===void 0&&x===""?L({nullInput:!0}):(typeof x=="string"&&(h._i=x=h._locale.preparse(x)),F(x)?new oe(_s(x)):(m(x)?h._d=x:t(M)?pe(h):M?I(h):hr(h),O(h)||(h._d=null),h))}function hr(h){var x=h._i;s(x)?h._d=new Date(n.now()):m(x)?h._d=new Date(x.valueOf()):typeof x=="string"?R0(h):t(x)?(h._a=f(x.slice(0),function(M){return parseInt(M,10)}),p(h)):i(x)?Se(h):d(x)?h._d=new Date(x):n.createFromInputFallback(h)}function En(h,x,M,T,z){var le={};return(x===!0||x===!1)&&(T=x,x=void 0),(M===!0||M===!1)&&(T=M,M=void 0),(i(h)&&o(h)||t(h)&&h.length===0)&&(h=void 0),le._isAMomentObject=!0,le._useUTC=le._isUTC=z,le._l=M,le._i=h,le._f=x,le._strict=T,Je(le)}function nn(h,x,M,T){return En(h,x,M,T,!1)}var br=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var h=nn.apply(null,arguments);return this.isValid()&&h.isValid()?h<this?this:h:L()}),ic=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var h=nn.apply(null,arguments);return this.isValid()&&h.isValid()?h>this?this:h:L()});function ya(h,x){var M,T;if(x.length===1&&t(x[0])&&(x=x[0]),!x.length)return nn();for(M=x[0],T=1;T<x.length;++T)(!x[T].isValid()||x[T][h](M))&&(M=x[T]);return M}function ed(){var h=[].slice.call(arguments,0);return ya("isBefore",h)}function Vu(){var h=[].slice.call(arguments,0);return ya("isAfter",h)}var qO=function(){return Date.now?Date.now():+new Date},Bu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function KO(h){var x,M=!1,T,z=Bu.length;for(x in h)if(a(h,x)&&!(ct.call(Bu,x)!==-1&&(h[x]==null||!isNaN(h[x]))))return!1;for(T=0;T<z;++T)if(h[Bu[T]]){if(M)return!1;parseFloat(h[Bu[T]])!==sn(h[Bu[T]])&&(M=!0)}return!0}function QO(){return this._isValid}function XO(){return Eo(NaN)}function N0(h){var x=ui(h),M=x.year||0,T=x.quarter||0,z=x.month||0,le=x.week||x.isoWeek||0,Pe=x.day||0,ut=x.hour||0,Wt=x.minute||0,Tn=x.second||0,da=x.millisecond||0;this._isValid=KO(x),this._milliseconds=+da+Tn*1e3+Wt*6e4+ut*1e3*60*60,this._days=+Pe+le*7,this._months=+z+T*3+M*12,this._data={},this._locale=Po(),this._bubble()}function L0(h){return h instanceof N0}function i_(h){return h<0?Math.round(-1*h)*-1:Math.round(h)}function ZO(h,x,M){var T=Math.min(h.length,x.length),z=Math.abs(h.length-x.length),le=0,Pe;for(Pe=0;Pe<T;Pe++)(M&&h[Pe]!==x[Pe]||!M&&sn(h[Pe])!==sn(x[Pe]))&&le++;return le+z}function bb(h,x){ae(h,0,0,function(){var M=this.utcOffset(),T="+";return M<0&&(M=-M,T="-"),T+st(~~(M/60),2)+x+st(~~M%60,2)})}bb("Z",":"),bb("ZZ",""),nt("Z",qs),nt("ZZ",qs),Nn(["Z","ZZ"],function(h,x,M){M._useUTC=!0,M._tzm=r_(qs,h)});var JO=/([\+\-]|\d\d)/gi;function r_(h,x){var M=(x||"").match(h),T,z,le;return M===null?null:(T=M[M.length-1]||[],z=(T+"").match(JO)||["-",0,0],le=+(z[1]*60)+sn(z[2]),le===0?0:z[0]==="+"?le:-le)}function a_(h,x){var M,T;return x._isUTC?(M=x.clone(),T=(F(h)||m(h)?h.valueOf():nn(h).valueOf())-M.valueOf(),M._d.setTime(M._d.valueOf()+T),n.updateOffset(M,!1),M):nn(h).local()}function o_(h){return-Math.round(h._d.getTimezoneOffset())}n.updateOffset=function(){};function eI(h,x,M){var T=this._offset||0,z;if(!this.isValid())return h!=null?this:NaN;if(h!=null){if(typeof h=="string"){if(h=r_(qs,h),h===null)return this}else Math.abs(h)<16&&!M&&(h=h*60);return!this._isUTC&&x&&(z=o_(this)),this._offset=h,this._isUTC=!0,z!=null&&this.add(z,"m"),T!==h&&(!x||this._changeInProgress?Sb(this,Eo(h-T,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?T:o_(this)}function tI(h,x){return h!=null?(typeof h!="string"&&(h=-h),this.utcOffset(h,x),this):-this.utcOffset()}function nI(h){return this.utcOffset(0,h)}function iI(h){return this._isUTC&&(this.utcOffset(0,h),this._isUTC=!1,h&&this.subtract(o_(this),"m")),this}function rI(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var h=r_(qc,this._i);h!=null?this.utcOffset(h):this.utcOffset(0,!0)}return this}function aI(h){return this.isValid()?(h=h?nn(h).utcOffset():0,(this.utcOffset()-h)%60===0):!1}function oI(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function sI(){if(!s(this._isDSTShifted))return this._isDSTShifted;var h={},x;return re(h,this),h=ei(h),h._a?(x=h._isUTC?v(h._a):nn(h._a),this._isDSTShifted=this.isValid()&&ZO(h._a,x.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function cI(){return this.isValid()?!this._isUTC:!1}function lI(){return this.isValid()?this._isUTC:!1}function yb(){return this.isValid()?this._isUTC&&this._offset===0:!1}var dI=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,uI=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Eo(h,x){var M=h,T=null,z,le,Pe;return L0(h)?M={ms:h._milliseconds,d:h._days,M:h._months}:d(h)||!isNaN(+h)?(M={},x?M[x]=+h:M.milliseconds=+h):(T=dI.exec(h))?(z=T[1]==="-"?-1:1,M={y:0,d:sn(T[B])*z,h:sn(T[Z])*z,m:sn(T[Q])*z,s:sn(T[X])*z,ms:sn(i_(T[J]*1e3))*z}):(T=uI.exec(h))?(z=T[1]==="-"?-1:1,M={y:nl(T[2],z),M:nl(T[3],z),w:nl(T[4],z),d:nl(T[5],z),h:nl(T[6],z),m:nl(T[7],z),s:nl(T[8],z)}):M==null?M={}:typeof M=="object"&&("from"in M||"to"in M)&&(Pe=mI(nn(M.from),nn(M.to)),M={},M.ms=Pe.milliseconds,M.M=Pe.months),le=new N0(M),L0(h)&&a(h,"_locale")&&(le._locale=h._locale),L0(h)&&a(h,"_isValid")&&(le._isValid=h._isValid),le}Eo.fn=N0.prototype,Eo.invalid=XO;function nl(h,x){var M=h&&parseFloat(h.replace(",","."));return(isNaN(M)?0:M)*x}function Cb(h,x){var M={};return M.months=x.month()-h.month()+(x.year()-h.year())*12,h.clone().add(M.months,"M").isAfter(x)&&--M.months,M.milliseconds=+x-+h.clone().add(M.months,"M"),M}function mI(h,x){var M;return h.isValid()&&x.isValid()?(x=a_(x,h),h.isBefore(x)?M=Cb(h,x):(M=Cb(x,h),M.milliseconds=-M.milliseconds,M.months=-M.months),M):{milliseconds:0,months:0}}function wb(h,x){return function(M,T){var z,le;return T!==null&&!isNaN(+T)&&(R(x,"moment()."+x+"(period, number) is deprecated. Please use moment()."+x+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),le=M,M=T,T=le),z=Eo(M,T),Sb(this,z,h),this}}function Sb(h,x,M,T){var z=x._milliseconds,le=i_(x._days),Pe=i_(x._months);h.isValid()&&(T=T==null?!0:T,Pe&&$l(h,ze(h,"Month")+Pe*M),le&&qe(h,"Date",ze(h,"Date")+le*M),z&&h._d.setTime(h._d.valueOf()+z*M),T&&n.updateOffset(h,le||Pe))}var hI=wb(1,"add"),pI=wb(-1,"subtract");function Mb(h){return typeof h=="string"||h instanceof String}function fI(h){return F(h)||m(h)||Mb(h)||d(h)||_I(h)||gI(h)||h===null||h===void 0}function gI(h){var x=i(h)&&!o(h),M=!1,T=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],z,le,Pe=T.length;for(z=0;z<Pe;z+=1)le=T[z],M=M||a(h,le);return x&&M}function _I(h){var x=t(h),M=!1;return x&&(M=h.filter(function(T){return!d(T)&&Mb(h)}).length===0),x&&M}function xI(h){var x=i(h)&&!o(h),M=!1,T=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],z,le;for(z=0;z<T.length;z+=1)le=T[z],M=M||a(h,le);return x&&M}function vI(h,x){var M=h.diff(x,"days",!0);return M<-6?"sameElse":M<-1?"lastWeek":M<0?"lastDay":M<1?"sameDay":M<2?"nextDay":M<7?"nextWeek":"sameElse"}function bI(h,x){arguments.length===1&&(arguments[0]?fI(arguments[0])?(h=arguments[0],x=void 0):xI(arguments[0])&&(x=arguments[0],h=void 0):(h=void 0,x=void 0));var M=h||nn(),T=a_(M,this).startOf("day"),z=n.calendarFormat(this,T)||"sameElse",le=x&&(j(x[z])?x[z].call(this,M):x[z]);return this.format(le||this.localeData().calendar(z,this,nn(M)))}function yI(){return new oe(this)}function CI(h,x){var M=F(h)?h:nn(h);return this.isValid()&&M.isValid()?(x=kn(x)||"millisecond",x==="millisecond"?this.valueOf()>M.valueOf():M.valueOf()<this.clone().startOf(x).valueOf()):!1}function wI(h,x){var M=F(h)?h:nn(h);return this.isValid()&&M.isValid()?(x=kn(x)||"millisecond",x==="millisecond"?this.valueOf()<M.valueOf():this.clone().endOf(x).valueOf()<M.valueOf()):!1}function SI(h,x,M,T){var z=F(h)?h:nn(h),le=F(x)?x:nn(x);return this.isValid()&&z.isValid()&&le.isValid()?(T=T||"()",(T[0]==="("?this.isAfter(z,M):!this.isBefore(z,M))&&(T[1]===")"?this.isBefore(le,M):!this.isAfter(le,M))):!1}function MI(h,x){var M=F(h)?h:nn(h),T;return this.isValid()&&M.isValid()?(x=kn(x)||"millisecond",x==="millisecond"?this.valueOf()===M.valueOf():(T=M.valueOf(),this.clone().startOf(x).valueOf()<=T&&T<=this.clone().endOf(x).valueOf())):!1}function kI(h,x){return this.isSame(h,x)||this.isAfter(h,x)}function PI(h,x){return this.isSame(h,x)||this.isBefore(h,x)}function EI(h,x,M){var T,z,le;if(!this.isValid())return NaN;if(T=a_(h,this),!T.isValid())return NaN;switch(z=(T.utcOffset()-this.utcOffset())*6e4,x=kn(x),x){case"year":le=V0(this,T)/12;break;case"month":le=V0(this,T);break;case"quarter":le=V0(this,T)/3;break;case"second":le=(this-T)/1e3;break;case"minute":le=(this-T)/6e4;break;case"hour":le=(this-T)/36e5;break;case"day":le=(this-T-z)/864e5;break;case"week":le=(this-T-z)/6048e5;break;default:le=this-T}return M?le:mr(le)}function V0(h,x){if(h.date()<x.date())return-V0(x,h);var M=(x.year()-h.year())*12+(x.month()-h.month()),T=h.clone().add(M,"months"),z,le;return x-T<0?(z=h.clone().add(M-1,"months"),le=(x-T)/(T-z)):(z=h.clone().add(M+1,"months"),le=(x-T)/(z-T)),-(M+le)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function TI(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function OI(h){if(!this.isValid())return null;var x=h!==!0,M=x?this.clone().utc():this;return M.year()<0||M.year()>9999?fe(M,x?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):j(Date.prototype.toISOString)?x?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",fe(M,"Z")):fe(M,x?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function II(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var h="moment",x="",M,T,z,le;return this.isLocal()||(h=this.utcOffset()===0?"moment.utc":"moment.parseZone",x="Z"),M="["+h+'("]',T=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",z="-MM-DD[T]HH:mm:ss.SSS",le=x+'[")]',this.format(M+T+z+le)}function AI(h){h||(h=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var x=fe(this,h);return this.localeData().postformat(x)}function DI(h,x){return this.isValid()&&(F(h)&&h.isValid()||nn(h).isValid())?Eo({to:this,from:h}).locale(this.locale()).humanize(!x):this.localeData().invalidDate()}function FI(h){return this.from(nn(),h)}function RI(h,x){return this.isValid()&&(F(h)&&h.isValid()||nn(h).isValid())?Eo({from:this,to:h}).locale(this.locale()).humanize(!x):this.localeData().invalidDate()}function NI(h){return this.to(nn(),h)}function kb(h){var x;return h===void 0?this._locale._abbr:(x=Po(h),x!=null&&(this._locale=x),this)}var Pb=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(h){return h===void 0?this.localeData():this.locale(h)});function Eb(){return this._locale}var B0=1e3,td=60*B0,j0=60*td,Tb=(365*400+97)*24*j0;function nd(h,x){return(h%x+x)%x}function Ob(h,x,M){return h<100&&h>=0?new Date(h+400,x,M)-Tb:new Date(h,x,M).valueOf()}function Ib(h,x,M){return h<100&&h>=0?Date.UTC(h+400,x,M)-Tb:Date.UTC(h,x,M)}function LI(h){var x,M;if(h=kn(h),h===void 0||h==="millisecond"||!this.isValid())return this;switch(M=this._isUTC?Ib:Ob,h){case"year":x=M(this.year(),0,1);break;case"quarter":x=M(this.year(),this.month()-this.month()%3,1);break;case"month":x=M(this.year(),this.month(),1);break;case"week":x=M(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":x=M(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":x=M(this.year(),this.month(),this.date());break;case"hour":x=this._d.valueOf(),x-=nd(x+(this._isUTC?0:this.utcOffset()*td),j0);break;case"minute":x=this._d.valueOf(),x-=nd(x,td);break;case"second":x=this._d.valueOf(),x-=nd(x,B0);break}return this._d.setTime(x),n.updateOffset(this,!0),this}function VI(h){var x,M;if(h=kn(h),h===void 0||h==="millisecond"||!this.isValid())return this;switch(M=this._isUTC?Ib:Ob,h){case"year":x=M(this.year()+1,0,1)-1;break;case"quarter":x=M(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":x=M(this.year(),this.month()+1,1)-1;break;case"week":x=M(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":x=M(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":x=M(this.year(),this.month(),this.date()+1)-1;break;case"hour":x=this._d.valueOf(),x+=j0-nd(x+(this._isUTC?0:this.utcOffset()*td),j0)-1;break;case"minute":x=this._d.valueOf(),x+=td-nd(x,td)-1;break;case"second":x=this._d.valueOf(),x+=B0-nd(x,B0)-1;break}return this._d.setTime(x),n.updateOffset(this,!0),this}function BI(){return this._d.valueOf()-(this._offset||0)*6e4}function jI(){return Math.floor(this.valueOf()/1e3)}function UI(){return new Date(this.valueOf())}function zI(){var h=this;return[h.year(),h.month(),h.date(),h.hour(),h.minute(),h.second(),h.millisecond()]}function HI(){var h=this;return{years:h.year(),months:h.month(),date:h.date(),hours:h.hours(),minutes:h.minutes(),seconds:h.seconds(),milliseconds:h.milliseconds()}}function GI(){return this.isValid()?this.toISOString():null}function $I(){return O(this)}function WI(){return _({},C(this))}function YI(){return C(this).overflow}function qI(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ae("N",0,0,"eraAbbr"),ae("NN",0,0,"eraAbbr"),ae("NNN",0,0,"eraAbbr"),ae("NNNN",0,0,"eraName"),ae("NNNNN",0,0,"eraNarrow"),ae("y",["y",1],"yo","eraYear"),ae("y",["yy",2],0,"eraYear"),ae("y",["yyy",3],0,"eraYear"),ae("y",["yyyy",4],0,"eraYear"),nt("N",s_),nt("NN",s_),nt("NNN",s_),nt("NNNN",a4),nt("NNNNN",o4),Nn(["N","NN","NNN","NNNN","NNNNN"],function(h,x,M,T){var z=M._locale.erasParse(h,T,M._strict);z?C(M).era=z:C(M).invalidEra=h}),nt("y",Dr),nt("yy",Dr),nt("yyy",Dr),nt("yyyy",Dr),nt("yo",s4),Nn(["y","yy","yyy","yyyy"],Oi),Nn(["yo"],function(h,x,M,T){var z;M._locale._eraYearOrdinalRegex&&(z=h.match(M._locale._eraYearOrdinalRegex)),M._locale.eraYearOrdinalParse?x[Oi]=M._locale.eraYearOrdinalParse(h,z):x[Oi]=parseInt(h,10)});function KI(h,x){var M,T,z,le=this._eras||Po("en")._eras;for(M=0,T=le.length;M<T;++M){switch(typeof le[M].since){case"string":z=n(le[M].since).startOf("day"),le[M].since=z.valueOf();break}switch(typeof le[M].until){case"undefined":le[M].until=1/0;break;case"string":z=n(le[M].until).startOf("day").valueOf(),le[M].until=z.valueOf();break}}return le}function QI(h,x,M){var T,z,le=this.eras(),Pe,ut,Wt;for(h=h.toUpperCase(),T=0,z=le.length;T<z;++T)if(Pe=le[T].name.toUpperCase(),ut=le[T].abbr.toUpperCase(),Wt=le[T].narrow.toUpperCase(),M)switch(x){case"N":case"NN":case"NNN":if(ut===h)return le[T];break;case"NNNN":if(Pe===h)return le[T];break;case"NNNNN":if(Wt===h)return le[T];break}else if([Pe,ut,Wt].indexOf(h)>=0)return le[T]}function XI(h,x){var M=h.since<=h.until?1:-1;return x===void 0?n(h.since).year():n(h.since).year()+(x-h.offset)*M}function ZI(){var h,x,M,T=this.localeData().eras();for(h=0,x=T.length;h<x;++h)if(M=this.clone().startOf("day").valueOf(),T[h].since<=M&&M<=T[h].until||T[h].until<=M&&M<=T[h].since)return T[h].name;return""}function JI(){var h,x,M,T=this.localeData().eras();for(h=0,x=T.length;h<x;++h)if(M=this.clone().startOf("day").valueOf(),T[h].since<=M&&M<=T[h].until||T[h].until<=M&&M<=T[h].since)return T[h].narrow;return""}function e4(){var h,x,M,T=this.localeData().eras();for(h=0,x=T.length;h<x;++h)if(M=this.clone().startOf("day").valueOf(),T[h].since<=M&&M<=T[h].until||T[h].until<=M&&M<=T[h].since)return T[h].abbr;return""}function t4(){var h,x,M,T,z=this.localeData().eras();for(h=0,x=z.length;h<x;++h)if(M=z[h].since<=z[h].until?1:-1,T=this.clone().startOf("day").valueOf(),z[h].since<=T&&T<=z[h].until||z[h].until<=T&&T<=z[h].since)return(this.year()-n(z[h].since).year())*M+z[h].offset;return this.year()}function n4(h){return a(this,"_erasNameRegex")||c_.call(this),h?this._erasNameRegex:this._erasRegex}function i4(h){return a(this,"_erasAbbrRegex")||c_.call(this),h?this._erasAbbrRegex:this._erasRegex}function r4(h){return a(this,"_erasNarrowRegex")||c_.call(this),h?this._erasNarrowRegex:this._erasRegex}function s_(h,x){return x.erasAbbrRegex(h)}function a4(h,x){return x.erasNameRegex(h)}function o4(h,x){return x.erasNarrowRegex(h)}function s4(h,x){return x._eraYearOrdinalRegex||Dr}function c_(){var h=[],x=[],M=[],T=[],z,le,Pe,ut,Wt,Tn=this.eras();for(z=0,le=Tn.length;z<le;++z)Pe=xa(Tn[z].name),ut=xa(Tn[z].abbr),Wt=xa(Tn[z].narrow),x.push(Pe),h.push(ut),M.push(Wt),T.push(Pe),T.push(ut),T.push(Wt);this._erasRegex=new RegExp("^("+T.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+x.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+h.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+M.join("|")+")","i")}ae(0,["gg",2],0,function(){return this.weekYear()%100}),ae(0,["GG",2],0,function(){return this.isoWeekYear()%100});function U0(h,x){ae(0,[h,h.length],0,x)}U0("gggg","weekYear"),U0("ggggg","weekYear"),U0("GGGG","isoWeekYear"),U0("GGGGG","isoWeekYear"),nt("G",Ho),nt("g",Ho),nt("GG",vt,Rt),nt("gg",vt,Rt),nt("GGGG",Zi,bi),nt("gggg",Zi,bi),nt("GGGGG",Jn,Wn),nt("ggggg",Jn,Wn),Ni(["gggg","ggggg","GGGG","GGGGG"],function(h,x,M,T){x[T.substr(0,2)]=sn(h)}),Ni(["gg","GG"],function(h,x,M,T){x[T]=n.parseTwoDigitYear(h)});function c4(h){return Ab.call(this,h,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function l4(h){return Ab.call(this,h,this.isoWeek(),this.isoWeekday(),1,4)}function d4(){return ba(this.year(),1,4)}function u4(){return ba(this.isoWeekYear(),1,4)}function m4(){var h=this.localeData()._week;return ba(this.year(),h.dow,h.doy)}function h4(){var h=this.localeData()._week;return ba(this.weekYear(),h.dow,h.doy)}function Ab(h,x,M,T,z){var le;return h==null?Go(this,T,z).year:(le=ba(h,T,z),x>le&&(x=le),p4.call(this,h,x,M,T,z))}function p4(h,x,M,T,z){var le=Qa(h,x,M,T,z),Pe=Qc(le.year,0,le.dayOfYear);return this.year(Pe.getUTCFullYear()),this.month(Pe.getUTCMonth()),this.date(Pe.getUTCDate()),this}ae("Q",0,"Qo","quarter"),nt("Q",Ti),Nn("Q",function(h,x){x[Ia]=(sn(h)-1)*3});function f4(h){return h==null?Math.ceil((this.month()+1)/3):this.month((h-1)*3+this.month()%3)}ae("D",["DD",2],"Do","date"),nt("D",vt,$a),nt("DD",vt,Rt),nt("Do",function(h,x){return h?x._dayOfMonthOrdinalParse||x._ordinalParse:x._dayOfMonthOrdinalParseLenient}),Nn(["D","DD"],B),Nn("Do",function(h,x){x[B]=sn(h.match(vt)[0])});var Db=ye("Date",!0);ae("DDD",["DDDD",3],"DDDo","dayOfYear"),nt("DDD",Pn),nt("DDDD",$n),Nn(["DDD","DDDD"],function(h,x,M){M._dayOfYear=sn(h)});function g4(h){var x=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return h==null?x:this.add(h-x,"d")}ae("m",["mm",2],0,"minute"),nt("m",vt,Ks),nt("mm",vt,Rt),Nn(["m","mm"],Q);var _4=ye("Minutes",!1);ae("s",["ss",2],0,"second"),nt("s",vt,Ks),nt("ss",vt,Rt),Nn(["s","ss"],X);var x4=ye("Seconds",!1);ae("S",0,0,function(){return~~(this.millisecond()/100)}),ae(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ae(0,["SSS",3],0,"millisecond"),ae(0,["SSSS",4],0,function(){return this.millisecond()*10}),ae(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ae(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ae(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ae(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ae(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),nt("S",Pn,Ti),nt("SS",Pn,Rt),nt("SSS",Pn,$n);var rc,Fb;for(rc="SSSS";rc.length<=9;rc+="S")nt(rc,Dr);function v4(h,x){x[J]=sn(("0."+h)*1e3)}for(rc="S";rc.length<=9;rc+="S")Nn(rc,v4);Fb=ye("Milliseconds",!1),ae("z",0,0,"zoneAbbr"),ae("zz",0,0,"zoneName");function b4(){return this._isUTC?"UTC":""}function y4(){return this._isUTC?"Coordinated Universal Time":""}var We=oe.prototype;We.add=hI,We.calendar=bI,We.clone=yI,We.diff=EI,We.endOf=VI,We.format=AI,We.from=DI,We.fromNow=FI,We.to=RI,We.toNow=NI,We.get=lt,We.invalidAt=YI,We.isAfter=CI,We.isBefore=wI,We.isBetween=SI,We.isSame=MI,We.isSameOrAfter=kI,We.isSameOrBefore=PI,We.isValid=$I,We.lang=Pb,We.locale=kb,We.localeData=Eb,We.max=ic,We.min=br,We.parsingFlags=WI,We.set=Ke,We.startOf=LI,We.subtract=pI,We.toArray=zI,We.toObject=HI,We.toDate=UI,We.toISOString=OI,We.inspect=II,typeof Symbol<"u"&&Symbol.for!=null&&(We[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),We.toJSON=GI,We.toString=TI,We.unix=jI,We.valueOf=BI,We.creationData=qI,We.eraName=ZI,We.eraNarrow=JI,We.eraAbbr=e4,We.eraYear=t4,We.year=_e,We.isLeapYear=be,We.weekYear=c4,We.isoWeekYear=l4,We.quarter=We.quarters=f4,We.month=Du,We.daysInMonth=u0,We.week=We.weeks=Zc,We.isoWeek=We.isoWeeks=Yg,We.weeksInYear=m4,We.weeksInWeekYear=h4,We.isoWeeksInYear=d4,We.isoWeeksInISOWeekYear=u4,We.date=Db,We.day=We.days=Wo,We.weekday=Jg,We.isoWeekday=e_,We.dayOfYear=g4,We.hour=We.hours=y0,We.minute=We.minutes=_4,We.second=We.seconds=x4,We.millisecond=We.milliseconds=Fb,We.utcOffset=eI,We.utc=nI,We.local=iI,We.parseZone=rI,We.hasAlignedHourOffset=aI,We.isDST=oI,We.isLocal=cI,We.isUtcOffset=lI,We.isUtc=yb,We.isUTC=yb,We.zoneAbbr=b4,We.zoneName=y4,We.dates=E("dates accessor is deprecated. Use date instead.",Db),We.months=E("months accessor is deprecated. Use month instead",Du),We.years=E("years accessor is deprecated. Use year instead",_e),We.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",tI),We.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",sI);function C4(h){return nn(h*1e3)}function w4(){return nn.apply(null,arguments).parseZone()}function Rb(h){return h}var zn=Ge.prototype;zn.calendar=De,zn.longDateFormat=Te,zn.invalidDate=dt,zn.ordinal=tt,zn.preparse=Rb,zn.postformat=Rb,zn.relativeTime=rt,zn.pastFuture=Ue,zn.set=U,zn.eras=KI,zn.erasParse=QI,zn.erasConvertYear=XI,zn.erasAbbrRegex=i4,zn.erasNameRegex=n4,zn.erasNarrowRegex=r4,zn.months=qa,zn.monthsShort=Xs,zn.monthsParse=Au,zn.monthsRegex=Wg,zn.monthsShortRegex=$g,zn.week=h0,zn.firstDayOfYear=Xc,zn.firstDayOfWeek=Wl,zn.weekdays=x0,zn.weekdaysMin=Qg,zn.weekdaysShort=Zs,zn.weekdaysParse=Zg,zn.weekdaysRegex=el,zn.weekdaysShortRegex=Yl,zn.weekdaysMinRegex=v0,zn.isPM=t_,zn.meridiem=C0;function z0(h,x,M,T){var z=Po(),le=v().set(T,x);return z[M](le,h)}function Nb(h,x,M){if(d(h)&&(x=h,h=void 0),h=h||"",x!=null)return z0(h,x,M,"month");var T,z=[];for(T=0;T<12;T++)z[T]=z0(h,T,M,"month");return z}function l_(h,x,M,T){typeof h=="boolean"?(d(x)&&(M=x,x=void 0),x=x||""):(x=h,M=x,h=!1,d(x)&&(M=x,x=void 0),x=x||"");var z=Po(),le=h?z._week.dow:0,Pe,ut=[];if(M!=null)return z0(x,(M+le)%7,T,"day");for(Pe=0;Pe<7;Pe++)ut[Pe]=z0(x,(Pe+le)%7,T,"day");return ut}function S4(h,x){return Nb(h,x,"months")}function M4(h,x){return Nb(h,x,"monthsShort")}function k4(h,x,M){return l_(h,x,M,"weekdays")}function P4(h,x,M){return l_(h,x,M,"weekdaysShort")}function E4(h,x,M){return l_(h,x,M,"weekdaysMin")}Aa("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(h){var x=h%10,M=sn(h%100/10)===1?"th":x===1?"st":x===2?"nd":x===3?"rd":"th";return h+M}}),n.lang=E("moment.lang is deprecated. Use moment.locale instead.",Aa),n.langData=E("moment.langData is deprecated. Use moment.localeData instead.",Po);var vs=Math.abs;function T4(){var h=this._data;return this._milliseconds=vs(this._milliseconds),this._days=vs(this._days),this._months=vs(this._months),h.milliseconds=vs(h.milliseconds),h.seconds=vs(h.seconds),h.minutes=vs(h.minutes),h.hours=vs(h.hours),h.months=vs(h.months),h.years=vs(h.years),this}function Lb(h,x,M,T){var z=Eo(x,M);return h._milliseconds+=T*z._milliseconds,h._days+=T*z._days,h._months+=T*z._months,h._bubble()}function O4(h,x){return Lb(this,h,x,1)}function I4(h,x){return Lb(this,h,x,-1)}function Vb(h){return h<0?Math.floor(h):Math.ceil(h)}function A4(){var h=this._milliseconds,x=this._days,M=this._months,T=this._data,z,le,Pe,ut,Wt;return h>=0&&x>=0&&M>=0||h<=0&&x<=0&&M<=0||(h+=Vb(d_(M)+x)*864e5,x=0,M=0),T.milliseconds=h%1e3,z=mr(h/1e3),T.seconds=z%60,le=mr(z/60),T.minutes=le%60,Pe=mr(le/60),T.hours=Pe%24,x+=mr(Pe/24),Wt=mr(Bb(x)),M+=Wt,x-=Vb(d_(Wt)),ut=mr(M/12),M%=12,T.days=x,T.months=M,T.years=ut,this}function Bb(h){return h*4800/146097}function d_(h){return h*146097/4800}function D4(h){if(!this.isValid())return NaN;var x,M,T=this._milliseconds;if(h=kn(h),h==="month"||h==="quarter"||h==="year")switch(x=this._days+T/864e5,M=this._months+Bb(x),h){case"month":return M;case"quarter":return M/3;case"year":return M/12}else switch(x=this._days+Math.round(d_(this._months)),h){case"week":return x/7+T/6048e5;case"day":return x+T/864e5;case"hour":return x*24+T/36e5;case"minute":return x*1440+T/6e4;case"second":return x*86400+T/1e3;case"millisecond":return Math.floor(x*864e5)+T;default:throw new Error("Unknown unit "+h)}}function bs(h){return function(){return this.as(h)}}var jb=bs("ms"),F4=bs("s"),R4=bs("m"),N4=bs("h"),L4=bs("d"),V4=bs("w"),B4=bs("M"),j4=bs("Q"),U4=bs("y"),z4=jb;function H4(){return Eo(this)}function G4(h){return h=kn(h),this.isValid()?this[h+"s"]():NaN}function il(h){return function(){return this.isValid()?this._data[h]:NaN}}var $4=il("milliseconds"),W4=il("seconds"),Y4=il("minutes"),q4=il("hours"),K4=il("days"),Q4=il("months"),X4=il("years");function Z4(){return mr(this.days()/7)}var ys=Math.round,id={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function J4(h,x,M,T,z){return z.relativeTime(x||1,!!M,h,T)}function e3(h,x,M,T){var z=Eo(h).abs(),le=ys(z.as("s")),Pe=ys(z.as("m")),ut=ys(z.as("h")),Wt=ys(z.as("d")),Tn=ys(z.as("M")),da=ys(z.as("w")),Cs=ys(z.as("y")),ac=le<=M.ss&&["s",le]||le<M.s&&["ss",le]||Pe<=1&&["m"]||Pe<M.m&&["mm",Pe]||ut<=1&&["h"]||ut<M.h&&["hh",ut]||Wt<=1&&["d"]||Wt<M.d&&["dd",Wt];return M.w!=null&&(ac=ac||da<=1&&["w"]||da<M.w&&["ww",da]),ac=ac||Tn<=1&&["M"]||Tn<M.M&&["MM",Tn]||Cs<=1&&["y"]||["yy",Cs],ac[2]=x,ac[3]=+h>0,ac[4]=T,J4.apply(null,ac)}function t3(h){return h===void 0?ys:typeof h=="function"?(ys=h,!0):!1}function n3(h,x){return id[h]===void 0?!1:x===void 0?id[h]:(id[h]=x,h==="s"&&(id.ss=x-1),!0)}function i3(h,x){if(!this.isValid())return this.localeData().invalidDate();var M=!1,T=id,z,le;return typeof h=="object"&&(x=h,h=!1),typeof h=="boolean"&&(M=h),typeof x=="object"&&(T=Object.assign({},id,x),x.s!=null&&x.ss==null&&(T.ss=x.s-1)),z=this.localeData(),le=e3(this,!M,T,z),M&&(le=z.pastFuture(+this,le)),z.postformat(le)}var u_=Math.abs;function rd(h){return(h>0)-(h<0)||+h}function H0(){if(!this.isValid())return this.localeData().invalidDate();var h=u_(this._milliseconds)/1e3,x=u_(this._days),M=u_(this._months),T,z,le,Pe,ut=this.asSeconds(),Wt,Tn,da,Cs;return ut?(T=mr(h/60),z=mr(T/60),h%=60,T%=60,le=mr(M/12),M%=12,Pe=h?h.toFixed(3).replace(/\.?0+$/,""):"",Wt=ut<0?"-":"",Tn=rd(this._months)!==rd(ut)?"-":"",da=rd(this._days)!==rd(ut)?"-":"",Cs=rd(this._milliseconds)!==rd(ut)?"-":"",Wt+"P"+(le?Tn+le+"Y":"")+(M?Tn+M+"M":"")+(x?da+x+"D":"")+(z||T||h?"T":"")+(z?Cs+z+"H":"")+(T?Cs+T+"M":"")+(h?Cs+Pe+"S":"")):"P0D"}var On=N0.prototype;On.isValid=QO,On.abs=T4,On.add=O4,On.subtract=I4,On.as=D4,On.asMilliseconds=jb,On.asSeconds=F4,On.asMinutes=R4,On.asHours=N4,On.asDays=L4,On.asWeeks=V4,On.asMonths=B4,On.asQuarters=j4,On.asYears=U4,On.valueOf=z4,On._bubble=A4,On.clone=H4,On.get=G4,On.milliseconds=$4,On.seconds=W4,On.minutes=Y4,On.hours=q4,On.days=K4,On.weeks=Z4,On.months=Q4,On.years=X4,On.humanize=i3,On.toISOString=H0,On.toString=H0,On.toJSON=H0,On.locale=kb,On.localeData=Eb,On.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",H0),On.lang=Pb,ae("X",0,0,"unix"),ae("x",0,0,"valueOf"),nt("x",Ho),nt("X",Gl),Nn("X",function(h,x,M){M._d=new Date(parseFloat(h)*1e3)}),Nn("x",function(h,x,M){M._d=new Date(sn(h))});return n.version="2.30.1",r(nn),n.fn=We,n.min=ed,n.max=Vu,n.now=qO,n.utc=v,n.unix=C4,n.months=S4,n.isDate=m,n.locale=Aa,n.invalid=L,n.duration=Eo,n.isMoment=F,n.weekdays=k4,n.parseZone=w4,n.localeData=Po,n.isDuration=L0,n.monthsShort=M4,n.weekdaysMin=E4,n.defineLocale=Kl,n.updateLocale=Ql,n.locales=k0,n.weekdaysShort=P4,n.normalizeUnits=kn,n.relativeTimeRounding=t3,n.relativeTimeThreshold=n3,n.calendarFormat=vI,n.prototype=We,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})});var pE=zb((wv,Sv)=>{"use strict";((e,n)=>{typeof define=="function"&&define.amd?define([],n):typeof Sv=="object"&&typeof wv<"u"?Sv.exports=n():e.Papa=n()})(wv,function e(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},r,t=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,a={},o=0,s={};function d(F){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var E=V(S);E.chunkSize=parseInt(E.chunkSize),S.step||S.chunk||(E.chunkSize=null),this._handle=new w(E),(this._handle.streamer=this)._config=E}).call(this,F),this.parseChunk=function(S,E){var A=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<A){let j=this._config.newline;j||(R=this._config.quoteChar||'"',j=this._handle.guessLineEndings(S,R)),S=[...S.split(j).slice(A)].join(j)}this.isFirstChunk&&oe(this._config.beforeFirstChunk)&&(R=this._config.beforeFirstChunk(S))!==void 0&&(S=R),this.isFirstChunk=!1,this._halted=!1;var A=this._partialLine+S,R=(this._partialLine="",this._handle.parse(A,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=R.meta.cursor,A=(this._finished||(this._partialLine=A.substring(S-this._baseIndex),this._baseIndex=S),R&&R.data&&(this._rowCount+=R.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)n.postMessage({results:R,workerId:s.WORKER_ID,finished:A});else if(oe(this._config.chunk)&&!E){if(this._config.chunk(R,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=R=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(R.data),this._completeResults.errors=this._completeResults.errors.concat(R.errors),this._completeResults.meta=R.meta),this._completed||!A||!oe(this._config.complete)||R&&R.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),A||R&&R.meta.paused||this._nextChunk(),R}this._halted=!0},this._sendError=function(S){oe(this._config.error)?this._config.error(S):i&&this._config.error&&n.postMessage({workerId:s.WORKER_ID,error:S,finished:!1})}}function m(F){var S;(F=F||{}).chunkSize||(F.chunkSize=s.RemoteChunkSize),d.call(this,F),this._nextChunk=t?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(E){this._input=E,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),t||(S.onload=re(this._chunkLoaded,this),S.onerror=re(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!t),this._config.downloadRequestHeaders){var E,A=this._config.downloadRequestHeaders;for(E in A)S.setRequestHeader(E,A[E])}var R;this._config.chunkSize&&(R=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+R));try{S.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}t&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(E=>(E=E.getResponseHeader("Content-Range"))!==null?parseInt(E.substring(E.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(E){E=S.statusText||E,this._sendError(new Error(E))}}function f(F){(F=F||{}).chunkSize||(F.chunkSize=s.LocalChunkSize),d.call(this,F);var S,E,A=typeof FileReader<"u";this.stream=function(R){this._input=R,E=R.slice||R.webkitSlice||R.mozSlice,A?((S=new FileReader).onload=re(this._chunkLoaded,this),S.onerror=re(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var R=this._input,j=(this._config.chunkSize&&(j=Math.min(this._start+this._config.chunkSize,this._input.size),R=E.call(R,this._start,j)),S.readAsText(R,this._config.encoding));A||this._chunkLoaded({target:{result:j}})},this._chunkLoaded=function(R){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(R.target.result)},this._chunkError=function(){this._sendError(S.error)}}function _(F){var S;d.call(this,F=F||{}),this.stream=function(E){return S=E,this._nextChunk()},this._nextChunk=function(){var E,A;if(!this._finished)return E=this._config.chunkSize,S=E?(A=S.substring(0,E),S.substring(E)):(A=S,""),this._finished=!S,this.parseChunk(A)}}function v(F){d.call(this,F=F||{});var S=[],E=!0,A=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(R){this._input=R,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){A&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):E=!0},this._streamData=re(function(R){try{S.push(typeof R=="string"?R:R.toString(this._config.encoding)),E&&(E=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(j){this._streamError(j)}},this),this._streamError=re(function(R){this._streamCleanUp(),this._sendError(R)},this),this._streamEnd=re(function(){this._streamCleanUp(),A=!0,this._streamData("")},this),this._streamCleanUp=re(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(F){var S,E,A,R,j=Math.pow(2,53),U=-j,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ge=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ke=this,Xe=0,De=0,st=!1,Ie=!1,Ve=[],me={data:[],errors:[],meta:{}};function te(fe){return F.skipEmptyLines==="greedy"?fe.join("").trim()==="":fe.length===1&&fe[0].length===0}function ae(){if(me&&A&&(ce("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),A=!1),F.skipEmptyLines&&(me.data=me.data.filter(function(we){return!te(we)})),se()){let we=function(dt,ee){oe(F.transformHeader)&&(dt=F.transformHeader(dt,ee)),Ve.push(dt)};var Te=we;if(me)if(Array.isArray(me.data[0])){for(var fe=0;se()&&fe<me.data.length;fe++)me.data[fe].forEach(we);me.data.splice(0,1)}else me.data.forEach(we)}function Ae(we,dt){for(var ee=F.header?{}:[],pt=0;pt<we.length;pt++){var tt=pt,Ot=we[pt],Ot=((rt,Ue)=>($t=>(F.dynamicTypingFunction&&F.dynamicTyping[$t]===void 0&&(F.dynamicTyping[$t]=F.dynamicTypingFunction($t)),(F.dynamicTyping[$t]||F.dynamicTyping)===!0))(rt)?Ue==="true"||Ue==="TRUE"||Ue!=="false"&&Ue!=="FALSE"&&(($t=>{if(Y.test($t)&&($t=parseFloat($t),U<$t&&$t<j))return 1})(Ue)?parseFloat(Ue):Ge.test(Ue)?new Date(Ue):Ue===""?null:Ue):Ue)(tt=F.header?pt>=Ve.length?"__parsed_extra":Ve[pt]:tt,Ot=F.transform?F.transform(Ot,tt):Ot);tt==="__parsed_extra"?(ee[tt]=ee[tt]||[],ee[tt].push(Ot)):ee[tt]=Ot}return F.header&&(pt>Ve.length?ce("FieldMismatch","TooManyFields","Too many fields: expected "+Ve.length+" fields but parsed "+pt,De+dt):pt<Ve.length&&ce("FieldMismatch","TooFewFields","Too few fields: expected "+Ve.length+" fields but parsed "+pt,De+dt)),ee}var Re;me&&(F.header||F.dynamicTyping||F.transform)&&(Re=1,!me.data.length||Array.isArray(me.data[0])?(me.data=me.data.map(Ae),Re=me.data.length):me.data=Ae(me.data,0),F.header&&me.meta&&(me.meta.fields=Ve),De+=Re)}function se(){return F.header&&Ve.length===0}function ce(fe,Ae,Re,Te){fe={type:fe,code:Ae,message:Re},Te!==void 0&&(fe.row=Te),me.errors.push(fe)}oe(F.step)&&(R=F.step,F.step=function(fe){me=fe,se()?ae():(ae(),me.data.length!==0&&(Xe+=fe.data.length,F.preview&&Xe>F.preview?E.abort():(me.data=me.data[0],R(me,ke))))}),this.parse=function(fe,Ae,Re){var Te=F.quoteChar||'"',Te=(F.newline||(F.newline=this.guessLineEndings(fe,Te)),A=!1,F.delimiter?oe(F.delimiter)&&(F.delimiter=F.delimiter(fe),me.meta.delimiter=F.delimiter):((Te=((we,dt,ee,pt,tt)=>{var Ot,rt,Ue,$t;tt=tt||[",","	","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var kn=0;kn<tt.length;kn++){for(var ui,Xi=tt[kn],fi=0,Ti=0,Rt=0,$n=(Ue=void 0,new b({comments:pt,delimiter:Xi,newline:dt,preview:10}).parse(we)),bi=0;bi<$n.data.length;bi++)ee&&te($n.data[bi])?Rt++:(ui=$n.data[bi].length,Ti+=ui,Ue===void 0?Ue=ui:0<ui&&(fi+=Math.abs(ui-Ue),Ue=ui));0<$n.data.length&&(Ti/=$n.data.length-Rt),(rt===void 0||fi<=rt)&&($t===void 0||$t<Ti)&&1.99<Ti&&(rt=fi,Ot=Xi,$t=Ti)}return{successful:!!(F.delimiter=Ot),bestDelimiter:Ot}})(fe,F.newline,F.skipEmptyLines,F.comments,F.delimitersToGuess)).successful?F.delimiter=Te.bestDelimiter:(A=!0,F.delimiter=s.DefaultDelimiter),me.meta.delimiter=F.delimiter),V(F));return F.preview&&F.header&&Te.preview++,S=fe,E=new b(Te),me=E.parse(S,Ae,Re),ae(),st?{meta:{paused:!0}}:me||{meta:{paused:!1}}},this.paused=function(){return st},this.pause=function(){st=!0,E.abort(),S=oe(F.chunk)?"":S.substring(E.getCharIndex())},this.resume=function(){ke.streamer._halted?(st=!1,ke.streamer.parseChunk(S,!0)):setTimeout(ke.resume,3)},this.aborted=function(){return Ie},this.abort=function(){Ie=!0,E.abort(),me.meta.aborted=!0,oe(F.complete)&&F.complete(me),S=""},this.guessLineEndings=function(we,Te){we=we.substring(0,1048576);var Te=new RegExp(C(Te)+"([^]*?)"+C(Te),"gm"),Re=(we=we.replace(Te,"")).split("\r"),Te=we.split(`
`),we=1<Te.length&&Te[0].length<Re[0].length;if(Re.length===1||we)return`
`;for(var dt=0,ee=0;ee<Re.length;ee++)Re[ee][0]===`
`&&dt++;return dt>=Re.length/2?`\r
`:"\r"}}function C(F){return F.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(F){var S=(F=F||{}).delimiter,E=F.newline,A=F.comments,R=F.step,j=F.preview,U=F.fastMode,Y=null,Ge=!1,ke=F.quoteChar==null?'"':F.quoteChar,Xe=ke;if(F.escapeChar!==void 0&&(Xe=F.escapeChar),(typeof S!="string"||-1<s.BAD_DELIMITERS.indexOf(S))&&(S=","),A===S)throw new Error("Comment character same as delimiter");A===!0?A="#":(typeof A!="string"||-1<s.BAD_DELIMITERS.indexOf(A))&&(A=!1),E!==`
`&&E!=="\r"&&E!==`\r
`&&(E=`
`);var De=0,st=!1;this.parse=function(Ie,Ve,me){if(typeof Ie!="string")throw new Error("Input must be a string");var te=Ie.length,ae=S.length,se=E.length,ce=A.length,fe=oe(R),Ae=[],Re=[],Te=[],we=De=0;if(!Ie)return fi();if(U||U!==!1&&Ie.indexOf(ke)===-1){for(var dt=Ie.split(E),ee=0;ee<dt.length;ee++){if(Te=dt[ee],De+=Te.length,ee!==dt.length-1)De+=E.length;else if(me)return fi();if(!A||Te.substring(0,ce)!==A){if(fe){if(Ae=[],$t(Te.split(S)),Ti(),st)return fi()}else $t(Te.split(S));if(j&&j<=ee)return Ae=Ae.slice(0,j),fi(!0)}}return fi()}for(var pt=Ie.indexOf(S,De),tt=Ie.indexOf(E,De),Ot=new RegExp(C(Xe)+C(ke),"g"),rt=Ie.indexOf(ke,De);;)if(Ie[De]===ke)for(rt=De,De++;;){if((rt=Ie.indexOf(ke,rt+1))===-1)return me||Re.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ae.length,index:De}),ui();if(rt===te-1)return ui(Ie.substring(De,rt).replace(Ot,ke));if(ke===Xe&&Ie[rt+1]===Xe)rt++;else if(ke===Xe||rt===0||Ie[rt-1]!==Xe){pt!==-1&&pt<rt+1&&(pt=Ie.indexOf(S,rt+1));var Ue=kn((tt=tt!==-1&&tt<rt+1?Ie.indexOf(E,rt+1):tt)===-1?pt:Math.min(pt,tt));if(Ie.substr(rt+1+Ue,ae)===S){Te.push(Ie.substring(De,rt).replace(Ot,ke)),Ie[De=rt+1+Ue+ae]!==ke&&(rt=Ie.indexOf(ke,De)),pt=Ie.indexOf(S,De),tt=Ie.indexOf(E,De);break}if(Ue=kn(tt),Ie.substring(rt+1+Ue,rt+1+Ue+se)===E){if(Te.push(Ie.substring(De,rt).replace(Ot,ke)),Xi(rt+1+Ue+se),pt=Ie.indexOf(S,De),rt=Ie.indexOf(ke,De),fe&&(Ti(),st))return fi();if(j&&Ae.length>=j)return fi(!0);break}Re.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ae.length,index:De}),rt++}}else if(A&&Te.length===0&&Ie.substring(De,De+ce)===A){if(tt===-1)return fi();De=tt+se,tt=Ie.indexOf(E,De),pt=Ie.indexOf(S,De)}else if(pt!==-1&&(pt<tt||tt===-1))Te.push(Ie.substring(De,pt)),De=pt+ae,pt=Ie.indexOf(S,De);else{if(tt===-1)break;if(Te.push(Ie.substring(De,tt)),Xi(tt+se),fe&&(Ti(),st))return fi();if(j&&Ae.length>=j)return fi(!0)}return ui();function $t(Rt){Ae.push(Rt),we=De}function kn(Rt){var $n=0;return $n=Rt!==-1&&(Rt=Ie.substring(rt+1,Rt))&&Rt.trim()===""?Rt.length:$n}function ui(Rt){return me||(Rt===void 0&&(Rt=Ie.substring(De)),Te.push(Rt),De=te,$t(Te),fe&&Ti()),fi()}function Xi(Rt){De=Rt,$t(Te),Te=[],tt=Ie.indexOf(E,De)}function fi(Rt){if(F.header&&!Ve&&Ae.length&&!Ge){var $n=Ae[0],bi=Object.create(null),Wn=new Set($n);let vt=!1;for(let Ci=0;Ci<$n.length;Ci++){let wt=$n[Ci];if(bi[wt=oe(F.transformHeader)?F.transformHeader(wt,Ci):wt]){let Pn,Zi=bi[wt];for(;Pn=wt+"_"+Zi,Zi++,Wn.has(Pn););Wn.add(Pn),$n[Ci]=Pn,bi[wt]++,vt=!0,(Y=Y===null?{}:Y)[Pn]=wt}else bi[wt]=1,$n[Ci]=wt;Wn.add(wt)}vt&&console.warn("Duplicate headers found and renamed."),Ge=!0}return{data:Ae,errors:Re,meta:{delimiter:S,linebreak:E,aborted:st,truncated:!!Rt,cursor:we+(Ve||0),renamedHeaders:Y}}}function Ti(){R(fi()),Ae=[],Re=[]}},this.abort=function(){st=!0},this.getCharIndex=function(){return De}}function O(F){var S=F.data,E=a[S.workerId],A=!1;if(S.error)E.userError(S.error,S.file);else if(S.results&&S.results.data){var R={abort:function(){A=!0,L(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:N,resume:N};if(oe(E.userStep)){for(var j=0;j<S.results.data.length&&(E.userStep({data:S.results.data[j],errors:S.results.errors,meta:S.results.meta},R),!A);j++);delete S.results}else oe(E.userChunk)&&(E.userChunk(S.results,R,S.file),delete S.results)}S.finished&&!A&&L(S.workerId,S.results)}function L(F,S){var E=a[F];oe(E.userComplete)&&E.userComplete(S),E.terminate(),delete a[F]}function N(){throw new Error("Not implemented.")}function V(F){if(typeof F!="object"||F===null)return F;var S,E=Array.isArray(F)?[]:{};for(S in F)E[S]=V(F[S]);return E}function re(F,S){return function(){F.apply(S,arguments)}}function oe(F){return typeof F=="function"}return s.parse=function(F,S){var E=(S=S||{}).dynamicTyping||!1;if(oe(E)&&(S.dynamicTypingFunction=E,E={}),S.dynamicTyping=E,S.transform=!!oe(S.transform)&&S.transform,!S.worker||!s.WORKERS_SUPPORTED)return E=null,s.NODE_STREAM_INPUT,typeof F=="string"?(F=(A=>A.charCodeAt(0)!==65279?A:A.slice(1))(F),E=new(S.download?m:_)(S)):F.readable===!0&&oe(F.read)&&oe(F.on)?E=new v(S):(n.File&&F instanceof File||F instanceof Object)&&(E=new f(S)),E.stream(F);(E=(()=>{var A;return!!s.WORKERS_SUPPORTED&&(A=(()=>{var R=n.URL||n.webkitURL||null,j=e.toString();return s.BLOB_URL||(s.BLOB_URL=R.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",j,")();"],{type:"text/javascript"})))})(),(A=new n.Worker(A)).onmessage=O,A.id=o++,a[A.id]=A)})()).userStep=S.step,E.userChunk=S.chunk,E.userComplete=S.complete,E.userError=S.error,S.step=oe(S.step),S.chunk=oe(S.chunk),S.complete=oe(S.complete),S.error=oe(S.error),delete S.worker,E.postMessage({input:F,config:S,workerId:E.id})},s.unparse=function(F,S){var E=!1,A=!0,R=",",j=`\r
`,U='"',Y=U+U,Ge=!1,ke=null,Xe=!1,De=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||s.BAD_DELIMITERS.filter(function(Ve){return S.delimiter.indexOf(Ve)!==-1}).length||(R=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(E=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(Ge=S.skipEmptyLines),typeof S.newline=="string"&&(j=S.newline),typeof S.quoteChar=="string"&&(U=S.quoteChar),typeof S.header=="boolean"&&(A=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");ke=S.columns}S.escapeChar!==void 0&&(Y=S.escapeChar+U),S.escapeFormulae instanceof RegExp?Xe=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(Xe=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(U),"g"));if(typeof F=="string"&&(F=JSON.parse(F)),Array.isArray(F)){if(!F.length||Array.isArray(F[0]))return st(null,F,Ge);if(typeof F[0]=="object")return st(ke||Object.keys(F[0]),F,Ge)}else if(typeof F=="object")return typeof F.data=="string"&&(F.data=JSON.parse(F.data)),Array.isArray(F.data)&&(F.fields||(F.fields=F.meta&&F.meta.fields||ke),F.fields||(F.fields=Array.isArray(F.data[0])?F.fields:typeof F.data[0]=="object"?Object.keys(F.data[0]):[]),Array.isArray(F.data[0])||typeof F.data[0]=="object"||(F.data=[F.data])),st(F.fields||[],F.data||[],Ge);throw new Error("Unable to serialize unrecognized input");function st(Ve,me,te){var ae="",se=(typeof Ve=="string"&&(Ve=JSON.parse(Ve)),typeof me=="string"&&(me=JSON.parse(me)),Array.isArray(Ve)&&0<Ve.length),ce=!Array.isArray(me[0]);if(se&&A){for(var fe=0;fe<Ve.length;fe++)0<fe&&(ae+=R),ae+=Ie(Ve[fe],fe);0<me.length&&(ae+=j)}for(var Ae=0;Ae<me.length;Ae++){var Re=(se?Ve:me[Ae]).length,Te=!1,we=se?Object.keys(me[Ae]).length===0:me[Ae].length===0;if(te&&!se&&(Te=te==="greedy"?me[Ae].join("").trim()==="":me[Ae].length===1&&me[Ae][0].length===0),te==="greedy"&&se){for(var dt=[],ee=0;ee<Re;ee++){var pt=ce?Ve[ee]:ee;dt.push(me[Ae][pt])}Te=dt.join("").trim()===""}if(!Te){for(var tt=0;tt<Re;tt++){0<tt&&!we&&(ae+=R);var Ot=se&&ce?Ve[tt]:tt;ae+=Ie(me[Ae][Ot],tt)}Ae<me.length-1&&(!te||0<Re&&!we)&&(ae+=j)}}return ae}function Ie(Ve,me){var te,ae;return Ve==null?"":Ve.constructor===Date?JSON.stringify(Ve).slice(1,25):(ae=!1,Xe&&typeof Ve=="string"&&Xe.test(Ve)&&(Ve="'"+Ve,ae=!0),te=Ve.toString().replace(De,Y),(ae=ae||E===!0||typeof E=="function"&&E(Ve,me)||Array.isArray(E)&&E[me]||((se,ce)=>{for(var fe=0;fe<ce.length;fe++)if(-1<se.indexOf(ce[fe]))return!0;return!1})(te,s.BAD_DELIMITERS)||-1<te.indexOf(R)||te.charAt(0)===" "||te.charAt(te.length-1)===" ")?U+te+U:te)}},s.RECORD_SEP="",s.UNIT_SEP="",s.BYTE_ORDER_MARK="\uFEFF",s.BAD_DELIMITERS=["\r",`
`,'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!t&&!!n.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=b,s.ParserHandle=w,s.NetworkStreamer=m,s.FileStreamer=f,s.StringStreamer=_,s.ReadableStreamStreamer=v,n.jQuery&&((r=n.jQuery).fn.parse=function(F){var S=F.config||{},E=[];return this.each(function(j){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)E.push({file:this.files[U],inputElem:this,instanceConfig:r.extend({},S)})}),A(),this;function A(){if(E.length===0)oe(F.complete)&&F.complete();else{var j,U,Y,Ge,ke=E[0];if(oe(F.before)){var Xe=F.before(ke.file,ke.inputElem);if(typeof Xe=="object"){if(Xe.action==="abort")return j="AbortError",U=ke.file,Y=ke.inputElem,Ge=Xe.reason,void(oe(F.error)&&F.error({name:j},U,Y,Ge));if(Xe.action==="skip")return void R();typeof Xe.config=="object"&&(ke.instanceConfig=r.extend(ke.instanceConfig,Xe.config))}else if(Xe==="skip")return void R()}var De=ke.instanceConfig.complete;ke.instanceConfig.complete=function(st){oe(De)&&De(st,ke.file,ke.inputElem),R()},s.parse(ke.file,ke.instanceConfig)}}function R(){E.splice(0,1),A()}}),i&&(n.onmessage=function(F){F=F.data,s.WORKER_ID===void 0&&F&&(s.WORKER_ID=F.workerId),typeof F.input=="string"?n.postMessage({workerId:s.WORKER_ID,results:s.parse(F.input,F.config),finished:!0}):(n.File&&F.input instanceof File||F.input instanceof Object)&&(F=s.parse(F.input,F.config))&&n.postMessage({workerId:s.WORKER_ID,results:F,finished:!0})}),(m.prototype=Object.create(d.prototype)).constructor=m,(f.prototype=Object.create(d.prototype)).constructor=f,(_.prototype=Object.create(_.prototype)).constructor=_,(v.prototype=Object.create(d.prototype)).constructor=v,s})});var es=mt("[Budgets] Load Budgets",ft()),ap=mt("[Budgets] Load Budgets Success",ft()),op=mt("[Budgets] Load Budgets Failure",ft()),Od=mt("[Budgets] Create Budget",ft()),sp=mt("[Budgets] Create Budget Success",ft()),cp=mt("[Budgets] Create Budget Failure",ft()),lp=mt("[Budgets] Update Budget",ft()),dp=mt("[Budgets] Update Budget Success",ft()),up=mt("[Budgets] Update Budget Failure",ft()),Id=mt("[Budgets] Delete Budget",ft()),mp=mt("[Budgets] Delete Budget Success",ft()),hp=mt("[Budgets] Delete Budget Failure",ft()),Ad=mt("[Budgets] Update Spent",ft()),pp=mt("[Budgets] Update Spent Success",ft()),fp=mt("[Budgets] Update Spent Failure",ft());var ts=mt("[Goals] Load Goals",ft()),gp=mt("[Goals] Load Goals Success",ft()),_p=mt("[Goals] Load Goals Failure",ft()),Dd=mt("[Goals] Create Goal",ft()),xp=mt("[Goals] Create Goal Success",ft()),vp=mt("[Goals] Create Goal Failure",ft()),bp=mt("[Goals] Update Goal",ft()),yp=mt("[Goals] Update Goal Success",ft()),Cp=mt("[Goals] Update Goal Failure",ft()),Fd=mt("[Goals] Delete Goal",ft()),wp=mt("[Goals] Delete Goal Success",ft()),Sp=mt("[Goals] Delete Goal Failure",ft()),Rd=mt("[Goals] Update Current Amount",ft()),Mp=mt("[Goals] Update Current Amount Success",ft()),kp=mt("[Goals] Update Current Amount Failure",ft());var ns=mt("[Profile] Load Profile",ft()),Pp=mt("[Profile] Load Profile Success",ft()),Ep=mt("[Profile] Load Profile Failure",ft()),Nd=mt("[Profile] Update Profile",ft()),Tp=mt("[Profile] Update Profile Success",ft()),Op=mt("[Profile] Update Profile Failure",ft()),Ip=mt("[Profile] Create Profile",ft()),Ap=mt("[Profile] Create Profile Success",ft()),Dp=mt("[Profile] Create Profile Failure",ft()),Fp=mt("[Profile] Delete Profile",ft()),Rp=mt("[Profile] Delete Profile Success"),Np=mt("[Profile] Delete Profile Failure",ft()),Lp=mt("[Profile] Update Preferences",ft()),Vp=mt("[Profile] Update Preferences Success",ft()),Bp=mt("[Profile] Update Preferences Failure",ft());var gr=mt("[Transactions] Load Transactions",ft()),jp=mt("[Transactions] Load Transactions Success",ft()),Up=mt("[Transactions] Load Transactions Failure",ft()),Sc=mt("[Transactions] Create Transaction",ft()),pw=mt("[Transactions] Create Transaction Success",ft()),zp=mt("[Transactions] Create Transaction Failure",ft()),Mc=mt("[Transactions] Update Transaction",ft()),fw=mt("[Transactions] Update Transaction Success",ft()),Hp=mt("[Transactions] Update Transaction Failure",ft()),Ld=mt("[Transactions] Delete Transaction",ft()),Gp=mt("[Transactions] Delete Transaction Success",ft()),$p=mt("[Transactions] Delete Transaction Failure",ft()),Wp=mt("[Transactions] Get Transaction",ft()),Yp=mt("[Transactions] Get Transaction Success",ft()),Ku=mt("[Transactions] Get Transaction Failure",ft()),gw=mt("[Transactions] Clear Transactions");var _w=function(e){let n=[],r=0;for(let t=0;t<e.length;t++){let i=e.charCodeAt(t);i<128?n[r++]=i:i<2048?(n[r++]=i>>6|192,n[r++]=i&63|128):(i&64512)===55296&&t+1<e.length&&(e.charCodeAt(t+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++t)&1023),n[r++]=i>>18|240,n[r++]=i>>12&63|128,n[r++]=i>>6&63|128,n[r++]=i&63|128):(n[r++]=i>>12|224,n[r++]=i>>6&63|128,n[r++]=i&63|128)}return n},r3=function(e){let n=[],r=0,t=0;for(;r<e.length;){let i=e[r++];if(i<128)n[t++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[r++];n[t++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[r++],o=e[r++],s=e[r++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;n[t++]=String.fromCharCode(55296+(d>>10)),n[t++]=String.fromCharCode(56320+(d&1023))}else{let a=e[r++],o=e[r++];n[t++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return n.join("")},a3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,n){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,t=[];for(let i=0;i<e.length;i+=3){let a=e[i],o=i+1<e.length,s=o?e[i+1]:0,d=i+2<e.length,m=d?e[i+2]:0,f=a>>2,_=(a&3)<<4|s>>4,v=(s&15)<<2|m>>6,w=m&63;d||(w=64,o||(v=64)),t.push(r[f],r[_],r[v],r[w])}return t.join("")},encodeString(e,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(e):this.encodeByteArray(_w(e),n)},decodeString(e,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(e):r3(this.decodeStringToByteArray(e,n))},decodeStringToByteArray(e,n){this.init_();let r=n?this.charToByteMapWebSafe_:this.charToByteMap_,t=[];for(let i=0;i<e.length;){let a=r[e.charAt(i++)],s=i<e.length?r[e.charAt(i)]:0;++i;let m=i<e.length?r[e.charAt(i)]:64;++i;let _=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||s==null||m==null||_==null)throw new L_;let v=a<<2|s>>4;if(t.push(v),m!==64){let w=s<<4&240|m>>2;if(t.push(w),_!==64){let C=m<<6&192|_;t.push(C)}}}return t},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},L_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},o3=function(e){let n=_w(e);return a3.encodeByteArray(n,!0)},V_=function(e){return o3(e).replace(/\./g,"")};function B_(){try{return typeof indexedDB=="object"}catch{return!1}}function xw(){return new Promise((e,n)=>{try{let r=!0,t="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(t);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(t),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;n(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){n(r)}})}var s3="FirebaseError",Fs=class e extends Error{constructor(n,r,t){super(r),this.code=n,this.customData=t,this.name=s3,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}},Qu=class{constructor(n,r,t){this.service=n,this.serviceName=r,this.errors=t}create(n,...r){let t=r[0]||{},i=`${this.service}/${n}`,a=this.errors[n],o=a?c3(a,t):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Fs(i,s,t)}};function c3(e,n){return e.replace(l3,(r,t)=>{let i=n[t];return i!=null?String(i):`<${t}?>`})}var l3=/\{\$([^}]+)}/g;var WZ=4*60*60*1e3;var kc=class{constructor(n,r,t){this.name=n,this.instanceFactory=r,this.type=t,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}};var d3=[],vi=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(vi||{}),u3={debug:vi.DEBUG,verbose:vi.VERBOSE,info:vi.INFO,warn:vi.WARN,error:vi.ERROR,silent:vi.SILENT},m3=vi.INFO,h3={[vi.DEBUG]:"log",[vi.VERBOSE]:"log",[vi.INFO]:"info",[vi.WARN]:"warn",[vi.ERROR]:"error"},p3=(e,n,...r)=>{if(n<e.logLevel)return;let t=new Date().toISOString(),i=h3[n];if(i)console[i](`[${t}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)},Bd=class{constructor(n){this.name=n,this._logLevel=m3,this._logHandler=p3,this._userLogHandler=null,d3.push(this)}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in vi))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?u3[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,vi.DEBUG,...n),this._logHandler(this,vi.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,vi.VERBOSE,...n),this._logHandler(this,vi.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,vi.INFO,...n),this._logHandler(this,vi.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,vi.WARN,...n),this._logHandler(this,vi.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,vi.ERROR,...n),this._logHandler(this,vi.ERROR,...n)}};var U_=class{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(g3(r)){let t=r.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(r=>r).join(" ")}};function g3(e){let n=e.getComponent();return(n==null?void 0:n.type)==="VERSION"}var z_="@firebase/app",vw="0.13.2";var Rs=new Bd("@firebase/app"),_3="@firebase/app-compat",x3="@firebase/analytics-compat",v3="@firebase/analytics",b3="@firebase/app-check-compat",y3="@firebase/app-check",C3="@firebase/auth",w3="@firebase/auth-compat",S3="@firebase/database",M3="@firebase/data-connect",k3="@firebase/database-compat",P3="@firebase/functions",E3="@firebase/functions-compat",T3="@firebase/installations",O3="@firebase/installations-compat",I3="@firebase/messaging",A3="@firebase/messaging-compat",D3="@firebase/performance",F3="@firebase/performance-compat",R3="@firebase/remote-config",N3="@firebase/remote-config-compat",L3="@firebase/storage",V3="@firebase/storage-compat",B3="@firebase/firestore",j3="@firebase/ai",U3="@firebase/firestore-compat",z3="firebase",H3="11.10.0";var G3={[z_]:"fire-core",[_3]:"fire-core-compat",[v3]:"fire-analytics",[x3]:"fire-analytics-compat",[y3]:"fire-app-check",[b3]:"fire-app-check-compat",[C3]:"fire-auth",[w3]:"fire-auth-compat",[S3]:"fire-rtdb",[M3]:"fire-data-connect",[k3]:"fire-rtdb-compat",[P3]:"fire-fn",[E3]:"fire-fn-compat",[T3]:"fire-iid",[O3]:"fire-iid-compat",[I3]:"fire-fcm",[A3]:"fire-fcm-compat",[D3]:"fire-perf",[F3]:"fire-perf-compat",[R3]:"fire-rc",[N3]:"fire-rc-compat",[L3]:"fire-gcs",[V3]:"fire-gcs-compat",[B3]:"fire-fst",[U3]:"fire-fst-compat",[j3]:"fire-vertex","fire-js":"fire-js",[z3]:"fire-js-all"};var $3=new Map,W3=new Map,bw=new Map;function yw(e,n){try{e.container.addComponent(n)}catch(r){Rs.debug(`Component ${n.name} failed to register with FirebaseApp ${e.name}`,r)}}function Xu(e){let n=e.name;if(bw.has(n))return Rs.debug(`There were multiple attempts to register component ${n}.`),!1;bw.set(n,e);for(let r of $3.values())yw(r,e);for(let r of W3.values())yw(r,e);return!0}function Mw(e){return e==null?!1:e.settings!==void 0}var Y3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$_=new Qu("app","Firebase",Y3);var kw=H3;function jd(e,n,r){var t;let i=(t=G3[e])!==null&&t!==void 0?t:e;r&&(i+=`-${r}`);let a=i.match(/\s|\//),o=n.match(/\s|\//);if(a||o){let s=[`Unable to register library "${i}" with version "${n}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Rs.warn(s.join(" "));return}Xu(new kc(`${i}-version`,()=>({library:i,version:n}),"VERSION"))}var q3="firebase-heartbeat-database",K3=1,Zu="firebase-heartbeat-store",j_=null;function Pw(){return j_||(j_=sl(q3,K3,{upgrade:(e,n)=>{switch(n){case 0:try{e.createObjectStore(Zu)}catch(r){console.warn(r)}}}}).catch(e=>{throw $_.create("idb-open",{originalErrorMessage:e.message})})),j_}function Q3(e){return ge(this,null,function*(){try{let r=(yield Pw()).transaction(Zu),t=yield r.objectStore(Zu).get(Ew(e));return yield r.done,t}catch(n){if(n instanceof Fs)Rs.warn(n.message);else{let r=$_.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Rs.warn(r.message)}}})}function Cw(e,n){return ge(this,null,function*(){try{let t=(yield Pw()).transaction(Zu,"readwrite");yield t.objectStore(Zu).put(n,Ew(e)),yield t.done}catch(r){if(r instanceof Fs)Rs.warn(r.message);else{let t=$_.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Rs.warn(t.message)}}})}function Ew(e){return`${e.name}!${e.options.appId}`}var X3=1024,Z3=30,H_=class{constructor(n){this.container=n,this._heartbeatsCache=null;let r=this.container.getProvider("app").getImmediate();this._storage=new G_(r),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}triggerHeartbeat(){return ge(this,null,function*(){var n,r;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ww();if(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Z3){let o=eA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Rs.warn(t)}})}getHeartbeatsHeader(){return ge(this,null,function*(){var n;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let r=ww(),{heartbeatsToSend:t,unsentEntries:i}=J3(this._heartbeatsCache.heartbeats),a=V_(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Rs.warn(r),""}})}};function ww(){return new Date().toISOString().substring(0,10)}function J3(e,n=X3){let r=[],t=e.slice();for(let i of e){let a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),Sw(r)>n){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Sw(r)>n){r.pop();break}t=t.slice(1)}return{heartbeatsToSend:r,unsentEntries:t}}var G_=class{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return ge(this,null,function*(){return B_()?xw().then(()=>!0).catch(()=>!1):!1})}read(){return ge(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield Q3(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(n){return ge(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Cw(this.app,{lastSentHeartbeatDate:(r=n.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return})}add(n){return ge(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Cw(this.app,{lastSentHeartbeatDate:(r=n.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...n.heartbeats]})}else return})}};function Sw(e){return V_(JSON.stringify({version:2,heartbeats:e})).length}function eA(e){if(e.length===0)return-1;let n=0,r=e[0].date;for(let t=1;t<e.length;t++)e[t].date<r&&(r=e[t].date,n=t);return n}function tA(e){Xu(new kc("platform-logger",n=>new U_(n),"PRIVATE")),Xu(new kc("heartbeat",n=>new H_(n),"PRIVATE")),jd(z_,vw,e),jd(z_,vw,"esm2017"),jd("fire-js","")}tA("");var Tw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ow={};var qp,Iw;(function(){var e;function n(S,E){function A(){}A.prototype=E.prototype,S.D=E.prototype,S.prototype=new A,S.prototype.constructor=S,S.C=function(R,j,U){for(var Y=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)Y[Ge-2]=arguments[Ge];return E.prototype[j].apply(R,Y)}}function r(){this.blockSize=-1}function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(t,r),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,A){A||(A=0);var R=Array(16);if(typeof E=="string")for(var j=0;16>j;++j)R[j]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(j=0;16>j;++j)R[j]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=S.g[0],A=S.g[1],j=S.g[2];var U=S.g[3],Y=E+(U^A&(j^U))+R[0]+3614090360&4294967295;E=A+(Y<<7&4294967295|Y>>>25),Y=U+(j^E&(A^j))+R[1]+3905402710&4294967295,U=E+(Y<<12&4294967295|Y>>>20),Y=j+(A^U&(E^A))+R[2]+606105819&4294967295,j=U+(Y<<17&4294967295|Y>>>15),Y=A+(E^j&(U^E))+R[3]+3250441966&4294967295,A=j+(Y<<22&4294967295|Y>>>10),Y=E+(U^A&(j^U))+R[4]+4118548399&4294967295,E=A+(Y<<7&4294967295|Y>>>25),Y=U+(j^E&(A^j))+R[5]+1200080426&4294967295,U=E+(Y<<12&4294967295|Y>>>20),Y=j+(A^U&(E^A))+R[6]+2821735955&4294967295,j=U+(Y<<17&4294967295|Y>>>15),Y=A+(E^j&(U^E))+R[7]+4249261313&4294967295,A=j+(Y<<22&4294967295|Y>>>10),Y=E+(U^A&(j^U))+R[8]+1770035416&4294967295,E=A+(Y<<7&4294967295|Y>>>25),Y=U+(j^E&(A^j))+R[9]+2336552879&4294967295,U=E+(Y<<12&4294967295|Y>>>20),Y=j+(A^U&(E^A))+R[10]+4294925233&4294967295,j=U+(Y<<17&4294967295|Y>>>15),Y=A+(E^j&(U^E))+R[11]+2304563134&4294967295,A=j+(Y<<22&4294967295|Y>>>10),Y=E+(U^A&(j^U))+R[12]+1804603682&4294967295,E=A+(Y<<7&4294967295|Y>>>25),Y=U+(j^E&(A^j))+R[13]+4254626195&4294967295,U=E+(Y<<12&4294967295|Y>>>20),Y=j+(A^U&(E^A))+R[14]+2792965006&4294967295,j=U+(Y<<17&4294967295|Y>>>15),Y=A+(E^j&(U^E))+R[15]+1236535329&4294967295,A=j+(Y<<22&4294967295|Y>>>10),Y=E+(j^U&(A^j))+R[1]+4129170786&4294967295,E=A+(Y<<5&4294967295|Y>>>27),Y=U+(A^j&(E^A))+R[6]+3225465664&4294967295,U=E+(Y<<9&4294967295|Y>>>23),Y=j+(E^A&(U^E))+R[11]+643717713&4294967295,j=U+(Y<<14&4294967295|Y>>>18),Y=A+(U^E&(j^U))+R[0]+3921069994&4294967295,A=j+(Y<<20&4294967295|Y>>>12),Y=E+(j^U&(A^j))+R[5]+3593408605&4294967295,E=A+(Y<<5&4294967295|Y>>>27),Y=U+(A^j&(E^A))+R[10]+38016083&4294967295,U=E+(Y<<9&4294967295|Y>>>23),Y=j+(E^A&(U^E))+R[15]+3634488961&4294967295,j=U+(Y<<14&4294967295|Y>>>18),Y=A+(U^E&(j^U))+R[4]+3889429448&4294967295,A=j+(Y<<20&4294967295|Y>>>12),Y=E+(j^U&(A^j))+R[9]+568446438&4294967295,E=A+(Y<<5&4294967295|Y>>>27),Y=U+(A^j&(E^A))+R[14]+3275163606&4294967295,U=E+(Y<<9&4294967295|Y>>>23),Y=j+(E^A&(U^E))+R[3]+4107603335&4294967295,j=U+(Y<<14&4294967295|Y>>>18),Y=A+(U^E&(j^U))+R[8]+1163531501&4294967295,A=j+(Y<<20&4294967295|Y>>>12),Y=E+(j^U&(A^j))+R[13]+2850285829&4294967295,E=A+(Y<<5&4294967295|Y>>>27),Y=U+(A^j&(E^A))+R[2]+4243563512&4294967295,U=E+(Y<<9&4294967295|Y>>>23),Y=j+(E^A&(U^E))+R[7]+1735328473&4294967295,j=U+(Y<<14&4294967295|Y>>>18),Y=A+(U^E&(j^U))+R[12]+2368359562&4294967295,A=j+(Y<<20&4294967295|Y>>>12),Y=E+(A^j^U)+R[5]+4294588738&4294967295,E=A+(Y<<4&4294967295|Y>>>28),Y=U+(E^A^j)+R[8]+2272392833&4294967295,U=E+(Y<<11&4294967295|Y>>>21),Y=j+(U^E^A)+R[11]+1839030562&4294967295,j=U+(Y<<16&4294967295|Y>>>16),Y=A+(j^U^E)+R[14]+4259657740&4294967295,A=j+(Y<<23&4294967295|Y>>>9),Y=E+(A^j^U)+R[1]+2763975236&4294967295,E=A+(Y<<4&4294967295|Y>>>28),Y=U+(E^A^j)+R[4]+1272893353&4294967295,U=E+(Y<<11&4294967295|Y>>>21),Y=j+(U^E^A)+R[7]+4139469664&4294967295,j=U+(Y<<16&4294967295|Y>>>16),Y=A+(j^U^E)+R[10]+3200236656&4294967295,A=j+(Y<<23&4294967295|Y>>>9),Y=E+(A^j^U)+R[13]+681279174&4294967295,E=A+(Y<<4&4294967295|Y>>>28),Y=U+(E^A^j)+R[0]+3936430074&4294967295,U=E+(Y<<11&4294967295|Y>>>21),Y=j+(U^E^A)+R[3]+3572445317&4294967295,j=U+(Y<<16&4294967295|Y>>>16),Y=A+(j^U^E)+R[6]+76029189&4294967295,A=j+(Y<<23&4294967295|Y>>>9),Y=E+(A^j^U)+R[9]+3654602809&4294967295,E=A+(Y<<4&4294967295|Y>>>28),Y=U+(E^A^j)+R[12]+3873151461&4294967295,U=E+(Y<<11&4294967295|Y>>>21),Y=j+(U^E^A)+R[15]+530742520&4294967295,j=U+(Y<<16&4294967295|Y>>>16),Y=A+(j^U^E)+R[2]+3299628645&4294967295,A=j+(Y<<23&4294967295|Y>>>9),Y=E+(j^(A|~U))+R[0]+4096336452&4294967295,E=A+(Y<<6&4294967295|Y>>>26),Y=U+(A^(E|~j))+R[7]+1126891415&4294967295,U=E+(Y<<10&4294967295|Y>>>22),Y=j+(E^(U|~A))+R[14]+2878612391&4294967295,j=U+(Y<<15&4294967295|Y>>>17),Y=A+(U^(j|~E))+R[5]+4237533241&4294967295,A=j+(Y<<21&4294967295|Y>>>11),Y=E+(j^(A|~U))+R[12]+1700485571&4294967295,E=A+(Y<<6&4294967295|Y>>>26),Y=U+(A^(E|~j))+R[3]+2399980690&4294967295,U=E+(Y<<10&4294967295|Y>>>22),Y=j+(E^(U|~A))+R[10]+4293915773&4294967295,j=U+(Y<<15&4294967295|Y>>>17),Y=A+(U^(j|~E))+R[1]+2240044497&4294967295,A=j+(Y<<21&4294967295|Y>>>11),Y=E+(j^(A|~U))+R[8]+1873313359&4294967295,E=A+(Y<<6&4294967295|Y>>>26),Y=U+(A^(E|~j))+R[15]+4264355552&4294967295,U=E+(Y<<10&4294967295|Y>>>22),Y=j+(E^(U|~A))+R[6]+2734768916&4294967295,j=U+(Y<<15&4294967295|Y>>>17),Y=A+(U^(j|~E))+R[13]+1309151649&4294967295,A=j+(Y<<21&4294967295|Y>>>11),Y=E+(j^(A|~U))+R[4]+4149444226&4294967295,E=A+(Y<<6&4294967295|Y>>>26),Y=U+(A^(E|~j))+R[11]+3174756917&4294967295,U=E+(Y<<10&4294967295|Y>>>22),Y=j+(E^(U|~A))+R[2]+718787259&4294967295,j=U+(Y<<15&4294967295|Y>>>17),Y=A+(U^(j|~E))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(j+(Y<<21&4294967295|Y>>>11))&4294967295,S.g[2]=S.g[2]+j&4294967295,S.g[3]=S.g[3]+U&4294967295}t.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var A=E-this.blockSize,R=this.B,j=this.h,U=0;U<E;){if(j==0)for(;U<=A;)i(this,S,U),U+=this.blockSize;if(typeof S=="string"){for(;U<E;)if(R[j++]=S.charCodeAt(U++),j==this.blockSize){i(this,R),j=0;break}}else for(;U<E;)if(R[j++]=S[U++],j==this.blockSize){i(this,R),j=0;break}}this.h=j,this.o+=E},t.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var A=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=A&255,A/=256;for(this.u(S),S=Array(16),E=A=0;4>E;++E)for(var R=0;32>R;R+=8)S[A++]=this.g[E]>>>R&255;return S};function a(S,E){var A=s;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=E(S)}function o(S,E){this.h=E;for(var A=[],R=!0,j=S.length-1;0<=j;j--){var U=S[j]|0;R&&U==E||(A[j]=U,R=!1)}this.g=A}var s={};function d(S){return-128<=S&&128>S?a(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function m(S){if(isNaN(S)||!isFinite(S))return _;if(0>S)return O(m(-S));for(var E=[],A=1,R=0;S>=A;R++)E[R]=S/A|0,A*=4294967296;return new o(E,0)}function f(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return O(f(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=m(Math.pow(E,8)),R=_,j=0;j<S.length;j+=8){var U=Math.min(8,S.length-j),Y=parseInt(S.substring(j,j+U),E);8>U?(U=m(Math.pow(E,U)),R=R.j(U).add(m(Y))):(R=R.j(A),R=R.add(m(Y)))}return R}var _=d(0),v=d(1),w=d(16777216);e=o.prototype,e.m=function(){if(b(this))return-O(this).m();for(var S=0,E=1,A=0;A<this.g.length;A++){var R=this.i(A);S+=(0<=R?R:4294967296+R)*E,E*=4294967296}return S},e.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C(this))return"0";if(b(this))return"-"+O(this).toString(S);for(var E=m(Math.pow(S,6)),A=this,R="";;){var j=re(A,E).g;A=L(A,j.j(E));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(S);if(A=j,C(A))return U+R;for(;6>U.length;)U="0"+U;R=U+R}},e.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function C(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function b(S){return S.h==-1}e.l=function(S){return S=L(this,S),b(S)?-1:C(S)?0:1};function O(S){for(var E=S.g.length,A=[],R=0;R<E;R++)A[R]=~S.g[R];return new o(A,~S.h).add(v)}e.abs=function(){return b(this)?O(this):this},e.add=function(S){for(var E=Math.max(this.g.length,S.g.length),A=[],R=0,j=0;j<=E;j++){var U=R+(this.i(j)&65535)+(S.i(j)&65535),Y=(U>>>16)+(this.i(j)>>>16)+(S.i(j)>>>16);R=Y>>>16,U&=65535,Y&=65535,A[j]=Y<<16|U}return new o(A,A[A.length-1]&-2147483648?-1:0)};function L(S,E){return S.add(O(E))}e.j=function(S){if(C(this)||C(S))return _;if(b(this))return b(S)?O(this).j(O(S)):O(O(this).j(S));if(b(S))return O(this.j(O(S)));if(0>this.l(w)&&0>S.l(w))return m(this.m()*S.m());for(var E=this.g.length+S.g.length,A=[],R=0;R<2*E;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var j=0;j<S.g.length;j++){var U=this.i(R)>>>16,Y=this.i(R)&65535,Ge=S.i(j)>>>16,ke=S.i(j)&65535;A[2*R+2*j]+=Y*ke,N(A,2*R+2*j),A[2*R+2*j+1]+=U*ke,N(A,2*R+2*j+1),A[2*R+2*j+1]+=Y*Ge,N(A,2*R+2*j+1),A[2*R+2*j+2]+=U*Ge,N(A,2*R+2*j+2)}for(R=0;R<E;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=E;R<2*E;R++)A[R]=0;return new o(A,0)};function N(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function V(S,E){this.g=S,this.h=E}function re(S,E){if(C(E))throw Error("division by zero");if(C(S))return new V(_,_);if(b(S))return E=re(O(S),E),new V(O(E.g),O(E.h));if(b(E))return E=re(S,O(E)),new V(O(E.g),E.h);if(30<S.g.length){if(b(S)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var A=v,R=E;0>=R.l(S);)A=oe(A),R=oe(R);var j=F(A,1),U=F(R,1);for(R=F(R,2),A=F(A,2);!C(R);){var Y=U.add(R);0>=Y.l(S)&&(j=j.add(A),U=Y),R=F(R,1),A=F(A,1)}return E=L(S,j.j(E)),new V(j,E)}for(j=_;0<=S.l(E);){for(A=Math.max(1,Math.floor(S.m()/E.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),U=m(A),Y=U.j(E);b(Y)||0<Y.l(S);)A-=R,U=m(A),Y=U.j(E);C(U)&&(U=v),j=j.add(U),S=L(S,Y)}return new V(j,S)}e.A=function(S){return re(this,S).h},e.and=function(S){for(var E=Math.max(this.g.length,S.g.length),A=[],R=0;R<E;R++)A[R]=this.i(R)&S.i(R);return new o(A,this.h&S.h)},e.or=function(S){for(var E=Math.max(this.g.length,S.g.length),A=[],R=0;R<E;R++)A[R]=this.i(R)|S.i(R);return new o(A,this.h|S.h)},e.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),A=[],R=0;R<E;R++)A[R]=this.i(R)^S.i(R);return new o(A,this.h^S.h)};function oe(S){for(var E=S.g.length+1,A=[],R=0;R<E;R++)A[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(A,S.h)}function F(S,E){var A=E>>5;E%=32;for(var R=S.g.length-A,j=[],U=0;U<R;U++)j[U]=0<E?S.i(U+A)>>>E|S.i(U+A+1)<<32-E:S.i(U+A);return new o(j,S.h)}t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Iw=Ow.Md5=t,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=m,o.fromString=f,qp=Ow.Integer=o}).apply(typeof Tw<"u"?Tw:typeof self<"u"?self:typeof window<"u"?window:{});var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ns={};var Aw,nA,Dw,Fw,Rw,Nw,Lw,Vw,Bw;(function(){var e,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,y,I){return p==Array.prototype||p==Object.prototype||(p[y]=I.value),p};function r(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kp=="object"&&Kp];for(var y=0;y<p.length;++y){var I=p[y];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var t=r(this);function i(p,y){if(y)e:{var I=t;p=p.split(".");for(var W=0;W<p.length-1;W++){var pe=p[W];if(!(pe in I))break e;I=I[pe]}p=p[p.length-1],W=I[p],y=y(W),y!=W&&y!=null&&n(I,p,{configurable:!0,writable:!0,value:y})}}function a(p,y){p instanceof String&&(p+="");var I=0,W=!1,pe={next:function(){if(!W&&I<p.length){var Se=I++;return{value:y(Se,p[Se]),done:!1}}return W=!0,{done:!0,value:void 0}}};return pe[Symbol.iterator]=function(){return pe},pe}i("Array.prototype.values",function(p){return p||function(){return a(this,function(y,I){return I})}});var o=o||{},s=this||self;function d(p){var y=typeof p;return y=y!="object"?y:p?Array.isArray(p)?"array":y:"null",y=="array"||y=="object"&&typeof p.length=="number"}function m(p){var y=typeof p;return y=="object"&&p!=null||y=="function"}function f(p,y,I){return p.call.apply(p.bind,arguments)}function _(p,y,I){if(!p)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pe,W),p.apply(y,pe)}}return function(){return p.apply(y,arguments)}}function v(p,y,I){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:_,v.apply(null,arguments)}function w(p,y){var I=Array.prototype.slice.call(arguments,1);return function(){var W=I.slice();return W.push.apply(W,arguments),p.apply(this,W)}}function C(p,y){function I(){}I.prototype=y.prototype,p.aa=y.prototype,p.prototype=new I,p.prototype.constructor=p,p.Qb=function(W,pe,Se){for(var Je=Array(arguments.length-2),ei=2;ei<arguments.length;ei++)Je[ei-2]=arguments[ei];return y.prototype[pe].apply(W,Je)}}function b(p){let y=p.length;if(0<y){let I=Array(y);for(let W=0;W<y;W++)I[W]=p[W];return I}return[]}function O(p,y){for(let I=1;I<arguments.length;I++){let W=arguments[I];if(d(W)){let pe=p.length||0,Se=W.length||0;p.length=pe+Se;for(let Je=0;Je<Se;Je++)p[pe+Je]=W[Je]}else p.push(W)}}class L{constructor(y,I){this.i=y,this.j=I,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function N(p){return/^[\s\xa0]*$/.test(p)}function V(){var p=s.navigator;return p&&(p=p.userAgent)?p:""}function re(p){return re[" "](p),p}re[" "]=function(){};var oe=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function F(p,y,I){for(let W in p)y.call(I,p[W],W,p)}function S(p,y){for(let I in p)y.call(void 0,p[I],I,p)}function E(p){let y={};for(let I in p)y[I]=p[I];return y}let A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(p,y){let I,W;for(let pe=1;pe<arguments.length;pe++){W=arguments[pe];for(I in W)p[I]=W[I];for(let Se=0;Se<A.length;Se++)I=A[Se],Object.prototype.hasOwnProperty.call(W,I)&&(p[I]=W[I])}}function j(p){var y=1;p=p.split(":");let I=[];for(;0<y&&p.length;)I.push(p.shift()),y--;return p.length&&I.push(p.join(":")),I}function U(p){s.setTimeout(()=>{throw p},0)}function Y(){var p=Ie;let y=null;return p.g&&(y=p.g,p.g=p.g.next,p.g||(p.h=null),y.next=null),y}class Ge{constructor(){this.h=this.g=null}add(y,I){let W=ke.get();W.set(y,I),this.h?this.h.next=W:this.g=W,this.h=W}}var ke=new L(()=>new Xe,p=>p.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(y,I){this.h=y,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let De,st=!1,Ie=new Ge,Ve=()=>{let p=s.Promise.resolve(void 0);De=()=>{p.then(me)}};var me=()=>{for(var p;p=Y();){try{p.h.call(p.g)}catch(I){U(I)}var y=ke;y.j(p),100>y.h&&(y.h++,p.next=y.g,y.g=p)}st=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(p,y){this.type=p,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,y=Object.defineProperty({},"passive",{get:function(){p=!0}});try{let I=()=>{};s.addEventListener("test",I,y),s.removeEventListener("test",I,y)}catch{}return p}();function ce(p,y){if(ae.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var I=this.type=p.type,W=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=y,y=p.relatedTarget){if(oe){e:{try{re(y.nodeName);var pe=!0;break e}catch{}pe=!1}pe||(y=null)}}else I=="mouseover"?y=p.fromElement:I=="mouseout"&&(y=p.toElement);this.relatedTarget=y,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:fe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ce.aa.h.call(this)}}C(ce,ae);var fe={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),Re=0;function Te(p,y,I,W,pe){this.listener=p,this.proxy=null,this.src=y,this.type=I,this.capture=!!W,this.ha=pe,this.key=++Re,this.da=this.fa=!1}function we(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function dt(p){this.src=p,this.g={},this.h=0}dt.prototype.add=function(p,y,I,W,pe){var Se=p.toString();p=this.g[Se],p||(p=this.g[Se]=[],this.h++);var Je=pt(p,y,W,pe);return-1<Je?(y=p[Je],I||(y.fa=!1)):(y=new Te(y,this.src,Se,!!W,pe),y.fa=I,p.push(y)),y};function ee(p,y){var I=y.type;if(I in p.g){var W=p.g[I],pe=Array.prototype.indexOf.call(W,y,void 0),Se;(Se=0<=pe)&&Array.prototype.splice.call(W,pe,1),Se&&(we(y),p.g[I].length==0&&(delete p.g[I],p.h--))}}function pt(p,y,I,W){for(var pe=0;pe<p.length;++pe){var Se=p[pe];if(!Se.da&&Se.listener==y&&Se.capture==!!I&&Se.ha==W)return pe}return-1}var tt="closure_lm_"+(1e6*Math.random()|0),Ot={};function rt(p,y,I,W,pe){if(W&&W.once)return kn(p,y,I,W,pe);if(Array.isArray(y)){for(var Se=0;Se<y.length;Se++)rt(p,y[Se],I,W,pe);return null}return I=bi(I),p&&p[Ae]?p.K(y,I,m(W)?!!W.capture:!!W,pe):Ue(p,y,I,!1,W,pe)}function Ue(p,y,I,W,pe,Se){if(!y)throw Error("Invalid event type");var Je=m(pe)?!!pe.capture:!!pe,ei=Rt(p);if(ei||(p[tt]=ei=new dt(p)),I=ei.add(y,I,W,Je,Se),I.proxy)return I;if(W=$t(),I.proxy=W,W.src=p,W.listener=I,p.addEventListener)se||(pe=Je),pe===void 0&&(pe=!1),p.addEventListener(y.toString(),W,pe);else if(p.attachEvent)p.attachEvent(fi(y.toString()),W);else if(p.addListener&&p.removeListener)p.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return I}function $t(){function p(I){return y.call(p.src,p.listener,I)}let y=Ti;return p}function kn(p,y,I,W,pe){if(Array.isArray(y)){for(var Se=0;Se<y.length;Se++)kn(p,y[Se],I,W,pe);return null}return I=bi(I),p&&p[Ae]?p.L(y,I,m(W)?!!W.capture:!!W,pe):Ue(p,y,I,!0,W,pe)}function ui(p,y,I,W,pe){if(Array.isArray(y))for(var Se=0;Se<y.length;Se++)ui(p,y[Se],I,W,pe);else W=m(W)?!!W.capture:!!W,I=bi(I),p&&p[Ae]?(p=p.i,y=String(y).toString(),y in p.g&&(Se=p.g[y],I=pt(Se,I,W,pe),-1<I&&(we(Se[I]),Array.prototype.splice.call(Se,I,1),Se.length==0&&(delete p.g[y],p.h--)))):p&&(p=Rt(p))&&(y=p.g[y.toString()],p=-1,y&&(p=pt(y,I,W,pe)),(I=-1<p?y[p]:null)&&Xi(I))}function Xi(p){if(typeof p!="number"&&p&&!p.da){var y=p.src;if(y&&y[Ae])ee(y.i,p);else{var I=p.type,W=p.proxy;y.removeEventListener?y.removeEventListener(I,W,p.capture):y.detachEvent?y.detachEvent(fi(I),W):y.addListener&&y.removeListener&&y.removeListener(W),(I=Rt(y))?(ee(I,p),I.h==0&&(I.src=null,y[tt]=null)):we(p)}}}function fi(p){return p in Ot?Ot[p]:Ot[p]="on"+p}function Ti(p,y){if(p.da)p=!0;else{y=new ce(y,this);var I=p.listener,W=p.ha||p.src;p.fa&&Xi(p),p=I.call(W,y)}return p}function Rt(p){return p=p[tt],p instanceof dt?p:null}var $n="__closure_events_fn_"+(1e9*Math.random()>>>0);function bi(p){return typeof p=="function"?p:(p[$n]||(p[$n]=function(y){return p.handleEvent(y)}),p[$n])}function Wn(){te.call(this),this.i=new dt(this),this.M=this,this.F=null}C(Wn,te),Wn.prototype[Ae]=!0,Wn.prototype.removeEventListener=function(p,y,I,W){ui(this,p,y,I,W)};function vt(p,y){var I,W=p.F;if(W)for(I=[];W;W=W.F)I.push(W);if(p=p.M,W=y.type||y,typeof y=="string")y=new ae(y,p);else if(y instanceof ae)y.target=y.target||p;else{var pe=y;y=new ae(W,p),R(y,pe)}if(pe=!0,I)for(var Se=I.length-1;0<=Se;Se--){var Je=y.g=I[Se];pe=Ci(Je,W,!0,y)&&pe}if(Je=y.g=p,pe=Ci(Je,W,!0,y)&&pe,pe=Ci(Je,W,!1,y)&&pe,I)for(Se=0;Se<I.length;Se++)Je=y.g=I[Se],pe=Ci(Je,W,!1,y)&&pe}Wn.prototype.N=function(){if(Wn.aa.N.call(this),this.i){var p=this.i,y;for(y in p.g){for(var I=p.g[y],W=0;W<I.length;W++)we(I[W]);delete p.g[y],p.h--}}this.F=null},Wn.prototype.K=function(p,y,I,W){return this.i.add(String(p),y,!1,I,W)},Wn.prototype.L=function(p,y,I,W){return this.i.add(String(p),y,!0,I,W)};function Ci(p,y,I,W){if(y=p.i.g[String(y)],!y)return!0;y=y.concat();for(var pe=!0,Se=0;Se<y.length;++Se){var Je=y[Se];if(Je&&!Je.da&&Je.capture==I){var ei=Je.listener,hr=Je.ha||Je.src;Je.fa&&ee(p.i,Je),pe=ei.call(hr,W)!==!1&&pe}}return pe&&!W.defaultPrevented}function wt(p,y,I){if(typeof p=="function")I&&(p=v(p,I));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:s.setTimeout(p,y||0)}function Pn(p){p.g=wt(()=>{p.g=null,p.i&&(p.i=!1,Pn(p))},p.l);let y=p.h;p.h=null,p.m.apply(null,y)}class Zi extends te{constructor(y,I){super(),this.m=y,this.l=I,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jn(p){te.call(this),this.h=p,this.g={}}C(Jn,te);var Dr=[];function Ho(p){F(p.g,function(y,I){this.g.hasOwnProperty(I)&&Xi(y)},p),p.g={}}Jn.prototype.N=function(){Jn.aa.N.call(this),Ho(this)},Jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qc=s.JSON.stringify,qs=s.JSON.parse,Gl=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function Ga(){}Ga.prototype.h=null;function $a(p){return p.h||(p.h=p.i())}function Ks(){}var Wa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nt(){ae.call(this,"d")}C(nt,ae);function Kc(){ae.call(this,"c")}C(Kc,ae);var So={},xa=null;function mr(){return xa=xa||new Wn}So.La="serverreachability";function sn(p){ae.call(this,So.La,p)}C(sn,ae);function Mo(p){let y=mr();vt(y,new sn(y))}So.STAT_EVENT="statevent";function Nn(p,y){ae.call(this,So.STAT_EVENT,p),this.stat=y}C(Nn,ae);function Ni(p){let y=mr();vt(y,new Nn(y,p))}So.Ma="timingevent";function Qs(p,y){ae.call(this,So.Ma,p),this.size=y}C(Qs,ae);function Ya(p,y){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},y)}function Oi(){this.g=!0}Oi.prototype.xa=function(){this.g=!1};function Ia(p,y,I,W,pe,Se){p.info(function(){if(p.g)if(Se)for(var Je="",ei=Se.split("&"),hr=0;hr<ei.length;hr++){var En=ei[hr].split("=");if(1<En.length){var nn=En[0];En=En[1];var br=nn.split("_");Je=2<=br.length&&br[1]=="type"?Je+(nn+"="+En+"&"):Je+(nn+"=redacted&")}}else Je=null;else Je=Se;return"XMLHTTP REQ ("+W+") [attempt "+pe+"]: "+y+`
`+I+`
`+Je})}function B(p,y,I,W,pe,Se,Je){p.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+pe+"]: "+y+`
`+I+`
`+Se+" "+Je})}function Z(p,y,I,W){p.info(function(){return"XMLHTTP TEXT ("+y+"): "+X(p,I)+(W?" "+W:"")})}function Q(p,y){p.info(function(){return"TIMEOUT: "+y})}Oi.prototype.info=function(){};function X(p,y){if(!p.g)return y;if(!y)return null;try{var I=JSON.parse(y);if(I){for(p=0;p<I.length;p++)if(Array.isArray(I[p])){var W=I[p];if(!(2>W.length)){var pe=W[1];if(Array.isArray(pe)&&!(1>pe.length)){var Se=pe[0];if(Se!="noop"&&Se!="stop"&&Se!="close")for(var Je=1;Je<pe.length;Je++)pe[Je]=""}}}}return qc(I)}catch{return y}}var J={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ie={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ve;function Me(){}C(Me,Ga),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},ve=new Me;function _e(p,y,I,W){this.j=p,this.i=y,this.l=I,this.R=W||1,this.U=new Jn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new be}function be(){this.i=null,this.g="",this.h=!1}var ye={},ze={};function qe(p,y,I){p.L=1,p.v=Wl(Qa(y)),p.m=I,p.P=!0,lt(p,null)}function lt(p,y){p.F=Date.now(),ct(p),p.A=Qa(p.v);var I=p.A,W=p.R;Array.isArray(W)||(W=[String(W)]),x0(I.i,"t",W),p.C=0,I=p.j.J,p.h=new be,p.g=D0(p.j,I?y:null,!p.m),0<p.O&&(p.M=new Zi(v(p.Y,p,p.g),p.O)),y=p.U,I=p.g,W=p.ca;var pe="readystatechange";Array.isArray(pe)||(pe&&(Dr[0]=pe.toString()),pe=Dr);for(var Se=0;Se<pe.length;Se++){var Je=rt(I,pe[Se],W||y.handleEvent,!1,y.h||y);if(!Je)break;y.g[Je.key]=Je}y=p.H?E(p.H):{},p.m?(p.u||(p.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,y)):(p.u="GET",p.g.ea(p.A,p.u,null,y)),Mo(),Ia(p.i,p.u,p.A,p.l,p.R,p.m)}_e.prototype.ca=function(p){p=p.target;let y=this.M;y&&la(p)==3?y.j():this.Y(p)},_e.prototype.Y=function(p){try{if(p==this.g)e:{let br=la(this.g);var y=this.g.Ba();let ic=this.g.Z();if(!(3>br)&&(br!=3||this.g&&(this.h.h||this.g.oa()||w0(this.g)))){this.J||br!=4||y==7||(y==8||0>=ic?Mo(3):Mo(2)),nr(this);var I=this.g.Z();this.X=I;t:if(Ke(this)){var W=w0(this.g);p="";var pe=W.length,Se=la(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ii(this),ai(this);var Je="";break t}this.h.i=new s.TextDecoder}for(y=0;y<pe;y++)this.h.h=!0,p+=this.h.i.decode(W[y],{stream:!(Se&&y==pe-1)});W.length=0,this.h.g+=p,this.C=0,Je=this.h.g}else Je=this.g.oa();if(this.o=I==200,B(this.i,this.u,this.A,this.l,this.R,br,I),this.o){if(this.T&&!this.K){t:{if(this.g){var ei,hr=this.g;if((ei=hr.g?hr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(ei)){var En=ei;break t}}En=null}if(I=En)Z(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ko(this,I);else{this.o=!1,this.s=3,Ni(12),Ii(this),ai(this);break e}}if(this.P){I=!0;let ya;for(;!this.J&&this.C<Je.length;)if(ya=et(this,Je),ya==ze){br==4&&(this.s=4,Ni(14),I=!1),Z(this.i,this.l,null,"[Incomplete Response]");break}else if(ya==ye){this.s=4,Ni(15),Z(this.i,this.l,Je,"[Invalid Chunk]"),I=!1;break}else Z(this.i,this.l,ya,null),ko(this,ya);if(Ke(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),br!=4||Je.length!=0||this.h.h||(this.s=1,Ni(16),I=!1),this.o=this.o&&I,!I)Z(this.i,this.l,Je,"[Invalid Chunked Response]"),Ii(this),ai(this);else if(0<Je.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+Je.length),tc(nn),nn.M=!0,Ni(11))}}else Z(this.i,this.l,Je,null),ko(this,Je);br==4&&Ii(this),this.o&&!this.J&&(br==4?T0(this.j,this):(this.o=!1,ct(this)))}else S0(this.g),I==400&&0<Je.indexOf("Unknown SID")?(this.s=3,Ni(12)):(this.s=0,Ni(13)),Ii(this),ai(this)}}}catch{}finally{}};function Ke(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function et(p,y){var I=p.C,W=y.indexOf(`
`,I);return W==-1?ze:(I=Number(y.substring(I,W)),isNaN(I)?ye:(W+=1,W+I>y.length?ze:(y=y.slice(W,W+I),p.C=W+I,y)))}_e.prototype.cancel=function(){this.J=!0,Ii(this)};function ct(p){p.S=Date.now()+p.I,Un(p,p.I)}function Un(p,y){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Ya(v(p.ba,p),y)}function nr(p){p.B&&(s.clearTimeout(p.B),p.B=null)}_e.prototype.ba=function(){this.B=null;let p=Date.now();0<=p-this.S?(Q(this.i,this.A),this.L!=2&&(Mo(),Ni(17)),Ii(this),this.s=2,ai(this)):Un(this,this.S-p)};function ai(p){p.j.G==0||p.J||T0(p.j,p)}function Ii(p){nr(p);var y=p.M;y&&typeof y.ma=="function"&&y.ma(),p.M=null,Ho(p.U),p.g&&(y=p.g,p.g=null,y.abort(),y.ma())}function ko(p,y){try{var I=p.j;if(I.G!=0&&(I.g==p||Au(I.h,p))){if(!p.K&&Au(I.h,p)&&I.G==3){try{var W=I.Da.g.parse(y)}catch{W=null}if(Array.isArray(W)&&W.length==3){var pe=W;if(pe[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<p.F)Zl(I),Aa(I);else break e;Lu(I),Ni(18)}}else I.za=pe[1],0<I.za-I.T&&37500>pe[2]&&I.F&&I.v==0&&!I.C&&(I.C=Ya(v(I.Za,I),6e3));if(1>=va(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Yo(I,11)}else if((p.K||I.g==p)&&Zl(I),!N(y))for(pe=I.Da.g.parse(y),y=0;y<pe.length;y++){let En=pe[y];if(I.T=En[0],En=En[1],I.G==2)if(En[0]=="c"){I.K=En[1],I.ia=En[2];let nn=En[3];nn!=null&&(I.la=nn,I.j.info("VER="+I.la));let br=En[4];br!=null&&(I.Aa=br,I.j.info("SVER="+I.Aa));let ic=En[5];ic!=null&&typeof ic=="number"&&0<ic&&(W=1.5*ic,I.L=W,I.j.info("backChannelRequestTimeoutMs_="+W)),W=I;let ya=p.g;if(ya){let ed=ya.g?ya.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ed){var Se=W.h;Se.g||ed.indexOf("spdy")==-1&&ed.indexOf("quic")==-1&&ed.indexOf("h2")==-1||(Se.j=Se.l,Se.g=new Set,Se.h&&($l(Se,Se.h),Se.h=null))}if(W.D){let Vu=ya.g?ya.g.getResponseHeader("X-HTTP-Session-Id"):null;Vu&&(W.ya=Vu,gi(W.I,W.D,Vu))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-p.F,I.j.info("Handshake RTT: "+I.R+"ms")),W=I;var Je=p;if(W.qa=A0(W,W.J?W.ia:null,W.W),Je.K){Du(W.h,Je);var ei=Je,hr=W.L;hr&&(ei.I=hr),ei.B&&(nr(ei),ct(ei)),W.g=Je}else E0(W);0<I.i.length&&Ql(I)}else En[0]!="stop"&&En[0]!="close"||Yo(I,7);else I.G==3&&(En[0]=="stop"||En[0]=="close"?En[0]=="stop"?Yo(I,7):ec(I):En[0]!="noop"&&I.l&&I.l.ta(En),I.v=0)}}Mo(4)}catch{}}var ps=class{constructor(p,y){this.g=p,this.map=y}};function qa(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xs(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function va(p){return p.h?1:p.g?p.g.size:0}function Au(p,y){return p.h?p.h==y:p.g?p.g.has(y):!1}function $l(p,y){p.g?p.g.add(y):p.h=y}function Du(p,y){p.h&&p.h==y?p.h=null:p.g&&p.g.has(y)&&p.g.delete(y)}qa.prototype.cancel=function(){if(this.i=u0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let p of this.g.values())p.cancel();this.g.clear()}};function u0(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let y=p.i;for(let I of p.g.values())y=y.concat(I.D);return y}return b(p.i)}function $g(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var y=[],I=p.length,W=0;W<I;W++)y.push(p[W]);return y}y=[],I=0;for(W in p)y[I++]=p[W];return y}function Wg(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var y=[];p=p.length;for(var I=0;I<p;I++)y.push(I);return y}y=[],I=0;for(let W in p)y[I++]=W;return y}}}function Fu(p,y){if(p.forEach&&typeof p.forEach=="function")p.forEach(y,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,y,void 0);else for(var I=Wg(p),W=$g(p),pe=W.length,Se=0;Se<pe;Se++)y.call(void 0,W[Se],I&&I[Se],p)}var m0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qc(p,y){if(p){p=p.split("&");for(var I=0;I<p.length;I++){var W=p[I].indexOf("="),pe=null;if(0<=W){var Se=p[I].substring(0,W);pe=p[I].substring(W+1)}else Se=p[I];y(Se,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function Ka(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ka){this.h=p.h,Go(this,p.j),this.o=p.o,this.g=p.g,ba(this,p.s),this.l=p.l;var y=p.i,I=new Jc;I.i=y.i,y.g&&(I.g=new Map(y.g),I.h=y.h),h0(this,I),this.m=p.m}else p&&(y=String(p).match(m0))?(this.h=!1,Go(this,y[1]||"",!0),this.o=Xc(y[2]||""),this.g=Xc(y[3]||"",!0),ba(this,y[4]),this.l=Xc(y[5]||"",!0),h0(this,y[6]||"",!0),this.m=Xc(y[7]||"")):(this.h=!1,this.i=new Jc(null,this.h))}Ka.prototype.toString=function(){var p=[],y=this.j;y&&p.push(Zc(y,p0,!0),":");var I=this.g;return(I||y=="file")&&(p.push("//"),(y=this.o)&&p.push(Zc(y,p0,!0),"@"),p.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&p.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(Zc(I,I.charAt(0)=="/"?Ru:qg,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",Zc(I,f0)),p.join("")};function Qa(p){return new Ka(p)}function Go(p,y,I){p.j=I?Xc(y,!0):y,p.j&&(p.j=p.j.replace(/:$/,""))}function ba(p,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);p.s=y}else p.s=null}function h0(p,y,I){y instanceof Jc?(p.i=y,Qg(p.i,p.h)):(I||(y=Zc(y,Kg)),p.i=new Jc(y,p.h))}function gi(p,y,I){p.i.set(y,I)}function Wl(p){return gi(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Xc(p,y){return p?y?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Zc(p,y,I){return typeof p=="string"?(p=encodeURI(p).replace(y,Yg),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Yg(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var p0=/[#\/\?@]/g,qg=/[#\?:]/g,Ru=/[#\?]/g,Kg=/[#\?@]/g,f0=/#/g;function Jc(p,y){this.h=this.g=null,this.i=p||null,this.j=!!y}function $o(p){p.g||(p.g=new Map,p.h=0,p.i&&Qc(p.i,function(y,I){p.add(decodeURIComponent(y.replace(/\+/g," ")),I)}))}e=Jc.prototype,e.add=function(p,y){$o(this),this.i=null,p=Zs(this,p);var I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(y),this.h+=1,this};function g0(p,y){$o(p),y=Zs(p,y),p.g.has(y)&&(p.i=null,p.h-=p.g.get(y).length,p.g.delete(y))}function _0(p,y){return $o(p),y=Zs(p,y),p.g.has(y)}e.forEach=function(p,y){$o(this),this.g.forEach(function(I,W){I.forEach(function(pe){p.call(y,pe,W,this)},this)},this)},e.na=function(){$o(this);let p=Array.from(this.g.values()),y=Array.from(this.g.keys()),I=[];for(let W=0;W<y.length;W++){let pe=p[W];for(let Se=0;Se<pe.length;Se++)I.push(y[W])}return I},e.V=function(p){$o(this);let y=[];if(typeof p=="string")_0(this,p)&&(y=y.concat(this.g.get(Zs(this,p))));else{p=Array.from(this.g.values());for(let I=0;I<p.length;I++)y=y.concat(p[I])}return y},e.set=function(p,y){return $o(this),this.i=null,p=Zs(this,p),_0(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[y]),this.h+=1,this},e.get=function(p,y){return p?(p=this.V(p),0<p.length?String(p[0]):y):y};function x0(p,y,I){g0(p,y),0<I.length&&(p.i=null,p.g.set(Zs(p,y),b(I)),p.h+=I.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";let p=[],y=Array.from(this.g.keys());for(var I=0;I<y.length;I++){var W=y[I];let Se=encodeURIComponent(String(W)),Je=this.V(W);for(W=0;W<Je.length;W++){var pe=Se;Je[W]!==""&&(pe+="="+encodeURIComponent(String(Je[W]))),p.push(pe)}}return this.i=p.join("&")};function Zs(p,y){return y=String(y),p.j&&(y=y.toLowerCase()),y}function Qg(p,y){y&&!p.j&&($o(p),p.i=null,p.g.forEach(function(I,W){var pe=W.toLowerCase();W!=pe&&(g0(this,W),x0(this,pe,I))},p)),p.j=y}function Xg(p,y){let I=new Oi;if(s.Image){let W=new Image;W.onload=w(Wo,I,"TestLoadImage: loaded",!0,y,W),W.onerror=w(Wo,I,"TestLoadImage: error",!1,y,W),W.onabort=w(Wo,I,"TestLoadImage: abort",!1,y,W),W.ontimeout=w(Wo,I,"TestLoadImage: timeout",!1,y,W),s.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=p}else y(!1)}function Zg(p,y){let I=new Oi,W=new AbortController,pe=setTimeout(()=>{W.abort(),Wo(I,"TestPingServer: timeout",!1,y)},1e4);fetch(p,{signal:W.signal}).then(Se=>{clearTimeout(pe),Se.ok?Wo(I,"TestPingServer: ok",!0,y):Wo(I,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(pe),Wo(I,"TestPingServer: error",!1,y)})}function Wo(p,y,I,W,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),W(I)}catch{}}function Jg(){this.g=new Gl}function e_(p,y,I){let W=I||"";try{Fu(p,function(pe,Se){let Je=pe;m(pe)&&(Je=qc(pe)),y.push(W+Se+"="+encodeURIComponent(Je))})}catch(pe){throw y.push(W+"type="+encodeURIComponent("_badmap")),pe}}function el(p){this.l=p.Ub||null,this.j=p.eb||!1}C(el,Ga),el.prototype.g=function(){return new Yl(this.l,this.j)},el.prototype.i=function(p){return function(){return p}}({});function Yl(p,y){Wn.call(this),this.D=p,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Yl,Wn),e=Yl.prototype,e.open=function(p,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=y,this.readyState=1,gs(this)},e.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(y.body=p),(this.D||s).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},e.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;v0(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function v0(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}e.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var y=p.value?p.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!p.done}))&&(this.response=this.responseText+=y)}p.done?fs(this):gs(this),this.readyState==3&&v0(this)}},e.Ra=function(p){this.g&&(this.response=this.responseText=p,fs(this))},e.Qa=function(p){this.g&&(this.response=p,fs(this))},e.ga=function(){this.g&&fs(this)};function fs(p){p.readyState=4,p.l=null,p.j=null,p.v=null,gs(p)}e.setRequestHeader=function(p,y){this.u.append(p,y)},e.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";let p=[],y=this.h.entries();for(var I=y.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=y.next();return p.join(`\r
`)};function gs(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Yl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function b0(p){let y="";return F(p,function(I,W){y+=W,y+=":",y+=I,y+=`\r
`}),y}function ql(p,y,I){e:{for(W in I){var W=!1;break e}W=!0}W||(I=b0(I),typeof p=="string"?I!=null&&encodeURIComponent(String(I)):gi(p,y,I))}function wi(p){Wn.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(wi,Wn);var t_=/^https?$/i,n_=["POST","PUT"];e=wi.prototype,e.Ha=function(p){this.J=p},e.ea=function(p,y,I,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);y=y?y.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ve.g(),this.v=this.o?$a(this.o):$a(ve),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(y,String(p),!0),this.B=!1}catch(Se){y0(this,Se);return}if(p=I||"",I=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var pe in W)I.set(pe,W[pe]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(let Se of W.keys())I.set(Se,W.get(Se));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(I.keys()).find(Se=>Se.toLowerCase()=="content-type"),pe=s.FormData&&p instanceof s.FormData,!(0<=Array.prototype.indexOf.call(n_,y,void 0))||W||pe||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[Se,Je]of I)this.g.setRequestHeader(Se,Je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Js(this),this.u=!0,this.g.send(p),this.u=!1}catch(Se){y0(this,Se)}};function y0(p,y){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=y,p.m=5,C0(p),oi(p)}function C0(p){p.A||(p.A=!0,vt(p,"complete"),vt(p,"error"))}e.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,vt(this,"complete"),vt(this,"abort"),oi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),wi.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Nu(this):this.bb())},e.bb=function(){Nu(this)};function Nu(p){if(p.h&&typeof o<"u"&&(!p.v[1]||la(p)!=4||p.Z()!=2)){if(p.u&&la(p)==4)wt(p.Ea,0,p);else if(vt(p,"readystatechange"),la(p)==4){p.h=!1;try{let Je=p.Z();e:switch(Je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var I;if(!(I=y)){var W;if(W=Je===0){var pe=String(p.D).match(m0)[1]||null;!pe&&s.self&&s.self.location&&(pe=s.self.location.protocol.slice(0,-1)),W=!t_.test(pe?pe.toLowerCase():"")}I=W}if(I)vt(p,"complete"),vt(p,"success");else{p.m=6;try{var Se=2<la(p)?p.g.statusText:""}catch{Se=""}p.l=Se+" ["+p.Z()+"]",C0(p)}}finally{oi(p)}}}}function oi(p,y){if(p.g){Js(p);let I=p.g,W=p.v[0]?()=>{}:null;p.g=null,p.v=null,y||vt(p,"ready");try{I.onreadystatechange=W}catch{}}}function Js(p){p.I&&(s.clearTimeout(p.I),p.I=null)}e.isActive=function(){return!!this.g};function la(p){return p.g?p.g.readyState:0}e.Z=function(){try{return 2<la(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(p){if(this.g){var y=this.g.responseText;return p&&y.indexOf(p)==0&&(y=y.substring(p.length)),qs(y)}};function w0(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function S0(p){let y={};p=(p.g&&2<=la(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<p.length;W++){if(N(p[W]))continue;var I=j(p[W]);let pe=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();let Se=y[pe]||[];y[pe]=Se,Se.push(I)}S(y,function(W){return W.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tl(p,y,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||y}function M0(p){this.Aa=0,this.i=[],this.j=new Oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tl("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tl("baseRetryDelayMs",5e3,p),this.cb=tl("retryDelaySeedMs",1e4,p),this.Wa=tl("forwardChannelMaxRetries",2,p),this.wa=tl("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new qa(p&&p.concurrentRequestLimit),this.Da=new Jg,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=M0.prototype,e.la=8,e.G=1,e.connect=function(p,y,I,W){Ni(0),this.W=p,this.H=y||{},I&&W!==void 0&&(this.H.OSID=I,this.H.OAID=W),this.F=this.X,this.I=A0(this,null,this.W),Ql(this)};function ec(p){if(Kl(p),p.G==3){var y=p.U++,I=Qa(p.I);if(gi(I,"SID",p.K),gi(I,"RID",y),gi(I,"TYPE","terminate"),_s(p,I),y=new _e(p,p.j,y),y.L=2,y.v=Wl(Qa(I)),I=!1,s.navigator&&s.navigator.sendBeacon)try{I=s.navigator.sendBeacon(y.v.toString(),"")}catch{}!I&&s.Image&&(new Image().src=y.v,I=!0),I||(y.g=D0(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ct(y)}I0(p)}function Aa(p){p.g&&(tc(p),p.g.cancel(),p.g=null)}function Kl(p){Aa(p),p.u&&(s.clearTimeout(p.u),p.u=null),Zl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&s.clearTimeout(p.s),p.s=null)}function Ql(p){if(!Xs(p.h)&&!p.s){p.s=!0;var y=p.Ga;De||Ve(),st||(De(),st=!0),Ie.add(y,p),p.B=0}}function Po(p,y){return va(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=y.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Ya(v(p.Ga,p,y),O0(p,p.B)),p.B++,!0)}e.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;let pe=new _e(this,this.j,p),Se=this.o;if(this.S&&(Se?(Se=E(Se),R(Se,this.S)):Se=this.S),this.m!==null||this.O||(pe.H=Se,Se=null),this.P)e:{for(var y=0,I=0;I<this.i.length;I++){t:{var W=this.i[I];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(y+=W,4096<y){y=I;break e}if(y===4096||I===this.i.length-1){y=I+1;break e}}y=1e3}else y=1e3;y=P0(this,pe,y),I=Qa(this.I),gi(I,"RID",p),gi(I,"CVER",22),this.D&&gi(I,"X-HTTP-Session-Id",this.D),_s(this,I),Se&&(this.O?y="headers="+encodeURIComponent(String(b0(Se)))+"&"+y:this.m&&ql(I,this.m,Se)),$l(this.h,pe),this.Ua&&gi(I,"TYPE","init"),this.P?(gi(I,"$req",y),gi(I,"SID","null"),pe.T=!0,qe(pe,I,null)):qe(pe,I,y),this.G=2}}else this.G==3&&(p?k0(this,p):this.i.length==0||Xs(this.h)||k0(this))};function k0(p,y){var I;y?I=y.l:I=p.U++;let W=Qa(p.I);gi(W,"SID",p.K),gi(W,"RID",I),gi(W,"AID",p.T),_s(p,W),p.m&&p.o&&ql(W,p.m,p.o),I=new _e(p,p.j,I,p.B+1),p.m===null&&(I.H=p.o),y&&(p.i=y.D.concat(p.i)),y=P0(p,I,1e3),I.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),$l(p.h,I),qe(I,W,y)}function _s(p,y){p.H&&F(p.H,function(I,W){gi(y,W,I)}),p.l&&Fu({},function(I,W){gi(y,W,I)})}function P0(p,y,I){I=Math.min(p.i.length,I);var W=p.l?v(p.l.Na,p.l,p):null;e:{var pe=p.i;let Se=-1;for(;;){let Je=["count="+I];Se==-1?0<I?(Se=pe[0].g,Je.push("ofs="+Se)):Se=0:Je.push("ofs="+Se);let ei=!0;for(let hr=0;hr<I;hr++){let En=pe[hr].g,nn=pe[hr].map;if(En-=Se,0>En)Se=Math.max(0,pe[hr].g-100),ei=!1;else try{e_(nn,Je,"req"+En+"_")}catch{W&&W(nn)}}if(ei){W=Je.join("&");break e}}}return p=p.i.splice(0,I),y.D=p,W}function E0(p){if(!p.g&&!p.u){p.Y=1;var y=p.Fa;De||Ve(),st||(De(),st=!0),Ie.add(y,p),p.v=0}}function Lu(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Ya(v(p.Fa,p),O0(p,p.v)),p.v++,!0)}e.Fa=function(){if(this.u=null,Xl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Ya(v(this.ab,this),p)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ni(10),Aa(this),Xl(this))};function tc(p){p.A!=null&&(s.clearTimeout(p.A),p.A=null)}function Xl(p){p.g=new _e(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var y=Qa(p.qa);gi(y,"RID","rpc"),gi(y,"SID",p.K),gi(y,"AID",p.T),gi(y,"CI",p.F?"0":"1"),!p.F&&p.ja&&gi(y,"TO",p.ja),gi(y,"TYPE","xmlhttp"),_s(p,y),p.m&&p.o&&ql(y,p.m,p.o),p.L&&(p.g.I=p.L);var I=p.g;p=p.ia,I.L=1,I.v=Wl(Qa(y)),I.m=null,I.P=!0,lt(I,p)}e.Za=function(){this.C!=null&&(this.C=null,Aa(this),Lu(this),Ni(19))};function Zl(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function T0(p,y){var I=null;if(p.g==y){Zl(p),tc(p),p.g=null;var W=2}else if(Au(p.h,y))I=y.D,Du(p.h,y),W=1;else return;if(p.G!=0){if(y.o)if(W==1){I=y.m?y.m.length:0,y=Date.now()-y.F;var pe=p.B;W=mr(),vt(W,new Qs(W,I)),Ql(p)}else E0(p);else if(pe=y.s,pe==3||pe==0&&0<y.X||!(W==1&&Po(p,y)||W==2&&Lu(p)))switch(I&&0<I.length&&(y=p.h,y.i=y.i.concat(I)),pe){case 1:Yo(p,5);break;case 4:Yo(p,10);break;case 3:Yo(p,6);break;default:Yo(p,2)}}}function O0(p,y){let I=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(I*=2),I*y}function Yo(p,y){if(p.j.info("Error code "+y),y==2){var I=v(p.fb,p),W=p.Xa;let pe=!W;W=new Ka(W||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Go(W,"https"),Wl(W),pe?Xg(W.toString(),I):Zg(W.toString(),I)}else Ni(2);p.G=0,p.l&&p.l.sa(y),I0(p),Kl(p)}e.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Ni(2)):(this.j.info("Failed to ping google.com"),Ni(1))};function I0(p){if(p.G=0,p.ka=[],p.l){let y=u0(p.h);(y.length!=0||p.i.length!=0)&&(O(p.ka,y),O(p.ka,p.i),p.h.i.length=0,b(p.i),p.i.length=0),p.l.ra()}}function A0(p,y,I){var W=I instanceof Ka?Qa(I):new Ka(I);if(W.g!="")y&&(W.g=y+"."+W.g),ba(W,W.s);else{var pe=s.location;W=pe.protocol,y=y?y+"."+pe.hostname:pe.hostname,pe=+pe.port;var Se=new Ka(null);W&&Go(Se,W),y&&(Se.g=y),pe&&ba(Se,pe),I&&(Se.l=I),W=Se}return I=p.D,y=p.ya,I&&y&&gi(W,I,y),gi(W,"VER",p.la),_s(p,W),W}function D0(p,y,I){if(y&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=p.Ca&&!p.pa?new wi(new el({eb:I})):new wi(p.pa),y.Ha(p.J),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function F0(){}e=F0.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Jl(){}Jl.prototype.g=function(p,y){return new Hr(p,y)};function Hr(p,y){Wn.call(this),this.g=new M0(y),this.l=p,this.h=y&&y.messageUrlParams||null,p=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(p?p["X-WebChannel-Content-Type"]=y.messageContentType:p={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(p?p["X-WebChannel-Client-Profile"]=y.va:p={"X-WebChannel-Client-Profile":y.va}),this.g.S=p,(p=y&&y.Sb)&&!N(p)&&(this.g.m=p),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.D=y,p=this.h,p!==null&&y in p&&(p=this.h,y in p&&delete p[y])),this.j=new nc(this)}C(Hr,Wn),Hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hr.prototype.close=function(){ec(this.g)},Hr.prototype.o=function(p){var y=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.u&&(I={},I.__data__=qc(p),p=I);y.i.push(new ps(y.Ya++,p)),y.G==3&&Ql(y)},Hr.prototype.N=function(){this.g.l=null,delete this.j,ec(this.g),delete this.g,Hr.aa.N.call(this)};function R0(p){nt.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var y=p.__sm__;if(y){e:{for(let I in y){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,y=y!==null&&p in y?y[p]:void 0),this.data=y}else this.data=p}C(R0,nt);function xs(){Kc.call(this),this.status=1}C(xs,Kc);function nc(p){this.g=p}C(nc,F0),nc.prototype.ua=function(){vt(this.g,"a")},nc.prototype.ta=function(p){vt(this.g,new R0(p))},nc.prototype.sa=function(p){vt(this.g,new xs)},nc.prototype.ra=function(){vt(this.g,"b")},Jl.prototype.createWebChannel=Jl.prototype.g,Hr.prototype.send=Hr.prototype.o,Hr.prototype.open=Hr.prototype.m,Hr.prototype.close=Hr.prototype.close,Bw=Ns.createWebChannelTransport=function(){return new Jl},Vw=Ns.getStatEventTarget=function(){return mr()},Lw=Ns.Event=So,Nw=Ns.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},J.NO_ERROR=0,J.TIMEOUT=8,J.HTTP_ERROR=6,Rw=Ns.ErrorCode=J,ie.COMPLETE="complete",Fw=Ns.EventType=ie,Ks.EventType=Wa,Wa.OPEN="a",Wa.CLOSE="b",Wa.ERROR="c",Wa.MESSAGE="d",Wn.prototype.listen=Wn.prototype.K,Dw=Ns.WebChannel=Ks,nA=Ns.FetchXmlHttpFactory=el,wi.prototype.listenOnce=wi.prototype.L,wi.prototype.getLastError=wi.prototype.Ka,wi.prototype.getLastErrorCode=wi.prototype.Ba,wi.prototype.getStatus=wi.prototype.Z,wi.prototype.getResponseJson=wi.prototype.Oa,wi.prototype.getResponseText=wi.prototype.oa,wi.prototype.send=wi.prototype.ea,wi.prototype.setWithCredentials=wi.prototype.Ha,Aw=Ns.XhrIo=wi}).apply(typeof Kp<"u"?Kp:typeof self<"u"?self:typeof window<"u"?window:{});var jw="@firebase/firestore",Uw="4.8.0";var fa=class{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}};fa.UNAUTHENTICATED=new fa(null),fa.GOOGLE_CREDENTIALS=new fa("google-credentials-uid"),fa.FIRST_PARTY=new fa("first-party-uid"),fa.MOCK_USER=new fa("mock-user");var sf="11.10.0";var Qp=new Bd("@firebase/firestore");function Do(e,...n){if(Qp.logLevel<=vi.DEBUG){let r=n.map(n2);Qp.debug(`Firestore (${sf}): ${e}`,...r)}}function t2(e,...n){if(Qp.logLevel<=vi.ERROR){let r=n.map(n2);Qp.error(`Firestore (${sf}): ${e}`,...r)}}function n2(e){if(typeof e=="string")return e;try{return function(r){return JSON.stringify(r)}(e)}catch{return e}}function La(e,n,r){let t="Unexpected state";typeof n=="string"?t=n:r=n,i2(e,t,r)}function i2(e,n,r){let t=`FIRESTORE (${sf}) INTERNAL ASSERTION FAILED: ${n} (ID: ${e.toString(16)})`;if(r!==void 0)try{t+=" CONTEXT: "+JSON.stringify(r)}catch{t+=" CONTEXT: "+r}throw t2(t),new Error(t)}function ml(e,n,r,t){let i="Unexpected state";typeof r=="string"?i=r:t=r,e||i2(n,i,t)}var Xn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Vn=class extends Fs{constructor(n,r){super(n,r),this.code=n,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var hl=class{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}};var Y_=class{constructor(n,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}},q_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(fa.UNAUTHENTICATED))}shutdown(){}};var K_=class{constructor(n){this.t=n,this.currentUser=fa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){ml(this.o===void 0,42304);let t=this.i,i=d=>this.i!==t?(t=this.i,r(d)):Promise.resolve(),a=new hl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new hl,n.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let d=a;n.enqueueRetryable(()=>ge(this,null,function*(){yield d.promise,yield i(this.currentUser)}))},s=d=>{Do("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(d=>s(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?s(d):(Do("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new hl)}},0),o()}getToken(){let n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(t=>this.i!==n?(Do("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ml(typeof t.accessToken=="string",31837,{l:t}),new Y_(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let n=this.auth&&this.auth.getUid();return ml(n===null||typeof n=="string",2055,{h:n}),new fa(n)}},Q_=class{constructor(n,r,t){this.P=n,this.T=r,this.I=t,this.type="FirstParty",this.user=fa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},X_=class{constructor(n,r,t){this.P=n,this.T=r,this.I=t}getToken(){return Promise.resolve(new Q_(this.P,this.T,this.I))}start(n,r){n.enqueueRetryable(()=>r(fa.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Xp=class{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Z_=class{constructor(n,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mw(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,r){ml(this.o===void 0,3512);let t=a=>{a.error!=null&&Do("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);let o=a.token!==this.m;return this.m=a.token,Do("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{n.enqueueRetryable(()=>t(a))};let i=a=>{Do("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){let a=this.V.getImmediate({optional:!0});a?i(a):Do("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xp(this.p));let n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(r=>r?(ml(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Xp(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function iA(e){let n=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(r);else for(let t=0;t<e;t++)r[t]=Math.floor(256*Math.random());return r}function rA(){return new TextEncoder}var J_=class{static newId(){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516),t="";for(;t.length<20;){let i=iA(40);for(let a=0;a<i.length;++a)t.length<20&&i[a]<r&&(t+=n.charAt(i[a]%62))}return t}};function co(e,n){return e<n?-1:e>n?1:0}function aA(e,n){let r=0;for(;r<e.length&&r<n.length;){let t=e.codePointAt(r),i=n.codePointAt(r);if(t!==i){if(t<128&&i<128)return co(t,i);{let a=rA(),o=oA(a.encode(zw(e,r)),a.encode(zw(n,r)));return o!==0?o:co(t,i)}}r+=t>65535?2:1}return co(e.length,n.length)}function zw(e,n){return e.codePointAt(n)>65535?e.substring(n,n+2):e.substring(n,n+1)}function oA(e,n){for(let r=0;r<e.length&&r<n.length;++r)if(e[r]!==n[r])return co(e[r],n[r]);return co(e.length,n.length)}var Hw="__name__",Zp=class e{constructor(n,r,t){r===void 0?r=0:r>n.length&&La(637,{offset:r,range:n.length}),t===void 0?t=n.length-r:t>n.length-r&&La(1746,{length:t,range:n.length-r}),this.segments=n,this.offset=r,this.len=t}get length(){return this.len}isEqual(n){return e.comparator(this,n)===0}child(n){let r=this.segments.slice(this.offset,this.limit());return n instanceof e?n.forEach(t=>{r.push(t)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,t=this.limit();r<t;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){let t=Math.min(n.length,r.length);for(let i=0;i<t;i++){let a=e.compareSegments(n.get(i),r.get(i));if(a!==0)return a}return co(n.length,r.length)}static compareSegments(n,r){let t=e.isNumericId(n),i=e.isNumericId(r);return t&&!i?-1:!t&&i?1:t&&i?e.extractNumericId(n).compare(e.extractNumericId(r)):aA(n,r)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return qp.fromString(n.substring(4,n.length-2))}},Ls=class e extends Zp{construct(n,r,t){return new e(n,r,t)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){let r=[];for(let t of n){if(t.indexOf("//")>=0)throw new Vn(Xn.INVALID_ARGUMENT,`Invalid segment (${t}). Paths must not contain // in them.`);r.push(...t.split("/").filter(i=>i.length>0))}return new e(r)}static emptyPath(){return new e([])}},sA=/^[_a-zA-Z][_a-zA-Z0-9]*$/,e1=class e extends Zp{construct(n,r,t){return new e(n,r,t)}static isValidIdentifier(n){return sA.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hw}static keyField(){return new e([Hw])}static fromServerFormat(n){let r=[],t="",i=0,a=()=>{if(t.length===0)throw new Vn(Xn.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(t),t=""},o=!1;for(;i<n.length;){let s=n[i];if(s==="\\"){if(i+1===n.length)throw new Vn(Xn.INVALID_ARGUMENT,"Path has trailing escape character: "+n);let d=n[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Vn(Xn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);t+=d,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(t+=s,i++):(a(),i++)}if(a(),o)throw new Vn(Xn.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)}static emptyPath(){return new e([])}};var Vs=class e{constructor(n){this.path=n}static fromPath(n){return new e(Ls.fromString(n))}static fromName(n){return new e(Ls.fromString(n).popFirst(5))}static empty(){return new e(Ls.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&Ls.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,r){return Ls.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new e(new Ls(n.slice()))}};function cA(e,n,r,t){if(n===!0&&t===!0)throw new Vn(Xn.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function lA(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function or(e,n){let r={typeString:e};return n&&(r.value=n),r}function rm(e,n){if(!lA(e))throw new Vn(Xn.INVALID_ARGUMENT,"JSON must be an object");let r;for(let t in n)if(n[t]){let i=n[t].typeString,a="value"in n[t]?{value:n[t].value}:void 0;if(!(t in e)){r=`JSON missing required field: '${t}'`;break}let o=e[t];if(i&&typeof o!==i){r=`JSON field '${t}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${t}' field to equal '${a.value}'`;break}}if(r)throw new Vn(Xn.INVALID_ARGUMENT,r);return!0}var Gw=-62135596800,$w=1e6,hi=class e{static now(){return e.fromMillis(Date.now())}static fromDate(n){return e.fromMillis(n.getTime())}static fromMillis(n){let r=Math.floor(n/1e3),t=Math.floor((n-1e3*r)*$w);return new e(r,t)}constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new Vn(Xn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Vn(Xn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<Gw)throw new Vn(Xn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Vn(Xn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$w}_compareTo(n){return this.seconds===n.seconds?co(this.nanoseconds,n.nanoseconds):co(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(n){if(rm(n,e._jsonSchema))return new e(n.seconds,n.nanoseconds)}valueOf(){let n=this.seconds-Gw;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};hi._jsonSchemaVersion="firestore/timestamp/1.0",hi._jsonSchema={type:or("string",hi._jsonSchemaVersion),seconds:or("number"),nanoseconds:or("number")};var t1=class{constructor(n,r,t,i){this.indexId=n,this.collectionGroup=r,this.fields=t,this.indexState=i}};t1.UNKNOWN_ID=-1;function dA(e){return e.name==="IndexedDbTransactionError"}function uA(e){return e===0&&1/e==-1/0}var mA="remoteDocuments",r2="owner";var a2="mutationQueues";var o2="mutations";var s2="documentMutations",hA="remoteDocumentsV14";var c2="remoteDocumentGlobal";var l2="targets";var d2="targetDocuments";var u2="targetGlobal",m2="collectionParents";var h2="clientMetadata";var p2="bundles";var f2="namedQueries";var pA="indexConfiguration";var fA="indexState";var gA="indexEntries";var g2="documentOverlays";var _A="globals";var xA=[a2,o2,s2,mA,l2,r2,u2,d2,h2,c2,m2,p2,f2],VJ=[...xA,g2],vA=[a2,o2,s2,hA,l2,r2,u2,d2,h2,c2,m2,p2,f2,g2],bA=vA,yA=[...bA,pA,fA,gA];var BJ=[...yA,_A];var $d=class e{constructor(n,r){this.comparator=n,this.root=r||rs.EMPTY}insert(n,r){return new e(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,rs.BLACK,null,null))}remove(n){return new e(this.comparator,this.root.remove(n,this.comparator).copy(null,null,rs.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){let t=this.comparator(n,r.key);if(t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}indexOf(n){let r=0,t=this.root;for(;!t.isEmpty();){let i=this.comparator(n,t.key);if(i===0)return r+t.left.size;i<0?t=t.left:(r+=t.left.size+1,t=t.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,t)=>(n(r,t),!1))}toString(){let n=[];return this.inorderTraversal((r,t)=>(n.push(`${r}:${t}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Ud(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Ud(this.root,n,this.comparator,!1)}getReverseIterator(){return new Ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Ud(this.root,n,this.comparator,!0)}},Ud=class{constructor(n,r,t,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!n.isEmpty();)if(a=r?t(n.key,r):1,r&&i&&(a*=-1),a<0)n=this.isReverse?n.left:n.right;else{if(a===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop(),r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}},rs=class e{constructor(n,r,t,i,a){this.key=n,this.value=r,this.color=t!=null?t:e.RED,this.left=i!=null?i:e.EMPTY,this.right=a!=null?a:e.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,t,i,a){return new e(n!=null?n:this.key,r!=null?r:this.value,t!=null?t:this.color,i!=null?i:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,t){let i=this,a=t(n,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(n,r,t),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(n,r,t)),i.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let t,i=this;if(r(n,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(n,i.key)===0){if(i.right.isEmpty())return e.EMPTY;t=i.right.min(),i=i.copy(t.key,t.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){let n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw La(43730,{key:this.key,value:this.value});if(this.right.isRed())throw La(14113,{key:this.key,value:this.value});let n=this.left.check();if(n!==this.right.check())throw La(27949);return n+(this.isRed()?0:1)}};rs.EMPTY=null,rs.RED=!0,rs.BLACK=!1;rs.EMPTY=new class{constructor(){this.size=0}get key(){throw La(57766)}get value(){throw La(16141)}get color(){throw La(16727)}get left(){throw La(29726)}get right(){throw La(36894)}copy(n,r,t,i,a){return this}insert(n,r,t){return new rs(n,r)}remove(n,r){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Jp=class e{constructor(n){this.comparator=n,this.data=new $d(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,t)=>(n(r),!1))}forEachInRange(n,r){let t=this.data.getIteratorFrom(n[0]);for(;t.hasNext();){let i=t.getNext();if(this.comparator(i.key,n[1])>=0)return;r(i.key)}}forEachWhile(n,r){let t;for(t=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();t.hasNext();)if(!n(t.getNext().key))return}firstAfterOrEqual(n){let r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new ef(this.data.getIterator())}getIteratorFrom(n){return new ef(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(t=>{r=r.add(t)}),r}isEqual(n){if(!(n instanceof e)||this.size!==n.size)return!1;let r=this.data.getIterator(),t=n.data.getIterator();for(;r.hasNext();){let i=r.getNext().key,a=t.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){let n=[];return this.forEach(r=>{n.push(r)}),n}toString(){let n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){let r=new e(this.comparator);return r.data=n,r}},ef=class{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var n1=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Pc=class e{constructor(n){this.binaryString=n}static fromBase64String(n){let r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new n1("Invalid base64 string: "+a):a}}(n);return new e(r)}static fromUint8Array(n){let r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(n);return new e(r)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){let t=new Uint8Array(r.length);for(let i=0;i<r.length;i++)t[i]=r.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return co(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}};Pc.EMPTY_BYTE_STRING=new Pc("");var CA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wA(e){if(ml(!!e,39018),typeof e=="string"){let n=0,r=CA.exec(e);if(ml(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),n=Number(i)}let t=new Date(e);return{seconds:Math.floor(t.getTime()/1e3),nanos:n}}return{seconds:Ju(e.seconds),nanos:Ju(e.nanos)}}function Ju(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function SA(e){return typeof e=="string"?Pc.fromBase64String(e):Pc.fromUint8Array(e)}var Ww="(default)",i1=class e{constructor(n,r){this.projectId=n,this.database=r||Ww}static empty(){return new e("","")}get isDefaultDatabase(){return this.database===Ww}isEqual(n){return n instanceof e&&n.projectId===this.projectId&&n.database===this.database}};var _2="__type__",MA="__max__";var x2="__vector__",v2="value";function kA(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)===null||n===void 0?void 0:n.fields)||{})[_2])===null||r===void 0?void 0:r.stringValue)===x2}function PA(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===MA}var UJ={mapValue:{fields:{[_2]:{stringValue:x2},[v2]:{arrayValue:{}}}}};var r1=class{constructor(n,r=null,t=[],i=[],a=null,o="F",s=null,d=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=t,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function EA(e){return new r1(e)}var zJ=new $d(Vs.comparator);var HJ=new $d(Vs.comparator);var GJ=new $d(Vs.comparator),$J=new Jp(Vs.comparator);var WJ=new Jp(co);var Yw,Rn;(Rn=Yw||(Yw={}))[Rn.OK=0]="OK",Rn[Rn.CANCELLED=1]="CANCELLED",Rn[Rn.UNKNOWN=2]="UNKNOWN",Rn[Rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rn[Rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rn[Rn.NOT_FOUND=5]="NOT_FOUND",Rn[Rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rn[Rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rn[Rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rn[Rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rn[Rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rn[Rn.ABORTED=10]="ABORTED",Rn[Rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rn[Rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rn[Rn.INTERNAL=13]="INTERNAL",Rn[Rn.UNAVAILABLE=14]="UNAVAILABLE",Rn[Rn.DATA_LOSS=15]="DATA_LOSS";var YJ=new qp([4294967295,4294967295],0);var tf=class{constructor(){}bt(n,r){this.Dt(n,r),r.vt()}Dt(n,r){if("nullValue"in n)this.Ct(r,5);else if("booleanValue"in n)this.Ct(r,10),r.Ft(n.booleanValue?1:0);else if("integerValue"in n)this.Ct(r,15),r.Ft(Ju(n.integerValue));else if("doubleValue"in n){let t=Ju(n.doubleValue);isNaN(t)?this.Ct(r,13):(this.Ct(r,15),uA(t)?r.Ft(0):r.Ft(t))}else if("timestampValue"in n){let t=n.timestampValue;this.Ct(r,20),typeof t=="string"&&(t=wA(t)),r.Mt(`${t.seconds||""}`),r.Ft(t.nanos||0)}else if("stringValue"in n)this.xt(n.stringValue,r),this.Ot(r);else if("bytesValue"in n)this.Ct(r,30),r.Nt(SA(n.bytesValue)),this.Ot(r);else if("referenceValue"in n)this.Bt(n.referenceValue,r);else if("geoPointValue"in n){let t=n.geoPointValue;this.Ct(r,45),r.Ft(t.latitude||0),r.Ft(t.longitude||0)}else"mapValue"in n?PA(n)?this.Ct(r,Number.MAX_SAFE_INTEGER):kA(n)?this.Lt(n.mapValue,r):(this.kt(n.mapValue,r),this.Ot(r)):"arrayValue"in n?(this.qt(n.arrayValue,r),this.Ot(r)):La(19022,{Qt:n})}xt(n,r){this.Ct(r,25),this.$t(n,r)}$t(n,r){r.Mt(n)}kt(n,r){let t=n.fields||{};this.Ct(r,55);for(let i of Object.keys(t))this.xt(i,r),this.Dt(t[i],r)}Lt(n,r){var t,i;let a=n.fields||{};this.Ct(r,53);let o=v2,s=((i=(t=a[o].arrayValue)===null||t===void 0?void 0:t.values)===null||i===void 0?void 0:i.length)||0;this.Ct(r,15),r.Ft(Ju(s)),this.xt(o,r),this.Dt(a[o],r)}qt(n,r){let t=n.values||[];this.Ct(r,50);for(let i of t)this.Dt(i,r)}Bt(n,r){this.Ct(r,37),Vs.fromName(n).path.forEach(t=>{this.Ct(r,60),this.$t(t,r)})}Ct(n,r){n.Ft(r)}Ot(n){n.Ft(2)}};tf.Ut=new tf;var qJ=new Uint8Array(0);var b2=41943040,is=class e{static withCacheSize(n){return new e(n,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,r,t){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=t}};is.DEFAULT_COLLECTION_PERCENTILE=10,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,is.DEFAULT=new is(b2,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),is.DISABLED=new is(-1,0,0);var TA=1048576;function W_(){return typeof document<"u"?document:null}var a1=class{constructor(n,r,t=1e3,i=1.5,a=6e4){this.Fi=n,this.timerId=r,this.d_=t,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(n){this.cancel();let r=Math.floor(this.R_+this.p_()),t=Math.max(0,Date.now()-this.m_),i=Math.max(0,r-t);i>0&&Do("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${t} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),n())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var o1=class e{constructor(n,r,t,i,a){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=t,this.op=i,this.removalCallback=a,this.deferred=new hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,r,t,i,a){let o=Date.now()+t,s=new e(n,r,o,i,a);return s.start(t),s}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Vn(Xn.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var qw,Kw;(Kw=qw||(qw={})).Fa="default",Kw.Cache="cache";function OA(e){let n={};return e.timeoutSeconds!==void 0&&(n.timeoutSeconds=e.timeoutSeconds),n}var Qw=new Map;var IA="firestore.googleapis.com",Xw=!0,nf=class{constructor(n){var r,t;if(n.host===void 0){if(n.ssl!==void 0)throw new Vn(Xn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IA,this.ssl=Xw}else this.host=n.host,this.ssl=(r=n.ssl)!==null&&r!==void 0?r:Xw;if(this.isUsingEmulator=n.emulatorOptions!==void 0,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=b2;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<TA)throw new Vn(Xn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}cA("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OA((t=n.experimentalLongPollingOptions)!==null&&t!==void 0?t:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Vn(Xn.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Vn(Xn.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Vn(Xn.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&function(t,i){return t.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}},s1=class{constructor(n,r,t,i){this._authCredentials=n,this._appCheckCredentials=r,this._databaseId=t,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Vn(Xn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new Vn(Xn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nf(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=function(t){if(!t)return new q_;switch(t.type){case"firstParty":return new X_(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Vn(Xn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return ge(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){let t=Qw.get(r);t&&(Do("ComponentProvider","Removing Datastore"),Qw.delete(r),t.terminate())}(this),Promise.resolve()}};var c1=class e{constructor(n,r,t){this.converter=r,this._query=t,this.type="query",this.firestore=n}withConverter(n){return new e(this.firestore,n,this._query)}},pl=class e{constructor(n,r,t){this.converter=r,this._key=t,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new l1(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new e(this.firestore,n,this._key)}toJSON(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(n,r,t){if(rm(r,e._jsonSchema))return new e(n,t||null,new Vs(Ls.fromString(r.referencePath)))}};pl._jsonSchemaVersion="firestore/documentReference/1.0",pl._jsonSchema={type:or("string",pl._jsonSchemaVersion),referencePath:or("string")};var l1=class e extends c1{constructor(n,r,t){super(n,r,EA(t)),this._path=t,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let n=this._path.popLast();return n.isEmpty()?null:new pl(this.firestore,null,new Vs(n))}withConverter(n){return new e(this.firestore,n,this._path)}};var Zw="AsyncQueue",rf=class{constructor(n=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new a1(this,"async_queue_retry"),this.oc=()=>{let t=W_();t&&Do(Zw,"Visibility state changed to "+t.visibilityState),this.F_.y_()},this._c=n;let r=W_();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.ac(),this.uc(n)}enterRestrictedMode(n){if(!this.Xu){this.Xu=!0,this.rc=n||!1;let r=W_();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(n){if(this.ac(),this.Xu)return new Promise(()=>{});let r=new hl;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Zu.push(n),this.cc()))}cc(){return ge(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(n){if(!dA(n))throw n;Do(Zw,"Operation failed with retryable error: "+n)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(n){let r=this._c.then(()=>(this.nc=!0,n().catch(t=>{throw this.tc=t,this.nc=!1,t2("INTERNAL UNHANDLED ERROR: ",Jw(t)),t}).then(t=>(this.nc=!1,t))));return this._c=r,r}enqueueAfterDelay(n,r,t){this.ac(),this.sc.indexOf(n)>-1&&(r=0);let i=o1.createAndSchedule(this,n,r,t,a=>this.lc(a));return this.ec.push(i),i}ac(){this.tc&&La(47125,{hc:Jw(this.tc)})}verifyOperationInProgress(){}Pc(){return ge(this,null,function*(){let n;do n=this._c,yield n;while(n!==this._c)})}Tc(n){for(let r of this.ec)if(r.timerId===n)return!0;return!1}Ic(n){return this.Pc().then(()=>{this.ec.sort((r,t)=>r.targetTimeMs-t.targetTimeMs);for(let r of this.ec)if(r.skipDelay(),n!=="all"&&r.timerId===n)break;return this.Pc()})}dc(n){this.sc.push(n)}lc(n){let r=this.ec.indexOf(n);this.ec.splice(r,1)}};function Jw(e){let n=e.message||"";return e.stack&&(n=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),n}var d1=class extends s1{constructor(n,r,t,i){super(n,r,t,i),this.type="firestore",this._queue=new rf,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return ge(this,null,function*(){if(this._firestoreClient){let n=this._firestoreClient.terminate();this._queue=new rf(n),this._firestoreClient=void 0,yield n}})}};var em=class e{constructor(n){this._byteString=n}static fromBase64String(n){try{return new e(Pc.fromBase64String(n))}catch(r){throw new Vn(Xn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new e(Pc.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}toJSON(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(n){if(rm(n,e._jsonSchema))return e.fromBase64String(n.bytes)}};em._jsonSchemaVersion="firestore/bytes/1.0",em._jsonSchema={type:or("string",em._jsonSchemaVersion),bytes:or("string")};var af=class{constructor(...n){for(let r=0;r<n.length;++r)if(n[r].length===0)throw new Vn(Xn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new e1(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}};var tm=class e{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new Vn(Xn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new Vn(Xn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}_compareTo(n){return co(this._lat,n._lat)||co(this._long,n._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}static fromJSON(n){if(rm(n,e._jsonSchema))return new e(n.latitude,n.longitude)}};tm._jsonSchemaVersion="firestore/geoPoint/1.0",tm._jsonSchema={type:or("string",tm._jsonSchemaVersion),latitude:or("number"),longitude:or("number")};var nm=class e{constructor(n){this._values=(n||[]).map(r=>r)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(t,i){if(t.length!==i.length)return!1;for(let a=0;a<t.length;++a)if(t[a]!==i[a])return!1;return!0}(this._values,n._values)}toJSON(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(n){if(rm(n,e._jsonSchema)){if(Array.isArray(n.vectorValues)&&n.vectorValues.every(r=>typeof r=="number"))return new e(n.vectorValues);throw new Vn(Xn.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};nm._jsonSchemaVersion="firestore/vectorValue/1.0",nm._jsonSchema={type:or("string",nm._jsonSchemaVersion),vectorValues:or("object")};var AA=new RegExp("[~\\*/\\[\\]]");function DA(e,n,r){if(n.search(AA)>=0)throw e2(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new af(...n.split("."))._internalPath}catch{throw e2(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function e2(e,n,r,t,i){let a=t&&!t.isEmpty(),o=i!==void 0,s=`Function ${n}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${t}`),o&&(d+=` in document ${i}`),d+=")"),new Vn(Xn.INVALID_ARGUMENT,s+e+d)}var of=class{constructor(n,r,t,i,a){this._firestore=n,this._userDataWriter=r,this._key=t,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pl(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let n=new u1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){let r=this._document.data.field(y2("DocumentSnapshot.get",n));if(r!==null)return this._userDataWriter.convertValue(r)}}},u1=class extends of{data(){return super.data()}};function y2(e,n){return typeof n=="string"?DA(e,n):n instanceof af?n._internalPath:n._delegate._internalPath}var zd=class{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}},Hd=class e extends of{constructor(n,r,t,i,a,o){super(n,r,t,i,o),this._firestore=n,this._firestoreImpl=n,this.metadata=a}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){let r=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){let t=this._document.data.field(y2("DocumentSnapshot.get",n));if(t!==null)return this._userDataWriter.convertValue(t,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Vn(Xn.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let n=this._document,r={};return r.type=e._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!n||!n.isValidDocument()||!n.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(n.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}};Hd._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hd._jsonSchema={type:or("string",Hd._jsonSchemaVersion),bundleSource:or("string","DocumentSnapshot"),bundleName:or("string"),bundle:or("string")};var Gd=class extends Hd{data(n={}){return super.data(n)}},im=class e{constructor(n,r,t,i){this._firestore=n,this._userDataWriter=r,this._snapshot=i,this.metadata=new zd(i.hasPendingWrites,i.fromCache),this.query=t}get docs(){let n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,r){this._snapshot.docs.forEach(t=>{n.call(r,new Gd(this._firestore,this._userDataWriter,t.key,t,new zd(this._snapshot.mutatedKeys.has(t.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){let r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Vn(Xn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{let d=new Gd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new zd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{let d=new Gd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new zd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter),m=-1,f=-1;return s.type!==0&&(m=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),f=o.indexOf(s.doc.key)),{type:FA(s.type),doc:d,oldIndex:m,newIndex:f}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Vn(Xn.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let n={};n.type=e._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=J_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let r=[],t=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),t.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),n.bundle=(this._firestore,this.query._query,n.bundleName,"NOT SUPPORTED"),n}};function FA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return La(61501,{type:e})}}im._jsonSchemaVersion="firestore/querySnapshot/1.0",im._jsonSchema={type:or("string",im._jsonSchemaVersion),bundleSource:or("string","QuerySnapshot"),bundleName:or("string"),bundle:or("string")};(function(n,r=!0){(function(i){sf=i})(kw),Xu(new kc("firestore",(t,{instanceIdentifier:i,options:a})=>{let o=t.getProvider("app").getImmediate(),s=new d1(new K_(t.getProvider("auth-internal")),new Z_(o,t.getProvider("app-check-internal")),function(m,f){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Vn(Xn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new i1(m.options.projectId,f)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),jd(jw,Uw,n),jd(jw,Uw,"esm2017")})();var Si=function(e){return e.LOGIN_ATTEMPT="LOGIN_ATTEMPT",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.LOGIN_FAILED="LOGIN_FAILED",e.LOGOUT="LOGOUT",e.PASSWORD_CHANGE="PASSWORD_CHANGE",e.PASSWORD_RESET="PASSWORD_RESET",e.SUSPICIOUS_ACTIVITY="SUSPICIOUS_ACTIVITY",e.RATE_LIMIT_EXCEEDED="RATE_LIMIT_EXCEEDED",e.UNAUTHORIZED_ACCESS="UNAUTHORIZED_ACCESS",e.SESSION_EXPIRED="SESSION_EXPIRED",e.ACCOUNT_LOCKED="ACCOUNT_LOCKED",e.ACCOUNT_UNLOCKED="ACCOUNT_UNLOCKED",e.FORCE_LOGOUT="FORCE_LOGOUT",e.SECURITY_ALERT="SECURITY_ALERT",e}(Si||{}),Mi=function(e){return e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical",e}(Mi||{}),C2=(()=>{let n=class n{constructor(t,i,a){this.router=t,this.userService=i,this.notificationService=a,this.securityEvents=new Jt([]),this.securityStatus=new Jt(null),this.securityConfig={SESSION_TIMEOUT:30*60*1e3,MAX_LOGIN_ATTEMPTS:5,LOCKOUT_DURATION:15*60*1e3,PASSWORD_MIN_LENGTH:8,REQUIRE_EMAIL_VERIFICATION:!0,ENABLE_TWO_FACTOR:!1,ENABLE_RATE_LIMITING:!0,ENABLE_AUDIT_LOGGING:!0,ENABLE_SECURITY_HEADERS:!0,ALLOWED_ORIGINS:["localhost","127.0.0.1","yourdomain.com"],BLOCKED_IPS:[]},this.securityEvents$=this.securityEvents.asObservable(),this.securityStatus$=this.securityStatus.asObservable(),this.initializeSecurityMonitoring()}initializeSecurityMonitoring(){this.userService.user$.subscribe(t=>{this.updateSecurityStatus()}),setInterval(()=>{},6e4),this.monitorSuspiciousActivity()}logSecurityEvent(t,i,a={},o){let s={id:this.generateEventId(),type:t,level:i,userId:o,timestamp:new Date,details:a,userAgent:navigator.userAgent,ipAddress:this.getClientIP(),location:window.location.href,resolved:!1},d=this.securityEvents.value;d.push(s),d.length>1e3&&d.shift(),this.securityEvents.next(d),i===Mi.CRITICAL&&this.handleCriticalSecurityEvent(s),console.log("Security Event:",s)}handleCriticalSecurityEvent(t){switch(t.type){case Si.SUSPICIOUS_ACTIVITY:this.notificationService.error("Suspicious activity detected. Please review your account.");break;case Si.UNAUTHORIZED_ACCESS:this.forceLogout("Unauthorized access detected");break;case Si.ACCOUNT_LOCKED:this.notificationService.warning("Account locked due to multiple failed login attempts.");break;case Si.SECURITY_ALERT:this.notificationService.error("Security alert: Please review your account immediately.");break}}updateSecurityStatus(){let t=this.userService.getUser(),i=this.userService.getSecurityStatus(),a={isAuthenticated:!!t,sessionActive:(i==null?void 0:i.sessionActive)||!1,sessionAge:(i==null?void 0:i.sessionAge)||0,loginAttempts:(i==null?void 0:i.loginAttempts)||0,isAccountLocked:(i==null?void 0:i.isLocked)||!1,isEmailVerified:(i==null?void 0:i.isEmailVerified)||!1,twoFactorEnabled:!1,lastLoginTime:i!=null&&i.lastLogin?new Date(i.lastLogin):void 0,securityLevel:this.calculateSecurityLevel(i),recentSecurityEvents:this.getRecentSecurityEvents()};this.securityStatus.next(a)}calculateSecurityLevel(t){if(!t)return Mi.LOW;let i=0;return t.isEmailVerified&&(i+=2),t.isLocked||(i+=1),t.loginAttempts<2&&(i+=1),t.sessionActive&&(i+=1),i>=4?Mi.HIGH:i>=2?Mi.MEDIUM:Mi.LOW}getRecentSecurityEvents(){let t=this.securityEvents.value,i=new Date(Date.now()-60*60*1e3);return t.filter(a=>a.timestamp>i)}performSecurityChecks(){let t=this.userService.getUser();if(!t)return;let i=this.userService.getSecurityStatus();i&&!i.sessionActive&&(this.logSecurityEvent(Si.SESSION_EXPIRED,Mi.HIGH,{userId:t.uid},t.uid),this.forceLogout("Session expired")),this.detectSuspiciousActivityPatterns()}detectSuspiciousActivityPatterns(){let t=this.getRecentSecurityEvents(),i=this.userService.getUser();if(!i)return;let a=t.filter(s=>s.type===Si.LOGIN_FAILED&&s.userId===i.uid);a.length>=3&&this.logSecurityEvent(Si.SUSPICIOUS_ACTIVITY,Mi.HIGH,{reason:"multiple_failed_logins",count:a.length},i.uid);let o=t.filter(s=>s.timestamp>new Date(Date.now()-5*60*1e3));o.length>10&&this.logSecurityEvent(Si.SUSPICIOUS_ACTIVITY,Mi.MEDIUM,{reason:"rapid_activity",count:o.length})}monitorSuspiciousActivity(){let t=0,i=Date.now();this.router.events.subscribe(()=>{let a=Date.now();a-i<1e3?(t++,t>10&&this.logSecurityEvent(Si.SUSPICIOUS_ACTIVITY,Mi.MEDIUM,{reason:"rapid_navigation",count:t})):t=0,i=a})}forceLogout(t){this.logSecurityEvent(Si.FORCE_LOGOUT,Mi.CRITICAL,{reason:t}),this.userService.forceLogout(t)}validateSecurityConfig(){let t=[];return this.securityConfig.PASSWORD_MIN_LENGTH<8&&t.push("Password minimum length should be at least 8 characters"),this.securityConfig.SESSION_TIMEOUT<5*60*1e3&&t.push("Session timeout should be at least 5 minutes"),this.securityConfig.MAX_LOGIN_ATTEMPTS<3&&t.push("Maximum login attempts should be at least 3"),t.length>0?(console.warn("Security configuration issues:",t),!1):!0}getSecurityConfig(){return ue({},this.securityConfig)}updateSecurityConfig(t){Object.assign(this.securityConfig,t),this.logSecurityEvent(Si.SECURITY_ALERT,Mi.MEDIUM,{reason:"config_updated",updates:t})}getSecurityEventsByType(t){return this.securityEvents.value.filter(i=>i.type===t)}getSecurityEventsByLevel(t){return this.securityEvents.value.filter(i=>i.level===t)}resolveSecurityEvent(t){let i=this.securityEvents.value,a=i.findIndex(o=>o.id===t);a!==-1&&(i[a].resolved=!0,this.securityEvents.next(i))}clearResolvedEvents(){let t=this.securityEvents.value.filter(i=>!i.resolved);this.securityEvents.next(t)}generateEventId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getClientIP(){return"client-side"}isOriginAllowed(t){return this.securityConfig.ALLOWED_ORIGINS.some(i=>t.includes(i))}isIPBlocked(t){return this.securityConfig.BLOCKED_IPS.includes(t)}blockIP(t,i){this.securityConfig.BLOCKED_IPS.includes(t)||(this.securityConfig.BLOCKED_IPS.push(t),this.logSecurityEvent(Si.SECURITY_ALERT,Mi.HIGH,{reason:i,ip:t}))}unblockIP(t){let i=this.securityConfig.BLOCKED_IPS.indexOf(t);i!==-1&&(this.securityConfig.BLOCKED_IPS.splice(i,1),this.logSecurityEvent(Si.SECURITY_ALERT,Mi.MEDIUM,{reason:"ip_unblocked",ip:t}))}};n.\u0275fac=function(i){return new(i||n)(Ne(Sn),Ne(rr),Ne(At))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var m1=(()=>{let n=class n{constructor(){this.currentLanguage=new Jt("en"),this.translations={loading:{en:"Loading...",hi:"\u0932\u094B\u0921 \u0939\u094B \u0930\u0939\u093E \u0939\u0948..."},error:{en:"Error",hi:"\u0924\u094D\u0930\u0941\u091F\u093F"},success:{en:"Success",hi:"\u0938\u092B\u0932\u0924\u093E"},cancel:{en:"Cancel",hi:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902"},save:{en:"Save",hi:"\u0938\u0939\u0947\u091C\u0947\u0902"},delete:{en:"Delete",hi:"\u0939\u091F\u093E\u090F\u0902"},edit:{en:"Edit",hi:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},add:{en:"Add",hi:"\u091C\u094B\u0921\u093C\u0947\u0902"},close:{en:"Close",hi:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902"},logout:{en:"Logout",hi:"\u0932\u0949\u0917\u0906\u0909\u091F"},login:{en:"Login",hi:"\u0932\u0949\u0917\u093F\u0928"},signup:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},email:{en:"Email",hi:"\u0908\u092E\u0947\u0932"},password:{en:"Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921"},name:{en:"Name",hi:"\u0928\u093E\u092E"},amount:{en:"Amount",hi:"\u0930\u093E\u0936\u093F"},date:{en:"Date",hi:"\u0924\u093E\u0930\u0940\u0916"},category:{en:"Category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940"},type:{en:"Type",hi:"\u092A\u094D\u0930\u0915\u093E\u0930"},income:{en:"Income",hi:"\u0906\u092F"},expense:{en:"Expense",hi:"\u0916\u0930\u094D\u091A"},total:{en:"Total",hi:"\u0915\u0941\u0932"},balance:{en:"Balance",hi:"\u0936\u0947\u0937 \u0930\u093E\u0936\u093F"},actions:{en:"Actions",hi:"\u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},search:{en:"Search",hi:"\u0916\u094B\u091C\u0947\u0902"},filter:{en:"Filter",hi:"\u092B\u093C\u093F\u0932\u094D\u091F\u0930"},clear:{en:"Clear",hi:"\u0938\u093E\u092B\u093C \u0915\u0930\u0947\u0902"},settings:{en:"Settings",hi:"\u0938\u0947\u091F\u093F\u0902\u0917\u094D\u0938"},dashboard:{en:"Dashboard",hi:"\u0921\u0948\u0936\u092C\u094B\u0930\u094D\u0921"},home:{en:"Home",hi:"\u0939\u094B\u092E"},accounts:{en:"Accounts",hi:"\u0916\u093E\u0924\u0947"},transactions:{en:"Transactions",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928"},categories:{en:"Categories",hi:"\u0936\u094D\u0930\u0947\u0923\u093F\u092F\u093E\u0902"},budgets:{en:"Budgets",hi:"\u092C\u091C\u091F"},goals:{en:"Goals",hi:"\u0932\u0915\u094D\u0937\u094D\u092F"},reports:{en:"Reports",hi:"\u0930\u093F\u092A\u094B\u0930\u094D\u091F\u094D\u0938"},calendar:{en:"Calendar",hi:"\u0915\u0948\u0932\u0947\u0902\u0921\u0930"},notes:{en:"Notes",hi:"\u0928\u094B\u091F\u094D\u0938"},tax:{en:"Tax",hi:"\u0915\u0930"},tools:{en:"Tools",hi:"\u0909\u092A\u0915\u0930\u0923"},moneyManager:{en:`${xt.APP_NAME}`,hi:"\u092E\u0928\u0940 \u092E\u0948\u0928\u0947\u091C\u0930"},manageFinances:{en:"Manage your finances",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0915\u0930\u0947\u0902"},welcomeBack:{en:"Welcome Back!",hi:"\u0935\u093E\u092A\u0938\u0940 \u092A\u0930 \u0938\u094D\u0935\u093E\u0917\u0924 \u0939\u0948!"},youSpend:{en:"You Spend",hi:"\u0906\u092A\u0915\u093E \u0916\u0930\u094D\u091A"},youEarn:{en:"You Earn",hi:"\u0906\u092A\u0915\u0940 \u0915\u092E\u093E\u0908"},netBalance:{en:"Net Balance",hi:"\u0936\u0941\u0926\u094D\u0927 \u0936\u0947\u0937"},thisMonth:{en:"This Month",hi:"\u0907\u0938 \u092E\u0939\u0940\u0928\u0947"},lastMonth:{en:"Last Month",hi:"\u092A\u093F\u091B\u0932\u0947 \u092E\u0939\u0940\u0928\u0947"},quickActions:{en:"Quick Actions",hi:"\u0924\u094D\u0935\u0930\u093F\u0924 \u0915\u093E\u0930\u094D\u0930\u0935\u093E\u0908"},recentTransactions:{en:"Recent Transactions",hi:"\u0939\u093E\u0932 \u0915\u0947 \u0932\u0947\u0928-\u0926\u0947\u0928"},upcomingBills:{en:"Upcoming Bills",hi:"\u0906\u0917\u093E\u092E\u0940 \u092C\u093F\u0932"},savingsGoal:{en:"Savings Goal",hi:"\u092C\u091A\u0924 \u0932\u0915\u094D\u0937\u094D\u092F"},signIn:{en:"Sign In",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928"},signUp:{en:"Sign Up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A"},signOut:{en:"Sign Out",hi:"\u0938\u093E\u0907\u0928 \u0906\u0909\u091F"},forgotPassword:{en:"Forgot Password?",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092D\u0942\u0932 \u0917\u090F?"},resetPassword:{en:"Reset Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0930\u0940\u0938\u0947\u091F \u0915\u0930\u0947\u0902"},emailPlaceholder:{en:"Enter your email",hi:"\u0905\u092A\u0928\u093E \u0908\u092E\u0947\u0932 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},passwordPlaceholder:{en:"Enter your password",hi:"\u0905\u092A\u0928\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},confirmPassword:{en:"Confirm Password",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0915\u0940 \u092A\u0941\u0937\u094D\u091F\u093F \u0915\u0930\u0947\u0902"},namePlaceholder:{en:"Enter your name",hi:"\u0905\u092A\u0928\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},loginSuccess:{en:"Successfully signed in",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},loginError:{en:"Failed to sign in",hi:"\u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},signupSuccess:{en:"Successfully signed up",hi:"\u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},signupError:{en:"Failed to sign up",hi:"\u0938\u093E\u0907\u0928 \u0905\u092A \u0915\u0930\u0928\u0947 \u092E\u0947\u0902 \u0935\u093F\u092B\u0932"},sessionExpired:{en:"Session expired. Please sign in again.",hi:"\u0938\u0924\u094D\u0930 \u0938\u092E\u093E\u092A\u094D\u0924 \u0939\u094B \u0917\u092F\u093E\u0964 \u0915\u0943\u092A\u092F\u093E \u092B\u093F\u0930 \u0938\u0947 \u0938\u093E\u0907\u0928 \u0907\u0928 \u0915\u0930\u0947\u0902\u0964"},invalidCredentials:{en:"Invalid email or password",hi:"\u0905\u092E\u093E\u0928\u094D\u092F \u0908\u092E\u0947\u0932 \u092F\u093E \u092A\u093E\u0938\u0935\u0930\u094D\u0921"},passwordMismatch:{en:"Passwords do not match",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u092E\u0947\u0932 \u0928\u0939\u0940\u0902 \u0916\u093E\u0924\u0947"},emailRequired:{en:"Email is required",hi:"\u0908\u092E\u0947\u0932 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},passwordRequired:{en:"Password is required",hi:"\u092A\u093E\u0938\u0935\u0930\u094D\u0921 \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},nameRequired:{en:"Name is required",hi:"\u0928\u093E\u092E \u0906\u0935\u0936\u094D\u092F\u0915 \u0939\u0948"},addTransaction:{en:"Add Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0947\u0902"},editTransaction:{en:"Edit Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902"},deleteTransaction:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},transactionHistory:{en:"Transaction History",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0907\u0924\u093F\u0939\u093E\u0938"},manageTransactions:{en:"Manage and track your financial transactions",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924\u0940\u092F \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u093E \u092A\u094D\u0930\u092C\u0902\u0927\u0928 \u0914\u0930 \u091F\u094D\u0930\u0948\u0915\u093F\u0902\u0917 \u0915\u0930\u0947\u0902"},payee:{en:"Payee",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E"},payeePlaceholder:{en:"Enter payee name",hi:"\u092A\u094D\u0930\u093E\u092A\u094D\u0924\u0915\u0930\u094D\u0924\u093E \u0915\u093E \u0928\u093E\u092E \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},amountPlaceholder:{en:"Enter amount",hi:"\u0930\u093E\u0936\u093F \u0926\u0930\u094D\u091C \u0915\u0930\u0947\u0902"},categoryPlaceholder:{en:"Select category",hi:"\u0936\u094D\u0930\u0947\u0923\u0940 \u091A\u0941\u0928\u0947\u0902"},datePlaceholder:{en:"Select date",hi:"\u0924\u093E\u0930\u0940\u0916 \u091A\u0941\u0928\u0947\u0902"},notesPlaceholder:{en:"Add notes (optional)",hi:"\u0928\u094B\u091F\u094D\u0938 \u091C\u094B\u0921\u093C\u0947\u0902 (\u0935\u0948\u0915\u0932\u094D\u092A\u093F\u0915)"},noTransactions:{en:"No transactions yet",hi:"\u0905\u092D\u0940 \u0924\u0915 \u0915\u094B\u0908 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0928\u0939\u0940\u0902"},noTransactionsMessage:{en:"Start by adding your first transaction to track your finances.",hi:"\u0905\u092A\u0928\u0947 \u0935\u093F\u0924\u094D\u0924 \u0915\u093E \u091F\u094D\u0930\u0948\u0915 \u0930\u0916\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0905\u092A\u0928\u093E \u092A\u0939\u0932\u093E \u0932\u0947\u0928-\u0926\u0947\u0928 \u091C\u094B\u0921\u093C\u0915\u0930 \u0936\u0941\u0930\u0942 \u0915\u0930\u0947\u0902\u0964"},transactionAdded:{en:"Transaction added successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u091C\u094B\u0921\u093C\u093E \u0917\u092F\u093E"},transactionUpdated:{en:"Transaction updated successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0905\u092A\u0921\u0947\u091F \u0915\u093F\u092F\u093E \u0917\u092F\u093E"},transactionDeleted:{en:"Transaction deleted successfully",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},confirmDelete:{en:"Delete Transaction",hi:"\u0932\u0947\u0928-\u0926\u0947\u0928 \u0939\u091F\u093E\u090F\u0902"},confirmDeleteMessage:{en:"Are you sure you want to delete this transaction?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0907\u0938 \u0932\u0947\u0928-\u0926\u0947\u0928 \u0915\u094B \u0939\u091F\u093E\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"},networkError:{en:"Network error. Please check your connection.",hi:"\u0928\u0947\u091F\u0935\u0930\u094D\u0915 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0915\u0928\u0947\u0915\u094D\u0936\u0928 \u091C\u093E\u0902\u091A\u0947\u0902\u0964"},serverError:{en:"Server error. Please try again later.",hi:"\u0938\u0930\u094D\u0935\u0930 \u0924\u094D\u0930\u0941\u091F\u093F\u0964 \u0915\u0943\u092A\u092F\u093E \u092C\u093E\u0926 \u092E\u0947\u0902 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},validationError:{en:"Please check your input and try again.",hi:"\u0915\u0943\u092A\u092F\u093E \u0905\u092A\u0928\u093E \u0907\u0928\u092A\u0941\u091F \u091C\u093E\u0902\u091A\u0947\u0902 \u0914\u0930 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964"},dataSaved:{en:"Data saved successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0938\u0939\u0947\u091C\u093E \u0917\u092F\u093E"},dataDeleted:{en:"Data deleted successfully",hi:"\u0921\u0947\u091F\u093E \u0938\u092B\u0932\u0924\u093E\u092A\u0942\u0930\u094D\u0935\u0915 \u0939\u091F\u093E\u092F\u093E \u0917\u092F\u093E"},changesDiscarded:{en:"Changes discarded",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917 \u0926\u093F\u090F \u0917\u090F"},unsavedChanges:{en:"You have unsaved changes",hi:"\u0906\u092A\u0915\u0947 \u092A\u093E\u0938 \u0905\u0938\u0939\u0947\u091C\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0939\u0948\u0902"},confirmDiscard:{en:"Discard Changes",hi:"\u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0947\u0902"},confirmDiscardMessage:{en:"Are you sure you want to discard your changes?",hi:"\u0915\u094D\u092F\u093E \u0906\u092A \u0935\u093E\u0915\u0908 \u0905\u092A\u0928\u0947 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928 \u0924\u094D\u092F\u093E\u0917\u0928\u093E \u091A\u093E\u0939\u0924\u0947 \u0939\u0948\u0902?"}};let t=localStorage.getItem("app_language");t&&(t==="en"||t==="hi")?this.currentLanguage.next(t):navigator.language.split("-")[0]==="hi"&&this.currentLanguage.next("hi")}getCurrentLanguage(){return this.currentLanguage.asObservable()}getCurrentLanguageValue(){return this.currentLanguage.value}setLanguage(t){this.currentLanguage.next(t),localStorage.setItem("app_language",t)}translate(t){let i=this.translations[t];return i&&(i[this.currentLanguage.value]||i.en)||t}translateWithParams(t,i){let a=this.translate(t);return Object.keys(i).forEach(o=>{a=a.replace(`{{${o}}}`,i[o])}),a}getAvailableLanguages(){return[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"\u0939\u093F\u0902\u0926\u0940"}]}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var cf=(()=>{let n=class n{constructor(t){this.translationService=t}transform(t,i){return i?this.translationService.translateWithParams(t,i):this.translationService.translate(t)}};n.\u0275fac=function(i){return new(i||n)(D(m1,16))},n.\u0275pipe=q0({name:"translate",type:n,pure:!0,standalone:!0});let e=n;return e})();var NA=(e,n,r,t)=>({"bg-red-500":e,"bg-yellow-500":n,"bg-blue-500":r,"bg-green-500":t});function LA(e,n){if(e&1&&(c(0,"p",45),u(1),l()),e&2){let r=k(2);g(),he(" Time remaining: ",r.getLockoutTimeRemaining()," minutes ")}}function VA(e,n){if(e&1&&(c(0,"div",41)(1,"div",36),si(),c(2,"svg",42),de(3,"path",43),l(),Gr(),c(4,"span",44),u(5,"Account Temporarily Locked"),l()(),c(6,"p",45),u(7,"Too many failed login attempts. Please try again later."),l(),G(8,LA,2,1,"p",46),l()),e&2){let r=k();g(8),P("ngIf",r.lockoutTimeRemaining>0)}}function BA(e,n){if(e&1&&(c(0,"div",47)(1,"div",36),si(),c(2,"svg",42),de(3,"path",48),l(),Gr(),c(4,"span",44),u(5,"Login Attempts"),l()(),c(6,"p",45),u(7),l()()),e&2){let r=k();g(7),xi(" Failed attempts: ",r.loginAttempts," / ",r.maxLoginAttempts," ")}}function jA(e,n){e&1&&(c(0,"span"),u(1),Ee(2,"translate"),l()),e&2&&(g(),ne($e(2,1,"emailRequired")))}function UA(e,n){e&1&&(c(0,"span"),u(1,"Please enter a valid email address"),l())}function zA(e,n){e&1&&(c(0,"span"),u(1,"Disposable email addresses are not allowed"),l())}function HA(e,n){if(e&1&&(c(0,"div",49),G(1,jA,3,3,"span",28)(2,UA,2,0,"span",28)(3,zA,2,0,"span",28),l()),e&2){let r,t,i,a=k();g(),P("ngIf",(r=a.signInForm.get("email"))==null||r.errors==null?null:r.errors.required),g(),P("ngIf",(t=a.signInForm.get("email"))==null||t.errors==null?null:t.errors.email),g(),P("ngIf",(i=a.signInForm.get("email"))==null||i.errors==null?null:i.errors.disposableEmail)}}function GA(e,n){e&1&&(c(0,"span"),u(1,"Full name is required"),l())}function $A(e,n){e&1&&(c(0,"span"),u(1,"Name must be at least 2 characters long"),l())}function WA(e,n){if(e&1&&(c(0,"div",49),G(1,GA,2,0,"span",28)(2,$A,2,0,"span",28),l()),e&2){let r,t,i=k(2);g(),P("ngIf",(r=i.signInForm.get("name"))==null||r.errors==null?null:r.errors.required),g(),P("ngIf",(t=i.signInForm.get("name"))==null||t.errors==null?null:t.errors.minLength)}}function YA(e,n){if(e&1&&(c(0,"div",11)(1,"label",50),u(2,"Full Name"),l(),de(3,"input",51),G(4,WA,3,2,"div",14),l()),e&2){let r,t=k();g(3),Gt("data-security-level",t.securityLevel),g(),P("ngIf",((r=t.signInForm.get("name"))==null?null:r.invalid)&&((r=t.signInForm.get("name"))==null?null:r.touched))}}function qA(e,n){e&1&&(c(0,"a",52),u(1,"Forget Password?"),l())}function KA(e,n){e&1&&(si(),c(0,"svg",53),de(1,"path",54)(2,"path",55),l())}function QA(e,n){e&1&&(si(),c(0,"svg",53),de(1,"path",56),l())}function XA(e,n){e&1&&(c(0,"span"),u(1,"Password must be at least 8 characters with uppercase, lowercase, number, and special character"),l())}function ZA(e,n){if(e&1&&(c(0,"div",57)(1,"div",58)(2,"span"),u(3,"Password strength:"),l(),c(4,"span"),u(5),l()(),c(6,"div",59),de(7,"div",60),l(),c(8,"div",61),G(9,XA,2,0,"span",28),l()()),e&2){let r=k();g(4),jt(r.getPasswordStrengthColor()),g(),ne(r.getPasswordStrengthText()),g(2),Yt("width",r.passwordStrength/4*100,"%"),P("ngClass",gy(7,NA,r.passwordStrength<=1,r.passwordStrength===2,r.passwordStrength===3,r.passwordStrength>=4)),g(2),P("ngIf",r.passwordStrength<3)}}function JA(e,n){e&1&&(c(0,"span"),u(1),Ee(2,"translate"),l()),e&2&&(g(),ne($e(2,1,"passwordRequired")))}function eD(e,n){e&1&&(c(0,"span"),u(1,"Password must be at least 8 characters long"),l())}function tD(e,n){e&1&&(c(0,"span"),u(1,"Password must contain uppercase, lowercase, number, and special character"),l())}function nD(e,n){if(e&1&&(c(0,"div",49),G(1,JA,3,3,"span",28)(2,eD,2,0,"span",28)(3,tD,2,0,"span",28),l()),e&2){let r,t,i,a=k();g(),P("ngIf",(r=a.signInForm.get("password"))==null||r.errors==null?null:r.errors.required),g(),P("ngIf",(t=a.signInForm.get("password"))==null||t.errors==null?null:t.errors.minLength),g(),P("ngIf",(i=a.signInForm.get("password"))==null||i.errors==null?null:i.errors.passwordStrength)}}function iD(e,n){e&1&&(si(),c(0,"svg",53),de(1,"path",54)(2,"path",55),l())}function rD(e,n){e&1&&(si(),c(0,"svg",53),de(1,"path",56),l())}function aD(e,n){e&1&&(c(0,"span"),u(1),Ee(2,"translate"),l()),e&2&&(g(),he("",$e(2,1,"confirmPassword")," is required"))}function oD(e,n){e&1&&(c(0,"span"),u(1,"Passwords do not match"),l())}function sD(e,n){if(e&1&&(c(0,"div",49),G(1,aD,3,3,"span",28)(2,oD,2,0,"span",28),l()),e&2){let r,t,i=k(2);g(),P("ngIf",(r=i.signInForm.get("confirmPassword"))==null||r.errors==null?null:r.errors.required),g(),P("ngIf",(t=i.signInForm.get("confirmPassword"))==null||t.errors==null?null:t.errors.notMatch)}}function cD(e,n){if(e&1){let r=Ce();c(0,"div",11)(1,"label",62),u(2),Ee(3,"translate"),l(),c(4,"div",19),de(5,"input",63),c(6,"button",21),H("click",function(){q(r);let i=k();return K(i.toggleConfirmPasswordVisibility())}),G(7,iD,3,0,"svg",22)(8,rD,2,0,"svg",22),l()(),G(9,sD,3,2,"div",14),l()}if(e&2){let r,t=k();g(2),ne($e(3,6,"confirmPassword")),g(3),P("type",t.showConfirmPassword?"text":"password"),Gt("data-security-level",t.securityLevel),g(2),P("ngIf",!t.showConfirmPassword),g(),P("ngIf",t.showConfirmPassword),g(),P("ngIf",((r=t.signInForm.get("confirmPassword"))==null?null:r.invalid)&&((r=t.signInForm.get("confirmPassword"))==null?null:r.touched))}}function lD(e,n){e&1&&de(0,"mat-spinner",64)}function dD(e,n){if(e&1&&(c(0,"span"),u(1),Ee(2,"translate"),Ee(3,"translate"),l()),e&2){let r=k();g(),ne(r.isSignInPage?$e(2,1,"signIn"):$e(3,3,"signUp"))}}function uD(e,n){if(e&1&&(c(0,"span"),u(1),l()),e&2){let r=k();g(),ne(r.isSignInPage?"Signing in...":"Creating account...")}}function mD(e,n){e&1&&(si(),c(0,"svg",65),de(1,"path",66)(2,"path",67)(3,"path",68)(4,"path",69),l())}function hD(e,n){e&1&&de(0,"mat-spinner",70)}var h1=(()=>{let n=class n{constructor(t,i,a,o,s,d,m,f){this.fb=t,this.router=i,this.route=a,this.userService=o,this.notificationService=s,this.securityService=d,this.validationService=m,this.store=f,this.isSignInPage=!0,this.isLoading=!1,this.isAccountLocked=!1,this.lockoutTimeRemaining=0,this.loginAttempts=0,this.maxLoginAttempts=5,this.showPassword=!1,this.showConfirmPassword=!1,this.passwordStrength=0,this.securityLevel="moderate",this.destroy$=new bt,this.loginAttemptCount=0,this.lastLoginAttempt=0,this.rateLimitWindow=6e4,this.maxAttemptsPerWindow=3,this.initializeForm(),this._setIsSignInPage(this.router.url.includes("/sign-in")),this.checkQueryParams()}ngOnInit(){this.setupFormValidation(),this.checkSecurityStatus(),this.startSecurityMonitoring()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeForm(){this.signInForm=this.fb.group({email:["",[...this.validationService.getProfileEmailValidators(),this.emailDomainValidator.bind(this)]],password:["",[...this.validationService.getAuthPasswordValidators(),this.passwordStrengthValidator.bind(this)]]})}setupFormValidation(){var t,i;(t=this.signInForm.get("password"))==null||t.valueChanges.pipe(It(this.destroy$),ws(300),dd()).subscribe(a=>{this.passwordStrength=this.calculatePasswordStrength(a)}),(i=this.signInForm.get("email"))==null||i.valueChanges.pipe(It(this.destroy$),ws(500),dd()).subscribe(a=>{this.monitorEmailInput(a)})}checkQueryParams(){this.route.queryParams.subscribe(t=>{t.error&&this.handleSecurityError(t.error,t.message),t.session==="expired"&&this.notificationService.warning("Your session has expired. Please sign in again."),t.cacheUpdate==="true"&&this.notificationService.info("Application updated. Please sign in again.")})}checkSecurityStatus(){let t=this.userService.getSecurityStatus();t&&(this.isAccountLocked=t.isLocked,this.loginAttempts=t.loginAttempts,this.maxLoginAttempts=t.remainingAttempts+t.loginAttempts,this.isAccountLocked&&this.calculateLockoutTime())}startSecurityMonitoring(){setInterval(()=>{this.checkSecurityStatus()},1e4)}onSignIn(){return ge(this,null,function*(){var a,o;if(!this.signInForm.valid){this.notificationService.error("Please fill all required fields correctly"),this.markFormGroupTouched();return}if(this.isRateLimited()){this.notificationService.error("Too many login attempts. Please wait before trying again.");return}if(this.isAccountLocked){this.notificationService.error(`Account is temporarily locked. Please try again in ${Math.ceil(this.lockoutTimeRemaining/6e4)} minutes.`);return}let t=(a=this.signInForm.get("email"))==null?void 0:a.value,i=(o=this.signInForm.get("password"))==null?void 0:o.value;this.securityService.logSecurityEvent(Si.LOGIN_ATTEMPT,Mi.MEDIUM,{email:t,timestamp:new Date().toISOString()});try{this.isLoading=!0,this.loginAttemptCount++,this.lastLoginAttempt=Date.now(),yield this.userService.signIn(t,i),this.securityService.logSecurityEvent(Si.LOGIN_SUCCESS,Mi.LOW,{email:t,timestamp:new Date().toISOString()}),this.notificationService.success("Successfully signed in!"),yield this.loadUserData(),this.router.navigate(["/dashboard"])}catch(s){this.handleSignInError(s,t)}finally{this.isLoading=!1}})}onSignUp(){return ge(this,null,function*(){var o,s,d,m,f,_;if(!this.signInForm.valid){this.notificationService.error("Please fill all required fields correctly"),this.markFormGroupTouched();return}if(this.passwordStrength<3){this.notificationService.error("Password is too weak. Please choose a stronger password.");return}if(((o=this.signInForm.get("password"))==null?void 0:o.value)!==((s=this.signInForm.get("confirmPassword"))==null?void 0:s.value)){this.notificationService.error("Passwords do not match"),(d=this.signInForm.get("confirmPassword"))==null||d.setErrors({notMatch:!0});return}let t=(m=this.signInForm.get("email"))==null?void 0:m.value,i=(f=this.signInForm.get("password"))==null?void 0:f.value,a=((_=this.signInForm.get("name"))==null?void 0:_.value)||"User";this.securityService.logSecurityEvent(Si.SECURITY_ALERT,Mi.MEDIUM,{type:"registration_attempt",email:t,timestamp:new Date().toISOString()});try{this.isLoading=!0,yield this.userService.signUp(t,i,a),this.securityService.logSecurityEvent(Si.SECURITY_ALERT,Mi.LOW,{type:"registration_success",email:t,timestamp:new Date().toISOString()}),this.notificationService.success("Account created successfully! Please check your email for verification."),this._setIsSignInPage(!0)}catch(v){this.handleSignUpError(v,t)}finally{this.isLoading=!1}})}signInWithGoogle(){return ge(this,null,function*(){if(this.isRateLimited()){this.notificationService.error("Too many sign-in attempts. Please wait before trying again.");return}try{this.isLoading=!0,this.securityService.logSecurityEvent(Si.LOGIN_ATTEMPT,Mi.MEDIUM,{method:"google",timestamp:new Date().toISOString()}),yield this.userService.signInWithGoogle(),this.securityService.logSecurityEvent(Si.LOGIN_SUCCESS,Mi.LOW,{method:"google",timestamp:new Date().toISOString()}),this.notificationService.success("Successfully signed in with Google!"),yield this.loadUserData(),this.router.navigate(["/dashboard"])}catch(t){this.handleGoogleSignInError(t)}finally{this.isLoading=!1}})}loadUserData(){return ge(this,null,function*(){try{let t=this.userService.getUser();if(!(t!=null&&t.uid)){console.warn("No user ID available for loading data");return}yield Promise.all([this.store.dispatch(gr({userId:t.uid})),this.store.dispatch(Sa({userId:t.uid})),this.store.dispatch(wa({userId:t.uid})),this.store.dispatch(es({userId:t.uid})),this.store.dispatch(ts({userId:t.uid})),this.store.dispatch(ns({userId:t.uid}))])}catch(t){console.error("Error loading user data:",t)}})}handleSignInError(t,i){switch(console.error("Sign-in error:",t),this.securityService.logSecurityEvent(Si.LOGIN_FAILED,Mi.HIGH,{email:i,error:t.message||"Unknown error",timestamp:new Date().toISOString()}),t.code){case"auth/user-not-found":this.notificationService.error("No account found with this email address.");break;case"auth/wrong-password":this.notificationService.error("Incorrect password. Please try again.");break;case"auth/too-many-requests":this.notificationService.error("Too many failed attempts. Please try again later."),this.isAccountLocked=!0;break;case"auth/user-disabled":this.notificationService.error("This account has been disabled. Please contact support.");break;case"auth/invalid-email":this.notificationService.error("Invalid email address format.");break;default:this.notificationService.error(t.message||"Sign-in failed. Please try again.")}}handleSignUpError(t,i){switch(console.error("Sign-up error:",t),this.securityService.logSecurityEvent(Si.SECURITY_ALERT,Mi.HIGH,{type:"registration_failed",email:i,error:t.message||"Unknown error",timestamp:new Date().toISOString()}),t.code){case"auth/email-already-in-use":this.notificationService.error("An account with this email already exists.");break;case"auth/weak-password":this.notificationService.error("Password is too weak. Please choose a stronger password.");break;case"auth/invalid-email":this.notificationService.error("Invalid email address format.");break;default:this.notificationService.error(t.message||"Registration failed. Please try again.")}}handleGoogleSignInError(t){console.error("Google sign-in error:",t),this.securityService.logSecurityEvent(Si.LOGIN_FAILED,Mi.MEDIUM,{method:"google",error:t.message||"Unknown error",timestamp:new Date().toISOString()}),t.code==="auth/popup-closed-by-user"?this.notificationService.error("Sign-in was cancelled. Please try again."):t.code==="auth/popup-blocked"?this.notificationService.error("Popup was blocked. Please allow popups for this site and try again."):t.code==="auth/cancelled-popup-request"?this.notificationService.error("Sign-in request was cancelled. Please try again."):this.notificationService.error("Google sign-in failed. Please try again or use email sign-in.")}handleSecurityError(t,i){switch(t){case"unauthorized":this.notificationService.error("Session expired. Please sign in again.");break;case"insufficient_permissions":this.notificationService.error("You do not have permission to access that page.");break;case"security_error":this.notificationService.error(i||"A security error occurred.");break;case"auth_failed":this.notificationService.error("Authentication failed. Please try again.");break;default:this.notificationService.error("An error occurred. Please try again.")}}isRateLimited(){let i=Date.now()-this.lastLoginAttempt;return i<this.rateLimitWindow&&this.loginAttemptCount>=this.maxAttemptsPerWindow?!0:(i>=this.rateLimitWindow&&(this.loginAttemptCount=0),!1)}calculateLockoutTime(){let t=this.userService.getSecurityStatus();if(t&&t.lockoutTime){let i=Date.now();this.lockoutTimeRemaining=Math.max(0,t.lockoutTime-i)}}calculatePasswordStrength(t){if(!t)return 0;let i=0;return t.length>=8&&i++,/[a-z]/.test(t)&&i++,/[A-Z]/.test(t)&&i++,/[0-9]/.test(t)&&i++,/[^A-Za-z0-9]/.test(t)&&i++,Math.min(i,4)}monitorEmailInput(t){if(!t)return;[/test/i,/admin/i,/root/i,/temp/i,/fake/i].some(a=>a.test(t))&&this.securityService.logSecurityEvent(Si.SUSPICIOUS_ACTIVITY,Mi.MEDIUM,{type:"suspicious_email",email:t,timestamp:new Date().toISOString()})}emailDomainValidator(t){if(!t.value)return null;let i=t.value.toLowerCase(),a=["tempmail.org","10minutemail.com","guerrillamail.com","mailinator.com","throwaway.email","temp-mail.org"],o=i.split("@")[1];return a.includes(o)?{disposableEmail:!0}:null}passwordStrengthValidator(t){if(!t.value)return null;let i=t.value,a=8,o=/[A-Z]/.test(i),s=/[a-z]/.test(i),d=/\d/.test(i),m=/[!@#$%^&*(),.?":{}|<>]/.test(i);return i.length<a?{minLength:{requiredLength:a,actualLength:i.length}}:!o||!s||!d||!m?{passwordStrength:!0}:null}markFormGroupTouched(){Object.keys(this.signInForm.controls).forEach(t=>{let i=this.signInForm.get(t);i==null||i.markAsTouched()})}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}getPasswordStrengthText(){switch(this.passwordStrength){case 0:return"Very Weak";case 1:return"Weak";case 2:return"Fair";case 3:return"Good";case 4:return"Strong";default:return"Very Weak"}}getPasswordStrengthColor(){switch(this.passwordStrength){case 0:return"text-red-500";case 1:return"text-orange-500";case 2:return"text-yellow-500";case 3:return"text-blue-500";case 4:return"text-green-500";default:return"text-red-500"}}getLockoutTimeRemaining(){return Math.ceil(this.lockoutTimeRemaining/6e4)}gotoPage(){this._setIsSignInPage(!this.isSignInPage)}_setIsSignInPage(t){this.isSignInPage=t,this.isSignInPage?(this.signInForm.removeControl("confirmPassword"),this.signInForm.removeControl("name")):(this.signInForm.addControl("confirmPassword",this.fb.control("",[yt.required])),this.signInForm.addControl("name",this.fb.control("",[yt.required,yt.minLength(2)])))}};n.\u0275fac=function(i){return new(i||n)(D(wr),D(Sn),D(Sy),D(rr),D(At),D(C2),D(Kr),D(qt))},n.\u0275cmp=Fe({type:n,selectors:[["app-sign-in"]],decls:61,vars:38,consts:[[1,"flex","items-center","h-screen","bg-blue-100"],[1,"flex","w-full","max-w-sm","mx-auto","bg-white","rounded-lg","shadow-lg","dark:bg-gray-800","lg:max-w-4xl","h-screen","overflow-auto","lg:max-h-[43rem]"],[1,"hidden","bg-cover","lg:flex","lg:w-1/2","items-center","bg-blue-50"],[1,"bg"],[1,"w-full","px-6","py-8","md:px-8","lg:w-1/2","overflow-auto"],[1,"flex","justify-center","mx-auto"],["src","../../../../assets/images/logo.svg","alt","",1,"w-auto","h-20"],[1,"mt-3","text-xl","text-center","text-gray-600","dark:text-gray-200"],["class","mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",4,"ngIf"],["class","mt-4 p-3 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded-lg",4,"ngIf"],["appSecurity","moderate",3,"formGroup"],[1,"mt-4"],["for","LoggingEmailAddress",1,"block","mb-2","text-sm","font-medium","text-gray-600","dark:text-gray-200"],["id","LoggingEmailAddress","formControlName","email","type","email","autocomplete","email",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","rounded-lg","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring","focus:ring-blue-300"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"flex","justify-between"],["for","loggingPassword",1,"block","mb-2","text-sm","font-medium","text-gray-600","dark:text-gray-200"],["class","text-xs text-gray-500 dark:text-gray-300 hover:underline",4,"ngIf"],[1,"relative"],["id","loggingPassword","formControlName","password","autocomplete","current-password",1,"block","w-full","px-4","py-2","pr-10","text-gray-700","bg-white","border","rounded-lg","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring","focus:ring-blue-300",3,"type"],["type","button",1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","text-gray-400","hover:text-gray-600",3,"click"],["class","w-5 h-5","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"mt-6"],[1,"w-full","px-6","py-3","text-sm","font-medium","tracking-wide","text-white","capitalize","transition-colors","duration-300","transform","bg-primary","rounded-lg","hover:bg-primary800","focus:outline-none","focus:ring","focus:ring-gray-300","focus:ring-opacity-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"flex","items-center","justify-center"],["diameter","20","class","mr-2",4,"ngIf"],[4,"ngIf"],["type","button",1,"w-full","px-6","mt-4","py-3","text-sm","font-medium","tracking-wide","text-gray-600","capitalize","transition-colors","duration-300","transform","border","border-gray-300","rounded-lg","hover:bg-gray-50","dark:border-gray-600","dark:text-gray-200","dark:hover:bg-gray-700","focus:outline-none","focus:ring","focus:ring-gray-300","focus:ring-opacity-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","w-5 h-5 mr-2 ","viewBox","0 0 40 40",4,"ngIf"],["diameter","20","class","mr-2 text-blue-500",4,"ngIf"],[1,"flex","items-center","justify-between","mt-4"],[1,"w-1/5","border-b","dark:border-gray-600","md:w-1/4"],[1,"text-xs","text-gray-500","uppercase","dark:text-gray-400","hover:underline","cursor-pointer",3,"click"],[1,"mt-6","p-3","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-2","text-blue-600"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],[1,"text-sm","text-blue-800","font-medium"],[1,"mt-1","text-xs","text-blue-700"],[1,"mt-4","p-3","bg-red-100","border","border-red-400","text-red-700","rounded-lg"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","mr-2"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"font-medium"],[1,"mt-1","text-sm"],["class","mt-1 text-sm",4,"ngIf"],[1,"mt-4","p-3","bg-yellow-100","border","border-yellow-400","text-yellow-700","rounded-lg"],["fill-rule","evenodd","d","M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"text-red-500","text-sm","mt-1"],["for","userName",1,"block","mb-2","text-sm","font-medium","text-gray-600","dark:text-gray-200"],["id","userName","formControlName","name","type","text","autocomplete","name",1,"block","w-full","px-4","py-2","text-gray-700","bg-white","border","rounded-lg","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring","focus:ring-blue-300"],[1,"text-xs","text-gray-500","dark:text-gray-300","hover:underline"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"],[1,"mt-2"],[1,"flex","items-center","justify-between","text-sm"],[1,"mt-1","w-full","bg-gray-200","rounded-full","h-2"],[1,"h-2","rounded-full","transition-all","duration-300",3,"ngClass"],[1,"mt-1","text-xs","text-gray-500"],["for","confirmPassword",1,"block","mb-2","text-sm","font-medium","text-gray-600","dark:text-gray-200"],["id","confirmPassword","formControlName","confirmPassword","autocomplete","new-password",1,"block","w-full","px-4","py-2","pr-10","text-gray-700","bg-white","border","rounded-lg","dark:bg-gray-800","dark:text-gray-300","dark:border-gray-600","focus:border-blue-400","focus:ring-opacity-40","dark:focus:border-blue-300","focus:outline-none","focus:ring","focus:ring-blue-300",3,"type"],["diameter","20",1,"mr-2"],["viewBox","0 0 40 40",1,"w-5","h-5","mr-2"],["d","M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.045 27.2142 24.3525 30 20 30C14.4775 30 10 25.5225 10 20C10 14.4775 14.4775 9.99999 20 9.99999C22.5492 9.99999 24.8683 10.9617 26.6342 12.5325L31.3483 7.81833C28.3717 5.04416 24.39 3.33333 20 3.33333C10.7958 3.33333 3.33335 10.7958 3.33335 20C3.33335 29.2042 10.7958 36.6667 20 36.6667C29.2042 36.6667 36.6667 29.2042 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z","fill","#FFC107"],["d","M5.25497 12.2425L10.7308 16.2583C12.2125 12.59 15.8008 9.99999 20 9.99999C22.5491 9.99999 24.8683 10.9617 26.6341 12.5325L31.3483 7.81833C28.3716 5.04416 24.39 3.33333 20 3.33333C13.5983 3.33333 8.04663 6.94749 5.25497 12.2425Z","fill","#FF3D00"],["d","M20 36.6667C24.305 36.6667 28.2167 35.0192 31.1742 32.34L26.0159 27.975C24.3425 29.2425 22.2625 30 20 30C15.665 30 11.9842 27.2359 10.5975 23.3784L5.16254 27.5659C7.92087 32.9634 13.5225 36.6667 20 36.6667Z","fill","#4CAF50"],["d","M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.7592 25.1975 27.56 26.805 26.0133 27.9758C26.0142 27.975 26.015 27.975 26.0158 27.9742L31.1742 32.3392C30.8092 32.6708 36.6667 28.3333 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z","fill","#1976D2"],["diameter","20",1,"mr-2","text-blue-500"]],template:function(i,a){if(i&1&&(c(0,"section",0)(1,"div",1)(2,"div",2),de(3,"div",3),l(),c(4,"div",4)(5,"div",5),de(6,"img",6),l(),c(7,"p",7),u(8),Ee(9,"translate"),l(),G(10,VA,9,1,"div",8)(11,BA,8,2,"div",9),c(12,"form",10)(13,"div",11)(14,"label",12),u(15),Ee(16,"translate"),l(),de(17,"input",13),G(18,HA,4,3,"div",14)(19,YA,5,2,"div",15),c(20,"div",11)(21,"div",16)(22,"label",17),u(23),Ee(24,"translate"),l(),G(25,qA,2,0,"a",18),l(),c(26,"div",19),de(27,"input",20),c(28,"button",21),H("click",function(){return a.togglePasswordVisibility()}),G(29,KA,3,0,"svg",22)(30,QA,2,0,"svg",22),l()(),G(31,ZA,10,12,"div",23)(32,nD,4,3,"div",14),l(),G(33,cD,10,8,"div",15),l(),c(34,"div",24)(35,"button",25),H("click",function(){return a.isSignInPage?a.onSignIn():a.onSignUp()}),c(36,"div",26),G(37,lD,1,0,"mat-spinner",27)(38,dD,4,5,"span",28)(39,uD,2,1,"span",28),l()(),c(40,"button",29),H("click",function(){return a.signInWithGoogle()}),c(41,"div",26),G(42,mD,5,0,"svg",30)(43,hD,1,0,"mat-spinner",31),u(44),Ee(45,"translate"),l()()(),c(46,"div",32),de(47,"span",33),c(48,"a",34),H("click",function(){return a.gotoPage()}),u(49),Ee(50,"translate"),Ee(51,"translate"),l(),de(52,"span",33),l(),c(53,"div",35)(54,"div",36),si(),c(55,"svg",37),de(56,"path",38),l(),Gr(),c(57,"span",39),u(58,"Security Notice"),l()(),c(59,"p",40),u(60," Your data is protected with enterprise-grade security. We use encryption and secure authentication to keep your information safe. "),l()()()()()()),i&2){let o,s,d;g(8),he(" ",$e(9,26,"welcomeBack")," "),g(2),P("ngIf",a.isAccountLocked),g(),P("ngIf",!a.isAccountLocked&&a.loginAttempts>0),g(),P("formGroup",a.signInForm),g(3),he(" ",$e(16,28,"email")," Address "),g(2),Gt("data-security-level",a.securityLevel),g(),P("ngIf",((o=a.signInForm.get("email"))==null?null:o.invalid)&&((o=a.signInForm.get("email"))==null?null:o.touched)),g(),P("ngIf",!a.isSignInPage),g(4),ne($e(24,30,"password")),g(2),P("ngIf",a.isSignInPage),g(2),P("type",a.showPassword?"text":"password"),Gt("data-security-level",a.securityLevel),g(2),P("ngIf",!a.showPassword),g(),P("ngIf",a.showPassword),g(),P("ngIf",!a.isSignInPage&&((s=a.signInForm.get("password"))==null?null:s.value)),g(),P("ngIf",((d=a.signInForm.get("password"))==null?null:d.invalid)&&((d=a.signInForm.get("password"))==null?null:d.touched)),g(),P("ngIf",!a.isSignInPage),g(2),P("disabled",a.isLoading||a.isAccountLocked||a.signInForm.invalid),g(2),P("ngIf",a.isLoading),g(),P("ngIf",!a.isLoading),g(),P("ngIf",a.isLoading),g(),P("disabled",a.isLoading||a.isAccountLocked),g(2),P("ngIf",!a.isLoading),g(),P("ngIf",a.isLoading),g(),he(" ",a.isLoading?"Signing in...":$e(45,32,"signIn")+" with Google"," "),g(5),he("or ",a.isSignInPage?$e(50,34,"signUp"):$e(51,36,"signIn"),"")}},dependencies:[qo,Tt,Di,mn,hn,Ai,yr,Cr,Xo,cf],styles:['.bg[_ngcontent-%COMP%]{background-image:url("./media/sign-in-TAB6YH4B.png");height:22rem;width:25rem}']});let e=n;return e})();var pD=[{label:"Navigation",icon:"navigation",order:1,isExpanded:!0,isCollapsible:!0,children:[{label:"dashboard",route:"/dashboard/home",icon:"dashboard",order:1},{label:"accounts",route:"/dashboard/accounts",icon:"account_balance",order:2},{label:"transactions",route:"/dashboard/transactions",icon:"receipt_long",order:3},{label:"categories",route:"/dashboard/category",icon:"category",order:4},{label:"budgets",route:"/dashboard/budgets",icon:"pie_chart",order:5},{label:"reports",route:"/dashboard/reports",icon:"analytics",order:7}]},{label:"Tools",icon:"build",order:2,isExpanded:!0,isCollapsible:!0,children:[{label:"calendar",route:"/dashboard/calendar-view",icon:"calendar_today",order:1},{label:"notes",route:"/dashboard/notes",icon:"note",order:2},{label:"tax",route:"/dashboard/tax",icon:"calculate",order:3}]},{label:"Account",icon:"person",order:3,isExpanded:!0,isCollapsible:!0,children:[{label:"profile",route:"/dashboard/profile",icon:"account_circle",order:1},{label:"notifications",route:"/dashboard/notifications",icon:"notifications",order:3},{label:"feedback",route:"/dashboard/feedback",icon:"feedback",order:4}]},{label:"Admin",icon:"admin_panel_settings",order:4,isExpanded:!1,isCollapsible:!0,children:[{label:"admin_panel",route:"/admin",icon:"admin_panel_settings",order:1}]}],M2=()=>pD.sort((e,n)=>e.order-n.order);var P2=["*"],fD=["content"],gD=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],_D=["mat-drawer","mat-drawer-content","*"];function xD(e,n){if(e&1){let r=Ce();c(0,"div",1),H("click",function(){q(r);let i=k();return K(i._onBackdropClicked())}),l()}if(e&2){let r=k();Be("mat-drawer-shown",r._isShowingBackdrop())}}function vD(e,n){e&1&&(c(0,"mat-drawer-content"),yn(1,2),l())}var bD={transformDrawer:$i("transform",[Fn("open, open-instant",Nt({transform:"none",visibility:"visible"})),Fn("void",Nt({"box-shadow":"none",visibility:"hidden"})),Hn("void => open-instant",Qn("0ms")),Hn("void <=> open, open-instant => void",Qn("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var yD=new Ft("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:CD}),E2=new Ft("MAT_DRAWER_CONTAINER");function CD(){return!1}var am=(()=>{let n=class n extends Ed{constructor(t,i,a,o,s){super(a,o,s),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}};n.\u0275fac=function(i){return new(i||n)(D(gn),D(Da(()=>g1)),D(tn),D(jC),D(An))},n.\u0275cmp=Fe({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,a){i&2&&Yt("margin-left",a._container._contentMargins.left,"px")("margin-right",a._container._contentMargins.right,"px")},standalone:!0,features:[Dn([{provide:Ed,useExisting:n}]),Yn,rn],ngContentSelectors:P2,decls:1,vars:0,template:function(i,a){i&1&&(_i(),yn(0))},encapsulation:2,changeDetection:0});let e=n;return e})(),f1=(()=>{let n=class n{get position(){return this._position}set position(t){t=t==="end"?"end":"start",t!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Pd(t)}get autoFocus(){let t=this._autoFocus;return t==null?this.mode==="side"?"dialog":"first-tabbable":t}set autoFocus(t){(t==="true"||t==="false"||t==null)&&(t=Pd(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Pd(t))}constructor(t,i,a,o,s,d,m,f){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=a,this._platform=o,this._ngZone=s,this._interactivityChecker=d,this._doc=m,this._container=f,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new bt,this._animationEnd=new bt,this._animationState="void",this.openedChange=new He(!0),this._openedStream=this.openedChange.pipe(un(_=>_),at(()=>{})),this.openedStart=this._animationStarted.pipe(un(_=>_.fromState!==_.toState&&_.toState.indexOf("open")===0),p_(void 0)),this._closedStream=this.openedChange.pipe(un(_=>!_),at(()=>{})),this.closedStart=this._animationStarted.pipe(un(_=>_.fromState!==_.toState&&_.toState==="void"),p_(void 0)),this._destroyed=new bt,this.onPositionChanged=new He,this._modeChanged=new bt,this._injector=cn($r),this._changeDetectorRef=cn(gn),this.openedChange.pipe(It(this._destroyed)).subscribe(_=>{_?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Xa(this._elementRef.nativeElement,"keydown").pipe(un(_=>_.keyCode===27&&!this.disableClose&&!Ra(_)),It(this._destroyed)).subscribe(_=>this._ngZone.run(()=>{this.close(),_.stopPropagation(),_.preventDefault()}))}),this._animationEnd.subscribe(_=>{let{fromState:v,toState:w}=_;(w.indexOf("open")===0&&v==="void"||w==="void"&&v.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let a=()=>{t.removeEventListener("blur",a),t.removeEventListener("mousedown",a),t.removeAttribute("tabindex")};t.addEventListener("blur",a),t.addEventListener("mousedown",a)})),t.focus(i)}_focusByCssSelector(t,i){let a=this._elementRef.nativeElement.querySelector(t);a&&this._forceFocus(a,i)}_takeFocus(){if(!this._focusTrap)return;let t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Io(()=>{!this._focusTrap.focusInitialElement()&&typeof t.focus=="function"&&t.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(t){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var t,i;(t=this._focusTrap)==null||t.destroy(),(i=this._anchor)==null||i.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);let a=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),a}_setOpen(t,i,a){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(a)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Rr(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){var t;this._focusTrap&&(this._focusTrap.enabled=!!((t=this._container)!=null&&t.hasBackdrop)&&this.opened)}_updatePositionInParent(t){if(!this._platform.isBrowser)return;let i=this._elementRef.nativeElement,a=i.parentNode;t==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),a.insertBefore(this._anchor,i)),a.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}};n.\u0275fac=function(i){return new(i||n)(D(tn),D(SC),D(Qo),D(Fa),D(An),D(wC),D(ha,8),D(E2,8))},n.\u0275cmp=Fe({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,a){if(i&1&&Zt(fD,5),i&2){let o;gt(o=_t())&&(a._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(i,a){i&1&&th("@transform.start",function(s){return a._animationStarted.next(s)})("@transform.done",function(s){return a._animationEnd.next(s)}),i&2&&(eh("@transform",a._animationState),Gt("align",null),Be("mat-drawer-end",a.position==="end")("mat-drawer-over",a.mode==="over")("mat-drawer-push",a.mode==="push")("mat-drawer-side",a.mode==="side")("mat-drawer-opened",a.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[rn],ngContentSelectors:P2,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,a){i&1&&(_i(),c(0,"div",1,0),yn(2),l())},dependencies:[Ed],encapsulation:2,data:{animation:[bD.transformDrawer]},changeDetection:0});let e=n;return e})(),g1=(()=>{let n=class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Pd(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=t==null?null:Pd(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,a,o,s,d=!1,m){this._dir=t,this._element=i,this._ngZone=a,this._changeDetectorRef=o,this._animationMode=m,this._drawers=new ju,this.backdropClick=new He,this._destroyed=new bt,this._doCheckSubject=new bt,this._contentMargins={left:null,right:null},this._contentMarginChanges=new bt,this._injector=cn($r),t&&t.change.pipe(It(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(It(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}ngAfterContentInit(){this._allDrawers.changes.pipe(ua(this._allDrawers),It(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ua(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(ws(10),It(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened){if(this._left.mode=="side")t+=this._left._getWidth();else if(this._left.mode=="push"){let a=this._left._getWidth();t+=a,i-=a}}if(this._right&&this._right.opened){if(this._right.mode=="side")i+=this._right._getWidth();else if(this._right.mode=="push"){let a=this._right._getWidth();i+=a,t-=a}}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(un(i=>i.fromState!==i.toState),It(this._drawers.changes)).subscribe(i=>{i.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),t.mode!=="side"&&t.openedChange.pipe(It(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(It(this._drawers.changes)).subscribe(()=>{Io(()=>{this._validateDrawers()},{injector:this._injector,phase:my.Read})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(It(mi(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){let i=this._element.nativeElement.classList,a="mat-drawer-container-has-open";t?i.add(a):i.remove(a)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{t.position=="end"?(this._end!=null,this._end=t):(this._start!=null,this._start=t)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return t!=null&&t.opened}_drawerHasBackdrop(t){return this._backdropOverride==null?!!t&&t.mode!=="side":this._backdropOverride}};n.\u0275fac=function(i){return new(i||n)(D(pa,8),D(tn),D(An),D(gn),D(dl),D(yD),D(Wr,8))},n.\u0275cmp=Fe({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,a,o){if(i&1&&(yi(o,am,5),yi(o,f1,5)),i&2){let s;gt(s=_t())&&(a._content=s.first),gt(s=_t())&&(a._allDrawers=s)}},viewQuery:function(i,a){if(i&1&&Zt(am,5),i&2){let o;gt(o=_t())&&(a._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,a){i&2&&Be("mat-drawer-container-explicit-backdrop",a._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[Dn([{provide:E2,useExisting:n}]),rn],ngContentSelectors:_D,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,a){i&1&&(_i(gD),G(0,xD,1,2,"div",0),yn(1),yn(2,1),G(3,vD,2,0,"mat-drawer-content")),i&2&&(ot(a.hasBackdrop?0:-1),g(3),ot(a._content?-1:3))},dependencies:[am],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0});let e=n;return e})();var T2=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({imports:[Kn,ul,ul,Kn]});let e=n;return e})();var SD=["drawer"];function MD(e,n){if(e&1&&(c(0,"mat-icon",33),u(1," expand_more "),l()),e&2){let r=k(2).$implicit;Be("rotate-180",!r.isExpanded)}}function kD(e,n){if(e&1){let r=Ce();c(0,"div",28),H("click",function(){q(r);let i=k().$implicit,a=k();return K(a.toggleSection(i))}),c(1,"div",29)(2,"mat-icon",30),u(3),l(),c(4,"h6",31),u(5),l()(),G(6,MD,2,2,"mat-icon",32),l()}if(e&2){let r=k().$implicit;Be("cursor-pointer",r.isCollapsible)("cursor-default",!r.isCollapsible)("hover:bg-blue-50",r.isCollapsible),g(3),ne(r.icon),g(2),ne(r.label),g(),P("ngIf",r.isCollapsible)}}function PD(e,n){if(e&1){let r=Ce();c(0,"a",34),H("click",function(){q(r),k(2);let i=qn(2);return K(i.toggle())}),de(1,"div",35),c(2,"mat-icon",36),u(3),l(),c(4,"span",37),u(5),Ee(6,"translate"),l()()}if(e&2){let r=n.$implicit,t=k(2);P("routerLink",r.route),g(),Be("opacity-100",t.router.isActive(r.route,!1)),g(2),ne(r.icon),g(2),ne($e(6,5,r.label))}}function ED(e,n){e&1&&de(0,"div",38)}function TD(e,n){if(e&1&&(c(0,"div",23),G(1,kD,7,9,"div",24),c(2,"div",25),G(3,PD,7,7,"a",26),l(),G(4,ED,1,0,"div",27),l()),e&2){let r=n.$implicit,t=k();g(),P("ngIf",r.label=="Admin"&&t.isAdmin),g(),Be("max-h-0",!r.isExpanded)("max-h-96",r.isExpanded)("opacity-0",!r.isExpanded)("opacity-100",r.isExpanded),g(),P("ngForOf",r.children),g(),P("ngIf",r!==t.navigationSections[t.navigationSections.length-1])}}var O2=(()=>{let n=class n{constructor(t,i,a,o){this.auth=t,this.router=i,this.elementRef=a,this.userService=o,this.isAdmin=!1,this.navigationSections=[],this.navigationSections=M2()}ngOnInit(){this.isAdmin=this.userService.isAdmin}toggleSection(t){t.isCollapsible&&(t.isExpanded=!t.isExpanded)}ngAfterViewInit(){document.addEventListener("click",this.handleDocumentClick.bind(this))}handleKeyDown(t){t.key==="Escape"&&this.drawer&&this.drawer.opened&&this.drawer.close()}handleDocumentClick(t){if(this.drawer&&this.drawer.opened){let i=t.target;this.elementRef.nativeElement.contains(i)||i.closest('button[aria-label="Open sidebar"]')||this.drawer.close()}}logout(){return ge(this,null,function*(){yield this.auth.signOut(),this.router.navigate(["/sign-in"],{queryParams:{loggedOut:"true"}})})}};n.\u0275fac=function(i){return new(i||n)(D(Ut),D(Sn),D(tn),D(rr))},n.\u0275cmp=Fe({type:n,selectors:[["side-bar"]],viewQuery:function(i,a){if(i&1&&Zt(SD,5),i&2){let o;gt(o=_t())&&(a.drawer=o.first)}},hostBindings:function(i,a){i&1&&H("keydown",function(s){return a.handleKeyDown(s)},!1,Q0)},decls:37,vars:8,consts:[["drawer",""],[1,"example-container","!z-[999]","h-screen"],[1,"!fixed","bg-white","shadow-2xl","w-72","border-r","border-gray-100","backdrop-blur-sm",3,"mode"],[1,"h-full","flex","flex-col","overflow-auto"],[1,"flex","items-center","justify-between","p-5","border-b","border-gray-100","bg-gradient-to-r","from-gray-50","to-white"],[1,"flex","items-center","gap-3"],["routerLink","/dashboard",1,"w-8","h-8","bg-gradient-to-br","bg-primary","rounded-lg","flex","items-center","justify-center","cursor-pointer"],[1,"text-[2rem]","!h-[33px]","!w-[33px]"],[1,"text-lg","font-semibold","text-gray-900"],["mat-icon-button","","routerLink","/dashboard","aria-label","Close sidebar",1,"text-gray-400","hover:text-gray-600","hover:bg-gray-50","rounded-lg","transition-colors",3,"click"],["mat-icon-button","","aria-label","Close sidebar",1,"text-gray-400","hover:text-gray-600","hover:bg-gray-50","rounded-lg","transition-colors",3,"click"],[1,"flex-1","p-4"],["class","mb-6",4,"ngFor","ngForOf"],[1,"p-5","border-t","border-gray-100","bg-gradient-to-r","from-white","to-gray-50"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-2"],[1,"text-gray-400","text-sm"],[1,"text-xs","text-gray-500"],["mat-icon-button","","matTooltip","Logout",1,"text-gray-400","hover:text-red-600","hover:bg-red-50","rounded-lg","transition-colors",3,"click"],[1,"text-sm"],[1,"!overflow-hidden"],["aria-label","Open sidebar",1,"flex","items-center","gap-2","px-3","py-2","rounded-lg","hover:bg-gray-200","transition-colors",3,"click"],[1,"text-gray-600"],[1,"mb-6"],["class","flex items-center justify-between mb-3 cursor-pointer hover:bg-gray-50 rounded-lg p-2.5 transition-all duration-200 group",3,"cursor-pointer","cursor-default","hover:bg-blue-50","click",4,"ngIf"],[1,"space-y-1","overflow-hidden","transition-all","duration-300","ease-in-out"],["routerLinkActive","bg-blue-50 text-blue-700 border-r-2 border-blue-600 shadow-sm","class","flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-50 hover:shadow-sm transition-all duration-200 group relative",3,"routerLink","click",4,"ngFor","ngForOf"],["class","mt-6 pt-4 border-t border-gray-100",4,"ngIf"],[1,"flex","items-center","justify-between","mb-3","cursor-pointer","hover:bg-gray-50","rounded-lg","p-2.5","transition-all","duration-200","group",3,"click"],[1,"flex","items-center","gap-2.5"],[1,"text-gray-500","text-[1.5rem]","group-hover:text-blue-600","transition-colors","relative","top-[-7px]"],[1,"text-xs","font-semibold","text-gray-600","uppercase","tracking-wider","group-hover:text-blue-700","transition-colors"],["class","text-gray-400 text-sm transition-all duration-200 group-hover:text-blue-600",3,"rotate-180",4,"ngIf"],[1,"text-gray-400","text-sm","transition-all","duration-200","group-hover:text-blue-600"],["routerLinkActive","bg-blue-50 text-blue-700 border-r-2 border-blue-600 shadow-sm",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","hover:bg-gray-50","hover:shadow-sm","transition-all","duration-200","group","relative",3,"click","routerLink"],[1,"absolute","left-0","top-1/2","transform","-translate-y-1/2","w-1","h-6","bg-blue-600","rounded-r-full","opacity-0","transition-opacity","duration-200"],[1,"text-gray-400","group-hover:text-blue-600","transition-colors","text-lg","ml-1"],[1,"font-medium","text-sm","text-gray-700","group-hover:text-blue-700","transition-colors"],[1,"mt-6","pt-4","border-t","border-gray-100"]],template:function(i,a){if(i&1){let o=Ce();c(0,"mat-drawer-container",1)(1,"mat-drawer",2,0)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"mat-icon",7),u(8,"account_balance_wallet"),l()(),c(9,"span",8),u(10),Ee(11,"translate"),l()(),c(12,"div",5)(13,"button",9),H("click",function(){q(o);let d=qn(2);return K(d.toggle())}),c(14,"mat-icon"),u(15,"home"),l()(),c(16,"button",10),H("click",function(){q(o);let d=qn(2);return K(d.toggle())}),c(17,"mat-icon"),u(18,"close"),l()()()(),c(19,"nav",11),G(20,TD,5,11,"div",12),l(),c(21,"div",13)(22,"div",14)(23,"div",15)(24,"mat-icon",16),u(25,"settings"),l(),c(26,"span",17),u(27),Ee(28,"translate"),l()(),c(29,"button",18),H("click",function(){return q(o),K(a.logout())}),c(30,"mat-icon",19),u(31,"logout"),l()()()()()(),c(32,"mat-drawer-content",20)(33,"div")(34,"button",21),H("click",function(){q(o);let d=qn(2);return K(d.toggle())}),c(35,"mat-icon",22),u(36,"menu"),l()()()()()}i&2&&(g(),P("mode","over"),g(9),ne($e(11,4,"moneyManager")),g(10),P("ngForOf",a.navigationSections),g(7),ne($e(28,6,"settings")))},dependencies:[an,Tt,lh,My,zt,wn,f1,g1,am,ni,cf],styles:[".full-height[_ngcontent-%COMP%]{height:100vh}.color-ball[_ngcontent-%COMP%]{height:3rem;width:3rem;font-size:clamp(2.5rem,6vw,4rem)}"]});let e=n;return e})();var I2=(()=>{let n=class n{constructor(t){this.elementRef=t,this.clickOutside=new He}onClick(t){this.elementRef.nativeElement.contains(t)||this.clickOutside.emit()}};n.\u0275fac=function(i){return new(i||n)(D(tn))},n.\u0275dir=Et({type:n,selectors:[["","clickOutside",""]],hostBindings:function(i,a){i&1&&H("click",function(s){return a.onClick(s.target)},!1,Q0)},outputs:{clickOutside:"clickOutside"}});let e=n;return e})();function AD(e,n){if(e&1){let r=Ce();c(0,"div",6)(1,"div",7)(2,"button",8),H("click",function(){q(r);let i=k();return K(i.viewProfile())}),si(),c(3,"svg",9),de(4,"path",10)(5,"path",11),l(),Gr(),c(6,"span"),u(7,"View Profile"),l()(),c(8,"button",8),H("click",function(){q(r);let i=k();return K(i.openSettings())}),si(),c(9,"svg",9),de(10,"path",12),l(),Gr(),c(11,"span"),u(12,"Settings"),l()(),c(13,"button",8),H("click",function(){q(r);let i=k();return K(i.openCacheManager())}),si(),c(14,"svg",9),de(15,"path",13),l(),Gr(),c(16,"span"),u(17,"Cache Management"),l()(),c(18,"button",8),H("click",function(){q(r);let i=k();return K(i.openHelp())}),si(),c(19,"svg",9),de(20,"path",14),l(),Gr(),c(21,"span"),u(22,"Help"),l()()(),de(23,"div",15),c(24,"div",7)(25,"button",16),H("click",function(i){q(r);let a=k();return K(a.signOut(i))}),si(),c(26,"svg",9),de(27,"path",17),l(),Gr(),c(28,"span"),u(29,"Sign Out"),l()()()()}e&2&&P("@slideDown",void 0)}var A2=(()=>{let n=class n{constructor(t,i,a){this.userService=t,this.notificationService=i,this.router=a,this.isOpen=!1,this.user=null}ngOnInit(){this.userService.user$.subscribe(t=>{this.user={uid:t==null?void 0:t.uid,email:t==null?void 0:t.email,firstName:t==null?void 0:t.displayName,photoURL:t==null?void 0:t.photoURL,emailVerified:t==null?void 0:t.emailVerified,phoneNumber:t==null?void 0:t.phoneNumber,providerId:t==null?void 0:t.providerId,displayName:t==null?void 0:t.displayName,role:t==null?void 0:t.role,createdAt:t==null?void 0:t.createdAt,lastName:t==null?void 0:t.lastName,phone:t==null?void 0:t.phone,dateOfBirth:t==null?void 0:t.dateOfBirth,occupation:t==null?void 0:t.occupation,monthlyIncome:t==null?void 0:t.monthlyIncome}})}toggle(t){t&&t.stopPropagation(),console.log("toggling"),this.isOpen=!this.isOpen}close(){this.isOpen=!1}viewProfile(){console.log("View profile clicked"),this.router.navigate(["/dashboard/profile"]),this.close()}openSettings(){console.log("Settings clicked"),this.notificationService.info("Settings feature coming soon"),this.close()}openCacheManager(){console.log("Cache management clicked"),this.notificationService.info("Opening cache management"),this.showCacheManagerDialog(),this.close()}showCacheManagerDialog(){let t=document.createElement("div");t.className="fixed inset-0 z-[9999] bg-black bg-opacity-50 flex items-center justify-center p-4",t.innerHTML=`
      <div class="bg-white rounded-lg shadow-xl max-w-md w-full max-h-[80vh] overflow-y-auto">
        <div class="p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-gray-900">Cache Management</h3>
            <button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-gray-600">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>
          
          <div class="space-y-4">
            <!-- Clear Cache Button -->
            <button 
              onclick="clearAppCache()"
              class="w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
              </svg>
              <span>Clear Cache</span>
            </button>

            <!-- Force Update Button -->
            <button 
              onclick="forceAppUpdate()"
              class="w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
              </svg>
              <span>Force Update</span>
            </button>

            <!-- App Info -->
            <div class="p-3 bg-gray-50 rounded-lg">
              <h4 class="font-medium text-gray-900 mb-2">App Information</h4>
              <div class="space-y-1">
                <div class="flex justify-between">
                  <span class="text-sm text-gray-600">Version:</span>
                  <span class="text-sm font-medium">${new Date().toISOString().split("T")[0]}</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-sm text-gray-600">Last Updated:</span>
                  <span class="text-sm font-medium">${new Date(localStorage.getItem("app-version")||new Date().toISOString().split("T")[0]).toLocaleDateString()}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    `,window.clearAppCache=()=>ge(this,null,function*(){try{if("caches"in window){let i=yield caches.keys();yield Promise.all(i.map(a=>caches.delete(a)))}"indexedDB"in window&&(yield indexedDB.databases()).forEach(a=>{a.name&&indexedDB.deleteDatabase(a.name)}),this.notificationService.success("Cache cleared successfully!"),t.remove()}catch(i){console.error("Failed to clear cache:",i),this.notificationService.error("Failed to clear cache. Please try again.")}}),window.forceAppUpdate=()=>{localStorage.setItem("app-version",new Date().toISOString().split("T")[0]),this.notificationService.info("App update initiated"),window.location.reload()},document.body.appendChild(t),t.addEventListener("click",i=>{i.target===t&&t.remove()})}openHelp(){console.log("Help clicked"),this.notificationService.info("Help feature coming soon"),this.close()}signOut(t){return ge(this,null,function*(){console.log("signing out");try{yield this.userService.signOut(),this.notificationService.success("Signed out successfully"),t.stopPropagation(),this.close()}catch(i){console.error("Error signing out:",i),this.notificationService.error("Failed to sign out")}})}};n.\u0275fac=function(i){return new(i||n)(D(rr),D(At),D(Sn))},n.\u0275cmp=Fe({type:n,selectors:[["app-user"]],decls:8,vars:6,consts:[[1,"relative","inline-block",3,"clickOutside"],["type","button",1,"relative","z-10","flex","items-center","p-2","text-sm","text-gray-600","bg-transparent","border","border-transparent","rounded-md","focus:border-blue-500","focus:ring-opacity-40","dark:focus:ring-opacity-40","focus:ring-blue-300","dark:focus:ring-blue-400","focus:ring","dark:text-white","dark:bg-gray-800","focus:outline-none","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors",3,"click"],[1,"mx-1","truncate","max-w-100"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","mx-1","transition-transform","duration-200"],["d","M12 15.713L18.01 9.70299L16.597 8.28799L12 12.888L7.40399 8.28799L5.98999 9.70199L12 15.713Z","fill","currentColor"],["class","absolute right-0 z-20 w-64 py-2 mt-2 overflow-hidden origin-top-right bg-white rounded-lg shadow-xl dark:bg-gray-800 border border-gray-200 dark:border-gray-700",4,"ngIf"],[1,"absolute","right-0","z-20","w-64","py-2","mt-2","overflow-hidden","origin-top-right","bg-white","rounded-lg","shadow-xl","dark:bg-gray-800","border","border-gray-200","dark:border-gray-700"],[1,"py-1"],[1,"flex","items-center","w-full","px-4","py-2","text-sm","text-gray-600","capitalize","transition-colors","duration-200","dark:text-gray-300","hover:bg-gray-100","dark:hover:bg-gray-700","dark:hover:text-white","focus:outline-none","focus:bg-gray-100","dark:focus:bg-gray-700",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","mr-3"],["d","M7 8C7 5.23858 9.23858 3 12 3C14.7614 3 17 5.23858 17 8C17 10.7614 14.7614 13 12 13C9.23858 13 7 10.7614 7 8ZM12 11C13.6569 11 15 9.65685 15 8C15 6.34315 13.6569 5 12 5C10.3431 5 9 6.34315 9 8C9 9.65685 10.3431 11 12 11Z","fill","currentColor"],["d","M6.34315 16.3431C4.84285 17.8434 4 19.8783 4 22H6C6 20.4087 6.63214 18.8826 7.75736 17.7574C8.88258 16.6321 10.4087 16 12 16C13.5913 16 15.1174 16.6321 16.2426 17.7574C17.3679 18.8826 18 20.4087 18 22H20C20 19.8783 19.1571 17.8434 17.6569 16.3431C16.1566 14.8429 14.1217 14 12 14C9.87827 14 7.84344 14.8429 6.34315 16.3431Z","fill","currentColor"],["d","M13.8199 22H10.1799C9.71003 22 9.30347 21.673 9.20292 21.214L8.79592 19.33C8.25297 19.0921 7.73814 18.7946 7.26092 18.443L5.42392 19.028C4.97592 19.1709 4.48891 18.9823 4.25392 18.575L2.42992 15.424C2.19751 15.0165 2.27758 14.5025 2.62292 14.185L4.04792 12.885C3.98312 12.2961 3.98312 11.7019 4.04792 11.113L2.62292 9.816C2.27707 9.49837 2.19697 8.98372 2.42992 8.576L4.24992 5.423C4.48491 5.0157 4.97192 4.82714 5.41992 4.97L7.25692 5.555C7.50098 5.37416 7.75505 5.20722 8.01792 5.055C8.27026 4.91269 8.52995 4.78385 8.79592 4.669L9.20392 2.787C9.30399 2.32797 9.71011 2.00049 10.1799 2H13.8199C14.2897 2.00049 14.6958 2.32797 14.7959 2.787L15.2079 4.67C15.4887 4.79352 15.7622 4.93308 16.0269 5.088C16.2739 5.23081 16.5126 5.38739 16.7419 5.557L18.5799 4.972C19.0276 4.82967 19.514 5.01816 19.7489 5.425L21.5689 8.578C21.8013 8.98548 21.7213 9.49951 21.3759 9.817L19.9509 11.117C20.0157 11.7059 20.0157 12.3001 19.9509 12.889L21.3759 14.189C21.7213 14.5065 21.8013 15.0205 21.5689 15.428L19.7489 18.581C19.514 18.9878 19.0276 19.1763 18.5799 19.034L16.7419 18.449C16.5093 18.6203 16.2677 18.7789 16.0179 18.924C15.7557 19.0759 15.4853 19.2131 15.2079 19.335L14.7959 21.214C14.6954 21.6726 14.2894 21.9996 13.8199 22ZM7.61992 16.229L8.43992 16.829C8.62477 16.9652 8.81743 17.0904 9.01692 17.204C9.20462 17.3127 9.39788 17.4115 9.59592 17.5L10.5289 17.909L10.9859 20H13.0159L13.4729 17.908L14.4059 17.499C14.8132 17.3194 15.1998 17.0961 15.5589 16.833L16.3799 16.233L18.4209 16.883L19.4359 15.125L17.8529 13.682L17.9649 12.67C18.0141 12.2274 18.0141 11.7806 17.9649 11.338L17.8529 10.326L19.4369 8.88L18.4209 7.121L16.3799 7.771L15.5589 7.171C15.1997 6.90671 14.8132 6.68175 14.4059 6.5L13.4729 6.091L13.0159 4H10.9859L10.5269 6.092L9.59592 6.5C9.39772 6.58704 9.20444 6.68486 9.01692 6.793C8.81866 6.90633 8.62701 7.03086 8.44292 7.166L7.62192 7.766L5.58192 7.116L4.56492 8.88L6.14792 10.321L6.03592 11.334C5.98672 11.7766 5.98672 12.2234 6.03592 12.666L6.14792 13.678L4.56492 15.121L5.57992 16.879L7.61992 16.229ZM11.9959 16C9.78678 16 7.99592 14.2091 7.99592 12C7.99592 9.79086 9.78678 8 11.9959 8C14.2051 8 15.9959 9.79086 15.9959 12C15.9932 14.208 14.2039 15.9972 11.9959 16ZM11.9959 10C10.9033 10.0011 10.0138 10.8788 9.99815 11.9713C9.98249 13.0638 10.8465 13.9667 11.9386 13.9991C13.0307 14.0315 13.9468 13.1815 13.9959 12.09V12.49V12C13.9959 10.8954 13.1005 10 11.9959 10Z","fill","currentColor"],["d","M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3ZM19 19H5V5H19V19ZM17 13H7V11H17V13ZM13 17H7V15H13V17ZM7 9V7H17V9H7Z","fill","currentColor"],["d","M12 22C6.47967 21.9939 2.00606 17.5203 2 12V11.8C2.10993 6.30452 6.63459 1.92794 12.1307 2.00087C17.6268 2.07379 22.0337 6.56887 21.9978 12.0653C21.9619 17.5618 17.4966 21.9989 12 22ZM11.984 20H12C16.4167 19.9956 19.9942 16.4127 19.992 11.996C19.9898 7.57928 16.4087 3.99999 11.992 3.99999C7.57528 3.99999 3.99421 7.57928 3.992 11.996C3.98979 16.4127 7.56729 19.9956 11.984 20ZM13 18H11V16H13V18ZM13 15H11C10.9684 13.6977 11.6461 12.4808 12.77 11.822C13.43 11.316 14 10.88 14 9.99999C14 8.89542 13.1046 7.99999 12 7.99999C10.8954 7.99999 10 8.89542 10 9.99999H8V9.90999C8.01608 8.48093 8.79333 7.16899 10.039 6.46839C11.2846 5.76778 12.8094 5.78493 14.039 6.51339C15.2685 7.24184 16.0161 8.57093 16 9.99999C15.9284 11.079 15.3497 12.0602 14.44 12.645C13.6177 13.1612 13.0847 14.0328 13 15Z","fill","currentColor"],[1,"border-t","border-gray-100","dark:border-gray-700","my-1"],[1,"flex","items-center","w-full","px-4","py-2","text-sm","text-red-600","capitalize","transition-colors","duration-200","dark:text-red-400","hover:bg-red-50","dark:hover:bg-red-900/20","focus:outline-none","focus:bg-red-50","dark:focus:bg-red-900/20",3,"click"],["d","M19 21H10C8.89543 21 8 20.1046 8 19V15H10V19H19V5H10V9H8V5C8 3.89543 8.89543 3 10 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21ZM12 16V13H3V11H12V8L17 12L12 16Z","fill","currentColor"]],template:function(i,a){i&1&&(c(0,"div",0),H("clickOutside",function(){return a.close()}),c(1,"button",1),H("click",function(s){return a.toggle(s)}),c(2,"span",2),u(3),Ee(4,"titlecase"),l(),si(),c(5,"svg",3),de(6,"path",4),l()(),G(7,AD,30,1,"div",5),l()),i&2&&(g(3),ne($e(4,4,a.user!=null&&a.user.displayName?a.user==null?null:a.user.displayName:(a.user==null?null:a.user.firstName)+" "+(a.user==null?null:a.user.lastName)||(a.user==null?null:a.user.email))),g(2),Be("rotate-180",a.isOpen),g(2),P("ngIf",a.isOpen))},dependencies:[Tt,I2,Ko],data:{animation:[$i("slideDown",[Fn("void",Nt({opacity:0,transform:"translateY(-10px) scale(0.95)"})),Fn("*",Nt({opacity:1,transform:"translateY(0) scale(1)"})),Hn("void => *",[Qn("200ms ease-out")]),Hn("* => void",[Qn("150ms ease-in")])])]}});let e=n;return e})();var D2=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Fe({type:n,selectors:[["app-header"]],decls:3,vars:0,consts:[[1,"header","flex","justify-between","p-2"]],template:function(i,a){i&1&&(c(0,"header",0),de(1,"side-bar")(2,"app-user"),l())},dependencies:[O2,A2]});let e=n;return e})();var Pa=(()=>{let n=class n{constructor(){this.isSupported="vibrate"in navigator,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}isHapticSupported(){return this.isSupported&&this.isMobile}isMobileDevice(){return this.isMobile}lightVibration(){if(this.isHapticSupported())try{navigator.vibrate(10)}catch(t){console.warn("Vibration failed:",t)}}mediumVibration(){if(this.isHapticSupported())try{navigator.vibrate(100)}catch(t){console.warn("Vibration failed:",t)}}heavyVibration(){if(this.isHapticSupported())try{navigator.vibrate(200)}catch(t){console.warn("Vibration failed:",t)}}customVibration(t){if(this.isHapticSupported())try{navigator.vibrate(t)}catch(i){console.warn("Vibration failed:",i)}}vibrate(t={}){if(!this.isHapticSupported())return;let{duration:i=100,pattern:a,intensity:o="medium"}=t;try{if(a)navigator.vibrate(a);else{let s=i;switch(o){case"light":s=50;break;case"medium":s=100;break;case"heavy":s=200;break}navigator.vibrate(s)}}catch(s){console.warn("Vibration failed:",s)}}successVibration(){if(this.isHapticSupported())try{navigator.vibrate([50,100,50])}catch(t){console.warn("Vibration failed:",t)}}errorVibration(){if(this.isHapticSupported())try{navigator.vibrate([100,50,100,50,100])}catch(t){console.warn("Vibration failed:",t)}}warningVibration(){if(this.isHapticSupported())try{navigator.vibrate([100,100,100])}catch(t){console.warn("Vibration failed:",t)}}buttonClick(){this.lightVibration()}navigationClick(){this.mediumVibration()}importantAction(){this.heavyVibration()}stopVibration(){if(this.isSupported)try{navigator.vibrate(0)}catch(t){console.warn("Stop vibration failed:",t)}}testVibration(){if(!this.isHapticSupported()){console.log("Haptic feedback not supported on this device");return}console.log("Testing haptic feedback..."),this.lightVibration(),setTimeout(()=>{this.mediumVibration()},xt.PERFORMANCE.DEBOUNCE_DELAY),setTimeout(()=>{this.heavyVibration()},xt.PERFORMANCE.DEBOUNCE_DELAY*2)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var _1=(e,n)=>n.value;function RD(e,n){e&1&&(c(0,"p",14),u(1,"Account name is required"),l())}function ND(e,n){e&1&&(c(0,"p",14),u(1,"Account name must be less than 50 characters"),l())}function LD(e,n){if(e&1&&(c(0,"mat-option",18),u(1),l()),e&2){let r=n.$implicit;P("value",r.value),g(),ne(r.label)}}function VD(e,n){e&1&&(c(0,"mat-error"),u(1,"Account type is required"),l())}function BD(e,n){if(e&1&&(c(0,"p",20),u(1),l()),e&2){let r=k();g(),ne(r.getBalanceError())}}function jD(e,n){e&1&&(c(0,"p",20),u(1,"Lender name is required"),l())}function UD(e,n){if(e&1&&(c(0,"p",20),u(1),l()),e&2){let r=k(2);g(),ne(r.getLoanAmountError())}}function zD(e,n){if(e&1&&(c(0,"p",20),u(1),l()),e&2){let r=k(2);g(),ne(r.getInterestRateError())}}function HD(e,n){if(e&1&&(c(0,"p",20),u(1),l()),e&2){let r=k(2);g(),ne(r.getDurationError())}}function GD(e,n){if(e&1&&(c(0,"mat-option",18),u(1),l()),e&2){let r=n.$implicit;P("value",r.value),g(),ne(r.label)}}function $D(e,n){if(e&1&&(c(0,"mat-option",18),u(1),l()),e&2){let r=n.$implicit;P("value",r.value),g(),ne(r.label)}}function WD(e,n){if(e&1&&(c(0,"div",21)(1,"h4",23)(2,"mat-icon",24),u(3,"account_balance_wallet"),l(),u(4," Loan Details "),l(),c(5,"div",25)(6,"label",11),u(7," Lender Name * "),l(),de(8,"input",26),G(9,jD,2,0,"p",20),l(),c(10,"div",25)(11,"label",11),u(12," Loan Amount * "),l(),de(13,"input",27),G(14,UD,2,1,"p",20),l(),c(15,"div",25)(16,"label",11),u(17," Annual Interest Rate (%) * "),l(),de(18,"input",28),G(19,zD,2,1,"p",20),l(),c(20,"div",25)(21,"label",11),u(22," Loan Start Date * "),l(),de(23,"input",29),l(),c(24,"div",25)(25,"label",11),u(26," Loan Duration (months) * "),l(),de(27,"input",30),G(28,HD,2,1,"p",20),l(),c(29,"div",25)(30,"label",11),u(31," Repayment Frequency * "),l(),c(32,"mat-form-field",16)(33,"mat-label"),u(34,"Select frequency"),l(),c(35,"mat-select",31),Li(36,GD,2,2,"mat-option",18,_1),l()()(),c(38,"div",25)(39,"label",11),u(40," Loan Status * "),l(),c(41,"mat-form-field",16)(42,"mat-label"),u(43,"Select status"),l(),c(44,"mat-select",32),Li(45,$D,2,2,"mat-option",18,_1),l()()(),c(47,"div",25)(48,"label",11),u(49," Total Amount Paid "),l(),de(50,"input",33),l(),c(51,"div",25)(52,"label",11),u(53," Remaining Balance "),l(),de(54,"input",34),l(),c(55,"div",25)(56,"label",11),u(57," Next Payment Due Date * "),l(),de(58,"input",35),l(),c(59,"div",25)(60,"label",3),de(61,"input",36),c(62,"span",37),u(63," Show payment reminders "),l()()()()),e&2){let r,t=k();g(9),ot((r=t.accountForm.get("lenderName"))!=null&&r.hasError("required")&&((r=t.accountForm.get("lenderName"))!=null&&r.touched)?9:-1),g(5),ot(t.getLoanAmountError()?14:-1),g(5),ot(t.getInterestRateError()?19:-1),g(9),ot(t.getDurationError()?28:-1),g(8),Vi(t.repaymentFrequencies),g(9),Vi(t.loanStatuses)}}var om=(()=>{let n=class n{constructor(t,i,a,o,s,d,m,f){var _,v,w,C;this.dialogData=t,this.fb=i,this.dialogRef=a,this.auth=o,this.notificationService=s,this.hapticFeedback=d,this.validationService=m,this.store=f,this.isSubmitting=!1,this.accountTypes=[{value:so.BANK,label:"Bank Account"},{value:so.CASH,label:"Cash"},{value:so.CREDIT,label:"Credit Card"},{value:so.LOAN,label:"Loan"},{value:so.INVESTMENT,label:"Investment"}],this.repaymentFrequencies=[{value:"monthly",label:"Monthly"},{value:"weekly",label:"Weekly"}],this.loanStatuses=[{value:"active",label:"Active"},{value:"closed",label:"Closed"},{value:"defaulted",label:"Defaulted"}],this.accountForm=this.fb.group({name:["",this.validationService.getAccountNameValidators()],type:["bank",yt.required],balance:[0,this.validationService.getAccountBalanceValidators()],description:[""],lenderName:[""],loanAmount:[0,this.validationService.getLoanAmountValidators()],interestRate:[0,this.validationService.getInterestRateValidators()],startDate:[new Date],durationMonths:[12,this.validationService.getDurationMonthsValidators()],repaymentFrequency:["monthly"],status:["active"],totalPaid:[0,[yt.min(0)]],remainingBalance:[0,[yt.min(0)]],nextDueDate:[new Date],showReminder:[!0]}),this.dialogData&&this.accountForm.patchValue(ue({name:this.dialogData.name,type:this.dialogData.type,balance:this.dialogData.balance||0,description:this.dialogData.description},this.dialogData.loanDetails&&{lenderName:this.dialogData.loanDetails.lenderName,loanAmount:this.dialogData.loanDetails.loanAmount,interestRate:this.dialogData.loanDetails.interestRate,startDate:this.dialogData.loanDetails.startDate,durationMonths:this.dialogData.loanDetails.durationMonths,repaymentFrequency:this.dialogData.loanDetails.repaymentFrequency,status:this.dialogData.loanDetails.status,totalPaid:this.dialogData.loanDetails.totalPaid,remainingBalance:this.dialogData.loanDetails.remainingBalance,nextDueDate:this.dialogData.loanDetails.nextDueDate,showReminder:this.dialogData.loanDetails.showReminder})),(_=this.accountForm.get("loanAmount"))==null||_.valueChanges.subscribe(b=>{var O;((O=this.accountForm.get("type"))==null?void 0:O.value)==="loan"&&this.accountForm.patchValue({balance:-b},{emitEvent:!1})}),(v=this.accountForm.get("type"))==null||v.valueChanges.subscribe(b=>{let O=this.accountForm.get("lenderName"),L=this.accountForm.get("loanAmount"),N=this.accountForm.get("interestRate"),V=this.accountForm.get("durationMonths"),re=this.accountForm.get("nextDueDate");b==="loan"?(O==null||O.setValidators([yt.required]),L==null||L.setValidators([yt.required,...this.validationService.getLoanAmountValidators()]),N==null||N.setValidators([yt.required,...this.validationService.getInterestRateValidators()]),V==null||V.setValidators([yt.required,...this.validationService.getDurationMonthsValidators()]),re==null||re.setValidators([yt.required])):(O==null||O.clearValidators(),L==null||L.clearValidators(),N==null||N.clearValidators(),V==null||V.clearValidators(),re==null||re.clearValidators()),O==null||O.updateValueAndValidity(),L==null||L.updateValueAndValidity(),N==null||N.updateValueAndValidity(),V==null||V.updateValueAndValidity(),re==null||re.updateValueAndValidity()}),(w=this.accountForm.get("loanAmount"))==null||w.valueChanges.subscribe(b=>{var L;let O=((L=this.accountForm.get("totalPaid"))==null?void 0:L.value)||0;this.accountForm.patchValue({remainingBalance:Math.max(0,b-O)},{emitEvent:!1})}),(C=this.accountForm.get("totalPaid"))==null||C.valueChanges.subscribe(b=>{var L;let O=((L=this.accountForm.get("loanAmount"))==null?void 0:L.value)||0;this.accountForm.patchValue({remainingBalance:Math.max(0,O-b)},{emitEvent:!1})})}ngOnInit(){var t;this.userId=(t=this.auth.currentUser)==null?void 0:t.uid}onSubmit(){return ge(this,null,function*(){var t;if(this.accountForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let i=this.accountForm.value,a=i.type==="loan",o={name:i.name.trim(),type:i.type,balance:Number(i.balance)||0,description:i.description};a&&(o.loanDetails={lenderName:i.lenderName.trim(),loanAmount:Number(i.loanAmount)||0,interestRate:Number(i.interestRate)||0,startDate:i.startDate,durationMonths:Number(i.durationMonths)||12,repaymentFrequency:i.repaymentFrequency,status:i.status,totalPaid:Number(i.totalPaid)||0,remainingBalance:Number(i.remainingBalance)||0,nextDueDate:i.nextDueDate,showReminder:i.showReminder}),(t=this.dialogData)!=null&&t.accountId?(yield this.store.dispatch(dc({userId:this.userId,accountId:this.dialogData.accountId,accountData:o})),this.notificationService.success("Account updated successfully")):(yield this.store.dispatch(lc({userId:this.userId,accountData:o})),this.notificationService.success("Account added successfully"),this.hapticFeedback.successVibration()),this.dialogRef.close(!0)}catch(i){this.notificationService.error("Failed to save account"),console.error("Error saving account:",i)}finally{this.isSubmitting=!1}}})}onClose(){this.dialogRef.close()}getNameError(){let t=this.accountForm.get("name");return t?this.validationService.getAccountNameError(t):""}getBalanceError(){let t=this.accountForm.get("balance");return t?this.validationService.getAccountBalanceError(t):""}isLoanAccount(){var t;return((t=this.accountForm.get("type"))==null?void 0:t.value)==="loan"}getLoanAmountError(){let t=this.accountForm.get("loanAmount");return t?this.validationService.getLoanAmountError(t):""}getInterestRateError(){let t=this.accountForm.get("interestRate");return t?this.validationService.getInterestRateError(t):""}getDurationError(){let t=this.accountForm.get("durationMonths");return t?this.validationService.getDurationError(t):""}};n.\u0275fac=function(i){return new(i||n)(D(kr),D(wr),D(Mr),D(Ut),D(At),D(Pa),D(Kr),D(qt))},n.\u0275cmp=Fe({type:n,selectors:[["app-add-account-dialog"]],decls:40,vars:11,consts:[[1,"sticky","top-0","z-20","bg-white","dark:bg-gray-800","border-b","border-gray-200","dark:border-gray-700","shadow-sm"],[1,"flex","items-center","justify-between","px-4","py-3"],[1,"text-lg","font-semibold","text-gray-900","dark:text-gray-100"],[1,"flex","items-center","gap-2"],["mat-icon-button","","color","primary","matTooltip","Save Account",1,"w-10","h-10","!bg-primary",3,"click","disabled"],[1,"text-white"],["mat-icon-button","","type","button","matTooltip","Close",1,"text-gray-500","hover:text-gray-700","dark:text-gray-400","dark:hover:text-gray-200",3,"click"],[1,"flex-1","overflow-y-auto","bg-gray-50","dark:bg-gray-900"],[1,"p-4","space-y-6"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-4","shadow-sm"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["type","text","formControlName","name","placeholder","e.g., Chase Checking",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"maxlength"],[1,"flex","justify-between","items-center","mt-1"],[1,"text-red-500","text-sm"],[1,"text-xs","text-gray-500"],["appearance","fill",1,"w-full"],["formControlName","type"],[3,"value"],["type","number","formControlName","balance","placeholder","0.00","step","0.01",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],[1,"text-red-500","text-sm","mt-1"],[1,"bg-amber-50","dark:bg-amber-900/20","border","border-amber-200","dark:border-amber-800","rounded-lg","p-4"],[1,"h-20"],[1,"text-sm","font-semibold","text-amber-800","dark:text-amber-200","mb-4","flex","items-center","gap-2"],[1,"text-amber-600","dark:text-amber-400"],[1,"mb-4"],["type","text","formControlName","lenderName","placeholder","e.g., Bank of America",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","number","formControlName","loanAmount","placeholder","0.00","step","0.01",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","number","formControlName","interestRate","placeholder","5.5","step","0.1",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","date","formControlName","startDate",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","number","formControlName","durationMonths","placeholder","12",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["formControlName","repaymentFrequency"],["formControlName","status"],["type","number","formControlName","totalPaid","placeholder","0.00","step","0.01",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","number","formControlName","remainingBalance","readonly","",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-gray-100","dark:bg-gray-700","text-gray-600","dark:text-gray-400"],["type","date","formControlName","nextDueDate",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","checkbox","formControlName","showReminder",1,"w-4","h-4","text-amber-600","bg-gray-100","border-gray-300","rounded","focus:ring-amber-500","dark:focus:ring-amber-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"]],template:function(i,a){if(i&1&&(c(0,"div",0)(1,"div",1)(2,"h6",2),u(3),l(),c(4,"div",3)(5,"button",4),H("click",function(){return a.onSubmit()}),c(6,"mat-icon",5),u(7),l()(),c(8,"button",6),H("click",function(){return a.onClose()}),c(9,"mat-icon"),u(10,"close"),l()()()()(),c(11,"div",7)(12,"div",8)(13,"form",9),H("ngSubmit",function(){return a.onSubmit()}),c(14,"div",10)(15,"label",11),u(16," Account Name * "),l(),de(17,"input",12),c(18,"div",13),G(19,RD,2,0,"p",14)(20,ND,2,0,"p",14),c(21,"span",15),u(22),l()()(),c(23,"div",10)(24,"label",11),u(25," Account Type * "),l(),c(26,"mat-form-field",16)(27,"mat-label"),u(28,"Select account type"),l(),c(29,"mat-select",17),Li(30,LD,2,2,"mat-option",18,_1),l(),G(32,VD,2,0,"mat-error"),l()(),c(33,"div",10)(34,"label",11),u(35," Initial Balance * "),l(),de(36,"input",19),G(37,BD,2,1,"p",20),l(),G(38,WD,64,4,"div",21),de(39,"div",22),l()()()),i&2){let o,s,d,m;g(3),he(" ",a.dialogData!=null&&a.dialogData.accountId?"Edit":"Add"," Account "),g(2),P("disabled",a.accountForm.invalid||a.isSubmitting),g(2),he(" ",a.isSubmitting?"hourglass_empty":"check"," "),g(6),P("formGroup",a.accountForm),g(4),P("maxlength",50),g(2),ot((o=a.accountForm.get("name"))!=null&&o.hasError("required")&&((o=a.accountForm.get("name"))!=null&&o.touched)?19:-1),g(),ot((s=a.accountForm.get("name"))!=null&&s.hasError("maxlength")?20:-1),g(2),he(" ",((d=a.accountForm.get("name"))==null||d.value==null?null:d.value.length)||0,"/50 "),g(8),Vi(a.accountTypes),g(2),ot((m=a.accountForm.get("type"))!=null&&m.hasError("required")&&((m=a.accountForm.get("type"))!=null&&m.touched)?32:-1),g(5),ot(a.getBalanceError()?37:-1),g(),ot(a.isLoanAccount()?38:-1)}},dependencies:[Di,mn,Gi,dh,hn,Ai,cc,yr,Cr,zt,wn,Ma,Zo,Jo,Qr,Lr,ni],styles:["[_nghost-%COMP%]{display:block;max-width:600px;width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}button[_ngcontent-%COMP%]:active{transform:translateY(0)}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.text-red-500[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.text-green-500[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}*[_ngcontent-%COMP%]{transition:background-color .3s ease,color .3s ease,border-color .3s ease}"]});let e=n;return e})();function YD(e,n){if(e&1){let r=Ce();c(0,"button",16),H("click",function(){q(r);let i=k();return K(i.clearSearch())}),c(1,"mat-icon"),u(2,"clear"),l()()}}function qD(e,n){if(e&1){let r=Ce();c(0,"div",17)(1,"mat-icon",18),u(2,"search_off"),l(),c(3,"p",19),u(4),l(),c(5,"button",20),H("click",function(){q(r);let i=k();return K(i.clearSearch())}),u(6," Clear Search "),l()()}if(e&2){let r=k();g(4),he('No icons found for "',r.searchTerm,'"')}}function KD(e,n){if(e&1){let r=Ce();c(0,"button",23),H("click",function(){let i=q(r).$implicit,a=k(2);return K(a.selectIcon(i))}),c(1,"mat-icon",24),u(2),l()()}if(e&2){let r=n.$implicit,t=k(2);Be("selected",t.selectedIcon===r),Gt("aria-label","Select "+r+" icon"),g(2),ne(r)}}function QD(e,n){if(e&1&&(c(0,"div",21),G(1,KD,3,4,"button",22),l()),e&2){let r=k();g(),P("ngForOf",r.filteredIcons)("ngForTrackBy",r.trackByIcon)}}var hf=(()=>{let n=class n{constructor(t,i){this.dialogRef=t,this.data=i,this.availableIcons=Sd,this.searchTerm="",this.filteredIcons=[],this.selectedIcon=i.currentIcon||"category",this.filteredIcons=[...this.availableIcons]}ngOnInit(){this.data.availableIcons&&(this.availableIcons=this.data.availableIcons,this.filteredIcons=[...this.availableIcons])}selectIcon(t){this.selectedIcon=t,this.dialogRef.close(t)}onSearchChange(){this.searchTerm.trim()?this.filteredIcons=this.availableIcons.filter(t=>t.toLowerCase().includes(this.searchTerm.toLowerCase())):this.filteredIcons=[...this.availableIcons]}clearSearch(){this.searchTerm="",this.filteredIcons=[...this.availableIcons]}onCancel(){this.dialogRef.close()}trackByIcon(t,i){return i}};n.\u0275fac=function(i){return new(i||n)(D(Mr),D(kr))},n.\u0275cmp=Fe({type:n,selectors:[["app-icon-selector-dialog"]],decls:25,vars:4,consts:[[1,"icon-selector-dialog"],[1,"dialog-header"],[1,"dialog-title"],[1,"title-icon"],["mat-icon-button","",1,"close-button",3,"click"],[1,"search-container"],[1,"search-input-wrapper"],[1,"search-icon"],["type","text","placeholder","Search icons...","autocomplete","off","spellcheck","false",1,"search-input",3,"ngModelChange","input","ngModel"],["mat-icon-button","","class","clear-search-button","type","button",3,"click",4,"ngIf"],[1,"icons-container"],["class","no-results",4,"ngIf"],["class","icons-grid",4,"ngIf"],[1,"dialog-actions"],["mat-stroked-button","",1,"cancel-button",3,"click"],["mat-raised-button","","color","primary",1,"select-button",3,"click"],["mat-icon-button","","type","button",1,"clear-search-button",3,"click"],[1,"no-results"],[1,"no-results-icon"],[1,"no-results-text"],["mat-stroked-button","",1,"clear-search-btn",3,"click"],[1,"icons-grid"],["type","button","class","icon-option",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"icon-option",3,"click"],[1,"icon"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon",3),u(4,"emoji_emotions"),l(),u(5," Select Icon "),l(),c(6,"button",4),H("click",function(){return a.onCancel()}),c(7,"mat-icon"),u(8,"close"),l()()(),c(9,"div",5)(10,"div",6)(11,"mat-icon",7),u(12,"search"),l(),c(13,"input",8),kt("ngModelChange",function(s){return Mt(a.searchTerm,s)||(a.searchTerm=s),s}),H("input",function(){return a.onSearchChange()}),l(),G(14,YD,3,0,"button",9),l()(),c(15,"div",10),G(16,qD,7,1,"div",11)(17,QD,2,2,"div",12),l(),c(18,"div",13)(19,"button",14),H("click",function(){return a.onCancel()}),u(20," Cancel "),l(),c(21,"button",15),H("click",function(){return a.selectIcon(a.selectedIcon)}),c(22,"mat-icon"),u(23,"check"),l(),u(24," Select Icon "),l()()()),i&2&&(g(13),St("ngModel",a.searchTerm),g(),P("ngIf",a.searchTerm),g(2),P("ngIf",a.filteredIcons.length===0),g(),P("ngIf",a.filteredIcons.length>0))},dependencies:[an,Tt,mn,hn,Hi,zt,Cn,wn],styles:[".icon-selector-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:90vh;background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}@media (max-width: 640px){.icon-selector-dialog[_ngcontent-%COMP%]{height:100vh;max-height:100vh;border-radius:0}}.dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;border-bottom:1px solid #e5e7eb;background:#f9fafb}@media (max-width: 640px){.dialog-header[_ngcontent-%COMP%]{padding:1rem}}.dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0;display:flex;align-items:center;gap:.5rem}.dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.5rem;width:1.5rem;height:1.5rem}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#6b7280;min-width:44px;min-height:44px}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:#374151;background:#0000000a}.search-container[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #e5e7eb;background:#fff}@media (max-width: 640px){.search-container[_ngcontent-%COMP%]{padding:.75rem 1rem}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;color:#9ca3af;font-size:1.25rem;width:1.25rem;height:1.25rem;pointer-events:none}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem .75rem .75rem 2.5rem;border:1px solid #d1d5db;border-radius:8px;font-size:1rem;background:#fff;transition:all .2s ease;min-height:44px}@media (max-width: 640px){.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{min-height:48px;font-size:16px}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .clear-search-button[_ngcontent-%COMP%]{position:absolute;right:.5rem;color:#9ca3af;min-width:32px;min-height:32px}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .clear-search-button[_ngcontent-%COMP%]:hover{color:#6b7280;background:#0000000a}.icons-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem 1.5rem}@media (max-width: 640px){.icons-container[_ngcontent-%COMP%]{padding:.75rem 1rem}}.icons-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.icons-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.icons-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.icons-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.icons-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem}.icons-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:#9ca3af;margin-bottom:1rem}.icons-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .no-results-text[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem;margin:0 0 1.5rem}.icons-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]{min-height:44px;padding:.75rem 1.5rem}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:.75rem}@media (max-width: 640px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(70px,1fr));gap:.5rem}}@media (max-width: 480px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(60px,1fr));gap:.5rem}}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.75rem .5rem;border:2px solid #e5e7eb;border-radius:12px;background:#fff;cursor:pointer;transition:all .2s ease;min-height:80px;text-decoration:none}@media (max-width: 640px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{min-height:70px;padding:.5rem .25rem}}@media (max-width: 480px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{min-height:60px;padding:.5rem .25rem}}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff;transform:translateY(-2px);box-shadow:0 4px 12px #3b82f626}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#dbeafe;color:#1d4ed8;transform:translateY(-2px);box-shadow:0 4px 12px #3b82f633}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;margin-bottom:.25rem}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{font-size:.625rem;font-family:Roboto Mono,monospace;color:#6b7280;text-align:center;line-height:1.2;word-break:break-word;max-width:100%}@media (max-width: 480px){.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{font-size:.5rem}}.icons-container[_ngcontent-%COMP%]   .icons-grid[_ngcontent-%COMP%]   .icon-option.selected[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{color:#1d4ed8;font-weight:500}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;padding:1rem 1.5rem;border-top:1px solid #e5e7eb;background:#f9fafb}@media (max-width: 640px){.dialog-actions[_ngcontent-%COMP%]{padding:.75rem 1rem}}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%], .dialog-actions[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{flex:1;min-height:44px;padding:.75rem 1.5rem;display:flex;align-items:center;justify-content:center;gap:.5rem;font-weight:500}@media (max-width: 640px){.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%], .dialog-actions[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{min-height:48px}}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{color:#6b7280;border-color:#d1d5db}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:hover{color:#374151;border-color:#9ca3af;background:#0000000a}.dialog-actions[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));color:#fff}.dialog-actions[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]:hover{background:#2563eb}.dialog-actions[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.icon-selector-dialog[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .3s ease-out}"]});let e=n;return e})();function XD(e,n){if(e&1){let r=Ce();c(0,"button",16),H("click",function(){q(r);let i=k();return K(i.clearSearch())}),c(1,"mat-icon"),u(2,"clear"),l()()}}function ZD(e,n){if(e&1){let r=Ce();c(0,"div",17)(1,"mat-icon",18),u(2,"search_off"),l(),c(3,"p",19),u(4),l(),c(5,"button",20),H("click",function(){q(r);let i=k();return K(i.clearSearch())}),u(6," Clear Search "),l()()}if(e&2){let r=k();g(4),he('No colors found for "',r.searchTerm,'"')}}function JD(e,n){e&1&&(c(0,"mat-icon",26),u(1,"check"),l())}function e5(e,n){if(e&1){let r=Ce();c(0,"button",23),H("click",function(){let i=q(r).$implicit,a=k(2);return K(a.selectColor(i))}),de(1,"div",24),G(2,JD,2,0,"mat-icon",25),l()}if(e&2){let r=n.$implicit,t=k(2);Yt("background-color",r),Be("selected",t.selectedColor===r),Gt("aria-label","Select "+r+" color"),g(),Yt("background-color",r),g(),P("ngIf",t.selectedColor===r)}}function t5(e,n){if(e&1&&(c(0,"div",21),G(1,e5,3,8,"button",22),l()),e&2){let r=k();g(),P("ngForOf",r.filteredColors)("ngForTrackBy",r.trackByColor)}}var pf=(()=>{let n=class n{constructor(t,i){this.dialogRef=t,this.data=i,this.availableColors=Md,this.searchTerm="",this.filteredColors=[],this.selectedColor=i.currentColor||"#46777f",this.filteredColors=[...this.availableColors]}ngOnInit(){this.data.availableColors&&(this.availableColors=this.data.availableColors,this.filteredColors=[...this.availableColors])}selectColor(t){this.selectedColor=t,this.dialogRef.close(t)}onSearchChange(){this.searchTerm.trim()?this.filteredColors=this.availableColors.filter(t=>t.toLowerCase().includes(this.searchTerm.toLowerCase())):this.filteredColors=[...this.availableColors]}clearSearch(){this.searchTerm="",this.filteredColors=[...this.availableColors]}onCancel(){this.dialogRef.close()}trackByColor(t,i){return i}};n.\u0275fac=function(i){return new(i||n)(D(Mr),D(kr))},n.\u0275cmp=Fe({type:n,selectors:[["app-color-selector-dialog"]],decls:23,vars:4,consts:[[1,"color-selector-dialog"],[1,"dialog-header"],[1,"dialog-title"],[1,"title-icon"],["mat-icon-button","",1,"close-button",3,"click"],[1,"search-container"],[1,"search-input-wrapper"],[1,"search-icon"],["type","text","placeholder","Search colors...","autocomplete","off","spellcheck","false",1,"search-input",3,"ngModelChange","input","ngModel"],["mat-icon-button","","class","clear-search-button","type","button",3,"click",4,"ngIf"],[1,"colors-container"],["class","no-results",4,"ngIf"],["class","colors-grid",4,"ngIf"],[1,"dialog-actions"],["mat-stroked-button","",1,"cancel-button",3,"click"],["mat-raised-button","","color","primary",1,"select-button",3,"click"],["mat-icon-button","","type","button",1,"clear-search-button",3,"click"],[1,"no-results"],[1,"no-results-icon"],[1,"no-results-text"],["mat-stroked-button","",1,"clear-search-btn",3,"click"],[1,"colors-grid"],["type","button","class","color-option",3,"selected","background-color","click",4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"color-option",3,"click"],[1,"color-preview"],["class","check-icon",4,"ngIf"],[1,"check-icon"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon",3),u(4,"palette"),l(),u(5," Select Color "),l(),c(6,"button",4),H("click",function(){return a.onCancel()}),c(7,"mat-icon"),u(8,"close"),l()()(),c(9,"div",5)(10,"div",6)(11,"mat-icon",7),u(12,"search"),l(),c(13,"input",8),kt("ngModelChange",function(s){return Mt(a.searchTerm,s)||(a.searchTerm=s),s}),H("input",function(){return a.onSearchChange()}),l(),G(14,XD,3,0,"button",9),l()(),c(15,"div",10),G(16,ZD,7,1,"div",11)(17,t5,2,2,"div",12),l(),c(18,"div",13)(19,"button",14),H("click",function(){return a.onCancel()}),u(20," Cancel "),l(),c(21,"button",15),H("click",function(){return a.selectColor(a.selectedColor)}),u(22," Select Color "),l()()()),i&2&&(g(13),St("ngModel",a.searchTerm),g(),P("ngIf",a.searchTerm),g(2),P("ngIf",a.filteredColors.length===0),g(),P("ngIf",a.filteredColors.length>0))},dependencies:[an,Tt,mn,hn,Hi,zt,Cn,wn],styles:[".color-selector-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:90vh;background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}@media (max-width: 640px){.color-selector-dialog[_ngcontent-%COMP%]{height:100vh;max-height:100vh;border-radius:0}}.dialog-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;border-bottom:1px solid #e5e7eb;background:#f9fafb}@media (max-width: 640px){.dialog-header[_ngcontent-%COMP%]{padding:1rem}}.dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0;display:flex;align-items:center;gap:.5rem}.dialog-header[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.5rem;width:1.5rem;height:1.5rem}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#6b7280;min-width:44px;min-height:44px}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:#374151;background:#0000000a}.search-container[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #e5e7eb;background:#fff}@media (max-width: 640px){.search-container[_ngcontent-%COMP%]{padding:.75rem 1rem}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;color:#9ca3af;font-size:1.25rem;width:1.25rem;height:1.25rem;pointer-events:none}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem .75rem .75rem 2.5rem;border:1px solid #d1d5db;border-radius:8px;font-size:1rem;background:#fff;transition:all .2s ease;min-height:44px}@media (max-width: 640px){.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{min-height:48px;font-size:16px}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .clear-search-button[_ngcontent-%COMP%]{position:absolute;right:.5rem;color:#9ca3af;min-width:32px;min-height:32px}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .clear-search-button[_ngcontent-%COMP%]:hover{color:#6b7280;background:#0000000a}.colors-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem 1.5rem}@media (max-width: 640px){.colors-container[_ngcontent-%COMP%]{padding:.75rem 1rem}}.colors-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.colors-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.colors-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.colors-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.colors-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem}.colors-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:#9ca3af;margin-bottom:1rem}.colors-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .no-results-text[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem;margin:0 0 1.5rem}.colors-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]{min-height:44px;padding:.75rem 1.5rem}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:.75rem}@media (max-width: 640px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(70px,1fr));gap:.5rem}}@media (max-width: 480px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(60px,1fr));gap:.5rem}}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.75rem .5rem;border:2px solid #e5e7eb;border-radius:12px;background:#fff;cursor:pointer;transition:all .2s ease;min-height:80px;position:relative}@media (max-width: 640px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{min-height:70px;padding:.5rem .25rem}}@media (max-width: 480px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{min-height:60px;padding:.5rem .25rem}}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;transform:translateY(-2px);box-shadow:0 4px 12px #0003}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option.selected[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:50%;margin-bottom:.25rem;border:2px solid white;box-shadow:0 2px 4px #0000001a}@media (max-width: 640px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem}}@media (max-width: 480px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{font-size:.625rem;font-family:Roboto Mono,monospace;color:#6b7280;text-align:center;line-height:1.2;word-break:break-word;max-width:100%}@media (max-width: 480px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{font-size:.5rem}}.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{position:absolute;top:.25rem;right:.25rem;color:#fff;font-size:1rem;width:1rem;height:1rem;background:#000000b3;border-radius:50%;padding:.125rem;opacity:0;transform:scale(0);transition:all .2s ease}@media (max-width: 640px){.colors-container[_ngcontent-%COMP%]   .colors-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{font-size:.875rem;width:.875rem;height:.875rem}}.dialog-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;padding:1rem 1.5rem;border-top:1px solid #e5e7eb;background:#f9fafb}@media (max-width: 640px){.dialog-actions[_ngcontent-%COMP%]{padding:.75rem 1rem}}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%], .dialog-actions[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{flex:1;min-height:44px;padding:.75rem 1.5rem;display:flex;align-items:center;justify-content:center;gap:.5rem;font-weight:500}@media (max-width: 640px){.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%], .dialog-actions[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{min-height:48px}}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{color:#6b7280;border-color:#d1d5db}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:hover{color:#374151;border-color:#9ca3af;background:#0000000a}.dialog-actions[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));color:#fff}.dialog-actions[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]:hover{background:#2563eb}.dialog-actions[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.color-selector-dialog[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .3s ease-out}"]});let e=n;return e})();var Mn=(()=>{let n=class n{constructor(){}toDate(t){try{if(!t)return null;if(t instanceof Date)return t;if(t instanceof hi)return t.toDate();if(t&&typeof t=="object"&&"seconds"in t)return new hi(t.seconds,t.nanoseconds).toDate();if(typeof t=="number")return new Date(t);if(typeof t=="string"){let i=new Date(t);return isNaN(i.getTime())?null:i}return t&&typeof t.toDate=="function"?t.toDate():null}catch(i){return console.error("Error converting timestamp to date:",i,t),null}}toTimestamp(t){try{if(!t)return null;if(t instanceof hi)return t;if(t instanceof Date)return hi.fromDate(t);if(typeof t=="number")return hi.fromDate(new Date(t));if(typeof t=="string"){let i=new Date(t);if(!isNaN(i.getTime()))return hi.fromDate(i)}return t&&typeof t.toDate=="function"?hi.fromDate(t.toDate()):null}catch(i){return console.error("Error converting date to timestamp:",i,t),null}}fromFormDate(t){try{if(!t)return null;let i=new Date(t);return isNaN(i.getTime())?null:hi.fromDate(i)}catch(i){return console.error("Error converting form date to timestamp:",i,t),null}}now(){return hi.fromDate(new Date)}compare(t,i){let a=this.toDate(t),o=this.toDate(i);return!a&&!o?0:a?o?a.getTime()-o.getTime():1:-1}sortByDate(t,i,a=!1){return[...t].sort((o,s)=>{let d=this.toDate(o[i]),m=this.toDate(s[i]);if(!d&&!m)return 0;if(!d)return a?-1:1;if(!m)return a?1:-1;let f=d.getTime()-m.getTime();return a?f:-f})}filterByDateRange(t,i,a,o){let s=this.toDate(a),d=this.toDate(o);return!s&&!d?t:t.filter(m=>{let f=this.toDate(m[i]);return f?s&&d?f>=s&&f<=d:s?f>=s:d?f<=d:!0:!1})}isValidDate(t){let i=this.toDate(t);return i!==null&&!isNaN(i.getTime())}formatDate(t,i="MM/DD/YYYY"){let a=this.toDate(t);if(!a)return"Invalid Date";let o=a.getDate().toString().padStart(2,"0"),s=(a.getMonth()+1).toString().padStart(2,"0"),d=a.getFullYear();return i.replace("MM",s).replace("DD",o).replace("YYYY",d.toString())}toISOString(t){let i=this.toDate(t);return i?i.toISOString().split("T")[0]:""}getRelativeTime(t){let i=this.toDate(t);if(!i)return"Unknown";let o=Math.floor((new Date().getTime()-i.getTime())/1e3);if(o<60)return"Just now";if(o<3600){let s=Math.floor(o/60);return`${s} minute${s>1?"s":""} ago`}else if(o<86400){let s=Math.floor(o/3600);return`${s} hour${s>1?"s":""} ago`}else if(o<2592e3){let s=Math.floor(o/86400);return`${s} day${s>1?"s":""} ago`}else return this.formatDate(i)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var Yd=(()=>{let n=class n{constructor(t,i,a){this.fb=t,this.dateService=i,this.validationService=a}createBudgetForm(){return this.fb.group({hasBudget:[!1],budgetAmount:[0,this.validationService.getBudgetAmountValidators()],budgetPeriod:["monthly",yt.required],budgetStartDate:[new Date,yt.required],budgetEndDate:[null],budgetAlertThreshold:[80,this.validationService.getBudgetThresholdValidators()],budgetAlertEnabled:[!0]})}initializeBudgetForm(t,i){var a,o,s,d,m,f,_,v,w,C;(a=i==null?void 0:i.budget)!=null&&a.hasBudget&&t.patchValue({hasBudget:(o=i.budget)==null?void 0:o.hasBudget,budgetAmount:((s=i.budget)==null?void 0:s.budgetAmount)||0,budgetPeriod:((d=i.budget)==null?void 0:d.budgetPeriod)||"monthly",budgetStartDate:(m=i.budget)!=null&&m.budgetStartDate?this.dateService.toDate((f=i.budget)==null?void 0:f.budgetStartDate):new Date,budgetEndDate:(_=i.budget)!=null&&_.budgetEndDate?this.dateService.toDate((v=i.budget)==null?void 0:v.budgetEndDate):null,budgetAlertThreshold:((w=i.budget)==null?void 0:w.budgetAlertThreshold)||80,budgetAlertEnabled:((C=i.budget)==null?void 0:C.budgetAlertEnabled)!==!1}),this.setupBudgetFormValidation(t)}setupBudgetFormValidation(t){var i,a;(i=t.get("hasBudget"))==null||i.valueChanges.subscribe(o=>{var s,d,m,f,_,v,w,C,b,O,L,N;o?((s=t.get("budgetAmount"))==null||s.enable(),(d=t.get("budgetPeriod"))==null||d.enable(),(m=t.get("budgetStartDate"))==null||m.enable(),(f=t.get("budgetEndDate"))==null||f.enable(),(_=t.get("budgetAlertThreshold"))==null||_.enable(),(v=t.get("budgetAlertEnabled"))==null||v.enable()):((w=t.get("budgetAmount"))==null||w.disable(),(C=t.get("budgetPeriod"))==null||C.disable(),(b=t.get("budgetStartDate"))==null||b.disable(),(O=t.get("budgetEndDate"))==null||O.disable(),(L=t.get("budgetAlertThreshold"))==null||L.disable(),(N=t.get("budgetAlertEnabled"))==null||N.disable())}),(a=t.get("hasBudget"))==null||a.updateValueAndValidity()}getBudgetDataFromForm(t){var a;let i=t.value;return{hasBudget:i.hasBudget||!1,budgetAmount:i.hasBudget&&(i==null?void 0:i.budgetAmount)||0,budgetPeriod:i.hasBudget&&(i==null?void 0:i.budgetPeriod)||"monthly",budgetStartDate:i.hasBudget&&((a=i==null?void 0:i.budgetStartDate)==null?void 0:a.getTime())||null,budgetEndDate:i.hasBudget&&i.budgetEndDate?i.budgetEndDate.getTime():null,budgetSpent:i.hasBudget&&(i==null?void 0:i.budgetSpent)||0,budgetRemaining:i.hasBudget&&(i==null?void 0:i.budgetRemaining)||0,budgetProgressPercentage:i.hasBudget&&(i==null?void 0:i.budgetProgressPercentage)||0,budgetAlertThreshold:i.hasBudget&&(i==null?void 0:i.budgetAlertThreshold)||80,budgetAlertEnabled:i.hasBudget&&(i==null?void 0:i.budgetAlertEnabled)||!0}}isBudgetFormValid(t){var i;return(i=t.get("hasBudget"))!=null&&i.value?t.valid:!0}getBudgetPeriods(){return[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}]}formatBudgetAmount(t){return t?t.toLocaleString(xt.LANGUAGE.DEFAULT,{minimumFractionDigits:2,maximumFractionDigits:2}):"0"}formatBudgetPeriod(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}getBudgetProgressColor(t){var a,o,s;if(!((a=t.budget)!=null&&a.hasBudget)||!((o=t.budget)!=null&&o.budgetProgressPercentage))return"#6b7280";let i=(s=t.budget)==null?void 0:s.budgetProgressPercentage;return i>=100?"#ef4444":i>=80?"#f59e0b":i>=60?"#3b82f6":"#10b981"}};n.\u0275fac=function(i){return new(i||n)(Ne(wr),Ne(Mn),Ne(Kr))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var n5=["switch"],i5=["*"];function r5(e,n){e&1&&(c(0,"span",10),si(),c(1,"svg",12),de(2,"path",13),l(),c(3,"svg",14),de(4,"path",15),l()())}var a5=new Ft("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),o5={provide:fd,useExisting:Da(()=>lo),multi:!0},ff=class{constructor(n,r){this.source=n,this.checked=r}},s5=0,lo=(()=>{let n=class n{_createChangeEvent(t){return new ff(this,t)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,a,o,s,d){var m,f;this._elementRef=t,this._focusMonitor=i,this._changeDetectorRef=a,this.defaults=s,this._onChange=_=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new He,this.toggleChange=new He,this.tabIndex=parseInt(o)||0,this.color=s.color||"accent",this._noopAnimations=d==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++s5}`,this.hideIcon=(m=s.hideIcon)!=null?m:!1,this.disabledInteractive=(f=s.disabledInteractive)!=null?f:!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t==="keyboard"||t==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(t){t.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}validate(t){return this.required&&t.value!==!0?{required:!0}:null}registerOnValidatorChange(t){this._validatorOnChange=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new ff(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}};n.\u0275fac=function(i){return new(i||n)(D(tn),D(Qo),D(gn),Oo("tabindex"),D(a5),D(Wr,8))},n.\u0275cmp=Fe({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,a){if(i&1&&Zt(n5,5),i&2){let o;gt(o=_t())&&(a._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,a){i&2&&(J0("id",a.id),Gt("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),jt(a.color?"mat-"+a.color:""),Be("mat-mdc-slide-toggle-focused",a._focused)("mat-mdc-slide-toggle-checked",a.checked)("_mat-animation-noopable",a._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",Ct],color:"color",disabled:[2,"disabled","disabled",Ct],disableRipple:[2,"disableRipple","disableRipple",Ct],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:oc(t)],checked:[2,"checked","checked",Ct],hideIcon:[2,"hideIcon","hideIcon",Ct],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ct]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[Dn([o5,{provide:uh,useExisting:n,multi:!0}]),Ln,ti,rn],ngContentSelectors:i5,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,a){if(i&1){let o=Ce();_i(),c(0,"div",1)(1,"button",2,0),H("click",function(){return q(o),K(a._handleClick())}),de(3,"span",3),c(4,"span",4)(5,"span",5)(6,"span",6),de(7,"span",7),l(),c(8,"span",8),de(9,"span",9),l(),G(10,r5,5,0,"span",10),l()()(),c(11,"label",11),H("click",function(d){return q(o),K(d.stopPropagation())}),yn(12),l()()}if(i&2){let o=qn(2);P("labelPosition",a.labelPosition),g(),Be("mdc-switch--selected",a.checked)("mdc-switch--unselected",!a.checked)("mdc-switch--checked",a.checked)("mdc-switch--disabled",a.disabled)("mat-mdc-slide-toggle-disabled-interactive",a.disabledInteractive),P("tabIndex",a.disabled&&!a.disabledInteractive?-1:a.tabIndex)("disabled",a.disabled&&!a.disabledInteractive),Gt("id",a.buttonId)("name",a.name)("aria-label",a.ariaLabel)("aria-labelledby",a._getAriaLabelledBy())("aria-describedby",a.ariaDescribedby)("aria-required",a.required||null)("aria-checked",a.checked)("aria-disabled",a.disabled&&a.disabledInteractive?"true":null),g(8),P("matRippleTrigger",o)("matRippleDisabled",a.disableRipple||a.disabled)("matRippleCentered",!0),g(),ot(a.hideIcon?-1:10),g(),P("for",a.buttonId),Gt("id",a._labelId)}},dependencies:[ll,AC],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0});let e=n;return e})();var F2=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({imports:[lo,Kn,Kn]});let e=n;return e})();function c5(e,n){e&1&&de(0,"mat-spinner",39)}function l5(e,n){e&1&&(c(0,"mat-icon"),u(1,"check"),l())}function d5(e,n){if(e&1&&(c(0,"p",17),u(1),l()),e&2){let r=k();g(),ne(r.getNameError())}}function u5(e,n){if(e&1&&(c(0,"p",17),u(1),l()),e&2){let r=k();g(),ne(r.getTypeError())}}function m5(e,n){if(e&1&&(c(0,"p",17),u(1),l()),e&2){let r=k(3);g(),ne(r.getBudgetAmountError())}}function h5(e,n){if(e&1&&(c(0,"div",12)(1,"label",13)(2,"mat-icon",14),u(3,"attach_money"),l(),u(4," Budget Amount * "),l(),de(5,"input",46),G(6,m5,2,1,"p",17),l()),e&2){let r,t=k(2);g(6),ot(t.getBudgetAmountError()&&((r=t.budgetForm.get("budgetAmount"))!=null&&r.touched)?6:-1)}}function p5(e,n){if(e&1&&(c(0,"option",49),u(1),l()),e&2){let r=n.$implicit;P("value",r.value),g(),he(" ",r.label," ")}}function f5(e,n){if(e&1&&(c(0,"p",17),u(1),l()),e&2){let r=k(3);g(),ne(r.getBudgetPeriodError())}}function g5(e,n){if(e&1&&(c(0,"div",12)(1,"label",13)(2,"mat-icon",14),u(3,"schedule"),l(),u(4," Budget Period * "),l(),c(5,"select",47),G(6,p5,2,2,"option",48),l(),G(7,f5,2,1,"p",17),l()),e&2){let r,t=k(2);g(6),P("ngForOf",t.budgetPeriods),g(),ot(t.getBudgetPeriodError()&&((r=t.budgetForm.get("budgetPeriod"))!=null&&r.touched)?7:-1)}}function _5(e,n){if(e&1&&(c(0,"p",17),u(1),l()),e&2){let r=k(3);g(),ne(r.getBudgetThresholdError())}}function x5(e,n){if(e&1&&(c(0,"div",12)(1,"label",13)(2,"mat-icon",14),u(3,"notifications"),l(),u(4," Alert Threshold (%) "),l(),de(5,"input",50),c(6,"div",51),u(7,"Get notified when you reach this percentage of your budget"),l(),G(8,_5,2,1,"p",17),l()),e&2){let r,t=k(2);g(8),ot(t.getBudgetThresholdError()&&((r=t.budgetForm.get("budgetAlertThreshold"))!=null&&r.touched)?8:-1)}}function v5(e,n){e&1&&(c(0,"div",12)(1,"div",52)(2,"mat-slide-toggle",53)(3,"span",44),u(4,"Enable budget alerts"),l()()()())}function b5(e,n){if(e&1&&(c(0,"div",40)(1,"form",41)(2,"div",12)(3,"div",42)(4,"mat-slide-toggle",43)(5,"span",44),u(6,"Set budget for this category"),l()()()(),G(7,h5,7,1,"div",45)(8,g5,8,2,"div",45)(9,x5,9,1,"div",45)(10,v5,5,0,"div",45),l()()),e&2){let r,t,i,a,o=k();g(),P("formGroup",o.budgetForm),g(6),P("ngIf",(r=o.budgetForm.get("hasBudget"))==null?null:r.value),g(),P("ngIf",(t=o.budgetForm.get("hasBudget"))==null?null:t.value),g(),P("ngIf",(i=o.budgetForm.get("hasBudget"))==null?null:i.value),g(),P("ngIf",(a=o.budgetForm.get("hasBudget"))==null?null:a.value)}}var gf=(()=>{let n=class n{constructor(t,i,a,o,s,d,m,f,_,v,w,C){this.dialogData=t,this.store=i,this.fb=a,this.dialogRef=o,this.auth=s,this.notificationService=d,this.router=m,this.hapticFeedback=f,this.dialog=_,this.budgetService=v,this.validationService=w,this.ssrService=C,this.availableIcons=Sd,this.availableColors=Md,this.isSubmitting=!1,this.userId="",this.showBudgetSection=!1,this.categoryForm=this.fb.group({name:["",this.validationService.getCategoryNameValidators()],type:["expense",yt.required],icon:["category",yt.required],color:["#46777f",yt.required]}),this.budgetForm=this.budgetService.createBudgetForm(),this.budgetPeriods=this.budgetService.getBudgetPeriods()}ngOnInit(){var t,i;this.userId=((t=this.auth.currentUser)==null?void 0:t.uid)||"",this.ssrService.isClientSide()&&window.addEventListener("popstate",a=>{this.dialogRef.close(),a.preventDefault()}),this.dialogData&&(this.categoryForm.patchValue({name:this.dialogData.name,type:this.dialogData.type,icon:this.dialogData.icon||"category",color:this.dialogData.color||"#46777f"}),(i=this.dialogData.budget)!=null&&i.hasBudget&&(this.showBudgetSection=!0,this.budgetService.initializeBudgetForm(this.budgetForm,this.dialogData)))}onSubmit(){return ge(this,null,function*(){var t,i,a,o,s,d,m,f,_;if(this.categoryForm.valid&&this.budgetService.isBudgetFormValid(this.budgetForm)&&!this.isSubmitting){this.isSubmitting=!0;try{let v=this.categoryForm.value;(t=this.dialogData)!=null&&t.id?(yield this.store.dispatch(Ts({userId:this.userId,categoryId:this.dialogData.id,name:v.name.trim(),categoryType:v.type,icon:v.icon,color:v.color,budgetData:{budgetSpent:((i=this.budgetForm.get("budgetSpent"))==null?void 0:i.value)||0,hasBudget:((a=this.budgetForm.get("hasBudget"))==null?void 0:a.value)||!1,budgetAmount:((o=this.budgetForm.get("budgetAmount"))==null?void 0:o.value)||0,budgetPeriod:((s=this.budgetForm.get("budgetPeriod"))==null?void 0:s.value)||"monthly",budgetStartDate:((d=this.budgetForm.get("budgetStartDate"))==null?void 0:d.value)||new Date,budgetEndDate:((m=this.budgetForm.get("budgetEndDate"))==null?void 0:m.value)||null,budgetAlertThreshold:((f=this.budgetForm.get("budgetAlertThreshold"))==null?void 0:f.value)||80,budgetAlertEnabled:((_=this.budgetForm.get("budgetAlertEnabled"))==null?void 0:_.value)||!0}})),this.notificationService.success("Category updated successfully")):(yield this.store.dispatch(uc({userId:this.userId,name:v.name.trim(),categoryType:v.type,icon:v.icon,color:v.color})),this.notificationService.success("Category added successfully"),this.hapticFeedback.successVibration()),this.dialogRef.close(!0)}catch(v){this.notificationService.error("Failed to save category"),console.error("Error saving category:",v)}finally{this.isSubmitting=!1}}})}onCancel(){this.dialogRef.close(!1)}toggleBudgetSection(){this.showBudgetSection=!this.showBudgetSection,this.showBudgetSection||this.budgetForm.reset({hasBudget:!1,budgetAmount:0,budgetPeriod:"monthly",budgetStartDate:new Date,budgetEndDate:null,budgetAlertThreshold:80,budgetAlertEnabled:!0})}selectType(t){this.categoryForm.patchValue({type:t})}getNameError(){let t=this.categoryForm.get("name");return t?this.validationService.getAccountNameError(t):""}getTypeError(){let t=this.categoryForm.get("type");return t!=null&&t.hasError("required")?"Category type is required":""}getBudgetAmountError(){let t=this.budgetForm.get("budgetAmount");return t?this.validationService.getBudgetAmountError(t):""}getBudgetPeriodError(){let t=this.budgetForm.get("budgetPeriod");return t!=null&&t.hasError("required")?"Budget period is required":""}getBudgetThresholdError(){let t=this.budgetForm.get("budgetAlertThreshold");return t?this.validationService.getBudgetThresholdError(t):""}openIconSelectorDialog(){var t;this.dialog.open(hf,{width:"90vw",maxWidth:"500px",height:"80vh",maxHeight:"600px",data:{currentIcon:(t=this.categoryForm.get("icon"))==null?void 0:t.value,availableIcons:this.availableIcons},disableClose:!1,autoFocus:!1}).afterClosed().subscribe(i=>{i&&(this.categoryForm.patchValue({icon:i}),this.hapticFeedback.lightVibration())})}openColorSelectorDialog(){var i;this.dialog.open(pf,{width:"90vw",maxWidth:"500px",height:"80vh",maxHeight:"600px",data:{currentColor:(i=this.categoryForm.get("color"))==null?void 0:i.value,availableColors:this.availableColors},disableClose:!1,autoFocus:!1}).afterClosed().subscribe(a=>{a&&(this.categoryForm.patchValue({color:a}),this.hapticFeedback.lightVibration())})}};n.\u0275fac=function(i){return new(i||n)(D(kr),D(qt),D(wr),D(Mr),D(Ut),D(At),D(Sn),D(Pa),D(ar),D(Yd),D(Kr),D(Vr))},n.\u0275cmp=Fe({type:n,selectors:[["app-mobile-category-add-edit-popup"]],decls:83,vars:26,consts:[[1,"mobile-header"],[1,"header-content"],[1,"header-left"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","mobile-only",3,"click"],[1,"header-title"],["mat-icon-button","","type","button","matTooltip","Close",1,"close-button","desktop-only",3,"click"],["mat-raised-button","","color","primary","matTooltip","Save Category",1,"save-button",3,"click","disabled"],["diameter","16",4,"ngIf"],[4,"ngIf"],[1,"mobile-content"],[1,"form-container"],[1,"category-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],[1,"field-icon"],["type","text","formControlName","name","placeholder","e.g., Groceries","autofocus","",1,"form-input"],[1,"field-footer"],[1,"error-message"],[1,"character-count"],[1,"type-selector"],["type","button",1,"type-option",3,"click"],[1,"icon-selector"],["type","button",1,"icon-preview-button",3,"click"],[1,"icon-preview"],[1,"selected-icon"],[1,"icon-name"],[1,"dropdown-icon"],[1,"color-selector"],["type","button",1,"color-preview-button",3,"click"],[1,"color-preview"],[1,"color-swatch"],[1,"color-name"],[1,"budget-toggle-section"],["type","button",1,"budget-toggle-button",3,"click"],[1,"toggle-icon"],[1,"toggle-text"],[1,"budget-icon"],["class","budget-section",4,"ngIf"],[1,"bottom-spacing"],["diameter","16"],[1,"budget-section"],[1,"budget-form",3,"formGroup"],[1,"budget-enable-toggle"],["formControlName","hasBudget","color","primary",1,"budget-toggle"],[1,"toggle-label"],["class","form-field",4,"ngIf"],["type","number","formControlName","budgetAmount","placeholder","0.00","step","0.01",1,"form-input"],["formControlName","budgetPeriod",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","number","formControlName","budgetAlertThreshold","placeholder","80",1,"form-input"],[1,"field-hint"],[1,"alert-toggle-section"],["formControlName","budgetAlertEnabled","color","primary",1,"alert-toggle"]],template:function(i,a){if(i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),H("click",function(){return a.onCancel()}),c(4,"mat-icon"),u(5,"arrow_back"),l()(),c(6,"h6",4),u(7),l()(),c(8,"button",5),H("click",function(){return a.onCancel()}),c(9,"mat-icon"),u(10,"close"),l()(),c(11,"button",6),H("click",function(){return a.onSubmit()}),G(12,c5,1,0,"mat-spinner",7)(13,l5,2,0,"mat-icon",8),u(14),l()()(),c(15,"div",9)(16,"div",10)(17,"form",11),H("ngSubmit",function(){return a.onSubmit()}),c(18,"div",12)(19,"label",13)(20,"mat-icon",14),u(21,"label"),l(),u(22," Category Name * "),l(),de(23,"input",15),c(24,"div",16),G(25,d5,2,1,"p",17),c(26,"span",18),u(27),l()()(),c(28,"div",12)(29,"label",13)(30,"mat-icon",14),u(31,"category"),l(),u(32," Category Type * "),l(),c(33,"div",19)(34,"button",20),H("click",function(){return a.selectType("expense")}),c(35,"mat-icon"),u(36,"trending_down"),l(),c(37,"span"),u(38,"Expense"),l()(),c(39,"button",20),H("click",function(){return a.selectType("income")}),c(40,"mat-icon"),u(41,"trending_up"),l(),c(42,"span"),u(43,"Income"),l()()(),G(44,u5,2,1,"p",17),l(),c(45,"div",12)(46,"label",13)(47,"mat-icon",14),u(48,"emoji_emotions"),l(),u(49," Category Icon * "),l(),c(50,"div",21)(51,"button",22),H("click",function(){return a.openIconSelectorDialog()}),c(52,"div",23)(53,"mat-icon",24),u(54),l(),c(55,"span",25),u(56),l()(),c(57,"mat-icon",26),u(58,"expand_more"),l()()()(),c(59,"div",12)(60,"label",13)(61,"mat-icon",14),u(62,"palette"),l(),u(63," Category Color * "),l(),c(64,"div",27)(65,"button",28),H("click",function(){return a.openColorSelectorDialog()}),c(66,"div",29),de(67,"div",30),c(68,"span",31),u(69),l()(),c(70,"mat-icon",26),u(71,"expand_more"),l()()()(),c(72,"div",12)(73,"div",32)(74,"button",33),H("click",function(){return a.toggleBudgetSection()}),c(75,"mat-icon",34),u(76),l(),c(77,"span",35),u(78,"Set Budget (Optional)"),l(),c(79,"mat-icon",36),u(80,"account_balance_wallet"),l()()()(),G(81,b5,11,5,"div",37),de(82,"div",38),l()()()),i&2){let o,s,d,m,f,_,v,w,C,b,O;g(7),he(" ",a.dialogData!=null&&a.dialogData.id?"Edit":"Add"," Category "),g(4),P("disabled",a.categoryForm.invalid||a.isSubmitting),g(),P("ngIf",a.isSubmitting),g(),P("ngIf",!a.isSubmitting),g(),he(" ",a.isSubmitting?"Saving...":"Save"," "),g(3),P("formGroup",a.categoryForm),g(8),ot(a.getNameError()&&((o=a.categoryForm.get("name"))!=null&&o.touched)?25:-1),g(2),he(" ",((s=a.categoryForm.get("name"))==null||s.value==null?null:s.value.length)||0,"/50 "),g(7),Be("selected",((d=a.categoryForm.get("type"))==null?null:d.value)==="expense"),g(5),Be("selected",((m=a.categoryForm.get("type"))==null?null:m.value)==="income"),g(5),ot(a.getTypeError()&&((f=a.categoryForm.get("type"))!=null&&f.touched)?44:-1),g(7),Be("active",(_=a.categoryForm.get("icon"))==null?null:_.value),g(3),ne(((v=a.categoryForm.get("icon"))==null?null:v.value)||"category"),g(2),ne(((w=a.categoryForm.get("icon"))==null?null:w.value)||"category"),g(9),Be("active",(C=a.categoryForm.get("color"))==null?null:C.value),g(2),Yt("background-color",((b=a.categoryForm.get("color"))==null?null:b.value)||"#005cbb"),g(2),ne(((O=a.categoryForm.get("color"))==null?null:O.value)||"#005cbb"),g(5),Be("active",a.showBudgetSection),g(2),ne(a.showBudgetSection?"expand_less":"expand_more"),g(5),P("ngIf",a.showBudgetSection)}},dependencies:[an,Tt,Di,eo,to,mn,Gi,Ja,hn,Ai,yr,Cr,zt,Cn,wn,Xo,ni,lo],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;max-width:100vw;overflow:hidden}.dark   [_nghost-%COMP%]{background-color:#111827}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;min-height:60px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:.5rem .75rem;min-height:56px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{gap:.5rem}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px;color:#6b7280}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{background:#374151;color:#f3f4f6}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .desktop-only[_ngcontent-%COMP%]{display:flex}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .mobile-only[_ngcontent-%COMP%]{display:none}}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin:0}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.875rem}}.dark[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#f9fafb}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:44px;padding:.5rem 1rem;display:flex;align-items:center;gap:.5rem;font-weight:500}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-height:40px;padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{padding:.5rem;font-size:.75rem}}.mobile-header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{opacity:.6}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f9fafb;-webkit-overflow-scrolling:touch}.dark[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{background:#111827}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:1rem;max-width:600px;margin:0 auto}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}}.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .category-form[_ngcontent-%COMP%]{gap:1.25rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .category-form[_ngcontent-%COMP%]{gap:1rem}}.form-field[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.25rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]{padding:.875rem;border-radius:8px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{background:#1f2937;border-color:#374151}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.75rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:.625rem}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#f3f4f6}.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem;color:#6b7280}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .field-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem}@media (max-width: 480px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]{margin-top:.375rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin:0}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-footer[_ngcontent-%COMP%]   .character-count[_ngcontent-%COMP%]{font-size:.7rem}}.form-field[_ngcontent-%COMP%]   .field-hint[_ngcontent-%COMP%]{color:#6b7280;font-size:.75rem;margin-top:.25rem;font-style:italic}@media (max-width: 360px){.form-field[_ngcontent-%COMP%]   .field-hint[_ngcontent-%COMP%]{font-size:.7rem}}.type-selector[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.75rem}@media (max-width: 480px){.type-selector[_ngcontent-%COMP%]{gap:.5rem}}@media (max-width: 360px){.type-selector[_ngcontent-%COMP%]{gap:.375rem}}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:1rem;border:2px solid #e5e7eb;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:80px}@media (max-width: 480px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{padding:.75rem;min-height:70px;gap:.375rem}}@media (max-width: 360px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{padding:.625rem;min-height:60px;gap:.25rem}}.dark[_ngcontent-%COMP%]   .type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{border-color:#4b5563}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff}.type-selector[_ngcontent-%COMP%]   .type-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#dbeafe;color:#1d4ed8}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}@media (max-width: 480px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}}@media (max-width: 360px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}@media (max-width: 480px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}}@media (max-width: 360px){.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}}.icon-selector[_ngcontent-%COMP%]{position:relative}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:48px}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px}}@media (max-width: 360px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]{border-color:#4b5563}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button.active[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]{gap:.5rem}}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;color:#3b82f6}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{color:#374151;font-family:Roboto Mono,monospace;font-size:.875rem}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-preview[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{color:#f3f4f6}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{color:#6b7280;transition:transform .2s ease}.icon-selector[_ngcontent-%COMP%]   .icon-preview-button.active[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;z-index:50;margin-top:.25rem;background:#fff;border:1px solid #d1d5db;border-radius:8px;box-shadow:0 10px 25px #00000026;max-height:300px;overflow:hidden;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]{max-height:250px}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]{background:#1f2937;border-color:#4b5563}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border-bottom:1px solid #e5e7eb}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]{padding:.625rem .875rem}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]{border-color:#374151}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151;margin:0}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.8rem}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#f3f4f6}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{min-width:32px;min-height:32px;color:#6b7280}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{min-width:28px;min-height:28px}}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]:hover{background:#f3f4f6}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]:hover{background:#374151}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);gap:.5rem;padding:1rem;max-height:250px;overflow-y:auto}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);gap:.375rem;padding:.75rem;max-height:200px}}@media (max-width: 360px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:.25rem;padding:.625rem}}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.75rem;border:1px solid #e5e7eb;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:44px}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{padding:.625rem;min-height:40px}}@media (max-width: 360px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{padding:.5rem;min-height:36px}}.dark[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]{border-color:#4b5563}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#eff6ff;transform:scale(1.05)}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#dbeafe;color:#1d4ed8}.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}@media (max-width: 480px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}}@media (max-width: 360px){.icon-selector[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}.color-selector[_ngcontent-%COMP%]{position:relative}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:48px}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px}}@media (max-width: 360px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]{border-color:#4b5563}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.color-selector[_ngcontent-%COMP%]   .color-preview-button.active[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{gap:.5rem}}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-swatch[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:6px;border:2px solid #e5e7eb;flex-shrink:0}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-swatch[_ngcontent-%COMP%]{width:20px;height:20px}}@media (max-width: 360px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-swatch[_ngcontent-%COMP%]{width:18px;height:18px}}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{color:#374151;font-family:Roboto Mono,monospace;font-size:.875rem}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]   .color-name[_ngcontent-%COMP%]{color:#f3f4f6}.color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{color:#6b7280;transition:transform .2s ease}.color-selector[_ngcontent-%COMP%]   .color-preview-button.active[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;z-index:50;margin-top:.25rem;background:#fff;border:1px solid #d1d5db;border-radius:8px;box-shadow:0 10px 25px #00000026;max-height:300px;overflow:hidden;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]{max-height:250px}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]{background:#1f2937;border-color:#4b5563}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;border-bottom:1px solid #e5e7eb}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]{padding:.625rem .875rem}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]{border-color:#374151}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151;margin:0}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.8rem}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#f3f4f6}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{min-width:32px;min-height:32px;color:#6b7280}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{min-width:28px;min-height:28px}}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]:hover{background:#f3f4f6}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-picker-header[_ngcontent-%COMP%]   .close-picker[_ngcontent-%COMP%]:hover{background:#374151}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(8,1fr);gap:.5rem;padding:1rem;max-height:250px;overflow-y:auto}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr);gap:.375rem;padding:.75rem;max-height:200px}}@media (max-width: 360px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);gap:.25rem;padding:.625rem}}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.75rem;border:2px solid #e5e7eb;border-radius:8px;cursor:pointer;transition:all .2s ease;min-height:44px;position:relative}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{padding:.625rem;min-height:40px}}@media (max-width: 360px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{padding:.5rem;min-height:36px}}.dark[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]{border-color:#4b5563}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option[_ngcontent-%COMP%]:hover{border-color:#3b82f6;transform:scale(1.1);box-shadow:0 4px 12px #00000026}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f64d}.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option.selected[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-weight:700;font-size:14px;text-shadow:0 1px 2px rgba(0,0,0,.5)}@media (max-width: 480px){.color-selector[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-option.selected[_ngcontent-%COMP%]:after{font-size:12px}}.bottom-spacing[_ngcontent-%COMP%]{height:2rem}@media (max-width: 480px){.bottom-spacing[_ngcontent-%COMP%]{height:1.5rem}}@media (max-width: 360px){.bottom-spacing[_ngcontent-%COMP%]{height:1rem}}.icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar, .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track, .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.dark[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track, .dark[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#374151}.icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.dark[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .dark[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6b7280}.icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.dark[_ngcontent-%COMP%]   .icon-picker-dropdown[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .dark[_ngcontent-%COMP%]   .color-picker-dropdown[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:1rem;border:2px solid #e5e7eb;border-radius:8px;background:transparent;cursor:pointer;transition:all .2s ease;min-height:48px}@media (max-width: 480px){.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]{padding:.875rem;min-height:44px}}@media (max-width: 360px){.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]{padding:.75rem;min-height:40px}}.dark[_ngcontent-%COMP%]   .budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]{border-color:#4b5563}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#f0f9ff}.dark[_ngcontent-%COMP%]   .budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]:hover{background:#1e3a8a}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button.active[_ngcontent-%COMP%]{border-color:#3b82f6;background:#f0f9ff}.dark[_ngcontent-%COMP%]   .budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button.active[_ngcontent-%COMP%]{background:#1e3a8a}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{color:#6b7280;transition:transform .2s ease}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151}@media (max-width: 480px){.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{color:#f3f4f6}.budget-toggle-section[_ngcontent-%COMP%]   .budget-toggle-button[_ngcontent-%COMP%]   .budget-icon[_ngcontent-%COMP%]{color:#3b82f6}.budget-section[_ngcontent-%COMP%]{background:#f8fafc;border-radius:8px;padding:1rem;margin-top:.5rem;border:1px solid #e2e8f0}@media (max-width: 480px){.budget-section[_ngcontent-%COMP%]{padding:.875rem;margin-top:.375rem}}@media (max-width: 360px){.budget-section[_ngcontent-%COMP%]{padding:.75rem;margin-top:.25rem}}.dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}.budget-section[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}@media (max-width: 480px){.budget-section[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{gap:.875rem}}@media (max-width: 360px){.budget-section[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{gap:.75rem}}.budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]{width:100%}.budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151}@media (max-width: 480px){.budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 360px){.budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:.75rem}}.dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]   .budget-enable-toggle[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]   .alert-toggle-section[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{color:#f3f4f6}.budget-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1px solid #d1d5db;border-radius:8px;background:transparent;font-size:16px;min-height:48px;transition:all .2s ease}@media (max-width: 480px){.budget-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{padding:.75rem .875rem;min-height:44px;font-size:15px}}@media (max-width: 360px){.budget-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{padding:.625rem .75rem;min-height:40px;font-size:14px}}.dark[_ngcontent-%COMP%]   .budget-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border-color:#4b5563;color:#f9fafb}.budget-section[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}@media (max-width: 480px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.75rem}.form-field[_ngcontent-%COMP%]{padding:1rem}.type-selector[_ngcontent-%COMP%]{gap:.5rem}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{padding:.75rem;min-height:70px}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}.budget-section[_ngcontent-%COMP%]{padding:.75rem}.budget-section[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{gap:.75rem}}@media (max-width: 360px){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}.form-field[_ngcontent-%COMP%]{padding:.875rem}.type-selector[_ngcontent-%COMP%]{gap:.375rem}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{padding:.625rem;min-height:60px}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}.budget-section[_ngcontent-%COMP%]{padding:.625rem}.budget-section[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{gap:.625rem}}@media (max-height: 500px) and (orientation: landscape){.mobile-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:.5rem}.form-field[_ngcontent-%COMP%]{padding:.75rem}.type-selector[_ngcontent-%COMP%]   .type-option[_ngcontent-%COMP%]{min-height:60px;padding:.5rem}.budget-section[_ngcontent-%COMP%]{padding:.75rem}}@media (-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi){.form-field[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]{box-shadow:0 .5px 1.5px #0000001a}}@media (hover: none) and (pointer: coarse){.type-option[_ngcontent-%COMP%], .icon-option[_ngcontent-%COMP%], .color-option[_ngcontent-%COMP%], .budget-toggle-button[_ngcontent-%COMP%]{min-height:44px}.type-option[_ngcontent-%COMP%]:hover, .icon-option[_ngcontent-%COMP%]:hover, .color-option[_ngcontent-%COMP%]:hover, .budget-toggle-button[_ngcontent-%COMP%]:hover{transform:none}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{min-height:44px}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}']});let e=n;return e})();var xl=To(Fo());var cm=no("accounts"),uo=Kt(cm,e=>e.ids.map(n=>e.entities[n]).filter(n=>n)),_f=Kt(cm,e=>e.loading),R2=Kt(cm,e=>e.error),y5=Kt(cm,e=>e.selectedAccountId),Ite=Kt(cm,y5,(e,n)=>n?e.entities[n]:null);var Ate=Kt(uo,e=>e.filter(n=>n.isActive!==!1)),N2=Kt(uo,e=>e.reduce((n,r)=>n+r.balance,0));var b1=no("categories"),Er=Kt(b1,e=>e.ids.map(n=>e.entities[n]).filter(n=>n)),xf=Kt(b1,e=>e.loading),V2=Kt(b1,e=>e.error);var Rte=Kt(Er,e=>e.filter(n=>n.type===Yr.INCOME)),Nte=Kt(Er,e=>e.filter(n=>n.type===Yr.EXPENSE));var Ic=(()=>{let n=class n{constructor(){this.loadingSubject=new Jt(!1),this.loading$=this.loadingSubject.asObservable()}show(){this.loadingSubject.next(!0)}hide(){this.loadingSubject.next(!1)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var B2=new Ft("CdkAccordion");var w5=0,j2=(()=>{let n=class n{get expanded(){return this._expanded}set expanded(t){if(this._expanded!==t){if(this._expanded=t,this.expandedChange.emit(t),t){this.opened.emit();let i=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,i)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(t,i,a){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=a,this._openCloseAllSubscription=fn.EMPTY,this.closed=new He,this.opened=new He,this.destroyed=new He,this.expandedChange=new He,this.id=`cdk-accordion-child-${w5++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=a.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}};n.\u0275fac=function(i){return new(i||n)(D(B2,12),D(gn),D(Kh))},n.\u0275dir=Et({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",Ct],disabled:[2,"disabled","disabled",Ct]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[Dn([{provide:B2,useValue:void 0}]),Ln]});let e=n;return e})(),U2=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({});let e=n;return e})();var S5=["body"],M5=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],k5=["mat-expansion-panel-header","*","mat-action-row"];function P5(e,n){}var E5=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],T5=["mat-panel-title","mat-panel-description","*"];function O5(e,n){if(e&1&&(c(0,"span",1),si(),c(1,"svg",2),de(2,"path",3),l()()),e&2){let r=k();P("@indicatorRotate",r._getExpandedState())}}var z2=new Ft("MAT_ACCORDION"),H2="225ms cubic-bezier(0.4,0.0,0.2,1)",$2={indicatorRotate:$i("indicatorRotate",[Fn("collapsed, void",Nt({transform:"rotate(0deg)"})),Fn("expanded",Nt({transform:"rotate(180deg)"})),Hn("expanded <=> collapsed, void => collapsed",Qn(H2))]),bodyExpansion:$i("bodyExpansion",[Fn("collapsed, void",Nt({height:"0px",visibility:"hidden"})),Fn("expanded",Nt({height:"*",visibility:""})),Hn("expanded <=> collapsed, void => collapsed",Qn(H2))])},W2=new Ft("MAT_EXPANSION_PANEL"),I5=(()=>{let n=class n{constructor(t,i){this._template=t,this._expansionPanel=i}};n.\u0275fac=function(i){return new(i||n)(D(fr),D(W2,8))},n.\u0275dir=Et({type:n,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0});let e=n;return e})(),A5=0,Y2=new Ft("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),y1=(()=>{let n=class n extends j2{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,a,o,s,d,m){super(t,i,a),this._viewContainerRef=o,this._animationMode=d,this._hideToggle=!1,this.afterExpand=new He,this.afterCollapse=new He,this._inputChanges=new bt,this._headerId=`mat-expansion-panel-header-${A5++}`,this.accordion=t,this._document=s,this._animationsDisabled=d==="NoopAnimations",m&&(this.hideToggle=m.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(ua(null),un(()=>this.expanded&&!this._portal),Rr(1)).subscribe(()=>{this._portal=new Wu(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}_animationStarted(t){var i;!G2(t)&&!this._animationsDisabled&&this._body&&((i=this._body)==null||i.nativeElement.setAttribute("inert",""))}_animationDone(t){G2(t)||(t.toState==="expanded"?this.afterExpand.emit():t.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}};n.\u0275fac=function(i){return new(i||n)(D(z2,12),D(gn),D(Kh),D(ma),D(ha),D(Wr,8),D(Y2,8))},n.\u0275cmp=Fe({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,a,o){if(i&1&&yi(o,I5,5),i&2){let s;gt(s=_t())&&(a._lazyContent=s.first)}},viewQuery:function(i,a){if(i&1&&Zt(S5,5),i&2){let o;gt(o=_t())&&(a._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,a){i&2&&Be("mat-expanded",a.expanded)("_mat-animation-noopable",a._animationsDisabled)("mat-expansion-panel-spacing",a._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",Ct],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[Dn([{provide:z2,useValue:void 0},{provide:W2,useExisting:n}]),Ln,Yn,ti,rn],ngContentSelectors:k5,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,a){if(i&1){let o=Ce();_i(M5),yn(0),c(1,"div",1,0),H("@bodyExpansion.start",function(d){return q(o),K(a._animationStarted(d))})("@bodyExpansion.done",function(d){return q(o),K(a._animationDone(d))}),c(3,"div",2),yn(4,1),G(5,P5,0,0,"ng-template",3),l(),yn(6,2),l()}i&2&&(g(),P("@bodyExpansion",a._getExpandedState())("id",a.id),Gt("aria-labelledby",a._headerId),g(4),P("cdkPortalOutlet",a._portal))},dependencies:[As],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[$2.bodyExpansion]},changeDetection:0});let e=n;return e})();function G2(e){return e.fromState==="void"}var q2=(()=>{let n=class n{constructor(t,i,a,o,s,d,m){this.panel=t,this._element=i,this._focusMonitor=a,this._changeDetectorRef=o,this._animationMode=d,this._parentChangeSubscription=fn.EMPTY,this.tabIndex=0;let f=t.accordion?t.accordion._stateChanges.pipe(un(_=>!!(_.hideToggle||_.togglePosition))):sd;this.tabIndex=parseInt(m||"")||0,this._parentChangeSubscription=mi(t.opened,t.closed,f,t._inputChanges.pipe(un(_=>!!(_.hideToggle||_.disabled||_.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(un(()=>t._containsFocus())).subscribe(()=>a.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Ra(t)||(t.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t);return}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}};n.\u0275fac=function(i){return new(i||n)(D(y1,1),D(tn),D(Qo),D(gn),D(Y2,8),D(Wr,8),Oo("tabindex"))},n.\u0275cmp=Fe({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,a){i&1&&H("click",function(){return a._toggle()})("keydown",function(s){return a._keydown(s)}),i&2&&(Gt("id",a.panel._headerId)("tabindex",a.disabled?-1:a.tabIndex)("aria-controls",a._getPanelId())("aria-expanded",a._isExpanded())("aria-disabled",a.panel.disabled),Yt("height",a._getHeaderHeight()),Be("mat-expanded",a._isExpanded())("mat-expansion-toggle-indicator-after",a._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",a._getTogglePosition()==="before")("_mat-animation-noopable",a._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:oc(t)]},standalone:!0,features:[Ln,rn],ngContentSelectors:T5,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,a){i&1&&(_i(E5),c(0,"span",0),yn(1),yn(2,1),yn(3,2),l(),G(4,O5,3,1,"span",1)),i&2&&(Be("mat-content-hide-toggle",!a._showToggle()),g(4),ot(a._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[$2.indicatorRotate]},changeDetection:0});let e=n;return e})();var K2=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275dir=Et({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0});let e=n;return e})();var Q2=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({imports:[Kn,U2,Wh]});let e=n;return e})();var F5=["amountInput"],R5=(e,n)=>n.accountId,N5=(e,n)=>n.value;function L5(e,n){if(e&1&&(c(0,"p",14),u(1),l()),e&2){let r=k();g(),ne(r.getAmountError())}}function V5(e,n){e&1&&(c(0,"p",17),u(1,"Description is required"),l())}function B5(e,n){if(e&1&&(c(0,"mat-option",25),u(1),l()),e&2){let r=n.$implicit;P("value",r.id),g(),ne(r==null?null:r.name)}}function j5(e,n){if(e&1&&(c(0,"p",14),u(1),l()),e&2){let r=k();g(),ne(r.getDateError())}}function U5(e,n){if(e&1&&(c(0,"mat-option",25),u(1),Ee(2,"titlecase"),l()),e&2){let r=n.$implicit;P("value",r.accountId),g(),xi("",r.name," (",$e(2,3,r.type),")")}}function z5(e,n){e&1&&(c(0,"mat-error"),u(1,"Account is required"),l())}function H5(e,n){if(e&1&&(c(0,"mat-option",25)(1,"div",4)(2,"mat-icon",22),u(3),l(),c(4,"span"),u(5),l()()()),e&2){let r=n.$implicit;P("value",r.value),g(3),ne(r.icon),g(2),ne(r.label)}}function G5(e,n){if(e&1&&(c(0,"div",29)(1,"label",12),u(2," Payment Method "),l(),c(3,"mat-form-field",23)(4,"mat-label"),u(5,"Select payment method"),l(),c(6,"mat-select",45)(7,"mat-option",46),u(8,"None"),l(),Li(9,H5,6,3,"mat-option",25,N5),l()()()),e&2){let r=k();g(9),Vi(r.paymentMethods)}}function $5(e,n){if(e&1&&(c(0,"span",38),u(1),l()),e&2){let r,t=k();g(),he(" \u20B9",(((r=t.transactionForm.get("taxAmount"))==null?null:r.value)||0).toFixed(2)," ")}}function W5(e,n){if(e&1&&(c(0,"div",50)(1,"span",48),u(2,"Tax Amount:"),l(),c(3,"span",51),u(4),l()(),c(5,"div",52)(6,"span",53),u(7,"Total Amount:"),l(),c(8,"span",54),u(9),l()()),e&2){let r,t,i=k(2);g(4),he(" +\u20B9",(((r=i.transactionForm.get("taxAmount"))==null?null:r.value)||0).toFixed(2)," "),g(5),he(" \u20B9",((((t=i.transactionForm.get("amount"))==null?null:t.value)||0)+(((t=i.transactionForm.get("taxAmount"))==null?null:t.value)||0)).toFixed(2)," ")}}function Y5(e,n){if(e&1&&(c(0,"div",40)(1,"div",47)(2,"span",48),u(3,"Transaction Amount:"),l(),c(4,"span",49),u(5),l()(),G(6,W5,10,2),l()),e&2){let r,t,i=k();g(5),he(" \u20B9",(((r=i.transactionForm.get("amount"))==null?null:r.value)||0).toFixed(2)," "),g(),ot((((t=i.transactionForm.get("taxAmount"))==null?null:t.value)||0)>0?6:-1)}}function q5(e,n){e&1&&(c(0,"p",14),u(1,"Tax amount cannot be negative"),l())}function K5(e,n){e&1&&(c(0,"p",17),u(1,"Tax percentage cannot be negative"),l())}function Q5(e,n){e&1&&(c(0,"p",17),u(1,"Tax percentage cannot exceed 100%"),l())}function X5(e,n){if(e&1){let r=Ce();c(0,"div",43)(1,"button",55),H("click",function(){q(r);let i=k();return K(i.clearTaxFields())}),c(2,"mat-icon",56),u(3,"clear"),l(),u(4," Clear Tax Fields "),l()()}}var lm=(()=>{let n=class n{constructor(t,i,a,o,s,d,m,f,_,v,w,C,b){this.dialogData=t,this.store=i,this.fb=a,this.dialogRef=o,this.auth=s,this.notificationService=d,this.router=m,this.hapticFeedback=f,this.dialog=_,this.loaderService=v,this.dateService=w,this.validationService=C,this.breakpointObserver=b,this.categoryList=[],this.accountList=[],this.isSubmitting=!1,this.isMobile=!1,this.paymentMethods=[{value:wd.CREDIT_CARD,label:"Credit Card",icon:"credit_card"},{value:wd.DEBIT_CARD,label:"Debit Card",icon:"credit_card"},{value:wd.BANK_TRANSFER,label:"Bank Transfer",icon:"account_balance"},{value:wd.CASH,label:"Cash",icon:"money"},{value:wd.DIGITAL_WALLET,label:"Digital Wallet",icon:"account_balance_wallet"}],this.editMode=!1,this.TransactionType=Yr,this.transactionForm=this.fb.group({payee:["",this.validationService.getTransactionPayeeValidators()],amount:["",this.validationService.getTransactionAmountValidators()],date:[(0,xl.default)().format("YYYY-MM-DD"),yt.required],description:[""],categoryId:[""],categoryName:[""],categoryType:[""],accountId:["",yt.required],taxAmount:[0,[yt.min(0)]],taxPercentage:[0,[yt.min(0),yt.max(100)]],taxes:[[]],paymentMethod:[""],isRecurring:[!1],recurringInterval:[Os.MONTHLY],recurringStartDate:[(0,xl.default)().format("YYYY-MM-DD")],recurringEndDate:[(0,xl.default)().add(1,"year").format("YYYY-MM-DD")],recurringAmount:[0],recurringNotes:[""],recurringCategoryId:[""],recurringCategoryName:[""]}),this.isMobile=this.breakpointObserver.isMatched("(max-width: 640px)")}ngOnInit(){var t;this.userId=(t=this.auth.currentUser)==null?void 0:t.uid,this.store.select(Er).subscribe(i=>{this.categoryList=i,this.initializeFormData()}),this.store.select(uo).subscribe(i=>{this.accountList=i,this.initializeFormData()}),window.addEventListener("popstate",i=>{this.dialogRef.close(),i.preventDefault()})}initializeFormData(){var t;if(this.categoryList.length>0&&this.accountList.length>0)if((t=this.dialogData)!=null&&t.id){this.editMode=!0;let i=this.categoryList.find(a=>a.id===this.dialogData.categoryId);this.transactionForm.patchValue({payee:this.dialogData.payee||"",amount:this.dialogData.amount||"",date:this.dialogData.date?(0,xl.default)(this.dateService.toDate(this.dialogData.date)).format("YYYY-MM-DD"):(0,xl.default)().format("YYYY-MM-DD"),description:this.dialogData.notes||"",categoryId:this.dialogData.categoryId||"",categoryName:(i==null?void 0:i.name)||"",categoryType:(i==null?void 0:i.type)||"",accountId:this.dialogData.accountId||"",taxAmount:this.dialogData.taxAmount||0,taxPercentage:this.dialogData.taxPercentage||0,taxes:this.dialogData.taxes||[],paymentMethod:this.dialogData.paymentMethod||""})}else{let i=this.categoryList[0],a=this.accountList[0];this.transactionForm.patchValue({payee:(i==null?void 0:i.name)||"",amount:"",date:(0,xl.default)().format("YYYY-MM-DD"),description:"",categoryId:(i==null?void 0:i.id)||"",categoryName:(i==null?void 0:i.name)||"",categoryType:(i==null?void 0:i.type)||"",accountId:(a==null?void 0:a.accountId)||"",taxAmount:0,taxPercentage:0,taxes:[],paymentMethod:""})}}ngAfterViewInit(){setTimeout(()=>{this.amountInput&&this.amountInput.nativeElement.focus()},200)}onSubmit(){return ge(this,null,function*(){var t;if(this.transactionForm.markAllAsTouched(),this.transactionForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{this.loaderService.show();let i=this.transactionForm.value,a={payee:i.payee,accountId:i.accountId,amount:parseFloat(i.amount),category:i.categoryName,categoryId:i.categoryId,type:i.categoryType,date:new Date(i.date+" "+this.dateService.now().toDate().toLocaleTimeString()),notes:i.description,taxAmount:i.taxAmount||0,taxPercentage:i.taxPercentage||0,taxes:i.taxes||[],paymentMethod:i.paymentMethod||"",isRecurring:i.isRecurring||!1,recurringInterval:i.recurringInterval||Os.MONTHLY,status:zh.COMPLETED,updatedBy:this.userId,updatedAt:new Date};(t=this.dialogData)!=null&&t.id?(yield this.store.dispatch(Mc({userId:this.userId,transactionId:this.dialogData.id,transaction:a})),this.notificationService.success("Transaction updated successfully")):(yield this.store.dispatch(Sc({userId:this.userId,transaction:xe(ue({userId:this.userId},a),{syncStatus:fc.PENDING,createdAt:new Date,updatedAt:new Date,createdBy:this.userId,updatedBy:this.userId})})),this.notificationService.success("Transaction added successfully"),this.hapticFeedback.successVibration()),this.dialogRef.close(!0)}catch(i){console.error("Error saving transaction:",i),this.notificationService.error("Failed to save transaction")}finally{this.isSubmitting=!1,this.loaderService.hide()}}})}onClose(){this.dialogRef.close()}getAmountError(){let t=this.transactionForm.get("amount");return t?this.validationService.getTransactionAmountError(t):""}getDateError(){let t=this.transactionForm.get("date");return t!=null&&t.hasError("required")?"Date is required":""}openNewAccountDialog(){this.dialog.open(om,{width:this.isMobile?"90vw":"400px",maxWidth:this.isMobile?"400px":"90vw",data:null,disableClose:!0,panelClass:"mobile-dialog"})}openEditAccountDialog(t){this.dialog.open(om,{width:this.isMobile?"90vw":"400px",maxWidth:this.isMobile?"400px":"90vw",data:t,disableClose:!0,panelClass:"mobile-dialog"})}openNewCategoryDialog(){this.dialog.open(gf,{width:"90vw",maxWidth:"400px",data:null,disableClose:!0,panelClass:"mobile-dialog"})}onCategoryChange(t){let i=t.value,a=this.categoryList.find(o=>o.id===i);a&&this.transactionForm.patchValue({categoryName:a.name,categoryType:a.type,categoryId:a.id,payee:this.editMode?this.dialogData.payee:a.name})}onTaxPercentageChange(){var a,o;let t=((a=this.transactionForm.get("amount"))==null?void 0:a.value)||0,i=((o=this.transactionForm.get("taxPercentage"))==null?void 0:o.value)||0;if(t>0&&i>0){let s=t*i/100;this.transactionForm.patchValue({taxAmount:parseFloat(s.toFixed(2))},{emitEvent:!1})}}onTaxAmountChange(){var a,o;let t=((a=this.transactionForm.get("amount"))==null?void 0:a.value)||0,i=((o=this.transactionForm.get("taxAmount"))==null?void 0:o.value)||0;if(t>0&&i>0){let s=i/t*100;this.transactionForm.patchValue({taxPercentage:parseFloat(s.toFixed(2))},{emitEvent:!1})}}onAmountChange(){var a,o;let t=((a=this.transactionForm.get("amount"))==null?void 0:a.value)||0,i=((o=this.transactionForm.get("taxAmount"))==null?void 0:o.value)||0;if(t>0&&i>0){let s=i/t*100;this.transactionForm.patchValue({taxPercentage:parseFloat(s.toFixed(2))},{emitEvent:!1})}}clearTaxFields(){this.transactionForm.patchValue({taxAmount:0,taxPercentage:0,taxes:[]})}};n.\u0275fac=function(i){return new(i||n)(D(kr),D(qt),D(wr),D(Mr),D(Ut),D(At),D(Sn),D(Pa),D(ar),D(Ic),D(Mn),D(Kr),D(Sr))},n.\u0275cmp=Fe({type:n,selectors:[["app-mobile-add-transaction"]],viewQuery:function(i,a){if(i&1&&Zt(F5,5),i&2){let o;gt(o=_t())&&(a.amountInput=o.first)}},decls:98,vars:19,consts:[["amountInput",""],[1,"sticky","top-0","z-20","bg-white","dark:bg-gray-800","border-b","border-gray-200","dark:border-gray-700","shadow-sm"],[1,"flex","items-center","justify-between","px-4","py-3"],[1,"text-lg","font-semibold","text-gray-900","dark:text-gray-100"],[1,"flex","items-center","gap-2"],["mat-icon-button","","color","primary","matTooltip","Save Transaction",1,"w-10","h-10","!bg-primary",3,"click","disabled"],[1,"text-white"],["mat-icon-button","","type","button","matTooltip","Close",1,"text-gray-500","hover:text-gray-700","dark:text-gray-400","dark:hover:text-gray-200",3,"click"],[1,"flex-1","overflow-y-auto","bg-gray-50","dark:bg-gray-900"],[1,"p-4","space-y-6"],[1,"space-y-6",3,"ngSubmit","keydown.enter","formGroup"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-4","shadow-sm","space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["type","number","formControlName","amount","placeholder","0.00","step","0.01",1,"w-full","text-2xl","font-bold","text-center","py-3","px-4","border-0","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","rounded-lg",3,"input"],[1,"text-red-500","text-sm","mt-1"],["type","text","formControlName","payee","placeholder","Enter description",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"maxlength"],[1,"flex","justify-between","items-center","mt-1"],[1,"text-red-500","text-sm"],[1,"text-xs","text-gray-500"],[1,"flex","items-center","justify-between","mb-2"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","button",1,"text-xs","text-blue-600","dark:text-blue-400","hover:text-blue-800","dark:hover:text-blue-300","font-medium","flex","items-center","gap-1",3,"click"],[1,"text-sm"],["appearance","fill",1,"w-full"],["formControlName","categoryId",3,"selectionChange"],[3,"value"],[1,"relative"],["type","date","formControlName","date",1,"w-full","py-3","px-4","pr-10","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","[&::-webkit-calendar-picker-indicator]:bg-none","[&::-webkit-calendar-picker-indicator]:bg-transparent","[&::-webkit-calendar-picker-indicator]:opacity-0","[&::-webkit-calendar-picker-indicator]:absolute","[&::-webkit-calendar-picker-indicator]:right-0","[&::-webkit-calendar-picker-indicator]:top-0","[&::-webkit-calendar-picker-indicator]:w-full","[&::-webkit-calendar-picker-indicator]:h-full","[&::-webkit-calendar-picker-indicator]:cursor-pointer"],[1,"absolute","right-3","top-1/2","transform","-translate-y-1/2","text-gray-400","pointer-events-none"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-4","shadow-sm"],[1,"space-y-2"],["formControlName","accountId"],["class","bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",4,"ngIf"],["formControlName","description","placeholder","Add any additional notes...",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","resize-none",3,"rows"],[1,"bg-white","dark:bg-gray-800","shadow-sm","border-0"],[1,"px-4","py-3"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800","dark:bg-blue-900","dark:text-blue-200"],[1,"space-y-4","px-4","pb-4"],[1,"bg-gray-50","dark:bg-gray-700","rounded-lg","p-3"],["type","number","formControlName","taxAmount","placeholder","0.00","step","0.01",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input"],["type","number","formControlName","taxPercentage","placeholder","0","step","0.01","min","0","max","100",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"input"],[1,"pt-2"],[1,"h-20"],["formControlName","paymentMethod"],["value",""],[1,"flex","justify-between","items-center","text-sm"],[1,"text-gray-600","dark:text-gray-300"],[1,"font-medium","text-gray-900","dark:text-gray-100"],[1,"flex","justify-between","items-center","text-sm","mt-1"],[1,"font-medium","text-red-600","dark:text-red-400"],[1,"flex","justify-between","items-center","text-sm","mt-2","pt-2","border-t","border-gray-200","dark:border-gray-600"],[1,"font-medium","text-gray-700","dark:text-gray-300"],[1,"font-bold","text-green-600","dark:text-green-400"],["type","button",1,"w-full","py-2","px-4","text-sm","text-gray-600","dark:text-gray-400","hover:text-gray-800","dark:hover:text-gray-200","border","border-gray-300","dark:border-gray-600","rounded-lg","hover:bg-gray-50","dark:hover:bg-gray-700","transition-colors","duration-200",3,"click"],[1,"text-sm","mr-2"]],template:function(i,a){if(i&1){let o=Ce();c(0,"div",1)(1,"div",2)(2,"h6",3),u(3),l(),c(4,"div",4)(5,"button",5),H("click",function(){return q(o),K(a.onSubmit())}),c(6,"mat-icon",6),u(7),l()(),c(8,"button",7),H("click",function(){return q(o),K(a.onClose())}),c(9,"mat-icon"),u(10,"close"),l()()()()(),c(11,"div",8)(12,"div",9)(13,"form",10),H("ngSubmit",function(){return q(o),K(a.onSubmit())})("keydown.enter",function(){return q(o),K(a.onSubmit())}),c(14,"div",11)(15,"div")(16,"label",12),u(17," Amount * "),l(),c(18,"input",13,0),H("input",function(){return q(o),K(a.onAmountChange())}),l(),G(20,L5,2,1,"p",14),l(),c(21,"div")(22,"label",12),u(23," Description * "),l(),de(24,"input",15),c(25,"div",16),G(26,V5,2,0,"p",17),c(27,"span",18),u(28),l()()(),c(29,"div")(30,"div",19)(31,"label",20),u(32," Category "),l(),c(33,"button",21),H("click",function(){return q(o),K(a.openNewCategoryDialog())}),c(34,"mat-icon",22),u(35,"add"),l(),u(36,"Add "),l()(),c(37,"mat-form-field",23)(38,"mat-label"),u(39,"Select a category"),l(),c(40,"mat-select",24),H("selectionChange",function(d){return q(o),K(a.onCategoryChange(d))}),Li(41,B5,2,2,"mat-option",25,Uu),l()()(),c(43,"div")(44,"label",12),u(45," Date * "),l(),c(46,"div",26),de(47,"input",27),c(48,"mat-icon",28),u(49," calendar_today "),l()(),G(50,j5,2,1,"p",14),l()(),c(51,"div",29)(52,"div",19)(53,"label",20),u(54," Account * "),l(),c(55,"button",21),H("click",function(){return q(o),K(a.openNewAccountDialog())}),c(56,"mat-icon",22),u(57,"add"),l(),u(58," Add "),l()(),c(59,"div",30)(60,"mat-form-field",23)(61,"mat-label"),u(62,"Select an account"),l(),c(63,"mat-select",31),Li(64,U5,3,5,"mat-option",25,R5),l(),G(66,z5,2,0,"mat-error"),l()()(),G(67,G5,11,0,"div",32),c(68,"div",29)(69,"label",12),u(70," Notes "),l(),de(71,"textarea",33),l(),c(72,"mat-expansion-panel",34)(73,"mat-expansion-panel-header",35)(74,"mat-panel-title",4)(75,"mat-icon",36),u(76,"receipt"),l(),c(77,"span",37),u(78," Tax Information (Optional) "),l(),G(79,$5,2,1,"span",38),l()(),c(80,"div",39),G(81,Y5,7,2,"div",40),c(82,"div")(83,"label",12),u(84," Tax Amount "),l(),c(85,"input",41),H("input",function(){return q(o),K(a.onTaxAmountChange())}),l(),G(86,q5,2,0,"p",14),l(),c(87,"div")(88,"label",12),u(89," Tax Percentage (%) "),l(),c(90,"input",42),H("input",function(){return q(o),K(a.onTaxPercentageChange())}),l(),c(91,"div",16),G(92,K5,2,0,"p",17)(93,Q5,2,0,"p",17),c(94,"span",18),u(95),l()()(),G(96,X5,5,0,"div",43),l()(),de(97,"div",44),l()()()}if(i&2){let o,s,d,m,f,_,v,w,C,b,O,L;g(3),he(" ",a.dialogData!=null&&a.dialogData.id?"Edit":"Add"," Transaction "),g(2),P("disabled",a.transactionForm.invalid||a.isSubmitting),g(2),he(" ",a.isSubmitting?"hourglass_empty":"check"," "),g(6),P("formGroup",a.transactionForm),g(7),ot(a.getAmountError()&&((o=a.transactionForm.get("amount"))!=null&&o.touched)?20:-1),g(4),P("maxlength",45),g(2),ot((s=a.transactionForm.get("payee"))!=null&&s.hasError("required")&&((s=a.transactionForm.get("payee"))!=null&&s.touched)?26:-1),g(2),he(" ",((d=a.transactionForm.get("payee"))==null||d.value==null?null:d.value.length)||0,"/45 "),g(13),Vi(a.categoryList),g(9),ot(a.getDateError()?50:-1),g(14),Vi(a.accountList),g(2),ot((m=a.transactionForm.get("accountId"))!=null&&m.hasError("required")&&((m=a.transactionForm.get("accountId"))!=null&&m.touched)?66:-1),g(),P("ngIf",((f=a.transactionForm.get("type"))==null?null:f.value)===a.TransactionType.EXPENSE),g(4),P("rows",3),g(8),ot((((_=a.transactionForm.get("taxAmount"))==null?null:_.value)||0)>0||(((_=a.transactionForm.get("taxPercentage"))==null?null:_.value)||0)>0?79:-1),g(2),ot((((v=a.transactionForm.get("amount"))==null?null:v.value)||0)>0?81:-1),g(5),ot((w=a.transactionForm.get("taxAmount"))!=null&&w.hasError("min")&&((w=a.transactionForm.get("taxAmount"))!=null&&w.touched)?86:-1),g(6),ot((C=a.transactionForm.get("taxPercentage"))!=null&&C.hasError("min")&&((C=a.transactionForm.get("taxPercentage"))!=null&&C.touched)?92:-1),g(),ot((b=a.transactionForm.get("taxPercentage"))!=null&&b.hasError("max")&&((b=a.transactionForm.get("taxPercentage"))!=null&&b.touched)?93:-1),g(2),he(" ",((O=a.transactionForm.get("taxPercentage"))==null?null:O.value)||0,"% "),g(),ot((((L=a.transactionForm.get("taxAmount"))==null?null:L.value)||0)>0||(((L=a.transactionForm.get("taxPercentage"))==null?null:L.value)||0)>0?96:-1)}},dependencies:[Tt,Di,mn,Gi,hn,Ai,cc,hh,mh,yr,Cr,zt,wn,Ma,Zo,Jo,Qr,Lr,ni,y1,q2,K2,Ko],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb;font-size:16px}.dark   [_nghost-%COMP%]{background-color:#111827}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;transform:scale(1.01);transition:transform .15s ease-out}button[_ngcontent-%COMP%]{transition:transform .15s ease-out,opacity .15s ease-out;will-change:transform}button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px)}button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield;-webkit-appearance:none;appearance:none}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0}.overflow-y-auto[_ngcontent-%COMP%]{scroll-behavior:smooth;-webkit-overflow-scrolling:touch;overscroll-behavior:contain}.bg-white[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]{transition:transform .15s ease-out,box-shadow .15s ease-out;will-change:transform}.bg-white[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000014}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.text-red-500[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .4s ease-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-3px)}75%{transform:translate(3px)}}.text-green-500[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse .4s ease-out}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}@media (max-width: 768px){[_nghost-%COMP%]{font-size:16px}button[_ngcontent-%COMP%]{min-height:44px;min-width:44px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:16px;padding:12px 16px;border-radius:8px}.text-2xl[_ngcontent-%COMP%]{font-size:1.75rem;line-height:1.2}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{transform:none}button[_ngcontent-%COMP%]:hover:not(:disabled){transform:none}.bg-white[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]:hover{transform:none}}@media (max-width: 480px){[_nghost-%COMP%]{font-size:16px}.p-4[_ngcontent-%COMP%]{padding:1rem}button[_ngcontent-%COMP%]{min-height:48px;min-width:48px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:16px;padding:14px 16px}}@media (min-width: 769px){button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px)}.bg-white[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000014}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{transform:scale(1.01)}}@media (-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi){.bg-white[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000001a}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%], .bg-white[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]{transform:none!important;transition:none!important}}*[_ngcontent-%COMP%]{transition:background-color .2s ease,color .2s ease,border-color .2s ease}button[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px}"]});let e=n;return e})();var um="Service workers are disabled or not supported by this browser";function Z5(e){return $0(()=>G0(new Error(e)))}var Kd=class{constructor(n){if(this.serviceWorker=n,!n)this.worker=this.events=this.registration=Z5(um);else{let t=Xa(n,"controllerchange").pipe(at(()=>n.controller)),i=$0(()=>ht(n.controller)),a=qb(i,t);this.worker=a.pipe(un(f=>!!f)),this.registration=this.worker.pipe(Za(()=>n.getRegistration()));let m=Xa(n,"message").pipe(at(f=>f.data)).pipe(un(f=>f&&f.type)).pipe(ty());m.connect(),this.events=m}}postMessage(n,r){return this.worker.pipe(Rr(1),ay(t=>{t.postMessage(ue({action:n},r))})).toPromise().then(()=>{})}postMessageWithOperation(n,r,t){let i=this.waitForOperationCompleted(t),a=this.postMessage(n,r);return Promise.all([a,i]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(n){let r;return typeof n=="string"?r=t=>t.type===n:r=t=>n.includes(t.type),this.events.pipe(un(r))}nextEventOfType(n){return this.eventsOfType(n).pipe(Rr(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(un(r=>r.nonce===n),Rr(1),at(r=>{if(r.result!==void 0)return r.result;throw new Error(r.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},eS=(()=>{let n=class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new bt,!t.isEnabled){this.messages=ld,this.notificationClicks=ld,this.subscription=ld;return}this.messages=this.sw.eventsOfType("PUSH").pipe(at(a=>a.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(at(a=>a.data)),this.pushManager=this.sw.registration.pipe(at(a=>a.pushManager));let i=this.pushManager.pipe(Za(a=>a.getSubscription()));this.subscription=mi(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(um));let i={userVisibleOnly:!0},a=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(a.length));for(let s=0;s<a.length;s++)o[s]=a.charCodeAt(s);return i.applicationServerKey=o,this.pushManager.pipe(Za(s=>s.subscribe(i)),Rr(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(um));let t=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(a=>{if(!a)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Rr(1),Za(t)).toPromise()}decodeBase64(t){return atob(t)}};n.\u0275fac=function(i){return new(i||n)(Ne(Kd))},n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})(),Qd=(()=>{let n=class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=ld,this.unrecoverable=ld;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(um));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(um));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}};n.\u0275fac=function(i){return new(i||n)(Ne(Kd))},n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})();var X2=new Ft("");function J5(e,n,r,t){return()=>{if(!(v_(t)&&"serviceWorker"in navigator&&r.enabled!==!1))return;let i=e.get(An),a=e.get(x_);i.runOutsideAngular(()=>{let s=navigator.serviceWorker,d=()=>{var m;return(m=s.controller)==null?void 0:m.postMessage({action:"INITIALIZE"})};s.addEventListener("controllerchange",d),a.onDestroy(()=>{s.removeEventListener("controllerchange",d)})});let o;if(typeof r.registrationStrategy=="function")o=r.registrationStrategy();else{let[s,...d]=(r.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=ht(null);break;case"registerWithDelay":o=Z2(+d[0]||0);break;case"registerWhenStable":o=d[0]?mi(J2(e),Z2(+d[0])):J2(e);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${r.registrationStrategy}`)}}i.runOutsideAngular(()=>o.pipe(Rr(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:r.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function Z2(e){return ht(null).pipe(Xb(e))}function J2(e){return e.get(x_).isStable.pipe(un(r=>r))}function e6(e,n){return new Kd(v_(n)&&e.enabled!==!1?navigator.serviceWorker:void 0)}var dm=class{};function t6(e,n={}){return Ss([eS,Qd,{provide:X2,useValue:e},{provide:dm,useValue:n},{provide:Kd,useFactory:e6,deps:[dm,ol]},{provide:ih,useFactory:J5,deps:[$r,X2,dm,ol],multi:!0}])}var tS=(()=>{let n=class n{static register(t,i={}){return{ngModule:n,providers:[t6(t,i)]}}};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({providers:[eS,Qd]});let e=n;return e})();var as=(()=>{let n=class n{constructor(t,i,a){this.swUpdate=t,this.userService=i,this.platformId=a,this.networkStatusSubject=new Jt({online:!1}),this.networkStatus$=this.networkStatusSubject.asObservable(),this.isOnline$=this.networkStatus$.pipe(at(o=>o.online)),sc(this.platformId)||(this.networkStatusSubject.next({online:navigator.onLine}),this.initializeNetworkMonitoring(),this.initializeServiceWorkerUpdates(),this.checkForAppUpdates())}initializeNetworkMonitoring(){if(sc(this.platformId))return;let t=Xa(window,"online").pipe(at(()=>!0)),i=Xa(window,"offline").pipe(at(()=>!1));if(mi(t,i).pipe(ua(navigator.onLine)).subscribe(a=>{this.updateNetworkStatus({online:a}),this.handleNetworkChange(a)}),"connection"in navigator){let a=navigator.connection;a&&a.addEventListener("change",()=>{this.updateNetworkStatus({online:navigator.onLine,connectionType:a.effectiveType,effectiveType:a.effectiveType,downlink:a.downlink,rtt:a.rtt})})}}initializeServiceWorkerUpdates(){if(this.swUpdate.isEnabled){let t=this.isMobileDevice()?xt.PWA.MOBILE_UPDATE_INTERVAL:xt.PWA.DESKTOP_UPDATE_INTERVAL;setInterval(()=>{this.swUpdate.checkForUpdate()},t),this.swUpdate.versionUpdates.subscribe(i=>{console.log("Service worker update event:",i),i.type==="VERSION_READY"?(console.log("New version available, activating silently:",i),this.activateUpdateSilently()):i.type==="VERSION_INSTALLATION_FAILED"&&(console.error("Service worker installation failed:",i),this.handleUpdateFailure())})}}checkForAppUpdates(){let t=this.getAppVersion(),i=localStorage.getItem("app-version");i&&i!==t?(console.log("App version changed, performing smart cache update"),this.performSmartCacheUpdate(i,t)):localStorage.setItem("app-version",t),this.isMobileDevice()&&this.swUpdate.isEnabled&&setTimeout(()=>{this.swUpdate.checkForUpdate()},2e3)}getAppVersion(){let t=new Date,i=Math.ceil(t.getDate()/7),a=t.getMonth()+1;return`${t.getFullYear()}-${a.toString().padStart(2,"0")}-W${i}`}isMobileDevice(){return sc(this.platformId)?!1:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}performSmartCacheUpdate(t,i){return ge(this,null,function*(){try{console.log(`Performing smart cache update from ${t} to ${i}`);let a=this.preserveAuthData();yield this.clearApplicationCaches(),this.restoreAuthData(a),localStorage.setItem("app-version",i),console.log("Smart cache update completed successfully")}catch(a){console.error("Smart cache update failed:",a),this.forceAppUpdate()}})}preserveAuthData(){let t={};return localStorage.getItem("firebase:authUser:")&&Object.keys(localStorage).filter(o=>o.startsWith("firebase:authUser:")||o.startsWith("firebase:persistence:")).forEach(o=>{t[o]=localStorage.getItem(o)}),["theme","language","user-settings"].forEach(a=>{let o=localStorage.getItem(a);o&&(t[a]=o)}),t}restoreAuthData(t){Object.keys(t).forEach(i=>{localStorage.setItem(i,t[i])})}clearApplicationCaches(){return ge(this,null,function*(){try{if("caches"in window){let a=(yield caches.keys()).filter(o=>!o.includes("firebase")&&!o.includes("auth")&&!o.includes("user"));yield Promise.all(a.map(o=>caches.delete(o)))}Object.keys(localStorage).filter(i=>!i.startsWith("firebase:")&&!i.startsWith("user")&&!i.startsWith("theme")&&!i.startsWith("language")&&i!=="app-version").forEach(i=>localStorage.removeItem(i)),console.log("Application caches cleared successfully")}catch(t){throw console.error("Failed to clear application caches:",t),t}})}activateUpdateSilently(){console.log("Activating update silently without user notification"),this.swUpdate.activateUpdate().then(()=>{console.log("Update activated successfully, reloading app"),window.location.reload()}).catch(t=>{console.error("Failed to activate update:",t),window.location.reload()})}handleUpdateAvailable(){this.activateUpdateSilently()}showMobileUpdateNotification(){console.log("Update notification suppressed - activating silently"),this.activateUpdateSilently()}handleUpdateFailure(){console.error("Update failed, performing smart cache update"),this.performSmartCacheUpdate("",this.getAppVersion())}forceAppUpdate(){console.warn("Force app update triggered - this will clear all data including auth"),this.clearAllCaches().then(()=>{console.log("Cache cleared, reloading app"),window.location.reload()}).catch(t=>{console.error("Failed to clear cache:",t),window.location.reload()})}updateNetworkStatus(t){let i=this.networkStatusSubject.value;this.networkStatusSubject.next(ue(ue({},i),t))}handleNetworkChange(t){t?(console.log("\u{1F310} Network connection restored"),this.showOnlineNotification(),this.swUpdate.isEnabled&&this.swUpdate.checkForUpdate()):(console.log("\u{1F4F4} Network connection lost"),this.showOfflineNotification())}showOnlineNotification(){"Notification"in window&&Notification.permission==="granted"&&new Notification(`${xt.APP_NAME}`,{body:"Network connection restored. Your data will sync automatically.",icon:"/icons/icon-192x192.png"})}showOfflineNotification(){"Notification"in window&&Notification.permission==="granted"&&new Notification(`${xt.APP_NAME}`,{body:"You're offline. Changes will be saved locally and synced when connection is restored.",icon:"/icons/icon-192x192.png"})}promptUserForUpdate(){console.log("Update prompt suppressed - activating silently"),this.activateUpdateSilently()}getCurrentNetworkStatus(){return this.networkStatusSubject.value}isCurrentlyOnline(){return this.networkStatusSubject.value.online}getConnectionQuality(){let t=this.networkStatusSubject.value;return t.online?t.effectiveType==="4g"?"excellent":t.effectiveType==="3g"?"good":t.effectiveType==="2g"?"poor":"unknown":"offline"}requestNotificationPermission(){return"Notification"in window?Notification.requestPermission():Promise.resolve("denied")}cacheData(t,i){return ge(this,null,function*(){try{if("caches"in window){let a=yield caches.open("money-manager-data"),o=new Response(JSON.stringify(i));yield a.put(t,o)}}catch(a){console.error("Failed to cache data:",a)}})}getCachedData(t){return ge(this,null,function*(){try{if("caches"in window){let a=yield(yield caches.open("money-manager-data")).match(t);if(a)return yield a.json()}}catch(i){console.error("Failed to get cached data:",i)}return null})}clearCache(){return ge(this,null,function*(){try{yield this.clearApplicationCaches()}catch(t){console.error("Failed to clear cache:",t)}})}clearAllCaches(){return ge(this,null,function*(){try{if("caches"in window){let t=yield caches.keys();yield Promise.all(t.map(i=>caches.delete(i)))}"indexedDB"in window&&(yield indexedDB.databases()).forEach(i=>{i.name&&indexedDB.deleteDatabase(i.name)}),console.log("All caches cleared successfully")}catch(t){console.error("Failed to clear all caches:",t)}})}forceUpdate(){this.forceAppUpdate()}};n.\u0275fac=function(i){return new(i||n)(Ne(Qd),Ne(rr),Ne(ol))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var iS=(()=>{let n=class n{constructor(t,i,a,o,s){this.offlineService=t,this.router=i,this._dialog=a,this.hapticFeedback=o,this.cdr=s,this.currentTime="",this.batteryLevel=0}ngOnInit(){this.updateTime(),this.updateBatteryLevel(),this.timeSubscription=m_(6e4).subscribe(()=>{this.updateTime()}),this.batterySubscription=m_(xt.OFFLINE.SYNC_INTERVAL).subscribe(()=>{this.updateBatteryLevel()}),this.routeSubscription=this.router.events.pipe(un(t=>t instanceof sh)).subscribe(()=>{this.cdr.detectChanges()})}ngOnDestroy(){var t,i,a;(t=this.timeSubscription)==null||t.unsubscribe(),(i=this.batterySubscription)==null||i.unsubscribe(),(a=this.routeSubscription)==null||a.unsubscribe()}isHomeActive(){return this.router.url==="/dashboard"||this.router.url==="/dashboard/home"}isExpenseActive(){return this.router.url==="/dashboard/transactions"}isReportsActive(){return this.router.url==="/dashboard/reports"}isCategoryActive(){return this.router.url==="/dashboard/category"}isAccountsActive(){return this.router.url==="/dashboard/accounts"}isMoreActive(){return["/dashboard/accounts","/dashboard/budgets","/dashboard/goals","/dashboard/notes","/dashboard/tax","/dashboard/subscription"].includes(this.router.url)}addTransaction(){let t=this._dialog.open(lm,{width:"600px",maxWidth:"100vw"})}home(){this.router.navigate(["/dashboard/home"])}quickExpense(){this.router.navigate(["/dashboard/transactions"])}reports(){console.log("Quick transfer clicked"),this.router.navigate(["/dashboard/reports"])}scanReceipt(){console.log("Scan receipt clicked"),alert("Receipt scanning feature coming soon!")}openAddTransactionModal(){console.log("Open add transaction modal clicked"),this.router.navigate(["/dashboard/add-transaction"])}openSettings(){console.log("Settings clicked"),this.router.navigate(["/dashboard/settings"])}openReports(){console.log("Reports clicked"),this.router.navigate(["/dashboard/reports"])}openSearch(){console.log("Search clicked"),alert("Search feature coming soon!")}onMoreMenuClick(){this.hapticFeedback.buttonClick(),console.log("More menu clicked")}navigateTo(t){this.router.navigate([t])}sharePWA(){this.hapticFeedback.buttonClick();let t={title:"Money Manager",text:"Check out this amazing money management app!",url:"https://prashiln79.github.io/wallet/#/sign-in"};navigator.share&&navigator.canShare(t)?navigator.share(t).then(()=>{console.log("Shared successfully")}).catch(i=>{console.log("Error sharing:",i),this.fallbackShare(t.url)}):this.fallbackShare(t.url)}fallbackShare(t){navigator.clipboard.writeText(t).then(()=>{alert("PWA link copied to clipboard!")}).catch(()=>{let i=document.createElement("textarea");i.value=t,document.body.appendChild(i),i.select();try{document.execCommand("copy"),alert("PWA link copied to clipboard!")}catch{alert("Failed to copy link. Please copy manually: "+t)}document.body.removeChild(i)})}getAppVersion(){return new Date().toISOString().split("T")[0]}getNetworkStatusClass(){let t=this.offlineService.getCurrentNetworkStatus();return t.online?t.effectiveType==="4g"?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300":t.effectiveType==="3g"?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-300":"bg-gray-100 dark:bg-gray-900/20 text-gray-700 dark:text-gray-300":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300"}getNetworkIndicatorClass(){let t=this.offlineService.getCurrentNetworkStatus();return t.online?t.effectiveType==="4g"?"bg-green-500":t.effectiveType==="3g"?"bg-yellow-500":"bg-gray-500":"bg-red-500"}getNetworkStatusText(){let t=this.offlineService.getCurrentNetworkStatus();return t.online?t.effectiveType==="4g"?"4G":t.effectiveType==="3g"?"3G":t.effectiveType==="2g"?"2G":"Online":"Offline"}getCurrentTime(){return this.currentTime}getBatteryLevel(){return this.batteryLevel}updateTime(){let t=new Date;this.currentTime=t.toLocaleTimeString(xt.LANGUAGE.DEFAULT,{hour:"2-digit",minute:"2-digit",hour12:!1})}updateBatteryLevel(){"getBattery"in navigator?navigator.getBattery().then(t=>{this.batteryLevel=Math.round(t.level*100)}).catch(()=>{this.batteryLevel=0}):this.batteryLevel=0}};n.\u0275fac=function(i){return new(i||n)(D(as),D(Sn),D(ar),D(Pa),D(gn))},n.\u0275cmp=Fe({type:n,selectors:[["app-footer"]],decls:49,vars:25,consts:[[1,"hidden","md:flex","flex-shrink-0","bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700","shadow-sm"],[1,"flex","items-center","justify-between","px-6","py-4","w-full"],[1,"flex","items-center","gap-3","text-sm","text-gray-600","dark:text-gray-300"],[1,"text-gray-400","dark:text-gray-500"],[1,"font-medium"],[1,"text-xs","text-gray-400","dark:text-gray-500"],[1,"flex","items-center","gap-1","text-xs","text-gray-500","dark:text-gray-400"],[1,"hidden","lg:inline"],[1,"md:hidden","flex-shrink-0","bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700","shadow-lg"],[1,"px-2","py-3"],[1,"grid","grid-cols-5","gap-2"],[1,"group","flex","flex-col","items-center","gap-2",3,"click"],[1,"w-10","h-10","rounded-xl","flex","items-center","justify-center","shadow-md","transition-all","duration-200",3,"click"],[1,"text-lg","relative","bottom-1"],[1,"text-xs","font-medium","transition-colors","duration-200"],[1,"w-12","h-12","bg-gray-500","rounded-xl","flex","items-center","justify-center","shadow-md","hover:scale-105","transition-all","duration-200"],[1,"text-white","text-lg","relative","bottom-1"],[1,"text-xs","font-medium","text-gray-700","dark:text-gray-300"]],template:function(i,a){i&1&&(c(0,"footer",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),u(4,"account_balance_wallet"),l(),c(5,"span",4),u(6,"Money Manager"),l(),c(7,"span",5),u(8),l()(),c(9,"div",6)(10,"span"),u(11,"\xA9 2024 Money Manager"),l(),c(12,"span",7),u(13,"\u2022"),l(),c(14,"span",7),u(15,"All rights reserved"),l()()()(),c(16,"footer",8)(17,"div",9)(18,"div",10)(19,"button",11),H("click",function(){return a.home()}),c(20,"div",12),H("click",function(){return a.home()}),c(21,"mat-icon",13),u(22,"home"),l()(),c(23,"span",14),u(24,"Home"),l()(),c(25,"button",11),H("click",function(){return a.quickExpense()}),c(26,"div",12),H("click",function(){return a.quickExpense()}),c(27,"mat-icon",13),u(28,"trending_down"),l()(),c(29,"span",14),u(30,"Expense"),l()(),c(31,"button",11),H("click",function(){return a.addTransaction()}),c(32,"div",15)(33,"mat-icon",16),u(34,"add_circle"),l()(),c(35,"span",17),u(36,"Add"),l()(),c(37,"button",11),H("click",function(){return a.navigateTo("/dashboard/category")}),c(38,"div",12),H("click",function(){return a.navigateTo("/dashboard/category")}),c(39,"mat-icon",13),u(40,"layers"),l()(),c(41,"span",14),u(42,"Category"),l()(),c(43,"button",11),H("click",function(){return a.navigateTo("/dashboard/accounts")}),c(44,"div",12),H("click",function(){return a.navigateTo("/dashboard/accounts")}),c(45,"mat-icon",13),u(46,"account_balance"),l()(),c(47,"span",14),u(48,"Accounts"),l()()()()()),i&2&&(g(8),he("v",a.getAppVersion(),""),g(12),jt(a.isHomeActive()?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),g(),jt(a.isHomeActive()?"text-white":"text-gray-600 dark:text-gray-400"),g(2),jt(a.isHomeActive()?"text-primary dark:text-primary":"text-gray-700 dark:text-gray-300"),g(3),jt(a.isExpenseActive()?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),g(),jt(a.isExpenseActive()?"text-white":"text-gray-600 dark:text-gray-400"),g(2),jt(a.isExpenseActive()?"text-primary dark:text-primary":"text-gray-700 dark:text-gray-300"),g(9),jt(a.isCategoryActive()?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),g(),jt(a.isCategoryActive()?"text-white":"text-gray-600 dark:text-gray-400"),g(2),jt(a.isCategoryActive()?"text-primary dark:text-primary":"text-gray-700 dark:text-gray-300"),g(3),jt(a.isAccountsActive()?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),g(),jt(a.isAccountsActive()?"text-white":"text-gray-600 dark:text-gray-400"),g(2),jt(a.isAccountsActive()?"text-primary dark:text-primary":"text-gray-700 dark:text-gray-300"))},dependencies:[zt],styles:["[_nghost-%COMP%]{display:block}footer[_ngcontent-%COMP%]{transition:all .3s ease}footer[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a}.hidden.md\\:flex[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#fffffff2}.dark[_ngcontent-%COMP%]   .hidden.md\\:flex[_ngcontent-%COMP%]{background:#1f2937f2}.md\\:hidden[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#fffffffa}.dark[_ngcontent-%COMP%]   .md\\:hidden[_ngcontent-%COMP%]{background:#1f2937fa}.md\\:hidden[_ngcontent-%COMP%]   .main-action[_ngcontent-%COMP%]{box-shadow:0 4px 12px #3b82f64d}.md\\:hidden[_ngcontent-%COMP%]   .main-action[_ngcontent-%COMP%]:hover{box-shadow:0 6px 16px #3b82f666}.md\\:hidden[_ngcontent-%COMP%]   .main-action[_ngcontent-%COMP%]:active{box-shadow:0 2px 8px #3b82f64d}.md\\:hidden[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]{transition:all .2s ease}.md\\:hidden[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.md\\:hidden[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]:active{transform:translateY(0)}.md\\:hidden[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{transition:all .2s ease}.md\\:hidden[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]:hover   .action-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.md\\:hidden[_ngcontent-%COMP%]   .network-status[_ngcontent-%COMP%]{transition:all .3s ease}.md\\:hidden[_ngcontent-%COMP%]   .network-status[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.action-income[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.action-income[_ngcontent-%COMP%]:hover{background:#10b9811a}.action-expense[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.action-expense[_ngcontent-%COMP%]:hover{background:#ef44441a}.action-scan[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed)}.action-scan[_ngcontent-%COMP%]:hover{background:#8b5cf61a}.action-search[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563)}.action-search[_ngcontent-%COMP%]:hover{background:#6b72801a}.action-more[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563)}.action-more[_ngcontent-%COMP%]:hover{background:#6b72801a}.network-online[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.network-offline[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626)}.network-slow[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}@media (max-width: 640px){.mobile-footer[_ngcontent-%COMP%]   .main-action[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:.875rem}.mobile-footer[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{gap:.25rem}.mobile-footer[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}}.dark[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{border-color:#4b556380}.dark[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .network-status[_ngcontent-%COMP%]{background:#4b556333}.dark[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .quick-action[_ngcontent-%COMP%]:hover{background:#4b55631a}@keyframes _ngcontent-%COMP%_networkPulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.network-status-changing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_networkPulse .6s ease-in-out}button[_ngcontent-%COMP%]{transition:all .2s ease}button[_ngcontent-%COMP%]:focus{outline:none;ring:2px;ring-color:rgba(59,130,246,.5)}.footer-button[_ngcontent-%COMP%]{transition:all .2s ease}.footer-button.active[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb);box-shadow:0 4px 12px #3b82f64d}.footer-button.active[_ngcontent-%COMP%]   .action-label[_ngcontent-%COMP%]{color:#3b82f6;font-weight:600}.footer-button[_ngcontent-%COMP%]:hover:not(.active)   .action-icon[_ngcontent-%COMP%]{transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-panel[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 8px 32px #0000001f;border:1px solid rgba(0,0,0,.08)}.dark[_ngcontent-%COMP%]   .more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-panel[_ngcontent-%COMP%]{background:#1f2937;border-color:#ffffff1a;box-shadow:0 8px 32px #0000004d}.more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;font-size:14px;font-weight:500;color:#374151;transition:all .2s ease}.dark[_ngcontent-%COMP%]   .more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]{color:#d1d5db}.more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]:hover{background:#3b82f614}.dark[_ngcontent-%COMP%]   .more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]:hover{background:#3b82f626}.more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280;font-size:20px;width:20px;height:20px}.dark[_ngcontent-%COMP%]   .more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9ca3af}.more-menu-panel[_ngcontent-%COMP%]   .mat-mdc-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.menu-item[_ngcontent-%COMP%]{background-color:#ffffff80;border-radius:12px;margin:4px}.menu-item[_ngcontent-%COMP%]:hover{background-color:#ffffff80}"]});let e=n;return e})();var rS=(()=>{let n=class n{constructor(t,i,a){this.breakpointObserver=t,this.store=i,this.userService=a,this.isMobile=!1,this.breakpointObserver.observe([qr.Handset]).subscribe(o=>{this.isMobile=o.matches})}ngOnInit(){var t,i,a,o,s,d;this.store.dispatch(ns({userId:(t=this.userService.getUser())==null?void 0:t.uid})),this.store.dispatch(wa({userId:(i=this.userService.getUser())==null?void 0:i.uid})),this.store.dispatch(Sa({userId:(a=this.userService.getUser())==null?void 0:a.uid})),this.store.dispatch(es({userId:(o=this.userService.getUser())==null?void 0:o.uid})),this.store.dispatch(ts({userId:(s=this.userService.getUser())==null?void 0:s.uid})),this.store.dispatch(gr({userId:(d=this.userService.getUser())==null?void 0:d.uid}))}};n.\u0275fac=function(i){return new(i||n)(D(Sr),D(qt),D(rr))},n.\u0275cmp=Fe({type:n,selectors:[["app-dashboard"]],decls:6,vars:0,consts:[[1,"h-[100vh]","flex","flex-col","bg-gray-50"],[1,"flex-1","overflow-y-auto"],[1,"mx-auto","px-4","py-1","lg:py-2"]],template:function(i,a){i&1&&(c(0,"div",0),de(1,"app-header"),c(2,"main",1)(3,"div",2),de(4,"router-outlet"),l()(),de(5,"app-footer"),l())},dependencies:[ch,D2,iS]});let e=n;return e})();var C1=(e,n)=>n.value;function i6(e,n){if(e&1&&(c(0,"p",14),u(1),l()),e&2){let r=k();g(),ne(r.getNameError())}}function r6(e,n){if(e&1&&(c(0,"option",17),u(1),l()),e&2){let r=n.$implicit;P("value",r.value),g(),ne(r.label)}}function a6(e,n){e&1&&(c(0,"p",18),u(1,"Account type is required"),l())}function o6(e,n){if(e&1&&(c(0,"p",18),u(1),l()),e&2){let r=k();g(),ne(r.getBalanceError())}}function s6(e,n){e&1&&(c(0,"p",18),u(1,"Lender name is required"),l())}function c6(e,n){if(e&1&&(c(0,"p",18),u(1),l()),e&2){let r=k(2);g(),ne(r.getLoanAmountError())}}function l6(e,n){if(e&1&&(c(0,"p",18),u(1),l()),e&2){let r=k(2);g(),ne(r.getInterestRateError())}}function d6(e,n){if(e&1&&(c(0,"p",18),u(1),l()),e&2){let r=k(2);g(),ne(r.getDurationError())}}function u6(e,n){if(e&1&&(c(0,"option",17),u(1),l()),e&2){let r=n.$implicit;P("value",r.value),g(),ne(r.label)}}function m6(e,n){if(e&1&&(c(0,"option",17),u(1),l()),e&2){let r=n.$implicit;P("value",r.value),g(),ne(r.label)}}function h6(e,n){if(e&1&&(c(0,"div",20)(1,"h4",22)(2,"mat-icon",23),u(3,"account_balance_wallet"),l(),u(4," Loan Details "),l(),c(5,"div",24)(6,"label",11),u(7," Lender Name * "),l(),de(8,"input",25),G(9,s6,2,0,"p",18),l(),c(10,"div",24)(11,"label",11),u(12," Loan Amount * "),l(),de(13,"input",26),G(14,c6,2,1,"p",18),l(),c(15,"div",24)(16,"label",11),u(17," Annual Interest Rate (%) * "),l(),de(18,"input",27),G(19,l6,2,1,"p",18),l(),c(20,"div",24)(21,"label",11),u(22," Loan Start Date * "),l(),de(23,"input",28),l(),c(24,"div",24)(25,"label",11),u(26," Loan Duration (months) * "),l(),de(27,"input",29),G(28,d6,2,1,"p",18),l(),c(29,"div",24)(30,"label",11),u(31," Repayment Frequency * "),l(),c(32,"select",30),Li(33,u6,2,2,"option",17,C1),l()(),c(35,"div",24)(36,"label",11),u(37," Loan Status * "),l(),c(38,"select",31),Li(39,m6,2,2,"option",17,C1),l()(),c(41,"div",24)(42,"label",11),u(43," Total Amount Paid "),l(),de(44,"input",32),l(),c(45,"div",24)(46,"label",11),u(47," Remaining Balance "),l(),de(48,"input",33),l(),c(49,"div",24)(50,"label",11),u(51," Next Payment Due Date * "),l(),de(52,"input",34),l(),c(53,"div",24)(54,"label",3),de(55,"input",35),c(56,"span",36),u(57," Show payment reminders "),l()()()()),e&2){let r,t,i,a,o=k();g(9),ot((r=o.accountForm.get("lenderName"))!=null&&r.hasError("required")&&((r=o.accountForm.get("lenderName"))!=null&&r.touched)?9:-1),g(5),ot(o.getLoanAmountError()&&((t=o.accountForm.get("loanAmount"))!=null&&t.touched)?14:-1),g(5),ot(o.getInterestRateError()&&((i=o.accountForm.get("interestRate"))!=null&&i.touched)?19:-1),g(9),ot(o.getDurationError()&&((a=o.accountForm.get("durationMonths"))!=null&&a.touched)?28:-1),g(5),Vi(o.repaymentFrequencies),g(6),Vi(o.loanStatuses)}}var aS=(()=>{let n=class n{constructor(t,i,a,o,s,d,m,f,_,v){var w,C,b,O;this.dialogData=t,this.store=i,this.fb=a,this.dialogRef=o,this.auth=s,this.notificationService=d,this.router=m,this.hapticFeedback=f,this.validationService=_,this.ssrService=v,this.isSubmitting=!1,this.accountTypes=[{value:so.BANK,label:"Bank Account"},{value:so.CASH,label:"Cash"},{value:so.CREDIT,label:"Credit Card"},{value:so.LOAN,label:"Loan"},{value:so.INVESTMENT,label:"Investment"}],this.repaymentFrequencies=[{value:"monthly",label:"Monthly"},{value:"weekly",label:"Weekly"}],this.loanStatuses=[{value:"active",label:"Active"},{value:"closed",label:"Closed"},{value:"defaulted",label:"Defaulted"}],this.accountForm=this.fb.group({name:["",this.validationService.getAccountNameValidators()],type:["bank",yt.required],balance:["",this.validationService.getAccountBalanceValidators()],lenderName:[""],loanAmount:[0,this.validationService.getLoanAmountValidators()],interestRate:[0,this.validationService.getInterestRateValidators()],startDate:[new Date],durationMonths:[12,this.validationService.getDurationMonthsValidators()],repaymentFrequency:["monthly"],status:["active"],totalPaid:[0,[yt.min(0)]],remainingBalance:[0,[yt.min(0)]],nextDueDate:[new Date],showReminder:[!0]}),this.dialogData&&this.accountForm.patchValue(ue({name:this.dialogData.name,type:this.dialogData.type,balance:this.dialogData.balance},this.dialogData.loanDetails&&{lenderName:this.dialogData.loanDetails.lenderName,loanAmount:this.dialogData.loanDetails.loanAmount,interestRate:this.dialogData.loanDetails.interestRate,startDate:this.dialogData.loanDetails.startDate,durationMonths:this.dialogData.loanDetails.durationMonths,repaymentFrequency:this.dialogData.loanDetails.repaymentFrequency,status:this.dialogData.loanDetails.status,totalPaid:this.dialogData.loanDetails.totalPaid,remainingBalance:this.dialogData.loanDetails.remainingBalance,nextDueDate:this.dialogData.loanDetails.nextDueDate,showReminder:this.dialogData.loanDetails.showReminder})),(w=this.accountForm.get("loanAmount"))==null||w.valueChanges.subscribe(L=>{var N;((N=this.accountForm.get("type"))==null?void 0:N.value)==="loan"&&this.accountForm.patchValue({balance:-L},{emitEvent:!1})}),(C=this.accountForm.get("type"))==null||C.valueChanges.subscribe(L=>{let N=this.accountForm.get("lenderName"),V=this.accountForm.get("loanAmount"),re=this.accountForm.get("interestRate"),oe=this.accountForm.get("durationMonths"),F=this.accountForm.get("nextDueDate");L==="loan"?(N==null||N.setValidators([yt.required]),V==null||V.setValidators([yt.required,...this.validationService.getLoanAmountValidators()]),re==null||re.setValidators([yt.required,...this.validationService.getInterestRateValidators()]),oe==null||oe.setValidators([yt.required,...this.validationService.getDurationMonthsValidators()]),F==null||F.setValidators([yt.required])):(N==null||N.clearValidators(),V==null||V.clearValidators(),re==null||re.clearValidators(),oe==null||oe.clearValidators(),F==null||F.clearValidators()),N==null||N.updateValueAndValidity(),V==null||V.updateValueAndValidity(),re==null||re.updateValueAndValidity(),oe==null||oe.updateValueAndValidity(),F==null||F.updateValueAndValidity()}),(b=this.accountForm.get("loanAmount"))==null||b.valueChanges.subscribe(L=>{var V;let N=((V=this.accountForm.get("totalPaid"))==null?void 0:V.value)||0;this.accountForm.patchValue({remainingBalance:Math.max(0,L-N)},{emitEvent:!1})}),(O=this.accountForm.get("totalPaid"))==null||O.valueChanges.subscribe(L=>{var V;let N=((V=this.accountForm.get("loanAmount"))==null?void 0:V.value)||0;this.accountForm.patchValue({remainingBalance:Math.max(0,N-L)},{emitEvent:!1})})}ngOnInit(){var t;this.userId=(t=this.auth.currentUser)==null?void 0:t.uid,this.ssrService.isClientSide()&&window.addEventListener("popstate",i=>{this.dialogRef.close(),i.preventDefault()})}onSubmit(){return ge(this,null,function*(){var t;if(this.accountForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let i=this.accountForm.value,a=i.type==="loan",o={name:i.name.trim(),type:i.type,balance:Number(i.balance)};a&&(o.loanDetails={lenderName:i.lenderName.trim(),loanAmount:Number(i.loanAmount)||0,interestRate:Number(i.interestRate)||0,startDate:i.startDate,durationMonths:Number(i.durationMonths)||12,repaymentFrequency:i.repaymentFrequency,status:i.status,totalPaid:Number(i.totalPaid)||0,remainingBalance:Number(i.remainingBalance)||0,nextDueDate:i.nextDueDate,showReminder:i.showReminder}),(t=this.dialogData)!=null&&t.accountId?(yield this.store.dispatch(dc({userId:this.userId,accountId:this.dialogData.accountId,accountData:o})),this.notificationService.success("Account updated successfully")):(yield this.store.dispatch(lc({userId:this.userId,accountData:o})),this.notificationService.success("Account added successfully"),this.hapticFeedback.successVibration()),this.dialogRef.close(!0),this.router.navigate(["/dashboard/accounts"])}catch{this.notificationService.error("Failed to save account")}finally{this.isSubmitting=!1}}})}onClose(){this.dialogRef.close()}getNameError(){let t=this.accountForm.get("name");return t?this.validationService.getAccountNameError(t):""}getBalanceError(){let t=this.accountForm.get("balance");return t?this.validationService.getAccountBalanceError(t):""}isLoanAccount(){var t;return((t=this.accountForm.get("type"))==null?void 0:t.value)==="loan"}getLoanAmountError(){let t=this.accountForm.get("loanAmount");return t?this.validationService.getLoanAmountError(t):""}getInterestRateError(){let t=this.accountForm.get("interestRate");return t?this.validationService.getInterestRateError(t):""}getDurationError(){let t=this.accountForm.get("durationMonths");return t?this.validationService.getDurationError(t):""}};n.\u0275fac=function(i){return new(i||n)(D(kr),D(qt),D(wr),D(Mr),D(Ut),D(At),D(Sn),D(Pa),D(Kr),D(Vr))},n.\u0275cmp=Fe({type:n,selectors:[["app-mobile-account"]],decls:36,vars:10,consts:[[1,"sticky","top-0","z-20","bg-white","dark:bg-gray-800","border-b","border-gray-200","dark:border-gray-700","shadow-sm"],[1,"flex","items-center","justify-between","px-4","py-3"],[1,"text-lg","font-semibold","text-gray-900","dark:text-gray-100"],[1,"flex","items-center","gap-2"],["mat-icon-button","","color","primary","matTooltip","Save Account",1,"w-10","h-10","!bg-primary",3,"click","disabled"],[1,"text-white"],["mat-icon-button","","type","button","matTooltip","Close",1,"text-gray-500","hover:text-gray-700","dark:text-gray-400","dark:hover:text-gray-200",3,"click"],[1,"flex-1","overflow-y-auto","bg-gray-50","dark:bg-gray-900"],[1,"p-4","space-y-6"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-4","shadow-sm"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["type","text","formControlName","name","placeholder","e.g., Chase Checking","autofocus","",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"maxlength"],[1,"flex","justify-between","items-center","mt-1"],[1,"text-red-500","text-sm"],[1,"text-xs","text-gray-500"],["formControlName","type",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],[3,"value"],[1,"text-red-500","text-sm","mt-1"],["type","number","formControlName","balance","placeholder","0.00","step","0.01",1,"w-full","text-2xl","font-bold","text-center","py-3","px-4","border-0","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-blue-500","rounded-lg"],[1,"bg-amber-50","dark:bg-amber-900/20","border","border-amber-200","dark:border-amber-800","rounded-lg","p-4"],[1,"h-20"],[1,"text-sm","font-semibold","text-amber-800","dark:text-amber-200","mb-4","flex","items-center","gap-2"],[1,"text-amber-600","dark:text-amber-400"],[1,"mb-4"],["type","text","formControlName","lenderName","placeholder","e.g., Bank of America",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","number","formControlName","loanAmount","placeholder","0.00","step","0.01",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","number","formControlName","interestRate","placeholder","5.5","step","0.1",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","date","formControlName","startDate",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","number","formControlName","durationMonths","placeholder","12",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["formControlName","repaymentFrequency",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["formControlName","status",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","number","formControlName","totalPaid","placeholder","0.00","step","0.01",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","number","formControlName","remainingBalance","readonly","",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-gray-100","dark:bg-gray-700","text-gray-600","dark:text-gray-400"],["type","date","formControlName","nextDueDate",1,"w-full","py-3","px-4","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-transparent","focus:outline-none","focus:ring-2","focus:ring-amber-500","focus:border-transparent"],["type","checkbox","formControlName","showReminder",1,"w-4","h-4","text-amber-600","bg-gray-100","border-gray-300","rounded","focus:ring-amber-500","dark:focus:ring-amber-600","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"]],template:function(i,a){if(i&1&&(c(0,"div",0)(1,"div",1)(2,"h6",2),u(3),l(),c(4,"div",3)(5,"button",4),H("click",function(){return a.onSubmit()}),c(6,"mat-icon",5),u(7),l()(),c(8,"button",6),H("click",function(){return a.onClose()}),c(9,"mat-icon"),u(10,"close"),l()()()()(),c(11,"div",7)(12,"div",8)(13,"form",9),H("ngSubmit",function(){return a.onSubmit()}),c(14,"div",10)(15,"label",11),u(16," Account Name * "),l(),de(17,"input",12),c(18,"div",13),G(19,i6,2,1,"p",14),c(20,"span",15),u(21),l()()(),c(22,"div",10)(23,"label",11),u(24," Account Type * "),l(),c(25,"select",16),Li(26,r6,2,2,"option",17,C1),l(),G(28,a6,2,0,"p",18),l(),c(29,"div",10)(30,"label",11),u(31," Initial Balance * "),l(),de(32,"input",19),G(33,o6,2,1,"p",18),l(),G(34,h6,58,4,"div",20),de(35,"div",21),l()()()),i&2){let o,s,d,m;g(3),he(" ",a.dialogData!=null&&a.dialogData.accountId?"Edit":"Add"," Account "),g(2),P("disabled",a.accountForm.invalid||a.isSubmitting),g(2),he(" ",a.isSubmitting?"hourglass_empty":"check"," "),g(6),P("formGroup",a.accountForm),g(4),P("maxlength",50),g(2),ot(a.getNameError()&&((o=a.accountForm.get("name"))!=null&&o.touched)?19:-1),g(2),he(" ",((s=a.accountForm.get("name"))==null||s.value==null?null:s.value.length)||0,"/50 "),g(5),Vi(a.accountTypes),g(2),ot((d=a.accountForm.get("type"))!=null&&d.hasError("required")&&((d=a.accountForm.get("type"))!=null&&d.touched)?28:-1),g(5),ot(a.getBalanceError()&&((m=a.accountForm.get("balance"))!=null&&m.touched)?33:-1),g(),ot(a.isLoanAccount()?34:-1)}},dependencies:[Di,eo,to,mn,Gi,dh,Ja,hn,Ai,cc,yr,Cr,zt,wn,ni],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f9fafb}.dark   [_nghost-%COMP%]{background-color:#111827}@media (max-width: 768px){[_nghost-%COMP%]{font-size:16px}}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{transform:scale(1.02);transition:transform .2s ease-in-out}button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}button[_ngcontent-%COMP%]:active{transform:translateY(0)}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.overflow-y-auto[_ngcontent-%COMP%]{scroll-behavior:smooth;-webkit-overflow-scrolling:touch}.bg-white[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.bg-white[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.text-red-500[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.text-green-500[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse .5s ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}@media (max-width: 480px){input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:16px;padding:12px 16px}.text-2xl[_ngcontent-%COMP%]{font-size:1.75rem}}*[_ngcontent-%COMP%]{transition:background-color .3s ease,color .3s ease,border-color .3s ease}"]});let e=n;return e})();var k1=["*"];function f6(e,n){e&1&&yn(0)}var g6=["tabListContainer"],_6=["tabList"],x6=["tabListInner"],v6=["nextPaginator"],b6=["previousPaginator"],y6=e=>({animationDuration:e}),C6=(e,n)=>({value:e,params:n});function w6(e,n){}var S6=["tabBodyWrapper"],M6=["tabHeader"];function k6(e,n){}function P6(e,n){if(e&1&&G(0,k6,0,0,"ng-template",12),e&2){let r=k().$implicit;P("cdkPortalOutlet",r.templateLabel)}}function E6(e,n){if(e&1&&u(0),e&2){let r=k().$implicit;ne(r.textLabel)}}function T6(e,n){if(e&1){let r=Ce();c(0,"div",7,2),H("click",function(){let i=q(r),a=i.$implicit,o=i.$index,s=k(),d=qn(1);return K(s._handleClick(a,d,o))})("cdkFocusChange",function(i){let a=q(r).$index,o=k();return K(o._tabFocusChanged(i,a))}),de(2,"span",8)(3,"div",9),c(4,"span",10)(5,"span",11),G(6,P6,1,1,null,12)(7,E6,1,1),l()()()}if(e&2){let r=n.$implicit,t=n.$index,i=qn(1),a=k();jt(r.labelClass),Be("mdc-tab--active",a.selectedIndex===t),P("id",a._getTabLabelId(t))("disabled",r.disabled)("fitInkBarToContent",a.fitInkBarToContent),Gt("tabIndex",a._getTabIndex(t))("aria-posinset",t+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(t))("aria-selected",a.selectedIndex===t)("aria-label",r.ariaLabel||null)("aria-labelledby",!r.ariaLabel&&r.ariaLabelledby?r.ariaLabelledby:null),g(3),P("matRippleTrigger",i)("matRippleDisabled",r.disabled||a.disableRipple),g(3),ot(r.templateLabel?6:7)}}function O6(e,n){e&1&&yn(0)}function I6(e,n){if(e&1){let r=Ce();c(0,"mat-tab-body",13),H("_onCentered",function(){q(r);let i=k();return K(i._removeTabBodyWrapperHeight())})("_onCentering",function(i){q(r);let a=k();return K(a._setTabBodyWrapperHeight(i))}),l()}if(e&2){let r=n.$implicit,t=n.$index,i=k();jt(r.bodyClass),Be("mat-mdc-tab-body-active",i.selectedIndex===t),P("id",i._getTabContentId(t))("content",r.content)("position",r.position)("origin",r.origin)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),Gt("tabindex",i.contentTabIndex!=null&&i.selectedIndex===t?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(t))("aria-hidden",i.selectedIndex!==t)}}var A6=new Ft("MatTabContent"),D6=(()=>{let n=class n{constructor(t){this.template=t}};n.\u0275fac=function(i){return new(i||n)(D(fr))},n.\u0275dir=Et({type:n,selectors:[["","matTabContent",""]],standalone:!0,features:[Dn([{provide:A6,useExisting:n}])]});let e=n;return e})(),F6=new Ft("MatTabLabel"),cS=new Ft("MAT_TAB"),P1=(()=>{let n=class n extends NC{constructor(t,i,a){super(t,i),this._closestTab=a}};n.\u0275fac=function(i){return new(i||n)(D(fr),D(ma),D(cS,8))},n.\u0275dir=Et({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[Dn([{provide:F6,useExisting:n}]),Yn]});let e=n;return e})(),lS=new Ft("MAT_TAB_GROUP"),vl=(()=>{let n=class n{get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}constructor(t,i){this._viewContainerRef=t,this._closestTabGroup=i,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new bt,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Wu(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}};n.\u0275fac=function(i){return new(i||n)(D(ma),D(lS,8))},n.\u0275cmp=Fe({type:n,selectors:[["mat-tab"]],contentQueries:function(i,a,o){if(i&1&&(yi(o,P1,5),yi(o,D6,7,fr)),i&2){let s;gt(s=_t())&&(a.templateLabel=s.first),gt(s=_t())&&(a._explicitContent=s.first)}},viewQuery:function(i,a){if(i&1&&Zt(fr,7),i&2){let o;gt(o=_t())&&(a._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",Ct],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[Dn([{provide:cS,useExisting:n}]),Ln,ti,rn],ngContentSelectors:k1,decls:1,vars:0,template:function(i,a){i&1&&(_i(),G(0,f6,1,0,"ng-template"))},encapsulation:2});let e=n;return e})(),w1="mdc-tab-indicator--active",oS="mdc-tab-indicator--no-transition",S1=class{constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar())}alignToElement(n){var i,a;let r=this._items.find(o=>o.elementRef.nativeElement===n),t=this._currentItem;if(r!==t&&(t==null||t.deactivateInkBar(),r)){let o=(a=t==null?void 0:(i=t.elementRef.nativeElement).getBoundingClientRect)==null?void 0:a.call(i);r.activateInkBar(o),this._currentItem=r}}},R6=(()=>{let n=class n{constructor(){this._elementRef=cn(tn),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){let i=this._elementRef.nativeElement;if(!t||!i.getBoundingClientRect||!this._inkBarContentElement){i.classList.add(w1);return}let a=i.getBoundingClientRect(),o=t.width/a.width,s=t.left-a.left;i.classList.add(oS),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${o})`),i.getBoundingClientRect(),i.classList.remove(oS),i.classList.add(w1),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(w1)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){var t;(t=this._inkBarElement)==null||t.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let t=this._elementRef.nativeElement.ownerDocument||document,i=this._inkBarElement=t.createElement("span"),a=this._inkBarContentElement=t.createElement("span");i.className="mdc-tab-indicator",a.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",i.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let t=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;t.appendChild(this._inkBarElement)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275dir=Et({type:n,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Ct]},features:[Ln]});let e=n;return e})();var dS=(()=>{let n=class n extends R6{constructor(t){super(),this.elementRef=t,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}};n.\u0275fac=function(i){return new(i||n)(D(tn))},n.\u0275dir=Et({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,a){i&2&&(Gt("aria-disabled",!!a.disabled),Be("mat-mdc-tab-disabled",a.disabled))},inputs:{disabled:[2,"disabled","disabled",Ct]},standalone:!0,features:[Ln,Yn]});let e=n;return e})(),sS=kd({passive:!0}),N6=650,L6=100,V6=(()=>{let n=class n{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){let i=isNaN(t)?0:t;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}constructor(t,i,a,o,s,d,m){this._elementRef=t,this._changeDetectorRef=i,this._viewportRuler=a,this._dir=o,this._ngZone=s,this._platform=d,this._animationMode=m,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new bt,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new bt,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new He,this.indexFocused=new He,this._sharedResizeObserver=cn(KC),this._injector=cn($r),s.runOutsideAngular(()=>{Xa(t.nativeElement,"mouseleave").pipe(It(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Xa(this._previousPaginator.nativeElement,"touchstart",sS).pipe(It(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Xa(this._nextPaginator.nativeElement,"touchstart",sS).pipe(It(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let t=this._dir?this._dir.change:ht("ltr"),i=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(ws(32),It(this._destroyed)),a=this._viewportRuler.change(150).pipe(It(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new CC(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),Io(o,{injector:this._injector}),mi(t,a,i,this._items.changes,this._itemsResized()).pipe(It(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?sd:this._items.changes.pipe(ua(this._items),Za(t=>new In(i=>this._ngZone.runOutsideAngular(()=>{let a=new ResizeObserver(o=>i.next(o));return t.forEach(o=>a.observe(o.elementRef.nativeElement)),()=>{a.disconnect()}}))),W0(1),un(t=>t.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){var t;(t=this._keyManager)==null||t.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Ra(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){let t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return this._items?!!this._items.toArray()[t]:!0}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();let i=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?i.scrollLeft=0:i.scrollLeft=i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let t=this.scrollDistance,i=this._getLayoutDirection()==="ltr"?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){let i=this._tabListContainer.nativeElement.offsetWidth,a=(t=="before"?-1:1)*i/3;return this._scrollTo(this._scrollDistance+a)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;let i=this._items?this._items.toArray()[t]:null;if(!i)return;let a=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=i.elementRef.nativeElement,d,m;this._getLayoutDirection()=="ltr"?(d=o,m=d+s):(m=this._tabListInner.nativeElement.offsetWidth-o,d=m-s);let f=this.scrollDistance,_=this.scrollDistance+a;d<f?this.scrollDistance-=f-d:m>_&&(this.scrollDistance+=Math.min(m-_,d-f))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let t=this._tabListInner.nativeElement.scrollWidth,i=this._elementRef.nativeElement.offsetWidth,a=t-i>=5;a||(this.scrollDistance=0),a!==this._showPaginationControls&&(this._showPaginationControls=a,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let t=this._tabListInner.nativeElement.scrollWidth,i=this._tabListContainer.nativeElement.offsetWidth;return t-i||0}_alignInkBarToSelectedTab(){let t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=t?t.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,i){i&&i.button!=null&&i.button!==0||(this._stopInterval(),Kb(N6,L6).pipe(It(mi(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:a,distance:o}=this._scrollHeader(t);(o===0||o>=a)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}};n.\u0275fac=function(i){return new(i||n)(D(tn),D(gn),D(dl),D(pa,8),D(An),D(Fa),D(Wr,8))},n.\u0275dir=Et({type:n,inputs:{disablePagination:[2,"disablePagination","disablePagination",Ct],selectedIndex:[2,"selectedIndex","selectedIndex",oc]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Ln]});let e=n;return e})(),B6=(()=>{let n=class n extends V6{constructor(t,i,a,o,s,d,m){super(t,i,a,o,s,d,m),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new S1(this._items),super.ngAfterContentInit()}_itemSelected(t){t.preventDefault()}};n.\u0275fac=function(i){return new(i||n)(D(tn),D(gn),D(dl),D(pa,8),D(An),D(Fa),D(Wr,8))},n.\u0275cmp=Fe({type:n,selectors:[["mat-tab-header"]],contentQueries:function(i,a,o){if(i&1&&yi(o,dS,4),i&2){let s;gt(s=_t())&&(a._items=s)}},viewQuery:function(i,a){if(i&1&&(Zt(g6,7),Zt(_6,7),Zt(x6,7),Zt(v6,5),Zt(b6,5)),i&2){let o;gt(o=_t())&&(a._tabListContainer=o.first),gt(o=_t())&&(a._tabList=o.first),gt(o=_t())&&(a._tabListInner=o.first),gt(o=_t())&&(a._nextPaginator=o.first),gt(o=_t())&&(a._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,a){i&2&&Be("mat-mdc-tab-header-pagination-controls-enabled",a._showPaginationControls)("mat-mdc-tab-header-rtl",a._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",Ct]},standalone:!0,features:[Ln,Yn,rn],ngContentSelectors:k1,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(i,a){if(i&1){let o=Ce();_i(),c(0,"div",5,0),H("click",function(){return q(o),K(a._handlePaginatorClick("before"))})("mousedown",function(d){return q(o),K(a._handlePaginatorPress("before",d))})("touchend",function(){return q(o),K(a._stopInterval())}),de(2,"div",6),l(),c(3,"div",7,1),H("keydown",function(d){return q(o),K(a._handleKeydown(d))}),c(5,"div",8,2),H("cdkObserveContent",function(){return q(o),K(a._onContentChanges())}),c(7,"div",9,3),yn(9),l()()(),c(10,"div",10,4),H("mousedown",function(d){return q(o),K(a._handlePaginatorPress("after",d))})("click",function(){return q(o),K(a._handlePaginatorClick("after"))})("touchend",function(){return q(o),K(a._stopInterval())}),de(12,"div",6),l()}i&2&&(Be("mat-mdc-tab-header-pagination-disabled",a._disableScrollBefore),P("matRippleDisabled",a._disableScrollBefore||a.disableRipple),g(3),Be("_mat-animation-noopable",a._animationMode==="NoopAnimations"),g(2),Gt("aria-label",a.ariaLabel||null)("aria-labelledby",a.ariaLabelledby||null),g(5),Be("mat-mdc-tab-header-pagination-disabled",a._disableScrollAfter),P("matRippleDisabled",a._disableScrollAfter||a.disableRipple))},dependencies:[ll,T_],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2});let e=n;return e})(),j6=new Ft("MAT_TABS_CONFIG"),U6={translateTab:$i("translateTab",[Fn("center, void, left-origin-center, right-origin-center",Nt({transform:"none",visibility:"visible"})),Fn("left",Nt({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Fn("right",Nt({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Hn("* => left, * => right, left => center, right => center",Qn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Hn("void => left-origin-center",[Nt({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Qn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Hn("void => right-origin-center",[Nt({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Qn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},z6=(()=>{let n=class n extends As{constructor(t,i,a,o){super(t,i,o),this._host=a,this._centeringSub=fn.EMPTY,this._leavingSub=fn.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(ua(this._host._isCenterPosition(this._host._position))).subscribe(t=>{this._host._content&&t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}};n.\u0275fac=function(i){return new(i||n)(D(uy),D(ma),D(Da(()=>uS)),D(ha))},n.\u0275dir=Et({type:n,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[Yn]});let e=n;return e})(),uS=(()=>{let n=class n{set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(t,i,a){this._elementRef=t,this._dir=i,this._dirChangeSubscription=fn.EMPTY,this._translateTabComplete=new bt,this._onCentering=new He,this._beforeCentering=new He,this._afterLeavingCenter=new He,this._onCentered=new He(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),a.markForCheck()})),this._translateTabComplete.subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){let i=this._isCenterPosition(t.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(t){return t=="center"||t=="left-origin-center"||t=="right-origin-center"}_computePositionAnimationState(t=this._getLayoutDirection()){this._positionIndex<0?this._position=t=="ltr"?"left":"right":this._positionIndex>0?this._position=t=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(t){let i=this._getLayoutDirection();return i=="ltr"&&t<=0||i=="rtl"&&t>0?"left-origin-center":"right-origin-center"}};n.\u0275fac=function(i){return new(i||n)(D(tn),D(pa,8),D(gn))},n.\u0275cmp=Fe({type:n,selectors:[["mat-tab-body"]],viewQuery:function(i,a){if(i&1&&Zt(As,5),i&2){let o;gt(o=_t())&&(a._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[rn],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(i,a){if(i&1){let o=Ce();c(0,"div",1,0),H("@translateTab.start",function(d){return q(o),K(a._onTranslateTabStarted(d))})("@translateTab.done",function(d){return q(o),K(a._translateTabComplete.next(d))}),G(2,w6,0,0,"ng-template",2),l()}i&2&&P("@translateTab",fy(3,C6,a._position,py(1,y6,a.animationDuration)))},dependencies:[z6,Ed],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[U6.translateTab]}});let e=n;return e})(),H6=0,G6=!0,Zd=(()=>{let n=class n{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=t,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=isNaN(t)?null:t}get animationDuration(){return this._animationDuration}set animationDuration(t){let i=t+"";this._animationDuration=/^\d+$/.test(i)?t+"ms":i}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=isNaN(t)?null:t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){if(!G6)throw new Error("mat-tab-group background color must be set through the Sass theming API");let i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&i.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}constructor(t,i,a,o){this._elementRef=t,this._changeDetectorRef=i,this._animationMode=o,this._tabs=new ju,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=fn.EMPTY,this._tabLabelSubscription=fn.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new He,this.focusChange=new He,this.animationDone=new He,this.selectedTabChange=new He(!0),this._isServer=!cn(Fa).isBrowser,this._groupId=H6++,this.animationDuration=a&&a.animationDuration?a.animationDuration:"500ms",this.disablePagination=a&&a.disablePagination!=null?a.disablePagination:!1,this.dynamicHeight=a&&a.dynamicHeight!=null?a.dynamicHeight:!1,(a==null?void 0:a.contentTabIndex)!=null&&(this.contentTabIndex=a.contentTabIndex),this.preserveContent=!!(a!=null&&a.preserveContent),this.fitInkBarToContent=a&&a.fitInkBarToContent!=null?a.fitInkBarToContent:!1,this.stretchTabs=a&&a.stretchTabs!=null?a.stretchTabs:!0}ngAfterContentChecked(){let t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){let i=this._selectedIndex==null;if(!i){this.selectedTabChange.emit(this._createChangeEvent(t));let a=this._tabBodyWrapper.nativeElement;a.style.minHeight=a.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((a,o)=>a.isActive=o===t),i||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,a)=>{i.position=a-t,this._selectedIndex!=null&&i.position==0&&!i.origin&&(i.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){let i=this._tabs.toArray(),a;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,a=i[o];break}!a&&i[t]&&Promise.resolve().then(()=>{i[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(ua(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){let i=this._tabHeader;i&&(i.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){let i=new M1;return i.index=t,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[t]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=mi(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=t+"px")}_removeTabBodyWrapperHeight(){let t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,i,a){i.focusIndex=a,t.disabled||(this.selectedIndex=a)}_getTabIndex(t){var a;let i=(a=this._lastFocusedTabIndex)!=null?a:this.selectedIndex;return t===i?0:-1}_tabFocusChanged(t,i){t&&t!=="mouse"&&t!=="touch"&&(this._tabHeader.focusIndex=i)}};n.\u0275fac=function(i){return new(i||n)(D(tn),D(gn),D(j6,8),D(Wr,8))},n.\u0275cmp=Fe({type:n,selectors:[["mat-tab-group"]],contentQueries:function(i,a,o){if(i&1&&yi(o,vl,5),i&2){let s;gt(s=_t())&&(a._allTabs=s)}},viewQuery:function(i,a){if(i&1&&(Zt(S6,5),Zt(M6,5)),i&2){let o;gt(o=_t())&&(a._tabBodyWrapper=o.first),gt(o=_t())&&(a._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(i,a){i&2&&(jt("mat-"+(a.color||"primary")),Yt("--mat-tab-animation-duration",a.animationDuration),Be("mat-mdc-tab-group-dynamic-height",a.dynamicHeight)("mat-mdc-tab-group-inverted-header",a.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",a.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Ct],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",Ct],dynamicHeight:[2,"dynamicHeight","dynamicHeight",Ct],selectedIndex:[2,"selectedIndex","selectedIndex",oc],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",oc],disablePagination:[2,"disablePagination","disablePagination",Ct],disableRipple:[2,"disableRipple","disableRipple",Ct],preserveContent:[2,"preserveContent","preserveContent",Ct],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[Dn([{provide:lS,useExisting:n}]),Ln,rn],ngContentSelectors:k1,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(i,a){if(i&1){let o=Ce();_i(),c(0,"mat-tab-header",3,0),H("indexFocused",function(d){return q(o),K(a._focusChanged(d))})("selectFocusedIndex",function(d){return q(o),K(a.selectedIndex=d)}),Li(2,T6,8,17,"div",4,Uu),l(),G(4,O6,1,0),c(5,"div",5,1),Li(7,I6,1,13,"mat-tab-body",6,Uu),l()}i&2&&(P("selectedIndex",a.selectedIndex||0)("disableRipple",a.disableRipple)("disablePagination",a.disablePagination)("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledby),g(2),Vi(a._tabs),g(2),ot(a._isServer?4:-1),g(),Be("_mat-animation-noopable",a._animationMode==="NoopAnimations"),g(2),Vi(a._tabs))},dependencies:[B6,dS,Hh,ll,As,uS],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-app-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-app-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-app-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2});let e=n;return e})(),M1=class{};var mS=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({imports:[Kn,Kn]});let e=n;return e})();var Ro=(()=>{let n=class n{transform(t,i){if(t==null||t==="")return this.formatCurrency(0,i);let a=typeof t=="string"?parseFloat(t):t;return isNaN(a)?"Invalid amount":this.formatCurrency(a,i)}formatCurrency(t,i){let{currency:a=xt.CURRENCY.DEFAULT,locale:o=xt.LANGUAGE.DEFAULT,showSymbol:s=!0,showCode:d=!1,decimalPlaces:m,compact:f=!1,signDisplay:_="auto",notation:v="standard"}=i||{},w=this.getCurrencyConfig(a),C=t%1!==0,b=m!==void 0?C?m:0:C?w.decimalPlaces:0,O=m!==void 0?m:w.decimalPlaces,L={style:"currency",currency:a,minimumFractionDigits:b,maximumFractionDigits:O,signDisplay:_,notation:f?"compact":v};s?d&&(L.currencyDisplay="narrowSymbol"):L.currencyDisplay="code";try{return new Intl.NumberFormat(o,L).format(t)}catch(N){return console.error("Currency formatting error:",N),this.fallbackFormat(t,a,w)}}getCurrencyConfig(t){let i=t;return{symbol:xt.CURRENCY.SYMBOLS[i]||t,decimalPlaces:xt.CURRENCY.DECIMAL_PLACES[i]||2}}fallbackFormat(t,i,a){let o=a.symbol,s=t%1===0?t.toFixed(0):t.toFixed(a.decimalPlaces);return`${o}${s}`}static getCurrencySymbol(t){let i=t;return xt.CURRENCY.SYMBOLS[i]||t}static getDecimalPlaces(t){let i=t;return xt.CURRENCY.DECIMAL_PLACES[i]||2}static isSupportedCurrency(t){return xt.CURRENCY.SUPPORTED.includes(t)}static getSupportedCurrencies(){return xt.CURRENCY.SUPPORTED}};n.\u0275fac=function(i){return new(i||n)},n.\u0275pipe=q0({name:"currency",type:n,pure:!0,standalone:!0});let e=n;return e})();var $6=(e,n)=>n.accountId;function W6(e,n){if(e&1){let r=Ce();c(0,"div",14)(1,"p",15),u(2),l(),c(3,"button",16),H("click",function(){q(r);let i=k();return K(i.clearError())}),c(4,"mat-icon"),u(5,"close"),l()()()}if(e&2){let r=k();g(2),ne(r.errorMessage)}}function Y6(e,n){if(e&1){let r=Ce();c(0,"button",17),H("click",function(){q(r);let i=k();return K(i.addAccount())}),c(1,"mat-icon"),u(2,"add"),l()()}}function q6(e,n){if(e&1){let r=Ce();c(0,"div",18)(1,"button",19),H("click",function(){q(r);let i=k();return K(i.addAccount())}),c(2,"mat-icon"),u(3,"add"),l()()()}}function K6(e,n){if(e&1&&(c(0,"div",31)(1,"span",32),u(2,"Assets:"),l(),c(3,"span",33),u(4),Ee(5,"currency"),l()()),e&2){let r=k(2);g(4),ne($e(5,1,r.getTotalPositiveBalance()))}}function Q6(e,n){if(e&1&&(c(0,"div",34)(1,"span",32),u(2,"Liabilities:"),l(),c(3,"span",33),u(4),Ee(5,"currency"),l()()),e&2){let r=k(2);g(4),ne($e(5,1,r.getTotalNegativeBalance()))}}function X6(e,n){if(e&1&&(c(0,"div",20)(1,"div",21)(2,"mat-icon",22),u(3,"account_balance"),l(),c(4,"h3",23),u(5,"Total Balance"),l()(),c(6,"div",24)(7,"div",25)(8,"span",26),u(9,"Net Worth:"),l(),c(10,"span",27),Ee(11,"async"),u(12),Ee(13,"async"),Ee(14,"currency"),l()()(),c(15,"div",28),G(16,K6,6,3,"div",29)(17,Q6,6,3,"div",30),l()()),e&2){let r,t,i,a,o=k();g(10),jt(((r=$e(11,5,o.totalBalance$))!==null&&r!==void 0?r:0)>=0?"positive":"negative"),g(2),he(" ",$e(14,9,(t=$e(13,7,o.totalBalance$))!==null&&t!==void 0?t:0)," "),g(4),P("ngIf",(i=o.getPositiveAccounts())==null?null:i.length),g(),P("ngIf",(a=o.getNegativeAccounts())==null?null:a.length)}}function Z6(e,n){if(e&1){let r=Ce();c(0,"button",40),H("click",function(){q(r);let i=k(2);return K(i.addAccount())}),c(1,"mat-icon"),u(2,"add"),l(),u(3," Add Account "),l()}}function J6(e,n){if(e&1&&(c(0,"div",35)(1,"div",36)(2,"mat-icon"),u(3,"account_balance"),l()(),c(4,"h3",37),u(5,"No accounts yet"),l(),c(6,"p",38),u(7,"Add your first account to get started"),l(),G(8,Z6,4,0,"button",39),l()),e&2){let r=k();g(8),P("ngIf",r.isMobile)}}function eF(e,n){if(e&1&&(c(0,"div",53)(1,"span",65),u(2,"Loan Interest Rate:"),l(),c(3,"span",66),u(4),l()()),e&2){let r,t=k().$implicit,i=k(2);g(4),he("",(r=i.getLoanDetails(t))==null?null:r.interestRate,"%")}}function tF(e,n){if(e&1&&(c(0,"span",54),u(1),Ee(2,"titlecase"),l()),e&2){let r=k().$implicit;g(),ne($e(2,1,r.type))}}function nF(e,n){if(e&1&&(c(0,"div",71)(1,"span",72),u(2,"Description:"),l(),c(3,"span",73),u(4),l()()),e&2){let r=k(2).$implicit;g(4),ne(r.description)}}function iF(e,n){if(e&1&&(c(0,"div",71)(1,"span",72),u(2,"Created:"),l(),c(3,"span",73),u(4),Ee(5,"date"),l()()),e&2){let r=k(2).$implicit,t=k(2);g(4),ne(Xt(5,1,t.dateService.toDate(r.createdAt),"shortDate"))}}function rF(e,n){if(e&1&&(c(0,"div",71)(1,"span",72),u(2,"Loan Term:"),l(),c(3,"span",73),u(4),l()()),e&2){let r,t=k(3).$implicit,i=k(2);g(4),he("",(r=i.getLoanDetails(t))==null?null:r.durationMonths," months")}}function aF(e,n){if(e&1&&(c(0,"mat-tab",82)(1,"div",70)(2,"div",71)(3,"span",72),u(4,"Lender Name:"),l(),c(5,"span",73),u(6),l()(),c(7,"div",71)(8,"span",72),u(9,"Interest Rate:"),l(),c(10,"span",73),u(11),l()(),c(12,"div",71)(13,"span",72),u(14,"Monthly Interest:"),l(),c(15,"span",83),u(16),Ee(17,"currency"),l()(),c(18,"div",71)(19,"span",72),u(20,"Next Due Date:"),l(),c(21,"span",73),u(22),Ee(23,"date"),l()(),c(24,"div",71)(25,"span",72),u(26,"Remaining Balance:"),l(),c(27,"span",73),u(28),Ee(29,"currency"),l()(),c(30,"div",71)(31,"span",72),u(32,"Monthly Payment:"),l(),c(33,"span",73),u(34),Ee(35,"currency"),l()(),G(36,rF,5,1,"div",74),l()()),e&2){let r,t,i,a,o,s,d=k(2).$implicit,m=k(2);g(6),ne(((r=m.getLoanDetails(d))==null?null:r.lenderName)||"N/A"),g(5),he("",(t=m.getLoanDetails(d))==null?null:t.interestRate,"%"),g(5),ne($e(17,7,m.calculateMonthlyInterest(d))),g(6),ne(Xt(23,9,(i=m.getLoanDetails(d))==null?null:i.nextDueDate,"fullDate")),g(6),ne($e(29,12,(a=m.getLoanDetails(d))==null?null:a.remainingBalance)),g(6),ne($e(35,14,(o=m.getLoanDetails(d))==null?null:o.monthlyPayment)),g(2),P("ngIf",(s=m.getLoanDetails(d))==null?null:s.durationMonths)}}function oF(e,n){e&1&&(c(0,"div",84)(1,"mat-icon"),u(2,"receipt_long"),l(),c(3,"p"),u(4,"No recent transactions"),l()())}function sF(e,n){if(e&1&&(c(0,"div",87)(1,"div",88)(2,"span",89),u(3),l(),c(4,"span",90),u(5),Ee(6,"date"),l()(),c(7,"span",91),u(8),Ee(9,"currency"),l()()),e&2){let r=n.$implicit;g(3),ne(r.description),g(2),ne(Xt(6,5,r.date,"shortDate")),g(2),jt(r.amount>=0?"positive":"negative"),g(),he(" ",$e(9,8,r.amount)," ")}}function cF(e,n){if(e&1&&(c(0,"div",85),G(1,sF,10,10,"div",86),l()),e&2){let r=k(2).$implicit,t=k(2);g(),P("ngForOf",t.getRecentTransactions(r))}}function lF(e,n){if(e&1&&(c(0,"div",67)(1,"mat-tab-group",68)(2,"mat-tab",69)(3,"div",70)(4,"div",71)(5,"span",72),u(6,"Account Name:"),l(),c(7,"span",73),u(8),l()(),c(9,"div",71)(10,"span",72),u(11,"Account Type:"),l(),c(12,"span",73),u(13),Ee(14,"titlecase"),l()(),c(15,"div",71)(16,"span",72),u(17,"Current Balance:"),l(),c(18,"span",73),u(19),Ee(20,"currency"),l()(),G(21,nF,5,1,"div",74)(22,iF,6,4,"div",74),l()(),G(23,aF,37,16,"mat-tab",75),c(24,"mat-tab",76)(25,"div",70),G(26,oF,5,0,"div",77)(27,cF,2,1,"div",78),l()(),c(28,"mat-tab",79)(29,"div",70)(30,"div",71)(31,"span",72),u(32,"Total Transactions:"),l(),c(33,"span",73),u(34),l()(),c(35,"div",71)(36,"span",72),u(37,"Total Deposits:"),l(),c(38,"span",80),u(39),Ee(40,"currency"),l()(),c(41,"div",71)(42,"span",72),u(43,"Total Withdrawals:"),l(),c(44,"span",81),u(45),Ee(46,"currency"),l()(),c(47,"div",71)(48,"span",72),u(49,"Average Transaction:"),l(),c(50,"span",73),u(51),Ee(52,"currency"),l()(),c(53,"div",71)(54,"span",72),u(55,"Largest Transaction:"),l(),c(56,"span",73),u(57),Ee(58,"currency"),l()(),c(59,"div",71)(60,"span",72),u(61,"This Month:"),l(),c(62,"span",73),u(63),Ee(64,"currency"),l()(),c(65,"div",71)(66,"span",72),u(67,"Last Month:"),l(),c(68,"span",73),u(69),Ee(70,"currency"),l()()()()()()),e&2){let r,t,i,a,o,s,d,m,f,_=k().$implicit,v=k(2);g(8),ne(_.name),g(5),ne($e(14,17,_.type)),g(5),jt(_.balance>=0?"positive":"negative"),g(),he(" ",$e(20,19,_.balance)," "),g(2),P("ngIf",_.description),g(),P("ngIf",_.createdAt),g(),P("ngIf",v.isLoanAccount(_)),g(3),P("ngIf",!((r=v.getRecentTransactions(_))!=null&&r.length)),g(),P("ngIf",(t=v.getRecentTransactions(_))==null?null:t.length),g(7),ne(((i=v.getAccountStats(_))==null?null:i.totalTransactions)||0),g(5),ne($e(40,21,(a=v.getAccountStats(_))==null?null:a.totalDeposits)),g(6),ne($e(46,23,(o=v.getAccountStats(_))==null?null:o.totalWithdrawals)),g(6),ne($e(52,25,(s=v.getAccountStats(_))==null?null:s.averageTransaction)),g(6),ne($e(58,27,(d=v.getAccountStats(_))==null?null:d.largestTransaction)),g(6),ne($e(64,29,(m=v.getAccountStats(_))==null?null:m.thisMonth)),g(6),ne($e(70,31,(f=v.getAccountStats(_))==null?null:f.lastMonth))}}function dF(e,n){if(e&1){let r=Ce();c(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",46)(4,"div",47)(5,"mat-icon",48),u(6),l()(),c(7,"div",49)(8,"div",50)(9,"h3",51),u(10),l()(),c(11,"div",52),G(12,eF,5,1,"div",53)(13,tF,3,3,"span",54),l(),c(14,"div",55)(15,"span",56),u(16,"Balance:"),l(),c(17,"span",57),u(18),Ee(19,"currency"),l()()()()(),c(20,"div",58)(21,"mat-menu",null,0)(23,"button",59),H("click",function(){let i=q(r).$implicit,a=k(2);return K(a.editAccount(i))}),c(24,"mat-icon"),u(25,"edit"),l(),u(26," Edit "),l(),c(27,"button",60),H("click",function(){let i=q(r).$implicit,a=k(2);return K(a.deleteAccount(i))}),c(28,"mat-icon"),u(29,"delete"),l(),u(30," Delete "),l()(),c(31,"button",61)(32,"mat-icon"),u(33,"more_vert"),l()()()(),c(34,"div",62)(35,"button",63),H("click",function(){let i=q(r).$implicit,a=k(2);return K(a.toggleAccountExpansion(i))}),c(36,"mat-icon"),u(37),l(),c(38,"span"),u(39),l()()(),G(40,lF,71,33,"div",64),l()}if(e&2){let r=n.$implicit,t=qn(22),i=k(2);jt(i.getBalanceClass(r)),Be("expanded",(i.expandedAccount==null?null:i.expandedAccount.accountId)===r.accountId),g(6),ne(i.getAccountIcon(r.type)),g(4),ne(r.name),g(2),ot(i.isLoanAccount(r)?12:13),g(5),jt(r.balance>=0?"positive":"negative"),g(),he(" ",$e(19,14,r.balance)," "),g(13),P("matMenuTriggerFor",t),g(6),ne((i.expandedAccount==null?null:i.expandedAccount.accountId)===r.accountId?"expand_less":"expand_more"),g(2),ne((i.expandedAccount==null?null:i.expandedAccount.accountId)===r.accountId?"Show Less":"Show More"),g(),P("ngIf",(i.expandedAccount==null?null:i.expandedAccount.accountId)===r.accountId)}}function uF(e,n){if(e&1&&(c(0,"div",41),Li(1,dF,41,16,"div",42,$6),l()),e&2){let r=n.ngIf;g(),Vi(r)}}var yf=(()=>{let n=class n{constructor(t,i,a,o,s,d,m){this.auth=t,this.router=i,this.dialog=a,this.breakpointObserver=o,this.notificationService=s,this.store=d,this.dateService=m,this.accounts$=ht([]),this.accounts=[],this.isLoading=!1,this.errorMessage="",this.isMobile=!1,this.selectedAccount=null,this.expandedAccount=null,this.userId="",this.destroy$=new bt,this.accounts$=this.store.select(uo)||ht([]),this.isLoading$=this.store.select(_f),this.error$=this.store.select(R2),this.totalBalance$=this.store.select(N2)}ngOnInit(){this.initializeComponent(),this.setupMobileDetection()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeComponent(){return ge(this,null,function*(){let t=this.auth.currentUser;if(!t){this.errorMessage="User not authenticated";return}this.userId=t.uid,this.loadUserAccounts()})}loadUserAccounts(){this.store.dispatch(wa({userId:this.userId})),this.accounts$.pipe(It(this.destroy$)).subscribe(t=>{this.accounts=t}),this.isLoading$.pipe(It(this.destroy$)).subscribe(t=>{this.isLoading=t}),this.error$.pipe(It(this.destroy$)).subscribe(t=>{t&&(this.errorMessage="Failed to load accounts",console.error("Error loading accounts:",t))})}clearError(){this.errorMessage=""}trackByAccountId(t,i){return i.accountId}setupMobileDetection(){this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(t=>{this.isMobile=t.matches})}openAccountDialog(t){let i;this.isMobile?i=this.dialog.open(aS,{width:"100vw",height:"100vh",maxWidth:"100vw",panelClass:"full-screen-dialog",data:t||null}):i=this.dialog.open(om,{width:"500px",data:t||null}),i.afterClosed().subscribe(a=>{a&&this.store.dispatch(wa({userId:this.userId}))})}editAccount(t){this.openAccountDialog(t)}deleteAccount(t){return ge(this,null,function*(){this.dialog.open(Ds,{width:"400px",data:{title:"Delete Account",message:`Are you sure you want to delete "${t.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",confirmColor:"warn"}}).afterClosed().subscribe(a=>ge(this,null,function*(){if(a)try{this.store.dispatch(xd({userId:this.userId,accountId:t.accountId})),this.notificationService.success("Account deleted successfully")}catch(o){this.notificationService.error("Failed to delete account"),console.error("Error deleting account:",o)}}))})}addAccount(){this.openAccountDialog()}calculateMonthlyInterest(t){if(t.type!=="loan"||!t.loanDetails)return 0;let{interestRate:i,remainingBalance:a}=t.loanDetails;return i/12/100*a}isLoanAccount(t){return t.type==="loan"&&!!t.loanDetails}getLoanDetails(t){return t.loanDetails}onAccountClick(t){var i;((i=this.selectedAccount)==null?void 0:i.accountId)===t.accountId?this.selectedAccount=null:this.selectedAccount=t}getBalanceClass(t){return t.type==="loan"?"loan-account":t.balance>=0?"positive-balance":"negative-balance"}getAccountIcon(t){switch(t){case"bank":return"account_balance";case"cash":return"payments";case"credit":return"credit_card";case"loan":return"account_balance_wallet";default:return"account_balance"}}toggleAccountExpansion(t){var i;((i=this.expandedAccount)==null?void 0:i.accountId)===t.accountId?this.expandedAccount=null:this.expandedAccount=t}getRecentTransactions(t){return[]}getPositiveAccounts(){return this.accounts.filter(t=>t.balance>0)}getNegativeAccounts(){return this.accounts.filter(t=>t.balance<0)}getTotalPositiveBalance(){return this.getPositiveAccounts().reduce((t,i)=>t+i.balance,0)}getTotalNegativeBalance(){return this.getNegativeAccounts().reduce((t,i)=>t+i.balance,0)}getAccountStats(t){return{totalTransactions:0,totalDeposits:0,totalWithdrawals:0,averageTransaction:0,largestTransaction:0,thisMonth:0,lastMonth:0}}};n.\u0275fac=function(i){return new(i||n)(D(Ut),D(Sn),D(ar),D(Sr),D(At),D(qt),D(Mn))},n.\u0275cmp=Fe({type:n,selectors:[["user-accounts"]],decls:20,vars:18,consts:[["menu","matMenu"],[1,"accounts-container"],["class","error-message mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center justify-between",4,"ngIf"],["mat-fab","","color","primary","class","add-account-btn z-[100]",3,"click",4,"ngIf"],["class","fab-button",4,"ngIf"],[1,"accounts-grid"],[1,"accounts-list"],[1,"section-header"],[1,"header-content"],[1,"section-title"],[1,"section-subtitle"],["class","balance-summary-card",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","accounts-grid-list",4,"ngIf"],[1,"error-message","mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg","flex","items-center","justify-between"],[1,"text-red-700","text-sm"],["mat-icon-button","",1,"error-close-button",3,"click"],["mat-fab","","color","primary",1,"add-account-btn","z-[100]",3,"click"],[1,"fab-button"],["mat-fab","","color","primary",1,"desktop-fab-btn",3,"click"],[1,"balance-summary-card"],[1,"balance-summary-header"],[1,"balance-icon"],[1,"balance-summary-title"],[1,"balance-summary-stats"],[1,"balance-stat-item"],[1,"balance-stat-label"],[1,"balance-stat-value"],[1,"balance-breakdown"],["class","breakdown-item positive",4,"ngIf"],["class","breakdown-item negative",4,"ngIf"],[1,"breakdown-item","positive"],[1,"breakdown-label"],[1,"breakdown-value"],[1,"breakdown-item","negative"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-text"],["mat-raised-button","","color","primary","class","empty-state-button",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",1,"empty-state-button",3,"click"],[1,"accounts-grid-list"],[1,"account-item",3,"class","expanded"],[1,"account-item"],[1,"account-content"],[1,"account-info"],[1,"account-icon-name"],[1,"account-icon-container"],[1,"account-icon"],[1,"account-details"],[1,"account-header"],[1,"account-name"],[1,"account-type-info"],[1,"loan-info"],[1,"account-type"],[1,"account-balance-info"],[1,"balance-label"],[1,"balance-value"],[1,"account-actions"],["mat-menu-item","","matTooltip","Edit account",1,"action-button","edit-button",3,"click"],["mat-menu-item","","matTooltip","Delete account",1,"action-button","delete-button",3,"click"],["matIconButton","",3,"matMenuTriggerFor"],[1,"expand-section"],["mat-button","",1,"expand-btn",3,"click"],["class","account-details-expanded",4,"ngIf"],[1,"loan-label"],[1,"loan-value"],[1,"account-details-expanded"],[1,"details-tabs"],["label","Basic Details"],[1,"tab-content"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],["class","detail-row",4,"ngIf"],["label","Loan Details",4,"ngIf"],["label","Recent Transactions"],["class","no-transactions",4,"ngIf"],["class","transaction-list",4,"ngIf"],["label","Statistics"],[1,"detail-value","positive"],[1,"detail-value","negative"],["label","Loan Details"],[1,"detail-value","interest-amount"],[1,"no-transactions"],[1,"transaction-list"],["class","transaction-item",4,"ngFor","ngForOf"],[1,"transaction-item"],[1,"transaction-info"],[1,"transaction-description"],[1,"transaction-date"],[1,"transaction-amount"]],template:function(i,a){if(i&1&&(c(0,"div",1),G(1,W6,6,1,"div",2)(2,Y6,3,0,"button",3)(3,q6,4,0,"div",4),c(4,"div",5)(5,"section",6)(6,"div",7)(7,"div",8)(8,"h2",9),u(9,"Manage Accounts"),l(),c(10,"p",10),u(11),Ee(12,"async"),Ee(13,"async"),l()()(),G(14,X6,18,11,"div",11),Ee(15,"async"),G(16,J6,9,1,"div",12),Ee(17,"async"),G(18,uF,3,0,"div",13),Ee(19,"async"),l()()()),i&2){let o,s,d;g(),P("ngIf",a.errorMessage),g(),P("ngIf",a.isMobile),g(),P("ngIf",!a.isMobile),g(8),xi("(",((o=$e(12,8,a.accounts$))==null?null:o.length)||0," account",(((o=$e(13,10,a.accounts$))==null?null:o.length)||0)!==1?"s":"",")"),g(3),P("ngIf",((s=(s=$e(15,12,a.accounts$))==null?null:s.length)!==null&&s!==void 0?s:0)>0),g(2),P("ngIf",((d=$e(17,14,a.accounts$))==null?null:d.length)===0),g(2),P("ngIf",$e(19,16,a.accounts$))}},dependencies:[an,Tt,zt,Cn,wn,gc,vl,Zd,bc,vc,yc,ni,md,Ko,zi,Ro],styles:["@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.accounts-container[_ngcontent-%COMP%]{padding:1rem;background:inherit;overflow:auto}@media (max-width: 640px){.accounts-container[_ngcontent-%COMP%]{padding:.5rem}}.error-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease}.error-message[_ngcontent-%COMP%]   .error-close-button[_ngcontent-%COMP%]{color:#dc2626;min-width:44px;min-height:44px}.add-account-btn[_ngcontent-%COMP%]{position:fixed;bottom:8rem;right:1rem;z-index:100;box-shadow:0 4px 12px #00000026;transition:all .2s ease}.add-account-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 16px #0003}.fab-button[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;z-index:100}.fab-button[_ngcontent-%COMP%]   .desktop-fab-btn[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026;transition:all .2s ease}.fab-button[_ngcontent-%COMP%]   .desktop-fab-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 16px #0003}.accounts-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;max-width:1200px;margin:0 auto;transition:opacity .3s ease}.accounts-grid.loading[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}@media (min-width: 768px){.accounts-grid[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:3rem}}@media (max-width: 640px){.accounts-grid[_ngcontent-%COMP%]{gap:1.5rem}}.accounts-list[_ngcontent-%COMP%]{width:100%}.accounts-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;position:relative}.accounts-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;flex:1}.accounts-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:clamp(1.25rem,3vw,2rem);font-weight:600;color:#1f2937;margin:0 0 .25rem;height:35px}.accounts-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:clamp(.75rem,2vw,1rem);margin:0}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;border:1px solid #e5e7eb;margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-header[_ngcontent-%COMP%]   .balance-icon[_ngcontent-%COMP%]{color:#3b82f6;font-size:1.5rem;width:1.5rem;height:1.5rem}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-header[_ngcontent-%COMP%]   .balance-summary-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-stats[_ngcontent-%COMP%]{margin-bottom:1rem}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-stats[_ngcontent-%COMP%]   .balance-stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-stats[_ngcontent-%COMP%]   .balance-stat-item[_ngcontent-%COMP%]   .balance-stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-stats[_ngcontent-%COMP%]   .balance-stat-item[_ngcontent-%COMP%]   .balance-stat-value[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-stats[_ngcontent-%COMP%]   .balance-stat-item[_ngcontent-%COMP%]   .balance-stat-value.positive[_ngcontent-%COMP%]{color:#10b981}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-summary-stats[_ngcontent-%COMP%]   .balance-stat-item[_ngcontent-%COMP%]   .balance-stat-value.negative[_ngcontent-%COMP%]{color:#ef4444}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;border-radius:6px;font-size:.875rem}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.positive[_ngcontent-%COMP%]{background:#f0fdf4;color:#166534}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.positive[_ngcontent-%COMP%]   .breakdown-label[_ngcontent-%COMP%]{font-weight:500}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.positive[_ngcontent-%COMP%]   .breakdown-value[_ngcontent-%COMP%]{font-weight:600}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.negative[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.negative[_ngcontent-%COMP%]   .breakdown-label[_ngcontent-%COMP%]{font-weight:500}.accounts-list[_ngcontent-%COMP%]   .balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]   .breakdown-item.negative[_ngcontent-%COMP%]   .breakdown-value[_ngcontent-%COMP%]{font-weight:600}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;background:#fff;border-radius:12px;border:2px dashed #d1d5db}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{margin-bottom:1rem}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:clamp(2.5rem,6vw,4rem);width:clamp(2.5rem,6vw,4rem);height:clamp(2.5rem,6vw,4rem);color:#9ca3af}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.5rem);font-weight:500;color:#374151;margin:0 0 .5rem}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{color:#6b7280;font-size:clamp(.75rem,2vw,1rem);margin:0 0 1.5rem}.accounts-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-state-button[_ngcontent-%COMP%]{min-height:44px;padding:.75rem 1.5rem;display:inline-flex;align-items:center;gap:.5rem}.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;max-height:60vh;overflow-y:auto;scrollbar-width:thin;scrollbar-color:#cbd5e1 #f1f5f9}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]{max-height:50vh;gap:.75rem;max-height:60vh}}.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.accounts-list[_ngcontent-%COMP%]   .accounts-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]{width:100%;max-width:48%;background:#fff;border-radius:12px;padding:1.25rem;border:1px solid #e5e7eb;cursor:pointer;transition:all .2s ease;border-left:4px solid transparent}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;max-width:100%}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a;border-color:#d1d5db}.accounts-list[_ngcontent-%COMP%]   .account-item.positive-balance[_ngcontent-%COMP%]{border-left-color:#10b981}.accounts-list[_ngcontent-%COMP%]   .account-item.negative-balance[_ngcontent-%COMP%]{border-left-color:#ef4444}.accounts-list[_ngcontent-%COMP%]   .account-item.loan-account[_ngcontent-%COMP%]{border-left-color:#f59e0b}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;position:relative}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-content[_ngcontent-%COMP%]{gap:.75rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]{padding:0 10px 10px;flex:1}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]{gap:.5rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-icon-container[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0;background:#f3f4f6}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-icon-container[_ngcontent-%COMP%]{width:2rem;height:2rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-icon-container[_ngcontent-%COMP%]   .account-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem;color:#6b7280}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:.5rem}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]{gap:.375rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-header[_ngcontent-%COMP%]{gap:.125rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-header[_ngcontent-%COMP%]   .account-name[_ngcontent-%COMP%]{padding-top:8px;font-size:clamp(1rem,2.5vw,1.25rem);font-weight:600;color:#1f2937;margin:0;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:80%}@media (max-width: 640px){.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-header[_ngcontent-%COMP%]   .account-name[_ngcontent-%COMP%]{font-size:1rem}}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-type-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-type-info[_ngcontent-%COMP%]   .account-type[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-type-info[_ngcontent-%COMP%]   .loan-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;flex-wrap:wrap}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-type-info[_ngcontent-%COMP%]   .loan-info[_ngcontent-%COMP%]   .loan-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-type-info[_ngcontent-%COMP%]   .loan-info[_ngcontent-%COMP%]   .loan-value[_ngcontent-%COMP%]{font-size:.75rem;color:#dc2626;font-weight:600}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-balance-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;flex-wrap:wrap}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-balance-info[_ngcontent-%COMP%]   .balance-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-balance-info[_ngcontent-%COMP%]   .balance-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-balance-info[_ngcontent-%COMP%]   .balance-value.positive[_ngcontent-%COMP%]{color:#10b981}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   .account-icon-name[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .account-balance-info[_ngcontent-%COMP%]   .balance-value.negative[_ngcontent-%COMP%]{color:#ef4444}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]{color:#3b82f6}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3b82f6}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]{color:#dc2626}.accounts-list[_ngcontent-%COMP%]   .account-item[_ngcontent-%COMP%]   .account-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#dc2626}.expand-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:8px 0;border-top:1px solid #e5e7eb}.expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover{color:#374151;background:#f3f4f6}.account-details-expanded[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;background:#f9fafb;animation:_ngcontent-%COMP%_slideDown .3s ease}.account-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-header{background:#fff;border-bottom:1px solid #e5e7eb}.account-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label{color:#6b7280;font-weight:500}.account-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label.mat-mdc-tab-label-active{color:#3b82f6}.account-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-ink-bar{background-color:#3b82f6}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:16px;background:#fff;min-height:200px}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f3f4f6}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-weight:500;color:#6b7280;font-size:.875rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-weight:600;color:#111827;font-size:.875rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.positive[_ngcontent-%COMP%]{color:#10b981}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.negative[_ngcontent-%COMP%]{color:#ef4444}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value.interest-amount[_ngcontent-%COMP%]{color:#dc2626;font-weight:700}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]{text-align:center;padding:32px 16px;color:#6b7280}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;margin-bottom:8px;opacity:.5}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:#f9fafb;border-radius:6px;transition:background .2s ease}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background:#f3f4f6}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-description[_ngcontent-%COMP%]{font-weight:500;color:#111827;font-size:.875rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.positive[_ngcontent-%COMP%]{color:#10b981}.account-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .transaction-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.negative[_ngcontent-%COMP%]{color:#ef4444}@media (max-width: 768px){.accounts-container[_ngcontent-%COMP%]{padding:.5rem}.accounts-grid[_ngcontent-%COMP%]{gap:1rem}.balance-summary-card[_ngcontent-%COMP%]{padding:1rem}.balance-summary-card[_ngcontent-%COMP%]   .balance-breakdown[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}@media (max-width: 480px){.accounts-container[_ngcontent-%COMP%]{padding:.25rem}.balance-summary-card[_ngcontent-%COMP%]{padding:.75rem}.balance-summary-card[_ngcontent-%COMP%]   .balance-summary-header[_ngcontent-%COMP%]   .balance-summary-title[_ngcontent-%COMP%]{font-size:1rem}.account-item[_ngcontent-%COMP%]{padding:.75rem}.account-item[_ngcontent-%COMP%]   .account-content[_ngcontent-%COMP%]{gap:.5rem}.account-item[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]{padding:0 5px 5px}}"]});let e=n;return e})();var hF=["mat-calendar-body",""];function pF(e,n){return this._trackRow(n)}var bS=(e,n)=>n.id;function fF(e,n){if(e&1&&(c(0,"tr",0)(1,"td",3),u(2),l()()),e&2){let r=k();g(),Yt("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),Gt("colspan",r.numCols),g(),he(" ",r.label," ")}}function gF(e,n){if(e&1&&(c(0,"td",3),u(1),l()),e&2){let r=k(2);Yt("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),Gt("colspan",r._firstRowOffset),g(),he(" ",r._firstRowOffset>=r.labelMinRequiredCells?r.label:""," ")}}function _F(e,n){if(e&1){let r=Ce();c(0,"td",6)(1,"button",7),H("click",function(i){let a=q(r).$implicit,o=k(2);return K(o._cellClicked(a,i))})("focus",function(i){let a=q(r).$implicit,o=k(2);return K(o._emitActiveDateChange(a,i))}),c(2,"span",8),u(3),l(),de(4,"span",9),l()()}if(e&2){let r=n.$implicit,t=n.$index,i=k().$index,a=k();Yt("width",a._cellWidth)("padding-top",a._cellPadding)("padding-bottom",a._cellPadding),Gt("data-mat-row",i)("data-mat-col",t),g(),Be("mat-calendar-body-disabled",!r.enabled)("mat-calendar-body-active",a._isActiveCell(i,t))("mat-calendar-body-range-start",a._isRangeStart(r.compareValue))("mat-calendar-body-range-end",a._isRangeEnd(r.compareValue))("mat-calendar-body-in-range",a._isInRange(r.compareValue))("mat-calendar-body-comparison-bridge-start",a._isComparisonBridgeStart(r.compareValue,i,t))("mat-calendar-body-comparison-bridge-end",a._isComparisonBridgeEnd(r.compareValue,i,t))("mat-calendar-body-comparison-start",a._isComparisonStart(r.compareValue))("mat-calendar-body-comparison-end",a._isComparisonEnd(r.compareValue))("mat-calendar-body-in-comparison-range",a._isInComparisonRange(r.compareValue))("mat-calendar-body-preview-start",a._isPreviewStart(r.compareValue))("mat-calendar-body-preview-end",a._isPreviewEnd(r.compareValue))("mat-calendar-body-in-preview",a._isInPreview(r.compareValue)),P("ngClass",r.cssClasses)("tabindex",a._isActiveCell(i,t)?0:-1),Gt("aria-label",r.ariaLabel)("aria-disabled",!r.enabled||null)("aria-pressed",a._isSelected(r.compareValue))("aria-current",a.todayValue===r.compareValue?"date":null)("aria-describedby",a._getDescribedby(r.compareValue)),g(),Be("mat-calendar-body-selected",a._isSelected(r.compareValue))("mat-calendar-body-comparison-identical",a._isComparisonIdentical(r.compareValue))("mat-calendar-body-today",a.todayValue===r.compareValue),g(),he(" ",r.displayValue," ")}}function xF(e,n){if(e&1&&(c(0,"tr",1),G(1,gF,2,6,"td",4),Li(2,_F,5,48,"td",5,bS),l()),e&2){let r=n.$implicit,t=n.$index,i=k();g(),ot(t===0&&i._firstRowOffset?1:-1),g(),Vi(r)}}function vF(e,n){if(e&1&&(c(0,"th",2)(1,"span",6),u(2),l(),c(3,"span",3),u(4),l()()),e&2){let r=n.$implicit;g(2),ne(r.long),g(2),ne(r.narrow)}}var bF=["*"];function yF(e,n){}function CF(e,n){if(e&1){let r=Ce();c(0,"mat-month-view",4),kt("activeDateChange",function(i){q(r);let a=k();return Mt(a.activeDate,i)||(a.activeDate=i),K(i)}),H("_userSelection",function(i){q(r);let a=k();return K(a._dateSelected(i))})("dragStarted",function(i){q(r);let a=k();return K(a._dragStarted(i))})("dragEnded",function(i){q(r);let a=k();return K(a._dragEnded(i))}),l()}if(e&2){let r=k();St("activeDate",r.activeDate),P("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName)("activeDrag",r._activeDrag)}}function wF(e,n){if(e&1){let r=Ce();c(0,"mat-year-view",5),kt("activeDateChange",function(i){q(r);let a=k();return Mt(a.activeDate,i)||(a.activeDate=i),K(i)}),H("monthSelected",function(i){q(r);let a=k();return K(a._monthSelectedInYearView(i))})("selectedChange",function(i){q(r);let a=k();return K(a._goToDateInView(i,"month"))}),l()}if(e&2){let r=k();St("activeDate",r.activeDate),P("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function SF(e,n){if(e&1){let r=Ce();c(0,"mat-multi-year-view",6),kt("activeDateChange",function(i){q(r);let a=k();return Mt(a.activeDate,i)||(a.activeDate=i),K(i)}),H("yearSelected",function(i){q(r);let a=k();return K(a._yearSelectedInMultiYearView(i))})("selectedChange",function(i){q(r);let a=k();return K(a._goToDateInView(i,"year"))}),l()}if(e&2){let r=k();St("activeDate",r.activeDate),P("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function MF(e,n){}var kF=["button"],PF=[[["","matDatepickerToggleIcon",""]]],EF=["[matDatepickerToggleIcon]"];function TF(e,n){e&1&&(si(),c(0,"svg",2),de(1,"path",3),l())}var xm=(()=>{let n=class n{constructor(){this.changes=new bt,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(t,i){return`${t} \u2013 ${i}`}formatYearRangeLabel(t,i){return`${t} to ${i}`}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})(),OF=0,hm=class{constructor(n,r,t,i,a={},o=n,s){this.value=n,this.displayValue=r,this.ariaLabel=t,this.enabled=i,this.cssClasses=a,this.compareValue=o,this.rawValue=s,this.id=OF++}},IF=1,hS=kd({passive:!1,capture:!0}),Dc=kd({passive:!0,capture:!0}),Cf=kd({passive:!0}),nu=(()=>{let n=class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(t,i){this._elementRef=t,this._ngZone=i,this._platform=cn(Fa),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new He,this.previewChange=new He,this.activeDateChange=new He,this.dragStarted=new He,this.dragEnded=new He,this._didDragSinceMouseDown=!1,this._injector=cn($r),this._trackRow=a=>a,this._enterHandler=a=>{if(this._skipNextFocus&&a.type==="focus"){this._skipNextFocus=!1;return}if(a.target&&this.isRange){let o=this._getCellFromElement(a.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:a}))}},this._touchmoveHandler=a=>{if(!this.isRange)return;let o=pS(a),s=o?this._getCellFromElement(o):null;o!==a.target&&(this._didDragSinceMouseDown=!0),A1(a.target)&&a.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:s!=null&&s.enabled?s:null,event:a}))},this._leaveHandler=a=>{this.previewEnd!==null&&this.isRange&&(a.type!=="blur"&&(this._didDragSinceMouseDown=!0),a.target&&this._getCellFromElement(a.target)&&!(a.relatedTarget&&this._getCellFromElement(a.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:a})))},this._mousedownHandler=a=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let o=a.target&&this._getCellFromElement(a.target);!o||!this._isInRange(o.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:o.rawValue,event:a})})},this._mouseupHandler=a=>{if(!this.isRange)return;let o=A1(a.target);if(!o){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:a})});return}o.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{var d;let s=this._getCellFromElement(o);this.dragEnded.emit({value:(d=s==null?void 0:s.rawValue)!=null?d:null,event:a})})},this._touchendHandler=a=>{let o=pS(a);o&&this._mouseupHandler({target:o})},this._id=`mat-calendar-body-${IF++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{let a=t.nativeElement;a.addEventListener("touchmove",this._touchmoveHandler,hS),a.addEventListener("mouseenter",this._enterHandler,Dc),a.addEventListener("focus",this._enterHandler,Dc),a.addEventListener("mouseleave",this._leaveHandler,Dc),a.addEventListener("blur",this._leaveHandler,Dc),a.addEventListener("mousedown",this._mousedownHandler,Cf),a.addEventListener("touchstart",this._mousedownHandler,Cf),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(t,i){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}_emitActiveDateChange(t,i){t.enabled&&this.activeDateChange.emit({value:t.value,event:i})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){let i=t.numCols,{rows:a,numCols:o}=this;(t.rows||i)&&(this._firstRowOffset=a&&a.length&&a[0].length?o-a[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/o}%`),(i||!this._cellWidth)&&(this._cellWidth=`${100/o}%`)}ngOnDestroy(){let t=this._elementRef.nativeElement;t.removeEventListener("touchmove",this._touchmoveHandler,hS),t.removeEventListener("mouseenter",this._enterHandler,Dc),t.removeEventListener("focus",this._enterHandler,Dc),t.removeEventListener("mouseleave",this._leaveHandler,Dc),t.removeEventListener("blur",this._leaveHandler,Dc),t.removeEventListener("mousedown",this._mousedownHandler,Cf),t.removeEventListener("touchstart",this._mousedownHandler,Cf),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(t,i){let a=t*this.numCols+i;return t&&(a-=this._firstRowOffset),a==this.activeCell}_focusActiveCell(t=!0){Io(()=>{setTimeout(()=>{let i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(t||(this._skipNextFocus=!0),i.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(t){return D1(t,this.startValue,this.endValue)}_isRangeEnd(t){return F1(t,this.startValue,this.endValue)}_isInRange(t){return R1(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return D1(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,i,a){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let o=this.rows[i][a-1];if(!o){let s=this.rows[i-1];o=s&&s[s.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(t,i,a){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let o=this.rows[i][a+1];if(!o){let s=this.rows[i+1];o=s&&s[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(t){return F1(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return R1(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return D1(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return F1(t,this.previewStart,this.previewEnd)}_isInPreview(t){return R1(t,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(t){return this.isRange?this.startValue===t&&this.endValue===t?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===t?this._startDateLabelId:this.endValue===t?this._endDateLabelId:null:null}_getCellFromElement(t){let i=A1(t);if(i){let a=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(a&&o)return this.rows[parseInt(a)][parseInt(o)]}return null}};n.\u0275fac=function(i){return new(i||n)(D(tn),D(An))},n.\u0275cmp=Fe({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[ti,rn],attrs:hF,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,a){i&1&&(G(0,fF,3,6,"tr",0),Li(1,xF,4,1,"tr",1,pF,!0),c(3,"span",2),u(4),l(),c(5,"span",2),u(6),l()),i&2&&(ot(a._firstRowOffset<a.labelMinRequiredCells?0:-1),g(),Vi(a.rows),g(2),P("id",a._startDateLabelId),g(),he(" ",a.startDateAccessibleName,`
`),g(),P("id",a._endDateLabelId),g(),he(" ",a.endDateAccessibleName,`
`))},dependencies:[qo],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0});let e=n;return e})();function I1(e){return(e==null?void 0:e.nodeName)==="TD"}function A1(e){var r;let n;return I1(e)?n=e:I1(e.parentNode)?n=e.parentNode:I1((r=e.parentNode)==null?void 0:r.parentNode)&&(n=e.parentNode.parentNode),(n==null?void 0:n.getAttribute("data-mat-row"))!=null?n:null}function D1(e,n,r){return r!==null&&n!==r&&e<r&&e===n}function F1(e,n,r){return n!==null&&n!==r&&e>=n&&e===r}function R1(e,n,r,t){return t&&n!==null&&r!==null&&n!==r&&e>=n&&e<=r}function pS(e){let n=e.changedTouches[0];return document.elementFromPoint(n.clientX,n.clientY)}var po=class{constructor(n,r){this.start=n,this.end=r}},pm=(()=>{let n=class n{constructor(t,i){this.selection=t,this._adapter=i,this._selectionChanged=new bt,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,i){let a=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:a})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}};n.\u0275fac=function(i){X0()},n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})(),AF=(()=>{let n=class n extends pm{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let t=new n(this._adapter);return t.updateSelection(this.selection,this),t}};n.\u0275fac=function(i){return new(i||n)(Ne(Na))},n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})();function DF(e,n){return e||new AF(n)}var yS={provide:pm,deps:[[new al,new Y0,pm],Na],useFactory:DF};var CS=new Ft("MAT_DATE_RANGE_SELECTION_STRATEGY");var N1=7,FF=0,fS=(()=>{let n=class n{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){t instanceof po?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,a,o,s){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=a,this._dir=o,this._rangeStrategy=s,this._rerenderSubscription=fn.EMPTY,this.activeDrag=null,this.selectedChange=new He,this._userSelection=new He,this.dragStarted=new He,this.dragEnded=new He,this.activeDateChange=new He,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ua(null)).subscribe(()=>this._init())}ngOnChanges(t){let i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){let i=t.value,a=this._getDateFromDayOfMonth(i),o,s;this._selected instanceof po?(o=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):o=s=this._getDateInCurrentMonth(this._selected),(o!==i||s!==i)&&this.selectedChange.emit(a),this._userSelection.emit({value:a,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(t){let i=t.value,a=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(i),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(t){let i=this._activeDate,a=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&t.preventDefault();return;case 27:this._previewEnd!=null&&!Ra(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation());return;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===32||t.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(N1+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%N1,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:t,value:i}){var a,o;if(this._rangeStrategy){let s=i?i.rawValue:null,d=this._rangeStrategy.createPreview(s,this.selected,t);if(this._previewStart=this._getCellCompareValue(d.start),this._previewEnd=this._getCellCompareValue(d.end),this.activeDrag&&s){let m=(o=(a=this._rangeStrategy).createDrag)==null?void 0:o.call(a,this.activeDrag.value,this.selected,s,t);m&&(this._previewStart=this._getCellCompareValue(m.start),this._previewEnd=this._getCellCompareValue(m.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(t){var i,a;if(this.activeDrag)if(t.value){let o=(a=(i=this._rangeStrategy)==null?void 0:i.createDrag)==null?void 0:a.call(i,this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:o!=null?o:null,event:t.event})}else this.dragEnded.emit({value:null,event:t.event})}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t)}_initWeekdays(){let t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow"),o=this._dateAdapter.getDayOfWeekNames("long").map((s,d)=>({long:s,narrow:i[d],id:FF++}));this._weekdays=o.slice(t).concat(o.slice(0,t))}_createWeekCells(){let t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let a=0,o=this._firstWeekOffset;a<t;a++,o++){o==N1&&(this._weeks.push([]),o=0);let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),a+1),d=this._shouldEnableDate(s),m=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),f=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new hm(a+1,i[a],m,d,f,this._getCellCompareValue(s),s))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,i){return!!(t&&i&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i)&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i))}_getCellCompareValue(t){if(t){let i=this._dateAdapter.getYear(t),a=this._dateAdapter.getMonth(t),o=this._dateAdapter.getDate(t);return new Date(i,a,o).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(t){t instanceof po?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}_clearPreview(){this._previewStart=this._previewEnd=null}};n.\u0275fac=function(i){return new(i||n)(D(gn),D(cl,8),D(Na,8),D(pa,8),D(CS,8))},n.\u0275cmp=Fe({type:n,selectors:[["mat-month-view"]],viewQuery:function(i,a){if(i&1&&Zt(nu,5),i&2){let o;gt(o=_t())&&(a._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[ti,rn],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(i,a){i&1&&(c(0,"table",0)(1,"thead",1)(2,"tr"),Li(3,vF,5,2,"th",2,bS),l(),c(5,"tr",3),de(6,"th",4),l()(),c(7,"tbody",5),H("selectedValueChange",function(s){return a._dateSelected(s)})("activeDateChange",function(s){return a._updateActiveDate(s)})("previewChange",function(s){return a._previewChanged(s)})("dragStarted",function(s){return a.dragStarted.emit(s)})("dragEnded",function(s){return a._dragEnded(s)})("keyup",function(s){return a._handleCalendarBodyKeyup(s)})("keydown",function(s){return a._handleCalendarBodyKeydown(s)}),l()()),i&2&&(g(3),Vi(a._weekdays),g(4),P("label",a._monthLabel)("rows",a._weeks)("todayValue",a._todayDate)("startValue",a._rangeStart)("endValue",a._rangeEnd)("comparisonStart",a._comparisonRangeStart)("comparisonEnd",a._comparisonRangeEnd)("previewStart",a._previewStart)("previewEnd",a._previewEnd)("isRange",a._isRange)("labelMinRequiredCells",3)("activeCell",a._dateAdapter.getDate(a.activeDate)-1)("startDateAccessibleName",a.startDateAccessibleName)("endDateAccessibleName",a.endDateAccessibleName))},dependencies:[nu],encapsulation:2,changeDetection:0});let e=n;return e})(),Va=24,L1=4,gS=(()=>{let n=class n{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),wS(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){t instanceof po?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,a){this._changeDetectorRef=t,this._dateAdapter=i,this._dir=a,this._rerenderSubscription=fn.EMPTY,this.selectedChange=new He,this.yearSelected=new He,this.activeDateChange=new He,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ua(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let i=this._dateAdapter.getYear(this._activeDate)-mm(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let a=0,o=[];a<Va;a++)o.push(i+a),o.length==L1&&(this._years.push(o.map(s=>this._createCellForYear(s))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){let i=t.value,a=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(a),this.selectedChange.emit(o)}_updateActiveDate(t){let i=t.value,a=this._activeDate;this.activeDate=this._getDateFromYear(i),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){let i=this._activeDate,a=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-L1);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,L1);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-mm(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Va-mm(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-Va*10:-Va);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?Va*10:Va);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===32||t.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return mm(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(t){let i=this._dateAdapter.getMonth(this.activeDate),a=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,i,1));return this._dateAdapter.createDate(t,i,Math.min(this._dateAdapter.getDate(this.activeDate),a))}_createCellForYear(t){let i=this._dateAdapter.createDate(t,0,1),a=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new hm(t,a,a,this._shouldEnableYear(t),o)}_shouldEnableYear(t){if(t==null||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(t,0,1);for(let a=i;this._dateAdapter.getYear(a)==t;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(t){if(this._selectedYear=null,t instanceof po){let i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}};n.\u0275fac=function(i){return new(i||n)(D(gn),D(Na,8),D(pa,8))},n.\u0275cmp=Fe({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(i,a){if(i&1&&Zt(nu,5),i&2){let o;gt(o=_t())&&(a._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[rn],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(i,a){i&1&&(c(0,"table",0)(1,"thead",1)(2,"tr"),de(3,"th",2),l()(),c(4,"tbody",3),H("selectedValueChange",function(s){return a._yearSelected(s)})("activeDateChange",function(s){return a._updateActiveDate(s)})("keyup",function(s){return a._handleCalendarBodyKeyup(s)})("keydown",function(s){return a._handleCalendarBodyKeydown(s)}),l()()),i&2&&(g(4),P("rows",a._years)("todayValue",a._todayYear)("startValue",a._selectedYear)("endValue",a._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",a._getActiveCell()))},dependencies:[nu],encapsulation:2,changeDetection:0});let e=n;return e})();function wS(e,n,r,t,i){let a=e.getYear(n),o=e.getYear(r),s=SS(e,t,i);return Math.floor((a-s)/Va)===Math.floor((o-s)/Va)}function mm(e,n,r,t){let i=e.getYear(n);return RF(i-SS(e,r,t),Va)}function SS(e,n,r){let t=0;return r?t=e.getYear(r)-Va+1:n&&(t=e.getYear(n)),t}function RF(e,n){return(e%n+n)%n}var _S=(()=>{let n=class n{get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){t instanceof po?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}constructor(t,i,a,o){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=a,this._dir=o,this._rerenderSubscription=fn.EMPTY,this.selectedChange=new He,this.monthSelected=new He,this.activeDateChange=new He,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ua(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){let i=t.value,a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(a);let o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(t){let i=t.value,a=this._activeDate;this.activeDate=this._getDateFromMonth(i),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(t){let i=this._activeDate,a=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===32||t.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(a=>this._createCellForMonth(a,t[a]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_getDateFromMonth(t){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),a=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),a))}_createCellForMonth(t,i){let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),o=this._dateAdapter.format(a,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(a,"year"):void 0;return new hm(t,i.toLocaleUpperCase(),o,this._shouldEnableMonth(t),s)}_shouldEnableMonth(t){let i=this._dateAdapter.getYear(this.activeDate);if(t==null||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;let a=this._dateAdapter.createDate(i,t,1);for(let o=a;this._dateAdapter.getMonth(o)==t;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(t,i){if(this.maxDate){let a=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return t>a||t===a&&i>o}return!1}_isYearAndMonthBeforeMinDate(t,i){if(this.minDate){let a=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return t<a||t===a&&i<o}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(t){t instanceof po?this._selectedMonth=this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._selectedMonth=this._getMonthInCurrentYear(t)}};n.\u0275fac=function(i){return new(i||n)(D(gn),D(cl,8),D(Na,8),D(pa,8))},n.\u0275cmp=Fe({type:n,selectors:[["mat-year-view"]],viewQuery:function(i,a){if(i&1&&Zt(nu,5),i&2){let o;gt(o=_t())&&(a._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[rn],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(i,a){i&1&&(c(0,"table",0)(1,"thead",1)(2,"tr"),de(3,"th",2),l()(),c(4,"tbody",3),H("selectedValueChange",function(s){return a._monthSelected(s)})("activeDateChange",function(s){return a._updateActiveDate(s)})("keyup",function(s){return a._handleCalendarBodyKeyup(s)})("keydown",function(s){return a._handleCalendarBodyKeydown(s)}),l()()),i&2&&(g(4),P("label",a._yearLabel)("rows",a._months)("todayValue",a._todayMonth)("startValue",a._selectedMonth)("endValue",a._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",a._dateAdapter.getMonth(a.activeDate)))},dependencies:[nu],encapsulation:2,changeDetection:0});let e=n;return e})(),NF=1,MS=(()=>{let n=class n{constructor(t,i,a,o,s){this._intl=t,this.calendar=i,this._dateAdapter=a,this._dateFormats=o,this._id=`mat-calendar-header-${NF++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Va)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Va)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,i){return this.calendar.currentView=="month"?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):this.calendar.currentView=="year"?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):wS(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let i=this._dateAdapter.getYear(this.calendar.activeDate)-mm(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),a=i+Va-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(a,0,1));return[o,s]}};n.\u0275fac=function(i){return new(i||n)(D(xm),D(Da(()=>fm)),D(Na,8),D(cl,8),D(gn))},n.\u0275cmp=Fe({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[rn],ngContentSelectors:bF,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(i,a){i&1&&(_i(),c(0,"div",0)(1,"div",1)(2,"span",2),u(3),l(),c(4,"button",3),H("click",function(){return a.currentPeriodClicked()}),c(5,"span",4),u(6),l(),si(),c(7,"svg",5),de(8,"polygon",6),l()(),Gr(),de(9,"div",7),yn(10),c(11,"button",8),H("click",function(){return a.previousClicked()}),si(),c(12,"svg",9),de(13,"path",10),l()(),Gr(),c(14,"button",11),H("click",function(){return a.nextClicked()}),si(),c(15,"svg",9),de(16,"path",12),l()()()()),i&2&&(g(2),P("id",a._periodButtonLabelId),g(),ne(a.periodButtonDescription),g(),Gt("aria-label",a.periodButtonLabel)("aria-describedby",a._periodButtonLabelId),g(2),ne(a.periodButtonText),g(),Be("mat-calendar-invert",a.calendar.currentView!=="month"),g(4),P("disabled",!a.previousEnabled()),Gt("aria-label",a.prevButtonLabel),g(3),P("disabled",!a.nextEnabled()),Gt("aria-label",a.nextButtonLabel))},dependencies:[Cn,wn],encapsulation:2,changeDetection:0});let e=n;return e})(),fm=(()=>{let n=class n{get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){t instanceof po?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){let i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(t,i,a,o){this._dateAdapter=i,this._dateFormats=a,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new He,this.yearSelected=new He,this.monthSelected=new He,this.viewChanged=new He(!0),this._userSelection=new He,this._userDragDrop=new He,this._activeDrag=null,this.stateChanges=new bt,this._intlChanges=t.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new I_(this.headerComponent||MS),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){let i=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,a=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,o=i||a||t.dateFilter;if(o&&!o.firstChange){let s=this._getCurrentViewComponent();s&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){let i=t.value;(this.selected instanceof po||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,i){this.activeDate=t,this.currentView=i}_dragStarted(t){this._activeDrag=t}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}};n.\u0275fac=function(i){return new(i||n)(D(xm),D(Na,8),D(cl,8),D(gn))},n.\u0275cmp=Fe({type:n,selectors:[["mat-calendar"]],viewQuery:function(i,a){if(i&1&&(Zt(fS,5),Zt(_S,5),Zt(gS,5)),i&2){let o;gt(o=_t())&&(a.monthView=o.first),gt(o=_t())&&(a.yearView=o.first),gt(o=_t())&&(a.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[Dn([yS]),ti,rn],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(i,a){if(i&1&&(G(0,yF,0,0,"ng-template",0),c(1,"div",1),G(2,CF,1,11,"mat-month-view",2)(3,wF,1,6,"mat-year-view",3)(4,SF,1,6,"mat-multi-year-view",3),l()),i&2){let o;P("cdkPortalOutlet",a._calendarHeaderPortal),g(2),ot((o=a.currentView)==="month"?2:o==="year"?3:o==="multi-year"?4:-1)}},dependencies:[As,Hh,fS,_S,gS],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let e=n;return e})(),xS={transformPanel:$i("transformPanel",[Hn("void => enter-dropdown",Qn("120ms cubic-bezier(0, 0, 0.2, 1)",_c([Nt({opacity:0,transform:"scale(1, 0.8)"}),Nt({opacity:1,transform:"scale(1, 1)"})]))),Hn("void => enter-dialog",Qn("150ms cubic-bezier(0, 0, 0.2, 1)",_c([Nt({opacity:0,transform:"scale(0.7)"}),Nt({transform:"none",opacity:1})]))),Hn("* => void",Qn("100ms linear",Nt({opacity:0})))]),fadeInCalendar:$i("fadeInCalendar",[Fn("void",Nt({opacity:0})),Fn("enter",Nt({opacity:1})),Hn("void => *",Qn("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},LF=0,kS=new Ft("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let e=cn(xc);return()=>e.scrollStrategies.reposition()}});function VF(e){return()=>e.scrollStrategies.reposition()}var BF={provide:kS,deps:[xc],useFactory:VF},PS=(()=>{let n=class n{constructor(t,i,a,o,s,d){this._elementRef=t,this._changeDetectorRef=i,this._globalModel=a,this._dateAdapter=o,this._rangeSelectionStrategy=s,this._subscriptions=new fn,this._animationDone=new bt,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){let i=this._model.selection,a=t.value,o=i instanceof po;if(o&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(a,i,t.event);this._model.updateSelection(s,this)}else a&&(o||!this._dateAdapter.sameDate(a,i))&&this._model.add(a);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(t){this._model.updateSelection(t.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(t){this._isAnimating=t.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(t,i){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,i&&this._changeDetectorRef.detectChanges()}};n.\u0275fac=function(i){return new(i||n)(D(tn),D(gn),D(pm),D(Na),D(CS,8),D(xm))},n.\u0275cmp=Fe({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(i,a){if(i&1&&Zt(fm,5),i&2){let o;gt(o=_t())&&(a._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(i,a){i&1&&th("@transformPanel.start",function(s){return a._handleAnimationEvent(s)})("@transformPanel.done",function(s){return a._handleAnimationEvent(s)}),i&2&&(eh("@transformPanel",a._animationState),jt(a.color?"mat-"+a.color:""),Be("mat-datepicker-content-touch",a.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[rn],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(i,a){if(i&1&&(c(0,"div",0)(1,"mat-calendar",1),H("yearSelected",function(s){return a.datepicker._selectYear(s)})("monthSelected",function(s){return a.datepicker._selectMonth(s)})("viewChanged",function(s){return a.datepicker._viewChanged(s)})("_userSelection",function(s){return a._handleUserSelection(s)})("_userDragDrop",function(s){return a._handleUserDragDrop(s)}),l(),G(2,MF,0,0,"ng-template",2),c(3,"button",3),H("focus",function(){return a._closeButtonFocused=!0})("blur",function(){return a._closeButtonFocused=!1})("click",function(){return a.datepicker.close()}),u(4),l()()),i&2){let o;Be("mat-datepicker-content-container-with-custom-header",a.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",a._actionsPortal),Gt("aria-modal",!0)("aria-labelledby",(o=a._dialogLabelId)!==null&&o!==void 0?o:void 0),g(),jt(a.datepicker.panelClass),P("id",a.datepicker.id)("startAt",a.datepicker.startAt)("startView",a.datepicker.startView)("minDate",a.datepicker._getMinDate())("maxDate",a.datepicker._getMaxDate())("dateFilter",a.datepicker._getDateFilter())("headerComponent",a.datepicker.calendarHeaderComponent)("selected",a._getSelected())("dateClass",a.datepicker.dateClass)("comparisonStart",a.comparisonStart)("comparisonEnd",a.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",a.startDateAccessibleName)("endDateAccessibleName",a.endDateAccessibleName),g(),P("cdkPortalOutlet",a._actionsPortal),g(),Be("cdk-visually-hidden",!a._closeButtonFocused),P("color",a.color||"primary"),g(),ne(a._closeButtonText)}},dependencies:[MC,fm,As,Cn],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[xS.transformPanel,xS.fadeInCalendar]},changeDetection:0});let e=n;return e})(),vS=(()=>{let n=class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){t!==this._disabled&&(this._disabled=t,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=vC(t)}get opened(){return this._opened}set opened(t){t?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(t,i,a,o,s,d,m){this._overlay=t,this._viewContainerRef=a,this._dateAdapter=s,this._dir=d,this._model=m,this._inputStateChanges=fn.EMPTY,this._document=cn(ha),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new He,this.monthSelected=new He,this.viewChanged=new He(!0),this.openedStream=new He,this.closedStream=new He,this._opened=!1,this.id=`mat-datepicker-${LF++}`,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new bt,this._injector=cn($r),this._changeDetectorRef=cn(gn),this._dateAdapter,this._scrollStrategy=o,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(t){let i=t.xPosition||t.yPosition;if(i&&!i.firstChange&&this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;a instanceof zC&&(this._setConnectedPositions(a),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){var i;this._actionsPortal,this._actionsPortal=t,(i=this._componentRef)==null||i.instance._assignActions(t,!0)}removeActions(t){var i;t===this._actionsPortal&&(this._actionsPortal=null,(i=this._componentRef)==null||i.instance._assignActions(null,!0))}open(){var t;this._opened||this.disabled||(t=this._componentRef)!=null&&t.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=_C(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){var a;if(!this._opened||(a=this._componentRef)!=null&&a.instance._isAnimating)return;let t=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:o,location:s}=this._componentRef;o._startExitAnimation(),o._animationDone.pipe(Rr(1)).subscribe(()=>{let d=this._document.activeElement;t&&(!d||d===this._document.activeElement||s.nativeElement.contains(d))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}t?setTimeout(i):i()}_applyPendingSelection(){var t,i;(i=(t=this._componentRef)==null?void 0:t.instance)==null||i._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._dialogLabelId=this.datepickerInput.getOverlayLabelId(),t._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let t=this.touchUi,i=new I_(PS,this._viewContainerRef),a=this._overlayRef=this._overlay.create(new A_({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${t?"dialog":"popup"}`}));this._getCloseStream(a).subscribe(o=>{o&&o.preventDefault(),this.close()}),a.keydownEvents().subscribe(o=>{let s=o.keyCode;(s===38||s===40||s===37||s===39||s===33||s===34)&&o.preventDefault()}),this._componentRef=a.attach(i),this._forwardContentValues(this._componentRef.instance),t||Io(()=>{a.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){let i=this.xPosition==="end"?"end":"start",a=i==="start"?"end":"start",o=this.yPosition==="above"?"bottom":"top",s=o==="top"?"bottom":"top";return t.withPositions([{originX:i,originY:s,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:s},{originX:a,originY:s,overlayX:a,overlayY:o},{originX:a,originY:o,overlayX:a,overlayY:s}])}_getCloseStream(t){let i=["ctrlKey","shiftKey","metaKey"];return mi(t.backdropClick(),t.detachments(),t.keydownEvents().pipe(un(a=>a.keyCode===27&&!Ra(a)||this.datepickerInput&&Ra(a,"altKey")&&a.keyCode===38&&i.every(o=>!Ra(a,o)))))}};n.\u0275fac=function(i){return new(i||n)(D(xc),D(An),D(ma),D(kS),D(Na,8),D(pa,8),D(pm))},n.\u0275dir=Et({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",Ct],disabled:[2,"disabled","disabled",Ct],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",Ct],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",Ct]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Ln,ti]});let e=n;return e})(),Mf=(()=>{let n=class n extends vS{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=pr(n)))(a||n)}})(),n.\u0275cmp=Fe({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[Dn([yS,{provide:vS,useExisting:n}]),Yn,rn],decls:0,vars:0,template:function(i,a){},encapsulation:2,changeDetection:0});let e=n;return e})(),eu=class{constructor(n,r){this.target=n,this.targetElement=r,this.value=this.target.value}},jF=(()=>{let n=class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){let i=t,a=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&a.blur&&a.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){let a=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(a),this._cvaOnChange(a),this._onTouched(),this._formatValue(a),this.dateInput.emit(new eu(this,this._elementRef.nativeElement)),this.dateChange.emit(new eu(this,this._elementRef.nativeElement))}})}constructor(t,i,a){this._elementRef=t,this._dateAdapter=i,this._dateFormats=a,this.dateChange=new He,this.dateInput=new He,this.stateChanges=new bt,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=fn.EMPTY,this._localeSubscription=fn.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{let s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!s||this._matchesFilter(s)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{let s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),d=this._getMinDate();return!d||!s||this._dateAdapter.compareDate(d,s)<=0?null:{matDatepickerMin:{min:d,actual:s}}},this._maxValidator=o=>{let s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),d=this._getMaxDate();return!d||!s||this._dateAdapter.compareDate(d,s)>=0?null:{matDatepickerMax:{max:d,actual:s}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){UF(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){let i=["ctrlKey","shiftKey","metaKey"];Ra(t,"altKey")&&t.keyCode===40&&i.every(o=>!Ra(t,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){let i=this._lastValueValid,a=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(a),a=this._dateAdapter.getValidDateOrNull(a);let o=!this._dateAdapter.sameDate(a,this.value);!a||o?this._cvaOnChange(a):(t&&!this.value&&this._cvaOnChange(a),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(a),this.dateInput.emit(new eu(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new eu(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t!=null?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){let i=this._getDateFilter();return!i||i(t)}};n.\u0275fac=function(i){return new(i||n)(D(tn),D(Na,8),D(cl,8))},n.\u0275dir=Et({type:n,inputs:{value:"value",disabled:[2,"disabled","disabled",Ct]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[Ln,ti]});let e=n;return e})();function UF(e,n){let r=Object.keys(e);for(let t of r){let{previousValue:i,currentValue:a}=e[t];if(n.isDateInstance(i)&&n.isDateInstance(a)){if(!n.sameDate(i,a))return!0}else return!0}return!1}var zF={provide:fd,useExisting:Da(()=>ru),multi:!0},HF={provide:uh,useExisting:Da(()=>ru),multi:!0},ru=(()=>{let n=class n extends jF{set matDatepicker(t){t&&(this._datepicker=t,this._ariaOwns.set(t.opened?t.id:null),this._closedSubscription=t.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=t.openedStream.subscribe(()=>{this._ariaOwns.set(t.id)}),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(t){let i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){let i=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(t,i,a,o){super(t,i,a),this._formField=o,this._closedSubscription=fn.EMPTY,this._openedSubscription=fn.EMPTY,this._ariaOwns=hy(null),this._validator=yt.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}};n.\u0275fac=function(i){return new(i||n)(D(tn),D(Na,8),D(cl,8),D(XC,8))},n.\u0275dir=Et({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,a){i&1&&H("input",function(s){return a._onInput(s.target.value)})("change",function(){return a._onChange()})("blur",function(){return a._onBlur()})("keydown",function(s){return a._onKeydown(s)}),i&2&&(J0("disabled",a.disabled),Gt("aria-haspopup",a._datepicker?"dialog":null)("aria-owns",a._ariaOwns())("min",a.min?a._dateAdapter.toIso8601(a.min):null)("max",a.max?a._dateAdapter.toIso8601(a.max):null)("data-mat-calendar",a._datepicker?a._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[Dn([zF,HF,{provide:nw,useExisting:n}]),Yn]});let e=n;return e})(),GF=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275dir=Et({type:n,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0});let e=n;return e})(),vm=(()=>{let n=class n{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=t}constructor(t,i,a){this._intl=t,this._changeDetectorRef=i,this._stateChanges=fn.EMPTY;let o=Number(a);this.tabIndex=o||o===0?o:null}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){let t=this.datepicker?this.datepicker.stateChanges:ht(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:ht(),a=this.datepicker?mi(this.datepicker.openedStream,this.datepicker.closedStream):ht();this._stateChanges.unsubscribe(),this._stateChanges=mi(this._intl.changes,t,i,a).subscribe(()=>this._changeDetectorRef.markForCheck())}};n.\u0275fac=function(i){return new(i||n)(D(xm),D(gn),Oo("tabindex"))},n.\u0275cmp=Fe({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,a,o){if(i&1&&yi(o,GF,5),i&2){let s;gt(s=_t())&&(a._customIcon=s.first)}},viewQuery:function(i,a){if(i&1&&Zt(kF,5),i&2){let o;gt(o=_t())&&(a._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,a){i&1&&H("click",function(s){return a._open(s)}),i&2&&(Gt("tabindex",null)("data-mat-calendar",a.datepicker?a.datepicker.id:null),Be("mat-datepicker-toggle-active",a.datepicker&&a.datepicker.opened)("mat-accent",a.datepicker&&a.datepicker.color==="accent")("mat-warn",a.datepicker&&a.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",Ct],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[Ln,ti,rn],ngContentSelectors:EF,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,a){i&1&&(_i(PF),c(0,"button",1,0),G(2,TF,2,0,":svg:svg",2),yn(3),l()),i&2&&(P("disabled",a.disabled)("disableRipple",a.disableRipple),Gt("aria-haspopup",a.datepicker?"dialog":null)("aria-label",a.ariaLabel||a._intl.openCalendarLabel)("tabindex",a.disabled?-1:a.tabIndex),g(2),ot(a._customIcon?-1:2))},dependencies:[wn],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0});let e=n;return e})();var j1=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({providers:[xm,BF],imports:[pd,$h,Qh,kC,Wh,Kn,PS,vm,MS,ul]});let e=n;return e})();function $F(e,n){e&1&&(c(0,"mat-error"),u(1," Budget amount is required "),l())}function WF(e,n){e&1&&(c(0,"mat-error"),u(1," Budget amount must be greater than 0 "),l())}function YF(e,n){if(e&1&&(c(0,"div",16)(1,"label",17),u(2,"Budget Amount"),l(),c(3,"mat-form-field",18),de(4,"input",19),G(5,$F,2,0,"mat-error",20)(6,WF,2,0,"mat-error",20),l()()),e&2){let r=k();g(5),P("ngIf",r.budgetAmountControl==null?null:r.budgetAmountControl.hasError("required")),g(),P("ngIf",r.budgetAmountControl==null?null:r.budgetAmountControl.hasError("min"))}}function qF(e,n){if(e&1&&(c(0,"mat-option",23),u(1),l()),e&2){let r=n.$implicit;P("value",r.value),g(),he(" ",r.label," ")}}function KF(e,n){e&1&&(c(0,"mat-error"),u(1," Budget period is required "),l())}function QF(e,n){if(e&1&&(c(0,"div",16)(1,"label",17),u(2,"Budget Period"),l(),c(3,"mat-form-field",18)(4,"mat-select",21),G(5,qF,2,2,"mat-option",22),l(),G(6,KF,2,0,"mat-error",20),l()()),e&2){let r=k();g(5),P("ngForOf",r.budgetPeriods),g(),P("ngIf",r.budgetPeriodControl==null?null:r.budgetPeriodControl.hasError("required"))}}function XF(e,n){e&1&&(c(0,"mat-error"),u(1," Start date is required "),l())}function ZF(e,n){if(e&1&&(c(0,"div",16)(1,"label",17),u(2,"Start Date"),l(),c(3,"mat-form-field",18),de(4,"input",24)(5,"mat-datepicker-toggle",25)(6,"mat-datepicker",null,0),G(8,XF,2,0,"mat-error",20),l()()),e&2){let r,t=qn(7),i=k();g(4),P("matDatepicker",t),g(),P("for",t),g(3),P("ngIf",(r=i.budgetForm.get("budgetStartDate"))==null?null:r.hasError("required"))}}function JF(e,n){if(e&1&&(c(0,"div",16)(1,"label",17),u(2,"End Date (Optional)"),l(),c(3,"mat-form-field",18),de(4,"input",26)(5,"mat-datepicker-toggle",25)(6,"mat-datepicker",null,1),l()()),e&2){let r=qn(7);g(4),P("matDatepicker",r),g(),P("for",r)}}function e8(e,n){e&1&&(c(0,"mat-error"),u(1," Threshold must be at least 0% "),l())}function t8(e,n){e&1&&(c(0,"mat-error"),u(1," Threshold cannot exceed 100% "),l())}function n8(e,n){if(e&1&&(c(0,"div",16)(1,"label",17),u(2,"Alert Threshold (%)"),l(),c(3,"mat-form-field",18),de(4,"input",27),c(5,"mat-hint"),u(6,"Get notified when you reach this percentage of your budget"),l(),G(7,e8,2,0,"mat-error",20)(8,t8,2,0,"mat-error",20),l()()),e&2){let r,t,i=k();g(7),P("ngIf",(r=i.budgetForm.get("budgetAlertThreshold"))==null?null:r.hasError("min")),g(),P("ngIf",(t=i.budgetForm.get("budgetAlertThreshold"))==null?null:t.hasError("max"))}}function i8(e,n){e&1&&(c(0,"div",16)(1,"mat-slide-toggle",28)(2,"span",29),u(3,"Enable budget alerts"),l()()())}var ES=(()=>{let n=class n{constructor(t,i,a){this.dialogRef=t,this.data=i,this.budgetService=a,this.budgetForm=this.budgetService.createBudgetForm(),this.budgetPeriods=this.budgetService.getBudgetPeriods()}ngOnInit(){this.budgetService.initializeBudgetForm(this.budgetForm,this.data.category)}onCancel(){this.dialogRef.close()}onSave(){if(this.budgetService.isBudgetFormValid(this.budgetForm)){let t=this.budgetService.getBudgetDataFromForm(this.budgetForm);this.dialogRef.close(t)}}get isFormValid(){return this.budgetService.isBudgetFormValid(this.budgetForm)}get budgetAmountControl(){return this.budgetForm.get("budgetAmount")}get budgetPeriodControl(){return this.budgetForm.get("budgetPeriod")}};n.\u0275fac=function(i){return new(i||n)(D(Mr),D(kr),D(Yd))},n.\u0275cmp=Fe({type:n,selectors:[["app-category-budget-dialog"]],decls:30,vars:11,consts:[["startPicker",""],["endPicker",""],[1,"budget-dialog-container"],[1,"dialog-header"],["mat-dialog-title",""],[1,"header-icon"],["mat-icon-button","",1,"close-button",3,"click"],[1,"dialog-content"],[1,"budget-form",3,"formGroup"],[1,"form-field-toggle"],[1,"toggle-label","text-sm","font-semibold"],["formControlName","hasBudget","color","primary",1,"budget-toggle"],["class","form-field",4,"ngIf"],[1,"dialog-actions"],["mat-button","",1,"cancel-button",3,"click"],["mat-raised-button","","color","primary",1,"save-button",3,"click","disabled"],[1,"form-field"],[1,"field-label"],["appearance","outline",1,"form-input-field"],["matInput","","type","number","formControlName","budgetAmount","placeholder","0.00","step","0.01",1,"form-input"],[4,"ngIf"],["formControlName","budgetPeriod",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","budgetStartDate","placeholder","Choose start date",1,"form-input",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","budgetEndDate","placeholder","Choose end date (optional)",1,"form-input",3,"matDatepicker"],["matInput","","type","number","formControlName","budgetAlertThreshold","placeholder","80",1,"form-input"],["formControlName","budgetAlertEnabled","color","primary",1,"alert-toggle"],[1,"toggle-label"]],template:function(i,a){if(i&1&&(c(0,"div",2)(1,"div",3)(2,"h2",4)(3,"mat-icon",5),u(4,"account_balance_wallet"),l(),u(5),l(),c(6,"button",6),H("click",function(){return a.onCancel()}),c(7,"mat-icon"),u(8,"close"),l()()(),c(9,"mat-dialog-content",7)(10,"form",8)(11,"div",9)(12,"span",10),u(13),l(),de(14,"mat-slide-toggle",11),l(),G(15,YF,7,2,"div",12)(16,QF,7,2,"div",12)(17,ZF,9,3,"div",12)(18,JF,8,2,"div",12)(19,n8,9,2,"div",12)(20,i8,4,0,"div",12),l()(),c(21,"mat-dialog-actions",13)(22,"button",14),H("click",function(){return a.onCancel()}),c(23,"mat-icon"),u(24,"cancel"),l(),u(25," Cancel "),l(),c(26,"button",15),H("click",function(){return a.onSave()}),c(27,"mat-icon"),u(28,"save"),l(),u(29),l()()()),i&2){let o,s,d,m,f,_;g(5),he(" ",a.data.isEdit?"Edit":"Set"," Budget "),g(5),P("formGroup",a.budgetForm),g(3),he("Set budget for ",a.data.category.name,""),g(2),P("ngIf",(o=a.budgetForm.get("hasBudget"))==null?null:o.value),g(),P("ngIf",(s=a.budgetForm.get("hasBudget"))==null?null:s.value),g(),P("ngIf",(d=a.budgetForm.get("hasBudget"))==null?null:d.value),g(),P("ngIf",(m=a.budgetForm.get("hasBudget"))==null?null:m.value),g(),P("ngIf",(f=a.budgetForm.get("hasBudget"))==null?null:f.value),g(),P("ngIf",(_=a.budgetForm.get("hasBudget"))==null?null:_.value),g(6),P("disabled",!a.isFormValid),g(3),he(" ",a.data.isEdit?"Update":"Set"," Budget ")}},dependencies:[an,Tt,Di,mn,Gi,hn,Ai,yr,Cr,zt,Cn,wn,Mf,ru,vm,Ma,ep,Jo,Td,Qr,Lr,Cc,Xh,Jh,Zh,lo],styles:["@media (max-width: 640px){.budget-dialog-container[_ngcontent-%COMP%]{min-width:320px;max-width:100vw}}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem 0;border-bottom:1px solid #e5e7eb}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-left:0!important;margin:0;display:flex;align-items:center;gap:.5rem;font-size:1.25rem;font-weight:600;color:#1f2937}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{color:#3b82f6}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#6b7280}.dialog-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:#374151;background-color:#f3f4f6}.dialog-content[_ngcontent-%COMP%]{padding:1.5rem;max-height:70vh;overflow-y:auto}.dialog-content[_ngcontent-%COMP%]   .budget-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-weight:500;color:#374151;font-size:.875rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]{width:100%}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:.875rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%], .dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]{margin-top:.5rem}.dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .budget-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%], .dialog-content[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .alert-toggle[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-weight:500;color:#374151;margin-left:.5rem}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;padding:1rem 1.5rem 1.5rem;border-top:1px solid #e5e7eb}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{color:#6b7280}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:hover{color:#374151;background-color:#f3f4f6}.dialog-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.dialog-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb}.dialog-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{background-color:#9ca3af;color:#6b7280}.form-field-toggle[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline}"]});let e=n;return e})();var bm=no("transactions"),No=Kt(bm,e=>e.ids.map(n=>e.entities[n]).filter(n=>n)),au=Kt(bm,e=>e.loading),kf=Kt(bm,e=>e.error),r8=Kt(bm,e=>e.selectedTransactionId),Mre=Kt(bm,r8,(e,n)=>n?e.entities[n]:null);var Pf=e=>Kt(No,n=>n.filter(r=>r.type===e));var H1=Kt(Pf("income"),e=>e.reduce((n,r)=>n+r.amount,0)),TS=(e,n)=>Kt(Pf("income"),r=>r.filter(t=>{var a;let i=new Date(((a=t.date)==null?void 0:a.seconds)*1e3)||new Date;return i.getMonth()===e&&i.getFullYear()===n}).reduce((t,i)=>t+i.amount,0)),G1=Kt(Pf("expense"),e=>e.reduce((n,r)=>n+r.amount,0)),OS=(e,n)=>Kt(Pf("expense"),r=>r.filter(t=>{var a;let i=new Date(((a=t.date)==null?void 0:a.seconds)*1e3)||new Date;return i.getMonth()===e&&i.getFullYear()===n}).reduce((t,i)=>t+i.amount,0)),IS=Kt(H1,G1,(e,n)=>e-n);var a8=(e,n)=>n.id;function o8(e,n){if(e&1){let r=Ce();c(0,"div",11)(1,"p",12),u(2),l(),c(3,"button",13),H("click",function(){q(r);let i=k();return K(i.clearError())}),c(4,"mat-icon"),u(5,"close"),l()()()}if(e&2){let r=k();g(2),ne(r.errorMessage)}}function s8(e,n){if(e&1){let r=Ce();c(0,"button",14),H("click",function(){q(r);let i=k();return K(i.openAddMobileDialog())}),c(1,"mat-icon"),u(2,"add"),l()()}}function c8(e,n){if(e&1){let r=Ce();c(0,"div",15)(1,"button",16),H("click",function(){q(r);let i=k();return K(i.openAddMobileDialog())}),c(2,"mat-icon"),u(3,"add"),l()()()}}function l8(e,n){if(e&1&&(c(0,"div",17)(1,"div",18)(2,"h2",19),u(3,"Manage Categories"),l(),c(4,"p",20),u(5),l()()()),e&2){let r=k();g(5),xi("(",r.categories.length," categor",r.categories.length!==1?"ies":"y",")")}}function d8(e,n){if(e&1){let r=Ce();c(0,"button",26),H("click",function(){q(r);let i=k(2);return K(i.openAddMobileDialog())}),c(1,"mat-icon"),u(2,"add"),l(),u(3," Add Category "),l()}}function u8(e,n){if(e&1&&(c(0,"div",21)(1,"div",22)(2,"mat-icon"),u(3,"local_offer"),l()(),c(4,"h3",23),u(5,"No categories yet"),l(),c(6,"p",24),u(7,"Add your first category to get started"),l(),G(8,d8,4,0,"button",25),l()),e&2){let r=k();g(8),P("ngIf",r.isMobile)}}function m8(e,n){if(e&1&&(c(0,"div",49)(1,"span",50),u(2,"Highest Spending Category:"),l(),c(3,"span",51)(4,"mat-icon"),u(5),l(),u(6),Ee(7,"currency"),l()()),e&2){let r=k(4);g(4),Yt("color",r.getDetailedBudgetStats().mostExpensiveCategory.color),g(),ne(r.getDetailedBudgetStats().mostExpensiveCategory.icon),g(),xi(" ",r.getDetailedBudgetStats().mostExpensiveCategory.name," (",$e(7,5,r.getDetailedBudgetStats().mostExpensiveCategory.spent),") ")}}function h8(e,n){if(e&1&&(c(0,"div",49)(1,"span",50),u(2,"Lowest Spending Category:"),l(),c(3,"span",51)(4,"mat-icon"),u(5),l(),u(6),Ee(7,"currency"),l()()),e&2){let r=k(4);g(4),Yt("color",r.getDetailedBudgetStats().leastExpensiveCategory.color),g(),ne(r.getDetailedBudgetStats().leastExpensiveCategory.icon),g(),xi(" ",r.getDetailedBudgetStats().leastExpensiveCategory.name," (",$e(7,5,r.getDetailedBudgetStats().leastExpensiveCategory.spent),") ")}}function p8(e,n){if(e&1&&(c(0,"div",56)(1,"div",57)(2,"mat-icon"),u(3),l(),c(4,"span",58),u(5),l()(),c(6,"div",59)(7,"div",60)(8,"span",61),u(9,"Budget:"),l(),c(10,"span",62),u(11),Ee(12,"currency"),l()(),c(13,"div",60)(14,"span",61),u(15,"Spent:"),l(),c(16,"span",63),u(17),Ee(18,"currency"),l()(),c(19,"div",60)(20,"span",61),u(21,"Remaining:"),l(),c(22,"span",62),u(23),Ee(24,"currency"),l()(),c(25,"div",60)(26,"span",61),u(27,"Progress:"),l(),c(28,"span",62),u(29),l()()(),c(30,"div",64)(31,"div",39),de(32,"div",40),l()()()),e&2){let r=n.$implicit,t=k(4);g(2),Yt("color",r.color),g(),ne(r.icon),g(2),ne(r.name),g(6),ne($e(12,16,r.budget)),g(6),ne($e(18,18,r.spent)),g(5),jt(r.remaining<0?"danger":"safe"),g(),he(" ",$e(24,20,r.remaining)," "),g(5),jt(r.progress>=90?"danger":r.progress>=75?"warning":"safe"),g(),he(" ",r.progress.toFixed(1),"% "),g(3),Yt("width",t.Math.min(r.progress,100),"%")("background-color",r.progress>=100?"#ef4444":r.progress>=80?"#f59e0b":r.progress>=60?"#3b82f6":"#10b981")}}function f8(e,n){if(e&1&&(c(0,"div",45)(1,"mat-tab-group",46)(2,"mat-tab",47)(3,"div",48)(4,"div",49)(5,"span",50),u(6,"Total Categories with Budget:"),l(),c(7,"span",51),u(8),l()(),c(9,"div",49)(10,"span",50),u(11,"Average Budget per Category:"),l(),c(12,"span",51),u(13),Ee(14,"currency"),l()(),c(15,"div",49)(16,"span",50),u(17,"Average Spent per Category:"),l(),c(18,"span",51),u(19),Ee(20,"currency"),l()(),G(21,m8,8,7,"div",52)(22,h8,8,7,"div",52),l()(),c(23,"mat-tab",53)(24,"div",48)(25,"div",54),G(26,p8,33,22,"div",55),l()()()()()),e&2){let r=k(3);g(8),ne(r.getDetailedBudgetStats().totalCategories),g(5),ne($e(14,6,r.getOverallBudgetStats().averageBudget)),g(6),ne($e(20,8,r.getDetailedBudgetStats().averageSpentPerCategory)),g(2),P("ngIf",r.getDetailedBudgetStats().mostExpensiveCategory),g(),P("ngIf",r.getDetailedBudgetStats().leastExpensiveCategory),g(4),P("ngForOf",r.getDetailedBudgetStats().categories)}}function g8(e,n){if(e&1){let r=Ce();c(0,"div",30)(1,"div",31)(2,"mat-icon",32),u(3,"account_balance_wallet"),l(),c(4,"h3",33),u(5,"Overall Monthly Budget"),l()(),c(6,"div",34)(7,"div",35)(8,"span",36),u(9,"Total Budget:"),l(),c(10,"span",37),u(11),Ee(12,"currency"),l()()(),c(13,"div",38)(14,"div",39),de(15,"div",40),l(),c(16,"div",41),u(17),Ee(18,"currency"),Ee(19,"currency"),l()(),c(20,"div",42)(21,"button",43),H("click",function(){q(r);let i=k(2);return K(i.toggleBudgetSummaryExpansion())}),c(22,"mat-icon"),u(23),l(),c(24,"span"),u(25),l()()(),G(26,f8,27,10,"div",44),l()}if(e&2){let r=k(2);Be("expanded",r.isBudgetSummaryExpanded),g(11),ne($e(12,13,r.getOverallBudgetStats().totalBudget)),g(4),Yt("width",r.Math.min(r.getOverallBudgetStats().overallProgress,100),"%")("background-color",r.getOverallBudgetProgressColor()),g(2),nh(" ",$e(18,15,r.getOverallBudgetStats().totalSpent)," / ",$e(19,17,r.getOverallBudgetStats().totalBudget)," (",r.getOverallBudgetStats().overallProgress.toFixed(1),"%) "),g(6),ne(r.isBudgetSummaryExpanded?"expand_less":"expand_more"),g(2),ne(r.isBudgetSummaryExpanded?"Show Less":"Show More"),g(),P("ngIf",r.isBudgetSummaryExpanded)}}function _8(e,n){e&1&&(c(0,"div",65)(1,"div",66)(2,"mat-icon",67),u(3,"info"),l(),c(4,"div",68)(5,"h4",69),u(6,"No Budgets Set"),l(),c(7,"p",70),u(8,"Set budgets for your expense categories to track your spending goals and get better insights."),l()()()())}function x8(e,n){if(e&1&&(c(0,"div",95)(1,"div",39),de(2,"div",40),l(),c(3,"span",41),u(4),Ee(5,"currency"),l()()),e&2){let r=k(2).$implicit,t=k(3);g(2),Yt("width",t.Math.min((r.budget==null?null:r.budget.budgetProgressPercentage)||0,100),"%")("background-color",t.getBudgetProgressColor(r)),g(2),xi(" ",$e(5,6,r.budget==null?null:r.budget.budgetSpent)," (",((r.budget==null?null:r.budget.budgetProgressPercentage)||0).toFixed(1),"%) ")}}function v8(e,n){if(e&1&&(c(0,"div",89)(1,"div",90)(2,"span",91),u(3,"Budget:"),l(),c(4,"span",92),u(5),Ee(6,"currency"),l(),c(7,"span",93),u(8),l()(),G(9,x8,6,8,"div",94),l()),e&2){let r=k().$implicit,t=k(3);g(5),ne($e(6,3,r.budget==null?null:r.budget.budgetAmount)),g(3),he("/ ",t.formatBudgetPeriod(r.budget==null?null:r.budget.budgetPeriod),""),g(),P("ngIf",(r.budget==null?null:r.budget.budgetProgressPercentage)!==void 0)}}function b8(e,n){if(e&1&&(c(0,"div",96)(1,"span",97),u(2),l(),c(3,"span",98),u(4),Ee(5,"currency"),Ee(6,"currency"),l(),c(7,"span",99),u(8," (Monthly) "),l()()),e&2){let r=k().$implicit,t=k(3);g(2),ne(r.type==="expense"?"Spent:":"Income:"),g(2),ne(r.type==="expense"?$e(5,2,t.calculateTotalSpentPerMonth(r)):$e(6,4,t.calculateTotalIncomePerMonth(r)))}}function y8(e,n){if(e&1){let r=Ce();c(0,"button",100),H("click",function(){q(r);let i=k().$implicit,a=k(3);return K(a.openBudgetDialog(i))}),c(1,"mat-icon"),u(2,"account_balance_wallet"),l(),u(3," Set Budget "),l()}}function C8(e,n){if(e&1&&(c(0,"div",49)(1,"span",50),u(2,"Budget Start Date:"),l(),c(3,"span",51),u(4),Ee(5,"date"),l()()),e&2){let r=k(3).$implicit,t=k(3);g(4),ne(Xt(5,1,t.dateService.toDate(r.budget==null?null:r.budget.budgetStartDate),"shortDate"))}}function w8(e,n){if(e&1&&(c(0,"div",49)(1,"span",50),u(2,"Budget End Date:"),l(),c(3,"span",51),u(4),l()()),e&2){let r=k(3).$implicit;g(4),ne(r.budget==null?null:r.budget.budgetEndDate)}}function S8(e,n){if(e&1&&(c(0,"mat-tab",110)(1,"div",48)(2,"div",49)(3,"span",50),u(4,"Budget Amount:"),l(),c(5,"span",51),u(6),Ee(7,"currency"),l()(),c(8,"div",49)(9,"span",50),u(10,"Budget Period:"),l(),c(11,"span",51),u(12),l()(),c(13,"div",49)(14,"span",50),u(15,"Amount Spent:"),l(),c(16,"span",51),u(17),Ee(18,"currency"),l()(),c(19,"div",49)(20,"span",50),u(21,"Remaining Budget:"),l(),c(22,"span",51),u(23),Ee(24,"currency"),l()(),c(25,"div",49)(26,"span",50),u(27,"Progress Percentage:"),l(),c(28,"span",51),u(29),l()(),G(30,C8,6,4,"div",52)(31,w8,5,1,"div",52),l()()),e&2){let r=k(2).$implicit,t=k(3);g(6),ne($e(7,13,r.budget==null?null:r.budget.budgetAmount)),g(6),ne(t.formatBudgetPeriod(r.budget==null?null:r.budget.budgetPeriod)),g(4),jt(t.getBudgetStatusClass(r)),g(),he(" ",$e(18,15,r.budget==null?null:r.budget.budgetSpent)," "),g(5),jt(t.getRemainingBudgetClass(r)),g(),he(" ",$e(24,17,((r.budget==null?null:r.budget.budgetAmount)||0)-((r.budget==null?null:r.budget.budgetSpent)||0))," "),g(5),jt(t.getBudgetStatusClass(r)),g(),he(" ",((r.budget==null?null:r.budget.budgetProgressPercentage)||0).toFixed(1),"% "),g(),P("ngIf",r.budget==null?null:r.budget.budgetStartDate),g(),P("ngIf",r.budget==null?null:r.budget.budgetEndDate)}}function M8(e,n){if(e&1){let r=Ce();c(0,"button",113),H("click",function(){q(r);let i=k(3).$implicit,a=k(3);return K(a.openBudgetDialog(i))}),c(1,"mat-icon"),u(2,"add"),l(),u(3," Set Budget "),l()}}function k8(e,n){if(e&1&&(c(0,"mat-tab",110)(1,"div",48)(2,"div",111)(3,"mat-icon"),u(4,"account_balance_wallet"),l(),c(5,"h4"),u(6,"No Budget Set"),l(),c(7,"p"),u(8,"This category doesn't have a budget configured yet."),l(),G(9,M8,4,0,"button",112),l()()()),e&2){let r=k(2).$implicit;g(9),P("ngIf",r.type==="expense")}}function P8(e,n){e&1&&(c(0,"div",114)(1,"mat-icon"),u(2,"receipt_long"),l(),c(3,"p"),u(4,"No recent transactions"),l()())}function E8(e,n){if(e&1&&(c(0,"div",117)(1,"div",118)(2,"span",119),u(3),l(),c(4,"span",120),u(5),Ee(6,"date"),l()(),c(7,"span",121),u(8),Ee(9,"currency"),l()()),e&2){let r=n.$implicit,t=k(6);g(3),ne(r.payee),g(2),ne(Xt(6,5,t.dateService.toDate(r.date),"shortDate")),g(2),jt(r.amount>=0?"positive":"negative"),g(),he(" ",$e(9,8,r.amount)," ")}}function T8(e,n){if(e&1&&(c(0,"div",115),G(1,E8,10,10,"div",116),l()),e&2){let r=k(2).$implicit,t=k(3);g(),P("ngForOf",t.getRecentTransactions(r))}}function O8(e,n){if(e&1&&(c(0,"div",101)(1,"mat-tab-group",46)(2,"mat-tab",102)(3,"div",48)(4,"div",49)(5,"span",50),u(6,"Category Name:"),l(),c(7,"span",51),u(8),l()(),c(9,"div",49)(10,"span",50),u(11,"Category Type:"),l(),c(12,"span",51),u(13),Ee(14,"titlecase"),l()(),c(15,"div",49)(16,"span",50),u(17,"Icon:"),l(),c(18,"span",51)(19,"mat-icon"),u(20),l(),u(21),l()(),c(22,"div",49)(23,"span",50),u(24,"Color:"),l(),c(25,"span",51),de(26,"div",103),u(27),l()()()(),G(28,S8,32,19,"mat-tab",104)(29,k8,10,1,"mat-tab",104),c(30,"mat-tab",105)(31,"div",48),G(32,P8,5,0,"div",106)(33,T8,2,1,"div",107),l()(),c(34,"mat-tab",108)(35,"div",48)(36,"div",49)(37,"span",50),u(38,"Total Transactions:"),l(),c(39,"span",51),u(40),l()(),c(41,"div",49)(42,"span",50),u(43,"Total Spent:"),l(),c(44,"span",109),u(45),Ee(46,"currency"),l()(),c(47,"div",49)(48,"span",50),u(49,"Average Transaction:"),l(),c(50,"span",51),u(51),Ee(52,"currency"),l()(),c(53,"div",49)(54,"span",50),u(55,"Largest Transaction:"),l(),c(56,"span",109),u(57),Ee(58,"currency"),l()(),c(59,"div",49)(60,"span",50),u(61,"This Month:"),l(),c(62,"span",109),u(63),Ee(64,"currency"),l()(),c(65,"div",49)(66,"span",50),u(67,"Last Month:"),l(),c(68,"span",109),u(69),Ee(70,"currency"),l()()()()()()),e&2){let r,t,i,a,o,s,d,m,f=k().$implicit,_=k(3);g(8),ne(f.name),g(5),ne($e(14,19,f.type)),g(6),Yt("color",f.color),g(),ne(f.icon||"category"),g(),he(" ",f.icon||"category"," "),g(5),Yt("background-color",f.color),g(),he(" ",f.color," "),g(),P("ngIf",f==null||f.budget==null?null:f.budget.hasBudget),g(),P("ngIf",!(!(f==null||f.budget==null)&&f.budget.hasBudget)),g(3),P("ngIf",!((r=_.getRecentTransactions(f))!=null&&r.length)),g(),P("ngIf",(t=_.getRecentTransactions(f))==null?null:t.length),g(7),ne(((i=_.getCategoryStats(f))==null?null:i.totalTransactions)||0),g(5),ne($e(46,21,(a=_.getCategoryStats(f))==null?null:a.totalSpent)),g(6),ne($e(52,23,(o=_.getCategoryStats(f))==null?null:o.averageTransaction)),g(6),ne($e(58,25,(s=_.getCategoryStats(f))==null?null:s.largestTransaction)),g(6),ne($e(64,27,(d=_.getCategoryStats(f))==null?null:d.thisMonth)),g(6),ne($e(70,29,(m=_.getCategoryStats(f))==null?null:m.lastMonth))}}function I8(e,n){if(e&1){let r=Ce();c(0,"div",72)(1,"div",73)(2,"div",74)(3,"div",75)(4,"div",76)(5,"mat-icon",77),u(6),l()(),c(7,"div",78)(8,"div",79)(9,"h3",58),u(10),c(11,"span",80),u(12),Ee(13,"titlecase"),l()()(),G(14,v8,10,5,"div",81)(15,b8,9,6,"div",82),l()()(),c(16,"div",83)(17,"mat-menu",null,0),G(19,y8,4,0,"button",84),c(20,"button",85),H("click",function(){let i=q(r).$implicit,a=k(3);return K(a.editCategory(i))}),c(21,"mat-icon"),u(22,"edit"),l(),u(23," Edit "),l(),c(24,"button",86),H("click",function(){let i=q(r).$implicit,a=k(3);return K(a.deleteCategory(i))}),c(25,"mat-icon"),u(26,"delete"),l(),u(27," Delete "),l()(),c(28,"button",87)(29,"mat-icon"),u(30,"more_vert"),l()()()(),c(31,"div",42)(32,"button",43),H("click",function(){let i=q(r).$implicit,a=k(3);return K(a.toggleCategoryExpansion(i))}),c(33,"mat-icon"),u(34),l(),c(35,"span"),u(36),l()()(),G(37,O8,71,31,"div",88),l()}if(e&2){let r=n.$implicit,t=qn(18),i=k(3);Yt("border-left-color",r.color),Be("expanded",(i.expandedCategory==null?null:i.expandedCategory.id)===r.id),g(5),Yt("color",r.color),g(),ne(r.icon||"category"),g(4),he("",r.name," "),g(2),he(" ",$e(13,16,r.type),""),g(2),P("ngIf",r==null||r.budget==null?null:r.budget.hasBudget),g(),P("ngIf",!(!(r==null||r.budget==null)&&r.budget.hasBudget)),g(4),P("ngIf",!i.home&&r.type==="expense"),g(9),P("matMenuTriggerFor",t),g(6),ne((i.expandedCategory==null?null:i.expandedCategory.id)===r.id?"expand_less":"expand_more"),g(2),ne((i.expandedCategory==null?null:i.expandedCategory.id)===r.id?"Show Less":"Show More"),g(),P("ngIf",(i.expandedCategory==null?null:i.expandedCategory.id)===r.id)}}function A8(e,n){if(e&1&&Li(0,I8,38,18,"div",71,a8),e&2){let r=k(2);Vi(r.categories)}}function D8(e,n){if(e&1&&(c(0,"div",27),G(1,g8,27,19,"div",28)(2,_8,9,0,"div",29)(3,A8,2,0),l()),e&2){let r=k();g(),P("ngIf",r.getOverallBudgetStats().categoriesWithBudget>0),g(),P("ngIf",!r.home&&r.getOverallBudgetStats().categoriesWithBudget===0),g(),ot(r.home?-1:3)}}function F8(e,n){e&1&&(c(0,"div",122)(1,"a",123),u(2,"View All Categories "),c(3,"mat-icon",124),u(4,"arrow_forward"),l()()())}var su=(()=>{let n=class n{constructor(t,i,a,o,s,d,m,f){this.auth=t,this.dialog=i,this.notificationService=a,this.hapticFeedback=o,this.breakpointObserver=s,this.store=d,this.budgetService=m,this.dateService=f,this.home=!1,this.Math=Math,this.categories=[],this.transactions=[],this.isLoading=!1,this.errorMessage="",this.isMobile=!1,this.expandedCategory=null,this.isBudgetSummaryExpanded=!1,this.newCategory=this.getEmptyCategory(),this.availableIcons=Sd,this.availableColors=Md,this.categorySuggestions=[],this.filteredSuggestions=ht([]),this.categoryNameInput="",this.userId="",this.destroy$=new bt,this.isSubmitting=!1,this.categories$=this.store.select(Er),this.isLoading$=this.store.select(xf),this.error$=this.store.select(V2),this.transactions$=this.store.select(No),this.breakpointObserver.observe([qr.Handset]).subscribe(_=>{this.isMobile=_.matches})}ngOnInit(){this.initializeComponent(),this.subscribeToStoreData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeComponent(){return ge(this,null,function*(){let t=yield this.auth.currentUser;if(!t){this.errorMessage="User not authenticated";return}this.userId=t.uid,this.loadUserCategories(),this.loadUserTransactions()})}loadUserCategories(){this.store.dispatch(Sa({userId:this.userId}))}loadUserTransactions(){this.store.dispatch(gr({userId:this.userId}))}subscribeToStoreData(){this.categories$.pipe(It(this.destroy$)).subscribe(t=>{this.categories=t.sort((i,a)=>i.name.localeCompare(a.name)),this.initializeCategorySuggestions()}),this.transactions$.pipe(It(this.destroy$)).subscribe(t=>{this.transactions=t}),this.isLoading$.pipe(It(this.destroy$)).subscribe(t=>{this.isLoading=t}),this.error$.pipe(It(this.destroy$)).subscribe(t=>{t&&(this.errorMessage="Failed to load categories",console.error("Error loading categories:",t),this.notificationService.error("Failed to load categories"))})}initializeCategorySuggestions(){let t=this.categories.map(a=>a.name),i=pC.map(a=>a.name);this.categorySuggestions=[...new Set([...t,...i])],this.filteredSuggestions=ht([])}filterSuggestions(t){let i=t.toLowerCase();this.filteredSuggestions=ht(this.categorySuggestions.filter(a=>a.toLowerCase().includes(i)))}selectSuggestion(t){this.newCategory.name=t,this.categoryNameInput=t}onCategoryNameInput(t){let i=t.target;i&&this.filterSuggestions(i.value)}createCategory(){if(!this.isValidCategoryData()){this.notificationService.warning("Please enter a category name");return}this.isSubmitting||(this.isSubmitting=!0,this.store.dispatch(uc({userId:this.userId,name:this.newCategory.name.trim(),categoryType:this.newCategory.type,icon:this.newCategory.icon,color:this.newCategory.color})),this.notificationService.success("Category created successfully"),this.resetForm(),this.isSubmitting=!1)}editCategory(t){this.isMobile&&this.hapticFeedback.lightVibration(),this.openMobileDialog(t)}updateCategory(){if(!this.isValidCategoryData()){this.notificationService.warning("Please enter a category name");return}if(!this.newCategory.id){this.notificationService.error("Invalid category");return}this.isSubmitting||(this.isSubmitting=!0,this.store.dispatch(Ts({userId:this.userId,categoryId:this.newCategory.id,name:this.newCategory.name.trim(),categoryType:this.newCategory.type,icon:this.newCategory.icon,color:this.newCategory.color})),this.notificationService.success("Category updated successfully"),this.resetForm(),this.isSubmitting=!1)}deleteCategory(t){this.isMobile&&this.hapticFeedback.warningVibration(),this.dialog.open(Ds,{width:this.isMobile?"90vw":"600px",maxWidth:this.isMobile?"400px":"90vw",data:{title:"Delete Category",message:`Are you sure you want to delete "${t.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",type:"delete"}}).afterClosed().pipe(It(this.destroy$)).subscribe(a=>{a&&t.id&&this.performDelete(t.id)})}performDelete(t){this.store.dispatch(bd({userId:this.userId,categoryId:t})),this.notificationService.success("Category deleted successfully")}cancelEdit(){this.resetForm()}resetForm(){this.newCategory=this.getEmptyCategory(),this.categoryNameInput="",this.isSubmitting=!1}isValidCategoryData(){return this.newCategory.name.trim().length>0&&this.newCategory.name.trim().length<=50}trackByCategoryId(t,i){return i.id||t}clearError(){this.errorMessage=""}selectIcon(t){this.isMobile?this.openIconSelectorDialog():this.newCategory.icon=t}openIconSelectorDialog(){this.dialog.open(hf,{width:"90vw",maxWidth:"500px",height:"80vh",maxHeight:"600px",data:{currentIcon:this.newCategory.icon,availableIcons:this.availableIcons},disableClose:!1,autoFocus:!1}).afterClosed().subscribe(i=>{i&&(this.newCategory.icon=i,this.hapticFeedback.lightVibration())})}selectColor(t){this.isMobile?this.openColorSelectorDialog():this.newCategory.color=t}openColorSelectorDialog(){this.dialog.open(pf,{width:"90vw",maxWidth:"500px",height:"80vh",maxHeight:"600px",data:{currentColor:this.newCategory.color,availableColors:this.availableColors},disableClose:!1,autoFocus:!1}).afterClosed().subscribe(i=>{i&&(this.newCategory.color=i,this.hapticFeedback.lightVibration())})}openMobileDialog(t){this.dialog.open(gf,{width:this.isMobile?"90vw":"600px",maxWidth:this.isMobile?"400px":"90vw",data:t||null,disableClose:!0,panelClass:this.isMobile?"mobile-dialog":"desktop-dialog"}).afterClosed().pipe(It(this.destroy$)).subscribe(a=>{a&&this.loadUserCategories()})}openAddMobileDialog(){this.isMobile&&this.hapticFeedback.lightVibration(),this.openMobileDialog()}openBudgetDialog(t){var a;this.dialog.open(ES,{width:"500px",maxWidth:"90vw",data:{category:t,isEdit:((a=t.budget)==null?void 0:a.hasBudget)||!1},disableClose:!1}).afterClosed().subscribe(o=>{o&&this.updateCategoryBudget(t,o)})}updateCategoryBudget(t,i){this.store.dispatch(Ts({userId:this.userId,categoryId:t.id,name:t.name,categoryType:t.type,icon:t.icon,color:t.color,budgetData:i})),this.notificationService.success(i.hasBudget?"Budget set successfully for "+t.name:"Budget removed from "+t.name)}getBudgetProgressColor(t){return this.budgetService.getBudgetProgressColor(t)}formatBudgetPeriod(t){return this.budgetService.formatBudgetPeriod(t)}getEmptyCategory(){return{name:"",type:Yr.EXPENSE,icon:"shopping_cart",color:"#46777f",createdAt:Date.now()}}toggleCategoryExpansion(t){var i;((i=this.expandedCategory)==null?void 0:i.id)===t.id?this.expandedCategory=null:this.expandedCategory=t}toggleBudgetSummaryExpansion(){this.isBudgetSummaryExpanded=!this.isBudgetSummaryExpanded}getRecentTransactions(t){return!t||!t.name?[]:this.transactions.filter(i=>i.category===t.name).sort((i,a)=>{let o=this.dateService.toDate(i.date)||new Date;return(this.dateService.toDate(a.date)||new Date).getTime()-o.getTime()}).slice(0,10)}getCategoryStats(t){if(!t||!t.name)return{totalTransactions:0,totalSpent:0,averageTransaction:0,largestTransaction:0,thisMonth:0,lastMonth:0};let i=this.transactions.filter(N=>N.category===t.name);if(i.length===0)return{totalTransactions:0,totalSpent:0,averageTransaction:0,largestTransaction:0,thisMonth:0,lastMonth:0};let a=i.length,o=i.reduce((N,V)=>N+Math.abs(V.amount),0),s=o/a,d=Math.max(...i.map(N=>Math.abs(N.amount))),m=new Date,f=m.getMonth(),_=m.getFullYear(),v=f===0?11:f-1,w=f===0?_-1:_,C=i.filter(N=>{let V=this.dateService.toDate(N.date)||new Date;return V.getMonth()===f&&V.getFullYear()===_}),b=i.filter(N=>{let V=this.dateService.toDate(N.date)||new Date;return V.getMonth()===v&&V.getFullYear()===w}),O=C.reduce((N,V)=>N+Math.abs(V.amount),0),L=b.reduce((N,V)=>N+Math.abs(V.amount),0);return{totalTransactions:a,totalSpent:o,averageTransaction:s,largestTransaction:d,thisMonth:O,lastMonth:L}}getBudgetStatusClass(t){var a,o;if(!((a=t.budget)!=null&&a.hasBudget))return"";let i=((o=t.budget)==null?void 0:o.budgetProgressPercentage)||0;return i>=90?"danger":i>=75?"warning":"safe"}getRemainingBudgetClass(t){var a,o,s,d;if(!((a=t.budget)!=null&&a.hasBudget))return"";let i=(((o=t.budget)==null?void 0:o.budgetAmount)||0)-(((s=t.budget)==null?void 0:s.budgetSpent)||0);return i<=0?"danger":i<(((d=t.budget)==null?void 0:d.budgetAmount)||0)*.1?"warning":"safe"}calculateTotalSpentPerMonth(t){return this.transactions.filter(o=>o.category===t.name).reduce((o,s)=>o+Math.abs(s.amount),0)}calculateTotalIncomePerMonth(t){return this.transactions.filter(o=>o.category===t.name).reduce((o,s)=>o+s.amount,0)}getOverallBudgetStats(){let t=this.categories.filter(m=>{var f;return((f=m.budget)==null?void 0:f.hasBudget)&&m.type===Yr.EXPENSE});if(t.length===0)return{totalBudget:0,totalSpent:0,totalRemaining:0,overallProgress:0,categoriesWithBudget:0,averageBudget:0};let i=t.reduce((m,f)=>{var _;return m+(((_=f.budget)==null?void 0:_.budgetAmount)||0)},0),a=t.reduce((m,f)=>{var _;return m+(((_=f.budget)==null?void 0:_.budgetSpent)||0)},0),o=i-a,s=i>0?a/i*100:0,d=i/t.length;return{totalBudget:i,totalSpent:a,totalRemaining:o,overallProgress:s,categoriesWithBudget:t.length,averageBudget:d}}getOverallBudgetStatusClass(){let t=this.getOverallBudgetStats();return t.overallProgress>=90?"danger":t.overallProgress>=75?"warning":"safe"}getOverallBudgetProgressColor(){let t=this.getOverallBudgetStats();return t.overallProgress>=100?"#ef4444":t.overallProgress>=80?"#f59e0b":t.overallProgress>=60?"#3b82f6":"#10b981"}getDetailedBudgetStats(){let t=this.categories.filter(m=>{var f;return((f=m.budget)==null?void 0:f.hasBudget)&&m.type===Yr.EXPENSE});if(t.length===0)return{categories:[],totalCategories:0,averageSpentPerCategory:0,mostExpensiveCategory:null,leastExpensiveCategory:null};let i=t.map(m=>{var f,_,v,w,C;return{name:m.name,budget:((f=m.budget)==null?void 0:f.budgetAmount)||0,spent:((_=m.budget)==null?void 0:_.budgetSpent)||0,remaining:(((v=m.budget)==null?void 0:v.budgetAmount)||0)-(((w=m.budget)==null?void 0:w.budgetSpent)||0),progress:((C=m.budget)==null?void 0:C.budgetProgressPercentage)||0,color:m.color,icon:m.icon}}),o=i.reduce((m,f)=>m+f.spent,0)/i.length,s=i.reduce((m,f)=>f.spent>m.spent?f:m,i[0]),d=i.reduce((m,f)=>f.spent<m.spent?f:m,i[0]);return{categories:i.sort((m,f)=>f.spent-m.spent),totalCategories:i.length,averageSpentPerCategory:o,mostExpensiveCategory:s,leastExpensiveCategory:d}}};n.\u0275fac=function(i){return new(i||n)(D(Ut),D(ar),D(At),D(Pa),D(Sr),D(qt),D(Yd),D(Mn))},n.\u0275cmp=Fe({type:n,selectors:[["transaction-category"]],inputs:{home:"home"},decls:10,vars:7,consts:[["menu","matMenu"],[1,"categories-container"],["class","error-message mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center justify-between",4,"ngIf"],["mat-fab","","color","primary","class","add-category-btn z-[100]",3,"click",4,"ngIf"],["class","fab-button",4,"ngIf"],[1,"categories-grid"],[1,"categories-list"],["class","section-header",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","categories-grid-list",4,"ngIf"],["class","flex justify-center",4,"ngIf"],[1,"error-message","mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg","flex","items-center","justify-between"],[1,"text-red-700","text-sm"],["mat-icon-button","",1,"error-close-button",3,"click"],["mat-fab","","color","primary",1,"add-category-btn","z-[100]",3,"click"],[1,"fab-button"],["mat-fab","","color","primary",1,"desktop-fab-btn",3,"click"],[1,"section-header"],[1,"header-content"],[1,"section-title"],[1,"section-subtitle"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-text"],["mat-raised-button","","color","primary","class","empty-state-button",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",1,"empty-state-button",3,"click"],[1,"categories-grid-list"],["class","budget-summary-card",3,"expanded",4,"ngIf"],["class","no-budget-card",4,"ngIf"],[1,"budget-summary-card"],[1,"budget-summary-header"],[1,"budget-icon"],[1,"budget-summary-title"],[1,"budget-summary-stats"],[1,"budget-stat-item"],[1,"budget-stat-label"],[1,"budget-stat-value"],[1,"overall-budget-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"expand-section"],["mat-button","",1,"expand-btn",3,"click"],["class","budget-details-expanded",4,"ngIf"],[1,"budget-details-expanded"],[1,"details-tabs"],["label","Summary"],[1,"tab-content"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],["class","detail-row",4,"ngIf"],["label","Category Breakdown"],[1,"category-breakdown-list"],["class","category-breakdown-item",4,"ngFor","ngForOf"],[1,"category-breakdown-item"],[1,"category-breakdown-header"],[1,"category-name"],[1,"category-breakdown-stats"],[1,"breakdown-stat"],[1,"breakdown-label"],[1,"breakdown-value"],[1,"breakdown-value","spent"],[1,"category-breakdown-progress"],[1,"no-budget-card"],[1,"no-budget-content"],[1,"no-budget-icon"],[1,"no-budget-text-content"],[1,"no-budget-title"],[1,"no-budget-text"],[1,"category-item",3,"border-left-color","expanded"],[1,"category-item"],[1,"category-content"],[1,"category-info"],[1,"category-icon-name"],[1,"category-icon-container"],[1,"category-icon"],[1,"category-details"],[1,"category-header"],[1,"text-[0.6rem]","text-gray-400"],["class","budget-info",4,"ngIf"],["class","category-spent",4,"ngIf"],[1,"category-actions"],["mat-menu-item","","class","action-button budget-button","matTooltip","Set budget",3,"click",4,"ngIf"],["mat-menu-item","","matTooltip","Edit category",1,"action-button","edit-button",3,"click"],["mat-menu-item","","matTooltip","Delete category",1,"action-button","delete-button",3,"click"],["matIconButton","",3,"matMenuTriggerFor"],["class","category-details-expanded",4,"ngIf"],[1,"budget-info"],[1,"budget-amount"],[1,"budget-label"],[1,"budget-value"],[1,"budget-period"],["class","budget-progress",4,"ngIf"],[1,"budget-progress"],[1,"category-spent"],[1,"category-spent-label"],[1,"category-spent-value"],[1,"category-spent-period"],["mat-menu-item","","matTooltip","Set budget",1,"action-button","budget-button",3,"click"],[1,"category-details-expanded"],["label","Basic Details"],[1,"color-preview"],["label","Budget Details",4,"ngIf"],["label","Recent Transactions"],["class","no-transactions",4,"ngIf"],["class","transaction-list",4,"ngIf"],["label","Statistics"],[1,"detail-value","negative"],["label","Budget Details"],[1,"no-budget-details"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"no-transactions"],[1,"transaction-list"],["class","transaction-item",4,"ngFor","ngForOf"],[1,"transaction-item"],[1,"transaction-info"],[1,"transaction-description"],[1,"transaction-date"],[1,"transaction-amount"],[1,"flex","justify-center"],["routerLink","/dashboard/category",1,"text-primary","hover:underline","text-xs"],[1,"text-xs","top-[10px]","relative"]],template:function(i,a){i&1&&(c(0,"div",1),G(1,o8,6,1,"div",2)(2,s8,3,0,"button",3)(3,c8,4,0,"div",4),c(4,"div",5)(5,"section",6),G(6,l8,6,2,"div",7)(7,u8,9,1,"div",8)(8,D8,4,3,"div",9)(9,F8,5,0,"div",10),l()()()),i&2&&(g(),P("ngIf",a.errorMessage),g(),P("ngIf",a.isMobile&&!a.home),g(),P("ngIf",!a.isMobile),g(3),P("ngIf",!a.home),g(),P("ngIf",a.categories.length===0),g(),P("ngIf",a.categories.length>0),g(),P("ngIf",a.home))},dependencies:[an,Tt,lh,zt,Cn,wn,gc,vl,Zd,bc,vc,yc,ni,Ko,zi,Ro],styles:['@charset "UTF-8";@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.categories-container[_ngcontent-%COMP%]{padding:1rem;background:inherit;overflow:auto}@media (max-width: 640px){.categories-container[_ngcontent-%COMP%]{padding:.5rem}}.error-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease}.error-message[_ngcontent-%COMP%]   .error-close-button[_ngcontent-%COMP%]{color:#dc2626;min-width:44px;min-height:44px}.loading-indicator[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:linear-gradient(90deg,#f8fafc,#e2e8f0,#f8fafc);border-bottom:1px solid #e2e8f0;box-shadow:0 2px 4px #0000000d;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.loading-indicator[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{height:3px}.loading-indicator[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]     .mat-progress-bar-fill:after{background:linear-gradient(90deg,#3b82f6,#1d4ed8,#3b82f6);animation:_ngcontent-%COMP%_shimmer 2s ease-in-out infinite}.loading-indicator[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]     .mat-progress-bar-buffer{background:#3b82f61a}.categories-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;max-width:1200px;margin:0 auto;transition:opacity .3s ease}.categories-grid.loading[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}@media (min-width: 768px){.categories-grid[_ngcontent-%COMP%]{flex-wrap:nowrap;gap:3rem}}@media (max-width: 640px){.categories-grid[_ngcontent-%COMP%]{gap:1.5rem}}.categories-list[_ngcontent-%COMP%]{width:100%}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;position:relative}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;flex:1}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:clamp(1.25rem,3vw,2rem);font-weight:600;color:#1f2937;margin:0 0 .25rem;height:35px}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-subtitle[_ngcontent-%COMP%]{color:#6b7280;font-size:clamp(.75rem,2vw,1rem);margin:0}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .mobile-add-button[_ngcontent-%COMP%]{flex-shrink:0;margin-left:1rem;box-shadow:0 4px 12px #00000026;transition:all .2s ease;min-width:56px;min-height:56px}.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .mobile-add-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 16px #0003}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .mobile-add-button[_ngcontent-%COMP%]{min-width:48px;min-height:48px}}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;background:#fff;border-radius:12px;border:2px dashed #d1d5db}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{margin-bottom:1rem}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:clamp(2.5rem,6vw,4rem);width:clamp(2.5rem,6vw,4rem);height:clamp(2.5rem,6vw,4rem);color:#9ca3af}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.5rem);font-weight:500;color:#374151;margin:0 0 .5rem}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-text[_ngcontent-%COMP%]{color:#6b7280;font-size:clamp(.75rem,2vw,1rem);margin:0 0 1.5rem}.categories-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-state-button[_ngcontent-%COMP%]{min-height:44px;padding:.75rem 1.5rem;display:inline-flex;align-items:center;gap:.5rem}.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;max-height:60vh;overflow-y:auto;scrollbar-width:thin;scrollbar-color:#cbd5e1 #f1f5f9}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]{max-height:50vh;gap:.75rem;max-height:60vh}}.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.categories-list[_ngcontent-%COMP%]   .categories-grid-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{width:100%;max-width:48%;background:#fff;border-radius:12px;padding:1.25rem;border:1px solid #e5e7eb;cursor:pointer;transition:all .2s ease;border-left:4px solid transparent}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;max-width:100%}}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a;border-color:#d1d5db}.categories-list[_ngcontent-%COMP%]   .category-item.editing[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a;background:#f0f9ff}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;position:relative}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-content[_ngcontent-%COMP%]{gap:.75rem}}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]{padding:0 10px 10px;flex:1}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]{gap:.5rem}}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-icon-container[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-icon-container[_ngcontent-%COMP%]{width:2rem;height:2rem}}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-icon-container[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem;color:#fff}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:.5rem}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]{gap:.375rem}}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{gap:.125rem}}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{padding-top:8px;font-size:clamp(1rem,2.5vw,1.25rem);font-weight:600;color:#1f2937;margin:0;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:80%}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1rem}}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.375rem;width:95%}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]{gap:.25rem}}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;flex-wrap:wrap}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]   .budget-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]   .budget-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-amount[_ngcontent-%COMP%]   .budget-period[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:6px;background-color:#e5e7eb;border-radius:3px;overflow:hidden}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease;border-radius:3px}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .budget-info[_ngcontent-%COMP%]   .budget-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;display:block;line-height:1.2}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-spent[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;flex-wrap:wrap}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-spent[_ngcontent-%COMP%]   .category-spent-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-spent[_ngcontent-%COMP%]   .category-spent-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .category-spent[_ngcontent-%COMP%]   .category-spent-period[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-icon-name[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%]   .no-budget[_ngcontent-%COMP%]   .no-budget-text[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af;font-style:italic}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0;align-items:flex-start;position:absolute;right:0;top:0}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .category-type[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;color:#6b7280;border-radius:5px;font-size:clamp(.625rem,1.5vw,.875rem);font-weight:500;text-transform:capitalize;align-self:flex-start}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .category-type[_ngcontent-%COMP%]{font-size:.75rem;padding:0 .2rem}}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]{gap:.25rem}}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{min-width:44px;min-height:44px}@media (max-width: 640px){.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{min-width:40px;min-height:40px}}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1)}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.budget-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#dbeafe}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.budget-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:#2563eb}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.budget-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#fef3c7}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:#d97706}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.edit-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#fee2e2}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]:hover:not(:disabled)   mat-icon[_ngcontent-%COMP%]{color:#dc2626}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]   .action-button.delete-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.add-category[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;border:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}@media (max-width: 640px){.add-category[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{padding:1rem;border-radius:10px}}.add-category[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.add-category[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]{font-size:clamp(1.25rem,3vw,2rem);font-weight:600;color:#1f2937;margin:0;display:flex;align-items:center;gap:.5rem}.add-category[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .form-title[_ngcontent-%COMP%]   .form-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem;color:#3b82f6}.add-category[_ngcontent-%COMP%]   .category-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]{width:100%}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]     .mat-form-field-outline{border-radius:8px}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]     .mat-form-field-outline-thick{color:#3b82f6}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]     .mat-form-field-infix{padding:.75rem 0;min-height:44px}@media (max-width: 640px){.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]     .mat-form-field-infix{min-height:48px}}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]     .mat-form-field-label{color:#6b7280}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input-field[_ngcontent-%COMP%]     .mat-form-field-label.mat-focused{color:#3b82f6}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #d1d5db;border-radius:8px;font-size:1rem;transition:all .2s ease;background:#fff;min-height:44px}@media (max-width: 640px){.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{min-height:48px;font-size:16px}}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder, .add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{cursor:pointer}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]{position:relative}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s ease;font-size:1rem;min-height:44px}@media (max-width: 640px){.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]{min-height:48px;font-size:16px}}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;color:#3b82f6}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .icon-label[_ngcontent-%COMP%]{flex:1;text-align:left;color:#374151;font-family:Roboto Mono,monospace;font-size:.875rem}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]   .icon-preview-button[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{color:#6b7280;transition:transform .2s ease}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]     .icon-menu .mat-mdc-menu-panel{min-width:300px}@media (max-width: 640px){.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]     .icon-menu .mat-mdc-menu-panel{max-width:350px;min-width:280px}}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]     .icon-menu .mat-mdc-menu-content{padding:0}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]     .icon-menu .icon-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(60px,1fr));gap:.5rem;padding:1rem;max-height:300px;overflow-y:auto}@media (max-width: 640px){.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]     .icon-menu .icon-grid{grid-template-columns:repeat(auto-fill,minmax(50px,1fr));gap:.25rem;padding:.75rem}}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]     .icon-menu .icon-grid .icon-option{display:flex;align-items:center;justify-content:center;width:100%;height:50px;border:1px solid #e5e7eb;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s ease;min-height:44px}@media (max-width: 640px){.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]     .icon-menu .icon-grid .icon-option{height:45px;min-height:40px}}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]     .icon-menu .icon-grid .icon-option:hover{border-color:#3b82f6;background:#eff6ff;transform:scale(1.05)}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]     .icon-menu .icon-grid .icon-option.selected{border-color:#3b82f6;background:#dbeafe;color:#1d4ed8}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]     .icon-menu .icon-grid .icon-option mat-icon{font-size:1.25rem;width:1.25rem;height:1.25rem}@media (max-width: 640px){.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .icon-selector[_ngcontent-%COMP%]     .icon-menu .icon-grid .icon-option mat-icon{font-size:1.125rem;width:1.125rem;height:1.125rem}}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]{position:relative}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s ease;font-size:1rem;min-height:44px}@media (max-width: 640px){.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]{min-height:48px;font-size:16px}}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]:hover{border-color:#9ca3af}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:6px;border:2px solid #e5e7eb;flex-shrink:0}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .color-label[_ngcontent-%COMP%]{flex:1;text-align:left;color:#374151;font-family:Roboto Mono,monospace;font-size:.875rem}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]   .color-preview-button[_ngcontent-%COMP%]   .dropdown-icon[_ngcontent-%COMP%]{color:#6b7280;transition:transform .2s ease}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]     .color-menu .mat-mdc-menu-panel{max-width:350px;min-width:280px}@media (max-width: 640px){.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]     .color-menu .mat-mdc-menu-panel{max-width:300px;min-width:250px}}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]     .color-menu .mat-mdc-menu-content{padding:0}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]     .color-menu .color-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(40px,1fr));gap:.5rem;padding:1rem;max-height:300px;overflow-y:auto}@media (max-width: 640px){.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]     .color-menu .color-grid{grid-template-columns:repeat(auto-fill,minmax(35px,1fr));gap:.25rem;padding:.75rem}}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]     .color-menu .color-grid .color-option{display:flex;align-items:center;justify-content:center;width:100%;height:40px;border:2px solid #e5e7eb;border-radius:8px;cursor:pointer;transition:all .2s ease;min-height:44px;position:relative}@media (max-width: 640px){.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]     .color-menu .color-grid .color-option{height:35px;min-height:40px}}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]     .color-menu .color-grid .color-option:hover{border-color:#3b82f6;transform:scale(1.1);box-shadow:0 4px 12px #00000026}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]     .color-menu .color-grid .color-option.selected{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f64d}.add-category[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .color-selector[_ngcontent-%COMP%]     .color-menu .color-grid .color-option.selected:after{content:"\\2713";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-weight:700;font-size:14px;text-shadow:0 1px 2px rgba(0,0,0,.5)}.add-category[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem}@media (max-width: 640px){.add-category[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}}.add-category[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:.5rem;min-height:44px}@media (max-width: 640px){.add-category[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{min-height:48px;width:100%}}.add-category[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:.5rem}.add-category[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;min-height:44px}@media (max-width: 640px){.add-category[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{min-height:48px;width:100%}}.add-category-btn[_ngcontent-%COMP%]{position:absolute;bottom:8rem;right:1rem}  .mat-autocomplete-panel{border-radius:8px;box-shadow:0 4px 12px #00000026;border:1px solid #e5e7eb;max-height:200px}  .mat-autocomplete-panel .mat-option{padding:.75rem 1rem;font-size:.875rem;color:#374151;transition:all .2s ease}  .mat-autocomplete-panel .mat-option:hover{background:#f3f4f6}  .mat-autocomplete-panel .mat-option.mat-selected{background:#dbeafe;color:#1d4ed8}.expand-section[_ngcontent-%COMP%]{display:flex;justify-content:center;border-top:1px solid #e5e7eb}.dark[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]{border-top:1px solid #4b5563}.expand-btn[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.expand-btn[_ngcontent-%COMP%]:hover{color:#374151;background:#f3f4f6}.dark[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover{color:#f9fafb;background:#374151}.category-details-expanded[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;background:#f9fafb}.dark[_ngcontent-%COMP%]   .category-details-expanded[_ngcontent-%COMP%]{border-top:1px solid #4b5563;background:#374151}.details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-header{background:#fff;border-bottom:1px solid #e5e7eb}.details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label{color:#6b7280;font-weight:500}.details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label.mat-mdc-tab-label-active{color:#3b82f6}.details-tabs[_ngcontent-%COMP%]     .mat-mdc-ink-bar{background-color:#3b82f6}.dark[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-header{background:#1f2937;border-bottom:1px solid #4b5563}.dark[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label{color:#9ca3af}.dark[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-label.mat-mdc-tab-label-active{color:#60a5fa}.dark[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-mdc-ink-bar{background-color:#60a5fa}.tab-content[_ngcontent-%COMP%]{padding:16px;background:#fff;min-height:200px}.dark[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{background:#1f2937}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f3f4f6}.detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.dark[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{border-bottom:1px solid #374151}.detail-label[_ngcontent-%COMP%]{font-weight:500;color:#6b7280;font-size:.875rem}.dark[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{color:#9ca3af}.detail-value[_ngcontent-%COMP%]{font-weight:600;color:#111827;font-size:.875rem;display:flex;align-items:center;gap:8px}.detail-value.positive[_ngcontent-%COMP%]{color:#10b981}.detail-value.negative[_ngcontent-%COMP%]{color:#ef4444}.detail-value.safe[_ngcontent-%COMP%]{color:#10b981}.detail-value.warning[_ngcontent-%COMP%]{color:#f59e0b}.detail-value.danger[_ngcontent-%COMP%]{color:#ef4444}.dark[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .detail-value.positive[_ngcontent-%COMP%]{color:#34d399}.dark[_ngcontent-%COMP%]   .detail-value.negative[_ngcontent-%COMP%]{color:#f87171}.dark[_ngcontent-%COMP%]   .detail-value.safe[_ngcontent-%COMP%]{color:#34d399}.dark[_ngcontent-%COMP%]   .detail-value.warning[_ngcontent-%COMP%]{color:#fbbf24}.dark[_ngcontent-%COMP%]   .detail-value.danger[_ngcontent-%COMP%]{color:#f87171}.color-preview[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:4px;border:1px solid #d1d5db}.dark[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{border-color:#4b5563}.no-budget-details[_ngcontent-%COMP%]{text-align:center;padding:32px 16px;color:#6b7280}.no-budget-details[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;margin-bottom:8px;opacity:.5}.no-budget-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.125rem;font-weight:600;color:#374151}.no-budget-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px;font-size:.875rem}.no-budget-details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.dark[_ngcontent-%COMP%]   .no-budget-details[_ngcontent-%COMP%]{color:#9ca3af}.dark[_ngcontent-%COMP%]   .no-budget-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.no-transactions[_ngcontent-%COMP%]{text-align:center;padding:32px 16px;color:#6b7280}.no-transactions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;margin-bottom:8px;opacity:.5}.no-transactions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem}.dark[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]{color:#9ca3af}.transaction-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.transaction-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:#f9fafb;border-radius:6px;transition:background .2s ease}.transaction-item[_ngcontent-%COMP%]:hover{background:#f3f4f6}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{background:#374151}.dark[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background:#4b5563}.transaction-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.transaction-description[_ngcontent-%COMP%]{font-weight:500;color:#111827;font-size:.875rem}.dark[_ngcontent-%COMP%]   .transaction-description[_ngcontent-%COMP%]{color:#f9fafb}.transaction-date[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.dark[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{color:#9ca3af}.transaction-amount[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}.transaction-amount.positive[_ngcontent-%COMP%]{color:#10b981}.transaction-amount.negative[_ngcontent-%COMP%]{color:#ef4444}.dark[_ngcontent-%COMP%]   .transaction-amount.positive[_ngcontent-%COMP%]{color:#34d399}.dark[_ngcontent-%COMP%]   .transaction-amount.negative[_ngcontent-%COMP%]{color:#f87171}@media (max-width: 768px){.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:12px}.category-details-expanded[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}.category-details-expanded[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{align-self:flex-end}}@media (max-width: 480px){.category-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:8px}.category-details-expanded[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%], .category-details-expanded[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.8rem}}.budget-summary-card[_ngcontent-%COMP%]{width:100%;max-width:48%;background:#fff;border-radius:12px;padding:1.25rem;border:1px solid #e5e7eb;transition:all .2s ease;border-left:4px solid #3b82f6;position:relative;overflow:hidden}@media (max-width: 640px){.budget-summary-card[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;max-width:100%}}.budget-summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a;border-color:#d1d5db}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-header[_ngcontent-%COMP%]   .budget-icon[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;width:1.5rem;height:1.5rem;background:#3b82f6;border-radius:8px;padding:.5rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-header[_ngcontent-%COMP%]   .budget-summary-title[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.25rem);font-weight:600;color:#1f2937;margin:0;line-height:1.2}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:.5rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.spent[_ngcontent-%COMP%], .budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.danger[_ngcontent-%COMP%]{color:#dc2626}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.warning[_ngcontent-%COMP%]{color:#f59e0b}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-stats[_ngcontent-%COMP%]   .budget-stat-item[_ngcontent-%COMP%]   .budget-stat-value.safe[_ngcontent-%COMP%]{color:#10b981}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;margin-bottom:1rem}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:6px;background-color:#e5e7eb;border-radius:3px;overflow:hidden}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease;border-radius:3px}.budget-summary-card[_ngcontent-%COMP%]   .overall-budget-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;display:block;line-height:1.2}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:.75rem;border-top:1px solid #e5e7eb}.budget-summary-card[_ngcontent-%COMP%]   .budget-summary-footer[_ngcontent-%COMP%]   .budget-categories-count[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]{display:flex;justify-content:center;border-top:1px solid #e5e7eb}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;display:flex;align-items:center;gap:.5rem;transition:color .2s ease}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover{color:#3b82f6}.budget-summary-card[_ngcontent-%COMP%]   .expand-section[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid #e5e7eb}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-group .mat-tab-header{border-bottom:1px solid #e5e7eb;margin-bottom:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-group .mat-tab-header .mat-tab-label{color:#6b7280;font-weight:500;min-width:120px}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-group .mat-tab-header .mat-tab-label.mat-tab-label-active{color:#3b82f6}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .details-tabs[_ngcontent-%COMP%]     .mat-tab-group .mat-tab-header .mat-ink-bar{background-color:#3b82f6}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:.5rem 0}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid #f3f4f6}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.875rem;color:#1f2937;font-weight:600;display:flex;align-items:center;gap:.5rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:1rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-header[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1f2937}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem;margin-bottom:.75rem}@media (max-width: 480px){.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]{grid-template-columns:1fr}}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.spent[_ngcontent-%COMP%], .budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.danger[_ngcontent-%COMP%]{color:#dc2626}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.warning[_ngcontent-%COMP%]{color:#f59e0b}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-stats[_ngcontent-%COMP%]   .breakdown-stat[_ngcontent-%COMP%]   .breakdown-value.safe[_ngcontent-%COMP%]{color:#10b981}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:6px;background-color:#e5e7eb;border-radius:3px;overflow:hidden}.budget-summary-card[_ngcontent-%COMP%]   .budget-details-expanded[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .category-breakdown-list[_ngcontent-%COMP%]   .category-breakdown-item[_ngcontent-%COMP%]   .category-breakdown-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease;border-radius:3px}.overall-budget-card[_ngcontent-%COMP%]{margin-bottom:1rem;animation:_ngcontent-%COMP%_slideIn .3s ease}.overall-budget-card[_ngcontent-%COMP%]   .no-budget-card[_ngcontent-%COMP%]{width:100%;max-width:48%;background:#fff;border-radius:12px;padding:1.25rem;border:1px solid #e5e7eb;transition:all .2s ease;border-left:4px solid #f59e0b}@media (max-width: 640px){.overall-budget-card[_ngcontent-%COMP%]   .no-budget-card[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;max-width:100%}}.overall-budget-card[_ngcontent-%COMP%]   .no-budget-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a;border-color:#d1d5db}.overall-budget-card[_ngcontent-%COMP%]   .no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.overall-budget-card[_ngcontent-%COMP%]   .no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-icon[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;width:1.5rem;height:1.5rem;background:#f59e0b;border-radius:8px;padding:.5rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.overall-budget-card[_ngcontent-%COMP%]   .no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]{flex:1}.overall-budget-card[_ngcontent-%COMP%]   .no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-title[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.25rem);font-weight:600;color:#1f2937;margin:0 0 .25rem;line-height:1.2}.overall-budget-card[_ngcontent-%COMP%]   .no-budget-card[_ngcontent-%COMP%]   .no-budget-content[_ngcontent-%COMP%]   .no-budget-text-content[_ngcontent-%COMP%]   .no-budget-text[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin:0;line-height:1.2}']});let e=n;return e})();var ii=To(Fo());var Bs=To(Fo());var Fc=(()=>{let n=class n{constructor(){this.selectedDateSubject=new Jt(null),this.selectedDateRangeSubject=new Jt(null),this.categoryFilterSubject=new Jt(null),this.searchTermSubject=new Jt(""),this.selectedCategorySubject=new Jt(["all"]),this.selectedTypeSubject=new Jt("all"),this.accountFilterSubject=new Jt([]),this.amountRangeSubject=new Jt({min:null,max:null}),this.statusFilterSubject=new Jt([]),this.tagsSubject=new Jt([]),this.filterStateSubject=new Jt(this.getDefaultFilterState()),this.filterHistorySubject=new Jt([]),this.filterPresetsSubject=new Jt([]),this.activePresetSubject=new Jt(null),this.selectedDate$=this.selectedDateSubject.asObservable(),this.selectedDateRange$=this.selectedDateRangeSubject.asObservable(),this.categoryFilter$=this.categoryFilterSubject.asObservable(),this.searchTerm$=this.searchTermSubject.asObservable(),this.selectedCategory$=this.selectedCategorySubject.asObservable(),this.selectedType$=this.selectedTypeSubject.asObservable(),this.accountFilter$=this.accountFilterSubject.asObservable(),this.amountRange$=this.amountRangeSubject.asObservable(),this.statusFilter$=this.statusFilterSubject.asObservable(),this.tags$=this.tagsSubject.asObservable(),this.filterState$=this.filterStateSubject.asObservable(),this.filterHistory$=this.filterHistorySubject.asObservable(),this.filterPresets$=this.filterPresetsSubject.asObservable(),this.activePreset$=this.activePresetSubject.asObservable(),this.hasActiveFilters$=this.filterState$.pipe(at(t=>this.hasActiveFilters(t)),dd()),this.activeFiltersCount$=this.filterState$.pipe(at(t=>this.getActiveFiltersCount(t)),dd()),this.initializePresets(),this.setupFilterStateUpdates()}setSelectedDate(t){this.selectedDateSubject.next(t),this.selectedDateRangeSubject.next(null)}getSelectedDate(){return this.selectedDateSubject.value}setSelectedDateRange(t,i){if(!t||!i){console.warn("Invalid date range provided");return}this.selectedDateRangeSubject.next({startDate:t,endDate:i}),this.selectedDateSubject.next(null)}getSelectedDateRange(){return this.selectedDateRangeSubject.value}setCategoryFilter(t,i,a,o){if(!t||i===void 0||a===void 0||!o){console.warn("Invalid category filter parameters provided");return}let s={categoryName:t,year:i,month:a,monthName:o};this.categoryFilterSubject.next(s)}getCategoryFilter(){return this.categoryFilterSubject.value}setSearchTerm(t){this.searchTermSubject.next(t||"")}getSearchTerm(){return this.searchTermSubject.value}setSelectedCategory(t){if(!Array.isArray(t)||t.length===0){console.warn("Invalid categories array provided");return}this.selectedCategorySubject.next(t)}getSelectedCategory(){return this.selectedCategorySubject.value}setSelectedType(t){this.selectedTypeSubject.next(t||"all")}getSelectedType(){return this.selectedTypeSubject.value}setAccountFilter(t){if(!Array.isArray(t)){console.warn("Invalid accounts array provided");return}this.accountFilterSubject.next(t)}getAccountFilter(){return this.accountFilterSubject.value}setAmountRange(t,i){this.amountRangeSubject.next({min:t,max:i})}getAmountRange(){return this.amountRangeSubject.value}setStatusFilter(t){if(!Array.isArray(t)){console.warn("Invalid statuses array provided");return}this.statusFilterSubject.next(t)}getStatusFilter(){return this.statusFilterSubject.value}setTags(t){if(!Array.isArray(t)){console.warn("Invalid tags array provided");return}this.tagsSubject.next(t)}getTags(){return this.tagsSubject.value}clearSelectedDate(){this.selectedDateSubject.next(null),this.selectedDateRangeSubject.next(null)}clearCategoryFilter(){this.categoryFilterSubject.next(null)}clearSearchTerm(){this.searchTermSubject.next("")}clearSelectedCategory(){this.selectedCategorySubject.next(["all"])}clearSelectedType(){this.selectedTypeSubject.next("all")}clearAccountFilter(){this.accountFilterSubject.next([])}clearAmountRange(){this.amountRangeSubject.next({min:null,max:null})}clearStatusFilter(){this.statusFilterSubject.next([])}clearTags(){this.tagsSubject.next([])}clearAllFilters(){this.clearSelectedDate(),this.clearCategoryFilter(),this.clearSearchTerm(),this.clearSelectedCategory(),this.clearSelectedType(),this.clearAccountFilter(),this.clearAmountRange(),this.clearStatusFilter(),this.clearTags(),this.activePresetSubject.next(null)}setupFilterStateUpdates(){cd([this.selectedDate$,this.selectedDateRange$,this.categoryFilter$,this.searchTerm$,this.selectedCategory$,this.selectedType$,this.accountFilter$,this.amountRange$,this.statusFilter$,this.tags$]).subscribe(([t,i,a,o,s,d,m,f,_,v])=>{let w={searchTerm:o,selectedCategory:s,selectedType:d,selectedDate:t,selectedDateRange:i,categoryFilter:a,accountFilter:m,amountRange:f,statusFilter:_,tags:v};this.filterStateSubject.next(w),this.addToHistory(w)})}saveAsPreset(t,i){if(!t||!i){console.warn("Preset name and description are required");return}let a=this.getCurrentFilterState(),o={id:this.generatePresetId(),name:t,description:i,filter:a},s=[...this.filterPresetsSubject.value,o];this.filterPresetsSubject.next(s),this.savePresetsToStorage(s)}applyPreset(t){let a=this.filterPresetsSubject.value.find(o=>o.id===t);a?(this.applyFilterState(a.filter),this.activePresetSubject.next(t)):console.warn(`Preset with id ${t} not found`)}deletePreset(t){let i=this.filterPresetsSubject.value.filter(a=>a.id!==t);this.filterPresetsSubject.next(i),this.savePresetsToStorage(i)}addToHistory(t){let i={timestamp:new Date,filter:t,description:this.generateFilterDescription(t)},a=this.filterHistorySubject.value,o=[i,...a.slice(0,9)];this.filterHistorySubject.next(o)}getFilterHistory(){return this.filterHistorySubject.value}clearFilterHistory(){this.filterHistorySubject.next([])}getCurrentFilterState(){return this.filterStateSubject.value}hasActiveFilters(t){let i=t||this.getCurrentFilterState();return!!(i.searchTerm||!i.selectedCategory.includes("all")||i.selectedType!=="all"||i.selectedDate||i.selectedDateRange||i.categoryFilter||i.accountFilter.length>0||i.amountRange.min!==null||i.amountRange.max!==null||i.statusFilter.length>0||i.tags.length>0)}getActiveFiltersCount(t){let i=t||this.getCurrentFilterState(),a=0;return i.searchTerm&&a++,i.selectedCategory.includes("all")||a++,i.selectedType!=="all"&&a++,i.selectedDate&&a++,i.selectedDateRange&&a++,i.categoryFilter&&a++,i.accountFilter.length>0&&a++,(i.amountRange.min!==null||i.amountRange.max!==null)&&a++,i.statusFilter.length>0&&a++,i.tags.length>0&&a++,a}applyFilterState(t){t.searchTerm!==void 0&&this.setSearchTerm(t.searchTerm),t.selectedCategory!==void 0&&this.setSelectedCategory(t.selectedCategory),t.selectedType!==void 0&&this.setSelectedType(t.selectedType),t.selectedDate!==void 0&&this.setSelectedDate(t.selectedDate),t.selectedDateRange!==void 0&&t.selectedDateRange&&this.setSelectedDateRange(t.selectedDateRange.startDate,t.selectedDateRange.endDate),t.categoryFilter!==void 0&&this.categoryFilterSubject.next(t.categoryFilter),t.accountFilter!==void 0&&this.setAccountFilter(t.accountFilter),t.amountRange!==void 0&&this.setAmountRange(t.amountRange.min,t.amountRange.max),t.statusFilter!==void 0&&this.setStatusFilter(t.statusFilter),t.tags!==void 0&&this.setTags(t.tags)}resetToDefaults(){this.applyFilterState(this.getDefaultFilterState())}getDefaultFilterState(){return{searchTerm:"",selectedCategory:["all"],selectedType:"all",selectedDate:null,selectedDateRange:null,categoryFilter:null,accountFilter:[],amountRange:{min:null,max:null},statusFilter:[],tags:[]}}getDefaultPresets(){return[{id:"default-all",name:"All Transactions",description:"Show all transactions without filters",filter:this.getDefaultFilterState(),isDefault:!0},{id:"default-current-month",name:"Current Month",description:"Show transactions from current month",filter:xe(ue({},this.getDefaultFilterState()),{selectedDateRange:{startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date(new Date().getFullYear(),new Date().getMonth()+1,0)}})}]}initializePresets(){let t=this.loadPresetsFromStorage();this.filterPresetsSubject.next(t)}generatePresetId(){return`preset-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}generateFilterDescription(t){let i=[];return t.searchTerm&&i.push(`Search: "${t.searchTerm}"`),t.selectedCategory.includes("all")||i.push(`Category: ${t.selectedCategory.join(", ")}`),t.selectedType!=="all"&&i.push(`Type: ${t.selectedType}`),t.selectedDate&&i.push(`Date: ${t.selectedDate.toLocaleDateString()}`),t.selectedDateRange&&i.push(`Date Range: ${t.selectedDateRange.startDate.toLocaleDateString()} - ${t.selectedDateRange.endDate.toLocaleDateString()}`),t.categoryFilter&&i.push(`Category Filter: ${t.categoryFilter.categoryName} (${t.categoryFilter.monthName} ${t.categoryFilter.year})`),i.length>0?i.join(", "):"No filters applied"}savePresetsToStorage(t){try{localStorage.setItem("money-manager-filter-presets",JSON.stringify(t))}catch(i){console.warn("Failed to save filter presets to localStorage:",i)}}loadPresetsFromStorage(){try{let t=localStorage.getItem("money-manager-filter-presets");return t?JSON.parse(t):this.getDefaultPresets()}catch(t){return console.warn("Failed to load filter presets from localStorage:",t),this.getDefaultPresets()}}filterTransactions(t,i){let a=i||this.getCurrentFilterState(),o=[...t];if(a.searchTerm&&a.searchTerm.trim()){let s=a.searchTerm.toLowerCase().trim();o=o.filter(d=>{var m,f;return((m=d.payee)==null?void 0:m.toLowerCase().includes(s))||((f=d.category)==null?void 0:f.toLowerCase().includes(s))||d.notes&&d.notes.toLowerCase().includes(s)})}if(a.selectedCategory&&!a.selectedCategory.includes("all")&&(o=o.filter(s=>a.selectedCategory.includes(s.category))),a.selectedType&&a.selectedType!=="all"&&(o=o.filter(s=>s.type===a.selectedType)),a.selectedDate){let s=(0,Bs.default)(a.selectedDate).startOf("day");o=o.filter(d=>{let m=this.getTransactionDate(d.date);return m?(0,Bs.default)(m).startOf("day").isSame(s,"day"):!1})}if(a.selectedDateRange&&a.selectedDateRange.startDate&&a.selectedDateRange.endDate){let s=(0,Bs.default)(a.selectedDateRange.startDate).startOf("day"),d=(0,Bs.default)(a.selectedDateRange.endDate).endOf("day");o=o.filter(m=>{let f=this.getTransactionDate(m.date);return f?(0,Bs.default)(f).isBetween(s,d,"day","[]"):!1})}return a.accountFilter&&a.accountFilter.length>0&&(o=o.filter(s=>a.accountFilter.includes(s.accountId))),a.amountRange&&(a.amountRange.min!==null&&(o=o.filter(s=>s.amount>=(a.amountRange.min||0))),a.amountRange.max!==null&&(o=o.filter(s=>s.amount<=(a.amountRange.max||0)))),a.statusFilter&&a.statusFilter.length>0&&(o=o.filter(s=>a.statusFilter.includes(s.status))),a.tags&&a.tags.length>0&&(o=o.filter(s=>s.tags&&a.tags.some(d=>s.tags.includes(d)))),o}filterTransactionsWithCustomFilters(t,i){let a={searchTerm:i.searchTerm||"",selectedCategory:i.selectedCategory||["all"],selectedType:i.selectedType||"all",selectedDate:i.selectedDate||null,selectedDateRange:i.selectedDateRange||null,categoryFilter:null,accountFilter:i.accountFilter||[],amountRange:i.amountRange||{min:null,max:null},statusFilter:i.statusFilter||[],tags:i.tags||[]};return this.filterTransactions(t,a)}sortTransactions(t,i="date-desc"){let a=[...t];switch(i){case"date-desc":return a.sort((o,s)=>{var f,_;let d=this.getTransactionDate(o.date),m=this.getTransactionDate(s.date);return((f=m==null?void 0:m.getTime())!=null?f:0)-((_=d==null?void 0:d.getTime())!=null?_:0)});case"date-asc":return a.sort((o,s)=>{var f,_;let d=this.getTransactionDate(o.date),m=this.getTransactionDate(s.date);return((f=d==null?void 0:d.getTime())!=null?f:0)-((_=m==null?void 0:m.getTime())!=null?_:0)});case"amount-desc":return a.sort((o,s)=>s.amount-o.amount);case"amount-asc":return a.sort((o,s)=>o.amount-s.amount);case"payee-asc":return a.sort((o,s)=>o.payee.localeCompare(s.payee));case"category-asc":return a.sort((o,s)=>o.category.localeCompare(s.category));default:return a.sort((o,s)=>{var f,_;let d=this.getTransactionDate(o.date),m=this.getTransactionDate(s.date);return((f=m==null?void 0:m.getTime())!=null?f:0)-((_=d==null?void 0:d.getTime())!=null?_:0)})}}filterAndSortTransactions(t,i,a="date-desc"){let o=this.filterTransactions(t,i);return this.sortTransactions(o,a)}getTransactionDate(t){if(!t)return null;if(t&&typeof t=="object"&&"seconds"in t)return new Date(t.seconds*1e3);if(t instanceof Date)return t;if(typeof t=="string"){let i=new Date(t);return isNaN(i.getTime())?null:i}else if(typeof t=="number")return new Date(t);return null}filterCurrentYearTransactions(t,i){let a=(0,Bs.default)().year(),o=t.filter(s=>{let d=this.getTransactionDate(s.date);return d?(0,Bs.default)(d).year()===a:!1});return this.filterTransactions(o,i)}filterYearTransactions(t,i,a){let o=t.filter(s=>{let d=this.getTransactionDate(s.date);return d?(0,Bs.default)(d).year()===i:!1});return this.filterTransactions(o,a)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var DS=new Ft("NGX_ECHARTS_CONFIG"),$1=class{constructor(){this.subject=new rl(1),this.subscriptions=new fn}doFilter(n){this.subject.next(n)}dispose(){this.subscriptions.unsubscribe()}notEmpty(n,r){this.subscriptions.add(this.subject.subscribe(t=>{if(t[n]){let i=t[n].currentValue;i!=null&&r(i)}}))}has(n,r){this.subscriptions.add(this.subject.subscribe(t=>{if(t[n]){let i=t[n].currentValue;r(i)}}))}notFirst(n,r){this.subscriptions.add(this.subject.subscribe(t=>{if(t[n]&&!t[n].isFirstChange()){let i=t[n].currentValue;r(i)}}))}notFirstAndEmpty(n,r){this.subscriptions.add(this.subject.subscribe(t=>{if(t[n]&&!t[n].isFirstChange()){let i=t[n].currentValue;i!=null&&r(i)}}))}},Of=(()=>{let n=class n{constructor(){var t;this.el=cn(tn),this.ngZone=cn(An),this.config=cn(DS),this.options=Ms(null),this.theme=Ms((t=this.config.theme)!=null?t:null),this.initOpts=Ms(null),this.merge=Ms(null),this.autoResize=Ms(!0),this.loading=Ms(!1),this.loadingType=Ms("default"),this.loadingOpts=Ms(null),this.chartInit=g_(),this.optionsError=g_(),this.chartClick=_n(this.createLazyEvent("click")),this.chartDblClick=_n(this.createLazyEvent("dblclick")),this.chartMouseDown=_n(this.createLazyEvent("mousedown")),this.chartMouseMove=_n(this.createLazyEvent("mousemove")),this.chartMouseUp=_n(this.createLazyEvent("mouseup")),this.chartMouseOver=_n(this.createLazyEvent("mouseover")),this.chartMouseOut=_n(this.createLazyEvent("mouseout")),this.chartGlobalOut=_n(this.createLazyEvent("globalout")),this.chartContextMenu=_n(this.createLazyEvent("contextmenu")),this.chartHighlight=_n(this.createLazyEvent("highlight")),this.chartDownplay=_n(this.createLazyEvent("downplay")),this.chartSelectChanged=_n(this.createLazyEvent("selectchanged")),this.chartLegendSelectChanged=_n(this.createLazyEvent("legendselectchanged")),this.chartLegendSelected=_n(this.createLazyEvent("legendselected")),this.chartLegendUnselected=_n(this.createLazyEvent("legendunselected")),this.chartLegendLegendSelectAll=_n(this.createLazyEvent("legendselectall")),this.chartLegendLegendInverseSelect=_n(this.createLazyEvent("legendinverseselect")),this.chartLegendScroll=_n(this.createLazyEvent("legendscroll")),this.chartDataZoom=_n(this.createLazyEvent("datazoom")),this.chartDataRangeSelected=_n(this.createLazyEvent("datarangeselected")),this.chartGraphRoam=_n(this.createLazyEvent("graphroam")),this.chartGeoRoam=_n(this.createLazyEvent("georoam")),this.chartTreeRoam=_n(this.createLazyEvent("treeroam")),this.chartTimelineChanged=_n(this.createLazyEvent("timelinechanged")),this.chartTimelinePlayChanged=_n(this.createLazyEvent("timelineplaychanged")),this.chartRestore=_n(this.createLazyEvent("restore")),this.chartDataViewChanged=_n(this.createLazyEvent("dataviewchanged")),this.chartMagicTypeChanged=_n(this.createLazyEvent("magictypechanged")),this.chartGeoSelectChanged=_n(this.createLazyEvent("geoselectchanged")),this.chartGeoSelected=_n(this.createLazyEvent("geoselected")),this.chartGeoUnselected=_n(this.createLazyEvent("geounselected")),this.chartAxisAreaSelected=_n(this.createLazyEvent("axisareaselected")),this.chartBrush=_n(this.createLazyEvent("brush")),this.chartBrushEnd=_n(this.createLazyEvent("brushend")),this.chartBrushSelected=_n(this.createLazyEvent("brushselected")),this.chartGlobalCursorTaken=_n(this.createLazyEvent("globalcursortaken")),this.chartRendered=_n(this.createLazyEvent("rendered")),this.chartFinished=_n(this.createLazyEvent("finished")),this.animationFrameID=null,this.chart$=new rl(1),this.resize$=new bt,this.changeFilter=new $1,this.resizeObFired=!1,this.echarts=this.config.echarts}ngOnChanges(t){this.changeFilter.doFilter(t)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(oy(100,Hb,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize()&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(t=>{for(let i of t)i.target===this.el.nativeElement&&(this.resizeObFired?this.animationFrameID=window.requestAnimationFrame(()=>{this.resize$.next()}):this.resizeObFired=!0)})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",t=>this.onOptionsChange(t)),this.changeFilter.notFirstAndEmpty("merge",t=>this.setOption(t)),this.changeFilter.has("loading",t=>this.toggleLoading(!!t)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(t){this.chart?t?this.chart.showLoading(this.loadingType(),this.loadingOpts()):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(i=>t?i.showLoading(this.loadingType(),this.loadingOpts()):i.hideLoading())}setOption(t,i){if(this.chart)try{this.chart.setOption(t,i)}catch(a){console.error(a),this.optionsError.emit(a)}}refreshChart(){return ge(this,null,function*(){this.dispose(),yield this.initChart()})}createChart(){let t=this.el.nativeElement;if(window&&window.getComputedStyle){let i=window.getComputedStyle(t,null).getPropertyValue("height");(!i||i==="0px")&&(!t.style.height||t.style.height==="0px")&&(t.style.height="400px")}return this.ngZone.runOutsideAngular(()=>(typeof this.echarts=="function"?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:a})=>{var o,s;return a(t,(s=this.theme())!=null?s:(o=this.config)==null?void 0:o.theme,this.initOpts())}))}initChart(){return ge(this,null,function*(){yield this.onOptionsChange(this.options());let t=this.merge();t&&this.chart&&this.setOption(t)})}onOptionsChange(t){return ge(this,null,function*(){t&&(this.chart?this.setOption(this.options(),!0):(this.chart=yield this.createChart(),this.chart$.next(this.chart),this.chartInit.emit(this.chart),this.setOption(this.options(),!0)))})}createLazyEvent(t){return Ty(this.chartInit).pipe(Za(i=>new In(a=>(i.on(t,o=>this.ngZone.run(()=>a.next(o))),()=>{this.chart&&(this.chart.isDisposed()||i.off(t))}))))}};n.\u0275fac=function(i){return new(i||n)},n.\u0275dir=Et({type:n,selectors:[["echarts"],["","echarts",""]],inputs:{options:[1,"options"],theme:[1,"theme"],initOpts:[1,"initOpts"],merge:[1,"merge"],autoResize:[1,"autoResize"],loading:[1,"loading"],loadingType:[1,"loadingType"],loadingOpts:[1,"loadingOpts"]},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],standalone:!0,features:[ti]});let e=n;return e})();function R8(e){return{provide:DS,useValue:e}}var FS=(()=>{let n=class n{static forRoot(t){return{ngModule:n,providers:[R8(t)]}}static forChild(){return{ngModule:n}}};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({});let e=n;return e})();var ym=To(Fo());var NS=(()=>{let n=class n{constructor(t){this.userService=t,this.currentCurrencySubject=new Jt(P_),this.currentCurrency$=this.currentCurrencySubject.asObservable(),this.initializeCurrency()}initializeCurrency(){return ge(this,null,function*(){var t;try{let i=yield this.userService.getCurrentUser();(t=i==null?void 0:i.preferences)!=null&&t.defaultCurrency&&this.setCurrentCurrency(i.preferences.defaultCurrency)}catch(i){console.error("Error initializing currency:",i)}})}getCurrencies(){return k_}getCurrentCurrency(){return this.currentCurrencySubject.value}setCurrentCurrency(t){this.isValidCurrency(t)&&this.currentCurrencySubject.next(t)}getCurrencySymbol(t){let i=t||this.getCurrentCurrency();return mC(i)}getCurrencyByCode(t){return uC(t)}isValidCurrency(t){return k_.some(i=>i.code===t)}getDefaultCurrency(){return P_}formatAmount(t,i){let a=i||this.getCurrentCurrency();return new Intl.NumberFormat(xt.LANGUAGE.DEFAULT,{style:"currency",currency:a}).format(t)}};n.\u0275fac=function(i){return new(i||n)(Ne(rr))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function L8(e,n){e&1&&(c(0,"div",4)(1,"div",5),u(2,"Loading..."),l()())}function V8(e,n){if(e&1){let r=Ce();c(0,"div",6),H("click",function(){q(r);let i=k();return K(i.toggleExpenseIncome())}),c(1,"div",5),u(2,"You Expense | Income"),l(),c(3,"div",7),u(4),Ee(5,"async"),Ee(6,"currency"),Ee(7,"async"),Ee(8,"currency"),c(9,"span",8),u(10),Ee(11,"async"),Ee(12,"currency"),Ee(13,"async"),Ee(14,"currency"),l()()()}if(e&2){let r=k();g(4),he(" ",r.showYearly?$e(6,4,$e(5,2,r.totalExpenses$)):$e(8,8,$e(7,6,r.totalExpensesByMonth$))," \xA0 | \xA0 "),g(6),ne(r.showYearly?$e(12,12,$e(11,10,r.totalIncome$)):$e(14,16,$e(13,14,r.totalIncomeByMonth$)))}}var LS=(()=>{let n=class n{constructor(t,i,a,o){this.auth=t,this.notificationService=i,this.currencyService=a,this.store=o,this.totalSpendAmt=0,this.totalIncomeAmt=0,this.showYearly=!1,this.userCurrency=this.currencyService.getDefaultCurrency(),this.subscriptions=new fn,this.totalIncome$=this.store.select(H1),this.totalIncomeByMonth$=this.store.select(TS((0,ym.default)().month(),(0,ym.default)().year())),this.totalExpenses$=this.store.select(G1),this.totalExpensesByMonth$=this.store.select(OS((0,ym.default)().month(),(0,ym.default)().year())),this.netBalance$=this.store.select(IS),this.transactionsLoading$=this.store.select(au),this.transactionsError$=this.store.select(kf)}ngOnInit(){var i;this.subscriptions.add(this.currencyService.currentCurrency$.subscribe(a=>{this.userCurrency=a}));let t=(i=this.auth.currentUser)==null?void 0:i.uid;t&&this.store.dispatch(gr({userId:t})),this.subscriptions.add(this.totalIncome$.subscribe(a=>{this.totalIncomeAmt=a})),this.subscriptions.add(this.totalExpenses$.subscribe(a=>{this.totalSpendAmt=a})),this.subscriptions.add(this.transactionsError$.subscribe(a=>{a&&(console.error("Error loading balance data:",a),this.notificationService.error("Failed to load balance data"))}))}ngOnDestroy(){this.subscriptions.unsubscribe()}toggleExpenseIncome(){this.showYearly=!this.showYearly}};n.\u0275fac=function(i){return new(i||n)(D(Ut),D(At),D(NS),D(qt))},n.\u0275cmp=Fe({type:n,selectors:[["total-balance"]],decls:6,vars:6,consts:[[1,"text-center","mb-2","pt-5","md:pt-0","mt-2"],[1,"grid","grid-cols-1","gap-4"],["class","text-center",4,"ngIf"],["class","text-center",3,"click",4,"ngIf"],[1,"text-center"],[1,"text-lg","text-muted","text-gray-500"],[1,"text-center",3,"click"],[1,"text-responsive-lg","mt-1","font-bold","text-primary"],[1,"text-gray-500"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1),G(2,L8,3,0,"div",2),Ee(3,"async"),G(4,V8,15,18,"div",3),Ee(5,"async"),l()()),i&2&&(g(2),P("ngIf",$e(3,2,a.transactionsLoading$)),g(2),P("ngIf",!$e(5,4,a.transactionsLoading$)))},dependencies:[Tt,md,Ro]});let e=n;return e})();var j8=["calendar"];function U8(e,n){e&1&&(c(0,"div",19),de(1,"total-balance",20),l())}function z8(e,n){if(e&1){let r=Ce();c(0,"button",21),H("click",function(){q(r);let i=k();return K(i.clearAll())}),c(1,"mat-icon"),u(2,"clear"),l()()}}function H8(e,n){if(e&1){let r=Ce();c(0,"div",22)(1,"button",12),H("click",function(){q(r);let i=k();return K(i.toggleChartViewMode())}),c(2,"mat-icon"),u(3,"category"),l(),u(4," Category View "),l(),c(5,"button",12),H("click",function(){q(r);let i=k();return K(i.toggleChartViewMode())}),c(6,"mat-icon"),u(7,"compare_arrows"),l(),u(8," Income vs Expense "),l()()}if(e&2){let r=k();g(),P("color",r.chartViewMode==="category"?"primary":"basic"),g(4),P("color",r.chartViewMode==="income-expense"?"primary":"basic")}}function G8(e,n){if(e&1&&(c(0,"mat-option",29),u(1),l()),e&2){let r=n.$implicit;P("value",r),g(),he(" ",r," ")}}function $8(e,n){if(e&1&&(c(0,"mat-option",29),u(1),l()),e&2){let r=n.$implicit;P("value",r.value),g(),he(" ",r.label," ")}}function W8(e,n){if(e&1){let r=Ce();c(0,"div",23)(1,"div",24)(2,"mat-form-field",25)(3,"mat-label"),u(4,"Year"),l(),c(5,"mat-select",26),kt("valueChange",function(i){q(r);let a=k();return Mt(a.selectedYear,i)||(a.selectedYear=i),K(i)}),H("selectionChange",function(i){q(r);let a=k();return K(a.onYearChange(i.value))}),G(6,G8,2,2,"mat-option",27),l()(),c(7,"mat-form-field",28)(8,"mat-label"),u(9,"Month"),l(),c(10,"mat-select",26),kt("valueChange",function(i){q(r);let a=k();return Mt(a.selectedMonth,i)||(a.selectedMonth=i),K(i)}),H("selectionChange",function(i){q(r);let a=k();return K(a.onMonthChange(i.value))}),G(11,$8,2,2,"mat-option",27),l()()()()}if(e&2){let r=k();g(5),St("value",r.selectedYear),g(),P("ngForOf",r.availableYears),g(4),St("value",r.selectedMonth),g(),P("ngForOf",r.availableMonths)}}function Y8(e,n){if(e&1){let r=Ce();c(0,"div",30)(1,"button",31),H("click",function(){q(r);let i=k();return K(i.goToPreviousMonth())}),c(2,"mat-icon"),u(3,"chevron_left"),l()(),c(4,"button",32),H("click",function(){q(r);let i=k();return K(i.goToToday())}),c(5,"mat-icon"),u(6,"today"),l(),u(7," Today "),l(),c(8,"button",33),H("click",function(){q(r);let i=k();return K(i.goToNextMonth())}),c(9,"mat-icon"),u(10,"chevron_right"),l()()()}}function q8(e,n){if(e&1){let r=Ce();c(0,"div",34)(1,"div",35)(2,"div",36),H("chartClick",function(i){q(r);let a=k();return K(a.onChartClick(i))}),l()()()}if(e&2){let r=k();g(2),P("options",r.pieChartOption)}}function K8(e,n){if(e&1&&(c(0,"span",47),u(1),Ee(2,"date"),l()),e&2){let r=k(2);g(),he(" ",Xt(2,1,r.startDate,"MMM dd, yyyy")," ")}}function Q8(e,n){e&1&&(c(0,"span",48),u(1,"Not selected"),l())}function X8(e,n){if(e&1&&(c(0,"span",49),u(1),Ee(2,"date"),l()),e&2){let r=k(2);g(),he(" ",Xt(2,1,r.endDate,"MMM dd, yyyy")," ")}}function Z8(e,n){e&1&&(c(0,"span",48),u(1,"Not selected"),l())}function J8(e,n){if(e&1&&(c(0,"div",50)(1,"div",51)(2,"div",52)(3,"div",53),u(4,"Income"),l(),c(5,"div",54),u(6),Ee(7,"number"),l()(),c(8,"div",52)(9,"div",53),u(10,"Expenses"),l(),c(11,"div",55),u(12),Ee(13,"number"),l()(),c(14,"div",52)(15,"div",53),u(16,"Net"),l(),c(17,"div",56),u(18),Ee(19,"number"),l()()(),c(20,"div",57),u(21),l()()),e&2){let r=k(2);g(6),he("\u20B9",Xt(7,7,r.getRangeTotalIncome(),"1.2-2"),""),g(6),he("\u20B9",Xt(13,10,r.getRangeTotalExpenses(),"1.2-2"),""),g(5),P("ngClass",r.getRangeNetAmount()>=0?"positive":"negative"),g(),he(" \u20B9",Xt(19,13,r.getRangeNetAmount(),"1.2-2")," "),g(3),nh(" ",r.rangeTransactions.length," transactions in ",r.getDaysInRange()," day",r.getDaysInRange()!==1?"s":""," ")}}function eR(e,n){if(e&1&&(c(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"span",41),u(5,"Start:"),l(),G(6,K8,3,4,"span",42)(7,Q8,2,0,"span",43),l(),c(8,"mat-icon",44),u(9,"arrow_forward"),l(),c(10,"div",40)(11,"span",41),u(12,"End:"),l(),G(13,X8,3,4,"span",45)(14,Z8,2,0,"span",43),l()(),G(15,J8,22,16,"div",46),l()()),e&2){let r=k();g(6),P("ngIf",r.startDate),g(),P("ngIf",!r.startDate),g(6),P("ngIf",r.endDate),g(),P("ngIf",!r.endDate),g(),P("ngIf",r.startDate&&r.endDate)}}function tR(e,n){if(e&1&&(c(0,"div",37)(1,"div",58)(2,"div",59)(3,"mat-icon",60),u(4,"event"),l(),c(5,"span",61),u(6),Ee(7,"date"),l()(),c(8,"div",62)(9,"div",51)(10,"div",52)(11,"div",53),u(12,"Income"),l(),c(13,"div",54),u(14),Ee(15,"number"),l()(),c(16,"div",52)(17,"div",53),u(18,"Expenses"),l(),c(19,"div",55),u(20),Ee(21,"number"),l()(),c(22,"div",52)(23,"div",53),u(24,"Net"),l(),c(25,"div",56),u(26),Ee(27,"number"),l()()(),c(28,"div",57),u(29),l()()()()),e&2){let r=k();g(6),ne(Xt(7,6,r.selectedDate,"fullDate")),g(8),he("\u20B9",Xt(15,9,r.getTotalIncome(),"1.2-2"),""),g(6),he("\u20B9",Xt(21,12,r.getTotalExpenses(),"1.2-2"),""),g(5),P("ngClass",r.getNetAmount()>=0?"positive":"negative"),g(),he(" \u20B9",Xt(27,15,r.getNetAmount(),"1.2-2")," "),g(3),he(" ",r.selectedDateTransactions.length," transactions ")}}function nR(e,n){if(e&1){let r=Ce();c(0,"div",63)(1,"mat-calendar",64,0),H("selectedChange",function(i){q(r);let a=k();return K(a.onDateSelected(i))}),l()()}if(e&2){let r=k();g(),P("dateClass",r.dateClass)("selected",r.selectedDate)}}var VS=(()=>{let n=class n{constructor(t,i,a,o,s,d){this.breakpointObserver=t,this.userService=i,this.filterService=a,this.notificationService=o,this.dateService=s,this.store=d,this.isMobile=!1,this.transactions=[],this.categories=[],this.selectedDate=null,this.selectedDateTransactions=[],this.isRangeMode=!1,this.startDate=null,this.endDate=null,this.rangeTransactions=[],this.isControlsExpanded=!1,this.pieChartOption={},this.showPieChart=!1,this.showCalendar=!0,this.chartViewMode="category",this.currentViewDate=new Date,this.selectedYear=new Date().getFullYear(),this.selectedMonth=new Date().getMonth(),this.availableYears=[],this.availableMonths=[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}],this.subscription=new fn,this.dateClass=(m,f)=>{if(f==="month"){let _=(0,ii.default)(m).startOf("day"),v="",w=this.transactions.some(b=>(0,ii.default)(this.dateService.toDate(b.date)).startOf("day").isSame(_,"day")&&b.type===Yr.INCOME);if(this.transactions.some(b=>(0,ii.default)(this.dateService.toDate(b.date)).startOf("day").isSame(_,"day"))&&(w?v+="has-transactions has-income ":v+="has-transactions has-expense "),this.isRangeMode){if(this.startDate&&(0,ii.default)(this.startDate).startOf("day").isSame(_,"day")&&(v+="range-start "),this.endDate&&(0,ii.default)(this.endDate).startOf("day").isSame(_,"day")&&(v+="range-end "),this.startDate&&this.endDate){let b=(0,ii.default)(this.startDate).startOf("day"),O=(0,ii.default)(this.endDate).endOf("day");_.isBetween(b,O,"day","[]")&&(v+="range-in-between ")}}else this.selectedDate&&(0,ii.default)(this.selectedDate).startOf("day").isSame(_,"day")&&(v+="selected-date ");return v.trim()}return""},this.breakpointObserver.observe(["(max-width: 600px)"]).subscribe(m=>{this.isMobile=m.matches})}ngOnInit(){this.loadTransactions(),this.loadCategories(),this.initializePieChart(),this.generateAvailableYears()}ngOnDestroy(){this.subscription.unsubscribe()}loadTransactions(){this.subscription.add(this.store.select(No).subscribe({next:t=>{this.transactions=t,this.updatePieChart(),this.updateCalendar()},error:t=>{console.error("Error loading transactions:",t),this.notificationService.error("Failed to load calendar data")}}))}loadCategories(){this.subscription.add(this.store.select(Er).subscribe({next:t=>{this.categories=t,this.updatePieChart()},error:t=>{console.error("Error loading categories:",t)}}))}generateAvailableYears(){let t=new Date().getFullYear();this.availableYears=[];for(let i=t-5;i<=t+1;i++)this.availableYears.push(i)}initializePieChart(){this.pieChartOption={title:{text:"Category-wise Spending",left:"center",textStyle:{fontSize:14,fontWeight:"bold"}},tooltip:{trigger:"item",formatter:"{b}<br> \u20B9{c} ({d}%)"},legend:{orient:"horizontal",left:"center",bottom:"10%",type:"scroll"},series:[{name:"Categories",type:"pie",radius:"50%",data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}updatePieChart(){this.chartViewMode==="category"?this.updateCategoryChart():this.updateIncomeExpenseChart()}updateCategoryChart(){let t=this.getFilteredTransactions(),i=this.getCategorySpendingData(t),a=t.reduce((o,s)=>o+s.amount,0);this.pieChartOption=xe(ue({},this.pieChartOption),{title:{text:`${this.availableMonths[this.selectedMonth].label} ${this.selectedYear} - \u20B9${a.toLocaleString()}`,left:"center",textStyle:{fontSize:14,fontWeight:"bold"}},series:[{name:"Categories",type:"pie",radius:"50%",data:i,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}onChartClick(t){this.chartViewMode==="category"&&t.data&&this.applyCategoryFilter(t.data.name)}applyCategoryFilter(t){this.filterService.setCategoryFilter(t,this.selectedYear,this.selectedMonth,this.availableMonths[this.selectedMonth].label),this.notificationService.success(`Filtering transactions for ${t} in ${this.availableMonths[this.selectedMonth].label} ${this.selectedYear}`)}updateIncomeExpenseChart(){let t=0,i=0;this.isRangeMode&&this.startDate&&this.endDate?(t=this.getRangeTotalIncome(),i=this.getRangeTotalExpenses()):this.selectedDate&&(t=this.getTotalIncome(),i=this.getTotalExpenses()),this.pieChartOption=xe(ue({},this.pieChartOption),{title:{text:"Income vs Expenses",left:"center",textStyle:{fontSize:14,fontWeight:"bold"}},series:[{name:"Transactions",type:"pie",radius:"50%",data:[{value:t,name:"Income",itemStyle:{color:"#10b981"}},{value:i,name:"Expenses",itemStyle:{color:"#ef4444"}}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}getFilteredTransactions(){let t=(0,ii.default)([this.selectedYear,this.selectedMonth,1]),i=(0,ii.default)(t).endOf("month");return this.transactions.filter(a=>(0,ii.default)(this.dateService.toDate(a.date)).isBetween(t,i,"day","[]")&&a.type==="expense")}getCategorySpendingData(t){let i=new Map;t.forEach(o=>{let s=o.categoryId,d=this.categories.find(f=>f.id===s),m=d?d.name:"";m&&i.has(m)?i.set(m,i.get(m)+o.amount):i.set(m,o.amount)});let a=["#5B8DEF","#A0C4FF","#B8B8FF","#CDB4DB","#FFAFCC","#FFC8DD","#FDCB82","#90DBF4","#ADE8F4","#CAF0F8","#A2D2FF","#D0F4DE"];return Array.from(i.entries()).map(([o,s],d)=>({name:o,value:s,itemStyle:{color:a[d%a.length]}}))}togglePieChart(){this.showPieChart=!this.showPieChart,this.showCalendar=!this.showCalendar,this.showPieChart&&this.updatePieChart()}toggleCalendar(){this.showCalendar=!this.showCalendar,this.showPieChart=!this.showCalendar}toggleChartViewMode(){this.chartViewMode=this.chartViewMode==="category"?"income-expense":"category",this.updatePieChart()}onYearChange(t){this.selectedYear=t,this.updatePieChart()}onMonthChange(t){this.selectedMonth=t,this.updatePieChart()}goToPreviousMonth(){this.currentViewDate=(0,ii.default)(this.currentViewDate).subtract(1,"month").toDate()}goToNextMonth(){this.currentViewDate=(0,ii.default)(this.currentViewDate).add(1,"month").toDate()}goToToday(){this.currentViewDate=new Date}onDateSelected(t){this.isRangeMode?this.handleRangeSelection(t):this.handleSingleDateSelection(t),this.updatePieChart()}handleSingleDateSelection(t){this.selectedDate=t,t?(this.selectedDateTransactions=this.getTransactionsForDate(t),this.filterService.setSelectedDate(t)):(this.selectedDateTransactions=[],this.filterService.clearSelectedDate())}handleRangeSelection(t){t&&(!this.startDate||this.startDate&&this.endDate?(this.startDate=t,this.endDate=null,this.rangeTransactions=[]):(t>=this.startDate?this.endDate=t:(this.endDate=this.startDate,this.startDate=t),this.rangeTransactions=this.getTransactionsForDateRange(this.startDate,this.endDate),this.filterService.setSelectedDateRange(this.startDate,this.endDate)))}getTransactionsForDate(t){let i=(0,ii.default)(t).startOf("day");return this.transactions.filter(a=>(0,ii.default)(this.dateService.toDate(a.date)).startOf("day").isSame(i,"day"))}getTransactionsForDateRange(t,i){let a=(0,ii.default)(t).startOf("day"),o=(0,ii.default)(i).endOf("day");return this.transactions.filter(s=>(0,ii.default)(this.dateService.toDate(s.date)).isBetween(a,o,"day","[]"))}formatDate(t){return(0,ii.default)(t).format("YYYY-MM-DD")}getTotalIncome(){return this.selectedDateTransactions.filter(t=>t.type===Yr.INCOME).reduce((t,i)=>t+i.amount,0)}getTotalExpenses(){return this.selectedDateTransactions.filter(t=>t.type==="expense").reduce((t,i)=>t+i.amount,0)}getNetAmount(){return this.getTotalIncome()-this.getTotalExpenses()}toggleRangeMode(){this.isRangeMode=!this.isRangeMode,this.clearSelections()}toggleControls(){this.isControlsExpanded=!this.isControlsExpanded}hasSelection(){return this.isRangeMode?this.startDate!==null||this.endDate!==null:this.selectedDate!==null}clearSelections(){this.selectedDate=null,this.selectedDateTransactions=[],this.startDate=null,this.endDate=null,this.rangeTransactions=[],this.filterService.clearSelectedDate(),this.updatePieChart()}getRangeTotalIncome(){return this.rangeTransactions.filter(t=>t.type===Yr.INCOME).reduce((t,i)=>t+i.amount,0)}getRangeTotalExpenses(){return this.rangeTransactions.filter(t=>t.type==="expense").reduce((t,i)=>t+i.amount,0)}getRangeNetAmount(){return this.getRangeTotalIncome()-this.getRangeTotalExpenses()}getFormattedDateRange(){if(!this.startDate||!this.endDate)return"";let t=(0,ii.default)(this.startDate),i=(0,ii.default)(this.endDate);return t.isSame(i,"day")?t.format("MMM DD, YYYY"):t.isSame(i,"year")?`${t.format("MMM DD")} - ${i.format("MMM DD, YYYY")}`:`${t.format("MMM DD, YYYY")} - ${i.format("MMM DD, YYYY")}`}getDaysInRange(){if(!this.startDate||!this.endDate)return 0;let t=(0,ii.default)(this.startDate);return(0,ii.default)(this.endDate).diff(t,"days")+1}isToday(t){return(0,ii.default)(t).isSame((0,ii.default)(),"day")}isPastDate(t){return(0,ii.default)(t).isBefore((0,ii.default)(),"day")}isFutureDate(t){return(0,ii.default)(t).isAfter((0,ii.default)(),"day")}clearAll(){this.clearSelections(),this.isControlsExpanded=this.isRangeMode=!1,this.filterService.clearSelectedDate()}updateCalendar(){this.calendar&&this.calendar.updateTodaysDate()}};n.\u0275fac=function(i){return new(i||n)(D(Sr),D(rr),D(Fc),D(At),D(Mn),D(qt))},n.\u0275cmp=Fe({type:n,selectors:[["calendar-view"]],viewQuery:function(i,a){if(i&1&&Zt(j8,5),i&2){let o;gt(o=_t())&&(a.calendar=o.first)}},decls:37,vars:20,consts:[["calendar",""],[1,"demo-inline-calendar-card"],["class","m-4 flex justify-around",4,"ngIf"],[1,"calendar-header"],[1,"header-main"],[1,"header-title","sm:text-sm","text-xs"],[1,"header-actions"],["mat-icon-button","","color","warn","matTooltip","Clear selection",3,"click",4,"ngIf"],["mat-icon-button","",3,"click","color","matTooltip"],["mat-icon-button","",3,"click","matTooltip"],[1,"controls-section"],[1,"mode-toggle"],["mat-raised-button","",3,"click","color"],["class","chart-mode-toggle",4,"ngIf"],["class","date-filters",4,"ngIf"],["class","calendar-navigation",4,"ngIf"],["class","pie-chart-section",4,"ngIf"],["class","status-section",4,"ngIf"],["class","calendar-container",4,"ngIf"],[1,"m-4","flex","justify-around"],[1,"md:col-span-2","lg:col-span-7"],["mat-icon-button","","color","warn","matTooltip","Clear selection",3,"click"],[1,"chart-mode-toggle"],[1,"date-filters"],[1,"filter-row"],["appearance","fill",1,"year-select"],[3,"valueChange","selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"month-select"],[3,"value"],[1,"calendar-navigation"],["mat-icon-button","","matTooltip","Previous month",3,"click"],["mat-raised-button","","color","primary","matTooltip","Go to today",3,"click"],["mat-icon-button","","matTooltip","Next month",3,"click"],[1,"pie-chart-section"],[1,"chart-container"],["echarts","",1,"pie-chart",3,"chartClick","options"],[1,"status-section"],[1,"range-status"],[1,"date-range-display"],[1,"date-item"],[1,"date-label"],["class","date-value start-date",4,"ngIf"],["class","date-placeholder",4,"ngIf"],[1,"arrow-icon"],["class","date-value end-date",4,"ngIf"],["class","range-summary",4,"ngIf"],[1,"date-value","start-date"],[1,"date-placeholder"],[1,"date-value","end-date"],[1,"range-summary"],[1,"summary-grid"],[1,"summary-item"],[1,"summary-label"],[1,"summary-amount","income"],[1,"summary-amount","expense"],[1,"summary-amount",3,"ngClass"],[1,"transaction-count"],[1,"single-date-status"],[1,"selected-date-display"],[1,"date-icon"],[1,"selected-date-text"],[1,"date-summary"],[1,"calendar-container"],[3,"selectedChange","dateClass","selected"]],template:function(i,a){i&1&&(c(0,"mat-card",1),G(1,U8,2,0,"div",2),c(2,"div",3)(3,"div",4)(4,"div",5)(5,"mat-icon"),u(6,"calendar_today"),l(),c(7,"span"),u(8,"Calendar"),l()(),c(9,"div",6),G(10,z8,3,0,"button",7),c(11,"button",8),H("click",function(){return a.togglePieChart()}),c(12,"mat-icon"),u(13,"pie_chart"),l()(),c(14,"button",8),H("click",function(){return a.toggleCalendar()}),c(15,"mat-icon"),u(16,"calendar_month"),l()(),c(17,"button",9),H("click",function(){return a.toggleControls()}),c(18,"mat-icon"),u(19,"expand_more"),l()()()(),c(20,"div",10)(21,"div",11)(22,"button",12),H("click",function(){return a.toggleRangeMode()}),c(23,"mat-icon"),u(24,"event"),l(),u(25," Single Date "),l(),c(26,"button",12),H("click",function(){return a.toggleRangeMode()}),c(27,"mat-icon"),u(28,"date_range"),l(),u(29," Date Range "),l()(),G(30,H8,9,2,"div",13)(31,W8,12,4,"div",14)(32,Y8,11,0,"div",15),l()(),G(33,q8,3,1,"div",16)(34,eR,16,5,"div",17)(35,tR,30,18,"div",17)(36,nR,3,2,"div",18),l()),i&2&&(g(),P("ngIf",!a.isRangeMode&&!a.selectedDate),g(9),P("ngIf",a.hasSelection()),g(),Ao("matTooltip",a.showPieChart?"Hide chart":"Show chart"),P("color",a.showPieChart?"primary":"basic"),g(3),Ao("matTooltip",a.showCalendar&&!a.showPieChart?"Hide calendar":"Show calendar"),P("color",a.showCalendar&&!a.showPieChart?"primary":"basic"),g(3),Be("rotated",a.isControlsExpanded),Ao("matTooltip",a.isControlsExpanded?"Hide controls":"Show controls"),g(3),Be("expanded",a.isControlsExpanded),g(2),P("color",a.isRangeMode?"basic":"primary"),g(4),P("color",a.isRangeMode?"primary":"basic"),g(4),P("ngIf",a.showPieChart),g(),P("ngIf",a.showPieChart&&a.chartViewMode==="category"),g(),P("ngIf",a.showCalendar),g(),P("ngIf",a.showPieChart),g(),P("ngIf",a.isRangeMode&&a.showCalendar),g(),P("ngIf",!a.isRangeMode&&a.selectedDate&&a.showCalendar),g(),P("ngIf",a.showCalendar&&!a.showPieChart))},dependencies:[qo,an,Tt,wc,zt,Cn,wn,fm,Ma,Zo,Qr,Lr,ni,Of,LS,hd,zi],styles:[".demo-inline-calendar-card[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto;overflow:hidden}.calendar-header[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;color:#374151}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6b7280}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.25rem}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:transform .2s ease}.calendar-header[_ngcontent-%COMP%]   .header-main[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button.rotated[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .3s ease,padding .3s ease;padding:0 1rem}.calendar-header[_ngcontent-%COMP%]   .controls-section.expanded[_ngcontent-%COMP%]{max-height:400px;padding:1rem;background-color:#f0f8ff}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .mode-toggle[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;margin-bottom:1rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;max-width:150px}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .chart-mode-toggle[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;margin-bottom:1rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .chart-mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;max-width:150px;font-size:.75rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .chart-mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;margin-right:.25rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]{margin-bottom:1rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%], .calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]{flex:1;max-width:120px}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]     .mat-mdc-form-field, .calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]     .mat-mdc-form-field{font-size:.875rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .year-select[_ngcontent-%COMP%]     .mat-mdc-select, .calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .date-filters[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]     .mat-mdc-select{font-size:.875rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .calendar-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .calendar-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .2s ease}.calendar-header[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .calendar-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.pie-chart-section[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #f3f4f6;background:linear-gradient(135deg,#f8fafc,#f1f5f9)}.pie-chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.pie-chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .pie-chart[_ngcontent-%COMP%]{width:100%;height:350px;max-width:350px;cursor:pointer}.status-section[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #f3f4f6}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%]{font-weight:600}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.start-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.start-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.start-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.start-date[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(70 119 127 / var(--tw-text-opacity))}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.end-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.end-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.end-date[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-value.end-date[_ngcontent-%COMP%]{color:#10b981}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-placeholder[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-placeholder[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-placeholder[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-item[_ngcontent-%COMP%]   .date-placeholder[_ngcontent-%COMP%]{color:#9ca3af;font-style:italic}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:1rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%]{color:#10b981}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .selected-date-text[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .selected-date-text[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-range-display[_ngcontent-%COMP%]   .selected-date-text[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .selected-date-display[_ngcontent-%COMP%]   .selected-date-text[_ngcontent-%COMP%]{font-weight:600;color:#374151}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]{background:#f8fafc;border-radius:8px;padding:1rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:.5rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{text-align:center}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin-bottom:.25rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.income[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.income[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.income[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.income[_ngcontent-%COMP%]{color:#10b981}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.expense[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.expense[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.expense[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.expense[_ngcontent-%COMP%]{color:#ef4444}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.positive[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.positive[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.positive[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.positive[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(70 119 127 / var(--tw-text-opacity))}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.negative[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.negative[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.negative[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-amount.negative[_ngcontent-%COMP%]{color:#f59e0b}.status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .range-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .range-summary[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%], .status-section[_ngcontent-%COMP%]   .single-date-status[_ngcontent-%COMP%]   .date-summary[_ngcontent-%COMP%]   .transaction-count[_ngcontent-%COMP%]{text-align:center;font-size:.75rem;color:#6b7280}.calendar-container[_ngcontent-%COMP%]{padding:1rem}  .mat-calendar-body-cell.has-transactions.has-income .mat-calendar-body-cell-content{background-color:#a6eeb3!important}  .mat-calendar-body-cell.has-transactions.has-expense{color:#fff!important;font-weight:700;border-radius:50%}  .mat-calendar-body-cell.has-transactions.has-expense .mat-calendar-body-cell-content{background-color:#c8dbdf!important}  .mat-calendar-body-cell.has-transactions:hover .mat-calendar-body-cell-content{--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity))}  .mat-calendar-body-cell.mat-calendar-body-active .mat-calendar-body-cell-content{--tw-bg-opacity: 1;background-color:rgb(70 119 127 / var(--tw-bg-opacity));color:#fff!important}  .mat-calendar-body-cell.range-start .mat-calendar-body-cell-content{background-color:#059669!important;color:#fff!important;font-weight:700}  .mat-calendar-body-cell.range-end .mat-calendar-body-cell-content{background-color:#dc2626!important;color:#fff!important;font-weight:700}  .mat-calendar-body-cell.range-in-between .mat-calendar-body-cell-content{background-color:#fbbf24!important;color:#1f2937!important;font-weight:500}  .mat-calendar-body-cell.selected-date .mat-calendar-body-cell-content{background-color:#7c3aed!important;color:#fff!important;font-weight:700}.transaction-summary[_ngcontent-%COMP%]   .income-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dcfce7,#bbf7d0)}.transaction-summary[_ngcontent-%COMP%]   .expense-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fee2e2,#fecaca)}.transaction-summary[_ngcontent-%COMP%]   .net-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe)}.transaction-item[_ngcontent-%COMP%]{transition:all .2s ease}.transaction-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a}@media (max-width: 768px){.demo-inline-calendar-card[_ngcontent-%COMP%]{max-width:100%}.transaction-summary[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}"]});let e=n;return e})();var aR=[[["caption"]],[["colgroup"],["col"]],"*"],oR=["caption","colgroup, col","*"];function sR(e,n){e&1&&yn(0,2)}function cR(e,n){e&1&&(c(0,"thead",0),Ca(1,1),l(),c(2,"tbody",0),Ca(3,2)(4,3),l(),c(5,"tfoot",0),Ca(6,4),l())}function lR(e,n){e&1&&Ca(0,1)(1,2)(2,3)(3,4)}var Lo=new Ft("CDK_TABLE");var Nf=(()=>{let n=class n{constructor(t){this.template=t}};n.\u0275fac=function(i){return new(i||n)(D(fr))},n.\u0275dir=Et({type:n,selectors:[["","cdkCellDef",""]],standalone:!0});let e=n;return e})(),Lf=(()=>{let n=class n{constructor(t){this.template=t}};n.\u0275fac=function(i){return new(i||n)(D(fr))},n.\u0275dir=Et({type:n,selectors:[["","cdkHeaderCellDef",""]],standalone:!0});let e=n;return e})(),US=(()=>{let n=class n{constructor(t){this.template=t}};n.\u0275fac=function(i){return new(i||n)(D(fr))},n.\u0275dir=Et({type:n,selectors:[["","cdkFooterCellDef",""]],standalone:!0});let e=n;return e})(),cu=(()=>{let n=class n{get name(){return this._name}set name(t){this._setNameInput(t)}get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){t!==this._stickyEnd&&(this._stickyEnd=t,this._hasStickyChanged=!0)}constructor(t){this._table=t,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}};n.\u0275fac=function(i){return new(i||n)(D(Lo,8))},n.\u0275dir=Et({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,a,o){if(i&1&&(yi(o,Nf,5),yi(o,Lf,5),yi(o,US,5)),i&2){let s;gt(s=_t())&&(a.cell=s.first),gt(s=_t())&&(a.headerCell=s.first),gt(s=_t())&&(a.footerCell=s.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",Ct],stickyEnd:[2,"stickyEnd","stickyEnd",Ct]},standalone:!0,features:[Dn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Ln]});let e=n;return e})(),Af=class{constructor(n,r){r.nativeElement.classList.add(...n._columnCssClassName)}},zS=(()=>{let n=class n extends Af{constructor(t,i){super(t,i)}};n.\u0275fac=function(i){return new(i||n)(D(cu),D(tn))},n.\u0275dir=Et({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[Yn]});let e=n;return e})();var HS=(()=>{let n=class n extends Af{constructor(t,i){var o;super(t,i);let a=(o=t._table)==null?void 0:o._getCellRole();a&&i.nativeElement.setAttribute("role",a)}};n.\u0275fac=function(i){return new(i||n)(D(cu),D(tn))},n.\u0275dir=Et({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[Yn]});let e=n;return e})(),Df=class{constructor(){this.tasks=[],this.endTasks=[]}},Ff=new Ft("_COALESCED_STYLE_SCHEDULER"),q1=(()=>{let n=class n{constructor(t){this._currentSchedule=null,this._ngZone=cn(An)}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Df,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let t=this._currentSchedule;this._currentSchedule=new Df;for(let i of t.tasks)i();for(let i of t.endTasks)i()}this._currentSchedule=null})))}};n.\u0275fac=function(i){return new(i||n)(Ne(An))},n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})();var K1=(()=>{let n=class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){let i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Cm?t.headerCell.template:this instanceof Q1?t.footerCell.template:t.cell.template}};n.\u0275fac=function(i){return new(i||n)(D(fr),D(ud))},n.\u0275dir=Et({type:n,features:[ti]});let e=n;return e})(),Cm=(()=>{let n=class n extends K1{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,i,a){super(t,i),this._table=a,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}};n.\u0275fac=function(i){return new(i||n)(D(fr),D(ud),D(Lo,8))},n.\u0275dir=Et({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",Ct]},standalone:!0,features:[Ln,Yn,ti]});let e=n;return e})(),Q1=(()=>{let n=class n extends K1{get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}constructor(t,i,a){super(t,i),this._table=a,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){let t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}};n.\u0275fac=function(i){return new(i||n)(D(fr),D(ud),D(Lo,8))},n.\u0275dir=Et({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",Ct]},standalone:!0,features:[Ln,Yn,ti]});let e=n;return e})(),Vf=(()=>{let n=class n extends K1{constructor(t,i,a){super(t,i),this._table=a}};n.\u0275fac=function(i){return new(i||n)(D(fr),D(ud),D(Lo,8))},n.\u0275dir=Et({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[Yn]});let e=n;return e})(),bl=(()=>{let n=class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}};n.mostRecentCellOutlet=null,n.\u0275fac=function(i){return new(i||n)(D(ma))},n.\u0275dir=Et({type:n,selectors:[["","cdkCellOutlet",""]],standalone:!0});let e=n;return e})(),X1=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Fe({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[rn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,a){i&1&&Ca(0,0)},dependencies:[bl],encapsulation:2});let e=n;return e})();var Z1=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Fe({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[rn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,a){i&1&&Ca(0,0)},dependencies:[bl],encapsulation:2});let e=n;return e})(),GS=(()=>{let n=class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}};n.\u0275fac=function(i){return new(i||n)(D(fr))},n.\u0275dir=Et({type:n,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0});let e=n;return e})(),BS=["top","bottom","left","right"],Y1=class{constructor(n,r,t,i,a=!0,o=!0,s){this._isNativeHtmlTable=n,this._stickCellCss=r,this.direction=t,this._coalescedStyleScheduler=i,this._isBrowser=a,this._needsPositionStickyOnElement=o,this._positionListener=s,this._elemSizeCache=new WeakMap,this._resizeObserver=globalThis!=null&&globalThis.ResizeObserver?new globalThis.ResizeObserver(d=>this._updateCachedSizes(d)):null,this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null,this._cachedCellWidths=[],this._borderCellCss={top:`${r}-border-elem-top`,bottom:`${r}-border-elem-bottom`,left:`${r}-border-elem-left`,right:`${r}-border-elem-right`}}clearStickyPositioning(n,r){(r.includes("left")||r.includes("right"))&&this._removeFromStickyColumnReplayQueue(n);let t=[];for(let i of n)if(i.nodeType===i.ELEMENT_NODE){t.push(i);for(let a=0;a<i.children.length;a++)t.push(i.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(let i of t)this._removeStickyStyle(i,r)})}updateStickyColumns(n,r,t,i=!0,a=!0){if(a&&this._updateStickyColumnReplayQueue({rows:[...n],stickyStartStates:[...r],stickyEndStates:[...t]}),!n.length||!this._isBrowser||!(r.some(o=>o)||t.some(o=>o))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let o=n[0],s=o.children.length,d=this._getCellWidths(o,i),m=this._getStickyStartColumnPositions(d,r),f=this._getStickyEndColumnPositions(d,t),_=r.lastIndexOf(!0),v=t.indexOf(!0),w=this.direction==="rtl",C=w?"right":"left",b=w?"left":"right";for(let O of n)for(let L=0;L<s;L++){let N=O.children[L];r[L]&&this._addStickyStyle(N,C,m[L],L===_),t[L]&&this._addStickyStyle(N,b,f[L],L===v)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:_===-1?[]:d.slice(0,_+1).map((O,L)=>r[L]?O:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:v===-1?[]:d.slice(v).map((O,L)=>t[L+v]?O:null).reverse()}))})}stickRows(n,r,t){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{var f,_;let i=t==="bottom"?n.slice().reverse():n,a=t==="bottom"?r.slice().reverse():r,o=[],s=[],d=[];for(let v=0,w=0;v<i.length;v++){if(!a[v])continue;o[v]=w;let C=i[v];d[v]=this._isNativeHtmlTable?Array.from(C.children):[C];let b=this._retrieveElementSize(C).height;w+=b,s[v]=b}let m=a.lastIndexOf(!0);for(let v=0;v<i.length;v++){if(!a[v])continue;let w=o[v],C=v===m;for(let b of d[v])this._addStickyStyle(b,t,w,C)}t==="top"?(f=this._positionListener)==null||f.stickyHeaderRowsUpdated({sizes:s,offsets:o,elements:d}):(_=this._positionListener)==null||_.stickyFooterRowsUpdated({sizes:s,offsets:o,elements:d})})}updateStickyFooterContainer(n,r){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let t=n.querySelector("tfoot");t&&(r.some(i=>!i)?this._removeStickyStyle(t,["bottom"]):this._addStickyStyle(t,"bottom",0,!1))})}_removeStickyStyle(n,r){for(let i of r)n.style[i]="",n.classList.remove(this._borderCellCss[i]);BS.some(i=>r.indexOf(i)===-1&&n.style[i])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}_addStickyStyle(n,r,t,i){n.classList.add(this._stickCellCss),i&&n.classList.add(this._borderCellCss[r]),n.style[r]=`${t}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){let r={top:100,bottom:10,left:1,right:1},t=0;for(let i of BS)n.style[i]&&(t+=r[i]);return t?`${t}`:""}_getCellWidths(n,r=!0){if(!r&&this._cachedCellWidths.length)return this._cachedCellWidths;let t=[],i=n.children;for(let a=0;a<i.length;a++){let o=i[a];t.push(this._retrieveElementSize(o).width)}return this._cachedCellWidths=t,t}_getStickyStartColumnPositions(n,r){let t=[],i=0;for(let a=0;a<n.length;a++)r[a]&&(t[a]=i,i+=n[a]);return t}_getStickyEndColumnPositions(n,r){let t=[],i=0;for(let a=n.length;a>0;a--)r[a]&&(t[a]=i,i+=n[a]);return t}_retrieveElementSize(n){let r=this._elemSizeCache.get(n);if(r)return r;let t=n.getBoundingClientRect(),i={width:t.width,height:t.height};return this._resizeObserver&&(this._elemSizeCache.set(n,i),this._resizeObserver.observe(n,{box:"border-box"})),i}_updateStickyColumnReplayQueue(n){this._removeFromStickyColumnReplayQueue(n.rows),!this._stickyColumnsReplayTimeout&&this._updatedStickyColumnsParamsToReplay.push(n)}_removeFromStickyColumnReplayQueue(n){let r=new Set(n);for(let t of this._updatedStickyColumnsParamsToReplay)t.rows=t.rows.filter(i=>!r.has(i));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(t=>!!t.rows.length)}_updateCachedSizes(n){var t,i;let r=!1;for(let a of n){let o=(t=a.borderBoxSize)!=null&&t.length?{width:a.borderBoxSize[0].inlineSize,height:a.borderBoxSize[0].blockSize}:{width:a.contentRect.width,height:a.contentRect.height};o.width!==((i=this._elemSizeCache.get(a.target))==null?void 0:i.width)&&dR(a.target)&&(r=!0),this._elemSizeCache.set(a.target,o)}r&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{for(let a of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(a.rows,a.stickyStartStates,a.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null},0))}};function dR(e){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(n=>e.classList.contains(n))}var Rf=new Ft("CDK_SPL");var J1=(()=>{let n=class n{constructor(t,i){this.viewContainer=t,this.elementRef=i;let a=cn(Lo);a._rowOutlet=this,a._outletAssigned()}};n.\u0275fac=function(i){return new(i||n)(D(ma),D(tn))},n.\u0275dir=Et({type:n,selectors:[["","rowOutlet",""]],standalone:!0});let e=n;return e})(),ex=(()=>{let n=class n{constructor(t,i){this.viewContainer=t,this.elementRef=i;let a=cn(Lo);a._headerRowOutlet=this,a._outletAssigned()}};n.\u0275fac=function(i){return new(i||n)(D(ma),D(tn))},n.\u0275dir=Et({type:n,selectors:[["","headerRowOutlet",""]],standalone:!0});let e=n;return e})(),tx=(()=>{let n=class n{constructor(t,i){this.viewContainer=t,this.elementRef=i;let a=cn(Lo);a._footerRowOutlet=this,a._outletAssigned()}};n.\u0275fac=function(i){return new(i||n)(D(ma),D(tn))},n.\u0275dir=Et({type:n,selectors:[["","footerRowOutlet",""]],standalone:!0});let e=n;return e})(),nx=(()=>{let n=class n{constructor(t,i){this.viewContainer=t,this.elementRef=i;let a=cn(Lo);a._noDataRowOutlet=this,a._outletAssigned()}};n.\u0275fac=function(i){return new(i||n)(D(ma),D(tn))},n.\u0275dir=Et({type:n,selectors:[["","noDataRowOutlet",""]],standalone:!0});let e=n;return e})();var ix=(()=>{let n=class n{_getCellRole(){if(this._cellRoleInternal===void 0){let t=this._elementRef.nativeElement.getAttribute("role");return t==="grid"||t==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=t,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=t,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,i,a,o,s,d,m,f,_,v,w,C){this._differs=t,this._changeDetectorRef=i,this._elementRef=a,this._dir=s,this._platform=m,this._viewRepeater=f,this._coalescedStyleScheduler=_,this._viewportRuler=v,this._stickyPositioningListener=w,this._onDestroy=new bt,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new He,this.viewChange=new Jt({start:0,end:Number.MAX_VALUE}),this._injector=cn($r),o||a.nativeElement.setAttribute("role","table"),this._document=d,this._isServer=!m.isBrowser,this._isNativeHtmlTable=a.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(It(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){var t,i,a;[(t=this._rowOutlet)==null?void 0:t.viewContainer,(i=this._headerRowOutlet)==null?void 0:i.viewContainer,(a=this._footerRowOutlet)==null?void 0:a.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(o=>{o==null||o.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Yh(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let t=this._dataDiffer.diff(this._renderRows);if(!t){this._updateNoDataRow(),this.contentChanged.next();return}let i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(a,o,s)=>this._getEmbeddedViewArgs(a.item,s),a=>a.item.data,a=>{a.operation===VC.INSERTED&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(a=>{let o=i.get(a.currentIndex);o.context.$implicit=a.item.data}),this._updateNoDataRow(),Io(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){let t=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let a=jS(this._headerRowOutlet,"thead");a&&(a.style.display=t.length?"":"none")}let i=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,i,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){let t=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let a=jS(this._footerRowOutlet,"tfoot");a&&(a.style.display=t.length?"":"none")}let i=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){let t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{let s=[];for(let d=0;d<i.length;d++)this._renderRows[d].rowDef===o&&s.push(i[d]);this._addStickyColumnStyles(s,o)}),a.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let a=0;a<this._data.length;a++){let o=this._data[a],s=this._getRenderRowsForData(o,a,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let d=0;d<s.length;d++){let m=s[d],f=this._cachedRenderRowsMap.get(m.data);f.has(m.rowDef)?f.get(m.rowDef).push(m):f.set(m.rowDef,[m]),t.push(m)}}return t}_getRenderRowsForData(t,i,a){return this._getRowDefs(t,i).map(s=>{let d=a&&a.has(s)?a.get(s):[];if(d.length){let m=d.shift();return m.dataIndex=i,m}else return{data:t,rowDef:s,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),If(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=If(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=If(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=If(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let t=this._rowDefs.filter(i=>!i.when);!this.multiTemplateDataRows&&t.length>1,this._defaultRowDef=t[0]}_renderUpdatedColumns(){let t=(s,d)=>{let m=!!d.getColumnsDiff();return s||m},i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();let a=this._headerRowDefs.reduce(t,!1);a&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(t,!1);return o&&this._forceRenderFooterRows(),i||a||o}_switchDataSource(t){this._data=[],Yh(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;Yh(this.dataSource)?t=this.dataSource.connect(this):Wb(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=ht(this.dataSource)),this._renderChangeSubscription=t.pipe(It(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){let a=Array.from(i.columns||[]).map(d=>{let m=this._columnDefsByName.get(d);return m}),o=a.map(d=>d.sticky),s=a.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(t,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){let i=[];for(let a=0;a<t.viewContainer.length;a++){let o=t.viewContainer.get(a);i.push(o.rootNodes[0])}return i}_getRowDefs(t,i){if(this._rowDefs.length==1)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(o=>!o.when||o.when(i,t));else{let o=this._rowDefs.find(s=>s.when&&s.when(i,t))||this._defaultRowDef;o&&a.push(o)}return a.length,a}_getEmbeddedViewArgs(t,i){let a=t.rowDef,o={$implicit:t.data};return{templateRef:a.template,context:o,index:i}}_renderRow(t,i,a,o={}){let s=t.viewContainer.createEmbeddedView(i.template,o,a);return this._renderCellTemplateForItem(i,o),s}_renderCellTemplateForItem(t,i){for(let a of this._getCellTemplates(t))bl.mostRecentCellOutlet&&bl.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let t=this._rowOutlet.viewContainer;for(let i=0,a=t.length;i<a;i++){let s=t.get(i).context;s.count=a,s.first=i===0,s.last=i===a-1,s.even=i%2===0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[i].dataIndex,s.renderIndex=i):s.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return!t||!t.columns?[]:Array.from(t.columns,i=>{let a=this._columnDefsByName.get(i);return t.extractCellTemplate(a)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let t=(i,a)=>i||a.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let t=this._dir?this._dir.value:"ltr";this._stickyStyler=new Y1(this._isNativeHtmlTable,this.stickyCssClass,t,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:ht()).pipe(It(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){let t=this._customNoDataRow||this._noDataRow;if(!t)return;let i=this._rowOutlet.viewContainer.length===0;if(i===this._isShowingNoDataRow)return;let a=this._noDataRowOutlet.viewContainer;if(i){let o=a.createEmbeddedView(t.templateRef),s=o.rootNodes[0];o.rootNodes.length===1&&(s==null?void 0:s.nodeType)===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(t._contentClassName))}else a.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}};n.\u0275fac=function(i){return new(i||n)(D(ud),D(gn),D(tn),Oo("role"),D(pa,8),D(ha),D(Fa),D(Yu),D(Ff),D(dl),D(Rf,12),D(An,8))},n.\u0275cmp=Fe({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,a,o){if(i&1&&(yi(o,GS,5),yi(o,cu,5),yi(o,Vf,5),yi(o,Cm,5),yi(o,Q1,5)),i&2){let s;gt(s=_t())&&(a._noDataRow=s.first),gt(s=_t())&&(a._contentColumnDefs=s),gt(s=_t())&&(a._contentRowDefs=s),gt(s=_t())&&(a._contentHeaderRowDefs=s),gt(s=_t())&&(a._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,a){i&2&&Be("cdk-table-fixed-layout",a.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",Ct],fixedLayout:[2,"fixedLayout","fixedLayout",Ct]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[Dn([{provide:Lo,useExisting:n},{provide:Yu,useClass:qh},{provide:Ff,useClass:q1},{provide:Rf,useValue:null}]),Ln,rn],ngContentSelectors:oR,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,a){i&1&&(_i(aR),yn(0),yn(1,1),G(2,sR,1,0)(3,cR,7,0)(4,lR,4,0)),i&2&&(g(2),ot(a._isServer?2:-1),g(),ot(a._isNativeHtmlTable?3:4))},dependencies:[ex,J1,nx,tx],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2});let e=n;return e})();function If(e,n){return e.concat(Array.from(n))}function jS(e,n){let r=n.toUpperCase(),t=e.viewContainer.element.nativeElement;for(;t;){let i=t.nodeType===1?t.nodeName:null;if(i===r)return t;if(i==="TABLE")break;t=t.parentNode}return null}var $S=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({imports:[UC]});let e=n;return e})();var uR=[[["caption"]],[["colgroup"],["col"]],"*"],mR=["caption","colgroup, col","*"];function hR(e,n){e&1&&yn(0,2)}function pR(e,n){e&1&&(c(0,"thead",0),Ca(1,1),l(),c(2,"tbody",2),Ca(3,3)(4,4),l(),c(5,"tfoot",0),Ca(6,5),l())}function fR(e,n){e&1&&Ca(0,1)(1,3)(2,4)(3,5)}var WS=(()=>{let n=class n extends ix{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=pr(n)))(a||n)}})(),n.\u0275cmp=Fe({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,a){i&2&&Be("mdc-table-fixed-layout",a.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[Dn([{provide:ix,useExisting:n},{provide:Lo,useExisting:n},{provide:Ff,useClass:q1},{provide:Yu,useClass:qh},{provide:Rf,useValue:null}]),Yn,rn],ngContentSelectors:mR,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,a){i&1&&(_i(uR),yn(0),yn(1,1),G(2,hR,1,0)(3,pR,7,0)(4,fR,4,0)),i&2&&(g(2),ot(a._isServer?2:-1),g(),ot(a._isNativeHtmlTable?3:4))},dependencies:[ex,J1,nx,tx],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-app-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-app-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-app-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-app-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-app-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2});let e=n;return e})(),YS=(()=>{let n=class n extends Nf{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=pr(n)))(a||n)}})(),n.\u0275dir=Et({type:n,selectors:[["","matCellDef",""]],standalone:!0,features:[Dn([{provide:Nf,useExisting:n}]),Yn]});let e=n;return e})(),qS=(()=>{let n=class n extends Lf{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=pr(n)))(a||n)}})(),n.\u0275dir=Et({type:n,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[Dn([{provide:Lf,useExisting:n}]),Yn]});let e=n;return e})();var KS=(()=>{let n=class n extends cu{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=pr(n)))(a||n)}})(),n.\u0275dir=Et({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[Dn([{provide:cu,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Yn]});let e=n;return e})(),QS=(()=>{let n=class n extends zS{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=pr(n)))(a||n)}})(),n.\u0275dir=Et({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[Yn]});let e=n;return e})();var XS=(()=>{let n=class n extends HS{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=pr(n)))(a||n)}})(),n.\u0275dir=Et({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[Yn]});let e=n;return e})();var ZS=(()=>{let n=class n extends Cm{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=pr(n)))(a||n)}})(),n.\u0275dir=Et({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",Ct]},standalone:!0,features:[Dn([{provide:Cm,useExisting:n}]),Ln,Yn]});let e=n;return e})();var JS=(()=>{let n=class n extends Vf{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=pr(n)))(a||n)}})(),n.\u0275dir=Et({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[Dn([{provide:Vf,useExisting:n}]),Yn]});let e=n;return e})(),eM=(()=>{let n=class n extends X1{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=pr(n)))(a||n)}})(),n.\u0275cmp=Fe({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[Dn([{provide:X1,useExisting:n}]),Yn,rn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,a){i&1&&Ca(0,0)},dependencies:[bl],encapsulation:2});let e=n;return e})();var tM=(()=>{let n=class n extends Z1{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=pr(n)))(a||n)}})(),n.\u0275cmp=Fe({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[Dn([{provide:Z1,useExisting:n}]),Yn,rn],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,a){i&1&&Ca(0,0)},dependencies:[bl],encapsulation:2});let e=n;return e})();var nM=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({imports:[Kn,$S,Kn]});let e=n;return e})(),gR=9007199254740991,yl=class extends LC{get data(){return this._data.value}set data(n){n=Array.isArray(n)?n:[],this._data.next(n),this._renderChangesSubscription||this._filterData(n)}get filter(){return this._filter.value}set filter(n){this._filter.next(n),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(n){this._sort=n,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(n){this._paginator=n,this._updateChangeSubscription()}constructor(n=[]){super(),this._renderData=new Jt([]),this._filter=new Jt(""),this._internalPageChanges=new bt,this._renderChangesSubscription=null,this.sortingDataAccessor=(r,t)=>{let i=r[t];if(xC(i)){let a=Number(i);return a<gR?a:i}return i},this.sortData=(r,t)=>{let i=t.active,a=t.direction;return!i||a==""?r:r.sort((o,s)=>{let d=this.sortingDataAccessor(o,i),m=this.sortingDataAccessor(s,i),f=typeof d,_=typeof m;f!==_&&(f==="number"&&(d+=""),_==="number"&&(m+=""));let v=0;return d!=null&&m!=null?d>m?v=1:d<m&&(v=-1):d!=null?v=1:m!=null&&(v=-1),v*(a=="asc"?1:-1)})},this.filterPredicate=(r,t)=>{let i=Object.keys(r).reduce((o,s)=>o+r[s]+"\u25EC","").toLowerCase(),a=t.trim().toLowerCase();return i.indexOf(a)!=-1},this._data=new Jt(n),this._updateChangeSubscription()}_updateChangeSubscription(){var s;let n=this._sort?mi(this._sort.sortChange,this._sort.initialized):ht(null),r=this._paginator?mi(this._paginator.page,this._internalPageChanges,this._paginator.initialized):ht(null),t=this._data,i=cd([t,this._filter]).pipe(at(([d])=>this._filterData(d))),a=cd([i,n]).pipe(at(([d])=>this._orderData(d))),o=cd([a,r]).pipe(at(([d])=>this._pageData(d)));(s=this._renderChangesSubscription)==null||s.unsubscribe(),this._renderChangesSubscription=o.subscribe(d=>this._renderData.next(d))}_filterData(n){return this.filteredData=this.filter==null||this.filter===""?n:n.filter(r=>this.filterPredicate(r,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(n){return this.sort?this.sortData(n.slice(),this.sort):n}_pageData(n){if(!this.paginator)return n;let r=this.paginator.pageIndex*this.paginator.pageSize;return n.slice(r,r+this.paginator.pageSize)}_updatePaginator(n){Promise.resolve().then(()=>{let r=this.paginator;if(r&&(r.length=n,r.pageIndex>0)){let t=Math.ceil(r.length/r.pageSize)-1||0,i=Math.min(r.pageIndex,t);i!==r.pageIndex&&(r.pageIndex=i,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var n;(n=this._renderChangesSubscription)==null||n.unsubscribe(),this._renderChangesSubscription=null}};var Nm={};Nm.version="0.18.5";var ds=1200,vu=1252,xR=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Ox={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Ix=function(e){xR.indexOf(e)!=-1&&(vu=Ox[0]=e)};function vR(){Ix(1252)}var Bo=function(e){ds=e,Ix(e)};function Ax(){Bo(1200),vR()}function xx(e){for(var n=[],r=0,t=e.length;r<t;++r)n[r]=e.charCodeAt(r);return n}function bR(e){for(var n=[],r=0;r<e.length>>1;++r)n[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return n.join("")}function uk(e){for(var n=[],r=0;r<e.length>>1;++r)n[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return n.join("")}var Mm=function(e){var n=e.charCodeAt(0),r=e.charCodeAt(1);return n==255&&r==254?bR(e.slice(2)):n==254&&r==255?uk(e.slice(2)):n==65279?e.slice(1):e},Bf=function(n){return String.fromCharCode(n)},iM=function(n){return String.fromCharCode(n)},ri;var Ki=null,wm=!0,Nc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Lm(e){for(var n="",r=0,t=0,i=0,a=0,o=0,s=0,d=0,m=0;m<e.length;)r=e.charCodeAt(m++),a=r>>2,t=e.charCodeAt(m++),o=(r&3)<<4|t>>4,i=e.charCodeAt(m++),s=(t&15)<<2|i>>6,d=i&63,isNaN(t)?s=d=64:isNaN(i)&&(d=64),n+=Nc.charAt(a)+Nc.charAt(o)+Nc.charAt(s)+Nc.charAt(d);return n}function za(e){var n="",r=0,t=0,i=0,a=0,o=0,s=0,d=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var m=0;m<e.length;)a=Nc.indexOf(e.charAt(m++)),o=Nc.indexOf(e.charAt(m++)),r=a<<2|o>>4,n+=String.fromCharCode(r),s=Nc.indexOf(e.charAt(m++)),t=(o&15)<<4|s>>2,s!==64&&(n+=String.fromCharCode(t)),d=Nc.indexOf(e.charAt(m++)),i=(s&3)<<6|d,d!==64&&(n+=String.fromCharCode(i));return n}var xn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Gs=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(n,r){return r?new Buffer(n,r):new Buffer(n)}:Buffer.from.bind(Buffer)}return function(){}}();function Bc(e){return xn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function rM(e){return xn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ja=function(n){return xn?Gs(n,"binary"):n.split("").map(function(r){return r.charCodeAt(0)&255})};function lg(e){if(typeof ArrayBuffer>"u")return ja(e);for(var n=new ArrayBuffer(e.length),r=new Uint8Array(n),t=0;t!=e.length;++t)r[t]=e.charCodeAt(t)&255;return n}function Hc(e){if(Array.isArray(e))return e.map(function(t){return String.fromCharCode(t)}).join("");for(var n=[],r=0;r<e.length;++r)n[r]=String.fromCharCode(e[r]);return n.join("")}function yR(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function Dx(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Dx(new Uint8Array(e));for(var n=new Array(e.length),r=0;r<e.length;++r)n[r]=e[r];return n}var Ir=xn?function(e){return Buffer.concat(e.map(function(n){return Buffer.isBuffer(n)?n:Gs(n)}))}:function(e){if(typeof Uint8Array<"u"){var n=0,r=0;for(n=0;n<e.length;++n)r+=e[n].length;var t=new Uint8Array(r),i=0;for(n=0,r=0;n<e.length;r+=i,++n)if(i=e[n].length,e[n]instanceof Uint8Array)t.set(e[n],r);else{if(typeof e[n]=="string")throw"wtf";t.set(new Uint8Array(e[n]),r)}return t}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function CR(e){for(var n=[],r=0,t=e.length+250,i=Bc(e.length+255),a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o<128)i[r++]=o;else if(o<2048)i[r++]=192|o>>6&31,i[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=e.charCodeAt(++a)&1023;i[r++]=240|o>>8&7,i[r++]=128|o>>2&63,i[r++]=128|s>>6&15|(o&3)<<4,i[r++]=128|s&63}else i[r++]=224|o>>12&15,i[r++]=128|o>>6&63,i[r++]=128|o&63;r>t&&(n.push(i.slice(0,r)),r=0,i=Bc(65535),t=65530)}return n.push(i.slice(0,r)),Ir(n)}var ia=/\u0000/g,km=/[\u0001-\u0006]/g;function fu(e){for(var n="",r=e.length-1;r>=0;)n+=e.charAt(r--);return n}function jo(e,n){var r=""+e;return r.length>=n?r:Yi("0",n-r.length)+r}function Fx(e,n){var r=""+e;return r.length>=n?r:Yi(" ",n-r.length)+r}function Qf(e,n){var r=""+e;return r.length>=n?r:r+Yi(" ",n-r.length)}function wR(e,n){var r=""+Math.round(e);return r.length>=n?r:Yi("0",n-r.length)+r}function SR(e,n){var r=""+e;return r.length>=n?r:Yi("0",n-r.length)+r}var aM=Math.pow(2,32);function lu(e,n){if(e>aM||e<-aM)return wR(e,n);var r=Math.round(e);return SR(r,n)}function Xf(e,n){return n=n||0,e.length>=7+n&&(e.charCodeAt(n)|32)===103&&(e.charCodeAt(n+1)|32)===101&&(e.charCodeAt(n+2)|32)===110&&(e.charCodeAt(n+3)|32)===101&&(e.charCodeAt(n+4)|32)===114&&(e.charCodeAt(n+5)|32)===97&&(e.charCodeAt(n+6)|32)===108}var oM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],rx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function MR(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',e}var Dt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},sM={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},kR={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Zf(e,n,r){for(var t=e<0?-1:1,i=e*t,a=0,o=1,s=0,d=1,m=0,f=0,_=Math.floor(i);m<n&&(_=Math.floor(i),s=_*o+a,f=_*m+d,!(i-_<5e-8));)i=1/(i-_),a=o,o=s,d=m,m=f;if(f>n&&(m>n?(f=d,s=a):(f=m,s=o)),!r)return[0,t*s,f];var v=Math.floor(t*s/f);return[v,t*s-v*f,f]}function Lc(e,n,r){if(e>2958465||e<0)return null;var t=e|0,i=Math.floor(86400*(e-t)),a=0,o=[],s={D:t,T:i,u:86400*(e-t)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),n&&n.date1904&&(t+=1462),s.u>.9999&&(s.u=0,++i==86400&&(s.T=i=0,++t,++s.D)),t===60)o=r?[1317,10,29]:[1900,2,29],a=3;else if(t===0)o=r?[1317,8,29]:[1900,1,0],a=6;else{t>60&&--t;var d=new Date(1900,0,1);d.setDate(d.getDate()+t-1),o=[d.getFullYear(),d.getMonth()+1,d.getDate()],a=d.getDay(),t<60&&(a=(a+6)%7),r&&(a=AR(d,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=i%60,i=Math.floor(i/60),s.M=i%60,i=Math.floor(i/60),s.H=i,s.q=a,s}var mk=new Date(1899,11,31,0,0,0),PR=mk.getTime(),ER=new Date(1900,2,1,0,0,0);function hk(e,n){var r=e.getTime();return n?r-=1461*24*60*60*1e3:e>=ER&&(r+=24*60*60*1e3),(r-(PR+(e.getTimezoneOffset()-mk.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Rx(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function TR(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function OR(e){var n=e<0?12:11,r=Rx(e.toFixed(12));return r.length<=n||(r=e.toPrecision(10),r.length<=n)?r:e.toExponential(5)}function IR(e){var n=Rx(e.toFixed(11));return n.length>(e<0?12:11)||n==="0"||n==="-0"?e.toPrecision(6):n}function Vm(e){var n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return n>=-4&&n<=-1?r=e.toPrecision(10+n):Math.abs(n)<=9?r=OR(e):n===10?r=e.toFixed(10).substr(0,12):r=IR(e),Rx(TR(r.toUpperCase()))}function Pl(e,n){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Vm(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ha(14,hk(e,n&&n.date1904),n)}throw new Error("unsupported value in General format: "+e)}function AR(e,n){n[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function DR(e,n,r,t){var i="",a=0,o=0,s=r.y,d,m=0;switch(e){case 98:s=r.y+543;case 121:switch(n.length){case 1:case 2:d=s%100,m=2;break;default:d=s%1e4,m=4;break}break;case 109:switch(n.length){case 1:case 2:d=r.m,m=n.length;break;case 3:return rx[r.m-1][1];case 5:return rx[r.m-1][0];default:return rx[r.m-1][2]}break;case 100:switch(n.length){case 1:case 2:d=r.d,m=n.length;break;case 3:return oM[r.q][0];default:return oM[r.q][1]}break;case 104:switch(n.length){case 1:case 2:d=1+(r.H+11)%12,m=n.length;break;default:throw"bad hour format: "+n}break;case 72:switch(n.length){case 1:case 2:d=r.H,m=n.length;break;default:throw"bad hour format: "+n}break;case 77:switch(n.length){case 1:case 2:d=r.M,m=n.length;break;default:throw"bad minute format: "+n}break;case 115:if(n!="s"&&n!="ss"&&n!=".0"&&n!=".00"&&n!=".000")throw"bad second format: "+n;return r.u===0&&(n=="s"||n=="ss")?jo(r.S,n.length):(t>=2?o=t===3?1e3:100:o=t===1?10:1,a=Math.round(o*(r.S+r.u)),a>=60*o&&(a=0),n==="s"?a===0?"0":""+a/o:(i=jo(a,2+t),n==="ss"?i.substr(0,2):"."+i.substr(2,n.length-1)));case 90:switch(n){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+n}m=n.length===3?1:2;break;case 101:d=s,m=1;break}var f=m>0?jo(d,m):"";return f}function Vc(e){var n=3;if(e.length<=n)return e;for(var r=e.length%n,t=e.substr(0,r);r!=e.length;r+=n)t+=(t.length>0?",":"")+e.substr(r,n);return t}var pk=/%/g;function FR(e,n,r){var t=n.replace(pk,""),i=n.length-t.length;return Us(e,t,r*Math.pow(10,2*i))+Yi("%",i)}function RR(e,n,r){for(var t=n.length-1;n.charCodeAt(t-1)===44;)--t;return Us(e,n.substr(0,t),r/Math.pow(10,3*(n.length-t)))}function fk(e,n){var r,t=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(n==0)return"0.0E+0";if(n<0)return"-"+fk(e,-n);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(n)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(n/Math.pow(10,a)).toPrecision(t+1+(i+a)%i),r.indexOf("e")===-1){var o=Math.floor(Math.log(n)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,d,m,f){return d+m+f.substr(0,(i+a)%i)+"."+f.substr(a)+"E"})}else r=n.toExponential(t);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var gk=/# (\?+)( ?)\/( ?)(\d+)/;function NR(e,n,r){var t=parseInt(e[4],10),i=Math.round(n*t),a=Math.floor(i/t),o=i-a*t,s=t;return r+(a===0?"":""+a)+" "+(o===0?Yi(" ",e[1].length+1+e[4].length):Fx(o,e[1].length)+e[2]+"/"+e[3]+jo(s,e[4].length))}function LR(e,n,r){return r+(n===0?"":""+n)+Yi(" ",e[1].length+2+e[4].length)}var _k=/^#*0*\.([0#]+)/,xk=/\).*[0#]/,vk=/\(###\) ###\\?-####/;function ga(e){for(var n="",r,t=0;t!=e.length;++t)switch(r=e.charCodeAt(t)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(r)}return n}function cM(e,n){var r=Math.pow(10,n);return""+Math.round(e*r)/r}function lM(e,n){var r=e-Math.floor(e),t=Math.pow(10,n);return n<(""+Math.round(r*t)).length?0:Math.round(r*t)}function VR(e,n){return n<(""+Math.round((e-Math.floor(e))*Math.pow(10,n))).length?1:0}function BR(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function go(e,n,r){if(e.charCodeAt(0)===40&&!n.match(xk)){var t=n.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?go("n",t,r):"("+go("n",t,-r)+")"}if(n.charCodeAt(n.length-1)===44)return RR(e,n,r);if(n.indexOf("%")!==-1)return FR(e,n,r);if(n.indexOf("E")!==-1)return fk(n,r);if(n.charCodeAt(0)===36)return"$"+go(e,n.substr(n.charAt(1)==" "?2:1),r);var i,a,o,s,d=Math.abs(r),m=r<0?"-":"";if(n.match(/^00+$/))return m+lu(d,n.length);if(n.match(/^[#?]+$/))return i=lu(r,0),i==="0"&&(i=""),i.length>n.length?i:ga(n.substr(0,n.length-i.length))+i;if(a=n.match(gk))return NR(a,d,m);if(n.match(/^#+0+$/))return m+lu(d,n.length-n.indexOf("0"));if(a=n.match(_k))return i=cM(r,a[1].length).replace(/^([^\.]+)$/,"$1."+ga(a[1])).replace(/\.$/,"."+ga(a[1])).replace(/\.(\d*)$/,function(C,b){return"."+b+Yi("0",ga(a[1]).length-b.length)}),n.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(n=n.replace(/^#+([0.])/,"$1"),a=n.match(/^(0*)\.(#*)$/))return m+cM(d,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=n.match(/^#{1,3},##0(\.?)$/))return m+Vc(lu(d,0));if(a=n.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+go(e,n,-r):Vc(""+(Math.floor(r)+VR(r,a[1].length)))+"."+jo(lM(r,a[1].length),a[1].length);if(a=n.match(/^#,#*,#0/))return go(e,n.replace(/^#,#*,/,""),r);if(a=n.match(/^([0#]+)(\\?-([0#]+))+$/))return i=fu(go(e,n.replace(/[\\-]/g,""),r)),o=0,fu(fu(n.replace(/\\/g,"")).replace(/[0#]/g,function(C){return o<i.length?i.charAt(o++):C==="0"?"0":""}));if(n.match(vk))return i=go(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(a=n.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=Zf(d,Math.pow(10,o)-1,!1),i=""+m,f=Us("n",a[1],s[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+a[2]+"/"+a[3],f=Qf(s[2],o),f.length<a[4].length&&(f=ga(a[4].substr(a[4].length-f.length))+f),i+=f,i;if(a=n.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=Zf(d,Math.pow(10,o)-1,!0),m+(s[0]||(s[1]?"":"0"))+" "+(s[1]?Fx(s[1],o)+a[2]+"/"+a[3]+Qf(s[2],o):Yi(" ",2*o+1+a[2].length+a[3].length));if(a=n.match(/^[#0?]+$/))return i=lu(r,0),n.length<=i.length?i:ga(n.substr(0,n.length-i.length))+i;if(a=n.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var _=n.indexOf(".")-o,v=n.length-i.length-_;return ga(n.substr(0,_)+i+n.substr(n.length-v))}if(a=n.match(/^00,000\.([#0]*0)$/))return o=lM(r,a[1].length),r<0?"-"+go(e,n,-r):Vc(BR(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?jo(0,3-C.length):"")+C})+"."+jo(o,a[1].length);switch(n){case"###,##0.00":return go(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var w=Vc(lu(d,0));return w!=="0"?m+w:"";case"###,###.00":return go(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return go(e,"#,##0.00",r).replace(/^0\./,".");default:}throw new Error("unsupported format |"+n+"|")}function jR(e,n,r){for(var t=n.length-1;n.charCodeAt(t-1)===44;)--t;return Us(e,n.substr(0,t),r/Math.pow(10,3*(n.length-t)))}function UR(e,n,r){var t=n.replace(pk,""),i=n.length-t.length;return Us(e,t,r*Math.pow(10,2*i))+Yi("%",i)}function bk(e,n){var r,t=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(n==0)return"0.0E+0";if(n<0)return"-"+bk(e,-n);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(n)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(n/Math.pow(10,a)).toPrecision(t+1+(i+a)%i),!r.match(/[Ee]/)){var o=Math.floor(Math.log(n)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,d,m,f){return d+m+f.substr(0,(i+a)%i)+"."+f.substr(a)+"E"})}else r=n.toExponential(t);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ss(e,n,r){if(e.charCodeAt(0)===40&&!n.match(xk)){var t=n.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ss("n",t,r):"("+ss("n",t,-r)+")"}if(n.charCodeAt(n.length-1)===44)return jR(e,n,r);if(n.indexOf("%")!==-1)return UR(e,n,r);if(n.indexOf("E")!==-1)return bk(n,r);if(n.charCodeAt(0)===36)return"$"+ss(e,n.substr(n.charAt(1)==" "?2:1),r);var i,a,o,s,d=Math.abs(r),m=r<0?"-":"";if(n.match(/^00+$/))return m+jo(d,n.length);if(n.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>n.length?i:ga(n.substr(0,n.length-i.length))+i;if(a=n.match(gk))return LR(a,d,m);if(n.match(/^#+0+$/))return m+jo(d,n.length-n.indexOf("0"));if(a=n.match(_k))return i=(""+r).replace(/^([^\.]+)$/,"$1."+ga(a[1])).replace(/\.$/,"."+ga(a[1])),i=i.replace(/\.(\d*)$/,function(C,b){return"."+b+Yi("0",ga(a[1]).length-b.length)}),n.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(n=n.replace(/^#+([0.])/,"$1"),a=n.match(/^(0*)\.(#*)$/))return m+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=n.match(/^#{1,3},##0(\.?)$/))return m+Vc(""+d);if(a=n.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ss(e,n,-r):Vc(""+r)+"."+Yi("0",a[1].length);if(a=n.match(/^#,#*,#0/))return ss(e,n.replace(/^#,#*,/,""),r);if(a=n.match(/^([0#]+)(\\?-([0#]+))+$/))return i=fu(ss(e,n.replace(/[\\-]/g,""),r)),o=0,fu(fu(n.replace(/\\/g,"")).replace(/[0#]/g,function(C){return o<i.length?i.charAt(o++):C==="0"?"0":""}));if(n.match(vk))return i=ss(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(a=n.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=Zf(d,Math.pow(10,o)-1,!1),i=""+m,f=Us("n",a[1],s[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+a[2]+"/"+a[3],f=Qf(s[2],o),f.length<a[4].length&&(f=ga(a[4].substr(a[4].length-f.length))+f),i+=f,i;if(a=n.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=Zf(d,Math.pow(10,o)-1,!0),m+(s[0]||(s[1]?"":"0"))+" "+(s[1]?Fx(s[1],o)+a[2]+"/"+a[3]+Qf(s[2],o):Yi(" ",2*o+1+a[2].length+a[3].length));if(a=n.match(/^[#0?]+$/))return i=""+r,n.length<=i.length?i:ga(n.substr(0,n.length-i.length))+i;if(a=n.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var _=n.indexOf(".")-o,v=n.length-i.length-_;return ga(n.substr(0,_)+i+n.substr(n.length-v))}if(a=n.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ss(e,n,-r):Vc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?jo(0,3-C.length):"")+C})+"."+jo(0,a[1].length);switch(n){case"###,###":case"##,###":case"#,###":var w=Vc(""+d);return w!=="0"?m+w:"";default:if(n.match(/\.[0#?]*$/))return ss(e,n.slice(0,n.lastIndexOf(".")),r)+ga(n.slice(n.lastIndexOf(".")))}throw new Error("unsupported format |"+n+"|")}function Us(e,n,r){return(r|0)===r?ss(e,n,r):go(e,n,r)}function zR(e){for(var n=[],r=!1,t=0,i=0;t<e.length;++t)switch(e.charCodeAt(t)){case 34:r=!r;break;case 95:case 42:case 92:++t;break;case 59:n[n.length]=e.substr(i,t-i),i=t+1}if(n[n.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return n}var yk=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Dl(e){for(var n=0,r="",t="";n<e.length;)switch(r=e.charAt(n)){case"G":Xf(e,n)&&(n+=6),n++;break;case'"':for(;e.charCodeAt(++n)!==34&&n<e.length;);++n;break;case"\\":n+=2;break;case"_":n+=2;break;case"@":++n;break;case"B":case"b":if(e.charAt(n+1)==="1"||e.charAt(n+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(e.substr(n,3).toUpperCase()==="A/P"||e.substr(n,5).toUpperCase()==="AM/PM"||e.substr(n,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++n;break;case"[":for(t=r;e.charAt(n++)!=="]"&&n<e.length;)t+=e.charAt(n);if(t.match(yk))return!0;break;case".":case"0":case"#":for(;n<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++n))>-1||r=="\\"&&e.charAt(n+1)=="-"&&"0#".indexOf(e.charAt(n+2))>-1););break;case"?":for(;e.charAt(++n)===r;);break;case"*":++n,(e.charAt(n)==" "||e.charAt(n)=="*")&&++n;break;case"(":case")":++n;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;n<e.length&&"0123456789".indexOf(e.charAt(++n))>-1;);break;case" ":++n;break;default:++n;break}return!1}function HR(e,n,r,t){for(var i=[],a="",o=0,s="",d="t",m,f,_,v="H";o<e.length;)switch(s=e.charAt(o)){case"G":if(!Xf(e,o))throw new Error("unrecognized character "+s+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(_=e.charCodeAt(++o))!==34&&o<e.length;)a+=String.fromCharCode(_);i[i.length]={t:"t",v:a},++o;break;case"\\":var w=e.charAt(++o),C=w==="("||w===")"?w:"t";i[i.length]={t:C,v:w},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:n},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(m==null&&(m=Lc(n,r,e.charAt(o+1)==="2"),m==null))return"";i[i.length]={t:"X",v:e.substr(o,2)},d=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(n<0||m==null&&(m=Lc(n,r),m==null))return"";for(a=s;++o<e.length&&e.charAt(o).toLowerCase()===s;)a+=s;s==="m"&&d.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=v),i[i.length]={t:s,v:a},d=s;break;case"A":case"a":case"\u4E0A":var b={t:s,v:s};if(m==null&&(m=Lc(n,r)),e.substr(o,3).toUpperCase()==="A/P"?(m!=null&&(b.v=m.H>=12?"P":"A"),b.t="T",v="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(m!=null&&(b.v=m.H>=12?"PM":"AM"),b.t="T",o+=5,v="h"):e.substr(o,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(m!=null&&(b.v=m.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),b.t="T",o+=5,v="h"):(b.t="t",++o),m==null&&b.t==="T")return"";i[i.length]=b,d=s;break;case"[":for(a=s;e.charAt(o++)!=="]"&&o<e.length;)a+=e.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(yk)){if(m==null&&(m=Lc(n,r),m==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},d=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Dl(e)||(i[i.length]={t:"t",v:a}));break;case".":if(m!=null){for(a=s;++o<e.length&&(s=e.charAt(o))==="0";)a+=s;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=s;++o<e.length&&"0#?.,E+-%".indexOf(s=e.charAt(o))>-1;)a+=s;i[i.length]={t:"n",v:a};break;case"?":for(a=s;e.charAt(++o)===s;)a+=s;i[i.length]={t:s,v:a},d=s;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:t===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=s;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)a+=e.charAt(o);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:s,v:s},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+e);i[i.length]={t:"t",v:s},++o;break}var O=0,L=0,N;for(o=i.length-1,d="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=v,d="h",O<1&&(O=1);break;case"s":(N=i[o].v.match(/\.0+$/))&&(L=Math.max(L,N[0].length-1)),O<3&&(O=3);case"d":case"y":case"M":case"e":d=i[o].t;break;case"m":d==="s"&&(i[o].t="M",O<2&&(O=2));break;case"X":break;case"Z":O<1&&i[o].v.match(/[Hh]/)&&(O=1),O<2&&i[o].v.match(/[Mm]/)&&(O=2),O<3&&i[o].v.match(/[Ss]/)&&(O=3)}switch(O){case 0:break;case 1:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M),m.M>=60&&(m.M=0,++m.H);break;case 2:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M);break}var V="",re;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=DR(i[o].t.charCodeAt(0),i[o].v,m,L),i[o].t="t";break;case"n":case"?":for(re=o+1;i[re]!=null&&((s=i[re].t)==="?"||s==="D"||(s===" "||s==="t")&&i[re+1]!=null&&(i[re+1].t==="?"||i[re+1].t==="t"&&i[re+1].v==="/")||i[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(i[re].v==="/"||i[re].v===" "&&i[re+1]!=null&&i[re+1].t=="?"));)i[o].v+=i[re].v,i[re]={v:"",t:";"},++re;V+=i[o].v,o=re-1;break;case"G":i[o].t="t",i[o].v=Pl(n,r);break}var oe="",F,S;if(V.length>0){V.charCodeAt(0)==40?(F=n<0&&V.charCodeAt(0)===45?-n:n,S=Us("n",V,F)):(F=n<0&&t>1?-n:n,S=Us("n",V,F),F<0&&i[0]&&i[0].t=="t"&&(S=S.substr(1),i[0].v="-"+i[0].v)),re=S.length-1;var E=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){E=o;break}var A=i.length;if(E===i.length&&S.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(re>=i[o].v.length-1?(re-=i[o].v.length,i[o].v=S.substr(re+1,i[o].v.length)):re<0?i[o].v="":(i[o].v=S.substr(0,re+1),re=-1),i[o].t="t",A=o);re>=0&&A<i.length&&(i[A].v=S.substr(0,re+1)+i[A].v)}else if(E!==i.length&&S.indexOf("E")===-1){for(re=S.indexOf(".")-1,o=E;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(f=i[o].v.indexOf(".")>-1&&o===E?i[o].v.indexOf(".")-1:i[o].v.length-1,oe=i[o].v.substr(f+1);f>=0;--f)re>=0&&(i[o].v.charAt(f)==="0"||i[o].v.charAt(f)==="#")&&(oe=S.charAt(re--)+oe);i[o].v=oe,i[o].t="t",A=o}for(re>=0&&A<i.length&&(i[A].v=S.substr(0,re+1)+i[A].v),re=S.indexOf(".")+1,o=E;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==E)){for(f=i[o].v.indexOf(".")>-1&&o===E?i[o].v.indexOf(".")+1:0,oe=i[o].v.substr(0,f);f<i[o].v.length;++f)re<S.length&&(oe+=S.charAt(re++));i[o].v=oe,i[o].t="t",A=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(F=t>1&&n<0&&o>0&&i[o-1].v==="-"?-n:n,i[o].v=Us(i[o].t,i[o].v,F),i[o].t="t");var R="";for(o=0;o!==i.length;++o)i[o]!=null&&(R+=i[o].v);return R}var dM=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function uM(e,n){if(n==null)return!1;var r=parseFloat(n[2]);switch(n[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function GR(e,n){var r=zR(e),t=r.length,i=r[t-1].indexOf("@");if(t<4&&i>-1&&--t,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof n!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break;case 4:break}var a=n>0?r[0]:n<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[t,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(dM),s=r[1].match(dM);return uM(n,o)?[t,r[0]]:uM(n,s)?[t,r[1]]:[t,r[o!=null&&s!=null?2:1]]}return[t,a]}function Ha(e,n,r){r==null&&(r={});var t="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?t=r.dateNF:t=e;break;case"number":e==14&&r.dateNF?t=r.dateNF:t=(r.table!=null?r.table:Dt)[e],t==null&&(t=r.table&&r.table[sM[e]]||Dt[sM[e]]),t==null&&(t=kR[e]||"General");break}if(Xf(t,0))return Pl(n,r);n instanceof Date&&(n=hk(n,r.date1904));var i=GR(t,n);if(Xf(i[1]))return Pl(n,r);if(n===!0)n="TRUE";else if(n===!1)n="FALSE";else if(n===""||n==null)return"";return HR(i[1],n,r,i[0])}function us(e,n){if(typeof n!="number"){n=+n||-1;for(var r=0;r<392;++r){if(Dt[r]==null){n<0&&(n=r);continue}if(Dt[r]==e){n=r;break}}n<0&&(n=391)}return Dt[n]=e,n}function Qm(e){for(var n=0;n!=392;++n)e[n]!==void 0&&us(e[n],n)}function wu(){Dt=MR()}var Nx={format:Ha,load:us,_table:Dt,load_table:Qm,parse_date_code:Lc,is_date:Dl,get_table:function(){return Nx._table=Dt}},$R={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Ck=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function WR(e){var n=typeof e=="number"?Dt[e]:e;return n=n.replace(Ck,"(\\d+)"),new RegExp("^"+n+"$")}function YR(e,n,r){var t=-1,i=-1,a=-1,o=-1,s=-1,d=-1;(n.match(Ck)||[]).forEach(function(_,v){var w=parseInt(r[v+1],10);switch(_.toLowerCase().charAt(0)){case"y":t=w;break;case"d":a=w;break;case"h":o=w;break;case"s":d=w;break;case"m":o>=0?s=w:i=w;break}}),d>=0&&s==-1&&i>=0&&(s=i,i=-1);var m=(""+(t>=0?t:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);m.length==7&&(m="0"+m),m.length==8&&(m="20"+m);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return o==-1&&s==-1&&d==-1?m:t==-1&&i==-1&&a==-1?f:m+"T"+f}var qR=function(){var e={};e.version="1.2.0";function n(){for(var S=0,E=new Array(256),A=0;A!=256;++A)S=A,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,E[A]=S;return typeof Int32Array<"u"?new Int32Array(E):E}var r=n();function t(S){var E=0,A=0,R=0,j=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)j[R]=S[R];for(R=0;R!=256;++R)for(A=S[R],E=256+R;E<4096;E+=256)A=j[E]=A>>>8^S[A&255];var U=[];for(R=1;R!=16;++R)U[R-1]=typeof Int32Array<"u"?j.subarray(R*256,R*256+256):j.slice(R*256,R*256+256);return U}var i=t(r),a=i[0],o=i[1],s=i[2],d=i[3],m=i[4],f=i[5],_=i[6],v=i[7],w=i[8],C=i[9],b=i[10],O=i[11],L=i[12],N=i[13],V=i[14];function re(S,E){for(var A=E^-1,R=0,j=S.length;R<j;)A=A>>>8^r[(A^S.charCodeAt(R++))&255];return~A}function oe(S,E){for(var A=E^-1,R=S.length-15,j=0;j<R;)A=V[S[j++]^A&255]^N[S[j++]^A>>8&255]^L[S[j++]^A>>16&255]^O[S[j++]^A>>>24]^b[S[j++]]^C[S[j++]]^w[S[j++]]^v[S[j++]]^_[S[j++]]^f[S[j++]]^m[S[j++]]^d[S[j++]]^s[S[j++]]^o[S[j++]]^a[S[j++]]^r[S[j++]];for(R+=15;j<R;)A=A>>>8^r[(A^S[j++])&255];return~A}function F(S,E){for(var A=E^-1,R=0,j=S.length,U=0,Y=0;R<j;)U=S.charCodeAt(R++),U<128?A=A>>>8^r[(A^U)&255]:U<2048?(A=A>>>8^r[(A^(192|U>>6&31))&255],A=A>>>8^r[(A^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,Y=S.charCodeAt(R++)&1023,A=A>>>8^r[(A^(240|U>>8&7))&255],A=A>>>8^r[(A^(128|U>>2&63))&255],A=A>>>8^r[(A^(128|Y>>6&15|(U&3)<<4))&255],A=A>>>8^r[(A^(128|Y&63))&255]):(A=A>>>8^r[(A^(224|U>>12&15))&255],A=A>>>8^r[(A^(128|U>>6&63))&255],A=A>>>8^r[(A^(128|U&63))&255]);return~A}return e.table=r,e.bstr=re,e.buf=oe,e.str=F,e}(),Pt=function(){var n={};n.version="1.2.1";function r(B,Z){for(var Q=B.split("/"),X=Z.split("/"),J=0,ie=0,ve=Math.min(Q.length,X.length);J<ve;++J){if(ie=Q[J].length-X[J].length)return ie;if(Q[J]!=X[J])return Q[J]<X[J]?-1:1}return Q.length-X.length}function t(B){if(B.charAt(B.length-1)=="/")return B.slice(0,-1).indexOf("/")===-1?B:t(B.slice(0,-1));var Z=B.lastIndexOf("/");return Z===-1?B:B.slice(0,Z+1)}function i(B){if(B.charAt(B.length-1)=="/")return i(B.slice(0,-1));var Z=B.lastIndexOf("/");return Z===-1?B:B.slice(Z+1)}function a(B,Z){typeof Z=="string"&&(Z=new Date(Z));var Q=Z.getHours();Q=Q<<6|Z.getMinutes(),Q=Q<<5|Z.getSeconds()>>>1,B.write_shift(2,Q);var X=Z.getFullYear()-1980;X=X<<4|Z.getMonth()+1,X=X<<5|Z.getDate(),B.write_shift(2,X)}function o(B){var Z=B.read_shift(2)&65535,Q=B.read_shift(2)&65535,X=new Date,J=Q&31;Q>>>=5;var ie=Q&15;Q>>>=4,X.setMilliseconds(0),X.setFullYear(Q+1980),X.setMonth(ie-1),X.setDate(J);var ve=Z&31;Z>>>=5;var Me=Z&63;return Z>>>=6,X.setHours(Z),X.setMinutes(Me),X.setSeconds(ve<<1),X}function s(B){jr(B,0);for(var Z={},Q=0;B.l<=B.length-4;){var X=B.read_shift(2),J=B.read_shift(2),ie=B.l+J,ve={};switch(X){case 21589:Q=B.read_shift(1),Q&1&&(ve.mtime=B.read_shift(4)),J>5&&(Q&2&&(ve.atime=B.read_shift(4)),Q&4&&(ve.ctime=B.read_shift(4))),ve.mtime&&(ve.mt=new Date(ve.mtime*1e3));break}B.l=ie,Z[X]=ve}return Z}var d;function m(){return d||(d={})}function f(B,Z){if(B[0]==80&&B[1]==75)return $a(B,Z);if((B[0]|32)==109&&(B[1]|32)==105)return Mo(B,Z);if(B.length<512)throw new Error("CFB file size "+B.length+" < 512");var Q=3,X=512,J=0,ie=0,ve=0,Me=0,_e=0,be=[],ye=B.slice(0,512);jr(ye,0);var ze=_(ye);switch(Q=ze[0],Q){case 3:X=512;break;case 4:X=4096;break;case 0:if(ze[1]==0)return $a(B,Z);default:throw new Error("Major Version: Expected 3 or 4 saw "+Q)}X!==512&&(ye=B.slice(0,X),jr(ye,28));var qe=B.slice(0,X);v(ye,Q);var lt=ye.read_shift(4,"i");if(Q===3&&lt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+lt);ye.l+=4,ve=ye.read_shift(4,"i"),ye.l+=4,ye.chk("00100000","Mini Stream Cutoff Size: "),Me=ye.read_shift(4,"i"),J=ye.read_shift(4,"i"),_e=ye.read_shift(4,"i"),ie=ye.read_shift(4,"i");for(var Ke=-1,et=0;et<109&&(Ke=ye.read_shift(4,"i"),!(Ke<0));++et)be[et]=Ke;var ct=w(B,X);O(_e,ie,ct,X,be);var Un=N(ct,ve,be,X);Un[ve].name="!Directory",J>0&&Me!==Y&&(Un[Me].name="!MiniFAT"),Un[be[0]].name="!FAT",Un.fat_addrs=be,Un.ssz=X;var nr={},ai=[],Ii=[],ko=[];V(ve,Un,ct,ai,J,nr,Ii,Me),C(Ii,ko,ai),ai.shift();var ps={FileIndex:Ii,FullPaths:ko};return Z&&Z.raw&&(ps.raw={header:qe,sectors:ct}),ps}function _(B){if(B[B.l]==80&&B[B.l+1]==75)return[0,0];B.chk(Ge,"Header Signature: "),B.l+=16;var Z=B.read_shift(2,"u");return[B.read_shift(2,"u"),Z]}function v(B,Z){var Q=9;switch(B.l+=2,Q=B.read_shift(2)){case 9:if(Z!=3)throw new Error("Sector Shift: Expected 9 saw "+Q);break;case 12:if(Z!=4)throw new Error("Sector Shift: Expected 12 saw "+Q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Q)}B.chk("0600","Mini Sector Shift: "),B.chk("000000000000","Reserved: ")}function w(B,Z){for(var Q=Math.ceil(B.length/Z)-1,X=[],J=1;J<Q;++J)X[J-1]=B.slice(J*Z,(J+1)*Z);return X[Q-1]=B.slice(Q*Z),X}function C(B,Z,Q){for(var X=0,J=0,ie=0,ve=0,Me=0,_e=Q.length,be=[],ye=[];X<_e;++X)be[X]=ye[X]=X,Z[X]=Q[X];for(;Me<ye.length;++Me)X=ye[Me],J=B[X].L,ie=B[X].R,ve=B[X].C,be[X]===X&&(J!==-1&&be[J]!==J&&(be[X]=be[J]),ie!==-1&&be[ie]!==ie&&(be[X]=be[ie])),ve!==-1&&(be[ve]=X),J!==-1&&X!=be[X]&&(be[J]=be[X],ye.lastIndexOf(J)<Me&&ye.push(J)),ie!==-1&&X!=be[X]&&(be[ie]=be[X],ye.lastIndexOf(ie)<Me&&ye.push(ie));for(X=1;X<_e;++X)be[X]===X&&(ie!==-1&&be[ie]!==ie?be[X]=be[ie]:J!==-1&&be[J]!==J&&(be[X]=be[J]));for(X=1;X<_e;++X)if(B[X].type!==0){if(Me=X,Me!=be[Me])do Me=be[Me],Z[X]=Z[Me]+"/"+Z[X];while(Me!==0&&be[Me]!==-1&&Me!=be[Me]);be[X]=-1}for(Z[0]+="/",X=1;X<_e;++X)B[X].type!==2&&(Z[X]+="/")}function b(B,Z,Q){for(var X=B.start,J=B.size,ie=[],ve=X;Q&&J>0&&ve>=0;)ie.push(Z.slice(ve*U,ve*U+U)),J-=U,ve=Cl(Q,ve*4);return ie.length===0?Oe(0):Ir(ie).slice(0,B.size)}function O(B,Z,Q,X,J){var ie=Y;if(B===Y){if(Z!==0)throw new Error("DIFAT chain shorter than expected")}else if(B!==-1){var ve=Q[B],Me=(X>>>2)-1;if(!ve)return;for(var _e=0;_e<Me&&(ie=Cl(ve,_e*4))!==Y;++_e)J.push(ie);O(Cl(ve,X-4),Z-1,Q,X,J)}}function L(B,Z,Q,X,J){var ie=[],ve=[];J||(J=[]);var Me=X-1,_e=0,be=0;for(_e=Z;_e>=0;){J[_e]=!0,ie[ie.length]=_e,ve.push(B[_e]);var ye=Q[Math.floor(_e*4/X)];if(be=_e*4&Me,X<4+be)throw new Error("FAT boundary crossed: "+_e+" 4 "+X);if(!B[ye])break;_e=Cl(B[ye],be)}return{nodes:ie,data:wM([ve])}}function N(B,Z,Q,X){var J=B.length,ie=[],ve=[],Me=[],_e=[],be=X-1,ye=0,ze=0,qe=0,lt=0;for(ye=0;ye<J;++ye)if(Me=[],qe=ye+Z,qe>=J&&(qe-=J),!ve[qe]){_e=[];var Ke=[];for(ze=qe;ze>=0;){Ke[ze]=!0,ve[ze]=!0,Me[Me.length]=ze,_e.push(B[ze]);var et=Q[Math.floor(ze*4/X)];if(lt=ze*4&be,X<4+lt)throw new Error("FAT boundary crossed: "+ze+" 4 "+X);if(!B[et]||(ze=Cl(B[et],lt),Ke[ze]))break}ie[qe]={nodes:Me,data:wM([_e])}}return ie}function V(B,Z,Q,X,J,ie,ve,Me){for(var _e=0,be=X.length?2:0,ye=Z[B].data,ze=0,qe=0,lt;ze<ye.length;ze+=128){var Ke=ye.slice(ze,ze+128);jr(Ke,64),qe=Ke.read_shift(2),lt=hg(Ke,0,qe-be),X.push(lt);var et={name:lt,type:Ke.read_shift(1),color:Ke.read_shift(1),L:Ke.read_shift(4,"i"),R:Ke.read_shift(4,"i"),C:Ke.read_shift(4,"i"),clsid:Ke.read_shift(16),state:Ke.read_shift(4,"i"),start:0,size:0},ct=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);ct!==0&&(et.ct=re(Ke,Ke.l-8));var Un=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);Un!==0&&(et.mt=re(Ke,Ke.l-8)),et.start=Ke.read_shift(4,"i"),et.size=Ke.read_shift(4,"i"),et.size<0&&et.start<0&&(et.size=et.type=0,et.start=Y,et.name=""),et.type===5?(_e=et.start,J>0&&_e!==Y&&(Z[_e].name="!StreamData")):et.size>=4096?(et.storage="fat",Z[et.start]===void 0&&(Z[et.start]=L(Q,et.start,Z.fat_addrs,Z.ssz)),Z[et.start].name=et.name,et.content=Z[et.start].data.slice(0,et.size)):(et.storage="minifat",et.size<0?et.size=0:_e!==Y&&et.start!==Y&&Z[_e]&&(et.content=b(et,Z[_e].data,(Z[Me]||{}).data))),et.content&&jr(et.content,0),ie[lt]=et,ve.push(et)}}function re(B,Z){return new Date((Or(B,Z+4)/1e7*Math.pow(2,32)+Or(B,Z)/1e7-11644473600)*1e3)}function oe(B,Z){return m(),f(d.readFileSync(B),Z)}function F(B,Z){var Q=Z&&Z.type;switch(Q||xn&&Buffer.isBuffer(B)&&(Q="buffer"),Q||"base64"){case"file":return oe(B,Z);case"base64":return f(ja(za(B)),Z);case"binary":return f(ja(B),Z)}return f(B,Z)}function S(B,Z){var Q=Z||{},X=Q.root||"Root Entry";if(B.FullPaths||(B.FullPaths=[]),B.FileIndex||(B.FileIndex=[]),B.FullPaths.length!==B.FileIndex.length)throw new Error("inconsistent CFB structure");B.FullPaths.length===0&&(B.FullPaths[0]=X+"/",B.FileIndex[0]={name:X,type:5}),Q.CLSID&&(B.FileIndex[0].clsid=Q.CLSID),E(B)}function E(B){var Z="Sh33tJ5";if(!Pt.find(B,"/"+Z)){var Q=Oe(4);Q[0]=55,Q[1]=Q[3]=50,Q[2]=54,B.FileIndex.push({name:Z,type:2,content:Q,size:4,L:69,R:69,C:69}),B.FullPaths.push(B.FullPaths[0]+Z),A(B)}}function A(B,Z){S(B);for(var Q=!1,X=!1,J=B.FullPaths.length-1;J>=0;--J){var ie=B.FileIndex[J];switch(ie.type){case 0:X?Q=!0:(B.FileIndex.pop(),B.FullPaths.pop());break;case 1:case 2:case 5:X=!0,isNaN(ie.R*ie.L*ie.C)&&(Q=!0),ie.R>-1&&ie.L>-1&&ie.R==ie.L&&(Q=!0);break;default:Q=!0;break}}if(!(!Q&&!Z)){var ve=new Date(1987,1,19),Me=0,_e=Object.create?Object.create(null):{},be=[];for(J=0;J<B.FullPaths.length;++J)_e[B.FullPaths[J]]=!0,B.FileIndex[J].type!==0&&be.push([B.FullPaths[J],B.FileIndex[J]]);for(J=0;J<be.length;++J){var ye=t(be[J][0]);X=_e[ye],X||(be.push([ye,{name:i(ye).replace("/",""),type:1,clsid:Xe,ct:ve,mt:ve,content:null}]),_e[ye]=!0)}for(be.sort(function(lt,Ke){return r(lt[0],Ke[0])}),B.FullPaths=[],B.FileIndex=[],J=0;J<be.length;++J)B.FullPaths[J]=be[J][0],B.FileIndex[J]=be[J][1];for(J=0;J<be.length;++J){var ze=B.FileIndex[J],qe=B.FullPaths[J];if(ze.name=i(qe).replace("/",""),ze.L=ze.R=ze.C=-(ze.color=1),ze.size=ze.content?ze.content.length:0,ze.start=0,ze.clsid=ze.clsid||Xe,J===0)ze.C=be.length>1?1:-1,ze.size=0,ze.type=5;else if(qe.slice(-1)=="/"){for(Me=J+1;Me<be.length&&t(B.FullPaths[Me])!=qe;++Me);for(ze.C=Me>=be.length?-1:Me,Me=J+1;Me<be.length&&t(B.FullPaths[Me])!=t(qe);++Me);ze.R=Me>=be.length?-1:Me,ze.type=1}else t(B.FullPaths[J+1]||"")==t(qe)&&(ze.R=J+1),ze.type=2}}}function R(B,Z){var Q=Z||{};if(Q.fileType=="mad")return Nn(B,Q);switch(A(B),Q.fileType){case"zip":return Wa(B,Q)}var X=function(lt){for(var Ke=0,et=0,ct=0;ct<lt.FileIndex.length;++ct){var Un=lt.FileIndex[ct];if(Un.content){var nr=Un.content.length;nr>0&&(nr<4096?Ke+=nr+63>>6:et+=nr+511>>9)}}for(var ai=lt.FullPaths.length+3>>2,Ii=Ke+7>>3,ko=Ke+127>>7,ps=Ii+et+ai+ko,qa=ps+127>>7,Xs=qa<=109?0:Math.ceil((qa-109)/127);ps+qa+Xs+127>>7>qa;)Xs=++qa<=109?0:Math.ceil((qa-109)/127);var va=[1,Xs,qa,ko,ai,et,Ke,0];return lt.FileIndex[0].size=Ke<<6,va[7]=(lt.FileIndex[0].start=va[0]+va[1]+va[2]+va[3]+va[4]+va[5])+(va[6]+7>>3),va}(B),J=Oe(X[7]<<9),ie=0,ve=0;{for(ie=0;ie<8;++ie)J.write_shift(1,ke[ie]);for(ie=0;ie<8;++ie)J.write_shift(2,0);for(J.write_shift(2,62),J.write_shift(2,3),J.write_shift(2,65534),J.write_shift(2,9),J.write_shift(2,6),ie=0;ie<3;++ie)J.write_shift(2,0);for(J.write_shift(4,0),J.write_shift(4,X[2]),J.write_shift(4,X[0]+X[1]+X[2]+X[3]-1),J.write_shift(4,0),J.write_shift(4,4096),J.write_shift(4,X[3]?X[0]+X[1]+X[2]-1:Y),J.write_shift(4,X[3]),J.write_shift(-4,X[1]?X[0]-1:Y),J.write_shift(4,X[1]),ie=0;ie<109;++ie)J.write_shift(-4,ie<X[2]?X[1]+ie:-1)}if(X[1])for(ve=0;ve<X[1];++ve){for(;ie<236+ve*127;++ie)J.write_shift(-4,ie<X[2]?X[1]+ie:-1);J.write_shift(-4,ve===X[1]-1?Y:ve+1)}var Me=function(lt){for(ve+=lt;ie<ve-1;++ie)J.write_shift(-4,ie+1);lt&&(++ie,J.write_shift(-4,Y))};for(ve=ie=0,ve+=X[1];ie<ve;++ie)J.write_shift(-4,De.DIFSECT);for(ve+=X[2];ie<ve;++ie)J.write_shift(-4,De.FATSECT);Me(X[3]),Me(X[4]);for(var _e=0,be=0,ye=B.FileIndex[0];_e<B.FileIndex.length;++_e)ye=B.FileIndex[_e],ye.content&&(be=ye.content.length,!(be<4096)&&(ye.start=ve,Me(be+511>>9)));for(Me(X[6]+7>>3);J.l&511;)J.write_shift(-4,De.ENDOFCHAIN);for(ve=ie=0,_e=0;_e<B.FileIndex.length;++_e)ye=B.FileIndex[_e],ye.content&&(be=ye.content.length,!(!be||be>=4096)&&(ye.start=ve,Me(be+63>>6)));for(;J.l&511;)J.write_shift(-4,De.ENDOFCHAIN);for(ie=0;ie<X[4]<<2;++ie){var ze=B.FullPaths[ie];if(!ze||ze.length===0){for(_e=0;_e<17;++_e)J.write_shift(4,0);for(_e=0;_e<3;++_e)J.write_shift(4,-1);for(_e=0;_e<12;++_e)J.write_shift(4,0);continue}ye=B.FileIndex[ie],ie===0&&(ye.start=ye.size?ye.start-1:Y);var qe=ie===0&&Q.root||ye.name;if(be=2*(qe.length+1),J.write_shift(64,qe,"utf16le"),J.write_shift(2,be),J.write_shift(1,ye.type),J.write_shift(1,ye.color),J.write_shift(-4,ye.L),J.write_shift(-4,ye.R),J.write_shift(-4,ye.C),ye.clsid)J.write_shift(16,ye.clsid,"hex");else for(_e=0;_e<4;++_e)J.write_shift(4,0);J.write_shift(4,ye.state||0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,ye.start),J.write_shift(4,ye.size),J.write_shift(4,0)}for(ie=1;ie<B.FileIndex.length;++ie)if(ye=B.FileIndex[ie],ye.size>=4096)if(J.l=ye.start+1<<9,xn&&Buffer.isBuffer(ye.content))ye.content.copy(J,J.l,0,ye.size),J.l+=ye.size+511&-512;else{for(_e=0;_e<ye.size;++_e)J.write_shift(1,ye.content[_e]);for(;_e&511;++_e)J.write_shift(1,0)}for(ie=1;ie<B.FileIndex.length;++ie)if(ye=B.FileIndex[ie],ye.size>0&&ye.size<4096)if(xn&&Buffer.isBuffer(ye.content))ye.content.copy(J,J.l,0,ye.size),J.l+=ye.size+63&-64;else{for(_e=0;_e<ye.size;++_e)J.write_shift(1,ye.content[_e]);for(;_e&63;++_e)J.write_shift(1,0)}if(xn)J.l=J.length;else for(;J.l<J.length;)J.write_shift(1,0);return J}function j(B,Z){var Q=B.FullPaths.map(function(_e){return _e.toUpperCase()}),X=Q.map(function(_e){var be=_e.split("/");return be[be.length-(_e.slice(-1)=="/"?2:1)]}),J=!1;Z.charCodeAt(0)===47?(J=!0,Z=Q[0].slice(0,-1)+Z):J=Z.indexOf("/")!==-1;var ie=Z.toUpperCase(),ve=J===!0?Q.indexOf(ie):X.indexOf(ie);if(ve!==-1)return B.FileIndex[ve];var Me=!ie.match(km);for(ie=ie.replace(ia,""),Me&&(ie=ie.replace(km,"!")),ve=0;ve<Q.length;++ve)if((Me?Q[ve].replace(km,"!"):Q[ve]).replace(ia,"")==ie||(Me?X[ve].replace(km,"!"):X[ve]).replace(ia,"")==ie)return B.FileIndex[ve];return null}var U=64,Y=-2,Ge="d0cf11e0a1b11ae1",ke=[208,207,17,224,161,177,26,225],Xe="00000000000000000000000000000000",De={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Y,FREESECT:-1,HEADER_SIGNATURE:Ge,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Xe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function st(B,Z,Q){m();var X=R(B,Q);d.writeFileSync(Z,X)}function Ie(B){for(var Z=new Array(B.length),Q=0;Q<B.length;++Q)Z[Q]=String.fromCharCode(B[Q]);return Z.join("")}function Ve(B,Z){var Q=R(B,Z);switch(Z&&Z.type||"buffer"){case"file":return m(),d.writeFileSync(Z.filename,Q),Q;case"binary":return typeof Q=="string"?Q:Ie(Q);case"base64":return Lm(typeof Q=="string"?Q:Ie(Q));case"buffer":if(xn)return Buffer.isBuffer(Q)?Q:Gs(Q);case"array":return typeof Q=="string"?ja(Q):Q}return Q}var me;function te(B){try{var Z=B.InflateRaw,Q=new Z;if(Q._processChunk(new Uint8Array([3,0]),Q._finishFlushFlag),Q.bytesRead)me=B;else throw new Error("zlib does not expose bytesRead")}catch(X){console.error("cannot use native zlib: "+(X.message||X))}}function ae(B,Z){if(!me)return Gl(B,Z);var Q=me.InflateRaw,X=new Q,J=X._processChunk(B.slice(B.l),X._finishFlushFlag);return B.l+=X.bytesRead,J}function se(B){return me?me.deflateRawSync(B):wt(B)}var ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Re(B){var Z=(B<<1|B<<11)&139536|(B<<5|B<<15)&558144;return(Z>>16|Z>>8|Z)&255}for(var Te=typeof Uint8Array<"u",we=Te?new Uint8Array(256):[],dt=0;dt<256;++dt)we[dt]=Re(dt);function ee(B,Z){var Q=we[B&255];return Z<=8?Q>>>8-Z:(Q=Q<<8|we[B>>8&255],Z<=16?Q>>>16-Z:(Q=Q<<8|we[B>>16&255],Q>>>24-Z))}function pt(B,Z){var Q=Z&7,X=Z>>>3;return(B[X]|(Q<=6?0:B[X+1]<<8))>>>Q&3}function tt(B,Z){var Q=Z&7,X=Z>>>3;return(B[X]|(Q<=5?0:B[X+1]<<8))>>>Q&7}function Ot(B,Z){var Q=Z&7,X=Z>>>3;return(B[X]|(Q<=4?0:B[X+1]<<8))>>>Q&15}function rt(B,Z){var Q=Z&7,X=Z>>>3;return(B[X]|(Q<=3?0:B[X+1]<<8))>>>Q&31}function Ue(B,Z){var Q=Z&7,X=Z>>>3;return(B[X]|(Q<=1?0:B[X+1]<<8))>>>Q&127}function $t(B,Z,Q){var X=Z&7,J=Z>>>3,ie=(1<<Q)-1,ve=B[J]>>>X;return Q<8-X||(ve|=B[J+1]<<8-X,Q<16-X)||(ve|=B[J+2]<<16-X,Q<24-X)||(ve|=B[J+3]<<24-X),ve&ie}function kn(B,Z,Q){var X=Z&7,J=Z>>>3;return X<=5?B[J]|=(Q&7)<<X:(B[J]|=Q<<X&255,B[J+1]=(Q&7)>>8-X),Z+3}function ui(B,Z,Q){var X=Z&7,J=Z>>>3;return Q=(Q&1)<<X,B[J]|=Q,Z+1}function Xi(B,Z,Q){var X=Z&7,J=Z>>>3;return Q<<=X,B[J]|=Q&255,Q>>>=8,B[J+1]=Q,Z+8}function fi(B,Z,Q){var X=Z&7,J=Z>>>3;return Q<<=X,B[J]|=Q&255,Q>>>=8,B[J+1]=Q&255,B[J+2]=Q>>>8,Z+16}function Ti(B,Z){var Q=B.length,X=2*Q>Z?2*Q:Z+5,J=0;if(Q>=Z)return B;if(xn){var ie=rM(X);if(B.copy)B.copy(ie);else for(;J<B.length;++J)ie[J]=B[J];return ie}else if(Te){var ve=new Uint8Array(X);if(ve.set)ve.set(B);else for(;J<Q;++J)ve[J]=B[J];return ve}return B.length=X,B}function Rt(B){for(var Z=new Array(B),Q=0;Q<B;++Q)Z[Q]=0;return Z}function $n(B,Z,Q){var X=1,J=0,ie=0,ve=0,Me=0,_e=B.length,be=Te?new Uint16Array(32):Rt(32);for(ie=0;ie<32;++ie)be[ie]=0;for(ie=_e;ie<Q;++ie)B[ie]=0;_e=B.length;var ye=Te?new Uint16Array(_e):Rt(_e);for(ie=0;ie<_e;++ie)be[J=B[ie]]++,X<J&&(X=J),ye[ie]=0;for(be[0]=0,ie=1;ie<=X;++ie)be[ie+16]=Me=Me+be[ie-1]<<1;for(ie=0;ie<_e;++ie)Me=B[ie],Me!=0&&(ye[ie]=be[Me+16]++);var ze=0;for(ie=0;ie<_e;++ie)if(ze=B[ie],ze!=0)for(Me=ee(ye[ie],X)>>X-ze,ve=(1<<X+4-ze)-1;ve>=0;--ve)Z[Me|ve<<ze]=ze&15|ie<<4;return X}var bi=Te?new Uint16Array(512):Rt(512),Wn=Te?new Uint16Array(32):Rt(32);if(!Te){for(var vt=0;vt<512;++vt)bi[vt]=0;for(vt=0;vt<32;++vt)Wn[vt]=0}(function(){for(var B=[],Z=0;Z<32;Z++)B.push(5);$n(B,Wn,32);var Q=[];for(Z=0;Z<=143;Z++)Q.push(8);for(;Z<=255;Z++)Q.push(9);for(;Z<=279;Z++)Q.push(7);for(;Z<=287;Z++)Q.push(8);$n(Q,bi,288)})();var Ci=function(){for(var Z=Te?new Uint8Array(32768):[],Q=0,X=0;Q<Ae.length-1;++Q)for(;X<Ae[Q+1];++X)Z[X]=Q;for(;X<32768;++X)Z[X]=29;var J=Te?new Uint8Array(259):[];for(Q=0,X=0;Q<fe.length-1;++Q)for(;X<fe[Q+1];++X)J[X]=Q;function ie(Me,_e){for(var be=0;be<Me.length;){var ye=Math.min(65535,Me.length-be),ze=be+ye==Me.length;for(_e.write_shift(1,+ze),_e.write_shift(2,ye),_e.write_shift(2,~ye&65535);ye-- >0;)_e[_e.l++]=Me[be++]}return _e.l}function ve(Me,_e){for(var be=0,ye=0,ze=Te?new Uint16Array(32768):[];ye<Me.length;){var qe=Math.min(65535,Me.length-ye);if(qe<10){for(be=kn(_e,be,+(ye+qe==Me.length)),be&7&&(be+=8-(be&7)),_e.l=be/8|0,_e.write_shift(2,qe),_e.write_shift(2,~qe&65535);qe-- >0;)_e[_e.l++]=Me[ye++];be=_e.l*8;continue}be=kn(_e,be,+(ye+qe==Me.length)+2);for(var lt=0;qe-- >0;){var Ke=Me[ye];lt=(lt<<5^Ke)&32767;var et=-1,ct=0;if((et=ze[lt])&&(et|=ye&-32768,et>ye&&(et-=32768),et<ye))for(;Me[et+ct]==Me[ye+ct]&&ct<250;)++ct;if(ct>2){Ke=J[ct],Ke<=22?be=Xi(_e,be,we[Ke+1]>>1)-1:(Xi(_e,be,3),be+=5,Xi(_e,be,we[Ke-23]>>5),be+=3);var Un=Ke<8?0:Ke-4>>2;Un>0&&(fi(_e,be,ct-fe[Ke]),be+=Un),Ke=Z[ye-et],be=Xi(_e,be,we[Ke]>>3),be-=3;var nr=Ke<4?0:Ke-2>>1;nr>0&&(fi(_e,be,ye-et-Ae[Ke]),be+=nr);for(var ai=0;ai<ct;++ai)ze[lt]=ye&32767,lt=(lt<<5^Me[ye])&32767,++ye;qe-=ct-1}else Ke<=143?Ke=Ke+48:be=ui(_e,be,1),be=Xi(_e,be,we[Ke]),ze[lt]=ye&32767,++ye}be=Xi(_e,be,0)-1}return _e.l=(be+7)/8|0,_e.l}return function(_e,be){return _e.length<8?ie(_e,be):ve(_e,be)}}();function wt(B){var Z=Oe(50+Math.floor(B.length*1.1)),Q=Ci(B,Z);return Z.slice(0,Q)}var Pn=Te?new Uint16Array(32768):Rt(32768),Zi=Te?new Uint16Array(32768):Rt(32768),Jn=Te?new Uint16Array(128):Rt(128),Dr=1,Ho=1;function qc(B,Z){var Q=rt(B,Z)+257;Z+=5;var X=rt(B,Z)+1;Z+=5;var J=Ot(B,Z)+4;Z+=4;for(var ie=0,ve=Te?new Uint8Array(19):Rt(19),Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_e=1,be=Te?new Uint8Array(8):Rt(8),ye=Te?new Uint8Array(8):Rt(8),ze=ve.length,qe=0;qe<J;++qe)ve[ce[qe]]=ie=tt(B,Z),_e<ie&&(_e=ie),be[ie]++,Z+=3;var lt=0;for(be[0]=0,qe=1;qe<=_e;++qe)ye[qe]=lt=lt+be[qe-1]<<1;for(qe=0;qe<ze;++qe)(lt=ve[qe])!=0&&(Me[qe]=ye[lt]++);var Ke=0;for(qe=0;qe<ze;++qe)if(Ke=ve[qe],Ke!=0){lt=we[Me[qe]]>>8-Ke;for(var et=(1<<7-Ke)-1;et>=0;--et)Jn[lt|et<<Ke]=Ke&7|qe<<3}var ct=[];for(_e=1;ct.length<Q+X;)switch(lt=Jn[Ue(B,Z)],Z+=lt&7,lt>>>=3){case 16:for(ie=3+pt(B,Z),Z+=2,lt=ct[ct.length-1];ie-- >0;)ct.push(lt);break;case 17:for(ie=3+tt(B,Z),Z+=3;ie-- >0;)ct.push(0);break;case 18:for(ie=11+Ue(B,Z),Z+=7;ie-- >0;)ct.push(0);break;default:ct.push(lt),_e<lt&&(_e=lt);break}var Un=ct.slice(0,Q),nr=ct.slice(Q);for(qe=Q;qe<286;++qe)Un[qe]=0;for(qe=X;qe<30;++qe)nr[qe]=0;return Dr=$n(Un,Pn,286),Ho=$n(nr,Zi,30),Z}function qs(B,Z){if(B[0]==3&&!(B[1]&3))return[Bc(Z),2];for(var Q=0,X=0,J=rM(Z||1<<18),ie=0,ve=J.length>>>0,Me=0,_e=0;!(X&1);){if(X=tt(B,Q),Q+=3,X>>>1)X>>1==1?(Me=9,_e=5):(Q=qc(B,Q),Me=Dr,_e=Ho);else{Q&7&&(Q+=8-(Q&7));var be=B[Q>>>3]|B[(Q>>>3)+1]<<8;if(Q+=32,be>0)for(!Z&&ve<ie+be&&(J=Ti(J,ie+be),ve=J.length);be-- >0;)J[ie++]=B[Q>>>3],Q+=8;continue}for(;;){!Z&&ve<ie+32767&&(J=Ti(J,ie+32767),ve=J.length);var ye=$t(B,Q,Me),ze=X>>>1==1?bi[ye]:Pn[ye];if(Q+=ze&15,ze>>>=4,!(ze>>>8&255))J[ie++]=ze;else{if(ze==256)break;ze-=257;var qe=ze<8?0:ze-4>>2;qe>5&&(qe=0);var lt=ie+fe[ze];qe>0&&(lt+=$t(B,Q,qe),Q+=qe),ye=$t(B,Q,_e),ze=X>>>1==1?Wn[ye]:Zi[ye],Q+=ze&15,ze>>>=4;var Ke=ze<4?0:ze-2>>1,et=Ae[ze];for(Ke>0&&(et+=$t(B,Q,Ke),Q+=Ke),!Z&&ve<lt&&(J=Ti(J,lt+100),ve=J.length);ie<lt;)J[ie]=J[ie-et],++ie}}}return Z?[J,Q+7>>>3]:[J.slice(0,ie),Q+7>>>3]}function Gl(B,Z){var Q=B.slice(B.l||0),X=qs(Q,Z);return B.l+=X[1],X[0]}function Ga(B,Z){if(B)typeof console<"u"&&console.error(Z);else throw new Error(Z)}function $a(B,Z){var Q=B;jr(Q,0);var X=[],J=[],ie={FileIndex:X,FullPaths:J};S(ie,{root:Z.root});for(var ve=Q.length-4;(Q[ve]!=80||Q[ve+1]!=75||Q[ve+2]!=5||Q[ve+3]!=6)&&ve>=0;)--ve;Q.l=ve+4,Q.l+=4;var Me=Q.read_shift(2);Q.l+=6;var _e=Q.read_shift(4);for(Q.l=_e,ve=0;ve<Me;++ve){Q.l+=20;var be=Q.read_shift(4),ye=Q.read_shift(4),ze=Q.read_shift(2),qe=Q.read_shift(2),lt=Q.read_shift(2);Q.l+=8;var Ke=Q.read_shift(4),et=s(Q.slice(Q.l+ze,Q.l+ze+qe));Q.l+=ze+qe+lt;var ct=Q.l;Q.l=Ke+4,Ks(Q,be,ye,ie,et),Q.l=ct}return ie}function Ks(B,Z,Q,X,J){B.l+=2;var ie=B.read_shift(2),ve=B.read_shift(2),Me=o(B);if(ie&8257)throw new Error("Unsupported ZIP encryption");for(var _e=B.read_shift(4),be=B.read_shift(4),ye=B.read_shift(4),ze=B.read_shift(2),qe=B.read_shift(2),lt="",Ke=0;Ke<ze;++Ke)lt+=String.fromCharCode(B[B.l++]);if(qe){var et=s(B.slice(B.l,B.l+qe));(et[21589]||{}).mt&&(Me=et[21589].mt),((J||{})[21589]||{}).mt&&(Me=J[21589].mt)}B.l+=qe;var ct=B.slice(B.l,B.l+be);switch(ve){case 8:ct=ae(B,ye);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ve)}var Un=!1;ie&8&&(_e=B.read_shift(4),_e==134695760&&(_e=B.read_shift(4),Un=!0),be=B.read_shift(4),ye=B.read_shift(4)),be!=Z&&Ga(Un,"Bad compressed size: "+Z+" != "+be),ye!=Q&&Ga(Un,"Bad uncompressed size: "+Q+" != "+ye),Qs(X,lt,ct,{unsafe:!0,mt:Me})}function Wa(B,Z){var Q=Z||{},X=[],J=[],ie=Oe(1),ve=Q.compression?8:0,Me=0,_e=!1;_e&&(Me|=8);var be=0,ye=0,ze=0,qe=0,lt=B.FullPaths[0],Ke=lt,et=B.FileIndex[0],ct=[],Un=0;for(be=1;be<B.FullPaths.length;++be)if(Ke=B.FullPaths[be].slice(lt.length),et=B.FileIndex[be],!(!et.size||!et.content||Ke=="Sh33tJ5")){var nr=ze,ai=Oe(Ke.length);for(ye=0;ye<Ke.length;++ye)ai.write_shift(1,Ke.charCodeAt(ye)&127);ai=ai.slice(0,ai.l),ct[qe]=qR.buf(et.content,0);var Ii=et.content;ve==8&&(Ii=se(Ii)),ie=Oe(30),ie.write_shift(4,67324752),ie.write_shift(2,20),ie.write_shift(2,Me),ie.write_shift(2,ve),et.mt?a(ie,et.mt):ie.write_shift(4,0),ie.write_shift(-4,Me&8?0:ct[qe]),ie.write_shift(4,Me&8?0:Ii.length),ie.write_shift(4,Me&8?0:et.content.length),ie.write_shift(2,ai.length),ie.write_shift(2,0),ze+=ie.length,X.push(ie),ze+=ai.length,X.push(ai),ze+=Ii.length,X.push(Ii),Me&8&&(ie=Oe(12),ie.write_shift(-4,ct[qe]),ie.write_shift(4,Ii.length),ie.write_shift(4,et.content.length),ze+=ie.l,X.push(ie)),ie=Oe(46),ie.write_shift(4,33639248),ie.write_shift(2,0),ie.write_shift(2,20),ie.write_shift(2,Me),ie.write_shift(2,ve),ie.write_shift(4,0),ie.write_shift(-4,ct[qe]),ie.write_shift(4,Ii.length),ie.write_shift(4,et.content.length),ie.write_shift(2,ai.length),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(4,0),ie.write_shift(4,nr),Un+=ie.l,J.push(ie),Un+=ai.length,J.push(ai),++qe}return ie=Oe(22),ie.write_shift(4,101010256),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,qe),ie.write_shift(2,qe),ie.write_shift(4,Un),ie.write_shift(4,ze),ie.write_shift(2,0),Ir([Ir(X),Ir(J),ie])}var nt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Kc(B,Z){if(B.ctype)return B.ctype;var Q=B.name||"",X=Q.match(/\.([^\.]+)$/);return X&&nt[X[1]]||Z&&(X=(Q=Z).match(/[\.\\]([^\.\\])+$/),X&&nt[X[1]])?nt[X[1]]:"application/octet-stream"}function So(B){for(var Z=Lm(B),Q=[],X=0;X<Z.length;X+=76)Q.push(Z.slice(X,X+76));return Q.join(`\r
`)+`\r
`}function xa(B){var Z=B.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(be){var ye=be.charCodeAt(0).toString(16).toUpperCase();return"="+(ye.length==1?"0"+ye:ye)});Z=Z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Z.charAt(0)==`
`&&(Z="=0D"+Z.slice(1)),Z=Z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Q=[],X=Z.split(`\r
`),J=0;J<X.length;++J){var ie=X[J];if(ie.length==0){Q.push("");continue}for(var ve=0;ve<ie.length;){var Me=76,_e=ie.slice(ve,ve+Me);_e.charAt(Me-1)=="="?Me--:_e.charAt(Me-2)=="="?Me-=2:_e.charAt(Me-3)=="="&&(Me-=3),_e=ie.slice(ve,ve+Me),ve+=Me,ve<ie.length&&(_e+="="),Q.push(_e)}}return Q.join(`\r
`)}function mr(B){for(var Z=[],Q=0;Q<B.length;++Q){for(var X=B[Q];Q<=B.length&&X.charAt(X.length-1)=="=";)X=X.slice(0,X.length-1)+B[++Q];Z.push(X)}for(var J=0;J<Z.length;++J)Z[J]=Z[J].replace(/[=][0-9A-Fa-f]{2}/g,function(ie){return String.fromCharCode(parseInt(ie.slice(1),16))});return ja(Z.join(`\r
`))}function sn(B,Z,Q){for(var X="",J="",ie="",ve,Me=0;Me<10;++Me){var _e=Z[Me];if(!_e||_e.match(/^\s*$/))break;var be=_e.match(/^(.*?):\s*([^\s].*)$/);if(be)switch(be[1].toLowerCase()){case"content-location":X=be[2].trim();break;case"content-type":ie=be[2].trim();break;case"content-transfer-encoding":J=be[2].trim();break}}switch(++Me,J.toLowerCase()){case"base64":ve=ja(za(Z.slice(Me).join("")));break;case"quoted-printable":ve=mr(Z.slice(Me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+J)}var ye=Qs(B,X.slice(Q.length),ve,{unsafe:!0});ie&&(ye.ctype=ie)}function Mo(B,Z){if(Ie(B.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Q=Z&&Z.root||"",X=(xn&&Buffer.isBuffer(B)?B.toString("binary"):Ie(B)).split(`\r
`),J=0,ie="";for(J=0;J<X.length;++J)if(ie=X[J],!!/^Content-Location:/i.test(ie)&&(ie=ie.slice(ie.indexOf("file")),Q||(Q=ie.slice(0,ie.lastIndexOf("/")+1)),ie.slice(0,Q.length)!=Q))for(;Q.length>0&&(Q=Q.slice(0,Q.length-1),Q=Q.slice(0,Q.lastIndexOf("/")+1),ie.slice(0,Q.length)!=Q););var ve=(X[1]||"").match(/boundary="(.*?)"/);if(!ve)throw new Error("MAD cannot find boundary");var Me="--"+(ve[1]||""),_e=[],be=[],ye={FileIndex:_e,FullPaths:be};S(ye);var ze,qe=0;for(J=0;J<X.length;++J){var lt=X[J];lt!==Me&&lt!==Me+"--"||(qe++&&sn(ye,X.slice(ze,J),Q),ze=J)}return ye}function Nn(B,Z){var Q=Z||{},X=Q.boundary||"SheetJS";X="------="+X;for(var J=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+X.slice(2)+'"',"","",""],ie=B.FullPaths[0],ve=ie,Me=B.FileIndex[0],_e=1;_e<B.FullPaths.length;++_e)if(ve=B.FullPaths[_e].slice(ie.length),Me=B.FileIndex[_e],!(!Me.size||!Me.content||ve=="Sh33tJ5")){ve=ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ct){return"_x"+ct.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ct){return"_u"+ct.charCodeAt(0).toString(16)+"_"});for(var be=Me.content,ye=xn&&Buffer.isBuffer(be)?be.toString("binary"):Ie(be),ze=0,qe=Math.min(1024,ye.length),lt=0,Ke=0;Ke<=qe;++Ke)(lt=ye.charCodeAt(Ke))>=32&&lt<128&&++ze;var et=ze>=qe*4/5;J.push(X),J.push("Content-Location: "+(Q.root||"file:///C:/SheetJS/")+ve),J.push("Content-Transfer-Encoding: "+(et?"quoted-printable":"base64")),J.push("Content-Type: "+Kc(Me,ve)),J.push(""),J.push(et?xa(ye):So(ye))}return J.push(X+`--\r
`),J.join(`\r
`)}function Ni(B){var Z={};return S(Z,B),Z}function Qs(B,Z,Q,X){var J=X&&X.unsafe;J||S(B);var ie=!J&&Pt.find(B,Z);if(!ie){var ve=B.FullPaths[0];Z.slice(0,ve.length)==ve?ve=Z:(ve.slice(-1)!="/"&&(ve+="/"),ve=(ve+Z).replace("//","/")),ie={name:i(Z),type:2},B.FileIndex.push(ie),B.FullPaths.push(ve),J||Pt.utils.cfb_gc(B)}return ie.content=Q,ie.size=Q?Q.length:0,X&&(X.CLSID&&(ie.clsid=X.CLSID),X.mt&&(ie.mt=X.mt),X.ct&&(ie.ct=X.ct)),ie}function Ya(B,Z){S(B);var Q=Pt.find(B,Z);if(Q){for(var X=0;X<B.FileIndex.length;++X)if(B.FileIndex[X]==Q)return B.FileIndex.splice(X,1),B.FullPaths.splice(X,1),!0}return!1}function Oi(B,Z,Q){S(B);var X=Pt.find(B,Z);if(X){for(var J=0;J<B.FileIndex.length;++J)if(B.FileIndex[J]==X)return B.FileIndex[J].name=i(Q),B.FullPaths[J]=Q,!0}return!1}function Ia(B){A(B,!0)}return n.find=j,n.read=F,n.parse=f,n.write=Ve,n.writeFile=st,n.utils={cfb_new:Ni,cfb_add:Qs,cfb_del:Ya,cfb_mov:Oi,cfb_gc:Ia,ReadShift:Em,CheckField:jk,prep_blob:jr,bconcat:Ir,use_zlib:te,_deflateRaw:wt,_inflateRaw:Gl,consts:De},n}(),hu;function KR(e){return typeof e=="string"?lg(e):Array.isArray(e)?yR(e):e}function Xm(e,n,r){if(typeof hu<"u"&&hu.writeFileSync)return r?hu.writeFileSync(e,n,r):hu.writeFileSync(e,n);if(typeof Deno<"u"){if(r&&typeof n=="string")switch(r){case"utf8":n=new TextEncoder(r).encode(n);break;case"binary":n=lg(n);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,n)}var t=r=="utf8"?ls(n):n;if(typeof IE_SaveFile<"u")return IE_SaveFile(t,e);if(typeof Blob<"u"){var i=new Blob([KR(t)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(n)&&(n=Hc(n)),s.write(n),s.close(),n}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+e)}function QR(e){if(typeof hu<"u")return hu.readFileSync(e);if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var n=File(e);n.open("r"),n.encoding="binary";var r=n.read();return n.close(),r}catch(t){if(!t.message||!t.message.match(/onstruct/))throw t}throw new Error("Cannot access file "+e)}function Qi(e){for(var n=Object.keys(e),r=[],t=0;t<n.length;++t)Object.prototype.hasOwnProperty.call(e,n[t])&&r.push(n[t]);return r}function mM(e,n){for(var r=[],t=Qi(e),i=0;i!==t.length;++i)r[e[t[i]][n]]==null&&(r[e[t[i]][n]]=t[i]);return r}function dg(e){for(var n=[],r=Qi(e),t=0;t!==r.length;++t)n[e[r[t]]]=r[t];return n}function ug(e){for(var n=[],r=Qi(e),t=0;t!==r.length;++t)n[e[r[t]]]=parseInt(r[t],10);return n}function XR(e){for(var n=[],r=Qi(e),t=0;t!==r.length;++t)n[e[r[t]]]==null&&(n[e[r[t]]]=[]),n[e[r[t]]].push(r[t]);return n}var Jf=new Date(1899,11,30,0,0,0);function vr(e,n){var r=e.getTime();n&&(r-=1462*24*60*60*1e3);var t=Jf.getTime()+(e.getTimezoneOffset()-Jf.getTimezoneOffset())*6e4;return(r-t)/(24*60*60*1e3)}var wk=new Date,ZR=Jf.getTime()+(wk.getTimezoneOffset()-Jf.getTimezoneOffset())*6e4,hM=wk.getTimezoneOffset();function mg(e){var n=new Date;return n.setTime(e*24*60*60*1e3+ZR),n.getTimezoneOffset()!==hM&&n.setTime(n.getTime()+(n.getTimezoneOffset()-hM)*6e4),n}function JR(e){var n=0,r=0,t=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(t=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(t)r*=60;else throw new Error("Unsupported ISO Duration Field: M");case"S":break}n+=r*parseInt(i[a],10)}return n}var pM=new Date("2017-02-19T19:06:09.000Z"),Sk=isNaN(pM.getFullYear())?new Date("2/19/17"):pM,e7=Sk.getFullYear()==2017;function Pi(e,n){var r=new Date(e);if(e7)return n>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):n<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Sk.getFullYear()==1917&&!isNaN(r.getFullYear())){var t=r.getFullYear();return e.indexOf(""+t)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function El(e,n){if(xn&&Buffer.isBuffer(e)){if(n){if(e[0]==255&&e[1]==254)return ls(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return ls(uk(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(n){if(e[0]==255&&e[1]==254)return ls(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return ls(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var t=[],i=0;i!=e.length;++i)t.push(String.fromCharCode(e[i]));return t.join("")}function Ei(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Ei(e[r]));return n}function Yi(e,n){for(var r="";r.length<n;)r+=e;return r}function Uo(e){var n=Number(e);if(!isNaN(n))return isFinite(n)?n:NaN;if(!/\d/.test(e))return n;var r=1,t=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(n=Number(t))||(t=t.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(n=Number(t)))?n/r:n}var t7=["january","february","march","april","may","june","july","august","september","october","november","december"];function bu(e){var n=new Date(e),r=new Date(NaN),t=n.getYear(),i=n.getMonth(),a=n.getDate();if(isNaN(a))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&t7.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return t<0||t>8099?r:(i>0||a>1)&&t!=101?n:e.match(/[^-0-9:,\/\\]/)?r:n}var n7=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,t,i){if(e||typeof t=="string")return r.split(t);for(var a=r.split(t),o=[a[0]],s=1;s<a.length;++s)o.push(i),o.push(a[s]);return o}}();function Mk(e){return e?e.content&&e.type?El(e.content,!0):e.data?Mm(e.data):e.asNodeBuffer&&xn?Mm(e.asNodeBuffer().toString("binary")):e.asBinary?Mm(e.asBinary()):e._data&&e._data.getContent?Mm(El(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function kk(e){if(!e)return null;if(e.data)return xx(e.data);if(e.asNodeBuffer&&xn)return e.asNodeBuffer();if(e._data&&e._data.getContent){var n=e._data.getContent();return typeof n=="string"?xx(n):Array.prototype.slice.call(n)}return e.content&&e.type?e.content:null}function i7(e){return e&&e.name.slice(-4)===".bin"?kk(e):Mk(e)}function vo(e,n){for(var r=e.FullPaths||Qi(e.files),t=n.toLowerCase().replace(/[\/]/g,"\\"),i=t.replace(/\\/g,"/"),a=0;a<r.length;++a){var o=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(t==o||i==o)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function Lx(e,n){var r=vo(e,n);if(r==null)throw new Error("Cannot find file "+n+" in zip");return r}function dr(e,n,r){if(!r)return i7(Lx(e,n));if(!n)return null;try{return dr(e,n)}catch{return null}}function Ua(e,n,r){if(!r)return Mk(Lx(e,n));if(!n)return null;try{return Ua(e,n)}catch{return null}}function Pk(e,n,r){if(!r)return kk(Lx(e,n));if(!n)return null;try{return Pk(e,n)}catch{return null}}function fM(e){for(var n=e.FullPaths||Qi(e.files),r=[],t=0;t<n.length;++t)n[t].slice(-1)!="/"&&r.push(n[t].replace(/^Root Entry[\/]/,""));return r.sort()}function ln(e,n,r){if(e.FullPaths){if(typeof r=="string"){var t;return xn?t=Gs(r):t=CR(r),Pt.utils.cfb_add(e,n,t)}Pt.utils.cfb_add(e,n,r)}else e.file(n,r)}function Vx(){return Pt.utils.cfb_new()}function Ek(e,n){switch(n.type){case"base64":return Pt.read(e,{type:"base64"});case"binary":return Pt.read(e,{type:"binary"});case"buffer":case"array":return Pt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+n.type)}function Pm(e,n){if(e.charAt(0)=="/")return e.slice(1);var r=n.split("/");n.slice(-1)!="/"&&r.pop();for(var t=e.split("/");t.length!==0;){var i=t.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var tr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,r7=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,gM=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,a7=/<[^>]*>/g,oa=tr.match(gM)?gM:a7,o7=/<\w*:/,s7=/<(\/?)\w+:/;function Ht(e,n,r){for(var t={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(n||(t[0]=e.slice(0,i)),i===e.length)return t;var o=e.match(r7),s=0,d="",m=0,f="",_="",v=1;if(o)for(m=0;m!=o.length;++m){for(_=o[m],a=0;a!=_.length&&_.charCodeAt(a)!==61;++a);for(f=_.slice(0,a).trim();_.charCodeAt(a+1)==32;)++a;for(v=(i=_.charCodeAt(a+1))==34||i==39?1:0,d=_.slice(a+1+v,_.length-v),s=0;s!=f.length&&f.charCodeAt(s)!==58;++s);if(s===f.length)f.indexOf("_")>0&&(f=f.slice(0,f.indexOf("_"))),t[f]=d,r||(t[f.toLowerCase()]=d);else{var w=(s===5&&f.slice(0,5)==="xmlns"?"xmlns":"")+f.slice(s+1);if(t[w]&&f.slice(s-3,s)=="ext")continue;t[w]=d,r||(t[w.toLowerCase()]=d)}}return t}function ms(e){return e.replace(s7,"<$1")}var Tk={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Bx=dg(Tk),Bn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,n=/_x([\da-fA-F]{4})_/ig;return function r(t){var i=t+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(e,function(s,d){return Tk[s]||String.fromCharCode(parseInt(d,s.indexOf("x")>-1?16:10))||s}).replace(n,function(s,d){return String.fromCharCode(parseInt(d,16))});var o=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,o)+r(i.slice(o+3))}}(),jx=/[&<>'"]/g,c7=/[\u0000-\u0008\u000b-\u001f]/g;function di(e){var n=e+"";return n.replace(jx,function(r){return Bx[r]}).replace(c7,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function _M(e){return di(e).replace(/ /g,"_x0020_")}var Ok=/[\u0000-\u001f]/g;function Ux(e){var n=e+"";return n.replace(jx,function(r){return Bx[r]}).replace(/\n/g,"<br/>").replace(Ok,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function l7(e){var n=e+"";return n.replace(jx,function(r){return Bx[r]}).replace(Ok,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var xM=function(){var e=/&#(\d+);/g;function n(r,t){return String.fromCharCode(parseInt(t,10))}return function(t){return t.replace(e,n)}}();function d7(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function ki(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function ax(e){for(var n="",r=0,t=0,i=0,a=0,o=0,s=0;r<e.length;){if(t=e.charCodeAt(r++),t<128){n+=String.fromCharCode(t);continue}if(i=e.charCodeAt(r++),t>191&&t<224){o=(t&31)<<6,o|=i&63,n+=String.fromCharCode(o);continue}if(a=e.charCodeAt(r++),t<240){n+=String.fromCharCode((t&15)<<12|(i&63)<<6|a&63);continue}o=e.charCodeAt(r++),s=((t&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536,n+=String.fromCharCode(55296+(s>>>10&1023)),n+=String.fromCharCode(56320+(s&1023))}return n}function vM(e){var n=Bc(2*e.length),r,t,i=1,a=0,o=0,s;for(t=0;t<e.length;t+=i)i=1,(s=e.charCodeAt(t))<128?r=s:s<224?(r=(s&31)*64+(e.charCodeAt(t+1)&63),i=2):s<240?(r=(s&15)*4096+(e.charCodeAt(t+1)&63)*64+(e.charCodeAt(t+2)&63),i=3):(i=4,r=(s&7)*262144+(e.charCodeAt(t+1)&63)*4096+(e.charCodeAt(t+2)&63)*64+(e.charCodeAt(t+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(n[a++]=o&255,n[a++]=o>>>8,o=0),n[a++]=r%256,n[a++]=r>>>8;return n.slice(0,a).toString("ucs2")}function bM(e){return Gs(e,"binary").toString("utf8")}var jf="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",pi=xn&&(bM(jf)==ax(jf)&&bM||vM(jf)==ax(jf)&&vM)||ax,ls=xn?function(e){return Gs(e,"utf8").toString("binary")}:function(e){for(var n=[],r=0,t=0,i=0;r<e.length;)switch(t=e.charCodeAt(r++),!0){case t<128:n.push(String.fromCharCode(t));break;case t<2048:n.push(String.fromCharCode(192+(t>>6))),n.push(String.fromCharCode(128+(t&63)));break;case(t>=55296&&t<57344):t-=55296,i=e.charCodeAt(r++)-56320+(t<<10),n.push(String.fromCharCode(240+(i>>18&7))),n.push(String.fromCharCode(144+(i>>12&63))),n.push(String.fromCharCode(128+(i>>6&63))),n.push(String.fromCharCode(128+(i&63)));break;default:n.push(String.fromCharCode(224+(t>>12))),n.push(String.fromCharCode(128+(t>>6&63))),n.push(String.fromCharCode(128+(t&63)))}return n.join("")},Bm=function(){var e={};return function(r,t){var i=r+"|"+(t||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",t||"")}}(),Ik=function(){var e=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(n){return[new RegExp("&"+n[0]+";","ig"),n[1]]});return function(r){for(var t=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)t=t.replace(e[i][0],e[i][1]);return t}}(),u7=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),m7=/<\/?(?:vt:)?variant>/g,h7=/<(?:vt:)([^>]*)>([\s\S]*)</;function yM(e,n){var r=Ht(e),t=e.match(u7(r.baseType))||[],i=[];if(t.length!=r.size){if(n.WTF)throw new Error("unexpected vector length "+t.length+" != "+r.size);return i}return t.forEach(function(a){var o=a.replace(m7,"").match(h7);o&&i.push({v:pi(o[2]),t:o[1]})}),i}var Ak=/(^\s|\s$|\n)/;function Ur(e,n){return"<"+e+(n.match(Ak)?' xml:space="preserve"':"")+">"+n+"</"+e+">"}function jm(e){return Qi(e).map(function(n){return" "+n+'="'+e[n]+'"'}).join("")}function Qe(e,n,r){return"<"+e+(r!=null?jm(r):"")+(n!=null?(n.match(Ak)?' xml:space="preserve"':"")+">"+n+"</"+e:"/")+">"}function vx(e,n){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(n)throw r}return""}function p7(e,n){switch(typeof e){case"string":var r=Qe("vt:lpwstr",di(e));return n&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return Qe((e|0)==e?"vt:i4":"vt:r8",di(String(e)));case"boolean":return Qe("vt:bool",e?"true":"false")}if(e instanceof Date)return Qe("vt:filetime",vx(e));throw new Error("Unable to serialize "+e)}function zx(e){if(xn&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return pi(Hc(Dx(e)));throw new Error("Bad input format: expected Buffer or string")}var Um=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,xr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Fl=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ba={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function f7(e,n){for(var r=1-2*(e[n+7]>>>7),t=((e[n+7]&127)<<4)+(e[n+6]>>>4&15),i=e[n+6]&15,a=5;a>=0;--a)i=i*256+e[n+a];return t==2047?i==0?r*(1/0):NaN:(t==0?t=-1022:(t-=1023,i+=Math.pow(2,52)),r*Math.pow(2,t-52)*i)}function g7(e,n,r){var t=(n<0||1/n==-1/0?1:0)<<7,i=0,a=0,o=t?-n:n;isFinite(o)?o==0?i=a=0:(i=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(n)?26985:0);for(var s=0;s<=5;++s,a/=256)e[r+s]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|t}var CM=function(e){for(var n=[],r=10240,t=0;t<e[0].length;++t)if(e[0][t])for(var i=0,a=e[0][t].length;i<a;i+=r)n.push.apply(n,e[0][t].slice(i,i+r));return n},wM=xn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(n){return Buffer.isBuffer(n)?n:Gs(n)})):CM(e)}:CM,SM=function(e,n,r){for(var t=[],i=n;i<r;i+=2)t.push(String.fromCharCode(js(e,i)));return t.join("").replace(ia,"")},hg=xn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf16le",n,r).replace(ia,""):SM(e,n,r)}:SM,MM=function(e,n,r){for(var t=[],i=n;i<n+r;++i)t.push(("0"+e[i].toString(16)).slice(-2));return t.join("")},Dk=xn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("hex",n,n+r):MM(e,n,r)}:MM,kM=function(e,n,r){for(var t=[],i=n;i<r;i++)t.push(String.fromCharCode(mu(e,i)));return t.join("")},Su=xn?function(n,r,t){return Buffer.isBuffer(n)?n.toString("utf8",r,t):kM(n,r,t)}:kM,Fk=function(e,n){var r=Or(e,n);return r>0?Su(e,n+4,n+4+r-1):""},Hx=Fk,Rk=function(e,n){var r=Or(e,n);return r>0?Su(e,n+4,n+4+r-1):""},Gx=Rk,Nk=function(e,n){var r=2*Or(e,n);return r>0?Su(e,n+4,n+4+r-1):""},$x=Nk,Lk=function(n,r){var t=Or(n,r);return t>0?hg(n,r+4,r+4+t):""},Wx=Lk,Vk=function(e,n){var r=Or(e,n);return r>0?Su(e,n+4,n+4+r):""},Yx=Vk,Bk=function(e,n){return f7(e,n)},eg=Bk,qx=function(n){return Array.isArray(n)||typeof Uint8Array<"u"&&n instanceof Uint8Array};xn&&(Hx=function(n,r){if(!Buffer.isBuffer(n))return Fk(n,r);var t=n.readUInt32LE(r);return t>0?n.toString("utf8",r+4,r+4+t-1):""},Gx=function(n,r){if(!Buffer.isBuffer(n))return Rk(n,r);var t=n.readUInt32LE(r);return t>0?n.toString("utf8",r+4,r+4+t-1):""},$x=function(n,r){if(!Buffer.isBuffer(n))return Nk(n,r);var t=2*n.readUInt32LE(r);return n.toString("utf16le",r+4,r+4+t-1)},Wx=function(n,r){if(!Buffer.isBuffer(n))return Lk(n,r);var t=n.readUInt32LE(r);return n.toString("utf16le",r+4,r+4+t)},Yx=function(n,r){if(!Buffer.isBuffer(n))return Vk(n,r);var t=n.readUInt32LE(r);return n.toString("utf8",r+4,r+4+t)},eg=function(n,r){return Buffer.isBuffer(n)?n.readDoubleLE(r):Bk(n,r)},qx=function(n){return Buffer.isBuffer(n)||Array.isArray(n)||typeof Uint8Array<"u"&&n instanceof Uint8Array});function _7(){hg=function(e,n,r){return ri.utils.decode(1200,e.slice(n,r)).replace(ia,"")},Su=function(e,n,r){return ri.utils.decode(65001,e.slice(n,r))},Hx=function(e,n){var r=Or(e,n);return r>0?ri.utils.decode(vu,e.slice(n+4,n+4+r-1)):""},Gx=function(e,n){var r=Or(e,n);return r>0?ri.utils.decode(ds,e.slice(n+4,n+4+r-1)):""},$x=function(e,n){var r=2*Or(e,n);return r>0?ri.utils.decode(1200,e.slice(n+4,n+4+r-1)):""},Wx=function(e,n){var r=Or(e,n);return r>0?ri.utils.decode(1200,e.slice(n+4,n+4+r)):""},Yx=function(e,n){var r=Or(e,n);return r>0?ri.utils.decode(65001,e.slice(n+4,n+4+r)):""}}typeof ri<"u"&&_7();var mu=function(e,n){return e[n]},js=function(e,n){return e[n+1]*256+e[n]},x7=function(e,n){var r=e[n+1]*256+e[n];return r<32768?r:(65535-r+1)*-1},Or=function(e,n){return e[n+3]*(1<<24)+(e[n+2]<<16)+(e[n+1]<<8)+e[n]},Cl=function(e,n){return e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]},v7=function(e,n){return e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]};function Em(e,n){var r="",t,i,a=[],o,s,d,m;switch(n){case"dbcs":if(m=this.l,xn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(d=0;d<e;++d)r+=String.fromCharCode(js(this,m)),m+=2;e*=2;break;case"utf8":r=Su(this,this.l,this.l+e);break;case"utf16le":e*=2,r=hg(this,this.l,this.l+e);break;case"wstr":if(typeof ri<"u")r=ri.utils.decode(ds,this.slice(this.l,this.l+2*e));else return Em.call(this,e,"dbcs");e=2*e;break;case"lpstr-ansi":r=Hx(this,this.l),e=4+Or(this,this.l);break;case"lpstr-cp":r=Gx(this,this.l),e=4+Or(this,this.l);break;case"lpwstr":r=$x(this,this.l),e=4+2*Or(this,this.l);break;case"lpp4":e=4+Or(this,this.l),r=Wx(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Or(this,this.l),r=Yx(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=mu(this,this.l+e++))!==0;)a.push(Bf(o));r=a.join("");break;case"_wstr":for(e=0,r="";(o=js(this,this.l+e))!==0;)a.push(Bf(o)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",m=this.l,d=0;d<e;++d){if(this.lens&&this.lens.indexOf(m)!==-1)return o=mu(this,m),this.l=m+1,s=Em.call(this,e-d,o?"dbcs-cont":"sbcs-cont"),a.join("")+s;a.push(Bf(js(this,m))),m+=2}r=a.join(""),e*=2;break;case"cpstr":if(typeof ri<"u"){r=ri.utils.decode(ds,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(r="",m=this.l,d=0;d!=e;++d){if(this.lens&&this.lens.indexOf(m)!==-1)return o=mu(this,m),this.l=m+1,s=Em.call(this,e-d,o?"dbcs-cont":"sbcs-cont"),a.join("")+s;a.push(Bf(mu(this,m))),m+=1}r=a.join("");break;default:switch(e){case 1:return t=mu(this,this.l),this.l++,t;case 2:return t=(n==="i"?x7:js)(this,this.l),this.l+=2,t;case 4:case-4:return n==="i"||!(this[this.l+3]&128)?(t=(e>0?Cl:v7)(this,this.l),this.l+=4,t):(i=Or(this,this.l),this.l+=4,i);case 8:case-8:if(n==="f")return e==8?i=eg(this,this.l):i=eg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=Dk(this,this.l,e);break}}return this.l+=e,r}var b7=function(e,n,r){e[r]=n&255,e[r+1]=n>>>8&255,e[r+2]=n>>>16&255,e[r+3]=n>>>24&255},y7=function(e,n,r){e[r]=n&255,e[r+1]=n>>8&255,e[r+2]=n>>16&255,e[r+3]=n>>24&255},C7=function(e,n,r){e[r]=n&255,e[r+1]=n>>>8&255};function w7(e,n,r){var t=0,i=0;if(r==="dbcs"){for(i=0;i!=n.length;++i)C7(this,n.charCodeAt(i),this.l+2*i);t=2*n.length}else if(r==="sbcs"){if(typeof ri<"u"&&vu==874)for(i=0;i!=n.length;++i){var a=ri.utils.encode(vu,n.charAt(i));this[this.l+i]=a[0]}else for(n=n.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=n.length;++i)this[this.l+i]=n.charCodeAt(i)&255;t=n.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(n.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var o=Math.min(this.l+e,this.length);for(i=0;i<Math.min(n.length,e);++i){var s=n.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(e){case 1:t=1,this[this.l]=n&255;break;case 2:t=2,this[this.l]=n&255,n>>>=8,this[this.l+1]=n&255;break;case 3:t=3,this[this.l]=n&255,n>>>=8,this[this.l+1]=n&255,n>>>=8,this[this.l+2]=n&255;break;case 4:t=4,b7(this,n,this.l);break;case 8:if(t=8,r==="f"){g7(this,n,this.l);break}case 16:break;case-4:t=4,y7(this,n,this.l);break}return this.l+=t,this}function jk(e,n){var r=Dk(this,this.l,e.length>>1);if(r!==e)throw new Error(n+"Expected "+e+" saw "+r);this.l+=e.length>>1}function jr(e,n){e.l=n,e.read_shift=Em,e.chk=jk,e.write_shift=w7}function aa(e,n){e.l+=n}function Oe(e){var n=Bc(e);return jr(n,0),n}function $s(e,n,r){if(e){var t,i,a;jr(e,e.l||0);for(var o=e.length,s=0,d=0;e.l<o;){s=e.read_shift(1),s&128&&(s=(s&127)+((e.read_shift(1)&127)<<7));var m=Ym[s]||Ym[65535];for(t=e.read_shift(1),a=t&127,i=1;i<4&&t&128;++i)a+=((t=e.read_shift(1))&127)<<7*i;d=e.l+a;var f=m.f&&m.f(e,a,r);if(e.l=d,n(f,m,s))return}}}function Ta(){var e=[],n=xn?256:2048,r=function(m){var f=Oe(m);return jr(f,0),f},t=r(n),i=function(){t&&(t.length>t.l&&(t=t.slice(0,t.l),t.l=t.length),t.length>0&&e.push(t),t=null)},a=function(m){return t&&m<t.length-t.l?t:(i(),t=r(Math.max(m+1,n)))},o=function(){return i(),Ir(e)},s=function(m){i(),t=m,t.l==null&&(t.l=t.length),a(n)};return{next:a,push:s,end:o,_bufs:e}}function Le(e,n,r,t){var i=+n,a;if(!isNaN(i)){t||(t=Ym[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,t>=128&&++a,t>=16384&&++a,t>=2097152&&++a;var o=e.next(a);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var s=0;s!=4;++s)if(t>=128)o.write_shift(1,(t&127)+128),t>>=7;else{o.write_shift(1,t);break}t>0&&qx(r)&&e.push(r)}}function Tm(e,n,r){var t=Ei(e);if(n.s?(t.cRel&&(t.c+=n.s.c),t.rRel&&(t.r+=n.s.r)):(t.cRel&&(t.c+=n.c),t.rRel&&(t.r+=n.r)),!r||r.biff<12){for(;t.c>=256;)t.c-=256;for(;t.r>=65536;)t.r-=65536}return t}function PM(e,n,r){var t=Ei(e);return t.s=Tm(t.s,n.s,r),t.e=Tm(t.e,n.s,r),t}function Om(e,n){if(e.cRel&&e.c<0)for(e=Ei(e);e.c<0;)e.c+=n>8?16384:256;if(e.rRel&&e.r<0)for(e=Ei(e);e.r<0;)e.r+=n>8?1048576:n>5?65536:16384;var r=Lt(e);return!e.cRel&&e.cRel!=null&&(r=k7(r)),!e.rRel&&e.rRel!=null&&(r=S7(r)),r}function ox(e,n){return e.s.r==0&&!e.s.rRel&&e.e.r==(n.biff>=12?1048575:n.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ji(e.s.c)+":"+(e.e.cRel?"":"$")+ji(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(n.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+er(e.s.r)+":"+(e.e.rRel?"":"$")+er(e.e.r):Om(e.s,n.biff)+":"+Om(e.e,n.biff)}function Kx(e){return parseInt(M7(e),10)-1}function er(e){return""+(e+1)}function S7(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function M7(e){return e.replace(/\$(\d+)$/,"$1")}function Qx(e){for(var n=P7(e),r=0,t=0;t!==n.length;++t)r=26*r+n.charCodeAt(t)-64;return r-1}function ji(e){if(e<0)throw new Error("invalid column "+e);var n="";for(++e;e;e=Math.floor((e-1)/26))n=String.fromCharCode((e-1)%26+65)+n;return n}function k7(e){return e.replace(/^([A-Z])/,"$$$1")}function P7(e){return e.replace(/^\$([A-Z])/,"$1")}function E7(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ui(e){for(var n=0,r=0,t=0;t<e.length;++t){var i=e.charCodeAt(t);i>=48&&i<=57?n=10*n+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:n-1}}function Lt(e){for(var n=e.c+1,r="";n;n=(n-1)/26|0)r=String.fromCharCode((n-1)%26+65)+r;return r+(e.r+1)}function Oa(e){var n=e.indexOf(":");return n==-1?{s:Ui(e),e:Ui(e)}:{s:Ui(e.slice(0,n)),e:Ui(e.slice(n+1))}}function on(e,n){return typeof n>"u"||typeof n=="number"?on(e.s,e.e):(typeof e!="string"&&(e=Lt(e)),typeof n!="string"&&(n=Lt(n)),e==n?e:e+":"+n)}function jn(e){var n={s:{c:0,r:0},e:{c:0,r:0}},r=0,t=0,i=0,a=e.length;for(r=0;t<a&&!((i=e.charCodeAt(t)-64)<1||i>26);++t)r=26*r+i;for(n.s.c=--r,r=0;t<a&&!((i=e.charCodeAt(t)-48)<0||i>9);++t)r=10*r+i;if(n.s.r=--r,t===a||i!=10)return n.e.c=n.s.c,n.e.r=n.s.r,n;for(++t,r=0;t!=a&&!((i=e.charCodeAt(t)-64)<1||i>26);++t)r=26*r+i;for(n.e.c=--r,r=0;t!=a&&!((i=e.charCodeAt(t)-48)<0||i>9);++t)r=10*r+i;return n.e.r=--r,n}function EM(e,n){var r=e.t=="d"&&n instanceof Date;if(e.z!=null)try{return e.w=Ha(e.z,r?vr(n):n)}catch{}try{return e.w=Ha((e.XF||{}).numFmtId||(r?14:0),r?vr(n):n)}catch{return""+n}}function Hs(e,n,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Ws[e.v]||e.v:n==null?EM(e,e.v):EM(e,n))}function Gc(e,n){var r=n&&n.sheet?n.sheet:"Sheet1",t={};return t[r]=e,{SheetNames:[r],Sheets:t}}function Uk(e,n,r){var t=r||{},i=e?Array.isArray(e):t.dense;Ki!=null&&i==null&&(i=Ki);var a=e||(i?[]:{}),o=0,s=0;if(a&&t.origin!=null){if(typeof t.origin=="number")o=t.origin;else{var d=typeof t.origin=="string"?Ui(t.origin):t.origin;o=d.r,s=d.c}a["!ref"]||(a["!ref"]="A1:A1")}var m={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var f=jn(a["!ref"]);m.s.c=f.s.c,m.s.r=f.s.r,m.e.c=Math.max(m.e.c,f.e.c),m.e.r=Math.max(m.e.r,f.e.r),o==-1&&(m.e.r=o=f.e.r+1)}for(var _=0;_!=n.length;++_)if(n[_]){if(!Array.isArray(n[_]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=n[_].length;++v)if(!(typeof n[_][v]>"u")){var w={v:n[_][v]},C=o+_,b=s+v;if(m.s.r>C&&(m.s.r=C),m.s.c>b&&(m.s.c=b),m.e.r<C&&(m.e.r=C),m.e.c<b&&(m.e.c=b),n[_][v]&&typeof n[_][v]=="object"&&!Array.isArray(n[_][v])&&!(n[_][v]instanceof Date))w=n[_][v];else if(Array.isArray(w.v)&&(w.f=n[_][v][1],w.v=w.v[0]),w.v===null)if(w.f)w.t="n";else if(t.nullError)w.t="e",w.v=0;else if(t.sheetStubs)w.t="z";else continue;else typeof w.v=="number"?w.t="n":typeof w.v=="boolean"?w.t="b":w.v instanceof Date?(w.z=t.dateNF||Dt[14],t.cellDates?(w.t="d",w.w=Ha(w.z,vr(w.v))):(w.t="n",w.v=vr(w.v),w.w=Ha(w.z,w.v))):w.t="s";if(i)a[C]||(a[C]=[]),a[C][b]&&a[C][b].z&&(w.z=a[C][b].z),a[C][b]=w;else{var O=Lt({c:b,r:C});a[O]&&a[O].z&&(w.z=a[O].z),a[O]=w}}}return m.s.c<1e7&&(a["!ref"]=on(m)),a}function Mu(e,n){return Uk(null,e,n)}function T7(e){return e.read_shift(4,"i")}function zo(e,n){return n||(n=Oe(4)),n.write_shift(4,e),n}function ra(e){var n=e.read_shift(4);return n===0?"":e.read_shift(n,"dbcs")}function Ar(e,n){var r=!1;return n==null&&(r=!0,n=Oe(4+2*e.length)),n.write_shift(4,e.length),e.length>0&&n.write_shift(0,e,"dbcs"),r?n.slice(0,n.l):n}function O7(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function I7(e,n){return n||(n=Oe(4)),n.write_shift(2,e.ich||0),n.write_shift(2,e.ifnt||0),n}function Xx(e,n){var r=e.l,t=e.read_shift(1),i=ra(e),a=[],o={t:i,h:i};if(t&1){for(var s=e.read_shift(4),d=0;d!=s;++d)a.push(O7(e));o.r=a}else o.r=[{ich:0,ifnt:0}];return e.l=r+n,o}function A7(e,n){var r=!1;return n==null&&(r=!0,n=Oe(15+4*e.t.length)),n.write_shift(1,0),Ar(e.t,n),r?n.slice(0,n.l):n}var D7=Xx;function F7(e,n){var r=!1;return n==null&&(r=!0,n=Oe(23+4*e.t.length)),n.write_shift(1,1),Ar(e.t,n),n.write_shift(4,1),I7({ich:0,ifnt:0},n),r?n.slice(0,n.l):n}function Co(e){var n=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:n,iStyleRef:r}}function Rl(e,n){return n==null&&(n=Oe(8)),n.write_shift(-4,e.c),n.write_shift(3,e.iStyleRef||e.s),n.write_shift(1,0),n}function Nl(e){var n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:n}}function Ll(e,n){return n==null&&(n=Oe(4)),n.write_shift(3,e.iStyleRef||e.s),n.write_shift(1,0),n}var R7=ra,zk=Ar;function Zx(e){var n=e.read_shift(4);return n===0||n===4294967295?"":e.read_shift(n,"dbcs")}function tg(e,n){var r=!1;return n==null&&(r=!0,n=Oe(127)),n.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&n.write_shift(0,e,"dbcs"),r?n.slice(0,n.l):n}var N7=ra,bx=Zx,Jx=tg;function ev(e){var n=e.slice(e.l,e.l+4),r=n[0]&1,t=n[0]&2;e.l+=4;var i=t===0?eg([0,0,0,0,n[0]&252,n[1],n[2],n[3]],0):Cl(n,0)>>2;return r?i/100:i}function Hk(e,n){n==null&&(n=Oe(4));var r=0,t=0,i=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?t=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(t=1,r=1),t)n.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Gk(e){var n={s:{},e:{}};return n.s.r=e.read_shift(4),n.e.r=e.read_shift(4),n.s.c=e.read_shift(4),n.e.c=e.read_shift(4),n}function L7(e,n){return n||(n=Oe(16)),n.write_shift(4,e.s.r),n.write_shift(4,e.e.r),n.write_shift(4,e.s.c),n.write_shift(4,e.e.c),n}var Vl=Gk,ku=L7;function na(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Tl(e,n){return(n||Oe(8)).write_shift(8,e,"f")}function V7(e){var n={},r=e.read_shift(1),t=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),o=e.read_shift(1),s=e.read_shift(1),d=e.read_shift(1);switch(e.l++,t){case 0:n.auto=1;break;case 1:n.index=i;var m=wl[i];m&&(n.rgb=Hm(m));break;case 2:n.rgb=Hm([o,s,d]);break;case 3:n.theme=i;break}return a!=0&&(n.tint=a>0?a/32767:a/32768),n}function ng(e,n){if(n||(n=Oe(8)),!e||e.auto)return n.write_shift(4,0),n.write_shift(4,0),n;e.index!=null?(n.write_shift(1,2),n.write_shift(1,e.index)):e.theme!=null?(n.write_shift(1,6),n.write_shift(1,e.theme)):(n.write_shift(1,5),n.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),n.write_shift(2,r),!e.rgb||e.theme!=null)n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);else{var t=e.rgb||"FFFFFF";typeof t=="number"&&(t=("000000"+t.toString(16)).slice(-6)),n.write_shift(1,parseInt(t.slice(0,2),16)),n.write_shift(1,parseInt(t.slice(2,4),16)),n.write_shift(1,parseInt(t.slice(4,6),16)),n.write_shift(1,255)}return n}function B7(e){var n=e.read_shift(1);e.l++;var r={fBold:n&1,fItalic:n&2,fUnderline:n&4,fStrikeout:n&8,fOutline:n&16,fShadow:n&32,fCondense:n&64,fExtend:n&128};return r}function j7(e,n){n||(n=Oe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return n.write_shift(1,r),n.write_shift(1,0),n}function $k(e,n){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},t=e.read_shift(4);switch(t){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(t>400)throw new Error("Unsupported Clipboard: "+t.toString(16));return e.l-=4,e.read_shift(0,n==1?"lpstr":"lpwstr")}function U7(e){return $k(e,1)}function z7(e){return $k(e,2)}var tv=2,Ea=3,Uf=11,TM=12,ig=19;var zf=64,H7=65,G7=71;var $7=4108,W7=4126,Tr=80,Wk=81,Y7=[Tr,Wk],yx={1:{n:"CodePage",t:tv},2:{n:"Category",t:Tr},3:{n:"PresentationFormat",t:Tr},4:{n:"ByteCount",t:Ea},5:{n:"LineCount",t:Ea},6:{n:"ParagraphCount",t:Ea},7:{n:"SlideCount",t:Ea},8:{n:"NoteCount",t:Ea},9:{n:"HiddenCount",t:Ea},10:{n:"MultimediaClipCount",t:Ea},11:{n:"ScaleCrop",t:Uf},12:{n:"HeadingPairs",t:$7},13:{n:"TitlesOfParts",t:W7},14:{n:"Manager",t:Tr},15:{n:"Company",t:Tr},16:{n:"LinksUpToDate",t:Uf},17:{n:"CharacterCount",t:Ea},19:{n:"SharedDoc",t:Uf},22:{n:"HyperlinksChanged",t:Uf},23:{n:"AppVersion",t:Ea,p:"version"},24:{n:"DigSig",t:H7},26:{n:"ContentType",t:Tr},27:{n:"ContentStatus",t:Tr},28:{n:"Language",t:Tr},29:{n:"Version",t:Tr},255:{},2147483648:{n:"Locale",t:ig},2147483651:{n:"Behavior",t:ig},1919054434:{}},Cx={1:{n:"CodePage",t:tv},2:{n:"Title",t:Tr},3:{n:"Subject",t:Tr},4:{n:"Author",t:Tr},5:{n:"Keywords",t:Tr},6:{n:"Comments",t:Tr},7:{n:"Template",t:Tr},8:{n:"LastAuthor",t:Tr},9:{n:"RevNumber",t:Tr},10:{n:"EditTime",t:zf},11:{n:"LastPrinted",t:zf},12:{n:"CreatedDate",t:zf},13:{n:"ModifiedDate",t:zf},14:{n:"PageCount",t:Ea},15:{n:"WordCount",t:Ea},16:{n:"CharCount",t:Ea},17:{n:"Thumbnail",t:G7},18:{n:"Application",t:Tr},19:{n:"DocSecurity",t:Ea},255:{},2147483648:{n:"Locale",t:ig},2147483651:{n:"Behavior",t:ig},1919054434:{}},OM={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},q7=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function K7(e){return e.map(function(n){return[n>>16&255,n>>8&255,n&255]})}var Q7=K7([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),wl=Ei(Q7),Ws={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Yk={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},wx={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Hf={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function nv(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function X7(e){var n=nv();if(!e||!e.match)return n;var r={};if((e.match(oa)||[]).forEach(function(t){var i=Ht(t);switch(i[0].replace(o7,"<")){case"<?xml":break;case"<Types":n.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":n[wx[i.ContentType]]!==void 0&&n[wx[i.ContentType]].push(i.PartName);break}}),n.xmlns!==xr.CT)throw new Error("Unknown Namespace: "+n.xmlns);return n.calcchain=n.calcchains.length>0?n.calcchains[0]:"",n.sst=n.strs.length>0?n.strs[0]:"",n.style=n.styles.length>0?n.styles[0]:"",n.defaults=r,delete n.calcchains,n}function qk(e,n){var r=XR(wx),t=[],i;t[t.length]=tr,t[t.length]=Qe("Types",null,{xmlns:xr.CT,"xmlns:xsd":xr.xsd,"xmlns:xsi":xr.xsi}),t=t.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Qe("Default",null,{Extension:d[0],ContentType:d[1]})}));var a=function(d){e[d]&&e[d].length>0&&(i=e[d][0],t[t.length]=Qe("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Hf[d][n.bookType]||Hf[d].xlsx}))},o=function(d){(e[d]||[]).forEach(function(m){t[t.length]=Qe("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:Hf[d][n.bookType]||Hf[d].xlsx})})},s=function(d){(e[d]||[]).forEach(function(m){t[t.length]=Qe("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:r[d][0]})})};return a("workbooks"),o("sheets"),o("charts"),s("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),o("metadata"),s("people"),t.length>2&&(t[t.length]="</Types>",t[1]=t[1].replace("/>",">")),t.join("")}var dn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function zm(e){var n=e.lastIndexOf("/");return e.slice(0,n+1)+"_rels/"+e.slice(n+1)+".rels"}function Im(e,n){var r={"!id":{}};if(!e)return r;n.charAt(0)!=="/"&&(n="/"+n);var t={};return(e.match(oa)||[]).forEach(function(i){var a=Ht(i);if(a[0]==="<Relationship"){var o={};o.Type=a.Type,o.Target=a.Target,o.Id=a.Id,a.TargetMode&&(o.TargetMode=a.TargetMode);var s=a.TargetMode==="External"?a.Target:Pm(a.Target,n);r[s]=o,t[a.Id]=o}}),r["!id"]=t,r}function gu(e){var n=[tr,Qe("Relationships",null,{xmlns:xr.RELS})];return Qi(e["!id"]).forEach(function(r){n[n.length]=Qe("Relationship",null,e["!id"][r])}),n.length>2&&(n[n.length]="</Relationships>",n[1]=n[1].replace("/>",">")),n.join("")}function li(e,n,r,t,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),n<0)for(n=e["!idx"];e["!id"]["rId"+n];++n);if(e["!idx"]=n+1,i.Id="rId"+n,i.Type=t,i.Target=r,a?i.TargetMode=a:[dn.HLINK,dn.XPATH,dn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+n);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,n}var Z7="application/vnd.oasis.opendocument.spreadsheet";function J7(e,n){for(var r=zx(e),t,i;t=Um.exec(r);)switch(t[3]){case"manifest":break;case"file-entry":if(i=Ht(t[0],!1),i.path=="/"&&i.type!==Z7)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(n&&n.WTF)throw t}}function eN(e){var n=[tr];n.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),n.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)n.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return n.push("</manifest:manifest>"),n.join("")}function IM(e,n,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+n+`"/>
`,`  </rdf:Description>
`].join("")}function tN(e,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+n+`"/>
`,`  </rdf:Description>
`].join("")}function nN(e){var n=[tr];n.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)n.push(IM(e[r][0],e[r][1])),n.push(tN("",e[r][0]));return n.push(IM("","Document","pkg")),n.push("</rdf:RDF>"),n.join("")}function Kk(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Nm.version+"</meta:generator></office:meta></office:document-meta>"}var yo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],iN=function(){for(var e=new Array(yo.length),n=0;n<yo.length;++n){var r=yo[n],t="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[n]=new RegExp("<"+t+"[^>]*>([\\s\\S]*?)</"+t+">")}return e}();function Qk(e){var n={};e=pi(e);for(var r=0;r<yo.length;++r){var t=yo[r],i=e.match(iN[r]);i!=null&&i.length>0&&(n[t[1]]=Bn(i[1])),t[2]==="date"&&n[t[1]]&&(n[t[1]]=Pi(n[t[1]]))}return n}function sx(e,n,r,t,i){i[e]!=null||n==null||n===""||(i[e]=n,n=di(n),t[t.length]=r?Qe(e,n,r):Ur(e,n))}function Xk(e,n){var r=n||{},t=[tr,Qe("cp:coreProperties",null,{"xmlns:cp":xr.CORE_PROPS,"xmlns:dc":xr.dc,"xmlns:dcterms":xr.dcterms,"xmlns:dcmitype":xr.dcmitype,"xmlns:xsi":xr.xsi})],i={};if(!e&&!r.Props)return t.join("");e&&(e.CreatedDate!=null&&sx("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:vx(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},t,i),e.ModifiedDate!=null&&sx("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:vx(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},t,i));for(var a=0;a!=yo.length;++a){var o=yo[a],s=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;s===!0?s="1":s===!1?s="0":typeof s=="number"&&(s=String(s)),s!=null&&sx(o[0],s,null,t,i)}return t.length>2&&(t[t.length]="</cp:coreProperties>",t[1]=t[1].replace("/>",">")),t.join("")}var Sl=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Zk=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Jk(e,n,r,t){var i=[];if(typeof e=="string")i=yM(e,t);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(f){return{v:f}}));var o=typeof n=="string"?yM(n,t).map(function(f){return f.v}):n,s=0,d=0;if(o.length>0)for(var m=0;m!==i.length;m+=2){switch(d=+i[m+1].v,i[m].v){case"Worksheets":case"\u5DE5\u4F5C\u8868":case"\u041B\u0438\u0441\u0442\u044B":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30EF\u30FC\u30AF\u30B7\u30FC\u30C8":case"\u05D2\u05DC\u05D9\u05D5\u05E0\u05D5\u05EA \u05E2\u05D1\u05D5\u05D3\u05D4":case"Arbeitsbl\xE4tter":case"\xC7al\u0131\u015Fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xE1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xE1lculo":case"Werkbladen":r.Worksheets=d,r.SheetNames=o.slice(s,s+d);break;case"Named Ranges":case"Rangos con nombre":case"\u540D\u524D\u4ED8\u304D\u4E00\u89A7":case"Benannte Bereiche":case"Navngivne omr\xE5der":r.NamedRanges=d,r.DefinedNames=o.slice(s,s+d);break;case"Charts":case"Diagramme":r.Chartsheets=d,r.ChartNames=o.slice(s,s+d);break}s+=d}}function rN(e,n,r){var t={};return n||(n={}),e=pi(e),Sl.forEach(function(i){var a=(e.match(Bm(i[0]))||[])[1];switch(i[2]){case"string":a&&(n[i[1]]=Bn(a));break;case"bool":n[i[1]]=a==="true";break;case"raw":var o=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(t[i[1]]=o[1]);break}}),t.HeadingPairs&&t.TitlesOfParts&&Jk(t.HeadingPairs,t.TitlesOfParts,n,r),n}function eP(e){var n=[],r=Qe;return e||(e={}),e.Application="SheetJS",n[n.length]=tr,n[n.length]=Qe("Properties",null,{xmlns:xr.EXT_PROPS,"xmlns:vt":xr.vt}),Sl.forEach(function(t){if(e[t[1]]!==void 0){var i;switch(t[2]){case"string":i=di(String(e[t[1]]));break;case"bool":i=e[t[1]]?"true":"false";break}i!==void 0&&(n[n.length]=r(t[0],i))}}),n[n.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),n[n.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(t){return"<vt:lpstr>"+di(t)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),n.length>2&&(n[n.length]="</Properties>",n[1]=n[1].replace("/>",">")),n.join("")}var aN=/<[^>]+>[^<]*/g;function oN(e,n){var r={},t="",i=e.match(aN);if(i)for(var a=0;a!=i.length;++a){var o=i[a],s=Ht(o);switch(s[0]){case"<?xml":break;case"<Properties":break;case"<property":t=Bn(s.name);break;case"</property>":t=null;break;default:if(o.indexOf("<vt:")===0){var d=o.split(">"),m=d[0].slice(4),f=d[1];switch(m){case"lpstr":case"bstr":case"lpwstr":r[t]=Bn(f);break;case"bool":r[t]=ki(f);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[t]=parseInt(f,10);break;case"r4":case"r8":case"decimal":r[t]=parseFloat(f);break;case"filetime":case"date":r[t]=Pi(f);break;case"cy":case"error":r[t]=Bn(f);break;default:if(m.slice(-1)=="/")break;n.WTF&&typeof console<"u"&&console.warn("Unexpected",o,m,d)}}else if(o.slice(0,2)!=="</"){if(n.WTF)throw new Error(o)}}}return r}function tP(e){var n=[tr,Qe("Properties",null,{xmlns:xr.CUST_PROPS,"xmlns:vt":xr.vt})];if(!e)return n.join("");var r=1;return Qi(e).forEach(function(i){++r,n[n.length]=Qe("property",p7(e[i],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:di(i)})}),n.length>2&&(n[n.length]="</Properties>",n[1]=n[1].replace("/>",">")),n.join("")}var Sx={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},cx;function sN(e,n,r){cx||(cx=dg(Sx)),n=cx[n]||n,e[n]=r}function cN(e,n){var r=[];return Qi(Sx).map(function(t){for(var i=0;i<yo.length;++i)if(yo[i][1]==t)return yo[i];for(i=0;i<Sl.length;++i)if(Sl[i][1]==t)return Sl[i];throw t}).forEach(function(t){if(e[t[1]]!=null){var i=n&&n.Props&&n.Props[t[1]]!=null?n.Props[t[1]]:e[t[1]];switch(t[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(Ur(Sx[t[1]]||t[1],i))}}),Qe("DocumentProperties",r.join(""),{xmlns:Ba.o})}function lN(e,n){var r=["Worksheets","SheetNames"],t="CustomDocumentProperties",i=[];return e&&Qi(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var o=0;o<yo.length;++o)if(a==yo[o][1])return;for(o=0;o<Sl.length;++o)if(a==Sl[o][1])return;for(o=0;o<r.length;++o)if(a==r[o])return;var s=e[a],d="string";typeof s=="number"?(d="float",s=String(s)):s===!0||s===!1?(d="boolean",s=s?"1":"0"):s=String(s),i.push(Qe(_M(a),s,{"dt:dt":d}))}}),n&&Qi(n).forEach(function(a){if(Object.prototype.hasOwnProperty.call(n,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var o=n[a],s="string";typeof o=="number"?(s="float",o=String(o)):o===!0||o===!1?(s="boolean",o=o?"1":"0"):o instanceof Date?(s="dateTime.tz",o=o.toISOString()):o=String(o),i.push(Qe(_M(a),o,{"dt:dt":s}))}}),"<"+t+' xmlns="'+Ba.o+'">'+i.join("")+"</"+t+">"}function iv(e){var n=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+n/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function dN(e){var n=typeof e=="string"?new Date(Date.parse(e)):e,r=n.getTime()/1e3+11644473600,t=r%Math.pow(2,32),i=(r-t)/Math.pow(2,32);t*=1e7,i*=1e7;var a=t/Math.pow(2,32)|0;a>0&&(t=t%Math.pow(2,32),i+=a);var o=Oe(8);return o.write_shift(4,t),o.write_shift(4,i),o}function nP(e,n,r){var t=e.l,i=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-t&3;)++e.l;return i}function iP(e,n,r){var t=e.read_shift(0,"lpwstr");return r&&(e.l+=4-(t.length+1&3)&3),t}function rP(e,n,r){return n===31?iP(e):nP(e,n,r)}function Mx(e,n,r){return rP(e,n,r===!1?0:4)}function uN(e,n){if(!n)throw new Error("VtUnalignedString must have positive length");return rP(e,n,0)}function mN(e){for(var n=e.read_shift(4),r=[],t=0;t!=n;++t){var i=e.l;r[t]=e.read_shift(0,"lpwstr").replace(ia,""),e.l-i&2&&(e.l+=2)}return r}function hN(e){for(var n=e.read_shift(4),r=[],t=0;t!=n;++t)r[t]=e.read_shift(0,"lpstr-cp").replace(ia,"");return r}function pN(e){var n=e.l,r=rg(e,Wk);e[e.l]==0&&e[e.l+1]==0&&e.l-n&2&&(e.l+=2);var t=rg(e,Ea);return[r,t]}function fN(e){for(var n=e.read_shift(4),r=[],t=0;t<n/2;++t)r.push(pN(e));return r}function AM(e,n){for(var r=e.read_shift(4),t={},i=0;i!=r;++i){var a=e.read_shift(4),o=e.read_shift(4);t[a]=e.read_shift(o,n===1200?"utf16le":"utf8").replace(ia,"").replace(km,"!"),n===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),t}function aP(e){var n=e.read_shift(4),r=e.slice(e.l,e.l+n);return e.l+=n,(n&3)>0&&(e.l+=4-(n&3)&3),r}function gN(e){var n={};return n.Size=e.read_shift(4),e.l+=n.Size+3-(n.Size-1)%4,n}function rg(e,n,r){var t=e.read_shift(2),i,a=r||{};if(e.l+=2,n!==TM&&t!==n&&Y7.indexOf(n)===-1&&!((n&65534)==4126&&(t&65534)==4126))throw new Error("Expected type "+n+" saw "+t);switch(n===TM?t:n){case 2:return i=e.read_shift(2,"i"),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return nP(e,t,4).replace(ia,"");case 31:return iP(e);case 64:return iv(e);case 65:return aP(e);case 71:return gN(e);case 80:return Mx(e,t,!a.raw).replace(ia,"");case 81:return uN(e,t).replace(ia,"");case 4108:return fN(e);case 4126:case 4127:return t==4127?mN(e):hN(e);default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+t)}}function DM(e,n){var r=Oe(4),t=Oe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:t.write_shift(-4,n);break;case 5:t=Oe(8),t.write_shift(8,n,"f");break;case 11:t.write_shift(4,n?1:0);break;case 64:t=dN(n);break;case 31:case 80:for(t=Oe(4+2*(n.length+1)+(n.length%2?0:2)),t.write_shift(4,n.length+1),t.write_shift(0,n,"dbcs");t.l!=t.length;)t.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}return Ir([r,t])}function FM(e,n){var r=e.l,t=e.read_shift(4),i=e.read_shift(4),a=[],o=0,s=0,d=-1,m={};for(o=0;o!=i;++o){var f=e.read_shift(4),_=e.read_shift(4);a[o]=[f,_+r]}a.sort(function(N,V){return N[1]-V[1]});var v={};for(o=0;o!=i;++o){if(e.l!==a[o][1]){var w=!0;if(o>0&&n)switch(n[a[o-1][0]].t){case 2:e.l+2===a[o][1]&&(e.l+=2,w=!1);break;case 80:e.l<=a[o][1]&&(e.l=a[o][1],w=!1);break;case 4108:e.l<=a[o][1]&&(e.l=a[o][1],w=!1);break}if((!n||o==0)&&e.l<=a[o][1]&&(w=!1,e.l=a[o][1]),w)throw new Error("Read Error: Expected address "+a[o][1]+" at "+e.l+" :"+o)}if(n){var C=n[a[o][0]];if(v[C.n]=rg(e,C.t,{raw:!0}),C.p==="version"&&(v[C.n]=String(v[C.n]>>16)+"."+("0000"+String(v[C.n]&65535)).slice(-4)),C.n=="CodePage")switch(v[C.n]){case 0:v[C.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Bo(s=v[C.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+v[C.n])}}else if(a[o][0]===1){if(s=v.CodePage=rg(e,tv),Bo(s),d!==-1){var b=e.l;e.l=a[d][1],m=AM(e,s),e.l=b}}else if(a[o][0]===0){if(s===0){d=o,e.l=a[o+1][1];continue}m=AM(e,s)}else{var O=m[a[o][0]],L;switch(e[e.l]){case 65:e.l+=4,L=aP(e);break;case 30:e.l+=4,L=Mx(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,L=Mx(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,L=e.read_shift(4,"i");break;case 19:e.l+=4,L=e.read_shift(4);break;case 5:e.l+=4,L=e.read_shift(8,"f");break;case 11:e.l+=4,L=Ji(e,4);break;case 64:e.l+=4,L=Pi(iv(e));break;default:throw new Error("unparsed value: "+e[e.l])}v[O]=L}}return e.l=r+t,v}var oP=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function _N(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function RM(e,n,r){var t=Oe(8),i=[],a=[],o=8,s=0,d=Oe(8),m=Oe(8);if(d.write_shift(4,2),d.write_shift(4,1200),m.write_shift(4,1),a.push(d),i.push(m),o+=8+d.length,!n){m=Oe(8),m.write_shift(4,0),i.unshift(m);var f=[Oe(4)];for(f[0].write_shift(4,e.length),s=0;s<e.length;++s){var _=e[s][0];for(d=Oe(8+2*(_.length+1)+(_.length%2?0:2)),d.write_shift(4,s+2),d.write_shift(4,_.length+1),d.write_shift(0,_,"dbcs");d.l!=d.length;)d.write_shift(1,0);f.push(d)}d=Ir(f),a.unshift(d),o+=8+d.length}for(s=0;s<e.length;++s)if(!(n&&!n[e[s][0]])&&!(oP.indexOf(e[s][0])>-1||Zk.indexOf(e[s][0])>-1)&&e[s][1]!=null){var v=e[s][1],w=0;if(n){w=+n[e[s][0]];var C=r[w];if(C.p=="version"&&typeof v=="string"){var b=v.split(".");v=(+b[0]<<16)+(+b[1]||0)}d=DM(C.t,v)}else{var O=_N(v);O==-1&&(O=31,v=String(v)),d=DM(O,v)}a.push(d),m=Oe(8),m.write_shift(4,n?w:2+s),i.push(m),o+=8+d.length}var L=8*(a.length+1);for(s=0;s<a.length;++s)i[s].write_shift(4,L),L+=a[s].length;return t.write_shift(4,o),t.write_shift(4,a.length),Ir([t].concat(i).concat(a))}function NM(e,n,r){var t=e.content;if(!t)return{};jr(t,0);var i,a,o,s,d=0;t.chk("feff","Byte Order: "),t.read_shift(2);var m=t.read_shift(4),f=t.read_shift(16);if(f!==Pt.utils.consts.HEADER_CLSID&&f!==r)throw new Error("Bad PropertySet CLSID "+f);if(i=t.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=t.read_shift(16),s=t.read_shift(4),i===1&&s!==t.l)throw new Error("Length mismatch: "+s+" !== "+t.l);i===2&&(o=t.read_shift(16),d=t.read_shift(4));var _=FM(t,n),v={SystemIdentifier:m};for(var w in _)v[w]=_[w];if(v.FMTID=a,i===1)return v;if(d-t.l==2&&(t.l+=2),t.l!==d)throw new Error("Length mismatch 2: "+t.l+" !== "+d);var C;try{C=FM(t,null)}catch{}for(w in C)v[w]=C[w];return v.FMTID=[a,o],v}function LM(e,n,r,t,i,a){var o=Oe(i?68:48),s=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Pt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,n,"hex"),o.write_shift(4,i?68:48);var d=RM(e,r,t);if(s.push(d),i){var m=RM(i,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+d.length),s.push(m)}return Ir(s)}function Rc(e,n){return e.read_shift(n),null}function xN(e,n){n||(n=Oe(e));for(var r=0;r<e;++r)n.write_shift(1,0);return n}function vN(e,n,r){for(var t=[],i=e.l+n;e.l<i;)t.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return t}function Ji(e,n){return e.read_shift(n)===1}function _a(e,n){return n||(n=Oe(2)),n.write_shift(2,+!!e),n}function ur(e){return e.read_shift(2,"u")}function bo(e,n){return n||(n=Oe(2)),n.write_shift(2,e),n}function sP(e,n){return vN(e,n,ur)}function bN(e){var n=e.read_shift(1),r=e.read_shift(1);return r===1?n:n===1}function cP(e,n,r){return r||(r=Oe(2)),r.write_shift(1,n=="e"?+e:+!!e),r.write_shift(1,n=="e"?1:0),r}function Zm(e,n,r){var t=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont",a=ds;if(r&&r.biff>=8&&(ds=1200),!r||r.biff==8){var o=e.read_shift(1);o&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=t?e.read_shift(t,i):"";return ds=a,s}function yN(e){var n=ds;ds=1200;var r=e.read_shift(2),t=e.read_shift(1),i=t&4,a=t&8,o=1+(t&1),s=0,d,m={};a&&(s=e.read_shift(2)),i&&(d=e.read_shift(4));var f=o==2?"dbcs-cont":"sbcs-cont",_=r===0?"":e.read_shift(r,f);return a&&(e.l+=4*s),i&&(e.l+=d),m.t=_,a||(m.raw="<t>"+m.t+"</t>",m.r=m.t),ds=n,m}function CN(e){var n=e.t||"",r=1,t=Oe(3+(r>1?2:0));t.write_shift(2,n.length),t.write_shift(1,(r>1?8:0)|1),r>1&&t.write_shift(2,r);var i=Oe(2*n.length);i.write_shift(2*n.length,n,"utf16le");var a=[t,i];return Ir(a)}function Ol(e,n,r){var t;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(n,"cpstr");if(r.biff>=12)return e.read_shift(n,"dbcs-cont")}var i=e.read_shift(1);return i===0?t=e.read_shift(n,"sbcs-cont"):t=e.read_shift(n,"dbcs-cont"),t}function Jm(e,n,r){var t=e.read_shift(r&&r.biff==2?1:2);return t===0?(e.l++,""):Ol(e,t,r)}function Bl(e,n,r){if(r.biff>5)return Jm(e,n,r);var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function lP(e,n,r){return r||(r=Oe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function wN(e){var n=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[n,r]}function SN(e){var n=e.read_shift(4),r=e.l,t=!1;n>24&&(e.l+=n-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(t=!0),e.l=r);var i=e.read_shift((t?n-24:n)>>1,"utf16le").replace(ia,"");return t&&(e.l+=24),i}function MN(e){for(var n=e.read_shift(2),r="";n-- >0;)r+="../";var t=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return r+t.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(a>>1,"utf16le").replace(ia,"");return r+o}function kN(e,n){var r=e.read_shift(16);switch(n-=16,r){case"e0c9ea79f9bace118c8200aa004ba90b":return SN(e,n);case"0303000000000000c000000000000046":return MN(e,n);default:throw new Error("Unsupported Moniker "+r)}}function Gf(e){var n=e.read_shift(4),r=n>0?e.read_shift(n,"utf16le").replace(ia,""):"";return r}function VM(e,n){n||(n=Oe(6+e.length*2)),n.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)n.write_shift(2,e.charCodeAt(r));return n.write_shift(2,0),n}function PN(e,n){var r=e.l+n,t=e.read_shift(4);if(t!==2)throw new Error("Unrecognized streamVersion: "+t);var i=e.read_shift(2);e.l+=2;var a,o,s,d,m="",f,_;i&16&&(a=Gf(e,r-e.l)),i&128&&(o=Gf(e,r-e.l)),(i&257)===257&&(s=Gf(e,r-e.l)),(i&257)===1&&(d=kN(e,r-e.l)),i&8&&(m=Gf(e,r-e.l)),i&32&&(f=e.read_shift(16)),i&64&&(_=iv(e)),e.l=r;var v=o||s||d||"";v&&m&&(v+="#"+m),v||(v="#"+m),i&2&&v.charAt(0)=="/"&&v.charAt(1)!="/"&&(v="file://"+v);var w={Target:v};return f&&(w.guid=f),_&&(w.time=_),a&&(w.Tooltip=a),w}function EN(e){var n=Oe(512),r=0,t=e.Target;t.slice(0,7)=="file://"&&(t=t.slice(7));var i=t.indexOf("#"),a=i>-1?31:23;switch(t.charAt(0)){case"#":a=28;break;case".":a&=-3;break}n.write_shift(4,2),n.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)n.write_shift(4,o[r]);if(a==28)t=t.slice(1),VM(t,n);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)n.write_shift(1,parseInt(o[r],16));var s=i>-1?t.slice(0,i):t;for(n.write_shift(4,2*(s.length+1)),r=0;r<s.length;++r)n.write_shift(2,s.charCodeAt(r));n.write_shift(2,0),a&8&&VM(i>-1?t.slice(i+1):"",n)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)n.write_shift(1,parseInt(o[r],16));for(var d=0;t.slice(d*3,d*3+3)=="../"||t.slice(d*3,d*3+3)=="..\\";)++d;for(n.write_shift(2,d),n.write_shift(4,t.length-3*d+1),r=0;r<t.length-3*d;++r)n.write_shift(1,t.charCodeAt(r+3*d)&255);for(n.write_shift(1,0),n.write_shift(2,65535),n.write_shift(2,57005),r=0;r<6;++r)n.write_shift(4,0)}return n.slice(0,n.l)}function dP(e){var n=e.read_shift(1),r=e.read_shift(1),t=e.read_shift(1),i=e.read_shift(1);return[n,r,t,i]}function uP(e,n){var r=dP(e,n);return r[3]=0,r}function hs(e){var n=e.read_shift(2),r=e.read_shift(2),t=e.read_shift(2);return{r:n,c:r,ixfe:t}}function Il(e,n,r,t){return t||(t=Oe(6)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,r||0),t}function TN(e){var n=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:n,flags:r}}function ON(e,n,r){return n===0?"":Bl(e,n,r)}function IN(e,n,r){var t=r.biff>8?4:2,i=e.read_shift(t),a=e.read_shift(t,"i"),o=e.read_shift(t,"i");return[i,a,o]}function mP(e){var n=e.read_shift(2),r=ev(e);return[n,r]}function AN(e,n,r){e.l+=4,n-=4;var t=e.l+n,i=Zm(e,n,r),a=e.read_shift(2);if(t-=e.l,a!==t)throw new Error("Malformed AddinUdf: padding = "+t+" != "+a);return e.l+=a,i}function pg(e){var n=e.read_shift(2),r=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(2);return{s:{c:t,r:n},e:{c:i,r}}}function hP(e,n){return n||(n=Oe(8)),n.write_shift(2,e.s.r),n.write_shift(2,e.e.r),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c),n}function pP(e){var n=e.read_shift(2),r=e.read_shift(2),t=e.read_shift(1),i=e.read_shift(1);return{s:{c:t,r:n},e:{c:i,r}}}var DN=pP;function fP(e){e.l+=4;var n=e.read_shift(2),r=e.read_shift(2),t=e.read_shift(2);return e.l+=12,[r,n,t]}function FN(e){var n={};return e.l+=4,e.l+=16,n.fSharedNote=e.read_shift(2),e.l+=4,n}function RN(e){var n={};return e.l+=4,e.cf=e.read_shift(2),n}function Zr(e){e.l+=2,e.l+=e.read_shift(2)}var NN={0:Zr,4:Zr,5:Zr,6:Zr,7:RN,8:Zr,9:Zr,10:Zr,11:Zr,12:Zr,13:FN,14:Zr,15:Zr,16:Zr,17:Zr,18:Zr,19:Zr,20:Zr,21:fP};function LN(e,n){for(var r=e.l+n,t=[];e.l<r;){var i=e.read_shift(2);e.l-=2;try{t.push(NN[i](e,r-e.l))}catch{return e.l=r,t}}return e.l!=r&&(e.l=r),t}function $f(e,n){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),n-=2,n>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(n>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(n),r}function rv(e,n,r){var t=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":t=1280,i=8;break;case"biff4":t=4,i=6;break;case"biff3":t=3,i=6;break;case"biff2":t=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Oe(i);return a.write_shift(2,t),a.write_shift(2,n),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function VN(e,n){return n===0||e.read_shift(2),1200}function BN(e,n,r){if(r.enc)return e.l+=n,"";var t=e.l,i=Bl(e,0,r);return e.read_shift(n+t-e.l),i}function jN(e,n){var r=!n||n.biff==8,t=Oe(r?112:54);for(t.write_shift(n.biff==8?2:1,7),r&&t.write_shift(1,0),t.write_shift(4,859007059),t.write_shift(4,5458548|(r?0:536870912));t.l<t.length;)t.write_shift(1,r?0:32);return t}function UN(e,n,r){var t=r&&r.biff==8||n==2?e.read_shift(2):(e.l+=n,0);return{fDialog:t&16,fBelow:t&64,fRight:t&128}}function zN(e,n,r){var t=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var o=Zm(e,0,r);return o.length===0&&(o="Sheet1"),{pos:t,hs:i,dt:a,name:o}}function HN(e,n){var r=!n||n.biff>=8?2:1,t=Oe(8+r*e.name.length);t.write_shift(4,e.pos),t.write_shift(1,e.hs||0),t.write_shift(1,e.dt),t.write_shift(1,e.name.length),n.biff>=8&&t.write_shift(1,1),t.write_shift(r*e.name.length,e.name,n.biff<8?"sbcs":"utf16le");var i=t.slice(0,t.l);return i.l=t.l,i}function GN(e,n){for(var r=e.l+n,t=e.read_shift(4),i=e.read_shift(4),a=[],o=0;o!=i&&e.l<r;++o)a.push(yN(e));return a.Count=t,a.Unique=i,a}function $N(e,n){var r=Oe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var t=[],i=0;i<e.length;++i)t[i]=CN(e[i],n);var a=Ir([r].concat(t));return a.parts=[r.length].concat(t.map(function(o){return o.length})),a}function WN(e,n){var r={};return r.dsst=e.read_shift(2),e.l+=n-2,r}function YN(e){var n={};n.r=e.read_shift(2),n.c=e.read_shift(2),n.cnt=e.read_shift(2)-n.c;var r=e.read_shift(2);e.l+=4;var t=e.read_shift(1);return e.l+=3,t&7&&(n.level=t&7),t&32&&(n.hidden=!0),t&64&&(n.hpt=r/20),n}function qN(e){var n=TN(e);if(n.type!=2211)throw new Error("Invalid Future Record "+n.type);var r=e.read_shift(4);return r!==0}function KN(e){return e.read_shift(2),e.read_shift(4)}function BM(e,n,r){var t=0;r&&r.biff==2||(t=e.read_shift(2));var i=e.read_shift(2);r&&r.biff==2&&(t=1-(i>>15),i&=32767);var a={Unsynced:t&1,DyZero:(t&2)>>1,ExAsc:(t&4)>>2,ExDsc:(t&8)>>3};return[a,i]}function QN(e){var n=e.read_shift(2),r=e.read_shift(2),t=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),o=e.read_shift(2),s=e.read_shift(2),d=e.read_shift(2),m=e.read_shift(2);return{Pos:[n,r],Dim:[t,i],Flags:a,CurTab:o,FirstTab:s,Selected:d,TabRatio:m}}function XN(){var e=Oe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function ZN(e,n,r){if(r&&r.biff>=2&&r.biff<5)return{};var t=e.read_shift(2);return{RTL:t&64}}function JN(e){var n=Oe(18),r=1718;return e&&e.RTL&&(r|=64),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,64),n.write_shift(4,0),n.write_shift(4,0),n}function e9(){}function t9(e,n,r){var t={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return t.name=Zm(e,0,r),t}function n9(e,n){var r=e.name||"Arial",t=n&&n.biff==5,i=t?15+r.length:16+2*r.length,a=Oe(i);return a.write_shift(2,(e.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),t||a.write_shift(1,1),a.write_shift((t?1:2)*r.length,r,t?"sbcs":"utf16le"),a}function i9(e){var n=hs(e);return n.isst=e.read_shift(4),n}function r9(e,n,r,t){var i=Oe(10);return Il(e,n,t,i),i.write_shift(4,r),i}function a9(e,n,r){r.biffguess&&r.biff==2&&(r.biff=5);var t=e.l+n,i=hs(e,6);r.biff==2&&e.l++;var a=Jm(e,t-e.l,r);return i.val=a,i}function o9(e,n,r,t,i){var a=!i||i.biff==8,o=Oe(8+ +a+(1+a)*r.length);return Il(e,n,t,o),o.write_shift(2,r.length),a&&o.write_shift(1,1),o.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),o}function s9(e,n,r){var t=e.read_shift(2),i=Bl(e,0,r);return[t,i]}function c9(e,n,r,t){var i=r&&r.biff==5;t||(t=Oe(i?3+n.length:5+2*n.length)),t.write_shift(2,e),t.write_shift(i?1:2,n.length),i||t.write_shift(1,1),t.write_shift((i?1:2)*n.length,n,i?"sbcs":"utf16le");var a=t.length>t.l?t.slice(0,t.l):t;return a.l==null&&(a.l=a.length),a}var l9=Bl;function jM(e,n,r){var t=e.l+n,i=r.biff==8||!r.biff?4:2,a=e.read_shift(i),o=e.read_shift(i),s=e.read_shift(2),d=e.read_shift(2);return e.l=t,{s:{r:a,c:s},e:{r:o,c:d}}}function d9(e,n){var r=n.biff==8||!n.biff?4:2,t=Oe(2*r+6);return t.write_shift(r,e.s.r),t.write_shift(r,e.e.r+1),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c+1),t.write_shift(2,0),t}function u9(e){var n=e.read_shift(2),r=e.read_shift(2),t=mP(e);return{r:n,c:r,ixfe:t[0],rknum:t[1]}}function m9(e,n){for(var r=e.l+n-2,t=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(mP(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(a.length!=o-i+1)throw new Error("MulRK length mismatch");return{r:t,c:i,C:o,rkrec:a}}function h9(e,n){for(var r=e.l+n-2,t=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(a.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r:t,c:i,C:o,ixfe:a}}function p9(e,n,r,t){var i={},a=e.read_shift(4),o=e.read_shift(4),s=e.read_shift(4),d=e.read_shift(2);return i.patternType=q7[s>>26],t.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=s&127,i.icvBottom=s>>7&127,i.icvDiag=s>>14&127,i.dgDiag=s>>21&15,i.icvFore=d&127,i.icvBack=d>>7&127,i.fsxButton=d>>14&1),i}function f9(e,n,r){var t={};return t.ifnt=e.read_shift(2),t.numFmtId=e.read_shift(2),t.flags=e.read_shift(2),t.fStyle=t.flags>>2&1,n-=6,t.data=p9(e,n,t.fStyle,r),t}function UM(e,n,r,t){var i=r&&r.biff==5;t||(t=Oe(i?16:20)),t.write_shift(2,0),e.style?(t.write_shift(2,e.numFmtId||0),t.write_shift(2,65524)):(t.write_shift(2,e.numFmtId||0),t.write_shift(2,n<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),t.write_shift(4,a),t.write_shift(4,0),i||t.write_shift(4,0),t.write_shift(2,0),t}function g9(e){e.l+=4;var n=[e.read_shift(2),e.read_shift(2)];if(n[0]!==0&&n[0]--,n[1]!==0&&n[1]--,n[0]>7||n[1]>7)throw new Error("Bad Gutters: "+n.join("|"));return n}function _9(e){var n=Oe(8);return n.write_shift(4,0),n.write_shift(2,e[0]?e[0]+1:0),n.write_shift(2,e[1]?e[1]+1:0),n}function zM(e,n,r){var t=hs(e,6);(r.biff==2||n==9)&&++e.l;var i=bN(e,2);return t.val=i,t.t=i===!0||i===!1?"b":"e",t}function x9(e,n,r,t,i,a){var o=Oe(8);return Il(e,n,t,o),cP(r,a,o),o}function v9(e,n,r){r.biffguess&&r.biff==2&&(r.biff=5);var t=hs(e,6),i=na(e,8);return t.val=i,t}function b9(e,n,r,t){var i=Oe(14);return Il(e,n,t,i),Tl(r,i),i}var HM=ON;function y9(e,n,r){var t=e.l+n,i=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var o=Ol(e,a),s=[];t>e.l;)s.push(Jm(e));return[a,i,o,s]}function GM(e,n,r){var t=e.read_shift(2),i,a={fBuiltIn:t&1,fWantAdvise:t>>>1&1,fWantPict:t>>>2&1,fOle:t>>>3&1,fOleLink:t>>>4&1,cf:t>>>5&1023,fIcon:t>>>15&1};return r.sbcch===14849&&(i=AN(e,n-2,r)),a.body=i||e.read_shift(n-2),typeof i=="string"&&(a.Name=i),a}var C9=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function $M(e,n,r){var t=e.l+n,i=e.read_shift(2),a=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(r&&r.biff==2?1:2),d=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),d=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var m=Ol(e,o,r);i&32&&(m=C9[m.charCodeAt(0)]);var f=t-e.l;r&&r.biff==2&&--f;var _=t==e.l||s===0||!(f>0)?[]:Lj(e,f,r,s);return{chKey:a,Name:m,itab:d,rgce:_}}function gP(e,n,r){if(r.biff<8)return w9(e,n,r);for(var t=[],i=e.l+n,a=e.read_shift(r.biff>8?4:2);a--!==0;)t.push(IN(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return t}function w9(e,n,r){e[e.l+1]==3&&e[e.l]++;var t=Zm(e,n,r);return t.charCodeAt(0)==3?t.slice(1):t}function S9(e,n,r){if(r.biff<8){e.l+=n;return}var t=e.read_shift(2),i=e.read_shift(2),a=Ol(e,t,r),o=Ol(e,i,r);return[a,o]}function M9(e,n,r){var t=pP(e,6);e.l++;var i=e.read_shift(1);return n-=8,[Vj(e,n,r),i,t]}function WM(e,n,r){var t=DN(e,6);switch(r.biff){case 2:e.l++,n-=7;break;case 3:case 4:e.l+=2,n-=8;break;default:e.l+=6,n-=12}return[t,Rj(e,n,r,t)]}function k9(e){var n=e.read_shift(4)!==0,r=e.read_shift(4)!==0,t=e.read_shift(4);return[n,r,t]}function P9(e,n,r){if(!(r.biff<8)){var t=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),o=e.read_shift(2),s=Bl(e,0,r);return r.biff<8&&e.read_shift(1),[{r:t,c:i},s,o,a]}}function E9(e,n,r){return P9(e,n,r)}function T9(e,n){for(var r=[],t=e.read_shift(2);t--;)r.push(pg(e,n));return r}function O9(e){var n=Oe(2+e.length*8);n.write_shift(2,e.length);for(var r=0;r<e.length;++r)hP(e[r],n);return n}function I9(e,n,r){if(r&&r.biff<8)return D9(e,n,r);var t=fP(e,22),i=LN(e,n-22,t[1]);return{cmo:t,ft:i}}var A9={8:function(e,n){var r=e.l+n;e.l+=10;var t=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:t}}};function D9(e,n,r){e.l+=4;var t=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,n-=36;var o=[];return o.push((A9[t]||aa)(e,n,r)),{cmo:[i,t,a],ft:o}}function F9(e,n,r){var t=e.l,i="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:o=wN(e,6,r);var s=e.read_shift(2);e.read_shift(2),ur(e,2);var d=e.read_shift(2);e.l+=d;for(var m=1;m<e.lens.length-1;++m){if(e.l-t!=e.lens[m])throw new Error("TxO: bad continue record");var f=e[e.l],_=Ol(e,e.lens[m+1]-e.lens[m]-1);if(i+=_,i.length>=(f?s:2*s))break}if(i.length!==s&&i.length!==s*2)throw new Error("cchText: "+s+" != "+i.length);return e.l=t+n,{t:i}}catch{return e.l=t+n,{t:i}}}function R9(e,n){var r=pg(e,8);e.l+=16;var t=PN(e,n-24);return[r,t]}function N9(e){var n=Oe(24),r=Ui(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var t="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)n.write_shift(1,parseInt(t[i],16));return Ir([n,EN(e[1])])}function L9(e,n){e.read_shift(2);var r=pg(e,8),t=e.read_shift((n-10)/2,"dbcs-cont");return t=t.replace(ia,""),[r,t]}function V9(e){var n=e[1].Tooltip,r=Oe(10+2*(n.length+1));r.write_shift(2,2048);var t=Ui(e[0]);r.write_shift(2,t.r),r.write_shift(2,t.r),r.write_shift(2,t.c),r.write_shift(2,t.c);for(var i=0;i<n.length;++i)r.write_shift(2,n.charCodeAt(i));return r.write_shift(2,0),r}function B9(e){var n=[0,0],r;return r=e.read_shift(2),n[0]=OM[r]||r,r=e.read_shift(2),n[1]=OM[r]||r,n}function j9(e){return e||(e=Oe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function U9(e){for(var n=e.read_shift(2),r=[];n-- >0;)r.push(uP(e,8));return r}function z9(e){for(var n=e.read_shift(2),r=[];n-- >0;)r.push(uP(e,8));return r}function H9(e){e.l+=2;var n={cxfs:0,crc:0};return n.cxfs=e.read_shift(2),n.crc=e.read_shift(4),n}function _P(e,n,r){if(!r.cellStyles)return aa(e,n);var t=r&&r.biff>=12?4:2,i=e.read_shift(t),a=e.read_shift(t),o=e.read_shift(t),s=e.read_shift(t),d=e.read_shift(2);t==2&&(e.l+=2);var m={s:i,e:a,w:o,ixfe:s,flags:d};return(r.biff>=5||!r.biff)&&(m.level=d>>8&7),m}function G9(e,n){var r=Oe(12);r.write_shift(2,n),r.write_shift(2,n),r.write_shift(2,e.width*256),r.write_shift(2,0);var t=0;return e.hidden&&(t|=1),r.write_shift(1,t),t=e.level||0,r.write_shift(1,t),r.write_shift(2,0),r}function $9(e,n){var r={};return n<32||(e.l+=16,r.header=na(e,8),r.footer=na(e,8),e.l+=2),r}function W9(e,n,r){var t={area:!1};if(r.biff!=5)return e.l+=n,t;var i=e.read_shift(1);return e.l+=3,i&16&&(t.area=!0),t}function Y9(e){for(var n=Oe(2*e),r=0;r<e;++r)n.write_shift(2,r+1);return n}var q9=hs,K9=sP,Q9=Jm;function X9(e){var n=e.read_shift(2),r=e.read_shift(2),t=e.read_shift(4),i={fmt:n,env:r,len:t,data:e.slice(e.l,e.l+t)};return e.l+=t,i}function Z9(e,n,r){r.biffguess&&r.biff==5&&(r.biff=2);var t=hs(e,6);++e.l;var i=Bl(e,n-7,r);return t.t="str",t.val=i,t}function J9(e){var n=hs(e,6);++e.l;var r=na(e,8);return n.t="n",n.val=r,n}function eL(e,n,r){var t=Oe(15);return i0(t,e,n),t.write_shift(8,r,"f"),t}function tL(e){var n=hs(e,6);++e.l;var r=e.read_shift(2);return n.t="n",n.val=r,n}function nL(e,n,r){var t=Oe(9);return i0(t,e,n),t.write_shift(2,r),t}function iL(e){var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,"sbcs-cont")}function rL(e,n){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=n-13}function aL(e,n,r){var t=e.l+n,i=hs(e,6),a=e.read_shift(2),o=Ol(e,a,r);return e.l=t,i.t="str",i.val=o,i}var oL=[2,3,48,49,131,139,140,245],kx=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},n=dg({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(s,d){var m=[],f=Bc(1);switch(d.type){case"base64":f=ja(za(s));break;case"binary":f=ja(s);break;case"buffer":case"array":f=s;break}jr(f,0);var _=f.read_shift(1),v=!!(_&136),w=!1,C=!1;switch(_){case 2:break;case 3:break;case 48:w=!0,v=!0;break;case 49:w=!0,v=!0;break;case 131:break;case 139:break;case 140:C=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+_.toString(16))}var b=0,O=521;_==2&&(b=f.read_shift(2)),f.l+=3,_!=2&&(b=f.read_shift(4)),b>1048576&&(b=1e6),_!=2&&(O=f.read_shift(2));var L=f.read_shift(2),N=d.codepage||1252;_!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(N=e[f[f.l]]),f.l+=1,f.l+=2),C&&(f.l+=36);for(var V=[],re={},oe=Math.min(f.length,_==2?521:O-10-(w?264:0)),F=C?32:11;f.l<oe&&f[f.l]!=13;)switch(re={},re.name=ri.utils.decode(N,f.slice(f.l,f.l+F)).replace(/[\u0000\r\n].*$/g,""),f.l+=F,re.type=String.fromCharCode(f.read_shift(1)),_!=2&&!C&&(re.offset=f.read_shift(4)),re.len=f.read_shift(1),_==2&&(re.offset=f.read_shift(2)),re.dec=f.read_shift(1),re.name.length&&V.push(re),_!=2&&(f.l+=C?13:14),re.type){case"B":(!w||re.len!=8)&&d.WTF&&console.log("Skipping "+re.name+":"+re.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+re.name+":"+re.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+re.type)}if(f[f.l]!==13&&(f.l=O-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=O;var S=0,E=0;for(m[0]=[],E=0;E!=V.length;++E)m[0][E]=V[E].name;for(;b-- >0;){if(f[f.l]===42){f.l+=L;continue}for(++f.l,m[++S]=[],E=0,E=0;E!=V.length;++E){var A=f.slice(f.l,f.l+V[E].len);f.l+=V[E].len,jr(A,0);var R=ri.utils.decode(N,A);switch(V[E].type){case"C":R.trim().length&&(m[S][E]=R.replace(/\s+$/,""));break;case"D":R.length===8?m[S][E]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):m[S][E]=R;break;case"F":m[S][E]=parseFloat(R.trim());break;case"+":case"I":m[S][E]=C?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":m[S][E]=!0;break;case"N":case"F":m[S][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+_.toString(16));m[S][E]="##MEMO##"+(C?parseInt(R.trim(),10):A.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(m[S][E]=+R||0);break;case"@":m[S][E]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":m[S][E]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":m[S][E]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":m[S][E]=-A.read_shift(-8,"f");break;case"B":if(w&&V[E].len==8){m[S][E]=A.read_shift(8,"f");break}case"G":case"P":A.l+=V[E].len;break;case"0":if(V[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+V[E].type)}}}if(_!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return d&&d.sheetRows&&(m=m.slice(0,d.sheetRows)),d.DBF=V,m}function t(s,d){var m=d||{};m.dateNF||(m.dateNF="yyyymmdd");var f=Mu(r(s,m),m);return f["!cols"]=m.DBF.map(function(_){return{wch:_.len,DBF:_}}),delete m.DBF,f}function i(s,d){try{return Gc(t(s,d),d)}catch(m){if(d&&d.WTF)throw m}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,d){var m=d||{};if(+m.codepage>=0&&Bo(+m.codepage),m.type=="string")throw new Error("Cannot write DBF to JS string");var f=Ta(),_=cg(s,{header:1,raw:!0,cellDates:!0}),v=_[0],w=_.slice(1),C=s["!cols"]||[],b=0,O=0,L=0,N=1;for(b=0;b<v.length;++b){if(((C[b]||{}).DBF||{}).name){v[b]=C[b].DBF.name,++L;continue}if(v[b]!=null){if(++L,typeof v[b]=="number"&&(v[b]=v[b].toString(10)),typeof v[b]!="string")throw new Error("DBF Invalid column name "+v[b]+" |"+typeof v[b]+"|");if(v.indexOf(v[b])!==b){for(O=0;O<1024;++O)if(v.indexOf(v[b]+"_"+O)==-1){v[b]+="_"+O;break}}}}var V=jn(s["!ref"]),re=[],oe=[],F=[];for(b=0;b<=V.e.c-V.s.c;++b){var S="",E="",A=0,R=[];for(O=0;O<w.length;++O)w[O][b]!=null&&R.push(w[O][b]);if(R.length==0||v[b]==null){re[b]="?";continue}for(O=0;O<R.length;++O){switch(typeof R[O]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=R[O]instanceof Date?"D":"C";break;default:E="C"}A=Math.max(A,String(R[O]).length),S=S&&S!=E?"C":E}A>250&&(A=250),E=((C[b]||{}).DBF||{}).type,E=="C"&&C[b].DBF.len>A&&(A=C[b].DBF.len),S=="B"&&E=="N"&&(S="N",F[b]=C[b].DBF.dec,A=C[b].DBF.len),oe[b]=S=="C"||E=="N"?A:a[S]||0,N+=oe[b],re[b]=S}var j=f.next(32);for(j.write_shift(4,318902576),j.write_shift(4,w.length),j.write_shift(2,296+32*L),j.write_shift(2,N),b=0;b<4;++b)j.write_shift(4,0);for(j.write_shift(4,0|(+n[vu]||3)<<8),b=0,O=0;b<v.length;++b)if(v[b]!=null){var U=f.next(32),Y=(v[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,Y,"sbcs"),U.write_shift(1,re[b]=="?"?"C":re[b],"sbcs"),U.write_shift(4,O),U.write_shift(1,oe[b]||a[re[b]]||0),U.write_shift(1,F[b]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),O+=oe[b]||a[re[b]]||0}var Ge=f.next(264);for(Ge.write_shift(4,13),b=0;b<65;++b)Ge.write_shift(4,0);for(b=0;b<w.length;++b){var ke=f.next(N);for(ke.write_shift(1,0),O=0;O<v.length;++O)if(v[O]!=null)switch(re[O]){case"L":ke.write_shift(1,w[b][O]==null?63:w[b][O]?84:70);break;case"B":ke.write_shift(8,w[b][O]||0,"f");break;case"N":var Xe="0";for(typeof w[b][O]=="number"&&(Xe=w[b][O].toFixed(F[O]||0)),L=0;L<oe[O]-Xe.length;++L)ke.write_shift(1,32);ke.write_shift(1,Xe,"sbcs");break;case"D":w[b][O]?(ke.write_shift(4,("0000"+w[b][O].getFullYear()).slice(-4),"sbcs"),ke.write_shift(2,("00"+(w[b][O].getMonth()+1)).slice(-2),"sbcs"),ke.write_shift(2,("00"+w[b][O].getDate()).slice(-2),"sbcs")):ke.write_shift(8,"00000000","sbcs");break;case"C":var De=String(w[b][O]!=null?w[b][O]:"").slice(0,oe[O]);for(ke.write_shift(1,De,"sbcs"),L=0;L<oe[O]-De.length;++L)ke.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:t,from_sheet:o}}(),xP=function(){var e={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},n=new RegExp("\x1BN("+Qi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(v,w){var C=e[w];return typeof C=="number"?iM(C):C},t=function(v,w,C){var b=w.charCodeAt(0)-32<<4|C.charCodeAt(0)-48;return b==59?v:iM(b)};e["|"]=254;function i(v,w){switch(w.type){case"base64":return a(za(v),w);case"binary":return a(v,w);case"buffer":return a(xn&&Buffer.isBuffer(v)?v.toString("binary"):Hc(v),w);case"array":return a(El(v),w)}throw new Error("Unrecognized type "+w.type)}function a(v,w){var C=v.split(/[\n\r]+/),b=-1,O=-1,L=0,N=0,V=[],re=[],oe=null,F={},S=[],E=[],A=[],R=0,j;for(+w.codepage>=0&&Bo(+w.codepage);L!==C.length;++L){R=0;var U=C[L].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,t).replace(n,r),Y=U.replace(/;;/g,"\0").split(";").map(function(ce){return ce.replace(/\u0000/g,";")}),Ge=Y[0],ke;if(U.length>0)switch(Ge){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Y[1].charAt(0)=="P"&&re.push(U.slice(3).replace(/;;/g,";"));break;case"C":var Xe=!1,De=!1,st=!1,Ie=!1,Ve=-1,me=-1;for(N=1;N<Y.length;++N)switch(Y[N].charAt(0)){case"A":break;case"X":O=parseInt(Y[N].slice(1))-1,De=!0;break;case"Y":for(b=parseInt(Y[N].slice(1))-1,De||(O=0),j=V.length;j<=b;++j)V[j]=[];break;case"K":ke=Y[N].slice(1),ke.charAt(0)==='"'?ke=ke.slice(1,ke.length-1):ke==="TRUE"?ke=!0:ke==="FALSE"?ke=!1:isNaN(Uo(ke))?isNaN(bu(ke).getDate())||(ke=Pi(ke)):(ke=Uo(ke),oe!==null&&Dl(oe)&&(ke=mg(ke))),typeof ri<"u"&&typeof ke=="string"&&(w||{}).type!="string"&&(w||{}).codepage&&(ke=ri.utils.decode(w.codepage,ke)),Xe=!0;break;case"E":Ie=!0;var te=_u(Y[N].slice(1),{r:b,c:O});V[b][O]=[V[b][O],te];break;case"S":st=!0,V[b][O]=[V[b][O],"S5S"];break;case"G":break;case"R":Ve=parseInt(Y[N].slice(1))-1;break;case"C":me=parseInt(Y[N].slice(1))-1;break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+U)}if(Xe&&(V[b][O]&&V[b][O].length==2?V[b][O][0]=ke:V[b][O]=ke,oe=null),st){if(Ie)throw new Error("SYLK shared formula cannot have own formula");var ae=Ve>-1&&V[Ve][me];if(!ae||!ae[1])throw new Error("SYLK shared formula cannot find base");V[b][O][1]=NP(ae[1],{r:b-Ve,c:O-me})}break;case"F":var se=0;for(N=1;N<Y.length;++N)switch(Y[N].charAt(0)){case"X":O=parseInt(Y[N].slice(1))-1,++se;break;case"Y":for(b=parseInt(Y[N].slice(1))-1,j=V.length;j<=b;++j)V[j]=[];break;case"M":R=parseInt(Y[N].slice(1))/20;break;case"F":break;case"G":break;case"P":oe=re[parseInt(Y[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=Y[N].slice(1).split(" "),j=parseInt(A[0],10);j<=parseInt(A[1],10);++j)R=parseInt(A[2],10),E[j-1]=R===0?{hidden:!0}:{wch:R},jc(E[j-1]);break;case"C":O=parseInt(Y[N].slice(1))-1,E[O]||(E[O]={});break;case"R":b=parseInt(Y[N].slice(1))-1,S[b]||(S[b]={}),R>0?(S[b].hpt=R,S[b].hpx=Cu(R)):R===0&&(S[b].hidden=!0);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+U)}se<1&&(oe=null);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+U)}}return S.length>0&&(F["!rows"]=S),E.length>0&&(F["!cols"]=E),w&&w.sheetRows&&(V=V.slice(0,w.sheetRows)),[V,F]}function o(v,w){var C=i(v,w),b=C[0],O=C[1],L=Mu(b,w);return Qi(O).forEach(function(N){L[N]=O[N]}),L}function s(v,w){return Gc(o(v,w),w)}function d(v,w,C,b){var O="C;Y"+(C+1)+";X"+(b+1)+";K";switch(v.t){case"n":O+=v.v||0,v.f&&!v.F&&(O+=";E"+dv(v.f,{r:C,c:b}));break;case"b":O+=v.v?"TRUE":"FALSE";break;case"e":O+=v.w||v.v;break;case"d":O+='"'+(v.w||v.v)+'"';break;case"s":O+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return O}function m(v,w){w.forEach(function(C,b){var O="F;W"+(b+1)+" "+(b+1)+" ";C.hidden?O+="0":(typeof C.width=="number"&&!C.wpx&&(C.wpx=Gm(C.width)),typeof C.wpx=="number"&&!C.wch&&(C.wch=$m(C.wpx)),typeof C.wch=="number"&&(O+=Math.round(C.wch))),O.charAt(O.length-1)!=" "&&v.push(O)})}function f(v,w){w.forEach(function(C,b){var O="F;";C.hidden?O+="M0;":C.hpt?O+="M"+20*C.hpt+";":C.hpx&&(O+="M"+20*Wm(C.hpx)+";"),O.length>2&&v.push(O+"R"+(b+1))})}function _(v,w){var C=["ID;PWXL;N;E"],b=[],O=jn(v["!ref"]),L,N=Array.isArray(v),V=`\r
`;C.push("P;PGeneral"),C.push("F;P0;DG0G8;M255"),v["!cols"]&&m(C,v["!cols"]),v["!rows"]&&f(C,v["!rows"]),C.push("B;Y"+(O.e.r-O.s.r+1)+";X"+(O.e.c-O.s.c+1)+";D"+[O.s.c,O.s.r,O.e.c,O.e.r].join(" "));for(var re=O.s.r;re<=O.e.r;++re)for(var oe=O.s.c;oe<=O.e.c;++oe){var F=Lt({r:re,c:oe});L=N?(v[re]||[])[oe]:v[F],!(!L||L.v==null&&(!L.f||L.F))&&b.push(d(L,v,re,oe,w))}return C.join(V)+V+b.join(V)+V+"E"+V}return{to_workbook:s,to_sheet:o,from_sheet:_}}(),vP=function(){function e(a,o){switch(o.type){case"base64":return n(za(a),o);case"binary":return n(a,o);case"buffer":return n(xn&&Buffer.isBuffer(a)?a.toString("binary"):Hc(a),o);case"array":return n(El(a),o)}throw new Error("Unrecognized type "+o.type)}function n(a,o){for(var s=a.split(`
`),d=-1,m=-1,f=0,_=[];f!==s.length;++f){if(s[f].trim()==="BOT"){_[++d]=[],m=0;continue}if(!(d<0)){var v=s[f].trim().split(","),w=v[0],C=v[1];++f;for(var b=s[f]||"";(b.match(/["]/g)||[]).length&1&&f<s.length-1;)b+=`
`+s[++f];switch(b=b.trim(),+w){case-1:if(b==="BOT"){_[++d]=[],m=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?_[d][m]=!0:b==="FALSE"?_[d][m]=!1:isNaN(Uo(C))?isNaN(bu(C).getDate())?_[d][m]=C:_[d][m]=Pi(C):_[d][m]=Uo(C),++m;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),wm&&b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),_[d][m++]=b!==""?b:null;break}if(b==="EOD")break}}return o&&o.sheetRows&&(_=_.slice(0,o.sheetRows)),_}function r(a,o){return Mu(e(a,o),o)}function t(a,o){return Gc(r(a,o),o)}var i=function(){var a=function(d,m,f,_,v){d.push(m),d.push(f+","+_),d.push('"'+v.replace(/"/g,'""')+'"')},o=function(d,m,f,_){d.push(m+","+f),d.push(m==1?'"'+_.replace(/"/g,'""')+'"':_)};return function(d){var m=[],f=jn(d["!ref"]),_,v=Array.isArray(d);a(m,"TABLE",0,1,"sheetjs"),a(m,"VECTORS",0,f.e.r-f.s.r+1,""),a(m,"TUPLES",0,f.e.c-f.s.c+1,""),a(m,"DATA",0,0,"");for(var w=f.s.r;w<=f.e.r;++w){o(m,-1,0,"BOT");for(var C=f.s.c;C<=f.e.c;++C){var b=Lt({r:w,c:C});if(_=v?(d[w]||[])[C]:d[b],!_){o(m,1,0,"");continue}switch(_.t){case"n":var O=wm?_.w:_.v;!O&&_.v!=null&&(O=_.v),O==null?wm&&_.f&&!_.F?o(m,1,0,"="+_.f):o(m,1,0,""):o(m,0,O,"V");break;case"b":o(m,0,_.v?1:0,_.v?"TRUE":"FALSE");break;case"s":o(m,1,0,!wm||isNaN(_.v)?_.v:'="'+_.v+'"');break;case"d":_.w||(_.w=Ha(_.z||Dt[14],vr(Pi(_.v)))),wm?o(m,0,_.w,"V"):o(m,1,0,_.w);break;default:o(m,1,0,"")}}}o(m,-1,0,"EOD");var L=`\r
`,N=m.join(L);return N}}();return{to_workbook:t,to_sheet:r,from_sheet:i}}(),bP=function(){function e(_){return _.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function n(_){return _.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(_,v){for(var w=_.split(`
`),C=-1,b=-1,O=0,L=[];O!==w.length;++O){var N=w[O].trim().split(":");if(N[0]==="cell"){var V=Ui(N[1]);if(L.length<=V.r)for(C=L.length;C<=V.r;++C)L[C]||(L[C]=[]);switch(C=V.r,b=V.c,N[2]){case"t":L[C][b]=e(N[3]);break;case"v":L[C][b]=+N[3];break;case"vtf":var re=N[N.length-1];case"vtc":switch(N[3]){case"nl":L[C][b]=!!+N[4];break;default:L[C][b]=+N[4];break}N[2]=="vtf"&&(L[C][b]=[L[C][b],re])}}}return v&&v.sheetRows&&(L=L.slice(0,v.sheetRows)),L}function t(_,v){return Mu(r(_,v),v)}function i(_,v){return Gc(t(_,v),v)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function m(_){if(!_||!_["!ref"])return"";for(var v=[],w=[],C,b="",O=Oa(_["!ref"]),L=Array.isArray(_),N=O.s.r;N<=O.e.r;++N)for(var V=O.s.c;V<=O.e.c;++V)if(b=Lt({r:N,c:V}),C=L?(_[N]||[])[V]:_[b],!(!C||C.v==null||C.t==="z")){switch(w=["cell",b,"t"],C.t){case"s":case"str":w.push(n(C.v));break;case"n":C.f?(w[2]="vtf",w[3]="n",w[4]=C.v,w[5]=n(C.f)):(w[2]="v",w[3]=C.v);break;case"b":w[2]="vt"+(C.f?"f":"c"),w[3]="nl",w[4]=C.v?"1":"0",w[5]=n(C.f||(C.v?"TRUE":"FALSE"));break;case"d":var re=vr(Pi(C.v));w[2]="vtc",w[3]="nd",w[4]=""+re,w[5]=C.w||Ha(C.z||Dt[14],re);break;case"e":continue}v.push(w.join(":"))}return v.push("sheet:c:"+(O.e.c-O.s.c+1)+":r:"+(O.e.r-O.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function f(_){return[a,o,s,o,m(_),d].join(`
`)}return{to_workbook:i,to_sheet:t,from_sheet:f}}(),yu=function(){function e(f,_,v,w,C){C.raw?_[v][w]=f:f===""||(f==="TRUE"?_[v][w]=!0:f==="FALSE"?_[v][w]=!1:isNaN(Uo(f))?isNaN(bu(f).getDate())?_[v][w]=f:_[v][w]=Pi(f):_[v][w]=Uo(f))}function n(f,_){var v=_||{},w=[];if(!f||f.length===0)return w;for(var C=f.split(/[\r\n]/),b=C.length-1;b>=0&&C[b].length===0;)--b;for(var O=10,L=0,N=0;N<=b;++N)L=C[N].indexOf(" "),L==-1?L=C[N].length:L++,O=Math.max(O,L);for(N=0;N<=b;++N){w[N]=[];var V=0;for(e(C[N].slice(0,O).trim(),w,N,V,v),V=1;V<=(C[N].length-O)/10+1;++V)e(C[N].slice(O+(V-1)*10,O+V*10).trim(),w,N,V,v)}return v.sheetRows&&(w=w.slice(0,v.sheetRows)),w}var r={44:",",9:"	",59:";",124:"|"},t={44:3,9:2,59:1,124:0};function i(f){for(var _={},v=!1,w=0,C=0;w<f.length;++w)(C=f.charCodeAt(w))==34?v=!v:!v&&C in r&&(_[C]=(_[C]||0)+1);C=[];for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&C.push([_[w],w]);if(!C.length){_=t;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&C.push([_[w],w])}return C.sort(function(b,O){return b[0]-O[0]||t[b[1]]-t[O[1]]}),r[C.pop()[1]]||44}function a(f,_){var v=_||{},w="";Ki!=null&&v.dense==null&&(v.dense=Ki);var C=v.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(w=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(w=f.charAt(4),f=f.slice(6)):w=i(f.slice(0,1024)):v&&v.FS?w=v.FS:w=i(f.slice(0,1024));var O=0,L=0,N=0,V=0,re=0,oe=w.charCodeAt(0),F=!1,S=0,E=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var A=v.dateNF!=null?WR(v.dateNF):null;function R(){var j=f.slice(V,re),U={};if(j.charAt(0)=='"'&&j.charAt(j.length-1)=='"'&&(j=j.slice(1,-1).replace(/""/g,'"')),j.length===0)U.t="z";else if(v.raw)U.t="s",U.v=j;else if(j.trim().length===0)U.t="s",U.v=j;else if(j.charCodeAt(0)==61)j.charCodeAt(1)==34&&j.charCodeAt(j.length-1)==34?(U.t="s",U.v=j.slice(2,-1).replace(/""/g,'"')):yB(j)?(U.t="n",U.f=j.slice(1)):(U.t="s",U.v=j);else if(j=="TRUE")U.t="b",U.v=!0;else if(j=="FALSE")U.t="b",U.v=!1;else if(!isNaN(N=Uo(j)))U.t="n",v.cellText!==!1&&(U.w=j),U.v=N;else if(!isNaN(bu(j).getDate())||A&&j.match(A)){U.z=v.dateNF||Dt[14];var Y=0;A&&j.match(A)&&(j=YR(j,v.dateNF,j.match(A)||[]),Y=1),v.cellDates?(U.t="d",U.v=Pi(j,Y)):(U.t="n",U.v=vr(Pi(j,Y))),v.cellText!==!1&&(U.w=Ha(U.z,U.v instanceof Date?vr(U.v):U.v)),v.cellNF||delete U.z}else U.t="s",U.v=j;if(U.t=="z"||(v.dense?(C[O]||(C[O]=[]),C[O][L]=U):C[Lt({c:L,r:O})]=U),V=re+1,E=f.charCodeAt(V),b.e.c<L&&(b.e.c=L),b.e.r<O&&(b.e.r=O),S==oe)++L;else if(L=0,++O,v.sheetRows&&v.sheetRows<=O)return!0}e:for(;re<f.length;++re)switch(S=f.charCodeAt(re)){case 34:E===34&&(F=!F);break;case oe:case 10:case 13:if(!F&&R())break e;break;default:break}return re-V>0&&R(),C["!ref"]=on(b),C}function o(f,_){return!(_&&_.PRN)||_.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?a(f,_):Mu(n(f,_),_)}function s(f,_){var v="",w=_.type=="string"?[0,0,0,0]:xv(f,_);switch(_.type){case"base64":v=za(f);break;case"binary":v=f;break;case"buffer":_.codepage==65001?v=f.toString("utf8"):_.codepage&&typeof ri<"u"?v=ri.utils.decode(_.codepage,f):v=xn&&Buffer.isBuffer(f)?f.toString("binary"):Hc(f);break;case"array":v=El(f);break;case"string":v=f;break;default:throw new Error("Unrecognized type "+_.type)}return w[0]==239&&w[1]==187&&w[2]==191?v=pi(v.slice(3)):_.type!="string"&&_.type!="buffer"&&_.codepage==65001?v=pi(v):_.type=="binary"&&typeof ri<"u"&&_.codepage&&(v=ri.utils.decode(_.codepage,ri.utils.encode(28591,v))),v.slice(0,19)=="socialcalc:version:"?bP.to_sheet(_.type=="string"?v:pi(v),_):o(v,_)}function d(f,_){return Gc(s(f,_),_)}function m(f){for(var _=[],v=jn(f["!ref"]),w,C=Array.isArray(f),b=v.s.r;b<=v.e.r;++b){for(var O=[],L=v.s.c;L<=v.e.c;++L){var N=Lt({r:b,c:L});if(w=C?(f[b]||[])[L]:f[N],!w||w.v==null){O.push("          ");continue}for(var V=(w.w||(Hs(w),w.w)||"").slice(0,10);V.length<10;)V+=" ";O.push(V+(L===0?" ":""))}_.push(O.join(""))}return _.join(`
`)}return{to_workbook:d,to_sheet:s,from_sheet:m}}();function sL(e,n){var r=n||{},t=!!r.WTF;r.WTF=!0;try{var i=xP.to_workbook(e,r);return r.WTF=t,i}catch(a){if(r.WTF=t,!a.message.match(/SYLK bad record ID/)&&t)throw a;return yu.to_workbook(e,n)}}var Ml=function(){function e(te,ae,se){if(te){jr(te,te.l||0);for(var ce=se.Enum||Ve;te.l<te.length;){var fe=te.read_shift(2),Ae=ce[fe]||ce[65535],Re=te.read_shift(2),Te=te.l+Re,we=Ae.f&&Ae.f(te,Re,se);if(te.l=Te,ae(we,Ae,fe))return}}}function n(te,ae){switch(ae.type){case"base64":return r(ja(za(te)),ae);case"binary":return r(ja(te),ae);case"buffer":case"array":return r(te,ae)}throw"Unsupported type "+ae.type}function r(te,ae){if(!te)return te;var se=ae||{};Ki!=null&&se.dense==null&&(se.dense=Ki);var ce=se.dense?[]:{},fe="Sheet1",Ae="",Re=0,Te={},we=[],dt=[],ee={s:{r:0,c:0},e:{r:0,c:0}},pt=se.sheetRows||0;if(te[2]==0&&(te[3]==8||te[3]==9)&&te.length>=16&&te[14]==5&&te[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(te[2]==2)se.Enum=Ve,e(te,function(Ue,$t,kn){switch(kn){case 0:se.vers=Ue,Ue>=4096&&(se.qpro=!0);break;case 6:ee=Ue;break;case 204:Ue&&(Ae=Ue);break;case 222:Ae=Ue;break;case 15:case 51:se.qpro||(Ue[1].v=Ue[1].v.slice(1));case 13:case 14:case 16:kn==14&&(Ue[2]&112)==112&&(Ue[2]&15)>1&&(Ue[2]&15)<15&&(Ue[1].z=se.dateNF||Dt[14],se.cellDates&&(Ue[1].t="d",Ue[1].v=mg(Ue[1].v))),se.qpro&&Ue[3]>Re&&(ce["!ref"]=on(ee),Te[fe]=ce,we.push(fe),ce=se.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},Re=Ue[3],fe=Ae||"Sheet"+(Re+1),Ae="");var ui=se.dense?(ce[Ue[0].r]||[])[Ue[0].c]:ce[Lt(Ue[0])];if(ui){ui.t=Ue[1].t,ui.v=Ue[1].v,Ue[1].z!=null&&(ui.z=Ue[1].z),Ue[1].f!=null&&(ui.f=Ue[1].f);break}se.dense?(ce[Ue[0].r]||(ce[Ue[0].r]=[]),ce[Ue[0].r][Ue[0].c]=Ue[1]):ce[Lt(Ue[0])]=Ue[1];break;default:}},se);else if(te[2]==26||te[2]==14)se.Enum=me,te[2]==14&&(se.qpro=!0,te.l=0),e(te,function(Ue,$t,kn){switch(kn){case 204:fe=Ue;break;case 22:Ue[1].v=Ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ue[3]>Re&&(ce["!ref"]=on(ee),Te[fe]=ce,we.push(fe),ce=se.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},Re=Ue[3],fe="Sheet"+(Re+1)),pt>0&&Ue[0].r>=pt)break;se.dense?(ce[Ue[0].r]||(ce[Ue[0].r]=[]),ce[Ue[0].r][Ue[0].c]=Ue[1]):ce[Lt(Ue[0])]=Ue[1],ee.e.c<Ue[0].c&&(ee.e.c=Ue[0].c),ee.e.r<Ue[0].r&&(ee.e.r=Ue[0].r);break;case 27:Ue[14e3]&&(dt[Ue[14e3][0]]=Ue[14e3][1]);break;case 1537:dt[Ue[0]]=Ue[1],Ue[0]==Re&&(fe=Ue[1]);break;default:break}},se);else throw new Error("Unrecognized LOTUS BOF "+te[2]);if(ce["!ref"]=on(ee),Te[Ae||fe]=ce,we.push(Ae||fe),!dt.length)return{SheetNames:we,Sheets:Te};for(var tt={},Ot=[],rt=0;rt<dt.length;++rt)Te[we[rt]]?(Ot.push(dt[rt]||we[rt]),tt[dt[rt]]=Te[dt[rt]]||Te[we[rt]]):(Ot.push(dt[rt]),tt[dt[rt]]={"!ref":"A1"});return{SheetNames:Ot,Sheets:tt}}function t(te,ae){var se=ae||{};if(+se.codepage>=0&&Bo(+se.codepage),se.type=="string")throw new Error("Cannot write WK1 to JS string");var ce=Ta(),fe=jn(te["!ref"]),Ae=Array.isArray(te),Re=[];Ze(ce,0,a(1030)),Ze(ce,6,d(fe));for(var Te=Math.min(fe.e.r,8191),we=fe.s.r;we<=Te;++we)for(var dt=er(we),ee=fe.s.c;ee<=fe.e.c;++ee){we===fe.s.r&&(Re[ee]=ji(ee));var pt=Re[ee]+dt,tt=Ae?(te[we]||[])[ee]:te[pt];if(!(!tt||tt.t=="z"))if(tt.t=="n")(tt.v|0)==tt.v&&tt.v>=-32768&&tt.v<=32767?Ze(ce,13,w(we,ee,tt.v)):Ze(ce,14,b(we,ee,tt.v));else{var Ot=Hs(tt);Ze(ce,15,_(we,ee,Ot.slice(0,239)))}}return Ze(ce,1),ce.end()}function i(te,ae){var se=ae||{};if(+se.codepage>=0&&Bo(+se.codepage),se.type=="string")throw new Error("Cannot write WK3 to JS string");var ce=Ta();Ze(ce,0,o(te));for(var fe=0,Ae=0;fe<te.SheetNames.length;++fe)(te.Sheets[te.SheetNames[fe]]||{})["!ref"]&&Ze(ce,27,Ie(te.SheetNames[fe],Ae++));var Re=0;for(fe=0;fe<te.SheetNames.length;++fe){var Te=te.Sheets[te.SheetNames[fe]];if(!(!Te||!Te["!ref"])){for(var we=jn(Te["!ref"]),dt=Array.isArray(Te),ee=[],pt=Math.min(we.e.r,8191),tt=we.s.r;tt<=pt;++tt)for(var Ot=er(tt),rt=we.s.c;rt<=we.e.c;++rt){tt===we.s.r&&(ee[rt]=ji(rt));var Ue=ee[rt]+Ot,$t=dt?(Te[tt]||[])[rt]:Te[Ue];if(!(!$t||$t.t=="z"))if($t.t=="n")Ze(ce,23,R(tt,rt,Re,$t.v));else{var kn=Hs($t);Ze(ce,22,S(tt,rt,Re,kn.slice(0,239)))}}++Re}}return Ze(ce,1),ce.end()}function a(te){var ae=Oe(2);return ae.write_shift(2,te),ae}function o(te){var ae=Oe(26);ae.write_shift(2,4096),ae.write_shift(2,4),ae.write_shift(4,0);for(var se=0,ce=0,fe=0,Ae=0;Ae<te.SheetNames.length;++Ae){var Re=te.SheetNames[Ae],Te=te.Sheets[Re];if(!(!Te||!Te["!ref"])){++fe;var we=Oa(Te["!ref"]);se<we.e.r&&(se=we.e.r),ce<we.e.c&&(ce=we.e.c)}}return se>8191&&(se=8191),ae.write_shift(2,se),ae.write_shift(1,fe),ae.write_shift(1,ce),ae.write_shift(2,0),ae.write_shift(2,0),ae.write_shift(1,1),ae.write_shift(1,2),ae.write_shift(4,0),ae.write_shift(4,0),ae}function s(te,ae,se){var ce={s:{c:0,r:0},e:{c:0,r:0}};return ae==8&&se.qpro?(ce.s.c=te.read_shift(1),te.l++,ce.s.r=te.read_shift(2),ce.e.c=te.read_shift(1),te.l++,ce.e.r=te.read_shift(2),ce):(ce.s.c=te.read_shift(2),ce.s.r=te.read_shift(2),ae==12&&se.qpro&&(te.l+=2),ce.e.c=te.read_shift(2),ce.e.r=te.read_shift(2),ae==12&&se.qpro&&(te.l+=2),ce.s.c==65535&&(ce.s.c=ce.e.c=ce.s.r=ce.e.r=0),ce)}function d(te){var ae=Oe(8);return ae.write_shift(2,te.s.c),ae.write_shift(2,te.s.r),ae.write_shift(2,te.e.c),ae.write_shift(2,te.e.r),ae}function m(te,ae,se){var ce=[{c:0,r:0},{t:"n",v:0},0,0];return se.qpro&&se.vers!=20768?(ce[0].c=te.read_shift(1),ce[3]=te.read_shift(1),ce[0].r=te.read_shift(2),te.l+=2):(ce[2]=te.read_shift(1),ce[0].c=te.read_shift(2),ce[0].r=te.read_shift(2)),ce}function f(te,ae,se){var ce=te.l+ae,fe=m(te,ae,se);if(fe[1].t="s",se.vers==20768){te.l++;var Ae=te.read_shift(1);return fe[1].v=te.read_shift(Ae,"utf8"),fe}return se.qpro&&te.l++,fe[1].v=te.read_shift(ce-te.l,"cstr"),fe}function _(te,ae,se){var ce=Oe(7+se.length);ce.write_shift(1,255),ce.write_shift(2,ae),ce.write_shift(2,te),ce.write_shift(1,39);for(var fe=0;fe<ce.length;++fe){var Ae=se.charCodeAt(fe);ce.write_shift(1,Ae>=128?95:Ae)}return ce.write_shift(1,0),ce}function v(te,ae,se){var ce=m(te,ae,se);return ce[1].v=te.read_shift(2,"i"),ce}function w(te,ae,se){var ce=Oe(7);return ce.write_shift(1,255),ce.write_shift(2,ae),ce.write_shift(2,te),ce.write_shift(2,se,"i"),ce}function C(te,ae,se){var ce=m(te,ae,se);return ce[1].v=te.read_shift(8,"f"),ce}function b(te,ae,se){var ce=Oe(13);return ce.write_shift(1,255),ce.write_shift(2,ae),ce.write_shift(2,te),ce.write_shift(8,se,"f"),ce}function O(te,ae,se){var ce=te.l+ae,fe=m(te,ae,se);if(fe[1].v=te.read_shift(8,"f"),se.qpro)te.l=ce;else{var Ae=te.read_shift(2);re(te.slice(te.l,te.l+Ae),fe),te.l+=Ae}return fe}function L(te,ae,se){var ce=ae&32768;return ae&=-32769,ae=(ce?te:0)+(ae>=8192?ae-16384:ae),(ce?"":"$")+(se?ji(ae):er(ae))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},V=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function re(te,ae){jr(te,0);for(var se=[],ce=0,fe="",Ae="",Re="",Te="";te.l<te.length;){var we=te[te.l++];switch(we){case 0:se.push(te.read_shift(8,"f"));break;case 1:Ae=L(ae[0].c,te.read_shift(2),!0),fe=L(ae[0].r,te.read_shift(2),!1),se.push(Ae+fe);break;case 2:{var dt=L(ae[0].c,te.read_shift(2),!0),ee=L(ae[0].r,te.read_shift(2),!1);Ae=L(ae[0].c,te.read_shift(2),!0),fe=L(ae[0].r,te.read_shift(2),!1),se.push(dt+ee+":"+Ae+fe)}break;case 3:if(te.l<te.length){console.error("WK1 premature formula end");return}break;case 4:se.push("("+se.pop()+")");break;case 5:se.push(te.read_shift(2));break;case 6:{for(var pt="";we=te[te.l++];)pt+=String.fromCharCode(we);se.push('"'+pt.replace(/"/g,'""')+'"')}break;case 8:se.push("-"+se.pop());break;case 23:se.push("+"+se.pop());break;case 22:se.push("NOT("+se.pop()+")");break;case 20:case 21:Te=se.pop(),Re=se.pop(),se.push(["AND","OR"][we-20]+"("+Re+","+Te+")");break;default:if(we<32&&V[we])Te=se.pop(),Re=se.pop(),se.push(Re+V[we]+Te);else if(N[we]){if(ce=N[we][1],ce==69&&(ce=te[te.l++]),ce>se.length){console.error("WK1 bad formula parse 0x"+we.toString(16)+":|"+se.join("|")+"|");return}var tt=se.slice(-ce);se.length-=ce,se.push(N[we][0]+"("+tt.join(",")+")")}else return we<=7?console.error("WK1 invalid opcode "+we.toString(16)):we<=24?console.error("WK1 unsupported op "+we.toString(16)):we<=30?console.error("WK1 invalid opcode "+we.toString(16)):we<=115?console.error("WK1 unsupported function opcode "+we.toString(16)):console.error("WK1 unrecognized opcode "+we.toString(16))}}se.length==1?ae[1].f=""+se[0]:console.error("WK1 bad formula parse |"+se.join("|")+"|")}function oe(te){var ae=[{c:0,r:0},{t:"n",v:0},0];return ae[0].r=te.read_shift(2),ae[3]=te[te.l++],ae[0].c=te[te.l++],ae}function F(te,ae){var se=oe(te,ae);return se[1].t="s",se[1].v=te.read_shift(ae-4,"cstr"),se}function S(te,ae,se,ce){var fe=Oe(6+ce.length);fe.write_shift(2,te),fe.write_shift(1,se),fe.write_shift(1,ae),fe.write_shift(1,39);for(var Ae=0;Ae<ce.length;++Ae){var Re=ce.charCodeAt(Ae);fe.write_shift(1,Re>=128?95:Re)}return fe.write_shift(1,0),fe}function E(te,ae){var se=oe(te,ae);se[1].v=te.read_shift(2);var ce=se[1].v>>1;if(se[1].v&1)switch(ce&7){case 0:ce=(ce>>3)*5e3;break;case 1:ce=(ce>>3)*500;break;case 2:ce=(ce>>3)/20;break;case 3:ce=(ce>>3)/200;break;case 4:ce=(ce>>3)/2e3;break;case 5:ce=(ce>>3)/2e4;break;case 6:ce=(ce>>3)/16;break;case 7:ce=(ce>>3)/64;break}return se[1].v=ce,se}function A(te,ae){var se=oe(te,ae),ce=te.read_shift(4),fe=te.read_shift(4),Ae=te.read_shift(2);if(Ae==65535)return ce===0&&fe===3221225472?(se[1].t="e",se[1].v=15):ce===0&&fe===3489660928?(se[1].t="e",se[1].v=42):se[1].v=0,se;var Re=Ae&32768;return Ae=(Ae&32767)-16446,se[1].v=(1-Re*2)*(fe*Math.pow(2,Ae+32)+ce*Math.pow(2,Ae)),se}function R(te,ae,se,ce){var fe=Oe(14);if(fe.write_shift(2,te),fe.write_shift(1,se),fe.write_shift(1,ae),ce==0)return fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(2,65535),fe;var Ae=0,Re=0,Te=0,we=0;return ce<0&&(Ae=1,ce=-ce),Re=Math.log2(ce)|0,ce/=Math.pow(2,Re-31),we=ce>>>0,we&2147483648||(ce/=2,++Re,we=ce>>>0),ce-=we,we|=2147483648,we>>>=0,ce*=Math.pow(2,32),Te=ce>>>0,fe.write_shift(4,Te),fe.write_shift(4,we),Re+=16383+(Ae?32768:0),fe.write_shift(2,Re),fe}function j(te,ae){var se=A(te,14);return te.l+=ae-14,se}function U(te,ae){var se=oe(te,ae),ce=te.read_shift(4);return se[1].v=ce>>6,se}function Y(te,ae){var se=oe(te,ae),ce=te.read_shift(8,"f");return se[1].v=ce,se}function Ge(te,ae){var se=Y(te,14);return te.l+=ae-10,se}function ke(te,ae){return te[te.l+ae-1]==0?te.read_shift(ae,"cstr"):""}function Xe(te,ae){var se=te[te.l++];se>ae-1&&(se=ae-1);for(var ce="";ce.length<se;)ce+=String.fromCharCode(te[te.l++]);return ce}function De(te,ae,se){if(!(!se.qpro||ae<21)){var ce=te.read_shift(1);te.l+=17,te.l+=1,te.l+=2;var fe=te.read_shift(ae-21,"cstr");return[ce,fe]}}function st(te,ae){for(var se={},ce=te.l+ae;te.l<ce;){var fe=te.read_shift(2);if(fe==14e3){for(se[fe]=[0,""],se[fe][0]=te.read_shift(2);te[te.l];)se[fe][1]+=String.fromCharCode(te[te.l]),te.l++;te.l++}}return se}function Ie(te,ae){var se=Oe(5+te.length);se.write_shift(2,14e3),se.write_shift(2,ae);for(var ce=0;ce<te.length;++ce){var fe=te.charCodeAt(ce);se[se.l++]=fe>127?95:fe}return se[se.l++]=0,se}var Ve={0:{n:"BOF",f:ur},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:C},15:{n:"LABEL",f},16:{n:"FORMULA",f:O},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ke},222:{n:"SHEETNAMELP",f:Xe},65535:{n:""}},me={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:F},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:j},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:st},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:Y},40:{n:"FORMULA28",f:Ge},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ke},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:De},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:t,book_to_wk3:i,to_workbook:n}}();function cL(e){var n={},r=e.match(oa),t=0,i=!1;if(r)for(;t!=r.length;++t){var a=Ht(r[t]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":n.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;n.cp=Ox[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":n.outline=1;break;case"</outline>":break;case"<rFont":n.name=a.val;break;case"<sz":n.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":n.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":n.uval="double";break;case"singleAccounting":n.uval="single-accounting";break;case"doubleAccounting":n.uval="double-accounting";break}case"<u>":case"<u/>":n.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":n.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":n.i=1;break;case"</i>":break;case"<color":a.rgb&&(n.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":n.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":n.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return n}var lL=function(){var e=Bm("t"),n=Bm("rPr");function r(a){var o=a.match(e);if(!o)return{t:"s",v:""};var s={t:"s",v:Bn(o[1])},d=a.match(n);return d&&(s.s=cL(d[1])),s}var t=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(t,"").split(i).map(r).filter(function(s){return s.v})}}(),dL=function(){var n=/(\r\n|\n)/g;function r(i,a,o){var s=[];i.u&&s.push("text-decoration: underline;"),i.uval&&s.push("text-underline-style:"+i.uval+";"),i.sz&&s.push("font-size:"+i.sz+"pt;"),i.outline&&s.push("text-effect: outline;"),i.shadow&&s.push("text-shadow: auto;"),a.push('<span style="'+s.join("")+'">'),i.b&&(a.push("<b>"),o.push("</b>")),i.i&&(a.push("<i>"),o.push("</i>")),i.strike&&(a.push("<s>"),o.push("</s>"));var d=i.valign||"";return d=="superscript"||d=="super"?d="sup":d=="subscript"&&(d="sub"),d!=""&&(a.push("<"+d+">"),o.push("</"+d+">")),o.push("</span>"),i}function t(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(n,"<br/>")+a[2].join("")):""}return function(a){return a.map(t).join("")}}(),uL=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,mL=/<(?:\w+:)?r>/,hL=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function av(e,n){var r=n?n.cellHTML:!0,t={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(t.t=Bn(pi(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),t.r=pi(e),r&&(t.h=Ux(t.t))):e.match(mL)&&(t.r=pi(e),t.t=Bn(pi((e.replace(hL,"").match(uL)||[]).join("").replace(oa,""))),r&&(t.h=dL(lL(t.r)))),t):{t:""}}var pL=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,fL=/<(?:\w+:)?(?:si|sstItem)>/g,gL=/<\/(?:\w+:)?(?:si|sstItem)>/;function _L(e,n){var r=[],t="";if(!e)return r;var i=e.match(pL);if(i){t=i[2].replace(fL,"").split(gL);for(var a=0;a!=t.length;++a){var o=av(t[a].trim(),n);o!=null&&(r[r.length]=o)}i=Ht(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}var xL=/^\s|\s$|[\t\n\r]/;function yP(e,n){if(!n.bookSST)return"";var r=[tr];r[r.length]=Qe("sst",null,{xmlns:Fl[0],count:e.Count,uniqueCount:e.Unique});for(var t=0;t!=e.length;++t)if(e[t]!=null){var i=e[t],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(xL)&&(a+=' xml:space="preserve"'),a+=">"+di(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function vL(e){return[e.read_shift(4),e.read_shift(4)]}function bL(e,n){var r=[],t=!1;return $s(e,function(a,o,s){switch(s){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:t=!0;break;case 36:t=!1;break;default:if(o.T,!t||n.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}}),r}function yL(e,n){return n||(n=Oe(8)),n.write_shift(4,e.Count),n.write_shift(4,e.Unique),n}var CL=A7;function wL(e){var n=Ta();Le(n,159,yL(e));for(var r=0;r<e.length;++r)Le(n,19,CL(e[r]));return Le(n,160),n.end()}function CP(e){if(typeof ri<"u")return ri.utils.encode(vu,e);for(var n=[],r=e.split(""),t=0;t<r.length;++t)n[t]=r[t].charCodeAt(0);return n}function zs(e,n){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),n>=4&&(e.l+=n-4),r}function SL(e){var n={};return n.id=e.read_shift(0,"lpp4"),n.R=zs(e,4),n.U=zs(e,4),n.W=zs(e,4),n}function ML(e){for(var n=e.read_shift(4),r=e.l+n-4,t={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(t.name=e.read_shift(0,"lpp4"),t.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return t}function kL(e){var n=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)n.push(ML(e));return n}function PL(e){var n=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)n.push(e.read_shift(0,"lpp4"));return n}function EL(e){var n={};return e.read_shift(4),e.l+=4,n.id=e.read_shift(0,"lpp4"),n.name=e.read_shift(0,"lpp4"),n.R=zs(e,4),n.U=zs(e,4),n.W=zs(e,4),n}function TL(e){var n=EL(e);if(n.ename=e.read_shift(0,"8lpp4"),n.blksz=e.read_shift(4),n.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return n}function wP(e,n){var r=e.l+n,t={};t.Flags=e.read_shift(4)&63,e.l+=4,t.AlgID=e.read_shift(4);var i=!1;switch(t.AlgID){case 26126:case 26127:case 26128:i=t.Flags==36;break;case 26625:i=t.Flags==4;break;case 0:i=t.Flags==16||t.Flags==4||t.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+t.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return t.AlgIDHash=e.read_shift(4),t.KeySize=e.read_shift(4),t.ProviderType=e.read_shift(4),e.l+=8,t.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,t}function SP(e,n){var r={},t=e.l+n;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,t),e.l=t,r}function OL(e){var n=zs(e);switch(n.Minor){case 2:return[n.Minor,IL(e,n)];case 3:return[n.Minor,AL(e,n)];case 4:return[n.Minor,DL(e,n)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+n.Minor)}function IL(e){var n=e.read_shift(4);if((n&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),t=wP(e,r),i=SP(e,e.length-e.l);return{t:"Std",h:t,v:i}}function AL(){throw new Error("File is password-protected: ECMA-376 Extensible")}function DL(e){var n=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),t={};return r.replace(oa,function(a){var o=Ht(a);switch(ms(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":n.forEach(function(s){t[s]=o[s]});break;case"<dataIntegrity":t.encryptedHmacKey=o.encryptedHmacKey,t.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":t.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":t.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":t.encs.push(o);break;default:throw o[0]}}),t}function FL(e,n){var r={},t=r.EncryptionVersionInfo=zs(e,4);if(n-=4,t.Minor!=2)throw new Error("unrecognized minor version code: "+t.Minor);if(t.Major>4||t.Major<2)throw new Error("unrecognized major version code: "+t.Major);r.Flags=e.read_shift(4),n-=4;var i=e.read_shift(4);return n-=4,r.EncryptionHeader=wP(e,i),n-=i,r.EncryptionVerifier=SP(e,n),r}function RL(e){var n={},r=n.EncryptionVersionInfo=zs(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return n.Salt=e.read_shift(16),n.EncryptedVerifier=e.read_shift(16),n.EncryptedVerifierHash=e.read_shift(16),n}function ov(e){var n=0,r,t=CP(e),i=t.length+1,a,o,s,d,m;for(r=Bc(i),r[0]=t.length,a=1;a!=i;++a)r[a]=t[a-1];for(a=i-1;a>=0;--a)o=r[a],s=n&16384?1:0,d=n<<1&32767,m=s|d,n=m^o;return n^52811}var MP=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],n=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],t=function(o){return(o/2|o*128)&255},i=function(o,s){return t(o^s)},a=function(o){for(var s=n[o.length-1],d=104,m=o.length-1;m>=0;--m)for(var f=o[m],_=0;_!=7;++_)f&64&&(s^=r[d]),f*=2,--d;return s};return function(o){for(var s=CP(o),d=a(s),m=s.length,f=Bc(16),_=0;_!=16;++_)f[_]=0;var v,w,C;for((m&1)===1&&(v=d>>8,f[m]=i(e[0],v),--m,v=d&255,w=s[s.length-1],f[m]=i(w,v));m>0;)--m,v=d>>8,f[m]=i(s[m],v),--m,v=d&255,f[m]=i(s[m],v);for(m=15,C=15-s.length;C>0;)v=d>>8,f[m]=i(e[C],v),--m,--C,v=d&255,f[m]=i(s[m],v),--m,--C;return f}}(),NL=function(e,n,r,t,i){i||(i=n),t||(t=MP(e));var a,o;for(a=0;a!=n.length;++a)o=n[a],o^=t[r],o=(o>>5|o<<3)&255,i[a]=o,++r;return[i,r,t]},LL=function(e){var n=0,r=MP(e);return function(t){var i=NL("",t,n,r);return n=i[1],i[0]}};function VL(e,n,r,t){var i={key:ur(e),verificationBytes:ur(e)};return r.password&&(i.verifier=ov(r.password)),t.valid=i.verificationBytes===i.verifier,t.valid&&(t.insitu=LL(r.password)),i}function BL(e,n,r){var t=r||{};return t.Info=e.read_shift(2),e.l-=2,t.Info===1?t.Data=RL(e,n):t.Data=FL(e,n),t}function jL(e,n,r){var t={Type:r.biff>=8?e.read_shift(2):0};return t.Type?BL(e,n-2,t):VL(e,r.biff>=8?n:n-2,r,t),t}var kP=function(){function e(i,a){switch(a.type){case"base64":return n(za(i),a);case"binary":return n(i,a);case"buffer":return n(xn&&Buffer.isBuffer(i)?i.toString("binary"):Hc(i),a);case"array":return n(El(i),a)}throw new Error("Unrecognized type "+a.type)}function n(i,a){var o=a||{},s=o.dense?[]:{},d=i.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var m={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(f,_){Array.isArray(s)&&(s[_]=[]);for(var v=/\\\w+\b/g,w=0,C,b=-1;C=v.exec(f);){switch(C[0]){case"\\cell":var O=f.slice(w,v.lastIndex-C[0].length);if(O[0]==" "&&(O=O.slice(1)),++b,O.length){var L={v:O,t:"s"};Array.isArray(s)?s[_][b]=L:s[Lt({r:_,c:b})]=L}break}w=v.lastIndex}b>m.e.c&&(m.e.c=b)}),s["!ref"]=on(m),s}function r(i,a){return Gc(e(i,a),a)}function t(i){for(var a=["{\\rtf1\\ansi"],o=jn(i["!ref"]),s,d=Array.isArray(i),m=o.s.r;m<=o.e.r;++m){a.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)a.push("\\cellx"+(f+1));for(a.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var _=Lt({r:m,c:f});s=d?(i[m]||[])[f]:i[_],!(!s||s.v==null&&(!s.f||s.F))&&(a.push(" "+(s.w||(Hs(s),s.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:t}}();function UL(e){var n=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(n.slice(0,2),16),parseInt(n.slice(2,4),16),parseInt(n.slice(4,6),16)]}function Hm(e){for(var n=0,r=1;n!=3;++n)r=r*256+(e[n]>255?255:e[n]<0?0:e[n]);return r.toString(16).toUpperCase().slice(1)}function zL(e){var n=e[0]/255,r=e[1]/255,t=e[2]/255,i=Math.max(n,r,t),a=Math.min(n,r,t),o=i-a;if(o===0)return[0,0,n];var s=0,d=0,m=i+a;switch(d=o/(m>1?2-m:m),i){case n:s=((r-t)/o+6)%6;break;case r:s=(t-n)/o+2;break;case t:s=(n-r)/o+4;break}return[s/6,d,m/2]}function HL(e){var n=e[0],r=e[1],t=e[2],i=r*2*(t<.5?t:1-t),a=t-i/2,o=[a,a,a],s=6*n,d;if(r!==0)switch(s|0){case 0:case 6:d=i*s,o[0]+=i,o[1]+=d;break;case 1:d=i*(2-s),o[0]+=d,o[1]+=i;break;case 2:d=i*(s-2),o[1]+=i,o[2]+=d;break;case 3:d=i*(4-s),o[1]+=d,o[2]+=i;break;case 4:d=i*(s-4),o[2]+=i,o[0]+=d;break;case 5:d=i*(6-s),o[2]+=d,o[0]+=i;break}for(var m=0;m!=3;++m)o[m]=Math.round(o[m]*255);return o}function ag(e,n){if(n===0)return e;var r=zL(UL(e));return n<0?r[2]=r[2]*(1+n):r[2]=1-(1-r[2])*(1-n),Hm(HL(r))}var PP=6,GL=15,$L=1,ta=PP;function Gm(e){return Math.floor((e+Math.round(128/ta)/256)*ta)}function $m(e){return Math.floor((e-5)/ta*100+.5)/100}function og(e){return Math.round((e*ta+5)/ta*256)/256}function lx(e){return og($m(Gm(e)))}function sv(e){var n=Math.abs(e-lx(e)),r=ta;if(n>.005)for(ta=$L;ta<GL;++ta)Math.abs(e-lx(e))<=n&&(n=Math.abs(e-lx(e)),r=ta);ta=r}function jc(e){e.width?(e.wpx=Gm(e.width),e.wch=$m(e.wpx),e.MDW=ta):e.wpx?(e.wch=$m(e.wpx),e.width=og(e.wch),e.MDW=ta):typeof e.wch=="number"&&(e.width=og(e.wch),e.wpx=Gm(e.width),e.MDW=ta),e.customWidth&&delete e.customWidth}var WL=96,EP=WL;function Wm(e){return e*96/EP}function Cu(e){return e*EP/96}var YL={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function qL(e,n,r,t){n.Borders=[];var i={},a=!1;(e[0].match(oa)||[]).forEach(function(o){var s=Ht(o);switch(ms(s[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},s.diagonalUp&&(i.diagonalUp=ki(s.diagonalUp)),s.diagonalDown&&(i.diagonalDown=ki(s.diagonalDown)),n.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(t&&t.WTF&&!a)throw new Error("unrecognized "+s[0]+" in borders")}})}function KL(e,n,r,t){n.Fills=[];var i={},a=!1;(e[0].match(oa)||[]).forEach(function(o){var s=Ht(o);switch(ms(s[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},n.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":n.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":s.patternType&&(i.patternType=s.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),s.indexed&&(i.bgColor.indexed=parseInt(s.indexed,10)),s.theme&&(i.bgColor.theme=parseInt(s.theme,10)),s.tint&&(i.bgColor.tint=parseFloat(s.tint)),s.rgb&&(i.bgColor.rgb=s.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),s.theme&&(i.fgColor.theme=parseInt(s.theme,10)),s.tint&&(i.fgColor.tint=parseFloat(s.tint)),s.rgb!=null&&(i.fgColor.rgb=s.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(t&&t.WTF&&!a)throw new Error("unrecognized "+s[0]+" in fills")}})}function QL(e,n,r,t){n.Fonts=[];var i={},a=!1;(e[0].match(oa)||[]).forEach(function(o){var s=Ht(o);switch(ms(s[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":n.Fonts.push(i),i={};break;case"<name":s.val&&(i.name=pi(s.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=s.val?ki(s.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=s.val?ki(s.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(s.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=s.val?ki(s.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=s.val?ki(s.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=s.val?ki(s.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=s.val?ki(s.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=s.val?ki(s.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":s.val&&(i.sz=+s.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":s.val&&(i.vertAlign=s.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":s.val&&(i.family=parseInt(s.val,10));break;case"<family/>":case"</family>":break;case"<scheme":s.val&&(i.scheme=s.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(s.val=="1")break;s.codepage=Ox[parseInt(s.val,10)];break;case"<color":if(i.color||(i.color={}),s.auto&&(i.color.auto=ki(s.auto)),s.rgb)i.color.rgb=s.rgb.slice(-6);else if(s.indexed){i.color.index=parseInt(s.indexed,10);var d=wl[i.color.index];i.color.index==81&&(d=wl[1]),d||(d=wl[1]),i.color.rgb=d[0].toString(16)+d[1].toString(16)+d[2].toString(16)}else s.theme&&(i.color.theme=parseInt(s.theme,10),s.tint&&(i.color.tint=parseFloat(s.tint)),s.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=ag(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(t&&t.WTF&&!a)throw new Error("unrecognized "+s[0]+" in fonts")}})}function XL(e,n,r){n.NumberFmt=[];for(var t=Qi(Dt),i=0;i<t.length;++i)n.NumberFmt[t[i]]=Dt[t[i]];var a=e[0].match(oa);if(a)for(i=0;i<a.length;++i){var o=Ht(a[i]);switch(ms(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var s=Bn(pi(o.formatCode)),d=parseInt(o.numFmtId,10);if(n.NumberFmt[d]=s,d>0){if(d>392){for(d=392;d>60&&n.NumberFmt[d]!=null;--d);n.NumberFmt[d]=s}us(s,d)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function ZL(e){var n=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var t=r[0];t<=r[1];++t)e[t]!=null&&(n[n.length]=Qe("numFmt",null,{numFmtId:t,formatCode:di(e[t])}))}),n.length===1?"":(n[n.length]="</numFmts>",n[0]=Qe("numFmts",null,{count:n.length-2}).replace("/>",">"),n.join(""))}var Wf=["numFmtId","fillId","fontId","borderId","xfId"],Yf=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function JL(e,n,r){n.CellXf=[];var t,i=!1;(e[0].match(oa)||[]).forEach(function(a){var o=Ht(a),s=0;switch(ms(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(t=o,delete t[0],s=0;s<Wf.length;++s)t[Wf[s]]&&(t[Wf[s]]=parseInt(t[Wf[s]],10));for(s=0;s<Yf.length;++s)t[Yf[s]]&&(t[Yf[s]]=ki(t[Yf[s]]));if(n.NumberFmt&&t.numFmtId>392){for(s=392;s>60;--s)if(n.NumberFmt[t.numFmtId]==n.NumberFmt[s]){t.numFmtId=s;break}}n.CellXf.push(t);break;case"</xf>":break;case"<alignment":case"<alignment/>":var d={};o.vertical&&(d.vertical=o.vertical),o.horizontal&&(d.horizontal=o.horizontal),o.textRotation!=null&&(d.textRotation=o.textRotation),o.indent&&(d.indent=o.indent),o.wrapText&&(d.wrapText=ki(o.wrapText)),t.alignment=d;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function eV(e){var n=[];return n[n.length]=Qe("cellXfs",null),e.forEach(function(r){n[n.length]=Qe("xf",null,r)}),n[n.length]="</cellXfs>",n.length===2?"":(n[0]=Qe("cellXfs",null,{count:n.length-2}).replace("/>",">"),n.join(""))}var tV=function(){var n=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,t=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,d,m){var f={};if(!s)return f;s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var _;return(_=s.match(n))&&XL(_,f,m),(_=s.match(i))&&QL(_,f,d,m),(_=s.match(t))&&KL(_,f,d,m),(_=s.match(a))&&qL(_,f,d,m),(_=s.match(r))&&JL(_,f,m),f}}();function TP(e,n){var r=[tr,Qe("styleSheet",null,{xmlns:Fl[0],"xmlns:vt":xr.vt})],t;return e.SSF&&(t=ZL(e.SSF))!=null&&(r[r.length]=t),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(t=eV(n.cellXfs))&&(r[r.length]=t),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function nV(e,n){var r=e.read_shift(2),t=ra(e,n-2);return[r,t]}function iV(e,n,r){r||(r=Oe(6+4*n.length)),r.write_shift(2,e),Ar(n,r);var t=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),t}function rV(e,n,r){var t={};t.sz=e.read_shift(2)/20;var i=B7(e,2,r);i.fItalic&&(t.italic=1),i.fCondense&&(t.condense=1),i.fExtend&&(t.extend=1),i.fShadow&&(t.shadow=1),i.fOutline&&(t.outline=1),i.fStrikeout&&(t.strike=1);var a=e.read_shift(2);switch(a===700&&(t.bold=1),e.read_shift(2)){case 1:t.vertAlign="superscript";break;case 2:t.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(t.underline=o);var s=e.read_shift(1);s>0&&(t.family=s);var d=e.read_shift(1);switch(d>0&&(t.charset=d),e.l++,t.color=V7(e,8),e.read_shift(1)){case 1:t.scheme="major";break;case 2:t.scheme="minor";break}return t.name=ra(e,n-21),t}function aV(e,n){n||(n=Oe(25+4*32)),n.write_shift(2,e.sz*20),j7(e,n),n.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),n.write_shift(2,r),n.write_shift(1,e.underline||0),n.write_shift(1,e.family||0),n.write_shift(1,e.charset||0),n.write_shift(1,0),ng(e.color,n);var t=0;return e.scheme=="major"&&(t=1),e.scheme=="minor"&&(t=2),n.write_shift(1,t),Ar(e.name,n),n.length>n.l?n.slice(0,n.l):n}var oV=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],dx,sV=aa;function YM(e,n){n||(n=Oe(4*3+8*7+16*1)),dx||(dx=dg(oV));var r=dx[e.patternType];r==null&&(r=40),n.write_shift(4,r);var t=0;if(r!=40)for(ng({auto:1},n),ng({auto:1},n);t<12;++t)n.write_shift(4,0);else{for(;t<4;++t)n.write_shift(4,0);for(;t<12;++t)n.write_shift(4,0)}return n.length>n.l?n.slice(0,n.l):n}function cV(e,n){var r=e.l+n,t=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:t,numFmtId:i}}function OP(e,n,r){r||(r=Oe(16)),r.write_shift(2,n||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var t=0;return r.write_shift(1,t),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Sm(e,n){return n||(n=Oe(10)),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(4,0),n}var lV=aa;function dV(e,n){return n||(n=Oe(51)),n.write_shift(1,0),Sm(null,n),Sm(null,n),Sm(null,n),Sm(null,n),Sm(null,n),n.length>n.l?n.slice(0,n.l):n}function uV(e,n){return n||(n=Oe(12+4*10)),n.write_shift(4,e.xfId),n.write_shift(2,1),n.write_shift(1,+e.builtinId),n.write_shift(1,0),tg(e.name||"",n),n.length>n.l?n.slice(0,n.l):n}function mV(e,n,r){var t=Oe(2052);return t.write_shift(4,e),tg(n,t),tg(r,t),t.length>t.l?t.slice(0,t.l):t}function hV(e,n,r){var t={};t.NumberFmt=[];for(var i in Dt)t.NumberFmt[i]=Dt[i];t.CellXf=[],t.Fonts=[];var a=[],o=!1;return $s(e,function(d,m,f){switch(f){case 44:t.NumberFmt[d[0]]=d[1],us(d[1],d[0]);break;case 43:t.Fonts.push(d),d.color.theme!=null&&n&&n.themeElements&&n.themeElements.clrScheme&&(d.color.rgb=ag(n.themeElements.clrScheme[d.color.theme].rgb,d.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&t.CellXf.push(d);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:a.push(f),o=!0;break;case 38:a.pop(),o=!1;break;default:if(m.T>0)a.push(f);else if(m.T<0)a.pop();else if(!o||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+f.toString(16))}}),t}function pV(e,n){if(n){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var i=t[0];i<=t[1];++i)n[i]!=null&&++r}),r!=0&&(Le(e,615,zo(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var i=t[0];i<=t[1];++i)n[i]!=null&&Le(e,44,iV(i,n[i]))}),Le(e,616))}}function fV(e){var n=1;n!=0&&(Le(e,611,zo(n)),Le(e,43,aV({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Le(e,612))}function gV(e){var n=2;n!=0&&(Le(e,603,zo(n)),Le(e,45,YM({patternType:"none"})),Le(e,45,YM({patternType:"gray125"})),Le(e,604))}function _V(e){var n=1;n!=0&&(Le(e,613,zo(n)),Le(e,46,dV({})),Le(e,614))}function xV(e){var n=1;Le(e,626,zo(n)),Le(e,47,OP({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Le(e,627)}function vV(e,n){Le(e,617,zo(n.length)),n.forEach(function(r){Le(e,47,OP(r,0))}),Le(e,618)}function bV(e){var n=1;Le(e,619,zo(n)),Le(e,48,uV({xfId:0,builtinId:0,name:"Normal"})),Le(e,620)}function yV(e){var n=0;Le(e,505,zo(n)),Le(e,506)}function CV(e){var n=0;Le(e,508,mV(n,"TableStyleMedium9","PivotStyleMedium4")),Le(e,509)}function wV(e,n){var r=Ta();return Le(r,278),pV(r,e.SSF),fV(r,e),gV(r,e),_V(r,e),xV(r,e),vV(r,n.cellXfs),bV(r,e),yV(r,e),CV(r,e),Le(r,279),r.end()}var SV=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function MV(e,n,r){n.themeElements.clrScheme=[];var t={};(e[0].match(oa)||[]).forEach(function(i){var a=Ht(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":t.rgb=a.val;break;case"<a:sysClr":t.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(n.themeElements.clrScheme[SV.indexOf(a[0])]=t,t={}):t.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function kV(){}function PV(){}var EV=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,TV=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,OV=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function IV(e,n,r){n.themeElements={};var t;[["clrScheme",EV,MV],["fontScheme",TV,kV],["fmtScheme",OV,PV]].forEach(function(i){if(!(t=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](t,n,r)})}var AV=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function IP(e,n){(!e||e.length===0)&&(e=cv());var r,t={};if(!(r=e.match(AV)))throw new Error("themeElements not found in theme");return IV(r[0],t,n),t.raw=e,t}function cv(e,n){if(n&&n.themeXLSX)return n.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[tr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',r[r.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',r[r.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',r[r.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',r[r.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',r[r.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',r[r.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function DV(e,n,r){var t=e.l+n,i=e.read_shift(4);if(i!==124226){if(!r.cellStyles){e.l=t;return}var a=e.slice(e.l);e.l=t;var o;try{o=Ek(a,{type:"array"})}catch{return}var s=Ua(o,"theme/theme/theme1.xml",!0);if(s)return IP(s,r)}}function FV(e){return e.read_shift(4)}function RV(e){var n={};switch(n.xclrType=e.read_shift(2),n.nTintShade=e.read_shift(2),n.xclrType){case 0:e.l+=4;break;case 1:n.xclrValue=NV(e,4);break;case 2:n.xclrValue=dP(e,4);break;case 3:n.xclrValue=FV(e,4);break;case 4:e.l+=4;break}return e.l+=8,n}function NV(e,n){return aa(e,n)}function LV(e,n){return aa(e,n)}function VV(e){var n=e.read_shift(2),r=e.read_shift(2)-4,t=[n];switch(n){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:t[1]=RV(e,r);break;case 6:t[1]=LV(e,r);break;case 14:case 15:t[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+n+" "+r)}return t}function BV(e,n){var r=e.l+n;e.l+=2;var t=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(VV(e,r-e.l));return{ixfe:t,ext:a}}function jV(e,n){n.forEach(function(r){switch(r[0]){case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:break;case 13:break;case 14:break;case 15:break}})}function UV(e,n){return{flags:e.read_shift(4),version:e.read_shift(4),name:ra(e,n-8)}}function zV(e){var n=Oe(12+2*e.name.length);return n.write_shift(4,e.flags),n.write_shift(4,e.version),Ar(e.name,n),n.slice(0,n.l)}function HV(e){for(var n=[],r=e.read_shift(4);r-- >0;)n.push([e.read_shift(4),e.read_shift(4)]);return n}function GV(e){var n=Oe(4+8*e.length);n.write_shift(4,e.length);for(var r=0;r<e.length;++r)n.write_shift(4,e[r][0]),n.write_shift(4,e[r][1]);return n}function $V(e,n){var r=Oe(8+2*n.length);return r.write_shift(4,e),Ar(n,r),r.slice(0,r.l)}function WV(e){return e.l+=4,e.read_shift(4)!=0}function YV(e,n){var r=Oe(8);return r.write_shift(4,e),r.write_shift(4,n?1:0),r}function qV(e,n,r){var t={Types:[],Cell:[],Value:[]},i=r||{},a=[],o=!1,s=2;return $s(e,function(d,m,f){switch(f){case 335:t.Types.push({name:d.name});break;case 51:d.forEach(function(_){s==1?t.Cell.push({type:t.Types[_[0]-1].name,index:_[1]}):s==0&&t.Value.push({type:t.Types[_[0]-1].name,index:_[1]})});break;case 337:s=d?1:0;break;case 338:s=2;break;case 35:a.push(f),o=!0;break;case 36:a.pop(),o=!1;break;default:if(!m.T){if(!o||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}}),t}function KV(){var e=Ta();return Le(e,332),Le(e,334,zo(1)),Le(e,335,zV({name:"XLDAPR",version:12e4,flags:3496657072})),Le(e,336),Le(e,339,$V(1,"XLDAPR")),Le(e,52),Le(e,35,zo(514)),Le(e,4096,zo(0)),Le(e,4097,bo(1)),Le(e,36),Le(e,53),Le(e,340),Le(e,337,YV(1,!0)),Le(e,51,GV([[1,0]])),Le(e,338),Le(e,333),e.end()}function QV(e,n,r){var t={Types:[],Cell:[],Value:[]};if(!e)return t;var i=!1,a=2,o;return e.replace(oa,function(s){var d=Ht(s);switch(ms(d[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":t.Types.push({name:d.name});break;case"</metadataType>":break;case"<futureMetadata":for(var m=0;m<t.Types.length;++m)t.Types[m].name==d.name&&(o=t.Types[m]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?t.Cell.push({type:t.Types[d.t-1].name,index:+d.v}):a==0&&t.Value.push({type:t.Types[d.t-1].name,index:+d.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+d.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+d[0]+" in metadata")}return s}),t}function AP(){var e=[tr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function XV(e){var n=[];if(!e)return n;var r=1;return(e.match(oa)||[]).forEach(function(t){var i=Ht(t);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,n.push(i);break}}),n}function ZV(e){var n={};n.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),n.r=Lt(r);var t=e.read_shift(1);return t&2&&(n.l="1"),t&8&&(n.a="1"),n}function JV(e,n,r){var t=[],i=!1;return $s(e,function(o,s,d){switch(d){case 63:t.push(o);break;default:if(!s.T){if(!i||r.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),t}function eB(e,n,r,t){if(!e)return e;var i=t||{},a=!1,o=!1;$s(e,function(d,m,f){if(!o)switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!m.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},i)}function tB(e,n){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return n["!id"][r].Target}var pu=1024;function DP(e,n){for(var r=[21600,21600],t=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Qe("xml",null,{"xmlns:v":Ba.v,"xmlns:o":Ba.o,"xmlns:x":Ba.x,"xmlns:mv":Ba.mv}).replace(/\/>/,">"),Qe("o:shapelayout",Qe("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Qe("v:shapetype",[Qe("v:stroke",null,{joinstyle:"miter"}),Qe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:t})];pu<e*1e3;)pu+=1e3;return n.forEach(function(a){var o=Ui(a[0]),s={color2:"#BEFF82",type:"gradient"};s.type=="gradient"&&(s.angle="-180");var d=s.type=="gradient"?Qe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,m=Qe("v:fill",d,s),f={on:"t",obscured:"t"};++pu,i=i.concat(["<v:shape"+jm({id:"_x0000_s"+pu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",m,Qe("v:shadow",null,f),Qe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ur("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Ur("x:AutoFill","False"),Ur("x:Row",String(o.r)),Ur("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function qM(e,n,r,t){var i=Array.isArray(e),a;n.forEach(function(o){var s=Ui(o.ref);if(i?(e[s.r]||(e[s.r]=[]),a=e[s.r][s.c]):a=e[o.ref],!a){a={t:"z"},i?e[s.r][s.c]=a:e[o.ref]=a;var d=jn(e["!ref"]||"BDWGO1000001:A1");d.s.r>s.r&&(d.s.r=s.r),d.e.r<s.r&&(d.e.r=s.r),d.s.c>s.c&&(d.s.c=s.c),d.e.c<s.c&&(d.e.c=s.c);var m=on(d);m!==e["!ref"]&&(e["!ref"]=m)}a.c||(a.c=[]);var f={a:o.author,t:o.t,r:o.r,T:r};o.h&&(f.h=o.h);for(var _=a.c.length-1;_>=0;--_){if(!r&&a.c[_].T)return;r&&!a.c[_].T&&a.c.splice(_,1)}if(r&&t){for(_=0;_<t.length;++_)if(f.a==t[_].id){f.a=t[_].name||f.a;break}}a.c.push(f)})}function nB(e,n){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],t=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?author[^>]*>(.*)/);s&&r.push(s[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var s=o.match(/<(?:\w+:)?comment[^>]*>/);if(s){var d=Ht(s[0]),m={author:d.authorId&&r[d.authorId]||"sheetjsghost",ref:d.ref,guid:d.guid},f=Ui(d.ref);if(!(n.sheetRows&&n.sheetRows<=f.r)){var _=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),v=!!_&&!!_[1]&&av(_[1])||{r:"",t:"",h:""};m.r=v.r,v.r=="<t></t>"&&(v.t=v.h=""),m.t=(v.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),n.cellHTML&&(m.h=v.h),t.push(m)}}}}),t}function FP(e){var n=[tr,Qe("comments",null,{xmlns:Fl[0]})],r=[];return n.push("<authors>"),e.forEach(function(t){t[1].forEach(function(i){var a=di(i.a);r.indexOf(a)==-1&&(r.push(a),n.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),n.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),n.push("<author>SheetJ5</author>")),n.push("</authors>"),n.push("<commentList>"),e.forEach(function(t){var i=0,a=[];if(t[1][0]&&t[1][0].T&&t[1][0].ID?i=r.indexOf("tc="+t[1][0].ID):t[1].forEach(function(d){d.a&&(i=r.indexOf(di(d.a))),a.push(d.t||"")}),n.push('<comment ref="'+t[0]+'" authorId="'+i+'"><text>'),a.length<=1)n.push(Ur("t",di(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,s=1;s<a.length;++s)o+=`Reply:
    `+a[s]+`
`;n.push(Ur("t",di(o)))}n.push("</text></comment>")}),n.push("</commentList>"),n.length>2&&(n[n.length]="</comments>",n[1]=n[1].replace("/>",">")),n.join("")}function iB(e,n){var r=[],t=!1,i={},a=0;return e.replace(oa,function(s,d){var m=Ht(s);switch(ms(m[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:m.personId,guid:m.id,ref:m.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=d+s.length;break;case"</text>":i.t=e.slice(a,d).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":t=!0;break;case"</mentions>":t=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":t=!0;break;case"</ext>":t=!1;break;default:if(!t&&n.WTF)throw new Error("unrecognized "+m[0]+" in threaded comments")}return s}),r}function rB(e,n,r){var t=[tr,Qe("ThreadedComments",null,{xmlns:xr.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var a="";(i[1]||[]).forEach(function(o,s){if(!o.T){delete o.ID;return}o.a&&n.indexOf(o.a)==-1&&n.push(o.a);var d={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};s==0?a=d.id:d.parentId=a,o.ID=d.id,o.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+n.indexOf(o.a)).slice(-12)+"}"),t.push(Qe("threadedComment",Ur("text",o.t||""),d))})}),t.push("</ThreadedComments>"),t.join("")}function aB(e,n){var r=[],t=!1;return e.replace(oa,function(a){var o=Ht(a);switch(ms(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":t=!0;break;case"</ext>":t=!1;break;default:if(!t&&n.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return a}),r}function oB(e){var n=[tr,Qe("personList",null,{xmlns:xr.TCMNT,"xmlns:x":Fl[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,t){n.push(Qe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+t).slice(-12)+"}",userId:r,providerId:"None"}))}),n.push("</personList>"),n.join("")}function sB(e){var n={};n.iauthor=e.read_shift(4);var r=Vl(e,16);return n.rfx=r.s,n.ref=Lt(r.s),e.l+=16,n}function cB(e,n){return n==null&&(n=Oe(36)),n.write_shift(4,e[1].iauthor),ku(e[0],n),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n}var lB=ra;function dB(e){return Ar(e.slice(0,54))}function uB(e,n){var r=[],t=[],i={},a=!1;return $s(e,function(s,d,m){switch(m){case 632:t.push(s);break;case 635:i=s;break;case 637:i.t=s.t,i.h=s.h,i.r=s.r;break;case 636:if(i.author=t[i.iauthor],delete i.iauthor,n.sheetRows&&i.rfx&&n.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!d.T){if(!a||n.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}}),r}function mB(e){var n=Ta(),r=[];return Le(n,628),Le(n,630),e.forEach(function(t){t[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Le(n,632,dB(i.a)))})}),Le(n,631),Le(n,633),e.forEach(function(t){t[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:Ui(t[0]),e:Ui(t[0])};Le(n,635,cB([a,i])),i.t&&i.t.length>0&&Le(n,637,F7(i)),Le(n,636),delete i.iauthor})}),Le(n,634),Le(n,629),n.end()}var hB="application/vnd.ms-office.vbaProject";function pB(e){var n=Pt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,t){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Pt.utils.cfb_add(n,i,e.FileIndex[t].content)}}),Pt.write(n)}function fB(e,n){n.FullPaths.forEach(function(r,t){if(t!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Pt.utils.cfb_add(e,i,n.FileIndex[t].content)}})}var RP=["xlsb","xlsm","xlam","biff8","xla"];function gB(){return{"!type":"dialog"}}function _B(){return{"!type":"dialog"}}function xB(){return{"!type":"macro"}}function vB(){return{"!type":"macro"}}var _u=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,n={r:0,c:0};function r(t,i,a,o){var s=!1,d=!1;a.length==0?d=!0:a.charAt(0)=="["&&(d=!0,a=a.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var m=a.length>0?parseInt(a,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return s?f+=n.c:--f,d?m+=n.r:--m,i+(s?"":"$")+ji(f)+(d?"":"$")+er(m)}return function(i,a){return n=a,i.replace(e,r)}}(),lv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,dv=function(){return function(n,r){return n.replace(lv,function(t,i,a,o,s,d){var m=Qx(o)-(a?0:r.c),f=Kx(d)-(s?0:r.r),_=f==0?"":s?f+1:"["+f+"]",v=m==0?"":a?m+1:"["+m+"]";return i+"R"+_+"C"+v})}}();function NP(e,n){return e.replace(lv,function(r,t,i,a,o,s){return t+(i=="$"?i+a:ji(Qx(a)+n.c))+(o=="$"?o+s:er(Kx(s)+n.r))})}function bB(e,n,r){var t=Oa(n),i=t.s,a=Ui(r),o={r:a.r-i.r,c:a.c-i.c};return NP(e,o)}function yB(e){return e.length!=1}function KM(e){return e.replace(/_xlfn\./g,"")}function lr(e){e.l+=1}function Uc(e,n){var r=e.read_shift(n==1?1:2);return[r&16383,r>>14&1,r>>15&1]}function LP(e,n,r){var t=2;if(r){if(r.biff>=2&&r.biff<=5)return VP(e,n,r);r.biff==12&&(t=4)}var i=e.read_shift(t),a=e.read_shift(t),o=Uc(e,2),s=Uc(e,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function VP(e){var n=Uc(e,2),r=Uc(e,2),t=e.read_shift(1),i=e.read_shift(1);return{s:{r:n[0],c:t,cRel:n[1],rRel:n[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function CB(e,n,r){if(r.biff<8)return VP(e,n,r);var t=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=Uc(e,2),o=Uc(e,2);return{s:{r:t,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function BP(e,n,r){if(r&&r.biff>=2&&r.biff<=5)return wB(e,n,r);var t=e.read_shift(r&&r.biff==12?4:2),i=Uc(e,2);return{r:t,c:i[0],cRel:i[1],rRel:i[2]}}function wB(e){var n=Uc(e,2),r=e.read_shift(1);return{r:n[0],c:r,cRel:n[1],rRel:n[2]}}function SB(e){var n=e.read_shift(2),r=e.read_shift(2);return{r:n,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function MB(e,n,r){var t=r&&r.biff?r.biff:8;if(t>=2&&t<=5)return kB(e,n,r);var i=e.read_shift(t>=12?4:2),a=e.read_shift(2),o=(a&16384)>>14,s=(a&32768)>>15;if(a&=16383,s==1)for(;i>524287;)i-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:o,rRel:s}}function kB(e){var n=e.read_shift(2),r=e.read_shift(1),t=(n&32768)>>15,i=(n&16384)>>14;return n&=16383,t==1&&n>=8192&&(n=n-16384),i==1&&r>=128&&(r=r-256),{r:n,c:r,cRel:i,rRel:t}}function PB(e,n,r){var t=(e[e.l++]&96)>>5,i=LP(e,r.biff>=2&&r.biff<=5?6:8,r);return[t,i]}function EB(e,n,r){var t=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var o=LP(e,a,r);return[t,i,o]}function TB(e,n,r){var t=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[t]}function OB(e,n,r){var t=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[t,i]}function IB(e,n,r){var t=(e[e.l++]&96)>>5,i=CB(e,n-1,r);return[t,i]}function AB(e,n,r){var t=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[t]}function QM(e){var n=e[e.l+1]&1,r=1;return e.l+=4,[n,r]}function DB(e,n,r){e.l+=2;for(var t=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=t;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function FB(e,n,r){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(r&&r.biff==2?1:2)]}function RB(e,n,r){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(r&&r.biff==2?1:2)]}function NB(e){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(2)]}function LB(e,n,r){var t=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[t]}function jP(e){var n=e.read_shift(1),r=e.read_shift(1);return[n,r]}function VB(e){return e.read_shift(2),jP(e,2)}function BB(e){return e.read_shift(2),jP(e,2)}function jB(e,n,r){var t=(e[e.l]&96)>>5;e.l+=1;var i=BP(e,0,r);return[t,i]}function UB(e,n,r){var t=(e[e.l]&96)>>5;e.l+=1;var i=MB(e,0,r);return[t,i]}function zB(e,n,r){var t=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=BP(e,0,r);return[t,i,a]}function HB(e,n,r){var t=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[Wj[i],HP[i],t]}function GB(e,n,r){var t=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[t==88?-1:0,e.read_shift(1)]:$B(e);return[i,(a[0]===0?HP:$j)[a[1]]]}function $B(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function WB(e,n,r){e.l+=r&&r.biff==2?3:4}function YB(e,n,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var t=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[t,i]}function qB(e){return e.l++,Ws[e.read_shift(1)]}function KB(e){return e.l++,e.read_shift(2)}function QB(e){return e.l++,e.read_shift(1)!==0}function XB(e){return e.l++,na(e,8)}function ZB(e,n,r){return e.l++,Zm(e,n-1,r)}function JB(e,n){var r=[e.read_shift(1)];if(n==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ji(e,1)?"TRUE":"FALSE",n!=12&&(e.l+=7);break;case 37:case 16:r[1]=Ws[e[e.l]],e.l+=n==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=na(e,8);break;case 2:r[1]=Bl(e,0,{biff:n>0&&n<8?2:n});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function ej(e,n,r){for(var t=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=t;++a)i.push((r.biff==12?Vl:pg)(e,8));return i}function tj(e,n,r){var t=0,i=0;r.biff==12?(t=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),t=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--t,--i==0&&(i=256));for(var a=0,o=[];a!=t&&(o[a]=[]);++a)for(var s=0;s!=i;++s)o[a][s]=JB(e,r.biff);return o}function nj(e,n,r){var t=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[t,0,a]}function ij(e,n,r){if(r.biff==5)return rj(e,n,r);var t=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[t,i,a]}function rj(e){var n=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var t=e.read_shift(2);return e.l+=12,[n,r,t]}function aj(e,n,r){var t=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[t,i]}function oj(e,n,r){var t=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[t,i]}function sj(e,n,r){var t=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[t]}function cj(e,n,r){var t=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[t,i]}var lj=aa,dj=aa,uj=aa;function e0(e,n,r){return e.l+=2,[SB(e,4,r)]}function uv(e){return e.l+=6,[]}var mj=e0,hj=uv,pj=uv,fj=e0;function UP(e){return e.l+=2,[ur(e),e.read_shift(2)&1]}var gj=e0,_j=UP,xj=uv,vj=e0,bj=e0,yj=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Cj(e){e.l+=2;var n=e.read_shift(2),r=e.read_shift(2),t=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),o=yj[r>>2&31];return{ixti:n,coltype:r&3,rt:o,idx:t,c:i,C:a}}function wj(e){return e.l+=2,[e.read_shift(4)]}function Sj(e,n,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Mj(e,n,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function kj(e){var n=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[n,r]}function Pj(e){var n=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[n,r]}function Ej(e){return e.l+=4,[0,0]}var XM={1:{n:"PtgExp",f:YB},2:{n:"PtgTbl",f:uj},3:{n:"PtgAdd",f:lr},4:{n:"PtgSub",f:lr},5:{n:"PtgMul",f:lr},6:{n:"PtgDiv",f:lr},7:{n:"PtgPower",f:lr},8:{n:"PtgConcat",f:lr},9:{n:"PtgLt",f:lr},10:{n:"PtgLe",f:lr},11:{n:"PtgEq",f:lr},12:{n:"PtgGe",f:lr},13:{n:"PtgGt",f:lr},14:{n:"PtgNe",f:lr},15:{n:"PtgIsect",f:lr},16:{n:"PtgUnion",f:lr},17:{n:"PtgRange",f:lr},18:{n:"PtgUplus",f:lr},19:{n:"PtgUminus",f:lr},20:{n:"PtgPercent",f:lr},21:{n:"PtgParen",f:lr},22:{n:"PtgMissArg",f:lr},23:{n:"PtgStr",f:ZB},26:{n:"PtgSheet",f:Sj},27:{n:"PtgEndSheet",f:Mj},28:{n:"PtgErr",f:qB},29:{n:"PtgBool",f:QB},30:{n:"PtgInt",f:KB},31:{n:"PtgNum",f:XB},32:{n:"PtgArray",f:AB},33:{n:"PtgFunc",f:HB},34:{n:"PtgFuncVar",f:GB},35:{n:"PtgName",f:nj},36:{n:"PtgRef",f:jB},37:{n:"PtgArea",f:PB},38:{n:"PtgMemArea",f:aj},39:{n:"PtgMemErr",f:lj},40:{n:"PtgMemNoMem",f:dj},41:{n:"PtgMemFunc",f:oj},42:{n:"PtgRefErr",f:sj},43:{n:"PtgAreaErr",f:TB},44:{n:"PtgRefN",f:UB},45:{n:"PtgAreaN",f:IB},46:{n:"PtgMemAreaN",f:kj},47:{n:"PtgMemNoMemN",f:Pj},57:{n:"PtgNameX",f:ij},58:{n:"PtgRef3d",f:zB},59:{n:"PtgArea3d",f:EB},60:{n:"PtgRefErr3d",f:cj},61:{n:"PtgAreaErr3d",f:OB},255:{}},Tj={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Oj={1:{n:"PtgElfLel",f:UP},2:{n:"PtgElfRw",f:vj},3:{n:"PtgElfCol",f:mj},6:{n:"PtgElfRwV",f:bj},7:{n:"PtgElfColV",f:fj},10:{n:"PtgElfRadical",f:gj},11:{n:"PtgElfRadicalS",f:xj},13:{n:"PtgElfColS",f:hj},15:{n:"PtgElfColSV",f:pj},16:{n:"PtgElfRadicalLel",f:_j},25:{n:"PtgList",f:Cj},29:{n:"PtgSxName",f:wj},255:{}},Ij={0:{n:"PtgAttrNoop",f:Ej},1:{n:"PtgAttrSemi",f:LB},2:{n:"PtgAttrIf",f:RB},4:{n:"PtgAttrChoose",f:DB},8:{n:"PtgAttrGoto",f:FB},16:{n:"PtgAttrSum",f:WB},32:{n:"PtgAttrBaxcel",f:QM},33:{n:"PtgAttrBaxcel",f:QM},64:{n:"PtgAttrSpace",f:VB},65:{n:"PtgAttrSpaceSemi",f:BB},128:{n:"PtgAttrIfError",f:NB},255:{}};function t0(e,n,r,t){if(t.biff<8)return aa(e,n);for(var i=e.l+n,a=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=tj(e,0,t),a.push(r[o][1]);break;case"PtgMemArea":r[o][2]=ej(e,r[o][1],t),a.push(r[o][2]);break;case"PtgExp":t&&t.biff==12&&(r[o][1][1]=e.read_shift(4),a.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0];default:break}return n=i-e.l,n!==0&&a.push(aa(e,n)),a}function n0(e,n,r){for(var t=e.l+n,i,a,o=[];t!=e.l;)n=t-e.l,a=e[e.l],i=XM[a]||XM[Tj[a]],(a===24||a===25)&&(i=(a===24?Oj:Ij)[e[e.l+1]]),!i||!i.f?aa(e,n):o.push([i.n,i.f(e,n,r)]);return o}function Aj(e){for(var n=[],r=0;r<e.length;++r){for(var t=e[r],i=[],a=0;a<t.length;++a){var o=t[a];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}n.push(i.join(","))}return n.join(";")}var Dj={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Fj(e,n){if(!e&&!(n&&n.biff<=5&&n.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function zP(e,n,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[n]))return e.SheetNames[n];if(!e.XTI)return"SH33TJSERR6";var t=e.XTI[n];if(r.biff<8)return n>1e4&&(n-=65536),n<0&&(n=-n),n==0?"":e.XTI[n-1];if(!t)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[t[0]][0]){case 357:return i=t[1]==-1?"#REF":e.SheetNames[t[1]],t[1]==t[2]?i:i+":"+e.SheetNames[t[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[t[0]][0];case 355:default:return"SH33TJSSRC"+e[t[0]][0]}switch(e[t[0]][0][0]){case 1025:return i=t[1]==-1?"#REF":e.SheetNames[t[1]]||"SH33TJSERR3",t[1]==t[2]?i:i+":"+e.SheetNames[t[2]];case 14849:return e[t[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[t[0]][0][3]?(i=t[1]==-1?"#REF":e[t[0]][0][3][t[1]]||"SH33TJSERR4",t[1]==t[2]?i:i+":"+e[t[0]][0][3][t[2]]):"SH33TJSERR2"}}function ZM(e,n,r){var t=zP(e,n,r);return t=="#REF"?t:Fj(t,r)}function ea(e,n,r,t,i){var a=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},s=[],d,m,f,_=0,v=0,w,C="";if(!e[0]||!e[0][0])return"";for(var b=-1,O="",L=0,N=e[0].length;L<N;++L){var V=e[0][L];switch(V[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=s.pop(),m=s.pop(),b>=0){switch(e[0][b][1][0]){case 0:O=Yi(" ",e[0][b][1][1]);break;case 1:O=Yi("\r",e[0][b][1][1]);break;default:if(O="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}m=m+O,b=-1}s.push(m+Dj[V[0]]+d);break;case"PtgIsect":d=s.pop(),m=s.pop(),s.push(m+" "+d);break;case"PtgUnion":d=s.pop(),m=s.pop(),s.push(m+","+d);break;case"PtgRange":d=s.pop(),m=s.pop(),s.push(m+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Tm(V[1][1],o,i),s.push(Om(f,a));break;case"PtgRefN":f=r?Tm(V[1][1],r,i):V[1][1],s.push(Om(f,a));break;case"PtgRef3d":_=V[1][1],f=Tm(V[1][2],o,i),C=ZM(t,_,i);var re=C;s.push(C+"!"+Om(f,a));break;case"PtgFunc":case"PtgFuncVar":var oe=V[1][0],F=V[1][1];oe||(oe=0),oe&=127;var S=oe==0?[]:s.slice(-oe);s.length-=oe,F==="User"&&(F=S.shift()),s.push(F+"("+S.join(",")+")");break;case"PtgBool":s.push(V[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(V[1]);break;case"PtgNum":s.push(String(V[1]));break;case"PtgStr":s.push('"'+V[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(V[1]);break;case"PtgAreaN":w=PM(V[1][1],r?{s:r}:o,i),s.push(ox(w,i));break;case"PtgArea":w=PM(V[1][1],o,i),s.push(ox(w,i));break;case"PtgArea3d":_=V[1][1],w=V[1][2],C=ZM(t,_,i),s.push(C+"!"+ox(w,i));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=V[1][2];var E=(t.names||[])[v-1]||(t[0]||[])[v],A=E?E.Name:"SH33TJSNAME"+String(v);A&&A.slice(0,6)=="_xlfn."&&!i.xlfn&&(A=A.slice(6)),s.push(A);break;case"PtgNameX":var R=V[1][1];v=V[1][2];var j;if(i.biff<=5)R<0&&(R=-R),t[R]&&(j=t[R][v]);else{var U="";if(((t[R]||[])[0]||[])[0]==14849||(((t[R]||[])[0]||[])[0]==1025?t[R][v]&&t[R][v].itab>0&&(U=t.SheetNames[t[R][v].itab-1]+"!"):U=t.SheetNames[v-1]+"!"),t[R]&&t[R][v])U+=t[R][v].Name;else if(t[0]&&t[0][v])U+=t[0][v].Name;else{var Y=(zP(t,R,i)||"").split(";;");Y[v-1]?U=Y[v-1]:U+="SH33TJSERRX"}s.push(U);break}j||(j={Name:"SH33TJSERRY"}),s.push(j.Name);break;case"PtgParen":var Ge="(",ke=")";if(b>=0){switch(O="",e[0][b][1][0]){case 2:Ge=Yi(" ",e[0][b][1][1])+Ge;break;case 3:Ge=Yi("\r",e[0][b][1][1])+Ge;break;case 4:ke=Yi(" ",e[0][b][1][1])+ke;break;case 5:ke=Yi("\r",e[0][b][1][1])+ke;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}s.push(Ge+s.pop()+ke);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":f={c:V[1][1],r:V[1][0]};var Xe={c:r.c,r:r.r};if(t.sharedf[Lt(f)]){var De=t.sharedf[Lt(f)];s.push(ea(De,o,Xe,t,i))}else{var st=!1;for(d=0;d!=t.arrayf.length;++d)if(m=t.arrayf[d],!(f.c<m[0].s.c||f.c>m[0].e.c)&&!(f.r<m[0].s.r||f.r>m[0].e.r)){s.push(ea(m[1],o,Xe,t,i)),st=!0;break}st||s.push(V[1])}break;case"PtgArray":s.push("{"+Aj(V[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=L;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+V[1].idx+"[#"+V[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(V));default:throw new Error("Unrecognized Formula Token: "+String(V))}var Ie=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&Ie.indexOf(e[0][L][0])==-1){V=e[0][b];var Ve=!0;switch(V[1][0]){case 4:Ve=!1;case 0:O=Yi(" ",V[1][1]);break;case 5:Ve=!1;case 1:O=Yi("\r",V[1][1]);break;default:if(O="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+V[1][0])}s.push((Ve?O:"")+s.pop()+(Ve?"":O)),b=-1}}if(s.length>1&&i.WTF)throw new Error("bad formula stack");return s[0]}function Rj(e,n,r){var t=e.l+n,i=r.biff==2?1:2,a,o=e.read_shift(i);if(o==65535)return[[],aa(e,n-2)];var s=n0(e,o,r);return n!==o+i&&(a=t0(e,n-o-i,s,r)),e.l=t,[s,a]}function Nj(e,n,r){var t=e.l+n,i=r.biff==2?1:2,a,o=e.read_shift(i);if(o==65535)return[[],aa(e,n-2)];var s=n0(e,o,r);return n!==o+i&&(a=t0(e,n-o-i,s,r)),e.l=t,[s,a]}function Lj(e,n,r,t){var i=e.l+n,a=n0(e,t,r),o;return i!==e.l&&(o=t0(e,i-e.l,a,r)),[a,o]}function Vj(e,n,r){var t=e.l+n,i,a=e.read_shift(2),o=n0(e,a,r);return a==65535?[[],aa(e,n-2)]:(n!==a+2&&(i=t0(e,t-a-2,o,r)),[o,i])}function Bj(e){var n;if(js(e,e.l+6)!==65535)return[na(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return n=e[e.l+2]===1,e.l+=8,[n,"b"];case 2:return n=e[e.l+2],e.l+=8,[n,"e"];case 3:return e.l+=8,["","s"]}return[]}function jj(e){if(e==null){var n=Oe(8);return n.write_shift(1,3),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,65535),n}else if(typeof e=="number")return Tl(e);return Tl(0)}function ux(e,n,r){var t=e.l+n,i=hs(e,6);r.biff==2&&++e.l;var a=Bj(e,8),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var s=Nj(e,t-e.l,r);return{cell:i,val:a[0],formula:s,shared:o>>3&1,tt:a[1]}}function Uj(e,n,r,t,i){var a=Il(n,r,i),o=jj(e.v),s=Oe(6),d=33;s.write_shift(2,d),s.write_shift(4,0);for(var m=Oe(e.bf.length),f=0;f<e.bf.length;++f)m[f]=e.bf[f];var _=Ir([a,o,s,m]);return _}function fg(e,n,r){var t=e.read_shift(4),i=n0(e,t,r),a=e.read_shift(4),o=a>0?t0(e,a,i,r):null;return[i,o]}var zj=fg,gg=fg,Hj=fg,Gj=fg,$j={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},HP={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Wj={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function JM(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(n,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Yj(e){var n="of:="+e.replace(lv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return n.replace(/;/g,"|").replace(/,/g,";")}function mx(e){var n=e.split(":"),r=n[0].split(".")[0];return[r,n[0].split(".")[1]+(n.length>1?":"+(n[1].split(".")[1]||n[1].split(".")[0]):"")]}function qj(e){return e.replace(/\./,"!")}var Am={},xu={},Dm=typeof Map<"u";function mv(e,n,r){var t=0,i=e.length;if(r){if(Dm?r.has(n):Object.prototype.hasOwnProperty.call(r,n)){for(var a=Dm?r.get(n):r[n];t<a.length;++t)if(e[a[t]].t===n)return e.Count++,a[t]}}else for(;t<i;++t)if(e[t].t===n)return e.Count++,t;return e[i]={t:n},e.Count++,e.Unique++,r&&(Dm?(r.has(n)||r.set(n,[]),r.get(n).push(i)):(Object.prototype.hasOwnProperty.call(r,n)||(r[n]=[]),r[n].push(i))),i}function _g(e,n){var r={min:e+1,max:e+1},t=-1;return n.MDW&&(ta=n.MDW),n.width!=null?r.customWidth=1:n.wpx!=null?t=$m(n.wpx):n.wch!=null&&(t=n.wch),t>-1?(r.width=og(t),r.customWidth=1):n.width!=null&&(r.width=n.width),n.hidden&&(r.hidden=!0),n.level!=null&&(r.outlineLevel=r.level=n.level),r}function kl(e,n){if(e){var r=[.7,.7,.75,.75,.3,.3];n=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function $c(e,n,r){var t=r.revssf[n.z!=null?n.z:"General"],i=60,a=e.length;if(t==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){us(n.z,i),r.ssf[i]=n.z,r.revssf[n.z]=t=i;break}}for(i=0;i!=a;++i)if(e[i].numFmtId===t)return i;return e[a]={numFmtId:t,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function GP(e,n,r,t,i,a){try{t.cellNF&&(e.z=Dt[n])}catch(s){if(t.WTF)throw s}if(!(e.t==="z"&&!t.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Pi(e.v)),(!t||t.cellText!==!1)&&e.t!=="z")try{if(Dt[n]==null&&us($R[n]||"General",n),e.t==="e")e.w=e.w||Ws[e.v];else if(n===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Vm(e.v);else if(e.t==="d"){var o=vr(e.v);(o|0)===o?e.w=o.toString(10):e.w=Vm(o)}else{if(e.v===void 0)return"";e.w=Pl(e.v,xu)}else e.t==="d"?e.w=Ha(n,vr(e.v),xu):e.w=Ha(n,e.v,xu)}catch(s){if(t.WTF)throw s}if(t.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=ag(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),t.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=ag(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),t.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(s){if(t.WTF&&a.Fills)throw s}}}function Kj(e,n,r){if(e&&e["!ref"]){var t=jn(e["!ref"]);if(t.e.c<t.s.c||t.e.r<t.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Qj(e,n){var r=jn(n);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=on(r))}var Xj=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Zj=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Jj=/<(?:\w:)?hyperlink [^>]*>/mg,eU=/"(\w*:\w*)"/,tU=/<(?:\w:)?col\b[^>]*[\/]?>/g,nU=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,iU=/<(?:\w:)?pageMargins[^>]*\/>/g,$P=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,rU=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,aU=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function oU(e,n,r,t,i,a,o){if(!e)return e;t||(t={"!id":{}}),Ki!=null&&n.dense==null&&(n.dense=Ki);var s=n.dense?[]:{},d={s:{r:2e6,c:2e6},e:{r:0,c:0}},m="",f="",_=e.match(Zj);_?(m=e.slice(0,_.index),f=e.slice(_.index+_[0].length)):m=f=e;var v=m.match($P);v?hv(v[0],s,i,r):(v=m.match(rU))&&cU(v[0],v[1]||"",s,i,r,o,a);var w=(m.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(w>0){var C=m.slice(w,w+50).match(eU);C&&Qj(s,C[1])}var b=m.match(aU);b&&b[1]&&yU(b[1],i);var O=[];if(n.cellStyles){var L=m.match(tU);L&&gU(O,L)}_&&SU(_[1],s,n,d,a,o);var N=f.match(nU);N&&(s["!autofilter"]=xU(N[0]));var V=[],re=f.match(Xj);if(re)for(w=0;w!=re.length;++w)V[w]=jn(re[w].slice(re[w].indexOf('"')+1));var oe=f.match(Jj);oe&&hU(s,oe,t);var F=f.match(iU);if(F&&(s["!margins"]=pU(Ht(F[0]))),!s["!ref"]&&d.e.c>=d.s.c&&d.e.r>=d.s.r&&(s["!ref"]=on(d)),n.sheetRows>0&&s["!ref"]){var S=jn(s["!ref"]);n.sheetRows<=+S.e.r&&(S.e.r=n.sheetRows-1,S.e.r>d.e.r&&(S.e.r=d.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>d.e.c&&(S.e.c=d.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),s["!fullref"]=s["!ref"],s["!ref"]=on(S))}return O.length>0&&(s["!cols"]=O),V.length>0&&(s["!merges"]=V),s}function sU(e){if(e.length===0)return"";for(var n='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)n+='<mergeCell ref="'+on(e[r])+'"/>';return n+"</mergeCells>"}function hv(e,n,r,t){var i=Ht(e);r.Sheets[t]||(r.Sheets[t]={}),i.codeName&&(r.Sheets[t].CodeName=Bn(pi(i.codeName)))}function cU(e,n,r,t,i){hv(e.slice(0,e.indexOf(">")),r,t,i)}function lU(e,n,r,t,i){var a=!1,o={},s=null;if(t.bookType!=="xlsx"&&n.vbaraw){var d=n.SheetNames[r];try{n.Workbook&&(d=n.Workbook.Sheets[r].CodeName||d)}catch{}a=!0,o.codeName=ls(di(d))}if(e&&e["!outline"]){var m={summaryBelow:1,summaryRight:1};e["!outline"].above&&(m.summaryBelow=0),e["!outline"].left&&(m.summaryRight=0),s=(s||"")+Qe("outlinePr",null,m)}!a&&!s||(i[i.length]=Qe("sheetPr",s,o))}var dU=["objects","scenarios","selectLockedCells","selectUnlockedCells"],uU=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function mU(e){var n={sheet:1};return dU.forEach(function(r){e[r]!=null&&e[r]&&(n[r]="1")}),uU.forEach(function(r){e[r]!=null&&!e[r]&&(n[r]="0")}),e.password&&(n.password=ov(e.password).toString(16).toUpperCase()),Qe("sheetProtection",null,n)}function hU(e,n,r){for(var t=Array.isArray(e),i=0;i!=n.length;++i){var a=Ht(pi(n[i]),!0);if(!a.ref)return;var o=((r||{})["!id"]||[])[a.id];o?(a.Target=o.Target,a.location&&(a.Target+="#"+Bn(a.location))):(a.Target="#"+Bn(a.location),o={Target:a.Target,TargetMode:"Internal"}),a.Rel=o,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var s=jn(a.ref),d=s.s.r;d<=s.e.r;++d)for(var m=s.s.c;m<=s.e.c;++m){var f=Lt({c:m,r:d});t?(e[d]||(e[d]=[]),e[d][m]||(e[d][m]={t:"z",v:void 0}),e[d][m].l=a):(e[f]||(e[f]={t:"z",v:void 0}),e[f].l=a)}}}function pU(e){var n={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(n[r]=parseFloat(e[r]))}),n}function fU(e){return kl(e),Qe("pageMargins",null,e)}function gU(e,n){for(var r=!1,t=0;t!=n.length;++t){var i=Ht(n[t],!0);i.hidden&&(i.hidden=ki(i.hidden));var a=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,sv(i.width)),jc(i);a<=o;)e[a++]=Ei(i)}}function _U(e,n){for(var r=["<cols>"],t,i=0;i!=n.length;++i)(t=n[i])&&(r[r.length]=Qe("col",null,_g(i,t)));return r[r.length]="</cols>",r.join("")}function xU(e){var n={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return n}function vU(e,n,r,t){var i=typeof e.ref=="string"?e.ref:on(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=Oa(i);o.s.r==o.e.r&&(o.e.r=Oa(n["!ref"]).e.r,i=on(o));for(var s=0;s<a.length;++s){var d=a[s];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==t){d.Ref="'"+r.SheetNames[t]+"'!"+i;break}}return s==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:t,Ref:"'"+r.SheetNames[t]+"'!"+i}),Qe("autoFilter",null,{ref:i})}var bU=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function yU(e,n){n.Views||(n.Views=[{}]),(e.match(bU)||[]).forEach(function(r,t){var i=Ht(r);n.Views[t]||(n.Views[t]={}),+i.zoomScale&&(n.Views[t].zoom=+i.zoomScale),ki(i.rightToLeft)&&(n.Views[t].RTL=!0)})}function CU(e,n,r,t){var i={workbookViewId:"0"};return(((t||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=t.Workbook.Views[0].RTL?"1":"0"),Qe("sheetViews",Qe("sheetView",null,i),{})}function wU(e,n,r,t){if(e.c&&r["!comments"].push([n,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",a=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=Ws[e.v];break;case"d":t&&t.cellDates?i=Pi(e.v,-1).toISOString():(e=Ei(e),e.t="n",i=""+(e.v=vr(Pi(e.v)))),typeof e.z>"u"&&(e.z=Dt[14]);break;default:i=e.v;break}var s=Ur("v",di(i)),d={r:n},m=$c(t.cellXfs,e,t);switch(m!==0&&(d.s=m),e.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(t&&t.bookSST){s=Ur("v",""+mv(t.Strings,e.v,t.revStrings)),d.t="s";break}d.t="str";break}if(e.t!=a&&(e.t=a,e.v=o),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,n.length)==n?{t:"array",ref:e.F}:null;s=Qe("f",di(e.f),f)+(e.v!=null?s:"")}return e.l&&r["!links"].push([n,e.l]),e.D&&(d.cm=1),Qe("c",s,d)}var SU=function(){var e=/<(?:\w+:)?c[ \/>]/,n=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,t=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=Bm("v"),o=Bm("f");return function(d,m,f,_,v,w){for(var C=0,b="",O=[],L=[],N=0,V=0,re=0,oe="",F,S,E=0,A=0,R,j,U=0,Y=0,Ge=Array.isArray(w.CellXf),ke,Xe=[],De=[],st=Array.isArray(m),Ie=[],Ve={},me=!1,te=!!f.sheetStubs,ae=d.split(n),se=0,ce=ae.length;se!=ce;++se){b=ae[se].trim();var fe=b.length;if(fe!==0){var Ae=0;e:for(C=0;C<fe;++C)switch(b[C]){case">":if(b[C-1]!="/"){++C;break e}if(f&&f.cellStyles){if(S=Ht(b.slice(Ae,C),!0),E=S.r!=null?parseInt(S.r,10):E+1,A=-1,f.sheetRows&&f.sheetRows<E)continue;Ve={},me=!1,S.ht&&(me=!0,Ve.hpt=parseFloat(S.ht),Ve.hpx=Cu(Ve.hpt)),S.hidden=="1"&&(me=!0,Ve.hidden=!0),S.outlineLevel!=null&&(me=!0,Ve.level=+S.outlineLevel),me&&(Ie[E-1]=Ve)}break;case"<":Ae=C;break}if(Ae>=C)break;if(S=Ht(b.slice(Ae,C),!0),E=S.r!=null?parseInt(S.r,10):E+1,A=-1,!(f.sheetRows&&f.sheetRows<E)){_.s.r>E-1&&(_.s.r=E-1),_.e.r<E-1&&(_.e.r=E-1),f&&f.cellStyles&&(Ve={},me=!1,S.ht&&(me=!0,Ve.hpt=parseFloat(S.ht),Ve.hpx=Cu(Ve.hpt)),S.hidden=="1"&&(me=!0,Ve.hidden=!0),S.outlineLevel!=null&&(me=!0,Ve.level=+S.outlineLevel),me&&(Ie[E-1]=Ve)),O=b.slice(C).split(e);for(var Re=0;Re!=O.length&&O[Re].trim().charAt(0)=="<";++Re);for(O=O.slice(Re),C=0;C!=O.length;++C)if(b=O[C].trim(),b.length!==0){if(L=b.match(r),N=C,V=0,re=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,L!=null&&L.length===2){for(N=0,oe=L[1],V=0;V!=oe.length&&!((re=oe.charCodeAt(V)-64)<1||re>26);++V)N=26*N+re;--N,A=N}else++A;for(V=0;V!=b.length&&b.charCodeAt(V)!==62;++V);if(++V,S=Ht(b.slice(0,V),!0),S.r||(S.r=Lt({r:E-1,c:A})),oe=b.slice(V),F={t:""},(L=oe.match(a))!=null&&L[1]!==""&&(F.v=Bn(L[1])),f.cellFormula){if((L=oe.match(o))!=null&&L[1]!==""){if(F.f=Bn(pi(L[1])).replace(/\r\n/g,`
`),f.xlfn||(F.f=KM(F.f)),L[0].indexOf('t="array"')>-1)F.F=(oe.match(i)||[])[1],F.F.indexOf(":")>-1&&Xe.push([jn(F.F),F.F]);else if(L[0].indexOf('t="shared"')>-1){j=Ht(L[0]);var Te=Bn(pi(L[1]));f.xlfn||(Te=KM(Te)),De[parseInt(j.si,10)]=[j,Te,S.r]}}else(L=oe.match(/<f[^>]*\/>/))&&(j=Ht(L[0]),De[j.si]&&(F.f=bB(De[j.si][1],De[j.si][2],S.r)));var we=Ui(S.r);for(V=0;V<Xe.length;++V)we.r>=Xe[V][0].s.r&&we.r<=Xe[V][0].e.r&&we.c>=Xe[V][0].s.c&&we.c<=Xe[V][0].e.c&&(F.F=Xe[V][1])}if(S.t==null&&F.v===void 0)if(F.f||F.F)F.v=0,F.t="n";else if(te)F.t="z";else continue;else F.t=S.t||"n";switch(_.s.c>A&&(_.s.c=A),_.e.c<A&&(_.e.c=A),F.t){case"n":if(F.v==""||F.v==null){if(!te)continue;F.t="z"}else F.v=parseFloat(F.v);break;case"s":if(typeof F.v>"u"){if(!te)continue;F.t="z"}else R=Am[parseInt(F.v,10)],F.v=R.t,F.r=R.r,f.cellHTML&&(F.h=R.h);break;case"str":F.t="s",F.v=F.v!=null?pi(F.v):"",f.cellHTML&&(F.h=Ux(F.v));break;case"inlineStr":L=oe.match(t),F.t="s",L!=null&&(R=av(L[1]))?(F.v=R.t,f.cellHTML&&(F.h=R.h)):F.v="";break;case"b":F.v=ki(F.v);break;case"d":f.cellDates?F.v=Pi(F.v,1):(F.v=vr(Pi(F.v,1)),F.t="n");break;case"e":(!f||f.cellText!==!1)&&(F.w=F.v),F.v=Yk[F.v];break}if(U=Y=0,ke=null,Ge&&S.s!==void 0&&(ke=w.CellXf[S.s],ke!=null&&(ke.numFmtId!=null&&(U=ke.numFmtId),f.cellStyles&&ke.fillId!=null&&(Y=ke.fillId))),GP(F,U,Y,f,v,w),f.cellDates&&Ge&&F.t=="n"&&Dl(Dt[U])&&(F.t="d",F.v=mg(F.v)),S.cm&&f.xlmeta){var dt=(f.xlmeta.Cell||[])[+S.cm-1];dt&&dt.type=="XLDAPR"&&(F.D=!0)}if(st){var ee=Ui(S.r);m[ee.r]||(m[ee.r]=[]),m[ee.r][ee.c]=F}else m[S.r]=F}}}}Ie.length>0&&(m["!rows"]=Ie)}}();function MU(e,n,r,t){var i=[],a=[],o=jn(e["!ref"]),s="",d,m="",f=[],_=0,v=0,w=e["!rows"],C=Array.isArray(e),b={r:m},O,L=-1;for(v=o.s.c;v<=o.e.c;++v)f[v]=ji(v);for(_=o.s.r;_<=o.e.r;++_){for(a=[],m=er(_),v=o.s.c;v<=o.e.c;++v){d=f[v]+m;var N=C?(e[_]||[])[v]:e[d];N!==void 0&&(s=wU(N,d,e,n,r,t))!=null&&a.push(s)}(a.length>0||w&&w[_])&&(b={r:m},w&&w[_]&&(O=w[_],O.hidden&&(b.hidden=1),L=-1,O.hpx?L=Wm(O.hpx):O.hpt&&(L=O.hpt),L>-1&&(b.ht=L,b.customHeight=1),O.level&&(b.outlineLevel=O.level)),i[i.length]=Qe("row",a.join(""),b))}if(w)for(;_<w.length;++_)w&&w[_]&&(b={r:_+1},O=w[_],O.hidden&&(b.hidden=1),L=-1,O.hpx?L=Wm(O.hpx):O.hpt&&(L=O.hpt),L>-1&&(b.ht=L,b.customHeight=1),O.level&&(b.outlineLevel=O.level),i[i.length]=Qe("row","",b));return i.join("")}function WP(e,n,r,t){var i=[tr,Qe("worksheet",null,{xmlns:Fl[0],"xmlns:r":xr.r})],a=r.SheetNames[e],o=0,s="",d=r.Sheets[a];d==null&&(d={});var m=d["!ref"]||"A1",f=jn(m);if(f.e.c>16383||f.e.r>1048575){if(n.WTF)throw new Error("Range "+m+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),m=on(f)}t||(t={}),d["!comments"]=[];var _=[];lU(d,r,e,n,i),i[i.length]=Qe("dimension",null,{ref:m}),i[i.length]=CU(d,n,e,r),n.sheetFormat&&(i[i.length]=Qe("sheetFormatPr",null,{defaultRowHeight:n.sheetFormat.defaultRowHeight||"16",baseColWidth:n.sheetFormat.baseColWidth||"10",outlineLevelRow:n.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(i[i.length]=_U(d,d["!cols"])),i[o=i.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(s=MU(d,n,e,r,t),s.length>0&&(i[i.length]=s)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),d["!protect"]&&(i[i.length]=mU(d["!protect"])),d["!autofilter"]!=null&&(i[i.length]=vU(d["!autofilter"],d,r,e)),d["!merges"]!=null&&d["!merges"].length>0&&(i[i.length]=sU(d["!merges"]));var v=-1,w,C=-1;return d["!links"].length>0&&(i[i.length]="<hyperlinks>",d["!links"].forEach(function(b){b[1].Target&&(w={ref:b[0]},b[1].Target.charAt(0)!="#"&&(C=li(t,-1,di(b[1].Target).replace(/#.*$/,""),dn.HLINK),w["r:id"]="rId"+C),(v=b[1].Target.indexOf("#"))>-1&&(w.location=di(b[1].Target.slice(v+1))),b[1].Tooltip&&(w.tooltip=di(b[1].Tooltip)),i[i.length]=Qe("hyperlink",null,w))}),i[i.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(i[i.length]=fU(d["!margins"])),(!n||n.ignoreEC||n.ignoreEC==null)&&(i[i.length]=Ur("ignoredErrors",Qe("ignoredError",null,{numberStoredAsText:1,sqref:m}))),_.length>0&&(C=li(t,-1,"../drawings/drawing"+(e+1)+".xml",dn.DRAW),i[i.length]=Qe("drawing",null,{"r:id":"rId"+C}),d["!drawing"]=_),d["!comments"].length>0&&(C=li(t,-1,"../drawings/vmlDrawing"+(e+1)+".vml",dn.VML),i[i.length]=Qe("legacyDrawing",null,{"r:id":"rId"+C}),d["!legacy"]=C),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function kU(e,n){var r={},t=e.l+n;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=t,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function PU(e,n,r){var t=Oe(145),i=(r["!rows"]||[])[e]||{};t.write_shift(4,e),t.write_shift(4,0);var a=320;i.hpx?a=Wm(i.hpx)*20:i.hpt&&(a=i.hpt*20),t.write_shift(2,a),t.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),t.write_shift(1,o),t.write_shift(1,0);var s=0,d=t.l;t.l+=4;for(var m={r:e,c:0},f=0;f<16;++f)if(!(n.s.c>f+1<<10||n.e.c<f<<10)){for(var _=-1,v=-1,w=f<<10;w<f+1<<10;++w){m.c=w;var C=Array.isArray(r)?(r[m.r]||[])[m.c]:r[Lt(m)];C&&(_<0&&(_=w),v=w)}_<0||(++s,t.write_shift(4,_),t.write_shift(4,v))}var b=t.l;return t.l=d,t.write_shift(4,s),t.l=b,t.length>t.l?t.slice(0,t.l):t}function EU(e,n,r,t){var i=PU(t,r,n);(i.length>17||(n["!rows"]||[])[t])&&Le(e,0,i)}var TU=Vl,OU=ku;function IU(){}function AU(e,n){var r={},t=e[e.l];return++e.l,r.above=!(t&64),r.left=!(t&128),e.l+=18,r.name=R7(e,n-19),r}function DU(e,n,r){r==null&&(r=Oe(84+4*e.length));var t=192;n&&(n.above&&(t&=-65),n.left&&(t&=-129)),r.write_shift(1,t);for(var i=1;i<3;++i)r.write_shift(1,0);return ng({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),zk(e,r),r.slice(0,r.l)}function FU(e){var n=Co(e);return[n]}function RU(e,n,r){return r==null&&(r=Oe(8)),Rl(n,r)}function NU(e){var n=Nl(e);return[n]}function LU(e,n,r){return r==null&&(r=Oe(4)),Ll(n,r)}function VU(e){var n=Co(e),r=e.read_shift(1);return[n,r,"b"]}function BU(e,n,r){return r==null&&(r=Oe(9)),Rl(n,r),r.write_shift(1,e.v?1:0),r}function jU(e){var n=Nl(e),r=e.read_shift(1);return[n,r,"b"]}function UU(e,n,r){return r==null&&(r=Oe(5)),Ll(n,r),r.write_shift(1,e.v?1:0),r}function zU(e){var n=Co(e),r=e.read_shift(1);return[n,r,"e"]}function HU(e,n,r){return r==null&&(r=Oe(9)),Rl(n,r),r.write_shift(1,e.v),r}function GU(e){var n=Nl(e),r=e.read_shift(1);return[n,r,"e"]}function $U(e,n,r){return r==null&&(r=Oe(8)),Ll(n,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function WU(e){var n=Co(e),r=e.read_shift(4);return[n,r,"s"]}function YU(e,n,r){return r==null&&(r=Oe(12)),Rl(n,r),r.write_shift(4,n.v),r}function qU(e){var n=Nl(e),r=e.read_shift(4);return[n,r,"s"]}function KU(e,n,r){return r==null&&(r=Oe(8)),Ll(n,r),r.write_shift(4,n.v),r}function QU(e){var n=Co(e),r=na(e);return[n,r,"n"]}function XU(e,n,r){return r==null&&(r=Oe(16)),Rl(n,r),Tl(e.v,r),r}function YP(e){var n=Nl(e),r=na(e);return[n,r,"n"]}function ZU(e,n,r){return r==null&&(r=Oe(12)),Ll(n,r),Tl(e.v,r),r}function JU(e){var n=Co(e),r=ev(e);return[n,r,"n"]}function ez(e,n,r){return r==null&&(r=Oe(12)),Rl(n,r),Hk(e.v,r),r}function tz(e){var n=Nl(e),r=ev(e);return[n,r,"n"]}function nz(e,n,r){return r==null&&(r=Oe(8)),Ll(n,r),Hk(e.v,r),r}function iz(e){var n=Co(e),r=Xx(e);return[n,r,"is"]}function rz(e){var n=Co(e),r=ra(e);return[n,r,"str"]}function az(e,n,r){return r==null&&(r=Oe(12+4*e.v.length)),Rl(n,r),Ar(e.v,r),r.length>r.l?r.slice(0,r.l):r}function oz(e){var n=Nl(e),r=ra(e);return[n,r,"str"]}function sz(e,n,r){return r==null&&(r=Oe(8+4*e.v.length)),Ll(n,r),Ar(e.v,r),r.length>r.l?r.slice(0,r.l):r}function cz(e,n,r){var t=e.l+n,i=Co(e);i.r=r["!row"];var a=e.read_shift(1),o=[i,a,"b"];if(r.cellFormula){e.l+=2;var s=gg(e,t-e.l,r);o[3]=ea(s,null,i,r.supbooks,r)}else e.l=t;return o}function lz(e,n,r){var t=e.l+n,i=Co(e);i.r=r["!row"];var a=e.read_shift(1),o=[i,a,"e"];if(r.cellFormula){e.l+=2;var s=gg(e,t-e.l,r);o[3]=ea(s,null,i,r.supbooks,r)}else e.l=t;return o}function dz(e,n,r){var t=e.l+n,i=Co(e);i.r=r["!row"];var a=na(e),o=[i,a,"n"];if(r.cellFormula){e.l+=2;var s=gg(e,t-e.l,r);o[3]=ea(s,null,i,r.supbooks,r)}else e.l=t;return o}function uz(e,n,r){var t=e.l+n,i=Co(e);i.r=r["!row"];var a=ra(e),o=[i,a,"str"];if(r.cellFormula){e.l+=2;var s=gg(e,t-e.l,r);o[3]=ea(s,null,i,r.supbooks,r)}else e.l=t;return o}var mz=Vl,hz=ku;function pz(e,n){return n==null&&(n=Oe(4)),n.write_shift(4,e),n}function fz(e,n){var r=e.l+n,t=Vl(e,16),i=Zx(e),a=ra(e),o=ra(e),s=ra(e);e.l=r;var d={rfx:t,relId:i,loc:a,display:s};return o&&(d.Tooltip=o),d}function gz(e,n){var r=Oe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));ku({s:Ui(e[0]),e:Ui(e[0])},r),Jx("rId"+n,r);var t=e[1].Target.indexOf("#"),i=t==-1?"":e[1].Target.slice(t+1);return Ar(i||"",r),Ar(e[1].Tooltip||"",r),Ar("",r),r.slice(0,r.l)}function _z(){}function xz(e,n,r){var t=e.l+n,i=Gk(e,16),a=e.read_shift(1),o=[i];if(o[2]=a,r.cellFormula){var s=zj(e,t-e.l,r);o[1]=s}else e.l=t;return o}function vz(e,n,r){var t=e.l+n,i=Vl(e,16),a=[i];if(r.cellFormula){var o=Gj(e,t-e.l,r);a[1]=o,e.l=t}else e.l=t;return a}function bz(e,n,r){r==null&&(r=Oe(18));var t=_g(e,n);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(t.width||10)*256),r.write_shift(4,0);var i=0;return n.hidden&&(i|=1),typeof t.width=="number"&&(i|=2),n.level&&(i|=n.level<<8),r.write_shift(2,i),r}var qP=["left","right","top","bottom","header","footer"];function yz(e){var n={};return qP.forEach(function(r){n[r]=na(e,8)}),n}function Cz(e,n){return n==null&&(n=Oe(6*8)),kl(e),qP.forEach(function(r){Tl(e[r],n)}),n}function wz(e){var n=e.read_shift(2);return e.l+=28,{RTL:n&32}}function Sz(e,n,r){r==null&&(r=Oe(30));var t=924;return(((n||{}).Views||[])[0]||{}).RTL&&(t|=32),r.write_shift(2,t),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Mz(e){var n=Oe(24);return n.write_shift(4,4),n.write_shift(4,1),ku(e,n),n}function kz(e,n){return n==null&&(n=Oe(16*4+2)),n.write_shift(2,e.password?ov(e.password):0),n.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?n.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):n.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),n}function Pz(){}function Ez(){}function Tz(e,n,r,t,i,a,o){if(!e)return e;var s=n||{};t||(t={"!id":{}}),Ki!=null&&s.dense==null&&(s.dense=Ki);var d=s.dense?[]:{},m,f={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=[],v=!1,w=!1,C,b,O,L,N,V,re,oe,F,S=[];s.biff=12,s["!row"]=0;var E=0,A=!1,R=[],j={},U=s.supbooks||i.supbooks||[[]];if(U.sharedf=j,U.arrayf=R,U.SheetNames=i.SheetNames||i.Sheets.map(function(Ve){return Ve.name}),!s.supbooks&&(s.supbooks=U,i.Names))for(var Y=0;Y<i.Names.length;++Y)U[0][Y+1]=i.Names[Y];var Ge=[],ke=[],Xe=!1;Ym[16]={n:"BrtShortReal",f:YP};var De,st;if($s(e,function(me,te,ae){if(!w)switch(ae){case 148:m=me;break;case 0:C=me,s.sheetRows&&s.sheetRows<=C.r&&(w=!0),oe=er(L=C.r),s["!row"]=C.r,(me.hidden||me.hpt||me.level!=null)&&(me.hpt&&(me.hpx=Cu(me.hpt)),ke[me.r]=me);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:me[2]},me[2]){case"n":b.v=me[1];break;case"s":re=Am[me[1]],b.v=re.t,b.r=re.r;break;case"b":b.v=!!me[1];break;case"e":b.v=me[1],s.cellText!==!1&&(b.w=Ws[b.v]);break;case"str":b.t="s",b.v=me[1];break;case"is":b.t="s",b.v=me[1].t;break}if((O=o.CellXf[me[0].iStyleRef])&&GP(b,O.numFmtId,null,s,a,o),N=me[0].c==-1?N+1:me[0].c,s.dense?(d[L]||(d[L]=[]),d[L][N]=b):d[ji(N)+oe]=b,s.cellFormula){for(A=!1,E=0;E<R.length;++E){var se=R[E];C.r>=se[0].s.r&&C.r<=se[0].e.r&&N>=se[0].s.c&&N<=se[0].e.c&&(b.F=on(se[0]),A=!0)}!A&&me.length>3&&(b.f=me[3])}if(f.s.r>C.r&&(f.s.r=C.r),f.s.c>N&&(f.s.c=N),f.e.r<C.r&&(f.e.r=C.r),f.e.c<N&&(f.e.c=N),s.cellDates&&O&&b.t=="n"&&Dl(Dt[O.numFmtId])){var ce=Lc(b.v);ce&&(b.t="d",b.v=new Date(ce.y,ce.m-1,ce.d,ce.H,ce.M,ce.S,ce.u))}De&&(De.type=="XLDAPR"&&(b.D=!0),De=void 0),st&&(st=void 0);break;case 1:case 12:if(!s.sheetStubs||v)break;b={t:"z",v:void 0},N=me[0].c==-1?N+1:me[0].c,s.dense?(d[L]||(d[L]=[]),d[L][N]=b):d[ji(N)+oe]=b,f.s.r>C.r&&(f.s.r=C.r),f.s.c>N&&(f.s.c=N),f.e.r<C.r&&(f.e.r=C.r),f.e.c<N&&(f.e.c=N),De&&(De.type=="XLDAPR"&&(b.D=!0),De=void 0),st&&(st=void 0);break;case 176:S.push(me);break;case 49:De=((s.xlmeta||{}).Cell||[])[me-1];break;case 494:var fe=t["!id"][me.relId];for(fe?(me.Target=fe.Target,me.loc&&(me.Target+="#"+me.loc),me.Rel=fe):me.relId==""&&(me.Target="#"+me.loc),L=me.rfx.s.r;L<=me.rfx.e.r;++L)for(N=me.rfx.s.c;N<=me.rfx.e.c;++N)s.dense?(d[L]||(d[L]=[]),d[L][N]||(d[L][N]={t:"z",v:void 0}),d[L][N].l=me):(V=Lt({c:N,r:L}),d[V]||(d[V]={t:"z",v:void 0}),d[V].l=me);break;case 426:if(!s.cellFormula)break;R.push(me),F=s.dense?d[L][N]:d[ji(N)+oe],F.f=ea(me[1],f,{r:C.r,c:N},U,s),F.F=on(me[0]);break;case 427:if(!s.cellFormula)break;j[Lt(me[0].s)]=me[1],F=s.dense?d[L][N]:d[ji(N)+oe],F.f=ea(me[1],f,{r:C.r,c:N},U,s);break;case 60:if(!s.cellStyles)break;for(;me.e>=me.s;)Ge[me.e--]={width:me.w/256,hidden:!!(me.flags&1),level:me.level},Xe||(Xe=!0,sv(me.w/256)),jc(Ge[me.e+1]);break;case 161:d["!autofilter"]={ref:on(me)};break;case 476:d["!margins"]=me;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),me.name&&(i.Sheets[r].CodeName=me.name),(me.above||me.left)&&(d["!outline"]={above:me.above,left:me.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),me.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:v=!0;break;case 36:v=!1;break;case 37:_.push(ae),v=!0;break;case 38:_.pop(),v=!1;break;default:if(!te.T){if(!v||s.WTF)throw new Error("Unexpected record 0x"+ae.toString(16))}}},s),delete s.supbooks,delete s["!row"],!d["!ref"]&&(f.s.r<2e6||m&&(m.e.r>0||m.e.c>0||m.s.r>0||m.s.c>0))&&(d["!ref"]=on(m||f)),s.sheetRows&&d["!ref"]){var Ie=jn(d["!ref"]);s.sheetRows<=+Ie.e.r&&(Ie.e.r=s.sheetRows-1,Ie.e.r>f.e.r&&(Ie.e.r=f.e.r),Ie.e.r<Ie.s.r&&(Ie.s.r=Ie.e.r),Ie.e.c>f.e.c&&(Ie.e.c=f.e.c),Ie.e.c<Ie.s.c&&(Ie.s.c=Ie.e.c),d["!fullref"]=d["!ref"],d["!ref"]=on(Ie))}return S.length>0&&(d["!merges"]=S),Ge.length>0&&(d["!cols"]=Ge),ke.length>0&&(d["!rows"]=ke),d}function Oz(e,n,r,t,i,a,o){if(n.v===void 0)return!1;var s="";switch(n.t){case"b":s=n.v?"1":"0";break;case"d":n=Ei(n),n.z=n.z||Dt[14],n.v=vr(Pi(n.v)),n.t="n";break;case"n":case"e":s=""+n.v;break;default:s=n.v;break}var d={r,c:t};switch(d.s=$c(i.cellXfs,n,i),n.l&&a["!links"].push([Lt(d),n.l]),n.c&&a["!comments"].push([Lt(d),n.c]),n.t){case"s":case"str":return i.bookSST?(s=mv(i.Strings,n.v,i.revStrings),d.t="s",d.v=s,o?Le(e,18,KU(n,d)):Le(e,7,YU(n,d))):(d.t="str",o?Le(e,17,sz(n,d)):Le(e,6,az(n,d))),!0;case"n":return n.v==(n.v|0)&&n.v>-1e3&&n.v<1e3?o?Le(e,13,nz(n,d)):Le(e,2,ez(n,d)):o?Le(e,16,ZU(n,d)):Le(e,5,XU(n,d)),!0;case"b":return d.t="b",o?Le(e,15,UU(n,d)):Le(e,4,BU(n,d)),!0;case"e":return d.t="e",o?Le(e,14,$U(n,d)):Le(e,3,HU(n,d)),!0}return o?Le(e,12,LU(n,d)):Le(e,1,RU(n,d)),!0}function Iz(e,n,r,t){var i=jn(n["!ref"]||"A1"),a,o="",s=[];Le(e,145);var d=Array.isArray(n),m=i.e.r;n["!rows"]&&(m=Math.max(i.e.r,n["!rows"].length-1));for(var f=i.s.r;f<=m;++f){o=er(f),EU(e,n,i,f);var _=!1;if(f<=i.e.r)for(var v=i.s.c;v<=i.e.c;++v){f===i.s.r&&(s[v]=ji(v)),a=s[v]+o;var w=d?(n[f]||[])[v]:n[a];if(!w){_=!1;continue}_=Oz(e,w,f,v,t,n,_)}}Le(e,146)}function Az(e,n){!n||!n["!merges"]||(Le(e,177,pz(n["!merges"].length)),n["!merges"].forEach(function(r){Le(e,176,hz(r))}),Le(e,178))}function Dz(e,n){!n||!n["!cols"]||(Le(e,390),n["!cols"].forEach(function(r,t){r&&Le(e,60,bz(t,r))}),Le(e,391))}function Fz(e,n){!n||!n["!ref"]||(Le(e,648),Le(e,649,Mz(jn(n["!ref"]))),Le(e,650))}function Rz(e,n,r){n["!links"].forEach(function(t){if(t[1].Target){var i=li(r,-1,t[1].Target.replace(/#.*$/,""),dn.HLINK);Le(e,494,gz(t,i))}}),delete n["!links"]}function Nz(e,n,r,t){if(n["!comments"].length>0){var i=li(t,-1,"../drawings/vmlDrawing"+(r+1)+".vml",dn.VML);Le(e,551,Jx("rId"+i)),n["!legacy"]=i}}function Lz(e,n,r,t){if(n["!autofilter"]){var i=n["!autofilter"],a=typeof i.ref=="string"?i.ref:on(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,s=Oa(a);s.s.r==s.e.r&&(s.e.r=Oa(n["!ref"]).e.r,a=on(s));for(var d=0;d<o.length;++d){var m=o[d];if(m.Name=="_xlnm._FilterDatabase"&&m.Sheet==t){m.Ref="'"+r.SheetNames[t]+"'!"+a;break}}d==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:t,Ref:"'"+r.SheetNames[t]+"'!"+a}),Le(e,161,ku(jn(a))),Le(e,162)}}function Vz(e,n,r){Le(e,133),Le(e,137,Sz(n,r)),Le(e,138),Le(e,134)}function Bz(e,n){n["!protect"]&&Le(e,535,kz(n["!protect"]))}function jz(e,n,r,t){var i=Ta(),a=r.SheetNames[e],o=r.Sheets[a]||{},s=a;try{r&&r.Workbook&&(s=r.Workbook.Sheets[e].CodeName||s)}catch{}var d=jn(o["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(n.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Le(i,129),(r.vbaraw||o["!outline"])&&Le(i,147,DU(s,o["!outline"])),Le(i,148,OU(d)),Vz(i,o,r.Workbook),Dz(i,o,e,n,r),Iz(i,o,e,n,r),Bz(i,o),Lz(i,o,r,e),Az(i,o),Rz(i,o,t),o["!margins"]&&Le(i,476,Cz(o["!margins"])),(!n||n.ignoreEC||n.ignoreEC==null)&&Fz(i,o),Nz(i,o,e,t),Le(i,130),i.end()}function Uz(e){var n=[],r=e.match(/^<c:numCache>/),t;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var o=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(n[+o[1]]=r?+o[2]:o[2])});var i=Bn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){t=a.replace(/<.*?>/g,"")}),[n,i,t]}function zz(e,n,r,t,i,a){var o=a||{"!type":"chart"};if(!e)return a;var s=0,d=0,m="A",f={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(_){var v=Uz(_);f.s.r=f.s.c=0,f.e.c=s,m=ji(s),v[0].forEach(function(w,C){o[m+er(C)]={t:"n",v:w,z:v[1]},d=C}),f.e.r<d&&(f.e.r=d),++s}),s>0&&(o["!ref"]=on(f)),o}function Hz(e,n,r,t,i){if(!e)return e;t||(t={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},o,s=e.match($P);return s&&hv(s[0],a,i,r),(o=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=o[1]),t["!id"][a["!rel"]]&&(a["!drawel"]=t["!id"][a["!rel"]]),a}function Gz(e,n){e.l+=10;var r=ra(e,n-10);return{name:r}}function $z(e,n,r,t,i){if(!e)return e;t||(t={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},o=[],s=!1;return $s(e,function(m,f,_){switch(_){case 550:a["!rel"]=m;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),m.name&&(i.Sheets[r].CodeName=m.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:o.push(_);break;case 38:o.pop();break;default:if(f.T>0)o.push(_);else if(f.T<0)o.pop();else if(!s||n.WTF)throw new Error("Unexpected record 0x"+_.toString(16))}},n),t["!id"][a["!rel"]]&&(a["!drawel"]=t["!id"][a["!rel"]]),a}var pv=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Wz=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Yz=[],qz=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function ek(e,n){for(var r=0;r!=e.length;++r)for(var t=e[r],i=0;i!=n.length;++i){var a=n[i];if(t[a[0]]==null)t[a[0]]=a[1];else switch(a[2]){case"bool":typeof t[a[0]]=="string"&&(t[a[0]]=ki(t[a[0]]));break;case"int":typeof t[a[0]]=="string"&&(t[a[0]]=parseInt(t[a[0]],10));break}}}function tk(e,n){for(var r=0;r!=n.length;++r){var t=n[r];if(e[t[0]]==null)e[t[0]]=t[1];else switch(t[2]){case"bool":typeof e[t[0]]=="string"&&(e[t[0]]=ki(e[t[0]]));break;case"int":typeof e[t[0]]=="string"&&(e[t[0]]=parseInt(e[t[0]],10));break}}}function KP(e){tk(e.WBProps,pv),tk(e.CalcPr,qz),ek(e.WBView,Wz),ek(e.Sheets,Yz),xu.date1904=ki(e.WBProps.date1904)}function Kz(e){return!e.Workbook||!e.Workbook.WBProps?"false":ki(e.Workbook.WBProps.date1904)?"true":"false"}var Qz="][*?/\\".split("");function QP(e,n){if(e.length>31){if(n)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return Qz.forEach(function(t){if(e.indexOf(t)!=-1){if(!n)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}function Xz(e,n,r){e.forEach(function(t,i){QP(t);for(var a=0;a<i;++a)if(t==e[a])throw new Error("Duplicate Sheet Name: "+t);if(r){var o=n&&n[i]&&n[i].CodeName||t;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Zz(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var n=e.Workbook&&e.Workbook.Sheets||[];Xz(e.SheetNames,n,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Kj(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var Jz=/<\w+:workbook/;function eH(e,n){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},t=!1,i="xmlns",a={},o=0;if(e.replace(oa,function(d,m){var f=Ht(d);switch(ms(f[0])){case"<?xml":break;case"<workbook":d.match(Jz)&&(i="xmlns"+d.match(/<(\w+):/)[1]),r.xmlns=f[i];break;case"</workbook>":break;case"<fileVersion":delete f[0],r.AppVersion=f;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":pv.forEach(function(_){if(f[_[0]]!=null)switch(_[2]){case"bool":r.WBProps[_[0]]=ki(f[_[0]]);break;case"int":r.WBProps[_[0]]=parseInt(f[_[0]],10);break;default:r.WBProps[_[0]]=f[_[0]]}}),f.codeName&&(r.WBProps.CodeName=pi(f.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete f[0],r.WBView.push(f);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(f.state){case"hidden":f.Hidden=1;break;case"veryHidden":f.Hidden=2;break;default:f.Hidden=0}delete f.state,f.name=Bn(pi(f.name)),delete f[0],r.Sheets.push(f);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":t=!0;break;case"</definedNames>":t=!1;break;case"<definedName":a={},a.Name=pi(f.name),f.comment&&(a.Comment=f.comment),f.localSheetId&&(a.Sheet=+f.localSheetId),ki(f.hidden||"0")&&(a.Hidden=!0),o=m+d.length;break;case"</definedName>":a.Ref=Bn(pi(e.slice(o,m))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete f[0],r.CalcPr=f;break;case"<calcPr/>":delete f[0],r.CalcPr=f;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":t=!0;break;case"</ext>":t=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":t=!0;break;case"</AlternateContent>":t=!1;break;case"<revisionPtr":break;default:if(!t&&n.WTF)throw new Error("unrecognized "+f[0]+" in workbook")}return d}),Fl.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return KP(r),r}function XP(e){var n=[tr];n[n.length]=Qe("workbook",null,{xmlns:Fl[0],"xmlns:r":xr.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,t={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(pv.forEach(function(s){e.Workbook.WBProps[s[0]]!=null&&e.Workbook.WBProps[s[0]]!=s[1]&&(t[s[0]]=e.Workbook.WBProps[s[0]])}),e.Workbook.WBProps.CodeName&&(t.codeName=e.Workbook.WBProps.CodeName,delete t.CodeName)),n[n.length]=Qe("workbookPr",null,t);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(n[n.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==e.SheetNames.length&&(a=0),n[n.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',n[n.length]="</bookViews>"}for(n[n.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var o={name:di(e.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}n[n.length]=Qe("sheet",null,o)}return n[n.length]="</sheets>",r&&(n[n.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(s){var d={name:s.Name};s.Comment&&(d.comment=s.Comment),s.Sheet!=null&&(d.localSheetId=""+s.Sheet),s.Hidden&&(d.hidden="1"),s.Ref&&(n[n.length]=Qe("definedName",di(s.Ref),d))}),n[n.length]="</definedNames>"),n.length>2&&(n[n.length]="</workbook>",n[1]=n[1].replace("/>",">")),n.join("")}function tH(e,n){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=bx(e,n-8),r.name=ra(e),r}function nH(e,n){return n||(n=Oe(127)),n.write_shift(4,e.Hidden),n.write_shift(4,e.iTabID),Jx(e.strRelID,n),Ar(e.name.slice(0,31),n),n.length>n.l?n.slice(0,n.l):n}function iH(e,n){var r={},t=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=n>8?ra(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(t&65536),r.backupFile=!!(t&64),r.checkCompatibility=!!(t&4096),r.date1904=!!(t&1),r.filterPrivacy=!!(t&8),r.hidePivotFieldList=!!(t&1024),r.promptedSolutions=!!(t&16),r.publishItems=!!(t&2048),r.refreshAllConnections=!!(t&262144),r.saveExternalLinkValues=!!(t&128),r.showBorderUnselectedTables=!!(t&4),r.showInkAnnotation=!!(t&32),r.showObjects=["all","placeholders","none"][t>>13&3],r.showPivotChartFilter=!!(t&32768),r.updateLinks=["userSet","never","always"][t>>8&3],r}function rH(e,n){n||(n=Oe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),n.write_shift(4,r),n.write_shift(4,0),zk(e&&e.CodeName||"ThisWorkbook",n),n.slice(0,n.l)}function aH(e,n){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=n-8,r}function oH(e,n,r){var t=e.l+n;e.l+=4,e.l+=1;var i=e.read_shift(4),a=N7(e),o=Hj(e,0,r),s=Zx(e);e.l=t;var d={Name:a,Ptg:o};return i<268435455&&(d.Sheet=i),s&&(d.Comment=s),d}function sH(e,n){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},t=[],i=!1;n||(n={}),n.biff=12;var a=[],o=[[]];return o.SheetNames=[],o.XTI=[],Ym[16]={n:"BrtFRTArchID$",f:aH},$s(e,function(d,m,f){switch(f){case 156:o.SheetNames.push(d.name),r.Sheets.push(d);break;case 153:r.WBProps=d;break;case 39:d.Sheet!=null&&(n.SID=d.Sheet),d.Ref=ea(d.Ptg,null,null,o,n),delete n.SID,delete d.Ptg,a.push(d);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([f,d]):o[0]=[f,d],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(d),o.XTI=o.XTI.concat(d);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:t.push(f),i=!0;break;case 36:t.pop(),i=!1;break;case 37:t.push(f),i=!0;break;case 38:t.pop(),i=!1;break;case 16:break;default:if(!m.T){if(!i||n.WTF&&t[t.length-1]!=37&&t[t.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}},n),KP(r),r.Names=a,r.supbooks=o,r}function cH(e,n){Le(e,143);for(var r=0;r!=n.SheetNames.length;++r){var t=n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r]&&n.Workbook.Sheets[r].Hidden||0,i={Hidden:t,iTabID:r+1,strRelID:"rId"+(r+1),name:n.SheetNames[r]};Le(e,156,nH(i))}Le(e,144)}function lH(e,n){n||(n=Oe(127));for(var r=0;r!=4;++r)n.write_shift(4,0);return Ar("SheetJS",n),Ar(Nm.version,n),Ar(Nm.version,n),Ar("7262",n),n.length>n.l?n.slice(0,n.l):n}function dH(e,n){n||(n=Oe(29)),n.write_shift(-4,0),n.write_shift(-4,460),n.write_shift(4,28800),n.write_shift(4,17600),n.write_shift(4,500),n.write_shift(4,e),n.write_shift(4,e);var r=120;return n.write_shift(1,r),n.length>n.l?n.slice(0,n.l):n}function uH(e,n){if(!(!n.Workbook||!n.Workbook.Sheets)){for(var r=n.Workbook.Sheets,t=0,i=-1,a=-1;t<r.length;++t)!r[t]||!r[t].Hidden&&i==-1?i=t:r[t].Hidden==1&&a==-1&&(a=t);a>i||(Le(e,135),Le(e,158,dH(i)),Le(e,136))}}function mH(e,n){var r=Ta();return Le(r,131),Le(r,128,lH()),Le(r,153,rH(e.Workbook&&e.Workbook.WBProps||null)),uH(r,e,n),cH(r,e,n),Le(r,132),r.end()}function hH(e,n,r){return n.slice(-4)===".bin"?sH(e,r):eH(e,r)}function pH(e,n,r,t,i,a,o,s){return n.slice(-4)===".bin"?Tz(e,t,r,i,a,o,s):oU(e,t,r,i,a,o,s)}function fH(e,n,r,t,i,a,o,s){return n.slice(-4)===".bin"?$z(e,t,r,i,a,o,s):Hz(e,t,r,i,a,o,s)}function gH(e,n,r,t,i,a,o,s){return n.slice(-4)===".bin"?xB(e,t,r,i,a,o,s):vB(e,t,r,i,a,o,s)}function _H(e,n,r,t,i,a,o,s){return n.slice(-4)===".bin"?gB(e,t,r,i,a,o,s):_B(e,t,r,i,a,o,s)}function xH(e,n,r,t){return n.slice(-4)===".bin"?hV(e,r,t):tV(e,r,t)}function vH(e,n,r){return IP(e,r)}function bH(e,n,r){return n.slice(-4)===".bin"?bL(e,r):_L(e,r)}function yH(e,n,r){return n.slice(-4)===".bin"?uB(e,r):nB(e,r)}function CH(e,n,r){return n.slice(-4)===".bin"?JV(e,n,r):XV(e,n,r)}function wH(e,n,r,t){return r.slice(-4)===".bin"?eB(e,n,r,t):void 0}function SH(e,n,r){return n.slice(-4)===".bin"?qV(e,n,r):QV(e,n,r)}function MH(e,n,r){return(n.slice(-4)===".bin"?mH:XP)(e,r)}function kH(e,n,r,t,i){return(n.slice(-4)===".bin"?jz:WP)(e,r,t,i)}function PH(e,n,r){return(n.slice(-4)===".bin"?wV:TP)(e,r)}function EH(e,n,r){return(n.slice(-4)===".bin"?wL:yP)(e,r)}function TH(e,n,r){return(n.slice(-4)===".bin"?mB:FP)(e,r)}function OH(e){return(e.slice(-4)===".bin"?KV:AP)()}var ZP=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,JP=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Vo(e,n){var r=e.split(/\s+/),t=[];if(n||(t[0]=r[0]),r.length===1)return t;var i=e.match(ZP),a,o,s,d;if(i)for(d=0;d!=i.length;++d)a=i[d].match(JP),(o=a[1].indexOf(":"))===-1?t[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(o+1),t[s]=a[2].slice(1,a[2].length-1));return t}function IH(e){var n=e.split(/\s+/),r={};if(n.length===1)return r;var t=e.match(ZP),i,a,o,s;if(t)for(s=0;s!=t.length;++s)i=t[s].match(JP),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(a+1),r[o]=i[2].slice(1,i[2].length-1));return r}var Fm;function AH(e,n){var r=Fm[e]||Bn(e);return r==="General"?Pl(n):Ha(r,n)}function DH(e,n,r,t){var i=t;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=ki(t);break;case"i2":case"int":i=parseInt(t,10);break;case"r4":case"float":i=parseFloat(t);break;case"date":case"dateTime.tz":i=Pi(t);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Bn(n)]=i}function FH(e,n,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Ws[e.v]:n==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Vm(e.v):e.w=Pl(e.v):e.w=AH(n||"General",e.v)}catch(a){if(r.WTF)throw a}try{var t=Fm[n]||n||"General";if(r.cellNF&&(e.z=t),r.cellDates&&e.t=="n"&&Dl(t)){var i=Lc(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function RH(e,n,r){if(r.cellStyles&&n.Interior){var t=n.Interior;t.Pattern&&(t.patternType=YL[t.Pattern]||t.Pattern)}e[n.ID]=n}function NH(e,n,r,t,i,a,o,s,d,m){var f="General",_=t.StyleID,v={};m=m||{};var w=[],C=0;for(_===void 0&&s&&(_=s.StyleID),_===void 0&&o&&(_=o.StyleID);a[_]!==void 0&&(a[_].nf&&(f=a[_].nf),a[_].Interior&&w.push(a[_].Interior),!!a[_].Parent);)_=a[_].Parent;switch(r.Type){case"Boolean":t.t="b",t.v=ki(e);break;case"String":t.t="s",t.r=xM(Bn(e)),t.v=e.indexOf("<")>-1?Bn(n||e).replace(/<.*?>/g,""):t.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),t.v=(Pi(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),t.v!==t.v?t.v=Bn(e):t.v<60&&(t.v=t.v-1),(!f||f=="General")&&(f="yyyy-mm-dd");case"Number":t.v===void 0&&(t.v=+e),t.t||(t.t="n");break;case"Error":t.t="e",t.v=Yk[e],m.cellText!==!1&&(t.w=e);break;default:e==""&&n==""?t.t="z":(t.t="s",t.v=xM(n||e));break}if(FH(t,f,m),m.cellFormula!==!1)if(t.Formula){var b=Bn(t.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),t.f=_u(b,i),delete t.Formula,t.ArrayRange=="RC"?t.F=_u("RC:RC",i):t.ArrayRange&&(t.F=_u(t.ArrayRange,i),d.push([jn(t.F),t.F]))}else for(C=0;C<d.length;++C)i.r>=d[C][0].s.r&&i.r<=d[C][0].e.r&&i.c>=d[C][0].s.c&&i.c<=d[C][0].e.c&&(t.F=d[C][1]);m.cellStyles&&(w.forEach(function(O){!v.patternType&&O.patternType&&(v.patternType=O.patternType)}),t.s=v),t.StyleID!==void 0&&(t.ixfe=t.StyleID)}function LH(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function hx(e,n){var r=n||{};wu();var t=Mm(zx(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(typeof ri<"u"?t=ri.utils.decode(65001,xx(t)):t=pi(t));var i=t.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=Ei(r);return o.type="string",yu.to_workbook(t,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function($t){i.indexOf("<"+$t)>=0&&(a=!0)}),a)return CG(t,r);Fm={"General Number":"General","General Date":Dt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Dt[15],"Short Date":Dt[14],"Long Time":Dt[19],"Medium Time":Dt[18],"Short Time":Dt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Dt[2],Standard:Dt[4],Percent:Dt[10],Scientific:Dt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var s,d=[],m;Ki!=null&&r.dense==null&&(r.dense=Ki);var f={},_=[],v=r.dense?[]:{},w="",C={},b={},O=Vo('<Data ss:Type="String">'),L=0,N=0,V=0,re={s:{r:2e6,c:2e6},e:{r:0,c:0}},oe={},F={},S="",E=0,A=[],R={},j={},U=0,Y=[],Ge=[],ke={},Xe=[],De,st=!1,Ie=[],Ve=[],me={},te=0,ae=0,se={Sheets:[],WBProps:{date1904:!1}},ce={};Um.lastIndex=0,t=t.replace(/<!--([\s\S]*?)-->/mg,"");for(var fe="";s=Um.exec(t);)switch(s[3]=(fe=s[3]).toLowerCase()){case"data":if(fe=="data"){if(s[1]==="/"){if((m=d.pop())[0]!==s[3])throw new Error("Bad state: "+m.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&d.push([s[3],!0]);break}if(d[d.length-1][1])break;s[1]==="/"?NH(t.slice(L,s.index),S,O,d[d.length-1][0]=="comment"?ke:C,{c:N,r:V},oe,Xe[N],b,Ie,r):(S="",O=Vo(s[0]),L=s.index+s[0].length);break;case"cell":if(s[1]==="/")if(Ge.length>0&&(C.c=Ge),(!r.sheetRows||r.sheetRows>V)&&C.v!==void 0&&(r.dense?(v[V]||(v[V]=[]),v[V][N]=C):v[ji(N)+er(V)]=C),C.HRef&&(C.l={Target:Bn(C.HRef)},C.HRefScreenTip&&(C.l.Tooltip=C.HRefScreenTip),delete C.HRef,delete C.HRefScreenTip),(C.MergeAcross||C.MergeDown)&&(te=N+(parseInt(C.MergeAcross,10)|0),ae=V+(parseInt(C.MergeDown,10)|0),A.push({s:{c:N,r:V},e:{c:te,r:ae}})),!r.sheetStubs)C.MergeAcross?N=te+1:++N;else if(C.MergeAcross||C.MergeDown){for(var Ae=N;Ae<=te;++Ae)for(var Re=V;Re<=ae;++Re)(Ae>N||Re>V)&&(r.dense?(v[Re]||(v[Re]=[]),v[Re][Ae]={t:"z"}):v[ji(Ae)+er(Re)]={t:"z"});N=te+1}else++N;else C=IH(s[0]),C.Index&&(N=+C.Index-1),N<re.s.c&&(re.s.c=N),N>re.e.c&&(re.e.c=N),s[0].slice(-2)==="/>"&&++N,Ge=[];break;case"row":s[1]==="/"||s[0].slice(-2)==="/>"?(V<re.s.r&&(re.s.r=V),V>re.e.r&&(re.e.r=V),s[0].slice(-2)==="/>"&&(b=Vo(s[0]),b.Index&&(V=+b.Index-1)),N=0,++V):(b=Vo(s[0]),b.Index&&(V=+b.Index-1),me={},(b.AutoFitHeight=="0"||b.Height)&&(me.hpx=parseInt(b.Height,10),me.hpt=Wm(me.hpx),Ve[V]=me),b.Hidden=="1"&&(me.hidden=!0,Ve[V]=me));break;case"worksheet":if(s[1]==="/"){if((m=d.pop())[0]!==s[3])throw new Error("Bad state: "+m.join("|"));_.push(w),re.s.r<=re.e.r&&re.s.c<=re.e.c&&(v["!ref"]=on(re),r.sheetRows&&r.sheetRows<=re.e.r&&(v["!fullref"]=v["!ref"],re.e.r=r.sheetRows-1,v["!ref"]=on(re))),A.length&&(v["!merges"]=A),Xe.length>0&&(v["!cols"]=Xe),Ve.length>0&&(v["!rows"]=Ve),f[w]=v}else re={s:{r:2e6,c:2e6},e:{r:0,c:0}},V=N=0,d.push([s[3],!1]),m=Vo(s[0]),w=Bn(m.Name),v=r.dense?[]:{},A=[],Ie=[],Ve=[],ce={name:w,Hidden:0},se.Sheets.push(ce);break;case"table":if(s[1]==="/"){if((m=d.pop())[0]!==s[3])throw new Error("Bad state: "+m.join("|"))}else{if(s[0].slice(-2)=="/>")break;d.push([s[3],!1]),Xe=[],st=!1}break;case"style":s[1]==="/"?RH(oe,F,r):F=Vo(s[0]);break;case"numberformat":F.nf=Bn(Vo(s[0]).Format||"General"),Fm[F.nf]&&(F.nf=Fm[F.nf]);for(var Te=0;Te!=392&&Dt[Te]!=F.nf;++Te);if(Te==392){for(Te=57;Te!=392;++Te)if(Dt[Te]==null){us(F.nf,Te);break}}break;case"column":if(d[d.length-1][0]!=="table")break;if(De=Vo(s[0]),De.Hidden&&(De.hidden=!0,delete De.Hidden),De.Width&&(De.wpx=parseInt(De.Width,10)),!st&&De.wpx>10){st=!0,ta=PP;for(var we=0;we<Xe.length;++we)Xe[we]&&jc(Xe[we])}st&&jc(De),Xe[De.Index-1||Xe.length]=De;for(var dt=0;dt<+De.Span;++dt)Xe[Xe.length]=Ei(De);break;case"namedrange":if(s[1]==="/")break;se.Names||(se.Names=[]);var ee=Ht(s[0]),pt={Name:ee.Name,Ref:_u(ee.RefersTo.slice(1),{r:0,c:0})};se.Sheets.length>0&&(pt.Sheet=se.Sheets.length-1),se.Names.push(pt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(s[0].slice(-2)==="/>")break;s[1]==="/"?S+=t.slice(E,s.index):E=s.index+s[0].length;break;case"interior":if(!r.cellStyles)break;F.Interior=Vo(s[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(s[0].slice(-2)==="/>")break;s[1]==="/"?sN(R,fe,t.slice(U,s.index)):U=s.index+s[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(s[1]==="/"){if((m=d.pop())[0]!==s[3])throw new Error("Bad state: "+m.join("|"))}else d.push([s[3],!1]);break;case"comment":if(s[1]==="/"){if((m=d.pop())[0]!==s[3])throw new Error("Bad state: "+m.join("|"));LH(ke),Ge.push(ke)}else d.push([s[3],!1]),m=Vo(s[0]),ke={a:m.Author};break;case"autofilter":if(s[1]==="/"){if((m=d.pop())[0]!==s[3])throw new Error("Bad state: "+m.join("|"))}else if(s[0].charAt(s[0].length-2)!=="/"){var tt=Vo(s[0]);v["!autofilter"]={ref:_u(tt.Range).replace(/\$/g,"")},d.push([s[3],!0])}break;case"name":break;case"datavalidation":if(s[1]==="/"){if((m=d.pop())[0]!==s[3])throw new Error("Bad state: "+m.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&d.push([s[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(s[1]==="/"){if((m=d.pop())[0]!==s[3])throw new Error("Bad state: "+m.join("|"))}else s[0].charAt(s[0].length-2)!=="/"&&d.push([s[3],!0]);break;case"null":break;default:if(d.length==0&&s[3]=="document"||d.length==0&&s[3]=="uof")return ok(t,r);var Ot=!0;switch(d[d.length-1][0]){case"officedocumentsettings":switch(s[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ot=!1}break;case"componentoptions":switch(s[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ot=!1}break;case"excelworkbook":switch(s[3]){case"date1904":se.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ot=!1}break;case"workbookoptions":switch(s[3]){case"owcversion":break;case"height":break;case"width":break;default:Ot=!1}break;case"worksheetoptions":switch(s[3]){case"visible":if(s[0].slice(-2)!=="/>")if(s[1]==="/")switch(t.slice(U,s.index)){case"SheetHidden":ce.Hidden=1;break;case"SheetVeryHidden":ce.Hidden=2;break}else U=s.index+s[0].length;break;case"header":v["!margins"]||kl(v["!margins"]={},"xlml"),isNaN(+Ht(s[0]).Margin)||(v["!margins"].header=+Ht(s[0]).Margin);break;case"footer":v["!margins"]||kl(v["!margins"]={},"xlml"),isNaN(+Ht(s[0]).Margin)||(v["!margins"].footer=+Ht(s[0]).Margin);break;case"pagemargins":var rt=Ht(s[0]);v["!margins"]||kl(v["!margins"]={},"xlml"),isNaN(+rt.Top)||(v["!margins"].top=+rt.Top),isNaN(+rt.Left)||(v["!margins"].left=+rt.Left),isNaN(+rt.Right)||(v["!margins"].right=+rt.Right),isNaN(+rt.Bottom)||(v["!margins"].bottom=+rt.Bottom);break;case"displayrighttoleft":se.Views||(se.Views=[]),se.Views[0]||(se.Views[0]={}),se.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ot=!1}break;case"pivottable":case"pivotcache":switch(s[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ot=!1}break;case"pagebreaks":switch(s[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ot=!1}break;case"autofilter":switch(s[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ot=!1}break;case"querytable":switch(s[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ot=!1}break;case"datavalidation":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ot=!1}break;case"sorting":case"conditionalformatting":switch(s[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ot=!1}break;case"mapinfo":case"schema":case"data":switch(s[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ot=!1}break;case"smarttags":break;default:Ot=!1;break}if(Ot||s[3].match(/!\[CDATA/))break;if(!d[d.length-1][1])throw"Unrecognized tag: "+s[3]+"|"+d.join("|");if(d[d.length-1][0]==="customdocumentproperties"){if(s[0].slice(-2)==="/>")break;s[1]==="/"?DH(j,fe,Y,t.slice(U,s.index)):(Y=s,U=s.index+s[0].length);break}if(r.WTF)throw"Unrecognized tag: "+s[3]+"|"+d.join("|")}var Ue={};return!r.bookSheets&&!r.bookProps&&(Ue.Sheets=f),Ue.SheetNames=_,Ue.Workbook=se,Ue.SSF=Ei(Dt),Ue.Props=R,Ue.Custprops=j,Ue}function Px(e,n){switch(gv(n=n||{}),n.type||"base64"){case"base64":return hx(za(e),n);case"binary":case"buffer":case"file":return hx(e,n);case"array":return hx(Hc(e),n)}}function VH(e,n){var r=[];return e.Props&&r.push(cN(e.Props,n)),e.Custprops&&r.push(lN(e.Props,e.Custprops,n)),r.join("")}function BH(){return""}function jH(e,n){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return n.cellXfs.forEach(function(t,i){var a=[];a.push(Qe("NumberFormat",null,{"ss:Format":di(Dt[t.numFmtId])}));var o={"ss:ID":"s"+(21+i)};r.push(Qe("Style",a.join(""),o))}),Qe("Styles",r.join(""))}function eE(e){return Qe("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+dv(e.Ref,{r:0,c:0})})}function UH(e){if(!((e||{}).Workbook||{}).Names)return"";for(var n=e.Workbook.Names,r=[],t=0;t<n.length;++t){var i=n[t];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(eE(i)))}return Qe("Names",r.join(""))}function zH(e,n,r,t){if(!e||!((t||{}).Workbook||{}).Names)return"";for(var i=t.Workbook.Names,a=[],o=0;o<i.length;++o){var s=i[o];s.Sheet==r&&(s.Name.match(/^_xlfn\./)||a.push(eE(s)))}return a.join("")}function HH(e,n,r,t){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(Qe("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(Qe("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(Qe("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),t&&t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r])if(t.Workbook.Sheets[r].Hidden)i.push(Qe("Visible",t.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(t.Workbook.Sheets[a]&&!t.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((t||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(Ur("ProtectContents","True")),e["!protect"].objects&&i.push(Ur("ProtectObjects","True")),e["!protect"].scenarios&&i.push(Ur("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(Ur("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(Ur("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":Qe("WorksheetOptions",i.join(""),{xmlns:Ba.x})}function GH(e){return e.map(function(n){var r=d7(n.t||""),t=Qe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Qe("Comment",t,{"ss:Author":n.a})}).join("")}function $H(e,n,r,t,i,a,o){if(!e||e.v==null&&e.f==null)return"";var s={};if(e.f&&(s["ss:Formula"]="="+di(dv(e.f,o))),e.F&&e.F.slice(0,n.length)==n){var d=Ui(e.F.slice(n.length+1));s["ss:ArrayRange"]="RC:R"+(d.r==o.r?"":"["+(d.r-o.r)+"]")+"C"+(d.c==o.c?"":"["+(d.c-o.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=di(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=di(e.l.Tooltip))),r["!merges"])for(var m=r["!merges"],f=0;f!=m.length;++f)m[f].s.c!=o.c||m[f].s.r!=o.r||(m[f].e.c>m[f].s.c&&(s["ss:MergeAcross"]=m[f].e.c-m[f].s.c),m[f].e.r>m[f].s.r&&(s["ss:MergeDown"]=m[f].e.r-m[f].s.r));var _="",v="";switch(e.t){case"z":if(!t.sheetStubs)return"";break;case"n":_="Number",v=String(e.v);break;case"b":_="Boolean",v=e.v?"1":"0";break;case"e":_="Error",v=Ws[e.v];break;case"d":_="DateTime",v=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Dt[14]);break;case"s":_="String",v=l7(e.v||"");break}var w=$c(t.cellXfs,e,t);s["ss:StyleID"]="s"+(21+w),s["ss:Index"]=o.c+1;var C=e.v!=null?v:"",b=e.t=="z"?"":'<Data ss:Type="'+_+'">'+C+"</Data>";return(e.c||[]).length>0&&(b+=GH(e.c)),Qe("Cell",b,s)}function WH(e,n){var r='<Row ss:Index="'+(e+1)+'"';return n&&(n.hpt&&!n.hpx&&(n.hpx=Cu(n.hpt)),n.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+n.hpx+'"'),n.hidden&&(r+=' ss:Hidden="1"')),r+">"}function YH(e,n,r,t){if(!e["!ref"])return"";var i=jn(e["!ref"]),a=e["!merges"]||[],o=0,s=[];e["!cols"]&&e["!cols"].forEach(function(O,L){jc(O);var N=!!O.width,V=_g(L,O),re={"ss:Index":L+1};N&&(re["ss:Width"]=Gm(V.width)),O.hidden&&(re["ss:Hidden"]="1"),s.push(Qe("Column",null,re))});for(var d=Array.isArray(e),m=i.s.r;m<=i.e.r;++m){for(var f=[WH(m,(e["!rows"]||[])[m])],_=i.s.c;_<=i.e.c;++_){var v=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>_)&&!(a[o].s.r>m)&&!(a[o].e.c<_)&&!(a[o].e.r<m)){(a[o].s.c!=_||a[o].s.r!=m)&&(v=!0);break}if(!v){var w={r:m,c:_},C=Lt(w),b=d?(e[m]||[])[_]:e[C];f.push($H(b,C,e,n,r,t,w))}}f.push("</Row>"),f.length>2&&s.push(f.join(""))}return s.join("")}function qH(e,n,r){var t=[],i=r.SheetNames[e],a=r.Sheets[i],o=a?zH(a,n,e,r):"";return o.length>0&&t.push("<Names>"+o+"</Names>"),o=a?YH(a,n,e,r):"",o.length>0&&t.push("<Table>"+o+"</Table>"),t.push(HH(a,n,e,r)),t.join("")}function KH(e,n){n||(n={}),e.SSF||(e.SSF=Ei(Dt)),e.SSF&&(wu(),Qm(e.SSF),n.revssf=ug(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF,n.cellXfs=[],$c(n.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(VH(e,n)),r.push(BH(e,n)),r.push(""),r.push("");for(var t=0;t<e.SheetNames.length;++t)r.push(Qe("Worksheet",qH(t,n,e),{"ss:Name":di(e.SheetNames[t])}));return r[2]=jH(e,n),r[3]=UH(e,n),tr+Qe("Workbook",r.join(""),{xmlns:Ba.ss,"xmlns:o":Ba.o,"xmlns:x":Ba.x,"xmlns:ss":Ba.ss,"xmlns:dt":Ba.dt,"xmlns:html":Ba.html})}function QH(e){var n={},r=e.content;if(r.l=28,n.AnsiUserType=r.read_shift(0,"lpstr-ansi"),n.AnsiClipboardFormat=U7(r),r.length-r.l<=4)return n;var t=r.read_shift(4);if(t==0||t>40||(r.l-=4,n.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(t=r.read_shift(4),t!==1907505652)||(n.UnicodeClipboardFormat=z7(r),t=r.read_shift(4),t==0||t>40))return n;r.l-=4,n.Reserved2=r.read_shift(0,"lpwstr")}var XH=[60,1084,2066,2165,2175];function ZH(e,n,r,t,i){var a=t,o=[],s=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&s.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(s)}o.push(s),r.l+=a;for(var d=js(r,r.l),m=Ex[d],f=0;m!=null&&XH.indexOf(d)>-1;)a=js(r,r.l+2),f=r.l+4,d==2066?f+=4:(d==2165||d==2175)&&(f+=12),s=r.slice(f,r.l+4+a),o.push(s),r.l+=4+a,m=Ex[d=js(r,r.l)];var _=Ir(o);jr(_,0);var v=0;_.lens=[];for(var w=0;w<o.length;++w)_.lens.push(v),v+=o[w].length;if(_.length<t)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+_.length+" < "+t;return n.f(_,_.length,i)}function os(e,n,r){if(e.t!=="z"&&e.XF){var t=0;try{t=e.z||e.XF.numFmtId||0,n.cellNF&&(e.z=Dt[t])}catch(a){if(n.WTF)throw a}if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||Ws[e.v]:t===0||t=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Vm(e.v):e.w=Pl(e.v):e.w=Ha(t,e.v,{date1904:!!r,dateNF:n&&n.dateNF})}catch(a){if(n.WTF)throw a}if(n.cellDates&&t&&e.t=="n"&&Dl(Dt[t]||String(t))){var i=Lc(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function qf(e,n,r){return{v:e,ixfe:n,t:r}}function JH(e,n){var r={opts:{}},t={};Ki!=null&&n.dense==null&&(n.dense=Ki);var i=n.dense?[]:{},a={},o={},s=null,d=[],m="",f={},_,v="",w,C,b,O,L={},N=[],V,re,oe=[],F=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},A=function(wt){return wt<8?wl[wt]:wt<64&&F[wt-8]||wl[wt]},R=function(wt,Pn,Zi){var Jn=Pn.XF.data;if(!(!Jn||!Jn.patternType||!Zi||!Zi.cellStyles)){Pn.s={},Pn.s.patternType=Jn.patternType;var Dr;(Dr=Hm(A(Jn.icvFore)))&&(Pn.s.fgColor={rgb:Dr}),(Dr=Hm(A(Jn.icvBack)))&&(Pn.s.bgColor={rgb:Dr})}},j=function(wt,Pn,Zi){if(!(me>1)&&!(Zi.sheetRows&&wt.r>=Zi.sheetRows)){if(Zi.cellStyles&&Pn.XF&&Pn.XF.data&&R(wt,Pn,Zi),delete Pn.ixfe,delete Pn.XF,_=wt,v=Lt(wt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),wt.r<o.s.r&&(o.s.r=wt.r),wt.c<o.s.c&&(o.s.c=wt.c),wt.r+1>o.e.r&&(o.e.r=wt.r+1),wt.c+1>o.e.c&&(o.e.c=wt.c+1),Zi.cellFormula&&Pn.f){for(var Jn=0;Jn<N.length;++Jn)if(!(N[Jn][0].s.c>wt.c||N[Jn][0].s.r>wt.r)&&!(N[Jn][0].e.c<wt.c||N[Jn][0].e.r<wt.r)){Pn.F=on(N[Jn][0]),(N[Jn][0].s.c!=wt.c||N[Jn][0].s.r!=wt.r)&&delete Pn.f,Pn.f&&(Pn.f=""+ea(N[Jn][1],o,wt,Ie,U));break}}Zi.dense?(i[wt.r]||(i[wt.r]=[]),i[wt.r][wt.c]=Pn):i[v]=Pn}},U={enc:!1,sbcch:0,snames:[],sharedf:L,arrayf:N,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!n&&!!n.cellStyles,WTF:!!n&&!!n.wtf};n.password&&(U.password=n.password);var Y,Ge=[],ke=[],Xe=[],De=[],st=!1,Ie=[];Ie.SheetNames=U.snames,Ie.sharedf=U.sharedf,Ie.arrayf=U.arrayf,Ie.names=[],Ie.XTI=[];var Ve=0,me=0,te=0,ae=[],se=[],ce;U.codepage=1200,Bo(1200);for(var fe=!1;e.l<e.length-1;){var Ae=e.l,Re=e.read_shift(2);if(Re===0&&Ve===10)break;var Te=e.l===e.length?0:e.read_shift(2),we=Ex[Re];if(we&&we.f){if(n.bookSheets&&Ve===133&&Re!==133)break;if(Ve=Re,we.r===2||we.r==12){var dt=e.read_shift(2);if(Te-=2,!U.enc&&dt!==Re&&((dt&255)<<8|dt>>8)!==Re)throw new Error("rt mismatch: "+dt+"!="+Re);we.r==12&&(e.l+=10,Te-=10)}var ee={};if(Re===10?ee=we.f(e,Te,U):ee=ZH(Re,we,e,Te,U),me==0&&[9,521,1033,2057].indexOf(Ve)===-1)continue;switch(Re){case 34:r.opts.Date1904=S.WBProps.date1904=ee;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(U.enc||(e.l=0),U.enc=ee,!n.password)throw new Error("File is password-protected");if(ee.valid==null)throw new Error("Encryption scheme unsupported");if(!ee.valid)throw new Error("Password is incorrect");break;case 92:U.lastuser=ee;break;case 66:var pt=Number(ee);switch(pt){case 21010:pt=1200;break;case 32768:pt=1e4;break;case 32769:pt=1252;break}Bo(U.codepage=pt),fe=!0;break;case 317:U.rrtabid=ee;break;case 25:U.winlocked=ee;break;case 439:r.opts.RefreshAll=ee;break;case 12:r.opts.CalcCount=ee;break;case 16:r.opts.CalcDelta=ee;break;case 17:r.opts.CalcIter=ee;break;case 13:r.opts.CalcMode=ee;break;case 14:r.opts.CalcPrecision=ee;break;case 95:r.opts.CalcSaveRecalc=ee;break;case 15:U.CalcRefMode=ee;break;case 2211:r.opts.FullCalc=ee;break;case 129:ee.fDialog&&(i["!type"]="dialog"),ee.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ee.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:oe.push(ee);break;case 430:Ie.push([ee]),Ie[Ie.length-1].XTI=[];break;case 35:case 547:Ie[Ie.length-1].push(ee);break;case 24:case 536:ce={Name:ee.Name,Ref:ea(ee.rgce,o,null,Ie,U)},ee.itab>0&&(ce.Sheet=ee.itab-1),Ie.names.push(ce),Ie[0]||(Ie[0]=[],Ie[0].XTI=[]),Ie[Ie.length-1].push(ee),ee.Name=="_xlnm._FilterDatabase"&&ee.itab>0&&ee.rgce&&ee.rgce[0]&&ee.rgce[0][0]&&ee.rgce[0][0][0]=="PtgArea3d"&&(se[ee.itab-1]={ref:on(ee.rgce[0][0][1][2])});break;case 22:U.ExternCount=ee;break;case 23:Ie.length==0&&(Ie[0]=[],Ie[0].XTI=[]),Ie[Ie.length-1].XTI=Ie[Ie.length-1].XTI.concat(ee),Ie.XTI=Ie.XTI.concat(ee);break;case 2196:if(U.biff<8)break;ce!=null&&(ce.Comment=ee[1]);break;case 18:i["!protect"]=ee;break;case 19:ee!==0&&U.WTF&&console.error("Password verifier: "+ee);break;case 133:a[ee.pos]=ee,U.snames.push(ee.name);break;case 10:{if(--me)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=on(o),n.sheetRows&&n.sheetRows<=o.e.r){var tt=o.e.r;o.e.r=n.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=on(o),o.e.r=tt}o.e.r++,o.e.c++}Ge.length>0&&(i["!merges"]=Ge),ke.length>0&&(i["!objects"]=ke),Xe.length>0&&(i["!cols"]=Xe),De.length>0&&(i["!rows"]=De),S.Sheets.push(E)}m===""?f=i:t[m]=i,i=n.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(U.biff===8&&(U.biff={9:2,521:3,1033:4}[Re]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ee.BIFFVer]||8),U.biffguess=ee.BIFFVer==0,ee.BIFFVer==0&&ee.dt==4096&&(U.biff=5,fe=!0,Bo(U.codepage=28591)),U.biff==8&&ee.BIFFVer==0&&ee.dt==16&&(U.biff=2),me++)break;if(i=n.dense?[]:{},U.biff<8&&!fe&&(fe=!0,Bo(U.codepage=n.codepage||1252)),U.biff<5||ee.BIFFVer==0&&ee.dt==4096){m===""&&(m="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ot={pos:e.l-Te,name:m};a[Ot.pos]=Ot,U.snames.push(m)}else m=(a[Ae]||{name:""}).name;ee.dt==32&&(i["!type"]="chart"),ee.dt==64&&(i["!type"]="macro"),Ge=[],ke=[],U.arrayf=N=[],Xe=[],De=[],st=!1,E={Hidden:(a[Ae]||{hs:0}).hs,name:m}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(n.dense?(i[ee.r]||[])[ee.c]:i[Lt({c:ee.c,r:ee.r})])&&++ee.c,V={ixfe:ee.ixfe,XF:oe[ee.ixfe]||{},v:ee.val,t:"n"},te>0&&(V.z=ae[V.ixfe>>8&63]),os(V,n,r.opts.Date1904),j({c:ee.c,r:ee.r},V,n);break;case 5:case 517:V={ixfe:ee.ixfe,XF:oe[ee.ixfe],v:ee.val,t:ee.t},te>0&&(V.z=ae[V.ixfe>>8&63]),os(V,n,r.opts.Date1904),j({c:ee.c,r:ee.r},V,n);break;case 638:V={ixfe:ee.ixfe,XF:oe[ee.ixfe],v:ee.rknum,t:"n"},te>0&&(V.z=ae[V.ixfe>>8&63]),os(V,n,r.opts.Date1904),j({c:ee.c,r:ee.r},V,n);break;case 189:for(var rt=ee.c;rt<=ee.C;++rt){var Ue=ee.rkrec[rt-ee.c][0];V={ixfe:Ue,XF:oe[Ue],v:ee.rkrec[rt-ee.c][1],t:"n"},te>0&&(V.z=ae[V.ixfe>>8&63]),os(V,n,r.opts.Date1904),j({c:rt,r:ee.r},V,n)}break;case 6:case 518:case 1030:{if(ee.val=="String"){s=ee;break}if(V=qf(ee.val,ee.cell.ixfe,ee.tt),V.XF=oe[V.ixfe],n.cellFormula){var $t=ee.formula;if($t&&$t[0]&&$t[0][0]&&$t[0][0][0]=="PtgExp"){var kn=$t[0][0][1][0],ui=$t[0][0][1][1],Xi=Lt({r:kn,c:ui});L[Xi]?V.f=""+ea(ee.formula,o,ee.cell,Ie,U):V.F=((n.dense?(i[kn]||[])[ui]:i[Xi])||{}).F}else V.f=""+ea(ee.formula,o,ee.cell,Ie,U)}te>0&&(V.z=ae[V.ixfe>>8&63]),os(V,n,r.opts.Date1904),j(ee.cell,V,n),s=ee}break;case 7:case 519:if(s)s.val=ee,V=qf(ee,s.cell.ixfe,"s"),V.XF=oe[V.ixfe],n.cellFormula&&(V.f=""+ea(s.formula,o,s.cell,Ie,U)),te>0&&(V.z=ae[V.ixfe>>8&63]),os(V,n,r.opts.Date1904),j(s.cell,V,n),s=null;else throw new Error("String record expects Formula");break;case 33:case 545:{N.push(ee);var fi=Lt(ee[0].s);if(w=n.dense?(i[ee[0].s.r]||[])[ee[0].s.c]:i[fi],n.cellFormula&&w){if(!s||!fi||!w)break;w.f=""+ea(ee[1],o,ee[0],Ie,U),w.F=on(ee[0])}}break;case 1212:{if(!n.cellFormula)break;if(v){if(!s)break;L[Lt(s.cell)]=ee[0],w=n.dense?(i[s.cell.r]||[])[s.cell.c]:i[Lt(s.cell)],(w||{}).f=""+ea(ee[0],o,_,Ie,U)}}break;case 253:V=qf(d[ee.isst].t,ee.ixfe,"s"),d[ee.isst].h&&(V.h=d[ee.isst].h),V.XF=oe[V.ixfe],te>0&&(V.z=ae[V.ixfe>>8&63]),os(V,n,r.opts.Date1904),j({c:ee.c,r:ee.r},V,n);break;case 513:n.sheetStubs&&(V={ixfe:ee.ixfe,XF:oe[ee.ixfe],t:"z"},te>0&&(V.z=ae[V.ixfe>>8&63]),os(V,n,r.opts.Date1904),j({c:ee.c,r:ee.r},V,n));break;case 190:if(n.sheetStubs)for(var Ti=ee.c;Ti<=ee.C;++Ti){var Rt=ee.ixfe[Ti-ee.c];V={ixfe:Rt,XF:oe[Rt],t:"z"},te>0&&(V.z=ae[V.ixfe>>8&63]),os(V,n,r.opts.Date1904),j({c:Ti,r:ee.r},V,n)}break;case 214:case 516:case 4:V=qf(ee.val,ee.ixfe,"s"),V.XF=oe[V.ixfe],te>0&&(V.z=ae[V.ixfe>>8&63]),os(V,n,r.opts.Date1904),j({c:ee.c,r:ee.r},V,n);break;case 0:case 512:me===1&&(o=ee);break;case 252:d=ee;break;case 1054:if(U.biff==4){ae[te++]=ee[1];for(var $n=0;$n<te+163&&Dt[$n]!=ee[1];++$n);$n>=163&&us(ee[1],te+163)}else us(ee[1],ee[0]);break;case 30:{ae[te++]=ee;for(var bi=0;bi<te+163&&Dt[bi]!=ee;++bi);bi>=163&&us(ee,te+163)}break;case 229:Ge=Ge.concat(ee);break;case 93:ke[ee.cmo[0]]=U.lastobj=ee;break;case 438:U.lastobj.TxO=ee;break;case 127:U.lastobj.ImData=ee;break;case 440:for(O=ee[0].s.r;O<=ee[0].e.r;++O)for(b=ee[0].s.c;b<=ee[0].e.c;++b)w=n.dense?(i[O]||[])[b]:i[Lt({c:b,r:O})],w&&(w.l=ee[1]);break;case 2048:for(O=ee[0].s.r;O<=ee[0].e.r;++O)for(b=ee[0].s.c;b<=ee[0].e.c;++b)w=n.dense?(i[O]||[])[b]:i[Lt({c:b,r:O})],w&&w.l&&(w.l.Tooltip=ee[1]);break;case 28:{if(U.biff<=5&&U.biff>=2)break;w=n.dense?(i[ee[0].r]||[])[ee[0].c]:i[Lt(ee[0])];var Wn=ke[ee[2]];w||(n.dense?(i[ee[0].r]||(i[ee[0].r]=[]),w=i[ee[0].r][ee[0].c]={t:"z"}):w=i[Lt(ee[0])]={t:"z"},o.e.r=Math.max(o.e.r,ee[0].r),o.s.r=Math.min(o.s.r,ee[0].r),o.e.c=Math.max(o.e.c,ee[0].c),o.s.c=Math.min(o.s.c,ee[0].c)),w.c||(w.c=[]),C={a:ee[1],t:Wn.TxO.t},w.c.push(C)}break;case 2173:jV(oe[ee.ixfe],ee.ext);break;case 125:{if(!U.cellStyles)break;for(;ee.e>=ee.s;)Xe[ee.e--]={width:ee.w/256,level:ee.level||0,hidden:!!(ee.flags&1)},st||(st=!0,sv(ee.w/256)),jc(Xe[ee.e+1])}break;case 520:{var vt={};ee.level!=null&&(De[ee.r]=vt,vt.level=ee.level),ee.hidden&&(De[ee.r]=vt,vt.hidden=!0),ee.hpt&&(De[ee.r]=vt,vt.hpt=ee.hpt,vt.hpx=Cu(ee.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||kl(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Re]]=ee;break;case 161:i["!margins"]||kl(i["!margins"]={}),i["!margins"].header=ee.header,i["!margins"].footer=ee.footer;break;case 574:ee.RTL&&(S.Views[0].RTL=!0);break;case 146:F=ee;break;case 2198:Y=ee;break;case 140:re=ee;break;case 442:m?E.CodeName=ee||E.name:S.WBProps.CodeName=ee||"ThisWorkbook";break}}else we||console.error("Missing Info for XLS Record 0x"+Re.toString(16)),e.l+=Te}return r.SheetNames=Qi(a).sort(function(Ci,wt){return Number(Ci)-Number(wt)}).map(function(Ci){return a[Ci].name}),n.bookSheets||(r.Sheets=t),!r.SheetNames.length&&f["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=f)):r.Preamble=f,r.Sheets&&se.forEach(function(Ci,wt){r.Sheets[r.SheetNames[wt]]["!autofilter"]=Ci}),r.Strings=d,r.SSF=Ei(Dt),U.enc&&(r.Encryption=U.enc),Y&&(r.Themes=Y),r.Metadata={},re!==void 0&&(r.Metadata.Country=re),Ie.names.length>0&&(S.Names=Ie.names),r.Workbook=S,r}var Rm={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function eG(e,n,r){var t=Pt.find(e,"/!DocumentSummaryInformation");if(t&&t.size>0)try{var i=NM(t,yx,Rm.DSI);for(var a in i)n[a]=i[a]}catch(m){if(r.WTF)throw m}var o=Pt.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var s=NM(o,Cx,Rm.SI);for(var d in s)n[d]==null&&(n[d]=s[d])}catch(m){if(r.WTF)throw m}n.HeadingPairs&&n.TitlesOfParts&&(Jk(n.HeadingPairs,n.TitlesOfParts,n,r),delete n.HeadingPairs,delete n.TitlesOfParts)}function tG(e,n){var r=[],t=[],i=[],a=0,o,s=mM(yx,"n"),d=mM(Cx,"n");if(e.Props)for(o=Qi(e.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(s,o[a])?r:Object.prototype.hasOwnProperty.call(d,o[a])?t:i).push([o[a],e.Props[o[a]]]);if(e.Custprops)for(o=Qi(e.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(s,o[a])?r:Object.prototype.hasOwnProperty.call(d,o[a])?t:i).push([o[a],e.Custprops[o[a]]]);var m=[];for(a=0;a<i.length;++a)oP.indexOf(i[a][0])>-1||Zk.indexOf(i[a][0])>-1||i[a][1]!=null&&m.push(i[a]);t.length&&Pt.utils.cfb_add(n,"/SummaryInformation",LM(t,Rm.SI,d,Cx)),(r.length||m.length)&&Pt.utils.cfb_add(n,"/DocumentSummaryInformation",LM(r,Rm.DSI,s,yx,m.length?m:null,Rm.UDI))}function tE(e,n){n||(n={}),gv(n),Ax(),n.codepage&&Ix(n.codepage);var r,t;if(e.FullPaths){if(Pt.find(e,"/encryption"))throw new Error("File is password-protected");r=Pt.find(e,"!CompObj"),t=Pt.find(e,"/Workbook")||Pt.find(e,"/Book")}else{switch(n.type){case"base64":e=ja(za(e));break;case"binary":e=ja(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}jr(e,0),t={content:e}}var i,a;if(r&&QH(r),n.bookProps&&!n.bookSheets)i={};else{var o=xn?"buffer":"array";if(t&&t.content)i=JH(t.content,n);else if((a=Pt.find(e,"PerfectOffice_MAIN"))&&a.content)i=Ml.to_workbook(a.content,(n.type=o,n));else if((a=Pt.find(e,"NativeContent_MAIN"))&&a.content)i=Ml.to_workbook(a.content,(n.type=o,n));else throw(a=Pt.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");n.bookVBA&&e.FullPaths&&Pt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=pB(e))}var s={};return e.FullPaths&&eG(e,s,n),i.Props=i.Custprops=s,n.bookFiles&&(i.cfb=e),i}function nG(e,n){var r=n||{},t=Pt.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Pt.utils.cfb_add(t,i,nE(e,r)),r.biff==8&&(e.Props||e.Custprops)&&tG(e,t),r.biff==8&&e.vbaraw&&fB(t,Pt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),t}var Ym={0:{f:kU},1:{f:FU},2:{f:JU},3:{f:zU},4:{f:VU},5:{f:QU},6:{f:rz},7:{f:WU},8:{f:uz},9:{f:dz},10:{f:cz},11:{f:lz},12:{f:NU},13:{f:tz},14:{f:GU},15:{f:jU},16:{f:YP},17:{f:oz},18:{f:qU},19:{f:Xx},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:oH},40:{},42:{},43:{f:rV},44:{f:nV},45:{f:sV},46:{f:lV},47:{f:cV},48:{},49:{f:T7},50:{},51:{f:HV},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:_P},62:{f:iz},63:{f:ZV},64:{f:Pz},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:aa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:wz},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:AU},148:{f:TU,p:16},151:{f:_z},152:{},153:{f:iH},154:{},155:{},156:{f:tH},157:{},158:{},159:{T:1,f:vL},160:{T:-1},161:{T:1,f:Vl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:mz},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:UV},336:{T:-1},337:{f:WV,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:gP},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:xz},427:{f:vz},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:yz},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:IU},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:fz},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:lB},633:{T:1},634:{T:-1},635:{T:1,f:sB},636:{T:-1},637:{f:D7},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Gz},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Ez},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Ex={6:{f:ux},10:{f:Rc},12:{f:ur},13:{f:ur},14:{f:Ji},15:{f:Ji},16:{f:na},17:{f:Ji},18:{f:Ji},19:{f:ur},20:{f:HM},21:{f:HM},23:{f:gP},24:{f:$M},25:{f:Ji},26:{},27:{},28:{f:E9},29:{},34:{f:Ji},35:{f:GM},38:{f:na},39:{f:na},40:{f:na},41:{f:na},42:{f:Ji},43:{f:Ji},47:{f:jL},49:{f:t9},51:{f:ur},60:{},61:{f:QN},64:{f:Ji},65:{f:e9},66:{f:ur},77:{},80:{},81:{},82:{},85:{f:ur},89:{},90:{},91:{},92:{f:BN},93:{f:I9},94:{},95:{f:Ji},96:{},97:{},99:{f:Ji},125:{f:_P},128:{f:g9},129:{f:UN},130:{f:ur},131:{f:Ji},132:{f:Ji},133:{f:zN},134:{},140:{f:B9},141:{f:ur},144:{},146:{f:z9},151:{},152:{},153:{},154:{},155:{},156:{f:ur},157:{},158:{},160:{f:K9},161:{f:$9},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:m9},190:{f:h9},193:{f:Rc},197:{},198:{},199:{},200:{},201:{},202:{f:Ji},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ur},220:{},221:{f:Ji},222:{},224:{f:f9},225:{f:VN},226:{f:Rc},227:{},229:{f:T9},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:GN},253:{f:i9},255:{f:WN},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:sP},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ji},353:{f:Rc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:y9},431:{f:Ji},432:{},433:{},434:{},437:{},438:{f:F9},439:{f:Ji},440:{f:R9},441:{},442:{f:Jm},443:{},444:{f:ur},445:{},446:{},448:{f:Rc},449:{f:KN,r:2},450:{f:Rc},512:{f:jM},513:{f:q9},515:{f:v9},516:{f:a9},517:{f:zM},519:{f:Q9},520:{f:YN},523:{},545:{f:WM},549:{f:BM},566:{},574:{f:ZN},638:{f:u9},659:{},1048:{},1054:{f:s9},1084:{},1212:{f:M9},2048:{f:L9},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:$f},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Rc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:H9,r:12},2173:{f:BV,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ji,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:S9,r:12},2197:{},2198:{f:DV,r:12},2199:{},2200:{},2201:{},2202:{f:k9,r:12},2203:{f:Rc},2204:{},2205:{},2206:{},2207:{},2211:{f:qN},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ur},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:W9},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:U9},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:jM},1:{},2:{f:tL},3:{f:J9},4:{f:Z9},5:{f:zM},7:{f:iL},8:{},9:{f:$f},11:{},22:{f:ur},30:{f:l9},31:{},32:{},33:{f:WM},36:{},37:{f:BM},50:{f:rL},62:{},52:{},67:{},68:{f:ur},69:{},86:{},126:{},127:{f:X9},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:aL},223:{},234:{},354:{},421:{},518:{f:ux},521:{f:$f},536:{f:$M},547:{f:GM},561:{},579:{},1030:{f:ux},1033:{f:$f},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ze(e,n,r,t){var i=n;if(!isNaN(i)){var a=t||(r||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,a),a>0&&qx(r)&&e.push(r)}}function iG(e,n,r,t){var i=t||(r||[]).length||0;if(i<=8224)return Ze(e,n,r,i);var a=n;if(!isNaN(a)){for(var o=r.parts||[],s=0,d=0,m=0;m+(o[s]||8224)<=8224;)m+=o[s]||8224,s++;var f=e.next(4);for(f.write_shift(2,a),f.write_shift(2,m),e.push(r.slice(d,d+m)),d+=m;d<i;){for(f=e.next(4),f.write_shift(2,60),m=0;m+(o[s]||8224)<=8224;)m+=o[s]||8224,s++;f.write_shift(2,m),e.push(r.slice(d,d+m)),d+=m}}}function i0(e,n,r){return e||(e=Oe(7)),e.write_shift(2,n),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function rG(e,n,r,t){var i=Oe(9);return i0(i,e,n),cP(r,t||"b",i),i}function aG(e,n,r){var t=Oe(8+2*r.length);return i0(t,e,n),t.write_shift(1,r.length),t.write_shift(r.length,r,"sbcs"),t.l<t.length?t.slice(0,t.l):t}function oG(e,n,r,t){if(n.v!=null)switch(n.t){case"d":case"n":var i=n.t=="d"?vr(Pi(n.v)):n.v;i==(i|0)&&i>=0&&i<65536?Ze(e,2,nL(r,t,i)):Ze(e,3,eL(r,t,i));return;case"b":case"e":Ze(e,5,rG(r,t,n.v,n.t));return;case"s":case"str":Ze(e,4,aG(r,t,(n.v||"").slice(0,255)));return}Ze(e,1,i0(null,r,t))}function sG(e,n,r,t){var i=Array.isArray(n),a=jn(n["!ref"]||"A1"),o,s="",d=[];if(a.e.c>255||a.e.r>16383){if(t.WTF)throw new Error("Range "+(n["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=on(a)}for(var m=a.s.r;m<=a.e.r;++m){s=er(m);for(var f=a.s.c;f<=a.e.c;++f){m===a.s.r&&(d[f]=ji(f)),o=d[f]+s;var _=i?(n[m]||[])[f]:n[o];_&&oG(e,_,m,f,t)}}}function cG(e,n){var r=n||{};Ki!=null&&r.dense==null&&(r.dense=Ki);for(var t=Ta(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ze(t,r.biff==4?1033:r.biff==3?521:9,rv(e,16,r)),sG(t,e.Sheets[e.SheetNames[i]],i,r,e),Ze(t,10),t.end()}function lG(e,n,r){Ze(e,49,n9({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function dG(e,n,r){n&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var i=t[0];i<=t[1];++i)n[i]!=null&&Ze(e,1054,c9(i,n[i],r))})}function uG(e,n){var r=Oe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ze(e,2151,r),r=Oe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),hP(jn(n["!ref"]||"A1"),r),r.write_shift(4,4),Ze(e,2152,r)}function mG(e,n){for(var r=0;r<16;++r)Ze(e,224,UM({numFmtId:0,style:!0},0,n));n.cellXfs.forEach(function(t){Ze(e,224,UM(t,0,n))})}function hG(e,n){for(var r=0;r<n["!links"].length;++r){var t=n["!links"][r];Ze(e,440,N9(t)),t[1].Tooltip&&Ze(e,2048,V9(t))}delete n["!links"]}function pG(e,n){if(n){var r=0;n.forEach(function(t,i){++r<=256&&t&&Ze(e,125,G9(_g(i,t),i))})}}function fG(e,n,r,t,i){var a=16+$c(i.cellXfs,n,i);if(n.v==null&&!n.bf){Ze(e,513,Il(r,t,a));return}if(n.bf)Ze(e,6,Uj(n,r,t,i,a));else switch(n.t){case"d":case"n":var o=n.t=="d"?vr(Pi(n.v)):n.v;Ze(e,515,b9(r,t,o,a,i));break;case"b":case"e":Ze(e,517,x9(r,t,n.v,a,i,n.t));break;case"s":case"str":if(i.bookSST){var s=mv(i.Strings,n.v,i.revStrings);Ze(e,253,r9(r,t,s,a,i))}else Ze(e,516,o9(r,t,(n.v||"").slice(0,255),a,i));break;default:Ze(e,513,Il(r,t,a))}}function gG(e,n,r){var t=Ta(),i=r.SheetNames[e],a=r.Sheets[i]||{},o=(r||{}).Workbook||{},s=(o.Sheets||[])[e]||{},d=Array.isArray(a),m=n.biff==8,f,_="",v=[],w=jn(a["!ref"]||"A1"),C=m?65536:16384;if(w.e.c>255||w.e.r>=C){if(n.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");w.e.c=Math.min(w.e.c,255),w.e.r=Math.min(w.e.c,C-1)}Ze(t,2057,rv(r,16,n)),Ze(t,13,bo(1)),Ze(t,12,bo(100)),Ze(t,15,_a(!0)),Ze(t,17,_a(!1)),Ze(t,16,Tl(.001)),Ze(t,95,_a(!0)),Ze(t,42,_a(!1)),Ze(t,43,_a(!1)),Ze(t,130,bo(1)),Ze(t,128,_9([0,0])),Ze(t,131,_a(!1)),Ze(t,132,_a(!1)),m&&pG(t,a["!cols"]),Ze(t,512,d9(w,n)),m&&(a["!links"]=[]);for(var b=w.s.r;b<=w.e.r;++b){_=er(b);for(var O=w.s.c;O<=w.e.c;++O){b===w.s.r&&(v[O]=ji(O)),f=v[O]+_;var L=d?(a[b]||[])[O]:a[f];L&&(fG(t,L,b,O,n),m&&L.l&&a["!links"].push([f,L.l]))}}var N=s.CodeName||s.name||i;return m&&Ze(t,574,JN((o.Views||[])[0])),m&&(a["!merges"]||[]).length&&Ze(t,229,O9(a["!merges"])),m&&hG(t,a),Ze(t,442,lP(N,n)),m&&uG(t,a),Ze(t,10),t.end()}function _G(e,n,r){var t=Ta(),i=(e||{}).Workbook||{},a=i.Sheets||[],o=i.WBProps||{},s=r.biff==8,d=r.biff==5;if(Ze(t,2057,rv(e,5,r)),r.bookType=="xla"&&Ze(t,135),Ze(t,225,s?bo(1200):null),Ze(t,193,xN(2)),d&&Ze(t,191),d&&Ze(t,192),Ze(t,226),Ze(t,92,jN("SheetJS",r)),Ze(t,66,bo(s?1200:1252)),s&&Ze(t,353,bo(0)),s&&Ze(t,448),Ze(t,317,Y9(e.SheetNames.length)),s&&e.vbaraw&&Ze(t,211),s&&e.vbaraw){var m=o.CodeName||"ThisWorkbook";Ze(t,442,lP(m,r))}Ze(t,156,bo(17)),Ze(t,25,_a(!1)),Ze(t,18,_a(!1)),Ze(t,19,bo(0)),s&&Ze(t,431,_a(!1)),s&&Ze(t,444,bo(0)),Ze(t,61,XN(r)),Ze(t,64,_a(!1)),Ze(t,141,bo(0)),Ze(t,34,_a(Kz(e)=="true")),Ze(t,14,_a(!0)),s&&Ze(t,439,_a(!1)),Ze(t,218,bo(0)),lG(t,e,r),dG(t,e.SSF,r),mG(t,r),s&&Ze(t,352,_a(!1));var f=t.end(),_=Ta();s&&Ze(_,140,j9()),s&&r.Strings&&iG(_,252,$N(r.Strings,r)),Ze(_,10);var v=_.end(),w=Ta(),C=0,b=0;for(b=0;b<e.SheetNames.length;++b)C+=(s?12:11)+(s?2:1)*e.SheetNames[b].length;var O=f.length+C+v.length;for(b=0;b<e.SheetNames.length;++b){var L=a[b]||{};Ze(w,133,HN({pos:O,hs:L.Hidden||0,dt:0,name:e.SheetNames[b]},r)),O+=n[b].length}var N=w.end();if(C!=N.length)throw new Error("BS8 "+C+" != "+N.length);var V=[];return f.length&&V.push(f),N.length&&V.push(N),v.length&&V.push(v),Ir(V)}function xG(e,n){var r=n||{},t=[];e&&!e.SSF&&(e.SSF=Ei(Dt)),e&&e.SSF&&(wu(),Qm(e.SSF),r.revssf=ug(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,_v(r),r.cellXfs=[],$c(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)t[t.length]=gG(i,r,e);return t.unshift(_G(e,t,r)),Ir(t)}function nE(e,n){for(var r=0;r<=e.SheetNames.length;++r){var t=e.Sheets[e.SheetNames[r]];if(!(!t||!t["!ref"])){var i=Oa(t["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=n||{};switch(a.biff||2){case 8:case 5:return xG(e,n);case 4:case 3:case 2:return cG(e,n)}throw new Error("invalid type "+a.bookType+" for BIFF")}function nk(e,n){var r=n||{};Ki!=null&&r.dense==null&&(r.dense=Ki);var t=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),o=i.index,s=a&&a.index||e.length,d=n7(e.slice(o,s),/(:?<tr[^>]*>)/i,"<tr>"),m=-1,f=0,_=0,v=0,w={s:{r:1e7,c:1e7},e:{r:0,c:0}},C=[];for(o=0;o<d.length;++o){var b=d[o].trim(),O=b.slice(0,3).toLowerCase();if(O=="<tr"){if(++m,r.sheetRows&&r.sheetRows<=m){--m;break}f=0;continue}if(!(O!="<td"&&O!="<th")){var L=b.split(/<\/t[dh]>/i);for(s=0;s<L.length;++s){var N=L[s].trim();if(N.match(/<t[dh]/i)){for(var V=N,re=0;V.charAt(0)=="<"&&(re=V.indexOf(">"))>-1;)V=V.slice(re+1);for(var oe=0;oe<C.length;++oe){var F=C[oe];F.s.c==f&&F.s.r<m&&m<=F.e.r&&(f=F.e.c+1,oe=-1)}var S=Ht(N.slice(0,N.indexOf(">")));v=S.colspan?+S.colspan:1,((_=+S.rowspan)>1||v>1)&&C.push({s:{r:m,c:f},e:{r:m+(_||1)-1,c:f+v-1}});var E=S.t||S["data-t"]||"";if(!V.length){f+=v;continue}if(V=Ik(V),w.s.r>m&&(w.s.r=m),w.e.r<m&&(w.e.r=m),w.s.c>f&&(w.s.c=f),w.e.c<f&&(w.e.c=f),!V.length){f+=v;continue}var A={t:"s",v:V};r.raw||!V.trim().length||E=="s"||(V==="TRUE"?A={t:"b",v:!0}:V==="FALSE"?A={t:"b",v:!1}:isNaN(Uo(V))?isNaN(bu(V).getDate())||(A={t:"d",v:Pi(V)},r.cellDates||(A={t:"n",v:vr(A.v)}),A.z=r.dateNF||Dt[14]):A={t:"n",v:Uo(V)}),r.dense?(t[m]||(t[m]=[]),t[m][f]=A):t[Lt({r:m,c:f})]=A,f+=v}}}}return t["!ref"]=on(w),C.length&&(t["!merges"]=C),t}function vG(e,n,r,t){for(var i=e["!merges"]||[],a=[],o=n.s.c;o<=n.e.c;++o){for(var s=0,d=0,m=0;m<i.length;++m)if(!(i[m].s.r>r||i[m].s.c>o)&&!(i[m].e.r<r||i[m].e.c<o)){if(i[m].s.r<r||i[m].s.c<o){s=-1;break}s=i[m].e.r-i[m].s.r+1,d=i[m].e.c-i[m].s.c+1;break}if(!(s<0)){var f=Lt({r,c:o}),_=t.dense?(e[r]||[])[o]:e[f],v=_&&_.v!=null&&(_.h||Ux(_.w||(Hs(_),_.w)||""))||"",w={};s>1&&(w.rowspan=s),d>1&&(w.colspan=d),t.editable?v='<span contenteditable="true">'+v+"</span>":_&&(w["data-t"]=_&&_.t||"z",_.v!=null&&(w["data-v"]=_.v),_.z!=null&&(w["data-z"]=_.z),_.l&&(_.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+_.l.Target+'">'+v+"</a>")),w.id=(t.id||"sjs")+"-"+f,a.push(Qe("td",v,w))}}var C="<tr>";return C+a.join("")+"</tr>"}var bG='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',yG="</body></html>";function CG(e,n){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Gc(nk(r[0],n),n);var t=yv();return r.forEach(function(i,a){Cv(t,nk(i,n),"Sheet"+(a+1))}),t}function wG(e,n,r){var t=[];return t.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function iE(e,n){var r=n||{},t=r.header!=null?r.header:bG,i=r.footer!=null?r.footer:yG,a=[t],o=Oa(e["!ref"]);r.dense=Array.isArray(e),a.push(wG(e,o,r));for(var s=o.s.r;s<=o.e.r;++s)a.push(vG(e,o,s,r));return a.push("</table>"+i),a.join("")}function rE(e,n,r){var t=r||{};Ki!=null&&(t.dense=Ki);var i=0,a=0;if(t.origin!=null)if(typeof t.origin=="number")i=t.origin;else{var o=typeof t.origin=="string"?Ui(t.origin):t.origin;i=o.r,a=o.c}var s=n.getElementsByTagName("tr"),d=Math.min(t.sheetRows||1e7,s.length),m={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var f=Oa(e["!ref"]);m.s.r=Math.min(m.s.r,f.s.r),m.s.c=Math.min(m.s.c,f.s.c),m.e.r=Math.max(m.e.r,f.e.r),m.e.c=Math.max(m.e.c,f.e.c),i==-1&&(m.e.r=i=f.e.r+1)}var _=[],v=0,w=e["!rows"]||(e["!rows"]=[]),C=0,b=0,O=0,L=0,N=0,V=0;for(e["!cols"]||(e["!cols"]=[]);C<s.length&&b<d;++C){var re=s[C];if(ik(re)){if(t.display)continue;w[b]={hidden:!0}}var oe=re.children;for(O=L=0;O<oe.length;++O){var F=oe[O];if(!(t.display&&ik(F))){var S=F.hasAttribute("data-v")?F.getAttribute("data-v"):F.hasAttribute("v")?F.getAttribute("v"):Ik(F.innerHTML),E=F.getAttribute("data-z")||F.getAttribute("z");for(v=0;v<_.length;++v){var A=_[v];A.s.c==L+a&&A.s.r<b+i&&b+i<=A.e.r&&(L=A.e.c+1-a,v=-1)}V=+F.getAttribute("colspan")||1,((N=+F.getAttribute("rowspan")||1)>1||V>1)&&_.push({s:{r:b+i,c:L+a},e:{r:b+i+(N||1)-1,c:L+a+(V||1)-1}});var R={t:"s",v:S},j=F.getAttribute("data-t")||F.getAttribute("t")||"";S!=null&&(S.length==0?R.t=j||"z":t.raw||S.trim().length==0||j=="s"||(S==="TRUE"?R={t:"b",v:!0}:S==="FALSE"?R={t:"b",v:!1}:isNaN(Uo(S))?isNaN(bu(S).getDate())||(R={t:"d",v:Pi(S)},t.cellDates||(R={t:"n",v:vr(R.v)}),R.z=t.dateNF||Dt[14]):R={t:"n",v:Uo(S)})),R.z===void 0&&E!=null&&(R.z=E);var U="",Y=F.getElementsByTagName("A");if(Y&&Y.length)for(var Ge=0;Ge<Y.length&&!(Y[Ge].hasAttribute("href")&&(U=Y[Ge].getAttribute("href"),U.charAt(0)!="#"));++Ge);U&&U.charAt(0)!="#"&&(R.l={Target:U}),t.dense?(e[b+i]||(e[b+i]=[]),e[b+i][L+a]=R):e[Lt({c:L+a,r:b+i})]=R,m.e.c<L+a&&(m.e.c=L+a),L+=V}}++b}return _.length&&(e["!merges"]=(e["!merges"]||[]).concat(_)),m.e.r=Math.max(m.e.r,b-1+i),e["!ref"]=on(m),b>=d&&(e["!fullref"]=on((m.e.r=s.length-C+b-1+i,m))),e}function aE(e,n){var r=n||{},t=r.dense?[]:{};return rE(t,e,n)}function SG(e,n){return Gc(aE(e,n),n)}function ik(e){var n="",r=MG(e);return r&&(n=r(e).getPropertyValue("display")),n||(n=e.style&&e.style.display),n==="none"}function MG(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function kG(e){var n=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(t,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Bn(n.replace(/<[^>]*>/g,""));return[r]}var rk={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function oE(e,n){var r=n||{};Ki!=null&&r.dense==null&&(r.dense=Ki);var t=zx(e),i=[],a,o,s={name:""},d="",m=0,f,_,v={},w=[],C=r.dense?[]:{},b,O,L={value:""},N="",V=0,re,oe=[],F=-1,S=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,R={},j=[],U={},Y=0,Ge=0,ke=[],Xe=1,De=1,st=[],Ie={Names:[]},Ve={},me=["",""],te=[],ae={},se="",ce=0,fe=!1,Ae=!1,Re=0;for(Um.lastIndex=0,t=t.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=Um.exec(t);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"\u5DE5\u4F5C\u8868":b[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?C["!ref"]=on(E):C["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=E.e.r&&(C["!fullref"]=C["!ref"],E.e.r=r.sheetRows-1,C["!ref"]=on(E)),j.length&&(C["!merges"]=j),ke.length&&(C["!rows"]=ke),f.name=f.\u540D\u79F0||f.name,typeof JSON<"u"&&JSON.stringify(f),w.push(f.name),v[f.name]=C,Ae=!1):b[0].charAt(b[0].length-2)!=="/"&&(f=Ht(b[0],!1),F=S=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,C=r.dense?[]:{},j=[],ke=[],Ae=!0);break;case"table-row-group":b[1]==="/"?--A:++A;break;case"table-row":case"\u884C":if(b[1]==="/"){F+=Xe,Xe=1;break}if(_=Ht(b[0],!1),_.\u884C\u53F7?F=_.\u884C\u53F7-1:F==-1&&(F=0),Xe=+_["number-rows-repeated"]||1,Xe<10)for(Re=0;Re<Xe;++Re)A>0&&(ke[F+Re]={level:A});S=-1;break;case"covered-table-cell":b[1]!=="/"&&++S,r.sheetStubs&&(r.dense?(C[F]||(C[F]=[]),C[F][S]={t:"z"}):C[Lt({r:F,c:S})]={t:"z"}),N="",oe=[];break;case"table-cell":case"\u6570\u636E":if(b[0].charAt(b[0].length-2)==="/")++S,L=Ht(b[0],!1),De=parseInt(L["number-columns-repeated"]||"1",10),O={t:"z",v:null},L.formula&&r.cellFormula!=!1&&(O.f=JM(Bn(L.formula))),(L.\u6570\u636E\u7C7B\u578B||L["value-type"])=="string"&&(O.t="s",O.v=Bn(L["string-value"]||""),r.dense?(C[F]||(C[F]=[]),C[F][S]=O):C[Lt({r:F,c:S})]=O),S+=De-1;else if(b[1]!=="/"){++S,N="",V=0,oe=[],De=1;var Te=Xe?F+Xe-1:F;if(S>E.e.c&&(E.e.c=S),S<E.s.c&&(E.s.c=S),F<E.s.r&&(E.s.r=F),Te>E.e.r&&(E.e.r=Te),L=Ht(b[0],!1),te=[],ae={},O={t:L.\u6570\u636E\u7C7B\u578B||L["value-type"],v:null},r.cellFormula)if(L.formula&&(L.formula=Bn(L.formula)),L["number-matrix-columns-spanned"]&&L["number-matrix-rows-spanned"]&&(Y=parseInt(L["number-matrix-rows-spanned"],10)||0,Ge=parseInt(L["number-matrix-columns-spanned"],10)||0,U={s:{r:F,c:S},e:{r:F+Y-1,c:S+Ge-1}},O.F=on(U),st.push([U,O.F])),L.formula)O.f=JM(L.formula);else for(Re=0;Re<st.length;++Re)F>=st[Re][0].s.r&&F<=st[Re][0].e.r&&S>=st[Re][0].s.c&&S<=st[Re][0].e.c&&(O.F=st[Re][1]);switch((L["number-columns-spanned"]||L["number-rows-spanned"])&&(Y=parseInt(L["number-rows-spanned"],10)||0,Ge=parseInt(L["number-columns-spanned"],10)||0,U={s:{r:F,c:S},e:{r:F+Y-1,c:S+Ge-1}},j.push(U)),L["number-columns-repeated"]&&(De=parseInt(L["number-columns-repeated"],10)),O.t){case"boolean":O.t="b",O.v=ki(L["boolean-value"]);break;case"float":O.t="n",O.v=parseFloat(L.value);break;case"percentage":O.t="n",O.v=parseFloat(L.value);break;case"currency":O.t="n",O.v=parseFloat(L.value);break;case"date":O.t="d",O.v=Pi(L["date-value"]),r.cellDates||(O.t="n",O.v=vr(O.v)),O.z="m/d/yy";break;case"time":O.t="n",O.v=JR(L["time-value"])/86400,r.cellDates&&(O.t="d",O.v=mg(O.v)),O.z="HH:MM:SS";break;case"number":O.t="n",O.v=parseFloat(L.\u6570\u636E\u6570\u503C);break;default:if(O.t==="string"||O.t==="text"||!O.t)O.t="s",L["string-value"]!=null&&(N=Bn(L["string-value"]),oe=[]);else throw new Error("Unsupported value type "+O.t)}}else{if(fe=!1,O.t==="s"&&(O.v=N||"",oe.length&&(O.R=oe),fe=V==0),Ve.Target&&(O.l=Ve),te.length>0&&(O.c=te,te=[]),N&&r.cellText!==!1&&(O.w=N),fe&&(O.t="z",delete O.v),(!fe||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=F))for(var we=0;we<Xe;++we){if(De=parseInt(L["number-columns-repeated"]||"1",10),r.dense)for(C[F+we]||(C[F+we]=[]),C[F+we][S]=we==0?O:Ei(O);--De>0;)C[F+we][S+De]=Ei(O);else for(C[Lt({r:F+we,c:S})]=O;--De>0;)C[Lt({r:F+we,c:S+De})]=Ei(O);E.e.c<=S&&(E.e.c=S)}De=parseInt(L["number-columns-repeated"]||"1",10),S+=De-1,De=0,O={},N="",oe=[]}Ve={};break;case"document":case"document-content":case"\u7535\u5B50\u8868\u683C\u6587\u6863":case"spreadsheet":case"\u4E3B\u4F53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((a=i.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((a=i.pop())[0]!==b[3])throw"Bad state: "+a;ae.t=N,oe.length&&(ae.R=oe),ae.a=se,te.push(ae)}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);se="",ce=0,N="",V=0,oe=[];break;case"creator":b[1]==="/"?se=t.slice(ce,b.index):ce=b.index+b[0].length;break;case"meta":case"\u5143\u6570\u636E":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((a=i.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);N="",V=0,oe=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(R[s.name]=d,(a=i.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&(d="",s=Ht(b[0],!1),i.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=Ht(b[0],!1),d+=rk[b[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=Ht(b[0],!1),d+=rk[b[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":d+=t.slice(m,b.index);break}else m=b.index+b[0].length;break;case"named-range":o=Ht(b[0],!1),me=mx(o["cell-range-address"]);var dt={Name:o.name,Ref:me[0]+"!"+me[1]};Ae&&(dt.Sheet=w.length),Ie.Names.push(dt);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"\u7535\u5B50\u8868\u683C":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"\u6587\u672C\u4E32":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(b[1]==="/"&&(!L||!L["string-value"])){var ee=kG(t.slice(V,b.index),re);N=(N.length>0?N+`
`:"")+ee[0]}else re=Ht(b[0],!1),V=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{me=mx(Ht(b[0])["target-range-address"]),v[me[0]]["!autofilter"]={ref:me[1]}}catch{}break;case"date":break;case"object":break;case"title":case"\u6807\u9898":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(Ve=Ht(b[0],!1),!Ve.href)break;Ve.Target=Bn(Ve.href),delete Ve.href,Ve.Target.charAt(0)=="#"&&Ve.Target.indexOf(".")>-1?(me=mx(Ve.Target.slice(1)),Ve.Target="#"+me[0]+"!"+me[1]):Ve.Target.match(/^\.\.[\\\/]/)&&(Ve.Target=Ve.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5B57:":break;default:if(r.WTF)throw new Error(b)}}var pt={Sheets:v,SheetNames:w,Workbook:Ie};return r.bookSheets&&delete pt.Sheets,pt}function ak(e,n){n=n||{},vo(e,"META-INF/manifest.xml")&&J7(dr(e,"META-INF/manifest.xml"),n);var r=Ua(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var t=oE(pi(r),n);return vo(e,"meta.xml")&&(t.Props=Qk(dr(e,"meta.xml"))),t}function ok(e,n){return oE(e,n)}var PG=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),n="<office:document-styles "+jm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return tr+n}}(),sk=function(){var e=function(a){return di(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},n=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,t=function(a,o,s){var d=[];d.push('      <table:table table:name="'+di(o.SheetNames[s])+`" table:style-name="ta1">
`);var m=0,f=0,_=Oa(a["!ref"]||"A1"),v=a["!merges"]||[],w=0,C=Array.isArray(a);if(a["!cols"])for(f=0;f<=_.e.c;++f)d.push("        <table:table-column"+(a["!cols"][f]?' table:style-name="co'+a["!cols"][f].ods+'"':"")+`></table:table-column>
`);var b="",O=a["!rows"]||[];for(m=0;m<_.s.r;++m)b=O[m]?' table:style-name="ro'+O[m].ods+'"':"",d.push("        <table:table-row"+b+`></table:table-row>
`);for(;m<=_.e.r;++m){for(b=O[m]?' table:style-name="ro'+O[m].ods+'"':"",d.push("        <table:table-row"+b+`>
`),f=0;f<_.s.c;++f)d.push(n);for(;f<=_.e.c;++f){var L=!1,N={},V="";for(w=0;w!=v.length;++w)if(!(v[w].s.c>f)&&!(v[w].s.r>m)&&!(v[w].e.c<f)&&!(v[w].e.r<m)){(v[w].s.c!=f||v[w].s.r!=m)&&(L=!0),N["table:number-columns-spanned"]=v[w].e.c-v[w].s.c+1,N["table:number-rows-spanned"]=v[w].e.r-v[w].s.r+1;break}if(L){d.push(r);continue}var re=Lt({r:m,c:f}),oe=C?(a[m]||[])[f]:a[re];if(oe&&oe.f&&(N["table:formula"]=di(Yj(oe.f)),oe.F&&oe.F.slice(0,re.length)==re)){var F=Oa(oe.F);N["table:number-matrix-columns-spanned"]=F.e.c-F.s.c+1,N["table:number-matrix-rows-spanned"]=F.e.r-F.s.r+1}if(!oe){d.push(n);continue}switch(oe.t){case"b":V=oe.v?"TRUE":"FALSE",N["office:value-type"]="boolean",N["office:boolean-value"]=oe.v?"true":"false";break;case"n":V=oe.w||String(oe.v||0),N["office:value-type"]="float",N["office:value"]=oe.v||0;break;case"s":case"str":V=oe.v==null?"":oe.v,N["office:value-type"]="string";break;case"d":V=oe.w||Pi(oe.v).toISOString(),N["office:value-type"]="date",N["office:date-value"]=Pi(oe.v).toISOString(),N["table:style-name"]="ce1";break;default:d.push(n);continue}var S=e(V);if(oe.l&&oe.l.Target){var E=oe.l.Target;E=E.charAt(0)=="#"?"#"+qj(E.slice(1)):E,E.charAt(0)!="#"&&!E.match(/^\w+:/)&&(E="../"+E),S=Qe("text:a",S,{"xlink:href":E.replace(/&/g,"&amp;")})}d.push("          "+Qe("table:table-cell",Qe("text:p",S,{}),N)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},i=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var s=0;o.SheetNames.map(function(m){return o.Sheets[m]}).forEach(function(m){if(m&&m["!cols"]){for(var f=0;f<m["!cols"].length;++f)if(m["!cols"][f]){var _=m["!cols"][f];if(_.width==null&&_.wpx==null&&_.wch==null)continue;jc(_),_.ods=s;var v=m["!cols"][f].wpx+"px";a.push('  <style:style style:name="co'+s+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+v+`"/>
`),a.push(`  </style:style>
`),++s}}});var d=0;o.SheetNames.map(function(m){return o.Sheets[m]}).forEach(function(m){if(m&&m["!rows"]){for(var f=0;f<m["!rows"].length;++f)if(m["!rows"][f]){m["!rows"][f].ods=d;var _=m["!rows"][f].hpx+"px";a.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+_+`"/>
`),a.push(`  </style:style>
`),++d}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,s){var d=[tr],m=jm({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=jm({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});s.bookType=="fods"?(d.push("<office:document"+m+f+`>
`),d.push(Kk().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+m+`>
`),i(d,o),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var _=0;_!=o.SheetNames.length;++_)d.push(t(o.Sheets[o.SheetNames[_]],o,_,s));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),s.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}}();function sE(e,n){if(n.bookType=="fods")return sk(e,n);var r=Vx(),t="",i=[],a=[];return t="mimetype",ln(r,t,"application/vnd.oasis.opendocument.spreadsheet"),t="content.xml",ln(r,t,sk(e,n)),i.push([t,"text/xml"]),a.push([t,"ContentFile"]),t="styles.xml",ln(r,t,PG(e,n)),i.push([t,"text/xml"]),a.push([t,"StylesFile"]),t="meta.xml",ln(r,t,tr+Kk()),i.push([t,"text/xml"]),a.push([t,"MetadataFile"]),t="manifest.rdf",ln(r,t,nN(a)),i.push([t,"application/rdf+xml"]),t="META-INF/manifest.xml",ln(r,t,eN(i)),r}function Al(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Tx(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):pi(Hc(e))}function EG(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):ja(ls(e))}function TG(e,n){e:for(var r=0;r<=e.length-n.length;++r){for(var t=0;t<n.length;++t)if(e[r+t]!=n[t])continue e;return!0}return!1}function zc(e){var n=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(n),t=0;return e.forEach(function(i){r.set(i,t),t+=i.length}),r}function ck(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function OG(e,n){for(var r=(e[n+15]&127)<<7|e[n+14]>>1,t=e[n+14]&1,i=n+13;i>=n;--i)t=t*256+e[i];return(e[n+15]&128?-t:t)*Math.pow(10,r-6176)}function IG(e,n,r){var t=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,t-6176);e[n+15]|=t>>7,e[n+14]|=(t&127)<<1;for(var a=0;i>=1;++a,i/=256)e[n+a]=i&255;e[n+15]|=r>=0?0:128}function qm(e,n){var r=n?n[0]:0,t=e[r]&127;e:if(e[r++]>=128&&(t|=(e[r]&127)<<7,e[r++]<128||(t|=(e[r]&127)<<14,e[r++]<128)||(t|=(e[r]&127)<<21,e[r++]<128)||(t+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(t+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(t+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return n&&(n[0]=r),t}function ci(e){var n=new Uint8Array(7);n[0]=e&127;var r=1;e:if(e>127){if(n[r-1]|=128,n[r]=e>>7&127,++r,e<=16383||(n[r-1]|=128,n[r]=e>>14&127,++r,e<=2097151)||(n[r-1]|=128,n[r]=e>>21&127,++r,e<=268435455)||(n[r-1]|=128,n[r]=e/256>>>21&127,++r,e<=34359738367)||(n[r-1]|=128,n[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;n[r-1]|=128,n[r]=e/16777216>>>21&127,++r}return n.slice(0,r)}function qi(e){var n=0,r=e[n]&127;e:if(e[n++]>=128){if(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128))break e;r|=(e[n]&127)<<28}return r}function Gn(e){for(var n=[],r=[0];r[0]<e.length;){var t=r[0],i=qm(e,r),a=i&7;i=Math.floor(i/8);var o=0,s;if(i==0)break;switch(a){case 0:{for(var d=r[0];e[r[0]++]>=128;);s=e.slice(d,r[0])}break;case 5:o=4,s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=qm(e,r),s=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(t))}var m={data:s,type:a};n[i]==null?n[i]=[m]:n[i].push(m)}return n}function Br(e){var n=[];return e.forEach(function(r,t){r.forEach(function(i){i.data&&(n.push(ci(t*8+i.type)),i.type==2&&n.push(ci(i.data.length)),n.push(i.data))})}),zc(n)}function fv(e,n){return(e==null?void 0:e.map(function(r){return n(r.data)}))||[]}function _o(e){for(var n,r=[],t=[0];t[0]<e.length;){var i=qm(e,t),a=Gn(e.slice(t[0],t[0]+i));t[0]+=i;var o={id:qi(a[1][0].data),messages:[]};a[2].forEach(function(s){var d=Gn(s.data),m=qi(d[3][0].data);o.messages.push({meta:d,data:e.slice(t[0],t[0]+m)}),t[0]+=m}),(n=a[3])!=null&&n[0]&&(o.merge=qi(a[3][0].data)>>>0>0),r.push(o)}return r}function du(e){var n=[];return e.forEach(function(r){var t=[];t[1]=[{data:ci(r.id),type:0}],t[2]=[],r.merge!=null&&(t[3]=[{data:ci(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:ci(o.data.length)}],t[2].push({data:Br(o.meta),type:2})});var a=Br(t);n.push(ci(a.length)),n.push(a),i.forEach(function(o){return n.push(o)})}),zc(n)}function AG(e,n){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],t=qm(n,r),i=[];r[0]<n.length;){var a=n[r[0]]&3;if(a==0){var o=n[r[0]++]>>2;if(o<60)++o;else{var s=o-59;o=n[r[0]],s>1&&(o|=n[r[0]+1]<<8),s>2&&(o|=n[r[0]+2]<<16),s>3&&(o|=n[r[0]+3]<<24),o>>>=0,o++,r[0]+=s}i.push(n.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var d=0,m=0;if(a==1?(m=(n[r[0]]>>2&7)+4,d=(n[r[0]++]&224)<<3,d|=n[r[0]++]):(m=(n[r[0]++]>>2)+1,a==2?(d=n[r[0]]|n[r[0]+1]<<8,r[0]+=2):(d=(n[r[0]]|n[r[0]+1]<<8|n[r[0]+2]<<16|n[r[0]+3]<<24)>>>0,r[0]+=4)),i=[zc(i)],d==0)throw new Error("Invalid offset 0");if(d>i[0].length)throw new Error("Invalid offset beyond length");if(m>=d)for(i.push(i[0].slice(-d)),m-=d;m>=i[i.length-1].length;)i.push(i[i.length-1]),m-=i[i.length-1].length;i.push(i[0].slice(-d,-d+m))}}var f=zc(i);if(f.length!=t)throw new Error("Unexpected length: ".concat(f.length," != ").concat(t));return f}function xo(e){for(var n=[],r=0;r<e.length;){var t=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,n.push(AG(t,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return zc(n)}function uu(e){for(var n=[],r=0;r<e.length;){var t=Math.min(e.length-r,268435455),i=new Uint8Array(4);n.push(i);var a=ci(t),o=a.length;n.push(a),t<=60?(o++,n.push(new Uint8Array([t-1<<2]))):t<=256?(o+=2,n.push(new Uint8Array([240,t-1&255]))):t<=65536?(o+=3,n.push(new Uint8Array([244,t-1&255,t-1>>8&255]))):t<=16777216?(o+=4,n.push(new Uint8Array([248,t-1&255,t-1>>8&255,t-1>>16&255]))):t<=4294967296&&(o+=5,n.push(new Uint8Array([252,t-1&255,t-1>>8&255,t-1>>16&255,t-1>>>24&255]))),n.push(e.slice(r,r+t)),o+=t,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,r+=t}return zc(n)}function DG(e,n,r,t){var i=Al(e),a=i.getUint32(4,!0),o=(t>1?12:8)+ck(a&(t>1?3470:398))*4,s=-1,d=-1,m=NaN,f=new Date(2001,0,1);a&512&&(s=i.getUint32(o,!0),o+=4),o+=ck(a&(t>1?12288:4096))*4,a&16&&(d=i.getUint32(o,!0),o+=4),a&32&&(m=i.getFloat64(o,!0),o+=8),a&64&&(f.setTime(f.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var _;switch(e[2]){case 0:break;case 2:_={t:"n",v:m};break;case 3:_={t:"s",v:n[d]};break;case 5:_={t:"d",v:f};break;case 6:_={t:"b",v:m>0};break;case 7:_={t:"n",v:m/86400};break;case 8:_={t:"e",v:0};break;case 9:if(s>-1)_={t:"s",v:r[s]};else if(d>-1)_={t:"s",v:n[d]};else if(!isNaN(m))_={t:"n",v:m};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return _}function FG(e,n,r){var t=Al(e),i=t.getUint32(8,!0),a=12,o=-1,s=-1,d=NaN,m=NaN,f=new Date(2001,0,1);i&1&&(d=OG(e,a),a+=16),i&2&&(m=t.getFloat64(a,!0),a+=8),i&4&&(f.setTime(f.getTime()+t.getFloat64(a,!0)*1e3),a+=8),i&8&&(s=t.getUint32(a,!0),a+=4),i&16&&(o=t.getUint32(a,!0),a+=4);var _;switch(e[1]){case 0:break;case 2:_={t:"n",v:d};break;case 3:_={t:"s",v:n[s]};break;case 5:_={t:"d",v:f};break;case 6:_={t:"b",v:m>0};break;case 7:_={t:"n",v:m/86400};break;case 8:_={t:"e",v:0};break;case 9:if(o>-1)_={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:_={t:"n",v:d};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return _}function px(e,n){var r=new Uint8Array(32),t=Al(r),i=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,IG(r,i,e.v),a|=1,i+=16;break;case"b":r[1]=6,t.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(n.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,t.setUint32(i,n.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return t.setUint32(8,a,!0),r.slice(0,i)}function fx(e,n){var r=new Uint8Array(32),t=Al(r),i=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,t.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":r[2]=6,t.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(n.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,t.setUint32(i,n.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return t.setUint32(4,a,!0),r.slice(0,i)}function RG(e,n,r){switch(e[0]){case 0:case 1:case 2:case 3:return DG(e,n,r,e[0]);case 5:return FG(e,n,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Jr(e){var n=Gn(e);return qm(n[1][0].data)}function lk(e,n){var r=Gn(n.data),t=qi(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(o){var s=Gn(o.data),d=qi(s[1][0].data)>>>0;switch(t){case 1:a[d]=Tx(s[3][0].data);break;case 8:{var m=e[Jr(s[9][0].data)][0],f=Gn(m.data),_=e[Jr(f[1][0].data)][0],v=qi(_.meta[1][0].data);if(v!=2001)throw new Error("2000 unexpected reference to ".concat(v));var w=Gn(_.data);a[d]=w[3].map(function(C){return Tx(C.data)}).join("")}break}}),a}function NG(e,n){var r,t,i,a,o,s,d,m,f,_,v,w,C,b,O=Gn(e),L=qi(O[1][0].data)>>>0,N=qi(O[2][0].data)>>>0,V=((t=(r=O[8])==null?void 0:r[0])==null?void 0:t.data)&&qi(O[8][0].data)>0||!1,re,oe;if((a=(i=O[7])==null?void 0:i[0])!=null&&a.data&&n!=0)re=(s=(o=O[7])==null?void 0:o[0])==null?void 0:s.data,oe=(m=(d=O[6])==null?void 0:d[0])==null?void 0:m.data;else if((_=(f=O[4])==null?void 0:f[0])!=null&&_.data&&n!=1)re=(w=(v=O[4])==null?void 0:v[0])==null?void 0:w.data,oe=(b=(C=O[3])==null?void 0:C[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(n," cell storage");for(var F=V?4:1,S=Al(re),E=[],A=0;A<re.length/2;++A){var R=S.getUint16(A*2,!0);R<65535&&E.push([A,R])}if(E.length!=N)throw"Expected ".concat(N," cells, found ").concat(E.length);var j=[];for(A=0;A<E.length-1;++A)j[E[A][0]]=oe.subarray(E[A][1]*F,E[A+1][1]*F);return E.length>=1&&(j[E[E.length-1][0]]=oe.subarray(E[E.length-1][1]*F)),{R:L,cells:j}}function LG(e,n){var r,t=Gn(n.data),i=(r=t==null?void 0:t[7])!=null&&r[0]?qi(t[7][0].data)>>>0>0?1:0:-1,a=fv(t[5],function(o){return NG(o,i)});return{nrows:qi(t[4][0].data)>>>0,data:a.reduce(function(o,s){return o[s.R]||(o[s.R]=[]),s.cells.forEach(function(d,m){if(o[s.R][m])throw new Error("Duplicate cell r=".concat(s.R," c=").concat(m));o[s.R][m]=d}),o},[])}}function VG(e,n,r){var t,i=Gn(n.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(qi(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(qi(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=on(a);var o=Gn(i[4][0].data),s=lk(e,e[Jr(o[4][0].data)][0]),d=(t=o[17])!=null&&t[0]?lk(e,e[Jr(o[17][0].data)][0]):[],m=Gn(o[3][0].data),f=0;m[1].forEach(function(_){var v=Gn(_.data),w=e[Jr(v[2][0].data)][0],C=qi(w.meta[1][0].data);if(C!=6002)throw new Error("6001 unexpected reference to ".concat(C));var b=LG(e,w);b.data.forEach(function(O,L){O.forEach(function(N,V){var re=Lt({r:f+L,c:V}),oe=RG(N,s,d);oe&&(r[re]=oe)})}),f+=b.nrows})}function BG(e,n){var r=Gn(n.data),t={"!ref":"A1"},i=e[Jr(r[2][0].data)],a=qi(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return VG(e,i[0],t),t}function jG(e,n){var r,t=Gn(n.data),i={name:(r=t[1])!=null&&r[0]?Tx(t[1][0].data):"",sheets:[]},a=fv(t[2],Jr);return a.forEach(function(o){e[o].forEach(function(s){var d=qi(s.meta[1][0].data);d==6e3&&i.sheets.push(BG(e,s))})}),i}function UG(e,n){var r=yv(),t=Gn(n.data),i=fv(t[1],Jr);if(i.forEach(function(a){e[a].forEach(function(o){var s=qi(o.meta[1][0].data);if(s==2){var d=jG(e,o);d.sheets.forEach(function(m,f){Cv(r,m,f==0?d.name:d.name+"_"+f,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function gx(e){var n,r,t,i,a={},o=[];if(e.FullPaths.forEach(function(d){if(d.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(d){if(d.name.match(/\.iwa$/)){var m;try{m=xo(d.content)}catch(_){return console.log("?? "+d.content.length+" "+(_.message||_))}var f;try{f=_o(m)}catch(_){return console.log("## "+(_.message||_))}f.forEach(function(_){a[_.id]=_.messages,o.push(_.id)})}}),!o.length)throw new Error("File has no messages");var s=((i=(t=(r=(n=a==null?void 0:a[1])==null?void 0:n[0])==null?void 0:r.meta)==null?void 0:t[1])==null?void 0:i[0].data)&&qi(a[1][0].meta[1][0].data)==1&&a[1][0];if(s||o.forEach(function(d){a[d].forEach(function(m){var f=qi(m.meta[1][0].data)>>>0;if(f==1)if(!s)s=m;else throw new Error("Document has multiple roots")})}),!s)throw new Error("Cannot find Document root");return UG(a,s)}function zG(e,n,r){var t,i,a,o;if(!((t=e[6])!=null&&t[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var s=((o=(a=e[8])==null?void 0:a[0])==null?void 0:o.data)&&qi(e[8][0].data)>0||!1;if(s)throw"Math only works with normal offsets";for(var d=0,m=Al(e[7][0].data),f=0,_=[],v=Al(e[4][0].data),w=0,C=[],b=0;b<n.length;++b){if(n[b]==null){m.setUint16(b*2,65535,!0),v.setUint16(b*2,65535);continue}m.setUint16(b*2,f,!0),v.setUint16(b*2,w,!0);var O,L;switch(typeof n[b]){case"string":O=px({t:"s",v:n[b]},r),L=fx({t:"s",v:n[b]},r);break;case"number":O=px({t:"n",v:n[b]},r),L=fx({t:"n",v:n[b]},r);break;case"boolean":O=px({t:"b",v:n[b]},r),L=fx({t:"b",v:n[b]},r);break;default:throw new Error("Unsupported value "+n[b])}_.push(O),f+=O.length,C.push(L),w+=L.length,++d}for(e[2][0].data=ci(d);b<e[7][0].data.length/2;++b)m.setUint16(b*2,65535,!0),v.setUint16(b*2,65535,!0);return e[6][0].data=zc(_),e[3][0].data=zc(C),d}function HG(e,n){if(!n||!n.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var t=Oa(r["!ref"]);t.s.r=t.s.c=0;var i=!1;t.e.c>9&&(i=!0,t.e.c=9),t.e.r>49&&(i=!0,t.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(on(t)));var a=cg(r,{range:t,header:1}),o=["~Sh33tJ5~"];a.forEach(function(se){return se.forEach(function(ce){typeof ce=="string"&&o.push(ce)})});var s={},d=[],m=Pt.read(n.numbers,{type:"base64"});m.FileIndex.map(function(se,ce){return[se,m.FullPaths[ce]]}).forEach(function(se){var ce=se[0],fe=se[1];if(ce.type==2&&ce.name.match(/\.iwa/)){var Ae=ce.content,Re=xo(Ae),Te=_o(Re);Te.forEach(function(we){d.push(we.id),s[we.id]={deps:[],location:fe,type:qi(we.messages[0].meta[1][0].data)}})}}),d.sort(function(se,ce){return se-ce});var f=d.filter(function(se){return se>1}).map(function(se){return[se,ci(se)]});m.FileIndex.map(function(se,ce){return[se,m.FullPaths[ce]]}).forEach(function(se){var ce=se[0],fe=se[1];if(ce.name.match(/\.iwa/)){var Ae=_o(xo(ce.content));Ae.forEach(function(Re){Re.messages.forEach(function(Te){f.forEach(function(we){Re.messages.some(function(dt){return qi(dt.meta[1][0].data)!=11006&&TG(dt.data,we[1])})&&s[we[0]].deps.push(Re.id)})})})}});function _(){for(var se=927262;se<2e6;++se)if(!s[se])return se;throw new Error("Too many messages")}for(var v=Pt.find(m,s[1].location),w=_o(xo(v.content)),C,b=0;b<w.length;++b){var O=w[b];O.id==1&&(C=O)}var L=Jr(Gn(C.messages[0].data)[1][0].data);for(v=Pt.find(m,s[L].location),w=_o(xo(v.content)),b=0;b<w.length;++b)O=w[b],O.id==L&&(C=O);for(L=Jr(Gn(C.messages[0].data)[2][0].data),v=Pt.find(m,s[L].location),w=_o(xo(v.content)),b=0;b<w.length;++b)O=w[b],O.id==L&&(C=O);for(L=Jr(Gn(C.messages[0].data)[2][0].data),v=Pt.find(m,s[L].location),w=_o(xo(v.content)),b=0;b<w.length;++b)O=w[b],O.id==L&&(C=O);var N=Gn(C.messages[0].data);{N[6][0].data=ci(t.e.r+1),N[7][0].data=ci(t.e.c+1);var V=Jr(N[46][0].data),re=Pt.find(m,s[V].location),oe=_o(xo(re.content));{for(var F=0;F<oe.length&&oe[F].id!=V;++F);if(oe[F].id!=V)throw"Bad ColumnRowUIDMapArchive";var S=Gn(oe[F].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var E=0;E<=t.e.c;++E){var A=[];A[1]=A[2]=[{type:0,data:ci(E+420690)}],S[1].push({type:2,data:Br(A)}),S[2].push({type:0,data:ci(E)}),S[3].push({type:0,data:ci(E)})}S[4]=[],S[5]=[],S[6]=[];for(var R=0;R<=t.e.r;++R)A=[],A[1]=A[2]=[{type:0,data:ci(R+726270)}],S[4].push({type:2,data:Br(A)}),S[5].push({type:0,data:ci(R)}),S[6].push({type:0,data:ci(R)});oe[F].messages[0].data=Br(S)}re.content=uu(du(oe)),re.size=re.content.length,delete N[46];var j=Gn(N[4][0].data);{j[7][0].data=ci(t.e.r+1);var U=Gn(j[1][0].data),Y=Jr(U[2][0].data);re=Pt.find(m,s[Y].location),oe=_o(xo(re.content));{if(oe[0].id!=Y)throw"Bad HeaderStorageBucket";var Ge=Gn(oe[0].messages[0].data);for(R=0;R<a.length;++R){var ke=Gn(Ge[2][0].data);ke[1][0].data=ci(R),ke[4][0].data=ci(a[R].length),Ge[2][R]={type:Ge[2][0].type,data:Br(ke)}}oe[0].messages[0].data=Br(Ge)}re.content=uu(du(oe)),re.size=re.content.length;var Xe=Jr(j[2][0].data);re=Pt.find(m,s[Xe].location),oe=_o(xo(re.content));{if(oe[0].id!=Xe)throw"Bad HeaderStorageBucket";for(Ge=Gn(oe[0].messages[0].data),E=0;E<=t.e.c;++E)ke=Gn(Ge[2][0].data),ke[1][0].data=ci(E),ke[4][0].data=ci(t.e.r+1),Ge[2][E]={type:Ge[2][0].type,data:Br(ke)};oe[0].messages[0].data=Br(Ge)}re.content=uu(du(oe)),re.size=re.content.length;var De=Jr(j[4][0].data);(function(){for(var se=Pt.find(m,s[De].location),ce=_o(xo(se.content)),fe,Ae=0;Ae<ce.length;++Ae){var Re=ce[Ae];Re.id==De&&(fe=Re)}var Te=Gn(fe.messages[0].data);{Te[3]=[];var we=[];o.forEach(function(pt,tt){we[1]=[{type:0,data:ci(tt)}],we[2]=[{type:0,data:ci(1)}],we[3]=[{type:2,data:EG(pt)}],Te[3].push({type:2,data:Br(we)})})}fe.messages[0].data=Br(Te);var dt=du(ce),ee=uu(dt);se.content=ee,se.size=se.content.length})();var st=Gn(j[3][0].data);{var Ie=st[1][0];delete st[2];var Ve=Gn(Ie.data);{var me=Jr(Ve[2][0].data);(function(){for(var se=Pt.find(m,s[me].location),ce=_o(xo(se.content)),fe,Ae=0;Ae<ce.length;++Ae){var Re=ce[Ae];Re.id==me&&(fe=Re)}var Te=Gn(fe.messages[0].data);{delete Te[6],delete st[7];var we=new Uint8Array(Te[5][0].data);Te[5]=[];for(var dt=0,ee=0;ee<=t.e.r;++ee){var pt=Gn(we);dt+=zG(pt,a[ee],o),pt[1][0].data=ci(ee),Te[5].push({data:Br(pt),type:2})}Te[1]=[{type:0,data:ci(t.e.c+1)}],Te[2]=[{type:0,data:ci(t.e.r+1)}],Te[3]=[{type:0,data:ci(dt)}],Te[4]=[{type:0,data:ci(t.e.r+1)}]}fe.messages[0].data=Br(Te);var tt=du(ce),Ot=uu(tt);se.content=Ot,se.size=se.content.length})()}Ie.data=Br(Ve)}j[3][0].data=Br(st)}N[4][0].data=Br(j)}C.messages[0].data=Br(N);var te=du(w),ae=uu(te);return v.content=ae,v.size=v.content.length,m}function cE(e){return function(r){for(var t=0;t!=e.length;++t){var i=e[t];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function gv(e){cE([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function _v(e){cE([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function GG(e){return dn.WS.indexOf(e)>-1?"sheet":dn.CS&&e==dn.CS?"chart":dn.DS&&e==dn.DS?"dialog":dn.MS&&e==dn.MS?"macro":e&&e.length?e:"sheet"}function $G(e,n){if(!e)return 0;try{e=n.map(function(t){return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,GG(e["!id"][t.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function WG(e,n,r,t,i,a,o,s,d,m,f,_){try{a[t]=Im(Ua(e,r,!0),n);var v=dr(e,n),w;switch(s){case"sheet":w=pH(v,n,i,d,a[t],m,f,_);break;case"chart":if(w=fH(v,n,i,d,a[t],m,f,_),!w||!w["!drawel"])break;var C=Pm(w["!drawel"].Target,n),b=zm(C),O=tB(Ua(e,C,!0),Im(Ua(e,b,!0),C)),L=Pm(O,C),N=zm(L);w=zz(Ua(e,L,!0),L,d,Im(Ua(e,N,!0),L),m,w);break;case"macro":w=gH(v,n,i,d,a[t],m,f,_);break;case"dialog":w=_H(v,n,i,d,a[t],m,f,_);break;default:throw new Error("Unrecognized sheet type "+s)}o[t]=w;var V=[];a&&a[t]&&Qi(a[t]).forEach(function(re){var oe="";if(a[t][re].Type==dn.CMNT){oe=Pm(a[t][re].Target,n);var F=yH(dr(e,oe,!0),oe,d);if(!F||!F.length)return;qM(w,F,!1)}a[t][re].Type==dn.TCMNT&&(oe=Pm(a[t][re].Target,n),V=V.concat(iB(dr(e,oe,!0),d)))}),V&&V.length&&qM(w,V,!0,d.people||[])}catch(re){if(d.WTF)throw re}}function fo(e){return e.charAt(0)=="/"?e.slice(1):e}function YG(e,n){if(wu(),n=n||{},gv(n),vo(e,"META-INF/manifest.xml")||vo(e,"objectdata.xml"))return ak(e,n);if(vo(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof gx<"u"){if(e.FileIndex)return gx(e);var r=Pt.utils.cfb_new();return fM(e).forEach(function(Ge){ln(r,Ge,Pk(e,Ge))}),gx(r)}throw new Error("Unsupported NUMBERS file")}if(!vo(e,"[Content_Types].xml"))throw vo(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):vo(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var t=fM(e),i=X7(Ua(e,"[Content_Types].xml")),a=!1,o,s;if(i.workbooks.length===0&&(s="xl/workbook.xml",dr(e,s,!0)&&i.workbooks.push(s)),i.workbooks.length===0){if(s="xl/workbook.bin",!dr(e,s,!0))throw new Error("Could not find workbook");i.workbooks.push(s),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var d={},m={};if(!n.bookSheets&&!n.bookProps){if(Am=[],i.sst)try{Am=bH(dr(e,fo(i.sst)),i.sst,n)}catch(Ge){if(n.WTF)throw Ge}n.cellStyles&&i.themes.length&&(d=vH(Ua(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],n)),i.style&&(m=xH(dr(e,fo(i.style)),i.style,d,n))}i.links.map(function(Ge){try{var ke=Im(Ua(e,zm(fo(Ge))),Ge);return wH(dr(e,fo(Ge)),ke,Ge,n)}catch{}});var f=hH(dr(e,fo(i.workbooks[0])),i.workbooks[0],n),_={},v="";i.coreprops.length&&(v=dr(e,fo(i.coreprops[0]),!0),v&&(_=Qk(v)),i.extprops.length!==0&&(v=dr(e,fo(i.extprops[0]),!0),v&&rN(v,_,n)));var w={};(!n.bookSheets||n.bookProps)&&i.custprops.length!==0&&(v=Ua(e,fo(i.custprops[0]),!0),v&&(w=oN(v,n)));var C={};if((n.bookSheets||n.bookProps)&&(f.Sheets?o=f.Sheets.map(function(ke){return ke.name}):_.Worksheets&&_.SheetNames.length>0&&(o=_.SheetNames),n.bookProps&&(C.Props=_,C.Custprops=w),n.bookSheets&&typeof o<"u"&&(C.SheetNames=o),n.bookSheets?C.SheetNames:n.bookProps))return C;o={};var b={};n.bookDeps&&i.calcchain&&(b=CH(dr(e,fo(i.calcchain)),i.calcchain,n));var O=0,L={},N,V;{var re=f.Sheets;_.Worksheets=re.length,_.SheetNames=[];for(var oe=0;oe!=re.length;++oe)_.SheetNames[oe]=re[oe].name}var F=a?"bin":"xml",S=i.workbooks[0].lastIndexOf("/"),E=(i.workbooks[0].slice(0,S+1)+"_rels/"+i.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");vo(e,E)||(E="xl/_rels/workbook."+F+".rels");var A=Im(Ua(e,E,!0),E.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(n.xlmeta=SH(dr(e,fo(i.metadata[0])),i.metadata[0],n)),(i.people||[]).length>=1&&(n.people=aB(dr(e,fo(i.people[0])),n)),A&&(A=$G(A,f.Sheets));var R=dr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(O=0;O!=_.Worksheets;++O){var j="sheet";if(A&&A[O]?(N="xl/"+A[O][1].replace(/[\/]?xl\//,""),vo(e,N)||(N=A[O][1]),vo(e,N)||(N=E.replace(/_rels\/.*$/,"")+A[O][1]),j=A[O][2]):(N="xl/worksheets/sheet"+(O+1-R)+"."+F,N=N.replace(/sheet0\./,"sheet.")),V=N.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),n&&n.sheets!=null)switch(typeof n.sheets){case"number":if(O!=n.sheets)continue e;break;case"string":if(_.SheetNames[O].toLowerCase()!=n.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(n.sheets)){for(var U=!1,Y=0;Y!=n.sheets.length;++Y)typeof n.sheets[Y]=="number"&&n.sheets[Y]==O&&(U=1),typeof n.sheets[Y]=="string"&&n.sheets[Y].toLowerCase()==_.SheetNames[O].toLowerCase()&&(U=1);if(!U)continue e}}WG(e,N,V,_.SheetNames[O],O,L,o,j,n,f,d,m)}return C={Directory:i,Workbook:f,Props:_,Custprops:w,Deps:b,Sheets:o,SheetNames:_.SheetNames,Strings:Am,Styles:m,Themes:d,SSF:Ei(Dt)},n&&n.bookFiles&&(e.files?(C.keys=t,C.files=e.files):(C.keys=[],C.files={},e.FullPaths.forEach(function(Ge,ke){Ge=Ge.replace(/^Root Entry[\/]/,""),C.keys.push(Ge),C.files[Ge]=e.FileIndex[ke]}))),n&&n.bookVBA&&(i.vba.length>0?C.vbaraw=dr(e,fo(i.vba[0]),!0):i.defaults&&i.defaults.bin===hB&&(C.vbaraw=dr(e,"xl/vbaProject.bin",!0))),C}function qG(e,n){var r=n||{},t="Workbook",i=Pt.find(e,t);try{if(t="/!DataSpaces/Version",i=Pt.find(e,t),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+t);if(SL(i.content),t="/!DataSpaces/DataSpaceMap",i=Pt.find(e,t),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+t);var a=kL(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+t);if(t="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Pt.find(e,t),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+t);var o=PL(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+t);if(t="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Pt.find(e,t),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+t);TL(i.content)}catch{}if(t="/EncryptionInfo",i=Pt.find(e,t),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+t);var s=OL(i.content);if(t="/EncryptedPackage",i=Pt.find(e,t),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+t);if(s[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(s[1],i.content,r.password||"",r);if(s[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(s[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function KG(e,n){return n.bookType=="ods"?sE(e,n):n.bookType=="numbers"?HG(e,n):n.bookType=="xlsb"?QG(e,n):XG(e,n)}function QG(e,n){pu=1024,e&&!e.SSF&&(e.SSF=Ei(Dt)),e&&e.SSF&&(wu(),Qm(e.SSF),n.revssf=ug(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.rels={},n.wbrels={},n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Dm?n.revStrings=new Map:(n.revStrings={},n.revStrings.foo=[],delete n.revStrings.foo);var r=n.bookType=="xlsb"?"bin":"xml",t=RP.indexOf(n.bookType)>-1,i=nv();_v(n=n||{});var a=Vx(),o="",s=0;if(n.cellXfs=[],$c(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",ln(a,o,Xk(e.Props,n)),i.coreprops.push(o),li(n.rels,2,o,dn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],m=0;m<e.SheetNames.length;++m)(e.Workbook.Sheets[m]||{}).Hidden!=2&&d.push(e.SheetNames[m]);e.Props.SheetNames=d}for(e.Props.Worksheets=e.Props.SheetNames.length,ln(a,o,eP(e.Props,n)),i.extprops.push(o),li(n.rels,3,o,dn.EXT_PROPS),e.Custprops!==e.Props&&Qi(e.Custprops||{}).length>0&&(o="docProps/custom.xml",ln(a,o,tP(e.Custprops,n)),i.custprops.push(o),li(n.rels,4,o,dn.CUST_PROPS)),s=1;s<=e.SheetNames.length;++s){var f={"!id":{}},_=e.Sheets[e.SheetNames[s-1]],v=(_||{})["!type"]||"sheet";switch(v){case"chart":default:o="xl/worksheets/sheet"+s+"."+r,ln(a,o,kH(s-1,o,n,e,f)),i.sheets.push(o),li(n.wbrels,-1,"worksheets/sheet"+s+"."+r,dn.WS[0])}if(_){var w=_["!comments"],C=!1,b="";w&&w.length>0&&(b="xl/comments"+s+"."+r,ln(a,b,TH(w,b,n)),i.comments.push(b),li(f,-1,"../comments"+s+"."+r,dn.CMNT),C=!0),_["!legacy"]&&C&&ln(a,"xl/drawings/vmlDrawing"+s+".vml",DP(s,_["!comments"])),delete _["!comments"],delete _["!legacy"]}f["!id"].rId1&&ln(a,zm(o),gu(f))}return n.Strings!=null&&n.Strings.length>0&&(o="xl/sharedStrings."+r,ln(a,o,EH(n.Strings,o,n)),i.strs.push(o),li(n.wbrels,-1,"sharedStrings."+r,dn.SST)),o="xl/workbook."+r,ln(a,o,MH(e,o,n)),i.workbooks.push(o),li(n.rels,1,o,dn.WB),o="xl/theme/theme1.xml",ln(a,o,cv(e.Themes,n)),i.themes.push(o),li(n.wbrels,-1,"theme/theme1.xml",dn.THEME),o="xl/styles."+r,ln(a,o,PH(e,o,n)),i.styles.push(o),li(n.wbrels,-1,"styles."+r,dn.STY),e.vbaraw&&t&&(o="xl/vbaProject.bin",ln(a,o,e.vbaraw),i.vba.push(o),li(n.wbrels,-1,"vbaProject.bin",dn.VBA)),o="xl/metadata."+r,ln(a,o,OH(o)),i.metadata.push(o),li(n.wbrels,-1,"metadata."+r,dn.XLMETA),ln(a,"[Content_Types].xml",qk(i,n)),ln(a,"_rels/.rels",gu(n.rels)),ln(a,"xl/_rels/workbook."+r+".rels",gu(n.wbrels)),delete n.revssf,delete n.ssf,a}function XG(e,n){pu=1024,e&&!e.SSF&&(e.SSF=Ei(Dt)),e&&e.SSF&&(wu(),Qm(e.SSF),n.revssf=ug(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.rels={},n.wbrels={},n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Dm?n.revStrings=new Map:(n.revStrings={},n.revStrings.foo=[],delete n.revStrings.foo);var r="xml",t=RP.indexOf(n.bookType)>-1,i=nv();_v(n=n||{});var a=Vx(),o="",s=0;if(n.cellXfs=[],$c(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",ln(a,o,Xk(e.Props,n)),i.coreprops.push(o),li(n.rels,2,o,dn.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],m=0;m<e.SheetNames.length;++m)(e.Workbook.Sheets[m]||{}).Hidden!=2&&d.push(e.SheetNames[m]);e.Props.SheetNames=d}e.Props.Worksheets=e.Props.SheetNames.length,ln(a,o,eP(e.Props,n)),i.extprops.push(o),li(n.rels,3,o,dn.EXT_PROPS),e.Custprops!==e.Props&&Qi(e.Custprops||{}).length>0&&(o="docProps/custom.xml",ln(a,o,tP(e.Custprops,n)),i.custprops.push(o),li(n.rels,4,o,dn.CUST_PROPS));var f=["SheetJ5"];for(n.tcid=0,s=1;s<=e.SheetNames.length;++s){var _={"!id":{}},v=e.Sheets[e.SheetNames[s-1]],w=(v||{})["!type"]||"sheet";switch(w){case"chart":default:o="xl/worksheets/sheet"+s+"."+r,ln(a,o,WP(s-1,n,e,_)),i.sheets.push(o),li(n.wbrels,-1,"worksheets/sheet"+s+"."+r,dn.WS[0])}if(v){var C=v["!comments"],b=!1,O="";if(C&&C.length>0){var L=!1;C.forEach(function(N){N[1].forEach(function(V){V.T==!0&&(L=!0)})}),L&&(O="xl/threadedComments/threadedComment"+s+"."+r,ln(a,O,rB(C,f,n)),i.threadedcomments.push(O),li(_,-1,"../threadedComments/threadedComment"+s+"."+r,dn.TCMNT)),O="xl/comments"+s+"."+r,ln(a,O,FP(C,n)),i.comments.push(O),li(_,-1,"../comments"+s+"."+r,dn.CMNT),b=!0}v["!legacy"]&&b&&ln(a,"xl/drawings/vmlDrawing"+s+".vml",DP(s,v["!comments"])),delete v["!comments"],delete v["!legacy"]}_["!id"].rId1&&ln(a,zm(o),gu(_))}return n.Strings!=null&&n.Strings.length>0&&(o="xl/sharedStrings."+r,ln(a,o,yP(n.Strings,n)),i.strs.push(o),li(n.wbrels,-1,"sharedStrings."+r,dn.SST)),o="xl/workbook."+r,ln(a,o,XP(e,n)),i.workbooks.push(o),li(n.rels,1,o,dn.WB),o="xl/theme/theme1.xml",ln(a,o,cv(e.Themes,n)),i.themes.push(o),li(n.wbrels,-1,"theme/theme1.xml",dn.THEME),o="xl/styles."+r,ln(a,o,TP(e,n)),i.styles.push(o),li(n.wbrels,-1,"styles."+r,dn.STY),e.vbaraw&&t&&(o="xl/vbaProject.bin",ln(a,o,e.vbaraw),i.vba.push(o),li(n.wbrels,-1,"vbaProject.bin",dn.VBA)),o="xl/metadata."+r,ln(a,o,AP()),i.metadata.push(o),li(n.wbrels,-1,"metadata."+r,dn.XLMETA),f.length>1&&(o="xl/persons/person.xml",ln(a,o,oB(f,n)),i.people.push(o),li(n.wbrels,-1,"persons/person.xml",dn.PEOPLE)),ln(a,"[Content_Types].xml",qk(i,n)),ln(a,"_rels/.rels",gu(n.rels)),ln(a,"xl/_rels/workbook."+r+".rels",gu(n.wbrels)),delete n.revssf,delete n.ssf,a}function xv(e,n){var r="";switch((n||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=za(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(n&&n.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function ZG(e,n){return Pt.find(e,"EncryptedPackage")?qG(e,n):tE(e,n)}function JG(e,n){var r,t=e,i=n||{};return i.type||(i.type=xn&&Buffer.isBuffer(e)?"buffer":"base64"),r=Ek(t,i),YG(r,i)}function lE(e,n){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Px(e.slice(r),n);default:break e}return yu.to_workbook(e,n)}function e$(e,n){var r="",t=xv(e,n);switch(n.type){case"base64":r=za(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=El(e);break;default:throw new Error("Unrecognized type "+n.type)}return t[0]==239&&t[1]==187&&t[2]==191&&(r=pi(r)),n.type="binary",lE(r,n)}function t$(e,n){var r=e;return n.type=="base64"&&(r=za(r)),r=ri.utils.decode(1200,r.slice(2),"str"),n.type="binary",lE(r,n)}function n$(e){return e.match(/[^\x00-\x7F]/)?ls(e):e}function _x(e,n,r,t){return t?(r.type="string",yu.to_workbook(e,r)):yu.to_workbook(n,r)}function sg(e,n){Ax();var r=n||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return sg(new Uint8Array(e),(r=Ei(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var t=e,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),xu={},r.dateNF&&(xu.dateNF=r.dateNF),r.type||(r.type=xn&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=xn?"buffer":"binary",t=QR(e),typeof Uint8Array<"u"&&!xn&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,t=n$(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),s=new Uint8Array(o);if(s.foo="bar",!s.foo)return r=Ei(r),r.type="array",sg(Dx(t),r)}switch((i=xv(t,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return ZG(Pt.read(t,r),r);break;case 9:if(i[1]<=8)return tE(t,r);break;case 60:return Px(t,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return sL(t,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return vP.to_workbook(t,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?JG(t,r):_x(e,t,r,a);case 239:return i[3]===60?Px(t,r):_x(e,t,r,a);case 255:if(i[1]===254)return t$(t,r);if(i[1]===0&&i[2]===2&&i[3]===0)return Ml.to_workbook(t,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Ml.to_workbook(t,r);break;case 3:case 131:case 139:case 140:return kx.to_workbook(t,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return kP.to_workbook(t,r);break;case 10:case 13:case 32:return e$(t,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return oL.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?kx.to_workbook(t,r):_x(e,t,r,a)}function dE(e,n){switch(n.type){case"base64":case"binary":break;case"buffer":case"array":n.type="";break;case"file":return Xm(n.file,Pt.write(e,{type:xn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+n.bookType+"' files");default:throw new Error("Unrecognized type "+n.type)}return Pt.write(e,n)}function i$(e,n){var r=Ei(n||{}),t=KG(e,r);return r$(t,r)}function r$(e,n){var r={},t=xn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(n.compression&&(r.compression="DEFLATE"),n.password)r.type=t;else switch(n.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+n.bookType+"' files");case"buffer":case"file":r.type=t;break;default:throw new Error("Unrecognized type "+n.type)}var i=e.FullPaths?Pt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!n.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(n.type=="binary"||n.type=="base64")return i;i=new Uint8Array(lg(i))}return n.password&&typeof encrypt_agile<"u"?dE(encrypt_agile(i,n.password),n):n.type==="file"?Xm(n.file,i):n.type=="string"?pi(i):i}function a$(e,n){var r=n||{},t=nG(e,r);return dE(t,r)}function cs(e,n,r){r||(r="");var t=r+e;switch(n.type){case"base64":return Lm(ls(t));case"binary":return ls(t);case"string":return e;case"file":return Xm(n.file,t,"utf8");case"buffer":return xn?Gs(t,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(t):cs(t,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+n.type)}function o$(e,n){switch(n.type){case"base64":return Lm(e);case"binary":return e;case"string":return e;case"file":return Xm(n.file,e,"binary");case"buffer":return xn?Gs(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+n.type)}function Kf(e,n){switch(n.type){case"string":case"base64":case"binary":for(var r="",t=0;t<e.length;++t)r+=String.fromCharCode(e[t]);return n.type=="base64"?Lm(r):n.type=="string"?pi(r):r;case"file":return Xm(n.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+n.type)}}function vv(e,n){Ax(),Zz(e);var r=Ei(n||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var t=vv(e,r);return r.type="array",lg(t)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return cs(KH(e,r),r);case"slk":case"sylk":return cs(xP.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return cs(iE(e.Sheets[e.SheetNames[i]],r),r);case"txt":return o$(uE(e.Sheets[e.SheetNames[i]],r),r);case"csv":return cs(bv(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return cs(vP.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return Kf(kx.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return cs(yu.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return cs(kP.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return cs(bP.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return cs(sE(e,r),r);case"wk1":return Kf(Ml.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return Kf(Ml.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Kf(nE(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),a$(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return i$(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function s$(e,n,r,t,i,a,o,s){var d=er(r),m=s.defval,f=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),_=!0,v=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:r,enumerable:!1})}catch{v.__rowNum__=r}else v.__rowNum__=r;if(!o||e[r])for(var w=n.s.c;w<=n.e.c;++w){var C=o?e[r][w]:e[t[w]+d];if(C===void 0||C.t===void 0){if(m===void 0)continue;a[w]!=null&&(v[a[w]]=m);continue}var b=C.v;switch(C.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+C.t)}if(a[w]!=null){if(b==null)if(C.t=="e"&&b===null)v[a[w]]=null;else if(m!==void 0)v[a[w]]=m;else if(f&&b===null)v[a[w]]=null;else continue;else v[a[w]]=f&&(C.t!=="n"||C.t==="n"&&s.rawNumbers!==!1)?b:Hs(C,b,s);b!=null&&(_=!1)}}return{row:v,isempty:_}}function cg(e,n){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},t=0,i=1,a=[],o=0,s="",d={s:{r:0,c:0},e:{r:0,c:0}},m=n||{},f=m.range!=null?m.range:e["!ref"];switch(m.header===1?t=1:m.header==="A"?t=2:Array.isArray(m.header)?t=3:m.header==null&&(t=0),typeof f){case"string":d=jn(f);break;case"number":d=jn(e["!ref"]),d.s.r=f;break;default:d=f}t>0&&(i=0);var _=er(d.s.r),v=[],w=[],C=0,b=0,O=Array.isArray(e),L=d.s.r,N=0,V={};O&&!e[L]&&(e[L]=[]);var re=m.skipHidden&&e["!cols"]||[],oe=m.skipHidden&&e["!rows"]||[];for(N=d.s.c;N<=d.e.c;++N)if(!(re[N]||{}).hidden)switch(v[N]=ji(N),r=O?e[L][N]:e[v[N]+_],t){case 1:a[N]=N-d.s.c;break;case 2:a[N]=v[N];break;case 3:a[N]=m.header[N-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),s=o=Hs(r,null,m),b=V[o]||0,!b)V[o]=1;else{do s=o+"_"+b++;while(V[s]);V[o]=b,V[s]=1}a[N]=s}for(L=d.s.r+i;L<=d.e.r;++L)if(!(oe[L]||{}).hidden){var F=s$(e,d,L,v,t,a,O,m);(F.isempty===!1||(t===1?m.blankrows!==!1:m.blankrows))&&(w[C++]=F.row)}return w.length=C,w}var dk=/"/g;function c$(e,n,r,t,i,a,o,s){for(var d=!0,m=[],f="",_=er(r),v=n.s.c;v<=n.e.c;++v)if(t[v]){var w=s.dense?(e[r]||[])[v]:e[t[v]+_];if(w==null)f="";else if(w.v!=null){d=!1,f=""+(s.rawNumbers&&w.t=="n"?w.v:Hs(w,null,s));for(var C=0,b=0;C!==f.length;++C)if((b=f.charCodeAt(C))===i||b===a||b===34||s.forceQuotes){f='"'+f.replace(dk,'""')+'"';break}f=="ID"&&(f='"ID"')}else w.f!=null&&!w.F?(d=!1,f="="+w.f,f.indexOf(",")>=0&&(f='"'+f.replace(dk,'""')+'"')):f="";m.push(f)}return s.blankrows===!1&&d?null:m.join(o)}function bv(e,n){var r=[],t=n==null?{}:n;if(e==null||e["!ref"]==null)return"";var i=jn(e["!ref"]),a=t.FS!==void 0?t.FS:",",o=a.charCodeAt(0),s=t.RS!==void 0?t.RS:`
`,d=s.charCodeAt(0),m=new RegExp((a=="|"?"\\|":a)+"+$"),f="",_=[];t.dense=Array.isArray(e);for(var v=t.skipHidden&&e["!cols"]||[],w=t.skipHidden&&e["!rows"]||[],C=i.s.c;C<=i.e.c;++C)(v[C]||{}).hidden||(_[C]=ji(C));for(var b=0,O=i.s.r;O<=i.e.r;++O)(w[O]||{}).hidden||(f=c$(e,i,O,_,o,d,a,t),f!=null&&(t.strip&&(f=f.replace(m,"")),(f||t.blankrows!==!1)&&r.push((b++?s:"")+f)));return delete t.dense,r.join("")}function uE(e,n){n||(n={}),n.FS="	",n.RS=`
`;var r=bv(e,n);if(typeof ri>"u"||n.type=="string")return r;var t=ri.utils.encode(1200,r,"str");return"\xFF\xFE"+t}function l$(e){var n="",r,t="";if(e==null||e["!ref"]==null)return[];var i=jn(e["!ref"]),a="",o=[],s,d=[],m=Array.isArray(e);for(s=i.s.c;s<=i.e.c;++s)o[s]=ji(s);for(var f=i.s.r;f<=i.e.r;++f)for(a=er(f),s=i.s.c;s<=i.e.c;++s)if(n=o[s]+a,r=m?(e[f]||[])[s]:e[n],t="",r!==void 0){if(r.F!=null){if(n=r.F,!r.f)continue;t=r.f,n.indexOf(":")==-1&&(n=n+":"+n)}if(r.f!=null)t=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)t=""+r.v;else if(r.t=="b")t=r.v?"TRUE":"FALSE";else if(r.w!==void 0)t="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?t="'"+r.v:t=""+r.v}}d[d.length]=n+"="+t}return d}function mE(e,n,r){var t=r||{},i=+!t.skipHeader,a=e||{},o=0,s=0;if(a&&t.origin!=null)if(typeof t.origin=="number")o=t.origin;else{var d=typeof t.origin=="string"?Ui(t.origin):t.origin;o=d.r,s=d.c}var m,f={s:{c:0,r:0},e:{c:s,r:o+n.length-1+i}};if(a["!ref"]){var _=jn(a["!ref"]);f.e.c=Math.max(f.e.c,_.e.c),f.e.r=Math.max(f.e.r,_.e.r),o==-1&&(o=_.e.r+1,f.e.r=o+n.length-1+i)}else o==-1&&(o=0,f.e.r=n.length-1+i);var v=t.header||[],w=0;n.forEach(function(b,O){Qi(b).forEach(function(L){(w=v.indexOf(L))==-1&&(v[w=v.length]=L);var N=b[L],V="z",re="",oe=Lt({c:s+w,r:o+O+i});m=Km(a,oe),N&&typeof N=="object"&&!(N instanceof Date)?a[oe]=N:(typeof N=="number"?V="n":typeof N=="boolean"?V="b":typeof N=="string"?V="s":N instanceof Date?(V="d",t.cellDates||(V="n",N=vr(N)),re=t.dateNF||Dt[14]):N===null&&t.nullError&&(V="e",N=0),m?(m.t=V,m.v=N,delete m.w,delete m.R,re&&(m.z=re)):a[oe]=m={t:V,v:N},re&&(m.z=re))})}),f.e.c=Math.max(f.e.c,s+v.length-1);var C=er(o);if(i)for(w=0;w<v.length;++w)a[ji(w+s)+C]={t:"s",v:v[w]};return a["!ref"]=on(f),a}function d$(e,n){return mE(null,e,n)}function Km(e,n,r){if(typeof n=="string"){if(Array.isArray(e)){var t=Ui(n);return e[t.r]||(e[t.r]=[]),e[t.r][t.c]||(e[t.r][t.c]={t:"z"})}return e[n]||(e[n]={t:"z"})}return typeof n!="number"?Km(e,Lt(n)):Km(e,Lt({r:n,c:r||0}))}function u$(e,n){if(typeof n=="number"){if(n>=0&&e.SheetNames.length>n)return n;throw new Error("Cannot find sheet # "+n)}else if(typeof n=="string"){var r=e.SheetNames.indexOf(n);if(r>-1)return r;throw new Error("Cannot find sheet name |"+n+"|")}else throw new Error("Cannot find sheet |"+n+"|")}function yv(){return{SheetNames:[],Sheets:{}}}function Cv(e,n,r,t){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(t&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var o=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=o+i)!=-1;++i);}if(QP(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=n,r}function m$(e,n,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var t=u$(e,n);switch(e.Workbook.Sheets[t]||(e.Workbook.Sheets[t]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[t].Hidden=r}function h$(e,n){return e.z=n,e}function hE(e,n,r){return n?(e.l={Target:n},r&&(e.l.Tooltip=r)):delete e.l,e}function p$(e,n,r){return hE(e,"#"+n,r)}function f$(e,n,r){e.c||(e.c=[]),e.c.push({t:n,a:r||"SheetJS"})}function g$(e,n,r,t){for(var i=typeof n!="string"?n:jn(n),a=typeof n=="string"?n:on(n),o=i.s.r;o<=i.e.r;++o)for(var s=i.s.c;s<=i.e.c;++s){var d=Km(e,o,s);d.t="n",d.F=a,delete d.v,o==i.s.r&&s==i.s.c&&(d.f=r,t&&(d.D=!0))}return e}var Pu={encode_col:ji,encode_row:er,encode_cell:Lt,encode_range:on,decode_col:Qx,decode_row:Kx,split_cell:E7,decode_cell:Ui,decode_range:Oa,format_cell:Hs,sheet_add_aoa:Uk,sheet_add_json:mE,sheet_add_dom:rE,aoa_to_sheet:Mu,json_to_sheet:d$,table_to_sheet:aE,table_to_book:SG,sheet_to_csv:bv,sheet_to_txt:uE,sheet_to_json:cg,sheet_to_html:iE,sheet_to_formulae:l$,sheet_to_row_object_array:cg,sheet_get_cell:Km,book_new:yv,book_append_sheet:Cv,book_set_sheet_visibility:m$,cell_set_number_format:h$,cell_set_hyperlink:hE,cell_set_internal_link:p$,cell_add_comment:f$,sheet_set_array_formula:g$,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var jae=Nm.version;var x$=To(pE(),1),xg=(()=>{let n=class n{constructor(){this._papa=x$}parse(t,i){return this._papa.parse(t,i)}unparse(t,i){return this._papa.unparse(t,i)}setLocalChunkSize(t){this._papa.LocalChunkSize=t}setRemoteChunkSize(t){this._papa.RemoteChunkSize=t}setDefaultDelimiter(t){this._papa.DefaultDelimiter=t}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var y$=["fileUploadContainer"];function C$(e,n){if(e&1&&(c(0,"mat-option",29),u(1),l()),e&2){let r=n.$implicit;P("value",r.accountId),g(),xi(" ",r.name," (",r.type,") ")}}function w$(e,n){if(e&1){let r=Ce();c(0,"div",22)(1,"h3",23),u(2,"Import Settings"),l(),c(3,"div",24)(4,"div",25)(5,"label",26),u(6,"Default Account"),l(),c(7,"mat-select",27),kt("valueChange",function(i){q(r);let a=k();return Mt(a.defaultAccountId,i)||(a.defaultAccountId=i),K(i)}),G(8,C$,2,3,"mat-option",28),l()()()()}if(e&2){let r=k();g(7),St("value",r.defaultAccountId),g(),P("ngForOf",r.accounts)}}function S$(e,n){if(e&1&&(c(0,"div",30)(1,"mat-icon",31),u(2,"file_present"),l(),u(3),l()),e&2){let r=k();g(3),xi(" ",r.selectedFile.name," (",r.fileType,") ")}}function M$(e,n){if(e&1&&(c(0,"div",32)(1,"mat-icon",33),u(2,"error"),l(),c(3,"span",34),u(4),l()()),e&2){let r=k();g(4),ne(r.error)}}function k$(e,n){e&1&&(c(0,"div",35),de(1,"mat-spinner",36),c(2,"p",37),u(3,"Processing file..."),l()())}function P$(e,n){if(e&1&&(c(0,"span"),u(1),l()),e&2){let r=k().$implicit;g(),ne(r.payee)}}function E$(e,n){if(e&1){let r=Ce();c(0,"input",63),H("keydown",function(i){q(r);let a=k().index,o=k(3);return K(o.onKeyDown(i,a,"payee",o.getInputValue(i)))})("blur",function(i){q(r);let a=k().index,o=k(3);return K(o.onBlur(a,"payee",o.getInputValue(i)))})("click",function(i){return q(r),K(i.stopPropagation())}),l()}if(e&2){let r=k().$implicit;P("value",r.payee)}}function T$(e,n){if(e&1&&(c(0,"span"),u(1),l()),e&2){let r=k().$implicit;g(),ne(r.category)}}function O$(e,n){if(e&1&&(c(0,"mat-option",29),u(1),l()),e&2){let r=n.$implicit;P("value",r.name),g(),he(" ",r.name," ")}}function I$(e,n){if(e&1){let r=Ce();c(0,"mat-select",64),H("selectionChange",function(i){q(r);let a=k().index,o=k(3);return K(o.updateTransaction(a,"category",i.value))})("click",function(i){return q(r),K(i.stopPropagation())}),G(1,O$,2,2,"mat-option",28),l()}if(e&2){let r=k().$implicit,t=k(3);P("value",r.category),g(),P("ngForOf",t.getCategoriesForType(r.type))}}function A$(e,n){if(e&1&&(c(0,"span"),u(1),Ee(2,"number"),l()),e&2){let r=k().$implicit;g(),xi(" ",r.type==="income"?"+":"-","\u20B9",Xt(2,2,r.amount,"1.2-2")," ")}}function D$(e,n){if(e&1){let r=Ce();c(0,"input",65),H("keydown",function(i){q(r);let a=k().index,o=k(3);return K(o.onKeyDown(i,a,"amount",o.getInputValue(i)))})("blur",function(i){q(r);let a=k().index,o=k(3);return K(o.onBlur(a,"amount",o.getInputValue(i)))})("click",function(i){return q(r),K(i.stopPropagation())}),l()}if(e&2){let r=k().$implicit;P("value",r.amount)}}function F$(e,n){if(e&1&&(c(0,"span"),u(1),l()),e&2){let r=k().$implicit;g(),ne(r.type)}}function R$(e,n){if(e&1){let r=Ce();c(0,"mat-select",64),H("selectionChange",function(i){q(r);let a=k().index,o=k(3);return K(o.updateTransaction(a,"type",i.value))})("click",function(i){return q(r),K(i.stopPropagation())}),c(1,"mat-option",66),u(2,"Income"),l(),c(3,"mat-option",67),u(4,"Expense"),l()()}if(e&2){let r=k().$implicit;P("value",r.type)}}function N$(e,n){if(e&1&&(c(0,"span"),u(1),l()),e&2){let r=k().$implicit;g(),ne(r==null?null:r.date)}}function L$(e,n){if(e&1){let r=Ce();c(0,"input",68),H("keydown",function(i){q(r);let a=k().index,o=k(3);return K(o.onKeyDown(i,a,"date",o.getInputValue(i)))})("blur",function(i){q(r);let a=k().index,o=k(3);return K(o.onBlur(a,"date",o.getInputValue(i)))})("click",function(i){return q(r),K(i.stopPropagation())}),l()}if(e&2){let r=k().$implicit;P("value",r.date)}}function V$(e,n){if(e&1&&(c(0,"div",69)(1,"small",70),u(2),l()()),e&2){let r=k().$implicit;g(2),ne(r.narration)}}function B$(e,n){if(e&1){let r=Ce();c(0,"div",47),H("click",function(){let i=q(r).$implicit,a=k(3);return K(a.toggleSelect(i._idx))}),c(1,"div",48)(2,"mat-checkbox",49),H("change",function(){let i=q(r).$implicit,a=k(3);return K(a.toggleSelect(i._idx))})("click",function(i){return q(r),K(i.stopPropagation())}),l(),c(3,"div",50)(4,"div",51),H("click",function(i){let a=q(r).index;return k(3).startEditing(a,"payee"),K(i.stopPropagation())}),G(5,P$,2,1,"span",52)(6,E$,1,1,"input",53),l(),c(7,"div",54),H("click",function(i){let a=q(r).index;return k(3).startEditing(a,"category"),K(i.stopPropagation())}),G(8,T$,2,1,"span",52)(9,I$,2,2,"mat-select",55),l()(),c(10,"div",56)(11,"div",57),G(12,A$,3,5,"span",52)(13,D$,1,1,"input",58),l(),c(14,"div",59),H("click",function(i){let a=q(r).index;return k(3).startEditing(a,"type"),K(i.stopPropagation())}),G(15,F$,2,1,"span",52)(16,R$,5,1,"mat-select",55),l(),c(17,"div",60),H("click",function(i){let a=q(r).index;return k(3).startEditing(a,"date"),K(i.stopPropagation())}),G(18,N$,2,1,"span",52)(19,L$,1,1,"input",61),l()()(),G(20,V$,3,1,"div",62),l()}if(e&2){let r=n.$implicit,t=n.index,i=k(3);Be("selected",i.selectedToImport.has(r._idx)),g(2),P("checked",i.selectedToImport.has(r._idx)),g(3),P("ngIf",i.editingTransaction!==t||i.editingField!=="payee"),g(),P("ngIf",i.editingTransaction===t&&i.editingField==="payee"),g(2),P("ngIf",i.editingTransaction!==t||i.editingField!=="category"),g(),P("ngIf",i.editingTransaction===t&&i.editingField==="category"),g(2),Be("income",r.type==="income")("expense",r.type==="expense"),g(),P("ngIf",i.editingTransaction!==t||i.editingField!=="amount"),g(),P("ngIf",i.editingTransaction===t&&i.editingField==="amount"),g(2),P("ngIf",i.editingTransaction!==t||i.editingField!=="type"),g(),P("ngIf",i.editingTransaction===t&&i.editingField==="type"),g(2),P("ngIf",i.editingTransaction!==t||i.editingField!=="date"),g(),P("ngIf",i.editingTransaction===t&&i.editingField==="date"),g(),P("ngIf",r.narration)}}function j$(e,n){if(e&1&&(c(0,"div",45),G(1,B$,21,18,"div",46),l()),e&2){let r=k(2);g(),P("ngForOf",r.parsedTransactions)}}function U$(e,n){e&1&&(c(0,"th"),u(1,"Details"),l())}function z$(e,n){if(e&1&&(c(0,"span"),u(1),l()),e&2){let r=k().$implicit;g(),ne(r.payee)}}function H$(e,n){if(e&1){let r=Ce();c(0,"input",91),H("keydown",function(i){q(r);let a=k().index,o=k(3);return K(o.onKeyDown(i,a,"payee",o.getInputValue(i)))})("blur",function(i){q(r);let a=k().index,o=k(3);return K(o.onBlur(a,"payee",o.getInputValue(i)))}),l()}if(e&2){let r=k().$implicit;P("value",r.payee)}}function G$(e,n){if(e&1){let r=Ce();c(0,"span",92),H("click",function(){q(r);let i=k().index,a=k(3);return K(a.startEditing(i,"amount"))}),u(1),Ee(2,"number"),l()}if(e&2){let r=k().$implicit;Be("income",r.type==="income")("expense",r.type==="expense"),g(),xi(" ",r.type==="income"?"+":"-","\u20B9",Xt(2,6,r.amount,"1.2-2")," ")}}function $$(e,n){if(e&1){let r=Ce();c(0,"input",93),H("keydown",function(i){q(r);let a=k().index,o=k(3);return K(o.onKeyDown(i,a,"amount",o.getInputValue(i)))})("blur",function(i){q(r);let a=k().index,o=k(3);return K(o.onBlur(a,"amount",o.getInputValue(i)))}),l()}if(e&2){let r=k().$implicit;P("value",r.amount)}}function W$(e,n){if(e&1){let r=Ce();c(0,"span",94),H("click",function(){q(r);let i=k().index,a=k(3);return K(a.startEditing(i,"type"))}),u(1),l()}if(e&2){let r=k().$implicit;Be("income",r.type==="income")("expense",r.type==="expense"),g(),he(" ",r.type," ")}}function Y$(e,n){if(e&1){let r=Ce();c(0,"mat-select",95),H("selectionChange",function(i){q(r);let a=k().index,o=k(3);return K(o.updateTransaction(a,"type",i.value))}),c(1,"mat-option",66),u(2,"Income"),l(),c(3,"mat-option",67),u(4,"Expense"),l()()}if(e&2){let r=k().$implicit;P("value",r.type)}}function q$(e,n){if(e&1&&(c(0,"span"),u(1),l()),e&2){let r=k().$implicit;g(),ne(r.category)}}function K$(e,n){if(e&1&&(c(0,"mat-option",29),u(1),l()),e&2){let r=n.$implicit;P("value",r.name),g(),he(" ",r.name," ")}}function Q$(e,n){if(e&1){let r=Ce();c(0,"mat-select",95),H("selectionChange",function(i){q(r);let a=k().index,o=k(3);return K(o.updateTransaction(a,"category",i.value))}),G(1,K$,2,2,"mat-option",28),l()}if(e&2){let r=k().$implicit,t=k(3);P("value",r.category),g(),P("ngForOf",t.getCategoriesForType(r.type))}}function X$(e,n){if(e&1&&(c(0,"span"),u(1),Ee(2,"date"),l()),e&2){let r=k().$implicit;g(),ne(Xt(2,1,r.date,"shortDate"))}}function Z$(e,n){if(e&1){let r=Ce();c(0,"input",96),H("keydown",function(i){q(r);let a=k().index,o=k(3);return K(o.onKeyDown(i,a,"date",o.getInputValue(i)))})("blur",function(i){q(r);let a=k().index,o=k(3);return K(o.onBlur(a,"date",o.getInputValue(i)))}),l()}if(e&2){let r=k().$implicit;P("value",r.date)}}function J$(e,n){if(e&1&&(c(0,"td",97)(1,"mat-icon",98),u(2,"info"),l()()),e&2){let r=k().$implicit;g(),Ao("matTooltip",r.narration)}}function eW(e,n){if(e&1){let r=Ce();c(0,"tr",77)(1,"td",74)(2,"mat-checkbox",78),H("change",function(){let i=q(r).$implicit,a=k(3);return K(a.toggleSelect(i._idx))}),l()(),c(3,"td",79),H("click",function(){let i=q(r).index,a=k(3);return K(a.startEditing(i,"payee"))}),G(4,z$,2,1,"span",52)(5,H$,1,1,"input",80),l(),c(6,"td",81),G(7,G$,3,9,"span",82)(8,$$,1,1,"input",83),l(),c(9,"td",84),G(10,W$,2,5,"span",85)(11,Y$,5,1,"mat-select",86),l(),c(12,"td",87),H("click",function(){let i=q(r).index,a=k(3);return K(a.startEditing(i,"category"))}),G(13,q$,2,1,"span",52)(14,Q$,2,2,"mat-select",86),l(),c(15,"td",88),H("click",function(){let i=q(r).index,a=k(3);return K(a.startEditing(i,"date"))}),G(16,X$,3,4,"span",52)(17,Z$,1,1,"input",89),l(),G(18,J$,3,1,"td",90),l()}if(e&2){let r=n.$implicit,t=n.index,i=k(3);g(2),P("checked",i.selectedToImport.has(r._idx)),g(2),P("ngIf",i.editingTransaction!==t||i.editingField!=="payee"),g(),P("ngIf",i.editingTransaction===t&&i.editingField==="payee"),g(2),P("ngIf",i.editingTransaction!==t||i.editingField!=="amount"),g(),P("ngIf",i.editingTransaction===t&&i.editingField==="amount"),g(2),P("ngIf",i.editingTransaction!==t||i.editingField!=="type"),g(),P("ngIf",i.editingTransaction===t&&i.editingField==="type"),g(2),P("ngIf",i.editingTransaction!==t||i.editingField!=="category"),g(),P("ngIf",i.editingTransaction===t&&i.editingField==="category"),g(2),P("ngIf",i.editingTransaction!==t||i.editingField!=="date"),g(),P("ngIf",i.editingTransaction===t&&i.editingField==="date"),g(),P("ngIf",r.narration)}}function tW(e,n){if(e&1){let r=Ce();c(0,"div",71)(1,"div",72)(2,"table",73)(3,"thead")(4,"tr")(5,"th",74)(6,"mat-checkbox",75),H("change",function(){q(r);let i=k(2);return K(i.toggleSelectAll())}),l()(),c(7,"th"),u(8,"Payee"),l(),c(9,"th"),u(10,"Amount"),l(),c(11,"th"),u(12,"Type"),l(),c(13,"th"),u(14,"Category"),l(),c(15,"th"),u(16,"Date"),l(),G(17,U$,2,0,"th",52),l()(),c(18,"tbody"),G(19,eW,19,12,"tr",76),l()()()()}if(e&2){let r=k(2);g(6),P("checked",r.selectedToImport.size===r.parsedTransactions.length)("indeterminate",r.selectedToImport.size>0&&r.selectedToImport.size<r.parsedTransactions.length),g(11),P("ngIf",r.parsedTransactions[0]==null?null:r.parsedTransactions[0].narration),g(2),P("ngForOf",r.parsedTransactions)}}function nW(e,n){if(e&1){let r=Ce();c(0,"div",38)(1,"div",39)(2,"h3",40),u(3,"Preview & Select Transactions"),l(),c(4,"div",41)(5,"button",42),H("click",function(){q(r);let i=k();return K(i.toggleSelectAll())}),u(6),l(),c(7,"span",13),u(8),l()()(),G(9,j$,2,1,"div",43)(10,tW,20,4,"div",44),l()}if(e&2){let r=k();g(6),he(" ",r.selectedToImport.size===r.parsedTransactions.length?"Deselect All":"Select All"," "),g(2),xi(" ",r.selectedToImport.size," of ",r.parsedTransactions.length," selected "),g(),P("ngIf",r.isMobile),g(),P("ngIf",!r.isMobile)}}var vg=(()=>{let n=class n{constructor(t,i,a,o,s,d,m){this.dialogRef=t,this.data=i,this.notificationService=a,this.papa=o,this.auth=s,this.store=d,this.ssrService=m,this.selectedFile=null,this.parsedTransactions=[],this.selectedToImport=new Set,this.error="",this.isLoading=!1,this.isMobile=!1,this.isDragOver=!1,this.fileType="",this.editingTransaction=null,this.editingField=null,this.accounts=[],this.categories=[],this.incomeCategories=[],this.expenseCategories=[],this.defaultAccountId="",this.checkScreenSize(),this.ssrService.isClientSide()&&window.addEventListener("resize",()=>this.checkScreenSize()),this.loadAccountsAndCategories()}ngAfterViewInit(){this.setupDragAndDrop()}ngOnDestroy(){this.ssrService.isClientSide()&&window.removeEventListener("resize",()=>this.checkScreenSize())}loadAccountsAndCategories(){return ge(this,null,function*(){var i;if((i=this.auth.currentUser)!=null&&i.uid)try{this.store.select(uo).subscribe(a=>{this.accounts=a,a.length>0&&(this.defaultAccountId=a[0].accountId)}),this.store.select(Er).subscribe(a=>{this.categories=a,this.incomeCategories=a.filter(o=>o.type==="income"),this.expenseCategories=a.filter(o=>o.type==="expense")})}catch(a){console.error("Error loading accounts and categories:",a)}})}startEditing(t,i){this.editingTransaction=t,this.editingField=i}stopEditing(){this.editingTransaction=null,this.editingField=null}updateTransaction(t,i,a){if(t>=0&&t<this.parsedTransactions.length&&(this.parsedTransactions[t][i]=a,i==="type")){let o=this.parsedTransactions[t];a==="income"&&this.incomeCategories.length>0?o.category=this.incomeCategories[0].name:a==="expense"&&this.expenseCategories.length>0&&(o.category=this.expenseCategories[0].name)}this.stopEditing()}getCategoriesForType(t){return t==="income"?this.incomeCategories:this.expenseCategories}onKeyDown(t,i,a,o){t.key==="Enter"?this.updateTransaction(i,a,o):t.key==="Escape"&&this.stopEditing()}onBlur(t,i,a){this.updateTransaction(t,i,a)}getInputValue(t){let i=t.target;return i?i.value:""}setupDragAndDrop(){var i;let t=(i=this.fileUploadContainer)==null?void 0:i.nativeElement;t&&(t.addEventListener("dragover",a=>{a.preventDefault(),a.stopPropagation(),this.isDragOver=!0}),t.addEventListener("dragleave",a=>{a.preventDefault(),a.stopPropagation(),this.isDragOver=!1}),t.addEventListener("drop",a=>{var s;a.preventDefault(),a.stopPropagation(),this.isDragOver=!1;let o=(s=a.dataTransfer)==null?void 0:s.files;o&&o.length>0&&this.handleFile(o[0])}))}checkScreenSize(){this.ssrService.isClientSide()&&(this.isMobile=window.innerWidth<768)}onFileSelected(t){let i=t.target.files[0];i&&this.handleFile(i)}handleFile(t){if(!t){this.notificationService.warning("Please select a file");return}let i=[".csv",".xlsx",".xls"],a=t.name.toLowerCase().substring(t.name.lastIndexOf("."));if(!i.includes(a)){this.notificationService.error("Please select a CSV, XLSX, or XLS file");return}this.selectedFile=t,this.fileType=a.toUpperCase(),this.error="",this.isLoading=!0,this.notificationService.info(`Processing ${this.fileType} file...`),a===".csv"?this.parseCSVFile(t):(a===".xlsx"||a===".xls")&&this.parseExcelFile(t)}parseCSVFile(t){this.papa.parse(t,{header:!0,skipEmptyLines:!0,complete:i=>{if(this.isLoading=!1,i.errors.length>0&&(console.warn("CSV parsing warnings:",i.errors),i.data.length===0)){this.error="Error parsing CSV file. Please check the format.",this.notificationService.error("Failed to parse CSV file");return}this.processParsedData(i.data),this.notificationService.success(`Successfully parsed ${this.parsedTransactions.length} transactions from CSV file`)},error:i=>{this.isLoading=!1,this.error="Error reading file.",this.notificationService.error("Failed to read file"),console.error("CSV parsing error:",i)}})}parseExcelFile(t){let i=new FileReader;i.onload=a=>{try{let o=new Uint8Array(a.target.result),s=sg(o,{type:"array"});if(s.SheetNames.length===0){this.isLoading=!1,this.error="Excel file contains no sheets.",this.notificationService.error("No sheets found in Excel file");return}let d=s.SheetNames[0],m=s.Sheets[d],f=Pu.sheet_to_json(m,{header:1});if(f.length<2){this.isLoading=!1,this.error="Excel file is empty or has no data rows.",this.notificationService.error("No data found in Excel file");return}let _=f[0],v=f.slice(1);if(!_||_.length===0){this.isLoading=!1,this.error="Excel file must have a header row.",this.notificationService.error("Invalid Excel format - missing headers");return}let w=Pu.sheet_to_json(m,{defval:"",raw:!0});if(w.length===0){this.isLoading=!1,this.error="No valid data rows found in Excel file.",this.notificationService.error("No valid data in Excel file");return}this.isLoading=!1,this.processParsedData(w),this.notificationService.success(`Successfully parsed ${this.parsedTransactions.length} transactions from Excel file`)}catch(o){this.isLoading=!1,this.error="Error parsing Excel file. Please check the format.",this.notificationService.error("Failed to parse Excel file"),console.error("Excel parsing error:",o)}},i.onerror=()=>{this.isLoading=!1,this.error="Error reading Excel file.",this.notificationService.error("Failed to read Excel file")},i.readAsArrayBuffer(t)}processParsedData(t){if(!t||t.length===0){this.error="No valid data found in the file.",this.notificationService.error("No transactions found in the file");return}if(this.isHDFCStatement(t)?this.parseHDFCStatement(t):this.parseStandardFormat(t),this.parsedTransactions.length===0){this.error="No valid transactions found in the file.",this.notificationService.error("No valid transactions found");return}this.selectedToImport=new Set(this.parsedTransactions.map(i=>i._idx))}isHDFCStatement(t){let i=t[0];if(!i)return!1;let a=i.Date!==void 0&&i.Narration!==void 0&&i["Withdrawal Amt."]!==void 0&&i["Deposit Amt."]!==void 0,o=Object.values(i).some(s=>typeof s=="string"&&s.toLowerCase().includes("hdfc"));return a||o}parseHDFCStatement(t){let i=(f,_)=>Object.keys(f).find(v=>v.toLowerCase().includes(_)),a=i(t[0],"date"),o=i(t[0],"narration"),s=i(t[0],"withdrawal"),d=i(t[0],"deposit"),m=i(t[0],"ref")||i(t[0],"chq");if(!a||!o||!s&&!d){this.error="Missing expected columns in HDFC statement.",this.notificationService.error("Invalid format for HDFC statement.");return}this.parsedTransactions=t.filter(f=>{let _=f[a];return _&&typeof _!="string"?!0:_.trim()!==""&&!_.includes("Date")&&!_.includes("*")}).map((f,_)=>{let v=f[a],w=f[o],C=f[s],b=f[d],O=this.parseHDFCAmount(C,b),L=O>0?"income":"expense";return{_idx:_,payee:this.cleanHDFCNarration(w),amount:Math.abs(O),type:L,category:this.categorizeHDFCTransaction(w),date:this.parseHDFCDate(v),narration:w,reference:f[m]||""}}).filter(f=>f.amount>0)}parseStandardFormat(t){this.parsedTransactions=t.map((i,a)=>({_idx:a,payee:i.payee||i.Payee||i.PAYEE||"",amount:parseFloat(i.amount||i.Amount||i.AMOUNT||"0"),type:(i.type||i.Type||i.TYPE||"expense").toLowerCase(),category:i.category||i.Category||i.CATEGORY||"Other",date:i.date||i.Date||i.DATE||new Date().toISOString().split("T")[0]}))}parseHDFCDate(t){if(!t)return new Date().toISOString().split("T")[0];if(typeof t=="number"){let i=Nx.parse_date_code(t);if(i){let a=i.y.toString().padStart(4,"0"),o=i.m.toString().padStart(2,"0"),s=i.d.toString().padStart(2,"0");return`${a}-${o}-${s}`}}if(typeof t=="string"){let i=t.trim().split("/");if(i.length===3){let a=i[0].padStart(2,"0"),o=i[1].padStart(2,"0");return`${i[2].length===2?"20"+i[2]:i[2]}-${o}-${a}`}}return new Date().toISOString().split("T")[0]}parseHDFCAmount(t,i){let a=parseFloat((t==null?void 0:t.replace(/,/g,""))||"0");return parseFloat((i==null?void 0:i.replace(/,/g,""))||"0")-a}cleanHDFCNarration(t){if(!t)return"Unknown";let i=t.replace(/^(UPI|NEFT|IMPS|ACH|POS|EMI|IB BILLPAY|DC)\s*-?\s*/i,"").replace(/^[A-Z0-9]+-[A-Z0-9]+-/,"").replace(/^[A-Z0-9]+-/,""),a=i.match(/^([^-]+)-/);return a&&(i=a[1]),i=i.replace(/@[A-Z0-9]+/g,"").replace(/-[A-Z0-9]+$/g,"").replace(/\s+/," ").trim(),i||"Unknown"}categorizeHDFCTransaction(t){let i=t.toLowerCase();return i.includes("salary")||i.includes("techmahindra")?"Salary":i.includes("zomato")||i.includes("swiggy")||i.includes("restaurant")||i.includes("food")||i.includes("hungerbox")?"Food & Dining":i.includes("fuel")||i.includes("petrol")||i.includes("oil")||i.includes("bp ")||i.includes("quality fuel")?"Fuel":i.includes("flipkart")||i.includes("amazon")||i.includes("shopping")||i.includes("mr diy")||i.includes("bata")||i.includes("lenskart")?"Shopping":i.includes("spotify")||i.includes("netflix")||i.includes("entertainment")?"Entertainment":i.includes("electricity")||i.includes("water")||i.includes("gas")||i.includes("utility")||i.includes("vodafone")||i.includes("jio")?"Utilities":i.includes("uber")||i.includes("ola")||i.includes("parking")||i.includes("transport")||i.includes("irctc")?"Transport":i.includes("rent")?"Rent":i.includes("emi")?"EMI":i.includes("medical")||i.includes("wellness")||i.includes("pharmacy")||i.includes("chemist")?"Medical":"Other"}toggleSelect(t){this.selectedToImport.has(t)?this.selectedToImport.delete(t):this.selectedToImport.add(t)}toggleSelectAll(){this.selectedToImport.size===this.parsedTransactions.length?this.selectedToImport.clear():this.selectedToImport=new Set(this.parsedTransactions.map(t=>t._idx))}downloadTemplate(){try{if(this.ssrService.isClientSide()){let t=`payee,amount,type,category,date
Sample Payee,${xt.VALIDATION.MIN_AMOUNT*1e3},income,Salary,2024-06-01
Sample Expense,${xt.VALIDATION.MIN_AMOUNT*500},expense,Food,2024-06-01`,i=new Blob([t],{type:"text/csv"}),a=window.URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.download="transaction_template.csv",o.click(),window.URL.revokeObjectURL(a);let s=[["payee","amount","type","category","date"],["Sample Payee",xt.VALIDATION.MIN_AMOUNT*1e3,"income","Salary","2024-06-01"],["Sample Expense",xt.VALIDATION.MIN_AMOUNT*500,"expense","Food","2024-06-01"]],d=Pu.aoa_to_sheet(s),m=Pu.book_new();Pu.book_append_sheet(m,d,"Transactions");let f=vv(m,{bookType:"xlsx",type:"array"}),_=new Blob([f],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),v=window.URL.createObjectURL(_),w=document.createElement("a");w.href=v,w.download="transaction_template.xlsx",w.click(),window.URL.revokeObjectURL(v),this.notificationService.success("CSV and Excel templates downloaded successfully")}}catch(t){console.error("Error downloading templates:",t),this.notificationService.error("Failed to download templates")}}importSelected(){let t=this.parsedTransactions.filter(o=>this.selectedToImport.has(o._idx));if(t.length===0){this.notificationService.warning("Please select at least one transaction to import");return}let i=t.filter(o=>!o.payee||!o.payee.trim()?(this.notificationService.warning(`Transaction ${o._idx+1}: Payee is required`),!1):!o.amount||o.amount<=0?(this.notificationService.warning(`Transaction ${o._idx+1}: Amount must be greater than 0`),!1):!o.type||!["income","expense"].includes(o.type)?(this.notificationService.warning(`Transaction ${o._idx+1}: Invalid transaction type`),!1):!o.category||!o.category.trim()?(this.notificationService.warning(`Transaction ${o._idx+1}: Category is required`),!1):o.date?!0:(this.notificationService.warning(`Transaction ${o._idx+1}: Date is required`),!1));if(i.length===0){this.notificationService.error("No valid transactions to import");return}i.length<t.length&&this.notificationService.warning(`${t.length-i.length} transactions were skipped due to validation errors`);let a=i.map(o=>xe(ue({},o),{accountId:this.defaultAccountId||"default"}));this.notificationService.success(`Importing ${i.length} transactions`),this.dialogRef.close(a)}close(){this.dialogRef.close()}};n.\u0275fac=function(i){return new(i||n)(D(Mr),D(kr),D(At),D(xg),D(Ut),D(qt),D(Vr))},n.\u0275cmp=Fe({type:n,selectors:[["import-transactions"]],viewQuery:function(i,a){if(i&1&&Zt(y$,5),i&2){let o;gt(o=_t())&&(a.fileUploadContainer=o.first)}},decls:34,vars:11,consts:[["fileUploadContainer",""],[1,"import-dialog"],["mat-dialog-title","",1,"text-lg","font-semibold","mb-4"],[1,"mr-2"],["mat-dialog-content","",1,"max-h-[70vh]","overflow-y-auto"],["class","mb-6 p-4 bg-gray-50 rounded-lg",4,"ngIf"],[1,"mb-6"],[1,"mb-4"],["mat-stroked-button","","color","primary",1,"w-full","sm:w-auto",3,"click"],[1,"file-upload-container"],["type","file","accept",".csv,.xlsx,.xls",1,"file-input",3,"change","disabled"],[1,"file-upload-overlay"],[1,"text-4xl","mb-2"],[1,"text-sm","text-gray-600"],[1,"text-xs","text-gray-500","mt-1"],["class","mt-2 p-2 bg-blue-50 rounded text-xs text-blue-700",4,"ngIf"],["class","error-message",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","transactions-preview",4,"ngIf"],["mat-dialog-actions","","align","end",1,"dialog-actions"],["mat-button","",1,"mr-2",3,"click"],["mat-raised-button","","color","primary",1,"import-button",3,"click","disabled"],[1,"mb-6","p-4","bg-gray-50","rounded-lg"],[1,"font-semibold","mb-3","text-gray-700"],[1,"flex","flex-col","sm:flex-row","gap-4"],[1,"flex-1"],[1,"block","text-sm","font-medium","text-gray-600","mb-1"],["placeholder","Select account for imported transactions",1,"w-full",3,"valueChange","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mt-2","p-2","bg-blue-50","rounded","text-xs","text-blue-700"],[1,"text-sm","mr-1"],[1,"error-message"],[1,"text-red-500"],[1,"text-red-600","text-sm"],[1,"loading-container"],["diameter","40"],[1,"mt-2","text-gray-600"],[1,"transactions-preview"],[1,"preview-header"],[1,"font-semibold","mb-2"],[1,"preview-actions"],["mat-button","","color","primary",1,"text-sm",3,"click"],["class","mobile-transactions",4,"ngIf"],["class","desktop-transactions",4,"ngIf"],[1,"mobile-transactions"],["class","transaction-card",3,"selected","click",4,"ngFor","ngForOf"],[1,"transaction-card",3,"click"],[1,"transaction-header"],[3,"change","click","checked"],[1,"transaction-info"],[1,"payee",3,"click"],[4,"ngIf"],["type","text","class","edit-input","autofocus","",3,"value","keydown","blur","click",4,"ngIf"],[1,"category",3,"click"],["class","edit-select",3,"value","selectionChange","click",4,"ngIf"],[1,"amount-section"],[1,"amount"],["type","number","class","edit-input amount-input","autofocus","",3,"value","keydown","blur","click",4,"ngIf"],[1,"type",3,"click"],[1,"date",3,"click"],["type","date","class","edit-input","autofocus","",3,"value","keydown","blur","click",4,"ngIf"],["class","transaction-details",4,"ngIf"],["type","text","autofocus","",1,"edit-input",3,"keydown","blur","click","value"],[1,"edit-select",3,"selectionChange","click","value"],["type","number","autofocus","",1,"edit-input","amount-input",3,"keydown","blur","click","value"],["value","income"],["value","expense"],["type","date","autofocus","",1,"edit-input",3,"keydown","blur","click","value"],[1,"transaction-details"],[1,"text-gray-500"],[1,"desktop-transactions"],[1,"table-container"],[1,"transactions-table"],[1,"checkbox-col"],[3,"change","checked","indeterminate"],["class","transaction-row",4,"ngFor","ngForOf"],[1,"transaction-row"],[3,"change","checked"],[1,"payee-cell",3,"click"],["type","text","class","edit-input","autofocus","",3,"value","keydown","blur",4,"ngIf"],[1,"amount-cell"],[3,"income","expense","click",4,"ngIf"],["type","number","class","edit-input amount-input","autofocus","",3,"value","keydown","blur",4,"ngIf"],[1,"type-cell"],["class","type-badge",3,"income","expense","click",4,"ngIf"],["class","edit-select",3,"value","selectionChange",4,"ngIf"],[1,"category-cell",3,"click"],[1,"date-cell",3,"click"],["type","date","class","edit-input","autofocus","",3,"value","keydown","blur",4,"ngIf"],["class","details-cell",4,"ngIf"],["type","text","autofocus","",1,"edit-input",3,"keydown","blur","value"],[3,"click"],["type","number","autofocus","",1,"edit-input","amount-input",3,"keydown","blur","value"],[1,"type-badge",3,"click"],[1,"edit-select",3,"selectionChange","value"],["type","date","autofocus","",1,"edit-input",3,"keydown","blur","value"],[1,"details-cell"],["matTooltipPosition","above",1,"text-gray-400","cursor-pointer",3,"matTooltip"]],template:function(i,a){if(i&1){let o=Ce();c(0,"div",1)(1,"h2",2)(2,"mat-icon",3),u(3,"upload_file"),l(),u(4," Import Transactions "),l(),c(5,"div",4),G(6,w$,9,2,"div",5),c(7,"div",6)(8,"div",7)(9,"button",8),H("click",function(){return q(o),K(a.downloadTemplate())}),c(10,"mat-icon"),u(11,"download"),l(),u(12," Download Templates (CSV + Excel) "),l()(),c(13,"div",9,0)(15,"input",10),H("change",function(d){return q(o),K(a.onFileSelected(d))}),l(),c(16,"div",11)(17,"mat-icon",12),u(18,"cloud_upload"),l(),c(19,"p",13),u(20),l(),c(21,"p",14),u(22,"Supports CSV, Excel (XLSX, XLS) files"),l(),G(23,S$,4,2,"div",15),l()(),G(24,M$,5,1,"div",16),l(),G(25,k$,4,0,"div",17)(26,nW,11,5,"div",18),l(),c(27,"div",19)(28,"button",20),H("click",function(){return q(o),K(a.close())}),u(29,"Cancel"),l(),c(30,"button",21),H("click",function(){return q(o),K(a.importSelected())}),c(31,"mat-icon"),u(32,"cloud_upload"),l(),u(33),l()()()}i&2&&(g(6),P("ngIf",a.accounts.length>0),g(7),Be("drag-over",a.isDragOver),g(2),P("disabled",a.isLoading),g(5),he(" ",a.isLoading?"Processing...":"Click to select file or drag and drop"," "),g(3),P("ngIf",a.selectedFile),g(),P("ngIf",a.error),g(),P("ngIf",a.isLoading),g(),P("ngIf",a.parsedTransactions.length&&!a.isLoading),g(4),P("disabled",!a.parsedTransactions.length||a.selectedToImport.size===0),g(3),he(" Import Selected (",a.selectedToImport.size,") "))},dependencies:[an,Tt,zt,Cn,Qr,Lr,Xh,Jh,Zh,tp,Xo,ni,hd,zi],styles:["mat-dialog-content[_ngcontent-%COMP%]{min-width:350px}input[type=file][_ngcontent-%COMP%]{margin-top:8px}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:6px 10px;border:1px solid #e5e7eb}th[_ngcontent-%COMP%]{background:#f3f4f6;font-weight:600}.text-red-600[_ngcontent-%COMP%]{color:#dc2626}mat-dialog-actions[_ngcontent-%COMP%]{margin-top:16px}.import-dialog[_ngcontent-%COMP%]{min-width:320px;max-width:95vw}@media (min-width: 768px){.import-dialog[_ngcontent-%COMP%]{min-width:600px;max-width:90vw}}@media (min-width: 1024px){.import-dialog[_ngcontent-%COMP%]{min-width:800px;max-width:80vw}}.file-upload-container[_ngcontent-%COMP%]{position:relative;border:2px dashed #d1d5db;border-radius:8px;padding:2rem;text-align:center;transition:all .3s ease;background:#f9fafb;cursor:pointer}.file-upload-container[_ngcontent-%COMP%]:hover{border-color:#3b82f6;background:#f0f9ff}.file-upload-container.drag-over[_ngcontent-%COMP%]{border-color:#3b82f6;background:#dbeafe}.file-input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer;z-index:2}.file-upload-overlay[_ngcontent-%COMP%]{pointer-events:none;z-index:1}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:.5rem;padding:.75rem;background:#fef2f2;border:1px solid #fecaca;border-radius:6px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;text-align:center}.transactions-preview[_ngcontent-%COMP%]{margin-top:1.5rem}.preview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap;gap:.5rem}@media (max-width: 640px){.preview-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}.preview-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}@media (max-width: 640px){.preview-actions[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}.mobile-transactions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.transaction-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:8px;padding:1rem;background:#fff;transition:all .2s ease;cursor:pointer}.transaction-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 2px 8px #3b82f61a}.transaction-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#f0f9ff}.transaction-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.transaction-info[_ngcontent-%COMP%]{flex:1;min-width:0}.payee[_ngcontent-%COMP%]{font-weight:500;color:#1f2937;margin-bottom:.25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.category[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.amount-section[_ngcontent-%COMP%]{text-align:right;min-width:80px}.amount[_ngcontent-%COMP%]{font-weight:600;font-size:1rem}.amount.income[_ngcontent-%COMP%]{color:#059669}.amount.expense[_ngcontent-%COMP%]{color:#dc2626}.date[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin-top:.25rem}.transaction-details[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid #f3f4f6}.desktop-transactions[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:8px;overflow:hidden;background:#fff}.transactions-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.875rem}.transactions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .transactions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #f3f4f6}.transactions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f9fafb;font-weight:600;color:#374151;position:sticky;top:0;z-index:10}.transactions-table[_ngcontent-%COMP%]   .checkbox-col[_ngcontent-%COMP%]{width:48px;text-align:center}.transactions-table[_ngcontent-%COMP%]   .payee-cell[_ngcontent-%COMP%]{max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.transactions-table[_ngcontent-%COMP%]   .amount-cell[_ngcontent-%COMP%]{font-weight:600;text-align:right}.transactions-table[_ngcontent-%COMP%]   .amount-cell[_ngcontent-%COMP%]   .income[_ngcontent-%COMP%]{color:#059669}.transactions-table[_ngcontent-%COMP%]   .amount-cell[_ngcontent-%COMP%]   .expense[_ngcontent-%COMP%]{color:#dc2626}.transactions-table[_ngcontent-%COMP%]   .type-cell[_ngcontent-%COMP%]{text-align:center}.transactions-table[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:12px;font-size:.75rem;font-weight:500;text-transform:capitalize}.transactions-table[_ngcontent-%COMP%]   .type-badge.income[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.transactions-table[_ngcontent-%COMP%]   .type-badge.expense[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.transactions-table[_ngcontent-%COMP%]   .category-cell[_ngcontent-%COMP%]{max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.transactions-table[_ngcontent-%COMP%]   .date-cell[_ngcontent-%COMP%]{text-align:center;white-space:nowrap}.transactions-table[_ngcontent-%COMP%]   .details-cell[_ngcontent-%COMP%]{text-align:center;width:48px}.transactions-table[_ngcontent-%COMP%]   .transaction-row[_ngcontent-%COMP%]{transition:background-color .2s ease}.transactions-table[_ngcontent-%COMP%]   .transaction-row[_ngcontent-%COMP%]:hover{background:#f9fafb}.dialog-actions[_ngcontent-%COMP%]{padding:1rem 0 0;border-top:1px solid #e5e7eb;margin-top:1rem}@media (max-width: 640px){.dialog-actions[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:.5rem}.dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}@media (max-width: 640px){.import-button[_ngcontent-%COMP%]{margin-bottom:.5rem}}@media (max-width: 768px){.transactions-table[_ngcontent-%COMP%]{font-size:.75rem}.transactions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .transactions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}.transactions-table[_ngcontent-%COMP%]   .payee-cell[_ngcontent-%COMP%]{max-width:120px}.transactions-table[_ngcontent-%COMP%]   .category-cell[_ngcontent-%COMP%]{max-width:80px}}.edit-input[_ngcontent-%COMP%]{width:100%;padding:.25rem .5rem;border:1px solid #3b82f6;border-radius:4px;font-size:inherit;background:#fff;outline:none}.edit-input[_ngcontent-%COMP%]:focus{border-color:#1d4ed8;box-shadow:0 0 0 2px #3b82f633}.edit-input.amount-input[_ngcontent-%COMP%]{text-align:right;font-weight:600}.edit-select[_ngcontent-%COMP%]{width:100%;min-width:120px}.edit-select[_ngcontent-%COMP%]     .mat-mdc-select-trigger{height:32px;padding:0 .5rem}.edit-select[_ngcontent-%COMP%]     .mat-mdc-select-value{font-size:inherit}.mobile-transactions[_ngcontent-%COMP%]   .edit-input[_ngcontent-%COMP%]{font-size:.875rem;padding:.125rem .25rem}.mobile-transactions[_ngcontent-%COMP%]   .edit-select[_ngcontent-%COMP%]     .mat-mdc-select-trigger{height:28px;padding:0 .25rem}.desktop-transactions[_ngcontent-%COMP%]   .edit-input[_ngcontent-%COMP%]{font-size:.875rem}.desktop-transactions[_ngcontent-%COMP%]   .payee-cell[_ngcontent-%COMP%], .desktop-transactions[_ngcontent-%COMP%]   .amount-cell[_ngcontent-%COMP%], .desktop-transactions[_ngcontent-%COMP%]   .date-cell[_ngcontent-%COMP%]{cursor:pointer}.desktop-transactions[_ngcontent-%COMP%]   .payee-cell[_ngcontent-%COMP%]:hover, .desktop-transactions[_ngcontent-%COMP%]   .amount-cell[_ngcontent-%COMP%]:hover, .desktop-transactions[_ngcontent-%COMP%]   .date-cell[_ngcontent-%COMP%]:hover{background:#f3f4f6}.desktop-transactions[_ngcontent-%COMP%]   .type-cell[_ngcontent-%COMP%], .desktop-transactions[_ngcontent-%COMP%]   .category-cell[_ngcontent-%COMP%]{cursor:pointer}.desktop-transactions[_ngcontent-%COMP%]   .type-cell[_ngcontent-%COMP%]:hover, .desktop-transactions[_ngcontent-%COMP%]   .category-cell[_ngcontent-%COMP%]:hover{background:#f3f4f6}"]});let e=n;return e})();var sa=To(Fo());var iW=["button"],rW=["*"];function aW(e,n){if(e&1&&de(0,"mat-pseudo-checkbox",3),e&2){let r=k();P("disabled",r.disabled)}}function oW(e,n){if(e&1&&de(0,"mat-pseudo-checkbox",3),e&2){let r=k();P("disabled",r.disabled)}}var fE=new Ft("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:sW});function sW(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var gE=new Ft("MatButtonToggleGroup"),cW={provide:fd,useExisting:Da(()=>Mv),multi:!0},_E=0,bg=class{constructor(n,r){this.source=n,this.value=r}},Mv=(()=>{let n=class n{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get value(){let t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(i=>i.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){let t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=t,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(t){this._hideMultipleSelectionIndicator=t,this._markButtonsForCheck()}constructor(t,i,a){var o,s;this._changeDetector=t,this._dir=a,this._multiple=!1,this._disabled=!1,this._disabledInteractive=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name=`mat-button-toggle-group-${_E++}`,this.valueChange=new He,this.change=new He,this.appearance=i&&i.appearance?i.appearance:"standard",this.hideSingleSelectionIndicator=(o=i==null?void 0:i.hideSingleSelectionIndicator)!=null?o:!1,this.hideMultipleSelectionIndicator=(s=i==null?void 0:i.hideMultipleSelectionIndicator)!=null?s:!1}ngOnInit(){this._selectionModel=new BC(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked)),this.multiple||this._initializeTabIndex()}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_keydown(t){if(this.multiple||this.disabled)return;let a=t.target.id,o=this._buttonToggles.toArray().findIndex(d=>d.buttonId===a),s=null;switch(t.keyCode){case 32:case 13:s=this._buttonToggles.get(o)||null;break;case 38:s=this._getNextButton(o,-1);break;case 37:s=this._getNextButton(o,this.dir==="ltr"?-1:1);break;case 40:s=this._getNextButton(o,1);break;case 39:s=this._getNextButton(o,this.dir==="ltr"?1:-1);break;default:return}s&&(t.preventDefault(),s._onButtonClick(),s.focus())}_emitChangeEvent(t){let i=new bg(t,this.value);this._rawValue=i.value,this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(t,i,a=!1,o=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(t):this._selectionModel.deselect(t):o=!0,o?Promise.resolve().then(()=>this._updateModelValue(t,a)):this._updateModelValue(t,a)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>t.value!=null&&i===t.value):t.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(t=>{t.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let t=0;t<this._buttonToggles.length;t++){let i=this._buttonToggles.get(t);if(!i.disabled){i.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(t,i){let a=this._buttonToggles;for(let o=1;o<=a.length;o++){let s=(t+i*o+a.length)%a.length,d=a.get(s);if(d&&!d.disabled)return d}return null}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>{t.checked=!1,this.multiple||(t.tabIndex=-1)})}_selectValue(t){let i=this._buttonToggles.find(a=>a.value!=null&&a.value===t);i&&(i.checked=!0,this._selectionModel.select(i),this.multiple||(i.tabIndex=0))}_updateModelValue(t,i){i&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){var t;(t=this._buttonToggles)==null||t.forEach(i=>i._markForCheck())}};n.\u0275fac=function(i){return new(i||n)(D(gn),D(fE,8),D(pa,8))},n.\u0275dir=Et({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(i,a,o){if(i&1&&yi(o,yg,5),i&2){let s;gt(s=_t())&&(a._buttonToggles=s)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(i,a){i&1&&H("keydown",function(s){return a._keydown(s)}),i&2&&(Gt("role",a.multiple?"group":"radiogroup")("aria-disabled",a.disabled),Be("mat-button-toggle-vertical",a.vertical)("mat-button-toggle-group-appearance-standard",a.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",Ct],value:"value",multiple:[2,"multiple","multiple",Ct],disabled:[2,"disabled","disabled",Ct],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ct],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Ct],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",Ct]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[Dn([cW,{provide:gE,useExisting:n}]),Ln]});let e=n;return e})(),yg=(()=>{let n=class n{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(t){this._tabIndex=t,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=t}get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}constructor(t,i,a,o,s,d){var f;this._changeDetectorRef=i,this._elementRef=a,this._focusMonitor=o,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new He;let m=Number(s);this.tabIndex=m||m===0?m:null,this.buttonToggleGroup=t,this.appearance=d&&d.appearance?d.appearance:"standard",this.disabledInteractive=(f=d==null?void 0:d.disabledInteractive)!=null?f:!1}ngOnInit(){let t=this.buttonToggleGroup;this.id=this.id||`mat-button-toggle-${_E++}`,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){if(this.disabled)return;let t=this.isSingleSelector()?!0:!this._checked;if(t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let i=this.buttonToggleGroup._buttonToggles.find(a=>a.tabIndex===0);i&&(i.tabIndex=-1),this.tabIndex=0}this.change.emit(new bg(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}};n.\u0275fac=function(i){return new(i||n)(D(gE,8),D(gn),D(tn),D(Qo),Oo("tabindex"),D(fE,8))},n.\u0275cmp=Fe({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(i,a){if(i&1&&Zt(iW,5),i&2){let o;gt(o=_t())&&(a._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(i,a){i&1&&H("focus",function(){return a.focus()}),i&2&&(Gt("aria-label",null)("aria-labelledby",null)("id",a.id)("name",null),Be("mat-button-toggle-standalone",!a.buttonToggleGroup)("mat-button-toggle-checked",a.checked)("mat-button-toggle-disabled",a.disabled)("mat-button-toggle-disabled-interactive",a.disabledInteractive)("mat-button-toggle-appearance-standard",a.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",Ct],appearance:"appearance",checked:[2,"checked","checked",Ct],disabled:[2,"disabled","disabled",Ct],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ct]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[Ln,rn],ngContentSelectors:rW,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,a){if(i&1){let o=Ce();_i(),c(0,"button",1,0),H("click",function(){return q(o),K(a._onButtonClick())}),c(2,"span",2),G(3,aW,1,1,"mat-pseudo-checkbox",3)(4,oW,1,1,"mat-pseudo-checkbox",3),yn(5),l()(),de(6,"span",4)(7,"span",5)}if(i&2){let o=qn(1);P("id",a.buttonId)("disabled",a.disabled&&!a.disabledInteractive||null),Gt("role",a.isSingleSelector()?"radio":"button")("tabindex",a.disabled&&!a.disabledInteractive?-1:a.tabIndex)("aria-pressed",a.isSingleSelector()?null:a.checked)("aria-checked",a.isSingleSelector()?a.checked:null)("name",a._getButtonName())("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledby)("aria-disabled",a.disabled&&a.disabledInteractive?"true":null),g(3),ot(a.buttonToggleGroup&&a.checked&&!a.buttonToggleGroup.multiple&&!a.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),g(),ot(a.buttonToggleGroup&&a.checked&&a.buttonToggleGroup.multiple&&!a.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),g(3),P("matRippleTrigger",o)("matRippleDisabled",a.disableRipple||a.disabled)}},dependencies:[ll,OC],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0});let e=n;return e})(),xE=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({imports:[Kn,Gh,yg,Kn]});let e=n;return e})();function uW(e,n){e&1&&(c(0,"div",11)(1,"div",12)(2,"div",13),de(3,"div",14),l(),c(4,"h3",15),u(5,"Loading Financial Data"),l(),c(6,"p",16),u(7,"Please wait while we prepare your reports..."),l()()())}function mW(e,n){e&1&&(c(0,"mat-icon",115),u(1,"check"),l())}function hW(e,n){if(e&1){let r=Ce();c(0,"button",67),H("click",function(){let i=q(r).$implicit,a=k(2);return K(a.onChartTypeChange(i))}),c(1,"mat-icon",68),u(2),l(),c(3,"span",68),u(4),l(),G(5,mW,2,0,"mat-icon",114),l()}if(e&2){let r=n.$implicit,t=k(2);Be("bg-blue-50",t.selectedChartType===r),g(2),ne(r==="pie"?"pie_chart":r==="bar"?"bar_chart":r==="line"?"show_chart":r==="area"?"area_chart":r==="radar"?"radar":r==="funnel"?"filter_alt":r==="scatter"?"scatter_plot":"grid_on"),g(2),ne(r.charAt(0).toUpperCase()+r.slice(1)),g(),P("ngIf",t.selectedChartType===r)}}function pW(e,n){e&1&&(c(0,"mat-icon",117),u(1,"check"),l())}function fW(e,n){if(e&1){let r=Ce();c(0,"button",67),H("click",function(){let i=q(r).$implicit,a=k(2);return K(a.onAnalyticsViewChange(i))}),c(1,"mat-icon",68),u(2),l(),c(3,"span",68),u(4),l(),G(5,pW,2,0,"mat-icon",116),l()}if(e&2){let r=n.$implicit,t=k(2);Be("bg-green-50",t.selectedAnalyticsView===r),g(2),ne(r==="overview"?"dashboard":r==="trends"?"trending_up":r==="categories"?"category":r==="accounts"?"account_balance":r==="comparison"?"compare":"timeline"),g(2),ne(r.charAt(0).toUpperCase()+r.slice(1)),g(),P("ngIf",t.selectedAnalyticsView===r)}}function gW(e,n){if(e&1&&(c(0,"div",121)(1,"span",122),u(2),l(),c(3,"span",123),u(4),l()()),e&2){let r=n.$implicit;g(2),ne(r.category),g(),P("ngClass",r.change>=0?"text-red-600":"text-green-600"),g(),xi(" ",r.change>=0?"+":"","",r.percentage.toFixed(1),"% ")}}function _W(e,n){if(e&1&&(c(0,"div",82)(1,"h4",118)(2,"mat-icon",119),u(3,"category"),l(),u(4," Category Trends "),l(),G(5,gW,5,4,"div",120),l()),e&2){let r=k(2);g(5),P("ngForOf",r.categoryTrends.slice(0,3))}}function xW(e,n){if(e&1&&(c(0,"div",121)(1,"span",122),u(2),l(),c(3,"span",124),u(4),l()()),e&2){let r=n.$implicit,t=k(3);g(2),ne(r.period),g(2),ne(t.formatCurrency(r.amount))}}function vW(e,n){if(e&1&&(c(0,"div",82)(1,"h4",118)(2,"mat-icon",119),u(3,"trending_up"),l(),u(4," Spending Trends "),l(),G(5,xW,5,2,"div",120),l()),e&2){let r=k(2);g(5),P("ngForOf",r.spendingTrends.slice(0,3))}}function bW(e,n){if(e&1&&(c(0,"div",121)(1,"span",122),u(2),l(),c(3,"span",124),u(4),l()()),e&2){let r=n.$implicit,t=k(3);g(2),ne(r.account),g(2),ne(t.formatCurrency(r.balance))}}function yW(e,n){if(e&1&&(c(0,"div",82)(1,"h4",118)(2,"mat-icon",119),u(3,"account_balance"),l(),u(4," Account Balances "),l(),G(5,bW,5,2,"div",120),l()),e&2){let r=k(2);g(5),P("ngForOf",r.accountBalances.slice(0,3))}}function CW(e,n){if(e&1&&(c(0,"mat-option",146),u(1),l()),e&2){let r=n.$implicit;P("value",r.name),g(),ne(r.name)}}function wW(e,n){if(e&1&&(c(0,"mat-option",146),u(1),l()),e&2){let r=n.$implicit;P("value",r.name),g(),ne(r.name)}}function SW(e,n){if(e&1){let r=Ce();c(0,"div",125)(1,"div",126)(2,"div",127)(3,"div",128)(4,"mat-icon",81),u(5,"filter_list"),l()(),c(6,"div")(7,"h3",129),u(8,"Quick Filters"),l(),c(9,"p",130),u(10,"Filter your financial data"),l()()(),c(11,"button",131),H("click",function(){q(r);let i=k(2);return K(i.toggleQuickFilters())}),c(12,"mat-icon"),u(13,"expand_less"),l()()(),c(14,"div",132)(15,"div")(16,"label",133),u(17,"Date Range"),l(),c(18,"mat-form-field",134)(19,"mat-select")(20,"mat-option",135),u(21,"Last 7 days"),l(),c(22,"mat-option",136),u(23,"Last 30 days"),l(),c(24,"mat-option",137),u(25,"Last 3 months"),l(),c(26,"mat-option",138),u(27,"Last year"),l()()()(),c(28,"div")(29,"label",133),u(30,"Category"),l(),c(31,"mat-form-field",134)(32,"mat-select")(33,"mat-option",139),u(34,"All Categories"),l(),G(35,CW,2,2,"mat-option",140),l()()(),c(36,"div")(37,"label",133),u(38,"Account"),l(),c(39,"mat-form-field",134)(40,"mat-select")(41,"mat-option",139),u(42,"All Accounts"),l(),G(43,wW,2,2,"mat-option",140),l()()(),c(44,"div")(45,"label",133),u(46,"Transaction Type"),l(),c(47,"mat-form-field",134)(48,"mat-select")(49,"mat-option",139),u(50,"All Types"),l(),c(51,"mat-option",141),u(52,"Income"),l(),c(53,"mat-option",142),u(54,"Expense"),l()()()()(),c(55,"div",143)(56,"button",144),H("click",function(){q(r);let i=k(2);return K(i.toggleQuickFilters())}),u(57," Cancel "),l(),c(58,"button",145),H("click",function(){q(r);let i=k(2);return K(i.applyFilters())}),u(59," Apply Filters "),l()()()}if(e&2){let r=k(2);g(35),P("ngForOf",r.categories),g(8),P("ngForOf",r.accounts)}}function MW(e,n){if(e&1){let r=Ce();c(0,"div",147)(1,"button",148),H("click",function(){q(r);let i=k(2);return K(i.toggleQuickFilters())}),c(2,"mat-icon"),u(3,"filter_list"),l(),c(4,"span"),u(5,"Show Filters"),l()()()}}function kW(e,n){if(e&1&&(c(0,"div",132)(1,"div",149)(2,"div",20)(3,"div",21)(4,"p",150),u(5,"Avg Daily Spending"),l(),c(6,"p",151),u(7),l()(),c(8,"div",105)(9,"mat-icon",152),u(10,"schedule"),l()()()(),c(11,"div",153)(12,"div",20)(13,"div",21)(14,"p",154),u(15,"Avg Monthly Spending"),l(),c(16,"p",155),u(17),l()(),c(18,"div",156)(19,"mat-icon",157),u(20,"calendar_month"),l()()()(),c(21,"div",158)(22,"div",20)(23,"div",21)(24,"p",159),u(25,"Savings Rate"),l(),c(26,"p",160),u(27),l()(),c(28,"div",161)(29,"mat-icon",162),u(30,"trending_up"),l()()()(),c(31,"div",163)(32,"div",20)(33,"div",21)(34,"p",164),u(35,"Expense Growth"),l(),c(36,"p",165),u(37),l()(),c(38,"div",166)(39,"mat-icon",167),u(40,"analytics"),l()()()()()),e&2){let r=k(2);g(7),ne(r.formatCurrency(r.averageDailySpending)),g(10),ne(r.formatCurrency(r.averageMonthlySpending)),g(10),he("",r.savingsRate.toFixed(1),"%"),g(9),P("ngClass",r.expenseGrowthRate>=0?"text-rose-600":"text-green-600"),g(),xi(" ",r.expenseGrowthRate>=0?"+":"","",r.expenseGrowthRate.toFixed(1),"% ")}}function PW(e,n){if(e&1&&(c(0,"div",91)(1,"span",94),u(2),l(),c(3,"span",168),u(4),l()()),e&2){let r=n.$implicit,t=k(2);g(2),ne(r.month),g(2),ne(t.formatCurrency(r.savings))}}function EW(e,n){if(e&1&&(c(0,"div",170)(1,"div",92)(2,"div",171)(3,"mat-icon",68),u(4),l()(),c(5,"div",172)(6,"span",173),u(7),l(),c(8,"div",174),u(9),l()()(),c(10,"span",168),u(11),l()()),e&2){let r=n.$implicit,t=k(3);g(3),Yt("color",r.color),g(),ne(r.icon),g(3),ne(r.category),g(2),he("",r.percentage.toFixed(1),"% of total"),g(2),ne(t.formatCurrency(r.amount))}}function TW(e,n){if(e&1&&(c(0,"div",82),G(1,EW,12,6,"div",169),l()),e&2){let r=k(2);g(),P("ngForOf",r.topCategories)}}function OW(e,n){e&1&&(c(0,"div",175)(1,"div",176)(2,"mat-icon",177),u(3,"bar_chart"),l()(),c(4,"h4",178),u(5,"No Data Available"),l(),c(6,"p",179),u(7,"Add transactions to see category breakdown"),l()())}function IW(e,n){if(e&1&&(c(0,"div",170)(1,"div",92)(2,"mat-icon",180),u(3),l(),c(4,"div",172)(5,"span",173),u(6),l(),c(7,"div",181),u(8),l()()(),c(9,"div",182)(10,"span",183),u(11),l(),c(12,"div",174),u(13),Ee(14,"date"),l()()()),e&2){let r=n.$implicit,t=k(3);g(2),P("ngClass",t.getTransactionColor(r)),g(),ne(t.getTransactionIcon(r)),g(3),ne(r.payee),g(2),ne(r.category),g(2),P("ngClass",t.getTransactionColor(r)),g(),xi(" ",r.type==="income"?"+":"-","",t.formatCurrency(r.amount)," "),g(2),he(" ",Xt(14,8,t.dateService.toDate(r.date),"MMM dd")," ")}}function AW(e,n){if(e&1&&(c(0,"div",82),G(1,IW,15,11,"div",169),l()),e&2){let r=k(2);g(),P("ngForOf",r.recentTransactions)}}function DW(e,n){e&1&&(c(0,"div",175)(1,"div",176)(2,"mat-icon",177),u(3,"receipt_long"),l()(),c(4,"h4",178),u(5,"No Recent Transactions"),l(),c(6,"p",179),u(7,"Your recent activity will appear here"),l()())}function FW(e,n){if(e&1){let r=Ce();c(0,"div",125)(1,"div",126)(2,"div",127)(3,"div",184)(4,"mat-icon",77),u(5,"file_download"),l()(),c(6,"div")(7,"h3",129),u(8,"Export Options"),l(),c(9,"p",130),u(10,"Export your financial reports"),l()()(),c(11,"button",131),H("click",function(){q(r);let i=k(2);return K(i.toggleExportOptions())}),c(12,"mat-icon"),u(13,"expand_less"),l()()(),c(14,"div",132)(15,"div")(16,"label",133),u(17,"Export Format"),l(),c(18,"mat-form-field",134)(19,"mat-select",185),kt("ngModelChange",function(i){q(r);let a=k(2);return Mt(a.userPreferences.exportFormat,i)||(a.userPreferences.exportFormat=i),K(i)}),c(20,"mat-option",186),u(21,"PDF Report"),l(),c(22,"mat-option",187),u(23,"Excel Spreadsheet"),l(),c(24,"mat-option",188),u(25,"CSV Data"),l(),c(26,"mat-option",189),u(27,"JSON Data"),l()()()(),c(28,"div")(29,"label",133),u(30,"Date Range"),l(),c(31,"mat-form-field",134)(32,"mat-select")(33,"mat-option",190),u(34,"Current Month"),l(),c(35,"mat-option",191),u(36,"Last 3 Months"),l(),c(37,"mat-option",192),u(38,"Last 6 Months"),l(),c(39,"mat-option",193),u(40,"Last 12 Months"),l(),c(41,"mat-option",194),u(42,"Custom Range"),l()()()(),c(43,"div")(44,"label",133),u(45,"Include Charts"),l(),c(46,"mat-slide-toggle",195),u(47,"Include Visualizations"),l()(),c(48,"div",196)(49,"button",197),H("click",function(){q(r);let i=k(2);return K(i.exportReport())}),c(50,"mat-icon",198),u(51,"download"),l(),u(52," Export Report "),l()()(),c(53,"div",143)(54,"button",144),H("click",function(){q(r);let i=k(2);return K(i.toggleExportOptions())}),u(55," Cancel "),l(),c(56,"button",199),H("click",function(){q(r);let i=k(2);return K(i.generateReport())}),c(57,"mat-icon",198),u(58,"description"),l(),u(59," Generate Report "),l()()()}if(e&2){let r=k(2);g(19),St("ngModel",r.userPreferences.exportFormat)}}function RW(e,n){if(e&1){let r=Ce();c(0,"div",147)(1,"button",148),H("click",function(){q(r);let i=k(2);return K(i.toggleExportOptions())}),c(2,"mat-icon"),u(3,"file_download"),l(),c(4,"span"),u(5,"Export Options"),l()()()}}function NW(e,n){if(e&1&&(c(0,"div",206)(1,"div",207),u(2),l(),c(3,"div",208),u(4),l(),c(5,"div",209),u(6),l(),c(7,"div",210),u(8),l()()),e&2){let r=n.$implicit,t=k(3);g(2),ne(r.month),g(2),ne(t.formatCurrency(r.income)),g(2),ne(t.formatCurrency(r.expenses)),g(2),xi(" ",r.savings>=0?"+":"","",t.formatCurrency(r.savings)," ")}}function LW(e,n){if(e&1&&(c(0,"div",20)(1,"div",92)(2,"div",212)(3,"mat-icon",213),u(4),l()(),c(5,"span",94),u(6),l()(),c(7,"div",214)(8,"div",215),de(9,"div",216),l(),c(10,"span",217),u(11),l()()()),e&2){let r=n.$implicit,t=k(4);g(3),Yt("color",r.color),g(),ne(r.icon),g(2),ne(r.category),g(3),Yt("width",r.percentage,"%"),g(2),he(" ",t.formatCurrency(r.amount)," ")}}function VW(e,n){if(e&1&&(c(0,"div",201)(1,"h4",202),u(2,"Category Breakdown"),l(),c(3,"div",82),G(4,LW,12,7,"div",211),l()()),e&2){let r=k(3);g(4),P("ngForOf",r.topCategories)}}function BW(e,n){if(e&1&&(c(0,"div",200)(1,"div",201)(2,"h4",202),u(3,"Monthly Trends"),l(),c(4,"div",203),G(5,NW,9,5,"div",204),l()(),G(6,VW,5,1,"div",205),l()),e&2){let r=k(2);g(5),P("ngForOf",r.monthlyTrends),g(),P("ngIf",r.topCategories.length>0)}}function jW(e,n){if(e&1){let r=Ce();c(0,"div",218)(1,"div",219)(2,"mat-icon",220),u(3,"analytics"),l()(),c(4,"h4",221),u(5,"No Data Available"),l(),c(6,"p",222),u(7," Start adding transactions to see detailed reports and insights about your financial patterns. "),l(),c(8,"button",223),H("click",function(){q(r);let i=k(2);return K(i.addTransaction())}),c(9,"mat-icon"),u(10,"add"),l(),c(11,"span"),u(12,"Add Transaction"),l()()()}}function UW(e,n){if(e&1){let r=Ce();c(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"div",21)(5,"p",22),u(6,"Total Income"),l(),c(7,"p",23),u(8),l(),c(9,"p",24),u(10,"This period"),l()(),c(11,"div",25)(12,"mat-icon",26),u(13,"trending_up"),l()()()(),c(14,"div",27)(15,"div",20)(16,"div",21)(17,"p",28),u(18,"Total Expenses"),l(),c(19,"p",29),u(20),l(),c(21,"p",30),u(22,"This period"),l()(),c(23,"div",31)(24,"mat-icon",32),u(25,"trending_down"),l()()()(),c(26,"div",33)(27,"div",20)(28,"div",21)(29,"p",34),u(30,"Net Savings"),l(),c(31,"p",35),u(32),l(),c(33,"p",36),u(34,"This period"),l()(),c(35,"div",37)(36,"mat-icon",38),u(37,"account_balance_wallet"),l()()()(),c(38,"div",39)(39,"div",20)(40,"div",21)(41,"p",40),u(42,"Monthly Change"),l(),c(43,"p",41),u(44),l(),c(45,"p",42),u(46,"vs last month"),l()(),c(47,"div",43)(48,"mat-icon",44),u(49),l()()()()(),c(50,"div",45)(51,"div",46)(52,"div",47)(53,"div",21)(54,"h2",48),u(55),l(),c(56,"p",49),u(57,"Interactive financial visualization"),l()(),c(58,"div",50)(59,"mat-button-toggle-group",51),H("change",function(i){q(r);let a=k();return K(a.onPeriodChange(i.value))}),c(60,"mat-button-toggle",52),u(61,"D"),l(),c(62,"mat-button-toggle",53),u(63,"W"),l(),c(64,"mat-button-toggle",54),u(65,"M"),l(),c(66,"mat-button-toggle",55),u(67,"Y"),l()(),c(68,"button",56)(69,"mat-icon"),u(70),l()(),c(71,"mat-menu",57,0)(73,"div",58)(74,"div",59),u(75,"Chart Type"),l(),G(76,hW,6,5,"button",60),l()(),c(77,"button",61)(78,"mat-icon"),u(79,"analytics"),l()(),c(80,"mat-menu",62,1)(82,"div",58)(83,"div",59),u(84,"Analytics View"),l(),G(85,fW,6,5,"button",63),l()(),c(86,"button",64),H("click",function(){q(r);let i=k();return K(i.toggleAdvancedAnalytics())}),c(87,"mat-icon"),u(88),l()(),c(89,"button",65)(90,"mat-icon"),u(91,"more_vert"),l()(),c(92,"mat-menu",66,2)(94,"button",67),H("click",function(){q(r);let i=k();return K(i.openPreferencesDialog())}),c(95,"mat-icon",68),u(96,"settings"),l(),c(97,"span",68),u(98,"Preferences"),l()(),c(99,"button",69),H("click",function(){q(r);let i=k();return K(i.refreshData())}),c(100,"mat-icon",68),u(101,"refresh"),l(),c(102,"span",68),u(103),l()(),c(104,"button",67),H("click",function(){q(r);let i=k();return K(i.toggleHelpTooltip())}),c(105,"mat-icon",68),u(106,"help_outline"),l(),c(107,"span",68),u(108,"Help"),l()(),de(109,"mat-divider"),c(110,"button",67),H("click",function(){q(r);let i=k();return K(i.toggleQuickFilters())}),c(111,"mat-icon",68),u(112,"filter_list"),l(),c(113,"span",68),u(114),l()(),c(115,"button",67),H("click",function(){q(r);let i=k();return K(i.toggleExportOptions())}),c(116,"mat-icon",68),u(117,"file_download"),l(),c(118,"span",68),u(119),l()()()()()(),c(120,"div",70)(121,"div",71),de(122,"div",72),l()()(),c(123,"div",73)(124,"div",74)(125,"mat-card",75)(126,"div",70)(127,"div",76)(128,"div",21)(129,"h3",48),u(130,"Analytics Summary"),l(),c(131,"p",49),u(132,"Key insights and trends"),l()(),c(133,"div",25)(134,"mat-icon",77),u(135,"insights"),l()()(),c(136,"div",78),G(137,_W,6,1,"div",79)(138,vW,6,1,"div",79)(139,yW,6,1,"div",79),l()()()(),c(140,"div",80)(141,"mat-card",75)(142,"div",70)(143,"div",76)(144,"div",21)(145,"h3",48),u(146,"Quick Actions"),l(),c(147,"p",49),u(148,"Common tasks"),l()(),c(149,"div",37)(150,"mat-icon",81),u(151,"bolt"),l()()(),c(152,"div",82)(153,"button",83),H("click",function(){q(r);let i=k();return K(i.addTransaction())}),c(154,"mat-icon",84),u(155,"add"),l(),u(156," Add Transaction "),l(),c(157,"button",83),H("click",function(){q(r);let i=k();return K(i.exportReport())}),c(158,"mat-icon",84),u(159,"file_download"),l(),u(160," Export Report "),l(),c(161,"button",85),H("click",function(){q(r);let i=k();return K(i.refreshData())}),c(162,"mat-icon",84),u(163,"refresh"),l(),u(164),l(),c(165,"button",83),H("click",function(){q(r);let i=k();return K(i.toggleQuickFilters())}),c(166,"mat-icon",84),u(167,"filter_list"),l(),u(168),l(),c(169,"button",83),H("click",function(){q(r);let i=k();return K(i.openPreferencesDialog())}),c(170,"mat-icon",84),u(171,"settings"),l(),u(172," Preferences "),l()()()()()(),G(173,SW,60,2,"div",86)(174,MW,6,0,"div",87)(175,kW,41,6,"div",88),c(176,"div",89)(177,"mat-card",45)(178,"div",70)(179,"div",76)(180,"div",21)(181,"h3",48),u(182,"Spending Overview"),l(),c(183,"p",49),u(184,"Your financial summary"),l()(),c(185,"div",37)(186,"mat-icon",81),u(187,"pie_chart"),l()()(),c(188,"div",90)(189,"div",91)(190,"div",92),de(191,"div",93),c(192,"span",94),u(193,"Total Income"),l()(),c(194,"span",95),u(195),l()(),c(196,"div",91)(197,"div",92),de(198,"div",96),c(199,"span",94),u(200,"Total Expenses"),l()(),c(201,"span",97),u(202),l()(),c(203,"div",91)(204,"div",92),de(205,"div",98),c(206,"span",94),u(207,"Net Savings"),l()(),c(208,"span",99),u(209),l()()()()(),c(210,"mat-card",45)(211,"div",70)(212,"div",76)(213,"div",21)(214,"h3",48),u(215,"Monthly Trends"),l(),c(216,"p",49),u(217,"Compare monthly performance"),l()(),c(218,"div",25)(219,"mat-icon",77),u(220,"trending_up"),l()()(),c(221,"div",90),G(222,PW,5,2,"div",100),c(223,"div",101)(224,"span",102),u(225,"Change"),l(),c(226,"span",95),u(227),l()()()()(),c(228,"mat-card",45)(229,"div",70)(230,"div",76)(231,"div",21)(232,"h3",48),u(233,"Top Spending Categories"),l(),c(234,"p",49),u(235,"Your highest expense areas"),l()(),c(236,"div",43)(237,"mat-icon",103),u(238,"category"),l()()(),G(239,TW,2,1,"div",79)(240,OW,8,0,"div",104),l()(),c(241,"mat-card",45)(242,"div",70)(243,"div",76)(244,"div",21)(245,"h3",48),u(246,"Recent Activity"),l(),c(247,"p",49),u(248,"Latest transactions"),l()(),c(249,"div",105)(250,"mat-icon",106),u(251,"schedule"),l()()(),G(252,AW,2,1,"div",79)(253,DW,8,0,"div",104),l()()(),G(254,FW,60,1,"div",86)(255,RW,6,0,"div",87),c(256,"mat-card",45)(257,"div",70)(258,"div",107)(259,"div",21)(260,"h3",108),u(261,"Detailed Analysis"),l(),c(262,"p",49),u(263,"Deep dive into your financial data"),l()(),c(264,"div",109)(265,"button",110),H("click",function(){q(r);let i=k();return K(i.onPeriodChange("daily"))}),u(266," Daily "),l(),c(267,"button",110),H("click",function(){q(r);let i=k();return K(i.onPeriodChange("weekly"))}),u(268," Weekly "),l(),c(269,"button",111),H("click",function(){q(r);let i=k();return K(i.onPeriodChange("monthly"))}),u(270," Monthly "),l(),c(271,"button",110),H("click",function(){q(r);let i=k();return K(i.onPeriodChange("yearly"))}),u(272," Yearly "),l()()(),G(273,BW,7,2,"div",112)(274,jW,13,0,"div",113),l()()()}if(e&2){let r=qn(72),t=qn(81),i=qn(93),a=k();g(8),ne(a.formatCurrency(a.totalIncome)),g(12),ne(a.formatCurrency(a.totalExpenses)),g(12),ne(a.formatCurrency(a.netSavings)),g(11),P("ngClass",a.getMonthlyChangeColor()),g(),he(" ",a.getMonthlyChangeDisplay()," "),g(4),P("ngClass",a.getMonthlyChangeColor()),g(),ne(a.getMonthlyChangeIcon()),g(6),ne(a.getChartTitle()),g(4),P("value",a.selectedPeriod),g(9),P("matMenuTriggerFor",r),g(2),ne(a.selectedChartType==="pie"?"pie_chart":a.selectedChartType==="bar"?"bar_chart":a.selectedChartType==="line"?"show_chart":a.selectedChartType==="area"?"area_chart":a.selectedChartType==="radar"?"radar":a.selectedChartType==="funnel"?"filter_alt":a.selectedChartType==="scatter"?"scatter_plot":"grid_on"),g(6),P("ngForOf",a.availableChartTypes),g(),P("matMenuTriggerFor",t),g(8),P("ngForOf",a.availableAnalyticsViews),g(),Be("text-purple-600",a.showAdvancedAnalytics)("text-gray-600",!a.showAdvancedAnalytics),P("matTooltip",a.showAdvancedAnalytics?"Switch to Basic":"Switch to Advanced"),g(2),ne(a.showAdvancedAnalytics?"visibility_off":"visibility"),g(),P("matMenuTriggerFor",i),g(10),P("disabled",a.isRefreshing),g(),Be("animate-spin",a.isRefreshing),g(3),ne(a.isRefreshing?"Refreshing...":"Refresh Data"),g(11),he("",a.showQuickFilters?"Hide":"Show"," Filters"),g(5),he("",a.showExportOptions?"Hide":"Show"," Export"),g(2),P("ngClass",a.getChartHeight()),g(),P("options",a.getCurrentChartOption()),g(15),P("ngIf",a.categoryTrends.length>0),g(),P("ngIf",a.spendingTrends.length>0),g(),P("ngIf",a.accountBalances.length>0),g(22),P("disabled",a.isRefreshing),g(),Be("animate-spin",a.isRefreshing),g(2),he(" ",a.isRefreshing?"Refreshing...":"Refresh Data"," "),g(4),he(" ",a.showQuickFilters?"Hide":"Show"," Filters "),g(5),P("ngIf",a.showQuickFilters),g(),P("ngIf",!a.showQuickFilters),g(),P("ngIf",a.showAdvancedAnalytics),g(20),ne(a.formatCurrency(a.totalIncome)),g(7),ne(a.formatCurrency(a.totalExpenses)),g(7),ne(a.formatCurrency(a.netSavings)),g(13),P("ngForOf",a.monthlyTrends.slice(-2)),g(5),ne(a.getMonthlyChangeDisplay()),g(12),P("ngIf",a.topCategories.length>0),g(),P("ngIf",a.topCategories.length===0),g(12),P("ngIf",a.recentTransactions.length>0),g(),P("ngIf",a.recentTransactions.length===0),g(),P("ngIf",a.showExportOptions),g(),P("ngIf",!a.showExportOptions),g(10),Be("bg-blue-50",a.selectedPeriod==="daily"),g(2),Be("bg-blue-50",a.selectedPeriod==="weekly"),g(2),Be("bg-blue-600",a.selectedPeriod==="monthly"),g(2),Be("bg-blue-50",a.selectedPeriod==="yearly"),g(2),P("ngIf",a.hasData),g(),P("ngIf",!a.hasData)}}function zW(e,n){if(e&1&&(c(0,"mat-option",146),u(1),l()),e&2){let r=n.$implicit;P("value",r),g(),he(" ",r.charAt(0).toUpperCase()+r.slice(1)," ")}}function HW(e,n){if(e&1&&(c(0,"mat-option",146),u(1),l()),e&2){let r=n.$implicit;P("value",r),g(),he(" ",r.charAt(0).toUpperCase()+r.slice(1)," ")}}function GW(e,n){if(e&1){let r=Ce();c(0,"div")(1,"label",133),u(2,"Email Frequency"),l(),c(3,"mat-form-field",134)(4,"mat-select",185),kt("ngModelChange",function(i){q(r);let a=k(2);return Mt(a.userPreferences.emailFrequency,i)||(a.userPreferences.emailFrequency=i),K(i)}),c(5,"mat-option",232),u(6,"Daily"),l(),c(7,"mat-option",233),u(8,"Weekly"),l(),c(9,"mat-option",234),u(10,"Monthly"),l(),c(11,"mat-option",251),u(12,"Never"),l()()()()}if(e&2){let r=k(2);g(4),St("ngModel",r.userPreferences.emailFrequency)}}function $W(e,n){if(e&1){let r=Ce();c(0,"div",224)(1,"div",225)(2,"div",226)(3,"div",20)(4,"h2",227),u(5,"Analytics Preferences"),l(),c(6,"button",228),H("click",function(){q(r);let i=k();return K(i.closePreferencesDialog())}),c(7,"mat-icon"),u(8,"close"),l()()(),c(9,"p",229),u(10,"Customize your analytics dashboard experience"),l()(),c(11,"div",230)(12,"div",231)(13,"div")(14,"h3",202),u(15,"Default Settings"),l(),c(16,"div",78)(17,"div")(18,"label",133),u(19,"Default Chart Type"),l(),c(20,"mat-form-field",134)(21,"mat-select",185),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.userPreferences.defaultChartType,i)||(a.userPreferences.defaultChartType=i),K(i)}),G(22,zW,2,2,"mat-option",140),l()()(),c(23,"div")(24,"label",133),u(25,"Default Analytics View"),l(),c(26,"mat-form-field",134)(27,"mat-select",185),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.userPreferences.defaultAnalyticsView,i)||(a.userPreferences.defaultAnalyticsView=i),K(i)}),G(28,HW,2,2,"mat-option",140),l()()(),c(29,"div")(30,"label",133),u(31,"Default Period"),l(),c(32,"mat-form-field",134)(33,"mat-select",185),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.userPreferences.defaultPeriod,i)||(a.userPreferences.defaultPeriod=i),K(i)}),c(34,"mat-option",232),u(35,"Daily"),l(),c(36,"mat-option",233),u(37,"Weekly"),l(),c(38,"mat-option",234),u(39,"Monthly"),l(),c(40,"mat-option",235),u(41,"Yearly"),l()()()()()(),c(42,"div")(43,"h3",202),u(44,"Display Options"),l(),c(45,"div",78)(46,"div")(47,"label",133),u(48,"Chart Height"),l(),c(49,"mat-form-field",134)(50,"mat-select",185),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.userPreferences.chartHeight,i)||(a.userPreferences.chartHeight=i),K(i)}),c(51,"mat-option",236),u(52,"Small"),l(),c(53,"mat-option",237),u(54,"Medium"),l(),c(55,"mat-option",238),u(56,"Large"),l()()()(),c(57,"div")(58,"label",133),u(59,"Currency Format"),l(),c(60,"mat-form-field",134)(61,"mat-select",185),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.userPreferences.currencyFormat,i)||(a.userPreferences.currencyFormat=i),K(i)}),c(62,"mat-option",239),u(63,"Indian Rupee (\u20B9)"),l(),c(64,"mat-option",240),u(65,"US Dollar ($)"),l(),c(66,"mat-option",241),u(67,"Euro (\u20AC)"),l()()()(),c(68,"div")(69,"label",133),u(70,"Date Format"),l(),c(71,"mat-form-field",134)(72,"mat-select",185),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.userPreferences.dateFormat,i)||(a.userPreferences.dateFormat=i),K(i)}),c(73,"mat-option",242),u(74,"DD/MM/YYYY"),l(),c(75,"mat-option",243),u(76,"MM/DD/YYYY"),l(),c(77,"mat-option",244),u(78,"YYYY-MM-DD"),l()()()()()()(),c(79,"div")(80,"h3",202),u(81,"Chart Options"),l(),c(82,"div",231)(83,"div",78)(84,"mat-slide-toggle",245),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.userPreferences.showTooltips,i)||(a.userPreferences.showTooltips=i),K(i)}),u(85," Show Tooltips "),l(),c(86,"mat-slide-toggle",245),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.userPreferences.showAnimations,i)||(a.userPreferences.showAnimations=i),K(i)}),u(87," Show Animations "),l(),c(88,"mat-slide-toggle",245),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.userPreferences.showAdvancedAnalytics,i)||(a.userPreferences.showAdvancedAnalytics=i),K(i)}),u(89," Show Advanced Analytics "),l()(),c(90,"div",78)(91,"div")(92,"label",133),u(93,"Refresh Interval (minutes)"),l(),c(94,"mat-form-field",134)(95,"input",246),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.userPreferences.refreshInterval,i)||(a.userPreferences.refreshInterval=i),K(i)}),l()()(),c(96,"div")(97,"label",133),u(98,"Export Format"),l(),c(99,"mat-form-field",134)(100,"mat-select",185),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.userPreferences.exportFormat,i)||(a.userPreferences.exportFormat=i),K(i)}),c(101,"mat-option",186),u(102,"PDF"),l(),c(103,"mat-option",187),u(104,"Excel"),l(),c(105,"mat-option",188),u(106,"CSV"),l(),c(107,"mat-option",189),u(108,"JSON"),l()()()()()()(),c(109,"div")(110,"h3",202),u(111,"Email Reports"),l(),c(112,"div",231)(113,"mat-slide-toggle",245),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.userPreferences.emailReports,i)||(a.userPreferences.emailReports=i),K(i)}),u(114," Enable Email Reports "),l(),G(115,GW,13,1,"div",247),l()()(),c(116,"div",248)(117,"button",249),H("click",function(){q(r);let i=k();return K(i.resetPreferences())}),u(118," Reset to Default "),l(),c(119,"div",250)(120,"button",144),H("click",function(){q(r);let i=k();return K(i.closePreferencesDialog())}),u(121," Cancel "),l(),c(122,"button",145),H("click",function(){q(r);let i=k();return i.savePreferences(),K(i.closePreferencesDialog())}),u(123," Save Preferences "),l()()()()()}if(e&2){let r=k();g(21),St("ngModel",r.userPreferences.defaultChartType),g(),P("ngForOf",r.availableChartTypes),g(5),St("ngModel",r.userPreferences.defaultAnalyticsView),g(),P("ngForOf",r.availableAnalyticsViews),g(5),St("ngModel",r.userPreferences.defaultPeriod),g(17),St("ngModel",r.userPreferences.chartHeight),g(11),St("ngModel",r.userPreferences.currencyFormat),g(11),St("ngModel",r.userPreferences.dateFormat),g(12),St("ngModel",r.userPreferences.showTooltips),g(2),St("ngModel",r.userPreferences.showAnimations),g(2),St("ngModel",r.userPreferences.showAdvancedAnalytics),g(7),St("ngModel",r.userPreferences.refreshInterval),g(5),St("ngModel",r.userPreferences.exportFormat),g(13),St("ngModel",r.userPreferences.emailReports),g(2),P("ngIf",r.userPreferences.emailReports)}}function WW(e,n){if(e&1){let r=Ce();c(0,"div",224)(1,"div",252)(2,"div",226)(3,"div",20)(4,"h2",227),u(5,"Analytics Help"),l(),c(6,"button",228),H("click",function(){q(r);let i=k();return K(i.toggleHelpTooltip())}),c(7,"mat-icon"),u(8,"close"),l()()()(),c(9,"div",253)(10,"div")(11,"h3",15),u(12,"Chart Types"),l(),c(13,"div",254)(14,"p")(15,"strong"),u(16,"Pie Chart:"),l(),u(17," Shows spending breakdown by category"),l(),c(18,"p")(19,"strong"),u(20,"Bar Chart:"),l(),u(21," Displays monthly financial trends"),l(),c(22,"p")(23,"strong"),u(24,"Line Chart:"),l(),u(25," Shows trends over time with smooth curves"),l(),c(26,"p")(27,"strong"),u(28,"Area Chart:"),l(),u(29," Displays daily spending patterns"),l(),c(30,"p")(31,"strong"),u(32,"Radar Chart:"),l(),u(33," Compares category performance"),l(),c(34,"p")(35,"strong"),u(36,"Funnel Chart:"),l(),u(37," Shows spending funnel analysis"),l(),c(38,"p")(39,"strong"),u(40,"Scatter Chart:"),l(),u(41," Shows income vs expenses correlation"),l(),c(42,"p")(43,"strong"),u(44,"Heatmap:"),l(),u(45," Displays weekly spending patterns"),l()()(),c(46,"div")(47,"h3",15),u(48,"Analytics Views"),l(),c(49,"div",254)(50,"p")(51,"strong"),u(52,"Overview:"),l(),u(53," General financial summary"),l(),c(54,"p")(55,"strong"),u(56,"Trends:"),l(),u(57," Historical data analysis"),l(),c(58,"p")(59,"strong"),u(60,"Categories:"),l(),u(61," Category-wise breakdown"),l(),c(62,"p")(63,"strong"),u(64,"Accounts:"),l(),u(65," Account-specific data"),l(),c(66,"p")(67,"strong"),u(68,"Comparison:"),l(),u(69," Period-over-period analysis"),l(),c(70,"p")(71,"strong"),u(72,"Forecast:"),l(),u(73," Future predictions"),l()()(),c(74,"div")(75,"h3",15),u(76,"Tips"),l(),c(77,"div",254)(78,"p"),u(79,"\u2022 Use different chart types to view data from various perspectives"),l(),c(80,"p"),u(81,"\u2022 Switch between time periods to analyze trends"),l(),c(82,"p"),u(83,"\u2022 Enable advanced analytics for detailed insights"),l(),c(84,"p"),u(85,"\u2022 Customize preferences to match your workflow"),l(),c(86,"p"),u(87,"\u2022 Export reports for sharing or offline analysis"),l()()()(),c(88,"div",255)(89,"button",197),H("click",function(){q(r);let i=k();return K(i.toggleHelpTooltip())}),u(90," Got it! "),l()()()()}}function YW(e,n){if(e&1){let r=Ce();c(0,"div",8)(1,"button",256),H("click",function(){q(r);let i=k();return K(i.addTransaction())}),c(2,"mat-icon"),u(3,"receipt"),l()(),c(4,"button",257),H("click",function(){q(r);let i=k();return K(i.exportReport())}),c(5,"mat-icon"),u(6,"file_download"),l()(),c(7,"button",258),H("click",function(){q(r);let i=k();return K(i.refreshData())}),c(8,"mat-icon"),u(9,"refresh"),l()()()}}var Cg=(()=>{let n=class n{constructor(t,i,a,o,s,d){this.router=t,this.auth=i,this.notificationService=a,this.store=o,this.dateService=s,this.ssrService=d,this.totalIncome=0,this.totalExpenses=0,this.netSavings=0,this.monthlyChange=0,this.monthlyChangePercentage=0,this.transactions=[],this.accounts=[],this.categories=[],this.topCategories=[],this.recentTransactions=[],this.monthlyTrends=[],this.dailyData=[],this.weeklyData=[],this.yearlyData=[],this.accountBalances=[],this.spendingTrends=[],this.categoryTrends=[],this.averageDailySpending=0,this.averageMonthlySpending=0,this.savingsRate=0,this.expenseGrowthRate=0,this.incomeGrowthRate=0,this.selectedPeriod="monthly",this.selectedChartType="pie",this.selectedAnalyticsView="overview",this.showAdvancedAnalytics=!1,this.availableChartTypes=["pie","bar","line","area","radar","funnel","scatter","heatmap"],this.availableAnalyticsViews=["overview","trends","categories","accounts","comparison","forecast"],this.isLoading=!0,this.hasData=!1,this.pieChartOption={},this.barChartOption={},this.lineChartOption={},this.areaChartOption={},this.radarChartOption={},this.funnelChartOption={},this.scatterChartOption={},this.heatmapChartOption={},this.isDarkMode=!1,this.userPreferences={defaultChartType:"pie",defaultAnalyticsView:"overview",defaultPeriod:"monthly",showAdvancedAnalytics:!1,chartHeight:"medium",refreshInterval:5,currencyFormat:"INR",dateFormat:"DD/MM/YYYY",theme:"auto",showTooltips:!0,showAnimations:!0,exportFormat:"pdf",emailReports:!1,emailFrequency:"never"},this.showPreferencesDialog=!1,this.showQuickFilters=!1,this.showExportOptions=!1,this.showHelpTooltip=!1,this.showQuickActions=!1,this.isRefreshing=!1,this.subscriptions=[],this.transactions$=this.store.select(No),this.accounts$=this.store.select(uo),this.categories$=this.store.select(Er),this.transactionsLoading$=this.store.select(au),this.accountsLoading$=this.store.select(_f),this.categoriesLoading$=this.store.select(xf)}ngOnInit(){this.loadPreferences(),this.detectTheme(),this.loadData()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}loadData(){if(!this.auth.currentUser){this.isLoading=!1,this.notificationService.error("User not authenticated");return}let i=this.transactions$.subscribe(s=>{this.transactions=s,this.calculateFinancialMetrics(),this.calculateTopCategories(),this.getRecentTransactions(),this.calculateMonthlyTrends(),this.calculateEnhancedAnalytics(),this.updateCharts(),this.isLoading=!1,this.hasData=this.transactions.length>0}),a=this.accounts$.subscribe(s=>{this.accounts=s}),o=this.categories$.subscribe(s=>{this.categories=s});this.subscriptions.push(i,a,o)}calculateFinancialMetrics(){let t=new Date,i=t.getMonth(),a=t.getFullYear(),o=i===0?11:i-1,s=i===0?a-1:a,d=this.transactions.filter(w=>{let C=this.dateService.toDate(w.date);return(C==null?void 0:C.getMonth())===i&&(C==null?void 0:C.getFullYear())===a}),m=this.transactions.filter(w=>{let C=this.dateService.toDate(w.date);return(C==null?void 0:C.getMonth())===o&&(C==null?void 0:C.getFullYear())===s});this.totalIncome=d.filter(w=>w.type==="income").reduce((w,C)=>w+C.amount,0),this.totalExpenses=d.filter(w=>w.type==="expense").reduce((w,C)=>w+C.amount,0),this.netSavings=this.totalIncome-this.totalExpenses;let f=m.filter(w=>w.type==="income").reduce((w,C)=>w+C.amount,0),_=m.filter(w=>w.type==="expense").reduce((w,C)=>w+C.amount,0),v=f-_;this.monthlyChange=this.netSavings-v,this.monthlyChangePercentage=v!==0?this.monthlyChange/v*100:0}calculateTopCategories(){let t=new Date,i=t.getMonth(),a=t.getFullYear(),o=this.transactions.filter(m=>{let f=this.dateService.toDate(m.date);return m.type==="expense"&&(f==null?void 0:f.getMonth())===i&&(f==null?void 0:f.getFullYear())===a}),s=new Map;o.forEach(m=>{let f=s.get(m.category)||0;s.set(m.category,f+m.amount)});let d=this.totalExpenses;this.topCategories=Array.from(s.entries()).map(([m,f])=>{let _=this.categories.find(v=>v.name===m);return{category:m,amount:f,percentage:d>0?f/d*100:0,icon:(_==null?void 0:_.icon)||"category"}}).sort((m,f)=>f.amount-m.amount).slice(0,5)}getRecentTransactions(){this.recentTransactions=this.transactions.sort((t,i)=>{var a,o,s,d;return((o=(a=this.dateService.toDate(i.date))==null?void 0:a.getTime())!=null?o:0)-((d=(s=this.dateService.toDate(t.date))==null?void 0:s.getTime())!=null?d:0)}).slice(0,5)}calculateMonthlyTrends(){let t=new Date,i=[];for(let a=5;a>=0;a--){let o=new Date(t.getFullYear(),t.getMonth()-a,1),s=o.toLocaleDateString(xt.LANGUAGE.DEFAULT,{month:"short"}),d=this.transactions.filter(_=>{let v=this.dateService.toDate(_.date);return(v==null?void 0:v.getMonth())===o.getMonth()&&(v==null?void 0:v.getFullYear())===o.getFullYear()}),m=d.filter(_=>_.type==="income").reduce((_,v)=>_+v.amount,0),f=d.filter(_=>_.type==="expense").reduce((_,v)=>_+v.amount,0);i.push({month:s,income:m,expenses:f,savings:m-f})}this.monthlyTrends=i}calculateEnhancedAnalytics(){this.calculateDailyData(),this.calculateWeeklyData(),this.calculateYearlyData(),this.calculateAccountBalances(),this.calculateSpendingTrends(),this.calculateCategoryTrends(),this.calculateGrowthRates()}calculateDailyData(){let t=new Date,i=[];for(let a=29;a>=0;a--){let o=new Date(t.getTime()-a*24*60*60*1e3),s=o.toISOString().split("T")[0],d=this.transactions.filter(_=>{let v=this.dateService.toDate(_.date);return(v==null?void 0:v.toDateString())===o.toDateString()}),m=d.filter(_=>_.type==="income").reduce((_,v)=>_+v.amount,0),f=d.filter(_=>_.type==="expense").reduce((_,v)=>_+v.amount,0);i.push({date:s,income:m,expenses:f,savings:m-f})}this.dailyData=i}calculateWeeklyData(){let t=new Date,i=[];for(let a=11;a>=0;a--){let o=new Date(t.getTime()-a*7*24*60*60*1e3),s=new Date(o.getTime()+6*24*60*60*1e3),d=`Week ${Math.ceil((o.getTime()-new Date(o.getFullYear(),0,1).getTime())/(7*24*60*60*1e3))}`,m=this.transactions.filter(v=>{let w=this.dateService.toDate(v.date);return w&&w>=o&&w<=s}),f=m.filter(v=>v.type==="income").reduce((v,w)=>v+w.amount,0),_=m.filter(v=>v.type==="expense").reduce((v,w)=>v+w.amount,0);i.push({week:d,income:f,expenses:_,savings:f-_})}this.weeklyData=i}calculateYearlyData(){let t=new Date,i=[];for(let a=4;a>=0;a--){let o=t.getFullYear()-a,s=o.toString(),d=this.transactions.filter(_=>{let v=this.dateService.toDate(_.date);return(v==null?void 0:v.getFullYear())===o}),m=d.filter(_=>_.type==="income").reduce((_,v)=>_+v.amount,0),f=d.filter(_=>_.type==="expense").reduce((_,v)=>_+v.amount,0);i.push({year:s,income:m,expenses:f,savings:m-f})}this.yearlyData=i}calculateAccountBalances(){let t=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"];this.accountBalances=this.accounts.map((i,a)=>{let s=this.transactions.filter(d=>d.accountId===i.accountId).reduce((d,m)=>d+(m.type==="income"?m.amount:-m.amount),i.balance||0);return{account:i.name,balance:Math.max(0,s),color:t[a%t.length]}})}calculateSpendingTrends(){let t=["Last 7 Days","Last 30 Days","Last 3 Months","Last 6 Months","Last Year"],i=[];t.forEach((a,o)=>{let s=[7,30,90,180,365][o],d=new Date,m=new Date(d.getTime()-s*24*60*60*1e3),_=this.transactions.filter(L=>{let N=this.dateService.toDate(L.date);return N&&N>=m&&N<=d}).filter(L=>L.type==="expense").reduce((L,N)=>L+N.amount,0),v=new Date(m.getTime()-s*24*60*60*1e3),C=this.transactions.filter(L=>{let N=this.dateService.toDate(L.date);return N&&N>=v&&N<m}).filter(L=>L.type==="expense").reduce((L,N)=>L+N.amount,0),b=_-C,O=C>0?b/C*100:0;i.push({period:a,amount:_,change:b,percentage:O})}),this.spendingTrends=i}calculateCategoryTrends(){let t=new Date,i=t.getMonth(),a=t.getFullYear(),o=i===0?11:i-1,s=i===0?a-1:a,d=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#EC4899","#84CC16"];this.categoryTrends=this.categories.map((m,f)=>{let v=this.transactions.filter(L=>{let N=this.dateService.toDate(L.date);return L.category===m.name&&L.type==="expense"&&(N==null?void 0:N.getMonth())===i&&(N==null?void 0:N.getFullYear())===a}).reduce((L,N)=>L+N.amount,0),C=this.transactions.filter(L=>{let N=this.dateService.toDate(L.date);return L.category===m.name&&L.type==="expense"&&(N==null?void 0:N.getMonth())===o&&(N==null?void 0:N.getFullYear())===s}).reduce((L,N)=>L+N.amount,0),b=v-C,O=C>0?b/C*100:0;return{category:m.name,currentAmount:v,previousAmount:C,change:b,percentage:O,color:d[f%d.length]}}).filter(m=>m.currentAmount>0||m.previousAmount>0).sort((m,f)=>Math.abs(f.change)-Math.abs(m.change)).slice(0,8)}calculateGrowthRates(){var f;let t=this.transactions.filter(_=>_.type==="expense").reduce((_,v)=>_+v.amount,0),i=this.transactions.length>0?Math.max(1,Math.ceil((new Date().getTime()-(((f=this.dateService.toDate(this.transactions[0].date))==null?void 0:f.getTime())||0))/(24*60*60*1e3))):30;this.averageDailySpending=t/i,this.averageMonthlySpending=this.averageDailySpending*30;let a=this.transactions.filter(_=>_.type==="income").reduce((_,v)=>_+v.amount,0);this.savingsRate=a>0?this.netSavings/a*100:0;let o=this.totalExpenses,s=this.transactions.filter(_=>{let v=this.dateService.toDate(_.date),w=new Date().getMonth()===0?11:new Date().getMonth()-1,C=new Date().getMonth()===0?new Date().getFullYear()-1:new Date().getFullYear();return _.type==="expense"&&(v==null?void 0:v.getMonth())===w&&(v==null?void 0:v.getFullYear())===C}).reduce((_,v)=>_+v.amount,0);this.expenseGrowthRate=s>0?(o-s)/s*100:0;let d=this.totalIncome,m=this.transactions.filter(_=>{let v=this.dateService.toDate(_.date),w=new Date().getMonth()===0?11:new Date().getMonth()-1,C=new Date().getMonth()===0?new Date().getFullYear()-1:new Date().getFullYear();return _.type==="income"&&(v==null?void 0:v.getMonth())===w&&(v==null?void 0:v.getFullYear())===C}).reduce((_,v)=>_+v.amount,0);this.incomeGrowthRate=m>0?(d-m)/m*100:0}onPeriodChange(t){this.selectedPeriod=t,this.notificationService.info(`Report period changed to ${t}`),console.log("Period changed to:",t),this.updateCharts()}onChartTypeChange(t){this.selectedChartType=t,this.notificationService.info(`Chart type changed to ${t}`),this.updateCharts()}onAnalyticsViewChange(t){this.selectedAnalyticsView=t,this.notificationService.info(`Analytics view changed to ${t}`),this.updateCharts()}toggleAdvancedAnalytics(){this.showAdvancedAnalytics=!this.showAdvancedAnalytics,this.userPreferences.showAdvancedAnalytics=this.showAdvancedAnalytics,this.savePreferences(),this.notificationService.info(this.showAdvancedAnalytics?"Advanced analytics enabled":"Advanced analytics disabled")}openPreferencesDialog(){this.showPreferencesDialog=!0}closePreferencesDialog(){this.showPreferencesDialog=!1}savePreferences(){localStorage.setItem("reports-preferences",JSON.stringify(this.userPreferences)),this.notificationService.success("Preferences saved successfully")}loadPreferences(){let t=localStorage.getItem("reports-preferences");t&&(this.userPreferences=ue(ue({},this.userPreferences),JSON.parse(t)),this.selectedChartType=this.userPreferences.defaultChartType,this.selectedAnalyticsView=this.userPreferences.defaultAnalyticsView,this.selectedPeriod=this.userPreferences.defaultPeriod,this.showAdvancedAnalytics=this.userPreferences.showAdvancedAnalytics)}resetPreferences(){this.userPreferences={defaultChartType:"pie",defaultAnalyticsView:"overview",defaultPeriod:"monthly",showAdvancedAnalytics:!1,chartHeight:"medium",refreshInterval:5,currencyFormat:"INR",dateFormat:"DD/MM/YYYY",theme:"auto",showTooltips:!0,showAnimations:!0,exportFormat:"pdf",emailReports:!1,emailFrequency:"never"},this.savePreferences(),this.notificationService.info("Preferences reset to default")}toggleQuickFilters(){this.showQuickFilters=!this.showQuickFilters}applyFilters(){this.notificationService.info("Filters applied successfully"),this.toggleQuickFilters(),this.refreshData()}toggleExportOptions(){this.showExportOptions=!this.showExportOptions}toggleHelpTooltip(){this.showHelpTooltip=!this.showHelpTooltip}toggleQuickActions(){this.showQuickActions=!this.showQuickActions}refreshData(){this.isRefreshing=!0,setTimeout(()=>{this.loadData(),this.isRefreshing=!1,this.notificationService.success("Data refreshed successfully")},1e3)}getChartHeight(){switch(this.userPreferences.chartHeight){case"small":return"h-48 sm:h-56";case"large":return"h-80 sm:h-96";default:return"h-64 sm:h-80"}}formatCurrencyWithPreference(t){switch(this.userPreferences.currencyFormat){case"USD":return`$${t.toLocaleString("en-US")}`;case"EUR":return`\u20AC${t.toLocaleString("de-DE")}`;default:return`\u20B9${t.toLocaleString("en-IN")}`}}exportReport(){try{console.log("Export report clicked"),this.notificationService.info("Export feature coming soon")}catch(t){console.error("Error exporting report:",t),this.notificationService.error("Failed to export report")}}generateReport(){try{console.log("Generate report clicked"),this.notificationService.info("Report generation feature coming soon")}catch(t){console.error("Error generating report:",t),this.notificationService.error("Failed to generate report")}}addTransaction(){this.router.navigate(["/dashboard/transaction-list/add-transaction"])}getMonthlyChangeDisplay(){return`${this.monthlyChange>=0?"+":""}${this.monthlyChangePercentage.toFixed(1)}%`}getMonthlyChangeColor(){return this.monthlyChange>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}getMonthlyChangeIcon(){return this.monthlyChange>=0?"trending_up":"trending_down"}formatCurrency(t){return`\u20B9${t.toLocaleString("en-IN")}`}getTransactionIcon(t){return t.type==="income"?"trending_up":"trending_down"}getTransactionColor(t){return t.type==="income"?"text-green-600":"text-red-600"}getCurrentChartOption(){switch(this.selectedChartType){case"pie":return this.pieChartOption;case"bar":return this.barChartOption;case"line":return this.lineChartOption;case"area":return this.areaChartOption;case"radar":return this.radarChartOption;case"funnel":return this.funnelChartOption;case"scatter":return this.scatterChartOption;case"heatmap":return this.heatmapChartOption;default:return this.pieChartOption}}getChartTitle(){switch(this.selectedChartType){case"pie":return"Spending by Category";case"bar":return"Monthly Financial Trends";case"line":return"Financial Trends Over Time";case"area":return"Daily Spending Patterns";case"radar":return"Category Performance Comparison";case"funnel":return"Spending Funnel Analysis";case"scatter":return"Income vs Expenses Correlation";case"heatmap":return"Weekly Spending Heatmap";default:return"Financial Analytics"}}initializePieChart(){if(this.topCategories.length===0){this.pieChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.topCategories.map(i=>({name:i.category,value:i.amount,itemStyle:{color:i.color}}));this.pieChartOption={title:{text:"Spending by Category",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"item",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"},formatter:i=>{let a=(i.value/this.totalExpenses*100).toFixed(1);return`${i.name}<br/>${this.formatCurrency(i.value)} (${a}%)`}},legend:{orient:"vertical",left:"left",top:"middle",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"}},series:[{name:"Spending",type:"pie",radius:["40%","70%"],center:["60%","50%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"18",fontWeight:"bold",color:this.isDarkMode?"#F9FAFB":"#333"}},labelLine:{show:!1},data:t}]}}initializeBarChart(){if(this.monthlyTrends.length===0){this.barChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.monthlyTrends.map(s=>s.month),i=this.monthlyTrends.map(s=>s.income),a=this.monthlyTrends.map(s=>s.expenses),o=this.monthlyTrends.map(s=>s.savings);this.barChartOption={title:{text:"Monthly Financial Trends",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"},formatter:s=>{let d=`${s[0].axisValue}<br/>`;return s.forEach(m=>{d+=`${m.marker} ${m.seriesName}: ${this.formatCurrency(m.value)}<br/>`}),d}},legend:{data:["Income","Expenses","Savings"],top:"bottom",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"}},grid:{left:"3%",right:"4%",bottom:"15%",top:"15%",containLabel:!0},xAxis:{type:"category",data:t,axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},yAxis:{type:"value",axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333",formatter:s=>this.formatCurrency(s)},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},series:[{name:"Income",type:"bar",data:i,itemStyle:{color:"#10B981"},emphasis:{itemStyle:{color:"#059669"}}},{name:"Expenses",type:"bar",data:a,itemStyle:{color:"#EF4444"},emphasis:{itemStyle:{color:"#DC2626"}}},{name:"Savings",type:"bar",data:o,itemStyle:{color:"#3B82F6"},emphasis:{itemStyle:{color:"#2563EB"}}}]}}initializeLineChart(){if(this.monthlyTrends.length===0){this.lineChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.monthlyTrends.map(s=>s.month),i=this.monthlyTrends.map(s=>s.income),a=this.monthlyTrends.map(s=>s.expenses),o=this.monthlyTrends.map(s=>s.savings);this.lineChartOption={title:{text:"Financial Trends Over Time",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"axis",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"}},legend:{data:["Income","Expenses","Savings"],top:"bottom",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"}},grid:{left:"3%",right:"4%",bottom:"15%",top:"15%",containLabel:!0},xAxis:{type:"category",data:t,axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},yAxis:{type:"value",axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333",formatter:s=>this.formatCurrency(s)},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},series:[{name:"Income",type:"line",data:i,smooth:!0,itemStyle:{color:"#10B981"},lineStyle:{color:"#10B981",width:3},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(16, 185, 129, 0.3)"},{offset:1,color:"rgba(16, 185, 129, 0.1)"}]}}},{name:"Expenses",type:"line",data:a,smooth:!0,itemStyle:{color:"#EF4444"},lineStyle:{color:"#EF4444",width:3},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(239, 68, 68, 0.3)"},{offset:1,color:"rgba(239, 68, 68, 0.1)"}]}}},{name:"Savings",type:"line",data:o,smooth:!0,itemStyle:{color:"#3B82F6"},lineStyle:{color:"#3B82F6",width:3},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(59, 130, 246, 0.3)"},{offset:1,color:"rgba(59, 130, 246, 0.1)"}]}}}]}}initializeAreaChart(){if(this.dailyData.length===0){this.areaChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.dailyData.map(o=>o.date),i=this.dailyData.map(o=>o.income),a=this.dailyData.map(o=>o.expenses);this.areaChartOption={title:{text:"Daily Spending Patterns",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"axis",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"}},legend:{data:["Income","Expenses"],top:"bottom",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"}},grid:{left:"3%",right:"4%",bottom:"15%",top:"15%",containLabel:!0},xAxis:{type:"category",data:t,axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},yAxis:{type:"value",axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333",formatter:o=>this.formatCurrency(o)},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},series:[{name:"Income",type:"line",stack:"Total",data:i,areaStyle:{color:"#10B981"},itemStyle:{color:"#10B981"}},{name:"Expenses",type:"line",stack:"Total",data:a,areaStyle:{color:"#EF4444"},itemStyle:{color:"#EF4444"}}]}}initializeRadarChart(){if(this.categoryTrends.length===0){this.radarChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.categoryTrends.map(o=>o.category),i=this.categoryTrends.map(o=>o.currentAmount),a=this.categoryTrends.map(o=>o.previousAmount);this.radarChartOption={title:{text:"Category Performance Comparison",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"}},legend:{data:["Current Month","Previous Month"],top:"bottom",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"}},radar:{indicator:t.map(o=>({name:o,max:Math.max(...i,...a)*1.2})),center:["50%","50%"],radius:"60%",axisName:{color:this.isDarkMode?"#F9FAFB":"#333"},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitArea:{show:!1}},series:[{name:"Category Performance",type:"radar",data:[{value:i,name:"Current Month",itemStyle:{color:"#3B82F6"},areaStyle:{color:"rgba(59, 130, 246, 0.3)"}},{value:a,name:"Previous Month",itemStyle:{color:"#10B981"},areaStyle:{color:"rgba(16, 185, 129, 0.3)"}}]}]}}initializeFunnelChart(){if(this.spendingTrends.length===0){this.funnelChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.spendingTrends.map(i=>({name:i.period,value:i.amount}));this.funnelChartOption={title:{text:"Spending Funnel Analysis",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"item",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"},formatter:i=>`${i.name}<br/>${this.formatCurrency(i.value)}`},series:[{name:"Spending",type:"funnel",left:"10%",top:60,width:"80%",height:"80%",min:0,max:Math.max(...t.map(i=>i.value)),minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside",color:this.isDarkMode?"#F9FAFB":"#333"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:this.isDarkMode?"#374151":"#FFFFFF",borderWidth:1},emphasis:{label:{fontSize:20}},data:t}]}}initializeScatterChart(){if(this.dailyData.length===0){this.scatterChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.dailyData.map((i,a)=>[a,i.expenses,i.income]);this.scatterChartOption={title:{text:"Income vs Expenses Correlation",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"item",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"},formatter:i=>`Day ${i.data[0]+1}<br/>Expenses: ${this.formatCurrency(i.data[1])}<br/>Income: ${this.formatCurrency(i.data[2])}`},xAxis:{type:"value",name:"Day",axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},yAxis:{type:"value",name:"Amount",axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333",formatter:i=>this.formatCurrency(i)},axisLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}},splitLine:{lineStyle:{color:this.isDarkMode?"#4B5563":"#E5E7EB"}}},series:[{name:"Income vs Expenses",type:"scatter",data:t,symbolSize:8,itemStyle:{color:"#3B82F6"}}]}}initializeHeatmapChart(){if(this.dailyData.length===0){this.heatmapChartOption={title:{text:"No Data Available",left:"center",top:"center",textStyle:{color:this.isDarkMode?"#9CA3AF":"#666",fontSize:16}}};return}let t=this.dailyData.map((i,a)=>[Math.floor(a/7),a%7,i.expenses]);this.heatmapChartOption={title:{text:"Weekly Spending Heatmap",left:"center",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333",fontSize:16,fontWeight:"bold"}},tooltip:{position:"top",backgroundColor:this.isDarkMode?"#374151":"#FFFFFF",borderColor:this.isDarkMode?"#4B5563":"#E5E7EB",textStyle:{color:this.isDarkMode?"#F9FAFB":"#374151"},formatter:i=>{let a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return`Week ${i.data[0]+1}, ${a[i.data[1]]}<br/>${this.formatCurrency(i.data[2])}`}},grid:{height:"50%",top:"10%"},xAxis:{type:"category",data:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],splitArea:{show:!0},axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"}},yAxis:{type:"category",data:["Week 1","Week 2","Week 3","Week 4"],splitArea:{show:!0},axisLabel:{color:this.isDarkMode?"#F9FAFB":"#333"}},visualMap:{min:0,max:Math.max(...this.dailyData.map(i=>i.expenses)),calculable:!0,orient:"horizontal",left:"center",bottom:"15%",textStyle:{color:this.isDarkMode?"#F9FAFB":"#333"},inRange:{color:["#EBF8FF","#3B82F6"]}},series:[{name:"Spending",type:"heatmap",data:t,label:{show:!0,color:this.isDarkMode?"#F9FAFB":"#333"},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}updateCharts(){this.initializePieChart(),this.initializeBarChart(),this.initializeLineChart(),this.initializeAreaChart(),this.initializeRadarChart(),this.initializeFunnelChart(),this.initializeScatterChart(),this.initializeHeatmapChart()}detectTheme(){this.isDarkMode=document.documentElement.classList.contains("dark"),new MutationObserver(()=>{this.isDarkMode=document.documentElement.classList.contains("dark"),this.updateCharts()}).observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),this.ssrService.isClientSide()&&window.addEventListener("resize",()=>{setTimeout(()=>this.updateCharts(),100)})}};n.\u0275fac=function(i){return new(i||n)(D(Sn),D(Ut),D(At),D(qt),D(Mn),D(Vr))},n.\u0275cmp=Fe({type:n,selectors:[["app-reports"]],decls:11,vars:6,consts:[["chartTypeMenu","matMenu"],["analyticsViewMenu","matMenu"],["moreOptionsMenu","matMenu"],[1,"min-h-screen","bg-gray-50","dark:bg-gray-900"],["class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",4,"ngIf"],["class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"fixed","bottom-6","right-6","z-40"],[1,"flex","flex-col","space-y-2"],["mat-fab","","color","primary","matTooltip","Quick Actions",1,"shadow-lg",3,"click"],["class","flex flex-col space-y-2",4,"ngIf"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-12"],[1,"text-center"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-blue-100","dark:bg-blue-900/20","rounded-full","mb-6"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6","space-y-6"],[1,"grid","grid-cols-1","sm:grid-cols-2","xl:grid-cols-4","gap-4"],[1,"bg-gradient-to-br","from-green-50","to-green-100","dark:from-green-900/20","dark:to-green-800/20","rounded-xl","p-4","sm:p-6","border","border-green-200","dark:border-green-700","shadow-sm","hover:shadow-md","transition-shadow","metric-card"],[1,"flex","items-center","justify-between"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-green-600","dark:text-green-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-green-900","dark:text-green-100","truncate"],[1,"text-xs","text-green-600","dark:text-green-400","mt-1"],[1,"bg-green-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-green-600","dark:text-green-400","text-lg","sm:text-xl"],[1,"bg-gradient-to-br","from-red-50","to-red-100","dark:from-red-900/20","dark:to-red-800/20","rounded-xl","p-4","sm:p-6","border","border-red-200","dark:border-red-700","shadow-sm","hover:shadow-md","transition-shadow","metric-card"],[1,"text-sm","font-medium","text-red-600","dark:text-red-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-red-900","dark:text-red-100","truncate"],[1,"text-xs","text-red-600","dark:text-red-400","mt-1"],[1,"bg-red-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-red-600","dark:text-red-400","text-lg","sm:text-xl"],[1,"bg-gradient-to-br","from-blue-50","to-blue-100","dark:from-blue-900/20","dark:to-blue-800/20","rounded-xl","p-4","sm:p-6","border","border-blue-200","dark:border-blue-700","shadow-sm","hover:shadow-md","transition-shadow","metric-card"],[1,"text-sm","font-medium","text-blue-600","dark:text-blue-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-blue-900","dark:text-blue-100","truncate"],[1,"text-xs","text-blue-600","dark:text-blue-400","mt-1"],[1,"bg-blue-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-blue-600","dark:text-blue-400","text-lg","sm:text-xl"],[1,"bg-gradient-to-br","from-purple-50","to-purple-100","dark:from-purple-900/20","dark:to-purple-800/20","rounded-xl","p-4","sm:p-6","border","border-purple-200","dark:border-purple-700","shadow-sm","hover:shadow-md","transition-shadow","metric-card"],[1,"text-sm","font-medium","text-purple-600","dark:text-purple-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-purple-900","dark:text-purple-100","truncate",3,"ngClass"],[1,"text-xs","text-purple-600","dark:text-purple-400","mt-1"],[1,"bg-purple-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-lg","sm:text-xl",3,"ngClass"],[1,"bg-white","dark:bg-gray-800","shadow-lg","border-0","rounded-xl","overflow-hidden"],[1,"p-4","sm:p-6","border-b","border-gray-200","dark:border-gray-700","bg-gray-50","dark:bg-gray-700/50"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","gap-4"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","dark:text-white","truncate"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-1"],[1,"flex","items-center","space-x-2","compact-control-bar"],[1,"hidden","sm:flex",3,"change","value"],["value","daily",1,"text-xs"],["value","weekly",1,"text-xs"],["value","monthly",1,"text-xs"],["value","yearly",1,"text-xs"],["mat-icon-button","","matTooltip","Chart Type",1,"text-gray-600","dark:text-gray-400","hover:text-blue-600","dark:hover:text-blue-400",3,"matMenuTriggerFor"],[1,"chart-type-menu"],[1,"p-2"],[1,"text-xs","font-medium","text-gray-500","dark:text-gray-400","mb-2","px-3"],["mat-menu-item","","class","flex items-center space-x-3",3,"bg-blue-50","click",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","Analytics View",1,"text-gray-600","dark:text-gray-400","hover:text-green-600","dark:hover:text-green-400",3,"matMenuTriggerFor"],[1,"analytics-view-menu"],["mat-menu-item","","class","flex items-center space-x-3",3,"bg-green-50","click",4,"ngFor","ngForOf"],["mat-icon-button","",1,"hover:text-purple-600","dark:hover:text-purple-400",3,"click","matTooltip"],["mat-icon-button","","matTooltip","More Options",1,"text-gray-600","dark:text-gray-400","hover:text-gray-800","dark:hover:text-gray-200",3,"matMenuTriggerFor"],[1,"more-options-menu"],["mat-menu-item","",1,"flex","items-center","space-x-3",3,"click"],[1,"text-sm"],["mat-menu-item","",1,"flex","items-center","space-x-3",3,"click","disabled"],[1,"p-4","sm:p-6"],[1,"w-full","chart-transition",3,"ngClass"],["echarts","",1,"w-full","h-full",3,"options"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2"],[1,"bg-white","dark:bg-gray-800","shadow-lg","border-0","rounded-xl","overflow-hidden","h-full"],[1,"flex","items-center","justify-between","mb-4","sm:mb-6"],[1,"text-green-600","dark:text-green-400"],[1,"space-y-4"],["class","space-y-3",4,"ngIf"],[1,"lg:col-span-1"],[1,"text-blue-600","dark:text-blue-400"],[1,"space-y-3"],["mat-stroked-button","",1,"w-full","justify-start",3,"click"],[1,"mr-3"],["mat-stroked-button","",1,"w-full","justify-start",3,"click","disabled"],["class","bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6",4,"ngIf"],["class","flex justify-center",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-4","sm:gap-6","mb-8"],[1,"space-y-3","sm:space-y-4"],[1,"flex","justify-between","items-center","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg"],[1,"flex","items-center","space-x-3","min-w-0","flex-1"],[1,"w-3","h-3","bg-green-500","rounded-full","flex-shrink-0"],[1,"text-gray-700","dark:text-gray-300","truncate"],[1,"font-semibold","text-green-600","dark:text-green-400","ml-3","text-right"],[1,"w-3","h-3","bg-red-500","rounded-full","flex-shrink-0"],[1,"font-semibold","text-red-600","dark:text-red-400","ml-3","text-right"],[1,"w-3","h-3","bg-blue-500","rounded-full","flex-shrink-0"],[1,"font-semibold","text-blue-600","dark:text-blue-400","ml-3","text-right"],["class","flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","p-3","bg-green-50","dark:bg-green-900/20","rounded-lg","border","border-green-200","dark:border-green-700"],[1,"text-gray-700","dark:text-gray-300"],[1,"text-purple-600","dark:text-purple-400"],["class","text-center py-8 sm:py-12",4,"ngIf"],[1,"bg-orange-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-orange-600","dark:text-orange-400"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","gap-4","mb-6","sm:mb-8"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"flex","flex-wrap","gap-2","justify-center","lg:justify-end"],["mat-stroked-button","",1,"px-3","sm:px-4","py-2","text-xs","sm:text-sm","border","border-gray-300","dark:border-gray-600","rounded-lg","hover:bg-gray-50","dark:hover:bg-gray-700","transition-colors",3,"click"],["mat-raised-button","","color","primary",1,"px-3","sm:px-4","py-2","text-xs","sm:text-sm","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow",3,"click"],["class","space-y-6",4,"ngIf"],["class","text-center py-12 sm:py-16",4,"ngIf"],["class","text-blue-600 text-sm",4,"ngIf"],[1,"text-blue-600","text-sm"],["class","text-green-600 text-sm",4,"ngIf"],[1,"text-green-600","text-sm"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","flex","items-center"],[1,"text-sm","mr-2"],["class","flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors"],[1,"text-sm","text-gray-600","dark:text-gray-400","truncate"],[1,"text-sm","font-medium",3,"ngClass"],[1,"text-sm","font-medium","text-gray-900","dark:text-white"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-lg","p-4","sm:p-6"],[1,"flex","items-center","justify-between","mb-6"],[1,"flex","items-center","space-x-3"],[1,"bg-blue-500/10","p-2","rounded-lg"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-600","dark:text-gray-400"],["mat-icon-button","",1,"text-gray-600","dark:text-gray-400","hover:text-gray-800","dark:hover:text-gray-200",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["appearance","outline",1,"w-full"],["value","7"],["value","30"],["value","90"],["value","365"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["value","income"],["value","expense"],[1,"flex","justify-end","space-x-3","mt-6"],["mat-stroked-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"value"],[1,"flex","justify-center"],["mat-stroked-button","",1,"flex","items-center","space-x-2","px-6","py-3",3,"click"],[1,"bg-gradient-to-br","from-orange-50","to-orange-100","dark:from-orange-900/20","dark:to-orange-800/20","rounded-xl","p-4","sm:p-6","border","border-orange-200","dark:border-orange-700"],[1,"text-sm","font-medium","text-orange-600","dark:text-orange-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-orange-900","dark:text-orange-100","truncate"],[1,"text-orange-600","dark:text-orange-400","text-lg","sm:text-xl"],[1,"bg-gradient-to-br","from-indigo-50","to-indigo-100","dark:from-indigo-900/20","dark:to-indigo-800/20","rounded-xl","p-4","sm:p-6","border","border-indigo-200","dark:border-indigo-700"],[1,"text-sm","font-medium","text-indigo-600","dark:text-indigo-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-indigo-900","dark:text-indigo-100","truncate"],[1,"bg-indigo-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-indigo-600","dark:text-indigo-400","text-lg","sm:text-xl"],[1,"bg-gradient-to-br","from-emerald-50","to-emerald-100","dark:from-emerald-900/20","dark:to-emerald-800/20","rounded-xl","p-4","sm:p-6","border","border-emerald-200","dark:border-emerald-700"],[1,"text-sm","font-medium","text-emerald-600","dark:text-emerald-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-emerald-900","dark:text-emerald-100","truncate"],[1,"bg-emerald-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-emerald-600","dark:text-emerald-400","text-lg","sm:text-xl"],[1,"bg-gradient-to-br","from-rose-50","to-rose-100","dark:from-rose-900/20","dark:to-rose-800/20","rounded-xl","p-4","sm:p-6","border","border-rose-200","dark:border-rose-700"],[1,"text-sm","font-medium","text-rose-600","dark:text-rose-400","truncate"],[1,"text-lg","sm:text-xl","lg:text-2xl","font-bold","text-rose-900","dark:text-rose-100","truncate",3,"ngClass"],[1,"bg-rose-500/10","p-2","sm:p-3","rounded-lg","flex-shrink-0","ml-3"],[1,"text-rose-600","dark:text-rose-400","text-lg","sm:text-xl"],[1,"font-semibold","text-gray-900","dark:text-white","ml-3","text-right"],["class","flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","dark:bg-gray-700","rounded-lg"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","flex-shrink-0","bg-gray-100","dark:bg-gray-600"],[1,"min-w-0","flex-1"],[1,"text-gray-700","dark:text-gray-300","font-medium","truncate","block"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"text-center","py-8","sm:py-12"],[1,"bg-gray-100","dark:bg-gray-700","w-16","h-16","sm:w-20","sm:h-20","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-gray-400","text-2xl","sm:text-3xl"],[1,"text-base","sm:text-lg","font-medium","text-gray-900","dark:text-white","mb-2"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"flex-shrink-0",3,"ngClass"],[1,"text-xs","text-gray-500","dark:text-gray-400","truncate"],[1,"text-right","ml-3","flex-shrink-0"],[1,"font-semibold","block",3,"ngClass"],[1,"bg-green-500/10","p-2","rounded-lg"],[3,"ngModelChange","ngModel"],["value","pdf"],["value","excel"],["value","csv"],["value","json"],["value","current"],["value","last3"],["value","last6"],["value","last12"],["value","custom"],[1,"w-full"],[1,"flex","items-end"],["mat-raised-button","","color","primary",1,"w-full",3,"click"],[1,"mr-2"],["mat-raised-button","","color","accent",3,"click"],[1,"space-y-6"],[1,"bg-gray-50","dark:bg-gray-700","rounded-lg","p-4","sm:p-6"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-4"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-6","gap-3","sm:gap-4"],["class","text-center p-3 bg-white dark:bg-gray-600 rounded-lg",4,"ngFor","ngForOf"],["class","bg-gray-50 dark:bg-gray-700 rounded-lg p-4 sm:p-6",4,"ngIf"],[1,"text-center","p-3","bg-white","dark:bg-gray-600","rounded-lg"],[1,"text-xs","sm:text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2","truncate"],[1,"text-sm","sm:text-lg","font-bold","text-green-600","dark:text-green-400","truncate"],[1,"text-xs","sm:text-sm","text-red-600","dark:text-red-400","truncate"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1","truncate"],["class","flex items-center justify-between",4,"ngFor","ngForOf"],[1,"w-6","h-6","rounded-full","flex","items-center","justify-center","flex-shrink-0","bg-gray-100","dark:bg-gray-600"],[1,"text-xs"],[1,"flex","items-center","space-x-3","sm:space-x-4","ml-3"],[1,"w-20","sm:w-32","bg-gray-200","dark:bg-gray-600","rounded-full","h-2","flex-shrink-0"],[1,"bg-blue-600","h-2","rounded-full"],[1,"text-sm","font-medium","text-gray-900","dark:text-white","w-16","sm:w-20","text-right","truncate"],[1,"text-center","py-12","sm:py-16"],[1,"bg-gray-100","dark:bg-gray-700","w-20","h-20","sm:w-24","sm:h-24","rounded-full","flex","items-center","justify-center","mx-auto","mb-6"],[1,"text-gray-400","text-4xl","sm:text-5xl"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-900","dark:text-white","mb-3"],[1,"text-sm","sm:text-base","text-gray-600","dark:text-gray-400","mb-6","max-w-md","mx-auto"],["mat-raised-button","","color","primary",1,"flex","items-center","space-x-2","px-4","sm:px-6","py-3","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","mx-auto",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","max-w-4xl","w-full","max-h-[90vh]","overflow-y-auto"],[1,"p-6","border-b","border-gray-200","dark:border-gray-700"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],["mat-icon-button","",3,"click"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-2"],[1,"p-6","space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["value","daily"],["value","weekly"],["value","monthly"],["value","yearly"],["value","small"],["value","medium"],["value","large"],["value","INR"],["value","USD"],["value","EUR"],["value","DD/MM/YYYY"],["value","MM/DD/YYYY"],["value","YYYY-MM-DD"],[1,"w-full",3,"ngModelChange","ngModel"],["matInput","","type","number","min","1","max","60",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"p-6","border-t","border-gray-200","dark:border-gray-700","flex","justify-between"],["mat-stroked-button","",1,"text-red-600","border-red-600","hover:bg-red-50",3,"click"],[1,"space-x-3"],["value","never"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","max-w-2xl","w-full"],[1,"p-6","space-y-4"],[1,"space-y-2","text-sm","text-gray-600","dark:text-gray-400"],[1,"p-6","border-t","border-gray-200","dark:border-gray-700"],["mat-mini-fab","","color","accent","matTooltip","Add Transaction",1,"shadow-lg",3,"click"],["mat-mini-fab","","color","warn","matTooltip","Export Report",1,"shadow-lg",3,"click"],["mat-mini-fab","","color","primary","matTooltip","Refresh Data",1,"shadow-lg",3,"click"]],template:function(i,a){i&1&&(c(0,"div",3),G(1,uW,8,0,"div",4)(2,UW,275,61,"div",5)(3,$W,124,15,"div",6)(4,WW,91,0,"div",6),c(5,"div",7)(6,"div",8)(7,"button",9),H("click",function(){return a.toggleQuickActions()}),c(8,"mat-icon"),u(9),l()(),G(10,YW,10,0,"div",10),l()()()),i&2&&(g(),P("ngIf",a.isLoading),g(),P("ngIf",!a.isLoading),g(),P("ngIf",a.showPreferencesDialog),g(),P("ngIf",a.showHelpTooltip),g(5),ne(a.showQuickActions?"close":"add"),g(),P("ngIf",a.showQuickActions))},dependencies:[qo,an,Tt,mn,Gi,hn,hh,mh,Hi,wc,np,zt,Cn,wn,DC,gc,Ma,Qr,Lr,Mv,yg,Cc,bc,vc,yc,ni,lo,Of,zi],styles:['.chart-type-menu[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%], .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%], .more-options-menu[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]{padding:0}.chart-type-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%], .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%], .more-options-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{min-height:40px;height:40px;padding:0 16px}.chart-type-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover, .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover, .more-options-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover{background-color:#3b82f61a}.chart-type-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%], .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%], .more-options-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%]{background-color:#3b82f626}.mat-button-toggle-group[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden;border:1px solid #e5e7eb}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]{border:none;min-width:40px;height:36px}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]   .mat-button-toggle-label-content[_ngcontent-%COMP%]{padding:0 8px;font-size:12px;font-weight:500}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:not(.mat-button-toggle-checked){background-color:#fff;color:#6b7280}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:not(.mat-button-toggle-checked):hover{background-color:#f3f4f6}.dark[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]{border-color:#4b5563}.dark[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:not(.mat-button-toggle-checked){background-color:#374151;color:#d1d5db}.dark[_ngcontent-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:not(.mat-button-toggle-checked):hover{background-color:#4b5563}.dark[_ngcontent-%COMP%]   .chart-type-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .more-options-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover{background-color:#3b82f633}.dark[_ngcontent-%COMP%]   .chart-type-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .analytics-view-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .more-options-menu[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-highlighted[_ngcontent-%COMP%]{background-color:#3b82f640}.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:36px;height:36px;line-height:36px}.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px}.chart-container[_ngcontent-%COMP%]{min-height:400px}.chart-container.small[_ngcontent-%COMP%]{min-height:300px}.chart-container.medium[_ngcontent-%COMP%]{min-height:400px}.chart-container.large[_ngcontent-%COMP%]{min-height:500px}@media (max-width: 640px){.mat-button-toggle-group[_ngcontent-%COMP%]{display:none!important}.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:32px;height:32px;line-height:32px}.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;line-height:18px}}.chart-transition[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.mat-menu-panel[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 10px 25px #00000026;border:1px solid #e5e7eb}.dark[_ngcontent-%COMP%]   .mat-menu-panel[_ngcontent-%COMP%]{border-color:#4b5563;box-shadow:0 10px 25px #0000004d}.mat-tooltip[_ngcontent-%COMP%]{font-size:12px;padding:4px 8px;border-radius:6px}.chart-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:200px}.chart-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #f3f4f6;border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.mat-card[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.mat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.mat-stroked-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.mat-stroked-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 6px -1px #0000001a}.mat-raised-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.mat-raised-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 8px 15px -3px #0000001a}.metric-card[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 25px 50px -12px #00000040}.chart-container[_ngcontent-%COMP%]{position:relative}.chart-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,#3b82f60d,#9333ea0d);border-radius:inherit;opacity:0;transition:opacity .3s ease-in-out;pointer-events:none}.chart-container[_ngcontent-%COMP%]:hover:before{opacity:1}.loading-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background:#ffffffe6;display:flex;align-items:center;justify-content:center;border-radius:inherit;z-index:10}@media (max-width: 768px){.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px}.compact-control-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;line-height:16px}.metric-card[_ngcontent-%COMP%]:hover{transform:none}}.mat-focus-indicator[_ngcontent-%COMP%]{border-radius:8px}.dark[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]:hover{box-shadow:0 20px 25px -5px #0000004d,0 10px 10px -5px #0003}.dark[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]{background:#111827e6}']});let e=n;return e})();var vE=(()=>{let n=class n{constructor(t){this.dateService=t,this.oldRegimeSlabs=[{minIncome:0,maxIncome:25e4,rate:0,description:"Up to \u20B92,50,000"},{minIncome:250001,maxIncome:5e5,rate:5,description:"\u20B92,50,001 - \u20B95,00,000"},{minIncome:500001,maxIncome:1e6,rate:20,description:"\u20B95,00,001 - \u20B910,00,000"},{minIncome:1000001,maxIncome:1/0,rate:30,description:"Above \u20B910,00,000"}],this.newRegimeSlabs=[{minIncome:0,maxIncome:3e5,rate:0,description:"Up to \u20B93,00,000"},{minIncome:300001,maxIncome:6e5,rate:5,description:"\u20B93,00,001 - \u20B96,00,000"},{minIncome:600001,maxIncome:9e5,rate:10,description:"\u20B96,00,001 - \u20B99,00,000"},{minIncome:900001,maxIncome:12e5,rate:15,description:"\u20B99,00,001 - \u20B912,00,000"},{minIncome:1200001,maxIncome:15e5,rate:20,description:"\u20B912,00,001 - \u20B915,00,000"},{minIncome:1500001,maxIncome:1/0,rate:30,description:"Above \u20B915,00,000"}],this.NEW_REGIME_STANDARD_DEDUCTION=xt.VALIDATION.MAX_AMOUNT*.05}calculateTotalIncome(t,i=2025){let a=new Date(i-1,3,1),o=new Date(i,2,31);return t.filter(s=>{let d=this.dateService.toDate(s.date)||new Date;return s.type==="income"&&d>=a&&d<=o}).reduce((s,d)=>s+d.amount,0)}getDefaultDeductions(){return[{section:"80C",description:"ELSS, PPF, EPF, Life Insurance, etc.",maxAmount:15e4,currentAmount:0},{section:"80D",description:"Health Insurance Premium",maxAmount:25e3,currentAmount:0},{section:"80G",description:"Donations to Charitable Institutions",maxAmount:1e5,currentAmount:0},{section:"80TTA",description:"Interest on Savings Account",maxAmount:1e4,currentAmount:0},{section:"HRA",description:"House Rent Allowance Exemption",maxAmount:0,currentAmount:0},{section:"LTA",description:"Leave Travel Allowance",maxAmount:0,currentAmount:0}]}calculateOldRegimeTax(t,i){let a=i.reduce((f,_)=>f+_.currentAmount,0),o=Math.max(0,t-a),s=this.calculateTaxBySlabs(o,this.oldRegimeSlabs),d=s*.04,m=s+d;return{totalIncome:t,deductions:i,totalDeductions:a,taxableIncome:o,incomeTax:s,cess:d,totalTaxLiability:m,regime:"old"}}calculateNewRegimeTax(t){let i=Math.max(0,t-this.NEW_REGIME_STANDARD_DEDUCTION),a=this.calculateTaxBySlabs(i,this.newRegimeSlabs),o=a*.04,s=a+o;return{totalIncome:t,deductions:[{section:"Standard",description:"Standard Deduction",maxAmount:this.NEW_REGIME_STANDARD_DEDUCTION,currentAmount:this.NEW_REGIME_STANDARD_DEDUCTION}],totalDeductions:this.NEW_REGIME_STANDARD_DEDUCTION,taxableIncome:i,incomeTax:a,cess:o,totalTaxLiability:s,regime:"new"}}calculateTaxBySlabs(t,i){let a=0,o=t;for(let s of i){if(o<=0)break;let d=Math.min(o,s.maxIncome===1/0?o:s.maxIncome-s.minIncome+1);a+=d*s.rate/100,o-=d}return a}calculateGST(t,i=18){let a=t*i/100,o=a/2,s=a/2;return{baseAmount:t,cgst:o,sgst:s,totalGST:a}}getTaxSlabs(t){return t==="old"?this.oldRegimeSlabs:this.newRegimeSlabs}compareRegimes(t,i){let a=this.calculateOldRegimeTax(t,i),o=this.calculateNewRegimeTax(t),s=a.totalTaxLiability-o.totalTaxLiability,d=s>0?"new":"old";return{oldRegime:a,newRegime:o,recommendation:d,savings:Math.abs(s)}}generateTaxReport(t,i){return`
INDIAN TAX ANALYSIS REPORT
Financial Year: 2024-25
Tax Regime: ${t.regime==="old"?"Old Regime (With Deductions)":"New Regime (Simplified)"}

INCOME DETAILS:
Total Income: \u20B9${t.totalIncome.toLocaleString("en-IN")}

${t.regime==="old"?`
DEDUCTIONS:
${t.deductions.map(o=>`${o.section}: \u20B9${o.currentAmount.toLocaleString("en-IN")}`).join(`
`)}
Total Deductions: \u20B9${t.totalDeductions.toLocaleString("en-IN")}
`:`
STANDARD DEDUCTION:
Standard Deduction: \u20B9${t.totalDeductions.toLocaleString("en-IN")}
`}

TAXABLE INCOME: \u20B9${t.taxableIncome.toLocaleString("en-IN")}

TAX CALCULATION:
Income Tax: \u20B9${t.incomeTax.toLocaleString("en-IN")}
Cess (4%): \u20B9${t.cess.toLocaleString("en-IN")}
TOTAL TAX LIABILITY: \u20B9${t.totalTaxLiability.toLocaleString("en-IN")}

${i?`
GST ANALYSIS:
Base Amount: \u20B9${i.baseAmount.toLocaleString("en-IN")}
CGST (9%): \u20B9${i.cgst.toLocaleString("en-IN")}
SGST (9%): \u20B9${i.sgst.toLocaleString("en-IN")}
Total GST (18%): \u20B9${i.totalGST.toLocaleString("en-IN")}
`:""}

Generated on: ${new Date().toLocaleDateString("en-IN")}
    `}};n.\u0275fac=function(i){return new(i||n)(Ne(Mn))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function QW(e,n){if(e&1&&(c(0,"div",2)(1,"h3",13)(2,"mat-icon",28),u(3,"edit"),l(),u(4," Enter Tax Details "),l(),c(5,"form",29)(6,"div",30)(7,"div")(8,"label",31),u(9,"Total Income (\u20B9)"),l(),de(10,"input",32),c(11,"div",33),u(12,"Auto-filled from your transactions"),l()(),c(13,"div")(14,"label",31),u(15,"GST Base Amount (\u20B9)"),l(),de(16,"input",34),c(17,"div",33),u(18,"Optional: For GST calculation"),l()()(),c(19,"div")(20,"h4",35),u(21,"Tax Deductions (Old Regime)"),l(),c(22,"div",36)(23,"div")(24,"label",31),u(25,"Section 80C (\u20B9)"),l(),de(26,"input",37),c(27,"div",33),u(28,"ELSS, PPF, EPF, Life Insurance"),l()(),c(29,"div")(30,"label",31),u(31,"Section 80D (\u20B9)"),l(),de(32,"input",38),c(33,"div",33),u(34,"Health Insurance Premium"),l()(),c(35,"div")(36,"label",31),u(37,"Section 80G (\u20B9)"),l(),de(38,"input",39),c(39,"div",33),u(40,"Donations to Charitable Institutions"),l()(),c(41,"div")(42,"label",31),u(43,"Section 80TTA (\u20B9)"),l(),de(44,"input",40),c(45,"div",33),u(46,"Interest on Savings Account"),l()(),c(47,"div")(48,"label",31),u(49,"HRA Exemption (\u20B9)"),l(),de(50,"input",41),c(51,"div",33),u(52,"House Rent Allowance"),l()(),c(53,"div")(54,"label",31),u(55,"LTA Exemption (\u20B9)"),l(),de(56,"input",42),c(57,"div",33),u(58,"Leave Travel Allowance"),l()()()()()()),e&2){let r=k();g(5),P("formGroup",r.taxForm)}}function XW(e,n){if(e&1&&(c(0,"div",47)(1,"span",48),u(2),l(),c(3,"span",61),u(4),l()()),e&2){let r=n.$implicit,t=k(2);g(2),xi("",r.section," (",r.description,")"),g(2),ne(t.formatCurrency(r.currentAmount))}}function ZW(e,n){if(e&1&&(c(0,"div",43)(1,"div",44)(2,"h4",45)(3,"mat-icon",14),u(4,"account_balance"),l(),u(5," Income Tax Calculation - Old Regime "),l(),c(6,"div",46)(7,"div",47)(8,"span",48),u(9,"Total Income"),l(),c(10,"span",49),u(11),l()(),c(12,"div",47)(13,"span",48),u(14,"Deductions (80C, etc.)"),l(),c(15,"span",50),u(16),l()(),c(17,"div",51)(18,"span",52),u(19,"Taxable Income"),l(),c(20,"span",53),u(21),l()(),c(22,"div",47)(23,"span",48),u(24,"Income Tax"),l(),c(25,"span",54),u(26),l()(),c(27,"div",47)(28,"span",48),u(29,"Cess (4%)"),l(),c(30,"span",54),u(31),l()(),c(32,"div",55)(33,"span",56),u(34,"Total Tax Liability"),l(),c(35,"span",57),u(36),l()()()(),c(37,"div",44)(38,"h4",45)(39,"mat-icon",28),u(40,"savings"),l(),u(41," Tax Deductions & Exemptions "),l(),c(42,"div",46),G(43,XW,5,3,"div",58),c(44,"div",59)(45,"span",56),u(46,"Total Deductions"),l(),c(47,"span",60),u(48),l()()()()()),e&2){let r=k();g(11),ne(r.formatCurrency(r.oldRegimeCalculation.totalIncome)),g(5),ne(r.formatCurrency(r.oldRegimeCalculation.totalDeductions)),g(5),ne(r.formatCurrency(r.oldRegimeCalculation.taxableIncome)),g(5),ne(r.formatCurrency(r.oldRegimeCalculation.incomeTax)),g(5),ne(r.formatCurrency(r.oldRegimeCalculation.cess)),g(5),ne(r.formatCurrency(r.oldRegimeCalculation.totalTaxLiability)),g(7),P("ngForOf",r.oldRegimeCalculation.deductions),g(5),ne(r.formatCurrency(r.oldRegimeCalculation.totalDeductions))}}function JW(e,n){if(e&1&&(c(0,"div",43)(1,"div",44)(2,"h4",45)(3,"mat-icon",14),u(4,"account_balance"),l(),u(5," Income Tax Calculation - New Regime "),l(),c(6,"div",46)(7,"div",47)(8,"span",48),u(9,"Total Income"),l(),c(10,"span",49),u(11),l()(),c(12,"div",47)(13,"span",48),u(14,"Standard Deduction"),l(),c(15,"span",50),u(16),l()(),c(17,"div",51)(18,"span",52),u(19,"Taxable Income"),l(),c(20,"span",53),u(21),l()(),c(22,"div",47)(23,"span",48),u(24,"Income Tax"),l(),c(25,"span",54),u(26),l()(),c(27,"div",47)(28,"span",48),u(29,"Cess (4%)"),l(),c(30,"span",54),u(31),l()(),c(32,"div",55)(33,"span",56),u(34,"Total Tax Liability"),l(),c(35,"span",57),u(36),l()()()(),c(37,"div",44)(38,"h4",45)(39,"mat-icon",28),u(40,"new_releases"),l(),u(41," New Regime Benefits "),l(),c(42,"div",46)(43,"div",47)(44,"span",48),u(45,"Standard Deduction"),l(),c(46,"span",61),u(47,"\u20B950,000"),l()(),c(48,"div",47)(49,"span",48),u(50,"Lower Tax Rates"),l(),c(51,"span",61),u(52,"Yes"),l()(),c(53,"div",47)(54,"span",48),u(55,"No Investment Proof"),l(),c(56,"span",61),u(57,"Required"),l()(),c(58,"div",47)(59,"span",48),u(60,"Simplified Filing"),l(),c(61,"span",61),u(62,"Yes"),l()(),c(63,"div",47)(64,"span",48),u(65,"No Deductions"),l(),c(66,"span",62),u(67,"Except Standard"),l()(),c(68,"div",63)(69,"span",56),u(70,"Net Benefit"),l(),c(71,"span",64),u(72,"Calculate"),l()()()()()),e&2){let r=k();g(11),ne(r.formatCurrency(r.newRegimeCalculation.totalIncome)),g(5),ne(r.formatCurrency(r.newRegimeCalculation.totalDeductions)),g(5),ne(r.formatCurrency(r.newRegimeCalculation.taxableIncome)),g(5),ne(r.formatCurrency(r.newRegimeCalculation.incomeTax)),g(5),ne(r.formatCurrency(r.newRegimeCalculation.cess)),g(5),ne(r.formatCurrency(r.newRegimeCalculation.totalTaxLiability))}}function eY(e,n){if(e&1&&(c(0,"div",2)(1,"h4",45)(2,"mat-icon",25),u(3,"compare_arrows"),l(),u(4," Regime Comparison & Recommendation "),l(),c(5,"div",65)(6,"div",66)(7,"div",67)(8,"div",68),u(9,"Old Regime Tax"),l(),c(10,"div",69),u(11),l()()(),c(12,"div",70)(13,"div",67)(14,"div",71),u(15,"New Regime Tax"),l(),c(16,"div",72),u(17),l()()(),c(18,"div",73)(19,"div",67)(20,"div",74),u(21,"Recommended"),l(),c(22,"div",75),u(23),l(),c(24,"div",76),u(25),l()()()()()),e&2){let r,t,i=k();g(11),ne(i.formatCurrency((i.oldRegimeCalculation==null?null:i.oldRegimeCalculation.totalTaxLiability)||0)),g(6),ne(i.formatCurrency((i.newRegimeCalculation==null?null:i.newRegimeCalculation.totalTaxLiability)||0)),g(6),he("",(r=i.getComparisonData())==null?null:r.recommendation," Regime"),g(2),he("Save: ",i.formatCurrency(((t=i.getComparisonData())==null?null:t.savings)||0),"")}}function tY(e,n){e&1&&(c(0,"div",77)(1,"h5",78)(2,"mat-icon",79),u(3,"history"),l(),u(4," Old Tax Regime (With Deductions) "),l(),c(5,"div",80)(6,"table",81)(7,"thead")(8,"tr",82)(9,"th",83),u(10,"Income Range"),l(),c(11,"th",83),u(12,"Tax Rate"),l(),c(13,"th",83),u(14,"Cess"),l(),c(15,"th",83),u(16,"Effective Rate"),l()()(),c(17,"tbody",84)(18,"tr",85)(19,"td",86),u(20,"Up to \u20B92,50,000"),l(),c(21,"td",87),u(22,"Nil"),l(),c(23,"td",86),u(24,"-"),l(),c(25,"td",87),u(26,"0%"),l()(),c(27,"tr",85)(28,"td",86),u(29,"\u20B92,50,001 - \u20B95,00,000"),l(),c(30,"td",86),u(31,"5%"),l(),c(32,"td",86),u(33,"4%"),l(),c(34,"td",86),u(35,"5.2%"),l()(),c(36,"tr",85)(37,"td",86),u(38,"\u20B95,00,001 - \u20B910,00,000"),l(),c(39,"td",86),u(40,"20%"),l(),c(41,"td",86),u(42,"4%"),l(),c(43,"td",86),u(44,"20.8%"),l()(),c(45,"tr",88)(46,"td",89),u(47,"Above \u20B910,00,000"),l(),c(48,"td",89),u(49,"30%"),l(),c(50,"td",86),u(51,"4%"),l(),c(52,"td",89),u(53,"31.2%"),l()()()()()())}function nY(e,n){e&1&&(c(0,"div",77)(1,"h5",78)(2,"mat-icon",90),u(3,"new_releases"),l(),u(4," New Tax Regime (No Deductions) "),l(),c(5,"div",80)(6,"table",81)(7,"thead")(8,"tr",82)(9,"th",83),u(10,"Income Range"),l(),c(11,"th",83),u(12,"Tax Rate"),l(),c(13,"th",83),u(14,"Cess"),l(),c(15,"th",83),u(16,"Effective Rate"),l()()(),c(17,"tbody",84)(18,"tr",85)(19,"td",86),u(20,"Up to \u20B93,00,000"),l(),c(21,"td",87),u(22,"Nil"),l(),c(23,"td",86),u(24,"-"),l(),c(25,"td",87),u(26,"0%"),l()(),c(27,"tr",85)(28,"td",86),u(29,"\u20B93,00,001 - \u20B96,00,000"),l(),c(30,"td",86),u(31,"5%"),l(),c(32,"td",86),u(33,"4%"),l(),c(34,"td",86),u(35,"5.2%"),l()(),c(36,"tr",85)(37,"td",86),u(38,"\u20B96,00,001 - \u20B99,00,000"),l(),c(39,"td",86),u(40,"10%"),l(),c(41,"td",86),u(42,"4%"),l(),c(43,"td",86),u(44,"10.4%"),l()(),c(45,"tr",85)(46,"td",86),u(47,"\u20B99,00,001 - \u20B912,00,000"),l(),c(48,"td",86),u(49,"15%"),l(),c(50,"td",86),u(51,"4%"),l(),c(52,"td",86),u(53,"15.6%"),l()(),c(54,"tr",85)(55,"td",86),u(56,"\u20B912,00,001 - \u20B915,00,000"),l(),c(57,"td",86),u(58,"20%"),l(),c(59,"td",86),u(60,"4%"),l(),c(61,"td",86),u(62,"20.8%"),l()(),c(63,"tr",88)(64,"td",89),u(65,"Above \u20B915,00,000"),l(),c(66,"td",89),u(67,"30%"),l(),c(68,"td",86),u(69,"4%"),l(),c(70,"td",89),u(71,"31.2%"),l()()()()()())}function iY(e,n){if(e&1&&(c(0,"div",23)(1,"h4",24)(2,"mat-icon",91),u(3,"receipt"),l(),u(4," GST Analysis "),l(),c(5,"div",65)(6,"div",92)(7,"div",93)(8,"span",94),u(9,"CGST (9%)"),l(),c(10,"mat-icon",95),u(11,"account_balance"),l()(),c(12,"div",96),u(13),l(),c(14,"div",97),u(15,"Central Government"),l()(),c(16,"div",98)(17,"div",93)(18,"span",99),u(19,"SGST (9%)"),l(),c(20,"mat-icon",100),u(21,"location_city"),l()(),c(22,"div",101),u(23),l(),c(24,"div",102),u(25,"State Government"),l()(),c(26,"div",103)(27,"div",93)(28,"span",104),u(29,"Total GST (18%)"),l(),c(30,"mat-icon",105),u(31,"calculate"),l()(),c(32,"div",106),u(33),l(),c(34,"div",107),u(35,"Combined Tax"),l()()()()),e&2){let r=k();g(13),ne(r.formatCurrency(r.gstCalculation.cgst)),g(10),ne(r.formatCurrency(r.gstCalculation.sgst)),g(10),ne(r.formatCurrency(r.gstCalculation.totalGST))}}var wg=(()=>{let n=class n{constructor(t,i,a,o,s,d,m,f){this.auth=t,this.taxService=i,this.notificationService=a,this.validationService=o,this.dialog=s,this.fb=d,this.store=m,this.ssrService=f,this.selectedRegime="old",this.oldRegimeCalculation=null,this.newRegimeCalculation=null,this.gstCalculation=null,this.deductions=[],this.transactions=[],this.totalIncome=0,this.isLoading=!1,this.showInputForm=!1,this.showComparison=!1,this.subscriptions=[],this.taxForm=this.fb.group({totalIncome:[0,this.validationService.getTaxIncomeValidators()],gstBaseAmount:[0,[yt.min(0)]],section80C:[0,this.validationService.getTaxDeductionValidators()],section80D:[0,this.validationService.getTaxDeductionValidators()],section80G:[0,this.validationService.getTaxDeductionValidators()],section80TTA:[0,this.validationService.getTaxDeductionValidators()],hraExemption:[0,[yt.min(0)]],ltaExemption:[0,[yt.min(0)]]})}ngOnInit(){this.loadTransactions(),this.initializeDeductions()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}loadTransactions(){var i;if((i=this.auth.currentUser)==null?void 0:i.uid){let a=this.store.select(No).subscribe({next:o=>{this.transactions=o,this.totalIncome=this.taxService.calculateTotalIncome(o),this.taxForm.patchValue({totalIncome:this.totalIncome})},error:o=>{console.error("Error loading transactions:",o),this.notificationService.error("Failed to load transaction data")}});this.subscriptions.push(a)}}initializeDeductions(){this.deductions=this.taxService.getDefaultDeductions()}updateDeductions(){let t=this.taxForm.value;this.deductions=[{section:"80C",description:"ELSS, PPF, EPF, Life Insurance, etc.",maxAmount:15e4,currentAmount:t.section80C||0},{section:"80D",description:"Health Insurance Premium",maxAmount:25e3,currentAmount:t.section80D||0},{section:"80G",description:"Donations to Charitable Institutions",maxAmount:1e5,currentAmount:t.section80G||0},{section:"80TTA",description:"Interest on Savings Account",maxAmount:1e4,currentAmount:t.section80TTA||0},{section:"HRA",description:"House Rent Allowance Exemption",maxAmount:0,currentAmount:t.hraExemption||0},{section:"LTA",description:"Leave Travel Allowance",maxAmount:0,currentAmount:t.ltaExemption||0}]}calculateTax(){if(!this.taxForm.valid){this.notificationService.error("Please fill in all required fields");return}this.isLoading=!0;try{let t=this.taxForm.value,i=t.totalIncome||0;this.updateDeductions(),this.oldRegimeCalculation=this.taxService.calculateOldRegimeTax(i,this.deductions),this.newRegimeCalculation=this.taxService.calculateNewRegimeTax(i),t.gstBaseAmount&&t.gstBaseAmount>0?this.gstCalculation=this.taxService.calculateGST(t.gstBaseAmount):this.gstCalculation=null,this.showComparison=!0,this.notificationService.success("Tax calculation completed successfully!")}catch(t){console.error("Error calculating tax:",t),this.notificationService.error("Failed to calculate tax. Please check your inputs.")}finally{this.isLoading=!1}}downloadTaxReport(){if(!this.oldRegimeCalculation&&!this.newRegimeCalculation){this.notificationService.error("Please calculate tax first");return}try{let t=this.selectedRegime==="old"?this.oldRegimeCalculation:this.newRegimeCalculation,i=this.taxService.generateTaxReport(t,this.gstCalculation||void 0);if(this.ssrService.isClientSide()){let a=new Blob([i],{type:"text/plain"}),o=window.URL.createObjectURL(a),s=document.createElement("a");s.href=o,s.download=`tax-report-${this.selectedRegime}-regime-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(o)}this.notificationService.success("Tax report downloaded successfully!")}catch(t){console.error("Error downloading report:",t),this.notificationService.error("Failed to download tax report")}}selectRegime(t){this.selectedRegime=t,this.showInputForm=t==="old"}toggleInputForm(){this.showInputForm=!this.showInputForm}getComparisonData(){if(!this.oldRegimeCalculation||!this.newRegimeCalculation)return null;let t=this.taxService.compareRegimes(this.oldRegimeCalculation.totalIncome,this.deductions);return{recommendation:t.recommendation,savings:t.savings}}formatCurrency(t){return`\u20B9${t.toLocaleString("en-IN")}`}getCurrentCalculation(){return this.selectedRegime==="old"?this.oldRegimeCalculation:this.newRegimeCalculation}getDeductionBySection(t){return this.deductions.find(i=>i.section===t)}getTotalDeductions(){return this.deductions.reduce((t,i)=>t+i.currentAmount,0)}getIncomeError(){let t=this.taxForm.get("totalIncome");return t?this.validationService.getTaxIncomeError(t):""}getSection80CError(){let t=this.taxForm.get("section80C");return t?this.validationService.getTaxDeductionError(t):""}getSection80DError(){let t=this.taxForm.get("section80D");return t?this.validationService.getTaxDeductionError(t):""}getSection80GError(){let t=this.taxForm.get("section80G");return t?this.validationService.getTaxDeductionError(t):""}getSection80TTAError(){let t=this.taxForm.get("section80TTA");return t?this.validationService.getTaxDeductionError(t):""}};n.\u0275fac=function(i){return new(i||n)(D(Ut),D(vE),D(At),D(Kr),D(ar),D(wr),D(qt),D(Vr))},n.\u0275cmp=Fe({type:n,selectors:[["app-tax"]],decls:55,vars:29,consts:[[1,"min-h-screen","bg-gray-50","p-4","sm:p-6","lg:p-8"],[1,"max-w-7xl","mx-auto"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-6","mb-6"],[1,"flex","flex-col","sm:flex-row","sm:justify-between","sm:items-center","gap-4"],[1,"flex-1"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600","text-sm","sm:text-base"],[1,"flex","flex-col","sm:flex-row","gap-3"],["mat-stroked-button","",1,"w-full","sm:w-auto","px-6","py-2","border-2","border-blue-600","text-blue-600","hover:bg-blue-50","transition-colors","duration-200","rounded-lg","disabled:opacity-50",3,"click","disabled"],[1,"mr-2"],["mat-raised-button","","color","primary",1,"w-full","sm:w-auto","px-6","py-2","bg-blue-600","hover:bg-blue-700","transition-colors","duration-200","rounded-lg","disabled:opacity-50",3,"click","disabled"],[1,"hidden","sm:inline"],[1,"sm:hidden"],[1,"text-xl","font-semibold","text-gray-900","mb-4","flex","items-center"],[1,"text-blue-600","mr-3"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],["mat-raised-button","",1,"flex","items-center","justify-center","space-x-3","p-4","h-auto","min-h-[60px]","transition-all","duration-200","hover:shadow-md",3,"click","color"],[1,"text-xl"],[1,"text-left"],[1,"font-semibold"],[1,"text-xs","opacity-80"],["class","bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",4,"ngIf"],["class","grid grid-cols-1 xl:grid-cols-2 gap-6",4,"ngIf"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-6","mt-6"],[1,"text-lg","font-semibold","text-gray-900","mb-6","flex","items-center"],[1,"text-purple-600","mr-3"],["class","mb-6",4,"ngIf"],["class","bg-white rounded-xl shadow-sm border border-gray-100 p-6 mt-6",4,"ngIf"],[1,"text-green-600","mr-3"],[1,"space-y-6",3,"formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","number","formControlName","totalIncome","placeholder","Enter total income",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],[1,"text-xs","text-gray-500","mt-1"],["type","number","formControlName","gstBaseAmount","placeholder","Enter GST base amount",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],[1,"text-lg","font-semibold","text-gray-800","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["type","number","formControlName","section80C","placeholder","Max: 1,50,000",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","number","formControlName","section80D","placeholder","Max: 25,000",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","number","formControlName","section80G","placeholder","Max: 1,00,000",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","number","formControlName","section80TTA","placeholder","Max: 10,000",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","number","formControlName","hraExemption","placeholder","Enter HRA exemption",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","number","formControlName","ltaExemption","placeholder","Enter LTA exemption",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],[1,"grid","grid-cols-1","xl:grid-cols-2","gap-6"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4","flex","items-center"],[1,"space-y-4"],[1,"flex","justify-between","items-center","py-3","border-b","border-gray-100"],[1,"text-gray-600"],[1,"font-semibold","text-gray-900","text-lg"],[1,"font-semibold","text-green-600","text-lg"],[1,"flex","justify-between","items-center","py-3","border-b-2","border-blue-200","bg-blue-50","px-4","rounded-lg"],[1,"text-gray-700","font-medium"],[1,"font-bold","text-blue-700","text-lg"],[1,"font-semibold","text-red-600","text-lg"],[1,"flex","justify-between","items-center","py-4","bg-red-50","px-4","rounded-lg","border-2","border-red-200"],[1,"text-gray-700","font-semibold"],[1,"font-bold","text-red-700","text-xl"],["class","flex justify-between items-center py-3 border-b border-gray-100",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","py-4","bg-green-50","px-4","rounded-lg","border-2","border-green-200"],[1,"font-bold","text-green-700","text-xl"],[1,"font-semibold","text-green-600"],[1,"font-semibold","text-red-600"],[1,"flex","justify-between","items-center","py-4","bg-blue-50","px-4","rounded-lg","border-2","border-blue-200"],[1,"font-bold","text-blue-700","text-xl"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"bg-blue-50","p-4","rounded-lg","border","border-blue-200"],[1,"text-center"],[1,"text-sm","text-blue-600","font-medium"],[1,"text-2xl","font-bold","text-blue-800"],[1,"bg-green-50","p-4","rounded-lg","border","border-green-200"],[1,"text-sm","text-green-600","font-medium"],[1,"text-2xl","font-bold","text-green-800"],[1,"bg-purple-50","p-4","rounded-lg","border","border-purple-200"],[1,"text-sm","text-purple-600","font-medium"],[1,"text-xl","font-bold","text-purple-800","capitalize"],[1,"text-sm","text-purple-600"],[1,"mb-6"],[1,"text-md","font-semibold","text-gray-700","mb-4","flex","items-center"],[1,"text-blue-600","mr-2","text-sm"],[1,"overflow-x-auto","rounded-lg","border","border-gray-200"],[1,"w-full"],[1,"bg-gray-50"],[1,"px-4","py-3","text-left","font-semibold","text-gray-700","text-sm"],[1,"divide-y","divide-gray-200"],[1,"hover:bg-gray-50","transition-colors"],[1,"px-4","py-3","text-sm"],[1,"px-4","py-3","text-green-600","font-medium","text-sm"],[1,"hover:bg-red-50","transition-colors","bg-red-50"],[1,"px-4","py-3","font-medium","text-sm"],[1,"text-green-600","mr-2","text-sm"],[1,"text-orange-600","mr-3"],[1,"bg-gradient-to-br","from-orange-50","to-orange-100","p-6","rounded-xl","border","border-orange-200","hover:shadow-md","transition-shadow"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-orange-800","font-semibold","text-lg"],[1,"text-orange-600","text-2xl"],[1,"text-3xl","font-bold","text-orange-800","mb-2"],[1,"text-sm","text-orange-600"],[1,"bg-gradient-to-br","from-blue-50","to-blue-100","p-6","rounded-xl","border","border-blue-200","hover:shadow-md","transition-shadow"],[1,"text-blue-800","font-semibold","text-lg"],[1,"text-blue-600","text-2xl"],[1,"text-3xl","font-bold","text-blue-800","mb-2"],[1,"text-sm","text-blue-600"],[1,"bg-gradient-to-br","from-green-50","to-green-100","p-6","rounded-xl","border","border-green-200","hover:shadow-md","transition-shadow"],[1,"text-green-800","font-semibold","text-lg"],[1,"text-green-600","text-2xl"],[1,"text-3xl","font-bold","text-green-800","mb-2"],[1,"text-sm","text-green-600"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),u(6,"Indian Tax Analysis"),l(),c(7,"p",6),u(8,"Calculate and analyze your tax liability for FY 2024-25"),l()(),c(9,"div",7)(10,"button",8),H("click",function(){return a.calculateTax()}),c(11,"mat-icon",9),u(12),l(),u(13),l(),c(14,"button",10),H("click",function(){return a.downloadTaxReport()}),c(15,"mat-icon",9),u(16,"download"),l(),c(17,"span",11),u(18,"Tax Report"),l(),c(19,"span",12),u(20,"Report"),l()()()()(),c(21,"div",2)(22,"h3",13)(23,"mat-icon",14),u(24,"policy"),l(),u(25," Select Tax Regime "),l(),c(26,"div",15)(27,"button",16),H("click",function(){return a.selectRegime("old")}),c(28,"mat-icon",17),u(29,"history"),l(),c(30,"div",18)(31,"div",19),u(32,"Old Regime"),l(),c(33,"div",20),u(34,"With Deductions"),l()()(),c(35,"button",16),H("click",function(){return a.selectRegime("new")}),c(36,"mat-icon",17),u(37,"new_releases"),l(),c(38,"div",18)(39,"div",19),u(40,"New Regime"),l(),c(41,"div",20),u(42,"Simplified"),l()()()()(),G(43,QW,59,1,"div",21)(44,ZW,49,8,"div",22)(45,JW,73,6,"div",22)(46,eY,26,4,"div",21),c(47,"div",23)(48,"h4",24)(49,"mat-icon",25),u(50,"table_chart"),l(),u(51," Income Tax Slabs Comparison (FY 2024-25) "),l(),G(52,tY,54,0,"div",26)(53,nY,72,0,"div",26),l(),G(54,iY,36,3,"div",27),l()()),i&2&&(g(10),P("disabled",a.isLoading),g(2),ne(a.isLoading?"hourglass_empty":"calculate"),g(),he(" ",a.isLoading?"Calculating...":"Calculate Tax"," "),g(),P("disabled",!a.oldRegimeCalculation&&!a.newRegimeCalculation),g(13),Be("bg-blue-600",a.selectedRegime==="old")("text-white",a.selectedRegime==="old")("bg-gray-100",a.selectedRegime!=="old")("text-gray-700",a.selectedRegime!=="old"),P("color",a.selectedRegime==="old"?"primary":"basic"),g(8),Be("bg-blue-600",a.selectedRegime==="new")("text-white",a.selectedRegime==="new")("bg-gray-100",a.selectedRegime!=="new")("text-gray-700",a.selectedRegime!=="new"),P("color",a.selectedRegime==="new"?"primary":"basic"),g(8),P("ngIf",a.showInputForm),g(),P("ngIf",a.selectedRegime==="old"&&a.oldRegimeCalculation),g(),P("ngIf",a.selectedRegime==="new"&&a.newRegimeCalculation),g(),P("ngIf",a.showComparison&&a.getComparisonData()),g(6),P("ngIf",a.selectedRegime==="old"),g(),P("ngIf",a.selectedRegime==="new"),g(),P("ngIf",a.gstCalculation))},dependencies:[an,Tt,Di,mn,Gi,hn,Ai,yr,Cr,zt,Cn]});let e=n;return e})();function aY(e,n){if(e&1&&(c(0,"option",17),u(1),l()),e&2){let r=n.$implicit;P("value",r.value),g(),he(" ",r.label," ")}}function oY(e,n){if(e&1&&(c(0,"option",17),u(1),l()),e&2){let r=n.$implicit;P("value",r.value),g(),he(" ",r.label," ")}}function sY(e,n){if(e&1){let r=Ce();c(0,"span",37),u(1),c(2,"button",38),H("click",function(){let i=q(r).$implicit,a=k(2);return K(a.removeTag(i))}),c(3,"mat-icon",39),u(4,"close"),l()()()}if(e&2){let r=n.$implicit;g(),he(" ",r," ")}}function cY(e,n){if(e&1){let r=Ce();c(0,"div",18)(1,"mat-card",19)(2,"div",20)(3,"h3",21),u(4,"Add New Note"),l(),c(5,"button",22),H("click",function(){q(r);let i=k();return K(i.cancelAddNote())}),c(6,"mat-icon"),u(7,"close"),l()()(),c(8,"div",23)(9,"div")(10,"label",24),u(11,"Title"),l(),c(12,"input",25),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.newNote.title,i)||(a.newNote.title=i),K(i)}),l()(),c(13,"div")(14,"label",24),u(15,"Content"),l(),c(16,"textarea",26),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.newNote.content,i)||(a.newNote.content=i),K(i)}),l()(),c(17,"div",27)(18,"div")(19,"label",24),u(20,"Category"),l(),c(21,"select",28),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.newNote.category,i)||(a.newNote.category=i),K(i)}),G(22,oY,2,2,"option",12),l()(),c(23,"div")(24,"label",24),u(25,"Tags"),l(),c(26,"input",29),H("keyup.enter",function(i){q(r);let a=k();return K(a.addTag(i))}),l(),c(27,"div",30),G(28,sY,5,1,"span",31),l()()(),c(29,"div",32)(30,"mat-checkbox",33),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.newNote.isImportant,i)||(a.newNote.isImportant=i),K(i)}),u(31," Mark as Important "),l()(),c(32,"div",34)(33,"button",35),H("click",function(){q(r);let i=k();return K(i.cancelAddNote())}),u(34,"Cancel"),l(),c(35,"button",36),H("click",function(){q(r);let i=k();return K(i.saveNote())}),u(36,"Save Note"),l()()()()()}if(e&2){let r=k();g(12),St("ngModel",r.newNote.title),g(4),St("ngModel",r.newNote.content),g(5),St("ngModel",r.newNote.category),g(),P("ngForOf",r.categories.slice(1)),g(6),P("ngForOf",r.newNote.tags),g(2),St("ngModel",r.newNote.isImportant)}}function lY(e,n){if(e&1&&(c(0,"span",52),u(1),l()),e&2){let r=n.$implicit;g(),he(" ",r," ")}}function dY(e,n){if(e&1){let r=Ce();c(0,"div",8)(1,"mat-card",40)(2,"div",0)(3,"div",41)(4,"div",42)(5,"h3",43),u(6),l(),c(7,"div",44)(8,"mat-icon",39),u(9),l(),c(10,"span"),u(11),l(),c(12,"span"),u(13,"\u2022"),l(),c(14,"span"),u(15),Ee(16,"date"),l()()(),c(17,"div",45)(18,"button",46),H("click",function(){let i=q(r).$implicit,a=k();return K(a.toggleImportant(i))}),c(19,"mat-icon"),u(20),l()(),c(21,"button",47),H("click",function(){let i=q(r).$implicit,a=k();return K(a.deleteNote(i.id))}),c(22,"mat-icon"),u(23,"delete"),l()()()(),c(24,"p",48),u(25),l(),c(26,"div",49),G(27,lY,2,1,"span",50),l(),c(28,"div",51),u(29),Ee(30,"date"),l()()()()}if(e&2){let r=n.$implicit,t=k();g(),Be("border-l-4",r.isImportant)("border-l-red-500",r.isImportant),g(5),ne(r.title),g(3),ne(t.getCategoryInfo(r.category).icon),g(2),ne(t.getCategoryInfo(r.category).label),g(4),ne(Xt(16,14,r.createdAt,"MMM dd, yyyy")),g(3),Be("text-red-500",r.isImportant),g(2),ne(r.isImportant?"star":"star_border"),g(5),ne(r.content),g(2),P("ngForOf",r.tags),g(2),he(" Last updated: ",Xt(30,17,r.updatedAt,"MMM dd, yyyy HH:mm")," ")}}function uY(e,n){if(e&1){let r=Ce();c(0,"div",53)(1,"mat-icon",54),u(2,"note"),l(),c(3,"h3",55),u(4,"No notes found"),l(),c(5,"p",56),u(6),l(),c(7,"button",57),H("click",function(){q(r);let i=k();return K(i.addNote())}),c(8,"mat-icon"),u(9,"add"),l(),c(10,"span"),u(11,"Add Note"),l()()()}if(e&2){let r=k();g(6),he(" ",r.searchTerm||r.selectedCategory!=="all"?"Try adjusting your search or filter criteria.":"Start by adding your first note to keep track of important information."," ")}}var Sg=(()=>{let n=class n{constructor(t){this.notificationService=t,this.notes=[],this.filteredNotes=[],this.selectedCategory="all",this.searchTerm="",this.isAddingNote=!1,this.newNote={title:"",content:"",category:"personal",tags:[],isImportant:!1},this.categories=[{value:"all",label:"All Notes",icon:"note"},{value:"personal",label:"Personal",icon:"person"},{value:"financial",label:"Financial",icon:"account_balance_wallet"},{value:"tax",label:"Tax Related",icon:"receipt_long"},{value:"investment",label:"Investment",icon:"trending_up"},{value:"expenses",label:"Expenses",icon:"money_off"},{value:"goals",label:"Goals",icon:"flag"},{value:"documents",label:"Documents",icon:"description"}]}ngOnInit(){this.loadNotes()}loadNotes(){try{this.notes=[{id:"1",title:"Tax Planning Notes",content:"Remember to invest in ELSS for tax saving under section 80C. Also consider health insurance for 80D benefits.",category:"tax",tags:["tax","investment","planning"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),isImportant:!0},{id:"2",title:"Monthly Budget Goals",content:"Target: Save 30% of income. Track expenses daily. Review budget every weekend.",category:"financial",tags:["budget","savings","goals"],createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-10"),isImportant:!0}],this.filteredNotes=[...this.notes]}catch(t){console.error("Error loading notes:",t),this.notificationService.error("Failed to load notes")}}filterNotes(){this.filteredNotes=this.notes.filter(t=>{let i=this.selectedCategory==="all"||t.category===this.selectedCategory,a=t.title.toLowerCase().includes(this.searchTerm.toLowerCase())||t.content.toLowerCase().includes(this.searchTerm.toLowerCase())||t.tags.some(o=>o.toLowerCase().includes(this.searchTerm.toLowerCase()));return i&&a})}onCategoryChange(){this.filterNotes()}onSearchChange(){this.filterNotes()}addNote(){this.isAddingNote=!0}saveNote(){if(!this.newNote.title||!this.newNote.content){this.notificationService.warning("Please fill in title and content");return}try{let t={id:Date.now().toString(),title:this.newNote.title,content:this.newNote.content,category:this.newNote.category,tags:this.newNote.tags,createdAt:new Date,updatedAt:new Date,isImportant:this.newNote.isImportant};this.notes.unshift(t),this.filterNotes(),this.resetNewNote(),this.isAddingNote=!1,this.notificationService.success("Note saved successfully")}catch(t){console.error("Error saving note:",t),this.notificationService.error("Failed to save note")}}cancelAddNote(){this.resetNewNote(),this.isAddingNote=!1,this.notificationService.info("Note creation cancelled")}resetNewNote(){this.newNote={title:"",content:"",category:"personal",tags:[],isImportant:!1}}deleteNote(t){try{let i=this.notes.find(a=>a.id===t);this.notes=this.notes.filter(a=>a.id!==t),this.filterNotes(),this.notificationService.success(`Note "${i==null?void 0:i.title}" deleted successfully`)}catch(i){console.error("Error deleting note:",i),this.notificationService.error("Failed to delete note")}}toggleImportant(t){try{t.isImportant=!t.isImportant,t.updatedAt=new Date;let i=t.isImportant?"marked as important":"unmarked as important";this.notificationService.success(`Note "${t.title}" ${i}`)}catch(i){console.error("Error updating note importance:",i),this.notificationService.error("Failed to update note importance")}}addTag(t){let i=t.target.value;i&&!this.newNote.tags.includes(i)?(this.newNote.tags.push(i),this.notificationService.info(`Tag "${i}" added`)):this.newNote.tags.includes(i)&&this.notificationService.warning("Tag already exists")}removeTag(t){this.newNote.tags=this.newNote.tags.filter(i=>i!==t),this.notificationService.info(`Tag "${t}" removed`)}exportNotes(){try{console.log("Export notes clicked"),this.notificationService.info("Export feature coming soon")}catch(t){console.error("Error exporting notes:",t),this.notificationService.error("Failed to export notes")}}importNotes(){try{console.log("Import notes clicked"),this.notificationService.info("Import feature coming soon")}catch(t){console.error("Error importing notes:",t),this.notificationService.error("Failed to import notes")}}getCategoryInfo(t){let i=this.categories.find(a=>a.value===t);return i?{icon:i.icon,label:i.label}:{icon:"note",label:"Unknown"}}};n.\u0275fac=function(i){return new(i||n)(D(At))},n.\u0275cmp=Fe({type:n,selectors:[["app-notes"]],decls:35,vars:6,consts:[[1,"p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800","mb-1"],[1,"text-gray-600"],[1,"flex","space-x-3"],["mat-stroked-button","",1,"flex","items-center","space-x-2",3,"click"],["mat-raised-button","","color","primary",1,"flex","items-center","space-x-2",3,"click"],[1,"mb-6","grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"relative"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2","text-gray-400"],["type","text","placeholder","Search notes...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","input","ngModel"],[1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","mb-6",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-2","xl:grid-cols-3","gap-6"],["class","relative",4,"ngFor","ngForOf"],["class","text-center py-12",4,"ngIf"],[3,"value"],[1,"mb-6"],[1,"p-6","shadow-lg","border-0","rounded-xl"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-semibold","text-gray-800"],["mat-icon-button","",3,"click"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","placeholder","Enter note title...",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["placeholder","Enter note content...","rows","4",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["type","text","placeholder","Add tags (comma separated)...",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"keyup.enter"],[1,"flex","flex-wrap","gap-2","mt-2"],["class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",4,"ngFor","ngForOf"],[1,"flex","items-center"],[1,"mr-2",3,"ngModelChange","ngModel"],[1,"flex","justify-end","space-x-3"],["mat-stroked-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"ml-1","text-blue-600","hover:text-blue-800",3,"click"],[1,"text-xs"],[1,"h-full","shadow-lg","border-0","rounded-xl","hover:shadow-xl","transition-shadow"],[1,"flex","justify-between","items-start","mb-3"],[1,"flex-1"],[1,"text-lg","font-semibold","text-gray-800","mb-1"],[1,"flex","items-center","space-x-2","text-sm","text-gray-500"],[1,"flex","space-x-1"],["mat-icon-button","","matTooltip","Mark as important",3,"click"],["mat-icon-button","","color","warn","matTooltip","Delete note",3,"click"],[1,"text-gray-600","mb-4","line-clamp-3"],[1,"flex","flex-wrap","gap-2","mb-3"],["class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",4,"ngFor","ngForOf"],[1,"text-xs","text-gray-400"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-gray-100","text-gray-700"],[1,"text-center","py-12"],[1,"text-gray-400","text-6xl","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-4"],["mat-raised-button","","color","primary",1,"flex","items-center","space-x-2","mx-auto",3,"click"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),u(4,"Notes & Documents"),l(),c(5,"p",3),u(6,"Store and organize your financial notes, documents, and important information"),l()(),c(7,"div",4)(8,"button",5),H("click",function(){return a.importNotes()}),c(9,"mat-icon"),u(10,"upload"),l(),c(11,"span"),u(12,"Import"),l()(),c(13,"button",5),H("click",function(){return a.exportNotes()}),c(14,"mat-icon"),u(15,"download"),l(),c(16,"span"),u(17,"Export"),l()(),c(18,"button",6),H("click",function(){return a.addNote()}),c(19,"mat-icon"),u(20,"add"),l(),c(21,"span"),u(22,"Add Note"),l()()()(),c(23,"div",7)(24,"div",8)(25,"mat-icon",9),u(26,"search"),l(),c(27,"input",10),kt("ngModelChange",function(s){return Mt(a.searchTerm,s)||(a.searchTerm=s),s}),H("input",function(){return a.onSearchChange()}),l()(),c(28,"div")(29,"select",11),kt("ngModelChange",function(s){return Mt(a.selectedCategory,s)||(a.selectedCategory=s),s}),H("change",function(){return a.onCategoryChange()}),G(30,aY,2,2,"option",12),l()()(),G(31,cY,37,6,"div",13),c(32,"div",14),G(33,dY,31,20,"div",15),l(),G(34,uY,12,1,"div",16),l()),i&2&&(g(27),St("ngModel",a.searchTerm),g(2),St("ngModel",a.selectedCategory),g(),P("ngForOf",a.categories),g(),P("ngIf",a.isAddingNote),g(2),P("ngForOf",a.filteredNotes),g(),P("ngIf",a.filteredNotes.length===0&&!a.isAddingNote))},dependencies:[an,Tt,eo,to,mn,Ja,hn,Hi,wc,zt,Cn,wn,tp,ni,zi],styles:[".line-clamp-3[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}"]});let e=n;return e})();var zr=To(Fo());var kv=To(Fo());function hY(e,n){if(e&1&&(c(0,"div",33)(1,"mat-icon",34),u(2,"error_outline"),l(),c(3,"span",35),u(4),l()()),e&2){let r=k();g(4),ne(r.errorMessage)}}var Pv=(()=>{let n=class n{constructor(t,i){this.dialogRef=t,this.data=i,this.startDate=null,this.endDate=null,this.errorMessage=""}ngOnInit(){var t,i;(t=this.data)!=null&&t.startDate&&(this.startDate=new Date(this.data.startDate)),(i=this.data)!=null&&i.endDate&&(this.endDate=new Date(this.data.endDate))}applyDateRange(){if(this.errorMessage="",!this.startDate||!this.endDate){this.errorMessage="Please select both start and end dates.";return}let t=(0,kv.default)(this.startDate),i=(0,kv.default)(this.endDate);if(!t.isValid()||!i.isValid()){this.errorMessage="Please enter valid dates.";return}if(i.isBefore(t)){this.errorMessage="End date must be on or after start date.";return}this.dialogRef.close({start:this.startDate,end:this.endDate})}onCancel(){this.dialogRef.close()}selectLast7Days(){let t=new Date,i=new Date;i.setDate(t.getDate()-6),this.startDate=i,this.endDate=t,this.errorMessage=""}selectLast30Days(){let t=new Date,i=new Date;i.setDate(t.getDate()-29),this.startDate=i,this.endDate=t,this.errorMessage=""}selectThisMonth(){let t=new Date,i=new Date(t.getFullYear(),t.getMonth(),1),a=new Date(t.getFullYear(),t.getMonth()+1,0);this.startDate=i,this.endDate=a,this.errorMessage=""}};n.\u0275fac=function(i){return new(i||n)(D(Mr),D(kr))},n.\u0275cmp=Fe({type:n,selectors:[["app-custom-date-range-dialog"]],decls:76,vars:5,consts:[[1,"custom-date-range-dialog"],[1,"mobile-header"],[1,"header-content"],[1,"header-title"],[1,"header-actions"],["mat-icon-button","","color","primary","matTooltip","Apply Range",1,"apply-btn",3,"click","disabled"],["mat-icon-button","","matTooltip","Close",1,"close-btn",3,"click"],[1,"mobile-content"],[1,"content-wrapper"],[1,"date-range-card"],[1,"card-header"],[1,"card-icon"],[1,"card-title"],[1,"date-inputs-container"],[1,"date-input-group"],[1,"input-label"],[1,"label-icon"],[1,"date-input-wrapper"],["type","date","aria-label","Start date",1,"date-input",3,"ngModelChange","ngModel"],[1,"input-icon"],[1,"date-separator"],[1,"separator-line"],[1,"separator-icon"],["type","date","aria-label","End date",1,"date-input",3,"ngModelChange","ngModel"],["class","error-card","role","alert",4,"ngIf"],[1,"quick-actions-card"],[1,"quick-buttons"],["mat-stroked-button","","aria-label","Select last 7 days",1,"quick-btn",3,"click"],["mat-stroked-button","","aria-label","Select last 30 days",1,"quick-btn",3,"click"],["mat-stroked-button","","aria-label","Select this month",1,"quick-btn",3,"click"],[1,"action-buttons"],["mat-button","","aria-label","Cancel date selection",1,"cancel-btn",3,"click"],["mat-raised-button","","color","primary","aria-label","Apply selected date range",1,"apply-range-btn",3,"click","disabled"],["role","alert",1,"error-card"],[1,"error-icon"],[1,"error-text"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),u(4,"Select Date Range"),l(),c(5,"div",4)(6,"button",5),H("click",function(){return a.applyDateRange()}),c(7,"mat-icon"),u(8,"check"),l()(),c(9,"button",6),H("click",function(){return a.onCancel()}),c(10,"mat-icon"),u(11,"close"),l()()()()(),c(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10)(16,"mat-icon",11),u(17,"calendar_today"),l(),c(18,"span",12),u(19,"Date Range"),l()(),c(20,"div",13)(21,"div",14)(22,"label",15)(23,"mat-icon",16),u(24,"event"),l(),c(25,"span"),u(26,"Start Date"),l()(),c(27,"div",17)(28,"input",18),kt("ngModelChange",function(s){return Mt(a.startDate,s)||(a.startDate=s),s}),l(),c(29,"mat-icon",19),u(30,"calendar_today"),l()()(),c(31,"div",20),de(32,"div",21),c(33,"mat-icon",22),u(34,"arrow_downward"),l(),de(35,"div",21),l(),c(36,"div",14)(37,"label",15)(38,"mat-icon",16),u(39,"event"),l(),c(40,"span"),u(41,"End Date"),l()(),c(42,"div",17)(43,"input",23),kt("ngModelChange",function(s){return Mt(a.endDate,s)||(a.endDate=s),s}),l(),c(44,"mat-icon",19),u(45,"calendar_today"),l()()()()(),G(46,hY,5,1,"div",24),c(47,"div",25)(48,"div",10)(49,"mat-icon",11),u(50,"flash_on"),l(),c(51,"span",12),u(52,"Quick Select"),l()(),c(53,"div",26)(54,"button",27),H("click",function(){return a.selectLast7Days()}),c(55,"mat-icon"),u(56,"today"),l(),c(57,"span"),u(58,"Last 7 days"),l()(),c(59,"button",28),H("click",function(){return a.selectLast30Days()}),c(60,"mat-icon"),u(61,"calendar_month"),l(),c(62,"span"),u(63,"Last 30 days"),l()(),c(64,"button",29),H("click",function(){return a.selectThisMonth()}),c(65,"mat-icon"),u(66,"date_range"),l(),c(67,"span"),u(68,"This month"),l()()()(),c(69,"div",30)(70,"button",31),H("click",function(){return a.onCancel()}),u(71," Cancel "),l(),c(72,"button",32),H("click",function(){return a.applyDateRange()}),c(73,"mat-icon"),u(74,"check"),l(),u(75," Apply Range "),l()()()()()),i&2&&(g(6),P("disabled",!a.startDate||!a.endDate),g(22),St("ngModel",a.startDate),g(15),St("ngModel",a.endDate),g(3),P("ngIf",a.errorMessage),g(26),P("disabled",!a.startDate||!a.endDate))},dependencies:[Tt,mn,hn,Hi,zt,Cn,wn,ni],styles:[".custom-date-range-dialog[_ngcontent-%COMP%]{width:100%;height:100vh;max-width:100vw;background:#f8fafc;display:flex;flex-direction:column;overflow:hidden}.mobile-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;background:#fff;border-bottom:1px solid #e2e8f0;box-shadow:0 1px 3px #0000001a;padding:12px 16px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1f2937;flex:1}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;background:#3b82f6;color:#fff;transition:all .2s ease}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb;transform:translateY(-1px);box-shadow:0 2px 8px #3b82f64d}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]:disabled{background:#9ca3af;color:#6b7280}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;color:#6b7280;transition:all .2s ease}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.mobile-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;background:#f8fafc}.mobile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:16px}.date-range-card[_ngcontent-%COMP%], .quick-actions-card[_ngcontent-%COMP%], .error-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:16px;border-bottom:1px solid #f3f4f6}.card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#3b82f6}.card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1f2937}.date-range-card[_ngcontent-%COMP%]   .date-inputs-container[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:20px}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;font-weight:500;color:#374151}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#3b82f6}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{width:100%;padding:12px 48px 12px 16px;border:1px solid #d1d5db;border-radius:8px;font-size:16px;color:#1f2937;background:#fff;transition:all .2s ease}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{opacity:0;position:absolute;right:0;top:0;width:100%;height:100%;cursor:pointer}.date-range-card[_ngcontent-%COMP%]   .date-input-group[_ngcontent-%COMP%]   .date-input-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;right:12px;color:#9ca3af;font-size:20px;width:20px;height:20px;pointer-events:none}.date-range-card[_ngcontent-%COMP%]   .date-separator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;margin:8px 0}.date-range-card[_ngcontent-%COMP%]   .date-separator[_ngcontent-%COMP%]   .separator-line[_ngcontent-%COMP%]{flex:1;height:1px;background:linear-gradient(90deg,transparent,#d1d5db,transparent);max-width:60px}.date-range-card[_ngcontent-%COMP%]   .date-separator[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#9ca3af;transform:rotate(90deg)}.error-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:16px;background:#fef2f2;border:1px solid #fecaca}.error-card[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#dc2626;flex-shrink:0;margin-top:2px}.error-card[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{font-size:14px;color:#dc2626;line-height:1.4;flex:1}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:12px}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;border:1px solid #d1d5db;border-radius:8px;background:#fff;color:#374151;font-size:14px;font-weight:500;transition:all .2s ease;text-align:left}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#3b82f6;color:#3b82f6;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6b7280}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:16px 0}.action-buttons[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{padding:12px 24px;border:1px solid #d1d5db;border-radius:8px;background:#fff;color:#6b7280;font-size:16px;font-weight:500;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#9ca3af;color:#374151}.action-buttons[_ngcontent-%COMP%]   .apply-range-btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;background:#3b82f6;color:#fff;font-size:16px;font-weight:500;display:flex;align-items:center;justify-content:center;gap:8px;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .apply-range-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb;transform:translateY(-1px);box-shadow:0 4px 12px #3b82f64d}.action-buttons[_ngcontent-%COMP%]   .apply-range-btn[_ngcontent-%COMP%]:disabled{background:#9ca3af;color:#6b7280}.action-buttons[_ngcontent-%COMP%]   .apply-range-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}@media (max-width: 480px){.mobile-header[_ngcontent-%COMP%]{padding:12px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:16px}.mobile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:12px;gap:12px}.date-range-card[_ngcontent-%COMP%]   .date-inputs-container[_ngcontent-%COMP%]{padding:12px;gap:16px}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]{padding:12px;gap:8px}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]{padding:10px 12px;font-size:13px}.quick-actions-card[_ngcontent-%COMP%]   .quick-buttons[_ngcontent-%COMP%]   .quick-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.action-buttons[_ngcontent-%COMP%]{gap:8px}.action-buttons[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .apply-range-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px}}@media (max-width: 360px){.mobile-header[_ngcontent-%COMP%]{padding:8px 12px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{gap:8px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:15px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{gap:4px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:36px;height:36px}.mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .mobile-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.mobile-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding:8px;gap:8px}.card-header[_ngcontent-%COMP%]{padding:12px}.card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:14px}}"]});let e=n;return e})();var Mg=(()=>{let n=class n{constructor(t,i){this.firestore=t,this.store=i,this.categories={},this.store.select(Er).subscribe(a=>{a.forEach(o=>{o.id&&(this.categories[o.id]=o)})})}getUserCategoriesCollection(t){return ao(this.firestore,`users/${t}/categories`)}getCategories(t){let i=this.getUserCategoriesCollection(t);return new In(a=>{hc(i).then(o=>{let s=[];o.forEach(d=>{let m=d.data(),f={id:d.id,name:m==null?void 0:m.name,type:m==null?void 0:m.type,icon:(m==null?void 0:m.icon)||"category",color:(m==null?void 0:m.color)||"#46777f",createdAt:m==null?void 0:m.createdAt,budget:(m==null?void 0:m.budget)||null};s.push(f)}),a.next(s),a.complete()}).catch(o=>{a.error(o)})})}createCategory(t,i,a,o,s){return new In(d=>{Uh(this.getUserCategoriesCollection(t),{name:i,type:a,icon:o,color:s,createdAt:Date.now()}).then(()=>{d.next(),d.complete()}).catch(m=>{d.error(m)})})}updateCategory(t,i,a,o,s,d,m){return new In(f=>{let _=pn(this.firestore,`users/${t}/categories/${i}`),v={name:a,type:o,icon:s,color:d};m&&(v.budget=m),Nr(_,v).then(()=>{f.next(),f.complete()}).catch(w=>{f.error(w)})})}deleteCategory(t,i){return new In(a=>{let o=pn(this.firestore,`users/${t}/categories/${i}`);oo(o).then(()=>{a.next(),a.complete()}).catch(s=>{a.error(s)})})}updateBudgetSpent(t,i,a){return new In(o=>{let s=pn(this.firestore,`users/${t}/categories/${i}`);ir(s).then(d=>{let m=d.data();if(d.exists()&&m&&typeof m.budget=="object"&&m.budget!==null&&m.budget.hasBudget){let f=m;f.budget?(f.budget.budgetSpent=(f.budget.budgetSpent||0)+a,f.budget.budgetRemaining=(f.budget.budgetAmount||0)-f.budget.budgetSpent,f.budget.budgetProgressPercentage=f.budget.budgetSpent/(f.budget.budgetAmount||0)*100,f.budget.budgetAlertEnabled=f.budget.budgetProgressPercentage>(f.budget.budgetAlertThreshold||0),Nr(s,{budget:f.budget}).then(()=>{o.next(),o.complete()}).catch(_=>{o.error(_)}),this.store.dispatch(Sa({userId:t}))):o.error(new Error("Category budget not found"))}else o.error(new Error("Category not found or has no budget"))}).catch(d=>{o.error(d)})})}getCategoryNameById(t){var i;return((i=this.categories[t])==null?void 0:i.name)||""}};n.\u0275fac=function(i){return new(i||n)(Ne(ro),Ne(qt))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function pY(e,n){if(e&1){let r=Ce();c(0,"div",27)(1,"div",28)(2,"mat-icon",29),u(3,"filter_alt"),l(),c(4,"span",30),u(5),l()(),c(6,"div",31)(7,"mat-icon",32),H("click",function(){q(r);let i=k(2);return K(i.quickClearFilters())}),u(8,"clear"),l()()()}if(e&2){let r=k(2);g(5),xi("",r.getActiveFiltersCount()," Filter",r.getActiveFiltersCount()>1?"s":""," Active")}}function fY(e,n){if(e&1){let r=Ce();c(0,"button",33),H("click",function(){q(r);let i=k(2);return K(i.onSearchChange(""))}),c(1,"mat-icon"),u(2,"close"),l()()}}function gY(e,n){e&1&&(c(0,"mat-icon",34),u(1,"check"),l())}function _Y(e,n){if(e&1){let r=Ce();c(0,"button",23),H("click",function(){let i=q(r).$implicit,a=k(2);return K(a.onSortChange(i.value))}),c(1,"mat-icon"),u(2),l(),c(3,"span"),u(4),l(),G(5,gY,2,0,"mat-icon",24),l()}if(e&2){let r=n.$implicit,t=k(2);Be("active-menu-item",t.selectedSort===r.value),g(2),ne(r.icon),g(2),ne(r.label),g(),P("ngIf",t.selectedSort===r.value)}}function xY(e,n){e&1&&(c(0,"mat-icon",34),u(1,"check"),l())}function vY(e,n){e&1&&(c(0,"mat-icon",34),u(1,"check"),l())}function bY(e,n){e&1&&(c(0,"mat-icon",34),u(1,"check"),l())}function yY(e,n){e&1&&(c(0,"mat-icon",34),u(1,"check"),l())}function CY(e,n){e&1&&(c(0,"mat-icon",34),u(1,"check"),l())}function wY(e,n){if(e&1){let r=Ce();c(0,"button",23),H("click",function(){let i=q(r).$implicit,a=k(2);return K(a.onCategoryChange(i))}),c(1,"mat-icon"),u(2),l(),c(3,"span"),u(4),l(),G(5,CY,2,0,"mat-icon",24),l()}if(e&2){let r=n.$implicit,t=k(2);Be("active-menu-item",t.isCategorySelected(r)),g(2),ne(t.getCategoryIcon(r)),g(2),ne(r),g(),P("ngIf",t.isCategorySelected(r))}}function SY(e,n){e&1&&(c(0,"mat-icon",34),u(1,"check"),l())}function MY(e,n){e&1&&(c(0,"mat-icon",34),u(1,"check"),l())}function kY(e,n){e&1&&(c(0,"mat-icon",34),u(1,"check"),l())}function PY(e,n){e&1&&(c(0,"mat-icon",34),u(1,"check"),l())}function EY(e,n){e&1&&(c(0,"mat-icon",34),u(1,"check"),l())}function TY(e,n){if(e&1){let r=Ce();c(0,"div",11),G(1,pY,9,2,"div",12),c(2,"div",13)(3,"div",14)(4,"mat-icon",15),u(5,"search"),l(),c(6,"input",16),H("ngModelChange",function(i){q(r);let a=k();return K(a.onSearchChange(i))}),l(),G(7,fY,3,0,"button",17),l()(),c(8,"div",18)(9,"button",19),H("click",function(){q(r);let i=k();return K(i.openImportDialog())}),c(10,"mat-icon"),u(11,"upload_file"),l()(),c(12,"button",20)(13,"mat-icon"),u(14,"sort"),l()(),c(15,"mat-menu",21,0),G(17,_Y,6,5,"button",22),l(),c(18,"button",20)(19,"mat-icon"),u(20,"account_balance_wallet"),l()(),c(21,"mat-menu",21,1)(23,"button",23),H("click",function(){q(r);let i=k();return K(i.onTypeChange("all"))}),c(24,"mat-icon"),u(25,"list"),l(),c(26,"span"),u(27,"All Types"),l(),G(28,xY,2,0,"mat-icon",24),l(),c(29,"button",23),H("click",function(){q(r);let i=k();return K(i.onTypeChange("income"))}),c(30,"mat-icon",25),u(31,"trending_up"),l(),c(32,"span"),u(33,"Income"),l(),G(34,vY,2,0,"mat-icon",24),l(),c(35,"button",23),H("click",function(){q(r);let i=k();return K(i.onTypeChange("expense"))}),c(36,"mat-icon",26),u(37,"trending_down"),l(),c(38,"span"),u(39,"Expense"),l(),G(40,bY,2,0,"mat-icon",24),l()(),c(41,"button",20)(42,"mat-icon"),u(43,"category"),l()(),c(44,"mat-menu",21,2)(46,"button",23),H("click",function(){q(r);let i=k();return K(i.onCategoryChange("all"))}),c(47,"mat-icon"),u(48,"list"),l(),c(49,"span"),u(50,"All Categories"),l(),G(51,yY,2,0,"mat-icon",24),l(),de(52,"mat-divider"),G(53,wY,6,5,"button",22),l(),c(54,"button",20)(55,"mat-icon"),u(56,"calendar_today"),l()(),c(57,"mat-menu",21,3)(59,"button",23),H("click",function(){q(r);let i=k();return K(i.onDateRangeChange(null))}),c(60,"mat-icon"),u(61,"all_inclusive"),l(),c(62,"span"),u(63,"All Time"),l(),G(64,SY,2,0,"mat-icon",24),l(),c(65,"button",23),H("click",function(){q(r);let i=k();return K(i.onDateRangeChange("currentMonth"))}),c(66,"mat-icon"),u(67,"calendar_month"),l(),c(68,"span"),u(69,"This Month"),l(),G(70,MY,2,0,"mat-icon",24),l(),c(71,"button",23),H("click",function(){q(r);let i=k();return K(i.onDateRangeChange("lastMonth"))}),c(72,"mat-icon"),u(73,"calendar_view_month"),l(),c(74,"span"),u(75,"Last Month"),l(),G(76,kY,2,0,"mat-icon",24),l(),c(77,"button",23),H("click",function(){q(r);let i=k();return K(i.onDateRangeChange("currentYear"))}),c(78,"mat-icon"),u(79,"calendar_today"),l(),c(80,"span"),u(81,"This Year"),l(),G(82,PY,2,0,"mat-icon",24),l(),de(83,"mat-divider"),c(84,"button",23),H("click",function(){q(r);let i=k();return K(i.openCustomDateRangeDialog())}),c(85,"mat-icon"),u(86,"date_range"),l(),c(87,"span"),u(88,"Custom Range"),l(),G(89,EY,2,0,"mat-icon",24),l()()()()}if(e&2){let r=qn(16),t=qn(22),i=qn(45),a=qn(58),o=k();g(),P("ngIf",o.hasActiveFilters()),g(5),P("ngModel",o.searchTerm),g(),P("ngIf",o.searchTerm),g(5),Ao("matTooltip",o.getCurrentSortLabel()),P("matMenuTriggerFor",r),g(5),P("ngForOf",o.sortOptions),g(),Ao("matTooltip",o.getCurrentTypeLabel()),P("matMenuTriggerFor",t),g(5),Be("active-menu-item",o.selectedType==="all"),g(5),P("ngIf",o.selectedType==="all"),g(),Be("active-menu-item",o.selectedType==="income"),g(5),P("ngIf",o.selectedType==="income"),g(),Be("active-menu-item",o.selectedType==="expense"),g(5),P("ngIf",o.selectedType==="expense"),g(),Ao("matTooltip",o.getCurrentCategoryLabel()),P("matMenuTriggerFor",i),g(5),Be("active-menu-item",o.selectedCategory.includes("all")),g(5),P("ngIf",o.selectedCategory.includes("all")),g(2),P("ngForOf",o.getCategoriesList()),g(),Ao("matTooltip",o.getCurrentDateLabel()),P("matMenuTriggerFor",a),g(5),Be("active-menu-item",o.selectedDateRange===null),g(5),P("ngIf",o.selectedDateRange===null),g(),Be("active-menu-item",o.isCurrentMonth()),g(5),P("ngIf",o.isCurrentMonth()),g(),Be("active-menu-item",o.isLastMonth()),g(5),P("ngIf",o.isLastMonth()),g(),Be("active-menu-item",o.isCurrentYear()),g(5),P("ngIf",o.isCurrentYear()),g(2),Be("active-menu-item",o.isCustomDateRange()),g(5),P("ngIf",o.isCustomDateRange())}}function OY(e,n){if(e&1&&(c(0,"div",35)(1,"div",36)(2,"div",37)(3,"span",38),u(4),l(),c(5,"span",39),u(6),l()(),c(7,"div",37)(8,"span",40),u(9),Ee(10,"number"),l()(),c(11,"div",37)(12,"span",41),u(13),Ee(14,"number"),l()()()()),e&2){let r=k();g(4),ne(r.getFilteredCount()),g(2),he("/ ",r.getTotalCount(),""),g(3),he("+\u20B9",Xt(10,4,r.getTotalIncome(),"1.0-0"),""),g(4),he("-\u20B9",Xt(14,7,r.getTotalExpenses(),"1.0-0"),"")}}function IY(e,n){if(e&1){let r=Ce();c(0,"button",48),H("click",function(){q(r);let i=k(2);return K(i.onAddTransaction())}),c(1,"mat-icon"),u(2,"add"),l(),c(3,"span",49),u(4,"Add First Transaction"),l()()}}function AY(e,n){if(e&1){let r=Ce();c(0,"button",50),H("click",function(){q(r);let i=k(2);return K(i.clearAllFilters())}),c(1,"mat-icon"),u(2,"clear"),l(),c(3,"span",49),u(4,"Clear Filters"),l()()}}function DY(e,n){if(e&1&&(c(0,"div",42)(1,"div",43)(2,"mat-icon"),u(3,"receipt_long"),l()(),c(4,"h3",44),u(5,"No transactions found"),l(),c(6,"p",45),u(7),l(),G(8,IY,5,0,"button",46)(9,AY,5,0,"button",47),l()),e&2){let r=k();g(7),he(" ",r.transactions.length===0?"Start by adding your first transaction":"No transactions match your current filters. Try adjusting your search or filters."," "),g(),P("ngIf",r.transactions.length===0),g(),P("ngIf",r.transactions.length>0&&r.hasActiveFilters())}}function FY(e,n){if(e&1&&(c(0,"div",64),u(1),l()),e&2){let r=k().$implicit;g(),he(" ",r.notes," ")}}function RY(e,n){if(e&1){let r=Ce();c(0,"div",65)(1,"div",66)(2,"button",67),H("click",function(){q(r);let i=k().$implicit,a=k();return K(a.onEditTransaction(i))}),c(3,"mat-icon"),u(4,"edit"),l()(),c(5,"button",68),H("click",function(){q(r);let i=k().$implicit,a=k();return K(a.onDeleteTransaction(i))}),c(6,"mat-icon"),u(7,"delete"),l()()()()}}function NY(e,n){if(e&1&&(c(0,"span",81),u(1),l()),e&2){let r=k(2).$implicit,t=k();g(),he("(",t.getAccountType(r.accountId),")")}}function LY(e,n){if(e&1&&(c(0,"div",71)(1,"div",72)(2,"mat-icon",73),u(3,"fingerprint"),l(),c(4,"span"),u(5,"Transaction ID"),l()(),c(6,"div",74)(7,"span",82),u(8),l()()()),e&2){let r=k(2).$implicit;g(8),ne(r.id)}}function VY(e,n){if(e&1&&(c(0,"div",71)(1,"div",72)(2,"mat-icon",73),u(3,"repeat"),l(),c(4,"span"),u(5,"Recurring"),l()(),c(6,"div",74)(7,"span",83),u(8),l()()()),e&2){let r=k(2).$implicit,t=k();g(8),ne(t.getRecurringInfo(r))}}function BY(e,n){if(e&1&&(c(0,"div",71)(1,"div",72)(2,"mat-icon",73),u(3,"note"),l(),c(4,"span"),u(5,"Notes"),l()(),c(6,"div",74)(7,"span",84),u(8),l()()()),e&2){let r=k(2).$implicit;g(8),ne(r.notes)}}function jY(e,n){if(e&1&&(c(0,"div",71)(1,"div",72)(2,"mat-icon",73),u(3,"payment"),l(),c(4,"span"),u(5,"Payment Method"),l()(),c(6,"div",74)(7,"span",85),u(8),l()()()),e&2){let r=k(2).$implicit;g(8),ne(r.paymentMethod)}}function UY(e,n){if(e&1&&(c(0,"div",71)(1,"div",72)(2,"mat-icon",73),u(3,"payment"),l(),c(4,"span"),u(5,"Tax Amount"),l()(),de(6,"div",74),c(7,"span",86),u(8),Ee(9,"number"),l()()),e&2){let r=k(2).$implicit;g(8),ne(Xt(9,1,r.taxAmount,"1.0-0"))}}function zY(e,n){if(e&1&&(c(0,"div",71)(1,"div",72)(2,"mat-icon",73),u(3,"payment"),l(),c(4,"span"),u(5,"Tax Percentage"),l()(),c(6,"div",74)(7,"span",87),u(8),l()()()),e&2){let r=k(2).$implicit;g(8),he("",r.taxPercentage,"%")}}function HY(e,n){if(e&1&&(c(0,"div",69)(1,"div",70)(2,"div",71)(3,"div",72)(4,"mat-icon",73),u(5,"account_balance"),l(),c(6,"span"),u(7,"Account"),l()(),c(8,"div",74)(9,"span",75),u(10),l(),G(11,NY,2,1,"span",76),l()(),G(12,LY,9,1,"div",77)(13,VY,9,1,"div",77),c(14,"div",71)(15,"div",72)(16,"mat-icon",73),u(17),l(),c(18,"span"),u(19,"Status"),l()(),c(20,"div",74)(21,"span",78),u(22),l()()(),c(23,"div",71)(24,"div",72)(25,"mat-icon",73),u(26,"schedule"),l(),c(27,"span"),u(28,"Created Date"),l()(),c(29,"div",74)(30,"span",79),u(31),Ee(32,"date"),l()()(),c(33,"div",71)(34,"div",72)(35,"mat-icon",73),u(36,"schedule"),l(),c(37,"span"),u(38,"Created Time"),l()(),c(39,"div",74)(40,"span",80),u(41),Ee(42,"date"),l()()(),G(43,BY,9,1,"div",77)(44,jY,9,1,"div",77)(45,UY,10,4,"div",77),l(),G(46,zY,9,1,"div",77),l()),e&2){let r=k().$implicit,t=k();g(10),ne(t.getAccountName(r.accountId)),g(),P("ngIf",t.getAccountType(r.accountId)),g(),P("ngIf",r.id),g(),P("ngIf",r.isRecurring),g(3),Yt("color",t.getSyncStatusColor(r)),g(),ne(t.getSyncStatusIcon(r)),g(4),Yt("color",t.getSyncStatusColor(r)),g(),ne(t.getSyncStatusInfo(r)),g(9),ne(Xt(32,16,t.dateService.toDate(r.date),"fullDate")),g(10),ne(Xt(42,19,t.dateService.toDate(r.date),"shortTime")),g(2),P("ngIf",r.notes&&r.notes.trim()),g(),P("ngIf",r.paymentMethod),g(),P("ngIf",r.taxAmount),g(),P("ngIf",r.taxPercentage)}}function GY(e,n){if(e&1){let r=Ce();c(0,"div",51),H("click",function(){let i=q(r).$implicit,a=k();return K(a.onLongPress(i))}),c(1,"div",52)(2,"div",53)(3,"div",54)(4,"mat-icon"),u(5),l()()(),c(6,"div",55)(7,"div",56),u(8),Ee(9,"titlecase"),l(),c(10,"div",57),u(11),Ee(12,"date"),l(),G(13,FY,2,1,"div",58),l(),c(14,"div",59)(15,"div",60),u(16),Ee(17,"number"),l(),c(18,"div",61),u(19),l()()(),G(20,RY,8,0,"div",62)(21,HY,47,22,"div",63),l()}if(e&2){let r=n.$implicit,t=k();Be("selected",(t.selectedTx==null?null:t.selectedTx.id)===r.id),g(4),Yt("color",t.getCategoryColor(r.category)),g(),he(" ",t.getCategoryIcon(r.category)," "),g(3),he(" ",$e(9,14,r.payee)," "),g(3),he(" ",Xt(12,16,t.dateService.toDate(r.date),"dd MMM - hh:mm")," "),g(2),P("ngIf",r.notes),g(2),P("ngClass",r.type==="income"?"income-text":"expense-text"),g(),xi(" ",r.type==="income"?"+":"-","\u20B9",Xt(17,19,r.amount,"1.0-0")," "),g(3),he(" ",t.getCategoryName(r.categoryId)," "),g(),P("ngIf",(t.selectedTx==null?null:t.selectedTx.id)===r.id),g(),P("ngIf",(t.selectedTx==null?null:t.selectedTx.id)===r.id)}}var yE=(()=>{let n=class n{constructor(t,i,a,o,s,d,m){this.auth=t,this.route=i,this.dialog=a,this.dateService=o,this.store=s,this.filterService=d,this.categoryService=m,this.transactions=[],this.searchTerm="",this.selectedCategory=["all"],this.selectedType="all",this.selectedDate=null,this.selectedDateRange=null,this.editTransaction=new He,this.deleteTransaction=new He,this.addTransaction=new He,this.importTransactions=new He,this.searchTermChange=new He,this.selectedCategoryChange=new He,this.selectedTypeChange=new He,this.selectedDateRangeChange=new He,this.selectedTx=null,this.filteredTransactions=[],this.selectedSort="date-desc",this.showFilters=!1,this.accounts=[],this.sortOptions=[{value:"date-desc",label:"Newest First",icon:"schedule"},{value:"date-asc",label:"Oldest First",icon:"schedule"},{value:"amount-desc",label:"Highest Amount",icon:"trending_up"},{value:"amount-asc",label:"Lowest Amount",icon:"trending_down"},{value:"payee-asc",label:"Payee A-Z",icon:"sort_by_alpha"},{value:"category-asc",label:"Category A-Z",icon:"category"}],this.subscription=new fn,this.destroy$=new bt,this.categories=[]}ngOnInit(){this.filterTransactions(),this.loadUserCategories(),this.loadUserAccounts(),this.route.url.includes("transactions")&&(this.showFilters=!0),this.subscription.add(this.filterService.categoryFilter$.subscribe(t=>{if(t){this.selectedCategory=[t.categoryName];let i=new Date(t.year,t.month,1),a=new Date(t.year,t.month+1,0);this.selectedDateRange={startDate:i,endDate:a},this.filterTransactions(),this.selectedCategoryChange.emit(this.selectedCategory),this.selectedDateRangeChange.emit({startDate:i,endDate:a})}}))}ngOnDestroy(){this.subscription.unsubscribe()}ngOnChanges(t){this.filterTransactions()}filterTransactions(){let t=this.filterService.filterTransactionsWithCustomFilters(this.transactions,{searchTerm:this.searchTerm,selectedCategory:this.selectedCategory,selectedType:this.selectedType,selectedDate:this.selectedDate,selectedDateRange:this.selectedDateRange}),i=this.filterService.sortTransactions(t,this.selectedSort);this.filteredTransactions=i}onSearchChange(t){this.searchTerm=t,this.searchTermChange.emit(t),this.filterTransactions()}onSortChange(t){this.selectedSort=t,this.filterTransactions()}onTypeChange(t){this.selectedType=t,this.selectedTypeChange.emit(t),this.filterTransactions()}onCategoryChange(t){t==="all"?this.selectedCategory=["all"]:(this.selectedCategory=this.selectedCategory.filter(i=>i!=="all"),this.selectedCategory.includes(t)?(this.selectedCategory=this.selectedCategory.filter(i=>i!==t),this.selectedCategory.length===0&&(this.selectedCategory=["all"])):this.selectedCategory.push(t)),this.selectedCategoryChange.emit(this.selectedCategory),this.filterTransactions()}onDateRangeChange(t){if(!t)this.selectedDateRange=null;else switch(t){case"currentMonth":this.selectedDateRange={startDate:(0,zr.default)().startOf("month").toDate(),endDate:(0,zr.default)().endOf("month").toDate()};break;case"lastMonth":this.selectedDateRange={startDate:(0,zr.default)().subtract(1,"month").startOf("month").toDate(),endDate:(0,zr.default)().subtract(1,"month").endOf("month").toDate()};break;case"currentYear":this.selectedDateRange={startDate:(0,zr.default)().startOf("year").toDate(),endDate:(0,zr.default)().endOf("year").toDate()};break}this.selectedDateRangeChange.emit(this.selectedDateRange),this.filterTransactions()}isCurrentMonth(){if(!this.selectedDateRange)return!1;let t=(0,zr.default)(),i=(0,zr.default)(this.selectedDateRange.startDate),a=(0,zr.default)(this.selectedDateRange.endDate);return i.isSame(t.startOf("month"))&&a.isSame(t.endOf("month"))}isLastMonth(){if(!this.selectedDateRange)return!1;let i=(0,zr.default)().subtract(1,"month"),a=(0,zr.default)(this.selectedDateRange.startDate),o=(0,zr.default)(this.selectedDateRange.endDate);return a.isSame(i.startOf("month"))&&o.isSame(i.endOf("month"))}isCurrentYear(){if(!this.selectedDateRange)return!1;let t=(0,zr.default)(),i=(0,zr.default)(this.selectedDateRange.startDate),a=(0,zr.default)(this.selectedDateRange.endDate);return i.isSame(t.startOf("year"))&&a.isSame(t.endOf("year"))}hasActiveFilters(){return!!(this.searchTerm||!this.selectedCategory.includes("all")||this.selectedType!=="all"||this.selectedDate||this.selectedDateRange)}getCurrentSortLabel(){let t=this.sortOptions.find(i=>i.value===this.selectedSort);return t?t.label:"Sort"}getCurrentTypeLabel(){switch(this.selectedType){case"all":return"All Types";case"income":return"Income";case"expense":return"Expense";default:return"All Types"}}getCurrentCategoryLabel(){return this.selectedCategory.includes("all")?"All Categories":this.selectedCategory.length===1?this.selectedCategory[0]:`${this.selectedCategory.length} Categories`}getCurrentDateLabel(){return this.selectedDateRange?this.isCurrentMonth()?"This Month":this.isLastMonth()?"Last Month":this.isCurrentYear()?"This Year":"Custom Range":"All Time"}onLongPress(t){var i;this.selectedTx=((i=this.selectedTx)==null?void 0:i.id)===t.id?null:t}onEditTransaction(t){this.editTransaction.emit(t),this.selectedTx=null}onDeleteTransaction(t){this.dialog.open(Ds,{width:"300px",data:{title:"Delete Transaction",message:"Are you sure you want to delete this transaction?",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(i=>{i&&this.deleteTransaction.emit(t)}),this.selectedTx=null}onAddTransaction(){this.addTransaction.emit()}onImportTransactions(){this.importTransactions.emit()}getTotalIncome(){return this.filteredTransactions.filter(t=>t.type==="income").reduce((t,i)=>t+i.amount,0)}getTotalExpenses(){return this.filteredTransactions.filter(t=>t.type==="expense").reduce((t,i)=>t+i.amount,0)}getNetAmount(){return this.getTotalIncome()-this.getTotalExpenses()}getCategoriesList(){let t=new Set(this.transactions.map(i=>i.category));return Array.from(t).sort()}getFilteredCount(){return this.filteredTransactions.length}getTotalCount(){return this.transactions.length}getCurrentYear(){return(0,zr.default)().year()}getCategoryIcon(t){var i;return((i=this.categories.find(a=>a.name===t))==null?void 0:i.icon)||"category"}getCategoryColor(t){var i;return((i=this.categories.find(a=>a.name===t))==null?void 0:i.color)||"#46777f"}loadUserCategories(){return ge(this,null,function*(){var t;(t=this.auth.currentUser)!=null&&t.uid&&this.subscription.add(this.store.select(Er).subscribe(i=>{this.categories=i},i=>{console.error("Error loading categories:",i)}))})}loadUserAccounts(){return ge(this,null,function*(){var t;(t=this.auth.currentUser)!=null&&t.uid&&this.subscription.add(this.store.select(uo).subscribe(i=>{this.accounts=i},i=>{console.error("Error loading accounts:",i)}))})}getAccountName(t){let i=this.accounts.find(a=>a.accountId===t);return i?i.name:"Unknown Account"}getAccountType(t){let i=this.accounts.find(a=>a.accountId===t);return i?i.type:""}getRecurringInfo(t){return t.isRecurring?`Recurring (${t.recurringInterval||Os.MONTHLY})`:""}getSyncStatusInfo(t){return t.isPending?"Pending":t.syncStatus==="failed"?"Sync Failed":t.syncStatus==="pending"?"Syncing...":"Synced"}getSyncStatusIcon(t){return t.isPending?"schedule":t.syncStatus==="failed"?"error":t.syncStatus==="pending"?"sync":"check_circle"}getSyncStatusColor(t){return t.isPending?"#ff9800":t.syncStatus==="failed"?"#f44336":t.syncStatus==="pending"?"#46777f":"#4caf50"}clearAllFilters(){this.dialog.open(Ds,{width:"300px",data:{title:"Clear Filters",message:"Are you sure you want to clear all filters?",confirmText:"Clear",cancelText:"Cancel"}}).afterClosed().subscribe(i=>{i&&this.performClearAllFilters()})}performClearAllFilters(){this.searchTerm="",this.selectedCategory=["all"],this.selectedType="all",this.selectedDate=null,this.selectedDateRange=null,this.selectedSort="date-desc",this.searchTermChange.emit(""),this.selectedCategoryChange.emit(["all"]),this.selectedTypeChange.emit("all"),this.selectedDateRangeChange.emit(null),this.filterTransactions()}quickClearFilters(){this.performClearAllFilters()}getActiveFiltersCount(){let t=0;return this.searchTerm&&t++,this.selectedCategory.includes("all")||t++,this.selectedType!=="all"&&t++,this.selectedDate&&t++,this.selectedDateRange&&t++,t}isCategorySelected(t){return this.selectedCategory.includes(t)}isCustomDateRange(){return this.selectedDateRange?!this.isCurrentMonth()&&!this.isLastMonth()&&!this.isCurrentYear():!1}openCustomDateRangeDialog(){var a,o;let t={startDate:(a=this.selectedDateRange)==null?void 0:a.startDate,endDate:(o=this.selectedDateRange)==null?void 0:o.endDate};this.dialog.open(Pv,{width:"400px",data:t,disableClose:!1}).afterClosed().subscribe(s=>{s&&(this.selectedDateRange={startDate:s.startDate,endDate:s.endDate},this.selectedDateRangeChange.emit(this.selectedDateRange),this.filterTransactions())})}openImportDialog(){this.importTransactions.emit()}getCategoryName(t){return this.categoryService.getCategoryNameById(t)}};n.\u0275fac=function(i){return new(i||n)(D(Ut),D(Sn),D(ar),D(Mn),D(qt),D(Fc),D(Mg))},n.\u0275cmp=Fe({type:n,selectors:[["mobile-transaction-list"]],inputs:{transactions:"transactions",searchTerm:"searchTerm",selectedCategory:"selectedCategory",selectedType:"selectedType",selectedDate:"selectedDate",selectedDateRange:"selectedDateRange"},outputs:{editTransaction:"editTransaction",deleteTransaction:"deleteTransaction",addTransaction:"addTransaction",importTransactions:"importTransactions",searchTermChange:"searchTermChange",selectedCategoryChange:"selectedCategoryChange",selectedTypeChange:"selectedTypeChange",selectedDateRangeChange:"selectedDateRangeChange"},features:[ti],decls:7,vars:4,consts:[["sortMenu","matMenu"],["typeMenu","matMenu"],["categoryMenu","matMenu"],["dateMenu","matMenu"],[1,"mobile-transaction-container"],["class","mobile-filter-header",4,"ngIf"],["class","transaction-summary",4,"ngIf"],[1,"transaction-list-container"],[1,"transaction-scroll"],["class","empty-state",4,"ngIf"],["class","transaction-card",3,"selected","click",4,"ngFor","ngForOf"],[1,"mobile-filter-header"],["class","active-filters-indicator flex justify-between items-center",4,"ngIf"],[1,"search-container"],[1,"search-input-wrapper"],[1,"search-icon"],["type","text","placeholder","Search transactions...",1,"search-input",3,"ngModelChange","ngModel"],["mat-icon-button","","class","clear-search-btn",3,"click",4,"ngIf"],[1,"filter-menu-container"],["mat-icon-button","","matTooltip","Import transactions",1,"filter-menu-btn","import-btn",3,"click"],["mat-icon-button","",1,"filter-menu-btn",3,"matMenuTriggerFor","matTooltip"],[1,"filter-menu"],["mat-menu-item","",3,"active-menu-item","click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],["class","check-icon",4,"ngIf"],[1,"income-icon"],[1,"expense-icon"],[1,"active-filters-indicator","flex","justify-between","items-center"],[1,"filter-icon-container"],[1,"filter-icon"],[1,"filter-text"],[1,""],[1,"text-black","relative","top-1","!text-blue-700","text-sm",3,"click"],["mat-icon-button","",1,"clear-search-btn",3,"click"],[1,"check-icon"],[1,"transaction-summary"],[1,"summary-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-total"],[1,"stat-value","income"],[1,"stat-value","expense"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-title","text-base"],[1,"empty-description","text-base"],["mat-raised-button","","color","primary","class","add-first-btn",3,"click",4,"ngIf"],["mat-stroked-button","","class","clear-filters-btn-large",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",1,"add-first-btn",3,"click"],[1,"text-base"],["mat-stroked-button","",1,"clear-filters-btn-large",3,"click"],[1,"transaction-card",3,"click"],[1,"transaction-main"],[1,"transaction-icon"],[1,"icon-container"],[1,"transaction-details"],[1,"transaction-title","text-base"],[1,"transaction-date","text-base"],["class","transaction-notes text-base",4,"ngIf"],[1,"transaction-amount"],[1,"amount-value","text-base",3,"ngClass"],[1,"amount-type","text-base"],["class","transaction-actions",4,"ngIf"],["class","transaction-details-expanded",4,"ngIf"],[1,"transaction-notes","text-base"],[1,"transaction-actions"],[1,"actions-container"],["mat-icon-button","","matTooltip","Edit transaction",1,"action-button","edit-btn",3,"click"],["mat-icon-button","","matTooltip","Delete transaction",1,"action-button","delete-btn",3,"click"],[1,"transaction-details-expanded"],[1,"details-container"],[1,"detail-row"],[1,"detail-label"],[1,"detail-icon"],[1,"detail-value"],[1,"account-name"],["class","account-type",4,"ngIf"],["class","detail-row",4,"ngIf"],[1,"sync-status"],[1,"created-date"],[1,"created-time"],[1,"account-type"],[1,"transaction-id"],[1,"recurring-info"],[1,"transaction-notes"],[1,"payment-method"],[1,"tax-amount"],[1,"tax-percentage"]],template:function(i,a){i&1&&(c(0,"div",4),G(1,TY,90,40,"div",5)(2,OY,15,10,"div",6),c(3,"div",7)(4,"div",8),G(5,DY,10,3,"div",9)(6,GY,22,22,"div",10),l()()()),i&2&&(g(),P("ngIf",a.showFilters),g(),P("ngIf",a.showFilters&&a.filteredTransactions.length>0),g(3),P("ngIf",!a.filteredTransactions.length),g(),P("ngForOf",a.filteredTransactions))},dependencies:[qo,an,Tt,mn,hn,Hi,np,zt,Cn,wn,bc,vc,yc,ni,hd,Ko,zi],styles:[".mobile-transaction-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;background:#f8fafc;position:relative}.mobile-filter-header[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e2e8f0;padding:12px;box-shadow:0 1px 3px #0000001a;z-index:10}.active-filters-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 12px;background:#eff6ff;border:1px solid #bfdbfe;border-radius:8px;margin-bottom:8px;animation:_ngcontent-%COMP%_fadeIn .3s ease}.active-filters-indicator[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{color:#2563eb;font-size:16px;width:16px;height:16px}.active-filters-indicator[_ngcontent-%COMP%]   .filter-text[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#2563eb}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.search-container[_ngcontent-%COMP%]{margin-bottom:12px}.search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:0 12px;transition:all .2s ease}.search-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#3b82f6;background:#fff;box-shadow:0 0 0 3px #3b82f61a}.search-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:20px;width:20px;height:20px;margin-right:8px}.search-input[_ngcontent-%COMP%]{flex:1;border:none;background:transparent;padding:12px 0;font-size:16px;color:#1f2937;outline:none}.search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.clear-search-btn[_ngcontent-%COMP%]{color:#9ca3af;width:32px;height:32px;margin-left:8px}.clear-search-btn[_ngcontent-%COMP%]:hover{color:#6b7280;background:#f3f4f6}.filter-menu-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.filter-menu-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;border:1px solid #e2e8f0;background:#fff;color:#374151;transition:all .2s ease;flex-shrink:0}.filter-menu-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#cbd5e1;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.filter-menu-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 1px 2px #0000001a}.filter-menu-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.filter-menu-btn.import-btn[_ngcontent-%COMP%]{background:#f0f9ff;border-color:#0ea5e9;color:#0ea5e9}.filter-menu-btn.import-btn[_ngcontent-%COMP%]:hover{background:#e0f2fe;border-color:#0284c7;color:#0284c7;transform:translateY(-1px);box-shadow:0 2px 4px #0ea5e933}.filter-menu-btn.import-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 1px 2px #0ea5e91a}.clear-filters-btn[_ngcontent-%COMP%]{color:#ef4444;width:40px;height:40px;border-radius:8px;background:#fef2f2;border:1px solid #fecaca;flex-shrink:0}.clear-filters-btn[_ngcontent-%COMP%]:hover{background:#fee2e2;border-color:#fca5a5;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.clear-filters-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 1px 2px #0000001a}.clear-filters-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.filter-menu[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]{padding:0}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;font-size:14px;color:#374151;transition:all .2s ease}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item.active-menu-item[_ngcontent-%COMP%]{background:#eff6ff;color:#1d4ed8}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item.active-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1d4ed8}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6b7280}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon.income-icon[_ngcontent-%COMP%]{color:#10b981}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon.expense-icon[_ngcontent-%COMP%]{color:#ef4444}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon.check-icon[_ngcontent-%COMP%]{margin-left:auto;color:#1d4ed8}.filter-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.filter-menu[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin:4px 0}.transaction-summary[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e2e8f0;padding:8px 12px}.summary-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;flex:1;justify-content:center}.stat-value[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1f2937}.stat-value.income[_ngcontent-%COMP%]{color:#10b981}.stat-value.expense[_ngcontent-%COMP%]{color:#ef4444}.stat-total[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af;font-weight:400}.transaction-list-container[_ngcontent-%COMP%]{flex:1;overflow:hidden;position:relative}.transaction-scroll[_ngcontent-%COMP%]{height:100%;padding:12px;overflow-y:auto;max-height:60vh}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#6b7280}.empty-icon[_ngcontent-%COMP%]{margin-bottom:16px}.empty-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#d1d5db}.empty-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#374151;margin-bottom:8px}.empty-description[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin-bottom:24px;line-height:1.5}.add-first-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;border-radius:8px;font-weight:500}.clear-filters-btn-large[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;border-radius:8px;font-weight:500;color:#ef4444;border-color:#fecaca;background:#fef2f2}.clear-filters-btn-large[_ngcontent-%COMP%]:hover{background:#fee2e2;border-color:#fca5a5}.transaction-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;margin-bottom:10px;border:1px solid #e5e7eb;overflow:hidden;transition:all .2s ease;cursor:pointer}.transaction-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.transaction-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.transaction-main[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;gap:12px}.transaction-icon[_ngcontent-%COMP%]{flex-shrink:0}.icon-container[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.icon-container.income-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0)}.icon-container.expense-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fee2e2,#fecaca)}.income-icon[_ngcontent-%COMP%]{color:#059669;font-size:22px;width:22px;height:22px}.expense-icon[_ngcontent-%COMP%]{color:#dc2626;font-size:22px;width:22px;height:22px}.transaction-details[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:2px}.transaction-title[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;line-height:1.3;font-size:.9rem;margin:0}.transaction-category[_ngcontent-%COMP%]{font-size:.9rem;color:#6b7280;font-weight:500;margin:0}.transaction-date[_ngcontent-%COMP%]{font-size:.9rem;color:#9ca3af;display:flex;align-items:center;gap:4px;margin:0}.time-separator[_ngcontent-%COMP%]{color:#d1d5db}.transaction-notes[_ngcontent-%COMP%]{font-size:11px;color:#6b7280;font-style:italic;line-height:1.4;margin:2px 0 0}.transaction-amount[_ngcontent-%COMP%]{text-align:right;flex-shrink:0;display:flex;flex-direction:column;align-items:flex-end;gap:1px}.amount-value[_ngcontent-%COMP%]{font-size:15px;font-weight:700;margin:0}.amount-value.income-text[_ngcontent-%COMP%]{color:#059669}.amount-value.expense-text[_ngcontent-%COMP%]{color:#dc2626}.amount-type[_ngcontent-%COMP%]{font-size:10px;color:#9ca3af;text-transform:capitalize;font-weight:500;letter-spacing:.5px;margin:0;background-color:#fff;padding:1px 5px;border-radius:5px;position:relative;color:#766d6d;font-weight:600;top:5px;left:4px;border:.5px dotted}.transaction-actions[_ngcontent-%COMP%]{background:#f8fafc;border-top:1px solid #e5e7eb;padding:8px 12px;animation:_ngcontent-%COMP%_slideDown .2s ease}.actions-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px}.action-button[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;transition:all .2s ease}.action-button.edit-btn[_ngcontent-%COMP%]{border:1px dashed gray;color:gray}.action-button.edit-btn[_ngcontent-%COMP%]:hover{background:#bfdbfe;transform:scale(1.05)}.action-button.delete-btn[_ngcontent-%COMP%]{border:1px solid #dc2626;color:#dc2626}.action-button.delete-btn[_ngcontent-%COMP%]:hover{background:#fecaca;transform:scale(1.05)}.transaction-details-expanded[_ngcontent-%COMP%]{background:#f8fafc;border-top:1px solid #e5e7eb;padding:16px 12px;animation:_ngcontent-%COMP%_slideDown .3s ease}.details-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f1f5f9}.detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.detail-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-shrink:0;min-width:120px}.detail-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#6b7280}.detail-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#374151}.detail-value[_ngcontent-%COMP%]{flex:1;text-align:right;display:flex;flex-direction:column;align-items:flex-end;gap:2px}.account-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1f2937}.account-type[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-style:italic}.transaction-id[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;font-family:Courier New,monospace;background:#f3f4f6;padding:2px 6px;border-radius:4px}.recurring-info[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#059669;background:#d1fae5;padding:4px 8px;border-radius:6px}.sync-status[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.created-date[_ngcontent-%COMP%], .created-time[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.transaction-notes[_ngcontent-%COMP%]{font-size:14px;color:#374151;font-style:italic;line-height:1.4;text-align:left;max-width:200px;word-wrap:break-word}.fab-add[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:1000;box-shadow:0 8px 24px #3b82f64d;transition:all .2s ease}.fab-add[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 12px 32px #3b82f666}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 480px){.filter-menu-container[_ngcontent-%COMP%]{flex-direction:row-reverse;align-items:stretch}.filter-menu-btn[_ngcontent-%COMP%]{justify-content:space-between}.summary-stats[_ngcontent-%COMP%]{gap:8px}.stat-item[_ngcontent-%COMP%]{flex-direction:row;gap:4px}}"]});let e=n;return e})();var WY=["mat-sort-header",""],YY=["*"];function qY(e,n){if(e&1){let r=Ce();c(0,"div",2),H("@arrowPosition.start",function(){q(r);let i=k();return K(i._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){q(r);let i=k();return K(i._disableViewStateAnimation=!1)}),de(1,"div",3),c(2,"div",4),de(3,"div",5)(4,"div",6)(5,"div",7),l()()}if(e&2){let r=k();P("@arrowOpacity",r._getArrowViewState())("@arrowPosition",r._getArrowViewState())("@allowChildren",r._getArrowDirectionState()),g(2),P("@indicator",r._getArrowDirectionState()),g(),P("@leftPointer",r._getArrowDirectionState()),g(),P("@rightPointer",r._getArrowDirectionState())}}var CE=new Ft("MAT_SORT_DEFAULT_OPTIONS"),a0=(()=>{let n=class n{get direction(){return this._direction}set direction(t){this._direction=t}constructor(t){this._defaultOptions=t,this._initializedStream=new rl(1),this.sortables=new Map,this._stateChanges=new bt,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new He,this.initialized=this._initializedStream}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){var s,d,m;if(!t)return"";let i=(m=(s=t==null?void 0:t.disableClear)!=null?s:this.disableClear)!=null?m:!!((d=this._defaultOptions)!=null&&d.disableClear),a=KY(t.start||this.start,i),o=a.indexOf(this.direction)+1;return o>=a.length&&(o=0),a[o]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}};n.\u0275fac=function(i){return new(i||n)(D(CE,8))},n.\u0275dir=Et({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",Ct],disabled:[2,"matSortDisabled","disabled",Ct]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[Ln,ti]});let e=n;return e})();function KY(e,n){let r=["asc","desc"];return e=="desc"&&r.reverse(),n||r.push(""),r}var Wc=EC.ENTERING+" "+PC.STANDARD_CURVE,Eu={indicator:$i("indicator",[Fn("active-asc, asc",Nt({transform:"translateY(0px)"})),Fn("active-desc, desc",Nt({transform:"translateY(10px)"})),Hn("active-asc <=> active-desc",Qn(Wc))]),leftPointer:$i("leftPointer",[Fn("active-asc, asc",Nt({transform:"rotate(-45deg)"})),Fn("active-desc, desc",Nt({transform:"rotate(45deg)"})),Hn("active-asc <=> active-desc",Qn(Wc))]),rightPointer:$i("rightPointer",[Fn("active-asc, asc",Nt({transform:"rotate(45deg)"})),Fn("active-desc, desc",Nt({transform:"rotate(-45deg)"})),Hn("active-asc <=> active-desc",Qn(Wc))]),arrowOpacity:$i("arrowOpacity",[Fn("desc-to-active, asc-to-active, active",Nt({opacity:1})),Fn("desc-to-hint, asc-to-hint, hint",Nt({opacity:.54})),Fn("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Nt({opacity:0})),Hn("* => asc, * => desc, * => active, * => hint, * => void",Qn("0ms")),Hn("* <=> *",Qn(Wc))]),arrowPosition:$i("arrowPosition",[Hn("* => desc-to-hint, * => desc-to-active",Qn(Wc,_c([Nt({transform:"translateY(-25%)"}),Nt({transform:"translateY(0)"})]))),Hn("* => hint-to-desc, * => active-to-desc",Qn(Wc,_c([Nt({transform:"translateY(0)"}),Nt({transform:"translateY(25%)"})]))),Hn("* => asc-to-hint, * => asc-to-active",Qn(Wc,_c([Nt({transform:"translateY(25%)"}),Nt({transform:"translateY(0)"})]))),Hn("* => hint-to-asc, * => active-to-asc",Qn(Wc,_c([Nt({transform:"translateY(0)"}),Nt({transform:"translateY(-25%)"})]))),Fn("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Nt({transform:"translateY(0)"})),Fn("hint-to-desc, active-to-desc, desc",Nt({transform:"translateY(-25%)"})),Fn("hint-to-asc, active-to-asc, asc",Nt({transform:"translateY(25%)"}))]),allowChildren:$i("allowChildren",[Hn("* <=> *",[RC("@*",FC(),{optional:!0})])])},kg=(()=>{let n=class n{constructor(){this.changes=new bt}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function QY(e){return e||new kg}var XY={provide:kg,deps:[[new al,new Y0,kg]],useFactory:QY},wE=(()=>{let n=class n{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}constructor(t,i,a,o,s,d,m,f){this._intl=t,this._changeDetectorRef=i,this._sort=a,this._columnDef=o,this._focusMonitor=s,this._elementRef=d,this._ariaDescriber=m,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",f!=null&&f.arrowPosition&&(this.arrowPosition=f==null?void 0:f.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{let i=!!t;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){var t;this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&((t=this._ariaDescriber)==null||t.removeDescription(this._sortButton,this._sortActionDescription))}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._showIndicatorHint?this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"hint"}):this._setAnimationTransitionState({fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(t.keyCode===32||t.keyCode===13)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){let t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){var i,a;this._sortButton&&((i=this._ariaDescriber)==null||i.removeDescription(this._sortButton,this._sortActionDescription),(a=this._ariaDescriber)==null||a.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=mi(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&this._viewState.toState==="active"&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}};n.\u0275fac=function(i){return new(i||n)(D(kg),D(gn),D(a0,8),D("MAT_SORT_HEADER_COLUMN_DEF",8),D(Qo),D(tn),D(yC,8),D(CE,8))},n.\u0275cmp=Fe({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(i,a){i&1&&H("click",function(){return a._handleClick()})("keydown",function(s){return a._handleKeydown(s)})("mouseenter",function(){return a._setIndicatorHintVisible(!0)})("mouseleave",function(){return a._setIndicatorHintVisible(!1)}),i&2&&(Gt("aria-sort",a._getAriaSortAttribute()),Be("mat-sort-header-disabled",a._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",Ct],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",Ct]},exportAs:["matSortHeader"],standalone:!0,features:[Ln,rn],attrs:WY,ngContentSelectors:YY,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(i,a){i&1&&(_i(),c(0,"div",0)(1,"div",1),yn(2),l(),G(3,qY,6,6,"div",2),l()),i&2&&(Be("mat-sort-header-sorted",a._isSorted())("mat-sort-header-position-before",a.arrowPosition==="before"),Gt("tabindex",a._isDisabled()?null:0)("role",a._isDisabled()?null:"button"),g(3),ot(a._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color, var(--mat-app-on-surface));opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Eu.indicator,Eu.leftPointer,Eu.rightPointer,Eu.arrowOpacity,Eu.arrowPosition,Eu.allowChildren]},changeDetection:0});let e=n;return e})(),SE=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({providers:[XY],imports:[Kn]});let e=n;return e})();var Pg=To(Fo());function JY(e,n){e&1&&(c(0,"th",24)(1,"div",25)(2,"mat-icon",26),u(3,"schedule"),l(),c(4,"span",27),u(5,"Date & Time"),l()()())}function eq(e,n){if(e&1&&(c(0,"td",28)(1,"div",29),u(2),Ee(3,"date"),l(),c(4,"div",30),u(5),Ee(6,"date"),l()()),e&2){let r=n.$implicit;g(2),he(" ",Xt(3,2,r.date.seconds*1e3,"MMM dd, yyyy")," "),g(3),he(" ",Xt(6,5,r.date.seconds*1e3,"hh:mm a")," ")}}function tq(e,n){e&1&&(c(0,"th",31)(1,"div",25)(2,"mat-icon",26),u(3,"category"),l(),c(4,"span",27),u(5,"Category"),l()()())}function nq(e,n){if(e&1&&(c(0,"td",32)(1,"div",25)(2,"div",33)(3,"mat-icon",34),u(4),l()(),c(5,"span",35),u(6),l()()()),e&2){let r=n.$implicit,t=k();g(3),Yt("color",t.getCategoryColor(r.category)),g(),ne(t.getCategoryIcon(r.category)),g(2),he(" ",r.category," ")}}function iq(e,n){e&1&&(c(0,"th",36)(1,"div",25)(2,"mat-icon",26),u(3,"person"),l(),c(4,"span",27),u(5,"Payee"),l()()())}function rq(e,n){if(e&1&&(c(0,"span",39),u(1),l()),e&2){let r=k().$implicit;g(),ne(r.payee)}}function aq(e,n){if(e&1){let r=Ce();c(0,"input",40),kt("ngModelChange",function(i){q(r);let a=k().$implicit;return Mt(a.payee,i)||(a.payee=i),K(i)}),l()}if(e&2){let r=k().$implicit;St("ngModel",r.payee)}}function oq(e,n){if(e&1&&(c(0,"td",28),G(1,rq,2,1,"span",37)(2,aq,1,1,"input",38),l()),e&2){let r=n.$implicit;g(),P("ngIf",!r.isEditing),g(),P("ngIf",r.isEditing)}}function sq(e,n){e&1&&(c(0,"th",24)(1,"div",25)(2,"mat-icon",26),u(3,"account_balance_wallet"),l(),c(4,"span",27),u(5,"Amount"),l()()())}function cq(e,n){if(e&1&&(c(0,"span",43),u(1),l()),e&2){let r=k().$implicit;jt(r.type==="income"?"text-green-700":"text-red-800"),g(),he(" ",(r.type=="income"?"+":"-")+" \u20B9"+r.amount.toLocaleString()," ")}}function lq(e,n){if(e&1){let r=Ce();c(0,"input",44),kt("ngModelChange",function(i){q(r);let a=k().$implicit;return Mt(a.amount,i)||(a.amount=i),K(i)}),l()}if(e&2){let r=k().$implicit;St("ngModel",r.amount)}}function dq(e,n){if(e&1&&(c(0,"td",28),G(1,cq,2,3,"span",41)(2,lq,1,1,"input",42),l()),e&2){let r=n.$implicit;g(),P("ngIf",!r.isEditing),g(),P("ngIf",r.isEditing)}}function uq(e,n){e&1&&(c(0,"th",45)(1,"div",25)(2,"mat-icon",26),u(3,"swap_horiz"),l(),c(4,"span",27),u(5,"Type"),l()()())}function mq(e,n){if(e&1&&(c(0,"span")(1,"span",49)(2,"mat-icon",50),u(3),l(),u(4),l()()),e&2){let r=k().$implicit;g(),jt(r.type==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),g(2),ne(r.type==="income"?"trending_up":"trending_down"),g(),he(" ",r.type," ")}}function hq(e,n){if(e&1){let r=Ce();c(0,"select",51),kt("ngModelChange",function(i){q(r);let a=k().$implicit;return Mt(a.type,i)||(a.type=i),K(i)}),c(1,"option",52),u(2,"Income"),l(),c(3,"option",53),u(4,"Expense"),l()()}if(e&2){let r=k().$implicit;St("ngModel",r.type)}}function pq(e,n){if(e&1&&(c(0,"td",46),G(1,mq,5,4,"span",47)(2,hq,5,1,"select",48),l()),e&2){let r=n.$implicit;g(),P("ngIf",!r.isEditing),g(),P("ngIf",r.isEditing)}}function fq(e,n){e&1&&(c(0,"th",54)(1,"div",55)(2,"mat-icon",26),u(3,"settings"),l(),c(4,"span",27),u(5,"Actions"),l()()())}function gq(e,n){if(e&1){let r=Ce();c(0,"div",58)(1,"button",59),H("click",function(){q(r);let i=k().$implicit,a=k();return K(a.onStartRowEdit(i))}),c(2,"mat-icon",60),u(3,"edit"),l()(),c(4,"button",61),H("click",function(){q(r);let i=k().$implicit,a=k();return K(a.onDeleteTransaction(i))}),c(5,"mat-icon",60),u(6,"delete"),l()()()}}function _q(e,n){if(e&1){let r=Ce();c(0,"div",58)(1,"button",62),H("click",function(){q(r);let i=k().$implicit,a=k();return K(a.onSaveRowEdit(i))}),c(2,"mat-icon",60),u(3,"check"),l()(),c(4,"button",63),H("click",function(){q(r);let i=k().$implicit,a=k();return K(a.onCancelRowEdit(i))}),c(5,"mat-icon",60),u(6,"close"),l()()()}}function xq(e,n){if(e&1&&(c(0,"td",56),G(1,gq,7,0,"div",57)(2,_q,7,0,"div",57),l()),e&2){let r=n.$implicit;g(),P("ngIf",!r.isEditing),g(),P("ngIf",r.isEditing)}}function vq(e,n){e&1&&de(0,"tr",64)}function bq(e,n){e&1&&de(0,"tr",65)}function yq(e,n){if(e&1){let r=Ce();c(0,"div",66)(1,"div",67)(2,"div",68)(3,"div",69)(4,"mat-icon"),u(5),l()(),c(6,"div",70)(7,"div",71),u(8),l(),c(9,"div",72),u(10),l()()(),c(11,"div",73)(12,"div",74),u(13),l(),c(14,"div",75),u(15),l()()(),c(16,"div",76)(17,"span",77)(18,"mat-icon"),u(19),l(),u(20),l(),c(21,"div",78)(22,"button",59),H("click",function(){let i=q(r).$implicit,a=k();return K(a.onStartRowEdit(i))}),c(23,"mat-icon"),u(24,"edit"),l()(),c(25,"button",61),H("click",function(){let i=q(r).$implicit,a=k();return K(a.onDeleteTransaction(i))}),c(26,"mat-icon"),u(27,"delete"),l()()()()()}if(e&2){let r=n.$implicit,t=k();g(4),Yt("color",t.getCategoryColor(r.category)),g(),ne(t.getCategoryIcon(r.category)),g(3),ne(r.payee),g(2),ne(r.category),g(2),jt(r.type==="income"?"income":"expense"),g(),he(" ",(r.type=="income"?"+":"-")+" \u20B9"+r.amount.toLocaleString()," "),g(2),ne(t.getDateDisplay(r.date)),g(2),jt(r.type==="income"?"income":"expense"),g(2),ne(r.type==="income"?"trending_up":"trending_down"),g(),he(" ",r.type," ")}}function Cq(e,n){if(e&1){let r=Ce();c(0,"div",79)(1,"mat-icon",80),u(2,"receipt_long"),l(),c(3,"h3",81),u(4),l(),c(5,"p",82),u(6,"No transactions found for the current year. Start by adding your first transaction to track your finances."),l(),c(7,"button",83),H("click",function(){q(r);let i=k();return K(i.onAddTransaction())}),c(8,"mat-icon"),u(9,"add"),l(),c(10,"span"),u(11,"Add Transaction"),l()()()}if(e&2){let r=k();g(4),he("No transactions for ",r.getCurrentYear(),"")}}var ME=(()=>{let n=class n{constructor(t,i,a,o,s){this.auth=t,this.dateService=i,this.filterService=a,this.store=o,this.ssrService=s,this.transactions=[],this.searchTerm="",this.selectedCategory=["all"],this.selectedType="all",this.selectedDate=null,this.selectedDateRange=null,this.editTransaction=new He,this.deleteTransaction=new He,this.startRowEdit=new He,this.saveRowEdit=new He,this.cancelRowEdit=new He,this.addTransaction=new He,this.dataSource=new yl,this.displayedColumns=["Date","Type","Payee","Amount","Status","Actions"],this.MOBILE_BREAKPOINT=640,this.TABLET_BREAKPOINT=768,this.subscription=new fn,this.categories=[]}ngOnInit(){this.setupDataSource(),this.filterTransactions(),this.loadCategories(),this.updateColumnVisibility()}ngOnDestroy(){this.subscription.unsubscribe()}ngOnChanges(t){this.filterTransactions()}ngAfterViewInit(){this.setupSorting()}onResize(){this.updateColumnVisibility()}updateColumnVisibility(){if(this.ssrService.isClientSide()){let t=window.innerWidth;t<this.MOBILE_BREAKPOINT?this.displayedColumns=["Date","Payee","Amount","Actions"]:t<this.TABLET_BREAKPOINT?this.displayedColumns=["Date","Type","Payee","Amount","Actions"]:this.displayedColumns=["Date","Type","Payee","Amount","Status","Actions"]}}setupDataSource(){this.dataSource=new yl([]),this.dataSource.filterPredicate=(t,i)=>{let a=i.toLowerCase();return t.payee.toLowerCase().includes(a)||t.category.toLowerCase().includes(a)||t.notes&&t.notes.toLowerCase().includes(a)||t.type.toLowerCase().includes(a)||t.amount.toString().includes(a)}}setupSorting(){this.dataSource.sortingDataAccessor=(t,i)=>{switch(i){case"Date":return(this.dateService.toDate(t==null?void 0:t.date)||new Date).getTime();case"Type":return(t==null?void 0:t.category.toString().toLowerCase())||"";case"Payee":return((t==null?void 0:t.payee)||"").toLowerCase();case"Amount":return t==null?void 0:t.amount;case"Status":return((t==null?void 0:t.type)||"").toLowerCase();default:return""}},this.dataSource.sort=this.sort,this.subscription.add(this.sort.sortChange.subscribe(t=>{console.log(`Sorting by ${t.active} in ${t.direction} order`)})),this.sort.sort({id:"Date",start:"desc",disableClear:!1})}filterTransactions(){let t=this.filterService.filterTransactionsWithCustomFilters(this.transactions,{searchTerm:this.searchTerm,selectedCategory:this.selectedCategory,selectedType:this.selectedType,selectedDate:this.selectedDate,selectedDateRange:this.selectedDateRange?{startDate:this.selectedDateRange.start,endDate:this.selectedDateRange.end}:null}),i=(0,Pg.default)().year(),a=t.filter(o=>(0,Pg.default)(this.dateService.toDate(o.date)).year()===i);this.dataSource.data=a}onEditTransaction(t){this.editTransaction.emit(t)}onDeleteTransaction(t){this.deleteTransaction.emit(t)}onStartRowEdit(t){this.editTransaction.emit(t)}onSaveRowEdit(t){this.saveRowEdit.emit(t)}onCancelRowEdit(t){this.cancelRowEdit.emit(t)}onAddTransaction(){this.addTransaction.emit()}getFilteredCount(){return this.dataSource.data.length}getTotalCount(){return this.transactions.length}getCurrentYear(){return(0,Pg.default)().year()}getCurrentSortState(){return this.sort&&this.sort.active?{active:this.sort.active,direction:this.sort.direction}:null}clearSort(){this.sort&&this.sort.sort({id:"",start:"asc",disableClear:!1})}loadCategories(){var i;((i=this.auth.currentUser)==null?void 0:i.uid)&&this.store.select(Er).subscribe(a=>{this.categories=a})}getCategoryIcon(t){var i;return((i=this.categories.find(a=>a.name===t))==null?void 0:i.icon)||"category"}getCategoryColor(t){var i;return((i=this.categories.find(a=>a.name===t))==null?void 0:i.color)||"#46777f"}getDateDisplay(t){return t&&typeof t=="object"&&"seconds"in t?new Date(t.seconds*1e3).toLocaleDateString(xt.LANGUAGE.DEFAULT,{month:"short",day:"numeric"}):t instanceof Date?t.toLocaleDateString(xt.LANGUAGE.DEFAULT,{month:"short",day:"numeric"}):""}};n.\u0275fac=function(i){return new(i||n)(D(Ut),D(Mn),D(Fc),D(qt),D(Vr))},n.\u0275cmp=Fe({type:n,selectors:[["transaction-table"]],viewQuery:function(i,a){if(i&1&&Zt(a0,5),i&2){let o;gt(o=_t())&&(a.sort=o.first)}},hostBindings:function(i,a){i&1&&H("resize",function(s){return a.onResize(s)},!1,ly)},inputs:{transactions:"transactions",searchTerm:"searchTerm",selectedCategory:"selectedCategory",selectedType:"selectedType",selectedDate:"selectedDate",selectedDateRange:"selectedDateRange"},outputs:{editTransaction:"editTransaction",deleteTransaction:"deleteTransaction",startRowEdit:"startRowEdit",saveRowEdit:"saveRowEdit",cancelRowEdit:"cancelRowEdit",addTransaction:"addTransaction"},features:[ti],decls:27,vars:5,consts:[[1,"bg-white","rounded-lg","border","border-gray-200","overflow-auto","flex","flex-col","max-h-[calc(80vh-205px)]"],[1,"hidden","sm:flex","flex-1","overflow-auto","table-container","max-h-full"],["mat-table","","matSort","",1,"w-full","min-w-[800px]",3,"dataSource"],["matColumnDef","Date"],["mat-header-cell","","mat-sort-header","","class","bg-gray-50 px-3 py-4 md:px-6",4,"matHeaderCellDef"],["mat-cell","","class","px-3 py-4 border-b border-gray-100 md:px-6",4,"matCellDef"],["matColumnDef","Type"],["mat-header-cell","","mat-sort-header","","class","px-3 py-4 md:px-6 hidden sm:table-cell",4,"matHeaderCellDef"],["mat-cell","","class","px-3 py-4 border-b border-gray-100 md:px-6 hidden sm:table-cell",4,"matCellDef"],["matColumnDef","Payee"],["mat-header-cell","","mat-sort-header","","class","px-3 py-4 md:px-6",4,"matHeaderCellDef"],["matColumnDef","Amount"],["matColumnDef","Status"],["mat-header-cell","","mat-sort-header","","class","bg-gray-50 px-3 py-4 md:px-6 hidden md:table-cell",4,"matHeaderCellDef"],["mat-cell","","class","px-3 py-4 border-b border-gray-100 md:px-6 hidden md:table-cell",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","class","bg-gray-50 px-3 py-4 md:px-6 text-center",4,"matHeaderCellDef"],["mat-cell","","class","px-3 py-4 border-b border-gray-100 text-center md:px-6",4,"matCellDef"],["mat-header-row","","class","h-12 md:h-16",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-50 transition-colors cursor-pointer",4,"matRowDef","matRowDefColumns"],[1,"sm:hidden","flex-1","overflow-auto","max-h-full","mobile-card-view"],[1,"p-4","space-y-3"],["class","transaction-card",4,"ngFor","ngForOf"],["class","text-center py-8 md:py-12 px-4",4,"ngIf"],["mat-header-cell","","mat-sort-header","",1,"bg-gray-50","px-3","py-4","md:px-6"],[1,"flex","items-center","space-x-1","md:space-x-2"],[1,"text-gray-500","text-xs","md:text-sm"],[1,"font-semibold","text-gray-700","text-xs","md:text-sm"],["mat-cell","",1,"px-3","py-4","border-b","border-gray-100","md:px-6"],[1,"text-xs","md:text-sm","text-gray-600"],[1,"text-xs","text-gray-400","hidden","md:block"],["mat-header-cell","","mat-sort-header","",1,"px-3","py-4","md:px-6","hidden","sm:table-cell"],["mat-cell","",1,"px-3","py-4","border-b","border-gray-100","md:px-6","hidden","sm:table-cell"],[1,"w-6","h-6","md:w-8","md:h-8","rounded-full","flex","items-center","justify-center","bg-gray-100"],[1,"text-xs","md:text-sm"],[1,"inline-flex","items-center","px-1.5","md:px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-gray-100","text-gray-800"],["mat-header-cell","","mat-sort-header","",1,"px-3","py-4","md:px-6"],["class","font-medium text-gray-900 max-w-[80px] md:max-w-[100px] text-wrap !block text-xs md:text-sm truncate",4,"ngIf"],["class","w-full px-2 md:px-3 py-1 md:py-2 border border-blue-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","placeholder","Enter payee name",3,"ngModel","ngModelChange",4,"ngIf"],[1,"font-medium","text-gray-900","max-w-[80px]","md:max-w-[100px]","text-wrap","!block","text-xs","md:text-sm","truncate"],["placeholder","Enter payee name",1,"w-full","px-2","md:px-3","py-1","md:py-2","border","border-blue-300","rounded-lg","text-xs","md:text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["class","font-bold text-xs md:text-sm",3,"class",4,"ngIf"],["type","number","class","w-full px-2 md:px-3 py-1 md:py-2 border border-blue-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","placeholder","Enter amount",3,"ngModel","ngModelChange",4,"ngIf"],[1,"font-bold","text-xs","md:text-sm"],["type","number","placeholder","Enter amount",1,"w-full","px-2","md:px-3","py-1","md:py-2","border","border-blue-300","rounded-lg","text-xs","md:text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["mat-header-cell","","mat-sort-header","",1,"bg-gray-50","px-3","py-4","md:px-6","hidden","md:table-cell"],["mat-cell","",1,"px-3","py-4","border-b","border-gray-100","md:px-6","hidden","md:table-cell"],[4,"ngIf"],["class","w-full px-2 md:px-3 py-1 md:py-2 border border-blue-300 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",3,"ngModel","ngModelChange",4,"ngIf"],[1,"inline-flex","items-center","px-2","md:px-3","py-1","rounded-full","text-xs","font-medium"],[1,"text-xs","mr-1"],[1,"w-full","px-2","md:px-3","py-1","md:py-2","border","border-blue-300","rounded-lg","text-xs","md:text-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],["value","income"],["value","expense"],["mat-header-cell","",1,"bg-gray-50","px-3","py-4","md:px-6","text-center"],[1,"flex","items-center","justify-center","space-x-1","md:space-x-2"],["mat-cell","",1,"px-3","py-4","border-b","border-gray-100","text-center","md:px-6"],["class","flex justify-center space-x-1 md:space-x-2",4,"ngIf"],[1,"flex","justify-center","space-x-1","md:space-x-2"],["mat-icon-button","","matTooltip","Edit transaction",1,"text-blue-600","hover:bg-blue-50","rounded-full","transition-colors",3,"click"],[1,"text-sm","md:text-base"],["mat-icon-button","","matTooltip","Delete transaction",1,"text-red-600","hover:bg-red-50","rounded-full","transition-colors",3,"click"],["mat-icon-button","","color","primary","matTooltip","Save changes",1,"bg-green-100","text-green-600","hover:bg-green-200","rounded-full","transition-colors",3,"click"],["mat-icon-button","","color","warn","matTooltip","Cancel editing",1,"bg-red-100","text-red-600","hover:bg-red-200","rounded-full","transition-colors",3,"click"],["mat-header-row","",1,"h-12","md:h-16"],["mat-row","",1,"hover:bg-gray-50","transition-colors","cursor-pointer"],[1,"transaction-card"],[1,"card-header"],[1,"left-section"],[1,"category-icon"],[1,"transaction-info"],[1,"payee-name"],[1,"category-name"],[1,"right-section"],[1,"amount"],[1,"date"],[1,"card-footer"],[1,"type-badge"],[1,"action-buttons"],[1,"text-center","py-8","md:py-12","px-4"],[1,"text-gray-400","text-4xl","md:text-6xl","mb-4"],[1,"text-base","md:text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-4","text-sm","md:text-base"],["mat-raised-button","","color","primary",1,"flex","items-center","space-x-2","mx-auto","text-sm","md:text-base",3,"click"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"table",2),ks(3,3),G(4,JY,6,0,"th",4)(5,eq,7,8,"td",5),Ps(),ks(6,6),G(7,tq,6,0,"th",7)(8,nq,7,4,"td",8),Ps(),ks(9,9),G(10,iq,6,0,"th",10)(11,oq,3,2,"td",5),Ps(),ks(12,11),G(13,sq,6,0,"th",4)(14,dq,3,2,"td",5),Ps(),ks(15,12),G(16,uq,6,0,"th",13)(17,pq,3,2,"td",14),Ps(),ks(18,15),G(19,fq,6,0,"th",16)(20,xq,3,2,"td",17),Ps(),G(21,vq,1,0,"tr",18)(22,bq,1,0,"tr",19),l()(),c(23,"div",20)(24,"div",21),G(25,yq,28,13,"div",22),l()(),G(26,Cq,12,1,"div",23),l()),i&2&&(g(2),P("dataSource",a.dataSource),g(19),P("matHeaderRowDef",a.displayedColumns),g(),P("matRowDefColumns",a.displayedColumns),g(3),P("ngForOf",a.dataSource.data),g(),P("ngIf",!(a.dataSource.data!=null&&a.dataSource.data.length)))},dependencies:[an,Tt,eo,to,mn,Gi,Ja,hn,Hi,zt,Cn,wn,WS,qS,ZS,KS,YS,JS,QS,XS,eM,tM,a0,wE,ni,zi],styles:[".table-container[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#cbd5e1 #f1f5f9}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}@media (max-width: 768px){.table-container[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;min-width:800px}@media (max-width: 640px){table[_ngcontent-%COMP%]{min-width:600px}}.mat-header-cell[_ngcontent-%COMP%]{background:#f8fafc;border-bottom:2px solid #e2e8f0;font-weight:600;color:#374151;padding:12px 16px;position:sticky;top:0;z-index:10;cursor:pointer;transition:all .2s ease;white-space:nowrap}@media (min-width: 768px){.mat-header-cell[_ngcontent-%COMP%]{padding:16px 24px}}.mat-header-cell[_ngcontent-%COMP%]:hover{background:#f1f5f9}.mat-header-cell[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}@media (min-width: 768px){.mat-header-cell[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{gap:8px}}.mat-header-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;color:#6b7280}@media (min-width: 768px){.mat-header-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}.mat-header-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:600}@media (min-width: 768px){.mat-header-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}}.mat-sort-header-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}@media (min-width: 768px){.mat-sort-header-container[_ngcontent-%COMP%]{gap:8px}}.mat-sort-header-container[_ngcontent-%COMP%]   .mat-sort-header-arrow[_ngcontent-%COMP%]{color:#6b7280;opacity:.5;transition:all .2s ease}.mat-sort-header-container[_ngcontent-%COMP%]   .mat-sort-header-indicator[_ngcontent-%COMP%]{color:#3b82f6}.mat-header-cell.mat-sort-header-sorted[_ngcontent-%COMP%]{background:#eff6ff;border-bottom-color:#3b82f6}.mat-header-cell.mat-sort-header-sorted[_ngcontent-%COMP%]   .mat-sort-header-arrow[_ngcontent-%COMP%]{opacity:1;color:#3b82f6}.mat-header-cell.mat-sort-header-sorted[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1e40af}.mat-cell[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #f1f5f9;vertical-align:middle}@media (min-width: 768px){.mat-cell[_ngcontent-%COMP%]{padding:16px 24px}}.mat-cell[_ngcontent-%COMP%]:last-child{border-right:none}.mat-row[_ngcontent-%COMP%]{transition:all .2s ease}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f8fafc;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.mat-row[_ngcontent-%COMP%]:last-child   .mat-cell[_ngcontent-%COMP%]{border-bottom:none}.date-cell[_ngcontent-%COMP%]   .date-main[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#374151;margin-bottom:2px}@media (min-width: 768px){.date-cell[_ngcontent-%COMP%]   .date-main[_ngcontent-%COMP%]{font-size:14px}}.date-cell[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]{font-size:11px;color:#6b7280}@media (min-width: 768px){.date-cell[_ngcontent-%COMP%]   .date-time[_ngcontent-%COMP%]{font-size:12px}}.category-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:2px 8px;border-radius:12px;font-size:11px;font-weight:500;background:#f3f4f6;color:#374151;border:1px solid #e5e7eb}@media (min-width: 768px){.category-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:12px}}.payee-cell[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{font-weight:500;color:#1f2937;max-width:80px;word-wrap:break-word;line-height:1.4;font-size:12px}@media (min-width: 768px){.payee-cell[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{max-width:120px;font-size:14px}}.payee-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:2px solid #3b82f6;border-radius:6px;font-size:12px;transition:all .2s ease}@media (min-width: 768px){.payee-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;border-radius:8px;font-size:14px}}.payee-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}.amount-cell[_ngcontent-%COMP%]{text-align:right}.amount-cell[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-weight:700;font-size:12px}@media (min-width: 768px){.amount-cell[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:14px}}.amount-cell[_ngcontent-%COMP%]   .amount-value.income[_ngcontent-%COMP%]{color:#059669}.amount-cell[_ngcontent-%COMP%]   .amount-value.expense[_ngcontent-%COMP%]{color:#dc2626}.amount-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:2px solid #3b82f6;border-radius:6px;font-size:12px;text-align:right;transition:all .2s ease}@media (min-width: 768px){.amount-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;border-radius:8px;font-size:14px}}.amount-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:2px 6px;border-radius:10px;font-size:10px;font-weight:500}@media (min-width: 768px){.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:12px}}.status-cell[_ngcontent-%COMP%]   .status-badge.income[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-cell[_ngcontent-%COMP%]   .status-badge.expense[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.status-cell[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:2px solid #3b82f6;border-radius:6px;font-size:12px;transition:all .2s ease}@media (min-width: 768px){.status-cell[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border-radius:8px;font-size:14px}}.status-cell[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}.actions-cell[_ngcontent-%COMP%]{text-align:center}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:4px}@media (min-width: 768px){.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{gap:8px}}.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:32px;height:32px}@media (min-width: 768px){.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:40px;height:40px}}.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}@media (min-width: 768px){.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px;margin-bottom:12px;box-shadow:0 1px 3px #0000001a;transition:all .2s ease}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-1px)}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:14px;margin-bottom:2px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .left-section[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{text-align:right}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:700;font-size:14px;margin-bottom:2px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .amount.income[_ngcontent-%COMP%]{color:#059669}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .amount.expense[_ngcontent-%COMP%]{color:#dc2626}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:11px;color:#9ca3af}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 8px;border-radius:12px;font-size:11px;font-weight:500}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .type-badge.income[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .type-badge.expense[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px;margin-right:4px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:4px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:32px;height:32px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}@media (max-width: 640px){.hidden-mobile[_ngcontent-%COMP%]{display:none!important}.table-container[_ngcontent-%COMP%]{border-radius:8px;margin:0 -8px}.mobile-card-view[_ngcontent-%COMP%]{padding:12px}.mobile-card-view[_ngcontent-%COMP%]   .transaction-card[_ngcontent-%COMP%]{margin-bottom:8px;padding:12px}}@media (max-width: 768px){.hidden-tablet[_ngcontent-%COMP%]{display:none!important}}.empty-state[_ngcontent-%COMP%]{padding:2rem 1rem}@media (min-width: 768px){.empty-state[_ngcontent-%COMP%]{padding:3rem 2rem}}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem}@media (min-width: 768px){.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem}}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}@media (min-width: 768px){.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}@media (min-width: 768px){.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.pagination-container[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:16px;margin-top:16px}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{background:transparent;border:none}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]     .mat-paginator-container{justify-content:center}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]     .mat-paginator-page-size{margin-right:16px}.pagination-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]     .mat-paginator-range-actions{margin-left:16px}@media (max-width: 1024px){.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:12px 16px}.payee-cell[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{max-width:100px}}@media (max-width: 768px){.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:8px 12px}.mat-header-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.mat-header-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.payee-cell[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{max-width:80px;font-size:13px}.amount-cell[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:13px}.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 8px;font-size:11px}.actions-cell[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:32px;height:32px}}@media (max-width: 640px){.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:6px 8px}.mat-header-cell[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{flex-direction:column;gap:4px;text-align:center}.mat-header-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px}.mat-header-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px;width:12px;height:12px}.payee-cell[_ngcontent-%COMP%]   .payee-name[_ngcontent-%COMP%]{max-width:60px;font-size:12px}.amount-cell[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:12px}.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:2px 6px;font-size:10px}.actions-cell[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:28px;height:28px}}"]});let e=n;return e})();var jl=To(Fo());function Sq(e,n){if(e&1&&(c(0,"span",30),u(1),l()),e&2){let r=k();g(),he("/ ",r.currentYearCount,"")}}function Mq(e,n){if(e&1){let r=Ce();c(0,"button",31),H("click",function(){q(r);let i=k();return K(i.onClearAllFilters())}),c(1,"mat-icon",32),u(2,"clear"),l()()}}function kq(e,n){if(e&1&&(c(0,"option",33),u(1),l()),e&2){let r=n.$implicit;P("value",r),g(),he(" ",r," ")}}function Pq(e,n){if(e&1&&(c(0,"option",33),u(1),l()),e&2){let r=n.$implicit;P("value",r.value),g(),he(" ",r.label," ")}}function Eq(e,n){if(e&1&&(c(0,"option",33),u(1),l()),e&2){let r=n.$implicit;P("value",r),g(),he(" ",r," ")}}function Tq(e,n){e&1&&(c(0,"div",34)(1,"div",3)(2,"mat-icon",35),u(3,"filter_alt"),l(),c(4,"span",36),u(5,"Active filters applied"),l()()())}var kE=(()=>{let n=class n{constructor(t){this.notificationService=t,this.transactions=[],this.searchTerm="",this.selectedCategory="all",this.selectedType="all",this.selectedYear=(0,jl.default)().year(),this.selectedMonth=(0,jl.default)().month(),this.selectedMonthOption="all",this.selectedDate=null,this.selectedDateRange=null,this.filteredCount=0,this.currentYearCount=0,this.searchTermChange=new He,this.selectedCategoryChange=new He,this.selectedTypeChange=new He,this.selectedYearChange=new He,this.addTransaction=new He,this.importTransactions=new He,this.openFilterDialog=new He,this.viewAnalytics=new He,this.expandTable=new He,this.clearAllFilters=new He,this.selectedDateRangeChange=new He,this.categories=[],this.availableYears=[],this.months=[],this.currentYear=(0,jl.default)().year()}ngOnInit(){this.updateCategories(),this.updateAvailableYears(),this.updateMonths()}ngOnChanges(t){t.transactions&&(this.updateCategories(),this.updateAvailableYears())}updateCategories(){if(this.transactions&&this.transactions.length>0){let t=new Set(this.transactions.map(i=>i.category));this.categories=Array.from(t).sort()}else this.categories=[]}updateAvailableYears(){isNaN(this.selectedYear)&&(this.selectedYear=this.currentYear),this.availableYears=Array.from({length:10},(t,i)=>this.currentYear-i)}updateMonths(){this.months=[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}]}onSearchChange(t){let i=t.target.value;this.searchTermChange.emit(i)}onCategoryChange(t){let i=t.target.value;this.selectedCategoryChange.emit(i)}onTypeChange(t){let i=t.target.value;this.selectedTypeChange.emit(i)}onSelectedYearChange(t){let i=t.target.value;this.selectedYearChange.emit(i)}onSelectedMonthChange(t){if(this.selectedMonthOption=t,t!=="all"){let i=t==="all"?(0,jl.default)().month():parseInt(t);this.selectedDateRange={start:(0,jl.default)().year(this.selectedYear).month(i).startOf("month").toDate(),end:(0,jl.default)().year(this.selectedYear).month(i).endOf("month").toDate()},this.selectedDateRangeChange.emit(this.selectedDateRange)}}onAddTransaction(){this.addTransaction.emit()}onImportTransactions(){this.importTransactions.emit()}onOpenFilterDialog(){this.openFilterDialog.emit()}onViewAnalytics(){this.viewAnalytics.emit()}onExpandTable(){this.expandTable.emit()}onClearAllFilters(){this.selectedDateRange=null,this.selectedDate=null,this.searchTerm="",this.selectedCategory="all",this.selectedType="all",this.selectedYear=this.currentYear,this.selectedMonthOption="all",this.clearAllFilters.emit()}hasActiveFilters(){return!!(this.selectedDate||this.selectedDateRange||this.searchTerm||this.selectedCategory!=="all"||this.selectedType!=="all"||this.selectedYear!==this.currentYear||this.selectedMonthOption!=="all")}getCurrentYear(){return this.currentYear}};n.\u0275fac=function(i){return new(i||n)(D(At))},n.\u0275cmp=Fe({type:n,selectors:[["search-filter"]],inputs:{transactions:"transactions",searchTerm:"searchTerm",selectedCategory:"selectedCategory",selectedType:"selectedType",selectedYear:"selectedYear",selectedMonth:"selectedMonth",selectedMonthOption:"selectedMonthOption",selectedDate:"selectedDate",selectedDateRange:"selectedDateRange",filteredCount:"filteredCount",currentYearCount:"currentYearCount"},outputs:{searchTermChange:"searchTermChange",selectedCategoryChange:"selectedCategoryChange",selectedTypeChange:"selectedTypeChange",selectedYearChange:"selectedYearChange",addTransaction:"addTransaction",importTransactions:"importTransactions",openFilterDialog:"openFilterDialog",viewAnalytics:"viewAnalytics",expandTable:"expandTable",clearAllFilters:"clearAllFilters",selectedDateRangeChange:"selectedDateRangeChange"},features:[ti],decls:83,vars:13,consts:[[1,"bg-white","rounded-xl","border","border-gray-100","shadow-sm","p-4","mb-6"],[1,"flex","items-center","justify-between","mb-2"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","space-x-2"],[1,"w-2","h-2","bg-blue-500","rounded-full"],[1,"text-sm","font-medium","text-gray-700"],[1,"flex","items-center","space-x-1"],[1,"text-sm","font-semibold","text-gray-900"],["class","text-sm text-gray-500",4,"ngIf"],["mat-icon-button","","matTooltip","Advanced filters",1,"bg-white","hover:bg-gray-50","border","border-gray-200","rounded-lg","transition-all","duration-200","shadow-sm","hover:shadow-md",3,"click"],[1,"text-gray-600","text-sm"],["mat-icon-button","","matTooltip","View analytics",1,"bg-white","hover:bg-gray-50","border","border-gray-200","rounded-lg","transition-all","duration-200","shadow-sm","hover:shadow-md",3,"click"],["mat-icon-button","","matTooltip","Expand table",1,"bg-white","hover:bg-gray-50","border","border-gray-200","rounded-lg","transition-all","duration-200","shadow-sm","hover:shadow-md",3,"click"],["mat-icon-button","","class","bg-gradient-to-r from-red-50 to-red-100 hover:from-red-100 hover:to-red-200 border border-red-200 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md","matTooltip","Clear all filters",3,"click",4,"ngIf"],["mat-flat-button","","matTooltip","Import transactions",1,"!bg-primary","text-white","rounded-lg","transition-all","duration-200","shadow-sm","hover:shadow-md",3,"click"],[1,"text-sm"],["mat-stroked-button","","matTooltip","Add transaction",1,"transition-all","duration-200","shadow-sm","hover:shadow-md","!text-primary",3,"click"],[1,"flex","items-center","w-full","gap-2"],[1,"relative","w-2/3"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"text-gray-400","text-sm"],["type","text","placeholder","Search transactions...",1,"w-full","pl-10","pr-4","py-2.5","text-sm","border","border-gray-200","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-all","duration-200","bg-gray-50","focus:bg-white",3,"ngModelChange","ngModel"],[1,"relative","w-1/2"],[1,"w-full","pl-10","pr-8","py-2.5","text-sm","border","border-gray-200","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","transition-all","duration-200","bg-gray-50","focus:bg-white","appearance-none","cursor-pointer",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","pointer-events-none"],["value","all"],["value","income"],["value","expense"],["class","mt-3 pt-3 border-t border-gray-100",4,"ngIf"],[1,"text-sm","text-gray-500"],["mat-icon-button","","matTooltip","Clear all filters",1,"bg-gradient-to-r","from-red-50","to-red-100","hover:from-red-100","hover:to-red-200","border","border-red-200","rounded-lg","transition-all","duration-200","shadow-sm","hover:shadow-md",3,"click"],[1,"text-red-600","text-sm"],[3,"value"],[1,"mt-3","pt-3","border-t","border-gray-100"],[1,"text-blue-500","text-sm"],[1,"text-xs","text-gray-500","font-medium"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),de(4,"div",4),c(5,"span",5),u(6),l()(),c(7,"div",6)(8,"span",7),u(9),l(),G(10,Sq,2,1,"span",8),l()(),c(11,"div",3)(12,"div",3)(13,"button",9),H("click",function(){return a.onOpenFilterDialog()}),c(14,"mat-icon",10),u(15,"filter_list"),l()(),c(16,"button",11),H("click",function(){return a.onViewAnalytics()}),c(17,"mat-icon",10),u(18,"analytics"),l()(),c(19,"button",12),H("click",function(){return a.onExpandTable()}),c(20,"mat-icon",10),u(21,"open_in_new"),l()(),G(22,Mq,3,0,"button",13),l(),c(23,"button",14),H("click",function(){return a.onImportTransactions()}),c(24,"mat-icon",15),u(25,"file_upload"),l(),u(26,"Import "),l(),c(27,"button",16),H("click",function(){return a.onAddTransaction()}),c(28,"mat-icon",15),u(29,"add"),l(),u(30,"Add "),l()()(),c(31,"div",17)(32,"div",18)(33,"div",19)(34,"mat-icon",20),u(35,"search"),l()(),c(36,"input",21),H("ngModelChange",function(s){return a.searchTermChange.emit(s)}),l()(),c(37,"div",22)(38,"div",19)(39,"mat-icon",20),u(40,"calendar_today"),l()(),c(41,"select",23),H("ngModelChange",function(s){return a.selectedYearChange.emit(s)}),G(42,kq,2,2,"option",24),l(),c(43,"div",25)(44,"mat-icon",20),u(45,"expand_more"),l()()(),c(46,"div",22)(47,"div",19)(48,"mat-icon",20),u(49,"date_range"),l()(),c(50,"select",23),H("ngModelChange",function(s){return a.onSelectedMonthChange(s)}),c(51,"option",26),u(52,"All Months"),l(),G(53,Pq,2,2,"option",24),l(),c(54,"div",25)(55,"mat-icon",20),u(56,"expand_more"),l()()(),c(57,"div",22)(58,"div",19)(59,"mat-icon",20),u(60,"category"),l()(),c(61,"select",23),H("ngModelChange",function(s){return a.selectedCategoryChange.emit(s)}),c(62,"option",26),u(63,"All Categories"),l(),G(64,Eq,2,2,"option",24),l(),c(65,"div",25)(66,"mat-icon",20),u(67,"expand_more"),l()()(),c(68,"div",22)(69,"div",19)(70,"mat-icon",20),u(71,"account_balance_wallet"),l()(),c(72,"select",23),H("ngModelChange",function(s){return a.selectedTypeChange.emit(s)}),c(73,"option",26),u(74,"All Types"),l(),c(75,"option",27),u(76,"Income"),l(),c(77,"option",28),u(78,"Expense"),l()(),c(79,"div",25)(80,"mat-icon",20),u(81,"expand_more"),l()()()(),G(82,Tq,6,0,"div",29),l()),i&2&&(g(6),he(" ",a.getCurrentYear()," Transactions "),g(3),ne(a.filteredCount),g(),P("ngIf",a.filteredCount!==a.currentYearCount),g(12),P("ngIf",a.hasActiveFilters()),g(14),P("ngModel",a.searchTerm),g(5),P("ngModel",a.selectedYear),g(),P("ngForOf",a.availableYears),g(8),P("ngModel",a.selectedMonthOption),g(3),P("ngForOf",a.months),g(8),P("ngModel",a.selectedCategory),g(3),P("ngForOf",a.categories),g(8),P("ngModel",a.selectedType),g(10),P("ngIf",a.hasActiveFilters()))},dependencies:[an,Tt,eo,to,mn,Ja,hn,Hi,zt,Cn,wn,ni]});let e=n;return e})();var Iq=["tableSort"];function Aq(e,n){if(e&1){let r=Ce();c(0,"mobile-transaction-list",2),H("editTransaction",function(i){q(r);let a=k();return K(a.editTransaction(i))})("deleteTransaction",function(i){q(r);let a=k();return K(a.deleteTransaction(i))})("addTransaction",function(){q(r);let i=k();return K(i.addTransactionDialog())})("importTransactions",function(){q(r);let i=k();return K(i.openImportDialog())})("searchTermChange",function(i){q(r);let a=k();return a.searchTerm=i,K(a.onSearchChange())})("selectedCategoryChange",function(i){q(r);let a=k();return a.selectedCategory=i,K(a.onCategoryChange())})("selectedTypeChange",function(i){q(r);let a=k();return a.selectedType=i,K(a.onTypeChange())})("selectedDateRangeChange",function(i){q(r);let a=k();return a.selectedDateRange=i,K(a.onCategoryChange())}),l()}if(e&2){let r=k();P("transactions",r.allTransactions)("searchTerm",r.searchTerm)("selectedCategory",r.selectedCategory)("selectedType",r.selectedType)("selectedDate",r.selectedDate)("selectedDateRange",r.selectedDateRange)}}function Dq(e,n){e&1&&(c(0,"div",10)(1,"mat-icon",11),u(2,"compare_arrows"),l(),c(3,"span",12),u(4,"Transactions"),l()())}function Fq(e,n){e&1&&(c(0,"div",10)(1,"mat-icon",11),u(2,"attach_money"),l(),c(3,"span",12),u(4,"Accounts"),l()())}function Rq(e,n){e&1&&(c(0,"div",10)(1,"mat-icon",11),u(2,"local_offer"),l(),c(3,"span",12),u(4,"Categories"),l()())}function Nq(e,n){e&1&&(c(0,"div",10)(1,"mat-icon",11),u(2,"analytics"),l(),c(3,"span",12),u(4,"Reports"),l()())}function Lq(e,n){e&1&&(c(0,"div",10)(1,"mat-icon",11),u(2,"receipt_long"),l(),c(3,"span",12),u(4,"Tax"),l()())}function Vq(e,n){e&1&&(c(0,"div",10)(1,"mat-icon",13),u(2,"note"),l(),c(3,"span",12),u(4,"Notes"),l()())}function Bq(e,n){if(e&1){let r=Ce();c(0,"mat-card",1)(1,"mat-tab-group",3)(2,"mat-tab",4),G(3,Dq,5,0,"ng-template",5),c(4,"div",6)(5,"search-filter",7),H("searchTermChange",function(i){q(r);let a=k();return a.searchTerm=i,K(a.onSearchChange())})("selectedCategoryChange",function(i){q(r);let a=k();return a.selectedCategorySingle=i,K(a.onCategoryChange())})("selectedTypeChange",function(i){q(r);let a=k();return a.selectedType=i,K(a.onTypeChange())})("addTransaction",function(){q(r);let i=k();return K(i.addTransactionDialog())})("importTransactions",function(){q(r);let i=k();return K(i.openImportDialog())})("openFilterDialog",function(){q(r);let i=k();return K(i.openFilterDialog())})("viewAnalytics",function(){q(r);let i=k();return K(i.viewAnalytics())})("expandTable",function(){q(r);let i=k();return K(i.expandTable())})("selectedDateRangeChange",function(i){q(r);let a=k();return a.selectedDateRange=i,K(a.onCategoryChange())})("clearAllFilters",function(){q(r);let i=k();return K(i.clearAllFilters())}),l(),c(6,"transaction-table",8),H("editTransaction",function(i){q(r);let a=k();return K(a.editTransaction(i))})("deleteTransaction",function(i){q(r);let a=k();return K(a.deleteTransaction(i))})("startRowEdit",function(i){q(r);let a=k();return K(a.startRowEdit(i))})("saveRowEdit",function(i){q(r);let a=k();return K(a.saveRowEdit(i))})("cancelRowEdit",function(i){q(r);let a=k();return K(a.cancelRowEdit(i))})("addTransaction",function(){q(r);let i=k();return K(i.addTransactionDialog())}),l()()(),c(7,"mat-tab"),G(8,Fq,5,0,"ng-template",5),c(9,"div",9),de(10,"user-accounts"),l()(),c(11,"mat-tab"),G(12,Rq,5,0,"ng-template",5),c(13,"div",9),de(14,"transaction-category"),l()(),c(15,"mat-tab"),G(16,Nq,5,0,"ng-template",5),de(17,"app-reports"),l(),c(18,"mat-tab"),G(19,Lq,5,0,"ng-template",5),de(20,"app-tax"),l(),c(21,"mat-tab"),G(22,Vq,5,0,"ng-template",5),de(23,"app-notes"),l()()()}if(e&2){let r=k();g(5),P("transactions",r.allTransactions)("searchTerm",r.searchTerm)("selectedCategory",r.selectedCategorySingle)("selectedType",r.selectedType)("selectedDate",r.selectedDate)("selectedDateRange",r.selectedDateRange)("filteredCount",r.getFilteredCount())("currentYearCount",r.getCurrentYearCount()),g(),P("transactions",r.allTransactions)("searchTerm",r.searchTerm)("selectedCategory",r.selectedCategory)("selectedType",r.selectedType)("selectedDate",r.selectedDate)("selectedDateRange",r.selectedDateRange)}}var Eg=(()=>{let n=class n{get selectedCategorySingle(){return this.selectedCategory.includes("all")?"all":this.selectedCategory[0]||"all"}set selectedCategorySingle(t){this.selectedCategory=[t]}constructor(t,i,a,o,s,d,m,f){this.loaderService=t,this._dialog=i,this.breakpointObserver=a,this.auth=o,this.notificationService=s,this.filterService=d,this.store=m,this.dateService=f,this.dataSource=new yl,this.isMobile=!1,this.displayedColumns=["Payee","Amount","Status","Type","Date","Actions"],this.pageSizeOptions=[...xt.PAGINATION.PAGE_SIZE_OPTIONS],this.selectedTx=null,this.selectedDate=null,this.selectedDateRange=null,this.allTransactions=[],this.dateSubscription=new fn,this.searchTerm="",this.selectedCategory=["all"],this.selectedType="all",this.showFullTable=!1,this.transactions$=this.store.select(No),this.transactionsLoading$=this.store.select(au),this.transactionsError$=this.store.select(kf),this.breakpointObserver.observe([qr.Handset]).subscribe(_=>{this.isMobile=_.matches})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnInit(){this.clearDateFilter(),this.loadTransactions(),this.subscribeToDateSelection(),this.subscribeToStoreData()}ngOnDestroy(){this.dateSubscription.unsubscribe()}loadTransactions(){var i;this.loaderService.show();let t=(i=this.auth.currentUser)==null?void 0:i.uid;t&&this.store.dispatch(gr({userId:t}))}subscribeToStoreData(){this.dateSubscription.add(this.transactions$.subscribe(t=>{this.allTransactions=t.sort((i,a)=>{var d,m;let o=this.dateService.toDate(i.date),s=this.dateService.toDate(a.date);return((d=s==null?void 0:s.getTime())!=null?d:0)-((m=o==null?void 0:o.getTime())!=null?m:0)}),this.applyDateFilter(),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.loaderService.hide()})),this.dateSubscription.add(this.transactionsError$.subscribe(t=>{t&&(console.error("Error loading transactions:",t),this.notificationService.error("Failed to load transactions"),this.loaderService.hide())}))}subscribeToDateSelection(){this.dateSubscription.add(this.filterService.selectedDate$.subscribe(t=>{t&&(this.selectedDate=t,this.selectedDateRange=null,this.applyDateFilter())})),this.dateSubscription.add(this.filterService.selectedDateRange$.subscribe(t=>{t&&(this.selectedDateRange=t,this.selectedDate=null,this.applyDateFilter())})),this.dateSubscription.add(this.filterService.categoryFilter$.subscribe(t=>{if(t){this.selectedCategory=[t.categoryName];let i=new Date(t.year,t.month,1),a=new Date(t.year,t.month+1,0);this.selectedDateRange={startDate:i,endDate:a},this.selectedDate=null,this.applyDateFilter(),this.notificationService.success(`Showing ${t.categoryName} transactions for ${t.monthName} ${t.year}`)}}))}applyDateFilter(){var i,a;let t=[...this.allTransactions];if(this.selectedDate){let o=this.formatDate(this.selectedDate);t=t.filter(s=>{let d=this.dateService.toDate(s.date);return d?this.formatDate(d)===o:!1}),this.notificationService.success(`Showing transactions for ${(0,sa.default)(this.selectedDate).format("MMM DD, YYYY")}`)}else if(this.selectedDateRange&&((i=this.selectedDateRange)!=null&&i.startDate)&&((a=this.selectedDateRange)!=null&&a.endDate)){let o=(0,sa.default)(this.selectedDateRange.startDate).startOf("day").toDate(),s=(0,sa.default)(this.selectedDateRange.endDate).endOf("day").toDate();t=t.filter(f=>{let _=this.dateService.toDate(f.date);return _?_>=o&&_<=s:!1});let d=(0,sa.default)(this.selectedDateRange.startDate).format("MMM DD, YYYY"),m=(0,sa.default)(this.selectedDateRange.endDate).format("MMM DD, YYYY");this.notificationService.success(`Showing transactions from ${d} to ${m}`)}t=this.applySearchAndFilters(t),this.dataSource.data=t}applySearchAndFilters(t){return this.filterService.filterTransactionsWithCustomFilters(t,{searchTerm:this.searchTerm,selectedCategory:this.selectedCategory,selectedType:this.selectedType})}onSearchChange(){this.applyDateFilter()}onCategoryChange(){this.applyDateFilter()}onTypeChange(){this.applyDateFilter()}formatDate(t){return(0,sa.default)(t).format("YYYY-MM-DD")}clearDateFilter(){this.selectedDate=null,this.selectedDateRange=null,this.filterService.clearSelectedDate(),this.applyDateFilter()}clearAllFilters(){this.selectedDate=null,this.selectedDateRange=null,this.searchTerm="",this.selectedCategory=["all"],this.selectedType="all",this.filterService.clearSelectedDate(),this.applyDateFilter(),this.notificationService.success("All filters cleared")}editTransaction(t){this._dialog.open(lm,{width:this.isMobile?"100vw":"600px",height:this.isMobile?"100vh":"auto",maxWidth:this.isMobile?"100vw":"95vw",panelClass:"full-screen-dialog",data:t}).afterClosed().subscribe(a=>{a&&this.loadTransactions()})}deleteTransaction(t){return ge(this,null,function*(){var a;let i=(a=this.auth.currentUser)==null?void 0:a.uid;i&&t.id&&(this.store.dispatch(Ld({userId:i,transactionId:t.id})),this.notificationService.success("Transaction deleted successfully"))})}onLongPress(t){this.selectedTx=t}startRowEdit(t){t.originalValues={payee:t.payee,amount:t.amount,type:t.type},t.isEditing=!0}saveRowEdit(t){var s;if(!t.payee||!t.payee.trim()){this.notificationService.error("Payee cannot be empty");return}let i=parseFloat(t.amount);if(!i||i<=0){this.notificationService.error("Amount must be a positive number");return}if(!t.type||t.type!=="income"&&t.type!=="expense"){this.notificationService.error("Please select a valid transaction type");return}let a={payee:t.payee.trim(),amount:i,type:t.type},o=(s=this.auth.currentUser)==null?void 0:s.uid;o&&t.id&&(this.store.dispatch(Mc({userId:o,transactionId:t.id,transaction:a})),this.notificationService.success("Transaction updated successfully"),t.isEditing=!1,delete t.originalValues)}cancelRowEdit(t){t.payee=t.originalValues.payee,t.amount=t.originalValues.amount,t.type=t.originalValues.type,t.isEditing=!1,delete t.originalValues}openImportDialog(){this._dialog.open(vg,{width:"600px",maxWidth:"95vw"}).afterClosed().subscribe(i=>{i&&i.length&&this.importTransactions(i)})}importTransactions(t){return ge(this,null,function*(){var a;this.loaderService.show();let i=(a=this.auth.currentUser)==null?void 0:a.uid;if(!i){this.notificationService.error("User not authenticated"),this.loaderService.hide();return}try{let o=0,s=0;for(let d of t)try{let m=new Date(d.date);if(isNaN(m.getTime()))throw new Error("Invalid date format");let f={payee:d.payee,userId:i,accountId:d.accountId,amount:parseFloat(d.amount),type:d.type,category:(d==null?void 0:d.category)||"",categoryId:(d==null?void 0:d.categoryId)||"",date:m,notes:d.narration||"",isPending:!1,syncStatus:fc.PENDING,lastSyncedAt:new Date,createdAt:new Date,updatedAt:new Date,createdBy:i,updatedBy:i,status:zh.COMPLETED};this.store.dispatch(Sc({userId:i,transaction:f})),o++}catch(m){console.error("Error importing transaction:",d,m),s++}this.loaderService.hide(),o>0&&(this.notificationService.success(`Successfully imported ${o} transactions`),this.store.dispatch(gr({userId:i}))),s>0&&this.notificationService.warning(`${s} transactions failed to import`)}catch(o){this.loaderService.hide(),this.notificationService.error("Failed to import transactions"),console.error("Import error:",o)}})}exportToExcel(){if(!this.dataSource.data||this.dataSource.data.length===0){this.notificationService.error("No transactions to export");return}let t=this.dataSource.data.map(m=>({Date:(0,sa.default)(m.date.seconds*1e3).format("MM/DD/YYYY"),Time:(0,sa.default)(m.date.seconds*1e3).format("hh:mm A"),Payee:m.payee,Amount:m.amount,Type:m.type,Category:m.category,Notes:m.notes||""})),i=Object.keys(t[0]),a=[i.join(","),...t.map(m=>i.map(f=>`"${m[f]}"`).join(","))].join(`
`),o=new Blob([a],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),d=URL.createObjectURL(o);s.setAttribute("href",d),s.setAttribute("download",`transactions_${(0,sa.default)().format("YYYY-MM-DD")}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(d),this.notificationService.success(`Exported ${t.length} transactions successfully`)}getCurrentMonthTransactions(){let t=(0,sa.default)().month(),i=(0,sa.default)().year();return this.dataSource.data.filter(a=>{let o=(0,sa.default)(a.date.seconds*1e3);return o.month()===t&&o.year()===i}).length}getUniqueCategories(){return new Set(this.dataSource.data.map(i=>i.category)).size}getFilteredCount(){return this.dataSource.data.length}getTotalCount(){return this.allTransactions.length}getCurrentYearCount(){let t=(0,sa.default)().year();return this.allTransactions.filter(i=>(0,sa.default)(i.date.seconds*1e3).year()===t).length}getCurrentYear(){return(0,sa.default)().year()}getCategoriesList(){let t=new Set(this.allTransactions.map(i=>i.category));return Array.from(t).sort()}getTypesList(){return[Yr.INCOME,Yr.EXPENSE]}refreshTransactions(){var i;let t=(i=this.auth.currentUser)==null?void 0:i.uid;t&&(this.store.dispatch(gr({userId:t})),this.notificationService.success("Transactions refreshed"))}openFilterDialog(){this.notificationService.success("Filter functionality coming soon")}viewAnalytics(){this.notificationService.success("Analytics view coming soon")}addTransactionDialog(){this._dialog.open(lm,{width:this.isMobile?"100vw":"600px",height:this.isMobile?"100vh":"auto",maxWidth:this.isMobile?"100vw":"95vw",panelClass:"full-screen-dialog",data:null}).afterClosed().subscribe(i=>{var a;if(i){let o=(a=this.auth.currentUser)==null?void 0:a.uid;o&&this.store.dispatch(gr({userId:o}))}})}expandTable(){this.showFullTable=!this.showFullTable}};n.\u0275fac=function(i){return new(i||n)(D(Ic),D(ar),D(Sr),D(Ut),D(At),D(Fc),D(qt),D(Mn))},n.\u0275cmp=Fe({type:n,selectors:[["transaction-list"]],viewQuery:function(i,a){if(i&1&&(Zt(aw,5),Zt(Iq,5)),i&2){let o;gt(o=_t())&&(a.paginator=o.first),gt(o=_t())&&(a.sort=o.first)}},decls:2,vars:1,consts:[[3,"transactions","searchTerm","selectedCategory","selectedType","selectedDate","selectedDateRange"],[1,"p-2","shadow-lg","border-0","rounded-xl","transaction-list-container","h-[83vh]"],[3,"editTransaction","deleteTransaction","addTransaction","importTransactions","searchTermChange","selectedCategoryChange","selectedTypeChange","selectedDateRangeChange","transactions","searchTerm","selectedCategory","selectedType","selectedDate","selectedDateRange"],["mat-stretch-tabs","false","mat-align-tabs","start",1,"custom-tabs"],[1,"max-h-full"],["mat-tab-label",""],[1,"p-2","overflow-hidden"],[3,"searchTermChange","selectedCategoryChange","selectedTypeChange","addTransaction","importTransactions","openFilterDialog","viewAnalytics","expandTable","selectedDateRangeChange","clearAllFilters","transactions","searchTerm","selectedCategory","selectedType","selectedDate","selectedDateRange","filteredCount","currentYearCount"],[3,"editTransaction","deleteTransaction","startRowEdit","saveRowEdit","cancelRowEdit","addTransaction","transactions","searchTerm","selectedCategory","selectedType","selectedDate","selectedDateRange"],[1,"p-6"],[1,"flex","items-center","space-x-2","px-4","py-2"],[1,"text-primary"],[1,"font-semibold","text-gray-700","text-xs"],[1,"text-yellow-600"]],template:function(i,a){i&1&&G(0,Aq,1,6,"mobile-transaction-list",0)(1,Bq,24,14,"mat-card",1),i&2&&ot(a.isMobile?0:1)},dependencies:[wc,zt,P1,vl,Zd,yf,su,Cg,wg,Sg,yE,ME,kE],styles:[".hide-scrollbar[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none;overflow:-moz-scrollbars-none;-webkit-overflow-scrolling:touch}.hide-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.custom-tabs[_ngcontent-%COMP%]   .mat-mdc-tab-group[_ngcontent-%COMP%]   .mat-mdc-tab-header[_ngcontent-%COMP%]{border-bottom:2px solid #e5e7eb}.custom-tabs[_ngcontent-%COMP%]   .mat-mdc-tab-group[_ngcontent-%COMP%]   .mat-mdc-tab-header[_ngcontent-%COMP%]   .mat-mdc-tab-label-container[_ngcontent-%COMP%]   .mat-mdc-tab-label[_ngcontent-%COMP%]{min-width:120px;padding:0}.custom-tabs[_ngcontent-%COMP%]   .mat-mdc-tab-group[_ngcontent-%COMP%]   .mat-mdc-tab-header[_ngcontent-%COMP%]   .mat-mdc-tab-label-container[_ngcontent-%COMP%]   .mat-mdc-tab-label.mat-mdc-tab-label-active[_ngcontent-%COMP%]{background-color:#f3f4f6;border-radius:8px 8px 0 0}.mat-mdc-table[_ngcontent-%COMP%]{background-color:#fff}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{font-weight:600;color:#374151;background-color:#fff;border-bottom:2px solid #e5e7eb;position:sticky;top:0;z-index:10}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:16px 24px;border-bottom:1px solid #f3f4f6}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]{transition:all .2s ease}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:inherit;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.table-container[_ngcontent-%COMP%]{height:100%;overflow:auto}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.transaction-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.transaction-list-container[_ngcontent-%COMP%]   .mat-mdc-tab-body-content[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.mat-mdc-card[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f!important;border-radius:16px!important;border:none!important}.mat-mdc-raised-button[_ngcontent-%COMP%]{border-radius:8px!important;font-weight:500!important;text-transform:none!important;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f!important}.mat-mdc-raised-button[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f!important}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{transition:all .2s ease}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{transform:translateY(-1px);box-shadow:0 4px 12px #3b82f626}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500;text-transform:capitalize}.status-badge.income[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-badge.expense[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.mat-mdc-row.editing[_ngcontent-%COMP%]{background-color:#eff6ff;border-left:4px solid #3b82f6}@media (max-width: 768px){.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:12px 16px}}"]});let e=n;return e})();function Uq(e,n){e&1&&de(0,"transaction-category",4),e&2&&P("home",!0)}function zq(e,n){e&1&&de(0,"transaction-list",5)}var Ev=(()=>{let n=class n{constructor(t){this.breakpointObserver=t,this.deviceType={mobile:!1,tablet:!1,desktop:!1},this.breakpointObserver.observe([qr.Handset,qr.Tablet,qr.Web]).subscribe(i=>{i.breakpoints[qr.HandsetPortrait]?this.deviceType={mobile:!0,tablet:!1,desktop:!1}:i.breakpoints[qr.TabletPortrait]||i.breakpoints[qr.TabletLandscape]?this.deviceType={mobile:!1,tablet:!0,desktop:!1}:i.breakpoints[qr.WebPortrait]&&(this.deviceType={mobile:!1,tablet:!1,desktop:!0})})}ngOnInit(){}};n.\u0275fac=function(i){return new(i||n)(D(Sr))},n.\u0275cmp=Fe({type:n,selectors:[["app-home"]],decls:4,vars:2,consts:[[1,"grid","grid-cols-1","gap-2","md:grid-cols-2","md:gap-5","lg:grid-cols-7","lg:px-5","lg:gap-4","xl"],[1,"lg:col-span-2"],["class","lg:col-span-5",3,"home",4,"ngIf"],["class","lg:col-span-5",4,"ngIf"],[1,"lg:col-span-5",3,"home"],[1,"lg:col-span-5"]],template:function(i,a){i&1&&(c(0,"section",0),de(1,"calendar-view",1),G(2,Uq,1,1,"transaction-category",2)(3,zq,1,0,"transaction-list",3),l()),i&2&&(g(2),P("ngIf",a.deviceType.mobile),g(),P("ngIf",!a.deviceType.mobile))},dependencies:[Tt,VS,Eg,su]});let e=n;return e})();function Hq(e,n){if(e&1&&(c(0,"div",54)(1,"div",55),u(2),l(),c(3,"h3",27),u(4),l(),c(5,"p",28),u(6),l()()),e&2){let r=n.$implicit,t=n.index;Yt("--animation-order",t),g(2),he(" ",r.icon," "),g(2),ne(r.title),g(2),ne(r.description)}}function Gq(e,n){if(e&1&&(c(0,"div",56)(1,"div",57)(2,"div",58),u(3),l(),c(4,"div")(5,"div",59),u(6),l(),c(7,"div",60),u(8),l()()(),c(9,"p",61),u(10),l()()),e&2){let r=n.$implicit;g(3),ne(r.avatar),g(3),ne(r.name),g(2),ne(r.role),g(2),he('"',r.content,'"')}}var PE=(()=>{let n=class n{constructor(t,i){this.router=t,this.notificationService=i,this.features=[{icon:"\u{1F4B0}",title:"Smart Budgeting",description:"Create and track budgets with intelligent insights and spending alerts."},{icon:"\u{1F4CA}",title:"Detailed Reports",description:"Visualize your financial data with comprehensive charts and analytics."},{icon:"\u{1F3AF}",title:"Goal Setting",description:"Set financial goals and track your progress towards achieving them."},{icon:"\u{1F4F1}",title:"Mobile First",description:"Access your finances anywhere with our responsive PWA design."},{icon:"\u{1F512}",title:"Secure & Private",description:"Your financial data is encrypted and stored securely in the cloud."},{icon:"\u26A1",title:"Offline Ready",description:"Continue managing your money even without internet connection."}],this.testimonials=[{name:"Sarah Johnson",role:"Freelance Designer",content:"This app has completely transformed how I manage my finances. The budgeting features are incredible!",avatar:"\u{1F469}\u200D\u{1F3A8}"},{name:"Mike Chen",role:"Software Engineer",content:"Finally, a money manager that works offline and syncs perfectly across all my devices.",avatar:"\u{1F468}\u200D\u{1F4BB}"},{name:"Emma Davis",role:"Small Business Owner",content:"The goal tracking feature helped me save for my dream vacation. Highly recommended!",avatar:"\u{1F469}\u200D\u{1F4BC}"}]}ngOnInit(){}navigateToSignUp(){this.router.navigate(["/sign-in"])}navigateToSignIn(){this.router.navigate(["/sign-in"])}scrollToFeatures(){let t=document.getElementById("features");t&&t.scrollIntoView({behavior:"smooth"})}};n.\u0275fac=function(i){return new(i||n)(D(Sn),D(At))},n.\u0275cmp=Fe({type:n,selectors:[["app-landing"]],decls:121,vars:2,consts:[[1,"hero-section","min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-teal-50","via-white","to-teal-100","relative","overflow-hidden"],[1,"absolute","inset-0","overflow-hidden"],[1,"absolute","-top-40","-right-40","w-80","h-80","bg-primary/20","rounded-full","mix-blend-multiply","filter","blur-xl","opacity-70","animate-blob"],[1,"absolute","-bottom-40","-left-40","w-80","h-80","bg-primary/30","rounded-full","mix-blend-multiply","filter","blur-xl","opacity-70","animate-blob","animation-delay-2000"],[1,"absolute","top-40","left-40","w-80","h-80","bg-primary/25","rounded-full","mix-blend-multiply","filter","blur-xl","opacity-70","animate-blob","animation-delay-4000"],[1,"container-responsive","relative","z-10","text-center","px-4","sm:px-6","lg:px-8"],[1,"max-w-4xl","mx-auto"],[1,"mb-8","sm:mb-12"],[1,"inline-flex","items-center","justify-center","w-16","h-16","sm:w-20","sm:h-20","bg-gradient-to-r","from-primary","to-teal-600","rounded-2xl","mb-4","sm:mb-6","shadow-lg"],[1,"text-2xl","sm:text-3xl"],[1,"text-3xl","sm:text-4xl","md:text-5xl","lg:text-6xl","xl:text-7xl","font-bold","text-gray-900","mb-4","sm:mb-6","leading-tight","px-2"],[1,"bg-gradient-to-r","from-primary","to-teal-600","bg-clip-text","text-transparent","block","sm:inline"],[1,"text-base","sm:text-lg","md:text-xl","lg:text-2xl","text-gray-600","mb-6","sm:mb-8","mx-auto","leading-relaxed","px-4"],[1,"flex","flex-col","sm:flex-row","gap-3","sm:gap-4","justify-center","items-center","mb-8","sm:mb-12","px-4"],[1,"w-full","sm:w-auto","px-6","sm:px-8","py-3","sm:py-4","bg-gradient-to-r","from-primary","to-teal-600","text-white","font-semibold","rounded-xl","shadow-lg","hover:shadow-xl","transform","hover:-translate-y-1","transition-all","duration-300","text-base","sm:text-lg","hover:from-teal-600","hover:to-primary",3,"click"],[1,"w-full","sm:w-auto","px-6","sm:px-8","py-3","sm:py-4","border-2","border-primary","text-primary","font-semibold","rounded-xl","hover:bg-primary","hover:text-white","transition-all","duration-300","text-base","sm:text-lg",3,"click"],["id","features",1,"py-16","sm:py-20","bg-white"],[1,"container-responsive","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-12","sm:mb-16"],[1,"text-2xl","sm:text-3xl","md:text-4xl","lg:text-5xl","font-bold","text-gray-900","mb-4","sm:mb-6","px-4"],[1,"text-base","sm:text-lg","md:text-xl","text-gray-600","max-w-3xl","mx-auto","px-4","leading-relaxed"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-6","sm:gap-8","px-4"],["class","group p-6 sm:p-8 rounded-2xl border border-gray-200 hover:border-primary hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 bg-gradient-to-br from-white to-teal-50/30 hover:from-teal-50/50 hover:to-white",3,"--animation-order",4,"ngFor","ngForOf"],[1,"py-16","sm:py-20","bg-gradient-to-br","from-teal-50","to-white"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8","sm:gap-12","px-4"],[1,"text-center","group"],[1,"w-12","h-12","sm:w-16","sm:h-16","bg-gradient-to-r","from-primary","to-teal-600","text-white","rounded-full","flex","items-center","justify-center","text-lg","sm:text-2xl","font-bold","mx-auto","mb-4","sm:mb-6","shadow-lg","group-hover:shadow-xl","transition-shadow","duration-300"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","mb-3","group-hover:text-primary","transition-colors","duration-300"],[1,"text-sm","sm:text-base","text-gray-600","leading-relaxed"],[1,"w-12","h-12","sm:w-16","sm:h-16","bg-gradient-to-r","from-green-500","to-green-600","text-white","rounded-full","flex","items-center","justify-center","text-lg","sm:text-2xl","font-bold","mx-auto","mb-4","sm:mb-6","shadow-lg","group-hover:shadow-xl","transition-shadow","duration-300"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-900","mb-3","group-hover:text-green-600","transition-colors","duration-300"],[1,"py-16","sm:py-20","bg-white"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","sm:gap-8","px-4"],["class","bg-gradient-to-br from-gray-50 to-teal-50/30 p-6 sm:p-8 rounded-2xl hover:shadow-lg transition-all duration-300 border border-gray-100 hover:border-primary/20",4,"ngFor","ngForOf"],[1,"py-16","sm:py-20","bg-gradient-to-r","from-primary","via-teal-600","to-primary"],[1,"container-responsive","text-center","px-4","sm:px-6","lg:px-8"],[1,"text-2xl","sm:text-3xl","md:text-4xl","lg:text-5xl","font-bold","text-white","mb-4","sm:mb-6","px-4"],[1,"text-lg","sm:text-xl","text-teal-100","mb-6","sm:mb-8","max-w-2xl","mx-auto","px-4","leading-relaxed"],[1,"flex","flex-col","sm:flex-row","gap-3","sm:gap-4","justify-center","px-4"],[1,"w-full","sm:w-auto","px-6","sm:px-8","py-3","sm:py-4","bg-white","text-primary","font-semibold","rounded-xl","shadow-lg","hover:shadow-xl","transform","hover:-translate-y-1","transition-all","duration-300","text-base","sm:text-lg","hover:bg-gray-50",3,"click"],[1,"w-full","sm:w-auto","px-6","sm:px-8","py-3","sm:py-4","border-2","border-white","text-white","font-semibold","rounded-xl","hover:bg-white","hover:text-primary","transition-all","duration-300","text-base","sm:text-lg",3,"click"],[1,"py-12","bg-gradient-to-br","from-gray-900","via-gray-800","to-gray-900","text-white"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-8"],[1,"col-span-1","sm:col-span-2"],[1,"flex","items-center","mb-4"],[1,"w-8","h-8","sm:w-10","sm:h-10","bg-gradient-to-r","from-primary","to-teal-600","rounded-lg","flex","items-center","justify-center","mr-3","shadow-lg"],[1,"text-sm","sm:text-lg"],[1,"text-lg","sm:text-xl","font-bold"],[1,"text-sm","sm:text-base","text-gray-400","mb-4","max-w-md","leading-relaxed"],[1,"font-semibold","mb-4","text-sm","sm:text-base","text-primary"],[1,"space-y-2","text-gray-400"],["href","#",1,"hover:text-primary","transition-colors","text-sm","sm:text-base"],[1,"border-t","border-gray-800","mt-8","pt-8","text-center","text-gray-400"],[1,"text-sm","sm:text-base"],[1,"group","p-6","sm:p-8","rounded-2xl","border","border-gray-200","hover:border-primary","hover:shadow-xl","transition-all","duration-300","transform","hover:-translate-y-2","bg-gradient-to-br","from-white","to-teal-50/30","hover:from-teal-50/50","hover:to-white"],[1,"text-3xl","sm:text-4xl","mb-4","group-hover:scale-110","transition-transform","duration-300"],[1,"bg-gradient-to-br","from-gray-50","to-teal-50/30","p-6","sm:p-8","rounded-2xl","hover:shadow-lg","transition-all","duration-300","border","border-gray-100","hover:border-primary/20"],[1,"flex","items-center","mb-4","sm:mb-6"],[1,"text-2xl","sm:text-3xl","mr-3","sm:mr-4"],[1,"font-semibold","text-gray-900","text-sm","sm:text-base"],[1,"text-xs","sm:text-sm","text-gray-600"],[1,"text-sm","sm:text-base","text-gray-700","leading-relaxed","italic"]],template:function(i,a){i&1&&(c(0,"section",0)(1,"div",1),de(2,"div",2)(3,"div",3)(4,"div",4),l(),c(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"span",9),u(10,"\u{1F4B0}"),l()(),c(11,"h2",10),u(12," Take Control of Your "),c(13,"span",11),u(14,"Finances"),l()(),c(15,"p",12),u(16," The smart way to budget, track expenses, and achieve your financial goals. Works offline, syncs everywhere, and keeps your data secure. "),l()(),c(17,"div",13)(18,"button",14),H("click",function(){return a.navigateToSignUp()}),u(19," Get Started Free "),l(),c(20,"button",15),H("click",function(){return a.scrollToFeatures()}),u(21," Learn More "),l()()()()(),c(22,"section",16)(23,"div",17)(24,"div",18)(25,"h2",19),u(26," Everything You Need to Manage Your Money "),l(),c(27,"p",20),u(28," Powerful features designed to help you take control of your finances and achieve your goals. "),l()(),c(29,"div",21),G(30,Hq,7,5,"div",22),l()()(),c(31,"section",23)(32,"div",17)(33,"div",18)(34,"h2",19),u(35," How It Works "),l(),c(36,"p",20),u(37," Get started in minutes with our simple 3-step process "),l()(),c(38,"div",24)(39,"div",25)(40,"div",26),u(41,"1"),l(),c(42,"h3",27),u(43,"Sign Up"),l(),c(44,"p",28),u(45,"Create your account in seconds with just your email"),l()(),c(46,"div",25)(47,"div",26),u(48,"2"),l(),c(49,"h3",27),u(50,"Add Your Accounts"),l(),c(51,"p",28),u(52,"Connect your bank accounts or add them manually"),l()(),c(53,"div",25)(54,"div",29),u(55,"3"),l(),c(56,"h3",30),u(57,"Start Managing"),l(),c(58,"p",28),u(59,"Track expenses, set budgets, and watch your savings grow"),l()()()()(),c(60,"section",31)(61,"div",17)(62,"div",18)(63,"h2",19),u(64," What Our Users Say "),l(),c(65,"p",20),u(66," Join thousands of satisfied users who have transformed their financial lives "),l()(),c(67,"div",32),G(68,Gq,11,4,"div",33),l()()(),c(69,"section",34)(70,"div",35)(71,"h2",36),u(72," Ready to Take Control? "),l(),c(73,"p",37),u(74," Join thousands of users who are already managing their finances smarter with our app. "),l(),c(75,"div",38)(76,"button",39),H("click",function(){return a.navigateToSignUp()}),u(77," Start Free Trial "),l(),c(78,"button",40),H("click",function(){return a.navigateToSignIn()}),u(79," Sign In "),l()()()(),c(80,"footer",41)(81,"div",17)(82,"div",42)(83,"div",43)(84,"div",44)(85,"div",45)(86,"span",46),u(87,"\u{1F4B0}"),l()(),c(88,"span",47),u(89,"Money Manager"),l()(),c(90,"p",48),u(91," The smart way to budget, track expenses, and achieve your financial goals. Secure, private, and works offline. "),l()(),c(92,"div")(93,"h3",49),u(94,"Product"),l(),c(95,"ul",50)(96,"li")(97,"a",51),u(98,"Features"),l()(),c(99,"li")(100,"a",51),u(101,"Pricing"),l()(),c(102,"li")(103,"a",51),u(104,"Security"),l()()()(),c(105,"div")(106,"h3",49),u(107,"Support"),l(),c(108,"ul",50)(109,"li")(110,"a",51),u(111,"Help Center"),l()(),c(112,"li")(113,"a",51),u(114,"Contact Us"),l()(),c(115,"li")(116,"a",51),u(117,"Privacy Policy"),l()()()()(),c(118,"div",52)(119,"p",53),u(120,"\xA9 2024 Money Manager. All rights reserved."),l()()()()),i&2&&(g(30),P("ngForOf",a.features),g(38),P("ngForOf",a.testimonials))},dependencies:[an],styles:['@keyframes _ngcontent-%COMP%_blob{0%{transform:translate(0) scale(1)}33%{transform:translate(30px,-50px) scale(1.1)}66%{transform:translate(-20px,20px) scale(.9)}to{transform:translate(0) scale(1)}}.animate-blob[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blob 7s infinite}.animation-delay-2000[_ngcontent-%COMP%]{animation-delay:2s}.animation-delay-4000[_ngcontent-%COMP%]{animation-delay:4s}.hero-section[_ngcontent-%COMP%]{position:relative;background-attachment:fixed}.hero-section[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 20% 80%,rgba(120,119,198,.3) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(255,119,198,.3) 0%,transparent 50%),radial-gradient(circle at 40% 40%,rgba(120,219,255,.3) 0%,transparent 50%);pointer-events:none}html[_ngcontent-%COMP%]{scroll-behavior:smooth}.feature-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a6fd8,#6a4190);transform:translateY(-2px);box-shadow:0 10px 20px #667eea66}.testimonial-card[_ngcontent-%COMP%]{transition:all .3s ease}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 10px 25px #0000001a}@media (max-width: 640px){.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;line-height:1.2;word-spacing:-.02em}.hero-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6}section[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}button[_ngcontent-%COMP%]{min-height:48px;font-weight:600}.grid[_ngcontent-%COMP%]{gap:1.5rem}}@media (min-width: 641px) and (max-width: 1024px){.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem;line-height:1.1}.container-responsive[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}}@media (min-width: 1025px){.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4rem;line-height:1.1}section[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}}@media (min-width: 1280px){.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4.5rem}}.gradient-text[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);background-size:200% 200%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:_ngcontent-%COMP%_gradient-shift 3s ease infinite}@keyframes _ngcontent-%COMP%_gradient-shift{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.stat-number[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_count-up 2s ease-out}@keyframes _ngcontent-%COMP%_count-up{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}section[_ngcontent-%COMP%]{opacity:0;transform:translateY(30px);animation:_ngcontent-%COMP%_fade-in-up .8s ease-out forwards}@keyframes _ngcontent-%COMP%_fade-in-up{to{opacity:1;transform:translateY(0)}}.feature-card[_ngcontent-%COMP%]{animation-delay:calc(var(--animation-order) * .1s)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#5a6fd8,#6a4190)}button[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:focus{outline:2px solid #667eea;outline-offset:2px}@media (max-width: 768px){.hero-section[_ngcontent-%COMP%]{min-height:100vh;padding-top:2rem;padding-bottom:2rem}.flex-col[_ngcontent-%COMP%]{gap:1rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.mb-8[_ngcontent-%COMP%]{margin-bottom:2rem}.py-16[_ngcontent-%COMP%]{padding-top:3rem;padding-bottom:3rem}.grid-cols-1[_ngcontent-%COMP%]{gap:1.5rem}}@media (min-width: 769px) and (max-width: 1024px){.grid-cols-2[_ngcontent-%COMP%]{gap:2rem}.py-20[_ngcontent-%COMP%]{padding-top:4rem;padding-bottom:4rem}}@media (-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi){body[_ngcontent-%COMP%]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}}@media print{.hero-section[_ngcontent-%COMP%], .cta-section[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]{display:none}section[_ngcontent-%COMP%]{page-break-inside:avoid}}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@media (max-width: 768px) and (orientation: landscape){.hero-section[_ngcontent-%COMP%]{min-height:100vh;padding-top:1rem;padding-bottom:1rem}.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}']});let e=n;return e})();var EE=(()=>{let n=class n{constructor(t,i,a){this.firestore=t,this.auth=i,this.dateService=a}createSubscription(t,i){return ge(this,null,function*(){let a=pn(this.firestore,`users/${t}/subscription`);yield pc(a,xe(ue({},i),{startDate:this.dateService.toTimestamp(i.startDate),endDate:this.dateService.toTimestamp(i.endDate)}))})}getSubscription(t){return ge(this,null,function*(){let i=pn(this.firestore,`users/${t}/subscription`),a=yield ir(i);if(a.exists())return a.data()})}updateSubscriptionPlan(t,i){return ge(this,null,function*(){let a=pn(this.firestore,`users/${t}/subscription`);yield Nr(a,{plan:i})})}updateSubscriptionDates(t,i,a){return ge(this,null,function*(){let o=pn(this.firestore,`users/${t}/subscription`);yield Nr(o,{startDate:M_.fromDate(i),endDate:M_.fromDate(a)})})}deleteSubscription(t){return ge(this,null,function*(){let i=pn(this.firestore,`users/${t}/subscription`);yield oo(i)})}};n.\u0275fac=function(i){return new(i||n)(Ne(ro),Ne(Ut),Ne(Mn))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function Wq(e,n){if(e&1){let r=Ce();c(0,"div")(1,"p"),u(2),l(),c(3,"p"),u(4),Ee(5,"date"),l(),c(6,"p"),u(7),Ee(8,"date"),l(),c(9,"button",2),H("click",function(){q(r);let i=k();return K(i.updatePlan("premium"))}),u(10,"Upgrade to Premium"),l(),c(11,"button",2),H("click",function(){q(r);let i=k();return K(i.deleteSubscription())}),u(12,"Cancel Subscription"),l()()}if(e&2){let r=k();g(2),he("Plan: ",r.subscription.plan,""),g(2),he("Start Date: ",Xt(5,3,r.dateService.toDate(r.subscription.startDate),"short"),""),g(3),he("End Date: ",Xt(8,6,r.dateService.toDate(r.subscription.endDate),"short"),"")}}function Yq(e,n){if(e&1){let r=Ce();c(0,"form",3),H("submit",function(){q(r);let i=k();return K(i.createSubscription())}),c(1,"label",4),u(2,"Plan:"),l(),c(3,"select",5),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.newSubscription.plan,i)||(a.newSubscription.plan=i),K(i)}),c(4,"option",6),u(5,"Free"),l(),c(6,"option",7),u(7,"Premium"),l()(),c(8,"label",8),u(9,"Start Date:"),l(),c(10,"input",9),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.newSubscription.startDate,i)||(a.newSubscription.startDate=i),K(i)}),l(),c(11,"label",10),u(12,"End Date:"),l(),c(13,"input",11),kt("ngModelChange",function(i){q(r);let a=k();return Mt(a.newSubscription.endDate,i)||(a.newSubscription.endDate=i),K(i)}),l(),c(14,"button",12),u(15,"Start Subscription"),l()()}if(e&2){let r=k();g(3),St("ngModel",r.newSubscription.plan),g(7),St("ngModel",r.newSubscription.startDate),g(3),St("ngModel",r.newSubscription.endDate)}}var TE=(()=>{let n=class n{constructor(t,i,a,o,s){this.subscriptionService=t,this.auth=i,this.router=a,this.notificationService=o,this.dateService=s,this.userId="",this.newSubscription={userId:"",plan:"free",startDate:hi.fromDate(new Date),endDate:hi.fromDate(new Date)}}ngOnInit(){this.loadSubscription()}loadSubscription(){return ge(this,null,function*(){let t=this.auth.currentUser;if(t)try{this.userId=t.uid,this.subscription=yield this.subscriptionService.getSubscription(this.userId)}catch(i){console.error("Error loading subscription:",i),this.notificationService.error("Failed to load subscription data")}else this.notificationService.error("User not authenticated")})}createSubscription(){return ge(this,null,function*(){if(!this.newSubscription.plan){this.notificationService.warning("Please select a subscription plan");return}let t=this.auth.currentUser;if(t)try{this.newSubscription.userId=t.uid,yield this.subscriptionService.createSubscription(t.uid,this.newSubscription),this.notificationService.success("Subscription created successfully"),this.loadSubscription(),this.newSubscription={userId:"",plan:"free",startDate:hi.fromDate(new Date),endDate:hi.fromDate(new Date)}}catch(i){console.error("Error creating subscription:",i),this.notificationService.error("Failed to create subscription")}else this.notificationService.error("User not authenticated")})}updatePlan(t){return ge(this,null,function*(){if(!t){this.notificationService.warning("Please select a valid plan");return}let i=this.auth.currentUser;if(i)try{yield this.subscriptionService.updateSubscriptionPlan(i.uid,t),this.notificationService.success(`Subscription plan updated to ${t}`),this.loadSubscription()}catch(a){console.error("Error updating subscription plan:",a),this.notificationService.error("Failed to update subscription plan")}else this.notificationService.error("User not authenticated")})}updateDates(t,i){return ge(this,null,function*(){if(!t||!i){this.notificationService.warning("Please select valid start and end dates");return}if(t>=i){this.notificationService.warning("End date must be after start date");return}let a=this.auth.currentUser;if(a)try{yield this.subscriptionService.updateSubscriptionDates(a.uid,t,i),this.notificationService.success("Subscription dates updated successfully"),this.loadSubscription()}catch(o){console.error("Error updating subscription dates:",o),this.notificationService.error("Failed to update subscription dates")}else this.notificationService.error("User not authenticated")})}deleteSubscription(){return ge(this,null,function*(){let t=this.auth.currentUser;if(t)try{yield this.subscriptionService.deleteSubscription(t.uid),this.subscription=void 0,this.notificationService.success("Subscription deleted successfully")}catch(i){console.error("Error deleting subscription:",i),this.notificationService.error("Failed to delete subscription")}else this.notificationService.error("User not authenticated")})}};n.\u0275fac=function(i){return new(i||n)(D(EE),D(Ut),D(Sn),D(At),D(Mn))},n.\u0275cmp=Fe({type:n,selectors:[["app-subscription"]],decls:5,vars:2,consts:[[4,"ngIf"],[3,"submit",4,"ngIf"],[3,"click"],[3,"submit"],["for","plan"],["id","plan","name","plan",3,"ngModelChange","ngModel"],["value","free"],["value","premium"],["for","startDate"],["type","date","id","startDate","name","startDate","required","",3,"ngModelChange","ngModel"],["for","endDate"],["type","date","id","endDate","name","endDate","required","",3,"ngModelChange","ngModel"],["type","submit"]],template:function(i,a){i&1&&(c(0,"div")(1,"h2"),u(2,"User Subscription"),l(),G(3,Wq,13,9,"div",0)(4,Yq,16,3,"form",1),l()),i&2&&(g(3),P("ngIf",a.subscription),g(),P("ngIf",!a.subscription))},dependencies:[Tt,Di,eo,to,mn,Ja,hn,Ai,_d,Hi,gd,zi]});let e=n;return e})();var Tv=no("goals"),Ov=Kt(Tv,e=>e.goals),OE=Kt(Tv,e=>e.loading),IE=Kt(Tv,e=>e.error);var Cse=Kt(Ov,e=>e.map(n=>xe(ue({},n),{progress:n.currentAmount/n.targetAmount,percentage:Math.round(n.currentAmount/n.targetAmount*100)})));function Kq(e,n){if(e&1){let r=Ce();c(0,"div")(1,"div")(2,"p"),u(3),l(),c(4,"p"),u(5),Ee(6,"currency"),l(),c(7,"p"),u(8),Ee(9,"currency"),l(),c(10,"p"),u(11),Ee(12,"date"),l(),c(13,"button",9),H("click",function(){let i=q(r).$implicit,a=k();return K(a.deleteGoal(i.goalId))}),u(14,"Delete"),l(),c(15,"button",9),H("click",function(){let i=q(r).$implicit,a=k();return K(a.updateCurrentAmount(i.goalId,100))}),u(16,"Add 100 to current amount"),l()()()}if(e&2){let r=n.$implicit,t=k();g(3),he("Title: ",r.title,""),g(2),he("Target Amount: ",$e(6,4,r.targetAmount),""),g(3),he("Current Amount: ",$e(9,6,r.currentAmount),""),g(3),he("Deadline: ",Xt(12,8,t.dateService.toDate(r.deadline),"short"),"")}}var AE=(()=>{let n=class n{constructor(t,i,a,o,s){this.auth=t,this.router=i,this.notificationService=a,this.store=o,this.dateService=s,this.userId="",this.goals=[],this.newGoal={goalId:"",userId:"",title:"",targetAmount:0,currentAmount:0,deadline:hi.fromDate(new Date)},this.destroy$=new bt,this.subscriptions=new fn,this.goals$=this.store.select(Ov),this.goalsLoading$=this.store.select(OE),this.goalsError$=this.store.select(IE)}ngOnInit(){this.loadGoals(),this.subscribeToStoreData()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}loadGoals(){let t=this.auth.currentUser;t&&(this.userId=t.uid,this.store.dispatch(ts({userId:this.userId})))}subscribeToStoreData(){this.subscriptions.add(this.goals$.subscribe(t=>{this.goals=t})),this.subscriptions.add(this.goalsError$.subscribe(t=>{t&&(console.error("Error loading goals:",t),this.notificationService.error("Failed to load goals"))}))}createGoal(){if(!this.newGoal.title||!this.newGoal.targetAmount){this.notificationService.warning("Please fill in all required fields");return}let t=this.auth.currentUser;t&&(this.newGoal.userId=t.uid,this.newGoal.goalId=`${this.newGoal.userId}-${new Date().getTime()}`,this.store.dispatch(Dd({userId:t.uid,goal:this.newGoal})),this.notificationService.success("Goal created successfully"),this.newGoal={goalId:"",userId:"",title:"",targetAmount:0,currentAmount:0,deadline:hi.fromDate(new Date)})}deleteGoal(t){let i=this.auth.currentUser;i&&(this.store.dispatch(Fd({userId:i.uid,goalId:t})),this.notificationService.success("Goal deleted successfully"))}updateCurrentAmount(t,i){if(i<=0){this.notificationService.warning("Please enter a valid amount");return}let a=this.auth.currentUser;a&&(this.store.dispatch(Rd({userId:a.uid,goalId:t,amount:i})),this.notificationService.success("Goal progress updated successfully"))}};n.\u0275fac=function(i){return new(i||n)(D(Ut),D(Sn),D(At),D(qt),D(Mn))},n.\u0275cmp=Fe({type:n,selectors:[["app-goals"]],decls:16,vars:4,consts:[[4,"ngFor","ngForOf"],[3,"submit"],["for","title"],["type","text","id","title","name","title","required","",3,"ngModelChange","ngModel"],["for","targetAmount"],["type","number","id","targetAmount","name","targetAmount","required","",3,"ngModelChange","ngModel"],["for","deadline"],["type","date","id","deadline","name","deadline","required","",3,"ngModelChange","ngModel"],["type","submit"],[3,"click"]],template:function(i,a){i&1&&(c(0,"div")(1,"h2"),u(2,"User Goals"),l(),G(3,Kq,17,11,"div",0),c(4,"form",1),H("submit",function(){return a.createGoal()}),c(5,"label",2),u(6,"Title:"),l(),c(7,"input",3),kt("ngModelChange",function(s){return Mt(a.newGoal.title,s)||(a.newGoal.title=s),s}),l(),c(8,"label",4),u(9,"Target Amount:"),l(),c(10,"input",5),kt("ngModelChange",function(s){return Mt(a.newGoal.targetAmount,s)||(a.newGoal.targetAmount=s),s}),l(),c(11,"label",6),u(12,"Deadline:"),l(),c(13,"input",7),kt("ngModelChange",function(s){return Mt(a.newGoal.deadline,s)||(a.newGoal.deadline=s),s}),l(),c(14,"button",8),u(15,"Add Goal"),l()()()),i&2&&(g(3),P("ngForOf",a.goals),g(4),St("ngModel",a.newGoal.title),g(3),St("ngModel",a.newGoal.targetAmount),g(3),St("ngModel",a.newGoal.deadline))},dependencies:[an,Di,mn,Gi,hn,Ai,_d,Hi,gd,zi,Ro]});let e=n;return e})();var Iv=no("budgets"),DE=Kt(Iv,e=>e.budgets),FE=Kt(Iv,e=>e.loading),RE=Kt(Iv,e=>e.error);function Xq(e,n){if(e&1){let r=Ce();c(0,"div")(1,"div")(2,"p"),u(3),l(),c(4,"p"),u(5),Ee(6,"currency"),l(),c(7,"p"),u(8),Ee(9,"currency"),l(),c(10,"p"),u(11),Ee(12,"date"),l(),c(13,"p"),u(14),Ee(15,"date"),l(),c(16,"button",11),H("click",function(){let i=q(r).$implicit,a=k();return K(a.deleteBudget(i.budgetId))}),u(17,"Delete"),l(),c(18,"button",11),H("click",function(){let i=q(r).$implicit,a=k();return K(a.updateSpent(i.budgetId,50))}),u(19,"Add 50 to spent"),l()()()}if(e&2){let r=n.$implicit,t=k();g(3),he("Category: ",r.category,""),g(2),he("Limit: ",$e(6,5,r.limit),""),g(3),he("Spent: ",$e(9,7,r.spent),""),g(3),he("Start Date: ",Xt(12,9,t.dateService.toDate(r.startDate),"short"),""),g(3),he("End Date: ",Xt(15,12,t.dateService.toDate(r.endDate),"short"),"")}}var NE=(()=>{let n=class n{constructor(t,i,a,o,s){this.auth=t,this.router=i,this.notificationService=a,this.store=o,this.dateService=s,this.userId="",this.budgets=[],this.newBudget={budgetId:"",userId:"",category:"Groceries",limit:0,spent:0,startDate:hi.fromDate(new Date),endDate:hi.fromDate(new Date)},this.destroy$=new bt,this.subscriptions=new fn,this.budgets$=this.store.select(DE),this.budgetsLoading$=this.store.select(FE),this.budgetsError$=this.store.select(RE)}ngOnInit(){this.loadBudgets(),this.subscribeToStoreData()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}loadBudgets(){let t=this.auth.currentUser;t&&(this.userId=t.uid,this.store.dispatch(es({userId:this.userId})))}subscribeToStoreData(){this.subscriptions.add(this.budgets$.subscribe(t=>{this.budgets=t})),this.subscriptions.add(this.budgetsError$.subscribe(t=>{t&&(console.error("Error loading budgets:",t),this.notificationService.error("Failed to load budgets"))}))}createBudget(){if(!this.newBudget.category||!this.newBudget.limit){this.notificationService.warning("Please fill in all required fields");return}if(this.newBudget.limit<=0){this.notificationService.warning("Budget limit must be greater than 0");return}let t=this.auth.currentUser;t&&(this.newBudget.userId=t.uid,this.newBudget.budgetId=`${this.newBudget.userId}-${new Date().getTime()}`,this.store.dispatch(Od({userId:t.uid,budget:this.newBudget})),this.notificationService.success("Budget created successfully"),this.newBudget={budgetId:"",userId:"",category:"Groceries",limit:0,spent:0,startDate:hi.fromDate(new Date),endDate:hi.fromDate(new Date)})}deleteBudget(t){let i=this.auth.currentUser;i&&(this.store.dispatch(Id({userId:i.uid,budgetId:t})),this.notificationService.success("Budget deleted successfully"))}updateSpent(t,i){if(i<0){this.notificationService.warning("Spent amount cannot be negative");return}let a=this.auth.currentUser;a&&(this.store.dispatch(Ad({userId:a.uid,budgetId:t,amount:i})),this.notificationService.success("Budget spent amount updated successfully"))}};n.\u0275fac=function(i){return new(i||n)(D(Ut),D(Sn),D(At),D(qt),D(Mn))},n.\u0275cmp=Fe({type:n,selectors:[["app-budgets"]],decls:19,vars:5,consts:[[4,"ngFor","ngForOf"],[3,"submit"],["for","category"],["type","text","id","category","name","category","required","",3,"ngModelChange","ngModel"],["for","limit"],["type","number","id","limit","name","limit","required","",3,"ngModelChange","ngModel"],["for","startDate"],["type","date","id","startDate","name","startDate","required","",3,"ngModelChange","ngModel"],["for","endDate"],["type","date","id","endDate","name","endDate","required","",3,"ngModelChange","ngModel"],["type","submit"],[3,"click"]],template:function(i,a){i&1&&(c(0,"div")(1,"h2"),u(2,"User Budgets"),l(),G(3,Xq,20,15,"div",0),c(4,"form",1),H("submit",function(){return a.createBudget()}),c(5,"label",2),u(6,"Category:"),l(),c(7,"input",3),kt("ngModelChange",function(s){return Mt(a.newBudget.category,s)||(a.newBudget.category=s),s}),l(),c(8,"label",4),u(9,"Limit:"),l(),c(10,"input",5),kt("ngModelChange",function(s){return Mt(a.newBudget.limit,s)||(a.newBudget.limit=s),s}),l(),c(11,"label",6),u(12,"Start Date:"),l(),c(13,"input",7),kt("ngModelChange",function(s){return Mt(a.newBudget.startDate,s)||(a.newBudget.startDate=s),s}),l(),c(14,"label",8),u(15,"End Date:"),l(),c(16,"input",9),kt("ngModelChange",function(s){return Mt(a.newBudget.endDate,s)||(a.newBudget.endDate=s),s}),l(),c(17,"button",10),u(18,"Add Budget"),l()()()),i&2&&(g(3),P("ngForOf",a.budgets),g(4),St("ngModel",a.newBudget.category),g(3),St("ngModel",a.newBudget.limit),g(3),St("ngModel",a.newBudget.startDate),g(3),St("ngModel",a.newBudget.endDate))},dependencies:[an,Di,mn,Gi,hn,Ai,_d,Hi,gd,zi,Ro]});let e=n;return e})();var BE=To(Fo());var Av=no("profile"),Dv=Kt(Av,e=>e.profile),LE=Kt(Av,e=>e.loading),VE=Kt(Av,e=>e.error),Tu=Kt(Dv,e=>e==null?void 0:e.preferences),Fse=Kt(Tu,e=>e==null?void 0:e.defaultCurrency),Rse=Kt(Tu,e=>e==null?void 0:e.language),Nse=Kt(Tu,e=>e==null?void 0:e.timezone),Lse=Kt(Tu,e=>e==null?void 0:e.notifications),Vse=Kt(Tu,e=>e==null?void 0:e.emailUpdates),Bse=Kt(Tu,e=>e==null?void 0:e.budgetAlerts);function Jq(e,n){e&1&&(c(0,"mat-icon"),u(1,"edit"),l())}function eK(e,n){e&1&&(c(0,"mat-icon"),u(1,"save"),l())}function tK(e,n){if(e&1){let r=Ce();c(0,"button",16),H("click",function(){q(r);let i=k();return K(i.toggleEdit())}),G(1,Jq,2,0,"mat-icon",17)(2,eK,2,0,"mat-icon",17),l()}if(e&2){let r=k();g(),P("ngIf",!r.isEditing),g(),P("ngIf",r.isEditing)}}function nK(e,n){e&1&&(c(0,"div",18),de(1,"mat-spinner",19),c(2,"p",20),u(3,"Loading profile..."),l()())}function iK(e,n){if(e&1){let r=Ce();c(0,"button",21),H("click",function(){q(r);let i=k();return K(i.toggleEdit())}),c(1,"mat-icon"),u(2),l(),u(3),l()}if(e&2){let r=k();P("disabled",r.isLoading),g(2),ne(r.isEditing?"close":"edit"),g(),he(" ",r.isEditing?"Cancel Edit":"Edit Profile"," ")}}function rK(e,n){e&1&&(c(0,"mat-error"),u(1," First name is required "),l())}function aK(e,n){e&1&&(c(0,"mat-error"),u(1," First name must be at least 2 characters "),l())}function oK(e,n){e&1&&(c(0,"mat-error"),u(1," Last name is required "),l())}function sK(e,n){e&1&&(c(0,"mat-error"),u(1," Last name must be at least 2 characters "),l())}function cK(e,n){e&1&&(c(0,"mat-error"),u(1," Email is required "),l())}function lK(e,n){e&1&&(c(0,"mat-error"),u(1," Please enter a valid email "),l())}function dK(e,n){e&1&&(c(0,"mat-error"),u(1," Please enter a valid phone number "),l())}function uK(e,n){e&1&&(c(0,"mat-error"),u(1," Income cannot be negative "),l())}function mK(e,n){if(e&1&&(c(0,"mat-option",58),u(1),l()),e&2){let r=n.$implicit;P("value",r),g(),he(" ",r," ")}}function hK(e,n){if(e&1&&(c(0,"mat-option",58),u(1),l()),e&2){let r=n.$implicit;P("value",r.value),g(),he(" ",r.label," ")}}function pK(e,n){if(e&1&&(c(0,"mat-option",58),u(1),l()),e&2){let r=n.$implicit;P("value",r.code),g(),he(" ",r.name," ")}}function fK(e,n){e&1&&(c(0,"mat-icon"),u(1,"hourglass_empty"),l())}function gK(e,n){e&1&&(c(0,"mat-icon"),u(1,"save"),l())}function _K(e,n){if(e&1){let r=Ce();c(0,"div",59)(1,"button",60),H("click",function(){q(r);let i=k(2);return K(i.cancelEdit())}),u(2," Cancel "),l(),c(3,"button",61),G(4,fK,2,0,"mat-icon",17)(5,gK,2,0,"mat-icon",17),u(6),l()()}if(e&2){let r=k(2);g(),P("disabled",r.isLoading),g(2),P("disabled",r.profileForm.invalid||r.isLoading),g(),P("ngIf",r.isLoading),g(),P("ngIf",!r.isLoading),g(),he(" ",r.isLoading?"Saving...":"Save Changes"," ")}}function xK(e,n){if(e&1){let r=Ce();c(0,"div",22)(1,"form",23),H("ngSubmit",function(){q(r);let i=k();return K(i.saveProfile())}),c(2,"div",24)(3,"div",25)(4,"mat-icon",26),u(5,"person"),l(),c(6,"h2"),u(7,"Personal Information"),l()(),c(8,"div",27)(9,"mat-form-field",28)(10,"mat-label"),u(11,"First Name *"),l(),de(12,"input",29),G(13,rK,2,0,"mat-error",17)(14,aK,2,0,"mat-error",17),l(),c(15,"mat-form-field",28)(16,"mat-label"),u(17,"Last Name *"),l(),de(18,"input",30),G(19,oK,2,0,"mat-error",17)(20,sK,2,0,"mat-error",17),l(),c(21,"mat-form-field",28)(22,"mat-label"),u(23,"Email *"),l(),de(24,"input",31),G(25,cK,2,0,"mat-error",17)(26,lK,2,0,"mat-error",17),l(),c(27,"mat-form-field",28)(28,"mat-label"),u(29,"Phone Number"),l(),de(30,"input",32),G(31,dK,2,0,"mat-error",17),l(),c(32,"mat-form-field",28)(33,"mat-label"),u(34,"Date of Birth"),l(),de(35,"input",33)(36,"mat-datepicker-toggle",34)(37,"mat-datepicker",null,0),l(),c(39,"mat-form-field",28)(40,"mat-label"),u(41,"Occupation"),l(),de(42,"input",35),l(),c(43,"mat-form-field",28)(44,"mat-label"),u(45,"Monthly Income"),l(),de(46,"input",36),c(47,"span",37),u(48),l(),G(49,uK,2,0,"mat-error",17),l()()(),c(50,"div",38)(51,"div",25)(52,"mat-icon",26),u(53,"settings"),l(),c(54,"h2"),u(55,"Preferences"),l()(),c(56,"div",27)(57,"mat-form-field",28)(58,"mat-label"),u(59,"Default Currency *"),l(),c(60,"mat-select",39),G(61,mK,2,2,"mat-option",40),l()(),c(62,"mat-form-field",28)(63,"mat-label"),u(64,"Timezone *"),l(),c(65,"mat-select",41),G(66,hK,2,2,"mat-option",40),l()(),c(67,"mat-form-field",28)(68,"mat-label"),u(69,"Language *"),l(),c(70,"mat-select",42),G(71,pK,2,2,"mat-option",40),l()()(),c(72,"div",43)(73,"div",44)(74,"mat-slide-toggle",45)(75,"span",46),u(76,"Push Notifications"),l()(),c(77,"p",47),u(78,"Receive notifications about important updates"),l()(),c(79,"div",44)(80,"mat-slide-toggle",48)(81,"span",46),u(82,"Email Updates"),l()(),c(83,"p",47),u(84,"Receive weekly financial summaries via email"),l()(),c(85,"div",44)(86,"mat-slide-toggle",49)(87,"span",46),u(88,"Budget Alerts"),l()(),c(89,"p",47),u(90,"Get notified when you exceed budget limits"),l()()()(),G(91,_K,7,5,"div",50),l(),c(92,"div",51)(93,"div",25)(94,"mat-icon",26),u(95,"security"),l(),c(96,"h2"),u(97,"Account Actions"),l()(),c(98,"div",52)(99,"div",53)(100,"mat-icon",54),u(101,"lock"),l(),c(102,"h3"),u(103,"Change Password"),l(),c(104,"p"),u(105,"Update your account password for better security"),l(),c(106,"button",55),H("click",function(){q(r);let i=k();return K(i.changePassword())}),u(107," Change Password "),l()(),c(108,"div",53)(109,"mat-icon",54),u(110,"download"),l(),c(111,"h3"),u(112,"Export Data"),l(),c(113,"p"),u(114,"Download all your financial data as a backup"),l(),c(115,"button",55),H("click",function(){q(r);let i=k();return K(i.exportData())}),u(116," Export Data "),l()(),c(117,"div",56)(118,"mat-icon",54),u(119,"delete_forever"),l(),c(120,"h3"),u(121,"Delete Account"),l(),c(122,"p"),u(123,"Permanently delete your account and all associated data"),l(),c(124,"button",57),H("click",function(){q(r);let i=k();return K(i.deleteAccount())}),u(125," Delete Account "),l()()()()()}if(e&2){let r,t,i,a,o,s,d,m,f=qn(38),_=k();g(),P("formGroup",_.profileForm),g(11),P("readonly",!_.isEditing),g(),P("ngIf",(r=_.profileForm.get("firstName"))==null?null:r.hasError("required")),g(),P("ngIf",(t=_.profileForm.get("firstName"))==null?null:t.hasError("minlength")),g(4),P("readonly",!_.isEditing),g(),P("ngIf",(i=_.profileForm.get("lastName"))==null?null:i.hasError("required")),g(),P("ngIf",(a=_.profileForm.get("lastName"))==null?null:a.hasError("minlength")),g(4),P("readonly",!_.isEditing),g(),P("ngIf",(o=_.profileForm.get("email"))==null?null:o.hasError("required")),g(),P("ngIf",(s=_.profileForm.get("email"))==null?null:s.hasError("email")),g(4),P("readonly",!_.isEditing),g(),P("ngIf",(d=_.profileForm.get("phone"))==null?null:d.hasError("pattern")),g(4),P("matDatepicker",f)("readonly",!_.isEditing),g(),P("for",f)("disabled",!_.isEditing),g(6),P("readonly",!_.isEditing),g(4),P("readonly",!_.isEditing),g(2),he("",_.userProfile.preferences==null?null:_.userProfile.preferences.defaultCurrency,"\xA0"),g(),P("ngIf",(m=_.profileForm.get("monthlyIncome"))==null?null:m.hasError("min")),g(11),P("disabled",!_.isEditing),g(),P("ngForOf",_.currencies),g(4),P("disabled",!_.isEditing),g(),P("ngForOf",_.timezones),g(4),P("disabled",!_.isEditing),g(),P("ngForOf",_.languages),g(3),P("disabled",!_.isEditing),g(6),P("disabled",!_.isEditing),g(6),P("disabled",!_.isEditing),g(5),P("ngIf",_.isEditing)}}var jE=(()=>{let n=class n{constructor(t,i,a,o,s,d,m,f,_){this.fb=t,this.auth=i,this.router=a,this.notificationService=o,this.validationService=s,this.dialog=d,this.dateService=m,this.store=f,this.breakpointObserver=_,this.isLoading=!1,this.isEditing=!1,this.userProfile=null,this.currencies=Object.values(hC),this.defaultCurrency=xt.CURRENCY.DEFAULT,this.languages=Object.entries(xt.LANGUAGE.NAMES).map(([v,w])=>({code:v,name:w})),this.validation=xt.VALIDATION,this.timezones=gC,this.isMobile=!1,this.destroy$=new bt,this.subscriptions=new fn,this.isMobile=this.breakpointObserver.isMatched("(max-width: 600px)"),this.profile$=this.store.select(Dv),this.profileLoading$=this.store.select(LE),this.profileError$=this.store.select(VE),this.profileForm=this.fb.group({firstName:["",this.validationService.getProfileNameValidators()],lastName:["",this.validationService.getProfileNameValidators()],email:["",this.validationService.getProfileEmailValidators()],phone:["",this.validationService.getProfilePhoneValidators()],dateOfBirth:[""],occupation:["",this.validationService.getProfileOccupationValidators()],monthlyIncome:[0,this.validationService.getProfileIncomeValidators()],preferences:this.fb.group({defaultCurrency:[this.defaultCurrency,yt.required],timezone:["UTC",yt.required],language:[xt.LANGUAGE.DEFAULT,yt.required],notifications:[!0],emailUpdates:[!0],budgetAlerts:[!0]})})}ngOnInit(){this.loadUserProfile(),this.subscribeToStoreData()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}loadUserProfile(){return ge(this,null,function*(){try{if(this.isLoading=!0,this.currentUser=this.auth.currentUser,!this.currentUser){this.notificationService.error(Is.AUTH.USER_NOT_FOUND),this.router.navigate(["/sign-in"]);return}this.store.dispatch(ns({userId:this.currentUser.uid}))}catch(t){console.error("Error loading profile:",t),this.notificationService.error(Is.NETWORK.SERVER_ERROR)}finally{this.isLoading=!1}})}subscribeToStoreData(){this.subscriptions.add(this.profile$.subscribe(t=>{t&&(this.userProfile=this.mapUserToProfile(t),this.populateForm())})),this.subscriptions.add(this.profileLoading$.subscribe(t=>{this.isLoading=t})),this.subscriptions.add(this.profileError$.subscribe(t=>{t&&(console.error("Error loading profile:",t),this.notificationService.error(Is.NETWORK.SERVER_ERROR))}))}mapUserToProfile(t){var i,a,o,s,d,m;return{uid:t.uid,firstName:t.firstName||"",lastName:t.lastName||"",email:t.email,phone:t.phone||"",dateOfBirth:this.dateService.toDate(t.dateOfBirth||0)||new Date,occupation:t.occupation||"",monthlyIncome:t.monthlyIncome||0,preferences:{defaultCurrency:((i=t.preferences)==null?void 0:i.defaultCurrency)||this.defaultCurrency,timezone:((a=t.preferences)==null?void 0:a.timezone)||"UTC",language:((o=t.preferences)==null?void 0:o.language)||xt.LANGUAGE.DEFAULT,notifications:((s=t.preferences)==null?void 0:s.notifications)||!0,emailUpdates:((d=t.preferences)==null?void 0:d.emailUpdates)||!0,budgetAlerts:((m=t.preferences)==null?void 0:m.budgetAlerts)||!0},role:t.role,createdAt:t.createdAt,updatedAt:this.dateService.toTimestamp(t.updatedAt)||new Date}}createDefaultProfile(){var t,i;return{uid:this.currentUser.uid,firstName:((t=this.currentUser.displayName)==null?void 0:t.split(" ")[0])||"",lastName:((i=this.currentUser.displayName)==null?void 0:i.split(" ").slice(1).join(" "))||"",email:this.currentUser.email||"",phone:"",dateOfBirth:void 0,occupation:"",monthlyIncome:0,preferences:{defaultCurrency:this.defaultCurrency,timezone:"UTC",language:xt.LANGUAGE.DEFAULT,notifications:!0,emailUpdates:!0,budgetAlerts:!0},role:E_.FREE,createdAt:new Date,updatedAt:new Date}}populateForm(){var t,i,a,o,s,d;this.userProfile&&this.profileForm.patchValue({firstName:this.userProfile.firstName,lastName:this.userProfile.lastName,email:this.userProfile.email,phone:this.userProfile.phone||"",dateOfBirth:this.userProfile.dateOfBirth||"",occupation:this.userProfile.occupation||"",monthlyIncome:this.userProfile.monthlyIncome||0,preferences:{defaultCurrency:((t=this.userProfile.preferences)==null?void 0:t.defaultCurrency)||this.defaultCurrency,timezone:((i=this.userProfile.preferences)==null?void 0:i.timezone)||"UTC",language:((a=this.userProfile.preferences)==null?void 0:a.language)||xt.LANGUAGE.DEFAULT,notifications:((o=this.userProfile.preferences)==null?void 0:o.notifications)||!0,emailUpdates:((s=this.userProfile.preferences)==null?void 0:s.emailUpdates)||!0,budgetAlerts:((d=this.userProfile.preferences)==null?void 0:d.budgetAlerts)||!0}})}toggleEdit(){this.isEditing=!this.isEditing,this.isEditing?this.notificationService.info("Edit mode enabled"):(this.notificationService.info("Edit mode disabled"),this.saveProfile())}saveProfile(){return ge(this,null,function*(){if(this.profileForm.invalid){this.notificationService.warning(Is.VALIDATION.REQUIRED_FIELD);return}try{this.isLoading=!0;let t=this.profileForm.value;if(this.userProfile){let i={uid:this.userProfile.uid,email:t.email,role:E_.FREE,createdAt:this.userProfile.createdAt,preferences:t.preferences,firstName:t.firstName,lastName:t.lastName,phone:t.phone,dateOfBirth:t.dateOfBirth,occupation:t.occupation,monthlyIncome:t.monthlyIncome,updatedAt:new Date};this.store.dispatch(Nd({userId:this.currentUser.uid,profile:i})),this.notificationService.success(fC.GENERAL.UPDATED),this.isEditing=!1}}catch(t){console.error("Error saving profile:",t),this.notificationService.error(Is.NETWORK.SERVER_ERROR)}finally{this.isLoading=!1}})}cancelEdit(){this.populateForm(),this.isEditing=!1,this.notificationService.info("Changes cancelled")}deleteAccount(){return ge(this,null,function*(){this.dialog.open(Ds,{width:"400px",data:{title:"Delete Account",message:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently lost.",confirmText:"Delete Account",cancelText:"Cancel",confirmColor:"warn"}}).afterClosed().subscribe(i=>ge(this,null,function*(){if(i)try{this.isLoading=!0,yield this.currentUser.delete(),this.notificationService.success("Account deleted successfully"),this.router.navigate(["/sign-in"])}catch(a){console.error("Error deleting account:",a),this.notificationService.error(Is.NETWORK.SERVER_ERROR)}finally{this.isLoading=!1}}))})}changePassword(){return ge(this,null,function*(){this.notificationService.info("Password change feature coming soon")})}exportData(){return ge(this,null,function*(){try{if(!xt.FEATURES.EXPORT_FUNCTIONALITY){this.notificationService.warning(Is.PERMISSION.FEATURE_NOT_AVAILABLE);return}this.notificationService.info("Data export feature coming soon")}catch(t){console.error("Error exporting data:",t),this.notificationService.error(Is.NETWORK.SERVER_ERROR)}})}getFullName(){return this.userProfile?`${this.userProfile.firstName} ${this.userProfile.lastName}`.trim():"User"}getTimezoneLabel(t){let i=this.timezones.find(a=>a.value===t);return i?i.label:t}getLanguageName(t){return xt.LANGUAGE.NAMES[t]||t}getFormattedDate(t){return t?(0,BE.default)((t==null?void 0:t.seconds)*1e3).format("MMM DD, YYYY"):"N/A"}getFirstNameError(){let t=this.profileForm.get("firstName");return t?this.validationService.getProfileNameError(t):""}getLastNameError(){let t=this.profileForm.get("lastName");return t?this.validationService.getProfileNameError(t):""}getEmailError(){let t=this.profileForm.get("email");return t?this.validationService.getProfileEmailError(t):""}getPhoneError(){let t=this.profileForm.get("phone");return t?this.validationService.getProfilePhoneError(t):""}getOccupationError(){let t=this.profileForm.get("occupation");return t?this.validationService.getProfileOccupationError(t):""}getIncomeError(){let t=this.profileForm.get("monthlyIncome");return t?this.validationService.getProfileIncomeError(t):""}};n.\u0275fac=function(i){return new(i||n)(D(wr),D(Ut),D(Sn),D(At),D(Kr),D(ar),D(Mn),D(qt),D(Sr))},n.\u0275cmp=Fe({type:n,selectors:[["app-profile"]],decls:19,vars:7,consts:[["dobPicker",""],["mat-fab","","color","primary","class"," mobile-fab-btn",3,"click",4,"ngIf"],[1,"profile-container"],["class","loading-overlay",4,"ngIf"],[1,"profile-header"],[1,"header-content"],[1,"avatar-section"],[1,"avatar"],[1,"avatar-icon"],[1,"user-info"],[1,"user-name"],[1,"user-email"],[1,"user-role"],[1,"header-actions"],["mat-raised-button","","color","primary","class","edit-btn",3,"disabled","click",4,"ngIf"],["class","profile-content",4,"ngIf"],["mat-fab","","color","primary",1,"mobile-fab-btn",3,"click"],[4,"ngIf"],[1,"loading-overlay"],["diameter","40"],[1,"mt-4","text-gray-600"],["mat-raised-button","","color","primary",1,"edit-btn",3,"click","disabled"],[1,"profile-content"],[1,"profile-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-header"],[1,"section-icon"],[1,"form-grid"],["appearance","fill",1,"form-field"],["matInput","","formControlName","firstName","autocomplete","given-name",3,"readonly"],["matInput","","formControlName","lastName","autocomplete","family-name",3,"readonly"],["matInput","","type","email","formControlName","email","autocomplete","email",3,"readonly"],["matInput","","formControlName","phone","placeholder","+1 (555) 123-4567","autocomplete","tel",3,"readonly"],["matInput","","formControlName","dateOfBirth","autocomplete","bday",3,"matDatepicker","readonly"],["matSuffix","",3,"for","disabled"],["matInput","","formControlName","occupation","placeholder","e.g., Software Engineer","autocomplete","organization-title",3,"readonly"],["matInput","","type","number","formControlName","monthlyIncome","step","0.01","autocomplete","off",3,"readonly"],["matTextPrefix",""],["formGroupName","preferences",1,"form-section"],["formControlName","defaultCurrency",3,"disabled"],[3,"value",4,"ngFor","ngForOf"],["formControlName","timezone",3,"disabled"],["formControlName","language",3,"disabled"],[1,"preferences-grid"],[1,"preference-item"],["formControlName","notifications","color","primary",3,"disabled"],[1,"toggle-label"],[1,"preference-description"],["formControlName","emailUpdates","color","primary",3,"disabled"],["formControlName","budgetAlerts","color","primary",3,"disabled"],["class","form-actions",4,"ngIf"],[1,"account-actions-section"],[1,"actions-grid"],[1,"action-card"],[1,"action-icon"],["mat-stroked-button","",1,"action-btn",3,"click"],[1,"action-card","danger"],["mat-stroked-button","","color","warn",1,"action-btn",3,"click"],[3,"value"],[1,"form-actions"],["type","button","mat-stroked-button","",1,"cancel-btn",3,"click","disabled"],["type","submit","mat-raised-button","","color","primary",1,"save-btn",3,"disabled"]],template:function(i,a){i&1&&(G(0,tK,3,2,"button",1),c(1,"div",2),G(2,nK,4,0,"div",3),c(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"mat-icon",8),u(8,"person"),l()(),c(9,"div",9)(10,"h1",10),u(11),l(),c(12,"p",11),u(13),l(),c(14,"p",12),u(15),l()()(),c(16,"div",13),G(17,iK,4,3,"button",14),l()()(),G(18,xK,126,30,"div",15),l()),i&2&&(P("ngIf",a.isMobile),g(2),P("ngIf",a.isLoading),g(9),ne(a.getFullName()),g(2),ne(a.userProfile==null?null:a.userProfile.email),g(2),he("Member since ",a.getFormattedDate(a.userProfile==null?null:a.userProfile.createdAt),""),g(2),P("ngIf",!a.isMobile),g(),P("ngIf",a.userProfile))},dependencies:[an,Tt,Di,mn,Gi,hn,Ai,yr,Cr,ky,zt,Cn,gc,Mf,ru,vm,Ma,Zo,Jo,QC,Td,Qr,Lr,Cc,Xo,lo],styles:[".profile-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:24px;min-height:100vh;background:var(--background-color);color:var(--text-color)}@media (max-width: 1024px){.profile-container[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.profile-container[_ngcontent-%COMP%]{padding:12px}}.loading-overlay[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;background:var(--background-color);border-radius:12px;box-shadow:0 2px 8px #0000001a}.profile-header[_ngcontent-%COMP%]{background:var(--card-background);border-radius:16px;padding:32px;margin-bottom:32px;box-shadow:0 4px 20px #00000014;border:1px solid var(--border-color)}@media (max-width: 1024px){.profile-header[_ngcontent-%COMP%]{padding:28px;margin-bottom:28px}}@media (max-width: 768px){.profile-header[_ngcontent-%COMP%]{padding:24px 20px;margin-bottom:24px}}@media (max-width: 480px){.profile-header[_ngcontent-%COMP%]{padding:20px 16px;margin-bottom:20px}}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:24px}@media (max-width: 1024px){.header-content[_ngcontent-%COMP%]{gap:20px}}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:20px}}@media (max-width: 480px){.header-content[_ngcontent-%COMP%]{gap:16px}}.avatar-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex:1}@media (max-width: 768px){.avatar-section[_ngcontent-%COMP%]{width:100%;gap:16px}}@media (max-width: 480px){.avatar-section[_ngcontent-%COMP%]{gap:12px}}.avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color),var(--accent-color));display:flex;align-items:center;justify-content:center;box-shadow:0 4px 16px #00000026;flex-shrink:0}@media (max-width: 1024px){.avatar[_ngcontent-%COMP%]{width:70px;height:70px}}@media (max-width: 768px){.avatar[_ngcontent-%COMP%]{width:60px;height:60px}}@media (max-width: 480px){.avatar[_ngcontent-%COMP%]{width:50px;height:50px}}.avatar-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px;color:#fff}@media (max-width: 1024px){.avatar-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}}@media (max-width: 768px){.avatar-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}}@media (max-width: 480px){.avatar-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}}.user-info[_ngcontent-%COMP%]{flex:1;min-width:0}.user-name[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin:0 0 8px;color:var(--text-color);word-wrap:break-word}@media (max-width: 1024px){.user-name[_ngcontent-%COMP%]{font-size:26px}}@media (max-width: 768px){.user-name[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 480px){.user-name[_ngcontent-%COMP%]{font-size:22px}}.user-email[_ngcontent-%COMP%]{font-size:16px;color:var(--text-secondary);margin:0 0 4px;word-wrap:break-word}@media (max-width: 480px){.user-email[_ngcontent-%COMP%]{font-size:14px}}.user-role[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted);margin:0}@media (max-width: 480px){.user-role[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 768px){.header-actions[_ngcontent-%COMP%]{width:100%}}.edit-btn[_ngcontent-%COMP%]{min-width:140px}@media (max-width: 1024px){.edit-btn[_ngcontent-%COMP%]{min-width:130px}}@media (max-width: 768px){.edit-btn[_ngcontent-%COMP%]{width:100%;min-width:unset}}.profile-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}@media (max-width: 768px){.profile-content[_ngcontent-%COMP%]{gap:24px}}@media (max-width: 480px){.profile-content[_ngcontent-%COMP%]{gap:20px}}.profile-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}@media (max-width: 768px){.profile-form[_ngcontent-%COMP%]{gap:24px}}@media (max-width: 480px){.profile-form[_ngcontent-%COMP%]{gap:20px}}.form-section[_ngcontent-%COMP%]{background:var(--card-background);border-radius:16px;padding:32px;box-shadow:0 4px 20px #00000014;border:1px solid var(--border-color)}@media (max-width: 1024px){.form-section[_ngcontent-%COMP%]{padding:28px}}@media (max-width: 768px){.form-section[_ngcontent-%COMP%]{padding:24px 20px}}@media (max-width: 480px){.form-section[_ngcontent-%COMP%]{padding:20px 16px}}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:24px;padding-bottom:16px;border-bottom:2px solid var(--border-color)}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:12px}}@media (max-width: 480px){.section-header[_ngcontent-%COMP%]{margin-bottom:16px;padding-bottom:10px;gap:8px}}.section-icon[_ngcontent-%COMP%]{color:var(--primary-color);font-size:24px;width:24px;height:24px;flex-shrink:0}@media (max-width: 480px){.section-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin:0;color:var(--text-color)}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px}@media (max-width: 1024px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}}@media (max-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}@media (max-width: 480px){.form-grid[_ngcontent-%COMP%]{gap:16px}}.form-field[_ngcontent-%COMP%]{width:100%}.preferences-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px;margin-top:24px}@media (max-width: 1024px){.preferences-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}}@media (max-width: 768px){.preferences-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}@media (max-width: 480px){.preferences-grid[_ngcontent-%COMP%]{gap:16px;margin-top:20px}}.preference-item[_ngcontent-%COMP%]{padding:20px;background:var(--background-color);border-radius:12px;border:1px solid var(--border-color);transition:all .3s ease}.preference-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}@media (max-width: 768px){.preference-item[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.preference-item[_ngcontent-%COMP%]{padding:14px}}.preference-item[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{margin-bottom:8px}.preference-description[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin:8px 0 0;line-height:1.4}@media (max-width: 480px){.preference-description[_ngcontent-%COMP%]{font-size:13px}}.toggle-label[_ngcontent-%COMP%]{font-weight:500;color:var(--text-color)}@media (max-width: 480px){.toggle-label[_ngcontent-%COMP%]{font-size:14px}}.form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:flex-end;padding:24px 0;border-top:1px solid var(--border-color)}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:12px;padding:20px 0}}@media (max-width: 480px){.form-actions[_ngcontent-%COMP%]{padding:16px 0;gap:10px}}.cancel-btn[_ngcontent-%COMP%]{min-width:120px}@media (max-width: 768px){.cancel-btn[_ngcontent-%COMP%]{width:100%;min-width:unset}}.save-btn[_ngcontent-%COMP%]{min-width:140px}@media (max-width: 1024px){.save-btn[_ngcontent-%COMP%]{min-width:130px}}@media (max-width: 768px){.save-btn[_ngcontent-%COMP%]{width:100%;min-width:unset}}.account-actions-section[_ngcontent-%COMP%]{background:var(--card-background);border-radius:16px;padding:32px;box-shadow:0 4px 20px #00000014;border:1px solid var(--border-color)}@media (max-width: 1024px){.account-actions-section[_ngcontent-%COMP%]{padding:28px}}@media (max-width: 768px){.account-actions-section[_ngcontent-%COMP%]{padding:24px 20px}}@media (max-width: 480px){.account-actions-section[_ngcontent-%COMP%]{padding:20px 16px}}.actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;margin-top:24px}@media (max-width: 1024px){.actions-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px}}@media (max-width: 768px){.actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:20px}}@media (max-width: 480px){.actions-grid[_ngcontent-%COMP%]{gap:16px;margin-top:20px}}.action-card[_ngcontent-%COMP%]{padding:24px;background:var(--background-color);border-radius:12px;border:1px solid var(--border-color);text-align:center;transition:all .3s ease}.action-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 24px #0000001f}.action-card.danger[_ngcontent-%COMP%]{border-color:var(--warn-color);background:#f443360d}.action-card.danger[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{color:var(--warn-color)}@media (max-width: 768px){.action-card[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 480px){.action-card[_ngcontent-%COMP%]{padding:16px}}.action-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:var(--primary-color);margin-bottom:16px}@media (max-width: 768px){.action-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;margin-bottom:12px}}@media (max-width: 480px){.action-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;margin-bottom:10px}}.action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:0 0 12px;color:var(--text-color)}@media (max-width: 768px){.action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin:0 0 10px}}@media (max-width: 480px){.action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;margin:0 0 8px}}.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary);margin:0 0 20px;line-height:1.5}@media (max-width: 768px){.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;margin:0 0 16px}}@media (max-width: 480px){.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin:0 0 14px}}.action-btn[_ngcontent-%COMP%]{min-width:140px}@media (max-width: 1024px){.action-btn[_ngcontent-%COMP%]{min-width:130px}}@media (max-width: 768px){.action-btn[_ngcontent-%COMP%]{width:100%;min-width:unset}}.dark-theme[_nghost-%COMP%]   .profile-container[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .profile-container[_ngcontent-%COMP%]{background:var(--dark-background)}.dark-theme[_nghost-%COMP%]   .profile-header[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .profile-header[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .form-section[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .form-section[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .account-actions-section[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .account-actions-section[_ngcontent-%COMP%]{background:var(--dark-card-background);border-color:var(--dark-border-color)}.dark-theme[_nghost-%COMP%]   .preference-item[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .preference-item[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .action-card[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]{background:var(--dark-background);border-color:var(--dark-border-color)}.dark-theme[_nghost-%COMP%]   .user-name[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .user-name[_ngcontent-%COMP%]{color:var(--dark-text-color)}.dark-theme[_nghost-%COMP%]   .user-email[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .user-email[_ngcontent-%COMP%]{color:var(--dark-text-secondary)}.dark-theme[_nghost-%COMP%]   .user-role[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .user-role[_ngcontent-%COMP%]{color:var(--dark-text-muted)}.dark-theme[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--dark-text-color)}.dark-theme[_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--dark-text-color)}.dark-theme[_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--dark-text-secondary)}.dark-theme[_nghost-%COMP%]   .preference-description[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .preference-description[_ngcontent-%COMP%]{color:var(--dark-text-secondary)}.form-field[_ngcontent-%COMP%]{transition:all .3s ease}.form-field.mat-focused[_ngcontent-%COMP%]{transform:scale(1.02)}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}.loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@media (max-width: 640px){.form-grid[_ngcontent-%COMP%], .preferences-grid[_ngcontent-%COMP%], .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.user-info[_ngcontent-%COMP%], .action-card[_ngcontent-%COMP%], .preference-item[_ngcontent-%COMP%]{overflow-wrap:break-word;word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}button[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width: 480px){.profile-container[_ngcontent-%COMP%]{padding:12px}.profile-header[_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%], .account-actions-section[_ngcontent-%COMP%]{padding:20px 16px}.user-name[_ngcontent-%COMP%]{font-size:22px}.avatar[_ngcontent-%COMP%]{width:50px;height:50px}.avatar-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.form-field[_ngcontent-%COMP%]{margin-bottom:8px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 16px}}@media (max-width: 768px) and (orientation: landscape){.profile-container[_ngcontent-%COMP%]{padding:16px}.header-content[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.avatar-section[_ngcontent-%COMP%], .header-actions[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%]{width:auto}}@media (max-width: 360px){.profile-container[_ngcontent-%COMP%]{padding:8px}.profile-header[_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%], .account-actions-section[_ngcontent-%COMP%]{padding:16px 12px}.user-name[_ngcontent-%COMP%]{font-size:20px}.avatar[_ngcontent-%COMP%]{width:45px;height:45px}.avatar-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15px}.action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 12px;font-size:14px}}@media (max-width: 768px){.mat-slide-toggle[_ngcontent-%COMP%]{min-height:48px}.action-btn[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{min-height:44px}.mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}}@media (min-width: 769px) and (max-width: 1024px){.form-grid[_ngcontent-%COMP%], .preferences-grid[_ngcontent-%COMP%], .actions-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}"]});let e=n;return e})();var HE="@firebase/installations",Lv="0.6.9";var GE=1e4,$E=`w:${Lv}`,WE="FIS_v2",vK="https://firebaseinstallations.googleapis.com/v1",bK=60*60*1e3,yK="installations",CK="Installations";var wK={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},zl=new Lh(yK,CK,wK);function YE(e){return e instanceof qy&&e.code.includes("request-failed")}function qE({projectId:e}){return`${vK}/projects/${e}/installations`}function KE(e){return{token:e.token,requestStatus:2,expiresIn:MK(e.expiresIn),creationTime:Date.now()}}function QE(e,n){return ge(this,null,function*(){let t=(yield n.json()).error;return zl.create("request-failed",{requestName:e,serverCode:t.code,serverMessage:t.message,serverStatus:t.status})})}function XE({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function SK(e,{refreshToken:n}){let r=XE(e);return r.append("Authorization",kK(n)),r}function ZE(e){return ge(this,null,function*(){let n=yield e();return n.status>=500&&n.status<600?e():n})}function MK(e){return Number(e.replace("s","000"))}function kK(e){return`${WE} ${e}`}function PK(t,i){return ge(this,arguments,function*({appConfig:e,heartbeatServiceProvider:n},{fid:r}){let a=qE(e),o=XE(e),s=n.getImmediate({optional:!0});if(s){let _=yield s.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}let d={fid:r,authVersion:WE,appId:e.appId,sdkVersion:$E},m={method:"POST",headers:o,body:JSON.stringify(d)},f=yield ZE(()=>fetch(a,m));if(f.ok){let _=yield f.json();return{fid:_.fid||r,registrationStatus:2,refreshToken:_.refreshToken,authToken:KE(_.authToken)}}else throw yield QE("Create Installation",f)})}function JE(e){return new Promise(n=>{setTimeout(n,e)})}function EK(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}var TK=/^[cdef][\w-]{21}$/,Nv="";function OK(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let r=IK(e);return TK.test(r)?r:Nv}catch{return Nv}}function IK(e){return EK(e).substr(0,22)}function Og(e){return`${e.appName}!${e.appId}`}var eT=new Map;function tT(e,n){let r=Og(e);nT(r,n),AK(r,n)}function nT(e,n){let r=eT.get(e);if(r)for(let t of r)t(n)}function AK(e,n){let r=DK();r&&r.postMessage({key:e,fid:n}),FK()}var Ul=null;function DK(){return!Ul&&"BroadcastChannel"in self&&(Ul=new BroadcastChannel("[Firebase] FID Change"),Ul.onmessage=e=>{nT(e.data.key,e.data.fid)}),Ul}function FK(){eT.size===0&&Ul&&(Ul.close(),Ul=null)}var RK="firebase-installations-database",NK=1,Hl="firebase-installations-store",Fv=null;function Vv(){return Fv||(Fv=sl(RK,NK,{upgrade:(e,n)=>{switch(n){case 0:e.createObjectStore(Hl)}}})),Fv}function Tg(e,n){return ge(this,null,function*(){let r=Og(e),i=(yield Vv()).transaction(Hl,"readwrite"),a=i.objectStore(Hl),o=yield a.get(r);return yield a.put(n,r),yield i.done,(!o||o.fid!==n.fid)&&tT(e,n.fid),n})}function iT(e){return ge(this,null,function*(){let n=Og(e),t=(yield Vv()).transaction(Hl,"readwrite");yield t.objectStore(Hl).delete(n),yield t.done})}function Ig(e,n){return ge(this,null,function*(){let r=Og(e),i=(yield Vv()).transaction(Hl,"readwrite"),a=i.objectStore(Hl),o=yield a.get(r),s=n(o);return s===void 0?yield a.delete(r):yield a.put(s,r),yield i.done,s&&(!o||o.fid!==s.fid)&&tT(e,s.fid),s})}function Bv(e){return ge(this,null,function*(){let n,r=yield Ig(e.appConfig,t=>{let i=LK(t),a=VK(e,i);return n=a.registrationPromise,a.installationEntry});return r.fid===Nv?{installationEntry:yield n}:{installationEntry:r,registrationPromise:n}})}function LK(e){let n=e||{fid:OK(),registrationStatus:0};return rT(n)}function VK(e,n){if(n.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(zl.create("app-offline"));return{installationEntry:n,registrationPromise:i}}let r={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},t=BK(e,r);return{installationEntry:r,registrationPromise:t}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:jK(e)}:{installationEntry:n}}function BK(e,n){return ge(this,null,function*(){try{let r=yield PK(e,n);return Tg(e.appConfig,r)}catch(r){throw YE(r)&&r.customData.serverCode===409?yield iT(e.appConfig):yield Tg(e.appConfig,{fid:n.fid,registrationStatus:0}),r}})}function jK(e){return ge(this,null,function*(){let n=yield UE(e.appConfig);for(;n.registrationStatus===1;)yield JE(100),n=yield UE(e.appConfig);if(n.registrationStatus===0){let{installationEntry:r,registrationPromise:t}=yield Bv(e);return t||r}return n})}function UE(e){return Ig(e,n=>{if(!n)throw zl.create("installation-not-found");return rT(n)})}function rT(e){return UK(e)?{fid:e.fid,registrationStatus:0}:e}function UK(e){return e.registrationStatus===1&&e.registrationTime+GE<Date.now()}function zK(t,i){return ge(this,arguments,function*({appConfig:e,heartbeatServiceProvider:n},r){let a=HK(e,r),o=SK(e,r),s=n.getImmediate({optional:!0});if(s){let _=yield s.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}let d={installation:{sdkVersion:$E,appId:e.appId}},m={method:"POST",headers:o,body:JSON.stringify(d)},f=yield ZE(()=>fetch(a,m));if(f.ok){let _=yield f.json();return KE(_)}else throw yield QE("Generate Auth Token",f)})}function HK(e,{fid:n}){return`${qE(e)}/${n}/authTokens:generate`}function jv(e,n=!1){return ge(this,null,function*(){let r,t=yield Ig(e.appConfig,a=>{if(!aT(a))throw zl.create("not-registered");let o=a.authToken;if(!n&&WK(o))return a;if(o.requestStatus===1)return r=GK(e,n),a;{if(!navigator.onLine)throw zl.create("app-offline");let s=qK(a);return r=$K(e,s),s}});return r?yield r:t.authToken})}function GK(e,n){return ge(this,null,function*(){let r=yield zE(e.appConfig);for(;r.authToken.requestStatus===1;)yield JE(100),r=yield zE(e.appConfig);let t=r.authToken;return t.requestStatus===0?jv(e,n):t})}function zE(e){return Ig(e,n=>{if(!aT(n))throw zl.create("not-registered");let r=n.authToken;return KK(r)?Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}):n})}function $K(e,n){return ge(this,null,function*(){try{let r=yield zK(e,n),t=Object.assign(Object.assign({},n),{authToken:r});return yield Tg(e.appConfig,t),r}catch(r){if(YE(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))yield iT(e.appConfig);else{let t=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}});yield Tg(e.appConfig,t)}throw r}})}function aT(e){return e!==void 0&&e.registrationStatus===2}function WK(e){return e.requestStatus===2&&!YK(e)}function YK(e){let n=Date.now();return n<e.creationTime||e.creationTime+e.expiresIn<n+bK}function qK(e){let n={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:n})}function KK(e){return e.requestStatus===1&&e.requestTime+GE<Date.now()}function QK(e){return ge(this,null,function*(){let n=e,{installationEntry:r,registrationPromise:t}=yield Bv(n);return t?t.catch(console.error):jv(n).catch(console.error),r.fid})}function XK(e,n=!1){return ge(this,null,function*(){let r=e;return yield ZK(r),(yield jv(r,n)).token})}function ZK(e){return ge(this,null,function*(){let{registrationPromise:n}=yield Bv(e);n&&(yield n)})}function JK(e){if(!e||!e.options)throw Rv("App Configuration");if(!e.name)throw Rv("App Name");let n=["projectId","apiKey","appId"];for(let r of n)if(!e.options[r])throw Rv(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Rv(e){return zl.create("missing-app-config-values",{valueName:e})}var oT="installations",eQ="installations-internal",tQ=e=>{let n=e.getProvider("app").getImmediate(),r=JK(n),t=Gu(n,"heartbeat");return{app:n,appConfig:r,heartbeatServiceProvider:t,_delete:()=>Promise.resolve()}},nQ=e=>{let n=e.getProvider("app").getImmediate(),r=Gu(n,oT).getImmediate();return{getId:()=>QK(r),getToken:i=>XK(r,i)}};function iQ(){Cd(new yd(oT,tQ,"PUBLIC")),Cd(new yd(eQ,nQ,"PRIVATE"))}iQ();mc(HE,Lv);mc(HE,Lv,"esm2017");var rQ="/firebase-messaging-sw.js",aQ="/firebase-cloud-messaging-push-scope",mT="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",oQ="https://fcmregistrations.googleapis.com/v1",hT="google.c.a.c_id",sQ="google.c.a.c_l",cQ="google.c.a.ts",lQ="google.c.a.e";var Ag=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}(Ag||{});function Ys(e){let n=new Uint8Array(e);return btoa(String.fromCharCode(...n)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dQ(e){let n="=".repeat((4-e.length%4)%4),r=(e+n).replace(/\-/g,"+").replace(/_/g,"/"),t=atob(r),i=new Uint8Array(t.length);for(let a=0;a<t.length;++a)i[a]=t.charCodeAt(a);return i}var Uv="fcm_token_details_db",uQ=5,sT="fcm_token_object_Store";function mQ(e){return ge(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(Uv))return null;let n=null;return(yield sl(Uv,uQ,{upgrade:(t,i,a,o)=>ge(this,null,function*(){var s;if(i<2||!t.objectStoreNames.contains(sT))return;let d=o.objectStore(sT),m=yield d.index("fcmSenderId").get(e);if(yield d.clear(),!!m){if(i===2){let f=m;if(!f.auth||!f.p256dh||!f.endpoint)return;n={token:f.fcmToken,createTime:(s=f.createTime)!==null&&s!==void 0?s:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Ys(f.vapidKey)}}}else if(i===3){let f=m;n={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Ys(f.auth),p256dh:Ys(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Ys(f.vapidKey)}}}else if(i===4){let f=m;n={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Ys(f.auth),p256dh:Ys(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Ys(f.vapidKey)}}}}})})).close(),yield Bh(Uv),yield Bh("fcm_vapid_details_db"),yield Bh("undefined"),hQ(n)?n:null})}function hQ(e){if(!e||!e.subscriptionOptions)return!1;let{subscriptionOptions:n}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof n.auth=="string"&&n.auth.length>0&&typeof n.p256dh=="string"&&n.p256dh.length>0&&typeof n.endpoint=="string"&&n.endpoint.length>0&&typeof n.swScope=="string"&&n.swScope.length>0&&typeof n.vapidKey=="string"&&n.vapidKey.length>0}var pQ="firebase-messaging-database",fQ=1,o0="firebase-messaging-store",zv=null;function pT(){return zv||(zv=sl(pQ,fQ,{upgrade:(e,n)=>{switch(n){case 0:e.createObjectStore(o0)}}})),zv}function gQ(e){return ge(this,null,function*(){let n=fT(e),t=yield(yield pT()).transaction(o0).objectStore(o0).get(n);if(t)return t;{let i=yield mQ(e.appConfig.senderId);if(i)return yield $v(e,i),i}})}function $v(e,n){return ge(this,null,function*(){let r=fT(e),i=(yield pT()).transaction(o0,"readwrite");return yield i.objectStore(o0).put(n,r),yield i.done,n})}function fT({appConfig:e}){return e.appId}var _Q={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ca=new Lh("messaging","Messaging",_Q);function xQ(e,n){return ge(this,null,function*(){let r=yield Yv(e),t=gT(n),i={method:"POST",headers:r,body:JSON.stringify(t)},a;try{a=yield(yield fetch(Wv(e.appConfig),i)).json()}catch(o){throw ca.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){let o=a.error.message;throw ca.create("token-subscribe-failed",{errorInfo:o})}if(!a.token)throw ca.create("token-subscribe-no-token");return a.token})}function vQ(e,n){return ge(this,null,function*(){let r=yield Yv(e),t=gT(n.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(t)},a;try{a=yield(yield fetch(`${Wv(e.appConfig)}/${n.token}`,i)).json()}catch(o){throw ca.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){let o=a.error.message;throw ca.create("token-update-failed",{errorInfo:o})}if(!a.token)throw ca.create("token-update-no-token");return a.token})}function bQ(e,n){return ge(this,null,function*(){let t={method:"DELETE",headers:yield Yv(e)};try{let a=yield(yield fetch(`${Wv(e.appConfig)}/${n}`,t)).json();if(a.error){let o=a.error.message;throw ca.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw ca.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}})}function Wv({projectId:e}){return`${oQ}/projects/${e}/registrations`}function Yv(r){return ge(this,arguments,function*({appConfig:e,installations:n}){let t=yield n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})}function gT({p256dh:e,auth:n,endpoint:r,vapidKey:t}){let i={web:{endpoint:r,auth:n,p256dh:e}};return t!==mT&&(i.web.applicationPubKey=t),i}var yQ=7*24*60*60*1e3;function CQ(e){return ge(this,null,function*(){let n=yield SQ(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:n.endpoint,auth:Ys(n.getKey("auth")),p256dh:Ys(n.getKey("p256dh"))},t=yield gQ(e.firebaseDependencies);if(t){if(MQ(t.subscriptionOptions,r))return Date.now()>=t.createTime+yQ?wQ(e,{token:t.token,createTime:Date.now(),subscriptionOptions:r}):t.token;try{yield bQ(e.firebaseDependencies,t.token)}catch(i){console.warn(i)}return cT(e.firebaseDependencies,r)}else return cT(e.firebaseDependencies,r)})}function wQ(e,n){return ge(this,null,function*(){try{let r=yield vQ(e.firebaseDependencies,n),t=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()});return yield $v(e.firebaseDependencies,t),r}catch(r){throw r}})}function cT(e,n){return ge(this,null,function*(){let t={token:yield xQ(e,n),createTime:Date.now(),subscriptionOptions:n};return yield $v(e,t),t.token})}function SQ(e,n){return ge(this,null,function*(){let r=yield e.pushManager.getSubscription();return r||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dQ(n)})})}function MQ(e,n){let r=n.vapidKey===e.vapidKey,t=n.endpoint===e.endpoint,i=n.auth===e.auth,a=n.p256dh===e.p256dh;return r&&t&&i&&a}function lT(e){let n={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return kQ(n,e),PQ(n,e),EQ(n,e),n}function kQ(e,n){if(!n.notification)return;e.notification={};let r=n.notification.title;r&&(e.notification.title=r);let t=n.notification.body;t&&(e.notification.body=t);let i=n.notification.image;i&&(e.notification.image=i);let a=n.notification.icon;a&&(e.notification.icon=a)}function PQ(e,n){n.data&&(e.data=n.data)}function EQ(e,n){var r,t,i,a,o;if(!n.fcmOptions&&!(!((r=n.notification)===null||r===void 0)&&r.click_action))return;e.fcmOptions={};let s=(i=(t=n.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&i!==void 0?i:(a=n.notification)===null||a===void 0?void 0:a.click_action;s&&(e.fcmOptions.link=s);let d=(o=n.fcmOptions)===null||o===void 0?void 0:o.analytics_label;d&&(e.fcmOptions.analyticsLabel=d)}function TQ(e){return typeof e=="object"&&!!e&&hT in e}OQ("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function OQ(e,n){let r=[];for(let t=0;t<e.length;t++)r.push(e.charAt(t)),t<n.length&&r.push(n.charAt(t));return r.join("")}function IQ(e){if(!e||!e.options)throw Hv("App Configuration Object");if(!e.name)throw Hv("App Name");let n=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(let t of n)if(!r[t])throw Hv(t);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function Hv(e){return ca.create("missing-app-config-values",{valueName:e})}var Gv=class{constructor(n,r,t){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=IQ(n);this.firebaseDependencies={app:n,appConfig:i,installations:r,analyticsProvider:t}}_delete(){return Promise.resolve()}};function AQ(e){return ge(this,null,function*(){try{e.swRegistration=yield navigator.serviceWorker.register(rQ,{scope:aQ}),e.swRegistration.update().catch(()=>{})}catch(n){throw ca.create("failed-service-worker-registration",{browserErrorMessage:n==null?void 0:n.message})}})}function DQ(e,n){return ge(this,null,function*(){if(!n&&!e.swRegistration&&(yield AQ(e)),!(!n&&e.swRegistration)){if(!(n instanceof ServiceWorkerRegistration))throw ca.create("invalid-sw-registration");e.swRegistration=n}})}function FQ(e,n){return ge(this,null,function*(){n?e.vapidKey=n:e.vapidKey||(e.vapidKey=mT)})}function _T(e,n){return ge(this,null,function*(){if(!navigator)throw ca.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw ca.create("permission-blocked");return yield FQ(e,n==null?void 0:n.vapidKey),yield DQ(e,n==null?void 0:n.serviceWorkerRegistration),CQ(e)})}function RQ(e,n,r){return ge(this,null,function*(){let t=NQ(n);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(t,{message_id:r[hT],message_name:r[sQ],message_time:r[cQ],message_device_time:Math.floor(Date.now()/1e3)})})}function NQ(e){switch(e){case Ag.NOTIFICATION_CLICKED:return"notification_open";case Ag.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function LQ(e,n){return ge(this,null,function*(){let r=n.data;if(!r.isFirebaseMessaging)return;e.onMessageHandler&&r.messageType===Ag.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(lT(r)):e.onMessageHandler.next(lT(r)));let t=r.data;TQ(t)&&t[lQ]==="1"&&(yield RQ(e,r.messageType,t))})}var dT="@firebase/messaging",uT="0.12.12";var VQ=e=>{let n=new Gv(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>LQ(n,r)),n},BQ=e=>{let n=e.getProvider("messaging").getImmediate();return{getToken:t=>_T(n,t)}};function jQ(){Cd(new yd("messaging",VQ,"PUBLIC")),Cd(new yd("messaging-internal",BQ,"PRIVATE")),mc(dT,uT),mc(dT,uT,"esm2017")}function qv(){return ge(this,null,function*(){try{yield Wy()}catch{return!1}return typeof window<"u"&&$y()&&Yy()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function UQ(e,n){if(!navigator)throw ca.create("only-available-in-window");return e.onMessageHandler=n,()=>{e.onMessageHandler=null}}function xT(e=S_()){return qv().then(n=>{if(!n)throw ca.create("unsupported-browser")},n=>{throw ca.create("indexed-db-unsupported")}),Gu(Vh(e),"messaging").getImmediate()}function vT(e,n){return ge(this,null,function*(){return e=Vh(e),_T(e,n)})}function bT(e,n){return e=Vh(e),UQ(e,n)}jQ();var s0=class{constructor(n){return n}},yT="messaging",Kv=class{constructor(){return Zy(yT)}};var Dg="__angularfire_symbol__messagingIsSupported",Qv="__angularfire_symbol__messagingIsSupportedValue";globalThis[Dg]||(globalThis[Dg]=qv().then(e=>globalThis[Qv]=e).catch(()=>globalThis[Qv]=!1));var Fg={async:()=>globalThis[Dg],sync:()=>{let e=globalThis[Qv];if(e===void 0)throw new Error(Qy("Messaging"));return e}},Xv=new Ft("angularfire2.messaging-instances");function zQ(e,n){if(!Fg.sync())return null;let r=Xy(yT,e,n);return r&&new s0(r)}function HQ(e){return(n,r)=>{if(!Fg.sync())return null;let t=n.runOutsideAngular(()=>e(r));return new s0(t)}}var GQ={provide:Kv,deps:[[new al,Xv]]},$Q={provide:s0,useFactory:zQ,deps:[[new al,Xv],eC]};function CT(e,...n){return mc("angularfire",Ky.full,"fcm"),Ss([$Q,GQ,{provide:ih,useValue:Fg.async,multi:!0},{provide:Xv,useFactory:HQ(e),multi:!0,deps:[An,$r,Jy,tC,...n]}])}var gce=Fg.async;var Rg=jh(xT,!0),Zv=jh(vT,!0),wT=jh(bT,!1);var Yc={production:!0,defaultAppTheme:"light-theme",firebaseConfig:{apiKey:"AIzaSyCbi9w0M2U4jtO6tkf78SHvXrgvL4TbyqI",authDomain:"money-manager-b394e.firebaseapp.com",projectId:"money-manager-b394e",storageBucket:"money-manager-b394e.firebasestorage.app",messagingSenderId:"844099376199",appId:"1:844099376199:web:d778d53279e65258b48d62",measurementId:"G-G75KP504VD"},vapidKey:"BOamaFiXWThOO4UzENQofnI3JSJhXa6ozOS0r9DBDumohWfZyXKMeBKC9ujuYVQPm40LNybcLEEpjRflULWrMco"};var ST=(()=>{let n=class n{constructor(t){this.ngZone=t,this.tokenSubject=new Jt(null),this.permissionSubject=new Jt("default"),this.notificationSubject=new Jt(null),this.token$=this.tokenSubject.asObservable(),this.permission$=this.permissionSubject.asObservable(),this.notifications$=this.notificationSubject.asObservable(),this.initializeMessaging()}initializeMessaging(){return ge(this,null,function*(){try{if(!("Notification"in window)){console.warn("This browser does not support notifications");return}this.messaging=Rg(),this.permissionSubject.next(Notification.permission),"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then(t=>{t.onchange=()=>{this.ngZone.run(()=>{this.permissionSubject.next(Notification.permission)})}}),wT(this.messaging,t=>{this.ngZone.run(()=>{console.log("Foreground message received:",t),this.handleForegroundMessage(t)})}),yield this.requestPermission()}catch(t){console.error("Failed to initialize Firebase messaging:",t)}})}handleForegroundMessage(t){var a,o,s,d,m,f,_,v,w;let i={title:((a=t.notification)==null?void 0:a.title)||"New Notification",body:((o=t.notification)==null?void 0:o.body)||"",icon:((s=t.notification)==null?void 0:s.icon)||"/icons/icon-192x192.png",badge:((d=t.notification)==null?void 0:d.badge)||"/icons/icon-72x72.png",image:(m=t.notification)==null?void 0:m.image,data:t.data||{},tag:(f=t.notification)==null?void 0:f.tag,requireInteraction:((_=t.notification)==null?void 0:_.requireInteraction)||!1,silent:((v=t.notification)==null?void 0:v.silent)||!1,timestamp:((w=t.notification)==null?void 0:w.timestamp)||Date.now()};this.notificationSubject.next(i),this.showNotification(i)}requestPermission(){return ge(this,null,function*(){try{if(!("Notification"in window))throw new Error("Notifications not supported");let t=yield Notification.requestPermission();return this.permissionSubject.next(t),t==="granted"&&(yield this.getToken()),t}catch(t){return console.error("Error requesting notification permission:",t),"denied"}})}getToken(){return ge(this,null,function*(){try{if(!this.messaging)return console.warn("Messaging not initialized"),null;let t=yield Zv(this.messaging,{vapidKey:Yc.vapidKey});return t?(console.log("FCM Token:",t),this.tokenSubject.next(t),localStorage.setItem("fcm-token",t),t):(console.warn("No registration token available"),null)}catch(t){return console.error("Error getting FCM token:",t),null}})}refreshToken(){return ge(this,null,function*(){try{if(!this.messaging)return null;let t=yield Zv(this.messaging,{vapidKey:Yc.vapidKey});return t?(this.tokenSubject.next(t),localStorage.setItem("fcm-token",t),t):null}catch(t){return console.error("Error refreshing FCM token:",t),null}})}showNotification(t){if(Notification.permission!=="granted"){console.warn("Notification permission not granted");return}let i={body:t.body,icon:t.icon,badge:t.badge,data:t.data,tag:t.tag,requireInteraction:t.requireInteraction,silent:t.silent},a=new Notification(t.title,i);a.onclick=o=>{o.preventDefault(),this.handleNotificationClick(t,o),a.close()},t.requireInteraction||setTimeout(()=>{a.close()},5e3)}handleNotificationClick(t,i){var a,o;console.log("Notification clicked:",t),window.focus&&window.focus(),(a=t.data)!=null&&a.url?window.open(t.data.url,"_blank"):(o=t.data)!=null&&o.route&&(window.location.href=t.data.route),this.notificationSubject.next(xe(ue({},t),{data:xe(ue({},t.data),{action:"click"})}))}handleNotificationAction(t,i){var a;switch(console.log("Notification action clicked:",i.action,t),i.action){case"view":this.handleNotificationClick(t,i);break;case"dismiss":break;default:(a=t.data)!=null&&a.actionUrl&&window.open(t.data.actionUrl,"_blank")}this.notificationSubject.next(xe(ue({},t),{data:xe(ue({},t.data),{action:i.action})}))}getStoredToken(){return localStorage.getItem("fcm-token")}clearStoredToken(){localStorage.removeItem("fcm-token"),this.tokenSubject.next(null)}isSupported(){return"Notification"in window&&"serviceWorker"in navigator}getPermissionStatus(){return Notification.permission}deleteToken(){return ge(this,null,function*(){try{this.messaging&&this.clearStoredToken()}catch(t){console.error("Error deleting FCM token:",t)}})}sendTestNotification(){let t={title:"Test Notification",body:"This is a test notification from Money Manager",icon:"/icons/icon-192x192.png",badge:"/icons/icon-72x72.png",data:{type:"test",timestamp:Date.now().toString()},actions:[{action:"view",title:"View"},{action:"dismiss",title:"Dismiss"}]};this.showNotification(t)}};n.\u0275fac=function(i){return new(i||n)(Ne(An))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function YQ(e,n){e&1&&de(0,"div",30)}function qQ(e,n){if(e&1){let r=Ce();c(0,"button",26),H("click",function(){q(r);let i=k();return K(i.requestPermission())}),c(1,"span",27),u(2,"\u{1F514}"),l(),c(3,"span",28),u(4,"Enable Notifications"),l(),G(5,YQ,1,0,"div",29),l()}if(e&2){let r=k();P("disabled",r.isLoading),g(5),P("ngIf",r.isLoading)}}function KQ(e,n){if(e&1){let r=Ce();c(0,"button",31),H("click",function(){q(r);let i=k();return K(i.openPermissionHelp())}),c(1,"span",27),u(2,"\u2753"),l(),c(3,"span",28),u(4,"How to Enable"),l()()}}function QQ(e,n){e&1&&de(0,"div",30)}function XQ(e,n){if(e&1){let r=Ce();c(0,"button",32),H("click",function(){q(r);let i=k();return K(i.testNotification())}),c(1,"span",27),u(2,"\u{1F4E4}"),l(),c(3,"span",28),u(4,"Test Notification"),l(),G(5,QQ,1,0,"div",29),l()}if(e&2){let r=k();P("disabled",r.isLoading),g(5),P("ngIf",r.isLoading)}}function ZQ(e,n){if(e&1){let r=Ce();c(0,"div",37)(1,"div",38)(2,"div",39)(3,"span",13),u(4),l()(),c(5,"div",40)(6,"h4"),u(7),l(),c(8,"p"),u(9),l()()(),c(10,"mat-slide-toggle",41),H("change",function(i){let a=q(r).$implicit,o=k(2);return K(o.toggleNotificationType(a.key,i))}),l()()}if(e&2){let r=n.$implicit;g(4),ne(r.icon),g(3),ne(r.title),g(2),ne(r.description),g(),P("checked",r.enabled)}}function JQ(e,n){if(e&1&&(c(0,"div",33)(1,"div",34)(2,"h3"),u(3,"Notification Types"),l(),c(4,"p"),u(5,"Choose which types of notifications you want to receive"),l()(),c(6,"div",35),G(7,ZQ,11,4,"div",36),l()()),e&2){let r=k();g(7),P("ngForOf",r.notificationTypes)}}function eX(e,n){e&1&&de(0,"div",30)}function tX(e,n){if(e&1){let r=Ce();c(0,"div",42)(1,"div",34)(2,"h3"),u(3,"Device Token"),l(),c(4,"p"),u(5,"Your device registration for push notifications"),l()(),c(6,"div",43)(7,"div",44)(8,"div",45),u(9,"Device Token:"),l(),c(10,"div",46)(11,"code"),u(12),l(),c(13,"button",47),H("click",function(){q(r);let i=k();return K(i.copyToken())}),c(14,"span",13),u(15,"\u{1F4CB}"),l()()()(),c(16,"button",48),H("click",function(){q(r);let i=k();return K(i.refreshToken())}),c(17,"span",27),u(18,"\u{1F504}"),l(),c(19,"span",28),u(20,"Refresh Token"),l(),G(21,eX,1,0,"div",29),l()()()}if(e&2){let r=k();g(12),ne(r.fcmToken),g(4),P("disabled",r.isLoading),g(5),P("ngIf",r.isLoading)}}function nX(e,n){if(e&1){let r=Ce();c(0,"div",51)(1,"div",52)(2,"div",53)(3,"span",13),u(4),l()(),c(5,"div",54)(6,"h4"),u(7),l(),c(8,"p"),u(9),l()()(),c(10,"mat-slide-toggle",55),H("change",function(i){let a=q(r).$implicit,o=k(2);return K(o.updateSetting(a.key,i))}),l()()}if(e&2){let r=n.$implicit,t=k(2);g(4),ne(r.icon),g(3),ne(r.title),g(2),ne(r.description),g(),P("checked",t.getSettingValue(r.key))}}function iX(e,n){if(e&1&&(c(0,"div",33)(1,"div",34)(2,"h3"),u(3,"Advanced Settings"),l(),c(4,"p"),u(5,"Customize notification behavior"),l()(),c(6,"div",49),G(7,nX,11,4,"div",50),l()()),e&2){let r=k();g(7),P("ngForOf",r.advancedSettings)}}function rX(e,n){e&1&&(c(0,"div",56)(1,"div",57)(2,"div",58)(3,"span",13),u(4,"\u{1F515}"),l()(),c(5,"h3"),u(6,"Notifications Disabled"),l(),c(7,"p"),u(8,"Enable the master toggle above to configure your notification preferences."),l()()())}var MT=(()=>{let n=class n{constructor(t,i){this.messagingService=t,this.notificationService=i,this.destroy$=new bt,this.APP_CONFIG=xt,this.permissionStatus="default",this.fcmToken=null,this.isLoading=!1,this.notificationsEnabled=!0,this.notificationTypes=[{key:"transactions",title:"Transaction Alerts",description:"Get notified about new transactions and spending limits",icon:"\u{1F4B0}",enabled:!0},{key:"budgets",title:"Budget Reminders",description:"Receive alerts when approaching budget limits",icon:"\u{1F4B3}",enabled:!0},{key:"goals",title:"Goal Updates",description:"Track progress on your financial goals",icon:"\u{1F3AF}",enabled:!0},{key:"bills",title:"Bill Reminders",description:"Never miss a bill payment",icon:"\u{1F4C5}",enabled:!0},{key:"security",title:"Security Alerts",description:"Important security notifications",icon:"\u{1F512}",enabled:!0}],this.advancedSettings=[{key:"soundEnabled",title:"Sound",description:"Play sound for notifications",icon:"\u{1F50A}"},{key:"vibrationEnabled",title:"Vibration",description:"Vibrate device for notifications",icon:"\u{1F4F3}"},{key:"requireInteraction",title:"Require Interaction",description:"Keep notifications until manually dismissed",icon:"\u{1F446}"}],this.settings={soundEnabled:!0,vibrationEnabled:!0,requireInteraction:!1}}ngOnInit(){this.loadSettings(),this.subscribeToMessagingEvents()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadSettings(){let t=localStorage.getItem("notification-settings");t&&(this.settings=ue(ue({},this.settings),JSON.parse(t)));let i=localStorage.getItem("notification-types");i&&(this.notificationTypes=JSON.parse(i));let a=localStorage.getItem("notifications-enabled");a!==null&&(this.notificationsEnabled=JSON.parse(a))}subscribeToMessagingEvents(){this.messagingService.permission$.pipe(It(this.destroy$)).subscribe(t=>{this.permissionStatus=t,t==="denied"&&(this.notificationsEnabled=!1,this.saveNotificationsEnabled())}),this.messagingService.token$.pipe(It(this.destroy$)).subscribe(t=>{this.fcmToken=t})}toggleMasterNotifications(t){this.notificationsEnabled=t.checked,this.saveNotificationsEnabled(),this.notificationsEnabled&&this.permissionStatus==="default"&&this.requestPermission(),this.showMessage(`Notifications ${this.notificationsEnabled?"enabled":"disabled"}`,"success")}requestPermission(){return ge(this,null,function*(){this.isLoading=!0;try{(yield this.messagingService.requestPermission())==="granted"?this.showMessage("Notifications enabled successfully!","success"):(this.notificationsEnabled=!1,this.saveNotificationsEnabled(),this.showMessage("Notification permission denied","error"))}catch(t){console.error("Error requesting permission:",t),this.notificationsEnabled=!1,this.saveNotificationsEnabled(),this.showMessage("Failed to enable notifications","error")}finally{this.isLoading=!1}})}testNotification(){return ge(this,null,function*(){this.isLoading=!0;try{this.messagingService.sendTestNotification(),this.showMessage("Test notification sent!","success")}catch(t){console.error("Error sending test notification:",t),this.showMessage("Failed to send test notification","error")}finally{this.isLoading=!1}})}refreshToken(){return ge(this,null,function*(){this.isLoading=!0;try{(yield this.messagingService.refreshToken())?this.showMessage("Token refreshed successfully!","success"):this.showMessage("Failed to refresh token","error")}catch(t){console.error("Error refreshing token:",t),this.showMessage("Failed to refresh token","error")}finally{this.isLoading=!1}})}copyToken(){this.fcmToken&&navigator.clipboard.writeText(this.fcmToken).then(()=>{this.showMessage("Token copied to clipboard!","success")}).catch(()=>{this.showMessage("Failed to copy token","error")})}toggleNotificationType(t,i){let a=this.notificationTypes.find(o=>o.key===t);a&&(a.enabled=i.checked,this.saveNotificationTypes(),this.showMessage(`${a.title} ${i.checked?"enabled":"disabled"}`,"success"))}updateSetting(t,i){this.settings[t]=i.checked,this.saveSettings(),this.showMessage("Settings updated","success")}getSettingValue(t){return this.settings[t]||!1}saveSettings(){localStorage.setItem("notification-settings",JSON.stringify(this.settings))}saveNotificationTypes(){localStorage.setItem("notification-types",JSON.stringify(this.notificationTypes))}saveNotificationsEnabled(){localStorage.setItem("notifications-enabled",JSON.stringify(this.notificationsEnabled))}openPermissionHelp(){this.showMessage("Check browser settings to enable notifications","info")}getPermissionText(){switch(this.permissionStatus){case"granted":return"Enabled";case"denied":return"Blocked";case"default":return"Not Set";default:return"Unknown"}}getStatusIcon(){switch(this.permissionStatus){case"granted":return"\u2705";case"denied":return"\u274C";case"default":return"\u23F3";default:return"\u2753"}}showMessage(t,i){this.notificationService[i](t)}};n.\u0275fac=function(i){return new(i||n)(D(ST),D(At))},n.\u0275cmp=Fe({type:n,selectors:[["app-notification-settings"]],decls:39,vars:19,consts:[[1,"notification-settings"],[1,"settings-header"],[1,"header-content"],[1,"header-text"],[1,"master-toggle-container"],["color","accent",1,"master-toggle",3,"change","checked","disabled"],[1,"toggle-icon"],[1,"master-label"],[1,"settings-content"],[1,"setting-section","permission-card"],[1,"card-header"],[1,"header-left"],[1,"status-icon"],[1,"icon"],[1,"header-info"],[1,"status-text"],[1,"permission-badge"],[1,"card-content"],[1,"description"],[1,"action-buttons"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["class","btn btn-warn",3,"click",4,"ngIf"],["class","btn btn-accent",3,"disabled","click",4,"ngIf"],["class","setting-section",4,"ngIf"],["class","setting-section token-card",4,"ngIf"],["class","setting-section disabled-state",4,"ngIf"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn-icon"],[1,"btn-text"],["class","btn-loader",4,"ngIf"],[1,"btn-loader"],[1,"btn","btn-warn",3,"click"],[1,"btn","btn-accent",3,"click","disabled"],[1,"setting-section"],[1,"section-header"],[1,"notification-types"],["class","notification-type",4,"ngFor","ngForOf"],[1,"notification-type"],[1,"type-content"],[1,"type-icon"],[1,"type-info"],["color","primary",3,"change","checked"],[1,"setting-section","token-card"],[1,"token-container"],[1,"token-display"],[1,"token-label"],[1,"token-value"],["title","Copy token",1,"copy-btn",3,"click"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"advanced-settings"],["class","setting-item",4,"ngFor","ngForOf"],[1,"setting-item"],[1,"setting-content"],[1,"setting-icon"],[1,"setting-info"],["color","accent",3,"change","checked"],[1,"setting-section","disabled-state"],[1,"disabled-content"],[1,"disabled-icon"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),u(5,"Notification Settings"),l(),c(6,"p"),u(7,"Manage your push notification preferences"),l()(),c(8,"div",4)(9,"mat-slide-toggle",5),H("change",function(s){return a.toggleMasterNotifications(s)}),c(10,"span",6),u(11),l()(),c(12,"span",7),u(13),l()()()(),c(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"span",13),u(20),l()(),c(21,"div",14)(22,"h3"),u(23,"Notification Permission"),l(),c(24,"p",15),u(25),l()()(),c(26,"div",16),u(27),l()(),c(28,"div",17)(29,"p",18),u(30),l(),c(31,"div",19),G(32,qQ,6,2,"button",20)(33,KQ,5,0,"button",21)(34,XQ,6,2,"button",22),l()()(),G(35,JQ,8,1,"div",23)(36,tX,22,3,"div",24)(37,iX,8,1,"div",23)(38,rX,9,0,"div",25),l()()),i&2&&(g(9),P("checked",a.notificationsEnabled)("disabled",a.permissionStatus==="denied"),g(2),ne(a.notificationsEnabled?"\u{1F514}":"\u{1F515}"),g(2),ne(a.notificationsEnabled?"Enabled":"Disabled"),g(5),jt(a.permissionStatus),g(2),ne(a.getStatusIcon()),g(5),ne(a.getPermissionText()),g(),jt(a.permissionStatus),g(),he(" ",a.getPermissionText()," "),g(3),he(" Allow ",a.APP_CONFIG.APP_NAME," to send you notifications about important updates and reminders. "),g(2),P("ngIf",a.permissionStatus==="default"),g(),P("ngIf",a.permissionStatus==="denied"),g(),P("ngIf",a.permissionStatus==="granted"),g(),P("ngIf",a.permissionStatus==="granted"&&a.notificationsEnabled),g(),P("ngIf",a.permissionStatus==="granted"&&a.fcmToken&&a.notificationsEnabled),g(),P("ngIf",a.permissionStatus==="granted"&&a.notificationsEnabled),g(),P("ngIf",!a.notificationsEnabled))},dependencies:[an,Tt,lo],styles:[".notification-settings[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:24px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.settings-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color, #3b82f6) 0%,var(--accent-color, #8b5cf6) 100%);border-radius:16px;padding:32px;margin-bottom:32px;color:#fff;box-shadow:0 8px 32px #3b82f64d}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:24px}.header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin:0 0 8px;color:#fff}.header-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:0;opacity:.9}.master-toggle-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.toggle-icon[_ngcontent-%COMP%]{font-size:18px;z-index:1}.master-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;opacity:.9}.setting-section[_ngcontent-%COMP%]{background:var(--surface-color, #ffffff);border:1px solid var(--border-color, #e2e8f0);border-radius:16px;padding:24px;margin-bottom:24px;box-shadow:0 2px 8px #0000000d;transition:all .2s ease}.setting-section[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0000001a;transform:translateY(-1px)}.permission-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border:2px solid var(--primary-color, #3b82f6)}.token-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);border:2px solid #f59e0b}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.status-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px}.status-icon.granted[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-icon.denied[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.status-icon.default[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.header-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 4px}.status-text[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0}.permission-badge[_ngcontent-%COMP%]{padding:8px 16px;border-radius:20px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.permission-badge.granted[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.permission-badge.denied[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.permission-badge.default[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.section-header[_ngcontent-%COMP%]{margin-bottom:24px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 8px}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0}.card-content[_ngcontent-%COMP%]{margin-bottom:20px}.description[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0 0 20px;line-height:1.6}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;gap:8px;padding:12px 24px;border:none;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;text-decoration:none;min-width:140px;justify-content:center}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color, #3b82f6);color:#fff;box-shadow:0 4px 12px #3b82f64d}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-color-dark, #2563eb);transform:translateY(-1px);box-shadow:0 6px 16px #3b82f666}.btn-secondary[_ngcontent-%COMP%]{background:var(--surface-hover-color, #f1f5f9);color:var(--text-color, #1e293b);border:1px solid var(--border-color, #e2e8f0)}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--surface-hover-color-dark, #e2e8f0);transform:translateY(-1px)}.btn-warn[_ngcontent-%COMP%]{background:var(--warn-color, #ef4444);color:#fff;box-shadow:0 4px 12px #ef44444d}.btn-warn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--warn-color-dark, #dc2626);transform:translateY(-1px);box-shadow:0 6px 16px #ef444466}.btn-accent[_ngcontent-%COMP%]{background:var(--accent-color, #8b5cf6);color:#fff;box-shadow:0 4px 12px #8b5cf64d}.btn-accent[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--accent-color-dark, #7c3aed);transform:translateY(-1px);box-shadow:0 6px 16px #8b5cf666}.btn-icon[_ngcontent-%COMP%]{font-size:16px}.btn-text[_ngcontent-%COMP%]{font-weight:600}.btn-loader[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.notification-types[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notification-type[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border:1px solid var(--border-color, #e2e8f0);border-radius:12px;background:var(--surface-hover-color, #f8fafc);transition:all .2s ease}.notification-type[_ngcontent-%COMP%]:hover{background:var(--surface-hover-color-dark, #f1f5f9);border-color:var(--primary-color, #3b82f6)}.type-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex:1}.type-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:var(--primary-color, #3b82f6);display:flex;align-items:center;justify-content:center;color:#fff;font-size:20px}.type-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 4px}.type-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0;line-height:1.4}.token-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.token-display[_ngcontent-%COMP%]{background:var(--surface-hover-color, #f8fafc);border:1px solid var(--border-color, #e2e8f0);border-radius:12px;padding:16px}.token-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-muted, #64748b);margin-bottom:8px;text-transform:uppercase;letter-spacing:.5px}.token-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.token-value[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{flex:1;font-family:Courier New,monospace;font-size:12px;color:var(--text-color, #1e293b);word-break:break-all;background:#0000000d;padding:8px 12px;border-radius:6px}.copy-btn[_ngcontent-%COMP%]{background:var(--primary-color, #3b82f6);color:#fff;border:none;padding:8px;border-radius:6px;cursor:pointer;transition:all .2s ease}.copy-btn[_ngcontent-%COMP%]:hover{background:var(--primary-color-dark, #2563eb);transform:scale(1.05)}.advanced-settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.setting-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border:1px solid var(--border-color, #e2e8f0);border-radius:12px;background:var(--surface-hover-color, #f8fafc);transition:all .2s ease}.setting-item[_ngcontent-%COMP%]:hover{background:var(--surface-hover-color-dark, #f1f5f9);border-color:var(--primary-color, #3b82f6)}.setting-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex:1}.setting-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:var(--accent-color, #8b5cf6);display:flex;align-items:center;justify-content:center;color:#fff;font-size:18px}.setting-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 4px}.setting-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0;line-height:1.4}  .mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{background-color:#cbd5e1;border-color:#cbd5e1}  .mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{background-color:var(--primary-color, #3b82f6)}  .mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{background-color:#fff;box-shadow:0 2px 4px #0003}  .mat-mdc-slide-toggle.mat-mdc-slide-toggle-checked .mdc-switch .mdc-switch__track{background-color:var(--primary-color, #3b82f6);border-color:var(--primary-color, #3b82f6)}  .mat-mdc-slide-toggle .mdc-form-field .mdc-form-field__label{display:none}.notification-type[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]     .mdc-switch, .setting-item[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]     .mdc-switch{width:48px;height:24px}.disabled-state[_ngcontent-%COMP%]{text-align:center;padding:48px 24px}.disabled-content[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.disabled-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:var(--surface-hover-color, #f8fafc);display:flex;align-items:center;justify-content:center;margin:0 auto 24px;font-size:32px;color:var(--text-muted, #64748b)}.disabled-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 12px}.disabled-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0;line-height:1.5}@media (max-width: 768px){.notification-settings[_ngcontent-%COMP%]{padding:16px}.settings-header[_ngcontent-%COMP%]{padding:24px 20px}.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:20px}.header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.setting-section[_ngcontent-%COMP%]{padding:20px}.card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.notification-type[_ngcontent-%COMP%], .setting-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.type-content[_ngcontent-%COMP%], .setting-content[_ngcontent-%COMP%]{width:100%}}@media (prefers-color-scheme: dark){.setting-section[_ngcontent-%COMP%]{background:#0f172af2;border-color:#334155}.permission-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#334155);border-color:#3b82f6}.token-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#451a03,#78350f);border-color:#f59e0b}.notification-type[_ngcontent-%COMP%], .setting-item[_ngcontent-%COMP%], .token-display[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}.disabled-icon[_ngcontent-%COMP%]{background:#1e293b}}"]});let e=n;return e})();function aX(e,n){if(e&1&&(c(0,"mat-error"),u(1),l()),e&2){let r=k();g(),ne(r.getFieldError("name"))}}function oX(e,n){if(e&1&&(c(0,"mat-error"),u(1),l()),e&2){let r=k();g(),ne(r.getFieldError("email"))}}function sX(e,n){if(e&1&&(c(0,"mat-error"),u(1),l()),e&2){let r=k();g(),ne(r.getFieldError("subject"))}}function cX(e,n){if(e&1&&(c(0,"mat-option",39)(1,"div",40)(2,"mat-icon"),u(3),l(),c(4,"span"),u(5),l()()()),e&2){let r=n.$implicit;P("value",r.value),g(3),ne(r.icon),g(2),ne(r.label)}}function lX(e,n){if(e&1&&(c(0,"mat-error"),u(1),l()),e&2){let r=k();g(),ne(r.getFieldError("category"))}}function dX(e,n){if(e&1&&(c(0,"mat-option",39)(1,"div",41),de(2,"div",42),c(3,"span"),u(4),l()()()),e&2){let r=n.$implicit;P("value",r.value),g(2),Yt("background-color",r.color),g(2),ne(r.label)}}function uX(e,n){if(e&1&&(c(0,"mat-error"),u(1),l()),e&2){let r=k();g(),ne(r.getFieldError("priority"))}}function mX(e,n){if(e&1){let r=Ce();c(0,"button",43),H("click",function(){let i=q(r).$implicit,a=k();return K(a.setRating(i))})("mouseenter",function(){let i=q(r).$implicit,a=k();return K(a.setRating(i))})("mouseleave",function(){let i;q(r);let a=k();return K(a.setRating(((i=a.feedbackForm.get("rating"))==null?null:i.value)||0))}),c(1,"mat-icon"),u(2),l()()}if(e&2){let r,t,i=n.index,a=k();Be("active",((r=a.feedbackForm.get("rating"))==null?null:r.value)&&i<((r=a.feedbackForm.get("rating"))==null?null:r.value)),g(2),ne(i<(((t=a.feedbackForm.get("rating"))==null?null:t.value)||0)?"star":"star_border")}}function hX(e,n){if(e&1&&(c(0,"span",44),u(1),l()),e&2){let r,t=k();g(),he(" ",(r=t.feedbackForm.get("rating"))==null?null:r.value,"/5 stars ")}}function pX(e,n){if(e&1&&(c(0,"mat-error"),u(1),l()),e&2){let r=k();g(),ne(r.getFieldError("message"))}}function fX(e,n){e&1&&(c(0,"mat-icon"),u(1,"send"),l())}function gX(e,n){e&1&&de(0,"mat-spinner",45)}var kT=(()=>{let n=class n{constructor(t,i,a,o,s,d,m){this.fb=t,this.dialog=i,this.breakpointObserver=a,this.auth=o,this.notificationService=s,this.hapticFeedback=d,this.feedbackService=m,this.isMobile=!1,this.isSubmitting=!1,this.currentUser=null,this.destroy$=new bt,this.feedbackCategories=[{value:"bug",label:"Bug Report",icon:"bug_report"},{value:"feature",label:"Feature Request",icon:"lightbulb"},{value:"improvement",label:"Improvement Suggestion",icon:"trending_up"},{value:"general",label:"General Feedback",icon:"chat"},{value:"support",label:"Support Request",icon:"help"}],this.priorityLevels=[{value:"low",label:"Low",color:"#10b981"},{value:"medium",label:"Medium",color:"#f59e0b"},{value:"high",label:"High",color:"#ef4444"}],this.ratingOptions=[1,2,3,4,5],this.feedbackForm=this.createForm(),this.breakpointObserver.observe([qr.Handset]).pipe(It(this.destroy$)).subscribe(f=>{this.isMobile=f.matches})}ngOnInit(){this.initializeUser()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initializeUser(){return ge(this,null,function*(){this.currentUser=yield this.auth.currentUser,this.currentUser&&this.feedbackForm.patchValue({name:this.currentUser.displayName||"",email:this.currentUser.email||""})})}createForm(){return this.fb.group({name:["",[yt.required,yt.minLength(2),yt.maxLength(50)]],email:["",[yt.required,yt.email]],subject:["",[yt.required,yt.minLength(5),yt.maxLength(100)]],message:["",[yt.required,yt.minLength(10),yt.maxLength(1e3)]],category:["general",yt.required],priority:["medium",yt.required],rating:[null]})}getCategoryIcon(t){let i=this.feedbackCategories.find(a=>a.value===t);return i?i.icon:"chat"}getPriorityColor(t){let i=this.priorityLevels.find(a=>a.value===t);return i?i.color:"#6b7280"}setRating(t){this.feedbackForm.patchValue({rating:t}),this.isMobile&&this.hapticFeedback.lightVibration()}getRatingStars(t){return Array.from({length:5},(i,a)=>a<t)}submitFeedback(){return ge(this,null,function*(){var t;if(this.feedbackForm.invalid){this.markFormGroupTouched(),this.notificationService.warning("Please fill in all required fields correctly");return}if(!this.isSubmitting){this.isSubmitting=!0,this.isMobile&&this.hapticFeedback.lightVibration();try{let i=xe(ue({},this.feedbackForm.value),{userId:((t=this.currentUser)==null?void 0:t.uid)||"anonymous"});yield this.feedbackService.submitFeedback(i),this.notificationService.success("Thank you for your feedback! We'll get back to you soon."),this.resetForm()}catch(i){console.error("Error submitting feedback:",i),this.notificationService.error("Failed to submit feedback. Please try again.")}finally{this.isSubmitting=!1}}})}resetForm(){this.feedbackForm.reset({category:"general",priority:"medium",rating:null}),this.currentUser&&this.feedbackForm.patchValue({name:this.currentUser.displayName||"",email:this.currentUser.email||""})}markFormGroupTouched(){Object.keys(this.feedbackForm.controls).forEach(t=>{let i=this.feedbackForm.get(t);i==null||i.markAsTouched()})}getFieldError(t){let i=this.feedbackForm.get(t);if(i!=null&&i.errors&&i.touched){if(i.errors.required)return`${this.getFieldLabel(t)} is required`;if(i.errors.email)return"Please enter a valid email address";if(i.errors.minlength)return`${this.getFieldLabel(t)} must be at least ${i.errors.minlength.requiredLength} characters`;if(i.errors.maxlength)return`${this.getFieldLabel(t)} must not exceed ${i.errors.maxlength.requiredLength} characters`}return""}getFieldLabel(t){return{name:"Name",email:"Email",subject:"Subject",message:"Message",category:"Category",priority:"Priority"}[t]||t}isFieldInvalid(t){let i=this.feedbackForm.get(t);return!!(i!=null&&i.invalid&&i.touched)}};n.\u0275fac=function(i){return new(i||n)(D(wr),D(ar),D(Sr),D(Ut),D(At),D(Pa),D(lw))},n.\u0275cmp=Fe({type:n,selectors:[["app-feedback"]],decls:117,vars:19,consts:[[1,"feedback-container"],[1,"feedback-header"],[1,"header-content"],[1,"page-title"],[1,"page-subtitle"],[1,"header-icon"],[1,"feedback-form-container"],[1,"feedback-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-title"],[1,"form-row"],["appearance","fill",1,"form-field"],["matInput","","formControlName","name","placeholder","Your name","maxlength","50"],[4,"ngIf"],["matInput","","formControlName","email","type","email","placeholder","your.email@example.com"],["matSuffix",""],["matInput","","formControlName","subject","placeholder","Brief description of your feedback","maxlength","100"],["appearance","fill",1,"form-field","category-field"],["formControlName","category"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"form-field","priority-field"],["formControlName","priority"],[1,"rating-section"],[1,"rating-label"],[1,"rating-stars"],["type","button","class","star-button",3,"active","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["class","rating-text",4,"ngIf"],["appearance","fill",1,"form-field","message-field"],["matInput","","formControlName","message","placeholder","Please provide detailed feedback, suggestions, or describe any issues you've encountered...","rows","6","maxlength","1000"],[1,"submit-section"],[1,"submit-info"],[1,"submit-actions"],["type","button","mat-stroked-button","",1,"reset-button",3,"click","disabled"],["type","submit","mat-raised-button","","color","primary",1,"submit-button",3,"disabled"],["diameter","20",4,"ngIf"],[1,"help-section"],[1,"help-title"],[1,"help-content"],[1,"help-item"],[3,"value"],[1,"category-option"],[1,"priority-option"],[1,"priority-indicator"],["type","button",1,"star-button",3,"click","mouseenter","mouseleave"],[1,"rating-text"],["diameter","20"]],template:function(i,a){if(i&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),u(4,"Send Feedback"),l(),c(5,"p",4),u(6,"Help us improve Money Manager by sharing your thoughts, suggestions, or reporting issues."),l()(),c(7,"div",5)(8,"mat-icon"),u(9,"feedback"),l()()(),c(10,"div",6)(11,"form",7),H("ngSubmit",function(){return a.submitFeedback()}),c(12,"div",8)(13,"h3",9)(14,"mat-icon"),u(15,"person"),l(),u(16," Personal Information "),l(),c(17,"div",10)(18,"mat-form-field",11)(19,"mat-label"),u(20,"Name *"),l(),de(21,"input",12),G(22,aX,2,1,"mat-error",13),c(23,"mat-hint"),u(24),l()(),c(25,"mat-form-field",11)(26,"mat-label"),u(27,"Email *"),l(),de(28,"input",14),c(29,"mat-icon",15),u(30,"email"),l(),G(31,oX,2,1,"mat-error",13),l()()(),c(32,"div",8)(33,"h3",9)(34,"mat-icon"),u(35,"description"),l(),u(36," Feedback Details "),l(),c(37,"div",10)(38,"mat-form-field",11)(39,"mat-label"),u(40,"Subject *"),l(),de(41,"input",16),G(42,sX,2,1,"mat-error",13),c(43,"mat-hint"),u(44),l()()(),c(45,"div",10)(46,"mat-form-field",17)(47,"mat-label"),u(48,"Category *"),l(),c(49,"mat-select",18),G(50,cX,6,3,"mat-option",19),l(),G(51,lX,2,1,"mat-error",13),l(),c(52,"mat-form-field",20)(53,"mat-label"),u(54,"Priority *"),l(),c(55,"mat-select",21),G(56,dX,5,4,"mat-option",19),l(),G(57,uX,2,1,"mat-error",13),l()(),c(58,"div",22)(59,"label",23),u(60,"How would you rate your experience? (Optional)"),l(),c(61,"div",24),G(62,mX,3,3,"button",25),l(),G(63,hX,2,1,"span",26),l(),c(64,"div",10)(65,"mat-form-field",27)(66,"mat-label"),u(67,"Message *"),l(),de(68,"textarea",28),G(69,pX,2,1,"mat-error",13),c(70,"mat-hint"),u(71),l()()()(),c(72,"div",29)(73,"div",30)(74,"mat-icon"),u(75,"info"),l(),c(76,"span"),u(77,"Your feedback will be sent to our team and we'll get back to you as soon as possible."),l()(),c(78,"div",31)(79,"button",32),H("click",function(){return a.resetForm()}),c(80,"mat-icon"),u(81,"refresh"),l(),u(82," Reset "),l(),c(83,"button",33),G(84,fX,2,0,"mat-icon",13)(85,gX,1,0,"mat-spinner",34),u(86),l()()()()(),c(87,"div",35)(88,"h3",36)(89,"mat-icon"),u(90,"help"),l(),u(91," Need Help? "),l(),c(92,"div",37)(93,"div",38)(94,"mat-icon"),u(95,"bug_report"),l(),c(96,"div")(97,"h4"),u(98,"Bug Report"),l(),c(99,"p"),u(100,"Found a bug? Please include steps to reproduce the issue and any error messages you see."),l()()(),c(101,"div",38)(102,"mat-icon"),u(103,"lightbulb"),l(),c(104,"div")(105,"h4"),u(106,"Feature Request"),l(),c(107,"p"),u(108,"Have an idea for a new feature? Let us know how it would help you manage your money better."),l()()(),c(109,"div",38)(110,"mat-icon"),u(111,"support"),l(),c(112,"div")(113,"h4"),u(114,"Support"),l(),c(115,"p"),u(116,"Need help using the app? We're here to assist you with any questions or concerns."),l()()()()()()),i&2){let o,s,d,m;g(11),P("formGroup",a.feedbackForm),g(11),P("ngIf",a.isFieldInvalid("name")),g(2),he("",((o=a.feedbackForm.get("name"))==null||o.value==null?null:o.value.length)||0,"/50"),g(7),P("ngIf",a.isFieldInvalid("email")),g(11),P("ngIf",a.isFieldInvalid("subject")),g(2),he("",((s=a.feedbackForm.get("subject"))==null||s.value==null?null:s.value.length)||0,"/100"),g(6),P("ngForOf",a.feedbackCategories),g(),P("ngIf",a.isFieldInvalid("category")),g(5),P("ngForOf",a.priorityLevels),g(),P("ngIf",a.isFieldInvalid("priority")),g(5),P("ngForOf",a.ratingOptions),g(),P("ngIf",(d=a.feedbackForm.get("rating"))==null?null:d.value),g(6),P("ngIf",a.isFieldInvalid("message")),g(2),he("",((m=a.feedbackForm.get("message"))==null||m.value==null?null:m.value.length)||0,"/1000"),g(8),P("disabled",a.isSubmitting),g(4),P("disabled",a.feedbackForm.invalid||a.isSubmitting),g(),P("ngIf",!a.isSubmitting),g(),P("ngIf",a.isSubmitting),g(),he(" ",a.isSubmitting?"Sending...":"Send Feedback"," ")}},dependencies:[an,Tt,Di,mn,hn,Ai,cc,yr,Cr,zt,Cn,Ma,Zo,ep,Jo,Td,Qr,Lr,Cc,Xo],styles:["@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.feedback-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem;animation:_ngcontent-%COMP%_slideInUp .5s ease-out}@media (max-width: 768px){.feedback-container[_ngcontent-%COMP%]{padding:1rem}}.feedback-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:2rem;padding:1.5rem;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;color:#fff;box-shadow:0 8px 32px #667eea4d}@media (max-width: 768px){.feedback-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}}.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0 0 .5rem;text-shadow:0 2px 4px rgba(0,0,0,.1)}@media (max-width: 768px){.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.5rem}}.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:1rem;margin:0;opacity:.9;line-height:1.5}@media (max-width: 768px){.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:.9rem}}.feedback-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;opacity:.8}@media (max-width: 768px){.feedback-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem}}.feedback-form-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #00000014;overflow:hidden;margin-bottom:2rem}.feedback-form-container[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]{padding:2rem}@media (max-width: 768px){.feedback-form-container[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%]{padding:1.5rem}}.form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.form-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 1.5rem;padding-bottom:.5rem;border-bottom:2px solid #e5e7eb}.form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}.form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-field[_ngcontent-%COMP%]{width:100%}@media (max-width: 768px){.form-field.category-field[_ngcontent-%COMP%], .form-field.priority-field[_ngcontent-%COMP%]{grid-column:1}}.form-field.message-field[_ngcontent-%COMP%]{grid-column:1/-1}.category-option[_ngcontent-%COMP%], .priority-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.category-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .priority-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:1.2rem;height:1.2rem}.priority-indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;flex-shrink:0}.rating-section[_ngcontent-%COMP%]{margin:1.5rem 0;padding:1rem;background:#f8fafc;border-radius:12px;border:1px solid #e2e8f0}.rating-section[_ngcontent-%COMP%]   .rating-label[_ngcontent-%COMP%]{display:block;font-weight:500;color:#374151;margin-bottom:.75rem}.rating-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]{display:flex;gap:.25rem;margin-bottom:.5rem}.rating-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]   .star-button[_ngcontent-%COMP%]{background:none;border:none;padding:.25rem;cursor:pointer;border-radius:4px;transition:all .2s ease}.rating-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]   .star-button[_ngcontent-%COMP%]:hover{background:#667eea1a;transform:scale(1.1)}.rating-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]   .star-button.active[_ngcontent-%COMP%]{color:#fbbf24}.rating-section[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]   .star-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}.rating-section[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}.submit-section[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1.5rem;border-top:1px solid #e5e7eb}.submit-section[_ngcontent-%COMP%]   .submit-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1.5rem;padding:1rem;background:#eff6ff;border-radius:8px;border-left:4px solid #3b82f6}.submit-section[_ngcontent-%COMP%]   .submit-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3b82f6;flex-shrink:0}.submit-section[_ngcontent-%COMP%]   .submit-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#1e40af;line-height:1.4}.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end}@media (max-width: 768px){.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}}.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{min-width:120px}@media (max-width: 768px){.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{order:2}}.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{min-width:160px;height:48px}@media (max-width: 768px){.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{order:1}}.submit-section[_ngcontent-%COMP%]   .submit-actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:.5rem}.help-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #00000014;padding:2rem}@media (max-width: 768px){.help-section[_ngcontent-%COMP%]{padding:1.5rem}}.help-section[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 1.5rem}.help-section[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea}.help-section[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}@media (max-width: 768px){.help-section[_ngcontent-%COMP%]   .help-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.help-section[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1rem;background:#f8fafc;border-radius:12px;border:1px solid #e2e8f0;transition:all .2s ease}.help-section[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.help-section[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea;font-size:1.5rem;width:1.5rem;height:1.5rem;flex-shrink:0;margin-top:.125rem}.help-section[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1f2937;margin:0 0 .5rem}.help-section[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0;line-height:1.5}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .feedback-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4c1d95,#7c3aed)}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .feedback-form-container[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .help-section[_ngcontent-%COMP%]{background:#1f2937;box-shadow:0 4px 20px #0000004d}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#f9fafb;border-bottom-color:#374151}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .rating-section[_ngcontent-%COMP%]{background:#374151;border-color:#4b5563}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .rating-section[_ngcontent-%COMP%]   .rating-label[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .submit-section[_ngcontent-%COMP%]{border-top-color:#374151}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .submit-section[_ngcontent-%COMP%]   .submit-info[_ngcontent-%COMP%]{background:#1e3a8a;border-left-color:#3b82f6}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .submit-section[_ngcontent-%COMP%]   .submit-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#dbeafe}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .help-section[_ngcontent-%COMP%]   .help-title[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]{background:#374151;border-color:#4b5563}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .feedback-container[_ngcontent-%COMP%]   .help-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}@media (max-width: 480px){.feedback-container[_ngcontent-%COMP%]{padding:.5rem}.feedback-header[_ngcontent-%COMP%]{padding:1rem}.feedback-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.25rem}.feedback-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem}.feedback-form-container[_ngcontent-%COMP%]   .feedback-form[_ngcontent-%COMP%], .help-section[_ngcontent-%COMP%]{padding:1rem}}.star-button[_ngcontent-%COMP%]:focus{outline:2px solid #667eea;outline-offset:2px}.form-field[_ngcontent-%COMP%]:focus-within   .mat-form-field-outline[_ngcontent-%COMP%]{color:#667eea}.submit-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.form-field.mat-form-field-disabled[_ngcontent-%COMP%]{opacity:.6}"]});let e=n;return e})();var PT=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=Fe({type:n,selectors:[["app-app-shell"]],decls:23,vars:0,consts:[["id","app-shell",1,"app-shell"],[1,"app-shell-header"],[1,"app-shell-logo"],[1,"app-shell-logo-icon"],["src","assets/images/logo.svg","alt","Money Manager Logo",1,"logo-image"],[1,"font-heading","font-semibold","text-xl"],[1,"app-shell-skeleton","w-10","h-10","rounded-full"],[1,"app-shell-content"],[1,"app-shell-loading"],[1,"app-shell-spinner"],[1,"font-heading","font-semibold","text-2xl","mb-2"],[1,"text-sm","opacity-80"],[1,"w-full","max-w-md","mt-8"],[1,"app-shell-skeleton","app-shell-skeleton-header"],[1,"app-shell-skeleton","app-shell-skeleton-text"],[1,"app-shell-skeleton","app-shell-skeleton-text",2,"width","120px"],[1,"app-shell-skeleton","app-shell-skeleton-text",2,"width","180px"],[1,"app-shell-footer"],[1,"m-0","text-sm"]],template:function(i,a){i&1&&(c(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3),de(4,"img",4),l(),c(5,"span",5),u(6,"Money Manager"),l()(),de(7,"div",6),l(),c(8,"main",7)(9,"div",8),de(10,"div",9),c(11,"h2",10),u(12,"Loading Money Manager"),l(),c(13,"p",11),u(14,"Preparing your financial dashboard..."),l()(),c(15,"div",12),de(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16),l()(),c(20,"footer",17)(21,"p",18),u(22,"\xA9 2024 Money Manager - Your Personal Finance Assistant"),l()()())},styles:[".app-shell[_ngcontent-%COMP%]{font-family:Inter,sans-serif;background:#f9fafb;min-height:100vh;display:flex;flex-direction:column;color:#1f2937}.app-shell-header[_ngcontent-%COMP%]{background:#fff;padding:1rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.app-shell-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;font-size:1.25rem}.app-shell-logo-icon[_ngcontent-%COMP%]{width:32px;height:32px;background:#46777f;border-radius:8px;display:flex;align-items:center;justify-content:center}.app-shell-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center}.app-shell-loading[_ngcontent-%COMP%]{margin:2rem 0}.app-shell-spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-top:4px solid #46777f;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.app-shell-skeleton[_ngcontent-%COMP%]{background:#e5e7eb;border-radius:8px;margin:.5rem 0;animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}.app-shell-skeleton-header[_ngcontent-%COMP%]{height:20px;width:200px;margin:0 auto 1rem}.app-shell-skeleton-text[_ngcontent-%COMP%]{height:16px;width:150px;margin:.5rem auto}.app-shell-footer[_ngcontent-%COMP%]{background:#fff;padding:1rem;text-align:center;font-size:.875rem;color:#6b7280;border-top:1px solid #e5e7eb}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}@media (max-width: 768px){.app-shell-content[_ngcontent-%COMP%]{padding:1rem}.app-shell-logo[_ngcontent-%COMP%]{font-size:1rem}.app-shell-logo-icon[_ngcontent-%COMP%]{width:28px;height:28px}}"]});let e=n;return e})();var _X=[{path:"shell",component:PT},{path:"landing",component:PE},{path:"sign-in",component:h1},{path:"sign-up",component:h1},{path:"register",component:WC},{path:"dashboard",component:rS,canActivate:[D_],data:{requireEmailVerification:!0,requireActiveSession:!0},children:[{path:"",component:Ev},{path:"home",component:Ev},{path:"accounts",component:yf,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"category",component:su,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"reports",component:Cg,data:{roles:["premium","admin"],requireEmailVerification:!0}},{path:"transactions",component:Eg,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"tax",component:wg,data:{roles:["premium","admin"],requireEmailVerification:!0}},{path:"subscription",component:TE,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"goals",component:AE,data:{roles:["premium","admin"],requireEmailVerification:!0}},{path:"budgets",component:NE,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"notes",component:Sg,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"import",component:vg,data:{roles:["premium","admin"],requireEmailVerification:!0}},{path:"profile",component:jE,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"notifications",component:MT,data:{roles:["free","premium","admin"],requireEmailVerification:!0}},{path:"feedback",component:kT,data:{roles:["free","premium","admin"],requireEmailVerification:!0}}]},{path:"admin",loadChildren:()=>import("./chunk-ZLN7JOM6.js").then(e=>e.AdminModule),canActivate:[D_,ew],data:{requireEmailVerification:!0,requireActiveSession:!0,roles:["admin"]}},{path:"",redirectTo:"/dashboard",pathMatch:"full"}],ET=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({imports:[zu.forRoot(_X,{useHash:!0}),zu]});let e=n;return e})();var Ng=(()=>{let n=class n{constructor(t,i,a,o,s){this.location=t,this.router=i,this.platform=a,this.ngZone=o,this.platformId=s,this.navigationStateSubject=new Jt({canGoBack:!1,currentRoute:"",previousRoute:"",navigationStack:[],isStandalone:!1,isMobile:!1}),this.destroy$=new bt,this.navigationStack=[],this.maxStackSize=50,this.navigationState$=this.navigationStateSubject.asObservable(),this.canGoBack$=this.navigationState$.pipe(un(d=>d.canGoBack),at(d=>d.canGoBack)),sc(this.platformId)||this.initializePwaNavigation()}initializePwaNavigation(){let t=this.isStandalonePwa(),i=this.isMobileDevice();this.navigationStack=[],this.router.events.pipe(un(o=>o instanceof sh),It(this.destroy$)).subscribe(o=>{this.ngZone.run(()=>{this.handleNavigationEnd(o)})}),this.router.events.pipe(un(o=>o instanceof wy),It(this.destroy$)).subscribe(o=>{this.ngZone.run(()=>{this.handleNavigationStart(o)})});let a=()=>{this.ngZone.run(()=>{this.handlePopState()})};typeof window<"u"&&(window.addEventListener("popstate",a),this.destroy$.subscribe(()=>{window.removeEventListener("popstate",a)})),i&&this.setupHardwareBackButton(),this.setupKeyboardNavigation(),this.updateNavigationState({isStandalone:t,isMobile:i,currentRoute:this.router.url})}isStandalonePwa(){return sc(this.platformId)?!1:window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isMobileDevice(){return sc(this.platformId)?!1:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}handleNavigationStart(t){t.url!==this.navigationStateSubject.value.currentRoute&&this.addToNavigationStack(this.navigationStateSubject.value.currentRoute)}handleNavigationEnd(t){let a=this.navigationStateSubject.value.currentRoute;this.updateNavigationState({currentRoute:t.url,previousRoute:a,canGoBack:this.navigationStack.length>0||this.canNavigateBack()})}handlePopState(){let t=this.router.url,i=this.navigationStateSubject.value;t!==i.currentRoute&&this.updateNavigationState({currentRoute:t,previousRoute:i.currentRoute,canGoBack:this.navigationStack.length>0||this.canNavigateBack()})}setupHardwareBackButton(){if(this.platform.ANDROID){let t=i=>{i.preventDefault(),this.ngZone.run(()=>{this.handleHardwareBackButton()})};document.addEventListener("backbutton",t,!1),this.destroy$.subscribe(()=>{document.removeEventListener("backbutton",t)})}this.platform.IOS&&this.setupIosBackGesture()}setupIosBackGesture(){let t=0,i=0,a=50,o=d=>{t=d.touches[0].clientX,i=d.touches[0].clientY},s=d=>{let m=d.changedTouches[0].clientX,f=d.changedTouches[0].clientY,_=t-m,v=Math.abs(i-f);_>a&&v<a&&t<50&&this.ngZone.run(()=>{this.handleHardwareBackButton()})};document.addEventListener("touchstart",o,{passive:!0}),document.addEventListener("touchend",s,{passive:!0}),this.destroy$.subscribe(()=>{document.removeEventListener("touchstart",o),document.removeEventListener("touchend",s)})}setupKeyboardNavigation(){let t=i=>{i.altKey&&i.key==="ArrowLeft"&&(i.preventDefault(),this.ngZone.run(()=>{this.goBack()})),i.key==="Escape"&&this.ngZone.run(()=>{this.handleEscapeKey()})};document.addEventListener("keydown",t),this.destroy$.subscribe(()=>{document.removeEventListener("keydown",t)})}handleHardwareBackButton(){let t=this.navigationStateSubject.value;if(this.isInModal()){this.closeModal();return}t.canGoBack?this.goBack():this.showExitConfirmation()}handleEscapeKey(){this.isInModal()&&this.closeModal()}isInModal(){return document.querySelectorAll('.modal, .dialog, [role="dialog"]').length>0}closeModal(){let t=document.querySelectorAll('.modal, .dialog, [role="dialog"]');if(t.length>0){let a=t[t.length-1].querySelector('[data-dismiss="modal"], .close, .modal-close');a&&a.click()}}showExitConfirmation(){this.navigationStateSubject.value.isStandalone&&confirm("Do you want to exit the app?")&&this.exitApp()}exitApp(){this.navigationStateSubject.value.isStandalone&&window.close()}addToNavigationStack(t){t&&t!=="/"&&(this.navigationStack.push(t),this.navigationStack.length>this.maxStackSize&&this.navigationStack.shift())}canNavigateBack(){return this.navigationStack.length>0||window.history.length>1}goBack(){let t=this.navigationStateSubject.value;if(this.navigationStack.length>0){let i=this.navigationStack.pop();if(i){this.router.navigateByUrl(i);return}}window.history.length>1?this.location.back():this.router.navigate(["/dashboard"])}goForward(){this.location.forward()}navigateTo(t){this.router.navigateByUrl(t)}clearNavigationStack(){this.navigationStack=[],this.updateNavigationState({canGoBack:!1,navigationStack:[]})}getNavigationStack(){return[...this.navigationStack]}isStandaloneMode(){return this.navigationStateSubject.value.isStandalone}isMobileMode(){return this.navigationStateSubject.value.isMobile}updateNavigationState(t){let i=this.navigationStateSubject.value,a=ue(ue({},i),t);t.navigationStack&&(this.navigationStack=t.navigationStack),this.navigationStateSubject.next(a)}destroy(){this.destroy$.next(),this.destroy$.complete(),this.navigationStack=[],this.navigationStateSubject.next({canGoBack:!1,currentRoute:"",previousRoute:"",navigationStack:[],isStandalone:!1,isMobile:!1})}};n.\u0275fac=function(i){return new(i||n)(Ne(rh),Ne(Sn),Ne(Fa),Ne(An),Ne(ol))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function xX(e,n){if(e&1&&(c(0,"div",0)(1,"div",1),de(2,"div",2),c(3,"p",3),u(4),l()()()),e&2){let r=k();g(4),ne(r.message)}}var TT=(()=>{let n=class n{constructor(t){this.loaderService=t,this.message="Loading...",this.loading$=this.loaderService.loading$}};n.\u0275fac=function(i){return new(i||n)(D(Ic))},n.\u0275cmp=Fe({type:n,selectors:[["app-loader"]],inputs:{message:"message"},standalone:!0,features:[rn],decls:2,vars:3,consts:[[1,"loader-overlay"],[1,"loader"],[1,"spinner"],[1,"loader-message"]],template:function(i,a){i&1&&(G(0,xX,5,1,"div",0),Ee(1,"async")),i&2&&ot($e(1,1,a.loading$)?0:-1)},dependencies:[md],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#f9fafbf2;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9999}.loader[_ngcontent-%COMP%]{background:transparent;border-radius:1rem;padding:2rem;max-width:300px;width:90%;text-align:center;display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid #e5e7eb;border-top:4px solid #46777f;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loader-message[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:500;font-size:1.125rem;color:#1f2937;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.loader[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem}.loader-message[_ngcontent-%COMP%]{font-size:1rem}}"]});let e=n;return e})();function bX(e,n){e&1&&(c(0,"div",2)(1,"div",3)(2,"mat-icon",4),u(3,"wifi_off"),l()()()),e&2&&P("@slideDown",void 0)}function yX(e,n){e&1&&(c(0,"div",2)(1,"div",5)(2,"mat-icon",4),u(3,"wifi"),l()()()),e&2&&P("@slideDown",void 0)}var OT=(()=>{let n=class n{constructor(t,i){this.offlineService=t,this.notificationService=i,this.isOnline=!0,this.showOnlineBanner=!1,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.offlineService.networkStatus$.subscribe(t=>{let i=this.isOnline;this.isOnline=t.online,this.isOnline||this.notificationService.info("You are offline. Please check your internet connection."),!i&&this.isOnline&&(this.showOnlineBanner=!0,this.notificationService.info("Connection restored. Syncing data..."),setTimeout(()=>{this.showOnlineBanner=!1},xt.NOTIFICATIONS.AUTO_HIDE_DELAY))}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}dismissOfflineBanner(){}dismissOnlineBanner(){this.showOnlineBanner=!1}};n.\u0275fac=function(i){return new(i||n)(D(as),D(At))},n.\u0275cmp=Fe({type:n,selectors:[["app-offline-indicator"]],decls:2,vars:2,consts:[["class","fixed top-8 left-0 right-[-10px]  z-50 bg-transparent text-white px-4 py-4 text-center flex flex-row-reverse",4,"ngIf"],["class","fixed top-8 left-0 right-[-10px] z-50 bg-transparent text-white px-4 py-4 text-center flex flex-row-reverse",4,"ngIf"],[1,"fixed","top-8","left-0","right-[-10px]","z-50","bg-transparent","text-white","px-4","py-4","text-center","flex","flex-row-reverse"],[1,"flex","items-center","justify-center","space-x-2","bg-gray-800","opacity-40","w-fit","rounded-full","p-2","mr-2"],[1,"text-white"],[1,"flex","items-center","justify-center","space-x-2","bg-green-500","w-fit","rounded-full","p-2","mr-2"]],template:function(i,a){i&1&&G(0,bX,4,1,"div",0)(1,yX,4,1,"div",1),i&2&&(P("ngIf",!a.isOnline),g(),P("ngIf",a.showOnlineBanner))},dependencies:[Tt,zt],styles:["[_nghost-%COMP%]{display:block}.offline-banner[_ngcontent-%COMP%]{transition:all .3s ease}.offline-banner[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026}.online-banner[_ngcontent-%COMP%]{transition:all .3s ease}.online-banner[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026}.connection-indicator[_ngcontent-%COMP%]{transition:all .2s ease}.connection-indicator[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.close-button[_ngcontent-%COMP%]{transition:all .2s ease}.close-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"],data:{animation:[$i("slideDown",[Fn("void",Nt({transform:"translateY(-100%)",opacity:0})),Hn("void => *",[Qn("0.3s ease-out")])]),$i("fadeIn",[Fn("void",Nt({opacity:0,transform:"scale(0.9)"})),Hn("void => *",[Qn("0.2s ease-out")])])]}});let e=n;return e})();var IT=(()=>{let n=class n{constructor(t){this.swUpdate=t,this.updateInfoSubject=new Jt({available:!1,currentVersion:"",newVersion:"",updateReady:!1}),this.updateInfo$=this.updateInfoSubject.asObservable(),this.initializeServiceWorker()}initializeServiceWorker(){if(this.swUpdate.isEnabled){this.checkForUpdates(),this.swUpdate.versionUpdates.pipe(un(i=>i.type==="VERSION_READY")).subscribe(i=>{console.log("New version ready:",i),this.handleVersionReady(i)}),this.swUpdate.unrecoverable.subscribe(i=>{console.error("Unrecoverable service worker error:",i),this.handleUnrecoverableError(i)});let t=xt.PWA.UPDATE_CHECK_INTERVAL;setInterval(()=>{this.checkForUpdates()},t),document.addEventListener("visibilitychange",()=>{document.hidden||this.checkForUpdates()})}}checkForUpdates(){this.swUpdate.checkForUpdate().then(()=>{console.log("Service worker update check completed")}).catch(t=>{console.error("Service worker update check failed:",t)})}handleVersionReady(t){let i={available:!0,currentVersion:this.getVersionFromAppData(t.currentVersion.appData)||"unknown",newVersion:this.getVersionFromAppData(t.latestVersion.appData)||"unknown",updateReady:!0};this.updateInfoSubject.next(i),this.activateUpdateSilently()}getVersionFromAppData(t){if(t&&typeof t=="object")return t.version||t.version}handleUnrecoverableError(t){window.location.reload()}activateUpdateSilently(){return this.swUpdate.activateUpdate().then(()=>(console.log("Service worker update activated silently"),this.updateInfoSubject.next({available:!1,currentVersion:"",newVersion:"",updateReady:!1}),window.location.reload(),!0)).catch(t=>(console.error("Failed to activate service worker update:",t),!1))}activateUpdate(){return this.activateUpdateSilently()}checkForUpdate(){return this.swUpdate.checkForUpdate().then(t=>(console.log(t?"Update available":"No update available"),t)).catch(t=>(console.error("Update check failed:",t),!1))}getCurrentVersion(){return this.updateInfoSubject.value.currentVersion}isUpdateAvailable(){return this.updateInfoSubject.value.available}isUpdateReady(){return this.updateInfoSubject.value.updateReady}handleNavigationEvent(t){t&&t.type==="NAVIGATION"&&console.log("Navigation event received:",t)}registerCustomHandlers(){"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",t=>{if(t.data&&t.data.type)switch(t.data.type){case"NAVIGATION":this.handleNavigationEvent(t.data);break;case"CACHE_UPDATED":console.log("Cache updated:",t.data);break;case"OFFLINE_MODE":console.log("Offline mode activated");break;default:console.log("Unknown service worker message:",t.data)}})}sendMessageToSw(t){"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(t)}handleInstallPrompt(){console.log("App ready for installation")}isAppInstalled(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}handleVisibilityChange(){document.hidden?(console.log("App went to background"),this.saveAppState()):(console.log("App came to foreground"),this.checkForUpdates())}saveAppState(){let t={timestamp:Date.now(),url:window.location.href,scrollPosition:window.scrollY};try{localStorage.setItem("app-background-state",JSON.stringify(t))}catch(i){console.warn("Failed to save app state:",i)}}};n.\u0275fac=function(i){return new(i||n)(Ne(Qd))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function SX(e,n){if(e&1){let r=Ce();c(0,"div",1)(1,"div",2)(2,"div",3),si(),c(3,"svg",4),de(4,"path",5)(5,"path",6)(6,"path",7),l()(),Gr(),c(7,"div",8)(8,"h3"),u(9),l(),c(10,"p"),u(11,"Add to your home screen for quick access and offline functionality"),l()(),c(12,"div",9)(13,"button",10),H("click",function(){q(r);let i=k();return K(i.installApp())}),u(14," Install App "),l(),c(15,"button",11),H("click",function(){q(r);let i=k();return K(i.dismissPrompt())}),u(16," Not Now "),l()(),c(17,"button",12),H("click",function(){q(r);let i=k();return K(i.dismissPrompt())}),si(),c(18,"svg",13),de(19,"path",14),l()()()()}if(e&2){let r=k();g(9),he("Install ",r.APP_CONFIG.APP_NAME,""),g(8),Gt("aria-label","Close install prompt")}}var AT=(()=>{let n=class n{constructor(t,i){this.pwaSwService=t,this.ssrService=i,this.installClicked=new He,this.dismissClicked=new He,this.APP_CONFIG=xt,this.showInstallPrompt=!1,this.isMobileDevice=!1,this.destroy$=new bt}ngOnInit(){this.detectMobileDevice(),this.setupInstallPrompt(),this.checkInstallStatus()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}detectMobileDevice(){this.isMobileDevice=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}setupInstallPrompt(){this.ssrService.isClientSide()&&(window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.deferredPrompt=t,this.isMobileDevice?(this.showInstallPrompt=!0,console.log("Install prompt ready for mobile device")):console.log("Install prompt ready but not showing on desktop")}),window.addEventListener("appinstalled",()=>{this.showInstallPrompt=!1,this.deferredPrompt=null,console.log("App installed successfully")}),this.pwaSwService.isAppInstalled()&&(this.showInstallPrompt=!1))}checkInstallStatus(){if(!this.isMobileDevice){this.showInstallPrompt=!1;return}let t=localStorage.getItem("pwa-install-dismissed"),i=localStorage.getItem("pwa-install-dismissed-time");if(t&&i){let a=Date.now(),o=parseInt(i),s=(a-o)/(1e3*60*60*24),d=xt.SECURITY.LOCKOUT_DURATION/(1e3*60*60*24);s<d&&(this.showInstallPrompt=!1)}}installApp(){return ge(this,null,function*(){if(this.deferredPrompt){this.installClicked.emit(),this.deferredPrompt.prompt();let{outcome:t}=yield this.deferredPrompt.userChoice;t==="accepted"?(console.log("User accepted the install prompt"),this.showInstallPrompt=!1):(console.log("User dismissed the install prompt"),this.dismissPrompt()),this.deferredPrompt=null}})}dismissPrompt(){this.dismissClicked.emit(),this.showInstallPrompt=!1,localStorage.setItem("pwa-install-dismissed","true"),localStorage.setItem("pwa-install-dismissed-time",Date.now().toString())}showPrompt(){this.isMobileDevice?this.showInstallPrompt=!0:console.log("Install prompt not available on desktop")}isInstallPromptAvailable(){return this.isMobileDevice&&!!this.deferredPrompt}};n.\u0275fac=function(i){return new(i||n)(D(IT),D(Vr))},n.\u0275cmp=Fe({type:n,selectors:[["app-pwa-install-prompt"]],outputs:{installClicked:"installClicked",dismissClicked:"dismissClicked"},decls:1,vars:1,consts:[["class","pwa-install-prompt",4,"ngIf"],[1,"pwa-install-prompt"],[1,"install-content"],[1,"install-icon"],["width","48","height","48","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 2L2 7L12 12L22 7L12 2Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M2 17L12 22L22 17","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M2 12L12 17L22 12","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"install-text"],[1,"install-actions"],["type","button",1,"install-btn","primary",3,"click"],["type","button",1,"install-btn","secondary",3,"click"],["type","button",1,"close-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M18 6L6 18M6 6L18 18","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(i,a){i&1&&G(0,SX,20,2,"div",0),i&2&&P("ngIf",a.showInstallPrompt&&a.isMobileDevice)},dependencies:[Tt],styles:[".pwa-install-prompt[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:20px;right:20px;z-index:1000;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.install-content[_ngcontent-%COMP%]{background:var(--surface-color, #ffffff);border:1px solid var(--border-color, #e2e8f0);border-radius:16px;padding:20px;box-shadow:0 10px 25px #0000001a;position:relative;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.install-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:16px;color:var(--primary-color, #3b82f6)}.install-text[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.install-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--text-color, #1e293b);margin:0 0 8px}.install-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--text-muted, #64748b);margin:0;line-height:1.5}.install-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center}.install-btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;min-width:100px}.install-btn.primary[_ngcontent-%COMP%]{background:var(--primary-color, #3b82f6);color:#fff}.install-btn.primary[_ngcontent-%COMP%]:hover{background:var(--primary-color-dark, #2563eb);transform:translateY(-1px)}.install-btn.secondary[_ngcontent-%COMP%]{background:var(--surface-color, #f8fafc);color:var(--text-color, #1e293b);border:1px solid var(--border-color, #e2e8f0)}.install-btn.secondary[_ngcontent-%COMP%]:hover{background:var(--surface-hover-color, #f1f5f9)}.close-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;width:32px;height:32px;border:none;border-radius:50%;background:var(--surface-color, #f8fafc);color:var(--text-muted, #64748b);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.close-btn[_ngcontent-%COMP%]:hover{background:var(--surface-hover-color, #f1f5f9);color:var(--text-color, #1e293b)}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.pwa-install-prompt[_ngcontent-%COMP%]{bottom:16px;left:16px;right:16px}.install-content[_ngcontent-%COMP%]{padding:16px}.install-actions[_ngcontent-%COMP%]{flex-direction:column}.install-btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.pwa-install-prompt[_ngcontent-%COMP%]{bottom:12px;left:12px;right:12px}.install-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.install-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}}@media (prefers-color-scheme: dark){.install-content[_ngcontent-%COMP%]{background:#0f172af2;border-color:#334155}.install-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f1f5f9}.install-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#94a3b8}.install-btn.secondary[_ngcontent-%COMP%]{background:#1e293b;color:#f1f5f9;border-color:#334155}.install-btn.secondary[_ngcontent-%COMP%]:hover{background:#334155}.close-btn[_ngcontent-%COMP%]{background:#1e293b;color:#94a3b8}.close-btn[_ngcontent-%COMP%]:hover{background:#334155;color:#f1f5f9}}"]});let e=n;return e})();var DT=(()=>{let n=class n{constructor(t,i,a,o,s){this.location=t,this.loaderService=i,this.pwaNavigationService=a,this.offlineService=o,this.ssrService=s,this.title=xt.APP_NAME,this.isOnline=!1,this.destroy$=new bt,this.navigationState={canGoBack:!1,currentRoute:"",previousRoute:"",navigationStack:[],isStandalone:!1,isMobile:!1}}ngOnInit(){this.ssrService.isClientSide()&&(this.isOnline=navigator.onLine),this.initializePwaFeatures(),this.setupEventListeners()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.pwaNavigationService.destroy()}initializePwaFeatures(){this.pwaNavigationService.navigationState$.pipe(It(this.destroy$)).subscribe(t=>{this.navigationState=t}),this.offlineService.isOnline$.pipe(It(this.destroy$)).subscribe(t=>{this.isOnline=t})}setupEventListeners(){this.ssrService.isClientSide()&&(window.addEventListener("online",()=>this.isOnline=!0),window.addEventListener("offline",()=>this.isOnline=!1),window.addEventListener("beforeunload",t=>{this.navigationState.isStandalone&&this.saveAppState()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?this.handleAppBackground():document.visibilityState==="visible"&&this.handleAppForeground()}))}saveAppState(){let t={currentRoute:this.navigationState.currentRoute,navigationStack:this.navigationState.navigationStack,timestamp:Date.now()};try{localStorage.setItem("app-state",JSON.stringify(t))}catch(i){console.warn("Failed to save app state:",i)}}handleAppBackground(){this.saveAppState(),this.loaderService.hide()}handleAppForeground(){this.isOnline&&this.refreshDataIfNeeded()}refreshDataIfNeeded(){let t=localStorage.getItem("last-data-refresh"),i=Date.now(),a=xt.OFFLINE.SYNC_INTERVAL;(!t||i-parseInt(t)>a)&&localStorage.setItem("last-data-refresh",i.toString())}goBack(){this.pwaNavigationService.goBack()}goForward(){this.pwaNavigationService.goForward()}handlePwaAction(t){if(this.ssrService.isClientSide())switch(t){case"back":this.goBack();break;case"forward":this.goForward();break;case"home":this.pwaNavigationService.navigateTo("/dashboard");break;case"refresh":window.location.reload();break;default:console.warn("Unknown PWA action:",t)}}onInstallClicked(){console.log("PWA install clicked")}onDismissClicked(){console.log("PWA install dismissed")}};n.\u0275fac=function(i){return new(i||n)(D(rh),D(Ic),D(Ng),D(as),D(Vr))},n.\u0275cmp=Fe({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[3,"installClicked","dismissClicked"]],template:function(i,a){i&1&&(de(0,"app-offline-indicator"),c(1,"app-pwa-install-prompt",0),H("installClicked",function(){return a.onInstallClicked()})("dismissClicked",function(){return a.onDismissClicked()}),l(),c(2,"div"),de(3,"app-loader")(4,"router-outlet"),l())},dependencies:[ch,TT,OT,AT],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.content[_ngcontent-%COMP%]{padding:16px}.offline-banner[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;background:red;color:#fff;text-align:center;padding:5px}"]});let e=n;return e})();var kX="@",PX=(()=>{let n=class n{constructor(t,i,a,o,s){this.doc=t,this.delegate=i,this.zone=a,this.animationType=o,this.moduleImpl=s,this._rendererFactoryPromise=null,this.scheduler=cn(dy,{optional:!0})}ngOnDestroy(){var t;(t=this._engine)==null||t.flush()}loadImpl(){var i;return((i=this.moduleImpl)!=null?i:import("./chunk-PHB7DQR3.js").then(a=>a)).catch(a=>{throw new cy(5300,!1)}).then(({\u0275createEngine:a,\u0275AnimationRendererFactory:o})=>{this._engine=a(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,i){var s,d;let a=this.delegate.createRenderer(t,i);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let o=new eb(a);return(s=i==null?void 0:i.data)!=null&&s.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),(d=this._rendererFactoryPromise)==null||d.then(m=>{var _;let f=m.createRenderer(t,i);o.use(f),(_=this.scheduler)==null||_.notify(9)}).catch(m=>{o.use(a)}),o}begin(){var t,i;(i=(t=this.delegate).begin)==null||i.call(t)}end(){var t,i;(i=(t=this.delegate).end)==null||i.call(t)}whenRenderingDone(){var t,i,a;return(a=(i=(t=this.delegate).whenRenderingDone)==null?void 0:i.call(t))!=null?a:Promise.resolve()}};n.\u0275fac=function(i){X0()},n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})(),eb=class{constructor(n){this.delegate=n,this.replay=[],this.\u0275type=1}use(n){if(this.delegate=n,this.replay!==null){for(let r of this.replay)r(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,r){return this.delegate.createElement(n,r)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,r){this.delegate.appendChild(n,r)}insertBefore(n,r,t,i){this.delegate.insertBefore(n,r,t,i)}removeChild(n,r,t){this.delegate.removeChild(n,r,t)}selectRootElement(n,r){return this.delegate.selectRootElement(n,r)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,r,t,i){this.delegate.setAttribute(n,r,t,i)}removeAttribute(n,r,t){this.delegate.removeAttribute(n,r,t)}addClass(n,r){this.delegate.addClass(n,r)}removeClass(n,r){this.delegate.removeClass(n,r)}setStyle(n,r,t,i){this.delegate.setStyle(n,r,t,i)}removeStyle(n,r,t){this.delegate.removeStyle(n,r,t)}setProperty(n,r,t){this.shouldReplay(r)&&this.replay.push(i=>i.setProperty(n,r,t)),this.delegate.setProperty(n,r,t)}setValue(n,r){this.delegate.setValue(n,r)}listen(n,r,t){return this.shouldReplay(r)&&this.replay.push(i=>i.listen(n,r,t)),this.delegate.listen(n,r,t)}shouldReplay(n){return this.replay!==null&&n.startsWith(kX)}};function FT(e="animations"){return __("NgAsyncAnimations"),Ss([{provide:Z0,useFactory:(n,r,t)=>new PX(n,r,t,e),deps:[ha,ah,An]},{provide:Wr,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var EX=(()=>{let n=class n extends rp{constructor(t,i,a){super(t,i,a)}ngOnDestroy(){this.flush()}};n.\u0275fac=function(i){return new(i||n)(Ne(ha),Ne(qu),Ne(ip))},n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})();function TX(){return new uw}function OX(e,n,r){return new hw(e,n,r)}var NT=[{provide:ip,useFactory:TX},{provide:rp,useClass:EX},{provide:Z0,useFactory:OX,deps:[ah,rp,An]}],RT=[{provide:qu,useFactory:()=>new mw},{provide:Wr,useValue:"BrowserAnimations"},...NT],IX=[{provide:qu,useClass:dw},{provide:Wr,useValue:"NoopAnimations"},...NT],LT=(()=>{let n=class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?IX:RT}}};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({providers:RT,imports:[oh]});let e=n;return e})();var VT=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({imports:[bC,pd,Kn,Gh,IC,cw]});let e=n;return e})();var BT=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({imports:[Kn]});let e=n;return e})();var jT=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({imports:[Kn,Kn]});let e=n;return e})();var AX=new Ft("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let e=cn(xc);return()=>e.scrollStrategies.reposition()}});function DX(e){return()=>e.scrollStrategies.reposition()}var FX={provide:AX,deps:[xc],useFactory:DX};var UT=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({providers:[FX],imports:[Qh,O_,Kn,pd,ul,O_,Kn]});let e=n;return e})();var zT=(()=>{let n=class n{constructor(t,i){this.matIconRegistry=t,this.domSanitizer=i,this.matIconRegistry.addSvgIconSet(this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icon/system-uicons.svg")),this.matIconRegistry.addSvgIcon("test",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icon/test.svg")),this.matIconRegistry.addSvgIcon("add-txn",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icon/add-txn.svg"))}};n.\u0275fac=function(i){return new(i||n)(Ne(HC),Ne(yy))},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({});let e=n;return e})();var VX={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Vg="__@ngrx/effects_create__";function vn(e,n={}){let r=n.functional?e:e(),t=ue(ue({},VX),n);return Object.defineProperty(r,Vg,{value:t}),r}function BX(e){return Object.getOwnPropertyNames(e).filter(t=>e[t]&&e[t].hasOwnProperty(Vg)?e[t][Vg].hasOwnProperty("dispatch"):!1).map(t=>{let i=e[t][Vg];return ue({propertyName:t},i)})}function jX(e){return BX(e)}function WT(e){return Object.getPrototypeOf(e)}function UX(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function YT(e){return typeof e=="function"}function HT(e){return e.filter(YT)}function zX(e){return e instanceof Ft||YT(e)}function HX(e,n,r){let t=WT(e),a=!!t&&t.constructor.name!=="Object"?t.constructor.name:null,o=jX(e).map(({propertyName:s,dispatch:d,useEffectsErrorHandler:m})=>{let f=typeof e[s]=="function"?e[s]():e[s],_=m?r(f,n):f;return d===!1?_.pipe(Qb()):_.pipe(ey()).pipe(at(w=>({effect:e[s],notification:w,propertyName:s,sourceName:a,sourceInstance:e})))});return mi(...o)}var GX=10;function qT(e,n,r=GX){return e.pipe(Qt(t=>(n&&n.handleError(t),r<=1?e:qT(e,n,r-1))))}var wo=(()=>{let n=class n extends In{constructor(t){super(),t&&(this.source=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}};n.\u0275fac=function(i){return new(i||n)(Ne(fh))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function bn(...e){return un(n=>e.some(r=>typeof r=="string"?r===n.type:r.type===n.type))}var KT=new Ft("@ngrx/effects Internal Root Guard"),Lg=new Ft("@ngrx/effects User Provided Effects"),tb=new Ft("@ngrx/effects Internal Root Effects"),QT=new Ft("@ngrx/effects Internal Root Effects Instances"),GT=new Ft("@ngrx/effects Internal Feature Effects"),XT=new Ft("@ngrx/effects Internal Feature Effects Instance Groups"),$X=new Ft("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>qT}),ZT="@ngrx/effects/init",Gde=mt(ZT);function WX(e,n){if(e.notification.kind==="N"){let r=e.notification.value;!YX(r)&&n.handleError(new Error(`Effect ${qX(e)} dispatched an invalid action: ${KX(r)}`))}}function YX(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function qX({propertyName:e,sourceInstance:n,sourceName:r}){let t=typeof n[e]=="function";return!!r?`"${r}.${String(e)}${t?"()":""}"`:`"${String(e)}()"`}function KX(e){try{return JSON.stringify(e)}catch{return e}}var QX="ngrxOnIdentifyEffects";function XX(e){return nb(e,QX)}var ZX="ngrxOnRunEffects";function JX(e){return nb(e,ZX)}var eZ="ngrxOnInitEffects";function tZ(e){return nb(e,eZ)}function nb(e,n){return e&&n in e&&typeof e[n]=="function"}var JT=(()=>{let n=class n extends bt{constructor(t,i){super(),this.errorHandler=t,this.effectsErrorHandler=i}addEffects(t){this.next(t)}toActions(){return this.pipe(f_(t=>UX(t)?WT(t):t),en(t=>t.pipe(f_(nZ))),en(t=>{let i=t.pipe(Jb(o=>iZ(this.errorHandler,this.effectsErrorHandler)(o)),at(o=>(WX(o,this.errorHandler),o.notification)),un(o=>o.kind==="N"&&o.value!=null),Zb()),a=t.pipe(Rr(1),un(tZ),at(o=>o.ngrxOnInitEffects()));return mi(i,a)}))}};n.\u0275fac=function(i){return new(i||n)(Ne(K0),Ne($X))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function nZ(e){return XX(e)?e.ngrxOnIdentifyEffects():""}function iZ(e,n){return r=>{let t=HX(r,e,n);return JX(r)?r.ngrxOnRunEffects(t):t}}var eO=(()=>{let n=class n{get isStarted(){return!!this.effectsSubscription}constructor(t,i){this.effectSources=t,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};n.\u0275fac=function(i){return new(i||n)(Ne(JT),Ne(qt))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})(),tO=(()=>{let n=class n{constructor(t,i,a,o,s,d,m){this.sources=t,i.start();for(let f of o)t.addEffects(f);a.dispatch({type:ZT})}addEffects(t){this.sources.addEffects(t)}};n.\u0275fac=function(i){return new(i||n)(Ne(JT),Ne(eO),Ne(qt),Ne(QT),Ne(C_,8),Ne(w_,8),Ne(KT,8))},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({});let e=n;return e})(),rZ=(()=>{let n=class n{constructor(t,i,a,o){let s=i.flat();for(let d of s)t.addEffects(d)}};n.\u0275fac=function(i){return new(i||n)(Ne(tO),Ne(XT),Ne(C_,8),Ne(w_,8))},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({});let e=n;return e})(),nO=(()=>{let n=class n{static forFeature(...t){let i=t.flat(),a=HT(i);return{ngModule:rZ,providers:[a,{provide:GT,multi:!0,useValue:i},{provide:Lg,multi:!0,useValue:[]},{provide:XT,multi:!0,useFactory:$T,deps:[GT,Lg]}]}}static forRoot(...t){let i=t.flat(),a=HT(i);return{ngModule:tO,providers:[a,{provide:tb,useValue:[i]},{provide:KT,useFactory:aZ},{provide:Lg,multi:!0,useValue:[]},{provide:QT,useFactory:$T,deps:[tb,Lg]}]}}};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({});let e=n;return e})();function $T(e,n){let r=[];for(let t of e)r.push(...t);for(let t of n)r.push(...t);return r.map(t=>zX(t)?cn(t):t)}function aZ(){let e=cn(eO,{optional:!0,skipSelf:!0}),n=cn(tb,{self:!0});if(!(n.length===1&&n[0].length===0)&&e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var l0="PERFORM_ACTION",oZ="REFRESH",cO="RESET",lO="ROLLBACK",dO="COMMIT",uO="SWEEP",mO="TOGGLE_ACTION",sZ="SET_ACTIONS_ACTIVE",hO="JUMP_TO_STATE",pO="JUMP_TO_ACTION",fb="IMPORT_STATE",fO="LOCK_CHANGES",gO="PAUSE_RECORDING",Iu=class{constructor(n,r){if(this.action=n,this.timestamp=r,this.type=l0,typeof n.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},ib=class{constructor(){this.type=oZ}},rb=class{constructor(n){this.timestamp=n,this.type=cO}},ab=class{constructor(n){this.timestamp=n,this.type=lO}},ob=class{constructor(n){this.timestamp=n,this.type=dO}},sb=class{constructor(){this.type=uO}},cb=class{constructor(n){this.id=n,this.type=mO}};var lb=class{constructor(n){this.index=n,this.type=hO}},db=class{constructor(n){this.actionId=n,this.type=pO}},ub=class{constructor(n){this.nextLiftedState=n,this.type=fb}},mb=class{constructor(n){this.status=n,this.type=fO}},hb=class{constructor(n){this.status=n,this.type=gO}};var zg=new Ft("@ngrx/store-devtools Options"),iO=new Ft("@ngrx/store-devtools Initial Config");function _O(){return null}var cZ="NgRx Store DevTools";function lZ(e){let n={maxAge:!1,monitor:_O,actionSanitizer:void 0,stateSanitizer:void 0,name:cZ,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},r=typeof e=="function"?e():e,t=r.logOnly?{pause:!0,export:!0,test:!0}:!1,i=r.features||t||n.features;i.import===!0&&(i.import="custom");let a=Object.assign({},n,{features:i},r);if(a.maxAge&&a.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${a.maxAge}`);return a}function rO(e,n){return e.filter(r=>n.indexOf(r)<0)}function xO(e){let{computedStates:n,currentStateIndex:r}=e;if(r>=n.length){let{state:i}=n[n.length-1];return i}let{state:t}=n[r];return t}function c0(e){return new Iu(e,+Date.now())}function dZ(e,n){return Object.keys(n).reduce((r,t)=>{let i=Number(t);return r[i]=vO(e,n[i],i),r},{})}function vO(e,n,r){return xe(ue({},n),{action:e(n.action,r)})}function uZ(e,n){return n.map((r,t)=>({state:bO(e,r.state,t),error:r.error}))}function bO(e,n,r){return e(n,r)}function yO(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function mZ(e,n,r,t){let i=[],a={},o=[];return e.stagedActionIds.forEach((s,d)=>{let m=e.actionsById[s];m&&(d&&gb(e.computedStates[d],m,n,r,t)||(a[s]=m,i.push(s),o.push(e.computedStates[d])))}),xe(ue({},e),{stagedActionIds:i,actionsById:a,computedStates:o})}function gb(e,n,r,t,i){let a=r&&!r(e,n.action),o=t&&!n.action.type.match(t.map(d=>aO(d)).join("|")),s=i&&n.action.type.match(i.map(d=>aO(d)).join("|"));return a||o||s}function aO(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function CO(e){return{ngZone:e?cn(An):null,connectInZone:e}}var Hg=(()=>{let n=class n extends ph{};n.\u0275fac=(()=>{let t;return function(a){return(t||(t=pr(n)))(a||n)}})(),n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})(),Bg={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},pb=new Ft("@ngrx/store-devtools Redux Devtools Extension"),wO=(()=>{let n=class n{constructor(t,i,a){this.config=i,this.dispatcher=a,this.zoneConfig=CO(this.config.connectInZone),this.devtoolsExtension=t,this.createActionStreams()}notify(t,i){if(this.devtoolsExtension)if(t.type===l0){if(i.isLocked||i.isPaused)return;let a=xO(i);if(yO(this.config)&&gb(a,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?bO(this.config.stateSanitizer,a,i.currentStateIndex):a,s=this.config.actionSanitizer?vO(this.config.actionSanitizer,t,i.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(s,o))}else{let a=xe(ue({},i),{stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?dZ(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?uZ(this.config.stateSanitizer,i.computedStates):i.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,a,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new In(t=>{let i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(a=>t.next(a)),i.unsubscribe}):sd}createActionStreams(){let t=this.createChangesObservable().pipe(ry()),i=t.pipe(un(f=>f.type===Bg.START)),a=t.pipe(un(f=>f.type===Bg.STOP)),o=t.pipe(un(f=>f.type===Bg.DISPATCH),at(f=>this.unwrapAction(f.payload)),h_(f=>f.type===fb?this.dispatcher.pipe(un(_=>_.type===y_),Yb(1e3),ws(1e3),at(()=>f),Qt(()=>ht(f)),Rr(1)):ht(f))),d=t.pipe(un(f=>f.type===Bg.ACTION),at(f=>this.unwrapAction(f.payload))).pipe(It(a)),m=o.pipe(It(a));this.start$=i.pipe(It(a)),this.actions$=this.start$.pipe(Za(()=>d)),this.liftedActions$=this.start$.pipe(Za(()=>m))}unwrapAction(t){return typeof t=="string"?(0,eval)(`(${t})`):t}getExtensionConfig(t){var a,o,s;let i={name:t.name,features:t.features,serialize:t.serialize,autoPause:(a=t.autoPause)!=null?a:!1,trace:(o=t.trace)!=null?o:!1,traceLimit:(s=t.traceLimit)!=null?s:75};return t.maxAge!==!1&&(i.maxAge=t.maxAge),i}sendToReduxDevtools(t){try{t()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}};n.\u0275fac=function(i){return new(i||n)(Ne(pb),Ne(zg),Ne(Hg))},n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})(),Ug={type:b_},hZ="@ngrx/store-devtools/recompute",pZ={type:hZ};function SO(e,n,r,t,i){if(t)return{state:r,error:"Interrupted by an error up the chain"};let a=r,o;try{a=e(r,n)}catch(s){o=s.toString(),i.handleError(s)}return{state:a,error:o}}function jg(e,n,r,t,i,a,o,s,d){if(n>=e.length&&e.length===a.length)return e;let m=e.slice(0,n),f=a.length-(d?1:0);for(let _=n;_<f;_++){let v=a[_],w=i[v].action,C=m[_-1],b=C?C.state:t,O=C?C.error:void 0,N=o.indexOf(v)>-1?C:SO(r,w,b,O,s);m.push(N)}return d&&m.push(e[e.length-1]),m}function fZ(e,n){return{monitorState:n(void 0,{}),nextActionId:1,actionsById:{0:c0(Ug)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function gZ(e,n,r,t,i={}){return a=>(o,s)=>{let{monitorState:d,actionsById:m,nextActionId:f,stagedActionIds:_,skippedActionIds:v,committedState:w,currentStateIndex:C,computedStates:b,isLocked:O,isPaused:L}=o||n;o||(m=Object.create(m));function N(oe){let F=oe,S=_.slice(1,F+1);for(let E=0;E<S.length;E++)if(b[E+1].error){F=E,S=_.slice(1,F+1);break}else delete m[S[E]];v=v.filter(E=>S.indexOf(E)===-1),_=[0,..._.slice(F+1)],w=b[F].state,b=b.slice(F),C=C>F?C-F:0}function V(){m={0:c0(Ug)},f=1,_=[0],v=[],w=b[C].state,C=0,b=[]}let re=0;switch(s.type){case fO:{O=s.status,re=1/0;break}case gO:{L=s.status,L?(_=[..._,f],m[f]=new Iu({type:"@ngrx/devtools/pause"},+Date.now()),f++,re=_.length-1,b=b.concat(b[b.length-1]),C===_.length-2&&C++,re=1/0):V();break}case cO:{m={0:c0(Ug)},f=1,_=[0],v=[],w=e,C=0,b=[];break}case dO:{V();break}case lO:{m={0:c0(Ug)},f=1,_=[0],v=[],C=0,b=[];break}case mO:{let{id:oe}=s;v.indexOf(oe)===-1?v=[oe,...v]:v=v.filter(S=>S!==oe),re=_.indexOf(oe);break}case sZ:{let{start:oe,end:F,active:S}=s,E=[];for(let A=oe;A<F;A++)E.push(A);S?v=rO(v,E):v=[...v,...E],re=_.indexOf(oe);break}case hO:{C=s.index,re=1/0;break}case pO:{let oe=_.indexOf(s.actionId);oe!==-1&&(C=oe),re=1/0;break}case uO:{_=rO(_,v),v=[],C=Math.min(C,_.length-1);break}case l0:{if(O)return o||n;if(L||o&&gb(o.computedStates[C],s,i.predicate,i.actionsSafelist,i.actionsBlocklist)){let F=b[b.length-1];b=[...b.slice(0,-1),SO(a,s.action,F.state,F.error,r)],re=1/0;break}i.maxAge&&_.length===i.maxAge&&N(1),C===_.length-1&&C++;let oe=f++;m[oe]=s,_=[..._,oe],re=_.length-1;break}case fb:{({monitorState:d,actionsById:m,nextActionId:f,stagedActionIds:_,skippedActionIds:v,committedState:w,currentStateIndex:C,computedStates:b,isLocked:O,isPaused:L}=s.nextLiftedState);break}case b_:{re=0,i.maxAge&&_.length>i.maxAge&&(b=jg(b,re,a,w,m,_,v,r,L),N(_.length-i.maxAge),re=1/0);break}case y_:{if(b.filter(F=>F.error).length>0)re=0,i.maxAge&&_.length>i.maxAge&&(b=jg(b,re,a,w,m,_,v,r,L),N(_.length-i.maxAge),re=1/0);else{if(!L&&!O){C===_.length-1&&C++;let F=f++;m[F]=new Iu(s,+Date.now()),_=[..._,F],re=_.length-1,b=jg(b,re,a,w,m,_,v,r,L)}b=b.map(F=>xe(ue({},F),{state:a(F.state,pZ)})),C=_.length-1,i.maxAge&&_.length>i.maxAge&&N(_.length-i.maxAge),re=1/0}break}default:{re=1/0;break}}return b=jg(b,re,a,w,m,_,v,r,L),d=t(d,s),{monitorState:d,actionsById:m,nextActionId:f,stagedActionIds:_,skippedActionIds:v,committedState:w,currentStateIndex:C,computedStates:b,isLocked:O,isPaused:L}}}var oO=(()=>{let n=class n{constructor(t,i,a,o,s,d,m,f){let _=fZ(m,f.monitor),v=gZ(m,_,d,f.monitor,f),w=mi(mi(i.asObservable().pipe(W0(1)),o.actions$).pipe(at(c0)),t,o.liftedActions$).pipe($b(Gb)),C=a.pipe(at(v)),b=CO(f.connectInZone),O=new rl(1);this.liftedStateSubscription=w.pipe(sy(C),sO(b),iy(({state:V},[re,oe])=>{let F=oe(V,re);return re.type!==l0&&yO(f)&&(F=mZ(F,f.predicate,f.actionsSafelist,f.actionsBlocklist)),o.notify(re,F),{state:F,action:re}},{state:_,action:null})).subscribe(({state:V,action:re})=>{if(O.next(V),re.type===l0){let oe=re.action;s.next(oe)}}),this.extensionStartSubscription=o.start$.pipe(sO(b)).subscribe(()=>{this.refresh()});let L=O.asObservable(),N=L.pipe(at(xO));Object.defineProperty(N,"state",{value:Oy(N,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=t,this.liftedState=L,this.state=N}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new Iu(t,+Date.now()))}refresh(){this.dispatch(new ib)}reset(){this.dispatch(new rb(+Date.now()))}rollback(){this.dispatch(new ab(+Date.now()))}commit(){this.dispatch(new ob(+Date.now()))}sweep(){this.dispatch(new sb)}toggleAction(t){this.dispatch(new cb(t))}jumpToAction(t){this.dispatch(new db(t))}jumpToState(t){this.dispatch(new lb(t))}importState(t){this.dispatch(new ub(t))}lockChanges(t){this.dispatch(new mb(t))}pauseRecording(t){this.dispatch(new hb(t))}};n.\u0275fac=function(i){return new(i||n)(Ne(Hg),Ne(ph),Ne(Ay),Ne(wO),Ne(fh),Ne(K0),Ne(Iy),Ne(zg))},n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})();function sO({ngZone:e,connectInZone:n}){return r=>n?new In(t=>r.subscribe({next:i=>e.run(()=>t.next(i)),error:i=>e.run(()=>t.error(i)),complete:()=>e.run(()=>t.complete())})):r}var _Z=new Ft("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function xZ(e,n){return!!e||n.monitor!==_O}function vZ(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function bZ(e={}){return Ss([wO,Hg,oO,{provide:iO,useValue:e},{provide:_Z,deps:[pb,zg],useFactory:xZ},{provide:pb,useFactory:vZ},{provide:zg,deps:[iO],useFactory:lZ},{provide:Fy,deps:[oO],useFactory:yZ},{provide:Dy,useExisting:Hg}])}function yZ(e){return e.state}var MO=(()=>{let n=class n{static instrument(t={}){return{ngModule:n,providers:[bZ(t)]}}};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({});let e=n;return e})();var _b={entities:{},ids:[],loading:!1,error:null,selectedTransactionId:null};var kO=io(_b,je(gr,e=>xe(ue({},e),{loading:!0,error:null})),je(jp,(e,{transactions:n})=>{let r=n.reduce((i,a)=>(a.id&&(i[a.id]=a),i),{}),t=n.map(i=>i.id).filter(i=>i);return xe(ue({},e),{entities:r,ids:t,loading:!1,error:null})}),je(Up,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Sc,e=>xe(ue({},e),{loading:!0,error:null})),je(pw,(e,{transaction:n})=>n.id?xe(ue({},e),{entities:xe(ue({},e.entities),{[n.id]:n}),ids:[...e.ids,n.id],loading:!1,error:null}):e),je(zp,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Mc,e=>xe(ue({},e),{loading:!0,error:null})),je(fw,(e,{transaction:n})=>n.id?xe(ue({},e),{entities:xe(ue({},e.entities),{[n.id]:n}),loading:!1,error:null}):e),je(Hp,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Ld,e=>xe(ue({},e),{loading:!0,error:null})),je(Gp,(e,{transactionId:n})=>{let i=e.entities,{[n]:r}=i,t=od(i,[ad(n)]);return xe(ue({},e),{entities:t,ids:e.ids.filter(a=>a!==n),loading:!1,error:null})}),je($p,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Wp,e=>xe(ue({},e),{loading:!0,error:null})),je(Yp,(e,{transaction:n})=>n.id?xe(ue({},e),{entities:xe(ue({},e.entities),{[n.id]:n}),ids:e.ids.includes(n.id)?e.ids:[...e.ids,n.id],selectedTransactionId:n.id,loading:!1,error:null}):e),je(Ku,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(gw,()=>_b));var xb={entities:{},ids:[],loading:!1,error:null};var PO=io(xb,je(Sa,e=>xe(ue({},e),{loading:!0,error:null})),je(Oh,(e,{categories:n})=>{let r=n.reduce((i,a)=>(a.id&&(i[a.id]=a),i),{}),t=n.map(i=>i.id).filter(i=>i);return xe(ue({},e),{entities:r,ids:t,loading:!1,error:null})}),je(Ih,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(uc,e=>xe(ue({},e),{loading:!0,error:null})),je(jy,(e,{category:n})=>n.id?xe(ue({},e),{entities:xe(ue({},e.entities),{[n.id]:n}),ids:[...e.ids,n.id],loading:!1,error:null}):e),je(Ah,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Ts,e=>xe(ue({},e),{loading:!0,error:null})),je(Uy,(e,{category:n})=>n.id?xe(ue({},e),{entities:xe(ue({},e.entities),{[n.id]:n}),loading:!1,error:null}):e),je(Dh,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(bd,e=>xe(ue({},e),{loading:!0,error:null})),je(Fh,(e,{categoryId:n})=>{let i=e.entities,{[n]:r}=i,t=od(i,[ad(n)]);return xe(ue({},e),{entities:t,ids:e.ids.filter(a=>a!==n),loading:!1,error:null})}),je(Rh,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Gy,()=>xb));var vb={entities:{},ids:[],loading:!1,error:null,selectedAccountId:null};var EO=io(vb,je(wa,e=>xe(ue({},e),{loading:!0,error:null})),je(gh,(e,{accounts:n})=>{let r=n.reduce((i,a)=>(i[a.accountId]=a,i),{}),t=n.map(i=>i.accountId);return xe(ue({},e),{entities:r,ids:t,loading:!1,error:null})}),je(_h,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(lc,e=>xe(ue({},e),{loading:!0,error:null})),je(Ny,(e,{account:n})=>xe(ue({},e),{entities:xe(ue({},e.entities),{[n.accountId]:n}),ids:[...e.ids,n.accountId],loading:!1,error:null})),je(xh,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(dc,e=>xe(ue({},e),{loading:!0,error:null})),je(Ly,(e,{account:n})=>xe(ue({},e),{entities:xe(ue({},e.entities),{[n.accountId]:n}),loading:!1,error:null})),je(vh,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(xd,e=>xe(ue({},e),{loading:!0,error:null})),je(bh,(e,{accountId:n})=>{let i=e.entities,{[n]:r}=i,t=od(i,[ad(n)]);return xe(ue({},e),{entities:t,ids:e.ids.filter(a=>a!==n),loading:!1,error:null})}),je(yh,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Ch,e=>xe(ue({},e),{loading:!0,error:null})),je(wh,(e,{account:n})=>xe(ue({},e),{entities:xe(ue({},e.entities),{[n.accountId]:n}),ids:e.ids.includes(n.accountId)?e.ids:[...e.ids,n.accountId],selectedAccountId:n.accountId,loading:!1,error:null})),je(Hu,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Es,e=>xe(ue({},e),{loading:!0,error:null})),je(Sh,(e,{accountId:n,newBalance:r})=>{let t=e.entities[n];return t?xe(ue({},e),{entities:xe(ue({},e.entities),{[n]:xe(ue({},t),{balance:r,updatedAt:new Date})}),loading:!1,error:null}):e}),je(Mh,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(kh,e=>xe(ue({},e),{loading:!0,error:null})),je(Ph,e=>xe(ue({},e),{loading:!1,error:null})),je(Eh,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(vd,e=>xe(ue({},e),{loading:!0,error:null})),je(Vy,e=>xe(ue({},e),{loading:!1,error:null})),je(Th,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(By,()=>vb));var TO={budgets:[],loading:!1,error:null};var OO=io(TO,je(es,e=>xe(ue({},e),{loading:!0,error:null})),je(ap,(e,{budgets:n})=>xe(ue({},e),{budgets:n,loading:!1,error:null})),je(op,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Od,e=>xe(ue({},e),{loading:!0,error:null})),je(sp,(e,{budget:n})=>xe(ue({},e),{budgets:[...e.budgets,n],loading:!1,error:null})),je(cp,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(lp,e=>xe(ue({},e),{loading:!0,error:null})),je(dp,(e,{budget:n})=>xe(ue({},e),{budgets:e.budgets.map(r=>r.budgetId===n.budgetId?n:r),loading:!1,error:null})),je(up,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Id,e=>xe(ue({},e),{loading:!0,error:null})),je(mp,(e,{budgetId:n})=>xe(ue({},e),{budgets:e.budgets.filter(r=>r.budgetId!==n),loading:!1,error:null})),je(hp,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Ad,e=>xe(ue({},e),{loading:!0,error:null})),je(pp,(e,{budget:n})=>xe(ue({},e),{budgets:e.budgets.map(r=>r.budgetId===n.budgetId?n:r),loading:!1,error:null})),je(fp,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})));var IO={goals:[],loading:!1,error:null};var AO=io(IO,je(ts,e=>xe(ue({},e),{loading:!0,error:null})),je(gp,(e,{goals:n})=>xe(ue({},e),{goals:n,loading:!1,error:null})),je(_p,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Dd,e=>xe(ue({},e),{loading:!0,error:null})),je(xp,(e,{goal:n})=>xe(ue({},e),{goals:[...e.goals,n],loading:!1,error:null})),je(vp,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(bp,e=>xe(ue({},e),{loading:!0,error:null})),je(yp,(e,{goal:n})=>xe(ue({},e),{goals:e.goals.map(r=>r.goalId===n.goalId?n:r),loading:!1,error:null})),je(Cp,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Fd,e=>xe(ue({},e),{loading:!0,error:null})),je(wp,(e,{goalId:n})=>xe(ue({},e),{goals:e.goals.filter(r=>r.goalId!==n),loading:!1,error:null})),je(Sp,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Rd,e=>xe(ue({},e),{loading:!0,error:null})),je(Mp,(e,{goal:n})=>xe(ue({},e),{goals:e.goals.map(r=>r.goalId===n.goalId?n:r),loading:!1,error:null})),je(kp,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})));var DO={profile:null,loading:!1,error:null};var FO=io(DO,je(ns,e=>xe(ue({},e),{loading:!0,error:null})),je(Pp,(e,{profile:n})=>xe(ue({},e),{profile:n,loading:!1,error:null})),je(Ep,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Nd,e=>xe(ue({},e),{loading:!0,error:null})),je(Tp,(e,{profile:n})=>xe(ue({},e),{profile:n,loading:!1,error:null})),je(Op,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Ip,e=>xe(ue({},e),{loading:!0,error:null})),je(Ap,(e,{profile:n})=>xe(ue({},e),{profile:n,loading:!1,error:null})),je(Dp,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Fp,e=>xe(ue({},e),{loading:!0,error:null})),je(Rp,e=>xe(ue({},e),{profile:null,loading:!1,error:null})),je(Np,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})),je(Lp,e=>xe(ue({},e),{loading:!0,error:null})),je(Vp,(e,{profile:n})=>xe(ue({},e),{profile:n,loading:!1,error:null})),je(Bp,(e,{error:n})=>xe(ue({},e),{loading:!1,error:n})));var Gg=(()=>{let n=class n{constructor(t,i){this.firestore=t,this.auth=i}createAccount(t,i){return new In(a=>{let o=this.generateAccountId(),s=xe(ue({accountId:o,userId:t},i),{createdAt:new Date,isActive:!0}),d=pn(this.firestore,`users/${t}/accounts/${o}`);pc(d,s).then(()=>{a.next(o),a.complete()}).catch(m=>{a.error(m)})})}getAccounts(t){let i=ao(this.firestore,`users/${t}/accounts`);return new In(a=>{hc(i).then(o=>{let s=[];o.forEach(d=>{s.push(d.data())}),a.next(s)})})}getAccount(t,i){return new In(a=>{let o=pn(this.firestore,`users/${t}/accounts/${i}`);ir(o).then(s=>{s.exists()?a.next(s.data()):a.next(void 0),a.complete()}).catch(s=>{a.error(s)})})}updateAccount(t,i,a){return new In(o=>{let s=pn(this.firestore,`users/${t}/accounts/${i}`),d=xe(ue({},a),{updatedAt:new Date});Nr(s,d).then(()=>{o.next(),o.complete()}).catch(m=>{o.error(m)})})}deleteAccount(t,i){return new In(a=>{let o=pn(this.firestore,`users/${t}/accounts/${i}`);oo(o).then(()=>{a.next(),a.complete()}).catch(s=>{a.error(s)})})}updateAccountBalanceForTransaction(t,i,a,o,s){return new In(d=>{ge(this,null,function*(){try{let f=pn(this.firestore,`users/${t}/accounts/${i}`),_=yield ir(f);if(!_.exists()){d.error("Account not found");return}let v=_.data(),w=0;switch(a){case"create":s&&(w=s.type==="income"?s.amount:-s.amount);break;case"update":if(o&&s){let b=o.type==="income"?o.amount:-o.amount;w=(s.type==="income"?s.amount:-s.amount)-b}break;case"delete":o&&(w=o.type==="income"?-o.amount:o.amount);break}let C=(v.balance||0)+w;yield Nr(f,{balance:C,updatedAt:new Date}),d.next(C),d.complete()}catch(f){d.error(f)}})})}updateAccountBalanceForTransactions(t,i){return new In(a=>{ge(this,null,function*(){try{let s=$u(this.firestore),d=new Map;i.forEach(m=>{let f=d.get(m.accountId)||0,_=m.type==="income"?m.amount:-m.amount;d.set(m.accountId,f+_)});for(let[m,f]of d){let _=pn(this.firestore,`users/${t}/accounts/${m}`),v=yield ir(_);if(v.exists()){let C=(v.data().balance||0)+f;s.update(_,{balance:C,updatedAt:new Date})}}yield s.commit(),a.next(),a.complete()}catch(s){a.error(s)}})})}updateAccountBalanceForAccountTransfer(t,i,a,o){return new In(s=>{ge(this,null,function*(){try{let m=$u(this.firestore),f=pn(this.firestore,`users/${t}/accounts/${i}`),_=pn(this.firestore,`users/${t}/accounts/${a}`),[v,w]=yield Promise.all([ir(f),ir(_)]);if(!v.exists()||!w.exists()){s.error("One or both accounts not found");return}let C=v.data(),b=w.data(),O=o.type==="income"?o.amount:-o.amount,L=(C.balance||0)-O;m.update(f,{balance:L,updatedAt:new Date});let N=(b.balance||0)+O;m.update(_,{balance:N,updatedAt:new Date}),yield m.commit(),s.next(),s.complete()}catch(m){s.error(m)}})})}generateAccountId(){return"acc_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}};n.\u0275fac=function(i){return new(i||n)(Ne(ro),Ne(Ut))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var NO=(()=>{let n=class n{constructor(t,i,a,o,s,d){this.firestore=t,this.auth=i,this.offlineService=a,this.dateService=o,this.store=s,this.accountsService=d,this.offlineQueue=[],this.transactionsSubject=new Jt([]),this.isOnline=!0,this.initializeOfflineHandling()}initializeOfflineHandling(){this.offlineService.isOnline$.subscribe(t=>{this.isOnline=t,t&&this.processOfflineQueue()}),this.loadOfflineQueue()}loadOfflineQueue(){return ge(this,null,function*(){try{let t=yield this.offlineService.getCachedData("offline-queue");t&&(this.offlineQueue=t)}catch(t){console.error("Failed to load offline queue:",t)}})}saveOfflineQueue(){return ge(this,null,function*(){try{yield this.offlineService.cacheData("offline-queue",this.offlineQueue)}catch(t){console.error("Failed to save offline queue:",t)}})}addToOfflineQueue(t){return ge(this,null,function*(){let i=xe(ue({},t),{id:this.generateId(),timestamp:Date.now(),retryCount:0});this.offlineQueue.push(i),yield this.saveOfflineQueue()})}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}processOfflineQueue(){return ge(this,null,function*(){var o,s;if(this.offlineQueue.length===0)return;let t=$u(this.firestore),i=[],a=[];for(let d of this.offlineQueue)try{let m=(o=this.auth.currentUser)==null?void 0:o.uid;if(!m)continue;switch(d.type){case"create":let f=ao(this.firestore,`users/${m}/transactions`),_=pn(f);t.set(_,d.data),d.data.accountId&&a.push({userId:m,accountId:d.data.accountId,transactionType:"create",newTransaction:d.data});break;case"update":let v=pn(this.firestore,`users/${m}/transactions/${d.data.id}`);t.update(v,d.data);break;case"delete":let w=pn(this.firestore,`users/${m}/transactions/${d.data.id}`);t.delete(w),d.data.accountId&&a.push({userId:m,accountId:d.data.accountId,transactionType:"delete",oldTransaction:d.data});break}i.push(d.id)}catch(m){console.error(`Failed to process offline operation ${d.id}:`,m),d.retryCount++,d.retryCount>=3&&i.push(d.id)}if(i.length>0)try{yield t.commit();for(let d of a)this.store.dispatch(Es(d));for(let d of this.offlineQueue)d.type==="update"&&i.includes(d.id)&&((s=this.auth.currentUser)!=null&&s.uid)&&d.data.accountId;this.offlineQueue=this.offlineQueue.filter(d=>!i.includes(d.id)),yield this.saveOfflineQueue(),console.log(`\u2705 Processed ${i.length} offline operations`)}catch(d){console.error("Failed to commit offline operations:",d)}})}createTransaction(t,i){return new In(a=>{let o=xe(ue({},i),{date:this.dateService.toDate(i.date),syncStatus:"synced"});ge(this,null,function*(){try{if(this.isOnline)try{let d=ao(this.firestore,`users/${t}/transactions`);yield Uh(d,o),i.categoryId&&this.store.dispatch(Nh({userId:t,categoryId:i.categoryId,budgetSpent:i.amount})),this.store.dispatch(Es({userId:t,accountId:i.accountId,transactionType:"create",newTransaction:o})),a.next(),a.complete()}catch(d){console.error("Failed to create transaction online:",d),yield this.addToOfflineQueue({type:"create",data:xe(ue({},o),{syncStatus:"pending"})});let m=this.transactionsSubject.value,f=xe(ue({},o),{id:this.generateId(),isPending:!0,syncStatus:fc.PENDING,createdAt:new Date,updatedAt:new Date,createdBy:t,updatedBy:t,lastSyncedAt:new Date,nextOccurrence:new Date,recurringInterval:Os.DAILY,recurringEndDate:new Date,isRecurring:!1,date:o.date||new Date});this.transactionsSubject.next([...m,f]),a.next(),a.complete()}else{yield this.addToOfflineQueue({type:"create",data:xe(ue({},o),{syncStatus:"pending"})});let d=this.transactionsSubject.value,m=xe(ue({},o),{id:this.generateId(),isPending:!0,syncStatus:fc.PENDING,createdAt:new Date,updatedAt:new Date,createdBy:t,updatedBy:t,lastSyncedAt:new Date,nextOccurrence:new Date,recurringInterval:Os.DAILY,recurringEndDate:new Date,isRecurring:!1,date:o.date||new Date});this.transactionsSubject.next([...d,m]),a.next(),a.complete()}}catch(d){console.error("Error in createTransaction:",d),a.error(d)}})})}getTransactions(t){let i=ao(this.firestore,`users/${t}/transactions`);return new In(a=>{let o=dC(i,s=>{let d=[];s.forEach(_=>{let v=ue({id:_.id},_.data());d.push(v)});let m=this.transactionsSubject.value.filter(_=>_.isPending),f=[...d,...m];this.transactionsSubject.next(f),a.next(f)},s=>{console.error("Failed to fetch transactions:",s),a.next(this.transactionsSubject.value)});return()=>o()})}getTransaction(t,i){return new In(a=>{ge(this,null,function*(){try{let s=pn(this.firestore,`users/${t}/transactions/${i}`),d=yield ir(s);if(d.exists()){let m=ue({id:d.id},d.data());a.next(m)}else a.next(void 0);a.complete()}catch(s){a.error(s)}})})}updateTransaction(t,i,a){return new In(o=>{let s=xe(ue({},a),{syncStatus:"synced"});ge(this,null,function*(){try{let m;try{let f=pn(this.firestore,`users/${t}/transactions/${i}`),_=yield ir(f);_.exists()&&(m=ue({id:_.id},_.data()))}catch(f){console.warn("Could not fetch original transaction for balance update:",f)}if(this.isOnline)try{let f=pn(this.firestore,`users/${t}/transactions/${i}`);if(yield Nr(f,s),m){let _=ue(ue({},m),s);a.accountId&&a.accountId!==m.accountId?this.store.dispatch(vd({userId:t,oldAccountId:m.accountId,newAccountId:a.accountId,transaction:_})):(a.amount!==void 0||a.type!==void 0)&&this.store.dispatch(Es({userId:t,accountId:m.accountId,transactionType:"update",oldTransaction:m,newTransaction:_}))}}catch(f){console.error("Failed to update transaction online:",f),yield this.addToOfflineQueue({type:"update",data:ue({id:i},s)})}else{yield this.addToOfflineQueue({type:"update",data:xe(ue({id:i},s),{syncStatus:"pending"})});let _=this.transactionsSubject.value.map(v=>v.id===i?xe(ue(ue({},v),s),{isPending:!0,syncStatus:fc.PENDING,lastSyncedAt:new Date,nextOccurrence:new Date,recurringInterval:Os.DAILY,recurringEndDate:new Date}):v);this.transactionsSubject.next(_)}o.next(),o.complete()}catch(m){o.error(m)}})})}deleteTransaction(t,i){return new In(a=>{ge(this,null,function*(){try{let s;try{let d=pn(this.firestore,`users/${t}/transactions/${i}`),m=yield ir(d);m.exists()&&(s=ue({id:m.id},m.data()))}catch(d){console.warn("Could not fetch transaction for balance update:",d)}if(this.isOnline)try{let d=pn(this.firestore,`users/${t}/transactions/${i}`);yield oo(d),s&&this.store.dispatch(Es({userId:t,accountId:s.accountId,transactionType:"delete",oldTransaction:s}))}catch(d){console.error("Failed to delete transaction online:",d),yield this.addToOfflineQueue({type:"delete",data:{id:i}})}else{yield this.addToOfflineQueue({type:"delete",data:{id:i}});let m=this.transactionsSubject.value.filter(f=>f.id!==i);this.transactionsSubject.next(m)}a.next(),a.complete()}catch(s){a.error(s)}})})}getOfflineQueueStatus(){return{count:this.offlineQueue.length,hasPendingOperations:this.offlineQueue.length>0}}forceSync(){return ge(this,null,function*(){this.isOnline&&(yield this.processOfflineQueue())})}};n.\u0275fac=function(i){return new(i||n)(Ne(ro),Ne(Ut),Ne(as),Ne(Mn),Ne(qt),Ne(Gg))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var LO=(()=>{let n=class n{constructor(t,i){this.actions$=t,this.transactionsService=i,this.loadTransactions$=vn(()=>this.actions$.pipe(bn(gr),en(({userId:a})=>this.transactionsService.getTransactions(a).pipe(at(o=>jp({transactions:o})),Qt(o=>ht(Up({error:o}))))))),this.createTransaction$=vn(()=>this.actions$.pipe(bn(Sc),en(({userId:a,transaction:o})=>this.transactionsService.createTransaction(a,o).pipe(at(()=>gr({userId:a})),Qt(s=>ht(zp({error:s}))))))),this.updateTransaction$=vn(()=>this.actions$.pipe(bn(Mc),en(({userId:a,transactionId:o,transaction:s})=>this.transactionsService.updateTransaction(a,o,s).pipe(at(()=>gr({userId:a})),Qt(d=>ht(Hp({error:d}))))))),this.deleteTransaction$=vn(()=>this.actions$.pipe(bn(Ld),en(({userId:a,transactionId:o})=>this.transactionsService.deleteTransaction(a,o).pipe(at(()=>Gp({transactionId:o})),Qt(s=>ht($p({error:s}))))))),this.getTransaction$=vn(()=>this.actions$.pipe(bn(Wp),en(({userId:a,transactionId:o})=>this.transactionsService.getTransaction(a,o).pipe(at(s=>s?Yp({transaction:s}):Ku({error:"Transaction not found"})),Qt(s=>ht(Ku({error:s})))))))}};n.\u0275fac=function(i){return new(i||n)(Ne(wo),Ne(NO))},n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})();var VO=(()=>{let n=class n{constructor(t,i){this.actions$=t,this.categoryService=i,this.loadCategories$=vn(()=>this.actions$.pipe(bn(Sa),en(({userId:a})=>this.categoryService.getCategories(a).pipe(at(o=>Oh({categories:o})),Qt(o=>ht(Ih({error:o}))))))),this.createCategory$=vn(()=>this.actions$.pipe(bn(uc),en(({userId:a,name:o,categoryType:s,icon:d,color:m})=>this.categoryService.createCategory(a,o,s,d,m).pipe(at(()=>Sa({userId:a})),Qt(f=>ht(Ah({error:f}))))))),this.updateCategory$=vn(()=>this.actions$.pipe(bn(Ts),en(({userId:a,categoryId:o,name:s,categoryType:d,icon:m,color:f,budgetData:_})=>this.categoryService.updateCategory(a,o,s,d,m,f,_).pipe(at(()=>Sa({userId:a})),Qt(v=>ht(Dh({error:v}))))))),this.deleteCategory$=vn(()=>this.actions$.pipe(bn(bd),en(({userId:a,categoryId:o})=>this.categoryService.deleteCategory(a,o).pipe(at(()=>Fh({categoryId:o})),Qt(s=>ht(Rh({error:s}))))))),this.updateBudgetSpent$=vn(()=>this.actions$.pipe(bn(Nh),en(({userId:a,categoryId:o,budgetSpent:s})=>this.categoryService.updateBudgetSpent(a,o,s).pipe(at(()=>zy({categoryId:o,budgetSpent:s})),Qt(d=>ht(Hy({error:d})))))))}};n.\u0275fac=function(i){return new(i||n)(Ne(wo),Ne(Mg))},n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})();var BO=(()=>{let n=class n{constructor(t,i){this.actions$=t,this.accountsService=i,this.loadAccounts$=vn(()=>this.actions$.pipe(bn(wa),en(({userId:a})=>this.accountsService.getAccounts(a).pipe(at(o=>gh({accounts:o})),Qt(o=>ht(_h({error:o}))))))),this.createAccount$=vn(()=>this.actions$.pipe(bn(lc),en(({userId:a,accountData:o})=>this.accountsService.createAccount(a,o).pipe(at(s=>wa({userId:a})),Qt(s=>ht(xh({error:s}))))))),this.updateAccount$=vn(()=>this.actions$.pipe(bn(dc),en(({userId:a,accountId:o,accountData:s})=>this.accountsService.updateAccount(a,o,s).pipe(at(()=>wa({userId:a})),Qt(d=>ht(vh({error:d}))))))),this.deleteAccount$=vn(()=>this.actions$.pipe(bn(xd),en(({userId:a,accountId:o})=>this.accountsService.deleteAccount(a,o).pipe(at(()=>bh({accountId:o})),Qt(s=>ht(yh({error:s}))))))),this.getAccount$=vn(()=>this.actions$.pipe(bn(Ch),en(({userId:a,accountId:o})=>this.accountsService.getAccount(a,o).pipe(at(s=>s?wh({account:s}):Hu({error:"Account not found"})),Qt(s=>ht(Hu({error:s}))))))),this.updateAccountBalanceForTransaction$=vn(()=>this.actions$.pipe(bn(Es),en(({userId:a,accountId:o,transactionType:s,oldTransaction:d,newTransaction:m})=>this.accountsService.updateAccountBalanceForTransaction(a,o,s,d,m).pipe(at(f=>Sh({accountId:o,newBalance:f})),Qt(f=>ht(Mh({error:f}))))))),this.updateAccountBalanceForTransactions$=vn(()=>this.actions$.pipe(bn(kh),en(({userId:a,transactions:o})=>this.accountsService.updateAccountBalanceForTransactions(a,o).pipe(at(()=>Ph()),Qt(s=>ht(Eh({error:s}))))))),this.updateAccountBalanceForAccountTransfer$=vn(()=>this.actions$.pipe(bn(vd),en(({userId:a,oldAccountId:o,newAccountId:s,transaction:d})=>this.accountsService.updateAccountBalanceForAccountTransfer(a,o,s,d).pipe(at(()=>wa({userId:a})),Qt(m=>ht(Th({error:m})))))))}};n.\u0275fac=function(i){return new(i||n)(Ne(wo),Ne(Gg))},n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})();var jO=(()=>{let n=class n{constructor(t,i,a){this.firestore=t,this.auth=i,this.dateService=a}createBudget(t,i){return ge(this,null,function*(){let a=pn(this.firestore,`users/${t}/budgets/${i.budgetId}`);yield pc(a,xe(ue({},i),{startDate:this.dateService.toTimestamp(i.startDate),endDate:this.dateService.toTimestamp(i.endDate),spent:0}))})}getBudgets(t){let i=ao(this.firestore,`users/${t}/budgets`);return new In(a=>{hc(i).then(o=>{let s=[];o.forEach(d=>{s.push(d.data())}),a.next(s)})})}getBudget(t,i){return ge(this,null,function*(){let a=pn(this.firestore,`users/${t}/budgets/${i}`),o=yield ir(a);if(o.exists())return o.data()})}updateBudget(t,i,a){return ge(this,null,function*(){let o=pn(this.firestore,`users/${t}/budgets/${i}`);yield Nr(o,a)})}deleteBudget(t,i){return ge(this,null,function*(){let a=pn(this.firestore,`users/${t}/budgets/${i}`);yield oo(a)})}updateSpent(t,i,a){return ge(this,null,function*(){var d;let o=pn(this.firestore,`users/${t}/budgets/${i}`),s=yield ir(o);if(s.exists()){let f=(((d=s.data())==null?void 0:d.spent)||0)+a;yield Nr(o,{spent:f})}})}};n.\u0275fac=function(i){return new(i||n)(Ne(ro),Ne(Ut),Ne(Mn))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var UO=(()=>{let n=class n{constructor(t,i){this.actions$=t,this.budgetsService=i,this.loadBudgets$=vn(()=>this.actions$.pipe(bn(es),en(({userId:a})=>this.budgetsService.getBudgets(a).pipe(at(o=>ap({budgets:o})),Qt(o=>ht(op({error:o}))))))),this.createBudget$=vn(()=>this.actions$.pipe(bn(Od),en(({userId:a,budget:o})=>Fr(this.budgetsService.createBudget(a,o)).pipe(at(()=>sp({budget:o})),Qt(s=>ht(cp({error:s}))))))),this.updateBudget$=vn(()=>this.actions$.pipe(bn(lp),en(({userId:a,budgetId:o,budget:s})=>Fr(this.budgetsService.updateBudget(a,o,s)).pipe(at(()=>dp({budget:xe(ue({},s),{budgetId:o})})),Qt(d=>ht(up({error:d}))))))),this.deleteBudget$=vn(()=>this.actions$.pipe(bn(Id),en(({userId:a,budgetId:o})=>Fr(this.budgetsService.deleteBudget(a,o)).pipe(at(()=>mp({budgetId:o})),Qt(s=>ht(hp({error:s}))))))),this.updateSpent$=vn(()=>this.actions$.pipe(bn(Ad),en(({userId:a,budgetId:o,amount:s})=>Fr(this.budgetsService.updateSpent(a,o,s)).pipe(at(()=>pp({budget:{budgetId:o,spent:s}})),Qt(d=>ht(fp({error:d})))))))}};n.\u0275fac=function(i){return new(i||n)(Ne(wo),Ne(jO))},n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})();var zO=(()=>{let n=class n{constructor(t,i,a){this.firestore=t,this.auth=i,this.dateService=a}createGoal(t,i){return ge(this,null,function*(){let a=pn(this.firestore,`users/${t}/goals/${i.goalId}`);yield pc(a,xe(ue({},i),{deadline:this.dateService.toTimestamp(i.deadline),currentAmount:0}))})}getGoals(t){let i=ao(this.firestore,`users/${t}/goals`);return new In(a=>{hc(i).then(o=>{let s=[];o.forEach(d=>{s.push(d.data())}),a.next(s)})})}getGoal(t,i){return ge(this,null,function*(){let a=pn(this.firestore,`users/${t}/goals/${i}`),o=yield ir(a);if(o.exists())return o.data()})}updateGoal(t,i,a){return ge(this,null,function*(){let o=pn(this.firestore,`users/${t}/goals/${i}`);yield Nr(o,a)})}deleteGoal(t,i){return ge(this,null,function*(){let a=pn(this.firestore,`users/${t}/goals/${i}`);yield oo(a)})}updateCurrentAmount(t,i,a){return ge(this,null,function*(){var d;let o=pn(this.firestore,`users/${t}/goals/${i}`),s=yield ir(o);if(s.exists()){let f=(((d=s.data())==null?void 0:d.currentAmount)||0)+a;yield Nr(o,{currentAmount:f})}})}};n.\u0275fac=function(i){return new(i||n)(Ne(ro),Ne(Ut),Ne(Mn))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var HO=(()=>{let n=class n{constructor(t,i){this.actions$=t,this.goalsService=i,this.loadGoals$=vn(()=>this.actions$.pipe(bn(ts),en(({userId:a})=>this.goalsService.getGoals(a).pipe(at(o=>gp({goals:o})),Qt(o=>ht(_p({error:o}))))))),this.createGoal$=vn(()=>this.actions$.pipe(bn(Dd),en(({userId:a,goal:o})=>Fr(this.goalsService.createGoal(a,o)).pipe(at(()=>xp({goal:o})),Qt(s=>ht(vp({error:s}))))))),this.updateGoal$=vn(()=>this.actions$.pipe(bn(bp),en(({userId:a,goalId:o,goal:s})=>Fr(this.goalsService.updateGoal(a,o,s)).pipe(at(()=>yp({goal:xe(ue({},s),{goalId:o})})),Qt(d=>ht(Cp({error:d}))))))),this.deleteGoal$=vn(()=>this.actions$.pipe(bn(Fd),en(({userId:a,goalId:o})=>Fr(this.goalsService.deleteGoal(a,o)).pipe(at(()=>wp({goalId:o})),Qt(s=>ht(Sp({error:s}))))))),this.updateCurrentAmount$=vn(()=>this.actions$.pipe(bn(Rd),en(({userId:a,goalId:o,amount:s})=>Fr(this.goalsService.updateCurrentAmount(a,o,s)).pipe(at(()=>Mp({goal:{goalId:o,currentAmount:s}})),Qt(d=>ht(kp({error:d})))))))}};n.\u0275fac=function(i){return new(i||n)(Ne(wo),Ne(zO))},n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})();var GO=(()=>{let n=class n{constructor(t,i){this.actions$=t,this.userService=i,this.loadProfile$=vn(()=>this.actions$.pipe(bn(ns),en(({userId:a})=>Fr(this.userService.getCurrentUser()).pipe(at(o=>{if(o)return Pp({profile:o});throw new Error("Profile not found")}),Qt(o=>ht(Ep({error:o}))))))),this.updateProfile$=vn(()=>this.actions$.pipe(bn(Nd),en(({userId:a,profile:o})=>Fr(this.userService.createOrUpdateUser(o)).pipe(at(()=>Tp({profile:o})),Qt(s=>ht(Op({error:s}))))))),this.createProfile$=vn(()=>this.actions$.pipe(bn(Ip),en(({userId:a,profile:o})=>Fr(this.userService.createOrUpdateUser(o)).pipe(at(()=>Ap({profile:o})),Qt(s=>ht(Dp({error:s}))))))),this.deleteProfile$=vn(()=>this.actions$.pipe(bn(Fp),en(({userId:a})=>Fr(this.userService.signOut()).pipe(at(()=>Rp()),Qt(o=>ht(Np({error:o}))))))),this.updatePreferences$=vn(()=>this.actions$.pipe(bn(Lp),en(({userId:a,preferences:o})=>Fr(this.userService.getCurrentUser()).pipe(en(s=>{if(s){let d=xe(ue({},s),{preferences:o});return Fr(this.userService.createOrUpdateUser(d))}else throw new Error("User not found")}),at(()=>Vp({profile:{preferences:o}})),Qt(s=>ht(Bp({error:s})))))))}};n.\u0275fac=function(i){return new(i||n)(Ne(wo),Ne(rr))},n.\u0275prov=it({token:n,factory:n.\u0275fac});let e=n;return e})();var $O=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Vt({imports:[Ry.forRoot({transactions:kO,categories:PO,accounts:EO,budgets:OO,goals:AO,profile:FO}),nO.forRoot([LO,VO,BO,UO,HO,GO]),MO.instrument({maxAge:25,logOnly:Yc.production})]});let e=n;return e})();function WO(e,n){let r=cn(Sn),t=cn(rr),i=cn(At),a=MZ(e),o=kZ(a,t);return n(o).pipe(ny(1),Qt(s=>PZ(s,e,r,t,i)))}function MZ(e){let n={"X-Content-Type-Options":"nosniff","X-Frame-Options":"DENY","X-XSS-Protection":"1; mode=block","Referrer-Policy":"strict-origin-when-cross-origin","Permissions-Policy":"geolocation=(), microphone=(), camera=()","Strict-Transport-Security":"max-age=31536000; includeSubDomains","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"};return e.clone({setHeaders:n})}function kZ(e,n){let r=n.getUser();return r&&r.getIdToken?e.clone({setHeaders:{Authorization:`Bearer ${r.uid}`}}):e}function PZ(e,n,r,t,i){switch(console.error("Security interceptor error:",e),e.status){case 401:EZ(r,t,i);break;case 403:TZ(i);break;case 429:OZ(i);break;case 500:IZ(i);break;default:AZ(e,i)}return G0(()=>e)}function EZ(e,n,r){var t;console.warn("Unauthorized request detected"),d0("UNAUTHORIZED_REQUEST",{url:((t=window==null?void 0:window.location)==null?void 0:t.href)||"",timestamp:new Date().toISOString()}),n.forceLogout("Unauthorized request detected"),r.error("Session expired. Please log in again."),e.navigate(["/landing"],{queryParams:{error:"unauthorized",redirect:e.url}})}function TZ(e){var n;console.warn("Forbidden request detected"),d0("FORBIDDEN_REQUEST",{url:((n=window==null?void 0:window.location)==null?void 0:n.href)||"",timestamp:new Date().toISOString()}),e.error("Access denied. You do not have permission to perform this action.")}function OZ(e){var n;console.warn("Rate limit exceeded"),d0("RATE_LIMIT_EXCEEDED",{url:((n=window==null?void 0:window.location)==null?void 0:n.href)||"",timestamp:new Date().toISOString()}),e.warning("Too many requests. Please wait a moment before trying again.")}function IZ(e){var n;console.error("Server error detected"),d0("SERVER_ERROR",{url:((n=window==null?void 0:window.location)==null?void 0:n.href)||"",timestamp:new Date().toISOString()}),e.error("Server error. Please try again later.")}function AZ(e,n){var r;console.error("Generic HTTP error:",e),d0("HTTP_ERROR",{status:e.status,statusText:e.statusText,url:e.url||((r=window==null?void 0:window.location)==null?void 0:r.href)||"",timestamp:new Date().toISOString()}),e.status>=500?n.error("Server error. Please try again later."):e.status>=400&&n.error("Request failed. Please check your input and try again.")}function d0(e,n){var t;let r={type:e,data:n,userAgent:navigator.userAgent,timestamp:new Date().toISOString(),url:((t=window==null?void 0:window.location)==null?void 0:t.href)||""};console.log("Security Event:",r)}var YO=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Bt({type:n,bootstrap:[DT]}),n.\u0275inj=Vt({providers:[FT(),xy(vy([WO])),xg,Cy(),nC(()=>iC(Yc.firebaseConfig)),aC(()=>{let t=oC();return t.setPersistence(rC).then(()=>console.log("\u2705 Auth persistence enabled")).catch(i=>console.warn("\u26A0\uFE0F Auth persistence error:",i.message)),t}),sC(()=>{let t=lC();return cC(t).then(()=>{console.log("\u2705 Firestore offline persistence enabled")}).catch(i=>{i.code==="failed-precondition"?console.warn("\u26A0\uFE0F Multiple tabs detected. Persistence disabled to avoid conflicts."):i.code==="unimplemented"&&console.warn("\u26A0\uFE0F IndexedDB persistence not supported. Falling back to cache.")}),t}),CT(()=>{let t=Rg();return console.log("\u2705 Firebase Cloud Messaging initialized"),t})],imports:[oh,ET,LT,Py,Ey,rw,VT,GC,$h,BT,j1,TC,T2,ZC,JC,jT,nM,SE,ow,mS,xE,iw,qC,tw,j1,sw,$C,YC,F2,UT,Q2,zT,FS.forRoot({echarts:()=>import("./chunk-BDRRPAEY.js")}),$O,tS.register("ngsw-worker.js",{enabled:!_y(),registrationStrategy:"registerImmediately",scope:"./"}),zu]});let e=n;return e})();function DZ(){if(typeof window>"u")return;let e;window.addEventListener("beforeinstallprompt",n=>{n.preventDefault(),e=n,console.log("PWA install prompt ready")}),window.addEventListener("appinstalled",()=>{console.log("PWA installed successfully"),e=null}),window.addEventListener("popstate",n=>{console.log("Navigation event:",n)}),document.addEventListener("visibilitychange",()=>{document.hidden?console.log("App went to background"):console.log("App came to foreground")}),window.addEventListener("beforeunload",n=>{let r={timestamp:Date.now(),url:window.location.href,scrollPosition:window.scrollY};try{localStorage.setItem("app-state",JSON.stringify(r))}catch(t){console.warn("Failed to save app state:",t)}})}function FZ(){if(typeof window>"u")return;if(typeof navigator<"u"&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){let n=new Date,r=Math.ceil(n.getDate()/7),t=n.getMonth()+1,a=`${n.getFullYear()}-${t.toString().padStart(2,"0")}-W${r}`,o=localStorage.getItem("app-version");o&&o!==a?(console.log("App version changed on mobile, performing smart cache update"),RZ(o,a)):localStorage.setItem("app-version",a)}}function RZ(e,n){return ge(this,null,function*(){if(!(typeof window>"u"))try{console.log(`Performing smart cache update from ${e} to ${n}`);let r=NZ();yield VZ(),LZ(r),localStorage.setItem("app-version",n),console.log("Smart cache update completed successfully")}catch(r){console.error("Smart cache update failed:",r)}})}function NZ(){if(typeof window>"u")return{};let e={};return localStorage.getItem("firebase:authUser:")&&Object.keys(localStorage).filter(t=>t.startsWith("firebase:authUser:")||t.startsWith("firebase:persistence:")).forEach(t=>{e[t]=localStorage.getItem(t)}),["theme","language","user-settings"].forEach(r=>{let t=localStorage.getItem(r);t&&(e[r]=t)}),e}function LZ(e){typeof window>"u"||Object.keys(e).forEach(n=>{localStorage.setItem(n,e[n])})}function VZ(){return ge(this,null,function*(){if(!(typeof window>"u"))try{if("caches"in window){let r=(yield caches.keys()).filter(t=>!t.includes("firebase")&&!t.includes("auth")&&!t.includes("user"));yield Promise.all(r.map(t=>caches.delete(t)))}Object.keys(localStorage).filter(n=>!n.startsWith("firebase:")&&!n.startsWith("user")&&!n.startsWith("theme")&&!n.startsWith("language")&&n!=="app-version").forEach(n=>localStorage.removeItem(n)),console.log("Application caches cleared successfully")}catch(e){throw console.error("Failed to clear application caches:",e),e}})}DZ();FZ();by().bootstrapModule(YO,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
